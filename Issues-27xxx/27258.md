# Issue 27258: spkg-configure.m4 for mpfr

archive/issues_027021.json:
```json
{
    "assignees": [],
    "body": "recognise system's mpfr version via `mpfr_free_pool` presence, generate `SAGE_MPFR_PREFIX` to be used with `--with-mpfr=` options.\n\nthe branch to be merged as a part of #27822\n\nDepends on #27641\n\nCC:  @embray @kiwifb\n\nKeywords: **spkg-configure mpfr**\n\nBranch: **[0329fd9](https://github.com/sagemath/sagetrac-mirror/commit/0329fd951a75cdf6f35c4681615b3aa914897bcf)**\n\nReviewer: **Erik Bray, Dima Pasechnik**\n\nAuthor: **Dima Pasechnik, Erik Bray**\n\nComponent: **build: configure**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/27258_\n\n",
    "closed_at": "2019-06-28T10:05:34Z",
    "created_at": "2019-02-12T09:55:35Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build%3A%20configure",
        "https://github.com/sagemath/sage/labels/duplicate",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "spkg-configure.m4 for mpfr",
    "type": "issue",
    "updated_at": "2019-06-28T10:05:34Z",
    "url": "https://github.com/sagemath/sage/issues/27258",
    "user": "https://github.com/dimpase"
}
```
recognise system's mpfr version via `mpfr_free_pool` presence, generate `SAGE_MPFR_PREFIX` to be used with `--with-mpfr=` options.

the branch to be merged as a part of #27822

Depends on #27641

CC:  @embray @kiwifb

Keywords: **spkg-configure mpfr**

Branch: **[0329fd9](https://github.com/sagemath/sagetrac-mirror/commit/0329fd951a75cdf6f35c4681615b3aa914897bcf)**

Reviewer: **Erik Bray, Dima Pasechnik**

Author: **Dima Pasechnik, Erik Bray**

Component: **build: configure**

_Issue created by migration from https://trac.sagemath.org/ticket/27258_





---

archive/issue_events_374459.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-02-12T09:55:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374459"
}
```



---

archive/issue_events_374460.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-02-12T09:55:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "000080",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374460"
}
```



---

archive/issue_events_374461.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-02-12T09:55:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374461"
}
```



---

archive/issue_events_374462.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-02-12T09:55:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374462"
}
```



---

archive/issue_comments_421040.json:
```json
{
    "body": "Changed keywords from none to **spkg-configure**",
    "created_at": "2019-02-12T09:55:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421040",
    "user": "https://github.com/dimpase"
}
```

Changed keywords from none to **spkg-configure**



---

archive/issue_comments_421041.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nTwo stupid questions (I don't think I'm good enough with autoconf to review this ticket, but I'd like to understand the mechanism):\n* Is there a particular reason for using `AC_SEARCH_LIBS` rather that `AC_CHECK_LIB` here?\n* What is the `break` instruction for? Will the generated code be part of a loop that tries several options or something like that? I couldn't locate the corresponding logic.",
    "created_at": "2019-02-12T14:23:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421041",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:2" align="right">comment:2</div>

Two stupid questions (I don't think I'm good enough with autoconf to review this ticket, but I'd like to understand the mechanism):
* Is there a particular reason for using `AC_SEARCH_LIBS` rather that `AC_CHECK_LIB` here?
* What is the `break` instruction for? Will the generated code be part of a loop that tries several options or something like that? I couldn't locate the corresponding logic.



---

archive/issue_comments_421042.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nfrom autoconf docs:\n\n```\nAC_CHECK_LIB requires some care in usage, and should be avoided in some common cases. Many standard functions like gethostbyname appear in the standard C library on some hosts, and in special libraries like nsl on other hosts. On some hosts the special libraries contain variant implementations that you may not want to use. These days it is normally better to use AC_SEARCH_LIBS([gethostbyname], [nsl]) instead of AC_CHECK_LIB([nsl], [gethostbyname]).\n```\nI guess Erik can comment better than me about the use of `break`.",
    "created_at": "2019-02-12T14:33:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421042",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:3" align="right">comment:3</div>

from autoconf docs:

```
AC_CHECK_LIB requires some care in usage, and should be avoided in some common cases. Many standard functions like gethostbyname appear in the standard C library on some hosts, and in special libraries like nsl on other hosts. On some hosts the special libraries contain variant implementations that you may not want to use. These days it is normally better to use AC_SEARCH_LIBS([gethostbyname], [nsl]) instead of AC_CHECK_LIB([nsl], [gethostbyname]).
```
I guess Erik can comment better than me about the use of `break`.



---

archive/issue_comments_421043.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@dimpase](#comment:3):\n> from autoconf docs:\n> \n> ```\n> AC_CHECK_LIB requires some care in usage, and should be avoided in some common cases. Many standard functions like gethostbyname appear in the standard C library on some hosts, and in special libraries like nsl on other hosts. On some hosts the special libraries contain variant implementations that you may not want to use. These days it is normally better to use AC_SEARCH_LIBS([gethostbyname], [nsl]) instead of AC_CHECK_LIB([nsl], [gethostbyname]).\n> ```\n\nThanks. But I think this is purely about the case where the same function can be found in several different libraries.",
    "created_at": "2019-02-12T14:35:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421043",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@dimpase](#comment:3):
> from autoconf docs:
> 
> ```
> AC_CHECK_LIB requires some care in usage, and should be avoided in some common cases. Many standard functions like gethostbyname appear in the standard C library on some hosts, and in special libraries like nsl on other hosts. On some hosts the special libraries contain variant implementations that you may not want to use. These days it is normally better to use AC_SEARCH_LIBS([gethostbyname], [nsl]) instead of AC_CHECK_LIB([nsl], [gethostbyname]).
> ```

Thanks. But I think this is purely about the case where the same function can be found in several different libraries.



---

archive/issue_comments_421044.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nmpfrcx's spkg-install hardcodes the location of mpfr to SAGE_LOCAL. So this will need to be fixed.",
    "created_at": "2019-02-25T23:38:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421044",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:5" align="right">comment:5</div>

mpfrcx's spkg-install hardcodes the location of mpfr to SAGE_LOCAL. So this will need to be fixed.



---

archive/issue_comments_421045.json:
```json
{
    "body": "Branch: **[u/dimpase/packages/mpfr-config](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/mpfr-config)**",
    "created_at": "2019-02-26T13:06:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421045",
    "user": "https://github.com/dimpase"
}
```

Branch: **[u/dimpase/packages/mpfr-config](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/mpfr-config)**



---

archive/issue_comments_421046.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4e42e6e7d76431a8d62a6e2133ce31b3ef43df0\">c4e42e6</a></td><td><code>spkg-configure for GMP</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b0700885b53fe3f0b862ca3000df069ceb7e2340\">b070088</a></td><td><code>Move all the --with-mp logic into the spkg-configure.m4 for MPIR so that it</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b6eebda8df1ae7fbc86f81c0fcf123989504447\">3b6eebd</a></td><td><code>Replace various --with-gmp=$SAGE_LOCAL flags in spkg-installs with a</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b80bf726f85843031b461348944c78a39dae453e\">b80bf72</a></td><td><code>Reworked this a bit more</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0ca3f5676d759bc658708f7f0986ceec569f3d51\">0ca3f56</a></td><td><code>fix typo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/06798ca585f1187bd8511a1ca530581028aab99e\">06798ca</a></td><td><code>added a bit more explanation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b592d77c204865c293ef473abb7a70ecbaf9e17b\">b592d77</a></td><td><code>correct logic for SAGE_GMP_PREFIX etc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5057680b1ff2829d1ed0558ef4042472c03c63ae\">5057680</a></td><td><code>add the AX_ABSOLUTE_HEADER macro</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/101537b93c3343a3e7a8554d8e82d8da36be5691\">101537b</a></td><td><code>iml in particular is very picky about being given an absolute path to the</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5e1a30bbbcc673061515fbc839690ae19aa7d1a8\">5e1a30b</a></td><td><code>spkg-configure for mpfr, adjustments for its dependees</code></td></tr></table>\n",
    "created_at": "2019-02-26T13:06:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421046",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:6"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4e42e6e7d76431a8d62a6e2133ce31b3ef43df0">c4e42e6</a></td><td><code>spkg-configure for GMP</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b0700885b53fe3f0b862ca3000df069ceb7e2340">b070088</a></td><td><code>Move all the --with-mp logic into the spkg-configure.m4 for MPIR so that it</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b6eebda8df1ae7fbc86f81c0fcf123989504447">3b6eebd</a></td><td><code>Replace various --with-gmp=$SAGE_LOCAL flags in spkg-installs with a</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b80bf726f85843031b461348944c78a39dae453e">b80bf72</a></td><td><code>Reworked this a bit more</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0ca3f5676d759bc658708f7f0986ceec569f3d51">0ca3f56</a></td><td><code>fix typo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/06798ca585f1187bd8511a1ca530581028aab99e">06798ca</a></td><td><code>added a bit more explanation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b592d77c204865c293ef473abb7a70ecbaf9e17b">b592d77</a></td><td><code>correct logic for SAGE_GMP_PREFIX etc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5057680b1ff2829d1ed0558ef4042472c03c63ae">5057680</a></td><td><code>add the AX_ABSOLUTE_HEADER macro</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/101537b93c3343a3e7a8554d8e82d8da36be5691">101537b</a></td><td><code>iml in particular is very picky about being given an absolute path to the</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5e1a30bbbcc673061515fbc839690ae19aa7d1a8">5e1a30b</a></td><td><code>spkg-configure for mpfr, adjustments for its dependees</code></td></tr></table>




---

archive/issue_comments_421047.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,9 +1 @@\n-something like this:\n-\n-```\n-SAGE_SPKG_CONFIGURE([mpfr], [\n-    AC_CHECK_HEADER(mpfr.h, [], [sage_spkg_install_mpfr=yes])\n-dnl mpfr_free_pool appeared in r11922 (Dec 2017) on MPFR svn \n-    AC_SEARCH_LIBS([mpfr_free_pool], [mpfr], [break], [sage_spkg_install_mpfr=yes])\n-])\n-```\n+recognise system's mpfr version via `mpfr_free_pool` presence, generate `SAGE_MPFR_PREFIX` to be used with `--with-mpfr=` options.\n``````\n",
    "created_at": "2019-02-26T13:06:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421047",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,9 +1 @@
-something like this:
-
-```
-SAGE_SPKG_CONFIGURE([mpfr], [
-    AC_CHECK_HEADER(mpfr.h, [], [sage_spkg_install_mpfr=yes])
-dnl mpfr_free_pool appeared in r11922 (Dec 2017) on MPFR svn 
-    AC_SEARCH_LIBS([mpfr_free_pool], [mpfr], [break], [sage_spkg_install_mpfr=yes])
-])
-```
+recognise system's mpfr version via `mpfr_free_pool` presence, generate `SAGE_MPFR_PREFIX` to be used with `--with-mpfr=` options.
``````




---

archive/issue_events_374463.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-02-26T13:06:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374463"
}
```



---

archive/issue_comments_421048.json:
```json
{
    "body": "Commit: **[5e1a30b](https://github.com/sagemath/sagetrac-mirror/commit/5e1a30bbbcc673061515fbc839690ae19aa7d1a8)**",
    "created_at": "2019-02-26T13:06:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421048",
    "user": "https://github.com/dimpase"
}
```

Commit: **[5e1a30b](https://github.com/sagemath/sagetrac-mirror/commit/5e1a30bbbcc673061515fbc839690ae19aa7d1a8)**



---

archive/issue_comments_421049.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nonly the last commit is new, the rest are from #27212.",
    "created_at": "2019-02-26T13:07:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421049",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:7" align="right">comment:7</div>

only the last commit is new, the rest are from #27212.



---

archive/issue_comments_421050.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nAre you sure in all these cases that it's safe to pass `--with-mpfr=\"$SAGE_MPFR_PREFIX\"` when `$SAGE_MPFR_PREFIX` is empty?\n\nI found that a number of packages do not have sensible defaults for `--with-gmp=` passed an empty value, which is why I had to define\n\n```sh\nif [ -n \"$SAGE_GMP_PREFIX\" ]; then\n    export SAGE_CONFIGURE_GMP=\"--with-gmp=$SAGE_GMP_PREFIX\"\nfi\n```\n\nAnd then pass various configure scripts `$SAGE_CONFIGURE_GMP` instead of `--with-gmp=$SAGE_GMP_PREFIX`.\n\nNot saying that's always necessary though; might depend on the package and how it handles an empty value for the flag :(",
    "created_at": "2019-02-26T13:22:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421050",
    "user": "https://github.com/embray"
}
```

<div id="comment:8" align="right">comment:8</div>

Are you sure in all these cases that it's safe to pass `--with-mpfr="$SAGE_MPFR_PREFIX"` when `$SAGE_MPFR_PREFIX` is empty?

I found that a number of packages do not have sensible defaults for `--with-gmp=` passed an empty value, which is why I had to define

```sh
if [ -n "$SAGE_GMP_PREFIX" ]; then
    export SAGE_CONFIGURE_GMP="--with-gmp=$SAGE_GMP_PREFIX"
fi
```

And then pass various configure scripts `$SAGE_CONFIGURE_GMP` instead of `--with-gmp=$SAGE_GMP_PREFIX`.

Not saying that's always necessary though; might depend on the package and how it handles an empty value for the flag :(



---

archive/issue_comments_421051.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nOn Ubuntu 16.04 I tried `./bootstrap && ./configure`.  On first attempt `mpfr.h` was not detected.  Ok, `apt-get install libmpfr-dev` and tried `./configure` again and it found the headers but failed to find `mpfr_free_pool`.  Apparently the system package (despite the package being named \"libmpfr4\") is version 3.1.4 of MPFR, so maybe it doesn't have `mpfr_free_pool`?\n\nWhy was `mpfr_free_pool` chosen?  Do we have a specific dependency on it?  Or is it possible in principle to use version 3.1.x?  If not then that's fine; if the system package is too old it's too old, so we don't use it.  I'm just curious.",
    "created_at": "2019-02-26T13:31:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421051",
    "user": "https://github.com/embray"
}
```

<div id="comment:9" align="right">comment:9</div>

On Ubuntu 16.04 I tried `./bootstrap && ./configure`.  On first attempt `mpfr.h` was not detected.  Ok, `apt-get install libmpfr-dev` and tried `./configure` again and it found the headers but failed to find `mpfr_free_pool`.  Apparently the system package (despite the package being named "libmpfr4") is version 3.1.4 of MPFR, so maybe it doesn't have `mpfr_free_pool`?

Why was `mpfr_free_pool` chosen?  Do we have a specific dependency on it?  Or is it possible in principle to use version 3.1.x?  If not then that's fine; if the system package is too old it's too old, so we don't use it.  I'm just curious.



---

archive/issue_comments_421052.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nIn Ubuntu 18.04 (bionic) it now has \"libmpfr6\" which is v4.0.1 so I might try testing against that next.",
    "created_at": "2019-02-26T13:32:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421052",
    "user": "https://github.com/embray"
}
```

<div id="comment:10" align="right">comment:10</div>

In Ubuntu 18.04 (bionic) it now has "libmpfr6" which is v4.0.1 so I might try testing against that next.



---

archive/issue_comments_421053.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nGot all the way through building sagelib with MPFR 3.1.4, but then at runtime I get\n\n```\nImportError: /home/sage/sage/local/lib/python2.7/site-packages/sage/rings/real_mpfr.so: undefined symbol: mpfr_rootn_ui\n```\n\nwhere `mpfr_rootn_ui` is a function introduced in 4.0.0, as is `mpfr_free_pool`.  ISTM that specific requirement could be worked around, but I'm happy to just say \"ok 4.0.0 is the minimum required MPFR\" for now.\n\nI'll make an Ubuntu 18.04 container and try it in there.",
    "created_at": "2019-02-26T14:42:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421053",
    "user": "https://github.com/embray"
}
```

<div id="comment:11" align="right">comment:11</div>

Got all the way through building sagelib with MPFR 3.1.4, but then at runtime I get

```
ImportError: /home/sage/sage/local/lib/python2.7/site-packages/sage/rings/real_mpfr.so: undefined symbol: mpfr_rootn_ui
```

where `mpfr_rootn_ui` is a function introduced in 4.0.0, as is `mpfr_free_pool`.  ISTM that specific requirement could be worked around, but I'm happy to just say "ok 4.0.0 is the minimum required MPFR" for now.

I'll make an Ubuntu 18.04 container and try it in there.



---

archive/issue_comments_421054.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nAre you saying that the test for `mpfr_free_pool` actually succeeds on MPFR 3.1.4?\nOK, let's switch to testing for `mpfr_rootn_ui` then.",
    "created_at": "2019-02-26T14:58:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421054",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:12" align="right">comment:12</div>

Are you saying that the test for `mpfr_free_pool` actually succeeds on MPFR 3.1.4?
OK, let's switch to testing for `mpfr_rootn_ui` then.



---

archive/issue_comments_421055.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nOops, no, I just changed it to `mpfr_init` for the sake of testing against 3.1.4.  mpfr_free_pool is fine (though mpfr_rootn_ui has the advantage of explicitly being used by sage).",
    "created_at": "2019-02-26T15:01:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421055",
    "user": "https://github.com/embray"
}
```

<div id="comment:13" align="right">comment:13</div>

Oops, no, I just changed it to `mpfr_init` for the sake of testing against 3.1.4.  mpfr_free_pool is fine (though mpfr_rootn_ui has the advantage of explicitly being used by sage).



---

archive/issue_comments_421056.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nCompleted a successful build from scratch and `make ptestlong` on Ubuntu 18.04 using the system mpfr.  So maybe this is OK as-is.",
    "created_at": "2019-02-26T16:54:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421056",
    "user": "https://github.com/embray"
}
```

<div id="comment:14" align="right">comment:14</div>

Completed a successful build from scratch and `make ptestlong` on Ubuntu 18.04 using the system mpfr.  So maybe this is OK as-is.



---

archive/issue_comments_421057.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nI've also tested this on Gentoo, on Debian.",
    "created_at": "2019-02-26T17:12:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421057",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:15" align="right">comment:15</div>

I've also tested this on Gentoo, on Debian.



---

archive/issue_comments_421058.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nOops, this does break (optional) mpfrcx, one of 4 packages that depend on mpfr.\nSo indeed most likely it needs akin to `$SAGE_CONFIGURE_GMP`.",
    "created_at": "2019-02-26T17:37:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421058",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:16" align="right">comment:16</div>

Oops, this does break (optional) mpfrcx, one of 4 packages that depend on mpfr.
So indeed most likely it needs akin to `$SAGE_CONFIGURE_GMP`.



---

archive/issue_events_374464.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-02-26T17:37:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374464"
}
```



---

archive/issue_events_374465.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-02-26T17:37:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374465"
}
```



---

archive/issue_comments_421059.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nand I forgot about the need to SAGE_MPRF_* things in sage-env-config.in. This means that the tests ran with these being empty - mostly OK for system libs, but should be deadly for the case where things should come from SAGE_LOCAL...",
    "created_at": "2019-02-26T17:57:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421059",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:17" align="right">comment:17</div>

and I forgot about the need to SAGE_MPRF_* things in sage-env-config.in. This means that the tests ran with these being empty - mostly OK for system libs, but should be deadly for the case where things should come from SAGE_LOCAL...



---

archive/issue_comments_421060.json:
```json
{
    "body": "Changed commit from **[5e1a30b](https://github.com/sagemath/sagetrac-mirror/commit/5e1a30bbbcc673061515fbc839690ae19aa7d1a8)** to **[18fbf7b](https://github.com/sagemath/sagetrac-mirror/commit/18fbf7b4bfa726dd7b8ff6a763a0ca44b7ce60f1)**",
    "created_at": "2019-02-26T18:43:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421060",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5e1a30b](https://github.com/sagemath/sagetrac-mirror/commit/5e1a30bbbcc673061515fbc839690ae19aa7d1a8)** to **[18fbf7b](https://github.com/sagemath/sagetrac-mirror/commit/18fbf7b4bfa726dd7b8ff6a763a0ca44b7ce60f1)**



---

archive/issue_comments_421061.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18fbf7b4bfa726dd7b8ff6a763a0ca44b7ce60f1\">18fbf7b</a></td><td><code>add SAGE_CONFIGURE_MPFR, fix sage-env-config.in</code></td></tr></table>\n",
    "created_at": "2019-02-26T18:43:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421061",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18fbf7b4bfa726dd7b8ff6a763a0ca44b7ce60f1">18fbf7b</a></td><td><code>add SAGE_CONFIGURE_MPFR, fix sage-env-config.in</code></td></tr></table>




---

archive/issue_comments_421062.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/50aebab7b824b81166ce4652f928d15b72556e94\">50aebab</a></td><td><code>implement --with-mpfr=system/install</code></td></tr></table>\n",
    "created_at": "2019-02-27T22:02:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421062",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/50aebab7b824b81166ce4652f928d15b72556e94">50aebab</a></td><td><code>implement --with-mpfr=system/install</code></td></tr></table>




---

archive/issue_comments_421063.json:
```json
{
    "body": "Changed commit from **[18fbf7b](https://github.com/sagemath/sagetrac-mirror/commit/18fbf7b4bfa726dd7b8ff6a763a0ca44b7ce60f1)** to **[50aebab](https://github.com/sagemath/sagetrac-mirror/commit/50aebab7b824b81166ce4652f928d15b72556e94)**",
    "created_at": "2019-02-27T22:02:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421063",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[18fbf7b](https://github.com/sagemath/sagetrac-mirror/commit/18fbf7b4bfa726dd7b8ff6a763a0ca44b7ce60f1)** to **[50aebab](https://github.com/sagemath/sagetrac-mirror/commit/50aebab7b824b81166ce4652f928d15b72556e94)**



---

archive/issue_comments_421064.json:
```json
{
    "body": "Changed commit from **[50aebab](https://github.com/sagemath/sagetrac-mirror/commit/50aebab7b824b81166ce4652f928d15b72556e94)** to **[0fc433f](https://github.com/sagemath/sagetrac-mirror/commit/0fc433fe48e870db409d0ea8035ff064b25bcf61)**",
    "created_at": "2019-03-20T14:42:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421064",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[50aebab](https://github.com/sagemath/sagetrac-mirror/commit/50aebab7b824b81166ce4652f928d15b72556e94)** to **[0fc433f](https://github.com/sagemath/sagetrac-mirror/commit/0fc433fe48e870db409d0ea8035ff064b25bcf61)**



---

archive/issue_comments_421065.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/862ca6af87ac256bf726b0bd7ef7439e2d9b0080\">862ca6a</a></td><td><code>Merge remote-tracking branch 'trac/develop' into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/03dc987c6d475279b0008fa8f5ba37a0045bb75e\">03dc987</a></td><td><code>Merged trac #27215 in</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c9873ae45cd846adaf3490c9e2fe57dc87333b3a\">c9873ae</a></td><td><code>Merge remote-tracking branch 'trac/develop' into mpf</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0fc433fe48e870db409d0ea8035ff064b25bcf61\">0fc433f</a></td><td><code>update for Sage 8.7.rc0, a typo fix</code></td></tr></table>\n",
    "created_at": "2019-03-20T14:42:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421065",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/862ca6af87ac256bf726b0bd7ef7439e2d9b0080">862ca6a</a></td><td><code>Merge remote-tracking branch 'trac/develop' into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/03dc987c6d475279b0008fa8f5ba37a0045bb75e">03dc987</a></td><td><code>Merged trac #27215 in</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c9873ae45cd846adaf3490c9e2fe57dc87333b3a">c9873ae</a></td><td><code>Merge remote-tracking branch 'trac/develop' into mpf</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0fc433fe48e870db409d0ea8035ff064b25bcf61">0fc433f</a></td><td><code>update for Sage 8.7.rc0, a typo fix</code></td></tr></table>




---

archive/issue_events_374466.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-03-20T14:43:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374466"
}
```



---

archive/issue_events_374467.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-03-20T14:43:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374467"
}
```



---

archive/issue_comments_421066.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nmerged with the latest #27212 and Sage 8.7.rc0",
    "created_at": "2019-03-20T14:43:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421066",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:21" align="right">comment:21</div>

merged with the latest #27212 and Sage 8.7.rc0



---

archive/issue_events_374468.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374468"
}
```



---

archive/issue_events_374469.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374469"
}
```



---

archive/issue_comments_421067.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nTicket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421067",
    "user": "https://github.com/embray"
}
```

<div id="comment:22" align="right">comment:22</div>

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_comments_421068.json:
```json
{
    "body": "Changed commit from **[0fc433f](https://github.com/sagemath/sagetrac-mirror/commit/0fc433fe48e870db409d0ea8035ff064b25bcf61)** to **[549d3aa](https://github.com/sagemath/sagetrac-mirror/commit/549d3aabec8766b63e7cc0ba99c425831242a959)**",
    "created_at": "2019-04-04T21:04:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421068",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0fc433f](https://github.com/sagemath/sagetrac-mirror/commit/0fc433fe48e870db409d0ea8035ff064b25bcf61)** to **[549d3aa](https://github.com/sagemath/sagetrac-mirror/commit/549d3aabec8766b63e7cc0ba99c425831242a959)**



---

archive/issue_comments_421069.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8482e23d8298755970d64f3a0339865e4ce3af89\">8482e23</a></td><td><code>Reworked this a bit more</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/63e54a468838ac1ed98d3e56c6b5e4801ebdf94f\">63e54a4</a></td><td><code>fix typo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/41456a040a1c91dddc6111a760736766a7f221f2\">41456a0</a></td><td><code>added a bit more explanation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e572bb947d0023d6abe78fd002a2073b70720691\">e572bb9</a></td><td><code>correct logic for SAGE_GMP_PREFIX etc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f91e239cef0c4871af960670ff8d9c1a25da8356\">f91e239</a></td><td><code>add the AX_ABSOLUTE_HEADER macro</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/170143e7becbddd4e4627f0becbf4a699298c95b\">170143e</a></td><td><code>iml in particular is very picky about being given an absolute path to the</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/50c30705e10eade21615eec8c9b01b59ddebec9d\">50c3070</a></td><td><code>spkg-configure for mpfr, adjustments for its dependees</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d4cdcfb3d9544a5b10dcd7f453449d2037d03b8a\">d4cdcfb</a></td><td><code>add SAGE_CONFIGURE_MPFR, fix sage-env-config.in</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76d87a41b4286a0164f4cfa029c385b7bb4cba6b\">76d87a4</a></td><td><code>implement --with-mpfr=system/install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/549d3aabec8766b63e7cc0ba99c425831242a959\">549d3aa</a></td><td><code>build mpir if gmp/mpir is built</code></td></tr></table>\n",
    "created_at": "2019-04-04T21:04:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421069",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8482e23d8298755970d64f3a0339865e4ce3af89">8482e23</a></td><td><code>Reworked this a bit more</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/63e54a468838ac1ed98d3e56c6b5e4801ebdf94f">63e54a4</a></td><td><code>fix typo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/41456a040a1c91dddc6111a760736766a7f221f2">41456a0</a></td><td><code>added a bit more explanation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e572bb947d0023d6abe78fd002a2073b70720691">e572bb9</a></td><td><code>correct logic for SAGE_GMP_PREFIX etc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f91e239cef0c4871af960670ff8d9c1a25da8356">f91e239</a></td><td><code>add the AX_ABSOLUTE_HEADER macro</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/170143e7becbddd4e4627f0becbf4a699298c95b">170143e</a></td><td><code>iml in particular is very picky about being given an absolute path to the</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/50c30705e10eade21615eec8c9b01b59ddebec9d">50c3070</a></td><td><code>spkg-configure for mpfr, adjustments for its dependees</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d4cdcfb3d9544a5b10dcd7f453449d2037d03b8a">d4cdcfb</a></td><td><code>add SAGE_CONFIGURE_MPFR, fix sage-env-config.in</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76d87a41b4286a0164f4cfa029c385b7bb4cba6b">76d87a4</a></td><td><code>implement --with-mpfr=system/install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/549d3aabec8766b63e7cc0ba99c425831242a959">549d3aa</a></td><td><code>build mpir if gmp/mpir is built</code></td></tr></table>




---

archive/issue_comments_421070.json:
```json
{
    "body": "Changed commit from **[549d3aa](https://github.com/sagemath/sagetrac-mirror/commit/549d3aabec8766b63e7cc0ba99c425831242a959)** to **[df8e63d](https://github.com/sagemath/sagetrac-mirror/commit/df8e63dc573a23225243cd48f7dd46c6004ce873)**",
    "created_at": "2019-04-19T10:01:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421070",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[549d3aa](https://github.com/sagemath/sagetrac-mirror/commit/549d3aabec8766b63e7cc0ba99c425831242a959)** to **[df8e63d](https://github.com/sagemath/sagetrac-mirror/commit/df8e63dc573a23225243cd48f7dd46c6004ce873)**



---

archive/issue_comments_421071.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0b72a6858727f60b0f69eb27e0a9854f51fa7e3f\">0b72a68</a></td><td><code>spkg-configure for mpfr, adjustments for its dependees</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d690c9fe3b801a863b55159d90cf98826c3c7a9b\">d690c9f</a></td><td><code>add SAGE_CONFIGURE_MPFR, fix sage-env-config.in</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a833f9359b7d5ba103ad2e10c27d70ce396bb179\">a833f93</a></td><td><code>implement --with-mpfr=system/install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/62feae39370a498bd086f9e19321cdcc76b08e29\">62feae3</a></td><td><code>build mpir if gmp/mpir is built</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df8e63dc573a23225243cd48f7dd46c6004ce873\">df8e63d</a></td><td><code>bumped up configure</code></td></tr></table>\n",
    "created_at": "2019-04-19T10:01:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421071",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0b72a6858727f60b0f69eb27e0a9854f51fa7e3f">0b72a68</a></td><td><code>spkg-configure for mpfr, adjustments for its dependees</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d690c9fe3b801a863b55159d90cf98826c3c7a9b">d690c9f</a></td><td><code>add SAGE_CONFIGURE_MPFR, fix sage-env-config.in</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a833f9359b7d5ba103ad2e10c27d70ce396bb179">a833f93</a></td><td><code>implement --with-mpfr=system/install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/62feae39370a498bd086f9e19321cdcc76b08e29">62feae3</a></td><td><code>build mpir if gmp/mpir is built</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df8e63dc573a23225243cd48f7dd46c6004ce873">df8e63d</a></td><td><code>bumped up configure</code></td></tr></table>




---

archive/issue_comments_421072.json:
```json
{
    "body": "Attachment: **[configure-318.tar.gz](https://github.com/sagemath/sage/files/ticket27258/configure-318.tar.gz)**\n\nupdated configure spkg",
    "created_at": "2019-04-19T10:02:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421072",
    "user": "https://github.com/dimpase"
}
```

Attachment: **[configure-318.tar.gz](https://github.com/sagemath/sage/files/ticket27258/configure-318.tar.gz)**

updated configure spkg



---

archive/issue_comments_421073.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n recognise system's mpfr version via `mpfr_free_pool` presence, generate `SAGE_MPFR_PREFIX` to be used with `--with-mpfr=` options.\n+\n+configure tarball: https://trac.sagemath.org/raw-attachment/ticket/27258/configure-318.tar.gz\n``````\n",
    "created_at": "2019-04-19T10:15:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421073",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 recognise system's mpfr version via `mpfr_free_pool` presence, generate `SAGE_MPFR_PREFIX` to be used with `--with-mpfr=` options.
+
+configure tarball: https://trac.sagemath.org/raw-attachment/ticket/27258/configure-318.tar.gz
``````




---

archive/issue_comments_421074.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nI don't understand why the addition of the `--with-mpfr` flag.  This should already be covered by #27567.",
    "created_at": "2019-05-03T15:45:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421074",
    "user": "https://github.com/embray"
}
```

<div id="comment:27" align="right">comment:27</div>

I don't understand why the addition of the `--with-mpfr` flag.  This should already be covered by #27567.



---

archive/issue_comments_421075.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nIt seems like this would also be able to benefit from #27641.  In this case you would want to add the bits that set\n\n```\nAC_SUBST(SAGE_MPFR_INCLUDE, ...)\nAC_SUBST(SAGE_MPFR_PREFIX, ...)\n```\n\nin the \"POST\" argument, since it's something that should *always* be done (the values of those variables would of course still depend on checks performed earlier in the macro).\n\nThis would be similar then to the POST argument added for MPIR in #27641.\n\nThat's a strong part of what it's for: If we have some `AC_SUBST` variables that will be fed into another template file, such as `sage-env-config.in`, we want to ensure that those substitutions are *always* made by mpfr/spkg-configure.m4 regardless what else was determined w.r.t. MPFR.",
    "created_at": "2019-05-03T15:51:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421075",
    "user": "https://github.com/embray"
}
```

<div id="comment:28" align="right">comment:28</div>

It seems like this would also be able to benefit from #27641.  In this case you would want to add the bits that set

```
AC_SUBST(SAGE_MPFR_INCLUDE, ...)
AC_SUBST(SAGE_MPFR_PREFIX, ...)
```

in the "POST" argument, since it's something that should *always* be done (the values of those variables would of course still depend on checks performed earlier in the macro).

This would be similar then to the POST argument added for MPIR in #27641.

That's a strong part of what it's for: If we have some `AC_SUBST` variables that will be fed into another template file, such as `sage-env-config.in`, we want to ensure that those substitutions are *always* made by mpfr/spkg-configure.m4 regardless what else was determined w.r.t. MPFR.



---

archive/issue_comments_421076.json:
```json
{
    "body": "Changed commit from **[df8e63d](https://github.com/sagemath/sagetrac-mirror/commit/df8e63dc573a23225243cd48f7dd46c6004ce873)** to **[5c0fd28](https://github.com/sagemath/sagetrac-mirror/commit/5c0fd282f63613768d2e120b35ec674932b3bd17)**",
    "created_at": "2019-05-08T15:15:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421076",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[df8e63d](https://github.com/sagemath/sagetrac-mirror/commit/df8e63dc573a23225243cd48f7dd46c6004ce873)** to **[5c0fd28](https://github.com/sagemath/sagetrac-mirror/commit/5c0fd282f63613768d2e120b35ec674932b3bd17)**



---

archive/issue_comments_421077.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5c0fd282f63613768d2e120b35ec674932b3bd17\">5c0fd28</a></td><td><code>do not need to implement --with-, just use #27567</code></td></tr></table>\n",
    "created_at": "2019-05-08T15:15:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421077",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5c0fd282f63613768d2e120b35ec674932b3bd17">5c0fd28</a></td><td><code>do not need to implement --with-, just use #27567</code></td></tr></table>




---

archive/issue_comments_421078.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@embray](#comment:28):\n> It seems like this would also be able to benefit from #27641.  In this case you would want to add the bits that set\n> \n> ```\n> AC_SUBST(SAGE_MPFR_INCLUDE, ...)\n> AC_SUBST(SAGE_MPFR_PREFIX, ...)\n> ```\n> \n> in the \"POST\" argument, since it's something that should *always* be done (the values of those variables would of course still depend on checks performed earlier in the macro).\n> \n> This would be similar then to the POST argument added for MPIR in #27641.\n> \n> That's a strong part of what it's for: If we have some `AC_SUBST` variables that will be fed into another template file, such as `sage-env-config.in`, we want to ensure that those substitutions are *always* made by mpfr/spkg-configure.m4 regardless what else was determined w.r.t. MPFR.\n\nI don't quite understand this. At present AC_SUBSTs are done if `$with_mpfr` is either `system` or `install`. Can it have any other values? If not, the code is already covered everything. If yes, then it's totally unclear how and where to get meaningful values to use in AC_SUBSTs.\n\nA nice syntactic sugar might be to be able to put the `system` case in one `[...]` block, and `[...]` in another (instead of writing an explicit `case` statement).",
    "created_at": "2019-05-08T15:22:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421078",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@embray](#comment:28):
> It seems like this would also be able to benefit from #27641.  In this case you would want to add the bits that set
> 
> ```
> AC_SUBST(SAGE_MPFR_INCLUDE, ...)
> AC_SUBST(SAGE_MPFR_PREFIX, ...)
> ```
> 
> in the "POST" argument, since it's something that should *always* be done (the values of those variables would of course still depend on checks performed earlier in the macro).
> 
> This would be similar then to the POST argument added for MPIR in #27641.
> 
> That's a strong part of what it's for: If we have some `AC_SUBST` variables that will be fed into another template file, such as `sage-env-config.in`, we want to ensure that those substitutions are *always* made by mpfr/spkg-configure.m4 regardless what else was determined w.r.t. MPFR.

I don't quite understand this. At present AC_SUBSTs are done if `$with_mpfr` is either `system` or `install`. Can it have any other values? If not, the code is already covered everything. If yes, then it's totally unclear how and where to get meaningful values to use in AC_SUBSTs.

A nice syntactic sugar might be to be able to put the `system` case in one `[...]` block, and `[...]` in another (instead of writing an explicit `case` statement).



---

archive/issue_comments_421079.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nAgain, I would just compare with mpir.  In the argument 5 (\"POST\") it checks `$sage_spkg_install_mpir` (as well as `$sage_spkg_install_gmp`) and sets the values that go in sage-env-config accordingly.\n\nI'll take a try at it.",
    "created_at": "2019-05-09T15:18:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421079",
    "user": "https://github.com/embray"
}
```

<div id="comment:31" align="right">comment:31</div>

Again, I would just compare with mpir.  In the argument 5 ("POST") it checks `$sage_spkg_install_mpir` (as well as `$sage_spkg_install_gmp`) and sets the values that go in sage-env-config accordingly.

I'll take a try at it.



---

archive/issue_comments_421080.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nPlease remove the configure bump from this branch, while you're at it.",
    "created_at": "2019-05-09T15:27:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421080",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:32" align="right">comment:32</div>

Please remove the configure bump from this branch, while you're at it.



---

archive/issue_comments_421081.json:
```json
{
    "body": "Changed branch from **[u/dimpase/packages/mpfr-config](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/mpfr-config)** to **[public/packages/mpfr-config](https://github.com/sagemath/sagetrac-mirror/tree/public/packages/mpfr-config)**",
    "created_at": "2019-05-09T15:39:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421081",
    "user": "https://github.com/embray"
}
```

Changed branch from **[u/dimpase/packages/mpfr-config](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/mpfr-config)** to **[public/packages/mpfr-config](https://github.com/sagemath/sagetrac-mirror/tree/public/packages/mpfr-config)**



---

archive/issue_comments_421082.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nThis worked for me at least insofar as detecting my system mpfr properly.  Now let's see if it builds...\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2dca1253b9d1e8f3542a01db52d042428787b382\">2dca125</a></td><td><code>Add support for unconditional pre- and post-check actions in spkg-configure.m4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/334e4aedd990c1a3626ccf2cd8a4dbc39b632a66\">334e4ae</a></td><td><code>Refactor the mpir/spkg-configure.m4 (and to a lesser extent the one for gmp) to use the new pre and post arguments to SAGE_SPKG_CONFIGURE</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/570cab359e1506d172d0ca113dfa15b3dd93a7d3\">570cab3</a></td><td><code>spkg-configure for mpfr, adjustments for its dependees</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b824dadc0ed673da5522835a4d16f23f6fdfbb85\">b824dad</a></td><td><code>add SAGE_CONFIGURE_MPFR, fix sage-env-config.in</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b0caa921f75b8c7073e8fcbf5f2e679de55d4d9\">7b0caa9</a></td><td><code>implement --with-mpfr=system/install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1eb6c6c02be1fd05e83e6a6ec3ec74d5f9c1fd6f\">1eb6c6c</a></td><td><code>build mpir if gmp/mpir is built</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/abf4235358492b37076ade1b440c753c36f6eb2f\">abf4235</a></td><td><code>bumped up configure</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/602eadfb38c3c04e540752226f1614d18ba875c7\">602eadf</a></td><td><code>do not need to implement --with-, just use #27567</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c79875bf41cdb83239e54ab4e16edb8ea2ecd2f3\">c79875b</a></td><td><code>Initial attempt at further cleanup.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/15ba794c6397871ff308fdd5eb213087fb45f36c\">15ba794</a></td><td><code>I assume this was supposed to say --with-mpfr</code></td></tr></table>\n",
    "created_at": "2019-05-09T15:39:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421082",
    "user": "https://github.com/embray"
}
```

<div id="comment:33" align="right">comment:33</div>

This worked for me at least insofar as detecting my system mpfr properly.  Now let's see if it builds...

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2dca1253b9d1e8f3542a01db52d042428787b382">2dca125</a></td><td><code>Add support for unconditional pre- and post-check actions in spkg-configure.m4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/334e4aedd990c1a3626ccf2cd8a4dbc39b632a66">334e4ae</a></td><td><code>Refactor the mpir/spkg-configure.m4 (and to a lesser extent the one for gmp) to use the new pre and post arguments to SAGE_SPKG_CONFIGURE</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/570cab359e1506d172d0ca113dfa15b3dd93a7d3">570cab3</a></td><td><code>spkg-configure for mpfr, adjustments for its dependees</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b824dadc0ed673da5522835a4d16f23f6fdfbb85">b824dad</a></td><td><code>add SAGE_CONFIGURE_MPFR, fix sage-env-config.in</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b0caa921f75b8c7073e8fcbf5f2e679de55d4d9">7b0caa9</a></td><td><code>implement --with-mpfr=system/install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1eb6c6c02be1fd05e83e6a6ec3ec74d5f9c1fd6f">1eb6c6c</a></td><td><code>build mpir if gmp/mpir is built</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/abf4235358492b37076ade1b440c753c36f6eb2f">abf4235</a></td><td><code>bumped up configure</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/602eadfb38c3c04e540752226f1614d18ba875c7">602eadf</a></td><td><code>do not need to implement --with-, just use #27567</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c79875bf41cdb83239e54ab4e16edb8ea2ecd2f3">c79875b</a></td><td><code>Initial attempt at further cleanup.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/15ba794c6397871ff308fdd5eb213087fb45f36c">15ba794</a></td><td><code>I assume this was supposed to say --with-mpfr</code></td></tr></table>




---

archive/issue_comments_421083.json:
```json
{
    "body": "Changed commit from **[5c0fd28](https://github.com/sagemath/sagetrac-mirror/commit/5c0fd282f63613768d2e120b35ec674932b3bd17)** to **[15ba794](https://github.com/sagemath/sagetrac-mirror/commit/15ba794c6397871ff308fdd5eb213087fb45f36c)**",
    "created_at": "2019-05-09T15:39:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421083",
    "user": "https://github.com/embray"
}
```

Changed commit from **[5c0fd28](https://github.com/sagemath/sagetrac-mirror/commit/5c0fd282f63613768d2e120b35ec674932b3bd17)** to **[15ba794](https://github.com/sagemath/sagetrac-mirror/commit/15ba794c6397871ff308fdd5eb213087fb45f36c)**



---

archive/issue_comments_421084.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nFixed [this](https://github.com/sagemath/sagetrac-mirror/commit/15ba794c6397871ff308fdd5eb213087fb45f36c) by the way.  I wonder if this was causing you any grief...",
    "created_at": "2019-05-09T15:42:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421084",
    "user": "https://github.com/embray"
}
```

<div id="comment:34" align="right">comment:34</div>

Fixed [this](https://github.com/sagemath/sagetrac-mirror/commit/15ba794c6397871ff308fdd5eb213087fb45f36c) by the way.  I wonder if this was causing you any grief...



---

archive/issue_comments_421085.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1aa131aa76e319f95f6020c58e1d8b8789cfa4bf\">1aa131a</a></td><td><code>just a little stylistic consistency in the messages</code></td></tr></table>\n",
    "created_at": "2019-05-09T15:46:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421085",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1aa131aa76e319f95f6020c58e1d8b8789cfa4bf">1aa131a</a></td><td><code>just a little stylistic consistency in the messages</code></td></tr></table>




---

archive/issue_comments_421086.json:
```json
{
    "body": "Changed commit from **[15ba794](https://github.com/sagemath/sagetrac-mirror/commit/15ba794c6397871ff308fdd5eb213087fb45f36c)** to **[1aa131a](https://github.com/sagemath/sagetrac-mirror/commit/1aa131aa76e319f95f6020c58e1d8b8789cfa4bf)**",
    "created_at": "2019-05-09T15:46:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421086",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[15ba794](https://github.com/sagemath/sagetrac-mirror/commit/15ba794c6397871ff308fdd5eb213087fb45f36c)** to **[1aa131a](https://github.com/sagemath/sagetrac-mirror/commit/1aa131aa76e319f95f6020c58e1d8b8789cfa4bf)**



---

archive/issue_comments_421087.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nReplying to [@embray](#comment:34):\n> Fixed [this](https://github.com/sagemath/sagetrac-mirror/commit/15ba794c6397871ff308fdd5eb213087fb45f36c) by the way.  I wonder if this was causing you any grief...\n\nI didn't see any fallout from it, and I recall fixing some copy/paste oopsies like this one in `sage-env-config.in`, perhaps it's a result of too many rebases that this one stayed :-)",
    "created_at": "2019-05-09T16:03:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421087",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:36" align="right">comment:36</div>

Replying to [@embray](#comment:34):
> Fixed [this](https://github.com/sagemath/sagetrac-mirror/commit/15ba794c6397871ff308fdd5eb213087fb45f36c) by the way.  I wonder if this was causing you any grief...

I didn't see any fallout from it, and I recall fixing some copy/paste oopsies like this one in `sage-env-config.in`, perhaps it's a result of too many rebases that this one stayed :-)



---

archive/issue_comments_421088.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nBuild (from scratch) succeeded with no problem with system gmp+mpfr on Ubuntu 18.04, at least.  I'll run the tests next just to be sure.",
    "created_at": "2019-05-09T16:34:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421088",
    "user": "https://github.com/embray"
}
```

<div id="comment:37" align="right">comment:37</div>

Build (from scratch) succeeded with no problem with system gmp+mpfr on Ubuntu 18.04, at least.  I'll run the tests next just to be sure.



---

archive/issue_comments_421089.json:
```json
{
    "body": "Changed dependencies from **#27212** to none",
    "created_at": "2019-05-09T21:42:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421089",
    "user": "https://github.com/dimpase"
}
```

Changed dependencies from **#27212** to none



---

archive/issue_comments_421090.json:
```json
{
    "body": "Reviewer: **Erik Bray, Dima Pasechnik**",
    "created_at": "2019-05-09T21:42:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421090",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Erik Bray, Dima Pasechnik**



---

archive/issue_comments_421091.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nit seems to conflict with #27642 (in your `m4/sage_spkg_configure.m4`)- can you rebase it? Otherwise, all good.",
    "created_at": "2019-05-09T21:42:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421091",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:38" align="right">comment:38</div>

it seems to conflict with #27642 (in your `m4/sage_spkg_configure.m4`)- can you rebase it? Otherwise, all good.



---

archive/issue_comments_421092.json:
```json
{
    "body": "Changed author from **Dima Pasechnik** to **Dima Pasechnik, Erik Bray**",
    "created_at": "2019-05-09T21:42:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421092",
    "user": "https://github.com/dimpase"
}
```

Changed author from **Dima Pasechnik** to **Dima Pasechnik, Erik Bray**



---

archive/issue_comments_421093.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nnamely, here you only add `$4` and `$5` to `SAGE_SPKG_CONFIGURE` macro, whereas on #27642 you not only add them, but also do\n\n```diff\n+\n+AS_VAR_SET([sage_spkg_name], SPKG_NAME)\n+\n+$4\n+\n+AS_IF([test -n \"`ls \"${SAGE_SPKG_INST}/${sage_spkg_name}\"-* 2>/dev/null`\"],\n+SPKG_INSTALL_VAR[=yes;] SPKG_USE_SYSTEM[=no], [\n m4_ifval(\n [$2],\n [AS_VAR_SET_IF(SPKG_INSTALL_VAR, [], SPKG_INSTALL_VAR[=no])],\n [AS_VAR_SET_IF(SPKG_INSTALL_VAR, [], SPKG_INSTALL_VAR[=yes])])\n+])\n+\n```\nI presume the latter should take the precedence. I'll rebase accordingly.",
    "created_at": "2019-05-10T10:20:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421093",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:39" align="right">comment:39</div>

namely, here you only add `$4` and `$5` to `SAGE_SPKG_CONFIGURE` macro, whereas on #27642 you not only add them, but also do

```diff
+
+AS_VAR_SET([sage_spkg_name], SPKG_NAME)
+
+$4
+
+AS_IF([test -n "`ls "${SAGE_SPKG_INST}/${sage_spkg_name}"-* 2>/dev/null`"],
+SPKG_INSTALL_VAR[=yes;] SPKG_USE_SYSTEM[=no], [
 m4_ifval(
 [$2],
 [AS_VAR_SET_IF(SPKG_INSTALL_VAR, [], SPKG_INSTALL_VAR[=no])],
 [AS_VAR_SET_IF(SPKG_INSTALL_VAR, [], SPKG_INSTALL_VAR[=yes])])
+])
+
```
I presume the latter should take the precedence. I'll rebase accordingly.



---

archive/issue_comments_421094.json:
```json
{
    "body": "Changed commit from **[1aa131a](https://github.com/sagemath/sagetrac-mirror/commit/1aa131aa76e319f95f6020c58e1d8b8789cfa4bf)** to **[7e6ae72](https://github.com/sagemath/sagetrac-mirror/commit/7e6ae72ee7cf898966e824b82d37a751c85dbc11)**",
    "created_at": "2019-05-10T10:24:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421094",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1aa131a](https://github.com/sagemath/sagetrac-mirror/commit/1aa131aa76e319f95f6020c58e1d8b8789cfa4bf)** to **[7e6ae72](https://github.com/sagemath/sagetrac-mirror/commit/7e6ae72ee7cf898966e824b82d37a751c85dbc11)**



---

archive/issue_comments_421095.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e6ae72ee7cf898966e824b82d37a751c85dbc11\">7e6ae72</a></td><td><code>add the change to sage_spkg_configure from #27642</code></td></tr></table>\n",
    "created_at": "2019-05-10T10:24:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421095",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e6ae72ee7cf898966e824b82d37a751c85dbc11">7e6ae72</a></td><td><code>add the change to sage_spkg_configure from #27642</code></td></tr></table>




---

archive/issue_comments_421096.json:
```json
{
    "body": "Dependencies: **#27642**",
    "created_at": "2019-05-10T10:25:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421096",
    "user": "https://github.com/dimpase"
}
```

Dependencies: **#27642**



---

archive/issue_events_374470.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-05-10T11:01:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374470"
}
```



---

archive/issue_events_374471.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-05-10T11:01:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374471"
}
```



---

archive/issue_comments_421097.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nI don't know why you pushed that last commit.   I need to rebase #27642, and in turn rebase this on top of that.  Please don't add spurious new commits that duplicate changes from other tickets as it will only make a mess of things later (e.g. become superfluous empty commits).",
    "created_at": "2019-05-10T11:01:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421097",
    "user": "https://github.com/embray"
}
```

<div id="comment:42" align="right">comment:42</div>

I don't know why you pushed that last commit.   I need to rebase #27642, and in turn rebase this on top of that.  Please don't add spurious new commits that duplicate changes from other tickets as it will only make a mess of things later (e.g. become superfluous empty commits).



---

archive/issue_comments_421098.json:
```json
{
    "body": "Changed commit from **[7e6ae72](https://github.com/sagemath/sagetrac-mirror/commit/7e6ae72ee7cf898966e824b82d37a751c85dbc11)** to **[1aa131a](https://github.com/sagemath/sagetrac-mirror/commit/1aa131aa76e319f95f6020c58e1d8b8789cfa4bf)**",
    "created_at": "2019-05-10T11:10:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421098",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7e6ae72](https://github.com/sagemath/sagetrac-mirror/commit/7e6ae72ee7cf898966e824b82d37a751c85dbc11)** to **[1aa131a](https://github.com/sagemath/sagetrac-mirror/commit/1aa131aa76e319f95f6020c58e1d8b8789cfa4bf)**



---

archive/issue_comments_421099.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-05-10T11:10:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421099",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:43"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_421100.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\noops, sorry, I didn't realise that #27642 has an old base :-(",
    "created_at": "2019-05-10T11:10:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421100",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:44" align="right">comment:44</div>

oops, sorry, I didn't realise that #27642 has an old base :-(



---

archive/issue_comments_421101.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nI deleted your last commit; it doesn't really belong on this branch, and it's not strictly related by any means.\n\nThat change is specifically related to #27642 and does not conflict with anything here.",
    "created_at": "2019-05-10T11:11:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421101",
    "user": "https://github.com/embray"
}
```

<div id="comment:45" align="right">comment:45</div>

I deleted your last commit; it doesn't really belong on this branch, and it's not strictly related by any means.

That change is specifically related to #27642 and does not conflict with anything here.



---

archive/issue_comments_421102.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nReplying to [@dimpase](#comment:32):\n> Please remove the configure bump from this branch, while you're at it.\n\nTo be clear, is this because we plan to consolidate this ticket with others?",
    "created_at": "2019-05-10T11:12:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421102",
    "user": "https://github.com/embray"
}
```

<div id="comment:46" align="right">comment:46</div>

Replying to [@dimpase](#comment:32):
> Please remove the configure bump from this branch, while you're at it.

To be clear, is this because we plan to consolidate this ticket with others?



---

archive/issue_comments_421103.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nReplying to [@embray](#comment:46):\n> Replying to [@dimpase](#comment:32):\n> > Please remove the configure bump from this branch, while you're at it.\n\n> \n> To be clear, is this because we plan to consolidate this ticket with others?\n\nyes, indeed, otherwise it's too hard to get into the release.\nIt's fine as long as it's just new `spkg-configure.m4` files, but if it's more then\nthe hell breaks loose.\n\nPerhaps `./bootstrap` should have a remote service to run autoconf ;-)",
    "created_at": "2019-05-10T11:19:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421103",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:47" align="right">comment:47</div>

Replying to [@embray](#comment:46):
> Replying to [@dimpase](#comment:32):
> > Please remove the configure bump from this branch, while you're at it.

> 
> To be clear, is this because we plan to consolidate this ticket with others?

yes, indeed, otherwise it's too hard to get into the release.
It's fine as long as it's just new `spkg-configure.m4` files, but if it's more then
the hell breaks loose.

Perhaps `./bootstrap` should have a remote service to run autoconf ;-)



---

archive/issue_comments_421104.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nOk, I'll tidy this up a bit more and then see if I can incorporate mpc as well.",
    "created_at": "2019-05-10T11:21:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421104",
    "user": "https://github.com/embray"
}
```

<div id="comment:48" align="right">comment:48</div>

Ok, I'll tidy this up a bit more and then see if I can incorporate mpc as well.



---

archive/issue_comments_421105.json:
```json
{
    "body": "Changed commit from **[1aa131a](https://github.com/sagemath/sagetrac-mirror/commit/1aa131aa76e319f95f6020c58e1d8b8789cfa4bf)** to **[d5986af](https://github.com/sagemath/sagetrac-mirror/commit/d5986af21a000da5d5238b5f00ff1fa6da4404dd)**",
    "created_at": "2019-05-10T11:25:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421105",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1aa131a](https://github.com/sagemath/sagetrac-mirror/commit/1aa131aa76e319f95f6020c58e1d8b8789cfa4bf)** to **[d5986af](https://github.com/sagemath/sagetrac-mirror/commit/d5986af21a000da5d5238b5f00ff1fa6da4404dd)**



---

archive/issue_comments_421106.json:
```json
{
    "body": "<div id=\"comment:49\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d9bbdd48eb4a73bcc913c2f3d2ac5eecd15adf52\">d9bbdd4</a></td><td><code>Add support for unconditional pre- and post-check actions in spkg-configure.m4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a3605187face93bd02a16089ce1121a7348ed2a3\">a360518</a></td><td><code>Refactor the mpir/spkg-configure.m4 (and to a lesser extent the one for gmp) to use the new pre and post arguments to SAGE_SPKG_CONFIGURE</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5986af21a000da5d5238b5f00ff1fa6da4404dd\">d5986af</a></td><td><code>spkg-configure for mpfr, adjustments for its dependees</code></td></tr></table>\n",
    "created_at": "2019-05-10T11:25:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421106",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:49"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d9bbdd48eb4a73bcc913c2f3d2ac5eecd15adf52">d9bbdd4</a></td><td><code>Add support for unconditional pre- and post-check actions in spkg-configure.m4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a3605187face93bd02a16089ce1121a7348ed2a3">a360518</a></td><td><code>Refactor the mpir/spkg-configure.m4 (and to a lesser extent the one for gmp) to use the new pre and post arguments to SAGE_SPKG_CONFIGURE</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5986af21a000da5d5238b5f00ff1fa6da4404dd">d5986af</a></td><td><code>spkg-configure for mpfr, adjustments for its dependees</code></td></tr></table>




---

archive/issue_comments_421107.json:
```json
{
    "body": "Changed dependencies from **#27642** to **#27641**",
    "created_at": "2019-05-10T11:28:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421107",
    "user": "https://github.com/embray"
}
```

Changed dependencies from **#27642** to **#27641**



---

archive/issue_comments_421108.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nOkay, I removed the confball update and squashed a bunch of intermediate commits away.  I think this is pretty clean now.  Now let's take a look at mpc...\n\nmpfr and mpc should probably be bundled together--do you think anything else should go with them? ntl maybe?",
    "created_at": "2019-05-10T11:28:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421108",
    "user": "https://github.com/embray"
}
```

<div id="comment:50" align="right">comment:50</div>

Okay, I removed the confball update and squashed a bunch of intermediate commits away.  I think this is pretty clean now.  Now let's take a look at mpc...

mpfr and mpc should probably be bundled together--do you think anything else should go with them? ntl maybe?



---

archive/issue_events_374472.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-05-10T11:28:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374472"
}
```



---

archive/issue_events_374473.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-05-10T11:28:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374473"
}
```



---

archive/issue_comments_421109.json:
```json
{
    "body": "Changed dependencies from **#27641** to **#27642**",
    "created_at": "2019-05-10T11:29:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421109",
    "user": "https://github.com/dimpase"
}
```

Changed dependencies from **#27641** to **#27642**



---

archive/issue_comments_421110.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nperhaps not only mpc, but also ntl, arb, and flint. They all call each other and modify \n`src/bin/sage-env-config.in`...",
    "created_at": "2019-05-10T11:29:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421110",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:51" align="right">comment:51</div>

perhaps not only mpc, but also ntl, arb, and flint. They all call each other and modify 
`src/bin/sage-env-config.in`...



---

archive/issue_comments_421111.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nI didn't mean to undo your change of dependency without asking, but I don't understand, aren't you using the branch of #27642 here?",
    "created_at": "2019-05-10T11:34:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421111",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:52" align="right">comment:52</div>

I didn't mean to undo your change of dependency without asking, but I don't understand, aren't you using the branch of #27642 here?



---

archive/issue_comments_421112.json:
```json
{
    "body": "Changed dependencies from **#27642** to **#27641**",
    "created_at": "2019-05-10T11:34:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421112",
    "user": "https://github.com/dimpase"
}
```

Changed dependencies from **#27642** to **#27641**



---

archive/issue_comments_421113.json:
```json
{
    "body": "Changed commit from **[d5986af](https://github.com/sagemath/sagetrac-mirror/commit/d5986af21a000da5d5238b5f00ff1fa6da4404dd)** to **[1948e33](https://github.com/sagemath/sagetrac-mirror/commit/1948e335c3b5c447c674c8ec27c49f6472556ecf)**",
    "created_at": "2019-05-10T11:37:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421113",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d5986af](https://github.com/sagemath/sagetrac-mirror/commit/d5986af21a000da5d5238b5f00ff1fa6da4404dd)** to **[1948e33](https://github.com/sagemath/sagetrac-mirror/commit/1948e335c3b5c447c674c8ec27c49f6472556ecf)**



---

archive/issue_comments_421114.json:
```json
{
    "body": "<div id=\"comment:53\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1948e335c3b5c447c674c8ec27c49f6472556ecf\">1948e33</a></td><td><code>Add one missing SAGE_CONFIGURE_MPFR, for building gcc</code></td></tr></table>\n",
    "created_at": "2019-05-10T11:37:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421114",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:53"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1948e335c3b5c447c674c8ec27c49f6472556ecf">1948e33</a></td><td><code>Add one missing SAGE_CONFIGURE_MPFR, for building gcc</code></td></tr></table>




---

archive/issue_comments_421115.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nNo, I decided not to--they're not strictly related at all.\n\nI think #27642 will merge cleanly with these other tickets, and still needs more work anyways.",
    "created_at": "2019-05-10T11:52:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421115",
    "user": "https://github.com/embray"
}
```

<div id="comment:54" align="right">comment:54</div>

No, I decided not to--they're not strictly related at all.

I think #27642 will merge cleanly with these other tickets, and still needs more work anyways.



---

archive/issue_comments_421116.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nReplying to [@sagetrac-git](#comment:53):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1948e335c3b5c447c674c8ec27c49f6472556ecf\">1948e33</a></td><td><code>Add one missing SAGE_CONFIGURE_MPFR, for building gcc</code></td></tr></table>\n\nand once `mpc` is added to the picture, one would also need to fix `--with-mpc=\"$SAGE_LOCAL\"` - that's really why it's best to do them all together...",
    "created_at": "2019-05-10T11:57:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421116",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:55" align="right">comment:55</div>

Replying to [@sagetrac-git](#comment:53):
> Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1948e335c3b5c447c674c8ec27c49f6472556ecf">1948e33</a></td><td><code>Add one missing SAGE_CONFIGURE_MPFR, for building gcc</code></td></tr></table>

and once `mpc` is added to the picture, one would also need to fix `--with-mpc="$SAGE_LOCAL"` - that's really why it's best to do them all together...



---

archive/issue_comments_421117.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nYeah, I'm adding that in the branch for mpc now.  I agree it makes sense to bundle them together.",
    "created_at": "2019-05-10T12:07:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421117",
    "user": "https://github.com/embray"
}
```

<div id="comment:56" align="right">comment:56</div>

Yeah, I'm adding that in the branch for mpc now.  I agree it makes sense to bundle them together.



---

archive/issue_comments_421118.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\n(BTW I'm trying to organize all these spkg-configure tickets under the \"build: configure\" component)",
    "created_at": "2019-05-10T14:42:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421118",
    "user": "https://github.com/embray"
}
```

<div id="comment:57" align="right">comment:57</div>

(BTW I'm trying to organize all these spkg-configure tickets under the "build: configure" component)



---

archive/issue_events_374474.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-05-10T14:42:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "000080",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374474"
}
```



---

archive/issue_events_374475.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-05-10T14:42:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build%3A%20configure",
    "label_color": "000080",
    "label_name": "c: build: configure",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374475"
}
```



---

archive/issue_comments_421119.json:
```json
{
    "body": "Changed keywords from **spkg-configure** to **spkg-configure mpfr**",
    "created_at": "2019-05-10T14:42:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421119",
    "user": "https://github.com/embray"
}
```

Changed keywords from **spkg-configure** to **spkg-configure mpfr**



---

archive/issue_events_374476.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-05-11T10:02:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374476"
}
```



---

archive/issue_events_374477.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-05-11T10:02:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374477"
}
```



---

archive/issue_comments_421120.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nall clear",
    "created_at": "2019-05-11T10:02:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421120",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:58" align="right">comment:58</div>

all clear



---

archive/issue_events_374478.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-05-11T14:53:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374478"
}
```



---

archive/issue_events_374479.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-05-11T14:53:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374479"
}
```



---

archive/issue_comments_421121.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nMerge conflict, please fix",
    "created_at": "2019-05-11T14:53:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421121",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:59" align="right">comment:59</div>

Merge conflict, please fix



---

archive/issue_comments_421122.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nVolker, we have `u/dimpase/build/mpfr-mpc-ntl`, which is the merged mpfr+mpc - the branch of #27259, also includes this one (#27258), and ntl from #27265.\nThey are modifying many common files, and should be merged together.\nHow do we go about it? We can add a configure bump to `u/dimpase/build/mpfr-mpc-ntl`,\nafter rebasing it appropriately, so that #27258, #27259, and #27265 are all\nmerged together in one go.\n\nWe can open a special ticket for it if you prefer, or deal with it here.",
    "created_at": "2019-05-11T22:06:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421122",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:60" align="right">comment:60</div>

Volker, we have `u/dimpase/build/mpfr-mpc-ntl`, which is the merged mpfr+mpc - the branch of #27259, also includes this one (#27258), and ntl from #27265.
They are modifying many common files, and should be merged together.
How do we go about it? We can add a configure bump to `u/dimpase/build/mpfr-mpc-ntl`,
after rebasing it appropriately, so that #27258, #27259, and #27265 are all
merged together in one go.

We can open a special ticket for it if you prefer, or deal with it here.



---

archive/issue_comments_421123.json:
```json
{
    "body": "Changed commit from **[1948e33](https://github.com/sagemath/sagetrac-mirror/commit/1948e335c3b5c447c674c8ec27c49f6472556ecf)** to **[0329fd9](https://github.com/sagemath/sagetrac-mirror/commit/0329fd951a75cdf6f35c4681615b3aa914897bcf)**",
    "created_at": "2019-05-13T14:42:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421123",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1948e33](https://github.com/sagemath/sagetrac-mirror/commit/1948e335c3b5c447c674c8ec27c49f6472556ecf)** to **[0329fd9](https://github.com/sagemath/sagetrac-mirror/commit/0329fd951a75cdf6f35c4681615b3aa914897bcf)**



---

archive/issue_comments_421124.json:
```json
{
    "body": "<div id=\"comment:61\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5e5e3d8d68cd8feb06881a15ad925b3dbb05126\">d5e5e3d</a></td><td><code>spkg-configure for mpfr, adjustments for its dependees</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0329fd951a75cdf6f35c4681615b3aa914897bcf\">0329fd9</a></td><td><code>Add one missing SAGE_CONFIGURE_MPFR, for building gcc</code></td></tr></table>\n",
    "created_at": "2019-05-13T14:42:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421124",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:61"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5e5e3d8d68cd8feb06881a15ad925b3dbb05126">d5e5e3d</a></td><td><code>spkg-configure for mpfr, adjustments for its dependees</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0329fd951a75cdf6f35c4681615b3aa914897bcf">0329fd9</a></td><td><code>Add one missing SAGE_CONFIGURE_MPFR, for building gcc</code></td></tr></table>




---

archive/issue_comments_421125.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nRebased.  Not sure why it had a merge conflict, as there were no conflicts found during rebasing.",
    "created_at": "2019-05-13T14:43:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421125",
    "user": "https://github.com/embray"
}
```

<div id="comment:62" align="right">comment:62</div>

Rebased.  Not sure why it had a merge conflict, as there were no conflicts found during rebasing.



---

archive/issue_events_374480.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-05-13T14:43:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374480"
}
```



---

archive/issue_events_374481.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-05-13T14:43:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374481"
}
```



---

archive/issue_comments_421126.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nThis ticket should probably not be merged by itself.  Instead please merge #27822 which incorporates this one.",
    "created_at": "2019-05-13T15:30:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421126",
    "user": "https://github.com/embray"
}
```

<div id="comment:63" align="right">comment:63</div>

This ticket should probably not be merged by itself.  Instead please merge #27822 which incorporates this one.



---

archive/issue_comments_421127.json:
```json
{
    "body": "Changed branch from **[public/packages/mpfr-config](https://github.com/sagemath/sagetrac-mirror/tree/public/packages/mpfr-config)** to **[0329fd9](https://github.com/sagemath/sagetrac-mirror/commit/0329fd951a75cdf6f35c4681615b3aa914897bcf)**",
    "created_at": "2019-05-17T11:45:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421127",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/packages/mpfr-config](https://github.com/sagemath/sagetrac-mirror/tree/public/packages/mpfr-config)** to **[0329fd9](https://github.com/sagemath/sagetrac-mirror/commit/0329fd951a75cdf6f35c4681615b3aa914897bcf)**



---

archive/issue_events_374482.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-05-17T11:45:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374482"
}
```



---

archive/issue_events_374483.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-05-17T11:45:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374483"
}
```



---

archive/issue_comments_421128.json:
```json
{
    "body": "Changed commit from **[0329fd9](https://github.com/sagemath/sagetrac-mirror/commit/0329fd951a75cdf6f35c4681615b3aa914897bcf)** to none",
    "created_at": "2019-05-20T18:26:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421128",
    "user": "https://github.com/vbraun"
}
```

Changed commit from **[0329fd9](https://github.com/sagemath/sagetrac-mirror/commit/0329fd951a75cdf6f35c4681615b3aa914897bcf)** to none



---

archive/issue_comments_421129.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nThe [comment:63](#comment:63) did say this should not be merged on its own, didn't?",
    "created_at": "2019-05-20T18:36:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421129",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:66" align="right">comment:66</div>

The [comment:63](#comment:63) did say this should not be merged on its own, didn't?



---

archive/issue_events_374484.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-05-20T23:32:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374484"
}
```



---

archive/issue_events_374485.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-05-20T23:32:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374485"
}
```



---

archive/issue_events_374486.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-05-20T23:32:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374486"
}
```



---

archive/issue_events_374487.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-05-20T23:32:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374487"
}
```



---

archive/issue_comments_421130.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n recognise system's mpfr version via `mpfr_free_pool` presence, generate `SAGE_MPFR_PREFIX` to be used with `--with-mpfr=` options.\n \n-configure tarball: https://trac.sagemath.org/raw-attachment/ticket/27258/configure-318.tar.gz\n+the branch to be merged as a part of #27822\n``````\n",
    "created_at": "2019-05-20T23:32:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27258#issuecomment-421130",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 recognise system's mpfr version via `mpfr_free_pool` presence, generate `SAGE_MPFR_PREFIX` to be used with `--with-mpfr=` options.
 
-configure tarball: https://trac.sagemath.org/raw-attachment/ticket/27258/configure-318.tar.gz
+the branch to be merged as a part of #27822
``````




---

archive/issue_events_374488.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-05-20T23:32:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374488"
}
```



---

archive/issue_events_374489.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-05-20T23:32:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374489"
}
```



---

archive/issue_events_374490.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-06-28T10:05:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "label": "https://github.com/sagemath/sage/labels/duplicate",
    "label_color": "a6a6a6",
    "label_name": "duplicate",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374490"
}
```



---

archive/issue_events_374491.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-06-28T10:05:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374491"
}
```



---

archive/issue_events_374492.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-06-28T10:05:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/27258",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27258#event-374492"
}
```
