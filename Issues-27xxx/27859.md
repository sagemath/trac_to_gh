# Issue 27859: Implementing the Yen's algorithm and its improved versions

archive/issues_027622.json:
```json
{
    "body": "This ticket aims at implementing the Yen's algorithm and its improved version for k shortest simple path enumeration between the source and the target. The implementation will be compared to the original yen's algorithm.\n\nAssignee: @rajat1433\n\nCC:  @dcoudert\n\nKeywords: gsoc19\n\nBranch/Commit: fcfa3e661e0840adba52a7e7f4a5b692450a8bad\n\nReviewer: David Coudert\n\nAuthor: Rajat Mittal\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/27859\n\n",
    "closed_at": "2019-08-11T16:44:05Z",
    "created_at": "2019-05-22T10:30:58Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.9",
    "title": "Implementing the Yen's algorithm and its improved versions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27859",
    "user": "https://github.com/rajat1433"
}
```
This ticket aims at implementing the Yen's algorithm and its improved version for k shortest simple path enumeration between the source and the target. The implementation will be compared to the original yen's algorithm.

Assignee: @rajat1433

CC:  @dcoudert

Keywords: gsoc19

Branch/Commit: fcfa3e661e0840adba52a7e7f4a5b692450a8bad

Reviewer: David Coudert

Author: Rajat Mittal

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/27859





---

archive/issue_comments_414960.json:
```json
{
    "body": "Changing keywords from \"\" to \"gsoc19\".",
    "created_at": "2019-05-22T10:59:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414960",
    "user": "https://github.com/dcoudert"
}
```

Changing keywords from "" to "gsoc19".



---

archive/issue_comments_414961.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-26T08:24:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414961",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414962.json:
```json
{
    "body": "<a id='comment:4'></a>This is the implementation of original yen's algorithm for k shortest paths which the method will return as an iterator. This will be compared with the improved yen's(Feng) algorithm which will be implemented shortly.\n\nshortest_path methods are also enhanced by adding exclude_vertices and exclude_edges parameter which are required for Yen's or improved Yen's algorithm. If some improvements are possible please let me know so I can improve the above method.",
    "created_at": "2019-05-26T08:28:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414962",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:4'></a>This is the implementation of original yen's algorithm for k shortest paths which the method will return as an iterator. This will be compared with the improved yen's(Feng) algorithm which will be implemented shortly.

shortest_path methods are also enhanced by adding exclude_vertices and exclude_edges parameter which are required for Yen's or improved Yen's algorithm. If some improvements are possible please let me know so I can improve the above method.



---

archive/issue_comments_414963.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-26T08:31:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414963",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414964.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-05-26T08:31:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414964",
    "user": "https://github.com/rajat1433"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_414965.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-26T17:48:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414965",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414966.json:
```json
{
    "body": "<a id='comment:8'></a>I'm a bit reluctant to the changes you did in `shortest_path` and `bidirectional_dijkstra` as it will slowdown these methods when `exclude_edges` and `exclude_vertices` are false. A significant effort has been put in optimizing these methods, so slowing them is not clever.\n\nYou must try to have the minimum possible impact on them. For instance do:\n\n```\nif not exclude_edges and not exclude_vertices:\n    neighbors = nbr\nelse:\n    neighbors = []\n    for w in nbr:\n        ...\n```\n\nyou could also create `exclude_vertices_int` and `exclude_edges_int` to avoid code like\n`(self.vertex_label(u), self.vertex_label(w)) not in exclude_edges`.\n\n\nIs method `yen_k_shortest_paths` only for undirected graphs ?",
    "created_at": "2019-05-27T16:55:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414966",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:8'></a>I'm a bit reluctant to the changes you did in `shortest_path` and `bidirectional_dijkstra` as it will slowdown these methods when `exclude_edges` and `exclude_vertices` are false. A significant effort has been put in optimizing these methods, so slowing them is not clever.

You must try to have the minimum possible impact on them. For instance do:

```
if not exclude_edges and not exclude_vertices:
    neighbors = nbr
else:
    neighbors = []
    for w in nbr:
        ...
```

you could also create `exclude_vertices_int` and `exclude_edges_int` to avoid code like
`(self.vertex_label(u), self.vertex_label(w)) not in exclude_edges`.


Is method `yen_k_shortest_paths` only for undirected graphs ?



---

archive/issue_comments_414967.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-28T04:39:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414967",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414968.json:
```json
{
    "body": "<a id='comment:10'></a>I have made the changes in shortest_paths methods to have a minimal effect of exclude_edges and exclude_vertices.\n\nyen_k_shortest_paths is for both the directed as well as undirected graphs as evident from the examples in the method.\n\n\n```\n            sage: g = DiGraph([(1, 2, 20), (1, 3, 10), (1, 4, 30), (2, 5, 20), (3, 5, 10), (4, 5, 30)])\n            sage: list(g.yen_k_shortest_paths(1, 5, by_weight=True))\n            [[1, 3, 5], [1, 2, 5], [1, 4, 5]]\n            sage: list(g.yen_k_shortest_paths(1, 5))\n            [[1, 2, 5], [1, 3, 5], [1, 4, 5]]\n            sage: list(g.yen_k_shortest_paths(1, 1))\n            [[1]]\n\n            sage: g = Graph([(1, 2, 20), (1, 3, 10), (1, 4, 30), (2, 5, 20), (3, 5, 10), (4, 5, 30), (1, 6, 100), (5, 6, 5)])\n            sage: list(g.yen_k_shortest_paths(1, 6, by_weight = True))\n            [[1, 3, 5, 6], [1, 2, 5, 6], [1, 4, 5, 6], [1, 6]]\n            sage: list(g.yen_k_shortest_paths(1, 6))\n            [[1, 6], [1, 2, 5, 6], [1, 3, 5, 6], [1, 4, 5, 6]]\n```",
    "created_at": "2019-05-28T04:42:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414968",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:10'></a>I have made the changes in shortest_paths methods to have a minimal effect of exclude_edges and exclude_vertices.

yen_k_shortest_paths is for both the directed as well as undirected graphs as evident from the examples in the method.


```
            sage: g = DiGraph([(1, 2, 20), (1, 3, 10), (1, 4, 30), (2, 5, 20), (3, 5, 10), (4, 5, 30)])
            sage: list(g.yen_k_shortest_paths(1, 5, by_weight=True))
            [[1, 3, 5], [1, 2, 5], [1, 4, 5]]
            sage: list(g.yen_k_shortest_paths(1, 5))
            [[1, 2, 5], [1, 3, 5], [1, 4, 5]]
            sage: list(g.yen_k_shortest_paths(1, 1))
            [[1]]

            sage: g = Graph([(1, 2, 20), (1, 3, 10), (1, 4, 30), (2, 5, 20), (3, 5, 10), (4, 5, 30), (1, 6, 100), (5, 6, 5)])
            sage: list(g.yen_k_shortest_paths(1, 6, by_weight = True))
            [[1, 3, 5, 6], [1, 2, 5, 6], [1, 4, 5, 6], [1, 6]]
            sage: list(g.yen_k_shortest_paths(1, 6))
            [[1, 6], [1, 2, 5, 6], [1, 3, 5, 6], [1, 4, 5, 6]]
```



---

archive/issue_comments_414969.json:
```json
{
    "body": "<a id='comment:11'></a>Replying to [comment:10 gh-rajat1433]:\n> I have made the changes in shortest_paths methods to have a minimal effect of exclude_edges and exclude_vertices.\n\n\nyou were too fast. You still have `if not exclude_edges and not exclude_vertices:` inside the `for w in nbr:`. Also, check if the order of the other tests could be improved.\n\n> yen_k_shortest_paths is for both the directed as well as undirected graphs as evident from the examples in the method.\n\n\nThe first lines of description are not clear. That's why I asked.\n\nPlus it would be better to have a single line of description.",
    "created_at": "2019-05-28T06:44:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414969",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:11'></a>Replying to [comment:10 gh-rajat1433]:
> I have made the changes in shortest_paths methods to have a minimal effect of exclude_edges and exclude_vertices.


you were too fast. You still have `if not exclude_edges and not exclude_vertices:` inside the `for w in nbr:`. Also, check if the order of the other tests could be improved.

> yen_k_shortest_paths is for both the directed as well as undirected graphs as evident from the examples in the method.


The first lines of description are not clear. That's why I asked.

Plus it would be better to have a single line of description.



---

archive/issue_comments_414970.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-28T08:24:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414970",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414971.json:
```json
{
    "body": "<a id='comment:13'></a>Oops! I have made the description more clear and also concised the checks and removed \"if not exclude_edges and not exclude_vertices:\" these from wherever unnecessary.\n\nIf there is further any improvement possible please let me know.",
    "created_at": "2019-05-28T08:27:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414971",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:13'></a>Oops! I have made the description more clear and also concised the checks and removed "if not exclude_edges and not exclude_vertices:" these from wherever unnecessary.

If there is further any improvement possible please let me know.



---

archive/issue_comments_414972.json:
```json
{
    "body": "<a id='comment:14'></a>What about:\n\n```diff\n-                        if exclude_edges and ((out == 1 and (u, w) not in exclude_edges_int) or (out == -1 and (w, u) not in exclude_edges_int)):\n-                            if not exclude_vertices or (exclude_vertices and w not in exclude_vertices_int):\n-                                neighbors.append(w)\n-                        elif not exclude_edges and exclude_vertices and w not in exclude_vertices_int:\n-                            neighbors.append(w)\n+                        if exclude_vertices and w not in exclude_vertices_int:\n+                            neighbors.append(w)\n+                        elif (exclude_edges and \n+                              ((out == 1 and (u, w) not in exclude_edges_int) or \n+                               (out == -1 and (w, u) not in exclude_edges_int))):\n+                            neighbors.append(w)\n```",
    "created_at": "2019-05-28T09:08:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414972",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:14'></a>What about:

```diff
-                        if exclude_edges and ((out == 1 and (u, w) not in exclude_edges_int) or (out == -1 and (w, u) not in exclude_edges_int)):
-                            if not exclude_vertices or (exclude_vertices and w not in exclude_vertices_int):
-                                neighbors.append(w)
-                        elif not exclude_edges and exclude_vertices and w not in exclude_vertices_int:
-                            neighbors.append(w)
+                        if exclude_vertices and w not in exclude_vertices_int:
+                            neighbors.append(w)
+                        elif (exclude_edges and 
+                              ((out == 1 and (u, w) not in exclude_edges_int) or 
+                               (out == -1 and (w, u) not in exclude_edges_int))):
+                            neighbors.append(w)
```



---

archive/issue_comments_414973.json:
```json
{
    "body": "<a id='comment:15'></a>I think there may be a problem in that, consider that w is not in exclude_vertices(there are other vertices though) but (u,w) is present in exclude_edges then w will be appended as a neighbor, but it should be not appended.",
    "created_at": "2019-05-28T10:57:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414973",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:15'></a>I think there may be a problem in that, consider that w is not in exclude_vertices(there are other vertices though) but (u,w) is present in exclude_edges then w will be appended as a neighbor, but it should be not appended.



---

archive/issue_comments_414974.json:
```json
{
    "body": "<a id='comment:16'></a>\n```diff\n+                        if exclude_vertices and w in exclude_vertices_int:\n+                            continue\n+                        if (exclude_edges and \n+                              ((out == 1 and (u, w) in exclude_edges_int) or \n+                               (out == -1 and (w, u) in exclude_edges_int))):\n+                            continue\n+                        neighbors.append(w)\n```",
    "created_at": "2019-05-28T12:13:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414974",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:16'></a>
```diff
+                        if exclude_vertices and w in exclude_vertices_int:
+                            continue
+                        if (exclude_edges and 
+                              ((out == 1 and (u, w) in exclude_edges_int) or 
+                               (out == -1 and (w, u) in exclude_edges_int))):
+                            continue
+                        neighbors.append(w)
```



---

archive/issue_comments_414975.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-28T14:17:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414975",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414976.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-29T00:57:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414976",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414977.json:
```json
{
    "body": "<a id='comment:19'></a>- In fact, `exclude_vertices` and `exclude_edges` could be any kind of iterable containers since we turn them directly to something else.\n\n- You can do:\n\n```diff\n-        if exclude_vertices:\n-            exclude_vertices_int = set()\n-            for u in exclude_vertices:\n-                exclude_vertices_int.add(self.get_vertex(u))\n+        cdef set exclude_vertices_int = {self.get_vertex(u) for u in exclude_vertices}\n+        cdef set exclude_edges_int = {(self.get_vertex(u), self.get_vertex(v)) for u, v in exclude_edges}\n```\n\n- You may also define `cdef bint exclude = exclude_vertice or exclude_edges` and then do a simpler test `if not exclude`...\n\n- Note that the set of vertices and edges that you exclude is sometimes called `forbidden`.\n\n- pep8\n\n```diff\n-            raise LookupError(\"No path between %s and %s\" % (x, y))\n+            raise LookupError(\"no path between %s and %s\" % (x, y))\n```\n  in fact the error message could be `no path from/to an excluded vertex` or something like that.\n\n- in Yen's algorithm, could you document the code\n- I think that case `if not prev_path:` should be done before the while loop and that the while loop should be `while heap_paths:`.",
    "created_at": "2019-05-30T09:04:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414977",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:19'></a>- In fact, `exclude_vertices` and `exclude_edges` could be any kind of iterable containers since we turn them directly to something else.

- You can do:

```diff
-        if exclude_vertices:
-            exclude_vertices_int = set()
-            for u in exclude_vertices:
-                exclude_vertices_int.add(self.get_vertex(u))
+        cdef set exclude_vertices_int = {self.get_vertex(u) for u in exclude_vertices}
+        cdef set exclude_edges_int = {(self.get_vertex(u), self.get_vertex(v)) for u, v in exclude_edges}
```

- You may also define `cdef bint exclude = exclude_vertice or exclude_edges` and then do a simpler test `if not exclude`...

- Note that the set of vertices and edges that you exclude is sometimes called `forbidden`.

- pep8

```diff
-            raise LookupError("No path between %s and %s" % (x, y))
+            raise LookupError("no path between %s and %s" % (x, y))
```
  in fact the error message could be `no path from/to an excluded vertex` or something like that.

- in Yen's algorithm, could you document the code
- I think that case `if not prev_path:` should be done before the while loop and that the while loop should be `while heap_paths:`.



---

archive/issue_comments_414978.json:
```json
{
    "body": "<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-30T12:00:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414978",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414979.json:
```json
{
    "body": "<a id='comment:21'></a>I have made the container description as an iterable and made the improvements in c_graph file in the above commit.\n\n\nI think the positioning of if not prev_path: is correct still I will check it, I will be documenting the Yen's code soon in my next commit.",
    "created_at": "2019-05-30T12:04:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414979",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:21'></a>I have made the container description as an iterable and made the improvements in c_graph file in the above commit.


I think the positioning of if not prev_path: is correct still I will check it, I will be documenting the Yen's code soon in my next commit.



---

archive/issue_comments_414980.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-30T13:37:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414980",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414981.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-30T13:38:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414981",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414982.json:
```json
{
    "body": "<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-30T13:40:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414982",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414983.json:
```json
{
    "body": "<a id='comment:25'></a>Replying to [comment:19 dcoudert]:\n\n> - in Yen's algorithm, could you document the code\n \nDone\n\nIf any improvement is possible let me know.\n\n> - I think that case `if not prev_path:` should be done before the while loop and that the while loop should be `while heap_paths:`.\n\n\nThe thing is that it will enter this if statement only once and that too at the start. So it can be placed outside the while loop but placing it inside seems to give a kind of structure and avoid redundancy as the part after if else condition(line 16097) will be redundant if it is placed outside the while loop so I place it inside the while(True) loop.",
    "created_at": "2019-05-30T13:46:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414983",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:25'></a>Replying to [comment:19 dcoudert]:

> - in Yen's algorithm, could you document the code
 
Done

If any improvement is possible let me know.

> - I think that case `if not prev_path:` should be done before the while loop and that the while loop should be `while heap_paths:`.


The thing is that it will enter this if statement only once and that too at the start. So it can be placed outside the while loop but placing it inside seems to give a kind of structure and avoid redundancy as the part after if else condition(line 16097) will be redundant if it is placed outside the while loop so I place it inside the while(True) loop.



---

archive/issue_comments_414984.json:
```json
{
    "body": "Set assignee to @rajat1433.",
    "created_at": "2019-05-30T13:49:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414984",
    "user": "https://github.com/rajat1433"
}
```

Set assignee to @rajat1433.



---

archive/issue_comments_414985.json:
```json
{
    "body": "<a id='comment:27'></a>You must reorder the blocks like that:\n\n```\n# will enter here for the first time to compute the shortest path between source and target\nif by_weight:\n    path = shortest_path_func(source, target, weight_function=weight_function)\n...\nheap_paths.add(hash_path) # adding the path to the heap_paths set\n\nwhile heap_paths:\n    (cost, path1) = heappop(heap_sorted_paths) # extracting the next best path from the heap\n    hash_path = tuple(path1)\n    ...\n    prev_path = path1\n\n    exclude_vertices = []\n    exclude_edges = []\n    for i in range(1, len(prev_path)): # deviating from the previous path to find the candidate paths\n        root = prev_path[:i] # root part of the previous path\n        ....\n```",
    "created_at": "2019-05-31T08:33:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414985",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:27'></a>You must reorder the blocks like that:

```
# will enter here for the first time to compute the shortest path between source and target
if by_weight:
    path = shortest_path_func(source, target, weight_function=weight_function)
...
heap_paths.add(hash_path) # adding the path to the heap_paths set

while heap_paths:
    (cost, path1) = heappop(heap_sorted_paths) # extracting the next best path from the heap
    hash_path = tuple(path1)
    ...
    prev_path = path1

    exclude_vertices = []
    exclude_edges = []
    for i in range(1, len(prev_path)): # deviating from the previous path to find the candidate paths
        root = prev_path[:i] # root part of the previous path
        ....
```



---

archive/issue_comments_414986.json:
```json
{
    "body": "<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-31T15:49:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414986",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414987.json:
```json
{
    "body": "<a id='comment:29'></a>For feng's algorithm should I implement it here in this ticket or create a new ticket ?\nActually Feng's algorithm is only for directed graphs so this algorithm in this tkt is important for undirected graphs and will be used to compare timings with Feng's algorithm. So I guess its best to implement a new method.",
    "created_at": "2019-06-01T09:03:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414987",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:29'></a>For feng's algorithm should I implement it here in this ticket or create a new ticket ?
Actually Feng's algorithm is only for directed graphs so this algorithm in this tkt is important for undirected graphs and will be used to compare timings with Feng's algorithm. So I guess its best to implement a new method.



---

archive/issue_comments_414988.json:
```json
{
    "body": "<a id='comment:30'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-01T17:16:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414988",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414989.json:
```json
{
    "body": "<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-01T17:42:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414989",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414990.json:
```json
{
    "body": "<a id='comment:32'></a>Replying to [comment:31 git]:\n> Branch pushed to git repo; I updated commit sha1. New commits:\n> |                                                                                                                                           |                    |\n> |-------------------------------------------------------------------------------------------------------------------------------------------|--------------------|\n> |[20515f9](https://git.sagemath.org/sage.git/commit/?id=20515f95fcb2cbf273de57718496e24a0a01caad)|`revert back to set`|\n\n\nI hv reverted back to set here as there can be multiple instances of same edges and vertices in exclude_edges and exclude_vertices.",
    "created_at": "2019-06-01T17:43:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414990",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:32'></a>Replying to [comment:31 git]:
> Branch pushed to git repo; I updated commit sha1. New commits:
> |                                                                                                                                           |                    |
> |-------------------------------------------------------------------------------------------------------------------------------------------|--------------------|
> |[20515f9](https://git.sagemath.org/sage.git/commit/?id=20515f95fcb2cbf273de57718496e24a0a01caad)|`revert back to set`|


I hv reverted back to set here as there can be multiple instances of same edges and vertices in exclude_edges and exclude_vertices.



---

archive/issue_comments_414991.json:
```json
{
    "body": "<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-03T15:02:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414991",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414992.json:
```json
{
    "body": "<a id='comment:34'></a>> So I guess its best to implement a new method.\n\nYes, go for it.",
    "created_at": "2019-06-03T15:21:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414992",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:34'></a>> So I guess its best to implement a new method.

Yes, go for it.



---

archive/issue_comments_414993.json:
```json
{
    "body": "<a id='comment:35'></a>I am planning to include some new parameters like \n\n1.) include_vertices in shortest path functions\n\n2.) reduced cost dictionary to shortest path functions\n\nfirst one is for finding the all yellow node path in the graph as per the feng's algorithm since these number will be less as compared to exclude_vertices so this seemed a suitable parameter.\n\nsecond one can be avoided but that will require to make a duplicate copy of the graph with the edge weights as reduced weights but not sure if it is good to make a copy of the graph is ok or not but using this parameter can help us in retrieving the edge weights.\n\nAny suggestions on if anything above can be done in a better way will be helpful.",
    "created_at": "2019-06-04T11:58:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414993",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:35'></a>I am planning to include some new parameters like 

1.) include_vertices in shortest path functions

2.) reduced cost dictionary to shortest path functions

first one is for finding the all yellow node path in the graph as per the feng's algorithm since these number will be less as compared to exclude_vertices so this seemed a suitable parameter.

second one can be avoided but that will require to make a duplicate copy of the graph with the edge weights as reduced weights but not sure if it is good to make a copy of the graph is ok or not but using this parameter can help us in retrieving the edge weights.

Any suggestions on if anything above can be done in a better way will be helpful.



---

archive/issue_comments_414994.json:
```json
{
    "body": "<a id='comment:36'></a>I'm reluctant to add new parameters to the shortest path methods. The methods will become more complicated and difficult to maintain, and can be slow down.\n\nAn alternative is to create a new .pyx file dedicated to paths enumerations, and to put inside specialized shortest paths methods that are needed.",
    "created_at": "2019-06-04T13:34:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414994",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:36'></a>I'm reluctant to add new parameters to the shortest path methods. The methods will become more complicated and difficult to maintain, and can be slow down.

An alternative is to create a new .pyx file dedicated to paths enumerations, and to put inside specialized shortest paths methods that are needed.



---

archive/issue_comments_414995.json:
```json
{
    "body": "<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-05T00:51:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414995",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414996.json:
```json
{
    "body": "<a id='comment:38'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-11T03:02:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414996",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_414997.json:
```json
{
    "body": "<a id='comment:39'></a>In **c_graph file** there are 2 new shortest path methods as a helper fn to yen's as well as feng's algorithm:\n\n- bidirectional_dijkstra_special\n\n- shortest_path_special\n\nwhich can be moved to separate file or remain here whatever seems appropriate.\n\nIn **generic_graph** file :\n\n- yen_k_shortest_simple_paths [original YEN] [completed]\n\n- yen_k_shortest_simple_paths_directed [Feng's implementation]\n\n  the feng's implementation is not fully completed yet there are few improvements and corner cases to be considered which I will be doing shortly but its still functional and can be tested.",
    "created_at": "2019-06-11T03:10:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414997",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:39'></a>In **c_graph file** there are 2 new shortest path methods as a helper fn to yen's as well as feng's algorithm:

- bidirectional_dijkstra_special

- shortest_path_special

which can be moved to separate file or remain here whatever seems appropriate.

In **generic_graph** file :

- yen_k_shortest_simple_paths [original YEN] [completed]

- yen_k_shortest_simple_paths_directed [Feng's implementation]

  the feng's implementation is not fully completed yet there are few improvements and corner cases to be considered which I will be doing shortly but its still functional and can be tested.



---

archive/issue_comments_414998.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-06-11T03:10:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414998",
    "user": "https://github.com/rajat1433"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_414999.json:
```json
{
    "body": "<a id='comment:41'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-12T02:24:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-414999",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:41'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415000.json:
```json
{
    "body": "<a id='comment:42'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-14T10:50:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415000",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415001.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-06-14T10:54:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415001",
    "user": "https://github.com/rajat1433"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_415002.json:
```json
{
    "body": "<a id='comment:44'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-15T01:03:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415002",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:44'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415003.json:
```json
{
    "body": "<a id='comment:45'></a>Merged with latest develop [SageMath](SageMath) version 8.8.rc1",
    "created_at": "2019-06-15T01:05:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415003",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:45'></a>Merged with latest develop [SageMath](SageMath) version 8.8.rc1



---

archive/issue_events_069054.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-06-15T09:27:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27859#event-69054"
}
```



---

archive/issue_comments_415004.json:
```json
{
    "body": "<a id='comment:47'></a>**shortest_path_special**\n- you could add a text explaining that this method is an extension of `shortest_path` enabling to exclude vertices/edges from the search\n\n- add doctests\n\n- `contatiner` -> `container`\n\n-  the case `if x == y:` should depend on `distance_flag`: return either 0 or `[x]` (or `[]`). You can take the opportunity to correct other methods for the same issue\n\n- assign default values to `exclude_vertices_int` and `exclude_edges_int`\n\n- `elif self._cg_rev is not None: # Sparse` add an extra space before `#`. This is pep8\n- same for `# Dense`\n\n\n**bidirectional_dijkstra_special**\n- same comments as above\n\n- I suggest to move the definition of the priority queue (`cdef priority_queue[...`) just before `pq.push(...`\n\n\nI still have to review the implementation of Yen's algorithm. One concern is that these method should better fit in a new file gathering all methods related to the enumeration of paths. We could then let in `generic_graph`, and/or in `graph.py` and `digraph.py`, methods for selecting the algorithm to use.",
    "created_at": "2019-06-15T09:57:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415004",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:47'></a>**shortest_path_special**
- you could add a text explaining that this method is an extension of `shortest_path` enabling to exclude vertices/edges from the search

- add doctests

- `contatiner` -> `container`

-  the case `if x == y:` should depend on `distance_flag`: return either 0 or `[x]` (or `[]`). You can take the opportunity to correct other methods for the same issue

- assign default values to `exclude_vertices_int` and `exclude_edges_int`

- `elif self._cg_rev is not None: # Sparse` add an extra space before `#`. This is pep8
- same for `# Dense`


**bidirectional_dijkstra_special**
- same comments as above

- I suggest to move the definition of the priority queue (`cdef priority_queue[...`) just before `pq.push(...`


I still have to review the implementation of Yen's algorithm. One concern is that these method should better fit in a new file gathering all methods related to the enumeration of paths. We could then let in `generic_graph`, and/or in `graph.py` and `digraph.py`, methods for selecting the algorithm to use.



---

archive/issue_comments_415005.json:
```json
{
    "body": "<a id='comment:48'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-16T01:57:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415005",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:48'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415006.json:
```json
{
    "body": "<a id='comment:49'></a>I have improved the code in shortest_path methods and added the doctests.",
    "created_at": "2019-06-16T01:58:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415006",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:49'></a>I have improved the code in shortest_path methods and added the doctests.



---

archive/issue_comments_415007.json:
```json
{
    "body": "<a id='comment:50'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-17T10:46:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415007",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:50'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415008.json:
```json
{
    "body": "<a id='comment:51'></a>In the previous commit I applied the **Lawler's modification** (in which duplicates path are not calculated as opposed to the original algorithm where they are calculated and then discarded when they are found to be duplicates) to Yen's algorithm to improve its performance.\n\n\nReference: https://en.wikipedia.org/wiki/Yen%27s_algorithm",
    "created_at": "2019-06-17T10:48:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415008",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:51'></a>In the previous commit I applied the **Lawler's modification** (in which duplicates path are not calculated as opposed to the original algorithm where they are calculated and then discarded when they are found to be duplicates) to Yen's algorithm to improve its performance.


Reference: https://en.wikipedia.org/wiki/Yen%27s_algorithm



---

archive/issue_comments_415009.json:
```json
{
    "body": "<a id='comment:52'></a>You should add a check of weights. See `G._check_weight_function??`\n\n```\nsage: g = digraphs.DeBruijn(2, 3)\nsage: g.vertices()\n['000', '001', '010', '011', '100', '101', '110', '111']\nsage: print(g.edges())\n[('000', '000', '0'), ('000', '001', '1'), ('001', '010', '0'), ('001', '011', '1'), ('010', '100', '0'), ('010', '101', '1'), ('011', '110', '0'), ('011', '111', '1'), ('100', '000', '0'), ('100', '001', '1'), ('101', '010', '0'), ('101', '011', '1'), ('110', '100', '0'), ('110', '101', '1'), ('111', '110', '0'), ('111', '111', '1')]\nsage: for p in g.yen_k_shortest_simple_paths_directed('000', '111', by_weight=True):\n....:     print(p)\n....:     \n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-10-20beb2396f59> in <module>()\n----> 1 for p in g.yen_k_shortest_simple_paths_directed('000', '111', by_weight=True):\n      2     print(p)\n      3 \n\n/Users/dcoudert/sage3/sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py in yen_k_shortest_simple_paths_directed(self, source, target, weight_function, by_weight)\n  16314         for e in self.edge_iterator():\n  16315             if e[0] in dist and e[1] in dist:\n> 16316                 reduced_cost[(e[0], e[1])] = weight_function(e) + dist[e[1]] - dist[e[0]]\n  16317         exclude_vert_set = set(self) - set(dist.keys())\n  16318         # finding the parent information from successor\n\nTypeError: unsupported operand type(s) for -: 'str' and 'str'\n```\n\nAlso, is it possible (via specific parameters) to get edges instead of vertices ? the weight of each path ?",
    "created_at": "2019-06-19T13:59:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415009",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:52'></a>You should add a check of weights. See `G._check_weight_function??`

```
sage: g = digraphs.DeBruijn(2, 3)
sage: g.vertices()
['000', '001', '010', '011', '100', '101', '110', '111']
sage: print(g.edges())
[('000', '000', '0'), ('000', '001', '1'), ('001', '010', '0'), ('001', '011', '1'), ('010', '100', '0'), ('010', '101', '1'), ('011', '110', '0'), ('011', '111', '1'), ('100', '000', '0'), ('100', '001', '1'), ('101', '010', '0'), ('101', '011', '1'), ('110', '100', '0'), ('110', '101', '1'), ('111', '110', '0'), ('111', '111', '1')]
sage: for p in g.yen_k_shortest_simple_paths_directed('000', '111', by_weight=True):
....:     print(p)
....:     
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-10-20beb2396f59> in <module>()
----> 1 for p in g.yen_k_shortest_simple_paths_directed('000', '111', by_weight=True):
      2     print(p)
      3 

/Users/dcoudert/sage3/sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py in yen_k_shortest_simple_paths_directed(self, source, target, weight_function, by_weight)
  16314         for e in self.edge_iterator():
  16315             if e[0] in dist and e[1] in dist:
> 16316                 reduced_cost[(e[0], e[1])] = weight_function(e) + dist[e[1]] - dist[e[0]]
  16317         exclude_vert_set = set(self) - set(dist.keys())
  16318         # finding the parent information from successor

TypeError: unsupported operand type(s) for -: 'str' and 'str'
```

Also, is it possible (via specific parameters) to get edges instead of vertices ? the weight of each path ?



---

archive/issue_comments_415010.json:
```json
{
    "body": "<a id='comment:53'></a>Replying to [comment:52 dcoudert]:\n> You should add a check of weights. See `G._check_weight_function??`\n\nWill do that soon...\n\n \n> Also, is it possible (via specific parameters) to get edges instead of vertices ? the weight of each path ?\n\nYes it is surely possible I guess. \nSo should it be like a tuple of weight and corresponding path when report_weight is true?\n\nI can add parameter like report_edges, report_weight as I did in all_simple_paths and all_paths method previously.",
    "created_at": "2019-06-19T14:12:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415010",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:53'></a>Replying to [comment:52 dcoudert]:
> You should add a check of weights. See `G._check_weight_function??`

Will do that soon...

 
> Also, is it possible (via specific parameters) to get edges instead of vertices ? the weight of each path ?

Yes it is surely possible I guess. 
So should it be like a tuple of weight and corresponding path when report_weight is true?

I can add parameter like report_edges, report_weight as I did in all_simple_paths and all_paths method previously.



---

archive/issue_comments_415011.json:
```json
{
    "body": "<a id='comment:54'></a>> So should it be like a tuple of weight and corresponding path when report_weight is true?\n\nyes\n\n> I can add parameter like report_edges, report_weight as I did in all_simple_paths and all_paths method previously.\n\nyes",
    "created_at": "2019-06-19T14:19:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415011",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:54'></a>> So should it be like a tuple of weight and corresponding path when report_weight is true?

yes

> I can add parameter like report_edges, report_weight as I did in all_simple_paths and all_paths method previously.

yes



---

archive/issue_comments_415012.json:
```json
{
    "body": "<a id='comment:55'></a>Also, try to avoid the multiplication of comments like\n`c = 0 # c is ...`. Prefer putting comments on a different line.",
    "created_at": "2019-06-19T14:20:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415012",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:55'></a>Also, try to avoid the multiplication of comments like
`c = 0 # c is ...`. Prefer putting comments on a different line.



---

archive/issue_comments_415013.json:
```json
{
    "body": "<a id='comment:56'></a>for _check_weight_function it seem to be typecasting the string part of edge_label of g = digraphs.DeBruijn(2, 3) to float. \n\nSo I was thinking to modify _check_weight_function to accept only float as weights and not the strings? Will be better to do it in another ticket I guess if you agree?",
    "created_at": "2019-06-21T10:56:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415013",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:56'></a>for _check_weight_function it seem to be typecasting the string part of edge_label of g = digraphs.DeBruijn(2, 3) to float. 

So I was thinking to modify _check_weight_function to accept only float as weights and not the strings? Will be better to do it in another ticket I guess if you agree?



---

archive/issue_comments_415014.json:
```json
{
    "body": "<a id='comment:57'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-21T11:53:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415014",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:57'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415015.json:
```json
{
    "body": "<a id='comment:58'></a>Replying to [comment:56 gh-rajat1433]:\n> for _check_weight_function it seem to be typecasting the string part of edge_label of g = digraphs.DeBruijn(2, 3) to float. \n> \n> So I was thinking to modify _check_weight_function to accept only float as weights and not the strings? Will be better to do it in another ticket I guess if you agree?\n\n\nFor sure in another ticket. Such modification must be done with a lot of care.",
    "created_at": "2019-06-21T13:48:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415015",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:58'></a>Replying to [comment:56 gh-rajat1433]:
> for _check_weight_function it seem to be typecasting the string part of edge_label of g = digraphs.DeBruijn(2, 3) to float. 
> 
> So I was thinking to modify _check_weight_function to accept only float as weights and not the strings? Will be better to do it in another ticket I guess if you agree?


For sure in another ticket. Such modification must be done with a lot of care.



---

archive/issue_comments_415016.json:
```json
{
    "body": "<a id='comment:59'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-21T16:40:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415016",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:59'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415017.json:
```json
{
    "body": "<a id='comment:60'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-21T16:56:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415017",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:60'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415018.json:
```json
{
    "body": "<a id='comment:61'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-23T02:39:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415018",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:61'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415019.json:
```json
{
    "body": "<a id='comment:62'></a>I performed the speed tests to compare the results of the original Yen's and the Yen's modified version i.e. Feng's which I have implemented under yen's shortest path_directed.\n\n\n```\nsage: g = DiGraph()\nsage: for i in range(120):\n....:     g.add_edge(i,i+1,i%5)\n....: \nsage: for i in range(30, 40, 1):\n....:     g.add_edge(i,120,i%2)\n....:     \n....:     \n....: \nsage: %timeit list(g.yen_k_shortest_simple_paths_directed(0, 120, by_weight=True\n....: ))\n\n100 loops, best of 3: 6.4 ms per loop\nsage: \nsage: %timeit list(g.yen_k_shortest_simple_paths(0, 120, by_weight=True))\n100 loops, best of 3: 17.4 ms per loop\n\n```\n\nSo I guess now I can merge both the methods (calling the second one inside the first if the graph is directed).\n\nAlso should I move the shortest_paths_special methods which are currently in c_graph.pyx inside a separated .pyx file.",
    "created_at": "2019-06-28T07:48:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415019",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:62'></a>I performed the speed tests to compare the results of the original Yen's and the Yen's modified version i.e. Feng's which I have implemented under yen's shortest path_directed.


```
sage: g = DiGraph()
sage: for i in range(120):
....:     g.add_edge(i,i+1,i%5)
....: 
sage: for i in range(30, 40, 1):
....:     g.add_edge(i,120,i%2)
....:     
....:     
....: 
sage: %timeit list(g.yen_k_shortest_simple_paths_directed(0, 120, by_weight=True
....: ))

100 loops, best of 3: 6.4 ms per loop
sage: 
sage: %timeit list(g.yen_k_shortest_simple_paths(0, 120, by_weight=True))
100 loops, best of 3: 17.4 ms per loop

```

So I guess now I can merge both the methods (calling the second one inside the first if the graph is directed).

Also should I move the shortest_paths_special methods which are currently in c_graph.pyx inside a separated .pyx file.



---

archive/issue_comments_415020.json:
```json
{
    "body": "<a id='comment:63'></a>Speed test: the graph you use is very specific. You could try other graphs\n\nMerge: yes, you can merge the methods\n\nseparate file: let's try to move all methods in it. It should be easier to maintain. You can add that the method is an adaptation of methods in `c_graph.pyx`.",
    "created_at": "2019-06-28T08:31:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415020",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:63'></a>Speed test: the graph you use is very specific. You could try other graphs

Merge: yes, you can merge the methods

separate file: let's try to move all methods in it. It should be easier to maintain. You can add that the method is an adaptation of methods in `c_graph.pyx`.



---

archive/issue_comments_415021.json:
```json
{
    "body": "<a id='comment:64'></a>Can you suggest some ***directed graphs*** if you have any in mind? \n\nOr may be I can construct some graphs which maybe random or like a grid graph having many paths between 2 nodes?\n\n[UPDATE]:\nLooks like i found them:\nhttp://doc.sagemath.org/html/en/reference/graphs/sage/graphs/digraph_generators.html",
    "created_at": "2019-06-28T08:36:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415021",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:64'></a>Can you suggest some ***directed graphs*** if you have any in mind? 

Or may be I can construct some graphs which maybe random or like a grid graph having many paths between 2 nodes?

[UPDATE]:
Looks like i found them:
http://doc.sagemath.org/html/en/reference/graphs/sage/graphs/digraph_generators.html



---

archive/issue_comments_415022.json:
```json
{
    "body": "<a id='comment:65'></a>Yes, `digraphs.<TAB>`. For instance the tests you did are for subgraphs of tournaments.\n\nIf you try with tournaments, the number of paths will be huge. So instead of listing all of them, you can restrict to 1000 for instance `[g.yen_.... for _ in range(1000)]`.\n\nThe same if you use a `DiGraph(graphs.Grid2dGraph(10, 10))` and search for paths from `(0, 0)` to `(9, 9)`.",
    "created_at": "2019-06-28T09:03:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415022",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:65'></a>Yes, `digraphs.<TAB>`. For instance the tests you did are for subgraphs of tournaments.

If you try with tournaments, the number of paths will be huge. So instead of listing all of them, you can restrict to 1000 for instance `[g.yen_.... for _ in range(1000)]`.

The same if you use a `DiGraph(graphs.Grid2dGraph(10, 10))` and search for paths from `(0, 0)` to `(9, 9)`.



---

archive/issue_comments_415023.json:
```json
{
    "body": "<a id='comment:66'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-29T01:25:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415023",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:66'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415024.json:
```json
{
    "body": "<a id='comment:67'></a>Speed Tests on more graphs:\n\nGrid Graph\n\n```\nsage: g = DiGraph(graphs.Grid2dGraph(10, 10))\nsage: p = g.yen_k_shortest_simple_paths((0, 0), (9, 9))\nsage: %timeit [p.next() for i in range(1000)]\n1 loop, best of 3: **1.34 s** per loop\nsage: p = g.yen_k_shortest_simple_paths_directed((0, 0), (9, 9))\nsage: %timeit [p.next() for i in range(1000)]\n1 loop, best of 3: **864 ms** per loop\nsage: def weight_function(e):\n....:     return 3\nsage: p = g.yen_k_shortest_simple_paths((0, 0), (9, 9), weight_function=weight_function, by_weight=True)\nsage: %timeit [p.next() for i in range(1000)]\n1 loop, best of 3: **2.3 s** per loop\nsage: p = g.yen_k_shortest_simple_paths_directed((0, 0), (9, 9), weight_function=weight_function, by_weight=True)\nsage: %timeit [p.next() for i in range(1000)]\n1 loop, best of 3: **773 ms** per loop\n\n```\n\nPaley Graph\n\n```\nsage: g = digraphs.Paley(19)\nsage: p = g.yen_k_shortest_simple_paths(0, 18)\nsage: %timeit [p.next() for i in range(1000)]\n1 loop, best of 3: 554 ms per loop\nsage: p = g.yen_k_shortest_simple_paths_directed(0, 18)\nsage: %timeit [p.next() for i in range(1000)]\n1 loop, best of 3: 421 ms per loop\n\nsage: p = g.yen_k_shortest_simple_paths(0, 18)\nsage: %timeit [p.next() for i in range(5000)]\n1 loop, best of 3: 13.2 s per loop\nsage: p = g.yen_k_shortest_simple_paths_directed(0, 18)\nsage: %timeit [p.next() for i in range(5000)]\n1 loop, best of 3: 1.97 s per loop\n\n```\n\nIt can be seen directed_graphs algorithm by Feng's is indeed faster and our implementation is backing this fact.",
    "created_at": "2019-06-29T02:00:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415024",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:67'></a>Speed Tests on more graphs:

Grid Graph

```
sage: g = DiGraph(graphs.Grid2dGraph(10, 10))
sage: p = g.yen_k_shortest_simple_paths((0, 0), (9, 9))
sage: %timeit [p.next() for i in range(1000)]
1 loop, best of 3: **1.34 s** per loop
sage: p = g.yen_k_shortest_simple_paths_directed((0, 0), (9, 9))
sage: %timeit [p.next() for i in range(1000)]
1 loop, best of 3: **864 ms** per loop
sage: def weight_function(e):
....:     return 3
sage: p = g.yen_k_shortest_simple_paths((0, 0), (9, 9), weight_function=weight_function, by_weight=True)
sage: %timeit [p.next() for i in range(1000)]
1 loop, best of 3: **2.3 s** per loop
sage: p = g.yen_k_shortest_simple_paths_directed((0, 0), (9, 9), weight_function=weight_function, by_weight=True)
sage: %timeit [p.next() for i in range(1000)]
1 loop, best of 3: **773 ms** per loop

```

Paley Graph

```
sage: g = digraphs.Paley(19)
sage: p = g.yen_k_shortest_simple_paths(0, 18)
sage: %timeit [p.next() for i in range(1000)]
1 loop, best of 3: 554 ms per loop
sage: p = g.yen_k_shortest_simple_paths_directed(0, 18)
sage: %timeit [p.next() for i in range(1000)]
1 loop, best of 3: 421 ms per loop

sage: p = g.yen_k_shortest_simple_paths(0, 18)
sage: %timeit [p.next() for i in range(5000)]
1 loop, best of 3: 13.2 s per loop
sage: p = g.yen_k_shortest_simple_paths_directed(0, 18)
sage: %timeit [p.next() for i in range(5000)]
1 loop, best of 3: 1.97 s per loop

```

It can be seen directed_graphs algorithm by Feng's is indeed faster and our implementation is backing this fact.



---

archive/issue_comments_415025.json:
```json
{
    "body": "<a id='comment:68'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-29T02:32:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415025",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:68'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415026.json:
```json
{
    "body": "<a id='comment:69'></a>In c_graph,\n\nSince currently shortest_path_special and bidirectional_dijkstra_special are methods of CGraphBackend class.\n\nI am not sure how to move them to a separate file.\n\nShould I define the method declaration in C_graph and its definition in separate file or is there any other way round?",
    "created_at": "2019-06-29T02:39:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415026",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:69'></a>In c_graph,

Since currently shortest_path_special and bidirectional_dijkstra_special are methods of CGraphBackend class.

I am not sure how to move them to a separate file.

Should I define the method declaration in C_graph and its definition in separate file or is there any other way round?



---

archive/issue_comments_415027.json:
```json
{
    "body": "<a id='comment:70'></a>> It can be seen directed_graphs algorithm by Feng's is indeed faster and our implementation is backing this fact.\n\nGood.\n\nCan you do an extra test: check that you obtain the same paths. You have to be careful has the order in which paths are returned might differ.\n\n>  Since currently shortest_path_special and bidirectional_dijkstra_special are methods of CGraphBackend class. I am not sure how to move them to a separate file.\n\n\nRight. So let them in `c_graph.pyx`.\n\nWe have to choose a good name for the new file. So far I have only in mind `shortest_paths.pyx` but you may have better proposals.",
    "created_at": "2019-06-29T08:34:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415027",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:70'></a>> It can be seen directed_graphs algorithm by Feng's is indeed faster and our implementation is backing this fact.

Good.

Can you do an extra test: check that you obtain the same paths. You have to be careful has the order in which paths are returned might differ.

>  Since currently shortest_path_special and bidirectional_dijkstra_special are methods of CGraphBackend class. I am not sure how to move them to a separate file.


Right. So let them in `c_graph.pyx`.

We have to choose a good name for the new file. So far I have only in mind `shortest_paths.pyx` but you may have better proposals.



---

archive/issue_comments_415028.json:
```json
{
    "body": "<a id='comment:71'></a>Just to be clear we wish to move yen_k_shortest_simple_paths and yen_k_shortest_simple_paths_directed from generic_graph into the new file(path_enumeration.pyx) and use cython data structures?",
    "created_at": "2019-06-29T08:42:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415028",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:71'></a>Just to be clear we wish to move yen_k_shortest_simple_paths and yen_k_shortest_simple_paths_directed from generic_graph into the new file(path_enumeration.pyx) and use cython data structures?



---

archive/issue_comments_415029.json:
```json
{
    "body": "<a id='comment:72'></a>Yes. And other methods like `all_paths` and `all_simple_paths` could be moved in it as well.",
    "created_at": "2019-06-29T10:17:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415029",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:72'></a>Yes. And other methods like `all_paths` and `all_simple_paths` could be moved in it as well.



---

archive/issue_comments_415030.json:
```json
{
    "body": "<a id='comment:73'></a>-- Can you do an extra test: check that you obtain the same paths. You have to be careful has the order in which paths are returned might differ. \n\n```\nsage: g = digraphs.Paley(19)\nsage: p = g.yen_k_shortest_simple_paths(0, 18)\nsage: l1 = [p.next() for i in range(385)]\nsage: l1[-1]\n[0, 17, 15, 13, 18]\nsage: q = g.yen_k_shortest_simple_paths_directed(0, 18)\nsage: l2 = [q.next() for i in range(385)]\nsage: c=0\nsage: for p in l1:\n....:     if p in l2:\n....:         c = c + 1\n....:         \nsage: c\n385\n```",
    "created_at": "2019-06-30T00:14:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415030",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:73'></a>-- Can you do an extra test: check that you obtain the same paths. You have to be careful has the order in which paths are returned might differ. 

```
sage: g = digraphs.Paley(19)
sage: p = g.yen_k_shortest_simple_paths(0, 18)
sage: l1 = [p.next() for i in range(385)]
sage: l1[-1]
[0, 17, 15, 13, 18]
sage: q = g.yen_k_shortest_simple_paths_directed(0, 18)
sage: l2 = [q.next() for i in range(385)]
sage: c=0
sage: for p in l1:
....:     if p in l2:
....:         c = c + 1
....:         
sage: c
385
```



---

archive/issue_comments_415031.json:
```json
{
    "body": "<a id='comment:74'></a>This is good news.",
    "created_at": "2019-06-30T17:03:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415031",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:74'></a>This is good news.



---

archive/issue_comments_415032.json:
```json
{
    "body": "<a id='comment:75'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-01T11:00:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415032",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:75'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415033.json:
```json
{
    "body": "<a id='comment:76'></a>I haved moved the yen's algorithms and all_paths and all_paths iterators to path_enumeration.py while still maintaining the mehtod definition to call them.\n\nBut the same examples and tests at two place seems to be redundant.\n\nAlso further this path_enumeration.py can be transformed to path_enumeration.pyx for further speed up.",
    "created_at": "2019-07-01T11:06:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415033",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:76'></a>I haved moved the yen's algorithms and all_paths and all_paths iterators to path_enumeration.py while still maintaining the mehtod definition to call them.

But the same examples and tests at two place seems to be redundant.

Also further this path_enumeration.py can be transformed to path_enumeration.pyx for further speed up.



---

archive/issue_comments_415034.json:
```json
{
    "body": "<a id='comment:77'></a>The file should be .pyx, as further improvements will come.\n\nYou should make a front-end method (in this file) `k_shortest_paths` with a parameter `algorithm=...` to choose between Yen, Feng, Sage, etc. I think that `yen_k_...`, should not be seen in `generic_graph.py`.\nAlso, restrict the new methods to iterators. Old methods returning lists can stay like that, but for new methods, iterators is a better design.\n\n\nIn `generic_graph`, instead of having a front-end method here, you can use aliases to methods defined in other modules. See the block `# Aliases to functions defined in other modules`. This way, doctests will be performed only in `path_enumeration.pyx`.",
    "created_at": "2019-07-01T11:24:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415034",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:77'></a>The file should be .pyx, as further improvements will come.

You should make a front-end method (in this file) `k_shortest_paths` with a parameter `algorithm=...` to choose between Yen, Feng, Sage, etc. I think that `yen_k_...`, should not be seen in `generic_graph.py`.
Also, restrict the new methods to iterators. Old methods returning lists can stay like that, but for new methods, iterators is a better design.


In `generic_graph`, instead of having a front-end method here, you can use aliases to methods defined in other modules. See the block `# Aliases to functions defined in other modules`. This way, doctests will be performed only in `path_enumeration.pyx`.



---

archive/issue_comments_415035.json:
```json
{
    "body": "<a id='comment:78'></a>Replying to [comment:77 dcoudert]:\n\n> You should make a front-end method (in this file) `k_shortest_paths` with a parameter `algorithm=...` to choose between Yen, Feng, Sage, etc. I think that `yen_k_...`, should not be seen in `generic_graph.py`.\n\n\nAs Feng is for directed graphs only and we already use it inside yen for directed graphs. And also the Sage function `all_paths` return the list of all the simple paths between src and target for unweighted graphs, so it should not be included as an algorithm if we plan to make `k_shortest_paths` kind of function. According to me it will be best to keep k shortest paths without any parameter algorithms and use yen for undirected graphs and feng's for directed graphs.\n\nIf you have any better idea let me know.",
    "created_at": "2019-07-04T07:42:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415035",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:78'></a>Replying to [comment:77 dcoudert]:

> You should make a front-end method (in this file) `k_shortest_paths` with a parameter `algorithm=...` to choose between Yen, Feng, Sage, etc. I think that `yen_k_...`, should not be seen in `generic_graph.py`.


As Feng is for directed graphs only and we already use it inside yen for directed graphs. And also the Sage function `all_paths` return the list of all the simple paths between src and target for unweighted graphs, so it should not be included as an algorithm if we plan to make `k_shortest_paths` kind of function. According to me it will be best to keep k shortest paths without any parameter algorithms and use yen for undirected graphs and feng's for directed graphs.

If you have any better idea let me know.



---

archive/issue_comments_415036.json:
```json
{
    "body": "<a id='comment:79'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-06T15:40:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415036",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:79'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415037.json:
```json
{
    "body": "<a id='comment:80'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-07T01:46:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415037",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:80'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415038.json:
```json
{
    "body": "<a id='comment:81'></a>- methods starting with `_` are not displayed in the html documentation. So there is no need to add `_all_paths_iterator` to the table\n\n- We should not expose `yen_k_shortest_simple_paths` to generic graph, but a front-end method, like `shortest_simple_paths` performing some tests and calling the right method. This method can have parameter `algorithm` to force the selection of the algorithm. Another choice could also be to extend `all_simple_paths`.\n\n- Also, could you push the code to a new branch in `public/` like `public/graphs/27859_enumerate_paths`. This way I can edit the branch directly. It is sometimes faster than listing necessary changes. But of course I will not do all the work for you ;)",
    "created_at": "2019-07-07T09:38:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415038",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:81'></a>- methods starting with `_` are not displayed in the html documentation. So there is no need to add `_all_paths_iterator` to the table

- We should not expose `yen_k_shortest_simple_paths` to generic graph, but a front-end method, like `shortest_simple_paths` performing some tests and calling the right method. This method can have parameter `algorithm` to force the selection of the algorithm. Another choice could also be to extend `all_simple_paths`.

- Also, could you push the code to a new branch in `public/` like `public/graphs/27859_enumerate_paths`. This way I can edit the branch directly. It is sometimes faster than listing necessary changes. But of course I will not do all the work for you ;)



---

archive/issue_comments_415039.json:
```json
{
    "body": "<a id='comment:82'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-07T12:59:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415039",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:82'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415040.json:
```json
{
    "body": "<a id='comment:83'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-07T13:14:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415040",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:83'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415041.json:
```json
{
    "body": "<a id='comment:84'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-07T13:15:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415041",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:84'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415042.json:
```json
{
    "body": "<a id='comment:86'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2019-07-07T14:32:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415042",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:86'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_415043.json:
```json
{
    "body": "<a id='comment:87'></a>I guess the next steps are to make a front end in generic_graph file and create a section of algorithm in the methods and mentioning the references. And further also we can improve the cython things in path_enumeration file.",
    "created_at": "2019-07-07T14:37:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415043",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:87'></a>I guess the next steps are to make a front end in generic_graph file and create a section of algorithm in the methods and mentioning the references. And further also we can improve the cython things in path_enumeration file.



---

archive/issue_comments_415044.json:
```json
{
    "body": "<a id='comment:88'></a>We have 2 options here:\n1. add parameters to methods `all_paths` and `all_simple_paths` in order to enumerate paths by increasing lengths / weights using weight functions (similar to what is done in shortest paths methods. You then call Yen / Feng when the parameters are appropriate\n2. make a frontend method for `shortest_simple_paths`\n\nMay be the first option is enough, no ?\n\n\nextra cythonization can be done after, possibly in another ticket as this one is already very big.",
    "created_at": "2019-07-08T07:18:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415044",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:88'></a>We have 2 options here:
1. add parameters to methods `all_paths` and `all_simple_paths` in order to enumerate paths by increasing lengths / weights using weight functions (similar to what is done in shortest paths methods. You then call Yen / Feng when the parameters are appropriate
2. make a frontend method for `shortest_simple_paths`

May be the first option is enough, no ?


extra cythonization can be done after, possibly in another ticket as this one is already very big.



---

archive/issue_comments_415045.json:
```json
{
    "body": "<a id='comment:89'></a>Replying to [comment:88 dcoudert]:\n> We have 2 options here:\n> 1. add parameters to methods `all_paths` and `all_simple_paths` in order to enumerate paths by increasing lengths / weights using weight functions (similar to what is done in shortest paths methods. You then call Yen / Feng when the parameters are appropriate\n> 2. make a frontend method for `shortest_simple_paths`\n\n\nProblem  with first approach is that both the methods  `all_paths` and `all_simple_paths` return lists not iterator so it will change the functionality of these which I am not sure is a good idea. Also a common method for undirected and directed graph seems more better which is the second option. So I think second one is more appropriate.",
    "created_at": "2019-07-08T07:53:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415045",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:89'></a>Replying to [comment:88 dcoudert]:
> We have 2 options here:
> 1. add parameters to methods `all_paths` and `all_simple_paths` in order to enumerate paths by increasing lengths / weights using weight functions (similar to what is done in shortest paths methods. You then call Yen / Feng when the parameters are appropriate
> 2. make a frontend method for `shortest_simple_paths`


Problem  with first approach is that both the methods  `all_paths` and `all_simple_paths` return lists not iterator so it will change the functionality of these which I am not sure is a good idea. Also a common method for undirected and directed graph seems more better which is the second option. So I think second one is more appropriate.



---

archive/issue_comments_415046.json:
```json
{
    "body": "<a id='comment:90'></a>Right. I think you can implement the method inside `path_enumeration.pyx`. Then you add an alias in `generic_graph.py`.",
    "created_at": "2019-07-08T08:41:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415046",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:90'></a>Right. I think you can implement the method inside `path_enumeration.pyx`. Then you add an alias in `generic_graph.py`.



---

archive/issue_comments_415047.json:
```json
{
    "body": "<a id='comment:91'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-11T04:19:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415047",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:91'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415048.json:
```json
{
    "body": "<a id='comment:92'></a>I have added the front_end shortest_simple_paths method, but I am not able to build the documnetation. \n\nI am getting the following error.\n\n\n```\nrajat@rajat-Inspiron-3537:~/new_version/sage-8.7.beta6$ make doc-cleanmake build/make/Makefile --stop\nmake[1]: Entering directory '/home/rajat/new_version/sage-8.7.beta6'\nmake[1]: 'build/make/Makefile' is up to date.\nmake[1]: Leaving directory '/home/rajat/new_version/sage-8.7.beta6'\nbuild/bin/sage-logger \\\n\t\"cd build/make && ./install 'doc-clean'\" logs/install.log\nmake[1]: Entering directory '/home/rajat/new_version/sage-8.7.beta6/build/make'\nmake[1]: Leaving directory '/home/rajat/new_version/sage-8.7.beta6/build/make'\n*** ALL ENVIRONMENT VARIABLES BEFORE BUILD: ***\nCLUTTER_IM_MODULE=xim\nCMAKE_PREFIX_PATH=/opt/ros/kinetic:/opt/jderobot\nCOMPIZ_CONFIG_PROFILE=ubuntu\nCONFIGURED_CC=gcc\nCONFIGURED_CXX=g++ -std=gnu++11\nCONFIGURED_FC=gfortran\nCONFIGURED_OBJC=gcc\nCONFIGURED_OBJCXX=g++\nDBUS_SESSION_BUS_ADDRESS=unix:abstract=/tmp/dbus-nBmi6MiTdV\nDEFAULTS_PATH=/usr/share/gconf/ubuntu.default.path\nDESKTOP_SESSION=ubuntu\nDISPLAY=:0\nGDM_LANG=en_US\nGDMSESSION=ubuntu\nGNOME_DESKTOP_SESSION_ID=this-is-deprecated\nGNOME_KEYRING_CONTROL=\nGNOME_KEYRING_PID=\nGPG_AGENT_INFO=/home/rajat/.gnupg/S.gpg-agent:0:1\nGTK2_MODULES=overlay-scrollbar\nGTK_IM_MODULE=ibus\nGTK_MODULES=gail:atk-bridge:unity-gtk-module\nHOME=/home/rajat\nIM_CONFIG_PHASE=1\nINSTANCE=\nJDEROBOT_CONFIG_PATHS=/home/rajat/jderobot_conf:/opt/jderobot/share/jderobot/conf\nJDEROBOT_GLADE_PATH=/opt/jderobot/share/jderobot/glade\nJOB=dbus\nLANG=en_IN\nLANGUAGE=en_IN:en\nLD_LIBRARY_PATH=/opt/ros/kinetic/lib:/opt/ros/kinetic/lib/x86_64-linux-gnu:/opt/jderobot/lib\nLESSCLOSE=/usr/bin/lesspipe %s %s\nLESSOPEN=| /usr/bin/lesspipe %s\nLOGNAME=rajat\nLS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:\nMAKEFLAGS= V=1\nMAKELEVEL=1\nMAKE=make\nMAKE_TERMERR=/dev/pts/2\nMAKE_TERMOUT=/dev/pts/2\nMANDATORY_PATH=/usr/share/gconf/ubuntu.mandatory.path\nMFLAGS=\nPATH=/home/rajat/new_version/sage-8.7.beta6/build/bin:/home/rajat/new_version/sage-8.7.beta6/src/bin:/home/rajat/new_version/sage-8.7.beta6/local/bin:/opt/ros/kinetic/bin:/home/rajat/bin:/home/rajat/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/opt/jderobot/bin\nPKG_CONFIG_PATH=/opt/ros/kinetic/lib/pkgconfig:/opt/ros/kinetic/lib/x86_64-linux-gnu/pkgconfig:/opt/jderobot/lib/pkgconfig\nPWD=/home/rajat/new_version/sage-8.7.beta6/build/make\nPYTHONPATH=/home/rajat/new_version/sage-8.7.beta6/local\nQT4_IM_MODULE=xim\nQT_ACCESSIBILITY=1\nQT_IM_MODULE=ibus\nQT_LINUX_ACCESSIBILITY_ALWAYS_ON=1\nQT_QPA_PLATFORMTHEME=appmenu-qt5\nROS_DISTRO=kinetic\nROS_ETC_DIR=/opt/ros/kinetic/etc/ros\nROS_MASTER_URI=http://localhost:11311\nROS_PACKAGE_PATH=/opt/ros/kinetic/share\nROS_ROOT=/opt/ros/kinetic/share/ros\nROS_VERSION=1\nSAGE_CONFIGURE_GMP=--with-gmp=/home/rajat/new_version/sage-8.7.beta6/local\nSAGE_CONFIGURE_MPC=--with-mpc=/home/rajat/new_version/sage-8.7.beta6/local\nSAGE_CONFIGURE_MPFR=--with-mpfr=/home/rajat/new_version/sage-8.7.beta6/local\nSAGE_CONFIGURE_NTL=--with-ntl=/home/rajat/new_version/sage-8.7.beta6/local\nSAGE_EXTCODE=/home/rajat/new_version/sage-8.7.beta6/local/share/sage/ext\nSAGE_GMP_INCLUDE=/home/rajat/new_version/sage-8.7.beta6/local/include\nSAGE_GMP_PREFIX=/home/rajat/new_version/sage-8.7.beta6/local\nSAGE_LOCAL=/home/rajat/new_version/sage-8.7.beta6/local\nSAGE_LOGS=/home/rajat/new_version/sage-8.7.beta6/logs/pkgs\nSAGE_MPC_PREFIX=/home/rajat/new_version/sage-8.7.beta6/local\nSAGE_MPFR_PREFIX=/home/rajat/new_version/sage-8.7.beta6/local\nSAGE_NTL_PREFIX=/home/rajat/new_version/sage-8.7.beta6/local\nSAGE_ORIG_PATH=/opt/ros/kinetic/bin:/home/rajat/bin:/home/rajat/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/opt/jderobot/bin\nSAGE_ORIG_PATH_SET=True\nSAGE_PYTHON_VERSION=2\nSAGE_ROOT=/home/rajat/new_version/sage-8.7.beta6\nSAGE_SHARE=/home/rajat/new_version/sage-8.7.beta6/local/share\nSAGE_SPKG_INST=/home/rajat/new_version/sage-8.7.beta6/local/var/lib/sage/installed\nSAGE_SRC=/home/rajat/new_version/sage-8.7.beta6/src\nSAGE_VERSION=8.9.beta1\nSESSION_MANAGER=local/rajat-Inspiron-3537:@/tmp/.ICE-unix/1726,unix/rajat-Inspiron-3537:/tmp/.ICE-unix/1726\nSESSIONTYPE=gnome-session\nSESSION=ubuntu\nSHELL=/bin/bash\nSHLVL=3\nSSH_AUTH_SOCK=/run/user/1000/keyring/ssh\nTERM=xterm-256color\nUPSTART_SESSION=unix:abstract=/com/ubuntu/upstart-session/1000/1321\nUSER=rajat\n_=/usr/bin/env\nVTE_VERSION=4205\nWINDOWID=85983242\nXAUTHORITY=/home/rajat/.Xauthority\nXDG_CONFIG_DIRS=/etc/xdg/xdg-ubuntu:/usr/share/upstart/xdg:/etc/xdg\nXDG_CURRENT_DESKTOP=Unity\nXDG_DATA_DIRS=/usr/share/ubuntu:/usr/share/gnome:/usr/local/share:/usr/share:/var/lib/snapd/desktop\nXDG_GREETER_DATA_DIR=/var/lib/lightdm-data/rajat\nXDG_MENU_PREFIX=gnome-\nXDG_RUNTIME_DIR=/run/user/1000\nXDG_SEAT_PATH=/org/freedesktop/DisplayManager/Seat0\nXDG_SEAT=seat0\nXDG_SESSION_DESKTOP=ubuntu\nXDG_SESSION_ID=c2\nXDG_SESSION_PATH=/org/freedesktop/DisplayManager/Session0\nXDG_SESSION_TYPE=x11\nXDG_VTNR=7\nXMODIFIERS=@im=ibus\n***********************************************\nmake[1]: Entering directory '/home/rajat/new_version/sage-8.7.beta6/build/make'\ncd \"/home/rajat/new_version/sage-8.7.beta6/src/doc\" && make clean\nmake[2]: Entering directory '/home/rajat/new_version/sage-8.7.beta6/src/doc'\nrm -rf en/reference/*/sage\nrm -rf en/reference/*/sagenb\nrm -rf en/reference/sage\nrm -rf en/reference/sagenb\nrm -f common/*.pyc\nmake[2]: Leaving directory '/home/rajat/new_version/sage-8.7.beta6/src/doc'\nrm -rf \"/home/rajat/new_version/sage-8.7.beta6/local/share/doc/sage\"\nmake[1]: Leaving directory '/home/rajat/new_version/sage-8.7.beta6/build/make'\n\nreal\t0m0.057s\nuser\t0m0.042s\nsys\t0m0.009s\nSage build/upgrade complete!\nrajat@rajat-Inspiron-3537:~/new_version/sage-8.7.beta6$ ./sage -b && ./sage --docbuild reference html\ncd . && export                                    \\\n    SAGE_ROOT=/doesnotexist                               \\\n    SAGE_SRC=/doesnotexist                                \\\n    SAGE_SRC_ROOT=/doesnotexist                           \\\n    SAGE_DOC_SRC=/doesnotexist                            \\\n    SAGE_BUILD_DIR=/doesnotexist                          \\\n    SAGE_PKGS=/home/rajat/new_version/sage-8.7.beta6/build/pkgs                \\\n&& sage-python23 -u setup.py --no-user-cfg build install\nDiscovering Python/Cython source code....\nDiscovered Python/Cython sources, time: 0.02 seconds.\nrunning build\nGenerating auto-generated sources\nBuilding interpreters for fast_callable\nrunning build_cython\nEnabling Cython debugging support\nUpdating Cython code....\nFinished Cythonizing, time: 3.37 seconds.\nrunning build_py\nrunning build_ext\nExecuting 0 commands (using 1 thread)\nTime to execute 0 commands: 0.11 seconds.\nTotal time spent compiling C/C++ extensions: 0.17 seconds.\nrunning install\nrunning install_lib\nrunning install_egg_info\nRemoving /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage-8.9.beta1-py2.7.egg-info\nWriting /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage-8.9.beta1-py2.7.egg-info\nCleaning up stale installed files....\n- cleaning /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages\n- cleaning build/lib.linux-x86_64-2.7\nFinished cleaning, time: 0.15 seconds.\nif [ \"$UNAME\" = \"CYGWIN\" ]; then                         \\\n    sage-rebase.sh \"$SAGE_LOCAL\" 2>/dev/null;            \\\nfi\n\nreal\t0m4.854s\nuser\t0m4.159s\nsys\t0m0.601s\n[manifolds] building [html]: targets for 63 source files that are out of date\n[manifolds] updating environment: 63 added, 0 changed, 0 removed\n[manifolds] loading cross citations... looking for now-outdated files... none found\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/src/doc/en/reference/manifolds/index.rst:4: WARNING: undefined label: tensors-on-free-modules (if the link has no caption the label must precede a section header)\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/chart.py:docstring of sage.manifolds.chart:20: WARNING: citation not found: Lee2011\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/chart.py:docstring of sage.manifolds.chart:21: WARNING: citation not found: Lee2013\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/continuous_map.py:docstring of sage.manifolds.continuous_map:12: WARNING: citation not found: KN1963\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/continuous_map.py:docstring of sage.manifolds.continuous_map:13: WARNING: citation not found: Lee2011\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/affine_connection.py:docstring of sage.manifolds.differentiable.affine_connection:13: WARNING: citation not found: Lee1997\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/affine_connection.py:docstring of sage.manifolds.differentiable.affine_connection:14: WARNING: citation not found: KN1963\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/affine_connection.py:docstring of sage.manifolds.differentiable.affine_connection:15: WARNING: citation not found: ONe1983\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/automorphismfield_group.py:docstring of sage.manifolds.differentiable.automorphismfield_group:24: WARNING: citation not found: God1968\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/chart.py:docstring of sage.manifolds.differentiable.chart:19: WARNING: citation not found: Lee2013\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/curve.py:docstring of sage.manifolds.differentiable.curve:19: WARNING: citation not found: KN1963\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/curve.py:docstring of sage.manifolds.differentiable.curve:20: WARNING: citation not found: Lee2013\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/diff_form.py:docstring of sage.manifolds.differentiable.diff_form:27: WARNING: citation not found: KN1963\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/diff_form.py:docstring of sage.manifolds.differentiable.diff_form:28: WARNING: citation not found: Lee2013\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/diff_form_module.py:docstring of sage.manifolds.differentiable.diff_form_module:20: WARNING: citation not found: KN1963\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/diff_form_module.py:docstring of sage.manifolds.differentiable.diff_form_module:21: WARNING: citation not found: Lee2013\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/diff_map.py:docstring of sage.manifolds.differentiable.diff_map:16: WARNING: citation not found: KN1963\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/diff_map.py:docstring of sage.manifolds.differentiable.diff_map:17: WARNING: citation not found: Lee2013\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/differentiable_submanifold.py:docstring of sage.manifolds.differentiable.differentiable_submanifold:21: WARNING: citation not found: Lee2013\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/euclidean.py:docstring of sage.manifolds.differentiable.euclidean:1: WARNING: citation not found: Ber1987\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/euclidean.py:docstring of sage.manifolds.differentiable.euclidean:396: WARNING: citation not found: Ber1987\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/levi_civita_connection.py:docstring of sage.manifolds.differentiable.levi_civita_connection:12: WARNING: citation not found: KN1963\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/levi_civita_connection.py:docstring of sage.manifolds.differentiable.levi_civita_connection:13: WARNING: citation not found: Lee1997\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/levi_civita_connection.py:docstring of sage.manifolds.differentiable.levi_civita_connection:14: WARNING: citation not found: ONe1983\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/manifold.py:docstring of sage.manifolds.differentiable.manifold:1: WARNING: citation not found: Ser1992\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/manifold.py:docstring of sage.manifolds.differentiable.manifold:1: WARNING: citation not found: Ber2008\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/manifold.py:docstring of sage.manifolds.differentiable.manifold:418: WARNING: citation not found: Lee2013\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/manifold.py:docstring of sage.manifolds.differentiable.manifold:419: WARNING: citation not found: KN1963\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/manifold.py:docstring of sage.manifolds.differentiable.manifold:420: WARNING: citation not found: Huy2005\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/manifold.py:docstring of sage.manifolds.differentiable.manifold:421: WARNING: citation not found: Ser1992\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/manifold.py:docstring of sage.manifolds.differentiable.manifold:422: WARNING: citation not found: Ber2008\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/manifold.py:docstring of sage.manifolds.differentiable.manifold:423: WARNING: citation not found: BG1988\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/manifold.py:docstring of sage.manifolds.differentiable.manifold.DifferentiableManifold:3: WARNING: citation not found: Ser1992\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/manifold.py:docstring of sage.manifolds.differentiable.manifold.DifferentiableManifold:3: WARNING: citation not found: Ber2008\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/manifold_homset.py:docstring of sage.manifolds.differentiable.manifold_homset:30: WARNING: citation not found: Lee2013\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/manifold_homset.py:docstring of sage.manifolds.differentiable.manifold_homset:31: WARNING: citation not found: KN1963\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/metric.py:docstring of sage.manifolds.differentiable.metric:14: WARNING: citation not found: KN1963\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/metric.py:docstring of sage.manifolds.differentiable.metric:15: WARNING: citation not found: Lee1997\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/metric.py:docstring of sage.manifolds.differentiable.metric:16: WARNING: citation not found: ONe1983\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/multivector_module.py:docstring of sage.manifolds.differentiable.multivector_module:20: WARNING: citation not found: BG1980\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/multivector_module.py:docstring of sage.manifolds.differentiable.multivector_module:21: WARNING: citation not found: Mar1997\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/multivectorfield.py:docstring of sage.manifolds.differentiable.multivectorfield:23: WARNING: citation not found: BG1980\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/multivectorfield.py:docstring of sage.manifolds.differentiable.multivectorfield:24: WARNING: citation not found: Mar1997\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/multivectorfield.py:docstring of sage.manifolds.differentiable.multivectorfield.MultivectorField.bracket:47: WARNING: citation not found: Mar1997\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/multivectorfield.py:docstring of sage.manifolds.differentiable.multivectorfield.MultivectorField.bracket:47: WARNING: citation not found: Kos1985\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/multivectorfield.py:docstring of sage.manifolds.differentiable.multivectorfield.MultivectorField.bracket:47: WARNING: citation not found: Nij1955\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/multivectorfield.py:docstring of sage.manifolds.differentiable.multivectorfield.MultivectorField.bracket:47: WARNING: citation not found: Lic1977\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/multivectorfield.py:docstring of sage.manifolds.differentiable.multivectorfield.MultivectorField.bracket:47: WARNING: citation not found: Vai1994\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/multivectorfield.py:docstring of sage.manifolds.differentiable.multivectorfield.MultivectorFieldParal.bracket:47: WARNING: citation not found: Mar1997\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/multivectorfield.py:docstring of sage.manifolds.differentiable.multivectorfield.MultivectorFieldParal.bracket:47: WARNING: citation not found: Kos1985\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/multivectorfield.py:docstring of sage.manifolds.differentiable.multivectorfield.MultivectorFieldParal.bracket:47: WARNING: citation not found: Nij1955\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/multivectorfield.py:docstring of sage.manifolds.differentiable.multivectorfield.MultivectorFieldParal.bracket:47: WARNING: citation not found: Lic1977\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/multivectorfield.py:docstring of sage.manifolds.differentiable.multivectorfield.MultivectorFieldParal.bracket:47: WARNING: citation not found: Vai1994\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/pseudo_riemannian.py:docstring of sage.manifolds.differentiable.pseudo_riemannian:254: WARNING: citation not found: ONe1983\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/pseudo_riemannian.py:docstring of sage.manifolds.differentiable.pseudo_riemannian:255: WARNING: citation not found: Lee1997\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/pseudo_riemannian_submanifold.py:docstring of sage.manifolds.differentiable.pseudo_riemannian_submanifold:153: WARNING: citation not found: ONe1983\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/pseudo_riemannian_submanifold.py:docstring of sage.manifolds.differentiable.pseudo_riemannian_submanifold:154: WARNING: citation not found: Lee1997\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/real_line.py:docstring of sage.manifolds.differentiable.real_line:12: WARNING: citation not found: Lee2013\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/scalarfield.py:docstring of sage.manifolds.differentiable.scalarfield:21: WARNING: citation not found: KN1963\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/scalarfield.py:docstring of sage.manifolds.differentiable.scalarfield:22: WARNING: citation not found: Lee2013\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/scalarfield.py:docstring of sage.manifolds.differentiable.scalarfield:23: WARNING: citation not found: ONe1983\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/scalarfield_algebra.py:docstring of sage.manifolds.differentiable.scalarfield_algebra:15: WARNING: citation not found: KN1963\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/scalarfield_algebra.py:docstring of sage.manifolds.differentiable.scalarfield_algebra:16: WARNING: citation not found: Lee2013\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/scalarfield_algebra.py:docstring of sage.manifolds.differentiable.scalarfield_algebra:17: WARNING: citation not found: ONe1983\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tangent_space.py:docstring of sage.manifolds.differentiable.tangent_space:11: WARNING: citation not found: Lee2013\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tangent_vector.py:docstring of sage.manifolds.differentiable.tangent_vector:11: WARNING: citation not found: Lee2013\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield.py:docstring of sage.manifolds.differentiable.tensorfield:32: WARNING: citation not found: KN1963\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield.py:docstring of sage.manifolds.differentiable.tensorfield:33: WARNING: citation not found: Lee2013\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield.py:docstring of sage.manifolds.differentiable.tensorfield:34: WARNING: citation not found: ONe1983\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield_module.py:docstring of sage.manifolds.differentiable.tensorfield_module:20: WARNING: citation not found: KN1963\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield_module.py:docstring of sage.manifolds.differentiable.tensorfield_module:21: WARNING: citation not found: Lee2013\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield_module.py:docstring of sage.manifolds.differentiable.tensorfield_module:22: WARNING: citation not found: ONe1983\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield_paral.py:docstring of sage.manifolds.differentiable.tensorfield_paral:32: WARNING: citation not found: KN1963\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield_paral.py:docstring of sage.manifolds.differentiable.tensorfield_paral:33: WARNING: citation not found: Lee2013\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield_paral.py:docstring of sage.manifolds.differentiable.tensorfield_paral:34: WARNING: citation not found: ONe1983\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/vectorfield.py:docstring of sage.manifolds.differentiable.vectorfield:41: WARNING: citation not found: KN1963\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/vectorfield.py:docstring of sage.manifolds.differentiable.vectorfield:42: WARNING: citation not found: Lee2013\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/vectorfield.py:docstring of sage.manifolds.differentiable.vectorfield:43: WARNING: citation not found: ONe1983\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/vectorfield.py:docstring of sage.manifolds.differentiable.vectorfield:44: WARNING: citation not found: BG1988\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/vectorfield_module.py:docstring of sage.manifolds.differentiable.vectorfield_module:21: WARNING: citation not found: KN1963\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/vectorfield_module.py:docstring of sage.manifolds.differentiable.vectorfield_module:22: WARNING: citation not found: Lee2013\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/vectorfield_module.py:docstring of sage.manifolds.differentiable.vectorfield_module:23: WARNING: citation not found: ONe1983\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/vectorframe.py:docstring of sage.manifolds.differentiable.vectorframe:30: WARNING: citation not found: Lee2013\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/manifold.py:docstring of sage.manifolds.manifold:307: WARNING: citation not found: Lee2011\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/manifold.py:docstring of sage.manifolds.manifold:308: WARNING: citation not found: Lee2013\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/manifold.py:docstring of sage.manifolds.manifold:309: WARNING: citation not found: KN1963\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/manifold.py:docstring of sage.manifolds.manifold:310: WARNING: citation not found: Huy2005\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/manifold_homset.py:docstring of sage.manifolds.manifold_homset:13: WARNING: citation not found: Lee2011\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/manifold_homset.py:docstring of sage.manifolds.manifold_homset:14: WARNING: citation not found: KN1963\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/point.py:docstring of sage.manifolds.point:14: WARNING: citation not found: Lee2011\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/point.py:docstring of sage.manifolds.point:15: WARNING: citation not found: Lee2013\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/scalarfield.py:docstring of sage.manifolds.scalarfield:21: WARNING: citation not found: Lee2011\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/scalarfield.py:docstring of sage.manifolds.scalarfield:22: WARNING: citation not found: KN1963\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/scalarfield_algebra.py:docstring of sage.manifolds.scalarfield_algebra:15: WARNING: citation not found: Lee2011\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/scalarfield_algebra.py:docstring of sage.manifolds.scalarfield_algebra:16: WARNING: citation not found: KN1963\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/subset.py:docstring of sage.manifolds.subset:14: WARNING: citation not found: Lee2011\n[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/topological_submanifold.py:docstring of sage.manifolds.topological_submanifold:27: WARNING: citation not found: Lee2013\n[manifolds] The HTML pages are in local/share/doc/sage/html/en/reference/manifolds.\n[manifolds] Exception occurred:\n[manifolds]   File \"/home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/os.py\", line 157, in makedirs\n[manifolds]     mkdir(name, mode)\n[manifolds] OSError: [Errno 17] File exists: '/home/rajat/new_version/sage-8.7.beta6/local/share/doc/sage/html/en/reference/manifolds/_static'\n[manifolds] The full traceback has been saved in /tmp/sphinx-err-9g_nLJ.log, if you want to report the issue to the developers.\n[manifolds] Please also report this if it was a user error, so that a better error message can be provided next time.\n[manifolds] A bug report can be filed in the tracker at <https://github.com/sphinx-doc/sphinx/issues>. Thanks!\nError building the documentation.\nTraceback (most recent call last):\n  File \"/home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/runpy.py\", line 174, in _run_module_as_main\n    \"__main__\", fname, loader, pkg_name)\n  File \"/home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/runpy.py\", line 72, in _run_code\n    exec code in run_globals\n  File \"/home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage_setup/docbuild/__main__.py\", line 2, in <module>\n    main()\n  File \"/home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py\", line 1733, in main\n    builder()\n  File \"/home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py\", line 550, in _wrapper\n    build_many(build_ref_doc, L)\n  File \"/home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py\", line 288, in _build_many\n    ret = x.get(99999)\n  File \"/home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/multiprocessing/pool.py\", line 572, in get\n    raise self._value\nOSError: /home/rajat/new_version/sage-8.7.beta6/src/doc/en/reference/manifolds/index.rst:4: WARNING: undefined label: tensors-on-free-modules (if the link has no caption the label must precede a section header)\n```",
    "created_at": "2019-07-11T04:39:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415048",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:92'></a>I have added the front_end shortest_simple_paths method, but I am not able to build the documnetation. 

I am getting the following error.


```
rajat@rajat-Inspiron-3537:~/new_version/sage-8.7.beta6$ make doc-cleanmake build/make/Makefile --stop
make[1]: Entering directory '/home/rajat/new_version/sage-8.7.beta6'
make[1]: 'build/make/Makefile' is up to date.
make[1]: Leaving directory '/home/rajat/new_version/sage-8.7.beta6'
build/bin/sage-logger \
	"cd build/make && ./install 'doc-clean'" logs/install.log
make[1]: Entering directory '/home/rajat/new_version/sage-8.7.beta6/build/make'
make[1]: Leaving directory '/home/rajat/new_version/sage-8.7.beta6/build/make'
*** ALL ENVIRONMENT VARIABLES BEFORE BUILD: ***
CLUTTER_IM_MODULE=xim
CMAKE_PREFIX_PATH=/opt/ros/kinetic:/opt/jderobot
COMPIZ_CONFIG_PROFILE=ubuntu
CONFIGURED_CC=gcc
CONFIGURED_CXX=g++ -std=gnu++11
CONFIGURED_FC=gfortran
CONFIGURED_OBJC=gcc
CONFIGURED_OBJCXX=g++
DBUS_SESSION_BUS_ADDRESS=unix:abstract=/tmp/dbus-nBmi6MiTdV
DEFAULTS_PATH=/usr/share/gconf/ubuntu.default.path
DESKTOP_SESSION=ubuntu
DISPLAY=:0
GDM_LANG=en_US
GDMSESSION=ubuntu
GNOME_DESKTOP_SESSION_ID=this-is-deprecated
GNOME_KEYRING_CONTROL=
GNOME_KEYRING_PID=
GPG_AGENT_INFO=/home/rajat/.gnupg/S.gpg-agent:0:1
GTK2_MODULES=overlay-scrollbar
GTK_IM_MODULE=ibus
GTK_MODULES=gail:atk-bridge:unity-gtk-module
HOME=/home/rajat
IM_CONFIG_PHASE=1
INSTANCE=
JDEROBOT_CONFIG_PATHS=/home/rajat/jderobot_conf:/opt/jderobot/share/jderobot/conf
JDEROBOT_GLADE_PATH=/opt/jderobot/share/jderobot/glade
JOB=dbus
LANG=en_IN
LANGUAGE=en_IN:en
LD_LIBRARY_PATH=/opt/ros/kinetic/lib:/opt/ros/kinetic/lib/x86_64-linux-gnu:/opt/jderobot/lib
LESSCLOSE=/usr/bin/lesspipe %s %s
LESSOPEN=| /usr/bin/lesspipe %s
LOGNAME=rajat
LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
MAKEFLAGS= V=1
MAKELEVEL=1
MAKE=make
MAKE_TERMERR=/dev/pts/2
MAKE_TERMOUT=/dev/pts/2
MANDATORY_PATH=/usr/share/gconf/ubuntu.mandatory.path
MFLAGS=
PATH=/home/rajat/new_version/sage-8.7.beta6/build/bin:/home/rajat/new_version/sage-8.7.beta6/src/bin:/home/rajat/new_version/sage-8.7.beta6/local/bin:/opt/ros/kinetic/bin:/home/rajat/bin:/home/rajat/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/opt/jderobot/bin
PKG_CONFIG_PATH=/opt/ros/kinetic/lib/pkgconfig:/opt/ros/kinetic/lib/x86_64-linux-gnu/pkgconfig:/opt/jderobot/lib/pkgconfig
PWD=/home/rajat/new_version/sage-8.7.beta6/build/make
PYTHONPATH=/home/rajat/new_version/sage-8.7.beta6/local
QT4_IM_MODULE=xim
QT_ACCESSIBILITY=1
QT_IM_MODULE=ibus
QT_LINUX_ACCESSIBILITY_ALWAYS_ON=1
QT_QPA_PLATFORMTHEME=appmenu-qt5
ROS_DISTRO=kinetic
ROS_ETC_DIR=/opt/ros/kinetic/etc/ros
ROS_MASTER_URI=http://localhost:11311
ROS_PACKAGE_PATH=/opt/ros/kinetic/share
ROS_ROOT=/opt/ros/kinetic/share/ros
ROS_VERSION=1
SAGE_CONFIGURE_GMP=--with-gmp=/home/rajat/new_version/sage-8.7.beta6/local
SAGE_CONFIGURE_MPC=--with-mpc=/home/rajat/new_version/sage-8.7.beta6/local
SAGE_CONFIGURE_MPFR=--with-mpfr=/home/rajat/new_version/sage-8.7.beta6/local
SAGE_CONFIGURE_NTL=--with-ntl=/home/rajat/new_version/sage-8.7.beta6/local
SAGE_EXTCODE=/home/rajat/new_version/sage-8.7.beta6/local/share/sage/ext
SAGE_GMP_INCLUDE=/home/rajat/new_version/sage-8.7.beta6/local/include
SAGE_GMP_PREFIX=/home/rajat/new_version/sage-8.7.beta6/local
SAGE_LOCAL=/home/rajat/new_version/sage-8.7.beta6/local
SAGE_LOGS=/home/rajat/new_version/sage-8.7.beta6/logs/pkgs
SAGE_MPC_PREFIX=/home/rajat/new_version/sage-8.7.beta6/local
SAGE_MPFR_PREFIX=/home/rajat/new_version/sage-8.7.beta6/local
SAGE_NTL_PREFIX=/home/rajat/new_version/sage-8.7.beta6/local
SAGE_ORIG_PATH=/opt/ros/kinetic/bin:/home/rajat/bin:/home/rajat/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/opt/jderobot/bin
SAGE_ORIG_PATH_SET=True
SAGE_PYTHON_VERSION=2
SAGE_ROOT=/home/rajat/new_version/sage-8.7.beta6
SAGE_SHARE=/home/rajat/new_version/sage-8.7.beta6/local/share
SAGE_SPKG_INST=/home/rajat/new_version/sage-8.7.beta6/local/var/lib/sage/installed
SAGE_SRC=/home/rajat/new_version/sage-8.7.beta6/src
SAGE_VERSION=8.9.beta1
SESSION_MANAGER=local/rajat-Inspiron-3537:@/tmp/.ICE-unix/1726,unix/rajat-Inspiron-3537:/tmp/.ICE-unix/1726
SESSIONTYPE=gnome-session
SESSION=ubuntu
SHELL=/bin/bash
SHLVL=3
SSH_AUTH_SOCK=/run/user/1000/keyring/ssh
TERM=xterm-256color
UPSTART_SESSION=unix:abstract=/com/ubuntu/upstart-session/1000/1321
USER=rajat
_=/usr/bin/env
VTE_VERSION=4205
WINDOWID=85983242
XAUTHORITY=/home/rajat/.Xauthority
XDG_CONFIG_DIRS=/etc/xdg/xdg-ubuntu:/usr/share/upstart/xdg:/etc/xdg
XDG_CURRENT_DESKTOP=Unity
XDG_DATA_DIRS=/usr/share/ubuntu:/usr/share/gnome:/usr/local/share:/usr/share:/var/lib/snapd/desktop
XDG_GREETER_DATA_DIR=/var/lib/lightdm-data/rajat
XDG_MENU_PREFIX=gnome-
XDG_RUNTIME_DIR=/run/user/1000
XDG_SEAT_PATH=/org/freedesktop/DisplayManager/Seat0
XDG_SEAT=seat0
XDG_SESSION_DESKTOP=ubuntu
XDG_SESSION_ID=c2
XDG_SESSION_PATH=/org/freedesktop/DisplayManager/Session0
XDG_SESSION_TYPE=x11
XDG_VTNR=7
XMODIFIERS=@im=ibus
***********************************************
make[1]: Entering directory '/home/rajat/new_version/sage-8.7.beta6/build/make'
cd "/home/rajat/new_version/sage-8.7.beta6/src/doc" && make clean
make[2]: Entering directory '/home/rajat/new_version/sage-8.7.beta6/src/doc'
rm -rf en/reference/*/sage
rm -rf en/reference/*/sagenb
rm -rf en/reference/sage
rm -rf en/reference/sagenb
rm -f common/*.pyc
make[2]: Leaving directory '/home/rajat/new_version/sage-8.7.beta6/src/doc'
rm -rf "/home/rajat/new_version/sage-8.7.beta6/local/share/doc/sage"
make[1]: Leaving directory '/home/rajat/new_version/sage-8.7.beta6/build/make'

real	0m0.057s
user	0m0.042s
sys	0m0.009s
Sage build/upgrade complete!
rajat@rajat-Inspiron-3537:~/new_version/sage-8.7.beta6$ ./sage -b && ./sage --docbuild reference html
cd . && export                                    \
    SAGE_ROOT=/doesnotexist                               \
    SAGE_SRC=/doesnotexist                                \
    SAGE_SRC_ROOT=/doesnotexist                           \
    SAGE_DOC_SRC=/doesnotexist                            \
    SAGE_BUILD_DIR=/doesnotexist                          \
    SAGE_PKGS=/home/rajat/new_version/sage-8.7.beta6/build/pkgs                \
&& sage-python23 -u setup.py --no-user-cfg build install
Discovering Python/Cython source code....
Discovered Python/Cython sources, time: 0.02 seconds.
running build
Generating auto-generated sources
Building interpreters for fast_callable
running build_cython
Enabling Cython debugging support
Updating Cython code....
Finished Cythonizing, time: 3.37 seconds.
running build_py
running build_ext
Executing 0 commands (using 1 thread)
Time to execute 0 commands: 0.11 seconds.
Total time spent compiling C/C++ extensions: 0.17 seconds.
running install
running install_lib
running install_egg_info
Removing /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage-8.9.beta1-py2.7.egg-info
Writing /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage-8.9.beta1-py2.7.egg-info
Cleaning up stale installed files....
- cleaning /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages
- cleaning build/lib.linux-x86_64-2.7
Finished cleaning, time: 0.15 seconds.
if [ "$UNAME" = "CYGWIN" ]; then                         \
    sage-rebase.sh "$SAGE_LOCAL" 2>/dev/null;            \
fi

real	0m4.854s
user	0m4.159s
sys	0m0.601s
[manifolds] building [html]: targets for 63 source files that are out of date
[manifolds] updating environment: 63 added, 0 changed, 0 removed
[manifolds] loading cross citations... looking for now-outdated files... none found
[manifolds] /home/rajat/new_version/sage-8.7.beta6/src/doc/en/reference/manifolds/index.rst:4: WARNING: undefined label: tensors-on-free-modules (if the link has no caption the label must precede a section header)
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/chart.py:docstring of sage.manifolds.chart:20: WARNING: citation not found: Lee2011
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/chart.py:docstring of sage.manifolds.chart:21: WARNING: citation not found: Lee2013
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/continuous_map.py:docstring of sage.manifolds.continuous_map:12: WARNING: citation not found: KN1963
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/continuous_map.py:docstring of sage.manifolds.continuous_map:13: WARNING: citation not found: Lee2011
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/affine_connection.py:docstring of sage.manifolds.differentiable.affine_connection:13: WARNING: citation not found: Lee1997
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/affine_connection.py:docstring of sage.manifolds.differentiable.affine_connection:14: WARNING: citation not found: KN1963
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/affine_connection.py:docstring of sage.manifolds.differentiable.affine_connection:15: WARNING: citation not found: ONe1983
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/automorphismfield_group.py:docstring of sage.manifolds.differentiable.automorphismfield_group:24: WARNING: citation not found: God1968
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/chart.py:docstring of sage.manifolds.differentiable.chart:19: WARNING: citation not found: Lee2013
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/curve.py:docstring of sage.manifolds.differentiable.curve:19: WARNING: citation not found: KN1963
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/curve.py:docstring of sage.manifolds.differentiable.curve:20: WARNING: citation not found: Lee2013
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/diff_form.py:docstring of sage.manifolds.differentiable.diff_form:27: WARNING: citation not found: KN1963
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/diff_form.py:docstring of sage.manifolds.differentiable.diff_form:28: WARNING: citation not found: Lee2013
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/diff_form_module.py:docstring of sage.manifolds.differentiable.diff_form_module:20: WARNING: citation not found: KN1963
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/diff_form_module.py:docstring of sage.manifolds.differentiable.diff_form_module:21: WARNING: citation not found: Lee2013
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/diff_map.py:docstring of sage.manifolds.differentiable.diff_map:16: WARNING: citation not found: KN1963
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/diff_map.py:docstring of sage.manifolds.differentiable.diff_map:17: WARNING: citation not found: Lee2013
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/differentiable_submanifold.py:docstring of sage.manifolds.differentiable.differentiable_submanifold:21: WARNING: citation not found: Lee2013
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/euclidean.py:docstring of sage.manifolds.differentiable.euclidean:1: WARNING: citation not found: Ber1987
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/euclidean.py:docstring of sage.manifolds.differentiable.euclidean:396: WARNING: citation not found: Ber1987
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/levi_civita_connection.py:docstring of sage.manifolds.differentiable.levi_civita_connection:12: WARNING: citation not found: KN1963
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/levi_civita_connection.py:docstring of sage.manifolds.differentiable.levi_civita_connection:13: WARNING: citation not found: Lee1997
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/levi_civita_connection.py:docstring of sage.manifolds.differentiable.levi_civita_connection:14: WARNING: citation not found: ONe1983
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/manifold.py:docstring of sage.manifolds.differentiable.manifold:1: WARNING: citation not found: Ser1992
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/manifold.py:docstring of sage.manifolds.differentiable.manifold:1: WARNING: citation not found: Ber2008
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/manifold.py:docstring of sage.manifolds.differentiable.manifold:418: WARNING: citation not found: Lee2013
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/manifold.py:docstring of sage.manifolds.differentiable.manifold:419: WARNING: citation not found: KN1963
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/manifold.py:docstring of sage.manifolds.differentiable.manifold:420: WARNING: citation not found: Huy2005
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/manifold.py:docstring of sage.manifolds.differentiable.manifold:421: WARNING: citation not found: Ser1992
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/manifold.py:docstring of sage.manifolds.differentiable.manifold:422: WARNING: citation not found: Ber2008
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/manifold.py:docstring of sage.manifolds.differentiable.manifold:423: WARNING: citation not found: BG1988
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/manifold.py:docstring of sage.manifolds.differentiable.manifold.DifferentiableManifold:3: WARNING: citation not found: Ser1992
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/manifold.py:docstring of sage.manifolds.differentiable.manifold.DifferentiableManifold:3: WARNING: citation not found: Ber2008
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/manifold_homset.py:docstring of sage.manifolds.differentiable.manifold_homset:30: WARNING: citation not found: Lee2013
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/manifold_homset.py:docstring of sage.manifolds.differentiable.manifold_homset:31: WARNING: citation not found: KN1963
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/metric.py:docstring of sage.manifolds.differentiable.metric:14: WARNING: citation not found: KN1963
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/metric.py:docstring of sage.manifolds.differentiable.metric:15: WARNING: citation not found: Lee1997
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/metric.py:docstring of sage.manifolds.differentiable.metric:16: WARNING: citation not found: ONe1983
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/multivector_module.py:docstring of sage.manifolds.differentiable.multivector_module:20: WARNING: citation not found: BG1980
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/multivector_module.py:docstring of sage.manifolds.differentiable.multivector_module:21: WARNING: citation not found: Mar1997
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/multivectorfield.py:docstring of sage.manifolds.differentiable.multivectorfield:23: WARNING: citation not found: BG1980
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/multivectorfield.py:docstring of sage.manifolds.differentiable.multivectorfield:24: WARNING: citation not found: Mar1997
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/multivectorfield.py:docstring of sage.manifolds.differentiable.multivectorfield.MultivectorField.bracket:47: WARNING: citation not found: Mar1997
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/multivectorfield.py:docstring of sage.manifolds.differentiable.multivectorfield.MultivectorField.bracket:47: WARNING: citation not found: Kos1985
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/multivectorfield.py:docstring of sage.manifolds.differentiable.multivectorfield.MultivectorField.bracket:47: WARNING: citation not found: Nij1955
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/multivectorfield.py:docstring of sage.manifolds.differentiable.multivectorfield.MultivectorField.bracket:47: WARNING: citation not found: Lic1977
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/multivectorfield.py:docstring of sage.manifolds.differentiable.multivectorfield.MultivectorField.bracket:47: WARNING: citation not found: Vai1994
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/multivectorfield.py:docstring of sage.manifolds.differentiable.multivectorfield.MultivectorFieldParal.bracket:47: WARNING: citation not found: Mar1997
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/multivectorfield.py:docstring of sage.manifolds.differentiable.multivectorfield.MultivectorFieldParal.bracket:47: WARNING: citation not found: Kos1985
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/multivectorfield.py:docstring of sage.manifolds.differentiable.multivectorfield.MultivectorFieldParal.bracket:47: WARNING: citation not found: Nij1955
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/multivectorfield.py:docstring of sage.manifolds.differentiable.multivectorfield.MultivectorFieldParal.bracket:47: WARNING: citation not found: Lic1977
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/multivectorfield.py:docstring of sage.manifolds.differentiable.multivectorfield.MultivectorFieldParal.bracket:47: WARNING: citation not found: Vai1994
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/pseudo_riemannian.py:docstring of sage.manifolds.differentiable.pseudo_riemannian:254: WARNING: citation not found: ONe1983
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/pseudo_riemannian.py:docstring of sage.manifolds.differentiable.pseudo_riemannian:255: WARNING: citation not found: Lee1997
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/pseudo_riemannian_submanifold.py:docstring of sage.manifolds.differentiable.pseudo_riemannian_submanifold:153: WARNING: citation not found: ONe1983
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/pseudo_riemannian_submanifold.py:docstring of sage.manifolds.differentiable.pseudo_riemannian_submanifold:154: WARNING: citation not found: Lee1997
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/real_line.py:docstring of sage.manifolds.differentiable.real_line:12: WARNING: citation not found: Lee2013
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/scalarfield.py:docstring of sage.manifolds.differentiable.scalarfield:21: WARNING: citation not found: KN1963
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/scalarfield.py:docstring of sage.manifolds.differentiable.scalarfield:22: WARNING: citation not found: Lee2013
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/scalarfield.py:docstring of sage.manifolds.differentiable.scalarfield:23: WARNING: citation not found: ONe1983
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/scalarfield_algebra.py:docstring of sage.manifolds.differentiable.scalarfield_algebra:15: WARNING: citation not found: KN1963
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/scalarfield_algebra.py:docstring of sage.manifolds.differentiable.scalarfield_algebra:16: WARNING: citation not found: Lee2013
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/scalarfield_algebra.py:docstring of sage.manifolds.differentiable.scalarfield_algebra:17: WARNING: citation not found: ONe1983
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tangent_space.py:docstring of sage.manifolds.differentiable.tangent_space:11: WARNING: citation not found: Lee2013
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tangent_vector.py:docstring of sage.manifolds.differentiable.tangent_vector:11: WARNING: citation not found: Lee2013
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield.py:docstring of sage.manifolds.differentiable.tensorfield:32: WARNING: citation not found: KN1963
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield.py:docstring of sage.manifolds.differentiable.tensorfield:33: WARNING: citation not found: Lee2013
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield.py:docstring of sage.manifolds.differentiable.tensorfield:34: WARNING: citation not found: ONe1983
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield_module.py:docstring of sage.manifolds.differentiable.tensorfield_module:20: WARNING: citation not found: KN1963
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield_module.py:docstring of sage.manifolds.differentiable.tensorfield_module:21: WARNING: citation not found: Lee2013
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield_module.py:docstring of sage.manifolds.differentiable.tensorfield_module:22: WARNING: citation not found: ONe1983
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield_paral.py:docstring of sage.manifolds.differentiable.tensorfield_paral:32: WARNING: citation not found: KN1963
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield_paral.py:docstring of sage.manifolds.differentiable.tensorfield_paral:33: WARNING: citation not found: Lee2013
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/tensorfield_paral.py:docstring of sage.manifolds.differentiable.tensorfield_paral:34: WARNING: citation not found: ONe1983
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/vectorfield.py:docstring of sage.manifolds.differentiable.vectorfield:41: WARNING: citation not found: KN1963
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/vectorfield.py:docstring of sage.manifolds.differentiable.vectorfield:42: WARNING: citation not found: Lee2013
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/vectorfield.py:docstring of sage.manifolds.differentiable.vectorfield:43: WARNING: citation not found: ONe1983
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/vectorfield.py:docstring of sage.manifolds.differentiable.vectorfield:44: WARNING: citation not found: BG1988
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/vectorfield_module.py:docstring of sage.manifolds.differentiable.vectorfield_module:21: WARNING: citation not found: KN1963
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/vectorfield_module.py:docstring of sage.manifolds.differentiable.vectorfield_module:22: WARNING: citation not found: Lee2013
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/vectorfield_module.py:docstring of sage.manifolds.differentiable.vectorfield_module:23: WARNING: citation not found: ONe1983
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/differentiable/vectorframe.py:docstring of sage.manifolds.differentiable.vectorframe:30: WARNING: citation not found: Lee2013
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/manifold.py:docstring of sage.manifolds.manifold:307: WARNING: citation not found: Lee2011
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/manifold.py:docstring of sage.manifolds.manifold:308: WARNING: citation not found: Lee2013
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/manifold.py:docstring of sage.manifolds.manifold:309: WARNING: citation not found: KN1963
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/manifold.py:docstring of sage.manifolds.manifold:310: WARNING: citation not found: Huy2005
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/manifold_homset.py:docstring of sage.manifolds.manifold_homset:13: WARNING: citation not found: Lee2011
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/manifold_homset.py:docstring of sage.manifolds.manifold_homset:14: WARNING: citation not found: KN1963
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/point.py:docstring of sage.manifolds.point:14: WARNING: citation not found: Lee2011
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/point.py:docstring of sage.manifolds.point:15: WARNING: citation not found: Lee2013
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/scalarfield.py:docstring of sage.manifolds.scalarfield:21: WARNING: citation not found: Lee2011
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/scalarfield.py:docstring of sage.manifolds.scalarfield:22: WARNING: citation not found: KN1963
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/scalarfield_algebra.py:docstring of sage.manifolds.scalarfield_algebra:15: WARNING: citation not found: Lee2011
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/scalarfield_algebra.py:docstring of sage.manifolds.scalarfield_algebra:16: WARNING: citation not found: KN1963
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/subset.py:docstring of sage.manifolds.subset:14: WARNING: citation not found: Lee2011
[manifolds] /home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage/manifolds/topological_submanifold.py:docstring of sage.manifolds.topological_submanifold:27: WARNING: citation not found: Lee2013
[manifolds] The HTML pages are in local/share/doc/sage/html/en/reference/manifolds.
[manifolds] Exception occurred:
[manifolds]   File "/home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/os.py", line 157, in makedirs
[manifolds]     mkdir(name, mode)
[manifolds] OSError: [Errno 17] File exists: '/home/rajat/new_version/sage-8.7.beta6/local/share/doc/sage/html/en/reference/manifolds/_static'
[manifolds] The full traceback has been saved in /tmp/sphinx-err-9g_nLJ.log, if you want to report the issue to the developers.
[manifolds] Please also report this if it was a user error, so that a better error message can be provided next time.
[manifolds] A bug report can be filed in the tracker at <https://github.com/sphinx-doc/sphinx/issues>. Thanks!
Error building the documentation.
Traceback (most recent call last):
  File "/home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/runpy.py", line 174, in _run_module_as_main
    "__main__", fname, loader, pkg_name)
  File "/home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/runpy.py", line 72, in _run_code
    exec code in run_globals
  File "/home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage_setup/docbuild/__main__.py", line 2, in <module>
    main()
  File "/home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 1733, in main
    builder()
  File "/home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 550, in _wrapper
    build_many(build_ref_doc, L)
  File "/home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 288, in _build_many
    ret = x.get(99999)
  File "/home/rajat/new_version/sage-8.7.beta6/local/lib/python2.7/multiprocessing/pool.py", line 572, in get
    raise self._value
OSError: /home/rajat/new_version/sage-8.7.beta6/src/doc/en/reference/manifolds/index.rst:4: WARNING: undefined label: tensors-on-free-modules (if the link has no caption the label must precede a section header)
```



---

archive/issue_comments_415049.json:
```json
{
    "body": "<a id='comment:93'></a>Which version of Sagemath are you using ? I hope it is not 8.7.beta6 as the path suggest...\n\nCan you build the doc without this ticket ? Try `make doc-clean && make`.",
    "created_at": "2019-07-13T23:27:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415049",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:93'></a>Which version of Sagemath are you using ? I hope it is not 8.7.beta6 as the path suggest...

Can you build the doc without this ticket ? Try `make doc-clean && make`.



---

archive/issue_comments_415050.json:
```json
{
    "body": "<a id='comment:94'></a>I am using sage 8.9 beta 1. I am in process of merging it with beta 2 to get rid of patchbot errors.\nAnd \n\n```\n make doc-clean && make\n```\nworked and the documentation is building nicely.",
    "created_at": "2019-07-14T09:45:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415050",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:94'></a>I am using sage 8.9 beta 1. I am in process of merging it with beta 2 to get rid of patchbot errors.
And 

```
 make doc-clean && make
```
worked and the documentation is building nicely.



---

archive/issue_comments_415051.json:
```json
{
    "body": "<a id='comment:95'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-14T11:32:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415051",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:95'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415052.json:
```json
{
    "body": "<a id='comment:96'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-14T12:03:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415052",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:96'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415053.json:
```json
{
    "body": "<a id='comment:97'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-14T12:05:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415053",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:97'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415054.json:
```json
{
    "body": "<a id='comment:98'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-14T12:22:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415054",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:98'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415055.json:
```json
{
    "body": "<a id='comment:99'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-14T15:49:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415055",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:99'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415056.json:
```json
{
    "body": "<a id='comment:0'></a>I did several corrections in the code. The main one is to rename the method for directed graphs `feng_k_shortest_simple_paths`. Please check.\n\nThere is room for speed up improvements, in particular really using Cython. However, I prefer to finalyze first these methods, even if slow. We can latter work on speed up improvements.\n\nPlease also check if we really need to import `_all_paths_iterator` in `generic_graph.py` or if it can be a local method in `path_enumeration.pyx`. Note the methods starting with `_` are not shown in the html documentation. So we don't need to add this method to the top table.",
    "created_at": "2019-07-14T15:56:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415056",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:0'></a>I did several corrections in the code. The main one is to rename the method for directed graphs `feng_k_shortest_simple_paths`. Please check.

There is room for speed up improvements, in particular really using Cython. However, I prefer to finalyze first these methods, even if slow. We can latter work on speed up improvements.

Please also check if we really need to import `_all_paths_iterator` in `generic_graph.py` or if it can be a local method in `path_enumeration.pyx`. Note the methods starting with `_` are not shown in the html documentation. So we don't need to add this method to the top table.



---

archive/issue_comments_415057.json:
```json
{
    "body": "<a id='comment:101'></a>Replying to [comment:100 dcoudert]:\n\n> Please also check if we really need to import `_all_paths_iterator` in `generic_graph.py` or if it can be a local method in `path_enumeration.pyx`. Note the methods starting with `_` are not shown in the html documentation. So we don't need to add this method to the top table.\n\n\nI think you meant to import `_all_paths_iterator` in `digraph.py` .\n\nThe difference between `_all_paths_iterator` and `all_paths_iterator` is that former one takes single vertex as a starting vertex and latter one takes a list of starting vertices. These two methods were already present inside `digraph.py`. So if somebody was already using specifically `_all_paths_iterator` method can continue using since we have imported that method from path_enumeration.pyx to digraph.py otherwise the user will have to first import it from path_enumeration file. I am not sure if someone uses this method specifically, but this method also offers `simple` option if set to false useful for non simple paths. So maybe we can import it inside digraph.py module, so as to offer the same functionality as before.\n\nI have gone through the changes you made and the methods and documentation has been improved a lot. Thanks for the review and it looks good to me.",
    "created_at": "2019-07-15T01:39:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415057",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:101'></a>Replying to [comment:100 dcoudert]:

> Please also check if we really need to import `_all_paths_iterator` in `generic_graph.py` or if it can be a local method in `path_enumeration.pyx`. Note the methods starting with `_` are not shown in the html documentation. So we don't need to add this method to the top table.


I think you meant to import `_all_paths_iterator` in `digraph.py` .

The difference between `_all_paths_iterator` and `all_paths_iterator` is that former one takes single vertex as a starting vertex and latter one takes a list of starting vertices. These two methods were already present inside `digraph.py`. So if somebody was already using specifically `_all_paths_iterator` method can continue using since we have imported that method from path_enumeration.pyx to digraph.py otherwise the user will have to first import it from path_enumeration file. I am not sure if someone uses this method specifically, but this method also offers `simple` option if set to false useful for non simple paths. So maybe we can import it inside digraph.py module, so as to offer the same functionality as before.

I have gone through the changes you made and the methods and documentation has been improved a lot. Thanks for the review and it looks good to me.



---

archive/issue_comments_415058.json:
```json
{
    "body": "<a id='comment:2'></a>Right, it's in `digraph.py` and I agree it's safer to let the functionality.\n\nThere is something wrong. Feng and Yen should give the same results...\n\n```\nsage: G = digraphs.DeBruijn(2, 4)\nsage: for i, p in enumerate(G.shortest_simple_paths('0000', '1111', by_weight=False, algorithm='Feng')):\n....:     print(i, p)\n....:     \n0 ['0000', '0001', '0011', '0111', '1111']\n1 ['0000', '0001', '0010', '0101', '1011', '0111', '1111']\n2 ['0000', '0001', '0010', '0100', '1001', '0011', '0111', '1111']\n3 ['0000', '0001', '0011', '0110', '1101', '1011', '0111', '1111']\n4 ['0000', '0001', '0011', '0110', '1101', '1010', '0101', '1011', '0111', '1111']\n5 ['0000', '0001', '0010', '0100', '1001', '0011', '0110', '1101', '1011', '0111', '1111']\n6 ['0000', '0001', '0011', '0110', '1100', '1001', '0010', '0101', '1011', '0111', '1111']\n7 ['0000', '0001', '0010', '0100', '1001', '0011', '0110', '1101', '1010', '0101', '1011', '0111', '1111']\n8 ['0000', '0001', '0011', '0110', '1101', '1010', '0100', '1001', '0010', '0101', '1011', '0111', '1111']\nsage: for i, p in enumerate(G.shortest_simple_paths('0000', '1111', by_weight=False, algorithm='Yen')):\n....:     print(i, p)\n....:     \n0 ['0000', '0001', '0011', '0111', '1111']\n1 ['0000', '0001', '0010', '0101', '1011', '0111', '1111']\n2 ['0000', '0001', '0010', '0100', '1001', '0011', '0111', '1111']\n3 ['0000', '0001', '0011', '0110', '1101', '1011', '0111', '1111']\n4 ['0000', '0001', '0010', '0101', '1010', '0100', '1001', '0011', '0111', '1111']\n5 ['0000', '0001', '0011', '0110', '1101', '1010', '0101', '1011', '0111', '1111']\n6 ['0000', '0001', '0010', '0100', '1001', '0011', '0110', '1101', '1011', '0111', '1111']\n7 ['0000', '0001', '0010', '0101', '1011', '0110', '1100', '1001', '0011', '0111', '1111']\n8 ['0000', '0001', '0011', '0110', '1100', '1001', '0010', '0101', '1011', '0111', '1111']\n9 ['0000', '0001', '0010', '0100', '1001', '0011', '0110', '1101', '1010', '0101', '1011', '0111', '1111']\n10 ['0000', '0001', '0010', '0101', '1010', '0100', '1001', '0011', '0110', '1101', '1011', '0111', '1111']\n11 ['0000', '0001', '0010', '0101', '1011', '0110', '1101', '1010', '0100', '1001', '0011', '0111', '1111']\n12 ['0000', '0001', '0011', '0110', '1101', '1010', '0100', '1001', '0010', '0101', '1011', '0111', '1111']\n```",
    "created_at": "2019-07-15T02:17:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415058",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:2'></a>Right, it's in `digraph.py` and I agree it's safer to let the functionality.

There is something wrong. Feng and Yen should give the same results...

```
sage: G = digraphs.DeBruijn(2, 4)
sage: for i, p in enumerate(G.shortest_simple_paths('0000', '1111', by_weight=False, algorithm='Feng')):
....:     print(i, p)
....:     
0 ['0000', '0001', '0011', '0111', '1111']
1 ['0000', '0001', '0010', '0101', '1011', '0111', '1111']
2 ['0000', '0001', '0010', '0100', '1001', '0011', '0111', '1111']
3 ['0000', '0001', '0011', '0110', '1101', '1011', '0111', '1111']
4 ['0000', '0001', '0011', '0110', '1101', '1010', '0101', '1011', '0111', '1111']
5 ['0000', '0001', '0010', '0100', '1001', '0011', '0110', '1101', '1011', '0111', '1111']
6 ['0000', '0001', '0011', '0110', '1100', '1001', '0010', '0101', '1011', '0111', '1111']
7 ['0000', '0001', '0010', '0100', '1001', '0011', '0110', '1101', '1010', '0101', '1011', '0111', '1111']
8 ['0000', '0001', '0011', '0110', '1101', '1010', '0100', '1001', '0010', '0101', '1011', '0111', '1111']
sage: for i, p in enumerate(G.shortest_simple_paths('0000', '1111', by_weight=False, algorithm='Yen')):
....:     print(i, p)
....:     
0 ['0000', '0001', '0011', '0111', '1111']
1 ['0000', '0001', '0010', '0101', '1011', '0111', '1111']
2 ['0000', '0001', '0010', '0100', '1001', '0011', '0111', '1111']
3 ['0000', '0001', '0011', '0110', '1101', '1011', '0111', '1111']
4 ['0000', '0001', '0010', '0101', '1010', '0100', '1001', '0011', '0111', '1111']
5 ['0000', '0001', '0011', '0110', '1101', '1010', '0101', '1011', '0111', '1111']
6 ['0000', '0001', '0010', '0100', '1001', '0011', '0110', '1101', '1011', '0111', '1111']
7 ['0000', '0001', '0010', '0101', '1011', '0110', '1100', '1001', '0011', '0111', '1111']
8 ['0000', '0001', '0011', '0110', '1100', '1001', '0010', '0101', '1011', '0111', '1111']
9 ['0000', '0001', '0010', '0100', '1001', '0011', '0110', '1101', '1010', '0101', '1011', '0111', '1111']
10 ['0000', '0001', '0010', '0101', '1010', '0100', '1001', '0011', '0110', '1101', '1011', '0111', '1111']
11 ['0000', '0001', '0010', '0101', '1011', '0110', '1101', '1010', '0100', '1001', '0011', '0111', '1111']
12 ['0000', '0001', '0011', '0110', '1101', '1010', '0100', '1001', '0010', '0101', '1011', '0111', '1111']
```



---

archive/issue_comments_415059.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-15T07:41:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415059",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415060.json:
```json
{
    "body": "<a id='comment:4'></a>It was due to I forgot to update include_vertices as in above commit (took me a long time to realize that ;) )\n\nI guess now its fixed.\n\n```\nsage: G = digraphs.DeBruijn(2, 4)\nsage: s = set()\nsage: sage: for i, p in enumerate(G.shortest_simple_paths('0000', '1111', by_weight=False, al\n....: gorithm='Yen')):\n....: ....:     s.add(tuple(p))    \nsage: k = set()\nsage: sage: for i, p in enumerate(G.shortest_simple_paths('0000', '1111', by_weight=False, al\n....: gorithm='Feng')):\n....: ....:     k.add(tuple(p)) \nsage: k==s\nTrue\n```",
    "created_at": "2019-07-15T07:41:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415060",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:4'></a>It was due to I forgot to update include_vertices as in above commit (took me a long time to realize that ;) )

I guess now its fixed.

```
sage: G = digraphs.DeBruijn(2, 4)
sage: s = set()
sage: sage: for i, p in enumerate(G.shortest_simple_paths('0000', '1111', by_weight=False, al
....: gorithm='Yen')):
....: ....:     s.add(tuple(p))    
sage: k = set()
sage: sage: for i, p in enumerate(G.shortest_simple_paths('0000', '1111', by_weight=False, al
....: gorithm='Feng')):
....: ....:     k.add(tuple(p)) 
sage: k==s
True
```



---

archive/issue_comments_415061.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-15T07:48:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415061",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415062.json:
```json
{
    "body": "<a id='comment:6'></a>I have added this doctest in the `shortest_simple_paths`.",
    "created_at": "2019-07-15T07:49:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415062",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:6'></a>I have added this doctest in the `shortest_simple_paths`.



---

archive/issue_comments_415063.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-07-15T12:47:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415063",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_415064.json:
```json
{
    "body": "<a id='comment:7'></a>This is not enough to fix the code. In this example, the last path reported with Feng is not simple (vertex (1,0) visited twice). More errors with larger grids.\n\n```\nsage: G = DiGraph(graphs.Grid2dGraph(3,3))\nsage: for i, p in enumerate(G.shortest_simple_paths((0, 0), (0, 1), by_weight=False, algorithm='Feng')):\n....:     print(i, p)\n....:     \n0 [(0, 0), (0, 1)]\n1 [(0, 0), (1, 0), (1, 1), (0, 1)]\n2 [(0, 0), (1, 0), (1, 1), (1, 2), (0, 2), (0, 1)]\n3 [(0, 0), (1, 0), (2, 0), (2, 1), (1, 1), (0, 1)]\n4 [(0, 0), (1, 0), (1, 1), (2, 1), (2, 2), (1, 2), (0, 2), (0, 1)]\n5 [(0, 0), (1, 0), (2, 0), (2, 1), (1, 1), (1, 2), (0, 2), (0, 1)]\n6 [(0, 0), (1, 0), (2, 0), (2, 1), (2, 2), (1, 2), (1, 1), (0, 1)]\n7 [(0, 0), (1, 0), (2, 0), (2, 1), (2, 2), (1, 2), (0, 2), (0, 1)]\n8 [(0, 0), (1, 0), (1, 1), (1, 0), (2, 0), (2, 1), (2, 2), (1, 2), (0, 2), (0, 1)]\nsage: for i, p in enumerate(G.shortest_simple_paths((0, 0), (0, 1), by_weight=False, algorithm='Yen')):\n....:     print(i, p)\n....:     \n0 [(0, 0), (0, 1)]\n1 [(0, 0), (1, 0), (1, 1), (0, 1)]\n2 [(0, 0), (1, 0), (1, 1), (1, 2), (0, 2), (0, 1)]\n3 [(0, 0), (1, 0), (2, 0), (2, 1), (1, 1), (0, 1)]\n4 [(0, 0), (1, 0), (1, 1), (2, 1), (2, 2), (1, 2), (0, 2), (0, 1)]\n5 [(0, 0), (1, 0), (2, 0), (2, 1), (1, 1), (1, 2), (0, 2), (0, 1)]\n6 [(0, 0), (1, 0), (2, 0), (2, 1), (2, 2), (1, 2), (0, 2), (0, 1)]\n7 [(0, 0), (1, 0), (2, 0), (2, 1), (2, 2), (1, 2), (1, 1), (0, 1)]\n```",
    "created_at": "2019-07-15T12:47:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415064",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:7'></a>This is not enough to fix the code. In this example, the last path reported with Feng is not simple (vertex (1,0) visited twice). More errors with larger grids.

```
sage: G = DiGraph(graphs.Grid2dGraph(3,3))
sage: for i, p in enumerate(G.shortest_simple_paths((0, 0), (0, 1), by_weight=False, algorithm='Feng')):
....:     print(i, p)
....:     
0 [(0, 0), (0, 1)]
1 [(0, 0), (1, 0), (1, 1), (0, 1)]
2 [(0, 0), (1, 0), (1, 1), (1, 2), (0, 2), (0, 1)]
3 [(0, 0), (1, 0), (2, 0), (2, 1), (1, 1), (0, 1)]
4 [(0, 0), (1, 0), (1, 1), (2, 1), (2, 2), (1, 2), (0, 2), (0, 1)]
5 [(0, 0), (1, 0), (2, 0), (2, 1), (1, 1), (1, 2), (0, 2), (0, 1)]
6 [(0, 0), (1, 0), (2, 0), (2, 1), (2, 2), (1, 2), (1, 1), (0, 1)]
7 [(0, 0), (1, 0), (2, 0), (2, 1), (2, 2), (1, 2), (0, 2), (0, 1)]
8 [(0, 0), (1, 0), (1, 1), (1, 0), (2, 0), (2, 1), (2, 2), (1, 2), (0, 2), (0, 1)]
sage: for i, p in enumerate(G.shortest_simple_paths((0, 0), (0, 1), by_weight=False, algorithm='Yen')):
....:     print(i, p)
....:     
0 [(0, 0), (0, 1)]
1 [(0, 0), (1, 0), (1, 1), (0, 1)]
2 [(0, 0), (1, 0), (1, 1), (1, 2), (0, 2), (0, 1)]
3 [(0, 0), (1, 0), (2, 0), (2, 1), (1, 1), (0, 1)]
4 [(0, 0), (1, 0), (1, 1), (2, 1), (2, 2), (1, 2), (0, 2), (0, 1)]
5 [(0, 0), (1, 0), (2, 0), (2, 1), (1, 1), (1, 2), (0, 2), (0, 1)]
6 [(0, 0), (1, 0), (2, 0), (2, 1), (2, 2), (1, 2), (0, 2), (0, 1)]
7 [(0, 0), (1, 0), (2, 0), (2, 1), (2, 2), (1, 2), (1, 1), (0, 1)]
```



---

archive/issue_comments_415065.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-17T06:59:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415065",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415066.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-17T07:03:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415066",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415067.json:
```json
{
    "body": "<a id='comment:0'></a>I guess I forgot to exclude the vertices on the prefix previously which has been fixed now.\n\n```\n        sage: G = DiGraph(graphs.Grid2dGraph(3, 3))\n        sage: s = set()\n        sage: for i, p in enumerate(G.shortest_simple_paths((0, 0), (0, 1), by_weight=False, algorithm='Feng')):\n        ....:     s.add(tuple(p))\n        sage: k = set()\n        sage: for i, p in enumerate(G.shortest_simple_paths((0, 0), (0, 1), by_weight=False, algorithm='Yen')):\n        ....:     k.add(tuple(p))     \n        sage: s==k\n        True\n```",
    "created_at": "2019-07-17T07:05:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415067",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:0'></a>I guess I forgot to exclude the vertices on the prefix previously which has been fixed now.

```
        sage: G = DiGraph(graphs.Grid2dGraph(3, 3))
        sage: s = set()
        sage: for i, p in enumerate(G.shortest_simple_paths((0, 0), (0, 1), by_weight=False, algorithm='Feng')):
        ....:     s.add(tuple(p))
        sage: k = set()
        sage: for i, p in enumerate(G.shortest_simple_paths((0, 0), (0, 1), by_weight=False, algorithm='Yen')):
        ....:     k.add(tuple(p))     
        sage: s==k
        True
```



---

archive/issue_comments_415068.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-07-17T07:05:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415068",
    "user": "https://github.com/rajat1433"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_415069.json:
```json
{
    "body": "<a id='comment:1'></a>\n```diff\n-        sage: s==k\n+        sage: s == k\n```\n\nThis might be better\n\n```diff\n-        for j in range(dev_idx+1):\n-            if j != dev_idx:\n-                exclude_vertices.add(prev_path[j])\n-            # coloring red\n-            color[prev_path[j]] = 1\n+        for j in range(dev_idx):\n+            exclude_vertices.add(prev_path[j])\n+        for j in range(dev_idx + 1):\n+            # coloring red\n+            color[prev_path[j]] = 1\n```",
    "created_at": "2019-07-17T18:36:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415069",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:1'></a>
```diff
-        sage: s==k
+        sage: s == k
```

This might be better

```diff
-        for j in range(dev_idx+1):
-            if j != dev_idx:
-                exclude_vertices.add(prev_path[j])
-            # coloring red
-            color[prev_path[j]] = 1
+        for j in range(dev_idx):
+            exclude_vertices.add(prev_path[j])
+        for j in range(dev_idx + 1):
+            # coloring red
+            color[prev_path[j]] = 1
```



---

archive/issue_comments_415070.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-18T14:24:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415070",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415071.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-21T01:49:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415071",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415072.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-21T01:58:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415072",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415073.json:
```json
{
    "body": "<a id='comment:5'></a>I have updated the code and merged with sage 8.9 beta 3",
    "created_at": "2019-07-21T01:59:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415073",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:5'></a>I have updated the code and merged with sage 8.9 beta 3



---

archive/issue_comments_415074.json:
```json
{
    "body": "<a id='comment:6'></a>Another issue.\n\n```\nsage: G = DiGraph('SL{Sa??B[??iSOBIgA_K?a?@H??aGCsc??_oGCC__AA?H????c@_GA?C@?A_?_C???a?')\nsage: for i, p in enumerate(G.shortest_simple_paths(0, 1, by_weight=False, algorithm='Yen')): \n....:     print(i, p)\n0 [0, 2, 1]\n1 [0, 3, 2, 1]\n...\n388 [0, 18, 9, 3, 7, 16, 15, 8, 17, 6, 4, 12, 10, 19, 14, 11, 5, 2, 1]\nsage:\nsage: for i, p in enumerate(G.shortest_simple_paths(0, 1, by_weight=False, algorithm='Feng')):\n....:     print(i, p) \n0 [0, 2, 1]\n1 [0, 5, 2, 1]\n...\n7164 [0, 18, 9, 3, 13, 0, 2, 5, 11, 14, 19, 10, 12, 4, 6, 17, 8, 15, 16, 7, 0, 2, 1]\n```\nPlease continue to track bugs.",
    "created_at": "2019-07-22T01:06:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415074",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:6'></a>Another issue.

```
sage: G = DiGraph('SL{Sa??B[??iSOBIgA_K?a?@H??aGCsc??_oGCC__AA?H????c@_GA?C@?A_?_C???a?')
sage: for i, p in enumerate(G.shortest_simple_paths(0, 1, by_weight=False, algorithm='Yen')): 
....:     print(i, p)
0 [0, 2, 1]
1 [0, 3, 2, 1]
...
388 [0, 18, 9, 3, 7, 16, 15, 8, 17, 6, 4, 12, 10, 19, 14, 11, 5, 2, 1]
sage:
sage: for i, p in enumerate(G.shortest_simple_paths(0, 1, by_weight=False, algorithm='Feng')):
....:     print(i, p) 
0 [0, 2, 1]
1 [0, 5, 2, 1]
...
7164 [0, 18, 9, 3, 13, 0, 2, 5, 11, 14, 19, 10, 12, 4, 6, 17, 8, 15, 16, 7, 0, 2, 1]
```
Please continue to track bugs.



---

archive/issue_comments_415075.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-07-22T01:06:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415075",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_415076.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-22T08:20:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415076",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415077.json:
```json
{
    "body": "<a id='comment:9'></a>That was a good test case, I realized that I missed the part of Feng's algorithm where he mentions about removing the incoming edges of source and outgoing edges of the target node. But since it will be bad to permanently delete those things on our input graph that is why I created a copy of the original graph and worked on it.\n\n\n```diff\n+    G = self.copy()\n+    # removing the incoming edges to source and outgoing edges from target as\n+    # they do not contribute towards the k shortest simple paths\n+    incoming = G.neighbors_in(source)\n+    for i in incoming:\n+        G.delete_edge(i, source)\n+    outgoing = G.neighbors_out(target)\n+    for o in outgoing:\n+        G.delete_edge(target, o)\n```\n\nNow \n\n```\n        sage: G = DiGraph('SL{Sa??B[??iSOBIgA_K?a?@H??aGCsc??_oGCC__AA?H????c@_GA?C@?A_?_C???a?')\n        sage: s = set()\n        sage: for i, p in enumerate(G.shortest_simple_paths(0, 1, by_weight=False, algorithm='Yen')):\n        ....:     s.add(tuple(p))\n        sage: t = set()\n        sage: for i, p in enumerate(G.shortest_simple_paths(0, 1, by_weight=False, algorithm='Feng')):\n        ....:     t.add(tuple(p))\n        sage: s == t\n        True\n```\nI see that copy function has parameters like sparse but not sure if we require to use it here.",
    "created_at": "2019-07-22T08:27:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415077",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:9'></a>That was a good test case, I realized that I missed the part of Feng's algorithm where he mentions about removing the incoming edges of source and outgoing edges of the target node. But since it will be bad to permanently delete those things on our input graph that is why I created a copy of the original graph and worked on it.


```diff
+    G = self.copy()
+    # removing the incoming edges to source and outgoing edges from target as
+    # they do not contribute towards the k shortest simple paths
+    incoming = G.neighbors_in(source)
+    for i in incoming:
+        G.delete_edge(i, source)
+    outgoing = G.neighbors_out(target)
+    for o in outgoing:
+        G.delete_edge(target, o)
```

Now 

```
        sage: G = DiGraph('SL{Sa??B[??iSOBIgA_K?a?@H??aGCsc??_oGCC__AA?H????c@_GA?C@?A_?_C???a?')
        sage: s = set()
        sage: for i, p in enumerate(G.shortest_simple_paths(0, 1, by_weight=False, algorithm='Yen')):
        ....:     s.add(tuple(p))
        sage: t = set()
        sage: for i, p in enumerate(G.shortest_simple_paths(0, 1, by_weight=False, algorithm='Feng')):
        ....:     t.add(tuple(p))
        sage: s == t
        True
```
I see that copy function has parameters like sparse but not sure if we require to use it here.



---

archive/issue_comments_415078.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-07-22T08:27:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415078",
    "user": "https://github.com/rajat1433"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_415079.json:
```json
{
    "body": "<a id='comment:1'></a>Also ./sage -btp --long src/sage/graphs/ passes all tests now.",
    "created_at": "2019-07-22T08:29:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415079",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:1'></a>Also ./sage -btp --long src/sage/graphs/ passes all tests now.



---

archive/issue_comments_415080.json:
```json
{
    "body": "<a id='comment:2'></a>Have you tried other random (di)graphs, possibly with multiple edges and various edge weights ?\nFor small graphs, you can enumerate all paths. For large graphs, you can for instance enumerate 100 or 1000 paths.\nThe more tests you do, the less bugs remains ;)",
    "created_at": "2019-07-23T15:17:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415080",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:2'></a>Have you tried other random (di)graphs, possibly with multiple edges and various edge weights ?
For small graphs, you can enumerate all paths. For large graphs, you can for instance enumerate 100 or 1000 paths.
The more tests you do, the less bugs remains ;)



---

archive/issue_comments_415081.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-24T05:52:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415081",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415082.json:
```json
{
    "body": "<a id='comment:124'></a>Replying to [comment:122 dcoudert]:\n> Have you tried other random (di)graphs, possibly with multiple edges and various edge weights ?\n> For small graphs, you can enumerate all paths. For large graphs, you can for instance enumerate 100 or 1000 paths.\n> The more tests you do, the less bugs remains ;)\n\n\nRight. I guess I found some more, working on improving it.",
    "created_at": "2019-07-24T05:53:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415082",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:124'></a>Replying to [comment:122 dcoudert]:
> Have you tried other random (di)graphs, possibly with multiple edges and various edge weights ?
> For small graphs, you can enumerate all paths. For large graphs, you can for instance enumerate 100 or 1000 paths.
> The more tests you do, the less bugs remains ;)


Right. I guess I found some more, working on improving it.



---

archive/issue_comments_415083.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-07-24T05:53:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415083",
    "user": "https://github.com/rajat1433"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_415084.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-24T08:44:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415084",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415085.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-07-24T08:46:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415085",
    "user": "https://github.com/rajat1433"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_415086.json:
```json
{
    "body": "<a id='comment:8'></a>Another issue with Feng when there is no path from source to target. The answer of Yen is good.\n\n```\nsage: G = DiGraph(graphs.PathGraph(2) * 2)\nsage: for i,p in enumerate(G.shortest_simple_paths(0, 2, by_weight=False, algorithm='Yen')):\n....:     print(i, p)\n....:     \n0 []\nsage: for i,p in enumerate(G.shortest_simple_paths(0, 2, by_weight=False, algorithm='Feng')):\n....:     print(i, p)\n....:     \n---------------------------------------------------------------------------\nLookupError                               Traceback (most recent call last)\n<ipython-input-43-8f520f4e49ee> in <module>()\n----> 1 for i,p in enumerate(G.shortest_simple_paths(Integer(0), Integer(2), by_weight=False, algorithm='Feng')):\n      2     print(i, p)\n      3 \n\n/Users/dcoudert/sage3/sage/local/lib/python3.7/site-packages/sage/graphs/path_enumeration.pyx in shortest_simple_paths (build/cythonized/sage/graphs/path_enumeration.c:5131)()\n    489             raise ValueError(\"Feng's algorithm works only for directed graphs\")\n    490 \n--> 491         yield from feng_k_shortest_simple_paths(self, source=source, target=target,\n    492                                                 weight_function=weight_function,\n    493                                                 by_weight=by_weight, report_edges=report_edges,\n\n/Users/dcoudert/sage3/sage/local/lib/python3.7/site-packages/sage/graphs/path_enumeration.pyx in feng_k_shortest_simple_paths (build/cythonized/sage/graphs/path_enumeration.c:12389)()\n   1097 \n   1098     # compute the shortest path between the source and the target\n-> 1099     path = shortest_path_func(source, target, exclude_vertices=exclude_vert_set,\n   1100                                 weight_function=weight_function, reduced_weight=reduced_cost)\n   1101     length = length_func(path)\n\n/Users/dcoudert/sage3/sage/local/lib/python3.7/site-packages/sage/graphs/base/c_graph.pyx in sage.graphs.base.c_graph.CGraphBackend.bidirectional_dijkstra_special (build/cythonized/sage/graphs/base/c_graph.cpp:21062)()\n   2385                 raise LookupError(\"%s and %s are excluded vertices\" % (x, y))\n   2386             elif x_excluded:\n-> 2387                 raise LookupError(\"no path from an excluded vertex %s\" % (x))\n   2388             elif y_excluded:\n   2389                 raise LookupError(\"no path to an excluded vertex %s\" % (y))\n\nLookupError: no path from an excluded vertex 0\n```",
    "created_at": "2019-07-24T16:04:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415086",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:8'></a>Another issue with Feng when there is no path from source to target. The answer of Yen is good.

```
sage: G = DiGraph(graphs.PathGraph(2) * 2)
sage: for i,p in enumerate(G.shortest_simple_paths(0, 2, by_weight=False, algorithm='Yen')):
....:     print(i, p)
....:     
0 []
sage: for i,p in enumerate(G.shortest_simple_paths(0, 2, by_weight=False, algorithm='Feng')):
....:     print(i, p)
....:     
---------------------------------------------------------------------------
LookupError                               Traceback (most recent call last)
<ipython-input-43-8f520f4e49ee> in <module>()
----> 1 for i,p in enumerate(G.shortest_simple_paths(Integer(0), Integer(2), by_weight=False, algorithm='Feng')):
      2     print(i, p)
      3 

/Users/dcoudert/sage3/sage/local/lib/python3.7/site-packages/sage/graphs/path_enumeration.pyx in shortest_simple_paths (build/cythonized/sage/graphs/path_enumeration.c:5131)()
    489             raise ValueError("Feng's algorithm works only for directed graphs")
    490 
--> 491         yield from feng_k_shortest_simple_paths(self, source=source, target=target,
    492                                                 weight_function=weight_function,
    493                                                 by_weight=by_weight, report_edges=report_edges,

/Users/dcoudert/sage3/sage/local/lib/python3.7/site-packages/sage/graphs/path_enumeration.pyx in feng_k_shortest_simple_paths (build/cythonized/sage/graphs/path_enumeration.c:12389)()
   1097 
   1098     # compute the shortest path between the source and the target
-> 1099     path = shortest_path_func(source, target, exclude_vertices=exclude_vert_set,
   1100                                 weight_function=weight_function, reduced_weight=reduced_cost)
   1101     length = length_func(path)

/Users/dcoudert/sage3/sage/local/lib/python3.7/site-packages/sage/graphs/base/c_graph.pyx in sage.graphs.base.c_graph.CGraphBackend.bidirectional_dijkstra_special (build/cythonized/sage/graphs/base/c_graph.cpp:21062)()
   2385                 raise LookupError("%s and %s are excluded vertices" % (x, y))
   2386             elif x_excluded:
-> 2387                 raise LookupError("no path from an excluded vertex %s" % (x))
   2388             elif y_excluded:
   2389                 raise LookupError("no path to an excluded vertex %s" % (y))

LookupError: no path from an excluded vertex 0
```



---

archive/issue_comments_415087.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-07-24T16:04:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415087",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_415088.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-25T01:16:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415088",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415089.json:
```json
{
    "body": "<a id='comment:0'></a>Currently both Yen's and Feng's ignores the multiedges present in a graph as shown thru below examples.\n\nConsidering this, for Feng's it may be a little bit difficult to handle, it becomes a little tricky when the graph is weighted and we want shortest paths according to its edge weights. As we have used exclude_vertices approach it may be diffcult to handle.\nI think it will be better to handle this in another ticket but still during the gsoc period as #28220 is waiting for this tkt to be commited on top of it. Currently we can say its not implemented for multigraphs.\n\n```\nsage: g = DiGraph([(0, 1, 'a'), (0, 1, 'b'), (1, 2,'c'), (1, 2,'d')], multiedges=True)\nsage: g.all_simple_paths(starting_vertices=[0], ending_vertices=[2], use_m\n....: ultiedges=True, report_edges=True, labels=True)\n[[(0, 1, 'b'), (1, 2, 'd')],\n [(0, 1, 'b'), (1, 2, 'c')],\n [(0, 1, 'a'), (1, 2, 'd')],\n [(0, 1, 'a'), (1, 2, 'c')]]\nsage: sage: for i,p in enumerate(g.shortest_simple_paths(0, 2, by_weight=False, \n....: algorithm='Yen')):\n....: ....:     print(i, p)\n....:     \n(0, [0, 1, 2])\nsage: from sage.graphs.path_enumeration import feng_k_shortest_simple_paths\nsage: list(feng_k_shortest_simple_paths(g, 0, 2, report_edges=True, report_weigh\n....: t=False, labels=False))\n[[(0, 1), (1, 2)]]\nsage: list(feng_k_shortest_simple_paths(g, 0, 2, report_weight=False, labels=Fal\n....: se))\n[[0, 1, 2]]\nsage: list(feng_k_shortest_simple_paths(g, 0, 2, report_edges=True, report_weigh\n....: t=False, labels=True))\n[[(0, 1, 'a'), (1, 2, 'c')]]\n\n```",
    "created_at": "2019-07-25T01:29:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415089",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:0'></a>Currently both Yen's and Feng's ignores the multiedges present in a graph as shown thru below examples.

Considering this, for Feng's it may be a little bit difficult to handle, it becomes a little tricky when the graph is weighted and we want shortest paths according to its edge weights. As we have used exclude_vertices approach it may be diffcult to handle.
I think it will be better to handle this in another ticket but still during the gsoc period as #28220 is waiting for this tkt to be commited on top of it. Currently we can say its not implemented for multigraphs.

```
sage: g = DiGraph([(0, 1, 'a'), (0, 1, 'b'), (1, 2,'c'), (1, 2,'d')], multiedges=True)
sage: g.all_simple_paths(starting_vertices=[0], ending_vertices=[2], use_m
....: ultiedges=True, report_edges=True, labels=True)
[[(0, 1, 'b'), (1, 2, 'd')],
 [(0, 1, 'b'), (1, 2, 'c')],
 [(0, 1, 'a'), (1, 2, 'd')],
 [(0, 1, 'a'), (1, 2, 'c')]]
sage: sage: for i,p in enumerate(g.shortest_simple_paths(0, 2, by_weight=False, 
....: algorithm='Yen')):
....: ....:     print(i, p)
....:     
(0, [0, 1, 2])
sage: from sage.graphs.path_enumeration import feng_k_shortest_simple_paths
sage: list(feng_k_shortest_simple_paths(g, 0, 2, report_edges=True, report_weigh
....: t=False, labels=False))
[[(0, 1), (1, 2)]]
sage: list(feng_k_shortest_simple_paths(g, 0, 2, report_weight=False, labels=Fal
....: se))
[[0, 1, 2]]
sage: list(feng_k_shortest_simple_paths(g, 0, 2, report_edges=True, report_weigh
....: t=False, labels=True))
[[(0, 1, 'a'), (1, 2, 'c')]]

```



---

archive/issue_comments_415090.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-07-25T01:29:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415090",
    "user": "https://github.com/rajat1433"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_415091.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-25T01:36:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415091",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415092.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-26T08:42:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415092",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415093.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-29T17:50:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415093",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415094.json:
```json
{
    "body": "<a id='comment:7'></a>I think we are almost done here.\n\n- use latex (twice)\n\n```diff\n-    Time complexity is `O(kn(m+nlogn))` where `n` is the number of vertices and\n+    Time complexity is `O(kn(m+n\\log{n}))` where `n` is the number of vertices and\n```\n\n- it might be nicer to do like that:\n\n```diff\n-        sage: g = Graph([(1, 2, 1), (2, 3, 1), (3, 4, 1), (4, 5, 2), (5, 6, 100), (4, 7, 3), (7, 6, 4), (3, 8, 5), (8, 9, 2), (9, 6, 2), (9, 10, 7), (9, 11, 10), (11, 6, 8), (10, 6, 2)])\n+        sage: g = Graph([(1, 2, 1), (2, 3, 1), (3, 4, 1), (4, 5, 2),\n+        ....:            (5, 6, 100), (4, 7, 3), (7, 6, 4), (3, 8, 5),\n+        ....:            (8, 9, 2), (9, 6, 2), (9, 10, 7), (9, 11, 10),\n+        ....:            (11, 6, 8), (10, 6, 2)])\n```\n\n- issue with corner case (Yen, Feng, etc.). I assume that when source=target and `report_edges=True`, we expect the empty path, and possibly a path with a loop if self loops are allowed\n\n```\nsage: g = DiGraph([(1, 2, 20), (1, 3, 10), (1, 4, 30), (2, 5, 20), (3, 5, 10), (4, 5, 30)])\nsage: list(g.shortest_simple_paths(1, 1, by_weight=True, report_edges=True, report_weight=True, labels=True))\n[[1]]\n```\n\n- if loops / multi edges are forbidden, you can start with `self._scream_if_not_simple()`. If only ignored, it must be clearly documented and you can use `G.to_simple(to_undirected=False, keep_label='min', immutable=False)` to reduce the size of the graph to consider. Currently, the weights are not smallest possible and not consistent with reported paths. \n\n```\nsage: G = digraphs.DeBruijn(2, 3)\nsage: for u,v in G.edges(labels=False):\n....:     G.set_edge_label(u, v, 1)\n....:     \nsage: G.allow_multiple_edges(True)\nsage: for u,v in G.edges(labels=False):\n....:     G.add_edge(u, v, 2)\n....:     \nsage: list(G.shortest_simple_paths('000', '111'))\n[['000', '001', '011', '111'], ['000', '001', '010', '101', '011', '111']]\nsage: list(G.shortest_simple_paths('000', '111', by_weight=True))\n[['000', '001', '011', '111'], ['000', '001', '010', '101', '011', '111']]\nsage: list(G.shortest_simple_paths('000', '111', by_weight=True, report_weight=True))\n[(6, ['000', '001', '011', '111']),\n (9, ['000', '001', '010', '101', '011', '111'])]\nsage: list(G.shortest_simple_paths('000', '111', by_weight=True, report_weight=True, report_edges=True, labels=True))\n[(6, [('000', '001', 1), ('001', '011', 1), ('011', '111', 1)]),\n (9,\n  [('000', '001', 1),\n   ('001', '010', 1),\n   ('010', '101', 1),\n   ('101', '011', 1),\n   ('011', '111', 1)])]\n```",
    "created_at": "2019-07-30T15:13:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415094",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:7'></a>I think we are almost done here.

- use latex (twice)

```diff
-    Time complexity is `O(kn(m+nlogn))` where `n` is the number of vertices and
+    Time complexity is `O(kn(m+n\log{n}))` where `n` is the number of vertices and
```

- it might be nicer to do like that:

```diff
-        sage: g = Graph([(1, 2, 1), (2, 3, 1), (3, 4, 1), (4, 5, 2), (5, 6, 100), (4, 7, 3), (7, 6, 4), (3, 8, 5), (8, 9, 2), (9, 6, 2), (9, 10, 7), (9, 11, 10), (11, 6, 8), (10, 6, 2)])
+        sage: g = Graph([(1, 2, 1), (2, 3, 1), (3, 4, 1), (4, 5, 2),
+        ....:            (5, 6, 100), (4, 7, 3), (7, 6, 4), (3, 8, 5),
+        ....:            (8, 9, 2), (9, 6, 2), (9, 10, 7), (9, 11, 10),
+        ....:            (11, 6, 8), (10, 6, 2)])
```

- issue with corner case (Yen, Feng, etc.). I assume that when source=target and `report_edges=True`, we expect the empty path, and possibly a path with a loop if self loops are allowed

```
sage: g = DiGraph([(1, 2, 20), (1, 3, 10), (1, 4, 30), (2, 5, 20), (3, 5, 10), (4, 5, 30)])
sage: list(g.shortest_simple_paths(1, 1, by_weight=True, report_edges=True, report_weight=True, labels=True))
[[1]]
```

- if loops / multi edges are forbidden, you can start with `self._scream_if_not_simple()`. If only ignored, it must be clearly documented and you can use `G.to_simple(to_undirected=False, keep_label='min', immutable=False)` to reduce the size of the graph to consider. Currently, the weights are not smallest possible and not consistent with reported paths. 

```
sage: G = digraphs.DeBruijn(2, 3)
sage: for u,v in G.edges(labels=False):
....:     G.set_edge_label(u, v, 1)
....:     
sage: G.allow_multiple_edges(True)
sage: for u,v in G.edges(labels=False):
....:     G.add_edge(u, v, 2)
....:     
sage: list(G.shortest_simple_paths('000', '111'))
[['000', '001', '011', '111'], ['000', '001', '010', '101', '011', '111']]
sage: list(G.shortest_simple_paths('000', '111', by_weight=True))
[['000', '001', '011', '111'], ['000', '001', '010', '101', '011', '111']]
sage: list(G.shortest_simple_paths('000', '111', by_weight=True, report_weight=True))
[(6, ['000', '001', '011', '111']),
 (9, ['000', '001', '010', '101', '011', '111'])]
sage: list(G.shortest_simple_paths('000', '111', by_weight=True, report_weight=True, report_edges=True, labels=True))
[(6, [('000', '001', 1), ('001', '011', 1), ('011', '111', 1)]),
 (9,
  [('000', '001', 1),
   ('001', '010', 1),
   ('010', '101', 1),
   ('101', '011', 1),
   ('011', '111', 1)])]
```



---

archive/issue_comments_415095.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-07-30T15:13:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415095",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_415096.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-31T18:04:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415096",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415097.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-07-31T18:09:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415097",
    "user": "https://github.com/rajat1433"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_415098.json:
```json
{
    "body": "<a id='comment:0'></a>These are methods, not booleans\n\n```diff\n-    if self.has_loops or self.allows_multiple_edges:\n+    if self.has_loops() or self.allows_multiple_edges():\n```",
    "created_at": "2019-08-01T09:50:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415098",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:0'></a>These are methods, not booleans

```diff
-    if self.has_loops or self.allows_multiple_edges:
+    if self.has_loops() or self.allows_multiple_edges():
```



---

archive/issue_comments_415099.json:
```json
{
    "body": "<a id='comment:1'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-01T10:07:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415099",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:1'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415100.json:
```json
{
    "body": "<a id='comment:2'></a>FYI, I opened ticket #28309 to slightly speed up method `to_simple` by improving method `allow_multiple_edges`.\nActually, it might be a good idea to pass the `weight_function` to method `to_simple`.",
    "created_at": "2019-08-01T15:09:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415100",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:2'></a>FYI, I opened ticket #28309 to slightly speed up method `to_simple` by improving method `allow_multiple_edges`.
Actually, it might be a good idea to pass the `weight_function` to method `to_simple`.



---

archive/issue_comments_415101.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-08-01T15:21:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415101",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_415102.json:
```json
{
    "body": "<a id='comment:3'></a>Another issue:\n\n```\nsage: def my_test(G, u, v, n=100):\n....:     it_yen = G.shortest_simple_paths(u, v, by_weight=True, report_weight=True, report_edges=True, labels=True, algorithm='Yen')\n....:     it_feng = G.shortest_simple_paths(u, v, by_weight=True, report_weight=True, report_edges=True, labels=True, algorithm='Feng')\n....:     for i,(p,f) in enumerate(zip(it_yen, it_feng)):\n....:         print(i, p, f)\n....:         if p[0] != f[0]:\n....:             print(\"Something goes wrong !\")\n....:             break\n....:         if i == n:\n....:             break\nsage:\nsage: G = DiGraph(weighted=True)\nsage: G.add_edges([(0, 5, 8), (0, 6, 2), (0, 16, 10), (0, 19, 4), (1, 4, 9), (1, 5, 9), (1, 10, 1), (1, 12, 2), (1, 13, 1), (1, 14, 8), (1, 16, 3), (2, 1, 8), (2, 4, 7), (2, 5, 4), (2, 10, 7), (2, 12, 4), (2, 13, 10), (2, 16, 6), (3, 4, 8), (3, 9, 4), (3, 13, 3), (3, 14, 5), (3, 18, 4), (4, 0, 9), (4, 5, 5), (4, 7, 1), (4, 8, 1), (4, 9, 2), (4, 10, 9), (4, 13, 9), (4, 18, 8), (5, 3, 4), (5, 7, 1), (5, 8, 2), (5, 10, 10), (5, 12, 4), (5, 13, 9), (5, 15, 7), (6, 0, 8), (6, 2, 7), (6, 4, 6), (6, 5, 8), (6, 12, 5), (6, 16, 1), (7, 0, 10), (7, 1, 2), (7, 5, 6), (7, 6, 9), (7, 9, 8), (7, 13, 3), (7, 15, 1), (8, 0, 3), (8, 9, 10), (8, 10, 1), (9, 0, 9), (9, 1, 1), (9, 8, 8), (9, 11, 9), (9, 13, 3), (9, 16, 5), (10, 3, 10), (10, 8, 3), (10, 9, 9), (10, 13, 8), (10, 17, 1), (10, 18, 2), (10, 19, 6), (11, 2, 7), (11, 6, 9), (11, 7, 6), (11, 8, 9), (11, 10, 9), (11, 13, 8), (11, 16, 4), (11, 17, 8), (12, 1, 5), (12, 2, 4), (12, 6, 10), (12, 9, 3), (12, 16, 7), (12, 17, 5), (12, 18, 10), (13, 1, 4), (13, 14, 1), (13, 15, 6), (13, 18, 10), (13, 19, 7), (14, 0, 7), (14, 3, 8), (14, 5, 8), (14, 7, 6), (14, 9, 6), (15, 6, 4), (15, 9, 6), (15, 12, 8), (15, 16, 10), (15, 17, 4), (16, 0, 8), (16, 2, 9), (16, 3, 8), (16, 4, 6), (16, 8, 9), (16, 13, 5), (16, 14, 7), (17, 6, 2), (17, 8, 1), (17, 14, 7), (17, 16, 6), (18, 1, 2), (18, 3, 1), (18, 5, 3), (18, 6, 7), (18, 7, 4), (18, 9, 1), (18, 12, 2), (18, 13, 7), (19, 0, 6), (19, 1, 7), (19, 4, 1), (19, 9, 1), (19, 11, 3), (19, 16, 10), (19, 17, 8), (19, 18, 8)])\nsage:\nsage: my_test(G, 17, 8)\n0 (1, [(17, 8, 1)]) (1, [(17, 8, 1)])\n1 (9, [(17, 6, 2), (6, 4, 6), (4, 8, 1)]) (9, [(17, 6, 2), (6, 4, 6), (4, 8, 1)])\n2 (10, [(17, 6, 2), (6, 16, 1), (16, 4, 6), (4, 8, 1)]) (10, [(17, 6, 2), (6, 16, 1), (16, 8, 9)])\n3 (12, [(17, 6, 2), (6, 5, 8), (5, 8, 2)]) (10, [(17, 6, 2), (6, 16, 1), (16, 4, 6), (4, 8, 1)])\nSomething goes wrong !\n```\nI found that case by taken a `digraphs.RandomDirectedGNP(20, .3)`, assigning random weights in `1..10`, and randomly selecting source and destination.",
    "created_at": "2019-08-01T15:21:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415102",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:3'></a>Another issue:

```
sage: def my_test(G, u, v, n=100):
....:     it_yen = G.shortest_simple_paths(u, v, by_weight=True, report_weight=True, report_edges=True, labels=True, algorithm='Yen')
....:     it_feng = G.shortest_simple_paths(u, v, by_weight=True, report_weight=True, report_edges=True, labels=True, algorithm='Feng')
....:     for i,(p,f) in enumerate(zip(it_yen, it_feng)):
....:         print(i, p, f)
....:         if p[0] != f[0]:
....:             print("Something goes wrong !")
....:             break
....:         if i == n:
....:             break
sage:
sage: G = DiGraph(weighted=True)
sage: G.add_edges([(0, 5, 8), (0, 6, 2), (0, 16, 10), (0, 19, 4), (1, 4, 9), (1, 5, 9), (1, 10, 1), (1, 12, 2), (1, 13, 1), (1, 14, 8), (1, 16, 3), (2, 1, 8), (2, 4, 7), (2, 5, 4), (2, 10, 7), (2, 12, 4), (2, 13, 10), (2, 16, 6), (3, 4, 8), (3, 9, 4), (3, 13, 3), (3, 14, 5), (3, 18, 4), (4, 0, 9), (4, 5, 5), (4, 7, 1), (4, 8, 1), (4, 9, 2), (4, 10, 9), (4, 13, 9), (4, 18, 8), (5, 3, 4), (5, 7, 1), (5, 8, 2), (5, 10, 10), (5, 12, 4), (5, 13, 9), (5, 15, 7), (6, 0, 8), (6, 2, 7), (6, 4, 6), (6, 5, 8), (6, 12, 5), (6, 16, 1), (7, 0, 10), (7, 1, 2), (7, 5, 6), (7, 6, 9), (7, 9, 8), (7, 13, 3), (7, 15, 1), (8, 0, 3), (8, 9, 10), (8, 10, 1), (9, 0, 9), (9, 1, 1), (9, 8, 8), (9, 11, 9), (9, 13, 3), (9, 16, 5), (10, 3, 10), (10, 8, 3), (10, 9, 9), (10, 13, 8), (10, 17, 1), (10, 18, 2), (10, 19, 6), (11, 2, 7), (11, 6, 9), (11, 7, 6), (11, 8, 9), (11, 10, 9), (11, 13, 8), (11, 16, 4), (11, 17, 8), (12, 1, 5), (12, 2, 4), (12, 6, 10), (12, 9, 3), (12, 16, 7), (12, 17, 5), (12, 18, 10), (13, 1, 4), (13, 14, 1), (13, 15, 6), (13, 18, 10), (13, 19, 7), (14, 0, 7), (14, 3, 8), (14, 5, 8), (14, 7, 6), (14, 9, 6), (15, 6, 4), (15, 9, 6), (15, 12, 8), (15, 16, 10), (15, 17, 4), (16, 0, 8), (16, 2, 9), (16, 3, 8), (16, 4, 6), (16, 8, 9), (16, 13, 5), (16, 14, 7), (17, 6, 2), (17, 8, 1), (17, 14, 7), (17, 16, 6), (18, 1, 2), (18, 3, 1), (18, 5, 3), (18, 6, 7), (18, 7, 4), (18, 9, 1), (18, 12, 2), (18, 13, 7), (19, 0, 6), (19, 1, 7), (19, 4, 1), (19, 9, 1), (19, 11, 3), (19, 16, 10), (19, 17, 8), (19, 18, 8)])
sage:
sage: my_test(G, 17, 8)
0 (1, [(17, 8, 1)]) (1, [(17, 8, 1)])
1 (9, [(17, 6, 2), (6, 4, 6), (4, 8, 1)]) (9, [(17, 6, 2), (6, 4, 6), (4, 8, 1)])
2 (10, [(17, 6, 2), (6, 16, 1), (16, 4, 6), (4, 8, 1)]) (10, [(17, 6, 2), (6, 16, 1), (16, 8, 9)])
3 (12, [(17, 6, 2), (6, 5, 8), (5, 8, 2)]) (10, [(17, 6, 2), (6, 16, 1), (16, 4, 6), (4, 8, 1)])
Something goes wrong !
```
I found that case by taken a `digraphs.RandomDirectedGNP(20, .3)`, assigning random weights in `1..10`, and randomly selecting source and destination.



---

archive/issue_comments_415103.json:
```json
{
    "body": "<a id='comment:4'></a>A smaller example (8 vertices) where you can check that the weight of the path is not properly computed with Feng. The second reported path has weight 14 (=5 + 9), not 13. The third path must be reported before the second.\n\n```\nsage: G = DiGraph([(0, 1, 9), (0, 3, 1), (0, 4, 2), (1, 6, 4), (1, 7, 1), (2, 0, 5), (2, 1, 4), (2, 7, 10), (3, 1, 7), (3, 2, 4), (3, 4, 2), (4, 0, 8), (4, 1, 10), (4, 3, 3), (4, 7, 10), (5, 2, 5), (5, 4, 9), (6, 2, 9)], weighted=True)\nsage: my_test(G, 2, 1)\n0 (4, [(2, 1, 4)]) (4, [(2, 1, 4)])\n1 (13, [(2, 0, 5), (0, 3, 1), (3, 1, 7)]) (13, [(2, 0, 5), (0, 1, 9)])\n2 (14, [(2, 0, 5), (0, 1, 9)]) (13, [(2, 0, 5), (0, 3, 1), (3, 1, 7)])\nSomething goes wrong !\n```",
    "created_at": "2019-08-01T15:31:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415103",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:4'></a>A smaller example (8 vertices) where you can check that the weight of the path is not properly computed with Feng. The second reported path has weight 14 (=5 + 9), not 13. The third path must be reported before the second.

```
sage: G = DiGraph([(0, 1, 9), (0, 3, 1), (0, 4, 2), (1, 6, 4), (1, 7, 1), (2, 0, 5), (2, 1, 4), (2, 7, 10), (3, 1, 7), (3, 2, 4), (3, 4, 2), (4, 0, 8), (4, 1, 10), (4, 3, 3), (4, 7, 10), (5, 2, 5), (5, 4, 9), (6, 2, 9)], weighted=True)
sage: my_test(G, 2, 1)
0 (4, [(2, 1, 4)]) (4, [(2, 1, 4)])
1 (13, [(2, 0, 5), (0, 3, 1), (3, 1, 7)]) (13, [(2, 0, 5), (0, 1, 9)])
2 (14, [(2, 0, 5), (0, 1, 9)]) (13, [(2, 0, 5), (0, 3, 1), (3, 1, 7)])
Something goes wrong !
```



---

archive/issue_comments_415104.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-03T04:27:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415104",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415105.json:
```json
{
    "body": "<a id='comment:6'></a>\n```\nsage: G = DiGraph(weighted=True)\nsage: G.add_edges([(0, 5, 8), (0, 6, 2), (0, 16, 10), (0, 19, 4), (1, 4, 9), (1, 5, 9), (1, 10, 1), (1, 12, 2), (1, 13, 1), (1, 14, 8), (1, 16, 3), (2, 1, 8), (2, 4, 7), (2, 5, 4), (2, 10, 7), (2, 12, 4), (2, 13, 10), (2, 16, 6), (3, 4, 8), (3, 9, 4), (3, 13, 3), (3, 14, 5), (3, 18, 4), (4, 0, 9), (4, 5, 5), (4, 7, 1), (4, 8, 1), (4, 9, 2), (4, 10, 9), (4, 13, 9), (4, 18, 8), (5, 3, 4), (5, 7, 1), (5, 8, 2), (5, 10, 10), (5, 12, 4), (5, 13, 9), (5, 15, 7), (6, 0, 8), (6, 2, 7), (6, 4, 6), (6, 5, 8), (6, 12, 5), (6, 16, 1), (7, 0, 10), (7, 1, 2), (7, 5, 6), (7, 6, 9), (7, 9, 8), (7, 13, 3), (7, 15, 1), (8, 0, 3), (8, 9, 10), (8, 10, 1), (9, 0, 9), (9, 1, 1), (9, 8, 8), (9, 11, 9), (9, 13, 3), (9, 16, 5), (10, 3, 10), (10, 8, 3), (10, 9, 9), (10, 13, 8), (10, 17, 1), (10, 18, 2), (10, 19, 6), (11, 2, 7), (11, 6, 9), (11, 7, 6), (11, 8, 9), (11, 10, 9), (11, 13, 8), (11, 16, 4), (11, 17, 8), (12, 1, 5), (12, 2, 4), (12, 6, 10), (12, 9, 3), (12, 16, 7), (12, 17, 5), (12, 18, 10), (13, 1, 4), (13, 14, 1), (13, 15, 6), (13, 18, 10), (13, 19, 7), (14, 0, 7), (14, 3, 8), (14, 5, 8), (14, 7, 6), (14, 9, 6), (15, 6, 4), (15, 9, 6), (15, 12, 8), (15, 16, 10), (15, 17, 4), (16, 0, 8), (16, 2, 9), (16, 3, 8), (16, 4, 6), (16, 8, 9), (16, 13, 5), (16, 14, 7), (17, 6, 2), (17, 8, 1), (17, 14, 7), (17, 16, 6), (18, 1, 2), (18, 3, 1), (18, 5, 3), (18, 6, 7), (18, 7, 4), (18, 9, 1), (18, 12, 2), (18, 13, 7), (19, 0, 6), (19, 1, 7), (19, 4, 1), (19, 9, 1), (19, 11, 3), (19, 16, 10), (19, 17, 8), (19, 18, 8)])\n\nsage: lis=[]\nsage: it_yen = G.shortest_simple_paths(17, 8, by_weight=True, report\n....: _weight=True, report_edges=True, labels=True, algorithm='Yen')\nsage: for i in range(300):\n....:     a = it_yen.next()\n....:     lis.append(a)\n....:     \nsage: fis=[]\nsage: it_feng = G.shortest_simple_paths(17, 8, by_weight=True, repor\n....: t_weight=True, report_edges=True, labels=True, algorithm='Feng')\nsage: for i in range(300):\n....:     a = it_feng.next()\n....:     fis.append(a)\n....:     \nsage: for i in range(300):\n....:     if lis[i][0]!=fis[i][0]:\n....:         print(\"error\")\n....:\n```",
    "created_at": "2019-08-03T04:29:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415105",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:6'></a>
```
sage: G = DiGraph(weighted=True)
sage: G.add_edges([(0, 5, 8), (0, 6, 2), (0, 16, 10), (0, 19, 4), (1, 4, 9), (1, 5, 9), (1, 10, 1), (1, 12, 2), (1, 13, 1), (1, 14, 8), (1, 16, 3), (2, 1, 8), (2, 4, 7), (2, 5, 4), (2, 10, 7), (2, 12, 4), (2, 13, 10), (2, 16, 6), (3, 4, 8), (3, 9, 4), (3, 13, 3), (3, 14, 5), (3, 18, 4), (4, 0, 9), (4, 5, 5), (4, 7, 1), (4, 8, 1), (4, 9, 2), (4, 10, 9), (4, 13, 9), (4, 18, 8), (5, 3, 4), (5, 7, 1), (5, 8, 2), (5, 10, 10), (5, 12, 4), (5, 13, 9), (5, 15, 7), (6, 0, 8), (6, 2, 7), (6, 4, 6), (6, 5, 8), (6, 12, 5), (6, 16, 1), (7, 0, 10), (7, 1, 2), (7, 5, 6), (7, 6, 9), (7, 9, 8), (7, 13, 3), (7, 15, 1), (8, 0, 3), (8, 9, 10), (8, 10, 1), (9, 0, 9), (9, 1, 1), (9, 8, 8), (9, 11, 9), (9, 13, 3), (9, 16, 5), (10, 3, 10), (10, 8, 3), (10, 9, 9), (10, 13, 8), (10, 17, 1), (10, 18, 2), (10, 19, 6), (11, 2, 7), (11, 6, 9), (11, 7, 6), (11, 8, 9), (11, 10, 9), (11, 13, 8), (11, 16, 4), (11, 17, 8), (12, 1, 5), (12, 2, 4), (12, 6, 10), (12, 9, 3), (12, 16, 7), (12, 17, 5), (12, 18, 10), (13, 1, 4), (13, 14, 1), (13, 15, 6), (13, 18, 10), (13, 19, 7), (14, 0, 7), (14, 3, 8), (14, 5, 8), (14, 7, 6), (14, 9, 6), (15, 6, 4), (15, 9, 6), (15, 12, 8), (15, 16, 10), (15, 17, 4), (16, 0, 8), (16, 2, 9), (16, 3, 8), (16, 4, 6), (16, 8, 9), (16, 13, 5), (16, 14, 7), (17, 6, 2), (17, 8, 1), (17, 14, 7), (17, 16, 6), (18, 1, 2), (18, 3, 1), (18, 5, 3), (18, 6, 7), (18, 7, 4), (18, 9, 1), (18, 12, 2), (18, 13, 7), (19, 0, 6), (19, 1, 7), (19, 4, 1), (19, 9, 1), (19, 11, 3), (19, 16, 10), (19, 17, 8), (19, 18, 8)])

sage: lis=[]
sage: it_yen = G.shortest_simple_paths(17, 8, by_weight=True, report
....: _weight=True, report_edges=True, labels=True, algorithm='Yen')
sage: for i in range(300):
....:     a = it_yen.next()
....:     lis.append(a)
....:     
sage: fis=[]
sage: it_feng = G.shortest_simple_paths(17, 8, by_weight=True, repor
....: t_weight=True, report_edges=True, labels=True, algorithm='Feng')
sage: for i in range(300):
....:     a = it_feng.next()
....:     fis.append(a)
....:     
sage: for i in range(300):
....:     if lis[i][0]!=fis[i][0]:
....:         print("error")
....:
```



---

archive/issue_comments_415106.json:
```json
{
    "body": "<a id='comment:7'></a>It took me quite a while to debug the problem , so I went through the algorithm step by step and made changes to make sure it does not break or causes error. Now I think it works and report weights properly.",
    "created_at": "2019-08-03T04:34:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415106",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:7'></a>It took me quite a while to debug the problem , so I went through the algorithm step by step and made changes to make sure it does not break or causes error. Now I think it works and report weights properly.



---

archive/issue_comments_415107.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-08-03T05:05:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415107",
    "user": "https://github.com/rajat1433"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_415108.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-03T13:48:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415108",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415109.json:
```json
{
    "body": "<a id='comment:0'></a>I rebased on last beta and fixed merge conflicts. Then I added a test on random digraphs.\n\nI have not yet identified new issues, and I hope I will not find any ;)",
    "created_at": "2019-08-03T13:52:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415109",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:0'></a>I rebased on last beta and fixed merge conflicts. Then I added a test on random digraphs.

I have not yet identified new issues, and I hope I will not find any ;)



---

archive/issue_comments_415110.json:
```json
{
    "body": "<a id='comment:1'></a>I did the following test and I don't understand why Feng is significantly slower than Yen. Do you have any idea of the parts that must be improved ?\n\n```\nsage: def my_run(G, algo):\n....:     i = 0\n....:     for u in G:\n....:         for v in G:\n....:             if u == v:\n....:                 continue\n....:             it = G.shortest_simple_paths(u, v, by_weight=True, algorithm=algo)\n....:             for p in it:\n....:                 i += 1\n....:     return i\n....: \nsage: G = digraphs.RandomDirectedGNP(15, 0.1)\nsage: while not G.is_strongly_connected():\n....:     G = digraphs.RandomDirectedGNP(15, 0.1)\n....:     \nsage: for u, v in list(G.edges(labels=False, sort=False)):\n....:     G.set_edge_label(u, v, randint(1, 10))\n....:     \nsage: %time my_run(G, 'Yen')\nCPU times: user 623 ms, sys: 2.41 ms, total: 626 ms\nWall time: 626 ms\n5841\nsage: %time my_run(G, 'Feng')\nCPU times: user 2.36 s, sys: 5.73 ms, total: 2.37 s\nWall time: 2.37 s\n5841\n```",
    "created_at": "2019-08-03T14:23:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415110",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:1'></a>I did the following test and I don't understand why Feng is significantly slower than Yen. Do you have any idea of the parts that must be improved ?

```
sage: def my_run(G, algo):
....:     i = 0
....:     for u in G:
....:         for v in G:
....:             if u == v:
....:                 continue
....:             it = G.shortest_simple_paths(u, v, by_weight=True, algorithm=algo)
....:             for p in it:
....:                 i += 1
....:     return i
....: 
sage: G = digraphs.RandomDirectedGNP(15, 0.1)
sage: while not G.is_strongly_connected():
....:     G = digraphs.RandomDirectedGNP(15, 0.1)
....:     
sage: for u, v in list(G.edges(labels=False, sort=False)):
....:     G.set_edge_label(u, v, randint(1, 10))
....:     
sage: %time my_run(G, 'Yen')
CPU times: user 623 ms, sys: 2.41 ms, total: 626 ms
Wall time: 626 ms
5841
sage: %time my_run(G, 'Feng')
CPU times: user 2.36 s, sys: 5.73 ms, total: 2.37 s
Wall time: 2.37 s
5841
```



---

archive/issue_comments_415111.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-04T04:56:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415111",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415112.json:
```json
{
    "body": "<a id='comment:3'></a>\n```\nsage: g = DiGraph(graphs.Grid2dGraph(10, 10))\nsage: sage: from sage.graphs.path_enumeration import feng_k_shortest_simple_path\n....: s\n....: sage: from sage.graphs.path_enumeration import yen_k_shortest_simple_paths\n....: \n....: \nsage: q = feng_k_shortest_simple_paths(g, (0, 0), (9, 9))\nsage: %timeit [q.next() for i in range(1000)]\n1 loop, best of 3: 833 ms per loop\nsage: %timeit [q.next() for i in range(1000)]\n1 loop, best of 3: 906 ms per loop\nsage: p = yen_k_shortest_simple_paths(g, (0, 0), (9, 9))\nsage: %timeit [p.next() for i in range(1000)]\n1 loop, best of 3: 1.31 s per loop\n\nsage: sage: def weight_function(e):\n....: ....: ....:     return 3\n\n\nsage: g = DiGraph(graphs.Grid2dGraph(10, 10))\nsage: sage: p = yen_k_shortest_simple_paths(g, (0, 0), (9, 9),weight_function=we\n....: ight_function)\nsage: sage: %timeit [p.next() for i in range(1000)]\n1 loop, best of 3: 3.35 s per loop\n\nsage: q = feng_k_shortest_simple_paths(g, (0, 0), (9, 9),weight_function=weight_\n....: function)\nsage: %timeit [q.next() for i in range(1000)]\n1 loop, best of 3: 1.31 s per loop\n\n\n```",
    "created_at": "2019-08-04T04:56:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415112",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:3'></a>
```
sage: g = DiGraph(graphs.Grid2dGraph(10, 10))
sage: sage: from sage.graphs.path_enumeration import feng_k_shortest_simple_path
....: s
....: sage: from sage.graphs.path_enumeration import yen_k_shortest_simple_paths
....: 
....: 
sage: q = feng_k_shortest_simple_paths(g, (0, 0), (9, 9))
sage: %timeit [q.next() for i in range(1000)]
1 loop, best of 3: 833 ms per loop
sage: %timeit [q.next() for i in range(1000)]
1 loop, best of 3: 906 ms per loop
sage: p = yen_k_shortest_simple_paths(g, (0, 0), (9, 9))
sage: %timeit [p.next() for i in range(1000)]
1 loop, best of 3: 1.31 s per loop

sage: sage: def weight_function(e):
....: ....: ....:     return 3


sage: g = DiGraph(graphs.Grid2dGraph(10, 10))
sage: sage: p = yen_k_shortest_simple_paths(g, (0, 0), (9, 9),weight_function=we
....: ight_function)
sage: sage: %timeit [p.next() for i in range(1000)]
1 loop, best of 3: 3.35 s per loop

sage: q = feng_k_shortest_simple_paths(g, (0, 0), (9, 9),weight_function=weight_
....: function)
sage: %timeit [q.next() for i in range(1000)]
1 loop, best of 3: 1.31 s per loop


```



---

archive/issue_comments_415113.json:
```json
{
    "body": "<a id='comment:4'></a>\n```\nsage: sage: def my_run(G, algo):\n....: ....:     i = 0\n....: ....:     for u in G:\n....: ....:         for v in G:\n....: ....:             if u == v:\n....: ....:                 continue\n....: ....:             it = G.shortest_simple_paths(u, v, by_weight=True, algor\n....: ithm=algo)\n....: ....:             for p in it:\n....: ....:                 i += 1\n....: ....:     return i\n....: \nsage: sage: G = digraphs.RandomDirectedGNP(15, 0.1)\n....: sage: while not G.is_strongly_connected():\n....: ....:     G = digraphs.RandomDirectedGNP(15, 0.1)\n....:     \nsage: sage: for u, v in list(G.edges(labels=False, sort=False)):\n....: ....:     G.set_edge_label(u, v, randint(1, 10))\n....:     \nsage:  %time my_run(G, 'Yen')\nCPU times: user 69.7 ms, sys: 157 \u00b5s, total: 69.9 ms\nWall time: 66.5 ms\n405\nsage: %time my_run(G, 'Feng')\nCPU times: user 176 ms, sys: 7.98 ms, total: 184 ms\nWall time: 177 ms\n405\n\n```",
    "created_at": "2019-08-04T05:06:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415113",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:4'></a>
```
sage: sage: def my_run(G, algo):
....: ....:     i = 0
....: ....:     for u in G:
....: ....:         for v in G:
....: ....:             if u == v:
....: ....:                 continue
....: ....:             it = G.shortest_simple_paths(u, v, by_weight=True, algor
....: ithm=algo)
....: ....:             for p in it:
....: ....:                 i += 1
....: ....:     return i
....: 
sage: sage: G = digraphs.RandomDirectedGNP(15, 0.1)
....: sage: while not G.is_strongly_connected():
....: ....:     G = digraphs.RandomDirectedGNP(15, 0.1)
....:     
sage: sage: for u, v in list(G.edges(labels=False, sort=False)):
....: ....:     G.set_edge_label(u, v, randint(1, 10))
....:     
sage:  %time my_run(G, 'Yen')
CPU times: user 69.7 ms, sys: 157 s, total: 69.9 ms
Wall time: 66.5 ms
405
sage: %time my_run(G, 'Feng')
CPU times: user 176 ms, sys: 7.98 ms, total: 184 ms
Wall time: 177 ms
405

```



---

archive/issue_comments_415114.json:
```json
{
    "body": "<a id='comment:5'></a>Though I have improved the speed of Feng's significantly from the version just before but still in some cases Yen is faster and in some cases Feng is faster.\nWill look into more optimizations possible into Feng without breaking the algorithm....",
    "created_at": "2019-08-04T05:08:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415114",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:5'></a>Though I have improved the speed of Feng's significantly from the version just before but still in some cases Yen is faster and in some cases Feng is faster.
Will look into more optimizations possible into Feng without breaking the algorithm....



---

archive/issue_comments_415115.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-04T10:00:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415115",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415116.json:
```json
{
    "body": "<a id='comment:7'></a>I did some minor edits in Yen and Feng.\n\nIn Feng, why are you adding/removing edges ? can't we avoid that ?",
    "created_at": "2019-08-04T10:05:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415116",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:7'></a>I did some minor edits in Yen and Feng.

In Feng, why are you adding/removing edges ? can't we avoid that ?



---

archive/issue_comments_415117.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-05T02:46:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415117",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415118.json:
```json
{
    "body": "<a id='comment:9'></a>Adding and Removing edges in Feng's is required when we find express edges so that we can update the head node of express edges directly to the target. (This is done because the cost of the path between the head of express edge and the target becomes zero as per the cost function defined by Feng in his paper.) And when we move to the next vertex for deviation of the current path we update the express edges and also remove the additional edges of some vertices we introduced previously which are no longer valid. Though I have tried not to remove the vertices and nodes in the graph by using exclude_vertices and exclude_edges set so that we don't have to remove and add again and again, but adding the edges from head of express edge to target was a necessity as described in the algorithm.",
    "created_at": "2019-08-05T03:08:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415118",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:9'></a>Adding and Removing edges in Feng's is required when we find express edges so that we can update the head node of express edges directly to the target. (This is done because the cost of the path between the head of express edge and the target becomes zero as per the cost function defined by Feng in his paper.) And when we move to the next vertex for deviation of the current path we update the express edges and also remove the additional edges of some vertices we introduced previously which are no longer valid. Though I have tried not to remove the vertices and nodes in the graph by using exclude_vertices and exclude_edges set so that we don't have to remove and add again and again, but adding the edges from head of express edge to target was a necessity as described in the algorithm.



---

archive/issue_comments_415119.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-08-06T12:55:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415119",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_415120.json:
```json
{
    "body": "<a id='comment:0'></a>I agree. So I propose to let speed-up improvements of the algorithms to future tickets.\n\nGood to go.",
    "created_at": "2019-08-06T12:55:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415120",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:0'></a>I agree. So I propose to let speed-up improvements of the algorithms to future tickets.

Good to go.



---

archive/issue_comments_415121.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2019-08-09T03:28:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415121",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_415122.json:
```json
{
    "body": "<a id='comment:1'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2019-08-09T03:28:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415122",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:1'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_415123.json:
```json
{
    "body": "<a id='comment:2'></a>`@`dcoudert \nI guess due to above change you have to positive review it again ;)",
    "created_at": "2019-08-09T04:15:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415123",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:2'></a>`@`dcoudert 
I guess due to above change you have to positive review it again ;)



---

archive/issue_comments_415124.json:
```json
{
    "body": "<a id='comment:3'></a>Please don't do that. Such kind of modification can be postpone to another ticket.\nWe only reopen a ticket when something critical has to be done (fixing a bug, etc.).",
    "created_at": "2019-08-09T09:40:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415124",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:3'></a>Please don't do that. Such kind of modification can be postpone to another ticket.
We only reopen a ticket when something critical has to be done (fixing a bug, etc.).



---

archive/issue_comments_415125.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-08-09T09:40:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415125",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_415126.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-08-11T16:44:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27859#issuecomment-415126",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_069055.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-08-11T16:44:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27859",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27859#event-69055"
}
```
