# Issue 27099: Deprecate is_extension_type

archive/issues_026862.json:
```json
{
    "assignees": [],
    "body": "First of all, the name `is_extension_type` is misleading: it *actually* tests whether instances of the class have a `__dict__`. While extension types usually don't and Python classes usually do, in both cases the opposite is possible.\n\nMoreover, it is used in only one place (namely to determine whether to use actual inheritance from the category for `Element` classes). And this usage is there mostly for historical reasons (see also #24715).\n\nSince `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.\n\nOne further minor change is that an element class can no longer be an old-style class. This was not an issue in practice, since most (if not all) `Element` classes derive from `sage.structure.element.Element`. But two tests with simple old-style `Element` classes had to be fixed.\n\nCC:  @tscrim\n\nBranch: **[`4fcd4eb`](https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Jeroen Demeyer**\n\nComponent: **misc**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/27099_\n\n",
    "closed_at": "2019-01-27T10:50:52Z",
    "created_at": "2019-01-23T16:30:20Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Deprecate is_extension_type",
    "type": "issue",
    "updated_at": "2021-07-03T18:02:26Z",
    "url": "https://github.com/sagemath/sage/issues/27099",
    "user": "https://github.com/jdemeyer"
}
```
First of all, the name `is_extension_type` is misleading: it *actually* tests whether instances of the class have a `__dict__`. While extension types usually don't and Python classes usually do, in both cases the opposite is possible.

Moreover, it is used in only one place (namely to determine whether to use actual inheritance from the category for `Element` classes). And this usage is there mostly for historical reasons (see also #24715).

Since `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.

One further minor change is that an element class can no longer be an old-style class. This was not an issue in practice, since most (if not all) `Element` classes derive from `sage.structure.element.Element`. But two tests with simple old-style `Element` classes had to be fixed.

CC:  @tscrim

Branch: **[`4fcd4eb`](https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b)**

Reviewer: **Travis Scrimshaw**

Author: **Jeroen Demeyer**

Component: **misc**

_Issue created by migration from https://trac.sagemath.org/ticket/27099_





---

archive/issue_events_372446.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-23T16:30:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27099#event-372446"
}
```



---

archive/issue_events_372447.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-23T16:30:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27099#event-372447"
}
```



---

archive/issue_events_372448.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-23T16:30:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27099#event-372448"
}
```



---

archive/issue_comments_418100.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n First of all, the name `is_extension_type` is misleading: it *actually* tests whether instances of the class have a `__dict__`. While extension types usually don't and Python classes usually do, in both cases the opposite is possible.\n \n Moreover, it is used in only one place (namely to determine whether to use actual inheritance from the category for `Element` classes). And this usage is there mostly for historical reasons (see also #24715).\n+\n+Since `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.\n``````\n",
    "created_at": "2019-01-23T16:39:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-418100",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 First of all, the name `is_extension_type` is misleading: it *actually* tests whether instances of the class have a `__dict__`. While extension types usually don't and Python classes usually do, in both cases the opposite is possible.
 
 Moreover, it is used in only one place (namely to determine whether to use actual inheritance from the category for `Element` classes). And this usage is there mostly for historical reasons (see also #24715).
+
+Since `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.
``````




---

archive/issue_comments_418101.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,3 +3,5 @@\n Moreover, it is used in only one place (namely to determine whether to use actual inheritance from the category for `Element` classes). And this usage is there mostly for historical reasons (see also #24715).\n \n Since `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.\n+\n+One further minor change is that an element class can no longer be an old-style class. This was probably already an implicit requirement, but now an explicit test for it is made.\n``````\n",
    "created_at": "2019-01-23T16:51:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-418101",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,3 +3,5 @@
 Moreover, it is used in only one place (namely to determine whether to use actual inheritance from the category for `Element` classes). And this usage is there mostly for historical reasons (see also #24715).
 
 Since `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.
+
+One further minor change is that an element class can no longer be an old-style class. This was probably already an implicit requirement, but now an explicit test for it is made.
``````




---

archive/issue_comments_418102.json:
```json
{
    "body": "Branch: **[u/jdemeyer/deprecate_is_extension_type](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/deprecate_is_extension_type)**",
    "created_at": "2019-01-23T16:54:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-418102",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/deprecate_is_extension_type](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/deprecate_is_extension_type)**



---

archive/issue_comments_418103.json:
```json
{
    "body": "Commit: **[`e8bfd28`](https://github.com/sagemath/sagetrac-mirror/commit/e8bfd28f360eab167a72b5423d8fed153ee0e97e)**",
    "created_at": "2019-01-23T16:54:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-418103",
    "user": "https://github.com/jdemeyer"
}
```

Commit: **[`e8bfd28`](https://github.com/sagemath/sagetrac-mirror/commit/e8bfd28f360eab167a72b5423d8fed153ee0e97e)**



---

archive/issue_events_372449.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-23T16:54:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27099#event-372449"
}
```



---

archive/issue_comments_418104.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8bfd28f360eab167a72b5423d8fed153ee0e97e\"><code>e8bfd28</code></a></td><td><code>Deprecate is_extension_type</code></td></tr></table>\n",
    "created_at": "2019-01-23T16:54:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-418104",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8bfd28f360eab167a72b5423d8fed153ee0e97e"><code>e8bfd28</code></a></td><td><code>Deprecate is_extension_type</code></td></tr></table>




---

archive/issue_comments_418105.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25093c3c659c800d6a960d63043932ea0ab2338d\"><code>25093c3</code></a></td><td><code>Deprecate is_extension_type</code></td></tr></table>\n",
    "created_at": "2019-01-23T21:01:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-418105",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25093c3c659c800d6a960d63043932ea0ab2338d"><code>25093c3</code></a></td><td><code>Deprecate is_extension_type</code></td></tr></table>




---

archive/issue_comments_418106.json:
```json
{
    "body": "Changed commit from **[`e8bfd28`](https://github.com/sagemath/sagetrac-mirror/commit/e8bfd28f360eab167a72b5423d8fed153ee0e97e)** to **[`25093c3`](https://github.com/sagemath/sagetrac-mirror/commit/25093c3c659c800d6a960d63043932ea0ab2338d)**",
    "created_at": "2019-01-23T21:01:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-418106",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e8bfd28`](https://github.com/sagemath/sagetrac-mirror/commit/e8bfd28f360eab167a72b5423d8fed153ee0e97e)** to **[`25093c3`](https://github.com/sagemath/sagetrac-mirror/commit/25093c3c659c800d6a960d63043932ea0ab2338d)**



---

archive/issue_events_372450.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-23T21:12:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27099#event-372450"
}
```



---

archive/issue_events_372451.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-23T21:12:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27099#event-372451"
}
```



---

archive/issue_comments_418107.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,4 +4,4 @@\n \n Since `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.\n \n-One further minor change is that an element class can no longer be an old-style class. This was probably already an implicit requirement, but now an explicit test for it is made.\n+One further minor change is that an element class can no longer be an old-style class. This was not an issue in practice, since most (if not all) `Element` classes derive from `sage.structure.element.Element`. But two tests with simple old-style `Element` classes had to be fixed.\n``````\n",
    "created_at": "2019-01-23T21:17:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-418107",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,4 +4,4 @@
 
 Since `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.
 
-One further minor change is that an element class can no longer be an old-style class. This was probably already an implicit requirement, but now an explicit test for it is made.
+One further minor change is that an element class can no longer be an old-style class. This was not an issue in practice, since most (if not all) `Element` classes derive from `sage.structure.element.Element`. But two tests with simple old-style `Element` classes had to be fixed.
``````




---

archive/issue_comments_418108.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b\"><code>4fcd4eb</code></a></td><td><code>Fix old-style Element class</code></td></tr></table>\n",
    "created_at": "2019-01-24T09:46:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-418108",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b"><code>4fcd4eb</code></a></td><td><code>Fix old-style Element class</code></td></tr></table>




---

archive/issue_comments_418109.json:
```json
{
    "body": "Changed commit from **[`25093c3`](https://github.com/sagemath/sagetrac-mirror/commit/25093c3c659c800d6a960d63043932ea0ab2338d)** to **[`4fcd4eb`](https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b)**",
    "created_at": "2019-01-24T09:46:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-418109",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`25093c3`](https://github.com/sagemath/sagetrac-mirror/commit/25093c3c659c800d6a960d63043932ea0ab2338d)** to **[`4fcd4eb`](https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b)**



---

archive/issue_events_372452.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-24T10:12:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27099#event-372452"
}
```



---

archive/issue_events_372453.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-24T10:12:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27099#event-372453"
}
```



---

archive/issue_events_372454.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-01-25T20:11:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27099#event-372454"
}
```



---

archive/issue_events_372455.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-01-25T20:11:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27099#event-372455"
}
```



---

archive/issue_comments_418110.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nLGTM.",
    "created_at": "2019-01-25T20:11:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-418110",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:10" align="right">comment:10</div>

LGTM.



---

archive/issue_comments_418111.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2019-01-25T20:11:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-418111",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_events_372456.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-27T10:50:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27099#event-372456"
}
```



---

archive/issue_events_372457.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e05773c29582eaa1b64d2ca672192f274b019eee",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-01-27T10:50:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27099#event-372457"
}
```



---

archive/issue_comments_418112.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/deprecate_is_extension_type](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/deprecate_is_extension_type)** to **[`4fcd4eb`](https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b)**",
    "created_at": "2019-01-27T10:50:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-418112",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/deprecate_is_extension_type](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/deprecate_is_extension_type)** to **[`4fcd4eb`](https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b)**



---

archive/issue_comments_418113.json:
```json
{
    "body": "Changed commit from **[`4fcd4eb`](https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b)** to none",
    "created_at": "2021-07-03T18:02:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-418113",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[`4fcd4eb`](https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b)** to none



---

archive/issue_comments_418114.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nRemoved in #32114",
    "created_at": "2021-07-03T18:02:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-418114",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:12" align="right">comment:12</div>

Removed in #32114
