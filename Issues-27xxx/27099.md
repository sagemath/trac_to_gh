# Issue 27099: Deprecate is_extension_type

archive/issues_026862.json:
```json
{
    "body": "First of all, the name `is_extension_type` is misleading: it *actually* tests whether instances of the class have a `__dict__`. While extension types usually don't and Python classes usually do, in both cases the opposite is possible.\n\nMoreover, it is used in only one place (namely to determine whether to use actual inheritance from the category for `Element` classes). And this usage is there mostly for historical reasons (see also #24715).\n\nSince `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.\n\nOne further minor change is that an element class can no longer be an old-style class. This was not an issue in practice, since most (if not all) `Element` classes derive from `sage.structure.element.Element`. But two tests with simple old-style `Element` classes had to be fixed.\n\nCC:  @tscrim\n\nBranch: [4fcd4eb894da5289c4ea76a95954c956e3c7bc4b](https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b)\n\nReviewer: Travis Scrimshaw\n\nAuthor: Jeroen Demeyer\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/27099\n\n",
    "closed_at": "2019-01-27T10:50:52Z",
    "created_at": "2019-01-23T16:30:20Z",
    "labels": [
        "component: misc"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.7",
    "title": "Deprecate is_extension_type",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27099",
    "user": "https://github.com/jdemeyer"
}
```
First of all, the name `is_extension_type` is misleading: it *actually* tests whether instances of the class have a `__dict__`. While extension types usually don't and Python classes usually do, in both cases the opposite is possible.

Moreover, it is used in only one place (namely to determine whether to use actual inheritance from the category for `Element` classes). And this usage is there mostly for historical reasons (see also #24715).

Since `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.

One further minor change is that an element class can no longer be an old-style class. This was not an issue in practice, since most (if not all) `Element` classes derive from `sage.structure.element.Element`. But two tests with simple old-style `Element` classes had to be fixed.

CC:  @tscrim

Branch: [4fcd4eb894da5289c4ea76a95954c956e3c7bc4b](https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b)

Reviewer: Travis Scrimshaw

Author: Jeroen Demeyer

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/27099





---

archive/issue_comments_522828.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n First of all, the name `is_extension_type` is misleading: it *actually* tests whether instances of the class have a `__dict__`. While extension types usually don't and Python classes usually do, in both cases the opposite is possible.\n \n Moreover, it is used in only one place (namely to determine whether to use actual inheritance from the category for `Element` classes). And this usage is there mostly for historical reasons (see also #24715).\n+\n+Since `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.\n``````\n",
    "created_at": "2019-01-23T16:39:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-522828",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 First of all, the name `is_extension_type` is misleading: it *actually* tests whether instances of the class have a `__dict__`. While extension types usually don't and Python classes usually do, in both cases the opposite is possible.
 
 Moreover, it is used in only one place (namely to determine whether to use actual inheritance from the category for `Element` classes). And this usage is there mostly for historical reasons (see also #24715).
+
+Since `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.
``````




---

archive/issue_comments_522829.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,3 +3,5 @@\n Moreover, it is used in only one place (namely to determine whether to use actual inheritance from the category for `Element` classes). And this usage is there mostly for historical reasons (see also #24715).\n \n Since `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.\n+\n+One further minor change is that an element class can no longer be an old-style class. This was probably already an implicit requirement, but now an explicit test for it is made.\n``````\n",
    "created_at": "2019-01-23T16:51:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-522829",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,3 +3,5 @@
 Moreover, it is used in only one place (namely to determine whether to use actual inheritance from the category for `Element` classes). And this usage is there mostly for historical reasons (see also #24715).
 
 Since `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.
+
+One further minor change is that an element class can no longer be an old-style class. This was probably already an implicit requirement, but now an explicit test for it is made.
``````




---

archive/issue_comments_522830.json:
```json
{
    "body": "Branch: [u/jdemeyer/deprecate_is_extension_type](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/deprecate_is_extension_type)",
    "created_at": "2019-01-23T16:54:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-522830",
    "user": "https://github.com/jdemeyer"
}
```

Branch: [u/jdemeyer/deprecate_is_extension_type](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/deprecate_is_extension_type)



---

archive/issue_comments_522831.json:
```json
{
    "body": "Commit: [e8bfd28f360eab167a72b5423d8fed153ee0e97e](https://github.com/sagemath/sagetrac-mirror/commit/e8bfd28f360eab167a72b5423d8fed153ee0e97e)",
    "created_at": "2019-01-23T16:54:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-522831",
    "user": "https://github.com/jdemeyer"
}
```

Commit: [e8bfd28f360eab167a72b5423d8fed153ee0e97e](https://github.com/sagemath/sagetrac-mirror/commit/e8bfd28f360eab167a72b5423d8fed153ee0e97e)



---

archive/issue_comments_522832.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-01-23T16:54:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-522832",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_522833.json:
```json
{
    "body": "<a id='comment:4'></a>\nNew commits:\n|                                                                                                                                          |                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|\n|[e8bfd28](https://github.com/sagemath/sagetrac-mirror/commit/e8bfd28f360eab167a72b5423d8fed153ee0e97e)|`Deprecate is_extension_type`|",
    "created_at": "2019-01-23T16:54:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-522833",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>
New commits:
|                                                                                                                                          |                             |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|
|[e8bfd28](https://github.com/sagemath/sagetrac-mirror/commit/e8bfd28f360eab167a72b5423d8fed153ee0e97e)|`Deprecate is_extension_type`|



---

archive/issue_comments_522834.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|\n|[25093c3](https://github.com/sagemath/sagetrac-mirror/commit/25093c3c659c800d6a960d63043932ea0ab2338d)|`Deprecate is_extension_type`|",
    "created_at": "2019-01-23T21:01:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-522834",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|
|[25093c3](https://github.com/sagemath/sagetrac-mirror/commit/25093c3c659c800d6a960d63043932ea0ab2338d)|`Deprecate is_extension_type`|



---

archive/issue_comments_522835.json:
```json
{
    "body": "Changing commit from \"[e8bfd28f360eab167a72b5423d8fed153ee0e97e](https://github.com/sagemath/sagetrac-mirror/commit/e8bfd28f360eab167a72b5423d8fed153ee0e97e)\" to \"[25093c3c659c800d6a960d63043932ea0ab2338d](https://github.com/sagemath/sagetrac-mirror/commit/25093c3c659c800d6a960d63043932ea0ab2338d)\"",
    "created_at": "2019-01-23T21:01:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-522835",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[e8bfd28f360eab167a72b5423d8fed153ee0e97e](https://github.com/sagemath/sagetrac-mirror/commit/e8bfd28f360eab167a72b5423d8fed153ee0e97e)" to "[25093c3c659c800d6a960d63043932ea0ab2338d](https://github.com/sagemath/sagetrac-mirror/commit/25093c3c659c800d6a960d63043932ea0ab2338d)"



---

archive/issue_comments_522836.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-01-23T21:12:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-522836",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_522837.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,4 +4,4 @@\n \n Since `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.\n \n-One further minor change is that an element class can no longer be an old-style class. This was probably already an implicit requirement, but now an explicit test for it is made.\n+One further minor change is that an element class can no longer be an old-style class. This was not an issue in practice, since most (if not all) `Element` classes derive from `sage.structure.element.Element`. But two tests with simple old-style `Element` classes had to be fixed.\n``````\n",
    "created_at": "2019-01-23T21:17:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-522837",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,4 +4,4 @@
 
 Since `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.
 
-One further minor change is that an element class can no longer be an old-style class. This was probably already an implicit requirement, but now an explicit test for it is made.
+One further minor change is that an element class can no longer be an old-style class. This was not an issue in practice, since most (if not all) `Element` classes derive from `sage.structure.element.Element`. But two tests with simple old-style `Element` classes had to be fixed.
``````




---

archive/issue_comments_522838.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|\n|[4fcd4eb](https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b)|`Fix old-style Element class`|",
    "created_at": "2019-01-24T09:46:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-522838",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|
|[4fcd4eb](https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b)|`Fix old-style Element class`|



---

archive/issue_comments_522839.json:
```json
{
    "body": "Changing commit from \"[25093c3c659c800d6a960d63043932ea0ab2338d](https://github.com/sagemath/sagetrac-mirror/commit/25093c3c659c800d6a960d63043932ea0ab2338d)\" to \"[4fcd4eb894da5289c4ea76a95954c956e3c7bc4b](https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b)\"",
    "created_at": "2019-01-24T09:46:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-522839",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[25093c3c659c800d6a960d63043932ea0ab2338d](https://github.com/sagemath/sagetrac-mirror/commit/25093c3c659c800d6a960d63043932ea0ab2338d)" to "[4fcd4eb894da5289c4ea76a95954c956e3c7bc4b](https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b)"



---

archive/issue_comments_522840.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-01-24T10:12:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-522840",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_522841.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-01-25T20:11:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-522841",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_522842.json:
```json
{
    "body": "<a id='comment:10'></a>\nLGTM.",
    "created_at": "2019-01-25T20:11:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-522842",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'></a>
LGTM.



---

archive/issue_comments_522843.json:
```json
{
    "body": "Reviewer: Travis Scrimshaw",
    "created_at": "2019-01-25T20:11:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-522843",
    "user": "https://github.com/tscrim"
}
```

Reviewer: Travis Scrimshaw



---

archive/issue_events_076388.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-27T10:50:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27099#event-76388"
}
```



---

archive/issue_comments_522844.json:
```json
{
    "body": "Changing branch from \"[u/jdemeyer/deprecate_is_extension_type](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/deprecate_is_extension_type)\" to \"[4fcd4eb894da5289c4ea76a95954c956e3c7bc4b](https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b)\"",
    "created_at": "2019-01-27T10:50:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-522844",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "[u/jdemeyer/deprecate_is_extension_type](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/deprecate_is_extension_type)" to "[4fcd4eb894da5289c4ea76a95954c956e3c7bc4b](https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b)"



---

archive/issue_comments_522845.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-01-27T10:50:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-522845",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_522846.json:
```json
{
    "body": "Changing commit from \"[4fcd4eb894da5289c4ea76a95954c956e3c7bc4b](https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b)\" to \"\"",
    "created_at": "2021-07-03T18:02:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-522846",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "[4fcd4eb894da5289c4ea76a95954c956e3c7bc4b](https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b)" to ""



---

archive/issue_comments_522847.json:
```json
{
    "body": "<a id='comment:12'></a>\nRemoved in #32114",
    "created_at": "2021-07-03T18:02:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-522847",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>
Removed in #32114
