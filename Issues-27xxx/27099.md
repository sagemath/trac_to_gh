# Issue 27099: Deprecate is_extension_type

archive/issues_026862.json:
```json
{
    "assignees": [],
    "body": "First of all, the name `is_extension_type` is misleading: it *actually* tests whether instances of the class have a `__dict__`. While extension types usually don't and Python classes usually do, in both cases the opposite is possible.\n\nMoreover, it is used in only one place (namely to determine whether to use actual inheritance from the category for `Element` classes). And this usage is there mostly for historical reasons (see also #24715).\n\nSince `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.\n\nOne further minor change is that an element class can no longer be an old-style class. This was not an issue in practice, since most (if not all) `Element` classes derive from `sage.structure.element.Element`. But two tests with simple old-style `Element` classes had to be fixed.\n\nCC:  @tscrim\n\nBranch: **[4fcd4eb](https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Jeroen Demeyer**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/27099_\n\n",
    "closed_at": "2019-01-27T10:50:52Z",
    "created_at": "2019-01-23T16:30:20Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Deprecate is_extension_type",
    "type": "issue",
    "updated_at": "2021-07-03T18:02:26Z",
    "url": "https://github.com/sagemath/sage/issues/27099",
    "user": "https://github.com/jdemeyer"
}
```
First of all, the name `is_extension_type` is misleading: it *actually* tests whether instances of the class have a `__dict__`. While extension types usually don't and Python classes usually do, in both cases the opposite is possible.

Moreover, it is used in only one place (namely to determine whether to use actual inheritance from the category for `Element` classes). And this usage is there mostly for historical reasons (see also #24715).

Since `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.

One further minor change is that an element class can no longer be an old-style class. This was not an issue in practice, since most (if not all) `Element` classes derive from `sage.structure.element.Element`. But two tests with simple old-style `Element` classes had to be fixed.

CC:  @tscrim

Branch: **[4fcd4eb](https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b)**

Reviewer: **Travis Scrimshaw**

Author: **Jeroen Demeyer**

_Issue created by migration from https://trac.sagemath.org/ticket/27099_





---

archive/issue_events_354290.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-23T16:30:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27099#event-354290"
}
```



---

archive/issue_events_354291.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-23T16:30:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27099#event-354291"
}
```



---

archive/issue_events_354292.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-23T16:30:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27099#event-354292"
}
```



---

archive/issue_comments_420895.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n First of all, the name `is_extension_type` is misleading: it *actually* tests whether instances of the class have a `__dict__`. While extension types usually don't and Python classes usually do, in both cases the opposite is possible.\n \n Moreover, it is used in only one place (namely to determine whether to use actual inheritance from the category for `Element` classes). And this usage is there mostly for historical reasons (see also #24715).\n+\n+Since `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.\n``````\n",
    "created_at": "2019-01-23T16:39:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-420895",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 First of all, the name `is_extension_type` is misleading: it *actually* tests whether instances of the class have a `__dict__`. While extension types usually don't and Python classes usually do, in both cases the opposite is possible.
 
 Moreover, it is used in only one place (namely to determine whether to use actual inheritance from the category for `Element` classes). And this usage is there mostly for historical reasons (see also #24715).
+
+Since `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.
``````




---

archive/issue_comments_420896.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,3 +3,5 @@\n Moreover, it is used in only one place (namely to determine whether to use actual inheritance from the category for `Element` classes). And this usage is there mostly for historical reasons (see also #24715).\n \n Since `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.\n+\n+One further minor change is that an element class can no longer be an old-style class. This was probably already an implicit requirement, but now an explicit test for it is made.\n``````\n",
    "created_at": "2019-01-23T16:51:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-420896",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,3 +3,5 @@
 Moreover, it is used in only one place (namely to determine whether to use actual inheritance from the category for `Element` classes). And this usage is there mostly for historical reasons (see also #24715).
 
 Since `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.
+
+One further minor change is that an element class can no longer be an old-style class. This was probably already an implicit requirement, but now an explicit test for it is made.
``````




---

archive/issue_comments_420897.json:
```json
{
    "body": "Branch: **[u/jdemeyer/deprecate_is_extension_type](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/deprecate_is_extension_type)**",
    "created_at": "2019-01-23T16:54:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-420897",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/deprecate_is_extension_type](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/deprecate_is_extension_type)**



---

archive/issue_comments_420898.json:
```json
{
    "body": "Commit: **[e8bfd28](https://github.com/sagemath/sagetrac-mirror/commit/e8bfd28f360eab167a72b5423d8fed153ee0e97e)**",
    "created_at": "2019-01-23T16:54:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-420898",
    "user": "https://github.com/jdemeyer"
}
```

Commit: **[e8bfd28](https://github.com/sagemath/sagetrac-mirror/commit/e8bfd28f360eab167a72b5423d8fed153ee0e97e)**



---

archive/issue_events_354293.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-23T16:54:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27099#event-354293"
}
```



---

archive/issue_comments_420899.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8bfd28f360eab167a72b5423d8fed153ee0e97e\">e8bfd28</a></td><td><code>Deprecate is_extension_type</code></td></tr></table>\n",
    "created_at": "2019-01-23T16:54:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-420899",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'>Comment 4:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8bfd28f360eab167a72b5423d8fed153ee0e97e">e8bfd28</a></td><td><code>Deprecate is_extension_type</code></td></tr></table>




---

archive/issue_comments_420900.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25093c3c659c800d6a960d63043932ea0ab2338d\">25093c3</a></td><td><code>Deprecate is_extension_type</code></td></tr></table>\n",
    "created_at": "2019-01-23T21:01:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-420900",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'>Comment 5:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25093c3c659c800d6a960d63043932ea0ab2338d">25093c3</a></td><td><code>Deprecate is_extension_type</code></td></tr></table>




---

archive/issue_comments_420901.json:
```json
{
    "body": "Changed commit from **[e8bfd28](https://github.com/sagemath/sagetrac-mirror/commit/e8bfd28f360eab167a72b5423d8fed153ee0e97e)** to **[25093c3](https://github.com/sagemath/sagetrac-mirror/commit/25093c3c659c800d6a960d63043932ea0ab2338d)**",
    "created_at": "2019-01-23T21:01:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-420901",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e8bfd28](https://github.com/sagemath/sagetrac-mirror/commit/e8bfd28f360eab167a72b5423d8fed153ee0e97e)** to **[25093c3](https://github.com/sagemath/sagetrac-mirror/commit/25093c3c659c800d6a960d63043932ea0ab2338d)**



---

archive/issue_events_354294.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-23T21:12:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27099#event-354294"
}
```



---

archive/issue_events_354295.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-23T21:12:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27099#event-354295"
}
```



---

archive/issue_comments_420902.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,4 +4,4 @@\n \n Since `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.\n \n-One further minor change is that an element class can no longer be an old-style class. This was probably already an implicit requirement, but now an explicit test for it is made.\n+One further minor change is that an element class can no longer be an old-style class. This was not an issue in practice, since most (if not all) `Element` classes derive from `sage.structure.element.Element`. But two tests with simple old-style `Element` classes had to be fixed.\n``````\n",
    "created_at": "2019-01-23T21:17:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-420902",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,4 +4,4 @@
 
 Since `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.
 
-One further minor change is that an element class can no longer be an old-style class. This was probably already an implicit requirement, but now an explicit test for it is made.
+One further minor change is that an element class can no longer be an old-style class. This was not an issue in practice, since most (if not all) `Element` classes derive from `sage.structure.element.Element`. But two tests with simple old-style `Element` classes had to be fixed.
``````




---

archive/issue_comments_420903.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b\">4fcd4eb</a></td><td><code>Fix old-style Element class</code></td></tr></table>\n",
    "created_at": "2019-01-24T09:46:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-420903",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:8'>Comment 8:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b">4fcd4eb</a></td><td><code>Fix old-style Element class</code></td></tr></table>




---

archive/issue_comments_420904.json:
```json
{
    "body": "Changed commit from **[25093c3](https://github.com/sagemath/sagetrac-mirror/commit/25093c3c659c800d6a960d63043932ea0ab2338d)** to **[4fcd4eb](https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b)**",
    "created_at": "2019-01-24T09:46:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-420904",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[25093c3](https://github.com/sagemath/sagetrac-mirror/commit/25093c3c659c800d6a960d63043932ea0ab2338d)** to **[4fcd4eb](https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b)**



---

archive/issue_events_354296.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-24T10:12:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27099#event-354296"
}
```



---

archive/issue_events_354297.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-24T10:12:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27099#event-354297"
}
```



---

archive/issue_events_354298.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-01-25T20:11:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27099#event-354298"
}
```



---

archive/issue_events_354299.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-01-25T20:11:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27099#event-354299"
}
```



---

archive/issue_comments_420905.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nLGTM.",
    "created_at": "2019-01-25T20:11:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-420905",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'>Comment 10:</a>
LGTM.



---

archive/issue_comments_420906.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2019-01-25T20:11:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-420906",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_events_354300.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-27T10:50:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27099#event-354300"
}
```



---

archive/issue_events_354301.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e05773c29582eaa1b64d2ca672192f274b019eee",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-01-27T10:50:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27099#event-354301"
}
```



---

archive/issue_comments_420907.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/deprecate_is_extension_type](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/deprecate_is_extension_type)** to **[4fcd4eb](https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b)**",
    "created_at": "2019-01-27T10:50:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-420907",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/deprecate_is_extension_type](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/deprecate_is_extension_type)** to **[4fcd4eb](https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b)**



---

archive/issue_comments_420908.json:
```json
{
    "body": "Changed commit from **[4fcd4eb](https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b)** to none",
    "created_at": "2021-07-03T18:02:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-420908",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[4fcd4eb](https://github.com/sagemath/sagetrac-mirror/commit/4fcd4eb894da5289c4ea76a95954c956e3c7bc4b)** to none



---

archive/issue_comments_420909.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nRemoved in #32114",
    "created_at": "2021-07-03T18:02:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27099#issuecomment-420909",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'>Comment 12:</a>
Removed in #32114
