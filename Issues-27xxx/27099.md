# Issue 27099: Deprecate is_extension_type

archive/issues_026862.json:
```json
{
    "body": "First of all, the name `is_extension_type` is misleading: it *actually* tests whether instances of the class have a `__dict__`. While extension types usually don't and Python classes usually do, in both cases the opposite is possible.\n\nMoreover, it is used in only one place (namely to determine whether to use actual inheritance from the category for `Element` classes). And this usage is there mostly for historical reasons (see also #24715).\n\nSince `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.\n\nOne further minor change is that an element class can no longer be an old-style class. This was not an issue in practice, since most (if not all) `Element` classes derive from `sage.structure.element.Element`. But two tests with simple old-style `Element` classes had to be fixed.\n\nCC:  @tscrim\n\nReviewer: Travis Scrimshaw\n\nAuthor: Jeroen Demeyer\n\nBranch: 4fcd4eb894da5289c4ea76a95954c956e3c7bc4b\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/27099\n\n",
    "closed_at": "2019-01-27T10:50:52Z",
    "created_at": "2019-01-23T16:30:20Z",
    "labels": [
        "component: misc"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.7",
    "title": "Deprecate is_extension_type",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27099",
    "user": "https://github.com/jdemeyer"
}
```
First of all, the name `is_extension_type` is misleading: it *actually* tests whether instances of the class have a `__dict__`. While extension types usually don't and Python classes usually do, in both cases the opposite is possible.

Moreover, it is used in only one place (namely to determine whether to use actual inheritance from the category for `Element` classes). And this usage is there mostly for historical reasons (see also #24715).

Since `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.

One further minor change is that an element class can no longer be an old-style class. This was not an issue in practice, since most (if not all) `Element` classes derive from `sage.structure.element.Element`. But two tests with simple old-style `Element` classes had to be fixed.

CC:  @tscrim

Reviewer: Travis Scrimshaw

Author: Jeroen Demeyer

Branch: 4fcd4eb894da5289c4ea76a95954c956e3c7bc4b

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/27099





---

archive/issue_comments_521169.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,8 @@\n First of all, the name `is_extension_type` is misleading: it *actually* tests whether instances of the class have a `__dict__`. While extension types usually don't and Python classes usually do, in both cases the opposite is possible.\n \n Moreover, it is used in only one place (namely to determine whether to use actual inheritance from the category for `Element` classes). And this usage is there mostly for historical reasons (see also #24715).\n+\n+Since `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.\n \n Author: Jeroen Demeyer\n \n``````\n",
    "created_at": "2019-01-23T16:39:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-521169",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,8 @@
 First of all, the name `is_extension_type` is misleading: it *actually* tests whether instances of the class have a `__dict__`. While extension types usually don't and Python classes usually do, in both cases the opposite is possible.
 
 Moreover, it is used in only one place (namely to determine whether to use actual inheritance from the category for `Element` classes). And this usage is there mostly for historical reasons (see also #24715).
+
+Since `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.
 
 Author: Jeroen Demeyer
 
``````




---

archive/issue_comments_521170.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,10 @@\n+First of all, the name `is_extension_type` is misleading: it *actually* tests whether instances of the class have a `__dict__`. While extension types usually don't and Python classes usually do, in both cases the opposite is possible.\n \n+Moreover, it is used in only one place (namely to determine whether to use actual inheritance from the category for `Element` classes). And this usage is there mostly for historical reasons (see also #24715).\n+\n+Since `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.\n+\n+One further minor change is that an element class can no longer be an old-style class. This was probably already an implicit requirement, but now an explicit test for it is made.\n \n Author: Jeroen Demeyer\n \n``````\n",
    "created_at": "2019-01-23T16:51:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-521170",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,10 @@
+First of all, the name `is_extension_type` is misleading: it *actually* tests whether instances of the class have a `__dict__`. While extension types usually don't and Python classes usually do, in both cases the opposite is possible.
 
+Moreover, it is used in only one place (namely to determine whether to use actual inheritance from the category for `Element` classes). And this usage is there mostly for historical reasons (see also #24715).
+
+Since `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.
+
+One further minor change is that an element class can no longer be an old-style class. This was probably already an implicit requirement, but now an explicit test for it is made.
 
 Author: Jeroen Demeyer
 
``````




---

archive/issue_comments_521171.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jdemeyer/deprecate_is_extension_type\"",
    "created_at": "2019-01-23T16:54:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-521171",
    "user": "https://github.com/jdemeyer"
}
```

Changing branch from "" to "u/jdemeyer/deprecate_is_extension_type"



---

archive/issue_comments_521172.json:
```json
{
    "body": "Changing commit from \"\" to \"e8bfd28f360eab167a72b5423d8fed153ee0e97e\"",
    "created_at": "2019-01-23T16:54:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-521172",
    "user": "https://github.com/jdemeyer"
}
```

Changing commit from "" to "e8bfd28f360eab167a72b5423d8fed153ee0e97e"



---

archive/issue_comments_521173.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-01-23T16:54:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-521173",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_521174.json:
```json
{
    "body": "<a id='comment:4'></a>New commits:",
    "created_at": "2019-01-23T16:54:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-521174",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>New commits:



---

archive/issue_comments_521175.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-01-23T21:01:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-521175",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_521176.json:
```json
{
    "body": "Changing commit from \"e8bfd28f360eab167a72b5423d8fed153ee0e97e\" to \"25093c3c659c800d6a960d63043932ea0ab2338d\"",
    "created_at": "2019-01-23T21:01:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-521176",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e8bfd28f360eab167a72b5423d8fed153ee0e97e" to "25093c3c659c800d6a960d63043932ea0ab2338d"



---

archive/issue_comments_521177.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-01-23T21:12:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-521177",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_521178.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,10 @@\n+First of all, the name `is_extension_type` is misleading: it *actually* tests whether instances of the class have a `__dict__`. While extension types usually don't and Python classes usually do, in both cases the opposite is possible.\n \n+Moreover, it is used in only one place (namely to determine whether to use actual inheritance from the category for `Element` classes). And this usage is there mostly for historical reasons (see also #24715).\n+\n+Since `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.\n+\n+One further minor change is that an element class can no longer be an old-style class. This was not an issue in practice, since most (if not all) `Element` classes derive from `sage.structure.element.Element`. But two tests with simple old-style `Element` classes had to be fixed.\n \n Author: Jeroen Demeyer\n \n``````\n",
    "created_at": "2019-01-23T21:17:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-521178",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,10 @@
+First of all, the name `is_extension_type` is misleading: it *actually* tests whether instances of the class have a `__dict__`. While extension types usually don't and Python classes usually do, in both cases the opposite is possible.
 
+Moreover, it is used in only one place (namely to determine whether to use actual inheritance from the category for `Element` classes). And this usage is there mostly for historical reasons (see also #24715).
+
+Since `is_extension_type()` is the only function remaining in `sage.structure.misc`, we actually deprecate that whole module.
+
+One further minor change is that an element class can no longer be an old-style class. This was not an issue in practice, since most (if not all) `Element` classes derive from `sage.structure.element.Element`. But two tests with simple old-style `Element` classes had to be fixed.
 
 Author: Jeroen Demeyer
 
``````




---

archive/issue_comments_521179.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-24T09:46:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-521179",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_521180.json:
```json
{
    "body": "Changing commit from \"25093c3c659c800d6a960d63043932ea0ab2338d\" to \"4fcd4eb894da5289c4ea76a95954c956e3c7bc4b\"",
    "created_at": "2019-01-24T09:46:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-521180",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "25093c3c659c800d6a960d63043932ea0ab2338d" to "4fcd4eb894da5289c4ea76a95954c956e3c7bc4b"



---

archive/issue_comments_521181.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-01-24T10:12:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-521181",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_521182.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-01-25T20:11:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-521182",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_521183.json:
```json
{
    "body": "<a id='comment:10'></a>LGTM.",
    "created_at": "2019-01-25T20:11:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-521183",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'></a>LGTM.



---

archive/issue_comments_521184.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2019-01-25T20:11:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-521184",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_events_067330.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-27T10:50:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27099#event-67330"
}
```



---

archive/issue_comments_521185.json:
```json
{
    "body": "Changing branch from \"u/jdemeyer/deprecate_is_extension_type\" to \"4fcd4eb894da5289c4ea76a95954c956e3c7bc4b\"",
    "created_at": "2019-01-27T10:50:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-521185",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jdemeyer/deprecate_is_extension_type" to "4fcd4eb894da5289c4ea76a95954c956e3c7bc4b"



---

archive/issue_comments_521186.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-01-27T10:50:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-521186",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_521187.json:
```json
{
    "body": "Changing commit from \"4fcd4eb894da5289c4ea76a95954c956e3c7bc4b\" to \"\"",
    "created_at": "2021-07-03T18:02:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-521187",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "4fcd4eb894da5289c4ea76a95954c956e3c7bc4b" to ""



---

archive/issue_comments_521188.json:
```json
{
    "body": "<a id='comment:12'></a>Removed in #32114",
    "created_at": "2021-07-03T18:02:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27099",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27099#issuecomment-521188",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>Removed in #32114
