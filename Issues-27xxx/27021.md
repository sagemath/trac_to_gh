# Issue 27021: Clean up import structure of coercion_model

archive/issues_026784.json:
```json
{
    "assignees": [],
    "body": "Currently, there is a base class `CoercionModel` defined in `element.pyx` and the real coercion model is a derived class `CoercionModel_cache_maps` in `coerce.pyx`. This is explained by a comment in `element.pyx`:\n\n```\n# We define this base class here to avoid circular cimports.\n```\n\nHowever, we can get rid of this circular import by forcing `element` to be imported first.\n\nThen we can move the coercion model to `coerce.pyx`. This has the following advantages:\n\n1. simpler code as the superfluous base class can be deleted.\n\n2. making more sense as everything regarding the coercion model will be in `coerce.pyx`\n\n3. better performance for Cython code that `cimport`s the coercion model as it now has access to al `cdef` methods and attributes, not only those from the old `CoercionModel` base class.\n\nBranch/Commit: **[b61bd81](https://github.com/sagemath/sagetrac-mirror/commit/b61bd8116ce290e6ad3b728460a6bce5d79ff39d)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Jeroen Demeyer**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/27021_\n\n",
    "closed_at": "2019-01-24T18:17:46Z",
    "created_at": "2019-01-04T15:27:32Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/refactoring",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Clean up import structure of coercion_model",
    "type": "issue",
    "updated_at": "2019-01-24T18:17:46Z",
    "url": "https://github.com/sagemath/sage/issues/27021",
    "user": "https://github.com/jdemeyer"
}
```
Currently, there is a base class `CoercionModel` defined in `element.pyx` and the real coercion model is a derived class `CoercionModel_cache_maps` in `coerce.pyx`. This is explained by a comment in `element.pyx`:

```
# We define this base class here to avoid circular cimports.
```

However, we can get rid of this circular import by forcing `element` to be imported first.

Then we can move the coercion model to `coerce.pyx`. This has the following advantages:

1. simpler code as the superfluous base class can be deleted.

2. making more sense as everything regarding the coercion model will be in `coerce.pyx`

3. better performance for Cython code that `cimport`s the coercion model as it now has access to al `cdef` methods and attributes, not only those from the old `CoercionModel` base class.

Branch/Commit: **[b61bd81](https://github.com/sagemath/sagetrac-mirror/commit/b61bd8116ce290e6ad3b728460a6bce5d79ff39d)**

Reviewer: **Travis Scrimshaw**

Author: **Jeroen Demeyer**

_Issue created by migration from https://trac.sagemath.org/ticket/27021_





---

archive/issue_events_353156.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-04T15:27:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353156"
}
```



---

archive/issue_events_353157.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-04T15:27:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "label": "https://github.com/sagemath/sage/labels/refactoring",
    "label_color": "696969",
    "label_name": "refactoring",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353157"
}
```



---

archive/issue_events_353158.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-04T15:27:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353158"
}
```



---

archive/issue_events_353159.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-04T15:27:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353159"
}
```



---

archive/issue_comments_419449.json:
```json
{
    "body": "Author: **Jeroen Demeyer**",
    "created_at": "2019-01-07T14:28:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419449",
    "user": "https://github.com/jdemeyer"
}
```

Author: **Jeroen Demeyer**



---

archive/issue_comments_419450.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,9 @@\n+Currently, there is a base class `CoercionModel` defined in `element.pyx` and the real coercion model is a derived class `CoercionModel_cache_maps` in `coerce.pyx`. This is explained by a comment in `element.pyx`:\n \n+```\n+# We define this base class here to avoid circular cimports.\n+```\n+\n+However, we can get rid of this circular import by forcing `element` to be imported first.\n+\n+Then we can move the coercion model to `coerce.pyx`. This has the advantage of being simpler (no longer needing a silly base class), making more sense (everything regarding the coercion model will be in `coerce.pyx`) and possibly also being better for performance (things that `cimport` the coercion model now have access to al `cdef` methods and attributes, not only those from the `CoercionModel` base class).\n``````\n",
    "created_at": "2019-01-07T14:28:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419450",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,9 @@
+Currently, there is a base class `CoercionModel` defined in `element.pyx` and the real coercion model is a derived class `CoercionModel_cache_maps` in `coerce.pyx`. This is explained by a comment in `element.pyx`:
 
+```
+# We define this base class here to avoid circular cimports.
+```
+
+However, we can get rid of this circular import by forcing `element` to be imported first.
+
+Then we can move the coercion model to `coerce.pyx`. This has the advantage of being simpler (no longer needing a silly base class), making more sense (everything regarding the coercion model will be in `coerce.pyx`) and possibly also being better for performance (things that `cimport` the coercion model now have access to al `cdef` methods and attributes, not only those from the `CoercionModel` base class).
``````




---

archive/issue_comments_419451.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,4 +6,10 @@\n \n However, we can get rid of this circular import by forcing `element` to be imported first.\n \n-Then we can move the coercion model to `coerce.pyx`. This has the advantage of being simpler (no longer needing a silly base class), making more sense (everything regarding the coercion model will be in `coerce.pyx`) and possibly also being better for performance (things that `cimport` the coercion model now have access to al `cdef` methods and attributes, not only those from the `CoercionModel` base class).\n+Then we can move the coercion model to `coerce.pyx`. This has the following advantages:\n+\n+1. simpler code as the superfluous base class can be deleted.\n+\n+2. making more sense as everything regarding the coercion model will be in `coerce.pyx`\n+\n+3. better performance for Cython code that `cimport`s the coercion model as it now has access to al `cdef` methods and attributes, not only those from the old `CoercionModel` base class.\n``````\n",
    "created_at": "2019-01-07T14:54:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419451",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,4 +6,10 @@
 
 However, we can get rid of this circular import by forcing `element` to be imported first.
 
-Then we can move the coercion model to `coerce.pyx`. This has the advantage of being simpler (no longer needing a silly base class), making more sense (everything regarding the coercion model will be in `coerce.pyx`) and possibly also being better for performance (things that `cimport` the coercion model now have access to al `cdef` methods and attributes, not only those from the `CoercionModel` base class).
+Then we can move the coercion model to `coerce.pyx`. This has the following advantages:
+
+1. simpler code as the superfluous base class can be deleted.
+
+2. making more sense as everything regarding the coercion model will be in `coerce.pyx`
+
+3. better performance for Cython code that `cimport`s the coercion model as it now has access to al `cdef` methods and attributes, not only those from the old `CoercionModel` base class.
``````




---

archive/issue_comments_419452.json:
```json
{
    "body": "Branch: **[u/jdemeyer/ticket/27021](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/27021)**",
    "created_at": "2019-01-07T15:43:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419452",
    "user": "https://github.com/jdemeyer"
}
```

Branch: **[u/jdemeyer/ticket/27021](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/27021)**



---

archive/issue_comments_419453.json:
```json
{
    "body": "Commit: **[8934345](https://github.com/sagemath/sagetrac-mirror/commit/89343458e8c6d6afcd260ef64c4f87b65e9fe84c)**",
    "created_at": "2019-01-07T15:44:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419453",
    "user": "https://github.com/jdemeyer"
}
```

Commit: **[8934345](https://github.com/sagemath/sagetrac-mirror/commit/89343458e8c6d6afcd260ef64c4f87b65e9fe84c)**



---

archive/issue_comments_419454.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/89343458e8c6d6afcd260ef64c4f87b65e9fe84c\">8934345</a></td><td><code>Clean up import structure of coercion_model</code></td></tr></table>\n",
    "created_at": "2019-01-07T15:44:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419454",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:4" align="right">Comment 4</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/89343458e8c6d6afcd260ef64c4f87b65e9fe84c">8934345</a></td><td><code>Clean up import structure of coercion_model</code></td></tr></table>




---

archive/issue_events_353160.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-07T15:44:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353160"
}
```



---

archive/issue_events_353161.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-01-07T18:07:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353161"
}
```



---

archive/issue_events_353162.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-01-07T18:07:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353162"
}
```



---

archive/issue_comments_419455.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nLGTM.",
    "created_at": "2019-01-07T18:07:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419455",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:5" align="right">Comment 5</div>

LGTM.



---

archive/issue_comments_419456.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2019-01-07T18:07:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419456",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_419457.json:
```json
{
    "body": "Changed commit from **[8934345](https://github.com/sagemath/sagetrac-mirror/commit/89343458e8c6d6afcd260ef64c4f87b65e9fe84c)** to **[bae7f8d](https://github.com/sagemath/sagetrac-mirror/commit/bae7f8d91b683ace8eb3d2dddbf69d9bf331e7ed)**",
    "created_at": "2019-01-07T18:26:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419457",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8934345](https://github.com/sagemath/sagetrac-mirror/commit/89343458e8c6d6afcd260ef64c4f87b65e9fe84c)** to **[bae7f8d](https://github.com/sagemath/sagetrac-mirror/commit/bae7f8d91b683ace8eb3d2dddbf69d9bf331e7ed)**



---

archive/issue_events_353163.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2019-01-07T18:26:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353163"
}
```



---

archive/issue_events_353164.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2019-01-07T18:26:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353164"
}
```



---

archive/issue_comments_419458.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bae7f8d91b683ace8eb3d2dddbf69d9bf331e7ed\">bae7f8d</a></td><td><code>Do not use SageObject for latex</code></td></tr></table>\n",
    "created_at": "2019-01-07T18:26:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419458",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6" align="right">Comment 6</div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bae7f8d91b683ace8eb3d2dddbf69d9bf331e7ed">bae7f8d</a></td><td><code>Do not use SageObject for latex</code></td></tr></table>




---

archive/issue_comments_419459.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nThere is an issue with docbuilding.",
    "created_at": "2019-01-07T19:04:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419459",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:7" align="right">Comment 7</div>

There is an issue with docbuilding.



---

archive/issue_events_353165.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-07T19:04:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353165"
}
```



---

archive/issue_events_353166.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-07T19:04:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353166"
}
```



---

archive/issue_comments_419460.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7d17bb40cccfa3c160741c1bdb2432c4166f86b9\">7d17bb4</a></td><td><code>Lazy import of latex</code></td></tr></table>\n",
    "created_at": "2019-01-08T06:21:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419460",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8" align="right">Comment 8</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7d17bb40cccfa3c160741c1bdb2432c4166f86b9">7d17bb4</a></td><td><code>Lazy import of latex</code></td></tr></table>




---

archive/issue_comments_419461.json:
```json
{
    "body": "Changed commit from **[bae7f8d](https://github.com/sagemath/sagetrac-mirror/commit/bae7f8d91b683ace8eb3d2dddbf69d9bf331e7ed)** to **[7d17bb4](https://github.com/sagemath/sagetrac-mirror/commit/7d17bb40cccfa3c160741c1bdb2432c4166f86b9)**",
    "created_at": "2019-01-08T06:21:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419461",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[bae7f8d](https://github.com/sagemath/sagetrac-mirror/commit/bae7f8d91b683ace8eb3d2dddbf69d9bf331e7ed)** to **[7d17bb4](https://github.com/sagemath/sagetrac-mirror/commit/7d17bb40cccfa3c160741c1bdb2432c4166f86b9)**



---

archive/issue_events_353167.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-08T09:11:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353167"
}
```



---

archive/issue_events_353168.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-08T09:11:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353168"
}
```



---

archive/issue_comments_419462.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e71573dbb0e8bbf86c7f37055dc9109ae3ccdb11\">e71573d</a></td><td><code>Do not import SageObject in sage.misc.superseded</code></td></tr></table>\n",
    "created_at": "2019-01-08T11:18:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419462",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10" align="right">Comment 10</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e71573dbb0e8bbf86c7f37055dc9109ae3ccdb11">e71573d</a></td><td><code>Do not import SageObject in sage.misc.superseded</code></td></tr></table>




---

archive/issue_comments_419463.json:
```json
{
    "body": "Changed commit from **[7d17bb4](https://github.com/sagemath/sagetrac-mirror/commit/7d17bb40cccfa3c160741c1bdb2432c4166f86b9)** to **[e71573d](https://github.com/sagemath/sagetrac-mirror/commit/e71573dbb0e8bbf86c7f37055dc9109ae3ccdb11)**",
    "created_at": "2019-01-08T11:18:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419463",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7d17bb4](https://github.com/sagemath/sagetrac-mirror/commit/7d17bb40cccfa3c160741c1bdb2432c4166f86b9)** to **[e71573d](https://github.com/sagemath/sagetrac-mirror/commit/e71573dbb0e8bbf86c7f37055dc9109ae3ccdb11)**



---

archive/issue_events_353169.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-01-08T17:55:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353169"
}
```



---

archive/issue_events_353170.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-01-08T17:55:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353170"
}
```



---

archive/issue_comments_419464.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nPatchbots are green.",
    "created_at": "2019-01-08T17:55:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419464",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:11" align="right">Comment 11</div>

Patchbots are green.



---

archive/issue_comments_419465.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\narando is not exactly green...",
    "created_at": "2019-01-08T20:42:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419465",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:12" align="right">Comment 12</div>

arando is not exactly green...



---

archive/issue_comments_419466.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nWhen I was looking at it, it looked like it was morally green with some sort of misbuild with giac. However, looking at all of the failures, there are some doctests that indicate an import error from this ticket.",
    "created_at": "2019-01-08T22:09:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419466",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:13" align="right">Comment 13</div>

When I was looking at it, it looked like it was morally green with some sort of misbuild with giac. However, looking at all of the failures, there are some doctests that indicate an import error from this ticket.



---

archive/issue_events_353171.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-01-08T22:09:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353171"
}
```



---

archive/issue_events_353172.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-01-08T22:09:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353172"
}
```



---

archive/issue_comments_419467.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nI suspect (but still need to confirm) that this is just a matter of rebuilding `giacpy_sage`. The API of `element.pxd` changed, so any package cimporting that needs to be recompiled.",
    "created_at": "2019-01-09T08:47:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419467",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:14" align="right">Comment 14</div>

I suspect (but still need to confirm) that this is just a matter of rebuilding `giacpy_sage`. The API of `element.pxd` changed, so any package cimporting that needs to be recompiled.



---

archive/issue_comments_419468.json:
```json
{
    "body": "Changed commit from **[e71573d](https://github.com/sagemath/sagetrac-mirror/commit/e71573dbb0e8bbf86c7f37055dc9109ae3ccdb11)** to **[b61bd81](https://github.com/sagemath/sagetrac-mirror/commit/b61bd8116ce290e6ad3b728460a6bce5d79ff39d)**",
    "created_at": "2019-01-09T08:50:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419468",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e71573d](https://github.com/sagemath/sagetrac-mirror/commit/e71573dbb0e8bbf86c7f37055dc9109ae3ccdb11)** to **[b61bd81](https://github.com/sagemath/sagetrac-mirror/commit/b61bd8116ce290e6ad3b728460a6bce5d79ff39d)**



---

archive/issue_comments_419469.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b61bd8116ce290e6ad3b728460a6bce5d79ff39d\">b61bd81</a></td><td><code>Force rebuild of giacpy_sage</code></td></tr></table>\n",
    "created_at": "2019-01-09T08:50:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419469",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15" align="right">Comment 15</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b61bd8116ce290e6ad3b728460a6bce5d79ff39d">b61bd81</a></td><td><code>Force rebuild of giacpy_sage</code></td></tr></table>




---

archive/issue_events_353173.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-09T09:18:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353173"
}
```



---

archive/issue_events_353174.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-09T09:18:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353174"
}
```



---

archive/issue_comments_419470.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nA rebuild of `giacpy_sage` fixes it indeed.",
    "created_at": "2019-01-09T09:18:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419470",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">Comment 16</div>

A rebuild of `giacpy_sage` fixes it indeed.



---

archive/issue_comments_419471.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nThis again shows why patchbots should install optional packages...",
    "created_at": "2019-01-09T09:26:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419471",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:17" align="right">Comment 17</div>

This again shows why patchbots should install optional packages...



---

archive/issue_comments_419472.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nA real green bot. Thanks.",
    "created_at": "2019-01-09T16:42:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419472",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:18" align="right">Comment 18</div>

A real green bot. Thanks.



---

archive/issue_events_353175.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-01-09T16:42:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353175"
}
```



---

archive/issue_events_353176.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-01-09T16:42:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353176"
}
```



---

archive/issue_comments_419473.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nRetarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.",
    "created_at": "2019-01-15T18:16:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419473",
    "user": "https://github.com/embray"
}
```

<div id="comment:19" align="right">Comment 19</div>

Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.



---

archive/issue_events_353177.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:16:10Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353177"
}
```



---

archive/issue_events_353178.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:16:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353178"
}
```



---

archive/issue_comments_419474.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\n\n```\n[sagelib-8.6] Error compiling Cython file:\n[sagelib-8.6] ------------------------------------------------------------\n[sagelib-8.6] ...\n[sagelib-8.6] from sage.structure.parent import Parent\n[sagelib-8.6] from sage.rings.all import ZZ, QQ, RDF\n[sagelib-8.6] \n[sagelib-8.6] from sage.groups.perm_gps.permgroup_element cimport PermutationGroupElement\n[sagelib-8.6] from sage.combinat.permutation import Permutation\n[sagelib-8.6] from sage.structure.element cimport coercion_model as cm\n[sagelib-8.6] ^\n[sagelib-8.6] ------------------------------------------------------------\n[sagelib-8.6] \n[sagelib-8.6] sage/libs/gap/element.pyx:34:0: 'sage/structure/element/coercion_model.pxd' not found\n```",
    "created_at": "2019-01-19T19:10:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419474",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:20" align="right">Comment 20</div>


```
[sagelib-8.6] Error compiling Cython file:
[sagelib-8.6] ------------------------------------------------------------
[sagelib-8.6] ...
[sagelib-8.6] from sage.structure.parent import Parent
[sagelib-8.6] from sage.rings.all import ZZ, QQ, RDF
[sagelib-8.6] 
[sagelib-8.6] from sage.groups.perm_gps.permgroup_element cimport PermutationGroupElement
[sagelib-8.6] from sage.combinat.permutation import Permutation
[sagelib-8.6] from sage.structure.element cimport coercion_model as cm
[sagelib-8.6] ^
[sagelib-8.6] ------------------------------------------------------------
[sagelib-8.6] 
[sagelib-8.6] sage/libs/gap/element.pyx:34:0: 'sage/structure/element/coercion_model.pxd' not found
```



---

archive/issue_events_353179.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-19T19:10:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353179"
}
```



---

archive/issue_events_353180.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-19T19:10:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353180"
}
```



---

archive/issue_comments_419475.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\n@vbraun: Volker, there was a conflict with #21020, that we fixed by letting #21020 depend on the present ticket. So now you can merge either #27021 only, or both #27021 and the new version of #21020",
    "created_at": "2019-01-19T19:38:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419475",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:21" align="right">Comment 21</div>

@vbraun: Volker, there was a conflict with #21020, that we fixed by letting #21020 depend on the present ticket. So now you can merge either #27021 only, or both #27021 and the new version of #21020



---

archive/issue_events_353181.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-20T13:47:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353181"
}
```



---

archive/issue_events_353182.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-20T13:47:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353182"
}
```



---

archive/issue_comments_419476.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nIf you want this to be merged, it should be set back to positive review.",
    "created_at": "2019-01-20T13:47:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419476",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:22" align="right">Comment 22</div>

If you want this to be merged, it should be set back to positive review.



---

archive/issue_comments_419477.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/ticket/27021](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/27021)** to **[b61bd81](https://github.com/sagemath/sagetrac-mirror/commit/b61bd8116ce290e6ad3b728460a6bce5d79ff39d)**",
    "created_at": "2019-01-24T18:17:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27021#issuecomment-419477",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/ticket/27021](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/ticket/27021)** to **[b61bd81](https://github.com/sagemath/sagetrac-mirror/commit/b61bd8116ce290e6ad3b728460a6bce5d79ff39d)**



---

archive/issue_events_353183.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-24T18:17:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353183"
}
```



---

archive/issue_events_353184.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "c4b70cd0667a650016f8404d967511f0e60b5cff",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-01-24T18:17:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/27021",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27021#event-353184"
}
```
