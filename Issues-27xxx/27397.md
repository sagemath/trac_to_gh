# Issue 27397: Clean up the code and the documentation for the coding section

archive/issues_027397.json:
```json
{
    "body": "CC:  @johanrosenkilde\n\nLots of cleaning up of `sage/coding` folder:\n\n- reorganize the section on coding in the documentation \n\n- PEP8 fixes\n\n- 100% coverage for doctests\n\n- pyflakes fixes\n\n- rename `bch.py` to `bch_code.py` and `grs.py` to `grs_code.py`\n\n- cleanups for `goppa.py`\n\n- adding `random_received_vector` method to linear codes\n\nand other small fixes.\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/27634\n\n",
    "closed_at": "2019-08-05T20:02:39Z",
    "created_at": "2019-04-10T11:20:39Z",
    "labels": [
        "component: coding theory",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.9",
    "title": "Clean up the code and the documentation for the coding section",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27397",
    "user": "https://github.com/kwankyu"
}
```
CC:  @johanrosenkilde

Lots of cleaning up of `sage/coding` folder:

- reorganize the section on coding in the documentation 

- PEP8 fixes

- 100% coverage for doctests

- pyflakes fixes

- rename `bch.py` to `bch_code.py` and `grs.py` to `grs_code.py`

- cleanups for `goppa.py`

- adding `random_received_vector` method to linear codes

and other small fixes.


Issue created by migration from https://trac.sagemath.org/ticket/27634





---

archive/issue_comments_385696.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-04-10T11:21:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385696",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_385697.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-04-10T11:25:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385697",
    "user": "https://github.com/kwankyu"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_385698.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-04-11T20:45:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385698",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_385699.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-04-12T05:14:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385699",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_385700.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-04-16T05:09:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385700",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_385701.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-28T00:25:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385701",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_385702.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-06-08T13:40:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385702",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_385703.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-11T06:15:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385703",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_385704.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-06-25T07:34:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385704",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_385705.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-03T09:48:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385705",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_385706.json:
```json
{
    "body": "Moving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).",
    "created_at": "2019-07-03T11:37:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385706",
    "user": "https://github.com/embray"
}
```

Moving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).



---

archive/issue_events_068585.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:37:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27397#event-68585"
}
```



---

archive/issue_comments_385707.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-04T02:10:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385707",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_385708.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-04T02:35:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385708",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_385709.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-04T19:56:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385709",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_385710.json:
```json
{
    "body": "removed \nwas fixed in the latest of the commits",
    "created_at": "2019-07-14T12:53:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385710",
    "user": "https://github.com/927589452"
}
```

removed 
was fixed in the latest of the commits



---

archive/issue_comments_385711.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-30T05:12:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385711",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_385712.json:
```json
{
    "body": "This is very nice and thorough cleanup. Here are some comments from glancing\nthrough the code (I'm currently compiling):\n\n* You've added forwarding of arguments to `Decoder.connected_encoder()`. But\n  this is semantically not what was intended with the method. For\n  `decode_to_message`, the decoder must have a specific type of encoder in mind\n  (which is, in many cases, the same as having a specific generator matrix in\n  mind), and this method enables the user to get exactly that encoder. So the\n  user should not be required, indeed allowed, to supply any arguments to that\n  encoder. How would he know which ones to give? If a sub-class of `Decoder`\n  uses an encoder with specific arguments forwarded to it, then that decoder\n  class must override `connected_encoder` and return the correct encoder. The\n  `_connected_encoder_name` is simply a shorthand which covers most cases.\n\n  In short, I recommend you roll back this particular change.\n\n* Since we're already modifying `_repr_` for Goppa code, let's add their field,\n  i.e. change their representation to e.g. `[8, 2] Goppa code over GF(2)`.\n\n* The documentation for `__eq__` is unhelpful. Let's change it into something\n  like\n\n  {{{\n  Test whether ``other`` defines the same Goppa code in the sense that defining\n  set and generating polynomial is the same.\n  }}}\n\n  And then under EXAMPLES document this surprising behaviour of equality:\n\n  {{{\n  Note that this check will be false if e.g. ``other`` represents the same\n  linear code as ``self`` but not constructed as a Goppa code:\n\n  sage: E = LinearCode(C.generator_matrix())\n  sage C == E\n  False\n  }}}\n\n  A similar caveat should be placed on several other code classes, actually. If\n  you feel motivated to put those in, I'd be happy, but I'm not insisting ;-)\n\n* I disagree with your abbreviation in the first line of the module doc of\n  `grs_code.py`. Writing out \"Generalized Reed-Solomon codes\" in full is more\n  helpful.\n\n* The first line of the module doc of `hamming_code.py` should say \"Hamming\n  codes\", plural.\n\n* Module doc of `linear_code.py` second paragraph\n\n   {{{\n      (...) `n-k`-dimensional (...)  ->>  `(n-k)`-dimensional\n   }}}\n\n* In `linear_code.py`, I disagree with your abbreviation of the error message\n  when using not registered encoders/decoders (around line 506). Your shorter\n  error messages are much less helpful.\n\n* I'm not sure I like `random_received_vector` and its friend. It is a very specific use case to add exactly `t` errors to a codeword, and for this I don't mind the user typing out a few extra lines by using the `StaticErrorRateChannel`, which also introduces him/her to the much broader concept of channels. Rather, I'm in favour of adding to the class/module documentation how to use the channels (though it is also in the coding theory tutorial)\n\n  If you insist on those methods, `random_received_vector_and_codeword` could (should) be compactly implemented\n  by using the `StaticErrorRateChannel` channel.\n\n  The documentation of the `random_received_vector` functions should perhaps be \n  clarified by adding something like the following paragraph:\n\n  {{{\n  Note that even though the returned vector is assured to be distance exactly\n  ``distance`` from some codeword in ``self``, it might still be closer than\n  ``distance`` to another codeword if ``distance`` is more than `d/2`, where `d`\n  is the minimum distance of ``self``.\n  }}}\n\n  Perhaps `random_received_vector_and_codeword` should be obtained by an\n  optional argument to `random_received_vector` called `return_codeword =\n  False`. Note that then the doc should have an `OUTPUT` block to describe the\n  output semantics.\n\n  The doc states that ``distance`` should be positive, but it should say\n  \"non-negative\".\n\nBest,\nJohan",
    "created_at": "2019-07-30T14:00:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385712",
    "user": "https://github.com/johanrosenkilde"
}
```

This is very nice and thorough cleanup. Here are some comments from glancing
through the code (I'm currently compiling):

* You've added forwarding of arguments to `Decoder.connected_encoder()`. But
  this is semantically not what was intended with the method. For
  `decode_to_message`, the decoder must have a specific type of encoder in mind
  (which is, in many cases, the same as having a specific generator matrix in
  mind), and this method enables the user to get exactly that encoder. So the
  user should not be required, indeed allowed, to supply any arguments to that
  encoder. How would he know which ones to give? If a sub-class of `Decoder`
  uses an encoder with specific arguments forwarded to it, then that decoder
  class must override `connected_encoder` and return the correct encoder. The
  `_connected_encoder_name` is simply a shorthand which covers most cases.

  In short, I recommend you roll back this particular change.

* Since we're already modifying `_repr_` for Goppa code, let's add their field,
  i.e. change their representation to e.g. `[8, 2] Goppa code over GF(2)`.

* The documentation for `__eq__` is unhelpful. Let's change it into something
  like

  {{{
  Test whether ``other`` defines the same Goppa code in the sense that defining
  set and generating polynomial is the same.
  }}}

  And then under EXAMPLES document this surprising behaviour of equality:

  {{{
  Note that this check will be false if e.g. ``other`` represents the same
  linear code as ``self`` but not constructed as a Goppa code:

  sage: E = LinearCode(C.generator_matrix())
  sage C == E
  False
  }}}

  A similar caveat should be placed on several other code classes, actually. If
  you feel motivated to put those in, I'd be happy, but I'm not insisting ;-)

* I disagree with your abbreviation in the first line of the module doc of
  `grs_code.py`. Writing out "Generalized Reed-Solomon codes" in full is more
  helpful.

* The first line of the module doc of `hamming_code.py` should say "Hamming
  codes", plural.

* Module doc of `linear_code.py` second paragraph

   {{{
      (...) `n-k`-dimensional (...)  ->>  `(n-k)`-dimensional
   }}}

* In `linear_code.py`, I disagree with your abbreviation of the error message
  when using not registered encoders/decoders (around line 506). Your shorter
  error messages are much less helpful.

* I'm not sure I like `random_received_vector` and its friend. It is a very specific use case to add exactly `t` errors to a codeword, and for this I don't mind the user typing out a few extra lines by using the `StaticErrorRateChannel`, which also introduces him/her to the much broader concept of channels. Rather, I'm in favour of adding to the class/module documentation how to use the channels (though it is also in the coding theory tutorial)

  If you insist on those methods, `random_received_vector_and_codeword` could (should) be compactly implemented
  by using the `StaticErrorRateChannel` channel.

  The documentation of the `random_received_vector` functions should perhaps be 
  clarified by adding something like the following paragraph:

  {{{
  Note that even though the returned vector is assured to be distance exactly
  ``distance`` from some codeword in ``self``, it might still be closer than
  ``distance`` to another codeword if ``distance`` is more than `d/2`, where `d`
  is the minimum distance of ``self``.
  }}}

  Perhaps `random_received_vector_and_codeword` should be obtained by an
  optional argument to `random_received_vector` called `return_codeword =
  False`. Note that then the doc should have an `OUTPUT` block to describe the
  output semantics.

  The doc states that ``distance`` should be positive, but it should say
  "non-negative".

Best,
Johan



---

archive/issue_comments_385713.json:
```json
{
    "body": "* I'm now browsing through the compiled doc of `linear_code.py`, and \"`self`\" (with only one back-tick) appears quite often. Please do a search-replace for this. \n\n* I disagree with your renaming \"Derived code constructions\" to \"Code constructions\" in the main doc for the coding module. The latter is very confusable with e.g. \"the quadratic residue code construction\", amplified by the file `code_constructions.py` containing exactly such constructions. I suggest using `Derived codes` or keeping `Derived code constructions`.\n\n* I discovered that the documentation for `codes_catalog` is completely broken (see under the main documentation of Coding, under \"Index of code constructions\"). The reason is that the introspective magic function that should generate the table doesn't really work with imported non-local classes. I've manually written the entire table in full and pushed that to the branch.\n \n---\nNew commits:",
    "created_at": "2019-07-30T14:41:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385713",
    "user": "https://github.com/johanrosenkilde"
}
```

* I'm now browsing through the compiled doc of `linear_code.py`, and "`self`" (with only one back-tick) appears quite often. Please do a search-replace for this. 

* I disagree with your renaming "Derived code constructions" to "Code constructions" in the main doc for the coding module. The latter is very confusable with e.g. "the quadratic residue code construction", amplified by the file `code_constructions.py` containing exactly such constructions. I suggest using `Derived codes` or keeping `Derived code constructions`.

* I discovered that the documentation for `codes_catalog` is completely broken (see under the main documentation of Coding, under "Index of code constructions"). The reason is that the introspective magic function that should generate the table doesn't really work with imported non-local classes. I've manually written the entire table in full and pushed that to the branch.
 
---
New commits:



---

archive/issue_comments_385714.json:
```json
{
    "body": "> * You've added forwarding of arguments to `Decoder.connected_encoder()`. But\n>   this is semantically not what was intended with the method. For\n>   `decode_to_message`, the decoder must have a specific type of encoder in mind\n>   (which is, in many cases, the same as having a specific generator matrix in\n>   mind), and this method enables the user to get exactly that encoder. So the\n>   user should not be required, indeed allowed, to supply any arguments to that\n>   encoder. How would he know which ones to give? If a sub-class of `Decoder`\n>   uses an encoder with specific arguments forwarded to it, then that decoder\n>   class must override `connected_encoder` and return the correct encoder. The\n>   `_connected_encoder_name` is simply a shorthand which covers most cases.\n> \n>   In short, I recommend you roll back this particular change.\n\n\nI agree. Done rolling back.\n\n> \n> * Since we're already modifying `_repr_` for Goppa code, let's add their field,\n>   i.e. change their representation to e.g. `[8, 2] Goppa code over GF(2)`.\n\n\nDone.\n \n> * The documentation for `__eq__` is unhelpful. Let's change it into something\n>   like\n> \n>   {{{\n>   Test whether ``other`` defines the same Goppa code in the sense that defining\n>   set and generating polynomial is the same.\n>   }}}\n\n\nI added your text after the original.\n \n>   And then under EXAMPLES document this surprising behaviour of equality:\n\n> \n>   {{{\n>   Note that this check will be false if e.g. ``other`` represents the same\n>   linear code as ``self`` but not constructed as a Goppa code:\n\n> \n>   sage: E = LinearCode(C.generator_matrix())\n>   sage C == E\n>   False\n>   }}}\n\n\nDone.\n\n>   A similar caveat should be placed on several other code classes, actually. If\n>   you feel motivated to put those in, I'd be happy, but I'm not insisting ;-)\n\n\nThis behavior of equality check is common in Sage. I don't worry much. But I will add more examples if I feel motivated :-)\n\n> * I disagree with your abbreviation in the first line of the module doc of\n>   `grs_code.py`. Writing out \"Generalized Reed-Solomon codes\" in full is more\n>   helpful.\n\n\nRight. Done.\n \n> * The first line of the module doc of `hamming_code.py` should say \"Hamming\n>   codes\", plural.\n\n\nDone.\n\n> * Module doc of `linear_code.py` second paragraph\n> \n>    {{{\n>       (...) `n-k`-dimensional (...)  ->>  `(n-k)`-dimensional\n>    }}}\n> \n> * In `linear_code.py`, I disagree with your abbreviation of the error message\n>   when using not registered encoders/decoders (around line 506). Your shorter\n>   error messages are much less helpful.\n\n\nI felt that it was too much verbose. The user should learn what the message says from the documentation.\n\nBut ok as I respect your wisdom. I recovered the original message. \n\n> * I'm not sure I like `random_received_vector` and its friend. It is a very specific use case to add exactly `t` errors to a codeword, and for this I don't mind the user typing out a few extra lines by using the `StaticErrorRateChannel`, which also introduces him/her to the much broader concept of channels. Rather, I'm in favour of adding to the class/module documentation how to use the channels (though it is also in the coding theory tutorial)\n\n\nI added that when I was moving my code in Magma to Sage, without much appreciation of the channel concept myself. Now I see that `random_received_vector` does not fit well with the overall design of  the coding module.\n\nI decided to remove it.",
    "created_at": "2019-07-31T02:39:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385714",
    "user": "https://github.com/kwankyu"
}
```

> * You've added forwarding of arguments to `Decoder.connected_encoder()`. But
>   this is semantically not what was intended with the method. For
>   `decode_to_message`, the decoder must have a specific type of encoder in mind
>   (which is, in many cases, the same as having a specific generator matrix in
>   mind), and this method enables the user to get exactly that encoder. So the
>   user should not be required, indeed allowed, to supply any arguments to that
>   encoder. How would he know which ones to give? If a sub-class of `Decoder`
>   uses an encoder with specific arguments forwarded to it, then that decoder
>   class must override `connected_encoder` and return the correct encoder. The
>   `_connected_encoder_name` is simply a shorthand which covers most cases.
> 
>   In short, I recommend you roll back this particular change.


I agree. Done rolling back.

> 
> * Since we're already modifying `_repr_` for Goppa code, let's add their field,
>   i.e. change their representation to e.g. `[8, 2] Goppa code over GF(2)`.


Done.
 
> * The documentation for `__eq__` is unhelpful. Let's change it into something
>   like
> 
>   {{{
>   Test whether ``other`` defines the same Goppa code in the sense that defining
>   set and generating polynomial is the same.
>   }}}


I added your text after the original.
 
>   And then under EXAMPLES document this surprising behaviour of equality:

> 
>   {{{
>   Note that this check will be false if e.g. ``other`` represents the same
>   linear code as ``self`` but not constructed as a Goppa code:

> 
>   sage: E = LinearCode(C.generator_matrix())
>   sage C == E
>   False
>   }}}


Done.

>   A similar caveat should be placed on several other code classes, actually. If
>   you feel motivated to put those in, I'd be happy, but I'm not insisting ;-)


This behavior of equality check is common in Sage. I don't worry much. But I will add more examples if I feel motivated :-)

> * I disagree with your abbreviation in the first line of the module doc of
>   `grs_code.py`. Writing out "Generalized Reed-Solomon codes" in full is more
>   helpful.


Right. Done.
 
> * The first line of the module doc of `hamming_code.py` should say "Hamming
>   codes", plural.


Done.

> * Module doc of `linear_code.py` second paragraph
> 
>    {{{
>       (...) `n-k`-dimensional (...)  ->>  `(n-k)`-dimensional
>    }}}
> 
> * In `linear_code.py`, I disagree with your abbreviation of the error message
>   when using not registered encoders/decoders (around line 506). Your shorter
>   error messages are much less helpful.


I felt that it was too much verbose. The user should learn what the message says from the documentation.

But ok as I respect your wisdom. I recovered the original message. 

> * I'm not sure I like `random_received_vector` and its friend. It is a very specific use case to add exactly `t` errors to a codeword, and for this I don't mind the user typing out a few extra lines by using the `StaticErrorRateChannel`, which also introduces him/her to the much broader concept of channels. Rather, I'm in favour of adding to the class/module documentation how to use the channels (though it is also in the coding theory tutorial)


I added that when I was moving my code in Magma to Sage, without much appreciation of the channel concept myself. Now I see that `random_received_vector` does not fit well with the overall design of  the coding module.

I decided to remove it.



---

archive/issue_comments_385715.json:
```json
{
    "body": "Replying to [comment:29 jsrn]:\n> * I'm now browsing through the compiled doc of `linear_code.py`, and \"`self`\" (with only one back-tick) appears quite often. Please do a search-replace for this. \n\n\nDone.\n\n> * I disagree with your renaming \"Derived code constructions\" to \"Code constructions\" in the main doc for the coding module. The latter is very confusable with e.g. \"the quadratic residue code construction\", amplified by the file `code_constructions.py` containing exactly such constructions. I suggest using `Derived codes` or keeping `Derived code constructions`.\n\n\nIt seems a typo... I will keep `Derived code constructions`.\n\n> \n> * I discovered that the documentation for `codes_catalog` is completely broken (see under the main documentation of Coding, under \"Index of code constructions\"). The reason is that the introspective magic function that should generate the table doesn't really work with imported non-local classes. I've manually written the entire table in full and pushed that to the branch.\n\n\nMerged. Fixed a doctest failure along with it.",
    "created_at": "2019-07-31T03:14:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385715",
    "user": "https://github.com/kwankyu"
}
```

Replying to [comment:29 jsrn]:
> * I'm now browsing through the compiled doc of `linear_code.py`, and "`self`" (with only one back-tick) appears quite often. Please do a search-replace for this. 


Done.

> * I disagree with your renaming "Derived code constructions" to "Code constructions" in the main doc for the coding module. The latter is very confusable with e.g. "the quadratic residue code construction", amplified by the file `code_constructions.py` containing exactly such constructions. I suggest using `Derived codes` or keeping `Derived code constructions`.


It seems a typo... I will keep `Derived code constructions`.

> 
> * I discovered that the documentation for `codes_catalog` is completely broken (see under the main documentation of Coding, under "Index of code constructions"). The reason is that the introspective magic function that should generate the table doesn't really work with imported non-local classes. I've manually written the entire table in full and pushed that to the branch.


Merged. Fixed a doctest failure along with it.



---

archive/issue_comments_385716.json:
```json
{
    "body": "New commits:",
    "created_at": "2019-07-31T03:15:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385716",
    "user": "https://github.com/kwankyu"
}
```

New commits:



---

archive/issue_comments_385717.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-31T03:18:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385717",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_385718.json:
```json
{
    "body": "Great, thanks for reacting so fast! Let's get this into Sage :-) Positive review.",
    "created_at": "2019-07-31T06:22:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385718",
    "user": "https://github.com/johanrosenkilde"
}
```

Great, thanks for reacting so fast! Let's get this into Sage :-) Positive review.



---

archive/issue_comments_385719.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-07-31T06:22:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385719",
    "user": "https://github.com/johanrosenkilde"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_385720.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2019-07-31T06:48:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385720",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_385721.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2019-07-31T06:48:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385721",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_385722.json:
```json
{
    "body": "Ah... I could not resist rushing these final changes to this ticket. Sorry.\n\nI renamed \"channel_constructions.py\" to \"channel.py\" and \"goppa.py\" to \"goppa_code.py\". This seems to me more conforming to other file names. \n\nI worry that you may object to the former change. If so, let me know.",
    "created_at": "2019-07-31T06:55:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385722",
    "user": "https://github.com/kwankyu"
}
```

Ah... I could not resist rushing these final changes to this ticket. Sorry.

I renamed "channel_constructions.py" to "channel.py" and "goppa.py" to "goppa_code.py". This seems to me more conforming to other file names. 

I worry that you may object to the former change. If so, let me know.



---

archive/issue_comments_385723.json:
```json
{
    "body": "I'm OK with those changes, it's more conforming. Positive review.",
    "created_at": "2019-07-31T07:05:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385723",
    "user": "https://github.com/johanrosenkilde"
}
```

I'm OK with those changes, it's more conforming. Positive review.



---

archive/issue_comments_385724.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-07-31T07:05:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385724",
    "user": "https://github.com/johanrosenkilde"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_385725.json:
```json
{
    "body": "See patchbot:\n\n```\nsage -t --long src/doc/en/thematic_tutorials/structures_in_coding_theory.rst  # 2 doc\ntests failed\n```",
    "created_at": "2019-08-02T21:00:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385725",
    "user": "https://github.com/vbraun"
}
```

See patchbot:

```
sage -t --long src/doc/en/thematic_tutorials/structures_in_coding_theory.rst  # 2 doc
tests failed
```



---

archive/issue_comments_385726.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2019-08-02T21:00:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385726",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_385727.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-03T10:58:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385727",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_385728.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2019-08-03T22:04:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385728",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_385729.json:
```json
{
    "body": "Doctest failures in thematic tutorials were fixed by simple string replacements for changed module names.",
    "created_at": "2019-08-03T22:04:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385729",
    "user": "https://github.com/kwankyu"
}
```

Doctest failures in thematic tutorials were fixed by simple string replacements for changed module names.



---

archive/issue_events_068586.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-08-05T20:02:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27397#event-68586"
}
```



---

archive/issue_comments_385730.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-08-05T20:02:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27397",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27397#issuecomment-385730",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
