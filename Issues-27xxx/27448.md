# Issue 27448: Compute normal vector of facet of polyhedron

archive/issues_027211.json:
```json
{
    "assignees": [],
    "body": "This ticket implements a \"normal_vector\" for facets.\n\nCC:  @jplab @LaisRast @kliem\n\nBranch/Commit: **[u/dkrenn/surface-normal](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/surface-normal) @ [8f23aa9](https://github.com/sagemath/sagetrac-mirror/commit/8f23aa949086e9cb358a2d50b67ad85f2efb7fdd)**\n\nWork Issues: **Implement a normal_vector for facets**\n\nReviewer: **Vincent Delecroix**\n\nAuthor: **Daniel Krenn**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/27448_\n\n",
    "created_at": "2019-03-09T10:40:47Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20geometry",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Compute normal vector of facet of polyhedron",
    "type": "issue",
    "updated_at": "2022-08-31T02:51:13Z",
    "url": "https://github.com/sagemath/sage/issues/27448",
    "user": "https://github.com/dkrenn"
}
```
This ticket implements a "normal_vector" for facets.

CC:  @jplab @LaisRast @kliem

Branch/Commit: **[u/dkrenn/surface-normal](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/surface-normal) @ [8f23aa9](https://github.com/sagemath/sagetrac-mirror/commit/8f23aa949086e9cb358a2d50b67ad85f2efb7fdd)**

Work Issues: **Implement a normal_vector for facets**

Reviewer: **Vincent Delecroix**

Author: **Daniel Krenn**

_Issue created by migration from https://trac.sagemath.org/ticket/27448_





---

archive/issue_events_358785.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2019-03-09T10:40:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358785"
}
```



---

archive/issue_events_358786.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2019-03-09T10:40:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "component: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358786"
}
```



---

archive/issue_events_358787.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2019-03-09T10:40:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358787"
}
```



---

archive/issue_events_358788.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2019-03-09T10:40:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358788"
}
```



---

archive/issue_comments_427615.json:
```json
{
    "body": "Branch: **[u/dkrenn/surface-normal](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/surface-normal)**",
    "created_at": "2019-03-10T17:57:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427615",
    "user": "https://github.com/dkrenn"
}
```

Branch: **[u/dkrenn/surface-normal](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/surface-normal)**



---

archive/issue_events_358789.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2019-03-10T18:22:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358789"
}
```



---

archive/issue_comments_427616.json:
```json
{
    "body": "Commit: **[297ff00](https://github.com/sagemath/sagetrac-mirror/commit/297ff0033b0e6a568e50d9466ac4fccc2cd60805)**",
    "created_at": "2019-03-10T18:22:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427616",
    "user": "https://github.com/dkrenn"
}
```

Commit: **[297ff00](https://github.com/sagemath/sagetrac-mirror/commit/297ff0033b0e6a568e50d9466ac4fccc2cd60805)**



---

archive/issue_comments_427617.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/297ff0033b0e6a568e50d9466ac4fccc2cd60805\">297ff00</a></td><td><code>Trac #27448: compute normal vectors of face</code></td></tr></table>\n",
    "created_at": "2019-03-10T18:22:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427617",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:2" align="right">Comment 2</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/297ff0033b0e6a568e50d9466ac4fccc2cd60805">297ff00</a></td><td><code>Trac #27448: compute normal vectors of face</code></td></tr></table>




---

archive/issue_comments_427618.json:
```json
{
    "body": "Changed commit from **[297ff00](https://github.com/sagemath/sagetrac-mirror/commit/297ff0033b0e6a568e50d9466ac4fccc2cd60805)** to **[d0b6b79](https://github.com/sagemath/sagetrac-mirror/commit/d0b6b79ae32affd6124af88e4a37ad0047f84713)**",
    "created_at": "2019-03-12T11:21:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427618",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[297ff00](https://github.com/sagemath/sagetrac-mirror/commit/297ff0033b0e6a568e50d9466ac4fccc2cd60805)** to **[d0b6b79](https://github.com/sagemath/sagetrac-mirror/commit/d0b6b79ae32affd6124af88e4a37ad0047f84713)**



---

archive/issue_comments_427619.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d0b6b79ae32affd6124af88e4a37ad0047f84713\">d0b6b79</a></td><td><code>Trac #27448: simplify methods and restrict to one algorithm for all</code></td></tr></table>\n",
    "created_at": "2019-03-12T11:21:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427619",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3" align="right">Comment 3</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d0b6b79ae32affd6124af88e4a37ad0047f84713">d0b6b79</a></td><td><code>Trac #27448: simplify methods and restrict to one algorithm for all</code></td></tr></table>




---

archive/issue_comments_427620.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\n\n```\n    Invalid Python 3 syntax found:\n    invalid syntax (face.py, line 587)\n```",
    "created_at": "2019-03-12T12:41:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427620",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:4" align="right">Comment 4</div>


```
    Invalid Python 3 syntax found:
    invalid syntax (face.py, line 587)
```



---

archive/issue_comments_427621.json:
```json
{
    "body": "Changed commit from **[d0b6b79](https://github.com/sagemath/sagetrac-mirror/commit/d0b6b79ae32affd6124af88e4a37ad0047f84713)** to **[acb48f6](https://github.com/sagemath/sagetrac-mirror/commit/acb48f667435c8e76cc82383da878b4f1ebfca3a)**",
    "created_at": "2019-03-12T12:48:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427621",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d0b6b79](https://github.com/sagemath/sagetrac-mirror/commit/d0b6b79ae32affd6124af88e4a37ad0047f84713)** to **[acb48f6](https://github.com/sagemath/sagetrac-mirror/commit/acb48f667435c8e76cc82383da878b4f1ebfca3a)**



---

archive/issue_comments_427622.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/acb48f667435c8e76cc82383da878b4f1ebfca3a\">acb48f6</a></td><td><code>Trac #27448: Py3 exception</code></td></tr></table>\n",
    "created_at": "2019-03-12T12:48:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427622",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5" align="right">Comment 5</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/acb48f667435c8e76cc82383da878b4f1ebfca3a">acb48f6</a></td><td><code>Trac #27448: Py3 exception</code></td></tr></table>




---

archive/issue_comments_427623.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nReplying to [@fchapoton](#comment%3A4):\n> \n> ```\n>     Invalid Python 3 syntax found:\n>     invalid syntax (face.py, line 587)\n> ```\n\nIndeed, missed this one. Thanks, is now corrected.",
    "created_at": "2019-03-12T12:49:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427623",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:6" align="right">Comment 6</div>

Replying to [@fchapoton](#comment%3A4):
> 
> ```
>     Invalid Python 3 syntax found:
>     invalid syntax (face.py, line 587)
> ```

Indeed, missed this one. Thanks, is now corrected.



---

archive/issue_comments_427624.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nplease add one example with vertices in AA",
    "created_at": "2019-03-12T18:53:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427624",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:7" align="right">Comment 7</div>

please add one example with vertices in AA



---

archive/issue_comments_427625.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nWhy is it cached!?",
    "created_at": "2019-03-15T19:49:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427625",
    "user": "https://github.com/videlec"
}
```

<div id="comment:8" align="right">Comment 8</div>

Why is it cached!?



---

archive/issue_events_358790.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-03-15T19:51:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358790"
}
```



---

archive/issue_events_358791.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-03-15T19:51:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358791"
}
```



---

archive/issue_comments_427626.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nWhat is that intended for?\n\n```\n        if T.base_ring() in (AA, QQbar):\n            def exactify(c):\n                c.exactify()\n                try:\n                    return QQ(c)\n                except (ValueError, TypeError):\n                    return c\n            T = T.apply_map(lambda c: exactify(c))\n```\nIf it is of any use, it should be carefully explained in the code.",
    "created_at": "2019-03-15T19:51:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427626",
    "user": "https://github.com/videlec"
}
```

<div id="comment:9" align="right">Comment 9</div>

What is that intended for?

```
        if T.base_ring() in (AA, QQbar):
            def exactify(c):
                c.exactify()
                try:
                    return QQ(c)
                except (ValueError, TypeError):
                    return c
            T = T.apply_map(lambda c: exactify(c))
```
If it is of any use, it should be carefully explained in the code.



---

archive/issue_comments_427627.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nIsn't it a big waste to compute the matrix `T` each time you ask for a normal vector. Wouldn't it make more sense to compute it once and for all?",
    "created_at": "2019-03-15T19:53:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427627",
    "user": "https://github.com/videlec"
}
```

<div id="comment:10" align="right">Comment 10</div>

Isn't it a big waste to compute the matrix `T` each time you ask for a normal vector. Wouldn't it make more sense to compute it once and for all?



---

archive/issue_comments_427628.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nDocumentation must include examples with unbounded faces. Especially the degenerate case where the polyhedron is a vector space.",
    "created_at": "2019-03-15T19:55:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427628",
    "user": "https://github.com/videlec"
}
```

<div id="comment:11" align="right">Comment 11</div>

Documentation must include examples with unbounded faces. Especially the degenerate case where the polyhedron is a vector space.



---

archive/issue_events_358792.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358792"
}
```



---

archive/issue_events_358793.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358793"
}
```



---

archive/issue_comments_427629.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nTicket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427629",
    "user": "https://github.com/embray"
}
```

<div id="comment:12" align="right">Comment 12</div>

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_comments_427630.json:
```json
{
    "body": "Changed commit from **[acb48f6](https://github.com/sagemath/sagetrac-mirror/commit/acb48f667435c8e76cc82383da878b4f1ebfca3a)** to **[8f23aa9](https://github.com/sagemath/sagetrac-mirror/commit/8f23aa949086e9cb358a2d50b67ad85f2efb7fdd)**",
    "created_at": "2019-03-27T18:48:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427630",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[acb48f6](https://github.com/sagemath/sagetrac-mirror/commit/acb48f667435c8e76cc82383da878b4f1ebfca3a)** to **[8f23aa9](https://github.com/sagemath/sagetrac-mirror/commit/8f23aa949086e9cb358a2d50b67ad85f2efb7fdd)**



---

archive/issue_comments_427631.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4b7a774740cae38749940b8c1d862d7fd52bca9d\">4b7a774</a></td><td><code>Trac #27448: cache matrix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53e3b1479cdf0ca9187d719aa7ee021c09c42705\">53e3b14</a></td><td><code>Trac #27448: refactor imports</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82e7613b739d43194a7332450d6f5a261615570f\">82e7613</a></td><td><code>Trac #27448: more careful use of exactify</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c359cec14d24e4e0840ce6b44820686ced75fc1\">0c359ce</a></td><td><code>Trac #27448: move more code around (fixup caching)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/919bebf3299bf40081f23f72b5fb6a59752f8fee\">919bebf</a></td><td><code>Trac #27448: explain purpose of exactify-code</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/769ba63169b8b618910f68fe3257ba12ad22773d\">769ba63</a></td><td><code>Trac #27448 doctest for unbounded polyhedron</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8f23aa949086e9cb358a2d50b67ad85f2efb7fdd\">8f23aa9</a></td><td><code>Trac #27448: doctest for polyhedron with vertices in AA</code></td></tr></table>\n",
    "created_at": "2019-03-27T18:48:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427631",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13" align="right">Comment 13</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4b7a774740cae38749940b8c1d862d7fd52bca9d">4b7a774</a></td><td><code>Trac #27448: cache matrix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53e3b1479cdf0ca9187d719aa7ee021c09c42705">53e3b14</a></td><td><code>Trac #27448: refactor imports</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82e7613b739d43194a7332450d6f5a261615570f">82e7613</a></td><td><code>Trac #27448: more careful use of exactify</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c359cec14d24e4e0840ce6b44820686ced75fc1">0c359ce</a></td><td><code>Trac #27448: move more code around (fixup caching)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/919bebf3299bf40081f23f72b5fb6a59752f8fee">919bebf</a></td><td><code>Trac #27448: explain purpose of exactify-code</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/769ba63169b8b618910f68fe3257ba12ad22773d">769ba63</a></td><td><code>Trac #27448 doctest for unbounded polyhedron</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8f23aa949086e9cb358a2d50b67ad85f2efb7fdd">8f23aa9</a></td><td><code>Trac #27448: doctest for polyhedron with vertices in AA</code></td></tr></table>




---

archive/issue_comments_427632.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nReplying to [@fchapoton](#comment%3A7):\n> please add one example with vertices in AA\n\nDone in ||[8f23aa9](https://github.com/sagemath/sagetrac-mirror/commit/8f23aa949086e9cb358a2d50b67ad85f2efb7fdd)||`Trac #27448: doctest for polyhedron with vertices in AA`||",
    "created_at": "2019-03-27T18:50:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427632",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:14" align="right">Comment 14</div>

Replying to [@fchapoton](#comment%3A7):
> please add one example with vertices in AA

Done in ||[8f23aa9](https://github.com/sagemath/sagetrac-mirror/commit/8f23aa949086e9cb358a2d50b67ad85f2efb7fdd)||`Trac #27448: doctest for polyhedron with vertices in AA`||



---

archive/issue_comments_427633.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nReplying to [@videlec](#comment%3A8):\n> Why is it cached!?\n\nBecause for my computation (related to #27447) it reduced the computation time by a factor 7 or 8.",
    "created_at": "2019-03-27T18:51:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427633",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:15" align="right">Comment 15</div>

Replying to [@videlec](#comment%3A8):
> Why is it cached!?

Because for my computation (related to #27447) it reduced the computation time by a factor 7 or 8.



---

archive/issue_comments_427634.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nReplying to [@videlec](#comment%3A9):\n> What is that intended for?\n> \n> ```\n>         if T.base_ring() in (AA, QQbar):\n>             def exactify(c):\n>                 c.exactify()\n>                 try:\n>                     return QQ(c)\n>                 except (ValueError, TypeError):\n>                     return c\n>             T = T.apply_map(lambda c: exactify(c))\n> ```\n> If it is of any use, it should be carefully explained in the code.\n\nCode commented in ||[919bebf](https://github.com/sagemath/sagetrac-mirror/commit/919bebf3299bf40081f23f72b5fb6a59752f8fee)||`Trac #27448: explain purpose of exactify-code`||",
    "created_at": "2019-03-27T18:51:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427634",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:16" align="right">Comment 16</div>

Replying to [@videlec](#comment%3A9):
> What is that intended for?
> 
> ```
>         if T.base_ring() in (AA, QQbar):
>             def exactify(c):
>                 c.exactify()
>                 try:
>                     return QQ(c)
>                 except (ValueError, TypeError):
>                     return c
>             T = T.apply_map(lambda c: exactify(c))
> ```
> If it is of any use, it should be carefully explained in the code.

Code commented in ||[919bebf](https://github.com/sagemath/sagetrac-mirror/commit/919bebf3299bf40081f23f72b5fb6a59752f8fee)||`Trac #27448: explain purpose of exactify-code`||



---

archive/issue_comments_427635.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nReplying to [@videlec](#comment%3A10):\n> Isn't it a big waste to compute the matrix `T` each time you ask for a normal vector. Wouldn't it make more sense to compute it once and for all?\n\nIndeed. Done in ||[4b7a774](https://github.com/sagemath/sagetrac-mirror/commit/4b7a774740cae38749940b8c1d862d7fd52bca9d)||`Trac #27448: cache matrix`||\nbut also see the other commits (some more changes were done).",
    "created_at": "2019-03-27T18:52:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427635",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:17" align="right">Comment 17</div>

Replying to [@videlec](#comment%3A10):
> Isn't it a big waste to compute the matrix `T` each time you ask for a normal vector. Wouldn't it make more sense to compute it once and for all?

Indeed. Done in ||[4b7a774](https://github.com/sagemath/sagetrac-mirror/commit/4b7a774740cae38749940b8c1d862d7fd52bca9d)||`Trac #27448: cache matrix`||
but also see the other commits (some more changes were done).



---

archive/issue_comments_427636.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nReplying to [@videlec](#comment%3A11):\n> Documentation must include examples with unbounded faces. Especially the degenerate case where the polyhedron is a vector space.\n\nDone in ||[769ba63](https://github.com/sagemath/sagetrac-mirror/commit/769ba63169b8b618910f68fe3257ba12ad22773d)||`Trac #27448 doctest for unbounded polyhedron`||",
    "created_at": "2019-03-27T18:53:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427636",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:18" align="right">Comment 18</div>

Replying to [@videlec](#comment%3A11):
> Documentation must include examples with unbounded faces. Especially the degenerate case where the polyhedron is a vector space.

Done in ||[769ba63](https://github.com/sagemath/sagetrac-mirror/commit/769ba63169b8b618910f68fe3257ba12ad22773d)||`Trac #27448 doctest for unbounded polyhedron`||



---

archive/issue_events_358794.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2019-03-27T18:53:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358794"
}
```



---

archive/issue_events_358795.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2019-03-27T18:53:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358795"
}
```



---

archive/issue_comments_427637.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nAll comments are incorporated, so please review again.",
    "created_at": "2019-03-27T18:54:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427637",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:20" align="right">Comment 20</div>

All comments are incorporated, so please review again.



---

archive/issue_comments_427638.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nI don't understand something. According to the comment `When the polyhedron is rational, ... We correct this below.` the following should not fail\n\n```\nc.exactify()\ntry:\n    return QQ(c)\n```",
    "created_at": "2019-04-14T17:03:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427638",
    "user": "https://github.com/videlec"
}
```

<div id="comment:21" align="right">Comment 21</div>

I don't understand something. According to the comment `When the polyhedron is rational, ... We correct this below.` the following should not fail

```
c.exactify()
try:
    return QQ(c)
```



---

archive/issue_comments_427639.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nThere is no example of polyhedra defined over a number field such as `QuadraticField(2)` or `NumberField(x^3 - 2, 'a', embedding=AA(2)^(1/3))`.",
    "created_at": "2019-04-14T17:05:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427639",
    "user": "https://github.com/videlec"
}
```

<div id="comment:22" align="right">Comment 22</div>

There is no example of polyhedra defined over a number field such as `QuadraticField(2)` or `NumberField(x^3 - 2, 'a', embedding=AA(2)^(1/3))`.



---

archive/issue_comments_427640.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nIf the matrix `T` is supposed to belong to the ground field, isn't there a more direct way to compute it wihtout going through `A` that might involve a lot of different square roots?",
    "created_at": "2019-04-14T17:07:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427640",
    "user": "https://github.com/videlec"
}
```

<div id="comment:23" align="right">Comment 23</div>

If the matrix `T` is supposed to belong to the ground field, isn't there a more direct way to compute it wihtout going through `A` that might involve a lot of different square roots?



---

archive/issue_comments_427641.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2019-04-18T20:31:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427641",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_events_358796.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-04-18T20:31:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358796"
}
```



---

archive/issue_events_358797.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-04-18T20:31:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358797"
}
```



---

archive/issue_events_358798.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:50:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358798"
}
```



---

archive/issue_events_358799.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:50:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358799"
}
```



---

archive/issue_comments_427642.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nTickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).",
    "created_at": "2019-06-14T14:50:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427642",
    "user": "https://github.com/embray"
}
```

<div id="comment:25" align="right">Comment 25</div>

Tickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).



---

archive/issue_comments_427643.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nPlease have a look at the related #17215.\n\nAlso, it seems that in the doctests, the older version of the `repr` for faces is used... This should be updated.",
    "created_at": "2019-10-26T12:03:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427643",
    "user": "https://github.com/jplab"
}
```

<div id="comment:26" align="right">Comment 26</div>

Please have a look at the related #17215.

Also, it seems that in the doctests, the older version of the `repr` for faces is used... This should be updated.



---

archive/issue_comments_427644.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nTicket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427644",
    "user": "https://github.com/embray"
}
```

<div id="comment:27" align="right">Comment 27</div>

Ticket retargeted after milestone closed



---

archive/issue_events_358800.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358800"
}
```



---

archive/issue_events_358801.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358801"
}
```



---

archive/issue_comments_427645.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nWith #17215, one can do:\n\n```\nsage: s = polytopes.simplex(2)\nsage: for facet in s.facets():\n....:     print(\"{} has normal vector {}\".format(facet,facet.normal_cone().rays()[0].vector()))\n....:     \nA 1-dimensional face of a Polyhedron in ZZ^3 defined as the convex hull of 2 vertices has normal vector (1, 1, 0)\nA 1-dimensional face of a Polyhedron in ZZ^3 defined as the convex hull of 2 vertices has normal vector (0, -1, 0)\nA 1-dimensional face of a Polyhedron in ZZ^3 defined as the convex hull of 2 vertices has normal vector (-1, 0, 0)\n```\n\n```\nsage: P = Polyhedron(vertices=[(0,0), (1,0), (sqrt(AA(2)),2), (1,1)],base_ring=AA)\nsage: for facet in P.facets():\n....:     print(\"{} has normal vector {}\".format(facet,facet.normal_cone().rays()[0].vector()))\n....:     \nA 1-dimensional face of a Polyhedron in AA^2 defined as the convex hull of 2 vertices has normal vector (0, -1/2)\nA 1-dimensional face of a Polyhedron in AA^2 defined as the convex hull of 2 vertices has normal vector (-1, 0.7071067811865475?)\nA 1-dimensional face of a Polyhedron in AA^2 defined as the convex hull of 2 vertices has normal vector (1, -0.2071067811865476?)\n```\n\n```\nsage: P = Polyhedron(ieqs=[(0, 1, 1, 1, 1)])\nsage: for facet in P.facets():\n....:     print(\"{} has normal vector {}\".format(facet,facet.normal_cone().rays()[0].vector()))\n....:     \nA 3-dimensional face of a Polyhedron in QQ^4 defined as the convex hull of 1 vertex and 3 lines has normal vector (-1, -1, -1, -1)\nsage: for facet in P.facets():\n....:     print(\"{} has normal vector {}\".format(facet,facet.normal_cone('inner').rays()[0].vector()))\n....:     \nA 3-dimensional face of a Polyhedron in QQ^4 defined as the convex hull of 1 vertex and 3 lines has normal vector (1, 1, 1, 1)\n```\n\n```\nsage: P = Polyhedron(ieqs=[(0, 0, 1), (0, 1, 0), (1, 0, -1)])\nsage: for facet in P.facets():\n....:     print(\"{} has normal vector {}\".format(facet,facet.normal_cone().rays()[0].vector()))\n....:     \nA 1-dimensional face of a Polyhedron in QQ^2 defined as the convex hull of 1 vertex and 1 ray has normal vector (0, -1)\nA 1-dimensional face of a Polyhedron in QQ^2 defined as the convex hull of 2 vertices has normal vector (-1, 0)\nA 1-dimensional face of a Polyhedron in QQ^2 defined as the convex hull of 1 vertex and 1 ray has normal vector (0, 1)\n```\n\nI don't know if this fulfills what is intended in this ticket? Does it? If it does, I believe that it would be appropriate to minimize the duplication of code. In particular, it seems that the present function is intended for facets only (smaller dimensional faces also have normal vectors, but not anymore just in 1 direction...) so the name `normal_vector` is a choice which may be nasty for the user.\n\nAs for speed, well, it is true that we create a polyhedron in `normal_cone`, though, the code in #17215 is essentially all obtained through already computed data. I guess this should be benchmarked.",
    "created_at": "2020-02-04T16:45:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427645",
    "user": "https://github.com/jplab"
}
```

<div id="comment:28" align="right">Comment 28</div>

With #17215, one can do:

```
sage: s = polytopes.simplex(2)
sage: for facet in s.facets():
....:     print("{} has normal vector {}".format(facet,facet.normal_cone().rays()[0].vector()))
....:     
A 1-dimensional face of a Polyhedron in ZZ^3 defined as the convex hull of 2 vertices has normal vector (1, 1, 0)
A 1-dimensional face of a Polyhedron in ZZ^3 defined as the convex hull of 2 vertices has normal vector (0, -1, 0)
A 1-dimensional face of a Polyhedron in ZZ^3 defined as the convex hull of 2 vertices has normal vector (-1, 0, 0)
```

```
sage: P = Polyhedron(vertices=[(0,0), (1,0), (sqrt(AA(2)),2), (1,1)],base_ring=AA)
sage: for facet in P.facets():
....:     print("{} has normal vector {}".format(facet,facet.normal_cone().rays()[0].vector()))
....:     
A 1-dimensional face of a Polyhedron in AA^2 defined as the convex hull of 2 vertices has normal vector (0, -1/2)
A 1-dimensional face of a Polyhedron in AA^2 defined as the convex hull of 2 vertices has normal vector (-1, 0.7071067811865475?)
A 1-dimensional face of a Polyhedron in AA^2 defined as the convex hull of 2 vertices has normal vector (1, -0.2071067811865476?)
```

```
sage: P = Polyhedron(ieqs=[(0, 1, 1, 1, 1)])
sage: for facet in P.facets():
....:     print("{} has normal vector {}".format(facet,facet.normal_cone().rays()[0].vector()))
....:     
A 3-dimensional face of a Polyhedron in QQ^4 defined as the convex hull of 1 vertex and 3 lines has normal vector (-1, -1, -1, -1)
sage: for facet in P.facets():
....:     print("{} has normal vector {}".format(facet,facet.normal_cone('inner').rays()[0].vector()))
....:     
A 3-dimensional face of a Polyhedron in QQ^4 defined as the convex hull of 1 vertex and 3 lines has normal vector (1, 1, 1, 1)
```

```
sage: P = Polyhedron(ieqs=[(0, 0, 1), (0, 1, 0), (1, 0, -1)])
sage: for facet in P.facets():
....:     print("{} has normal vector {}".format(facet,facet.normal_cone().rays()[0].vector()))
....:     
A 1-dimensional face of a Polyhedron in QQ^2 defined as the convex hull of 1 vertex and 1 ray has normal vector (0, -1)
A 1-dimensional face of a Polyhedron in QQ^2 defined as the convex hull of 2 vertices has normal vector (-1, 0)
A 1-dimensional face of a Polyhedron in QQ^2 defined as the convex hull of 1 vertex and 1 ray has normal vector (0, 1)
```

I don't know if this fulfills what is intended in this ticket? Does it? If it does, I believe that it would be appropriate to minimize the duplication of code. In particular, it seems that the present function is intended for facets only (smaller dimensional faces also have normal vectors, but not anymore just in 1 direction...) so the name `normal_vector` is a choice which may be nasty for the user.

As for speed, well, it is true that we create a polyhedron in `normal_cone`, though, the code in #17215 is essentially all obtained through already computed data. I guess this should be benchmarked.



---

archive/issue_comments_427646.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nReplying to [@jplab](#comment%3A28):\n> With #17215, one can do: [...]> I don't know if this fulfills what is intended in this ticket? Does it? If it does, I believe that it would be appropriate to minimize the duplication of code.\n\nThis might be the case. Can we make the doctests here on this ticket work with the code of #17215 (or giving at least somehow a similar output)?\n\n> In particular, it seems that the present function is intended for facets only\n\nYes, true.\n\n> (smaller dimensional faces also have normal vectors, but not anymore just in 1 direction...) so the name `normal_vector` is a choice which may be nasty for the user.\n\nIt seems that the new code is more general indeed.",
    "created_at": "2020-02-10T08:36:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427646",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:30" align="right">Comment 30</div>

Replying to [@jplab](#comment%3A28):
> With #17215, one can do: [...]> I don't know if this fulfills what is intended in this ticket? Does it? If it does, I believe that it would be appropriate to minimize the duplication of code.

This might be the case. Can we make the doctests here on this ticket work with the code of #17215 (or giving at least somehow a similar output)?

> In particular, it seems that the present function is intended for facets only

Yes, true.

> (smaller dimensional faces also have normal vectors, but not anymore just in 1 direction...) so the name `normal_vector` is a choice which may be nasty for the user.

It seems that the new code is more general indeed.



---

archive/issue_comments_427647.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nReplying to [@dkrenn](#comment%3A30):\n> Replying to [@jplab](#comment%3A28):\n> > With #17215, one can do: [...]> I don't know if this fulfills what is intended in this ticket? Does it? If it does, I believe that it would be appropriate to minimize the duplication of code.\n\n> \n> This might be the case. Can we make the doctests here on this ticket work with the code of #17215 (or giving at least somehow a similar output)?\n\nYes, that's definitely possible I would say.\n\n> \n> > In particular, it seems that the present function is intended for facets only\n\n> \n> Yes, true.\n> \n> > (smaller dimensional faces also have normal vectors, but not anymore just in 1 direction...) so the name `normal_vector` is a choice which may be nasty for the user.\n\n> \n> It seems that the new code is more general indeed.\n\nThen, I believe it make sense to have a method for facets that return the appropriate normal vector.",
    "created_at": "2020-02-10T11:06:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427647",
    "user": "https://github.com/jplab"
}
```

<div id="comment:31" align="right">Comment 31</div>

Replying to [@dkrenn](#comment%3A30):
> Replying to [@jplab](#comment%3A28):
> > With #17215, one can do: [...]> I don't know if this fulfills what is intended in this ticket? Does it? If it does, I believe that it would be appropriate to minimize the duplication of code.

> 
> This might be the case. Can we make the doctests here on this ticket work with the code of #17215 (or giving at least somehow a similar output)?

Yes, that's definitely possible I would say.

> 
> > In particular, it seems that the present function is intended for facets only

> 
> Yes, true.
> 
> > (smaller dimensional faces also have normal vectors, but not anymore just in 1 direction...) so the name `normal_vector` is a choice which may be nasty for the user.

> 
> It seems that the new code is more general indeed.

Then, I believe it make sense to have a method for facets that return the appropriate normal vector.



---

archive/issue_comments_427648.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nBatch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427648",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:32" align="right">Comment 32</div>

Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_events_358802.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358802"
}
```



---

archive/issue_events_358803.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358803"
}
```



---

archive/issue_comments_427649.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\nHas this been implemented in #17215?",
    "created_at": "2020-08-27T04:59:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427649",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:33" align="right">Comment 33</div>

Has this been implemented in #17215?



---

archive/issue_events_358804.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358804"
}
```



---

archive/issue_events_358805.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358805"
}
```



---

archive/issue_comments_427650.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+This ticket implements a \"normal_vector\" for facets.\n``````\n",
    "created_at": "2021-01-22T12:40:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427650",
    "user": "https://github.com/jplab"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+This ticket implements a "normal_vector" for facets.
``````




---

archive/issue_comments_427651.json:
```json
{
    "body": "Work Issues: **Implement a normal_vector for facets**",
    "created_at": "2021-01-22T12:40:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427651",
    "user": "https://github.com/jplab"
}
```

Work Issues: **Implement a normal_vector for facets**



---

archive/issue_events_358806.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2021-01-22T12:40:58Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "title_is": "Compute normal vector of facet of polyhedron",
    "title_was": "compute normal vectors of surface faces of polyhedron",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358806"
}
```



---

archive/issue_comments_427652.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nReplying to [@mkoeppe](#comment%3A33):\n> Has this been implemented in #17215?\n\nI think that the resolution was that it might be nice to have a direct function giving the vector and not a \"cone\" object...",
    "created_at": "2021-01-22T12:40:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427652",
    "user": "https://github.com/jplab"
}
```

<div id="comment:35" align="right">Comment 35</div>

Replying to [@mkoeppe](#comment%3A33):
> Has this been implemented in #17215?

I think that the resolution was that it might be nice to have a direct function giving the vector and not a "cone" object...



---

archive/issue_events_358807.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-15T22:07:04Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358807"
}
```



---

archive/issue_events_358808.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-15T22:07:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358808"
}
```



---

archive/issue_comments_427653.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-15T22:07:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427653",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:36" align="right">Comment 36</div>

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_358809.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358809"
}
```



---

archive/issue_events_358810.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358810"
}
```



---

archive/issue_comments_427654.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\nSetting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-427654",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:37" align="right">Comment 37</div>

Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_358811.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358811"
}
```



---

archive/issue_events_358812.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358812"
}
```



---

archive/issue_events_358813.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T20:27:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358813"
}
```



---

archive/issue_events_358814.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T20:27:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358814"
}
```



---

archive/issue_events_358815.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358815"
}
```



---

archive/issue_events_358816.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-358816"
}
```
