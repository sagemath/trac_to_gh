# Issue 27448: Compute normal vector of facet of polyhedron

archive/issues_027211.json:
```json
{
    "assignees": [],
    "body": "This ticket implements a \"normal_vector\" for facets.\n\nCC:  @jplab @LaisRast @kliem\n\nBranch/Commit: **[u/dkrenn/surface-normal](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/surface-normal) @ [`8f23aa9`](https://github.com/sagemath/sagetrac-mirror/commit/8f23aa949086e9cb358a2d50b67ad85f2efb7fdd)**\n\nWork Issues: **Implement a normal_vector for facets**\n\nReviewer: **Vincent Delecroix**\n\nAuthor: **Daniel Krenn**\n\nComponent: **geometry**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/27448_\n\n",
    "created_at": "2019-03-09T10:40:47Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20geometry",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Compute normal vector of facet of polyhedron",
    "type": "issue",
    "updated_at": "2022-08-31T02:51:13Z",
    "url": "https://github.com/sagemath/sage/issues/27448",
    "user": "https://github.com/dkrenn"
}
```
This ticket implements a "normal_vector" for facets.

CC:  @jplab @LaisRast @kliem

Branch/Commit: **[u/dkrenn/surface-normal](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/surface-normal) @ [`8f23aa9`](https://github.com/sagemath/sagetrac-mirror/commit/8f23aa949086e9cb358a2d50b67ad85f2efb7fdd)**

Work Issues: **Implement a normal_vector for facets**

Reviewer: **Vincent Delecroix**

Author: **Daniel Krenn**

Component: **geometry**

_Issue created by migration from https://trac.sagemath.org/ticket/27448_





---

archive/issue_events_378830.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2019-03-09T10:40:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378830"
}
```



---

archive/issue_events_378831.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2019-03-09T10:40:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "c: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378831"
}
```



---

archive/issue_events_378832.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2019-03-09T10:40:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378832"
}
```



---

archive/issue_events_378833.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2019-03-09T10:40:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378833"
}
```



---

archive/issue_comments_424669.json:
```json
{
    "body": "Branch: **[u/dkrenn/surface-normal](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/surface-normal)**",
    "created_at": "2019-03-10T17:57:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424669",
    "user": "https://github.com/dkrenn"
}
```

Branch: **[u/dkrenn/surface-normal](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/surface-normal)**



---

archive/issue_events_378834.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2019-03-10T18:22:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378834"
}
```



---

archive/issue_comments_424670.json:
```json
{
    "body": "Commit: **[`297ff00`](https://github.com/sagemath/sagetrac-mirror/commit/297ff0033b0e6a568e50d9466ac4fccc2cd60805)**",
    "created_at": "2019-03-10T18:22:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424670",
    "user": "https://github.com/dkrenn"
}
```

Commit: **[`297ff00`](https://github.com/sagemath/sagetrac-mirror/commit/297ff0033b0e6a568e50d9466ac4fccc2cd60805)**



---

archive/issue_comments_424671.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/297ff0033b0e6a568e50d9466ac4fccc2cd60805\"><code>297ff00</code></a></td><td><code>Trac #27448: compute normal vectors of face</code></td></tr></table>\n",
    "created_at": "2019-03-10T18:22:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424671",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/297ff0033b0e6a568e50d9466ac4fccc2cd60805"><code>297ff00</code></a></td><td><code>Trac #27448: compute normal vectors of face</code></td></tr></table>




---

archive/issue_comments_424672.json:
```json
{
    "body": "Changed commit from **[`297ff00`](https://github.com/sagemath/sagetrac-mirror/commit/297ff0033b0e6a568e50d9466ac4fccc2cd60805)** to **[`d0b6b79`](https://github.com/sagemath/sagetrac-mirror/commit/d0b6b79ae32affd6124af88e4a37ad0047f84713)**",
    "created_at": "2019-03-12T11:21:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424672",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`297ff00`](https://github.com/sagemath/sagetrac-mirror/commit/297ff0033b0e6a568e50d9466ac4fccc2cd60805)** to **[`d0b6b79`](https://github.com/sagemath/sagetrac-mirror/commit/d0b6b79ae32affd6124af88e4a37ad0047f84713)**



---

archive/issue_comments_424673.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d0b6b79ae32affd6124af88e4a37ad0047f84713\"><code>d0b6b79</code></a></td><td><code>Trac #27448: simplify methods and restrict to one algorithm for all</code></td></tr></table>\n",
    "created_at": "2019-03-12T11:21:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424673",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d0b6b79ae32affd6124af88e4a37ad0047f84713"><code>d0b6b79</code></a></td><td><code>Trac #27448: simplify methods and restrict to one algorithm for all</code></td></tr></table>




---

archive/issue_comments_424674.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\n\n```\n    Invalid Python 3 syntax found:\n    invalid syntax (face.py, line 587)\n```",
    "created_at": "2019-03-12T12:41:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424674",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:4" align="right">comment:4</div>


```
    Invalid Python 3 syntax found:
    invalid syntax (face.py, line 587)
```



---

archive/issue_comments_424675.json:
```json
{
    "body": "Changed commit from **[`d0b6b79`](https://github.com/sagemath/sagetrac-mirror/commit/d0b6b79ae32affd6124af88e4a37ad0047f84713)** to **[`acb48f6`](https://github.com/sagemath/sagetrac-mirror/commit/acb48f667435c8e76cc82383da878b4f1ebfca3a)**",
    "created_at": "2019-03-12T12:48:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424675",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d0b6b79`](https://github.com/sagemath/sagetrac-mirror/commit/d0b6b79ae32affd6124af88e4a37ad0047f84713)** to **[`acb48f6`](https://github.com/sagemath/sagetrac-mirror/commit/acb48f667435c8e76cc82383da878b4f1ebfca3a)**



---

archive/issue_comments_424676.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/acb48f667435c8e76cc82383da878b4f1ebfca3a\"><code>acb48f6</code></a></td><td><code>Trac #27448: Py3 exception</code></td></tr></table>\n",
    "created_at": "2019-03-12T12:48:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424676",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/acb48f667435c8e76cc82383da878b4f1ebfca3a"><code>acb48f6</code></a></td><td><code>Trac #27448: Py3 exception</code></td></tr></table>




---

archive/issue_comments_424677.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@fchapoton](#comment:4):\n> \n> ```\n>     Invalid Python 3 syntax found:\n>     invalid syntax (face.py, line 587)\n> ```\n\nIndeed, missed this one. Thanks, is now corrected.",
    "created_at": "2019-03-12T12:49:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424677",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@fchapoton](#comment:4):
> 
> ```
>     Invalid Python 3 syntax found:
>     invalid syntax (face.py, line 587)
> ```

Indeed, missed this one. Thanks, is now corrected.



---

archive/issue_comments_424678.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nplease add one example with vertices in AA",
    "created_at": "2019-03-12T18:53:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424678",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:7" align="right">comment:7</div>

please add one example with vertices in AA



---

archive/issue_comments_424679.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nWhy is it cached!?",
    "created_at": "2019-03-15T19:49:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424679",
    "user": "https://github.com/videlec"
}
```

<div id="comment:8" align="right">comment:8</div>

Why is it cached!?



---

archive/issue_events_378835.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-03-15T19:51:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378835"
}
```



---

archive/issue_events_378836.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-03-15T19:51:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378836"
}
```



---

archive/issue_comments_424680.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nWhat is that intended for?\n\n```\n        if T.base_ring() in (AA, QQbar):\n            def exactify(c):\n                c.exactify()\n                try:\n                    return QQ(c)\n                except (ValueError, TypeError):\n                    return c\n            T = T.apply_map(lambda c: exactify(c))\n```\nIf it is of any use, it should be carefully explained in the code.",
    "created_at": "2019-03-15T19:51:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424680",
    "user": "https://github.com/videlec"
}
```

<div id="comment:9" align="right">comment:9</div>

What is that intended for?

```
        if T.base_ring() in (AA, QQbar):
            def exactify(c):
                c.exactify()
                try:
                    return QQ(c)
                except (ValueError, TypeError):
                    return c
            T = T.apply_map(lambda c: exactify(c))
```
If it is of any use, it should be carefully explained in the code.



---

archive/issue_comments_424681.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nIsn't it a big waste to compute the matrix `T` each time you ask for a normal vector. Wouldn't it make more sense to compute it once and for all?",
    "created_at": "2019-03-15T19:53:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424681",
    "user": "https://github.com/videlec"
}
```

<div id="comment:10" align="right">comment:10</div>

Isn't it a big waste to compute the matrix `T` each time you ask for a normal vector. Wouldn't it make more sense to compute it once and for all?



---

archive/issue_comments_424682.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nDocumentation must include examples with unbounded faces. Especially the degenerate case where the polyhedron is a vector space.",
    "created_at": "2019-03-15T19:55:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424682",
    "user": "https://github.com/videlec"
}
```

<div id="comment:11" align="right">comment:11</div>

Documentation must include examples with unbounded faces. Especially the degenerate case where the polyhedron is a vector space.



---

archive/issue_events_378837.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378837"
}
```



---

archive/issue_events_378838.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378838"
}
```



---

archive/issue_comments_424683.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nTicket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424683",
    "user": "https://github.com/embray"
}
```

<div id="comment:12" align="right">comment:12</div>

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_comments_424684.json:
```json
{
    "body": "Changed commit from **[`acb48f6`](https://github.com/sagemath/sagetrac-mirror/commit/acb48f667435c8e76cc82383da878b4f1ebfca3a)** to **[`8f23aa9`](https://github.com/sagemath/sagetrac-mirror/commit/8f23aa949086e9cb358a2d50b67ad85f2efb7fdd)**",
    "created_at": "2019-03-27T18:48:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424684",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`acb48f6`](https://github.com/sagemath/sagetrac-mirror/commit/acb48f667435c8e76cc82383da878b4f1ebfca3a)** to **[`8f23aa9`](https://github.com/sagemath/sagetrac-mirror/commit/8f23aa949086e9cb358a2d50b67ad85f2efb7fdd)**



---

archive/issue_comments_424685.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4b7a774740cae38749940b8c1d862d7fd52bca9d\"><code>4b7a774</code></a></td><td><code>Trac #27448: cache matrix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53e3b1479cdf0ca9187d719aa7ee021c09c42705\"><code>53e3b14</code></a></td><td><code>Trac #27448: refactor imports</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82e7613b739d43194a7332450d6f5a261615570f\"><code>82e7613</code></a></td><td><code>Trac #27448: more careful use of exactify</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c359cec14d24e4e0840ce6b44820686ced75fc1\"><code>0c359ce</code></a></td><td><code>Trac #27448: move more code around (fixup caching)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/919bebf3299bf40081f23f72b5fb6a59752f8fee\"><code>919bebf</code></a></td><td><code>Trac #27448: explain purpose of exactify-code</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/769ba63169b8b618910f68fe3257ba12ad22773d\"><code>769ba63</code></a></td><td><code>Trac #27448 doctest for unbounded polyhedron</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8f23aa949086e9cb358a2d50b67ad85f2efb7fdd\"><code>8f23aa9</code></a></td><td><code>Trac #27448: doctest for polyhedron with vertices in AA</code></td></tr></table>\n",
    "created_at": "2019-03-27T18:48:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424685",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4b7a774740cae38749940b8c1d862d7fd52bca9d"><code>4b7a774</code></a></td><td><code>Trac #27448: cache matrix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53e3b1479cdf0ca9187d719aa7ee021c09c42705"><code>53e3b14</code></a></td><td><code>Trac #27448: refactor imports</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82e7613b739d43194a7332450d6f5a261615570f"><code>82e7613</code></a></td><td><code>Trac #27448: more careful use of exactify</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c359cec14d24e4e0840ce6b44820686ced75fc1"><code>0c359ce</code></a></td><td><code>Trac #27448: move more code around (fixup caching)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/919bebf3299bf40081f23f72b5fb6a59752f8fee"><code>919bebf</code></a></td><td><code>Trac #27448: explain purpose of exactify-code</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/769ba63169b8b618910f68fe3257ba12ad22773d"><code>769ba63</code></a></td><td><code>Trac #27448 doctest for unbounded polyhedron</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8f23aa949086e9cb358a2d50b67ad85f2efb7fdd"><code>8f23aa9</code></a></td><td><code>Trac #27448: doctest for polyhedron with vertices in AA</code></td></tr></table>




---

archive/issue_comments_424686.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@fchapoton](#comment:7):\n> please add one example with vertices in AA\n\nDone in ||[8f23aa9](https://github.com/sagemath/sagetrac-mirror/commit/8f23aa949086e9cb358a2d50b67ad85f2efb7fdd)||`Trac #27448: doctest for polyhedron with vertices in AA`||",
    "created_at": "2019-03-27T18:50:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424686",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@fchapoton](#comment:7):
> please add one example with vertices in AA

Done in ||[8f23aa9](https://github.com/sagemath/sagetrac-mirror/commit/8f23aa949086e9cb358a2d50b67ad85f2efb7fdd)||`Trac #27448: doctest for polyhedron with vertices in AA`||



---

archive/issue_comments_424687.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@videlec](#comment:8):\n> Why is it cached!?\n\nBecause for my computation (related to #27447) it reduced the computation time by a factor 7 or 8.",
    "created_at": "2019-03-27T18:51:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424687",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@videlec](#comment:8):
> Why is it cached!?

Because for my computation (related to #27447) it reduced the computation time by a factor 7 or 8.



---

archive/issue_comments_424688.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@videlec](#comment:9):\n> What is that intended for?\n> \n> ```\n>         if T.base_ring() in (AA, QQbar):\n>             def exactify(c):\n>                 c.exactify()\n>                 try:\n>                     return QQ(c)\n>                 except (ValueError, TypeError):\n>                     return c\n>             T = T.apply_map(lambda c: exactify(c))\n> ```\n> If it is of any use, it should be carefully explained in the code.\n\nCode commented in ||[919bebf](https://github.com/sagemath/sagetrac-mirror/commit/919bebf3299bf40081f23f72b5fb6a59752f8fee)||`Trac #27448: explain purpose of exactify-code`||",
    "created_at": "2019-03-27T18:51:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424688",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@videlec](#comment:9):
> What is that intended for?
> 
> ```
>         if T.base_ring() in (AA, QQbar):
>             def exactify(c):
>                 c.exactify()
>                 try:
>                     return QQ(c)
>                 except (ValueError, TypeError):
>                     return c
>             T = T.apply_map(lambda c: exactify(c))
> ```
> If it is of any use, it should be carefully explained in the code.

Code commented in ||[919bebf](https://github.com/sagemath/sagetrac-mirror/commit/919bebf3299bf40081f23f72b5fb6a59752f8fee)||`Trac #27448: explain purpose of exactify-code`||



---

archive/issue_comments_424689.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@videlec](#comment:10):\n> Isn't it a big waste to compute the matrix `T` each time you ask for a normal vector. Wouldn't it make more sense to compute it once and for all?\n\nIndeed. Done in ||[4b7a774](https://github.com/sagemath/sagetrac-mirror/commit/4b7a774740cae38749940b8c1d862d7fd52bca9d)||`Trac #27448: cache matrix`||\nbut also see the other commits (some more changes were done).",
    "created_at": "2019-03-27T18:52:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424689",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@videlec](#comment:10):
> Isn't it a big waste to compute the matrix `T` each time you ask for a normal vector. Wouldn't it make more sense to compute it once and for all?

Indeed. Done in ||[4b7a774](https://github.com/sagemath/sagetrac-mirror/commit/4b7a774740cae38749940b8c1d862d7fd52bca9d)||`Trac #27448: cache matrix`||
but also see the other commits (some more changes were done).



---

archive/issue_comments_424690.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@videlec](#comment:11):\n> Documentation must include examples with unbounded faces. Especially the degenerate case where the polyhedron is a vector space.\n\nDone in ||[769ba63](https://github.com/sagemath/sagetrac-mirror/commit/769ba63169b8b618910f68fe3257ba12ad22773d)||`Trac #27448 doctest for unbounded polyhedron`||",
    "created_at": "2019-03-27T18:53:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424690",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@videlec](#comment:11):
> Documentation must include examples with unbounded faces. Especially the degenerate case where the polyhedron is a vector space.

Done in ||[769ba63](https://github.com/sagemath/sagetrac-mirror/commit/769ba63169b8b618910f68fe3257ba12ad22773d)||`Trac #27448 doctest for unbounded polyhedron`||



---

archive/issue_events_378839.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2019-03-27T18:53:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378839"
}
```



---

archive/issue_events_378840.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2019-03-27T18:53:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378840"
}
```



---

archive/issue_comments_424691.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nAll comments are incorporated, so please review again.",
    "created_at": "2019-03-27T18:54:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424691",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:20" align="right">comment:20</div>

All comments are incorporated, so please review again.



---

archive/issue_comments_424692.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI don't understand something. According to the comment `When the polyhedron is rational, ... We correct this below.` the following should not fail\n\n```\nc.exactify()\ntry:\n    return QQ(c)\n```",
    "created_at": "2019-04-14T17:03:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424692",
    "user": "https://github.com/videlec"
}
```

<div id="comment:21" align="right">comment:21</div>

I don't understand something. According to the comment `When the polyhedron is rational, ... We correct this below.` the following should not fail

```
c.exactify()
try:
    return QQ(c)
```



---

archive/issue_comments_424693.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThere is no example of polyhedra defined over a number field such as `QuadraticField(2)` or `NumberField(x^3 - 2, 'a', embedding=AA(2)^(1/3))`.",
    "created_at": "2019-04-14T17:05:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424693",
    "user": "https://github.com/videlec"
}
```

<div id="comment:22" align="right">comment:22</div>

There is no example of polyhedra defined over a number field such as `QuadraticField(2)` or `NumberField(x^3 - 2, 'a', embedding=AA(2)^(1/3))`.



---

archive/issue_comments_424694.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nIf the matrix `T` is supposed to belong to the ground field, isn't there a more direct way to compute it wihtout going through `A` that might involve a lot of different square roots?",
    "created_at": "2019-04-14T17:07:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424694",
    "user": "https://github.com/videlec"
}
```

<div id="comment:23" align="right">comment:23</div>

If the matrix `T` is supposed to belong to the ground field, isn't there a more direct way to compute it wihtout going through `A` that might involve a lot of different square roots?



---

archive/issue_comments_424695.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2019-04-18T20:31:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424695",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_events_378841.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-04-18T20:31:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378841"
}
```



---

archive/issue_events_378842.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-04-18T20:31:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378842"
}
```



---

archive/issue_events_378843.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:50:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378843"
}
```



---

archive/issue_events_378844.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:50:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378844"
}
```



---

archive/issue_comments_424696.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nTickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).",
    "created_at": "2019-06-14T14:50:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424696",
    "user": "https://github.com/embray"
}
```

<div id="comment:25" align="right">comment:25</div>

Tickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).



---

archive/issue_comments_424697.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nPlease have a look at the related #17215.\n\nAlso, it seems that in the doctests, the older version of the `repr` for faces is used... This should be updated.",
    "created_at": "2019-10-26T12:03:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424697",
    "user": "https://github.com/jplab"
}
```

<div id="comment:26" align="right">comment:26</div>

Please have a look at the related #17215.

Also, it seems that in the doctests, the older version of the `repr` for faces is used... This should be updated.



---

archive/issue_comments_424698.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nTicket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424698",
    "user": "https://github.com/embray"
}
```

<div id="comment:27" align="right">comment:27</div>

Ticket retargeted after milestone closed



---

archive/issue_events_378845.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378845"
}
```



---

archive/issue_events_378846.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378846"
}
```



---

archive/issue_comments_424699.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nWith #17215, one can do:\n\n```\nsage: s = polytopes.simplex(2)\nsage: for facet in s.facets():\n....:     print(\"{} has normal vector {}\".format(facet,facet.normal_cone().rays()[0].vector()))\n....:     \nA 1-dimensional face of a Polyhedron in ZZ^3 defined as the convex hull of 2 vertices has normal vector (1, 1, 0)\nA 1-dimensional face of a Polyhedron in ZZ^3 defined as the convex hull of 2 vertices has normal vector (0, -1, 0)\nA 1-dimensional face of a Polyhedron in ZZ^3 defined as the convex hull of 2 vertices has normal vector (-1, 0, 0)\n```\n\n```\nsage: P = Polyhedron(vertices=[(0,0), (1,0), (sqrt(AA(2)),2), (1,1)],base_ring=AA)\nsage: for facet in P.facets():\n....:     print(\"{} has normal vector {}\".format(facet,facet.normal_cone().rays()[0].vector()))\n....:     \nA 1-dimensional face of a Polyhedron in AA^2 defined as the convex hull of 2 vertices has normal vector (0, -1/2)\nA 1-dimensional face of a Polyhedron in AA^2 defined as the convex hull of 2 vertices has normal vector (-1, 0.7071067811865475?)\nA 1-dimensional face of a Polyhedron in AA^2 defined as the convex hull of 2 vertices has normal vector (1, -0.2071067811865476?)\n```\n\n```\nsage: P = Polyhedron(ieqs=[(0, 1, 1, 1, 1)])\nsage: for facet in P.facets():\n....:     print(\"{} has normal vector {}\".format(facet,facet.normal_cone().rays()[0].vector()))\n....:     \nA 3-dimensional face of a Polyhedron in QQ^4 defined as the convex hull of 1 vertex and 3 lines has normal vector (-1, -1, -1, -1)\nsage: for facet in P.facets():\n....:     print(\"{} has normal vector {}\".format(facet,facet.normal_cone('inner').rays()[0].vector()))\n....:     \nA 3-dimensional face of a Polyhedron in QQ^4 defined as the convex hull of 1 vertex and 3 lines has normal vector (1, 1, 1, 1)\n```\n\n```\nsage: P = Polyhedron(ieqs=[(0, 0, 1), (0, 1, 0), (1, 0, -1)])\nsage: for facet in P.facets():\n....:     print(\"{} has normal vector {}\".format(facet,facet.normal_cone().rays()[0].vector()))\n....:     \nA 1-dimensional face of a Polyhedron in QQ^2 defined as the convex hull of 1 vertex and 1 ray has normal vector (0, -1)\nA 1-dimensional face of a Polyhedron in QQ^2 defined as the convex hull of 2 vertices has normal vector (-1, 0)\nA 1-dimensional face of a Polyhedron in QQ^2 defined as the convex hull of 1 vertex and 1 ray has normal vector (0, 1)\n```\n\nI don't know if this fulfills what is intended in this ticket? Does it? If it does, I believe that it would be appropriate to minimize the duplication of code. In particular, it seems that the present function is intended for facets only (smaller dimensional faces also have normal vectors, but not anymore just in 1 direction...) so the name `normal_vector` is a choice which may be nasty for the user.\n\nAs for speed, well, it is true that we create a polyhedron in `normal_cone`, though, the code in #17215 is essentially all obtained through already computed data. I guess this should be benchmarked.",
    "created_at": "2020-02-04T16:45:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424699",
    "user": "https://github.com/jplab"
}
```

<div id="comment:28" align="right">comment:28</div>

With #17215, one can do:

```
sage: s = polytopes.simplex(2)
sage: for facet in s.facets():
....:     print("{} has normal vector {}".format(facet,facet.normal_cone().rays()[0].vector()))
....:     
A 1-dimensional face of a Polyhedron in ZZ^3 defined as the convex hull of 2 vertices has normal vector (1, 1, 0)
A 1-dimensional face of a Polyhedron in ZZ^3 defined as the convex hull of 2 vertices has normal vector (0, -1, 0)
A 1-dimensional face of a Polyhedron in ZZ^3 defined as the convex hull of 2 vertices has normal vector (-1, 0, 0)
```

```
sage: P = Polyhedron(vertices=[(0,0), (1,0), (sqrt(AA(2)),2), (1,1)],base_ring=AA)
sage: for facet in P.facets():
....:     print("{} has normal vector {}".format(facet,facet.normal_cone().rays()[0].vector()))
....:     
A 1-dimensional face of a Polyhedron in AA^2 defined as the convex hull of 2 vertices has normal vector (0, -1/2)
A 1-dimensional face of a Polyhedron in AA^2 defined as the convex hull of 2 vertices has normal vector (-1, 0.7071067811865475?)
A 1-dimensional face of a Polyhedron in AA^2 defined as the convex hull of 2 vertices has normal vector (1, -0.2071067811865476?)
```

```
sage: P = Polyhedron(ieqs=[(0, 1, 1, 1, 1)])
sage: for facet in P.facets():
....:     print("{} has normal vector {}".format(facet,facet.normal_cone().rays()[0].vector()))
....:     
A 3-dimensional face of a Polyhedron in QQ^4 defined as the convex hull of 1 vertex and 3 lines has normal vector (-1, -1, -1, -1)
sage: for facet in P.facets():
....:     print("{} has normal vector {}".format(facet,facet.normal_cone('inner').rays()[0].vector()))
....:     
A 3-dimensional face of a Polyhedron in QQ^4 defined as the convex hull of 1 vertex and 3 lines has normal vector (1, 1, 1, 1)
```

```
sage: P = Polyhedron(ieqs=[(0, 0, 1), (0, 1, 0), (1, 0, -1)])
sage: for facet in P.facets():
....:     print("{} has normal vector {}".format(facet,facet.normal_cone().rays()[0].vector()))
....:     
A 1-dimensional face of a Polyhedron in QQ^2 defined as the convex hull of 1 vertex and 1 ray has normal vector (0, -1)
A 1-dimensional face of a Polyhedron in QQ^2 defined as the convex hull of 2 vertices has normal vector (-1, 0)
A 1-dimensional face of a Polyhedron in QQ^2 defined as the convex hull of 1 vertex and 1 ray has normal vector (0, 1)
```

I don't know if this fulfills what is intended in this ticket? Does it? If it does, I believe that it would be appropriate to minimize the duplication of code. In particular, it seems that the present function is intended for facets only (smaller dimensional faces also have normal vectors, but not anymore just in 1 direction...) so the name `normal_vector` is a choice which may be nasty for the user.

As for speed, well, it is true that we create a polyhedron in `normal_cone`, though, the code in #17215 is essentially all obtained through already computed data. I guess this should be benchmarked.



---

archive/issue_comments_424700.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@jplab](#comment:28):\n> With #17215, one can do: [...]> I don't know if this fulfills what is intended in this ticket? Does it? If it does, I believe that it would be appropriate to minimize the duplication of code.\n\nThis might be the case. Can we make the doctests here on this ticket work with the code of #17215 (or giving at least somehow a similar output)?\n\n> In particular, it seems that the present function is intended for facets only\n\nYes, true.\n\n> (smaller dimensional faces also have normal vectors, but not anymore just in 1 direction...) so the name `normal_vector` is a choice which may be nasty for the user.\n\nIt seems that the new code is more general indeed.",
    "created_at": "2020-02-10T08:36:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424700",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@jplab](#comment:28):
> With #17215, one can do: [...]> I don't know if this fulfills what is intended in this ticket? Does it? If it does, I believe that it would be appropriate to minimize the duplication of code.

This might be the case. Can we make the doctests here on this ticket work with the code of #17215 (or giving at least somehow a similar output)?

> In particular, it seems that the present function is intended for facets only

Yes, true.

> (smaller dimensional faces also have normal vectors, but not anymore just in 1 direction...) so the name `normal_vector` is a choice which may be nasty for the user.

It seems that the new code is more general indeed.



---

archive/issue_comments_424701.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@dkrenn](#comment:30):\n> Replying to [@jplab](#comment:28):\n> > With #17215, one can do: [...]> I don't know if this fulfills what is intended in this ticket? Does it? If it does, I believe that it would be appropriate to minimize the duplication of code.\n\n> \n> This might be the case. Can we make the doctests here on this ticket work with the code of #17215 (or giving at least somehow a similar output)?\n\nYes, that's definitely possible I would say.\n\n> \n> > In particular, it seems that the present function is intended for facets only\n\n> \n> Yes, true.\n> \n> > (smaller dimensional faces also have normal vectors, but not anymore just in 1 direction...) so the name `normal_vector` is a choice which may be nasty for the user.\n\n> \n> It seems that the new code is more general indeed.\n\nThen, I believe it make sense to have a method for facets that return the appropriate normal vector.",
    "created_at": "2020-02-10T11:06:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424701",
    "user": "https://github.com/jplab"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@dkrenn](#comment:30):
> Replying to [@jplab](#comment:28):
> > With #17215, one can do: [...]> I don't know if this fulfills what is intended in this ticket? Does it? If it does, I believe that it would be appropriate to minimize the duplication of code.

> 
> This might be the case. Can we make the doctests here on this ticket work with the code of #17215 (or giving at least somehow a similar output)?

Yes, that's definitely possible I would say.

> 
> > In particular, it seems that the present function is intended for facets only

> 
> Yes, true.
> 
> > (smaller dimensional faces also have normal vectors, but not anymore just in 1 direction...) so the name `normal_vector` is a choice which may be nasty for the user.

> 
> It seems that the new code is more general indeed.

Then, I believe it make sense to have a method for facets that return the appropriate normal vector.



---

archive/issue_comments_424702.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nBatch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424702",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:32" align="right">comment:32</div>

Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_events_378847.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378847"
}
```



---

archive/issue_events_378848.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378848"
}
```



---

archive/issue_comments_424703.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nHas this been implemented in #17215?",
    "created_at": "2020-08-27T04:59:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424703",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:33" align="right">comment:33</div>

Has this been implemented in #17215?



---

archive/issue_events_378849.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378849"
}
```



---

archive/issue_events_378850.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378850"
}
```



---

archive/issue_comments_424704.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+This ticket implements a \"normal_vector\" for facets.\n``````\n",
    "created_at": "2021-01-22T12:40:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424704",
    "user": "https://github.com/jplab"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+This ticket implements a "normal_vector" for facets.
``````




---

archive/issue_comments_424705.json:
```json
{
    "body": "Work Issues: **Implement a normal_vector for facets**",
    "created_at": "2021-01-22T12:40:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424705",
    "user": "https://github.com/jplab"
}
```

Work Issues: **Implement a normal_vector for facets**



---

archive/issue_events_378851.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2021-01-22T12:40:58Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "title_is": "Compute normal vector of facet of polyhedron",
    "title_was": "compute normal vectors of surface faces of polyhedron",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378851"
}
```



---

archive/issue_comments_424706.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@mkoeppe](#comment:33):\n> Has this been implemented in #17215?\n\nI think that the resolution was that it might be nice to have a direct function giving the vector and not a \"cone\" object...",
    "created_at": "2021-01-22T12:40:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424706",
    "user": "https://github.com/jplab"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@mkoeppe](#comment:33):
> Has this been implemented in #17215?

I think that the resolution was that it might be nice to have a direct function giving the vector and not a "cone" object...



---

archive/issue_events_378852.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-15T22:07:04Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378852"
}
```



---

archive/issue_events_378853.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-15T22:07:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378853"
}
```



---

archive/issue_comments_424707.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-15T22:07:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424707",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:36" align="right">comment:36</div>

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_378854.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378854"
}
```



---

archive/issue_events_378855.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378855"
}
```



---

archive/issue_comments_424708.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nSetting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27448#issuecomment-424708",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:37" align="right">comment:37</div>

Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_378856.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378856"
}
```



---

archive/issue_events_378857.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378857"
}
```



---

archive/issue_events_378858.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T20:27:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378858"
}
```



---

archive/issue_events_378859.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T20:27:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378859"
}
```



---

archive/issue_events_378860.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378860"
}
```



---

archive/issue_events_378861.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27448",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27448#event-378861"
}
```
