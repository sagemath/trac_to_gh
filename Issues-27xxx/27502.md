# Issue 27502: Igraph's pagerank not working in Linux

archive/issues_027265.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nFollowing error arise in linux but works fine in Mac OS.\n\n```\nsage: G = graphs.RandomGNP(1000, .01)\nsage: I = G.igraph_graph()\nsage: %timeit I.pagerank()\n```\n\ngives following error\n\n\n```\n        filename = 0x7ffc0bef5337 \"/home/rajat/new_version/sage-8.7.beta6/src/bin/sage-ipython\"\n        module = 0x0\n        fp = 0x1b033f0\n        p = <optimized out>\n        unbuffered = 0\n        skipfirstline = 0\n        stdin_is_interactive = 1\n        help = <optimized out>\n        version = <optimized out>\n        saw_unbuffered_flag = <optimized out>\n        cf = {cf_flags = 0}\n#78 0x00007ff538f15830 in __libc_start_main (main=0x4006f0 <main>, argc=3, \n    argv=0x7ffc0bef4708, init=<optimized out>, fini=<optimized out>, \n    rtld_fini=<optimized out>, stack_end=0x7ffc0bef46f8)\n    at ../csu/libc-start.c:291\n        result = <optimized out>\n        unwind_buf = {cancel_jmp_buf = {{jmp_buf = {0, 164082578521821197, \n                4196096, 140720508716800, 0, 0, -162438125174419443, \n                -167616841612554227}, mask_was_saved = 0}}, priv = {pad = {\n              0x0, 0x0, 0x0, 0x0}, data = {prev = 0x0, cleanup = 0x0, \n              canceltype = 0}}}\n        not_first_call = <optimized out>\n#79 0x0000000000400729 in _start ()\nNo symbol table info available.\n\n\nCython backtrace\n----------------\n\n29\t../sysdeps/unix/sysv/linux/waitpid.c: No such file or directory.\nTraceback (most recent call last):\n  File \"<string>\", line 56, in <module>\n  File \"/usr/lib/python3/dist-packages/Cython/Debugger/libcython.py\", line 689, in invoke\n    for arg in string_to_argv(args):\nTypeError: argument 1 must be str, not bytes\nSaved trace to /home/rajat/.sage/crash_logs/crash_L9MmKW.log\n------------------------------------------------------------------------\nUnhandled SIGSEGV: A segmentation fault occurred.\nThis probably occurred because a *compiled* module has a bug\nin it and is not properly wrapped with sig_on(), sig_off().\nPython will now terminate.\n------------------------------------------------------------------------\nSegmentation fault (core dumped)\n```\n\nAlso see https://groups.google.com/forum/#!topic/sage-devel/NtVP5AQgqNs\n\n---\n\nupdates, tarballs:\nhttps://github.com/dimpase/igraph/releases/download/0.7.1999/igraph-0.7.1999.tar.gz\nand\nhttps://github.com/dimpase/python-igraph/releases/download/0.7.1999/python_igraph-0.7.1999.tar.gz\n\nUpstream: **Fixed upstream, but not in a stable release.**\n\nCC:  @dimpase @dcoudert\n\nComponent: **packages: optional**\n\nAuthor: **Dima Pasechnik**\n\nBranch/Commit: **[`721ccc3`](https://github.com/sagemath/sagetrac-mirror/commit/721ccc33fa39015893f7b75200ec01d2256694d7)**\n\nReviewer: **David Coudert**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/27502_\n\n",
    "closed_at": "2019-03-25T19:43:38Z",
    "created_at": "2019-03-16T13:27:21Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Igraph's pagerank not working in Linux",
    "type": "issue",
    "updated_at": "2019-03-25T19:43:38Z",
    "url": "https://github.com/sagemath/sage/issues/27502",
    "user": "https://github.com/rajat1433"
}
```
<div id="comment:0"></div>

Following error arise in linux but works fine in Mac OS.

```
sage: G = graphs.RandomGNP(1000, .01)
sage: I = G.igraph_graph()
sage: %timeit I.pagerank()
```

gives following error


```
        filename = 0x7ffc0bef5337 "/home/rajat/new_version/sage-8.7.beta6/src/bin/sage-ipython"
        module = 0x0
        fp = 0x1b033f0
        p = <optimized out>
        unbuffered = 0
        skipfirstline = 0
        stdin_is_interactive = 1
        help = <optimized out>
        version = <optimized out>
        saw_unbuffered_flag = <optimized out>
        cf = {cf_flags = 0}
#78 0x00007ff538f15830 in __libc_start_main (main=0x4006f0 <main>, argc=3, 
    argv=0x7ffc0bef4708, init=<optimized out>, fini=<optimized out>, 
    rtld_fini=<optimized out>, stack_end=0x7ffc0bef46f8)
    at ../csu/libc-start.c:291
        result = <optimized out>
        unwind_buf = {cancel_jmp_buf = {{jmp_buf = {0, 164082578521821197, 
                4196096, 140720508716800, 0, 0, -162438125174419443, 
                -167616841612554227}, mask_was_saved = 0}}, priv = {pad = {
              0x0, 0x0, 0x0, 0x0}, data = {prev = 0x0, cleanup = 0x0, 
              canceltype = 0}}}
        not_first_call = <optimized out>
#79 0x0000000000400729 in _start ()
No symbol table info available.


Cython backtrace
----------------

29	../sysdeps/unix/sysv/linux/waitpid.c: No such file or directory.
Traceback (most recent call last):
  File "<string>", line 56, in <module>
  File "/usr/lib/python3/dist-packages/Cython/Debugger/libcython.py", line 689, in invoke
    for arg in string_to_argv(args):
TypeError: argument 1 must be str, not bytes
Saved trace to /home/rajat/.sage/crash_logs/crash_L9MmKW.log
------------------------------------------------------------------------
Unhandled SIGSEGV: A segmentation fault occurred.
This probably occurred because a *compiled* module has a bug
in it and is not properly wrapped with sig_on(), sig_off().
Python will now terminate.
------------------------------------------------------------------------
Segmentation fault (core dumped)
```

Also see https://groups.google.com/forum/#!topic/sage-devel/NtVP5AQgqNs

---

updates, tarballs:
https://github.com/dimpase/igraph/releases/download/0.7.1999/igraph-0.7.1999.tar.gz
and
https://github.com/dimpase/python-igraph/releases/download/0.7.1999/python_igraph-0.7.1999.tar.gz

Upstream: **Fixed upstream, but not in a stable release.**

CC:  @dimpase @dcoudert

Component: **packages: optional**

Author: **Dima Pasechnik**

Branch/Commit: **[`721ccc3`](https://github.com/sagemath/sagetrac-mirror/commit/721ccc33fa39015893f7b75200ec01d2256694d7)**

Reviewer: **David Coudert**

_Issue created by migration from https://trac.sagemath.org/ticket/27502_





---

archive/issue_events_374728.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-16T13:27:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27502#event-374728"
}
```



---

archive/issue_events_374729.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-16T13:27:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "0000b0",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27502#event-374729"
}
```



---

archive/issue_events_374730.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-16T13:27:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27502#event-374730"
}
```



---

archive/issue_events_374731.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-16T13:28:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27502#event-374731"
}
```



---

archive/issue_comments_425802.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nUsing latest code from both https://github.com/igraph/igraph.git and https://github.com/igraph/python-igraph.git  I get\n\n```\nsage: G = graphs.RandomGNP(1000, .01)\nsage: I = G.igraph_graph()\nsage: %timeit I.pagerank()\n1.27 ms \u00b1 13.4 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 1000 loops each)\n```\nSo upstream have fixed some bugs already",
    "created_at": "2019-03-18T10:02:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425802",
    "user": "https://github.com/sheerluck"
}
```

<div id="comment:4" align="right">comment:4</div>

Using latest code from both https://github.com/igraph/igraph.git and https://github.com/igraph/python-igraph.git  I get

```
sage: G = graphs.RandomGNP(1000, .01)
sage: I = G.igraph_graph()
sage: %timeit I.pagerank()
1.27 ms ± 13.4 µs per loop (mean ± std. dev. of 7 runs, 1000 loops each)
```
So upstream have fixed some bugs already



---

archive/issue_comments_425803.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThank you for reporting this. So we must update `igraph`.\n\n@dimpase: I have never tried to add or update an external package. Your help is more than welcome :P",
    "created_at": "2019-03-18T10:08:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425803",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:5" align="right">comment:5</div>

Thank you for reporting this. So we must update `igraph`.

@dimpase: I have never tried to add or update an external package. Your help is more than welcome :P



---

archive/issue_comments_425804.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nFor some reason, upstream closed https://github.com/igraph/igraph/issues/636, providing a workaround (using `perzonalized_pagerank()` instead), rather than a fix...",
    "created_at": "2019-03-18T10:23:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425804",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:6" align="right">comment:6</div>

For some reason, upstream closed https://github.com/igraph/igraph/issues/636, providing a workaround (using `perzonalized_pagerank()` instead), rather than a fix...



---

archive/issue_comments_425805.json:
```json
{
    "body": "Upstream: **Reported upstream. No feedback yet.**",
    "created_at": "2019-03-18T10:23:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425805",
    "user": "https://github.com/dimpase"
}
```

Upstream: **Reported upstream. No feedback yet.**



---

archive/issue_comments_425806.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI'd like to wait for upstream to react - update packages using git repos rather than upstream tarballs is a bit of a hassle.",
    "created_at": "2019-03-18T10:26:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425806",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:7" align="right">comment:7</div>

I'd like to wait for upstream to react - update packages using git repos rather than upstream tarballs is a bit of a hassle.



---

archive/issue_comments_425807.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nOK, upstream says it's fixed, but not in a release, and new releases won't appear any time soon.\n`@`rajat1433 - could you make github forks and create new releases there, or I can do this, whatever you prefer.",
    "created_at": "2019-03-18T17:01:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425807",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:8" align="right">comment:8</div>

OK, upstream says it's fixed, but not in a release, and new releases won't appear any time soon.
`@`rajat1433 - could you make github forks and create new releases there, or I can do this, whatever you prefer.



---

archive/issue_comments_425808.json:
```json
{
    "body": "Changed upstream from **Reported upstream. No feedback yet.** to **Fixed upstream, but not in a stable release.**",
    "created_at": "2019-03-18T17:01:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425808",
    "user": "https://github.com/dimpase"
}
```

Changed upstream from **Reported upstream. No feedback yet.** to **Fixed upstream, but not in a stable release.**



---

archive/issue_comments_425809.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@dimpase](#comment%3A8):\n> OK, upstream says it's fixed, but not in a release, and new releases won't appear any time soon.\n> `@`rajat1433 - could you make github forks and create new releases there, or I can do this, whatever you prefer.\n\nI don't have much of an experience in creating new releases. If you can guide me through steps I can do it. But since you have an experience you can do it faster so your help is more than welcome.",
    "created_at": "2019-03-18T17:07:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425809",
    "user": "https://github.com/rajat1433"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@dimpase](#comment%3A8):
> OK, upstream says it's fixed, but not in a release, and new releases won't appear any time soon.
> `@`rajat1433 - could you make github forks and create new releases there, or I can do this, whatever you prefer.

I don't have much of an experience in creating new releases. If you can guide me through steps I can do it. But since you have an experience you can do it faster so your help is more than welcome.



---

archive/issue_comments_425810.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nWe could just cherry-pick https://github.com/igraph/igraph/commit/923974d7520bc49a6b52d34700fb25f0cea66718 taking a snapshot is much more risky and may imply changes of behavior.",
    "created_at": "2019-03-18T19:50:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425810",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:10" align="right">comment:10</div>

We could just cherry-pick https://github.com/igraph/igraph/commit/923974d7520bc49a6b52d34700fb25f0cea66718 taking a snapshot is much more risky and may imply changes of behavior.



---

archive/issue_comments_425811.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI've managed to make a tarball from the master that also passes the testsuite (SAGE_CHECK=yes ./sage -f igraph)\nit's here https://github.com/dimpase/igraph/releases/tag/0.7.1999",
    "created_at": "2019-03-18T19:57:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425811",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:11" align="right">comment:11</div>

I've managed to make a tarball from the master that also passes the testsuite (SAGE_CHECK=yes ./sage -f igraph)
it's here https://github.com/dimpase/igraph/releases/tag/0.7.1999



---

archive/issue_comments_425812.json:
```json
{
    "body": "Commit: **[`721ccc3`](https://github.com/sagemath/sagetrac-mirror/commit/721ccc33fa39015893f7b75200ec01d2256694d7)**",
    "created_at": "2019-03-18T22:09:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425812",
    "user": "https://github.com/dimpase"
}
```

Commit: **[`721ccc3`](https://github.com/sagemath/sagetrac-mirror/commit/721ccc33fa39015893f7b75200ec01d2256694d7)**



---

archive/issue_comments_425813.json:
```json
{
    "body": "Branch: **[u/dimpase/packages/igraph_etc](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/igraph_etc)**",
    "created_at": "2019-03-18T22:09:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425813",
    "user": "https://github.com/dimpase"
}
```

Branch: **[u/dimpase/packages/igraph_etc](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/igraph_etc)**



---

archive/issue_comments_425814.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nplease review these, and test on OSX. On Linux this passes both `SAGE_CHECK=yes ./sage -f igraph python_igraph` and \nthe relevant doctests in src/sage/graphs/ \n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/721ccc33fa39015893f7b75200ec01d2256694d7\"><code>721ccc3</code></a></td><td><code>updated igraph and python_igraph to master</code></td></tr></table>\n",
    "created_at": "2019-03-18T22:09:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425814",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:12" align="right">comment:12</div>

please review these, and test on OSX. On Linux this passes both `SAGE_CHECK=yes ./sage -f igraph python_igraph` and 
the relevant doctests in src/sage/graphs/ 

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/721ccc33fa39015893f7b75200ec01d2256694d7"><code>721ccc3</code></a></td><td><code>updated igraph and python_igraph to master</code></td></tr></table>




---

archive/issue_events_374732.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-03-18T22:09:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27502#event-374732"
}
```



---

archive/issue_comments_425815.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -56,3 +56,10 @@\n ```\n \n Also see https://groups.google.com/forum/#!topic/sage-devel/NtVP5AQgqNs\n+\n+---\n+\n+updates, tarballs:\n+https://github.com/dimpase/igraph/releases/download/0.7.1999/igraph-0.7.1999.1.tar.gz\n+and\n+https://github.com/dimpase/python-igraph/releases/download/0.7.1999/python_igraph-0.7.1999.tar.gz\n``````\n",
    "created_at": "2019-03-18T22:09:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425815",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -56,3 +56,10 @@
 ```
 
 Also see https://groups.google.com/forum/#!topic/sage-devel/NtVP5AQgqNs
+
+---
+
+updates, tarballs:
+https://github.com/dimpase/igraph/releases/download/0.7.1999/igraph-0.7.1999.1.tar.gz
+and
+https://github.com/dimpase/python-igraph/releases/download/0.7.1999/python_igraph-0.7.1999.tar.gz
``````




---

archive/issue_comments_425816.json:
```json
{
    "body": "Author: **Dima Pasechnik**",
    "created_at": "2019-03-18T22:10:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425816",
    "user": "https://github.com/dimpase"
}
```

Author: **Dima Pasechnik**



---

archive/issue_comments_425817.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nWhat's the right set of instructions to test this patch (I have never done that yet, or I don't remember). Thanks.",
    "created_at": "2019-03-19T14:44:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425817",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:14" align="right">comment:14</div>

What's the right set of instructions to test this patch (I have never done that yet, or I don't remember). Thanks.



---

archive/issue_comments_425818.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nYou need to download the linked tarballs to upstream/\nAnd the usual git thing, naturally.",
    "created_at": "2019-03-19T14:52:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425818",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:15" align="right">comment:15</div>

You need to download the linked tarballs to upstream/
And the usual git thing, naturally.



---

archive/issue_comments_425819.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nAnd `./sage -f python_igraph`",
    "created_at": "2019-03-19T14:55:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425819",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:16" align="right">comment:16</div>

And `./sage -f python_igraph`



---

archive/issue_comments_425820.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nThank you.\n\nI add to rename file https://github.com/dimpase/igraph/releases/download/0.7.1999/igraph-0.7.1999.1.tar.gz to https://github.com/dimpase/igraph/releases/download/0.7.1999/igraph-0.7.1999.tar.gz (so `.1.tar.gz` -> `.tar.gz`)\n\nThen everything is working well and I can do\n\n```\nsage: G = graphs.PetersenGraph()\nsage: I = G.igraph_graph()\nsage: I.pagerank()\n[0.09999999999999999,\n 0.09999999999999999,\n 0.10000000000000002,\n 0.10000000000000002,\n 0.1,\n 0.1,\n 0.1,\n 0.09999999999999999,\n 0.1,\n 0.09999999999999999]\n```\n\nSomeone should double check on linux.",
    "created_at": "2019-03-19T15:12:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425820",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:17" align="right">comment:17</div>

Thank you.

I add to rename file https://github.com/dimpase/igraph/releases/download/0.7.1999/igraph-0.7.1999.1.tar.gz to https://github.com/dimpase/igraph/releases/download/0.7.1999/igraph-0.7.1999.tar.gz (so `.1.tar.gz` -> `.tar.gz`)

Then everything is working well and I can do

```
sage: G = graphs.PetersenGraph()
sage: I = G.igraph_graph()
sage: I.pagerank()
[0.09999999999999999,
 0.09999999999999999,
 0.10000000000000002,
 0.10000000000000002,
 0.1,
 0.1,
 0.1,
 0.09999999999999999,
 0.1,
 0.09999999999999999]
```

Someone should double check on linux.



---

archive/issue_comments_425821.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nYep, a typo in file name, sorry. Fixed.",
    "created_at": "2019-03-19T15:20:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425821",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:18" align="right">comment:18</div>

Yep, a typo in file name, sorry. Fixed.



---

archive/issue_comments_425822.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -60,6 +60,6 @@\n ---\n \n updates, tarballs:\n-https://github.com/dimpase/igraph/releases/download/0.7.1999/igraph-0.7.1999.1.tar.gz\n+https://github.com/dimpase/igraph/releases/download/0.7.1999/igraph-0.7.1999.tar.gz\n and\n https://github.com/dimpase/python-igraph/releases/download/0.7.1999/python_igraph-0.7.1999.tar.gz\n``````\n",
    "created_at": "2019-03-19T15:20:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425822",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -60,6 +60,6 @@
 ---
 
 updates, tarballs:
-https://github.com/dimpase/igraph/releases/download/0.7.1999/igraph-0.7.1999.1.tar.gz
+https://github.com/dimpase/igraph/releases/download/0.7.1999/igraph-0.7.1999.tar.gz
 and
 https://github.com/dimpase/python-igraph/releases/download/0.7.1999/python_igraph-0.7.1999.tar.gz
``````




---

archive/issue_comments_425823.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI'm no able to access https://github.com/dimpase/igraph/releases/download/0.7.1999/igraph-0.7.1999.tar.gz",
    "created_at": "2019-03-19T16:37:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425823",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:19" align="right">comment:19</div>

I'm no able to access https://github.com/dimpase/igraph/releases/download/0.7.1999/igraph-0.7.1999.tar.gz



---

archive/issue_comments_425824.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nSorry, my fault. Please try now (and check that it is identical to the one you renamed).",
    "created_at": "2019-03-19T16:45:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425824",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:20" align="right">comment:20</div>

Sorry, my fault. Please try now (and check that it is identical to the one you renamed).



---

archive/issue_comments_425825.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nFor me the files are the same.\n\nI tried on a linux computer and it's working well. I can use the pagerank method of igraph.\n\nFor me this patch is good to go. Should we update the ticket title and description before setting it to positive review?",
    "created_at": "2019-03-19T17:31:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425825",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:21" align="right">comment:21</div>

For me the files are the same.

I tried on a linux computer and it's working well. I can use the pagerank method of igraph.

For me this patch is good to go. Should we update the ticket title and description before setting it to positive review?



---

archive/issue_comments_425826.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nHow about we add a doctest with pagenumber computation?",
    "created_at": "2019-03-19T19:23:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425826",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:22" align="right">comment:22</div>

How about we add a doctest with pagenumber computation?



---

archive/issue_comments_425827.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nShould we really? We had those conversations in the last few weeks. Do we really want to add tests to sage about bugs in upstream packages? No, if anything the test belongs to the upstream package. This is a case in point and adding a test to sage is scope creep.",
    "created_at": "2019-03-19T20:00:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425827",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:23" align="right">comment:23</div>

Should we really? We had those conversations in the last few weeks. Do we really want to add tests to sage about bugs in upstream packages? No, if anything the test belongs to the upstream package. This is a case in point and adding a test to sage is scope creep.



---

archive/issue_comments_425828.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nWe plan to add method pagerank to generic graphs. It will call either methods of networkx (pure Python, or using numpy or scipy), or if installed igraph. So we will certainly have a test to check that it's working well, as we have with other optional packages (e.g., bliss, tdlib, etc.).",
    "created_at": "2019-03-19T20:29:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425828",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:24" align="right">comment:24</div>

We plan to add method pagerank to generic graphs. It will call either methods of networkx (pure Python, or using numpy or scipy), or if installed igraph. So we will certainly have a test to check that it's working well, as we have with other optional packages (e.g., bliss, tdlib, etc.).



---

archive/issue_comments_425829.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nThat is fine, you are just checking that sage works, not that an upstream package as been fixed through sage.",
    "created_at": "2019-03-19T20:31:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425829",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:25" align="right">comment:25</div>

That is fine, you are just checking that sage works, not that an upstream package as been fixed through sage.



---

archive/issue_comments_425830.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nFor what it's worth, with this branch I get two failures when I do `sage -f -c igraph` on OS X Mojave:\n\n```\n...\n124: Merging layouts 2 (igraph_i_layout_merge):      FAILED (layout.at:62)\n...\n241: SCG of a graph, stochastic matrix (igraph_scg) : FAILED (scg.at:73)\n...\nERROR: 249 tests were run,\n2 failed unexpectedly.\n2 tests were skipped.\n## -------------------------- ##\n## testsuite.log was created. ##\n## -------------------------- ##\n```\nThe previous version of `igraph` failed two other (?) tests, so I don't think the new failures should necessarily be an obstacle for a positive review. Failures from old version:\n\n```\n...\n 25: Sparse matrix, solvers (igraph_sparsemat_t):    FAILED (types.at:148)\n...\n 32: Another sparse matrix (igraph_spmatrix_t):      FAILED (types.at:183)\n...\nERROR: All 234 tests were run,\n2 failed unexpectedly.\n## -------------------------- ##\n## testsuite.log was created. ##\n## -------------------------- ##\n```",
    "created_at": "2019-03-19T20:42:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425830",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:26" align="right">comment:26</div>

For what it's worth, with this branch I get two failures when I do `sage -f -c igraph` on OS X Mojave:

```
...
124: Merging layouts 2 (igraph_i_layout_merge):      FAILED (layout.at:62)
...
241: SCG of a graph, stochastic matrix (igraph_scg) : FAILED (scg.at:73)
...
ERROR: 249 tests were run,
2 failed unexpectedly.
2 tests were skipped.
## -------------------------- ##
## testsuite.log was created. ##
## -------------------------- ##
```
The previous version of `igraph` failed two other (?) tests, so I don't think the new failures should necessarily be an obstacle for a positive review. Failures from old version:

```
...
 25: Sparse matrix, solvers (igraph_sparsemat_t):    FAILED (types.at:148)
...
 32: Another sparse matrix (igraph_spmatrix_t):      FAILED (types.at:183)
...
ERROR: All 234 tests were run,
2 failed unexpectedly.
## -------------------------- ##
## testsuite.log was created. ##
## -------------------------- ##
```



---

archive/issue_comments_425831.json:
```json
{
    "body": "Reviewer: **David Coudert**",
    "created_at": "2019-03-20T12:57:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425831",
    "user": "https://github.com/dcoudert"
}
```

Reviewer: **David Coudert**



---

archive/issue_comments_425832.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nI also tried `sage -f -c igraph` with \n- 0 error a linux computer (fedora 28) equipped with 2 4-cores Intel(R) Xeon(R) CPU W5580  @ 3.20GHz (10 years old, but still operational) \n- 2 errors an OSX laptop, same as in #comment:26\n\nI set this ticket as positive review. It fixes some issues, and I don't know where pre-existing issues come from.",
    "created_at": "2019-03-20T12:57:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425832",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:27" align="right">comment:27</div>

I also tried `sage -f -c igraph` with 
- 0 error a linux computer (fedora 28) equipped with 2 4-cores Intel(R) Xeon(R) CPU W5580  @ 3.20GHz (10 years old, but still operational) 
- 2 errors an OSX laptop, same as in #comment:26

I set this ticket as positive review. It fixes some issues, and I don't know where pre-existing issues come from.



---

archive/issue_events_374733.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-03-20T12:57:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27502#event-374733"
}
```



---

archive/issue_events_374734.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-03-20T12:57:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27502#event-374734"
}
```



---

archive/issue_comments_425833.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nTicket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425833",
    "user": "https://github.com/embray"
}
```

<div id="comment:28" align="right">comment:28</div>

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_events_374735.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27502#event-374735"
}
```



---

archive/issue_events_374736.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27502#event-374736"
}
```



---

archive/issue_events_374737.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-03-25T19:43:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27502#event-374737"
}
```



---

archive/issue_events_374738.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "2c7924db9b38cc800ee51f09443485ca78660975",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-03-25T19:43:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27502#event-374738"
}
```



---

archive/issue_comments_425834.json:
```json
{
    "body": "Changed branch from **[u/dimpase/packages/igraph_etc](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/igraph_etc)** to **[`721ccc3`](https://github.com/sagemath/sagetrac-mirror/commit/721ccc33fa39015893f7b75200ec01d2256694d7)**",
    "created_at": "2019-03-25T19:43:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27502",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27502#issuecomment-425834",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/dimpase/packages/igraph_etc](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/igraph_etc)** to **[`721ccc3`](https://github.com/sagemath/sagetrac-mirror/commit/721ccc33fa39015893f7b75200ec01d2256694d7)**
