# Issue 27001: py3: fix pip_installed_packages

archive/issues_026764.json:
```json
{
    "assignees": [],
    "body": "by using pip3 when appropriate\n\n**CC:**  @embray @jdemeyer\n\n**Branch/Commit:** [b3722ac58a78ff4ab30111da4d6a895c18b63211](https://github.com/sagemath/sagetrac-mirror/commit/b3722ac58a78ff4ab30111da4d6a895c18b63211)\n\n**Reviewer:** Erik Bray\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/27001\n\n",
    "closed_at": "2019-03-02T09:38:26Z",
    "created_at": "2019-01-02T15:42:10Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20python3",
        "https://github.com/sagemath/sage/labels/minor",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "py3: fix pip_installed_packages",
    "type": "issue",
    "updated_at": "2019-03-02T09:38:26Z",
    "url": "https://github.com/sagemath/sage/issues/27001",
    "user": "https://github.com/fchapoton"
}
```
by using pip3 when appropriate

**CC:**  @embray @jdemeyer

**Branch/Commit:** [b3722ac58a78ff4ab30111da4d6a895c18b63211](https://github.com/sagemath/sagetrac-mirror/commit/b3722ac58a78ff4ab30111da4d6a895c18b63211)

**Reviewer:** Erik Bray

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/27001





---

archive/issue_events_324123.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-01-02T15:42:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27001#event-324123"
}
```



---

archive/issue_events_324124.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-01-02T15:42:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20python3",
    "label_color": "08517b",
    "label_name": "component: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27001#event-324124"
}
```



---

archive/issue_events_324125.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-01-02T15:42:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27001#event-324125"
}
```



---

archive/issue_comments_419050.json:
```json
{
    "body": "<a id='comment:1'>**Comment 1:**</a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a06f005ecdf70d790b104c314aaee5cf8427a216\">a06f005</a></td><td><code>fix choice of pip in pip_installed_packages</code></td></tr></table>\n",
    "created_at": "2019-01-02T15:42:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419050",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'>**Comment 1:**</a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a06f005ecdf70d790b104c314aaee5cf8427a216">a06f005</a></td><td><code>fix choice of pip in pip_installed_packages</code></td></tr></table>




---

archive/issue_events_324126.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-01-02T15:42:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27001#event-324126"
}
```



---

archive/issue_comments_419051.json:
```json
{
    "body": "**Commit:** [a06f005ecdf70d790b104c314aaee5cf8427a216](https://github.com/sagemath/sagetrac-mirror/commit/a06f005ecdf70d790b104c314aaee5cf8427a216)",
    "created_at": "2019-01-02T15:42:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419051",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [a06f005ecdf70d790b104c314aaee5cf8427a216](https://github.com/sagemath/sagetrac-mirror/commit/a06f005ecdf70d790b104c314aaee5cf8427a216)



---

archive/issue_comments_419052.json:
```json
{
    "body": "**Branch:** [u/chapoton/27001](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/27001)",
    "created_at": "2019-01-02T15:42:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419052",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/27001](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/27001)



---

archive/issue_comments_419053.json:
```json
{
    "body": "<a id='comment:2'>**Comment 2:**</a>\nThis should really be\n\n```diff\ndiff --git a/src/sage/misc/package.py b/src/sage/misc/package.py\nindex 689e5a2..f7bfbc4 100644\n--- a/src/sage/misc/package.py\n+++ b/src/sage/misc/package.py\n@@ -48,6 +48,7 @@ from sage.env import SAGE_ROOT, SAGE_PKGS\n import json\n import os\n import subprocess\n+import sys\n try:\n     # Python 3.3+\n     from urllib.request import urlopen\n@@ -142,9 +143,12 @@ def pip_installed_packages():\n         sage: d['beautifulsoup']   # optional - beautifulsoup\n         u'...'\n     \"\"\"\n-    proc = subprocess.Popen([\"pip\", \"list\", \"--no-index\", \"--format\", \"json\"],\n+    proc = subprocess.Popen([sys.executable, \"-m\", \"pip\", \"list\", \"--no-index\",\n+                             \"--format\", \"json\"], stdout=subprocess.PIPE)\n     stdout = proc.communicate()[0].decode()\n-    return {package['name'].lower():package['version'] for package in json.load\n+    return {package['name'].lower(): package['version']\n+            for package in json.loads(stdout)}\n+\n\n def list_packages(*pkg_types, **opts):\n     r\"\"\"\n```\n\nApparently I already had this fix in my python3 branch: I apologize for forgetting to make a ticket for it.",
    "created_at": "2019-01-02T15:47:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419053",
    "user": "https://github.com/embray"
}
```

<a id='comment:2'>**Comment 2:**</a>
This should really be

```diff
diff --git a/src/sage/misc/package.py b/src/sage/misc/package.py
index 689e5a2..f7bfbc4 100644
--- a/src/sage/misc/package.py
+++ b/src/sage/misc/package.py
@@ -48,6 +48,7 @@ from sage.env import SAGE_ROOT, SAGE_PKGS
 import json
 import os
 import subprocess
+import sys
 try:
     # Python 3.3+
     from urllib.request import urlopen
@@ -142,9 +143,12 @@ def pip_installed_packages():
         sage: d['beautifulsoup']   # optional - beautifulsoup
         u'...'
     """
-    proc = subprocess.Popen(["pip", "list", "--no-index", "--format", "json"],
+    proc = subprocess.Popen([sys.executable, "-m", "pip", "list", "--no-index",
+                             "--format", "json"], stdout=subprocess.PIPE)
     stdout = proc.communicate()[0].decode()
-    return {package['name'].lower():package['version'] for package in json.load
+    return {package['name'].lower(): package['version']
+            for package in json.loads(stdout)}
+

 def list_packages(*pkg_types, **opts):
     r"""
```

Apparently I already had this fix in my python3 branch: I apologize for forgetting to make a ticket for it.



---

archive/issue_events_324127.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-02T15:47:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27001#event-324127"
}
```



---

archive/issue_events_324128.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-02T15:47:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27001#event-324128"
}
```



---

archive/issue_comments_419054.json:
```json
{
    "body": "**Changing commit** from \"[a06f005ecdf70d790b104c314aaee5cf8427a216](https://github.com/sagemath/sagetrac-mirror/commit/a06f005ecdf70d790b104c314aaee5cf8427a216)\" to \"[d5040c0b4ad10323909d0642143d3a16bea41b54](https://github.com/sagemath/sagetrac-mirror/commit/d5040c0b4ad10323909d0642143d3a16bea41b54)\".",
    "created_at": "2019-01-02T15:52:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419054",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[a06f005ecdf70d790b104c314aaee5cf8427a216](https://github.com/sagemath/sagetrac-mirror/commit/a06f005ecdf70d790b104c314aaee5cf8427a216)" to "[d5040c0b4ad10323909d0642143d3a16bea41b54](https://github.com/sagemath/sagetrac-mirror/commit/d5040c0b4ad10323909d0642143d3a16bea41b54)".



---

archive/issue_comments_419055.json:
```json
{
    "body": "<a id='comment:3'>**Comment 3:**</a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5040c0b4ad10323909d0642143d3a16bea41b54\">d5040c0</a></td><td><code>fix choice of pip in pip_installed_packages</code></td></tr></table>\n",
    "created_at": "2019-01-02T15:52:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419055",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:3'>**Comment 3:**</a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5040c0b4ad10323909d0642143d3a16bea41b54">d5040c0</a></td><td><code>fix choice of pip in pip_installed_packages</code></td></tr></table>




---

archive/issue_comments_419056.json:
```json
{
    "body": "<a id='comment:4'>**Comment 4:**</a>\ndone",
    "created_at": "2019-01-02T15:53:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419056",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'>**Comment 4:**</a>
done



---

archive/issue_events_324129.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-01-02T15:53:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27001#event-324129"
}
```



---

archive/issue_events_324130.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-01-02T15:53:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27001#event-324130"
}
```



---

archive/issue_events_324131.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-02T15:56:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "label": "https://github.com/sagemath/sage/labels/minor",
    "label_color": "ff0000",
    "label_name": "minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27001#event-324131"
}
```



---

archive/issue_comments_419057.json:
```json
{
    "body": "**Reviewer:** Erik Bray",
    "created_at": "2019-01-02T15:56:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419057",
    "user": "https://github.com/embray"
}
```

**Reviewer:** Erik Bray



---

archive/issue_events_324132.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-02T15:56:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27001#event-324132"
}
```



---

archive/issue_events_324133.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-02T15:56:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27001#event-324133"
}
```



---

archive/issue_events_324134.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-02T15:56:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27001#event-324134"
}
```



---

archive/issue_events_324135.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-02T15:56:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "008080",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27001#event-324135"
}
```



---

archive/issue_comments_419058.json:
```json
{
    "body": "<a id='comment:5'>**Comment 5:**</a>\nOk thanks!",
    "created_at": "2019-01-02T15:56:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419058",
    "user": "https://github.com/embray"
}
```

<a id='comment:5'>**Comment 5:**</a>
Ok thanks!



---

archive/issue_events_324136.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:16:10Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27001#event-324136"
}
```



---

archive/issue_events_324137.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:16:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27001#event-324137"
}
```



---

archive/issue_comments_419059.json:
```json
{
    "body": "<a id='comment:6'>**Comment 6:**</a>\nRetarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.",
    "created_at": "2019-01-15T18:16:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419059",
    "user": "https://github.com/embray"
}
```

<a id='comment:6'>**Comment 6:**</a>
Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.



---

archive/issue_events_324138.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-26T15:52:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27001#event-324138"
}
```



---

archive/issue_events_324139.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-26T15:52:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27001#event-324139"
}
```



---

archive/issue_comments_419060.json:
```json
{
    "body": "<a id='comment:7'>**Comment 7:**</a>\n\n```\nsage -t --long src/sage/tests/cmdline.py\n**********************************************************************\nFile \"src/sage/tests/cmdline.py\", line 412, in sage.tests.cmdline.test_executable\nFailed example:\n    print(err)\nExpected:\n    Traceback (most recent call last):\n    ...\n    RuntimeError: refusing to run doctests...\nGot:\n    sys:1: RuntimeWarning: not adding directory '' to sys.path since everybody can write to it.\n    Untrusted users could put files in this directory which might then be imported by your Python code. As a general precaution from similar exploits, you should not execute Python code from this directory\n    Traceback (most recent call last):\n      File \"/var/lib/buildbot/slave/sage_git/build/src/bin/sage-runtests\", line 163, in <module>\n        err = DC.run()\n      File \"/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/control.py\", line 1200, in run\n        self.test_safe_directory()\n      File \"/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/control.py\", line 643, in test_safe_directory\n        .format(os.getcwd()))\n    RuntimeError: refusing to run doctests from the current directory '/var/lib/buildbot/.sage/temp/kucalc/160488/dir_OqlYHZ/test' since untrusted users could put files in this directory, making it unsafe to run Sage code from\n    <BLANKLINE>\n**********************************************************************\nFile \"src/sage/tests/cmdline.py\", line 417, in sage.tests.cmdline.test_executable\nFailed example:\n    print(err)\nExpected:\n    Traceback (most recent call last):\n    ...\n    RuntimeError: refusing to run doctests...\nGot:\n    sys:1: RuntimeWarning: not adding directory '' to sys.path since everybody can write to it.\n    Untrusted users could put files in this directory which might then be imported by your Python code. As a general precaution from similar exploits, you should not execute Python code from this directory\n    Traceback (most recent call last):\n      File \"/var/lib/buildbot/slave/sage_git/build/src/bin/sage-runtests\", line 163, in <module>\n        err = DC.run()\n      File \"/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/control.py\", line 1200, in run\n        self.test_safe_directory()\n      File \"/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/control.py\", line 643, in test_safe_directory\n        .format(os.getcwd()))\n    RuntimeError: refusing to run doctests from the current directory '/var/lib/buildbot/.sage/temp/kucalc/160488/dir_OqlYHZ/test' since untrusted users could put files in this directory, making it unsafe to run Sage code from\n    <BLANKLINE>\n**********************************************************************\n1 item had failures:\n   2 of 251 in sage.tests.cmdline.test_executable\n    [250 tests, 2 failures, 41.92 s]\n----------------------------------------------------------------------\nsage -t --long src/sage/tests/cmdline.py  # 2 doctests failed\n----------------------------------------------------------------------\n```",
    "created_at": "2019-01-26T15:52:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419060",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:7'>**Comment 7:**</a>

```
sage -t --long src/sage/tests/cmdline.py
**********************************************************************
File "src/sage/tests/cmdline.py", line 412, in sage.tests.cmdline.test_executable
Failed example:
    print(err)
Expected:
    Traceback (most recent call last):
    ...
    RuntimeError: refusing to run doctests...
Got:
    sys:1: RuntimeWarning: not adding directory '' to sys.path since everybody can write to it.
    Untrusted users could put files in this directory which might then be imported by your Python code. As a general precaution from similar exploits, you should not execute Python code from this directory
    Traceback (most recent call last):
      File "/var/lib/buildbot/slave/sage_git/build/src/bin/sage-runtests", line 163, in <module>
        err = DC.run()
      File "/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/control.py", line 1200, in run
        self.test_safe_directory()
      File "/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/control.py", line 643, in test_safe_directory
        .format(os.getcwd()))
    RuntimeError: refusing to run doctests from the current directory '/var/lib/buildbot/.sage/temp/kucalc/160488/dir_OqlYHZ/test' since untrusted users could put files in this directory, making it unsafe to run Sage code from
    <BLANKLINE>
**********************************************************************
File "src/sage/tests/cmdline.py", line 417, in sage.tests.cmdline.test_executable
Failed example:
    print(err)
Expected:
    Traceback (most recent call last):
    ...
    RuntimeError: refusing to run doctests...
Got:
    sys:1: RuntimeWarning: not adding directory '' to sys.path since everybody can write to it.
    Untrusted users could put files in this directory which might then be imported by your Python code. As a general precaution from similar exploits, you should not execute Python code from this directory
    Traceback (most recent call last):
      File "/var/lib/buildbot/slave/sage_git/build/src/bin/sage-runtests", line 163, in <module>
        err = DC.run()
      File "/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/control.py", line 1200, in run
        self.test_safe_directory()
      File "/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/sage/doctest/control.py", line 643, in test_safe_directory
        .format(os.getcwd()))
    RuntimeError: refusing to run doctests from the current directory '/var/lib/buildbot/.sage/temp/kucalc/160488/dir_OqlYHZ/test' since untrusted users could put files in this directory, making it unsafe to run Sage code from
    <BLANKLINE>
**********************************************************************
1 item had failures:
   2 of 251 in sage.tests.cmdline.test_executable
    [250 tests, 2 failures, 41.92 s]
----------------------------------------------------------------------
sage -t --long src/sage/tests/cmdline.py  # 2 doctests failed
----------------------------------------------------------------------
```



---

archive/issue_comments_419061.json:
```json
{
    "body": "<a id='comment:8'>**Comment 8:**</a>\nErik or Jeroen, any idea on how to fix that ?",
    "created_at": "2019-01-27T19:22:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419061",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'>**Comment 8:**</a>
Erik or Jeroen, any idea on how to fix that ?



---

archive/issue_comments_419062.json:
```json
{
    "body": "<a id='comment:9'>**Comment 9:**</a>\nshould I just add `...` before the actual doctest ?",
    "created_at": "2019-01-29T08:35:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419062",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'>**Comment 9:**</a>
should I just add `...` before the actual doctest ?



---

archive/issue_comments_419063.json:
```json
{
    "body": "<a id='comment:10'>**Comment 10:**</a>\n#26457 has discussion about rewriting, if not entirely removing that test.",
    "created_at": "2019-01-29T17:16:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419063",
    "user": "https://github.com/embray"
}
```

<a id='comment:10'>**Comment 10:**</a>
#26457 has discussion about rewriting, if not entirely removing that test.



---

archive/issue_comments_419064.json:
```json
{
    "body": "<a id='comment:11'>**Comment 11:**</a>\nso what should we do here ?",
    "created_at": "2019-02-05T19:32:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419064",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'>**Comment 11:**</a>
so what should we do here ?



---

archive/issue_comments_419065.json:
```json
{
    "body": "<a id='comment:12'>**Comment 12:**</a>\nReplying to [@fchapoton](#comment%3A11):\n> so what should we do here ?\n\n(edited because original answer was wrong)\n\nIt seems that the doctest framework is using `pip_installed_packages` which is now causing Python to be run from an artificially unsafe directory. In this case, it's fine to just change the doctest output.",
    "created_at": "2019-02-06T09:25:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419065",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'>**Comment 12:**</a>
Replying to [@fchapoton](#comment%3A11):
> so what should we do here ?

(edited because original answer was wrong)

It seems that the doctest framework is using `pip_installed_packages` which is now causing Python to be run from an artificially unsafe directory. In this case, it's fine to just change the doctest output.



---

archive/issue_comments_419066.json:
```json
{
    "body": "<a id='comment:13'>**Comment 13:**</a>\nIf I add `...` at the beginning of the doctest output, then it passes with Python 2 but not Python 3 (which doesn't print the extra line `sys:1: RuntimeWarning: ...`).",
    "created_at": "2019-02-17T02:30:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419066",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:13'>**Comment 13:**</a>
If I add `...` at the beginning of the doctest output, then it passes with Python 2 but not Python 3 (which doesn't print the extra line `sys:1: RuntimeWarning: ...`).



---

archive/issue_comments_419067.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/27001](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/27001)\" to \"[u/jhpalmieri/27001](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/27001)\".",
    "created_at": "2019-02-21T17:20:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419067",
    "user": "https://github.com/jhpalmieri"
}
```

**Changing branch** from "[u/chapoton/27001](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/27001)" to "[u/jhpalmieri/27001](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/27001)".



---

archive/issue_events_324140.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2019-02-21T17:24:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27001#event-324140"
}
```



---

archive/issue_events_324141.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2019-02-21T17:24:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27001#event-324141"
}
```



---

archive/issue_comments_419068.json:
```json
{
    "body": "<a id='comment:15'>**Comment 15:**</a>\nI see two options: either\n\n```diff\ndiff --git a/src/sage/tests/cmdline.py b/src/sage/tests/cmdline.py\nindex df938c8211..a5e2e6fbbf 100644\n--- a/src/sage/tests/cmdline.py\n+++ b/src/sage/tests/cmdline.py\n@@ -409,12 +409,21 @@ def test_executable(args, input=\"\", timeout=100.0, **kwds):\n         sage: os.mkdir(d)\n         sage: os.chmod(d, 0o777)\n         sage: (out, err, ret) = test_executable([\"sage\", \"-t\", \"nonexisting.py\"], cwd=d)\n-        sage: print(err)\n+        sage: print(err) # py2\n+        ...\n+        Traceback (most recent call last):\n+        ...\n+        sage: print(err) # py3\n         Traceback (most recent call last):\n         ...\n         RuntimeError: refusing to run doctests...\n         sage: (out, err, ret) = test_executable([\"sage\", \"-tp\", \"1\", \"nonexisting.py\"], cwd=d)\n-        sage: print(err)\n+        sage: print(err) # py2\n+        ...\n+        Traceback (most recent call last):\n+        ...\n+        RuntimeError: refusing to run doctests...\n+        sage: print(err) # py3\n         Traceback (most recent call last):\n         ...\n         RuntimeError: refusing to run doctests...\n```\nor\n\n```diff\ndiff --git a/src/sage/tests/cmdline.py b/src/sage/tests/cmdline.py\nindex df938c8211..08bda7c435 100644\n--- a/src/sage/tests/cmdline.py\n+++ b/src/sage/tests/cmdline.py\n@@ -410,12 +410,10 @@ def test_executable(args, input=\"\", timeout=100.0, **kwds):\n         sage: os.chmod(d, 0o777)\n         sage: (out, err, ret) = test_executable([\"sage\", \"-t\", \"nonexisting.py\"], cwd=d)\n         sage: print(err)\n-        Traceback (most recent call last):\n         ...\n         RuntimeError: refusing to run doctests...\n         sage: (out, err, ret) = test_executable([\"sage\", \"-tp\", \"1\", \"nonexisting.py\"], cwd=d)\n         sage: print(err)\n-        Traceback (most recent call last):\n         ...\n         RuntimeError: refusing to run doctests...\n \n```\nHere is a branch using the second version.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cfefd2ee31b3dc2fccb05d4d660a687f8765a67e\">cfefd2e</a></td><td><code>fix choice of pip in pip_installed_packages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b3722ac58a78ff4ab30111da4d6a895c18b63211\">b3722ac</a></td><td><code>trac 27001: fix doctest</code></td></tr></table>\n",
    "created_at": "2019-02-21T17:24:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419068",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:15'>**Comment 15:**</a>
I see two options: either

```diff
diff --git a/src/sage/tests/cmdline.py b/src/sage/tests/cmdline.py
index df938c8211..a5e2e6fbbf 100644
--- a/src/sage/tests/cmdline.py
+++ b/src/sage/tests/cmdline.py
@@ -409,12 +409,21 @@ def test_executable(args, input="", timeout=100.0, **kwds):
         sage: os.mkdir(d)
         sage: os.chmod(d, 0o777)
         sage: (out, err, ret) = test_executable(["sage", "-t", "nonexisting.py"], cwd=d)
-        sage: print(err)
+        sage: print(err) # py2
+        ...
+        Traceback (most recent call last):
+        ...
+        sage: print(err) # py3
         Traceback (most recent call last):
         ...
         RuntimeError: refusing to run doctests...
         sage: (out, err, ret) = test_executable(["sage", "-tp", "1", "nonexisting.py"], cwd=d)
-        sage: print(err)
+        sage: print(err) # py2
+        ...
+        Traceback (most recent call last):
+        ...
+        RuntimeError: refusing to run doctests...
+        sage: print(err) # py3
         Traceback (most recent call last):
         ...
         RuntimeError: refusing to run doctests...
```
or

```diff
diff --git a/src/sage/tests/cmdline.py b/src/sage/tests/cmdline.py
index df938c8211..08bda7c435 100644
--- a/src/sage/tests/cmdline.py
+++ b/src/sage/tests/cmdline.py
@@ -410,12 +410,10 @@ def test_executable(args, input="", timeout=100.0, **kwds):
         sage: os.chmod(d, 0o777)
         sage: (out, err, ret) = test_executable(["sage", "-t", "nonexisting.py"], cwd=d)
         sage: print(err)
-        Traceback (most recent call last):
         ...
         RuntimeError: refusing to run doctests...
         sage: (out, err, ret) = test_executable(["sage", "-tp", "1", "nonexisting.py"], cwd=d)
         sage: print(err)
-        Traceback (most recent call last):
         ...
         RuntimeError: refusing to run doctests...
 
```
Here is a branch using the second version.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cfefd2ee31b3dc2fccb05d4d660a687f8765a67e">cfefd2e</a></td><td><code>fix choice of pip in pip_installed_packages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b3722ac58a78ff4ab30111da4d6a895c18b63211">b3722ac</a></td><td><code>trac 27001: fix doctest</code></td></tr></table>




---

archive/issue_comments_419069.json:
```json
{
    "body": "**Changing commit** from \"[d5040c0b4ad10323909d0642143d3a16bea41b54](https://github.com/sagemath/sagetrac-mirror/commit/d5040c0b4ad10323909d0642143d3a16bea41b54)\" to \"[b3722ac58a78ff4ab30111da4d6a895c18b63211](https://github.com/sagemath/sagetrac-mirror/commit/b3722ac58a78ff4ab30111da4d6a895c18b63211)\".",
    "created_at": "2019-02-21T17:24:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419069",
    "user": "https://github.com/jhpalmieri"
}
```

**Changing commit** from "[d5040c0b4ad10323909d0642143d3a16bea41b54](https://github.com/sagemath/sagetrac-mirror/commit/d5040c0b4ad10323909d0642143d3a16bea41b54)" to "[b3722ac58a78ff4ab30111da4d6a895c18b63211](https://github.com/sagemath/sagetrac-mirror/commit/b3722ac58a78ff4ab30111da4d6a895c18b63211)".



---

archive/issue_comments_419070.json:
```json
{
    "body": "<a id='comment:16'>**Comment 16:**</a>\nok, looks good to me. Jeroen, do you approve ?",
    "created_at": "2019-02-22T19:40:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419070",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'>**Comment 16:**</a>
ok, looks good to me. Jeroen, do you approve ?



---

archive/issue_comments_419071.json:
```json
{
    "body": "<a id='comment:17'>**Comment 17:**</a>\nI thought that the doctest parser got confused if we started a line with `...` (it would get confused with a continuation prompt like `....:`).  Or did we fix that?",
    "created_at": "2019-02-26T14:24:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419071",
    "user": "https://github.com/embray"
}
```

<a id='comment:17'>**Comment 17:**</a>
I thought that the doctest parser got confused if we started a line with `...` (it would get confused with a continuation prompt like `....:`).  Or did we fix that?



---

archive/issue_comments_419072.json:
```json
{
    "body": "<a id='comment:18'>**Comment 18:**</a>\nIt passes tests for me with Python 2 and Python 3, so I guess we fixed it.",
    "created_at": "2019-02-26T18:55:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419072",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:18'>**Comment 18:**</a>
It passes tests for me with Python 2 and Python 3, so I guess we fixed it.



---

archive/issue_events_324142.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-02-28T15:14:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27001#event-324142"
}
```



---

archive/issue_events_324143.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-02-28T15:14:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27001#event-324143"
}
```



---

archive/issue_comments_419073.json:
```json
{
    "body": "<a id='comment:19'>**Comment 19:**</a>\nI don't remember that, but I guess so!",
    "created_at": "2019-02-28T15:14:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419073",
    "user": "https://github.com/embray"
}
```

<a id='comment:19'>**Comment 19:**</a>
I don't remember that, but I guess so!



---

archive/issue_comments_419074.json:
```json
{
    "body": "<a id='comment:20'>**Comment 20:**</a>\n(I'm not Jeroen, obviously, but I think this seems to reflect his suggestion)",
    "created_at": "2019-02-28T15:15:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419074",
    "user": "https://github.com/embray"
}
```

<a id='comment:20'>**Comment 20:**</a>
(I'm not Jeroen, obviously, but I think this seems to reflect his suggestion)



---

archive/issue_comments_419075.json:
```json
{
    "body": "<a id='comment:21'>**Comment 21:**</a>\nI am slightly worried by [comment:17](#comment%3A17) too.\n\nMaybe we should make sure that this is fixed and the doctests are run ?",
    "created_at": "2019-02-28T15:18:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419075",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:21'>**Comment 21:**</a>
I am slightly worried by [comment:17](#comment%3A17) too.

Maybe we should make sure that this is fixed and the doctests are run ?



---

archive/issue_comments_419076.json:
```json
{
    "body": "<a id='comment:22'>**Comment 22:**</a>\nReplying to [@embray](#comment%3A17):\n> I thought that the doctest parser got confused if we started a line with `...` (it would get confused with a continuation prompt like `....:`).  Or did we fix that?\n\nI somehow seem to recall that this was fixed and that now a `....:` continuation is required after a `sage:` prompt.",
    "created_at": "2019-02-28T15:19:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419076",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:22'>**Comment 22:**</a>
Replying to [@embray](#comment%3A17):
> I thought that the doctest parser got confused if we started a line with `...` (it would get confused with a continuation prompt like `....:`).  Or did we fix that?

I somehow seem to recall that this was fixed and that now a `....:` continuation is required after a `sage:` prompt.



---

archive/issue_comments_419077.json:
```json
{
    "body": "<a id='comment:23'>**Comment 23:**</a>\nok, then let's go.",
    "created_at": "2019-02-28T15:29:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419077",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:23'>**Comment 23:**</a>
ok, then let's go.



---

archive/issue_comments_419078.json:
```json
{
    "body": "<a id='comment:24'>**Comment 24:**</a>\nReplying to [@jhpalmieri](#comment%3A13):\n> If I add `...` at the beginning of the doctest output, then it passes with Python 2 but not Python 3 (which doesn't print the extra line `sys:1: RuntimeWarning: ...`).\n\nI just posted a new topic on sage-devel `What to do with the sys.path security patch?` referring this.",
    "created_at": "2019-02-28T15:54:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419078",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:24'>**Comment 24:**</a>
Replying to [@jhpalmieri](#comment%3A13):
> If I add `...` at the beginning of the doctest output, then it passes with Python 2 but not Python 3 (which doesn't print the extra line `sys:1: RuntimeWarning: ...`).

I just posted a new topic on sage-devel `What to do with the sys.path security patch?` referring this.



---

archive/issue_comments_419079.json:
```json
{
    "body": "<a id='comment:25'>**Comment 25:**</a>\nReplying to [@fchapoton](#comment%3A21):\n> I am slightly worried by [comment:17](#comment%3A17) too.\n> \n> Maybe we should make sure that this is fixed and the doctests are run ?\n\nI will confirm that the tests are run: they fail if I change the text.",
    "created_at": "2019-02-28T16:09:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419079",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:25'>**Comment 25:**</a>
Replying to [@fchapoton](#comment%3A21):
> I am slightly worried by [comment:17](#comment%3A17) too.
> 
> Maybe we should make sure that this is fixed and the doctests are run ?

I will confirm that the tests are run: they fail if I change the text.



---

archive/issue_events_324144.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-03-02T09:38:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27001#event-324144"
}
```



---

archive/issue_events_324145.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "93923a826ccf9f4fbf153b71d76f9324d436dbcd",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-03-02T09:38:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27001#event-324145"
}
```



---

archive/issue_comments_419080.json:
```json
{
    "body": "**Changing branch** from \"[u/jhpalmieri/27001](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/27001)\" to \"[b3722ac58a78ff4ab30111da4d6a895c18b63211](https://github.com/sagemath/sagetrac-mirror/commit/b3722ac58a78ff4ab30111da4d6a895c18b63211)\".",
    "created_at": "2019-03-02T09:38:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27001",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27001#issuecomment-419080",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jhpalmieri/27001](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/27001)" to "[b3722ac58a78ff4ab30111da4d6a895c18b63211](https://github.com/sagemath/sagetrac-mirror/commit/b3722ac58a78ff4ab30111da4d6a895c18b63211)".
