# Issue 27734: Fractional chromatic number

archive/issues_027497.json:
```json
{
    "assignees": [
        "https://github.com/ed359"
    ],
    "body": "<div id=\"comment:0\"></div>\n\nAdd methods to Graph in sage/graphs/graph.py for computing the fractional chromatic and clique numbers via a linear program. The code is essentially the same as that for `fractional_chromatic_index`, e.g. the default solver is PPL for exact rational computation.\n\nCC:  @tscrim\n\nComponent: **graph theory**\n\nAuthor: **Ewan Davies**\n\nBranch/Commit: **[`a3fe1e0`](https://github.com/sagemath/sagetrac-mirror/commit/a3fe1e0d572dcc79fa3ef9e9515361b2a9130a07)**\n\nReviewer: **David Coudert, Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/27734_\n\n",
    "closed_at": "2020-08-23T16:28:15Z",
    "created_at": "2019-04-27T02:21:43Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Fractional chromatic number",
    "type": "issue",
    "updated_at": "2020-08-23T16:28:15Z",
    "url": "https://github.com/sagemath/sage/issues/27734",
    "user": "https://github.com/ed359"
}
```
<div id="comment:0"></div>

Add methods to Graph in sage/graphs/graph.py for computing the fractional chromatic and clique numbers via a linear program. The code is essentially the same as that for `fractional_chromatic_index`, e.g. the default solver is PPL for exact rational computation.

CC:  @tscrim

Component: **graph theory**

Author: **Ewan Davies**

Branch/Commit: **[`a3fe1e0`](https://github.com/sagemath/sagetrac-mirror/commit/a3fe1e0d572dcc79fa3ef9e9515361b2a9130a07)**

Reviewer: **David Coudert, Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/27734_





---

archive/issue_events_377511.json:
```json
{
    "actor": "https://github.com/ed359",
    "created_at": "2019-04-27T02:21:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27734#event-377511"
}
```



---

archive/issue_events_377512.json:
```json
{
    "actor": "https://github.com/ed359",
    "created_at": "2019-04-27T02:21:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27734#event-377512"
}
```



---

archive/issue_comments_429832.json:
```json
{
    "body": "Branch: **[u/gh-ed359/fractional_chromatic_number](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-ed359/fractional_chromatic_number)**",
    "created_at": "2019-04-27T03:04:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429832",
    "user": "https://github.com/ed359"
}
```

Branch: **[u/gh-ed359/fractional_chromatic_number](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-ed359/fractional_chromatic_number)**



---

archive/issue_comments_429833.json:
```json
{
    "body": "Commit: **[`9d2c96e`](https://github.com/sagemath/sagetrac-mirror/commit/9d2c96e63ba4d1290a9bdf9329f6e71e32b557f3)**",
    "created_at": "2019-05-03T18:54:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429833",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`9d2c96e`](https://github.com/sagemath/sagetrac-mirror/commit/9d2c96e63ba4d1290a9bdf9329f6e71e32b557f3)**



---

archive/issue_comments_429834.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d2c96e63ba4d1290a9bdf9329f6e71e32b557f3\"><code>9d2c96e</code></a></td><td><code>add fractional chromatic and clique number methods to Graph class</code></td></tr></table>\n",
    "created_at": "2019-05-03T18:54:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429834",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d2c96e63ba4d1290a9bdf9329f6e71e32b557f3"><code>9d2c96e</code></a></td><td><code>add fractional chromatic and clique number methods to Graph class</code></td></tr></table>




---

archive/issue_events_377513.json:
```json
{
    "actor": "https://github.com/ed359",
    "created_at": "2019-05-03T19:00:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27734#event-377513"
}
```



---

archive/issue_events_377514.json:
```json
{
    "actor": "https://github.com/ed359",
    "created_at": "2019-05-03T19:00:55Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27734#event-377514"
}
```



---

archive/issue_events_377515.json:
```json
{
    "actor": "https://github.com/ed359",
    "created_at": "2019-05-03T19:00:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27734#event-377515"
}
```



---

archive/issue_events_377516.json:
```json
{
    "actor": "https://github.com/ed359",
    "created_at": "2019-05-03T19:00:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27734#event-377516"
}
```



---

archive/issue_events_377517.json:
```json
{
    "actor": "https://github.com/ed359",
    "created_at": "2019-05-03T19:00:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27734#event-377517"
}
```



---

archive/issue_events_377518.json:
```json
{
    "actor": "https://github.com/ed359",
    "created_at": "2019-05-03T19:00:55Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "subject": "https://github.com/ed359",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27734#event-377518"
}
```



---

archive/issue_comments_429835.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+Add methods to Graph in sage/graphs/graph.py for computing the fractional chromatic and clique numbers via a linear program. The code is essentially the same as that for `fractional_clique_number`, e.g. the default solver is PPL for exact rational computation.\n``````\n",
    "created_at": "2019-05-03T19:00:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429835",
    "user": "https://github.com/ed359"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+Add methods to Graph in sage/graphs/graph.py for computing the fractional chromatic and clique numbers via a linear program. The code is essentially the same as that for `fractional_clique_number`, e.g. the default solver is PPL for exact rational computation.
``````




---

archive/issue_comments_429836.json:
```json
{
    "body": "Changed commit from **[`9d2c96e`](https://github.com/sagemath/sagetrac-mirror/commit/9d2c96e63ba4d1290a9bdf9329f6e71e32b557f3)** to **[`4c3591d`](https://github.com/sagemath/sagetrac-mirror/commit/4c3591de7ba1083a5c4e50cee12eaade1c86f700)**",
    "created_at": "2019-05-03T21:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429836",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9d2c96e`](https://github.com/sagemath/sagetrac-mirror/commit/9d2c96e63ba4d1290a9bdf9329f6e71e32b557f3)** to **[`4c3591d`](https://github.com/sagemath/sagetrac-mirror/commit/4c3591de7ba1083a5c4e50cee12eaade1c86f700)**



---

archive/issue_comments_429837.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4c3591de7ba1083a5c4e50cee12eaade1c86f700\"><code>4c3591d</code></a></td><td><code>add fractional chromatic and clique number methods to Graph class</code></td></tr></table>\n",
    "created_at": "2019-05-03T21:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429837",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4c3591de7ba1083a5c4e50cee12eaade1c86f700"><code>4c3591d</code></a></td><td><code>add fractional chromatic and clique number methods to Graph class</code></td></tr></table>




---

archive/issue_comments_429838.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI have several comments here:\n- method `fractional_chromatic_number` could be in file `graph_coloring.py`\n\n- The LP formulation using independent sets is elegant, but can be used on small graphs only. For instance, a 5x5 grid has already 55447 independent sets... You could add a \"compact\" formulation that could be used on larger graphs.\n\n- You can also add simple optimization like partition into connected components.\n\n- `optimim` -> `optimum`",
    "created_at": "2019-05-04T08:52:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429838",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:5" align="right">comment:5</div>

I have several comments here:
- method `fractional_chromatic_number` could be in file `graph_coloring.py`

- The LP formulation using independent sets is elegant, but can be used on small graphs only. For instance, a 5x5 grid has already 55447 independent sets... You could add a "compact" formulation that could be used on larger graphs.

- You can also add simple optimization like partition into connected components.

- `optimim` -> `optimum`



---

archive/issue_comments_429839.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@dcoudert](#comment%3A5):\n> I have several comments here:\n> - method `fractional_chromatic_number` could be in file `graph_coloring.py`\n>\n>\n\nSure, should I move `fractional_chromatic_index` too? And what about `fractional_clique_number`? One does not usually arrive at the definition of fractional clique number via coloring, but they're dual LPs so very related!\n\n\n> - The LP formulation using independent sets is elegant, but can be used on small graphs only. For instance, a 5x5 grid has already 55447 independent sets... You could add a \"compact\" formulation that could be used on larger graphs.\n>\n>\n\nI don't know of a fancy algorithm for fractional chromatic number that would be asymptotically better than the LP. I forgot an optimisation which makes the LP smaller by using `_maximal_` independent sets for the variables, and it could save some time and memory to index the LP variables by ints rather than frozensets. \nI don't know how to get around a call to `IndependentSets` of some kind though.\n\n> - You can also add simple optimization like partition into connected components.\n\nThis sounds useful, I'll investigate.\n\n> \n> - `optimim` -> `optimum`",
    "created_at": "2019-05-08T00:42:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429839",
    "user": "https://github.com/ed359"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@dcoudert](#comment%3A5):
> I have several comments here:
> - method `fractional_chromatic_number` could be in file `graph_coloring.py`
>
>

Sure, should I move `fractional_chromatic_index` too? And what about `fractional_clique_number`? One does not usually arrive at the definition of fractional clique number via coloring, but they're dual LPs so very related!


> - The LP formulation using independent sets is elegant, but can be used on small graphs only. For instance, a 5x5 grid has already 55447 independent sets... You could add a "compact" formulation that could be used on larger graphs.
>
>

I don't know of a fancy algorithm for fractional chromatic number that would be asymptotically better than the LP. I forgot an optimisation which makes the LP smaller by using `_maximal_` independent sets for the variables, and it could save some time and memory to index the LP variables by ints rather than frozensets. 
I don't know how to get around a call to `IndependentSets` of some kind though.

> - You can also add simple optimization like partition into connected components.

This sounds useful, I'll investigate.

> 
> - `optimim` -> `optimum`



---

archive/issue_comments_429840.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\n> Sure, should I move `fractional_chromatic_index` too? And what about `fractional_clique_number`? One does not usually arrive at the definition of fractional clique number via coloring, but they're dual LPs so very related!\n\nYes, move them all.\n\n> > - The LP formulation using independent sets is elegant, but can be used on small graphs only. For instance, a 5x5 grid has already 55447 independent sets... You could add a \"compact\" formulation that could be used on larger graphs.\n> >\n> >\n> \n> \n> I don't know of a fancy algorithm for fractional chromatic number that would be asymptotically better than the LP.\n\nI tried another formulation with `n^2` binary variables and `O(n^2)` fractional variables but it's effectively way slower.\n\nYou could add a note saying that the number of independent sets and the time to generate them can be huge.\n\n> I forgot an optimisation which makes the LP smaller by using `_maximal_` independent sets for the variables, \n\nOK\n\n> and it could save some time and memory to index the LP variables by ints rather than frozensets.\n> I don't know how to get around a call to `IndependentSets` of some kind though.\n\nAt least, you can do:\n\n```\n        Is = [frozenset(I) for I in IndependentSets(G, maximal=True)]\n```\n`IndependentSets` is an iterator, so your code generates twice each set. Furthermore, when you check `v in I`, it is way faster when `I` is a set and not a list.\n\n\n\nDon't forget to check trivial cases like bipartite graphs.",
    "created_at": "2019-05-08T10:31:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429840",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:7" align="right">comment:7</div>

> Sure, should I move `fractional_chromatic_index` too? And what about `fractional_clique_number`? One does not usually arrive at the definition of fractional clique number via coloring, but they're dual LPs so very related!

Yes, move them all.

> > - The LP formulation using independent sets is elegant, but can be used on small graphs only. For instance, a 5x5 grid has already 55447 independent sets... You could add a "compact" formulation that could be used on larger graphs.
> >
> >
> 
> 
> I don't know of a fancy algorithm for fractional chromatic number that would be asymptotically better than the LP.

I tried another formulation with `n^2` binary variables and `O(n^2)` fractional variables but it's effectively way slower.

You could add a note saying that the number of independent sets and the time to generate them can be huge.

> I forgot an optimisation which makes the LP smaller by using `_maximal_` independent sets for the variables, 

OK

> and it could save some time and memory to index the LP variables by ints rather than frozensets.
> I don't know how to get around a call to `IndependentSets` of some kind though.

At least, you can do:

```
        Is = [frozenset(I) for I in IndependentSets(G, maximal=True)]
```
`IndependentSets` is an iterator, so your code generates twice each set. Furthermore, when you check `v in I`, it is way faster when `I` is a set and not a list.



Don't forget to check trivial cases like bipartite graphs.



---

archive/issue_comments_429841.json:
```json
{
    "body": "Changed commit from **[`4c3591d`](https://github.com/sagemath/sagetrac-mirror/commit/4c3591de7ba1083a5c4e50cee12eaade1c86f700)** to **[`5ba5a5a`](https://github.com/sagemath/sagetrac-mirror/commit/5ba5a5a40cd33901c5f4307d59aa68a4359b0430)**",
    "created_at": "2019-05-09T02:27:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429841",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4c3591d`](https://github.com/sagemath/sagetrac-mirror/commit/4c3591de7ba1083a5c4e50cee12eaade1c86f700)** to **[`5ba5a5a`](https://github.com/sagemath/sagetrac-mirror/commit/5ba5a5a40cd33901c5f4307d59aa68a4359b0430)**



---

archive/issue_comments_429842.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-05-09T02:27:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429842",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_429843.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/74dc396716e3b064dfb496de77c0dc5e03701073\"><code>74dc396</code></a></td><td><code>move fractional_chromatic_index to graph_coloring.py</code></td></tr></table>\n",
    "created_at": "2019-05-09T03:02:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429843",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/74dc396716e3b064dfb496de77c0dc5e03701073"><code>74dc396</code></a></td><td><code>move fractional_chromatic_index to graph_coloring.py</code></td></tr></table>




---

archive/issue_comments_429844.json:
```json
{
    "body": "Changed commit from **[`5ba5a5a`](https://github.com/sagemath/sagetrac-mirror/commit/5ba5a5a40cd33901c5f4307d59aa68a4359b0430)** to **[`74dc396`](https://github.com/sagemath/sagetrac-mirror/commit/74dc396716e3b064dfb496de77c0dc5e03701073)**",
    "created_at": "2019-05-09T03:02:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429844",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5ba5a5a`](https://github.com/sagemath/sagetrac-mirror/commit/5ba5a5a40cd33901c5f4307d59aa68a4359b0430)** to **[`74dc396`](https://github.com/sagemath/sagetrac-mirror/commit/74dc396716e3b064dfb496de77c0dc5e03701073)**



---

archive/issue_comments_429845.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3250befbcbb0f653854ecd1277a70ad03aac4e3a\"><code>3250bef</code></a></td><td><code>move fractional_chromatic_index to graph_coloring.py</code></td></tr></table>\n",
    "created_at": "2019-05-09T04:11:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429845",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3250befbcbb0f653854ecd1277a70ad03aac4e3a"><code>3250bef</code></a></td><td><code>move fractional_chromatic_index to graph_coloring.py</code></td></tr></table>




---

archive/issue_comments_429846.json:
```json
{
    "body": "Changed commit from **[`74dc396`](https://github.com/sagemath/sagetrac-mirror/commit/74dc396716e3b064dfb496de77c0dc5e03701073)** to **[`3250bef`](https://github.com/sagemath/sagetrac-mirror/commit/3250befbcbb0f653854ecd1277a70ad03aac4e3a)**",
    "created_at": "2019-05-09T04:11:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429846",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`74dc396`](https://github.com/sagemath/sagetrac-mirror/commit/74dc396716e3b064dfb496de77c0dc5e03701073)** to **[`3250bef`](https://github.com/sagemath/sagetrac-mirror/commit/3250befbcbb0f653854ecd1277a70ad03aac4e3a)**



---

archive/issue_comments_429847.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3250befbcbb0f653854ecd1277a70ad03aac4e3a\"><code>3250bef</code></a></td><td><code>move fractional_chromatic_index to graph_coloring.py</code></td></tr></table>\n",
    "created_at": "2019-05-09T04:15:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429847",
    "user": "https://github.com/ed359"
}
```

<div id="comment:11"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3250befbcbb0f653854ecd1277a70ad03aac4e3a"><code>3250bef</code></a></td><td><code>move fractional_chromatic_index to graph_coloring.py</code></td></tr></table>




---

archive/issue_comments_429848.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Add methods to Graph in sage/graphs/graph.py for computing the fractional chromatic and clique numbers via a linear program. The code is essentially the same as that for `fractional_clique_number`, e.g. the default solver is PPL for exact rational computation.\n+Add methods to Graph in sage/graphs/graph.py for computing the fractional chromatic and clique numbers via a linear program. The code is essentially the same as that for `fractional_chromatic_index`, e.g. the default solver is PPL for exact rational computation.\n``````\n",
    "created_at": "2019-05-09T04:15:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429848",
    "user": "https://github.com/ed359"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-Add methods to Graph in sage/graphs/graph.py for computing the fractional chromatic and clique numbers via a linear program. The code is essentially the same as that for `fractional_clique_number`, e.g. the default solver is PPL for exact rational computation.
+Add methods to Graph in sage/graphs/graph.py for computing the fractional chromatic and clique numbers via a linear program. The code is essentially the same as that for `fractional_chromatic_index`, e.g. the default solver is PPL for exact rational computation.
``````




---

archive/issue_comments_429849.json:
```json
{
    "body": "Changed commit from **[`3250bef`](https://github.com/sagemath/sagetrac-mirror/commit/3250befbcbb0f653854ecd1277a70ad03aac4e3a)** to **[`d765ee2`](https://github.com/sagemath/sagetrac-mirror/commit/d765ee29175e802cbbb44557471ab081c6e14c33)**",
    "created_at": "2019-05-09T04:41:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429849",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3250bef`](https://github.com/sagemath/sagetrac-mirror/commit/3250befbcbb0f653854ecd1277a70ad03aac4e3a)** to **[`d765ee2`](https://github.com/sagemath/sagetrac-mirror/commit/d765ee29175e802cbbb44557471ab081c6e14c33)**



---

archive/issue_comments_429850.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-05-09T04:41:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429850",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_429851.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/147bed0ab076e29c8a5dd597e5ec01037a7833fd\"><code>147bed0</code></a></td><td><code>Add fractional chromatic number and fractional clique number methods to Graph</code></td></tr></table>\n",
    "created_at": "2019-05-09T05:34:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429851",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/147bed0ab076e29c8a5dd597e5ec01037a7833fd"><code>147bed0</code></a></td><td><code>Add fractional chromatic number and fractional clique number methods to Graph</code></td></tr></table>




---

archive/issue_comments_429852.json:
```json
{
    "body": "Changed commit from **[`d765ee2`](https://github.com/sagemath/sagetrac-mirror/commit/d765ee29175e802cbbb44557471ab081c6e14c33)** to **[`147bed0`](https://github.com/sagemath/sagetrac-mirror/commit/147bed0ab076e29c8a5dd597e5ec01037a7833fd)**",
    "created_at": "2019-05-09T05:34:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429852",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d765ee2`](https://github.com/sagemath/sagetrac-mirror/commit/d765ee29175e802cbbb44557471ab081c6e14c33)** to **[`147bed0`](https://github.com/sagemath/sagetrac-mirror/commit/147bed0ab076e29c8a5dd597e5ec01037a7833fd)**



---

archive/issue_comments_429853.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@dcoudert](#comment%3A7):\n\nI've added the optimisations we discussed. Apologies for (a) the pointless git noise on this ticket, and (b) the following silly issue. \n\nI can't see how to move a class method to another file. In `generic_graph.py` lines 23426-23443 it appears that one can simply write `from sage.module import method` inside the class definition to make `method` appear on the class, e.g.\n\n```python\nclass Foo:\n    from sage.module import method\n\nf = Foo()\nf.method() # works!\n```\n\nbut any variation of this I have tried leads to sage crashing on start with an `ImportError`. The traceback is sufficiently cryptic that I can't diagnose the problem. \n\nFor now I just add a one-line method the usual `def method():` way to the `sage.graphs.Graph` class that imports and calls the method defined in `sage.graphs.graph_coloring.py` that I want, but there should be a better way!",
    "created_at": "2019-05-09T05:47:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429853",
    "user": "https://github.com/ed359"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@dcoudert](#comment%3A7):

I've added the optimisations we discussed. Apologies for (a) the pointless git noise on this ticket, and (b) the following silly issue. 

I can't see how to move a class method to another file. In `generic_graph.py` lines 23426-23443 it appears that one can simply write `from sage.module import method` inside the class definition to make `method` appear on the class, e.g.

```python
class Foo:
    from sage.module import method

f = Foo()
f.method() # works!
```

but any variation of this I have tried leads to sage crashing on start with an `ImportError`. The traceback is sufficiently cryptic that I can't diagnose the problem. 

For now I just add a one-line method the usual `def method():` way to the `sage.graphs.Graph` class that imports and calls the method defined in `sage.graphs.graph_coloring.py` that I want, but there should be a better way!



---

archive/issue_comments_429854.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nThis should work. It avoids circular imports. As the branch is in `public/`, you can modify it. \n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8bc697844a8cad28856dfabfacb7a0d2e541fbf\"><code>e8bc697</code></a></td><td><code>trac #27734: fix import error</code></td></tr></table>\n",
    "created_at": "2019-05-09T06:57:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429854",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:15" align="right">comment:15</div>

This should work. It avoids circular imports. As the branch is in `public/`, you can modify it. 

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8bc697844a8cad28856dfabfacb7a0d2e541fbf"><code>e8bc697</code></a></td><td><code>trac #27734: fix import error</code></td></tr></table>




---

archive/issue_comments_429855.json:
```json
{
    "body": "Changed commit from **[`147bed0`](https://github.com/sagemath/sagetrac-mirror/commit/147bed0ab076e29c8a5dd597e5ec01037a7833fd)** to **[`e8bc697`](https://github.com/sagemath/sagetrac-mirror/commit/e8bc697844a8cad28856dfabfacb7a0d2e541fbf)**",
    "created_at": "2019-05-09T06:57:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429855",
    "user": "https://github.com/dcoudert"
}
```

Changed commit from **[`147bed0`](https://github.com/sagemath/sagetrac-mirror/commit/147bed0ab076e29c8a5dd597e5ec01037a7833fd)** to **[`e8bc697`](https://github.com/sagemath/sagetrac-mirror/commit/e8bc697844a8cad28856dfabfacb7a0d2e541fbf)**



---

archive/issue_comments_429856.json:
```json
{
    "body": "Changed branch from **[u/gh-ed359/fractional_chromatic_number](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-ed359/fractional_chromatic_number)** to **[public/graphs/27734_fractional_chromatic_number](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/27734_fractional_chromatic_number)**",
    "created_at": "2019-05-09T06:57:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429856",
    "user": "https://github.com/dcoudert"
}
```

Changed branch from **[u/gh-ed359/fractional_chromatic_number](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-ed359/fractional_chromatic_number)** to **[public/graphs/27734_fractional_chromatic_number](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/27734_fractional_chromatic_number)**



---

archive/issue_comments_429857.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b5f10e7ee7ccd81cf2e1843e8ee0522ea06cb96\"><code>7b5f10e</code></a></td><td><code>finish fractional_clique_number</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2ec7e18e29633532313cfd595635318e54130d26\"><code>2ec7e18</code></a></td><td><code>move fractional_chromatic_index to graph_coloring.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c7123e26f0d65f7678544ca9a12be48c621f04f\"><code>8c7123e</code></a></td><td><code>docs: reorganise graph methods with a coloring section</code></td></tr></table>\n",
    "created_at": "2019-05-12T21:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429857",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b5f10e7ee7ccd81cf2e1843e8ee0522ea06cb96"><code>7b5f10e</code></a></td><td><code>finish fractional_clique_number</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2ec7e18e29633532313cfd595635318e54130d26"><code>2ec7e18</code></a></td><td><code>move fractional_chromatic_index to graph_coloring.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c7123e26f0d65f7678544ca9a12be48c621f04f"><code>8c7123e</code></a></td><td><code>docs: reorganise graph methods with a coloring section</code></td></tr></table>




---

archive/issue_comments_429858.json:
```json
{
    "body": "Changed commit from **[`e8bc697`](https://github.com/sagemath/sagetrac-mirror/commit/e8bc697844a8cad28856dfabfacb7a0d2e541fbf)** to **[`8c7123e`](https://github.com/sagemath/sagetrac-mirror/commit/8c7123e26f0d65f7678544ca9a12be48c621f04f)**",
    "created_at": "2019-05-12T21:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429858",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e8bc697`](https://github.com/sagemath/sagetrac-mirror/commit/e8bc697844a8cad28856dfabfacb7a0d2e541fbf)** to **[`8c7123e`](https://github.com/sagemath/sagetrac-mirror/commit/8c7123e26f0d65f7678544ca9a12be48c621f04f)**



---

archive/issue_events_377519.json:
```json
{
    "actor": "https://github.com/ed359",
    "created_at": "2019-05-12T21:58:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27734#event-377519"
}
```



---

archive/issue_comments_429859.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nSome quick comments:\n- In all input blocks, the alignement of the 2nd line is only 2 spaces more than the first line, not 4.\n\n```diff\n-    - ``solver`` -- (default: ``\"PPL\"``); specify a Linear Program (LP)\n-        solver to be used. If set to ``None``, the default one is used. For\n+    - ``solver`` -- (default: ``\"PPL\"``); specify a Linear Program (LP)\n+      solver to be used. If set to ``None``, the default one is used. For\n```\n\n- I don't know the number of needed spaces for `.. NOTE::` inside the `INPUT` block. Have you tried building the documentation ? does it looks good ? I cannot check by myself (unable to build the doc yet. I will try to fix that)\n\n- I'm not convinced by `only_maximal`. Why not `maximal_only` or simply `maximal`?\nFurthermore, if it is proven that you can use maximal independent sets only, then why do we need this parameter ? Of course if not proven it's a different story.\n\n- in documentation, you can use <code>\\`G\\`</code> instead of `G`.\n\n- we need double <code>\\`\\`</code> for True, False and None, so <code>\\`\\`True\\`\\`</code> not <code>\\`True\\`</code>\n\n- It's a very good idea to introduce `@doc_index(\"Coloring\")`.",
    "created_at": "2019-05-13T15:23:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429859",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:18" align="right">comment:18</div>

Some quick comments:
- In all input blocks, the alignement of the 2nd line is only 2 spaces more than the first line, not 4.

```diff
-    - ``solver`` -- (default: ``"PPL"``); specify a Linear Program (LP)
-        solver to be used. If set to ``None``, the default one is used. For
+    - ``solver`` -- (default: ``"PPL"``); specify a Linear Program (LP)
+      solver to be used. If set to ``None``, the default one is used. For
```

- I don't know the number of needed spaces for `.. NOTE::` inside the `INPUT` block. Have you tried building the documentation ? does it looks good ? I cannot check by myself (unable to build the doc yet. I will try to fix that)

- I'm not convinced by `only_maximal`. Why not `maximal_only` or simply `maximal`?
Furthermore, if it is proven that you can use maximal independent sets only, then why do we need this parameter ? Of course if not proven it's a different story.

- in documentation, you can use <code>\`G\`</code> instead of `G`.

- we need double <code>\`\`</code> for True, False and None, so <code>\`\`True\`\`</code> not <code>\`True\`</code>

- It's a very good idea to introduce `@doc_index("Coloring")`.



---

archive/issue_comments_429860.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nStrangely, I can't find a reference for the maximal thing, but here's a proof in pythonic pseudocode (since I can't see how to write math in a ticket):\n\n  Let `Is` be the set of all independent sets of `G`, and `MIs` be the subset of `Is` consisting of maximal independent sets.\n  \n  If `w` is a nonnegative weight function on independent sets that is feasible in the LP, we have for all vertices `u` of the graph, `sum(w[I] for I in Is if u in I) >= 1`. \n  \n  Suppose that there exists `J in Is` with `w[J] > 0` and a vertex `v` such that `J + [v] in Is`. Then form `x` from `w` by `x[J] = 0`, `x[J + [v]] = w[J] + w[J+[v]]`, and `x[I] = w[I]` for all other `I`. Then `x` is also feasible as moving weight to a larger independent set can only increase the sum of weights over `I in Is if u in I` and the objective values for `w` and `x` are the same by construction. By repeatedly applying this trick we obtain a weight function supported only on `MIs`.\n\nThere's a tradeoff though: if you consider all independent sets then it's valid to use the LP with equality constraints, but it is invalid to impose equality constraints *and* to drop variables corresponding to non-maximal independent sets (the LP can become infeasible).\n\nSomeone with better knowledge of the inner workings of LP solvers could make a call as to which is preferable. My understanding is that for some algorithms each inequality constraint is replaced by an additional variable and an equality constraint. But having two variables for each maximal independent set should still be cheaper than having a single variable for each independent set. I guess benchmarks are warranted, but I don't have the time.",
    "created_at": "2019-05-13T17:39:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429860",
    "user": "https://github.com/ed359"
}
```

<div id="comment:19" align="right">comment:19</div>

Strangely, I can't find a reference for the maximal thing, but here's a proof in pythonic pseudocode (since I can't see how to write math in a ticket):

  Let `Is` be the set of all independent sets of `G`, and `MIs` be the subset of `Is` consisting of maximal independent sets.
  
  If `w` is a nonnegative weight function on independent sets that is feasible in the LP, we have for all vertices `u` of the graph, `sum(w[I] for I in Is if u in I) >= 1`. 
  
  Suppose that there exists `J in Is` with `w[J] > 0` and a vertex `v` such that `J + [v] in Is`. Then form `x` from `w` by `x[J] = 0`, `x[J + [v]] = w[J] + w[J+[v]]`, and `x[I] = w[I]` for all other `I`. Then `x` is also feasible as moving weight to a larger independent set can only increase the sum of weights over `I in Is if u in I` and the objective values for `w` and `x` are the same by construction. By repeatedly applying this trick we obtain a weight function supported only on `MIs`.

There's a tradeoff though: if you consider all independent sets then it's valid to use the LP with equality constraints, but it is invalid to impose equality constraints *and* to drop variables corresponding to non-maximal independent sets (the LP can become infeasible).

Someone with better knowledge of the inner workings of LP solvers could make a call as to which is preferable. My understanding is that for some algorithms each inequality constraint is replaced by an additional variable and an equality constraint. But having two variables for each maximal independent set should still be cheaper than having a single variable for each independent set. I guess benchmarks are warranted, but I don't have the time.



---

archive/issue_comments_429861.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nCheck Section 2.1 of [1]. Not a formal proof, but give complementary arguments.\n\n\n\n[1] I. Caragiannis, Afonso Ferreira, C. Kaklamanis, St\u00e9phane P\u00e9rennes, Herv\u00e9 Rivano. Fractional Path Coloring in Bounded Degree Trees with Applications\nAlgorithmica, Springer Verlag, 2010, 58 (2), pp.516-540. \u27e810.1007/s00453-009-9278-3\u27e9\nhttps://hal.archives-ouvertes.fr/hal-00371052",
    "created_at": "2019-05-14T08:44:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429861",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:20" align="right">comment:20</div>

Check Section 2.1 of [1]. Not a formal proof, but give complementary arguments.



[1] I. Caragiannis, Afonso Ferreira, C. Kaklamanis, Stéphane Pérennes, Hervé Rivano. Fractional Path Coloring in Bounded Degree Trees with Applications
Algorithmica, Springer Verlag, 2010, 58 (2), pp.516-540. ⟨10.1007/s00453-009-9278-3⟩
https://hal.archives-ouvertes.fr/hal-00371052



---

archive/issue_comments_429862.json:
```json
{
    "body": "Changed branch from **[public/graphs/27734_fractional_chromatic_number](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/27734_fractional_chromatic_number)** to **[public/graphs/27734_fractional_coloring](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/27734_fractional_coloring)**",
    "created_at": "2020-08-09T22:57:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429862",
    "user": "https://github.com/dcoudert"
}
```

Changed branch from **[public/graphs/27734_fractional_chromatic_number](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/27734_fractional_chromatic_number)** to **[public/graphs/27734_fractional_coloring](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/27734_fractional_coloring)**



---

archive/issue_comments_429863.json:
```json
{
    "body": "Changed commit from **[`8c7123e`](https://github.com/sagemath/sagetrac-mirror/commit/8c7123e26f0d65f7678544ca9a12be48c621f04f)** to **[`0e45ee1`](https://github.com/sagemath/sagetrac-mirror/commit/0e45ee1c15f6a8d84e8c04a40345d29e65315e54)**",
    "created_at": "2020-08-09T22:57:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429863",
    "user": "https://github.com/dcoudert"
}
```

Changed commit from **[`8c7123e`](https://github.com/sagemath/sagetrac-mirror/commit/8c7123e26f0d65f7678544ca9a12be48c621f04f)** to **[`0e45ee1`](https://github.com/sagemath/sagetrac-mirror/commit/0e45ee1c15f6a8d84e8c04a40345d29e65315e54)**



---

archive/issue_events_377520.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-08-09T22:57:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27734#event-377520"
}
```



---

archive/issue_comments_429864.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI have rebuild the branch over sage 9.2.beta7 and fix various compilation, doctests and doc build issues.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29b21ea4978d7ba23099a243dac6ab937009e076\"><code>29b21ea</code></a></td><td><code>trac #27734: restart on top of 9.2.beta7</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7dccc1b8c28254be3fd39a6608ce187f5125194c\"><code>7dccc1b</code></a></td><td><code>trac #27734: ensure doctests pass</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0e45ee1c15f6a8d84e8c04a40345d29e65315e54\"><code>0e45ee1</code></a></td><td><code>trac #27734: polishing</code></td></tr></table>\n",
    "created_at": "2020-08-09T22:57:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429864",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:21" align="right">comment:21</div>

I have rebuild the branch over sage 9.2.beta7 and fix various compilation, doctests and doc build issues.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29b21ea4978d7ba23099a243dac6ab937009e076"><code>29b21ea</code></a></td><td><code>trac #27734: restart on top of 9.2.beta7</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7dccc1b8c28254be3fd39a6608ce187f5125194c"><code>7dccc1b</code></a></td><td><code>trac #27734: ensure doctests pass</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0e45ee1c15f6a8d84e8c04a40345d29e65315e54"><code>0e45ee1</code></a></td><td><code>trac #27734: polishing</code></td></tr></table>




---

archive/issue_comments_429865.json:
```json
{
    "body": "Author: **Ewan Davies**",
    "created_at": "2020-08-09T23:00:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429865",
    "user": "https://github.com/dcoudert"
}
```

Author: **Ewan Davies**



---

archive/issue_comments_429866.json:
```json
{
    "body": "Reviewer: **David Coudert**",
    "created_at": "2020-08-09T23:00:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429866",
    "user": "https://github.com/dcoudert"
}
```

Reviewer: **David Coudert**



---

archive/issue_comments_429867.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nIssues reported by the patchbots seems uncorrelated and I cannot reproduce them.",
    "created_at": "2020-08-10T12:25:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429867",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:23" align="right">comment:23</div>

Issues reported by the patchbots seems uncorrelated and I cannot reproduce them.



---

archive/issue_comments_429868.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nFor me this patch is now good to go, but I would appreciate an external opinion. Thanks.",
    "created_at": "2020-08-18T12:01:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429868",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:24" align="right">comment:24</div>

For me this patch is now good to go, but I would appreciate an external opinion. Thanks.



---

archive/issue_comments_429869.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nIt is fine, but if I wanted to nitpick about the doc: The `INPUT:` bullet point should not end with a period/full-stop (except for those really long ones). Also a missing period here:\n\n```diff\n     matchings in the following relaxed way\n \n     .. MATH::\n \n-        \\forall e \\in E(G), \\sum_{e \\in M_i} \\alpha_i \\geq 1\n+        \\forall e \\in E(G), \\sum_{e \\in M_i} \\alpha_i \\geq 1.\n \n     For more information, see the :wikipedia:`Fractional_coloring`.\n```",
    "created_at": "2020-08-18T23:29:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429869",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:25" align="right">comment:25</div>

It is fine, but if I wanted to nitpick about the doc: The `INPUT:` bullet point should not end with a period/full-stop (except for those really long ones). Also a missing period here:

```diff
     matchings in the following relaxed way
 
     .. MATH::
 
-        \forall e \in E(G), \sum_{e \in M_i} \alpha_i \geq 1
+        \forall e \in E(G), \sum_{e \in M_i} \alpha_i \geq 1.
 
     For more information, see the :wikipedia:`Fractional_coloring`.
```



---

archive/issue_comments_429870.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f371ca210ce1b6b050cd1590cfdb1bccc97a11f3\"><code>f371ca2</code></a></td><td><code>trac #27734: merged with 9.2.beta9</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/09a8fd5263c2c0b33be8649ef7b14094b33c2715\"><code>09a8fd5</code></a></td><td><code>trac #27734: improvements</code></td></tr></table>\n",
    "created_at": "2020-08-19T12:56:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429870",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f371ca210ce1b6b050cd1590cfdb1bccc97a11f3"><code>f371ca2</code></a></td><td><code>trac #27734: merged with 9.2.beta9</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/09a8fd5263c2c0b33be8649ef7b14094b33c2715"><code>09a8fd5</code></a></td><td><code>trac #27734: improvements</code></td></tr></table>




---

archive/issue_comments_429871.json:
```json
{
    "body": "Changed commit from **[`0e45ee1`](https://github.com/sagemath/sagetrac-mirror/commit/0e45ee1c15f6a8d84e8c04a40345d29e65315e54)** to **[`09a8fd5`](https://github.com/sagemath/sagetrac-mirror/commit/09a8fd5263c2c0b33be8649ef7b14094b33c2715)**",
    "created_at": "2020-08-19T12:56:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429871",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0e45ee1`](https://github.com/sagemath/sagetrac-mirror/commit/0e45ee1c15f6a8d84e8c04a40345d29e65315e54)** to **[`09a8fd5`](https://github.com/sagemath/sagetrac-mirror/commit/09a8fd5263c2c0b33be8649ef7b14094b33c2715)**



---

archive/issue_comments_429872.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a3fe1e0d572dcc79fa3ef9e9515361b2a9130a07\"><code>a3fe1e0</code></a></td><td><code>trac #27734: use biconnected components</code></td></tr></table>\n",
    "created_at": "2020-08-19T13:18:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429872",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a3fe1e0d572dcc79fa3ef9e9515361b2a9130a07"><code>a3fe1e0</code></a></td><td><code>trac #27734: use biconnected components</code></td></tr></table>




---

archive/issue_comments_429873.json:
```json
{
    "body": "Changed commit from **[`09a8fd5`](https://github.com/sagemath/sagetrac-mirror/commit/09a8fd5263c2c0b33be8649ef7b14094b33c2715)** to **[`a3fe1e0`](https://github.com/sagemath/sagetrac-mirror/commit/a3fe1e0d572dcc79fa3ef9e9515361b2a9130a07)**",
    "created_at": "2020-08-19T13:18:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429873",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`09a8fd5`](https://github.com/sagemath/sagetrac-mirror/commit/09a8fd5263c2c0b33be8649ef7b14094b33c2715)** to **[`a3fe1e0`](https://github.com/sagemath/sagetrac-mirror/commit/a3fe1e0d572dcc79fa3ef9e9515361b2a9130a07)**



---

archive/issue_comments_429874.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI did required changes and\n- removed parameter `only_maximal`. It is correct to consider only maximal independent sets and very costly to consider all independent sets. I added the only reference I know with an explanation of the correctness.\n- use decomposition into biconnected components instead of simply connected components. It's faster this way.",
    "created_at": "2020-08-19T13:21:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429874",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:28" align="right">comment:28</div>

I did required changes and
- removed parameter `only_maximal`. It is correct to consider only maximal independent sets and very costly to consider all independent sets. I added the only reference I know with an explanation of the correctness.
- use decomposition into biconnected components instead of simply connected components. It's faster this way.



---

archive/issue_comments_429875.json:
```json
{
    "body": "Changed reviewer from **David Coudert** to **David Coudert, Travis Scrimshaw**",
    "created_at": "2020-08-19T23:04:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429875",
    "user": "https://github.com/tscrim"
}
```

Changed reviewer from **David Coudert** to **David Coudert, Travis Scrimshaw**



---

archive/issue_comments_429876.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nYour changes LGTM. If the rest is reviewed, then this is a positive review.",
    "created_at": "2020-08-19T23:04:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429876",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:29" align="right">comment:29</div>

Your changes LGTM. If the rest is reviewed, then this is a positive review.



---

archive/issue_events_377521.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-08-20T07:25:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27734#event-377521"
}
```



---

archive/issue_events_377522.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-08-20T07:25:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27734#event-377522"
}
```



---

archive/issue_comments_429877.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nThank you.",
    "created_at": "2020-08-20T07:25:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429877",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:30" align="right">comment:30</div>

Thank you.



---

archive/issue_comments_429878.json:
```json
{
    "body": "Changed branch from **[public/graphs/27734_fractional_coloring](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/27734_fractional_coloring)** to **[`a3fe1e0`](https://github.com/sagemath/sagetrac-mirror/commit/a3fe1e0d572dcc79fa3ef9e9515361b2a9130a07)**",
    "created_at": "2020-08-23T16:28:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27734#issuecomment-429878",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/graphs/27734_fractional_coloring](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/27734_fractional_coloring)** to **[`a3fe1e0`](https://github.com/sagemath/sagetrac-mirror/commit/a3fe1e0d572dcc79fa3ef9e9515361b2a9130a07)**



---

archive/issue_events_377523.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-23T16:28:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27734#event-377523"
}
```



---

archive/issue_events_377524.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "7795239d3e6e693d8a35fbe267d3fa43fab0b379",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-08-23T16:28:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/27734",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27734#event-377524"
}
```
