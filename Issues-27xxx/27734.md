# Issue 27734: Fractional chromatic number

archive/issues_027497.json:
```json
{
    "body": "Add methods to Graph in sage/graphs/graph.py for computing the fractional chromatic and clique numbers via a linear program. The code is essentially the same as that for `fractional_chromatic_index`, e.g. the default solver is PPL for exact rational computation.\n\n**Assignee:** @ed359\n\n**CC:**  @tscrim\n\n**Branch/Commit:** [a3fe1e0d572dcc79fa3ef9e9515361b2a9130a07](https://github.com/sagemath/sagetrac-mirror/commit/a3fe1e0d572dcc79fa3ef9e9515361b2a9130a07)\n\n**Reviewer:** David Coudert, Travis Scrimshaw\n\n**Author:** Ewan Davies\n\nIssue created by migration from https://trac.sagemath.org/ticket/27734\n\n",
    "closed_at": "2020-08-23T16:28:15Z",
    "created_at": "2019-04-27T02:21:43Z",
    "labels": [
        "component: graph theory",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "Fractional chromatic number",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27734",
    "user": "https://github.com/ed359"
}
```
Add methods to Graph in sage/graphs/graph.py for computing the fractional chromatic and clique numbers via a linear program. The code is essentially the same as that for `fractional_chromatic_index`, e.g. the default solver is PPL for exact rational computation.

**Assignee:** @ed359

**CC:**  @tscrim

**Branch/Commit:** [a3fe1e0d572dcc79fa3ef9e9515361b2a9130a07](https://github.com/sagemath/sagetrac-mirror/commit/a3fe1e0d572dcc79fa3ef9e9515361b2a9130a07)

**Reviewer:** David Coudert, Travis Scrimshaw

**Author:** Ewan Davies

Issue created by migration from https://trac.sagemath.org/ticket/27734





---

archive/issue_comments_432598.json:
```json
{
    "body": "**Branch:** [u/gh-ed359/fractional_chromatic_number](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-ed359/fractional_chromatic_number)",
    "created_at": "2019-04-27T03:04:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432598",
    "user": "https://github.com/ed359"
}
```

**Branch:** [u/gh-ed359/fractional_chromatic_number](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-ed359/fractional_chromatic_number)



---

archive/issue_comments_432599.json:
```json
{
    "body": "**Commit:** [9d2c96e63ba4d1290a9bdf9329f6e71e32b557f3](https://github.com/sagemath/sagetrac-mirror/commit/9d2c96e63ba4d1290a9bdf9329f6e71e32b557f3)",
    "created_at": "2019-05-03T18:54:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432599",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [9d2c96e63ba4d1290a9bdf9329f6e71e32b557f3](https://github.com/sagemath/sagetrac-mirror/commit/9d2c96e63ba4d1290a9bdf9329f6e71e32b557f3)



---

archive/issue_comments_432600.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d2c96e63ba4d1290a9bdf9329f6e71e32b557f3\">9d2c96e</a></td><td><code>add fractional chromatic and clique number methods to Graph class</code></td></tr></table>\n",
    "created_at": "2019-05-03T18:54:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432600",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d2c96e63ba4d1290a9bdf9329f6e71e32b557f3">9d2c96e</a></td><td><code>add fractional chromatic and clique number methods to Graph class</code></td></tr></table>




---

archive/issue_events_244702.json:
```json
{
    "actor": "https://github.com/ed359",
    "created_at": "2019-05-03T19:00:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "label": "component: graph theory",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27734#event-244702"
}
```



---

archive/issue_events_244703.json:
```json
{
    "actor": "https://github.com/ed359",
    "created_at": "2019-05-03T19:00:55Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27734#event-244703"
}
```



---

archive/issue_events_244704.json:
```json
{
    "actor": "https://github.com/ed359",
    "created_at": "2019-05-03T19:00:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "label": "enhancement",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27734#event-244704"
}
```



---

archive/issue_events_244705.json:
```json
{
    "actor": "https://github.com/ed359",
    "created_at": "2019-05-03T19:00:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "label": "minor",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27734#event-244705"
}
```



---

archive/issue_comments_432601.json:
```json
{
    "body": "**Assignee:** @ed359",
    "created_at": "2019-05-03T19:00:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432601",
    "user": "https://github.com/ed359"
}
```

**Assignee:** @ed359



---

archive/issue_comments_432602.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+Add methods to Graph in sage/graphs/graph.py for computing the fractional chromatic and clique numbers via a linear program. The code is essentially the same as that for `fractional_clique_number`, e.g. the default solver is PPL for exact rational computation.\n``````\n",
    "created_at": "2019-05-03T19:00:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432602",
    "user": "https://github.com/ed359"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+Add methods to Graph in sage/graphs/graph.py for computing the fractional chromatic and clique numbers via a linear program. The code is essentially the same as that for `fractional_clique_number`, e.g. the default solver is PPL for exact rational computation.
``````




---

archive/issue_comments_432603.json:
```json
{
    "body": "**Changing commit** from \"[9d2c96e63ba4d1290a9bdf9329f6e71e32b557f3](https://github.com/sagemath/sagetrac-mirror/commit/9d2c96e63ba4d1290a9bdf9329f6e71e32b557f3)\" to \"[4c3591de7ba1083a5c4e50cee12eaade1c86f700](https://github.com/sagemath/sagetrac-mirror/commit/4c3591de7ba1083a5c4e50cee12eaade1c86f700)\".",
    "created_at": "2019-05-03T21:57:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432603",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9d2c96e63ba4d1290a9bdf9329f6e71e32b557f3](https://github.com/sagemath/sagetrac-mirror/commit/9d2c96e63ba4d1290a9bdf9329f6e71e32b557f3)" to "[4c3591de7ba1083a5c4e50cee12eaade1c86f700](https://github.com/sagemath/sagetrac-mirror/commit/4c3591de7ba1083a5c4e50cee12eaade1c86f700)".



---

archive/issue_comments_432604.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4c3591de7ba1083a5c4e50cee12eaade1c86f700\">4c3591d</a></td><td><code>add fractional chromatic and clique number methods to Graph class</code></td></tr></table>\n",
    "created_at": "2019-05-03T21:57:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432604",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4c3591de7ba1083a5c4e50cee12eaade1c86f700">4c3591d</a></td><td><code>add fractional chromatic and clique number methods to Graph class</code></td></tr></table>




---

archive/issue_comments_432605.json:
```json
{
    "body": "<a id='comment:5'></a>\nI have several comments here:\n- method `fractional_chromatic_number` could be in file `graph_coloring.py`\n\n- The LP formulation using independent sets is elegant, but can be used on small graphs only. For instance, a 5x5 grid has already 55447 independent sets... You could add a \"compact\" formulation that could be used on larger graphs.\n\n- You can also add simple optimization like partition into connected components.\n\n- `optimim` -> `optimum`",
    "created_at": "2019-05-04T08:52:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432605",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:5'></a>
I have several comments here:
- method `fractional_chromatic_number` could be in file `graph_coloring.py`

- The LP formulation using independent sets is elegant, but can be used on small graphs only. For instance, a 5x5 grid has already 55447 independent sets... You could add a "compact" formulation that could be used on larger graphs.

- You can also add simple optimization like partition into connected components.

- `optimim` -> `optimum`



---

archive/issue_comments_432606.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [dcoudert](#comment%3A5):\n> I have several comments here:\n> - method `fractional_chromatic_number` could be in file `graph_coloring.py`\n \n>\n\nSure, should I move `fractional_chromatic_index` too? And what about `fractional_clique_number`? One does not usually arrive at the definition of fractional clique number via coloring, but they're dual LPs so very related!\n\n\n> - The LP formulation using independent sets is elegant, but can be used on small graphs only. For instance, a 5x5 grid has already 55447 independent sets... You could add a \"compact\" formulation that could be used on larger graphs.\n \n>\n\nI don't know of a fancy algorithm for fractional chromatic number that would be asymptotically better than the LP. I forgot an optimisation which makes the LP smaller by using `_maximal_` independent sets for the variables, and it could save some time and memory to index the LP variables by ints rather than frozensets. \nI don't know how to get around a call to `IndependentSets` of some kind though.\n\n> - You can also add simple optimization like partition into connected components.\n\n\nThis sounds useful, I'll investigate.\n\n> \n> - `optimim` -> `optimum`\n",
    "created_at": "2019-05-08T00:42:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432606",
    "user": "https://github.com/ed359"
}
```

<a id='comment:6'></a>
Replying to [dcoudert](#comment%3A5):
> I have several comments here:
> - method `fractional_chromatic_number` could be in file `graph_coloring.py`
 
>

Sure, should I move `fractional_chromatic_index` too? And what about `fractional_clique_number`? One does not usually arrive at the definition of fractional clique number via coloring, but they're dual LPs so very related!


> - The LP formulation using independent sets is elegant, but can be used on small graphs only. For instance, a 5x5 grid has already 55447 independent sets... You could add a "compact" formulation that could be used on larger graphs.
 
>

I don't know of a fancy algorithm for fractional chromatic number that would be asymptotically better than the LP. I forgot an optimisation which makes the LP smaller by using `_maximal_` independent sets for the variables, and it could save some time and memory to index the LP variables by ints rather than frozensets. 
I don't know how to get around a call to `IndependentSets` of some kind though.

> - You can also add simple optimization like partition into connected components.


This sounds useful, I'll investigate.

> 
> - `optimim` -> `optimum`




---

archive/issue_comments_432607.json:
```json
{
    "body": "<a id='comment:7'></a>\n> Sure, should I move `fractional_chromatic_index` too? And what about `fractional_clique_number`? One does not usually arrive at the definition of fractional clique number via coloring, but they're dual LPs so very related!\n\n\nYes, move them all.\n\n> > - The LP formulation using independent sets is elegant, but can be used on small graphs only. For instance, a 5x5 grid has already 55447 independent sets... You could add a \"compact\" formulation that could be used on larger graphs.\n \n> >\n> \n> I don't know of a fancy algorithm for fractional chromatic number that would be asymptotically better than the LP.\n\n\nI tried another formulation with `n^2` binary variables and `O(n^2)` fractional variables but it's effectively way slower.\n\nYou could add a note saying that the number of independent sets and the time to generate them can be huge.\n\n> I forgot an optimisation which makes the LP smaller by using `_maximal_` independent sets for the variables, \n\nOK\n\n> and it could save some time and memory to index the LP variables by ints rather than frozensets.\n> I don't know how to get around a call to `IndependentSets` of some kind though.\n\n\nAt least, you can do:\n\n```\n        Is = [frozenset(I) for I in IndependentSets(G, maximal=True)]\n```\n`IndependentSets` is an iterator, so your code generates twice each set. Furthermore, when you check `v in I`, it is way faster when `I` is a set and not a list.\n\n\n\nDon't forget to check trivial cases like bipartite graphs.",
    "created_at": "2019-05-08T10:31:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432607",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:7'></a>
> Sure, should I move `fractional_chromatic_index` too? And what about `fractional_clique_number`? One does not usually arrive at the definition of fractional clique number via coloring, but they're dual LPs so very related!


Yes, move them all.

> > - The LP formulation using independent sets is elegant, but can be used on small graphs only. For instance, a 5x5 grid has already 55447 independent sets... You could add a "compact" formulation that could be used on larger graphs.
 
> >
> 
> I don't know of a fancy algorithm for fractional chromatic number that would be asymptotically better than the LP.


I tried another formulation with `n^2` binary variables and `O(n^2)` fractional variables but it's effectively way slower.

You could add a note saying that the number of independent sets and the time to generate them can be huge.

> I forgot an optimisation which makes the LP smaller by using `_maximal_` independent sets for the variables, 

OK

> and it could save some time and memory to index the LP variables by ints rather than frozensets.
> I don't know how to get around a call to `IndependentSets` of some kind though.


At least, you can do:

```
        Is = [frozenset(I) for I in IndependentSets(G, maximal=True)]
```
`IndependentSets` is an iterator, so your code generates twice each set. Furthermore, when you check `v in I`, it is way faster when `I` is a set and not a list.



Don't forget to check trivial cases like bipartite graphs.



---

archive/issue_comments_432608.json:
```json
{
    "body": "**Changing commit** from \"[4c3591de7ba1083a5c4e50cee12eaade1c86f700](https://github.com/sagemath/sagetrac-mirror/commit/4c3591de7ba1083a5c4e50cee12eaade1c86f700)\" to \"[5ba5a5a40cd33901c5f4307d59aa68a4359b0430](https://github.com/sagemath/sagetrac-mirror/commit/5ba5a5a40cd33901c5f4307d59aa68a4359b0430)\".",
    "created_at": "2019-05-09T02:27:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432608",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4c3591de7ba1083a5c4e50cee12eaade1c86f700](https://github.com/sagemath/sagetrac-mirror/commit/4c3591de7ba1083a5c4e50cee12eaade1c86f700)" to "[5ba5a5a40cd33901c5f4307d59aa68a4359b0430](https://github.com/sagemath/sagetrac-mirror/commit/5ba5a5a40cd33901c5f4307d59aa68a4359b0430)".



---

archive/issue_comments_432609.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** New commits:",
    "created_at": "2019-05-09T02:27:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432609",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** New commits:



---

archive/issue_comments_432610.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/74dc396716e3b064dfb496de77c0dc5e03701073\">74dc396</a></td><td><code>move fractional_chromatic_index to graph_coloring.py</code></td></tr></table>\n",
    "created_at": "2019-05-09T03:02:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432610",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/74dc396716e3b064dfb496de77c0dc5e03701073">74dc396</a></td><td><code>move fractional_chromatic_index to graph_coloring.py</code></td></tr></table>




---

archive/issue_comments_432611.json:
```json
{
    "body": "**Changing commit** from \"[5ba5a5a40cd33901c5f4307d59aa68a4359b0430](https://github.com/sagemath/sagetrac-mirror/commit/5ba5a5a40cd33901c5f4307d59aa68a4359b0430)\" to \"[74dc396716e3b064dfb496de77c0dc5e03701073](https://github.com/sagemath/sagetrac-mirror/commit/74dc396716e3b064dfb496de77c0dc5e03701073)\".",
    "created_at": "2019-05-09T03:02:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432611",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[5ba5a5a40cd33901c5f4307d59aa68a4359b0430](https://github.com/sagemath/sagetrac-mirror/commit/5ba5a5a40cd33901c5f4307d59aa68a4359b0430)" to "[74dc396716e3b064dfb496de77c0dc5e03701073](https://github.com/sagemath/sagetrac-mirror/commit/74dc396716e3b064dfb496de77c0dc5e03701073)".



---

archive/issue_comments_432612.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3250befbcbb0f653854ecd1277a70ad03aac4e3a\">3250bef</a></td><td><code>move fractional_chromatic_index to graph_coloring.py</code></td></tr></table>\n",
    "created_at": "2019-05-09T04:11:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432612",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3250befbcbb0f653854ecd1277a70ad03aac4e3a">3250bef</a></td><td><code>move fractional_chromatic_index to graph_coloring.py</code></td></tr></table>




---

archive/issue_comments_432613.json:
```json
{
    "body": "**Changing commit** from \"[74dc396716e3b064dfb496de77c0dc5e03701073](https://github.com/sagemath/sagetrac-mirror/commit/74dc396716e3b064dfb496de77c0dc5e03701073)\" to \"[3250befbcbb0f653854ecd1277a70ad03aac4e3a](https://github.com/sagemath/sagetrac-mirror/commit/3250befbcbb0f653854ecd1277a70ad03aac4e3a)\".",
    "created_at": "2019-05-09T04:11:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432613",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[74dc396716e3b064dfb496de77c0dc5e03701073](https://github.com/sagemath/sagetrac-mirror/commit/74dc396716e3b064dfb496de77c0dc5e03701073)" to "[3250befbcbb0f653854ecd1277a70ad03aac4e3a](https://github.com/sagemath/sagetrac-mirror/commit/3250befbcbb0f653854ecd1277a70ad03aac4e3a)".



---

archive/issue_comments_432614.json:
```json
{
    "body": "<a id='comment:11'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3250befbcbb0f653854ecd1277a70ad03aac4e3a\">3250bef</a></td><td><code>move fractional_chromatic_index to graph_coloring.py</code></td></tr></table>\n",
    "created_at": "2019-05-09T04:15:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432614",
    "user": "https://github.com/ed359"
}
```

<a id='comment:11'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3250befbcbb0f653854ecd1277a70ad03aac4e3a">3250bef</a></td><td><code>move fractional_chromatic_index to graph_coloring.py</code></td></tr></table>




---

archive/issue_comments_432615.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Add methods to Graph in sage/graphs/graph.py for computing the fractional chromatic and clique numbers via a linear program. The code is essentially the same as that for `fractional_clique_number`, e.g. the default solver is PPL for exact rational computation.\n+Add methods to Graph in sage/graphs/graph.py for computing the fractional chromatic and clique numbers via a linear program. The code is essentially the same as that for `fractional_chromatic_index`, e.g. the default solver is PPL for exact rational computation.\n``````\n",
    "created_at": "2019-05-09T04:15:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432615",
    "user": "https://github.com/ed359"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1 @@
-Add methods to Graph in sage/graphs/graph.py for computing the fractional chromatic and clique numbers via a linear program. The code is essentially the same as that for `fractional_clique_number`, e.g. the default solver is PPL for exact rational computation.
+Add methods to Graph in sage/graphs/graph.py for computing the fractional chromatic and clique numbers via a linear program. The code is essentially the same as that for `fractional_chromatic_index`, e.g. the default solver is PPL for exact rational computation.
``````




---

archive/issue_comments_432616.json:
```json
{
    "body": "**Changing commit** from \"[3250befbcbb0f653854ecd1277a70ad03aac4e3a](https://github.com/sagemath/sagetrac-mirror/commit/3250befbcbb0f653854ecd1277a70ad03aac4e3a)\" to \"[d765ee29175e802cbbb44557471ab081c6e14c33](https://github.com/sagemath/sagetrac-mirror/commit/d765ee29175e802cbbb44557471ab081c6e14c33)\".",
    "created_at": "2019-05-09T04:41:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432616",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[3250befbcbb0f653854ecd1277a70ad03aac4e3a](https://github.com/sagemath/sagetrac-mirror/commit/3250befbcbb0f653854ecd1277a70ad03aac4e3a)" to "[d765ee29175e802cbbb44557471ab081c6e14c33](https://github.com/sagemath/sagetrac-mirror/commit/d765ee29175e802cbbb44557471ab081c6e14c33)".



---

archive/issue_comments_432617.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** New commits:",
    "created_at": "2019-05-09T04:41:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432617",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** New commits:



---

archive/issue_comments_432618.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/147bed0ab076e29c8a5dd597e5ec01037a7833fd\">147bed0</a></td><td><code>Add fractional chromatic number and fractional clique number methods to Graph</code></td></tr></table>\n",
    "created_at": "2019-05-09T05:34:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432618",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/147bed0ab076e29c8a5dd597e5ec01037a7833fd">147bed0</a></td><td><code>Add fractional chromatic number and fractional clique number methods to Graph</code></td></tr></table>




---

archive/issue_comments_432619.json:
```json
{
    "body": "**Changing commit** from \"[d765ee29175e802cbbb44557471ab081c6e14c33](https://github.com/sagemath/sagetrac-mirror/commit/d765ee29175e802cbbb44557471ab081c6e14c33)\" to \"[147bed0ab076e29c8a5dd597e5ec01037a7833fd](https://github.com/sagemath/sagetrac-mirror/commit/147bed0ab076e29c8a5dd597e5ec01037a7833fd)\".",
    "created_at": "2019-05-09T05:34:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432619",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d765ee29175e802cbbb44557471ab081c6e14c33](https://github.com/sagemath/sagetrac-mirror/commit/d765ee29175e802cbbb44557471ab081c6e14c33)" to "[147bed0ab076e29c8a5dd597e5ec01037a7833fd](https://github.com/sagemath/sagetrac-mirror/commit/147bed0ab076e29c8a5dd597e5ec01037a7833fd)".



---

archive/issue_comments_432620.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [dcoudert](#comment%3A7):\n\nI've added the optimisations we discussed. Apologies for (a) the pointless git noise on this ticket, and (b) the following silly issue. \n\nI can't see how to move a class method to another file. In `generic_graph.py` lines 23426-23443 it appears that one can simply write `from sage.module import method` inside the class definition to make `method` appear on the class, e.g.\n\n```python\nclass Foo:\n    from sage.module import method\n\nf = Foo()\nf.method() # works!\n```\n\nbut any variation of this I have tried leads to sage crashing on start with an `ImportError`. The traceback is sufficiently cryptic that I can't diagnose the problem. \n\nFor now I just add a one-line method the usual `def method():` way to the `sage.graphs.Graph` class that imports and calls the method defined in `sage.graphs.graph_coloring.py` that I want, but there should be a better way!",
    "created_at": "2019-05-09T05:47:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432620",
    "user": "https://github.com/ed359"
}
```

<a id='comment:14'></a>
Replying to [dcoudert](#comment%3A7):

I've added the optimisations we discussed. Apologies for (a) the pointless git noise on this ticket, and (b) the following silly issue. 

I can't see how to move a class method to another file. In `generic_graph.py` lines 23426-23443 it appears that one can simply write `from sage.module import method` inside the class definition to make `method` appear on the class, e.g.

```python
class Foo:
    from sage.module import method

f = Foo()
f.method() # works!
```

but any variation of this I have tried leads to sage crashing on start with an `ImportError`. The traceback is sufficiently cryptic that I can't diagnose the problem. 

For now I just add a one-line method the usual `def method():` way to the `sage.graphs.Graph` class that imports and calls the method defined in `sage.graphs.graph_coloring.py` that I want, but there should be a better way!



---

archive/issue_comments_432621.json:
```json
{
    "body": "<a id='comment:15'></a>\nThis should work. It avoids circular imports. As the branch is in `public/`, you can modify it. \n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8bc697844a8cad28856dfabfacb7a0d2e541fbf\">e8bc697</a></td><td><code>trac #27734: fix import error</code></td></tr></table>\n",
    "created_at": "2019-05-09T06:57:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432621",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:15'></a>
This should work. It avoids circular imports. As the branch is in `public/`, you can modify it. 

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8bc697844a8cad28856dfabfacb7a0d2e541fbf">e8bc697</a></td><td><code>trac #27734: fix import error</code></td></tr></table>




---

archive/issue_comments_432622.json:
```json
{
    "body": "**Changing commit** from \"[147bed0ab076e29c8a5dd597e5ec01037a7833fd](https://github.com/sagemath/sagetrac-mirror/commit/147bed0ab076e29c8a5dd597e5ec01037a7833fd)\" to \"[e8bc697844a8cad28856dfabfacb7a0d2e541fbf](https://github.com/sagemath/sagetrac-mirror/commit/e8bc697844a8cad28856dfabfacb7a0d2e541fbf)\".",
    "created_at": "2019-05-09T06:57:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432622",
    "user": "https://github.com/dcoudert"
}
```

**Changing commit** from "[147bed0ab076e29c8a5dd597e5ec01037a7833fd](https://github.com/sagemath/sagetrac-mirror/commit/147bed0ab076e29c8a5dd597e5ec01037a7833fd)" to "[e8bc697844a8cad28856dfabfacb7a0d2e541fbf](https://github.com/sagemath/sagetrac-mirror/commit/e8bc697844a8cad28856dfabfacb7a0d2e541fbf)".



---

archive/issue_comments_432623.json:
```json
{
    "body": "**Changing branch** from \"[u/gh-ed359/fractional_chromatic_number](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-ed359/fractional_chromatic_number)\" to \"[public/graphs/27734_fractional_chromatic_number](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/27734_fractional_chromatic_number)\".",
    "created_at": "2019-05-09T06:57:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432623",
    "user": "https://github.com/dcoudert"
}
```

**Changing branch** from "[u/gh-ed359/fractional_chromatic_number](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-ed359/fractional_chromatic_number)" to "[public/graphs/27734_fractional_chromatic_number](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/27734_fractional_chromatic_number)".



---

archive/issue_comments_432624.json:
```json
{
    "body": "<a id='comment:16'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b5f10e7ee7ccd81cf2e1843e8ee0522ea06cb96\">7b5f10e</a></td><td><code>finish fractional_clique_number</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2ec7e18e29633532313cfd595635318e54130d26\">2ec7e18</a></td><td><code>move fractional_chromatic_index to graph_coloring.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c7123e26f0d65f7678544ca9a12be48c621f04f\">8c7123e</a></td><td><code>docs: reorganise graph methods with a coloring section</code></td></tr></table>\n",
    "created_at": "2019-05-12T21:57:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432624",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b5f10e7ee7ccd81cf2e1843e8ee0522ea06cb96">7b5f10e</a></td><td><code>finish fractional_clique_number</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2ec7e18e29633532313cfd595635318e54130d26">2ec7e18</a></td><td><code>move fractional_chromatic_index to graph_coloring.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c7123e26f0d65f7678544ca9a12be48c621f04f">8c7123e</a></td><td><code>docs: reorganise graph methods with a coloring section</code></td></tr></table>




---

archive/issue_comments_432625.json:
```json
{
    "body": "**Changing commit** from \"[e8bc697844a8cad28856dfabfacb7a0d2e541fbf](https://github.com/sagemath/sagetrac-mirror/commit/e8bc697844a8cad28856dfabfacb7a0d2e541fbf)\" to \"[8c7123e26f0d65f7678544ca9a12be48c621f04f](https://github.com/sagemath/sagetrac-mirror/commit/8c7123e26f0d65f7678544ca9a12be48c621f04f)\".",
    "created_at": "2019-05-12T21:57:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432625",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[e8bc697844a8cad28856dfabfacb7a0d2e541fbf](https://github.com/sagemath/sagetrac-mirror/commit/e8bc697844a8cad28856dfabfacb7a0d2e541fbf)" to "[8c7123e26f0d65f7678544ca9a12be48c621f04f](https://github.com/sagemath/sagetrac-mirror/commit/8c7123e26f0d65f7678544ca9a12be48c621f04f)".



---

archive/issue_events_244706.json:
```json
{
    "actor": "https://github.com/ed359",
    "created_at": "2019-05-12T21:58:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27734#event-244706"
}
```



---

archive/issue_comments_432626.json:
```json
{
    "body": "<a id='comment:18'></a>\nSome quick comments:\n- In all input blocks, the alignement of the 2nd line is only 2 spaces more than the first line, not 4.\n\n```diff\n-    - ``solver`` -- (default: ``\"PPL\"``); specify a Linear Program (LP)\n-        solver to be used. If set to ``None``, the default one is used. For\n+    - ``solver`` -- (default: ``\"PPL\"``); specify a Linear Program (LP)\n+      solver to be used. If set to ``None``, the default one is used. For\n```\n\n- I don't know the number of needed spaces for `.. NOTE::` inside the `INPUT` block. Have you tried building the documentation ? does it looks good ? I cannot check by myself (unable to build the doc yet. I will try to fix that)\n\n- I'm not convinced by `only_maximal`. Why not `maximal_only` or simply `maximal`?\nFurthermore, if it is proven that you can use maximal independent sets only, then why do we need this parameter ? Of course if not proven it's a different story.\n\n- in documentation, you can use <code>\\`G\\`</code> instead of `G`.\n\n- we need double <code>\\`\\`</code> for True, False and None, so <code>\\`\\`True\\`\\`</code> not <code>\\`True\\`</code>\n\n- It's a very good idea to introduce `@doc_index(\"Coloring\")`.",
    "created_at": "2019-05-13T15:23:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432626",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:18'></a>
Some quick comments:
- In all input blocks, the alignement of the 2nd line is only 2 spaces more than the first line, not 4.

```diff
-    - ``solver`` -- (default: ``"PPL"``); specify a Linear Program (LP)
-        solver to be used. If set to ``None``, the default one is used. For
+    - ``solver`` -- (default: ``"PPL"``); specify a Linear Program (LP)
+      solver to be used. If set to ``None``, the default one is used. For
```

- I don't know the number of needed spaces for `.. NOTE::` inside the `INPUT` block. Have you tried building the documentation ? does it looks good ? I cannot check by myself (unable to build the doc yet. I will try to fix that)

- I'm not convinced by `only_maximal`. Why not `maximal_only` or simply `maximal`?
Furthermore, if it is proven that you can use maximal independent sets only, then why do we need this parameter ? Of course if not proven it's a different story.

- in documentation, you can use <code>\`G\`</code> instead of `G`.

- we need double <code>\`\`</code> for True, False and None, so <code>\`\`True\`\`</code> not <code>\`True\`</code>

- It's a very good idea to introduce `@doc_index("Coloring")`.



---

archive/issue_comments_432627.json:
```json
{
    "body": "<a id='comment:19'></a>\nStrangely, I can't find a reference for the maximal thing, but here's a proof in pythonic pseudocode (since I can't see how to write math in a ticket):\n\n  Let `Is` be the set of all independent sets of `G`, and `MIs` be the subset of `Is` consisting of maximal independent sets.\n  \n  If `w` is a nonnegative weight function on independent sets that is feasible in the LP, we have for all vertices `u` of the graph, `sum(w[I] for I in Is if u in I) >= 1`. \n  \n  Suppose that there exists `J in Is` with `w[J] > 0` and a vertex `v` such that `J + [v] in Is`. Then form `x` from `w` by `x[J] = 0`, `x[J + [v]] = w[J] + w[J+[v]]`, and `x[I] = w[I]` for all other `I`. Then `x` is also feasible as moving weight to a larger independent set can only increase the sum of weights over `I in Is if u in I` and the objective values for `w` and `x` are the same by construction. By repeatedly applying this trick we obtain a weight function supported only on `MIs`.\n\nThere's a tradeoff though: if you consider all independent sets then it's valid to use the LP with equality constraints, but it is invalid to impose equality constraints *and* to drop variables corresponding to non-maximal independent sets (the LP can become infeasible).\n\nSomeone with better knowledge of the inner workings of LP solvers could make a call as to which is preferable. My understanding is that for some algorithms each inequality constraint is replaced by an additional variable and an equality constraint. But having two variables for each maximal independent set should still be cheaper than having a single variable for each independent set. I guess benchmarks are warranted, but I don't have the time.",
    "created_at": "2019-05-13T17:39:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432627",
    "user": "https://github.com/ed359"
}
```

<a id='comment:19'></a>
Strangely, I can't find a reference for the maximal thing, but here's a proof in pythonic pseudocode (since I can't see how to write math in a ticket):

  Let `Is` be the set of all independent sets of `G`, and `MIs` be the subset of `Is` consisting of maximal independent sets.
  
  If `w` is a nonnegative weight function on independent sets that is feasible in the LP, we have for all vertices `u` of the graph, `sum(w[I] for I in Is if u in I) >= 1`. 
  
  Suppose that there exists `J in Is` with `w[J] > 0` and a vertex `v` such that `J + [v] in Is`. Then form `x` from `w` by `x[J] = 0`, `x[J + [v]] = w[J] + w[J+[v]]`, and `x[I] = w[I]` for all other `I`. Then `x` is also feasible as moving weight to a larger independent set can only increase the sum of weights over `I in Is if u in I` and the objective values for `w` and `x` are the same by construction. By repeatedly applying this trick we obtain a weight function supported only on `MIs`.

There's a tradeoff though: if you consider all independent sets then it's valid to use the LP with equality constraints, but it is invalid to impose equality constraints *and* to drop variables corresponding to non-maximal independent sets (the LP can become infeasible).

Someone with better knowledge of the inner workings of LP solvers could make a call as to which is preferable. My understanding is that for some algorithms each inequality constraint is replaced by an additional variable and an equality constraint. But having two variables for each maximal independent set should still be cheaper than having a single variable for each independent set. I guess benchmarks are warranted, but I don't have the time.



---

archive/issue_comments_432628.json:
```json
{
    "body": "<a id='comment:20'></a>\nCheck Section 2.1 of [1]. Not a formal proof, but give complementary arguments.\n\n\n\n[1] I. Caragiannis, Afonso Ferreira, C. Kaklamanis, St\u00e9phane P\u00e9rennes, Herv\u00e9 Rivano. Fractional Path Coloring in Bounded Degree Trees with Applications\nAlgorithmica, Springer Verlag, 2010, 58 (2), pp.516-540. \u27e810.1007/s00453-009-9278-3\u27e9\nhttps://hal.archives-ouvertes.fr/hal-00371052",
    "created_at": "2019-05-14T08:44:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432628",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:20'></a>
Check Section 2.1 of [1]. Not a formal proof, but give complementary arguments.



[1] I. Caragiannis, Afonso Ferreira, C. Kaklamanis, Stéphane Pérennes, Hervé Rivano. Fractional Path Coloring in Bounded Degree Trees with Applications
Algorithmica, Springer Verlag, 2010, 58 (2), pp.516-540. ⟨10.1007/s00453-009-9278-3⟩
https://hal.archives-ouvertes.fr/hal-00371052



---

archive/issue_comments_432629.json:
```json
{
    "body": "**Changing branch** from \"[public/graphs/27734_fractional_chromatic_number](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/27734_fractional_chromatic_number)\" to \"[public/graphs/27734_fractional_coloring](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/27734_fractional_coloring)\".",
    "created_at": "2020-08-09T22:57:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432629",
    "user": "https://github.com/dcoudert"
}
```

**Changing branch** from "[public/graphs/27734_fractional_chromatic_number](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/27734_fractional_chromatic_number)" to "[public/graphs/27734_fractional_coloring](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/27734_fractional_coloring)".



---

archive/issue_comments_432630.json:
```json
{
    "body": "**Changing commit** from \"[8c7123e26f0d65f7678544ca9a12be48c621f04f](https://github.com/sagemath/sagetrac-mirror/commit/8c7123e26f0d65f7678544ca9a12be48c621f04f)\" to \"[0e45ee1c15f6a8d84e8c04a40345d29e65315e54](https://github.com/sagemath/sagetrac-mirror/commit/0e45ee1c15f6a8d84e8c04a40345d29e65315e54)\".",
    "created_at": "2020-08-09T22:57:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432630",
    "user": "https://github.com/dcoudert"
}
```

**Changing commit** from "[8c7123e26f0d65f7678544ca9a12be48c621f04f](https://github.com/sagemath/sagetrac-mirror/commit/8c7123e26f0d65f7678544ca9a12be48c621f04f)" to "[0e45ee1c15f6a8d84e8c04a40345d29e65315e54](https://github.com/sagemath/sagetrac-mirror/commit/0e45ee1c15f6a8d84e8c04a40345d29e65315e54)".



---

archive/issue_events_244707.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-08-09T22:57:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27734#event-244707"
}
```



---

archive/issue_comments_432631.json:
```json
{
    "body": "<a id='comment:21'></a>\nI have rebuild the branch over sage 9.2.beta7 and fix various compilation, doctests and doc build issues.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29b21ea4978d7ba23099a243dac6ab937009e076\">29b21ea</a></td><td><code>trac #27734: restart on top of 9.2.beta7</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7dccc1b8c28254be3fd39a6608ce187f5125194c\">7dccc1b</a></td><td><code>trac #27734: ensure doctests pass</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0e45ee1c15f6a8d84e8c04a40345d29e65315e54\">0e45ee1</a></td><td><code>trac #27734: polishing</code></td></tr></table>\n",
    "created_at": "2020-08-09T22:57:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432631",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:21'></a>
I have rebuild the branch over sage 9.2.beta7 and fix various compilation, doctests and doc build issues.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29b21ea4978d7ba23099a243dac6ab937009e076">29b21ea</a></td><td><code>trac #27734: restart on top of 9.2.beta7</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7dccc1b8c28254be3fd39a6608ce187f5125194c">7dccc1b</a></td><td><code>trac #27734: ensure doctests pass</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0e45ee1c15f6a8d84e8c04a40345d29e65315e54">0e45ee1</a></td><td><code>trac #27734: polishing</code></td></tr></table>




---

archive/issue_comments_432632.json:
```json
{
    "body": "**Author:** Ewan Davies",
    "created_at": "2020-08-09T23:00:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432632",
    "user": "https://github.com/dcoudert"
}
```

**Author:** Ewan Davies



---

archive/issue_comments_432633.json:
```json
{
    "body": "**Reviewer:** David Coudert",
    "created_at": "2020-08-09T23:00:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432633",
    "user": "https://github.com/dcoudert"
}
```

**Reviewer:** David Coudert



---

archive/issue_comments_432634.json:
```json
{
    "body": "<a id='comment:23'></a>\nIssues reported by the patchbots seems uncorrelated and I cannot reproduce them.",
    "created_at": "2020-08-10T12:25:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432634",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:23'></a>
Issues reported by the patchbots seems uncorrelated and I cannot reproduce them.



---

archive/issue_comments_432635.json:
```json
{
    "body": "<a id='comment:24'></a>\nFor me this patch is now good to go, but I would appreciate an external opinion. Thanks.",
    "created_at": "2020-08-18T12:01:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432635",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:24'></a>
For me this patch is now good to go, but I would appreciate an external opinion. Thanks.



---

archive/issue_comments_432636.json:
```json
{
    "body": "<a id='comment:25'></a>\nIt is fine, but if I wanted to nitpick about the doc: The `INPUT:` bullet point should not end with a period/full-stop (except for those really long ones). Also a missing period here:\n\n```diff\n     matchings in the following relaxed way\n \n     .. MATH::\n \n-        \\forall e \\in E(G), \\sum_{e \\in M_i} \\alpha_i \\geq 1\n+        \\forall e \\in E(G), \\sum_{e \\in M_i} \\alpha_i \\geq 1.\n \n     For more information, see the :wikipedia:`Fractional_coloring`.\n```",
    "created_at": "2020-08-18T23:29:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432636",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:25'></a>
It is fine, but if I wanted to nitpick about the doc: The `INPUT:` bullet point should not end with a period/full-stop (except for those really long ones). Also a missing period here:

```diff
     matchings in the following relaxed way
 
     .. MATH::
 
-        \forall e \in E(G), \sum_{e \in M_i} \alpha_i \geq 1
+        \forall e \in E(G), \sum_{e \in M_i} \alpha_i \geq 1.
 
     For more information, see the :wikipedia:`Fractional_coloring`.
```



---

archive/issue_comments_432637.json:
```json
{
    "body": "<a id='comment:26'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f371ca210ce1b6b050cd1590cfdb1bccc97a11f3\">f371ca2</a></td><td><code>trac #27734: merged with 9.2.beta9</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/09a8fd5263c2c0b33be8649ef7b14094b33c2715\">09a8fd5</a></td><td><code>trac #27734: improvements</code></td></tr></table>\n",
    "created_at": "2020-08-19T12:56:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432637",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f371ca210ce1b6b050cd1590cfdb1bccc97a11f3">f371ca2</a></td><td><code>trac #27734: merged with 9.2.beta9</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/09a8fd5263c2c0b33be8649ef7b14094b33c2715">09a8fd5</a></td><td><code>trac #27734: improvements</code></td></tr></table>




---

archive/issue_comments_432638.json:
```json
{
    "body": "**Changing commit** from \"[0e45ee1c15f6a8d84e8c04a40345d29e65315e54](https://github.com/sagemath/sagetrac-mirror/commit/0e45ee1c15f6a8d84e8c04a40345d29e65315e54)\" to \"[09a8fd5263c2c0b33be8649ef7b14094b33c2715](https://github.com/sagemath/sagetrac-mirror/commit/09a8fd5263c2c0b33be8649ef7b14094b33c2715)\".",
    "created_at": "2020-08-19T12:56:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432638",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[0e45ee1c15f6a8d84e8c04a40345d29e65315e54](https://github.com/sagemath/sagetrac-mirror/commit/0e45ee1c15f6a8d84e8c04a40345d29e65315e54)" to "[09a8fd5263c2c0b33be8649ef7b14094b33c2715](https://github.com/sagemath/sagetrac-mirror/commit/09a8fd5263c2c0b33be8649ef7b14094b33c2715)".



---

archive/issue_comments_432639.json:
```json
{
    "body": "<a id='comment:27'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a3fe1e0d572dcc79fa3ef9e9515361b2a9130a07\">a3fe1e0</a></td><td><code>trac #27734: use biconnected components</code></td></tr></table>\n",
    "created_at": "2020-08-19T13:18:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432639",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a3fe1e0d572dcc79fa3ef9e9515361b2a9130a07">a3fe1e0</a></td><td><code>trac #27734: use biconnected components</code></td></tr></table>




---

archive/issue_comments_432640.json:
```json
{
    "body": "**Changing commit** from \"[09a8fd5263c2c0b33be8649ef7b14094b33c2715](https://github.com/sagemath/sagetrac-mirror/commit/09a8fd5263c2c0b33be8649ef7b14094b33c2715)\" to \"[a3fe1e0d572dcc79fa3ef9e9515361b2a9130a07](https://github.com/sagemath/sagetrac-mirror/commit/a3fe1e0d572dcc79fa3ef9e9515361b2a9130a07)\".",
    "created_at": "2020-08-19T13:18:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432640",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[09a8fd5263c2c0b33be8649ef7b14094b33c2715](https://github.com/sagemath/sagetrac-mirror/commit/09a8fd5263c2c0b33be8649ef7b14094b33c2715)" to "[a3fe1e0d572dcc79fa3ef9e9515361b2a9130a07](https://github.com/sagemath/sagetrac-mirror/commit/a3fe1e0d572dcc79fa3ef9e9515361b2a9130a07)".



---

archive/issue_comments_432641.json:
```json
{
    "body": "<a id='comment:28'></a>\nI did required changes and\n- removed parameter `only_maximal`. It is correct to consider only maximal independent sets and very costly to consider all independent sets. I added the only reference I know with an explanation of the correctness.\n- use decomposition into biconnected components instead of simply connected components. It's faster this way.",
    "created_at": "2020-08-19T13:21:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432641",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:28'></a>
I did required changes and
- removed parameter `only_maximal`. It is correct to consider only maximal independent sets and very costly to consider all independent sets. I added the only reference I know with an explanation of the correctness.
- use decomposition into biconnected components instead of simply connected components. It's faster this way.



---

archive/issue_comments_432642.json:
```json
{
    "body": "**Changing reviewer** from \"David Coudert\" to \"David Coudert, Travis Scrimshaw\".",
    "created_at": "2020-08-19T23:04:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432642",
    "user": "https://github.com/tscrim"
}
```

**Changing reviewer** from "David Coudert" to "David Coudert, Travis Scrimshaw".



---

archive/issue_comments_432643.json:
```json
{
    "body": "<a id='comment:29'></a>\nYour changes LGTM. If the rest is reviewed, then this is a positive review.",
    "created_at": "2020-08-19T23:04:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432643",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:29'></a>
Your changes LGTM. If the rest is reviewed, then this is a positive review.



---

archive/issue_events_244708.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-08-20T07:25:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27734#event-244708"
}
```



---

archive/issue_events_244709.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-08-20T07:25:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27734#event-244709"
}
```



---

archive/issue_comments_432644.json:
```json
{
    "body": "<a id='comment:30'></a>\nThank you.",
    "created_at": "2020-08-20T07:25:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432644",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:30'></a>
Thank you.



---

archive/issue_comments_432645.json:
```json
{
    "body": "**Changing branch** from \"[public/graphs/27734_fractional_coloring](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/27734_fractional_coloring)\" to \"[a3fe1e0d572dcc79fa3ef9e9515361b2a9130a07](https://github.com/sagemath/sagetrac-mirror/commit/a3fe1e0d572dcc79fa3ef9e9515361b2a9130a07)\".",
    "created_at": "2020-08-23T16:28:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27734#issuecomment-432645",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/graphs/27734_fractional_coloring](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/27734_fractional_coloring)" to "[a3fe1e0d572dcc79fa3ef9e9515361b2a9130a07](https://github.com/sagemath/sagetrac-mirror/commit/a3fe1e0d572dcc79fa3ef9e9515361b2a9130a07)".



---

archive/issue_events_244710.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-23T16:28:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27734#event-244710"
}
```



---

archive/issue_events_244711.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-08-23T16:28:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27734",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27734#event-244711"
}
```
