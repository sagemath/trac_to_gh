# Issue 27915: Fix py3_syntax.py doctest on distros

archive/issues_027678.json:
```json
{
    "assignees": [],
    "body": "Make SortedDirectoryWalkerABC test suite pass when the source is not available and SAGE_SRC==SAGE_LIB, such as in distro packages.\n\nCC:  @kiwifb @timokau @saraedum @slel\n\nKeywords: **packaging**\n\nBranch/Commit: **[b4db222](https://github.com/sagemath/sagetrac-mirror/commit/b4db222e2987622006499ae2dd0d01eafce28a56)**\n\nReviewer: **Fran\u00e7ois Bissey**\n\nAuthor: **Antonio Rojas**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/27915_\n\n",
    "closed_at": "2019-06-05T18:30:47Z",
    "created_at": "2019-06-01T10:52:51Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20distribution",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Fix py3_syntax.py doctest on distros",
    "type": "issue",
    "updated_at": "2019-06-05T18:30:47Z",
    "url": "https://github.com/sagemath/sage/issues/27915",
    "user": "https://github.com/antonio-rojas"
}
```
Make SortedDirectoryWalkerABC test suite pass when the source is not available and SAGE_SRC==SAGE_LIB, such as in distro packages.

CC:  @kiwifb @timokau @saraedum @slel

Keywords: **packaging**

Branch/Commit: **[b4db222](https://github.com/sagemath/sagetrac-mirror/commit/b4db222e2987622006499ae2dd0d01eafce28a56)**

Reviewer: **Fran√ßois Bissey**

Author: **Antonio Rojas**

_Issue created by migration from https://trac.sagemath.org/ticket/27915_





---

archive/issue_events_364588.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2019-06-01T10:52:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27915#event-364588"
}
```



---

archive/issue_events_364589.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2019-06-01T10:52:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27915#event-364589"
}
```



---

archive/issue_comments_436657.json:
```json
{
    "body": "Branch: **[u/arojas/fix_py3_syntax_py_doctest_on_distros](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/fix_py3_syntax_py_doctest_on_distros)**",
    "created_at": "2019-06-01T10:53:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27915#issuecomment-436657",
    "user": "https://github.com/antonio-rojas"
}
```

Branch: **[u/arojas/fix_py3_syntax_py_doctest_on_distros](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/fix_py3_syntax_py_doctest_on_distros)**



---

archive/issue_comments_436658.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4db222e2987622006499ae2dd0d01eafce28a56\">b4db222</a></td><td><code>Fix doctest when source is not available</code></td></tr></table>\n",
    "created_at": "2019-06-01T10:58:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27915#issuecomment-436658",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:2" align="right">Comment 2</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4db222e2987622006499ae2dd0d01eafce28a56">b4db222</a></td><td><code>Fix doctest when source is not available</code></td></tr></table>




---

archive/issue_comments_436659.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+Make SortedDirectoryWalkerABC test suite pass when the source is not available and SAGE_SRC==SAGE_LIB, such as in distro packages.\n``````\n",
    "created_at": "2019-06-01T10:58:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27915#issuecomment-436659",
    "user": "https://github.com/antonio-rojas"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+Make SortedDirectoryWalkerABC test suite pass when the source is not available and SAGE_SRC==SAGE_LIB, such as in distro packages.
``````




---

archive/issue_events_364590.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2019-06-01T10:58:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27915#event-364590"
}
```



---

archive/issue_events_364591.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2019-06-01T10:58:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27915#event-364591"
}
```



---

archive/issue_events_364592.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2019-06-01T10:58:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20distribution",
    "label_color": "000080",
    "label_name": "component: distribution",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27915#event-364592"
}
```



---

archive/issue_comments_436660.json:
```json
{
    "body": "Changed keywords from none to **packaging**",
    "created_at": "2019-06-01T10:58:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27915#issuecomment-436660",
    "user": "https://github.com/antonio-rojas"
}
```

Changed keywords from none to **packaging**



---

archive/issue_comments_436661.json:
```json
{
    "body": "Commit: **[b4db222](https://github.com/sagemath/sagetrac-mirror/commit/b4db222e2987622006499ae2dd0d01eafce28a56)**",
    "created_at": "2019-06-01T10:58:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27915#issuecomment-436661",
    "user": "https://github.com/antonio-rojas"
}
```

Commit: **[b4db222](https://github.com/sagemath/sagetrac-mirror/commit/b4db222e2987622006499ae2dd0d01eafce28a56)**



---

archive/issue_comments_436662.json:
```json
{
    "body": "Author: **Antonio Rojas**",
    "created_at": "2019-06-01T10:58:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27915#issuecomment-436662",
    "user": "https://github.com/antonio-rojas"
}
```

Author: **Antonio Rojas**



---

archive/issue_events_364593.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-06-01T11:45:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27915#event-364593"
}
```



---

archive/issue_events_364594.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-06-01T11:45:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27915#event-364594"
}
```



---

archive/issue_comments_436663.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nLGTM. I must say I don't run that test file in sage-on-gentoo. Felt a little bit silly running a python3 from python2. It made sense at the beginning of the python3 port but now that we can run the testsuite with python3.6 or 3.7 (with lots of failures) it feels a bit pointless.",
    "created_at": "2019-06-01T11:45:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27915#issuecomment-436663",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:3" align="right">Comment 3</div>

LGTM. I must say I don't run that test file in sage-on-gentoo. Felt a little bit silly running a python3 from python2. It made sense at the beginning of the python3 port but now that we can run the testsuite with python3.6 or 3.7 (with lots of failures) it feels a bit pointless.



---

archive/issue_comments_436664.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nadd missing reviewer name, please",
    "created_at": "2019-06-02T06:52:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27915#issuecomment-436664",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:4" align="right">Comment 4</div>

add missing reviewer name, please



---

archive/issue_comments_436665.json:
```json
{
    "body": "Reviewer: **Fran\u00e7ois Bissey**",
    "created_at": "2019-06-02T07:22:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27915#issuecomment-436665",
    "user": "https://github.com/kiwifb"
}
```

Reviewer: **Fran√ßois Bissey**



---

archive/issue_comments_436666.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nThanks for the reminder.",
    "created_at": "2019-06-02T07:22:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27915#issuecomment-436666",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:5" align="right">Comment 5</div>

Thanks for the reminder.



---

archive/issue_events_364595.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-06-05T18:30:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27915#event-364595"
}
```



---

archive/issue_events_364596.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "44c8a4e2f99c0207824dfc39d02a03da43923190",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-06-05T18:30:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27915#event-364596"
}
```



---

archive/issue_comments_436667.json:
```json
{
    "body": "Changed branch from **[u/arojas/fix_py3_syntax_py_doctest_on_distros](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/fix_py3_syntax_py_doctest_on_distros)** to **[b4db222](https://github.com/sagemath/sagetrac-mirror/commit/b4db222e2987622006499ae2dd0d01eafce28a56)**",
    "created_at": "2019-06-05T18:30:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27915",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27915#issuecomment-436667",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/arojas/fix_py3_syntax_py_doctest_on_distros](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/fix_py3_syntax_py_doctest_on_distros)** to **[b4db222](https://github.com/sagemath/sagetrac-mirror/commit/b4db222e2987622006499ae2dd0d01eafce28a56)**
