# Issue 27501: Adding an option to get paths by edges and adding case of multiple edges in all_paths method

archive/issues_027264.json:
```json
{
    "assignees": [
        "https://github.com/rajat1433"
    ],
    "body": "This ticket adds 3 new parameter to all_paths method namely use_multiedges, report_edges and labels to use multiedges while reporting paths, to use edges instead of vertices in outputing the paths and outputing labels as well in the paths.\n\nCC:  @dcoudert\n\nBranch/Commit: **[`4789bed`](https://github.com/sagemath/sagetrac-mirror/commit/4789bed63d1e58bd366c55eb45decce1fbbb065c)**\n\nReviewer: **David Coudert**\n\nAuthor: **Rajat Mittal**\n\nComponent: **graph theory**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/27501_\n\n",
    "closed_at": "2019-03-25T19:43:41Z",
    "created_at": "2019-03-16T10:22:15Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Adding an option to get paths by edges and adding case of multiple edges in all_paths method",
    "type": "issue",
    "updated_at": "2019-03-25T19:43:41Z",
    "url": "https://github.com/sagemath/sage/issues/27501",
    "user": "https://github.com/rajat1433"
}
```
This ticket adds 3 new parameter to all_paths method namely use_multiedges, report_edges and labels to use multiedges while reporting paths, to use edges instead of vertices in outputing the paths and outputing labels as well in the paths.

CC:  @dcoudert

Branch/Commit: **[`4789bed`](https://github.com/sagemath/sagetrac-mirror/commit/4789bed63d1e58bd366c55eb45decce1fbbb065c)**

Reviewer: **David Coudert**

Author: **Rajat Mittal**

Component: **graph theory**

_Issue created by migration from https://trac.sagemath.org/ticket/27501_





---

archive/issue_events_379526.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-16T10:22:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-379526"
}
```



---

archive/issue_events_379527.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-16T10:22:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "eeeeee",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-379527"
}
```



---

archive/issue_events_379528.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-16T10:22:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-379528"
}
```



---

archive/issue_events_379529.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-16T10:22:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-379529"
}
```



---

archive/issue_comments_425728.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,6 +12,7 @@\n sage: eg2.add_edge(4,5,7)\n sage: eg2.add_edge(4,5,8)\n sage: eg2.add_edge(5,6,2)\n+sage: eg2.all_paths(0,6)\n \n ```\n \n``````\n",
    "created_at": "2019-03-16T10:23:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425728",
    "user": "https://github.com/rajat1433"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,6 +12,7 @@
 sage: eg2.add_edge(4,5,7)
 sage: eg2.add_edge(4,5,8)
 sage: eg2.add_edge(5,6,2)
+sage: eg2.all_paths(0,6)
 
 ```
 
``````




---

archive/issue_comments_425729.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nAs per my understanding this problem is arising because neighbor_out_iterator and neighbor_iterator methods are not able to return the iterator over vertices which are connected via multiedges they are only returning the vertices one time. I have looked into the graph backend files and couldn't find a function capable to return iterator over neighbors connected via multiedges.\n\nAs a solution to it I can write a function in backend capable of returning such iterator in case if the graph is multiedged that will be efficient too. (I found out_neighbors_unsafe method in sparse graph class which Gives all v such that (u, v) is an arc of the graph.) \nAlternatively, I can define an iterator myself in all_paths() function mimicking such functionality maybe by using edge_iterator to collect vertices connected via multiedges. I don't know which one is best. If there is any better ideas , I'll be glad to follow on that.",
    "created_at": "2019-03-16T14:36:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425729",
    "user": "https://github.com/rajat1433"
}
```

<div id="comment:2" align="right">comment:2</div>

As per my understanding this problem is arising because neighbor_out_iterator and neighbor_iterator methods are not able to return the iterator over vertices which are connected via multiedges they are only returning the vertices one time. I have looked into the graph backend files and couldn't find a function capable to return iterator over neighbors connected via multiedges.

As a solution to it I can write a function in backend capable of returning such iterator in case if the graph is multiedged that will be efficient too. (I found out_neighbors_unsafe method in sparse graph class which Gives all v such that (u, v) is an arc of the graph.) 
Alternatively, I can define an iterator myself in all_paths() function mimicking such functionality maybe by using edge_iterator to collect vertices connected via multiedges. I don't know which one is best. If there is any better ideas , I'll be glad to follow on that.



---

archive/issue_comments_425730.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThe neighbor iterator is doing exactly what it should. Even if you have 1000 edges between u and v, u has only 1 neighbor.\n\nI think the easiest solution is:\n- If the graph has multiedges, record the edge multiplicity\n- Then, before yielding a path, compute how many time it should be returned (multiplication of # multiedges) and yield it than number of times.",
    "created_at": "2019-03-16T18:21:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425730",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:3" align="right">comment:3</div>

The neighbor iterator is doing exactly what it should. Even if you have 1000 edges between u and v, u has only 1 neighbor.

I think the easiest solution is:
- If the graph has multiedges, record the edge multiplicity
- Then, before yielding a path, compute how many time it should be returned (multiplication of # multiedges) and yield it than number of times.



---

archive/issue_comments_425731.json:
```json
{
    "body": "Reviewer: **dcoudert**",
    "created_at": "2019-03-16T19:29:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425731",
    "user": "https://github.com/rajat1433"
}
```

Reviewer: **dcoudert**



---

archive/issue_events_379530.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-16T19:29:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-379530"
}
```



---

archive/issue_comments_425732.json:
```json
{
    "body": "Branch: **[u/gh-rajat1433/27501_all_paths](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-rajat1433/27501_all_paths)**",
    "created_at": "2019-03-16T19:29:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425732",
    "user": "https://github.com/rajat1433"
}
```

Branch: **[u/gh-rajat1433/27501_all_paths](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-rajat1433/27501_all_paths)**



---

archive/issue_comments_425733.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/50e39b1ee0151aac7bd6148b98aa16ba94eda933\"><code>50e39b1</code></a></td><td><code>added multiedge_support</code></td></tr></table>\n",
    "created_at": "2019-03-16T19:30:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425733",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/50e39b1ee0151aac7bd6148b98aa16ba94eda933"><code>50e39b1</code></a></td><td><code>added multiedge_support</code></td></tr></table>




---

archive/issue_comments_425734.json:
```json
{
    "body": "Commit: **[`50e39b1`](https://github.com/sagemath/sagetrac-mirror/commit/50e39b1ee0151aac7bd6148b98aa16ba94eda933)**",
    "created_at": "2019-03-16T19:30:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425734",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`50e39b1`](https://github.com/sagemath/sagetrac-mirror/commit/50e39b1ee0151aac7bd6148b98aa16ba94eda933)**



---

archive/issue_comments_425735.json:
```json
{
    "body": "Changed reviewer from **dcoudert** to **David Coudert**",
    "created_at": "2019-03-16T19:32:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425735",
    "user": "https://github.com/rajat1433"
}
```

Changed reviewer from **dcoudert** to **David Coudert**



---

archive/issue_events_379531.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-16T19:33:27Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "subject": "https://github.com/rajat1433",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-379531"
}
```



---

archive/issue_comments_425736.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nAdded paths multiple times based on the multiplicity of multiedges in a path.",
    "created_at": "2019-03-16T19:34:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425736",
    "user": "https://github.com/rajat1433"
}
```

<div id="comment:9" align="right">comment:9</div>

Added paths multiple times based on the multiplicity of multiedges in a path.



---

archive/issue_comments_425737.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI think there is a better solution:\n1. at the beginning of the method, count the multiplicity of each edge\n2. when a path is added to `all_paths`, count the number x of times the path must be added, and add it x times.",
    "created_at": "2019-03-18T07:39:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425737",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:10" align="right">comment:10</div>

I think there is a better solution:
1. at the beginning of the method, count the multiplicity of each edge
2. when a path is added to `all_paths`, count the number x of times the path must be added, and add it x times.



---

archive/issue_comments_425738.json:
```json
{
    "body": "Changed commit from **[`50e39b1`](https://github.com/sagemath/sagetrac-mirror/commit/50e39b1ee0151aac7bd6148b98aa16ba94eda933)** to **[`dc39953`](https://github.com/sagemath/sagetrac-mirror/commit/dc39953746f3eda33bbdfe1274fc022b4182d037)**",
    "created_at": "2019-03-18T08:42:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425738",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`50e39b1`](https://github.com/sagemath/sagetrac-mirror/commit/50e39b1ee0151aac7bd6148b98aa16ba94eda933)** to **[`dc39953`](https://github.com/sagemath/sagetrac-mirror/commit/dc39953746f3eda33bbdfe1274fc022b4182d037)**



---

archive/issue_comments_425739.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dc39953746f3eda33bbdfe1274fc022b4182d037\"><code>dc39953</code></a></td><td><code>added edge multiplicity dict</code></td></tr></table>\n",
    "created_at": "2019-03-18T08:42:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425739",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dc39953746f3eda33bbdfe1274fc022b4182d037"><code>dc39953</code></a></td><td><code>added edge multiplicity dict</code></td></tr></table>




---

archive/issue_comments_425740.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI have followed your advice and maintained a dictionary for maintaining edge_multiplicity. first it calculates all the paths then for each path it sees how many times it should be present and returns accordingly. I know the paths can be added multiple times in all_paths variable by checking the multiplicty in between but that would require to restructure the whole code so I thought to add the path multiple times in the end.",
    "created_at": "2019-03-18T08:45:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425740",
    "user": "https://github.com/rajat1433"
}
```

<div id="comment:12" align="right">comment:12</div>

I have followed your advice and maintained a dictionary for maintaining edge_multiplicity. first it calculates all the paths then for each path it sees how many times it should be present and returns accordingly. I know the paths can be added multiple times in all_paths variable by checking the multiplicty in between but that would require to restructure the whole code so I thought to add the path multiple times in the end.



---

archive/issue_comments_425741.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nFor counting the edge multiplicity, I have a shorter solution:\n\n```diff\n         if self.has_multiple_edges():\n-            edge_multiplicity = {}\n-            for e in self.edges():\n-                if (e[0], e[1]) in edge_multiplicity.keys():\n-                    edge_multiplicity[(e[0], e[1])] += 1\n-                else:\n-                    edge_multiplicity[(e[0], e[1])] = 1\n+            from collections import Counter\n+            edge_multiplicity = Counter(self.edge_iterator(labels=False))\n```\nTry `Counter` to see how it works\n\nFor counting the multiplicity of path `p`, a more elegant version is:\n\n```\nm = prod(edge_multiplicity[e] for e in zip(p[:-1], p[1:]))\n```\nI don't know if you need to import `prod` from `sage/misc/misc_c.pyx`\n}}}",
    "created_at": "2019-03-18T10:24:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425741",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:13" align="right">comment:13</div>

For counting the edge multiplicity, I have a shorter solution:

```diff
         if self.has_multiple_edges():
-            edge_multiplicity = {}
-            for e in self.edges():
-                if (e[0], e[1]) in edge_multiplicity.keys():
-                    edge_multiplicity[(e[0], e[1])] += 1
-                else:
-                    edge_multiplicity[(e[0], e[1])] = 1
+            from collections import Counter
+            edge_multiplicity = Counter(self.edge_iterator(labels=False))
```
Try `Counter` to see how it works

For counting the multiplicity of path `p`, a more elegant version is:

```
m = prod(edge_multiplicity[e] for e in zip(p[:-1], p[1:]))
```
I don't know if you need to import `prod` from `sage/misc/misc_c.pyx`
}}}



---

archive/issue_comments_425742.json:
```json
{
    "body": "Changed commit from **[`dc39953`](https://github.com/sagemath/sagetrac-mirror/commit/dc39953746f3eda33bbdfe1274fc022b4182d037)** to **[`9c49e6e`](https://github.com/sagemath/sagetrac-mirror/commit/9c49e6ebb64b0cb50e885624e922c4cac0d5b7d8)**",
    "created_at": "2019-03-18T11:04:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425742",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`dc39953`](https://github.com/sagemath/sagetrac-mirror/commit/dc39953746f3eda33bbdfe1274fc022b4182d037)** to **[`9c49e6e`](https://github.com/sagemath/sagetrac-mirror/commit/9c49e6ebb64b0cb50e885624e922c4cac0d5b7d8)**



---

archive/issue_comments_425743.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9c49e6ebb64b0cb50e885624e922c4cac0d5b7d8\"><code>9c49e6e</code></a></td><td><code>code compression</code></td></tr></table>\n",
    "created_at": "2019-03-18T11:04:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425743",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9c49e6ebb64b0cb50e885624e922c4cac0d5b7d8"><code>9c49e6e</code></a></td><td><code>code compression</code></td></tr></table>




---

archive/issue_comments_425744.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nThose things really saved a lot of lines of codes. Good to learn that. Also thanks for the review.",
    "created_at": "2019-03-18T11:05:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425744",
    "user": "https://github.com/rajat1433"
}
```

<div id="comment:15" align="right">comment:15</div>

Those things really saved a lot of lines of codes. Good to learn that. Also thanks for the review.



---

archive/issue_comments_425745.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@rajat1433](#comment:15):\n> Those things really saved a lot of lines of codes. Good to learn that. \n\nThese methods are simple and fast. Also a good way to avoid bugs.\n\n> Also thanks for the review.\n\nDoing my best to help, but don't expect me to always answer so quickly...\n\n\nTODO: add in the documentation of the method that if the graph has multiple edges, a path may be reported several times.",
    "created_at": "2019-03-18T13:46:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425745",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@rajat1433](#comment:15):
> Those things really saved a lot of lines of codes. Good to learn that. 

These methods are simple and fast. Also a good way to avoid bugs.

> Also thanks for the review.

Doing my best to help, but don't expect me to always answer so quickly...


TODO: add in the documentation of the method that if the graph has multiple edges, a path may be reported several times.



---

archive/issue_comments_425746.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e64e4cacbbc006449eade56f13b00b0f17b861e6\"><code>e64e4ca</code></a></td><td><code>added doc</code></td></tr></table>\n",
    "created_at": "2019-03-18T16:46:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425746",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e64e4cacbbc006449eade56f13b00b0f17b861e6"><code>e64e4ca</code></a></td><td><code>added doc</code></td></tr></table>




---

archive/issue_comments_425747.json:
```json
{
    "body": "Changed commit from **[`9c49e6e`](https://github.com/sagemath/sagetrac-mirror/commit/9c49e6ebb64b0cb50e885624e922c4cac0d5b7d8)** to **[`e64e4ca`](https://github.com/sagemath/sagetrac-mirror/commit/e64e4cacbbc006449eade56f13b00b0f17b861e6)**",
    "created_at": "2019-03-18T16:46:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425747",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9c49e6e`](https://github.com/sagemath/sagetrac-mirror/commit/9c49e6ebb64b0cb50e885624e922c4cac0d5b7d8)** to **[`e64e4ca`](https://github.com/sagemath/sagetrac-mirror/commit/e64e4cacbbc006449eade56f13b00b0f17b861e6)**



---

archive/issue_comments_425748.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nadded the documentation part for multiple edges.",
    "created_at": "2019-03-18T16:48:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425748",
    "user": "https://github.com/rajat1433"
}
```

<div id="comment:18" align="right">comment:18</div>

added the documentation part for multiple edges.



---

archive/issue_comments_425749.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\n- for documentation, I meant to add some text just after\n\n```\n        If ``start`` is the same vertex as ``end``, then ``[[start]]`` is\n        returned -- a list containing the 1-vertex, 0-edge path \"``start``\".\n```\n  to get for instance (feel free to reformulate)\n\n```\n        If ``start`` is the same vertex as ``end``, then ``[[start]]`` is\n        returned -- a list containing the 1-vertex, 0-edge path \"``start``\".\n\n        If ``self`` has multiple edges, a path will be returned as many\n        times as the product of the multiplicity of the edges along that path.\n```\n\n- please revert this change. No need for `::` here.\n\n```diff\n-        EXAMPLES::\n+        EXAMPLES:\n```\n\n- You could use a simpler example like this one. I think it's more clear\n\n```\nsage: G = Graph([(0, 1), (0, 1), (1, 2), (1, 2)], multiedges=True)\nsage: G.all_paths(0, 2)\n[[0, 1, 2], [0, 1, 2], [0, 1, 2], [0, 1, 2]]\n```\n\n- and you can move the examples you added in the TESTS bloc into the EXAMPLES bloc. The example for Graph is essentially the same as the other one. The example for DiGraph is good.",
    "created_at": "2019-03-18T17:31:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425749",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:19" align="right">comment:19</div>

- for documentation, I meant to add some text just after

```
        If ``start`` is the same vertex as ``end``, then ``[[start]]`` is
        returned -- a list containing the 1-vertex, 0-edge path "``start``".
```
  to get for instance (feel free to reformulate)

```
        If ``start`` is the same vertex as ``end``, then ``[[start]]`` is
        returned -- a list containing the 1-vertex, 0-edge path "``start``".

        If ``self`` has multiple edges, a path will be returned as many
        times as the product of the multiplicity of the edges along that path.
```

- please revert this change. No need for `::` here.

```diff
-        EXAMPLES::
+        EXAMPLES:
```

- You could use a simpler example like this one. I think it's more clear

```
sage: G = Graph([(0, 1), (0, 1), (1, 2), (1, 2)], multiedges=True)
sage: G.all_paths(0, 2)
[[0, 1, 2], [0, 1, 2], [0, 1, 2], [0, 1, 2]]
```

- and you can move the examples you added in the TESTS bloc into the EXAMPLES bloc. The example for Graph is essentially the same as the other one. The example for DiGraph is good.



---

archive/issue_comments_425750.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d6392989bf9f6a504051034db1aa319ddbee15f3\"><code>d639298</code></a></td><td><code>made changes in documentation</code></td></tr></table>\n",
    "created_at": "2019-03-19T04:00:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425750",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d6392989bf9f6a504051034db1aa319ddbee15f3"><code>d639298</code></a></td><td><code>made changes in documentation</code></td></tr></table>




---

archive/issue_comments_425751.json:
```json
{
    "body": "Changed commit from **[`e64e4ca`](https://github.com/sagemath/sagetrac-mirror/commit/e64e4cacbbc006449eade56f13b00b0f17b861e6)** to **[`d639298`](https://github.com/sagemath/sagetrac-mirror/commit/d6392989bf9f6a504051034db1aa319ddbee15f3)**",
    "created_at": "2019-03-19T04:00:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425751",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e64e4ca`](https://github.com/sagemath/sagetrac-mirror/commit/e64e4cacbbc006449eade56f13b00b0f17b861e6)** to **[`d639298`](https://github.com/sagemath/sagetrac-mirror/commit/d6392989bf9f6a504051034db1aa319ddbee15f3)**



---

archive/issue_comments_425752.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nMade the changes!",
    "created_at": "2019-03-19T04:01:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425752",
    "user": "https://github.com/rajat1433"
}
```

<div id="comment:21" align="right">comment:21</div>

Made the changes!



---

archive/issue_events_379532.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-19T04:57:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-379532"
}
```



---

archive/issue_events_379533.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-19T04:57:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-379533"
}
```



---

archive/issue_events_379534.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-19T04:57:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-379534"
}
```



---

archive/issue_events_379535.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-19T04:57:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-379535"
}
```



---

archive/issue_comments_425753.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nLooking at the errors induced by this ticket in `src/sage/quivers/path_semigroup.py` and `src/sage/quivers/representation.py` (see the patchbot), I realize that we are making a mistake in this ticket and in #27504.\n\nIn graph theory, 2 definitions of paths are used:\n1. ordered list of vertices `s=u1, u2, ..., uk=t` such that there is an edge from `ui` to `ui+1`\n2. ordered list of edges `(s=u1, u2), (u2, u3), ..., (uk-1, uk=t)`\n\nMost of the time, when we use the list of vertices, we care about the existence of an edge from `ui` to `ui+1`, and so we want only 1 path.\nBut when we use the list of edges, we are more interested in the existence of many paths due to multiedges.\n\n\nSo, if you agree, I suggest to add parameters to:\n* switch on/off the use of multiple edges, if any, sets to off by default to avoid changing the behavior for methods calling this one. A possible name could be `multiedges`. I don't have a better name in mind yet\n* return list of edges instead of vertices (possibly with/without edge labels). A possible name could be `report_edges=False`, combined with `labels=False`.\n\n\nThe main difficulty will be to build all the possibles paths with edges and labels...\nThere might exist some macro to ease this operation.",
    "created_at": "2019-03-19T13:11:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425753",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:24" align="right">comment:24</div>

Looking at the errors induced by this ticket in `src/sage/quivers/path_semigroup.py` and `src/sage/quivers/representation.py` (see the patchbot), I realize that we are making a mistake in this ticket and in #27504.

In graph theory, 2 definitions of paths are used:
1. ordered list of vertices `s=u1, u2, ..., uk=t` such that there is an edge from `ui` to `ui+1`
2. ordered list of edges `(s=u1, u2), (u2, u3), ..., (uk-1, uk=t)`

Most of the time, when we use the list of vertices, we care about the existence of an edge from `ui` to `ui+1`, and so we want only 1 path.
But when we use the list of edges, we are more interested in the existence of many paths due to multiedges.


So, if you agree, I suggest to add parameters to:
* switch on/off the use of multiple edges, if any, sets to off by default to avoid changing the behavior for methods calling this one. A possible name could be `multiedges`. I don't have a better name in mind yet
* return list of edges instead of vertices (possibly with/without edge labels). A possible name could be `report_edges=False`, combined with `labels=False`.


The main difficulty will be to build all the possibles paths with edges and labels...
There might exist some macro to ease this operation.



---

archive/issue_comments_425754.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nI see the underlying problem.\n\n- switch on/off the use of multiple edges, if any, sets to off by default to avoid changing the behavior for methods calling this one. A possible name could be multiedges. I don't have a better name in mind yet \n\nI think use_multiedges might be a suitable variable...\n\n- return list of edges instead of vertices (possibly with/without edge labels). A possible name could be report_edges=False, combined with labels=False. \n\nI was thinking this for a long time to output paths as edges using labels, even wanted to include in my proposal I think it can be done for now using something like Cartesian Product function by adding the edges using edge_boundary.\n\n\n```\n    path_with_labels = []\n    for p in all_paths:\n        multiple_path=[]\n        for i,u in enumerate(p):\n            if i < len(p)-1:\n                v = p[i+1]\n                edges = g.edge_boundary([u], [v])\n                multiple_path.append(edges)\n        path_with_labels.extend(CartesianProduct(*multiple_path))\n```\n\nIf it looks ok then I can start adding it.",
    "created_at": "2019-03-19T15:22:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425754",
    "user": "https://github.com/rajat1433"
}
```

<div id="comment:25" align="right">comment:25</div>

I see the underlying problem.

- switch on/off the use of multiple edges, if any, sets to off by default to avoid changing the behavior for methods calling this one. A possible name could be multiedges. I don't have a better name in mind yet 

I think use_multiedges might be a suitable variable...

- return list of edges instead of vertices (possibly with/without edge labels). A possible name could be report_edges=False, combined with labels=False. 

I was thinking this for a long time to output paths as edges using labels, even wanted to include in my proposal I think it can be done for now using something like Cartesian Product function by adding the edges using edge_boundary.


```
    path_with_labels = []
    for p in all_paths:
        multiple_path=[]
        for i,u in enumerate(p):
            if i < len(p)-1:
                v = p[i+1]
                edges = g.edge_boundary([u], [v])
                multiple_path.append(edges)
        path_with_labels.extend(CartesianProduct(*multiple_path))
```

If it looks ok then I can start adding it.



---

archive/issue_comments_425755.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nGreat !\n\n`CartesianProduct` is deprecated, so you must use `cartesian_product(multiple_path)` instead.\n\nCalling `edge_boundary` is quite expensive. You should better store all edges between u and v in a dictionary. When it's done, do `mydict[v, u] = mydict[u, v]` so that cell `(v, u)` points to the list of cell `(u,v)`.\n\nThen you can use `cartesian_product(mydict[e] for e in zip(p[:-1], p[1:]))`",
    "created_at": "2019-03-19T15:53:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425755",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:26" align="right">comment:26</div>

Great !

`CartesianProduct` is deprecated, so you must use `cartesian_product(multiple_path)` instead.

Calling `edge_boundary` is quite expensive. You should better store all edges between u and v in a dictionary. When it's done, do `mydict[v, u] = mydict[u, v]` so that cell `(v, u)` points to the list of cell `(u,v)`.

Then you can use `cartesian_product(mydict[e] for e in zip(p[:-1], p[1:]))`



---

archive/issue_comments_425756.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nI don't understand why mydict[v, u] = mydict[u, v] as we can have digraphs also so edges between u and v may not be same as edges between v and u.",
    "created_at": "2019-03-19T16:52:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425756",
    "user": "https://github.com/rajat1433"
}
```

<div id="comment:27" align="right">comment:27</div>

I don't understand why mydict[v, u] = mydict[u, v] as we can have digraphs also so edges between u and v may not be same as edges between v and u.



---

archive/issue_comments_425757.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nRight. You should not do that for digraphs. But for graphs we can save time and space doing so.",
    "created_at": "2019-03-19T16:59:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425757",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:28" align="right">comment:28</div>

Right. You should not do that for digraphs. But for graphs we can save time and space doing so.



---

archive/issue_comments_425758.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nI am not able to import cartesian_product method.\nAny help where it is located?",
    "created_at": "2019-03-19T17:59:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425758",
    "user": "https://github.com/rajat1433"
}
```

<div id="comment:29" align="right">comment:29</div>

I am not able to import cartesian_product method.
Any help where it is located?



---

archive/issue_events_379536.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-19T18:02:21Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "title_is": "Adding an option to get paths by edges and adding case of multiple edges in all_paths method",
    "title_was": "all_paths method does not distinguish between multiple edges",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-379536"
}
```



---

archive/issue_events_379537.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-19T18:02:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-379537"
}
```



---

archive/issue_events_379538.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-19T18:02:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-379538"
}
```



---

archive/issue_comments_425759.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\n`from sage.categories.cartesian_product import cartesian_product`",
    "created_at": "2019-03-19T18:07:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425759",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:31" align="right">comment:31</div>

`from sage.categories.cartesian_product import cartesian_product`



---

archive/issue_comments_425760.json:
```json
{
    "body": "Changed commit from **[`d639298`](https://github.com/sagemath/sagetrac-mirror/commit/d6392989bf9f6a504051034db1aa319ddbee15f3)** to **[`aa19c45`](https://github.com/sagemath/sagetrac-mirror/commit/aa19c45460f0e9ddf29a5f0f89d6480ace86a4a5)**",
    "created_at": "2019-03-20T06:14:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425760",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d639298`](https://github.com/sagemath/sagetrac-mirror/commit/d6392989bf9f6a504051034db1aa319ddbee15f3)** to **[`aa19c45`](https://github.com/sagemath/sagetrac-mirror/commit/aa19c45460f0e9ddf29a5f0f89d6480ace86a4a5)**



---

archive/issue_comments_425761.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f0392e9c103ed2510b6ba95f92662572650ec86\"><code>7f0392e</code></a></td><td><code>checkpt1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f5a5363555183232c9980af695ad771aeed9654c\"><code>f5a5363</code></a></td><td><code>checkpt2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa19c45460f0e9ddf29a5f0f89d6480ace86a4a5\"><code>aa19c45</code></a></td><td><code>refactroing of all_paths</code></td></tr></table>\n",
    "created_at": "2019-03-20T06:14:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425761",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f0392e9c103ed2510b6ba95f92662572650ec86"><code>7f0392e</code></a></td><td><code>checkpt1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f5a5363555183232c9980af695ad771aeed9654c"><code>f5a5363</code></a></td><td><code>checkpt2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa19c45460f0e9ddf29a5f0f89d6480ace86a4a5"><code>aa19c45</code></a></td><td><code>refactroing of all_paths</code></td></tr></table>




---

archive/issue_comments_425762.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,37 +1 @@\n-While running all_paths method on multiedges graphs it is not able to distinguish between multiple edges even though they may have different labels.\n \n-\n-```\n-sage: eg2 = Graph(multiedges=True)\n-sage: eg2.add_edge(0,1,1)\n-sage: eg2.add_edge(0,2,3)\n-sage: eg2.add_edge(1,4,3)\n-sage: eg2.add_edge(2,3,5)\n-sage: eg2.add_edge(2,4,15)\n-sage: eg2.add_edge(2,4,12)\n-sage: eg2.add_edge(4,5,7)\n-sage: eg2.add_edge(4,5,8)\n-sage: eg2.add_edge(5,6,2)\n-sage: eg2.all_paths(0,6)\n-\n-```\n-\n-currently it returns \n-\n-```\n-[[0, 1, 4, 5, 6], [0, 2, 4, 5, 6]]\n-```\n-\n-\n- but it should be \n-\n-```\n-[[0, 1, 4, 5, 6],\n- [0, 1, 4, 5, 6],\n- [0, 2, 4, 5, 6],\n- [0, 2, 4, 5, 6],\n- [0, 2, 4, 5, 6],\n- [0, 2, 4, 5, 6]]\n-```\n-\n-As that is the meaning of all paths between source and destination node.\n``````\n",
    "created_at": "2019-03-20T06:30:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425762",
    "user": "https://github.com/rajat1433"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,37 +1 @@
-While running all_paths method on multiedges graphs it is not able to distinguish between multiple edges even though they may have different labels.
 
-
-```
-sage: eg2 = Graph(multiedges=True)
-sage: eg2.add_edge(0,1,1)
-sage: eg2.add_edge(0,2,3)
-sage: eg2.add_edge(1,4,3)
-sage: eg2.add_edge(2,3,5)
-sage: eg2.add_edge(2,4,15)
-sage: eg2.add_edge(2,4,12)
-sage: eg2.add_edge(4,5,7)
-sage: eg2.add_edge(4,5,8)
-sage: eg2.add_edge(5,6,2)
-sage: eg2.all_paths(0,6)
-
-```
-
-currently it returns 
-
-```
-[[0, 1, 4, 5, 6], [0, 2, 4, 5, 6]]
-```
-
-
- but it should be 
-
-```
-[[0, 1, 4, 5, 6],
- [0, 1, 4, 5, 6],
- [0, 2, 4, 5, 6],
- [0, 2, 4, 5, 6],
- [0, 2, 4, 5, 6],
- [0, 2, 4, 5, 6]]
-```
-
-As that is the meaning of all paths between source and destination node.
``````




---

archive/issue_comments_425763.json:
```json
{
    "body": "Changed branch from **[u/gh-rajat1433/27501_all_paths](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-rajat1433/27501_all_paths)** to **[u/gh-rajat1433/27501_all_paths_edges](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-rajat1433/27501_all_paths_edges)**",
    "created_at": "2019-03-20T06:30:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425763",
    "user": "https://github.com/rajat1433"
}
```

Changed branch from **[u/gh-rajat1433/27501_all_paths](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-rajat1433/27501_all_paths)** to **[u/gh-rajat1433/27501_all_paths_edges](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-rajat1433/27501_all_paths_edges)**



---

archive/issue_comments_425764.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nThis ticket adds 3 new parameter to all_paths method namely use_multiedges, report_edges and labels to use multiedges while reporting paths, to use edges instead of vertices in outputing the paths and outputing labels as well in the paths.",
    "created_at": "2019-03-20T06:30:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425764",
    "user": "https://github.com/rajat1433"
}
```

<div id="comment:33" align="right">comment:33</div>

This ticket adds 3 new parameter to all_paths method namely use_multiedges, report_edges and labels to use multiedges while reporting paths, to use edges instead of vertices in outputing the paths and outputing labels as well in the paths.



---

archive/issue_comments_425765.json:
```json
{
    "body": "Changed commit from **[`aa19c45`](https://github.com/sagemath/sagetrac-mirror/commit/aa19c45460f0e9ddf29a5f0f89d6480ace86a4a5)** to none",
    "created_at": "2019-03-20T06:30:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425765",
    "user": "https://github.com/rajat1433"
}
```

Changed commit from **[`aa19c45`](https://github.com/sagemath/sagetrac-mirror/commit/aa19c45460f0e9ddf29a5f0f89d6480ace86a4a5)** to none



---

archive/issue_comments_425766.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+This ticket adds 3 new parameter to all_paths method namely use_multiedges, report_edges and labels to use multiedges while reporting paths, to use edges instead of vertices in outputing the paths and outputing labels as well in the paths. \n``````\n",
    "created_at": "2019-03-20T06:31:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425766",
    "user": "https://github.com/rajat1433"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+This ticket adds 3 new parameter to all_paths method namely use_multiedges, report_edges and labels to use multiedges while reporting paths, to use edges instead of vertices in outputing the paths and outputing labels as well in the paths. 
``````




---

archive/issue_comments_425767.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48f826f298b7aaffe5093aa11cfc7c9a46ee3081\"><code>48f826f</code></a></td><td><code>cleaning branch</code></td></tr></table>\n",
    "created_at": "2019-03-20T06:32:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425767",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48f826f298b7aaffe5093aa11cfc7c9a46ee3081"><code>48f826f</code></a></td><td><code>cleaning branch</code></td></tr></table>




---

archive/issue_comments_425768.json:
```json
{
    "body": "Commit: **[`48f826f`](https://github.com/sagemath/sagetrac-mirror/commit/48f826f298b7aaffe5093aa11cfc7c9a46ee3081)**",
    "created_at": "2019-03-20T06:32:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425768",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`48f826f`](https://github.com/sagemath/sagetrac-mirror/commit/48f826f298b7aaffe5093aa11cfc7c9a46ee3081)**



---

archive/issue_comments_425769.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nHello,\n\nthere is a merge conflict with your branch. This is certainly because version 8.6.rc0 has been released. You have to rebase the ticket.",
    "created_at": "2019-03-20T07:59:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425769",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:36" align="right">comment:36</div>

Hello,

there is a merge conflict with your branch. This is certainly because version 8.6.rc0 has been released. You have to rebase the ticket.



---

archive/issue_comments_425770.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nYou are right yesterday only version 8.7.rc0 has been released. Working on rebase thing.",
    "created_at": "2019-03-20T09:09:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425770",
    "user": "https://github.com/rajat1433"
}
```

<div id="comment:37" align="right">comment:37</div>

You are right yesterday only version 8.7.rc0 has been released. Working on rebase thing.



---

archive/issue_comments_425771.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-This ticket adds 3 new parameter to all_paths method namely use_multiedges, report_edges and labels to use multiedges while reporting paths, to use edges instead of vertices in outputing the paths and outputing labels as well in the paths. \n+This ticket adds 3 new parameter to all_paths method namely use_multiedges, report_edges and labels to use multiedges while reporting paths, to use edges instead of vertices in outputing the paths and outputing labels as well in the paths.\n``````\n",
    "created_at": "2019-03-20T09:25:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425771",
    "user": "https://github.com/rajat1433"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-This ticket adds 3 new parameter to all_paths method namely use_multiedges, report_edges and labels to use multiedges while reporting paths, to use edges instead of vertices in outputing the paths and outputing labels as well in the paths. 
+This ticket adds 3 new parameter to all_paths method namely use_multiedges, report_edges and labels to use multiedges while reporting paths, to use edges instead of vertices in outputing the paths and outputing labels as well in the paths.
``````




---

archive/issue_comments_425772.json:
```json
{
    "body": "Changed branch from **[u/gh-rajat1433/27501_all_paths_edges](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-rajat1433/27501_all_paths_edges)** to **[u/gh-rajat1433/27501_all_paths_with_edges](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-rajat1433/27501_all_paths_with_edges)**",
    "created_at": "2019-03-20T09:25:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425772",
    "user": "https://github.com/rajat1433"
}
```

Changed branch from **[u/gh-rajat1433/27501_all_paths_edges](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-rajat1433/27501_all_paths_edges)** to **[u/gh-rajat1433/27501_all_paths_with_edges](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-rajat1433/27501_all_paths_with_edges)**



---

archive/issue_comments_425773.json:
```json
{
    "body": "Changed commit from **[`48f826f`](https://github.com/sagemath/sagetrac-mirror/commit/48f826f298b7aaffe5093aa11cfc7c9a46ee3081)** to none",
    "created_at": "2019-03-20T09:25:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425773",
    "user": "https://github.com/rajat1433"
}
```

Changed commit from **[`48f826f`](https://github.com/sagemath/sagetrac-mirror/commit/48f826f298b7aaffe5093aa11cfc7c9a46ee3081)** to none



---

archive/issue_comments_425774.json:
```json
{
    "body": "<div id=\"comment:39\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b3439b28a601e77043d3415f952ca5c29e6f47e9\"><code>b3439b2</code></a></td><td><code>improved all_paths method</code></td></tr></table>\n",
    "created_at": "2019-03-20T09:26:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425774",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b3439b28a601e77043d3415f952ca5c29e6f47e9"><code>b3439b2</code></a></td><td><code>improved all_paths method</code></td></tr></table>




---

archive/issue_comments_425775.json:
```json
{
    "body": "Commit: **[`b3439b2`](https://github.com/sagemath/sagetrac-mirror/commit/b3439b28a601e77043d3415f952ca5c29e6f47e9)**",
    "created_at": "2019-03-20T09:26:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425775",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`b3439b2`](https://github.com/sagemath/sagetrac-mirror/commit/b3439b28a601e77043d3415f952ca5c29e6f47e9)**



---

archive/issue_events_379539.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-20T09:31:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-379539"
}
```



---

archive/issue_events_379540.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-20T09:31:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-379540"
}
```



---

archive/issue_comments_425776.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nNow its clean , I have added the parameters as discussed.",
    "created_at": "2019-03-20T09:31:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425776",
    "user": "https://github.com/rajat1433"
}
```

<div id="comment:40" align="right">comment:40</div>

Now its clean , I have added the parameters as discussed.



---

archive/issue_comments_425777.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nI'm still thinking to the logic of these parameters. I'm not fully convinced by the choices done like if `label is True` then set other parameters to `True`. \n\nAnyway,\n- parameter `label` should be `labels`, as for other methods like `.edges(labels=True)`\n\n- would you agree with the following changes in the documentation\n\n```diff\n-        - ``report_edges`` -- boolean (default: ``False``);  if ``True``, then\n-          edges are used instead of vertices in representing the path else by\n-          default vertices are used to represent the path\n+        - ``report_edges`` -- boolean (default: ``False``); whether to report\n+          paths as list of vertices (default) or list of edges\n```\n\n```diff\n-        - ``use_multiedges`` -- boolean (default: ``False``); if ``True``, then\n-          multiple edges present between the nodes are taken into account for\n-          finding all paths else these multiedges if present are ignored\n+        - ``use_multiedges`` -- boolean (default: ``False``); this parameter is\n+          used only if the graph has multiple edges. \n+\n+          - If ``False``, the graph is considered as simple and an edge label\n+            is arbitrarily selected for each edge as in \n+            :meth:`~GenericGraph.to_simple`\n+\n+          - If ``True``, a path will be reported as many times as the edges\n+            multiplicities along that path (when ``report_edges = False`` or \n+            ``labels = False``), or with all possible combinations of edge labels\n+            (when ``report_edges = True`` and ``labels = True``) \n```\n\n```diff\n-        - ``label`` -- boolean (default: ``False``);  if ``True``,\n-          ``report_edges`` is automatically set to ``True`` and labels are\n-          reported along with the edges. Also multiedges are also automatically\n-          taken into account when label is ``True``.\n+        - ``labels`` -- boolean (default: ``False``); if ``False``, each edge is\n+          simply a pair ``(u, v)``of vertices. This parameter is ignored when\n+          ``report_edges = False``\n```\n\n- this is better\n\n```diff\n             for e in self.edge_iterator():\n                 if (e[0], e[1]) in my_dict.keys():\n                     my_dict[(e[0], e[1])].append(e)\n                 else:\n                     my_dict[(e[0], e[1])] = [e]\n-                if not self.is_directed():   \n-                    my_dict[(e[1], e[0])] = my_dict[(e[0], e[1])]\n+            if not self.is_directed():\n+                for u, v in my_dict.keys():\n+                    my_dict[v, u] = my_dict[u, v]\n```",
    "created_at": "2019-03-21T09:51:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425777",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:41" align="right">comment:41</div>

I'm still thinking to the logic of these parameters. I'm not fully convinced by the choices done like if `label is True` then set other parameters to `True`. 

Anyway,
- parameter `label` should be `labels`, as for other methods like `.edges(labels=True)`

- would you agree with the following changes in the documentation

```diff
-        - ``report_edges`` -- boolean (default: ``False``);  if ``True``, then
-          edges are used instead of vertices in representing the path else by
-          default vertices are used to represent the path
+        - ``report_edges`` -- boolean (default: ``False``); whether to report
+          paths as list of vertices (default) or list of edges
```

```diff
-        - ``use_multiedges`` -- boolean (default: ``False``); if ``True``, then
-          multiple edges present between the nodes are taken into account for
-          finding all paths else these multiedges if present are ignored
+        - ``use_multiedges`` -- boolean (default: ``False``); this parameter is
+          used only if the graph has multiple edges. 
+
+          - If ``False``, the graph is considered as simple and an edge label
+            is arbitrarily selected for each edge as in 
+            :meth:`~GenericGraph.to_simple`
+
+          - If ``True``, a path will be reported as many times as the edges
+            multiplicities along that path (when ``report_edges = False`` or 
+            ``labels = False``), or with all possible combinations of edge labels
+            (when ``report_edges = True`` and ``labels = True``) 
```

```diff
-        - ``label`` -- boolean (default: ``False``);  if ``True``,
-          ``report_edges`` is automatically set to ``True`` and labels are
-          reported along with the edges. Also multiedges are also automatically
-          taken into account when label is ``True``.
+        - ``labels`` -- boolean (default: ``False``); if ``False``, each edge is
+          simply a pair ``(u, v)``of vertices. This parameter is ignored when
+          ``report_edges = False``
```

- this is better

```diff
             for e in self.edge_iterator():
                 if (e[0], e[1]) in my_dict.keys():
                     my_dict[(e[0], e[1])].append(e)
                 else:
                     my_dict[(e[0], e[1])] = [e]
-                if not self.is_directed():   
-                    my_dict[(e[1], e[0])] = my_dict[(e[0], e[1])]
+            if not self.is_directed():
+                for u, v in my_dict.keys():
+                    my_dict[v, u] = my_dict[u, v]
```



---

archive/issue_comments_425778.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nThis was done because if labels were true and report_edges were false then there will be no point in labels being true as labels will make sense only if we were to output edges in the path. \n\nLike in shortest_path function of generic graph we say if weight_function is not None then by_weight parameter is automatically set to true.",
    "created_at": "2019-03-21T09:58:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425778",
    "user": "https://github.com/rajat1433"
}
```

<div id="comment:42" align="right">comment:42</div>

This was done because if labels were true and report_edges were false then there will be no point in labels being true as labels will make sense only if we were to output edges in the path. 

Like in shortest_path function of generic graph we say if weight_function is not None then by_weight parameter is automatically set to true.



---

archive/issue_comments_425779.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nOK. But you have to improve the documentation anyway :P",
    "created_at": "2019-03-21T10:42:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425779",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:43" align="right">comment:43</div>

OK. But you have to improve the documentation anyway :P



---

archive/issue_comments_425780.json:
```json
{
    "body": "<div id=\"comment:44\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7bc79ea45e271f99574bc19105f5a54292b8f655\"><code>7bc79ea</code></a></td><td><code>removed space</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/75c17aa00b8d2e6f6b6199ddfa073e5102e7ab71\"><code>75c17aa</code></a></td><td><code>modified docs</code></td></tr></table>\n",
    "created_at": "2019-03-21T11:06:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425780",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7bc79ea45e271f99574bc19105f5a54292b8f655"><code>7bc79ea</code></a></td><td><code>removed space</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/75c17aa00b8d2e6f6b6199ddfa073e5102e7ab71"><code>75c17aa</code></a></td><td><code>modified docs</code></td></tr></table>




---

archive/issue_comments_425781.json:
```json
{
    "body": "Changed commit from **[`b3439b2`](https://github.com/sagemath/sagetrac-mirror/commit/b3439b28a601e77043d3415f952ca5c29e6f47e9)** to **[`75c17aa`](https://github.com/sagemath/sagetrac-mirror/commit/75c17aa00b8d2e6f6b6199ddfa073e5102e7ab71)**",
    "created_at": "2019-03-21T11:06:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425781",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b3439b2`](https://github.com/sagemath/sagetrac-mirror/commit/b3439b28a601e77043d3415f952ca5c29e6f47e9)** to **[`75c17aa`](https://github.com/sagemath/sagetrac-mirror/commit/75c17aa00b8d2e6f6b6199ddfa073e5102e7ab71)**



---

archive/issue_comments_425782.json:
```json
{
    "body": "<div id=\"comment:45\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a28a9bd4d71524dae77393570b56b68fbdfdcde\"><code>9a28a9b</code></a></td><td><code>modified docs</code></td></tr></table>\n",
    "created_at": "2019-03-21T11:08:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425782",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:45"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a28a9bd4d71524dae77393570b56b68fbdfdcde"><code>9a28a9b</code></a></td><td><code>modified docs</code></td></tr></table>




---

archive/issue_comments_425783.json:
```json
{
    "body": "Changed commit from **[`75c17aa`](https://github.com/sagemath/sagetrac-mirror/commit/75c17aa00b8d2e6f6b6199ddfa073e5102e7ab71)** to **[`9a28a9b`](https://github.com/sagemath/sagetrac-mirror/commit/9a28a9bd4d71524dae77393570b56b68fbdfdcde)**",
    "created_at": "2019-03-21T11:08:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425783",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`75c17aa`](https://github.com/sagemath/sagetrac-mirror/commit/75c17aa00b8d2e6f6b6199ddfa073e5102e7ab71)** to **[`9a28a9b`](https://github.com/sagemath/sagetrac-mirror/commit/9a28a9bd4d71524dae77393570b56b68fbdfdcde)**



---

archive/issue_comments_425784.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nCurrently I have modified the docs and kept the parameter labels = True leading to make report_edges True. I don't know if this is the best thing. I can change it if you are not convinced by this usage of automatically setting of report_edges thing.",
    "created_at": "2019-03-21T11:11:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425784",
    "user": "https://github.com/rajat1433"
}
```

<div id="comment:46" align="right">comment:46</div>

Currently I have modified the docs and kept the parameter labels = True leading to make report_edges True. I don't know if this is the best thing. I can change it if you are not convinced by this usage of automatically setting of report_edges thing.



---

archive/issue_comments_425785.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nI'm not fully convinced, but I don't have a better proposal.\n\n- you have not documented the case `use_multiedges=False` and `report_edges=True` and `labels=True`\n\n- avoid trailing white spaces\n\n```diff\n-        return all_paths \n+        return all_paths\n```",
    "created_at": "2019-03-21T17:19:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425785",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:47" align="right">comment:47</div>

I'm not fully convinced, but I don't have a better proposal.

- you have not documented the case `use_multiedges=False` and `report_edges=True` and `labels=True`

- avoid trailing white spaces

```diff
-        return all_paths 
+        return all_paths
```



---

archive/issue_comments_425786.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nI had a little query\n\nwhen use_multiedges=False but labels is True \n\nshould I automatically make use_multiedges as True or \n\nshould I output any simple path by choosing any label in case of multiedges as in :meth:`~GenericGraph.to_simple`",
    "created_at": "2019-03-21T17:28:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425786",
    "user": "https://github.com/rajat1433"
}
```

<div id="comment:48" align="right">comment:48</div>

I had a little query

when use_multiedges=False but labels is True 

should I automatically make use_multiedges as True or 

should I output any simple path by choosing any label in case of multiedges as in :meth:`~GenericGraph.to_simple`



---

archive/issue_comments_425787.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\n2 option, as I wrote in #comment:41",
    "created_at": "2019-03-21T17:42:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425787",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:49" align="right">comment:49</div>

2 option, as I wrote in #comment:41



---

archive/issue_comments_425788.json:
```json
{
    "body": "<div id=\"comment:50\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8025e442d8d2dc2653bc0f95820238a5530868bd\"><code>8025e44</code></a></td><td><code>removed whitespaces</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/50004bcc5befd68be904a926f4622bed0cf5062a\"><code>50004bc</code></a></td><td><code>added support for the case of labels=True and multiedges=False</code></td></tr></table>\n",
    "created_at": "2019-03-21T17:59:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425788",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:50"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8025e442d8d2dc2653bc0f95820238a5530868bd"><code>8025e44</code></a></td><td><code>removed whitespaces</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/50004bcc5befd68be904a926f4622bed0cf5062a"><code>50004bc</code></a></td><td><code>added support for the case of labels=True and multiedges=False</code></td></tr></table>




---

archive/issue_comments_425789.json:
```json
{
    "body": "Changed commit from **[`9a28a9b`](https://github.com/sagemath/sagetrac-mirror/commit/9a28a9bd4d71524dae77393570b56b68fbdfdcde)** to **[`50004bc`](https://github.com/sagemath/sagetrac-mirror/commit/50004bcc5befd68be904a926f4622bed0cf5062a)**",
    "created_at": "2019-03-21T17:59:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425789",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9a28a9b`](https://github.com/sagemath/sagetrac-mirror/commit/9a28a9bd4d71524dae77393570b56b68fbdfdcde)** to **[`50004bc`](https://github.com/sagemath/sagetrac-mirror/commit/50004bcc5befd68be904a926f4622bed0cf5062a)**



---

archive/issue_comments_425790.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nAdded the doc and code for the case of labels=True and multiedges=False",
    "created_at": "2019-03-21T18:02:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425790",
    "user": "https://github.com/rajat1433"
}
```

<div id="comment:51" align="right">comment:51</div>

Added the doc and code for the case of labels=True and multiedges=False



---

archive/issue_comments_425791.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nTo better illustrate the combinations of parameter, you should better use a simple example. Your examples are quite complex I think\n\n```\nsage: g = Graph([(0, 1, 'a'), (0, 1, 'b'), (1, 2,'c'), (1, 2,'d')], multiedges=True)\nsage: g.all_paths(0, 2, use_multiedges=False)\n[[0, 1, 2]]\nsage: g.all_paths(0, 2, use_multiedges=True)\n[[0, 1, 2], [0, 1, 2], [0, 1, 2], [0, 1, 2]]\nsage: g.all_paths(0, 2, use_multiedges=True, report_edges=True)\n[[(0, 1), (1, 2)], [(0, 1), (1, 2)], [(0, 1), (1, 2)], [(0, 1), (1, 2)]]\nsage: g.all_paths(0, 2, use_multiedges=True, report_edges=True, labels=True)\n[((0, 1, 'b'), (1, 2, 'd')),\n ((0, 1, 'b'), (1, 2, 'c')),\n ((0, 1, 'a'), (1, 2, 'd')),\n ((0, 1, 'a'), (1, 2, 'c'))]\nsage: g.all_paths(0, 2, use_multiedges=False, report_edges=True, labels=True)\n[((0, 1, 'b'), (1, 2, 'd'))]\nsage: g.all_paths(0, 2, use_multiedges=False, report_edges=False, labels=True)\n[((0, 1, 'b'), (1, 2, 'd'))]\nsage: g.all_paths(0, 2, use_multiedges=True, report_edges=False, labels=True)\n[((0, 1, 'b'), (1, 2, 'd')),\n ((0, 1, 'b'), (1, 2, 'c')),\n ((0, 1, 'a'), (1, 2, 'd')),\n ((0, 1, 'a'), (1, 2, 'c'))]\n```\n\nI think that the results with `report_edges=False, labels=True` are very confusing.\nFor me, setting `report_edges=False` means that I want list of vertices, not edges, and so that I don't care of edge labels.",
    "created_at": "2019-03-22T13:50:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425791",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:52" align="right">comment:52</div>

To better illustrate the combinations of parameter, you should better use a simple example. Your examples are quite complex I think

```
sage: g = Graph([(0, 1, 'a'), (0, 1, 'b'), (1, 2,'c'), (1, 2,'d')], multiedges=True)
sage: g.all_paths(0, 2, use_multiedges=False)
[[0, 1, 2]]
sage: g.all_paths(0, 2, use_multiedges=True)
[[0, 1, 2], [0, 1, 2], [0, 1, 2], [0, 1, 2]]
sage: g.all_paths(0, 2, use_multiedges=True, report_edges=True)
[[(0, 1), (1, 2)], [(0, 1), (1, 2)], [(0, 1), (1, 2)], [(0, 1), (1, 2)]]
sage: g.all_paths(0, 2, use_multiedges=True, report_edges=True, labels=True)
[((0, 1, 'b'), (1, 2, 'd')),
 ((0, 1, 'b'), (1, 2, 'c')),
 ((0, 1, 'a'), (1, 2, 'd')),
 ((0, 1, 'a'), (1, 2, 'c'))]
sage: g.all_paths(0, 2, use_multiedges=False, report_edges=True, labels=True)
[((0, 1, 'b'), (1, 2, 'd'))]
sage: g.all_paths(0, 2, use_multiedges=False, report_edges=False, labels=True)
[((0, 1, 'b'), (1, 2, 'd'))]
sage: g.all_paths(0, 2, use_multiedges=True, report_edges=False, labels=True)
[((0, 1, 'b'), (1, 2, 'd')),
 ((0, 1, 'b'), (1, 2, 'c')),
 ((0, 1, 'a'), (1, 2, 'd')),
 ((0, 1, 'a'), (1, 2, 'c'))]
```

I think that the results with `report_edges=False, labels=True` are very confusing.
For me, setting `report_edges=False` means that I want list of vertices, not edges, and so that I don't care of edge labels.



---

archive/issue_comments_425792.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nSo I guess I can make a change that  doing report_edges = False I can print vertices and ignore the labels parameters.",
    "created_at": "2019-03-22T14:02:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425792",
    "user": "https://github.com/rajat1433"
}
```

<div id="comment:53" align="right">comment:53</div>

So I guess I can make a change that  doing report_edges = False I can print vertices and ignore the labels parameters.



---

archive/issue_comments_425793.json:
```json
{
    "body": "Changed commit from **[`50004bc`](https://github.com/sagemath/sagetrac-mirror/commit/50004bcc5befd68be904a926f4622bed0cf5062a)** to **[`560950f`](https://github.com/sagemath/sagetrac-mirror/commit/560950f45fab7bbb861aa08b5ff48019fbd502b8)**",
    "created_at": "2019-03-22T14:39:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425793",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`50004bc`](https://github.com/sagemath/sagetrac-mirror/commit/50004bcc5befd68be904a926f4622bed0cf5062a)** to **[`560950f`](https://github.com/sagemath/sagetrac-mirror/commit/560950f45fab7bbb861aa08b5ff48019fbd502b8)**



---

archive/issue_comments_425794.json:
```json
{
    "body": "<div id=\"comment:54\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/560950f45fab7bbb861aa08b5ff48019fbd502b8\"><code>560950f</code></a></td><td><code>changed behaviour of parameters</code></td></tr></table>\n",
    "created_at": "2019-03-22T14:39:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425794",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:54"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/560950f45fab7bbb861aa08b5ff48019fbd502b8"><code>560950f</code></a></td><td><code>changed behaviour of parameters</code></td></tr></table>




---

archive/issue_comments_425795.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nNow it seems better with changed behaviour of the parameters in case of report_edges=False, labels=True.",
    "created_at": "2019-03-22T14:41:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425795",
    "user": "https://github.com/rajat1433"
}
```

<div id="comment:55" align="right">comment:55</div>

Now it seems better with changed behaviour of the parameters in case of report_edges=False, labels=True.



---

archive/issue_comments_425796.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nMuch better ;)\n\n2 minor details\n\n```diff\n-        depending on the value of the flag use_multiedges.\n+        depending on the value of the flag ``use_multiedges``.\n```\n\n```diff\n-            :meth:`~GenericGraph.to_simple` if report_edges is ``True``\n+            :meth:`~GenericGraph.to_simple` if ``report_edges`` is ``True``\n```",
    "created_at": "2019-03-22T15:27:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425796",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:56" align="right">comment:56</div>

Much better ;)

2 minor details

```diff
-        depending on the value of the flag use_multiedges.
+        depending on the value of the flag ``use_multiedges``.
```

```diff
-            :meth:`~GenericGraph.to_simple` if report_edges is ``True``
+            :meth:`~GenericGraph.to_simple` if ``report_edges`` is ``True``
```



---

archive/issue_comments_425797.json:
```json
{
    "body": "Changed commit from **[`560950f`](https://github.com/sagemath/sagetrac-mirror/commit/560950f45fab7bbb861aa08b5ff48019fbd502b8)** to **[`4789bed`](https://github.com/sagemath/sagetrac-mirror/commit/4789bed63d1e58bd366c55eb45decce1fbbb065c)**",
    "created_at": "2019-03-22T15:45:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425797",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`560950f`](https://github.com/sagemath/sagetrac-mirror/commit/560950f45fab7bbb861aa08b5ff48019fbd502b8)** to **[`4789bed`](https://github.com/sagemath/sagetrac-mirror/commit/4789bed63d1e58bd366c55eb45decce1fbbb065c)**



---

archive/issue_comments_425798.json:
```json
{
    "body": "<div id=\"comment:57\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4789bed63d1e58bd366c55eb45decce1fbbb065c\"><code>4789bed</code></a></td><td><code>minor fix</code></td></tr></table>\n",
    "created_at": "2019-03-22T15:45:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425798",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:57"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4789bed63d1e58bd366c55eb45decce1fbbb065c"><code>4789bed</code></a></td><td><code>minor fix</code></td></tr></table>




---

archive/issue_comments_425799.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nThanks for the review. I have corrected the documentation.",
    "created_at": "2019-03-22T15:46:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425799",
    "user": "https://github.com/rajat1433"
}
```

<div id="comment:58" align="right">comment:58</div>

Thanks for the review. I have corrected the documentation.



---

archive/issue_comments_425800.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nLGTM.",
    "created_at": "2019-03-22T16:08:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425800",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:59" align="right">comment:59</div>

LGTM.



---

archive/issue_events_379541.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-03-22T16:08:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-379541"
}
```



---

archive/issue_events_379542.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-03-22T16:08:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-379542"
}
```



---

archive/issue_events_379543.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-24T18:58:39Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-379543"
}
```



---

archive/issue_events_379544.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-24T18:58:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-379544"
}
```



---

archive/issue_events_379545.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-03-25T19:43:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-379545"
}
```



---

archive/issue_events_379546.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "6e4a3393e979f34e1d818226303d812e8264525c",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-03-25T19:43:41Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-379546"
}
```



---

archive/issue_comments_425801.json:
```json
{
    "body": "Changed branch from **[u/gh-rajat1433/27501_all_paths_with_edges](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-rajat1433/27501_all_paths_with_edges)** to **[`4789bed`](https://github.com/sagemath/sagetrac-mirror/commit/4789bed63d1e58bd366c55eb45decce1fbbb065c)**",
    "created_at": "2019-03-25T19:43:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-425801",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/gh-rajat1433/27501_all_paths_with_edges](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-rajat1433/27501_all_paths_with_edges)** to **[`4789bed`](https://github.com/sagemath/sagetrac-mirror/commit/4789bed63d1e58bd366c55eb45decce1fbbb065c)**
