# Issue 27501: Adding an option to get paths by edges and adding case of multiple edges in all_paths method

archive/issues_027264.json:
```json
{
    "assignees": [],
    "body": "This ticket adds 3 new parameter to all_paths method namely use_multiedges, report_edges and labels to use multiedges while reporting paths, to use edges instead of vertices in outputing the paths and outputing labels as well in the paths.\n\nAssignee: **@rajat1433**\n\nCC:  @dcoudert\n\nBranch/Commit: **[4789bed](https://github.com/sagemath/sagetrac-mirror/commit/4789bed63d1e58bd366c55eb45decce1fbbb065c)**\n\nReviewer: **David Coudert**\n\nAuthor: **Rajat Mittal**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/27501_\n\n",
    "closed_at": "2019-03-25T19:43:41Z",
    "created_at": "2019-03-16T10:22:15Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Adding an option to get paths by edges and adding case of multiple edges in all_paths method",
    "type": "issue",
    "updated_at": "2019-03-25T19:43:41Z",
    "url": "https://github.com/sagemath/sage/issues/27501",
    "user": "https://github.com/rajat1433"
}
```
This ticket adds 3 new parameter to all_paths method namely use_multiedges, report_edges and labels to use multiedges while reporting paths, to use edges instead of vertices in outputing the paths and outputing labels as well in the paths.

Assignee: **@rajat1433**

CC:  @dcoudert

Branch/Commit: **[4789bed](https://github.com/sagemath/sagetrac-mirror/commit/4789bed63d1e58bd366c55eb45decce1fbbb065c)**

Reviewer: **David Coudert**

Author: **Rajat Mittal**

_Issue created by migration from https://trac.sagemath.org/ticket/27501_





---

archive/issue_events_346733.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-16T10:22:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-346733"
}
```



---

archive/issue_events_346734.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-16T10:22:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "component: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-346734"
}
```



---

archive/issue_events_346735.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-16T10:22:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-346735"
}
```



---

archive/issue_events_346736.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-16T10:22:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-346736"
}
```



---

archive/issue_comments_428680.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,6 +12,7 @@\n sage: eg2.add_edge(4,5,7)\n sage: eg2.add_edge(4,5,8)\n sage: eg2.add_edge(5,6,2)\n+sage: eg2.all_paths(0,6)\n \n ```\n \n``````\n",
    "created_at": "2019-03-16T10:23:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428680",
    "user": "https://github.com/rajat1433"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,6 +12,7 @@
 sage: eg2.add_edge(4,5,7)
 sage: eg2.add_edge(4,5,8)
 sage: eg2.add_edge(5,6,2)
+sage: eg2.all_paths(0,6)
 
 ```
 
``````




---

archive/issue_comments_428681.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nAs per my understanding this problem is arising because neighbor_out_iterator and neighbor_iterator methods are not able to return the iterator over vertices which are connected via multiedges they are only returning the vertices one time. I have looked into the graph backend files and couldn't find a function capable to return iterator over neighbors connected via multiedges.\n\nAs a solution to it I can write a function in backend capable of returning such iterator in case if the graph is multiedged that will be efficient too. (I found out_neighbors_unsafe method in sparse graph class which Gives all v such that (u, v) is an arc of the graph.) \nAlternatively, I can define an iterator myself in all_paths() function mimicking such functionality maybe by using edge_iterator to collect vertices connected via multiedges. I don't know which one is best. If there is any better ideas , I'll be glad to follow on that.",
    "created_at": "2019-03-16T14:36:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428681",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:2'>Comment 2:</a>
As per my understanding this problem is arising because neighbor_out_iterator and neighbor_iterator methods are not able to return the iterator over vertices which are connected via multiedges they are only returning the vertices one time. I have looked into the graph backend files and couldn't find a function capable to return iterator over neighbors connected via multiedges.

As a solution to it I can write a function in backend capable of returning such iterator in case if the graph is multiedged that will be efficient too. (I found out_neighbors_unsafe method in sparse graph class which Gives all v such that (u, v) is an arc of the graph.) 
Alternatively, I can define an iterator myself in all_paths() function mimicking such functionality maybe by using edge_iterator to collect vertices connected via multiedges. I don't know which one is best. If there is any better ideas , I'll be glad to follow on that.



---

archive/issue_comments_428682.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nThe neighbor iterator is doing exactly what it should. Even if you have 1000 edges between u and v, u has only 1 neighbor.\n\nI think the easiest solution is:\n- If the graph has multiedges, record the edge multiplicity\n- Then, before yielding a path, compute how many time it should be returned (multiplication of # multiedges) and yield it than number of times.",
    "created_at": "2019-03-16T18:21:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428682",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:3'>Comment 3:</a>
The neighbor iterator is doing exactly what it should. Even if you have 1000 edges between u and v, u has only 1 neighbor.

I think the easiest solution is:
- If the graph has multiedges, record the edge multiplicity
- Then, before yielding a path, compute how many time it should be returned (multiplication of # multiedges) and yield it than number of times.



---

archive/issue_comments_428683.json:
```json
{
    "body": "Reviewer: **dcoudert**",
    "created_at": "2019-03-16T19:29:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428683",
    "user": "https://github.com/rajat1433"
}
```

Reviewer: **dcoudert**



---

archive/issue_events_346737.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-16T19:29:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-346737"
}
```



---

archive/issue_comments_428684.json:
```json
{
    "body": "Branch: **[u/gh-rajat1433/27501_all_paths](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-rajat1433/27501_all_paths)**",
    "created_at": "2019-03-16T19:29:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428684",
    "user": "https://github.com/rajat1433"
}
```

Branch: **[u/gh-rajat1433/27501_all_paths](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-rajat1433/27501_all_paths)**



---

archive/issue_comments_428685.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/50e39b1ee0151aac7bd6148b98aa16ba94eda933\">50e39b1</a></td><td><code>added multiedge_support</code></td></tr></table>\n",
    "created_at": "2019-03-16T19:30:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428685",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'>Comment 5:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/50e39b1ee0151aac7bd6148b98aa16ba94eda933">50e39b1</a></td><td><code>added multiedge_support</code></td></tr></table>




---

archive/issue_comments_428686.json:
```json
{
    "body": "Commit: **[50e39b1](https://github.com/sagemath/sagetrac-mirror/commit/50e39b1ee0151aac7bd6148b98aa16ba94eda933)**",
    "created_at": "2019-03-16T19:30:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428686",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[50e39b1](https://github.com/sagemath/sagetrac-mirror/commit/50e39b1ee0151aac7bd6148b98aa16ba94eda933)**



---

archive/issue_comments_428687.json:
```json
{
    "body": "Changed reviewer from **dcoudert** to **David Coudert**",
    "created_at": "2019-03-16T19:32:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428687",
    "user": "https://github.com/rajat1433"
}
```

Changed reviewer from **dcoudert** to **David Coudert**



---

archive/issue_comments_428688.json:
```json
{
    "body": "Assignee: **@rajat1433**",
    "created_at": "2019-03-16T19:33:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428688",
    "user": "https://github.com/rajat1433"
}
```

Assignee: **@rajat1433**



---

archive/issue_comments_428689.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nAdded paths multiple times based on the multiplicity of multiedges in a path.",
    "created_at": "2019-03-16T19:34:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428689",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:9'>Comment 9:</a>
Added paths multiple times based on the multiplicity of multiedges in a path.



---

archive/issue_comments_428690.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nI think there is a better solution:\n1. at the beginning of the method, count the multiplicity of each edge\n2. when a path is added to `all_paths`, count the number x of times the path must be added, and add it x times.",
    "created_at": "2019-03-18T07:39:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428690",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:10'>Comment 10:</a>
I think there is a better solution:
1. at the beginning of the method, count the multiplicity of each edge
2. when a path is added to `all_paths`, count the number x of times the path must be added, and add it x times.



---

archive/issue_comments_428691.json:
```json
{
    "body": "Changed commit from **[50e39b1](https://github.com/sagemath/sagetrac-mirror/commit/50e39b1ee0151aac7bd6148b98aa16ba94eda933)** to **[dc39953](https://github.com/sagemath/sagetrac-mirror/commit/dc39953746f3eda33bbdfe1274fc022b4182d037)**",
    "created_at": "2019-03-18T08:42:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428691",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[50e39b1](https://github.com/sagemath/sagetrac-mirror/commit/50e39b1ee0151aac7bd6148b98aa16ba94eda933)** to **[dc39953](https://github.com/sagemath/sagetrac-mirror/commit/dc39953746f3eda33bbdfe1274fc022b4182d037)**



---

archive/issue_comments_428692.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dc39953746f3eda33bbdfe1274fc022b4182d037\">dc39953</a></td><td><code>added edge multiplicity dict</code></td></tr></table>\n",
    "created_at": "2019-03-18T08:42:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428692",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:11'>Comment 11:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dc39953746f3eda33bbdfe1274fc022b4182d037">dc39953</a></td><td><code>added edge multiplicity dict</code></td></tr></table>




---

archive/issue_comments_428693.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nI have followed your advice and maintained a dictionary for maintaining edge_multiplicity. first it calculates all the paths then for each path it sees how many times it should be present and returns accordingly. I know the paths can be added multiple times in all_paths variable by checking the multiplicty in between but that would require to restructure the whole code so I thought to add the path multiple times in the end.",
    "created_at": "2019-03-18T08:45:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428693",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:12'>Comment 12:</a>
I have followed your advice and maintained a dictionary for maintaining edge_multiplicity. first it calculates all the paths then for each path it sees how many times it should be present and returns accordingly. I know the paths can be added multiple times in all_paths variable by checking the multiplicty in between but that would require to restructure the whole code so I thought to add the path multiple times in the end.



---

archive/issue_comments_428694.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nFor counting the edge multiplicity, I have a shorter solution:\n\n```diff\n         if self.has_multiple_edges():\n-            edge_multiplicity = {}\n-            for e in self.edges():\n-                if (e[0], e[1]) in edge_multiplicity.keys():\n-                    edge_multiplicity[(e[0], e[1])] += 1\n-                else:\n-                    edge_multiplicity[(e[0], e[1])] = 1\n+            from collections import Counter\n+            edge_multiplicity = Counter(self.edge_iterator(labels=False))\n```\nTry `Counter` to see how it works\n\nFor counting the multiplicity of path `p`, a more elegant version is:\n\n```\nm = prod(edge_multiplicity[e] for e in zip(p[:-1], p[1:]))\n```\nI don't know if you need to import `prod` from `sage/misc/misc_c.pyx`\n}}}",
    "created_at": "2019-03-18T10:24:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428694",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:13'>Comment 13:</a>
For counting the edge multiplicity, I have a shorter solution:

```diff
         if self.has_multiple_edges():
-            edge_multiplicity = {}
-            for e in self.edges():
-                if (e[0], e[1]) in edge_multiplicity.keys():
-                    edge_multiplicity[(e[0], e[1])] += 1
-                else:
-                    edge_multiplicity[(e[0], e[1])] = 1
+            from collections import Counter
+            edge_multiplicity = Counter(self.edge_iterator(labels=False))
```
Try `Counter` to see how it works

For counting the multiplicity of path `p`, a more elegant version is:

```
m = prod(edge_multiplicity[e] for e in zip(p[:-1], p[1:]))
```
I don't know if you need to import `prod` from `sage/misc/misc_c.pyx`
}}}



---

archive/issue_comments_428695.json:
```json
{
    "body": "Changed commit from **[dc39953](https://github.com/sagemath/sagetrac-mirror/commit/dc39953746f3eda33bbdfe1274fc022b4182d037)** to **[9c49e6e](https://github.com/sagemath/sagetrac-mirror/commit/9c49e6ebb64b0cb50e885624e922c4cac0d5b7d8)**",
    "created_at": "2019-03-18T11:04:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428695",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[dc39953](https://github.com/sagemath/sagetrac-mirror/commit/dc39953746f3eda33bbdfe1274fc022b4182d037)** to **[9c49e6e](https://github.com/sagemath/sagetrac-mirror/commit/9c49e6ebb64b0cb50e885624e922c4cac0d5b7d8)**



---

archive/issue_comments_428696.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9c49e6ebb64b0cb50e885624e922c4cac0d5b7d8\">9c49e6e</a></td><td><code>code compression</code></td></tr></table>\n",
    "created_at": "2019-03-18T11:04:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428696",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:14'>Comment 14:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9c49e6ebb64b0cb50e885624e922c4cac0d5b7d8">9c49e6e</a></td><td><code>code compression</code></td></tr></table>




---

archive/issue_comments_428697.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nThose things really saved a lot of lines of codes. Good to learn that. Also thanks for the review.",
    "created_at": "2019-03-18T11:05:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428697",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:15'>Comment 15:</a>
Those things really saved a lot of lines of codes. Good to learn that. Also thanks for the review.



---

archive/issue_comments_428698.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nReplying to [@rajat1433](#comment%3A15):\n> Those things really saved a lot of lines of codes. Good to learn that. \n\nThese methods are simple and fast. Also a good way to avoid bugs.\n\n> Also thanks for the review.\n\nDoing my best to help, but don't expect me to always answer so quickly...\n\n\nTODO: add in the documentation of the method that if the graph has multiple edges, a path may be reported several times.",
    "created_at": "2019-03-18T13:46:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428698",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:16'>Comment 16:</a>
Replying to [@rajat1433](#comment%3A15):
> Those things really saved a lot of lines of codes. Good to learn that. 

These methods are simple and fast. Also a good way to avoid bugs.

> Also thanks for the review.

Doing my best to help, but don't expect me to always answer so quickly...


TODO: add in the documentation of the method that if the graph has multiple edges, a path may be reported several times.



---

archive/issue_comments_428699.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e64e4cacbbc006449eade56f13b00b0f17b861e6\">e64e4ca</a></td><td><code>added doc</code></td></tr></table>\n",
    "created_at": "2019-03-18T16:46:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428699",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:17'>Comment 17:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e64e4cacbbc006449eade56f13b00b0f17b861e6">e64e4ca</a></td><td><code>added doc</code></td></tr></table>




---

archive/issue_comments_428700.json:
```json
{
    "body": "Changed commit from **[9c49e6e](https://github.com/sagemath/sagetrac-mirror/commit/9c49e6ebb64b0cb50e885624e922c4cac0d5b7d8)** to **[e64e4ca](https://github.com/sagemath/sagetrac-mirror/commit/e64e4cacbbc006449eade56f13b00b0f17b861e6)**",
    "created_at": "2019-03-18T16:46:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428700",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9c49e6e](https://github.com/sagemath/sagetrac-mirror/commit/9c49e6ebb64b0cb50e885624e922c4cac0d5b7d8)** to **[e64e4ca](https://github.com/sagemath/sagetrac-mirror/commit/e64e4cacbbc006449eade56f13b00b0f17b861e6)**



---

archive/issue_comments_428701.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nadded the documentation part for multiple edges.",
    "created_at": "2019-03-18T16:48:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428701",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:18'>Comment 18:</a>
added the documentation part for multiple edges.



---

archive/issue_comments_428702.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\n- for documentation, I meant to add some text just after\n\n```\n        If ``start`` is the same vertex as ``end``, then ``[[start]]`` is\n        returned -- a list containing the 1-vertex, 0-edge path \"``start``\".\n```\n  to get for instance (feel free to reformulate)\n\n```\n        If ``start`` is the same vertex as ``end``, then ``[[start]]`` is\n        returned -- a list containing the 1-vertex, 0-edge path \"``start``\".\n\n        If ``self`` has multiple edges, a path will be returned as many\n        times as the product of the multiplicity of the edges along that path.\n```\n\n- please revert this change. No need for `::` here.\n\n```diff\n-        EXAMPLES::\n+        EXAMPLES:\n```\n\n- You could use a simpler example like this one. I think it's more clear\n\n```\nsage: G = Graph([(0, 1), (0, 1), (1, 2), (1, 2)], multiedges=True)\nsage: G.all_paths(0, 2)\n[[0, 1, 2], [0, 1, 2], [0, 1, 2], [0, 1, 2]]\n```\n\n- and you can move the examples you added in the TESTS bloc into the EXAMPLES bloc. The example for Graph is essentially the same as the other one. The example for DiGraph is good.",
    "created_at": "2019-03-18T17:31:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428702",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:19'>Comment 19:</a>
- for documentation, I meant to add some text just after

```
        If ``start`` is the same vertex as ``end``, then ``[[start]]`` is
        returned -- a list containing the 1-vertex, 0-edge path "``start``".
```
  to get for instance (feel free to reformulate)

```
        If ``start`` is the same vertex as ``end``, then ``[[start]]`` is
        returned -- a list containing the 1-vertex, 0-edge path "``start``".

        If ``self`` has multiple edges, a path will be returned as many
        times as the product of the multiplicity of the edges along that path.
```

- please revert this change. No need for `::` here.

```diff
-        EXAMPLES::
+        EXAMPLES:
```

- You could use a simpler example like this one. I think it's more clear

```
sage: G = Graph([(0, 1), (0, 1), (1, 2), (1, 2)], multiedges=True)
sage: G.all_paths(0, 2)
[[0, 1, 2], [0, 1, 2], [0, 1, 2], [0, 1, 2]]
```

- and you can move the examples you added in the TESTS bloc into the EXAMPLES bloc. The example for Graph is essentially the same as the other one. The example for DiGraph is good.



---

archive/issue_comments_428703.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d6392989bf9f6a504051034db1aa319ddbee15f3\">d639298</a></td><td><code>made changes in documentation</code></td></tr></table>\n",
    "created_at": "2019-03-19T04:00:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428703",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:20'>Comment 20:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d6392989bf9f6a504051034db1aa319ddbee15f3">d639298</a></td><td><code>made changes in documentation</code></td></tr></table>




---

archive/issue_comments_428704.json:
```json
{
    "body": "Changed commit from **[e64e4ca](https://github.com/sagemath/sagetrac-mirror/commit/e64e4cacbbc006449eade56f13b00b0f17b861e6)** to **[d639298](https://github.com/sagemath/sagetrac-mirror/commit/d6392989bf9f6a504051034db1aa319ddbee15f3)**",
    "created_at": "2019-03-19T04:00:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428704",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e64e4ca](https://github.com/sagemath/sagetrac-mirror/commit/e64e4cacbbc006449eade56f13b00b0f17b861e6)** to **[d639298](https://github.com/sagemath/sagetrac-mirror/commit/d6392989bf9f6a504051034db1aa319ddbee15f3)**



---

archive/issue_comments_428705.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nMade the changes!",
    "created_at": "2019-03-19T04:01:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428705",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:21'>Comment 21:</a>
Made the changes!



---

archive/issue_events_346738.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-19T04:57:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-346738"
}
```



---

archive/issue_events_346739.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-19T04:57:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-346739"
}
```



---

archive/issue_events_346740.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-19T04:57:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-346740"
}
```



---

archive/issue_events_346741.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-19T04:57:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-346741"
}
```



---

archive/issue_comments_428706.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nLooking at the errors induced by this ticket in `src/sage/quivers/path_semigroup.py` and `src/sage/quivers/representation.py` (see the patchbot), I realize that we are making a mistake in this ticket and in #27504.\n\nIn graph theory, 2 definitions of paths are used:\n1. ordered list of vertices `s=u1, u2, ..., uk=t` such that there is an edge from `ui` to `ui+1`\n2. ordered list of edges `(s=u1, u2), (u2, u3), ..., (uk-1, uk=t)`\n\nMost of the time, when we use the list of vertices, we care about the existence of an edge from `ui` to `ui+1`, and so we want only 1 path.\nBut when we use the list of edges, we are more interested in the existence of many paths due to multiedges.\n\n\nSo, if you agree, I suggest to add parameters to:\n* switch on/off the use of multiple edges, if any, sets to off by default to avoid changing the behavior for methods calling this one. A possible name could be `multiedges`. I don't have a better name in mind yet\n* return list of edges instead of vertices (possibly with/without edge labels). A possible name could be `report_edges=False`, combined with `labels=False`.\n\n\nThe main difficulty will be to build all the possibles paths with edges and labels...\nThere might exist some macro to ease this operation.",
    "created_at": "2019-03-19T13:11:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428706",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:24'>Comment 24:</a>
Looking at the errors induced by this ticket in `src/sage/quivers/path_semigroup.py` and `src/sage/quivers/representation.py` (see the patchbot), I realize that we are making a mistake in this ticket and in #27504.

In graph theory, 2 definitions of paths are used:
1. ordered list of vertices `s=u1, u2, ..., uk=t` such that there is an edge from `ui` to `ui+1`
2. ordered list of edges `(s=u1, u2), (u2, u3), ..., (uk-1, uk=t)`

Most of the time, when we use the list of vertices, we care about the existence of an edge from `ui` to `ui+1`, and so we want only 1 path.
But when we use the list of edges, we are more interested in the existence of many paths due to multiedges.


So, if you agree, I suggest to add parameters to:
* switch on/off the use of multiple edges, if any, sets to off by default to avoid changing the behavior for methods calling this one. A possible name could be `multiedges`. I don't have a better name in mind yet
* return list of edges instead of vertices (possibly with/without edge labels). A possible name could be `report_edges=False`, combined with `labels=False`.


The main difficulty will be to build all the possibles paths with edges and labels...
There might exist some macro to ease this operation.



---

archive/issue_comments_428707.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nI see the underlying problem.\n\n- switch on/off the use of multiple edges, if any, sets to off by default to avoid changing the behavior for methods calling this one. A possible name could be multiedges. I don't have a better name in mind yet \n\nI think use_multiedges might be a suitable variable...\n\n- return list of edges instead of vertices (possibly with/without edge labels). A possible name could be report_edges=False, combined with labels=False. \n\nI was thinking this for a long time to output paths as edges using labels, even wanted to include in my proposal I think it can be done for now using something like Cartesian Product function by adding the edges using edge_boundary.\n\n\n```\n    path_with_labels = []\n    for p in all_paths:\n        multiple_path=[]\n        for i,u in enumerate(p):\n            if i < len(p)-1:\n                v = p[i+1]\n                edges = g.edge_boundary([u], [v])\n                multiple_path.append(edges)\n        path_with_labels.extend(CartesianProduct(*multiple_path))\n```\n\nIf it looks ok then I can start adding it.",
    "created_at": "2019-03-19T15:22:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428707",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:25'>Comment 25:</a>
I see the underlying problem.

- switch on/off the use of multiple edges, if any, sets to off by default to avoid changing the behavior for methods calling this one. A possible name could be multiedges. I don't have a better name in mind yet 

I think use_multiedges might be a suitable variable...

- return list of edges instead of vertices (possibly with/without edge labels). A possible name could be report_edges=False, combined with labels=False. 

I was thinking this for a long time to output paths as edges using labels, even wanted to include in my proposal I think it can be done for now using something like Cartesian Product function by adding the edges using edge_boundary.


```
    path_with_labels = []
    for p in all_paths:
        multiple_path=[]
        for i,u in enumerate(p):
            if i < len(p)-1:
                v = p[i+1]
                edges = g.edge_boundary([u], [v])
                multiple_path.append(edges)
        path_with_labels.extend(CartesianProduct(*multiple_path))
```

If it looks ok then I can start adding it.



---

archive/issue_comments_428708.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nGreat !\n\n`CartesianProduct` is deprecated, so you must use `cartesian_product(multiple_path)` instead.\n\nCalling `edge_boundary` is quite expensive. You should better store all edges between u and v in a dictionary. When it's done, do `mydict[v, u] = mydict[u, v]` so that cell `(v, u)` points to the list of cell `(u,v)`.\n\nThen you can use `cartesian_product(mydict[e] for e in zip(p[:-1], p[1:]))`",
    "created_at": "2019-03-19T15:53:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428708",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:26'>Comment 26:</a>
Great !

`CartesianProduct` is deprecated, so you must use `cartesian_product(multiple_path)` instead.

Calling `edge_boundary` is quite expensive. You should better store all edges between u and v in a dictionary. When it's done, do `mydict[v, u] = mydict[u, v]` so that cell `(v, u)` points to the list of cell `(u,v)`.

Then you can use `cartesian_product(mydict[e] for e in zip(p[:-1], p[1:]))`



---

archive/issue_comments_428709.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nI don't understand why mydict[v, u] = mydict[u, v] as we can have digraphs also so edges between u and v may not be same as edges between v and u.",
    "created_at": "2019-03-19T16:52:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428709",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:27'>Comment 27:</a>
I don't understand why mydict[v, u] = mydict[u, v] as we can have digraphs also so edges between u and v may not be same as edges between v and u.



---

archive/issue_comments_428710.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nRight. You should not do that for digraphs. But for graphs we can save time and space doing so.",
    "created_at": "2019-03-19T16:59:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428710",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:28'>Comment 28:</a>
Right. You should not do that for digraphs. But for graphs we can save time and space doing so.



---

archive/issue_comments_428711.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nI am not able to import cartesian_product method.\nAny help where it is located?",
    "created_at": "2019-03-19T17:59:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428711",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:29'>Comment 29:</a>
I am not able to import cartesian_product method.
Any help where it is located?



---

archive/issue_events_346742.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-19T18:02:21Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "title_is": "Adding an option to get paths by edges and adding case of multiple edges in all_paths method",
    "title_was": "all_paths method does not distinguish between multiple edges",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-346742"
}
```



---

archive/issue_events_346743.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-19T18:02:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-346743"
}
```



---

archive/issue_events_346744.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-19T18:02:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-346744"
}
```



---

archive/issue_comments_428712.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\n`from sage.categories.cartesian_product import cartesian_product`",
    "created_at": "2019-03-19T18:07:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428712",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:31'>Comment 31:</a>
`from sage.categories.cartesian_product import cartesian_product`



---

archive/issue_comments_428713.json:
```json
{
    "body": "Changed commit from **[d639298](https://github.com/sagemath/sagetrac-mirror/commit/d6392989bf9f6a504051034db1aa319ddbee15f3)** to **[aa19c45](https://github.com/sagemath/sagetrac-mirror/commit/aa19c45460f0e9ddf29a5f0f89d6480ace86a4a5)**",
    "created_at": "2019-03-20T06:14:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428713",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d639298](https://github.com/sagemath/sagetrac-mirror/commit/d6392989bf9f6a504051034db1aa319ddbee15f3)** to **[aa19c45](https://github.com/sagemath/sagetrac-mirror/commit/aa19c45460f0e9ddf29a5f0f89d6480ace86a4a5)**



---

archive/issue_comments_428714.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f0392e9c103ed2510b6ba95f92662572650ec86\">7f0392e</a></td><td><code>checkpt1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f5a5363555183232c9980af695ad771aeed9654c\">f5a5363</a></td><td><code>checkpt2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa19c45460f0e9ddf29a5f0f89d6480ace86a4a5\">aa19c45</a></td><td><code>refactroing of all_paths</code></td></tr></table>\n",
    "created_at": "2019-03-20T06:14:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428714",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:32'>Comment 32:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f0392e9c103ed2510b6ba95f92662572650ec86">7f0392e</a></td><td><code>checkpt1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f5a5363555183232c9980af695ad771aeed9654c">f5a5363</a></td><td><code>checkpt2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa19c45460f0e9ddf29a5f0f89d6480ace86a4a5">aa19c45</a></td><td><code>refactroing of all_paths</code></td></tr></table>




---

archive/issue_comments_428715.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,37 +1 @@\n-While running all_paths method on multiedges graphs it is not able to distinguish between multiple edges even though they may have different labels.\n \n-\n-```\n-sage: eg2 = Graph(multiedges=True)\n-sage: eg2.add_edge(0,1,1)\n-sage: eg2.add_edge(0,2,3)\n-sage: eg2.add_edge(1,4,3)\n-sage: eg2.add_edge(2,3,5)\n-sage: eg2.add_edge(2,4,15)\n-sage: eg2.add_edge(2,4,12)\n-sage: eg2.add_edge(4,5,7)\n-sage: eg2.add_edge(4,5,8)\n-sage: eg2.add_edge(5,6,2)\n-sage: eg2.all_paths(0,6)\n-\n-```\n-\n-currently it returns \n-\n-```\n-[[0, 1, 4, 5, 6], [0, 2, 4, 5, 6]]\n-```\n-\n-\n- but it should be \n-\n-```\n-[[0, 1, 4, 5, 6],\n- [0, 1, 4, 5, 6],\n- [0, 2, 4, 5, 6],\n- [0, 2, 4, 5, 6],\n- [0, 2, 4, 5, 6],\n- [0, 2, 4, 5, 6]]\n-```\n-\n-As that is the meaning of all paths between source and destination node.\n``````\n",
    "created_at": "2019-03-20T06:30:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428715",
    "user": "https://github.com/rajat1433"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,37 +1 @@
-While running all_paths method on multiedges graphs it is not able to distinguish between multiple edges even though they may have different labels.
 
-
-```
-sage: eg2 = Graph(multiedges=True)
-sage: eg2.add_edge(0,1,1)
-sage: eg2.add_edge(0,2,3)
-sage: eg2.add_edge(1,4,3)
-sage: eg2.add_edge(2,3,5)
-sage: eg2.add_edge(2,4,15)
-sage: eg2.add_edge(2,4,12)
-sage: eg2.add_edge(4,5,7)
-sage: eg2.add_edge(4,5,8)
-sage: eg2.add_edge(5,6,2)
-sage: eg2.all_paths(0,6)
-
-```
-
-currently it returns 
-
-```
-[[0, 1, 4, 5, 6], [0, 2, 4, 5, 6]]
-```
-
-
- but it should be 
-
-```
-[[0, 1, 4, 5, 6],
- [0, 1, 4, 5, 6],
- [0, 2, 4, 5, 6],
- [0, 2, 4, 5, 6],
- [0, 2, 4, 5, 6],
- [0, 2, 4, 5, 6]]
-```
-
-As that is the meaning of all paths between source and destination node.
``````




---

archive/issue_comments_428716.json:
```json
{
    "body": "Changed branch from **[u/gh-rajat1433/27501_all_paths](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-rajat1433/27501_all_paths)** to **[u/gh-rajat1433/27501_all_paths_edges](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-rajat1433/27501_all_paths_edges)**",
    "created_at": "2019-03-20T06:30:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428716",
    "user": "https://github.com/rajat1433"
}
```

Changed branch from **[u/gh-rajat1433/27501_all_paths](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-rajat1433/27501_all_paths)** to **[u/gh-rajat1433/27501_all_paths_edges](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-rajat1433/27501_all_paths_edges)**



---

archive/issue_comments_428717.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nThis ticket adds 3 new parameter to all_paths method namely use_multiedges, report_edges and labels to use multiedges while reporting paths, to use edges instead of vertices in outputing the paths and outputing labels as well in the paths.",
    "created_at": "2019-03-20T06:30:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428717",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:33'>Comment 33:</a>
This ticket adds 3 new parameter to all_paths method namely use_multiedges, report_edges and labels to use multiedges while reporting paths, to use edges instead of vertices in outputing the paths and outputing labels as well in the paths.



---

archive/issue_comments_428718.json:
```json
{
    "body": "Changed commit from **[aa19c45](https://github.com/sagemath/sagetrac-mirror/commit/aa19c45460f0e9ddf29a5f0f89d6480ace86a4a5)** to none",
    "created_at": "2019-03-20T06:30:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428718",
    "user": "https://github.com/rajat1433"
}
```

Changed commit from **[aa19c45](https://github.com/sagemath/sagetrac-mirror/commit/aa19c45460f0e9ddf29a5f0f89d6480ace86a4a5)** to none



---

archive/issue_comments_428719.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+This ticket adds 3 new parameter to all_paths method namely use_multiedges, report_edges and labels to use multiedges while reporting paths, to use edges instead of vertices in outputing the paths and outputing labels as well in the paths. \n``````\n",
    "created_at": "2019-03-20T06:31:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428719",
    "user": "https://github.com/rajat1433"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+This ticket adds 3 new parameter to all_paths method namely use_multiedges, report_edges and labels to use multiedges while reporting paths, to use edges instead of vertices in outputing the paths and outputing labels as well in the paths. 
``````




---

archive/issue_comments_428720.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48f826f298b7aaffe5093aa11cfc7c9a46ee3081\">48f826f</a></td><td><code>cleaning branch</code></td></tr></table>\n",
    "created_at": "2019-03-20T06:32:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428720",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:35'>Comment 35:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48f826f298b7aaffe5093aa11cfc7c9a46ee3081">48f826f</a></td><td><code>cleaning branch</code></td></tr></table>




---

archive/issue_comments_428721.json:
```json
{
    "body": "Commit: **[48f826f](https://github.com/sagemath/sagetrac-mirror/commit/48f826f298b7aaffe5093aa11cfc7c9a46ee3081)**",
    "created_at": "2019-03-20T06:32:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428721",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[48f826f](https://github.com/sagemath/sagetrac-mirror/commit/48f826f298b7aaffe5093aa11cfc7c9a46ee3081)**



---

archive/issue_comments_428722.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nHello,\n\nthere is a merge conflict with your branch. This is certainly because version 8.6.rc0 has been released. You have to rebase the ticket.",
    "created_at": "2019-03-20T07:59:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428722",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:36'>Comment 36:</a>
Hello,

there is a merge conflict with your branch. This is certainly because version 8.6.rc0 has been released. You have to rebase the ticket.



---

archive/issue_comments_428723.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\nYou are right yesterday only version 8.7.rc0 has been released. Working on rebase thing.",
    "created_at": "2019-03-20T09:09:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428723",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:37'>Comment 37:</a>
You are right yesterday only version 8.7.rc0 has been released. Working on rebase thing.



---

archive/issue_comments_428724.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-This ticket adds 3 new parameter to all_paths method namely use_multiedges, report_edges and labels to use multiedges while reporting paths, to use edges instead of vertices in outputing the paths and outputing labels as well in the paths. \n+This ticket adds 3 new parameter to all_paths method namely use_multiedges, report_edges and labels to use multiedges while reporting paths, to use edges instead of vertices in outputing the paths and outputing labels as well in the paths.\n``````\n",
    "created_at": "2019-03-20T09:25:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428724",
    "user": "https://github.com/rajat1433"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-This ticket adds 3 new parameter to all_paths method namely use_multiedges, report_edges and labels to use multiedges while reporting paths, to use edges instead of vertices in outputing the paths and outputing labels as well in the paths. 
+This ticket adds 3 new parameter to all_paths method namely use_multiedges, report_edges and labels to use multiedges while reporting paths, to use edges instead of vertices in outputing the paths and outputing labels as well in the paths.
``````




---

archive/issue_comments_428725.json:
```json
{
    "body": "Changed branch from **[u/gh-rajat1433/27501_all_paths_edges](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-rajat1433/27501_all_paths_edges)** to **[u/gh-rajat1433/27501_all_paths_with_edges](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-rajat1433/27501_all_paths_with_edges)**",
    "created_at": "2019-03-20T09:25:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428725",
    "user": "https://github.com/rajat1433"
}
```

Changed branch from **[u/gh-rajat1433/27501_all_paths_edges](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-rajat1433/27501_all_paths_edges)** to **[u/gh-rajat1433/27501_all_paths_with_edges](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-rajat1433/27501_all_paths_with_edges)**



---

archive/issue_comments_428726.json:
```json
{
    "body": "Changed commit from **[48f826f](https://github.com/sagemath/sagetrac-mirror/commit/48f826f298b7aaffe5093aa11cfc7c9a46ee3081)** to none",
    "created_at": "2019-03-20T09:25:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428726",
    "user": "https://github.com/rajat1433"
}
```

Changed commit from **[48f826f](https://github.com/sagemath/sagetrac-mirror/commit/48f826f298b7aaffe5093aa11cfc7c9a46ee3081)** to none



---

archive/issue_comments_428727.json:
```json
{
    "body": "<a id='comment:39'>Comment 39:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b3439b28a601e77043d3415f952ca5c29e6f47e9\">b3439b2</a></td><td><code>improved all_paths method</code></td></tr></table>\n",
    "created_at": "2019-03-20T09:26:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428727",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:39'>Comment 39:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b3439b28a601e77043d3415f952ca5c29e6f47e9">b3439b2</a></td><td><code>improved all_paths method</code></td></tr></table>




---

archive/issue_comments_428728.json:
```json
{
    "body": "Commit: **[b3439b2](https://github.com/sagemath/sagetrac-mirror/commit/b3439b28a601e77043d3415f952ca5c29e6f47e9)**",
    "created_at": "2019-03-20T09:26:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428728",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[b3439b2](https://github.com/sagemath/sagetrac-mirror/commit/b3439b28a601e77043d3415f952ca5c29e6f47e9)**



---

archive/issue_events_346745.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-20T09:31:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-346745"
}
```



---

archive/issue_events_346746.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-20T09:31:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-346746"
}
```



---

archive/issue_comments_428729.json:
```json
{
    "body": "<a id='comment:40'>Comment 40:</a>\nNow its clean , I have added the parameters as discussed.",
    "created_at": "2019-03-20T09:31:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428729",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:40'>Comment 40:</a>
Now its clean , I have added the parameters as discussed.



---

archive/issue_comments_428730.json:
```json
{
    "body": "<a id='comment:41'>Comment 41:</a>\nI'm still thinking to the logic of these parameters. I'm not fully convinced by the choices done like if `label is True` then set other parameters to `True`. \n\nAnyway,\n- parameter `label` should be `labels`, as for other methods like `.edges(labels=True)`\n\n- would you agree with the following changes in the documentation\n\n```diff\n-        - ``report_edges`` -- boolean (default: ``False``);  if ``True``, then\n-          edges are used instead of vertices in representing the path else by\n-          default vertices are used to represent the path\n+        - ``report_edges`` -- boolean (default: ``False``); whether to report\n+          paths as list of vertices (default) or list of edges\n```\n\n```diff\n-        - ``use_multiedges`` -- boolean (default: ``False``); if ``True``, then\n-          multiple edges present between the nodes are taken into account for\n-          finding all paths else these multiedges if present are ignored\n+        - ``use_multiedges`` -- boolean (default: ``False``); this parameter is\n+          used only if the graph has multiple edges. \n+\n+          - If ``False``, the graph is considered as simple and an edge label\n+            is arbitrarily selected for each edge as in \n+            :meth:`~GenericGraph.to_simple`\n+\n+          - If ``True``, a path will be reported as many times as the edges\n+            multiplicities along that path (when ``report_edges = False`` or \n+            ``labels = False``), or with all possible combinations of edge labels\n+            (when ``report_edges = True`` and ``labels = True``) \n```\n\n```diff\n-        - ``label`` -- boolean (default: ``False``);  if ``True``,\n-          ``report_edges`` is automatically set to ``True`` and labels are\n-          reported along with the edges. Also multiedges are also automatically\n-          taken into account when label is ``True``.\n+        - ``labels`` -- boolean (default: ``False``); if ``False``, each edge is\n+          simply a pair ``(u, v)``of vertices. This parameter is ignored when\n+          ``report_edges = False``\n```\n\n- this is better\n\n```diff\n             for e in self.edge_iterator():\n                 if (e[0], e[1]) in my_dict.keys():\n                     my_dict[(e[0], e[1])].append(e)\n                 else:\n                     my_dict[(e[0], e[1])] = [e]\n-                if not self.is_directed():   \n-                    my_dict[(e[1], e[0])] = my_dict[(e[0], e[1])]\n+            if not self.is_directed():\n+                for u, v in my_dict.keys():\n+                    my_dict[v, u] = my_dict[u, v]\n```",
    "created_at": "2019-03-21T09:51:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428730",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:41'>Comment 41:</a>
I'm still thinking to the logic of these parameters. I'm not fully convinced by the choices done like if `label is True` then set other parameters to `True`. 

Anyway,
- parameter `label` should be `labels`, as for other methods like `.edges(labels=True)`

- would you agree with the following changes in the documentation

```diff
-        - ``report_edges`` -- boolean (default: ``False``);  if ``True``, then
-          edges are used instead of vertices in representing the path else by
-          default vertices are used to represent the path
+        - ``report_edges`` -- boolean (default: ``False``); whether to report
+          paths as list of vertices (default) or list of edges
```

```diff
-        - ``use_multiedges`` -- boolean (default: ``False``); if ``True``, then
-          multiple edges present between the nodes are taken into account for
-          finding all paths else these multiedges if present are ignored
+        - ``use_multiedges`` -- boolean (default: ``False``); this parameter is
+          used only if the graph has multiple edges. 
+
+          - If ``False``, the graph is considered as simple and an edge label
+            is arbitrarily selected for each edge as in 
+            :meth:`~GenericGraph.to_simple`
+
+          - If ``True``, a path will be reported as many times as the edges
+            multiplicities along that path (when ``report_edges = False`` or 
+            ``labels = False``), or with all possible combinations of edge labels
+            (when ``report_edges = True`` and ``labels = True``) 
```

```diff
-        - ``label`` -- boolean (default: ``False``);  if ``True``,
-          ``report_edges`` is automatically set to ``True`` and labels are
-          reported along with the edges. Also multiedges are also automatically
-          taken into account when label is ``True``.
+        - ``labels`` -- boolean (default: ``False``); if ``False``, each edge is
+          simply a pair ``(u, v)``of vertices. This parameter is ignored when
+          ``report_edges = False``
```

- this is better

```diff
             for e in self.edge_iterator():
                 if (e[0], e[1]) in my_dict.keys():
                     my_dict[(e[0], e[1])].append(e)
                 else:
                     my_dict[(e[0], e[1])] = [e]
-                if not self.is_directed():   
-                    my_dict[(e[1], e[0])] = my_dict[(e[0], e[1])]
+            if not self.is_directed():
+                for u, v in my_dict.keys():
+                    my_dict[v, u] = my_dict[u, v]
```



---

archive/issue_comments_428731.json:
```json
{
    "body": "<a id='comment:42'>Comment 42:</a>\nThis was done because if labels were true and report_edges were false then there will be no point in labels being true as labels will make sense only if we were to output edges in the path. \n\nLike in shortest_path function of generic graph we say if weight_function is not None then by_weight parameter is automatically set to true.",
    "created_at": "2019-03-21T09:58:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428731",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:42'>Comment 42:</a>
This was done because if labels were true and report_edges were false then there will be no point in labels being true as labels will make sense only if we were to output edges in the path. 

Like in shortest_path function of generic graph we say if weight_function is not None then by_weight parameter is automatically set to true.



---

archive/issue_comments_428732.json:
```json
{
    "body": "<a id='comment:43'>Comment 43:</a>\nOK. But you have to improve the documentation anyway :P",
    "created_at": "2019-03-21T10:42:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428732",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:43'>Comment 43:</a>
OK. But you have to improve the documentation anyway :P



---

archive/issue_comments_428733.json:
```json
{
    "body": "<a id='comment:44'>Comment 44:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7bc79ea45e271f99574bc19105f5a54292b8f655\">7bc79ea</a></td><td><code>removed space</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/75c17aa00b8d2e6f6b6199ddfa073e5102e7ab71\">75c17aa</a></td><td><code>modified docs</code></td></tr></table>\n",
    "created_at": "2019-03-21T11:06:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428733",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:44'>Comment 44:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7bc79ea45e271f99574bc19105f5a54292b8f655">7bc79ea</a></td><td><code>removed space</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/75c17aa00b8d2e6f6b6199ddfa073e5102e7ab71">75c17aa</a></td><td><code>modified docs</code></td></tr></table>




---

archive/issue_comments_428734.json:
```json
{
    "body": "Changed commit from **[b3439b2](https://github.com/sagemath/sagetrac-mirror/commit/b3439b28a601e77043d3415f952ca5c29e6f47e9)** to **[75c17aa](https://github.com/sagemath/sagetrac-mirror/commit/75c17aa00b8d2e6f6b6199ddfa073e5102e7ab71)**",
    "created_at": "2019-03-21T11:06:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428734",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b3439b2](https://github.com/sagemath/sagetrac-mirror/commit/b3439b28a601e77043d3415f952ca5c29e6f47e9)** to **[75c17aa](https://github.com/sagemath/sagetrac-mirror/commit/75c17aa00b8d2e6f6b6199ddfa073e5102e7ab71)**



---

archive/issue_comments_428735.json:
```json
{
    "body": "<a id='comment:45'>Comment 45:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a28a9bd4d71524dae77393570b56b68fbdfdcde\">9a28a9b</a></td><td><code>modified docs</code></td></tr></table>\n",
    "created_at": "2019-03-21T11:08:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428735",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:45'>Comment 45:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a28a9bd4d71524dae77393570b56b68fbdfdcde">9a28a9b</a></td><td><code>modified docs</code></td></tr></table>




---

archive/issue_comments_428736.json:
```json
{
    "body": "Changed commit from **[75c17aa](https://github.com/sagemath/sagetrac-mirror/commit/75c17aa00b8d2e6f6b6199ddfa073e5102e7ab71)** to **[9a28a9b](https://github.com/sagemath/sagetrac-mirror/commit/9a28a9bd4d71524dae77393570b56b68fbdfdcde)**",
    "created_at": "2019-03-21T11:08:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428736",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[75c17aa](https://github.com/sagemath/sagetrac-mirror/commit/75c17aa00b8d2e6f6b6199ddfa073e5102e7ab71)** to **[9a28a9b](https://github.com/sagemath/sagetrac-mirror/commit/9a28a9bd4d71524dae77393570b56b68fbdfdcde)**



---

archive/issue_comments_428737.json:
```json
{
    "body": "<a id='comment:46'>Comment 46:</a>\nCurrently I have modified the docs and kept the parameter labels = True leading to make report_edges True. I don't know if this is the best thing. I can change it if you are not convinced by this usage of automatically setting of report_edges thing.",
    "created_at": "2019-03-21T11:11:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428737",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:46'>Comment 46:</a>
Currently I have modified the docs and kept the parameter labels = True leading to make report_edges True. I don't know if this is the best thing. I can change it if you are not convinced by this usage of automatically setting of report_edges thing.



---

archive/issue_comments_428738.json:
```json
{
    "body": "<a id='comment:47'>Comment 47:</a>\nI'm not fully convinced, but I don't have a better proposal.\n\n- you have not documented the case `use_multiedges=False` and `report_edges=True` and `labels=True`\n\n- avoid trailing white spaces\n\n```diff\n-        return all_paths \n+        return all_paths\n```",
    "created_at": "2019-03-21T17:19:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428738",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:47'>Comment 47:</a>
I'm not fully convinced, but I don't have a better proposal.

- you have not documented the case `use_multiedges=False` and `report_edges=True` and `labels=True`

- avoid trailing white spaces

```diff
-        return all_paths 
+        return all_paths
```



---

archive/issue_comments_428739.json:
```json
{
    "body": "<a id='comment:48'>Comment 48:</a>\nI had a little query\n\nwhen use_multiedges=False but labels is True \n\nshould I automatically make use_multiedges as True or \n\nshould I output any simple path by choosing any label in case of multiedges as in :meth:`~GenericGraph.to_simple`",
    "created_at": "2019-03-21T17:28:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428739",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:48'>Comment 48:</a>
I had a little query

when use_multiedges=False but labels is True 

should I automatically make use_multiedges as True or 

should I output any simple path by choosing any label in case of multiedges as in :meth:`~GenericGraph.to_simple`



---

archive/issue_comments_428740.json:
```json
{
    "body": "<a id='comment:49'>Comment 49:</a>\n2 option, as I wrote in #comment:41",
    "created_at": "2019-03-21T17:42:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428740",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:49'>Comment 49:</a>
2 option, as I wrote in #comment:41



---

archive/issue_comments_428741.json:
```json
{
    "body": "<a id='comment:50'>Comment 50:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8025e442d8d2dc2653bc0f95820238a5530868bd\">8025e44</a></td><td><code>removed whitespaces</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/50004bcc5befd68be904a926f4622bed0cf5062a\">50004bc</a></td><td><code>added support for the case of labels=True and multiedges=False</code></td></tr></table>\n",
    "created_at": "2019-03-21T17:59:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428741",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:50'>Comment 50:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8025e442d8d2dc2653bc0f95820238a5530868bd">8025e44</a></td><td><code>removed whitespaces</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/50004bcc5befd68be904a926f4622bed0cf5062a">50004bc</a></td><td><code>added support for the case of labels=True and multiedges=False</code></td></tr></table>




---

archive/issue_comments_428742.json:
```json
{
    "body": "Changed commit from **[9a28a9b](https://github.com/sagemath/sagetrac-mirror/commit/9a28a9bd4d71524dae77393570b56b68fbdfdcde)** to **[50004bc](https://github.com/sagemath/sagetrac-mirror/commit/50004bcc5befd68be904a926f4622bed0cf5062a)**",
    "created_at": "2019-03-21T17:59:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428742",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9a28a9b](https://github.com/sagemath/sagetrac-mirror/commit/9a28a9bd4d71524dae77393570b56b68fbdfdcde)** to **[50004bc](https://github.com/sagemath/sagetrac-mirror/commit/50004bcc5befd68be904a926f4622bed0cf5062a)**



---

archive/issue_comments_428743.json:
```json
{
    "body": "<a id='comment:51'>Comment 51:</a>\nAdded the doc and code for the case of labels=True and multiedges=False",
    "created_at": "2019-03-21T18:02:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428743",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:51'>Comment 51:</a>
Added the doc and code for the case of labels=True and multiedges=False



---

archive/issue_comments_428744.json:
```json
{
    "body": "<a id='comment:52'>Comment 52:</a>\nTo better illustrate the combinations of parameter, you should better use a simple example. Your examples are quite complex I think\n\n```\nsage: g = Graph([(0, 1, 'a'), (0, 1, 'b'), (1, 2,'c'), (1, 2,'d')], multiedges=True)\nsage: g.all_paths(0, 2, use_multiedges=False)\n[[0, 1, 2]]\nsage: g.all_paths(0, 2, use_multiedges=True)\n[[0, 1, 2], [0, 1, 2], [0, 1, 2], [0, 1, 2]]\nsage: g.all_paths(0, 2, use_multiedges=True, report_edges=True)\n[[(0, 1), (1, 2)], [(0, 1), (1, 2)], [(0, 1), (1, 2)], [(0, 1), (1, 2)]]\nsage: g.all_paths(0, 2, use_multiedges=True, report_edges=True, labels=True)\n[((0, 1, 'b'), (1, 2, 'd')),\n ((0, 1, 'b'), (1, 2, 'c')),\n ((0, 1, 'a'), (1, 2, 'd')),\n ((0, 1, 'a'), (1, 2, 'c'))]\nsage: g.all_paths(0, 2, use_multiedges=False, report_edges=True, labels=True)\n[((0, 1, 'b'), (1, 2, 'd'))]\nsage: g.all_paths(0, 2, use_multiedges=False, report_edges=False, labels=True)\n[((0, 1, 'b'), (1, 2, 'd'))]\nsage: g.all_paths(0, 2, use_multiedges=True, report_edges=False, labels=True)\n[((0, 1, 'b'), (1, 2, 'd')),\n ((0, 1, 'b'), (1, 2, 'c')),\n ((0, 1, 'a'), (1, 2, 'd')),\n ((0, 1, 'a'), (1, 2, 'c'))]\n```\n\nI think that the results with `report_edges=False, labels=True` are very confusing.\nFor me, setting `report_edges=False` means that I want list of vertices, not edges, and so that I don't care of edge labels.",
    "created_at": "2019-03-22T13:50:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428744",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:52'>Comment 52:</a>
To better illustrate the combinations of parameter, you should better use a simple example. Your examples are quite complex I think

```
sage: g = Graph([(0, 1, 'a'), (0, 1, 'b'), (1, 2,'c'), (1, 2,'d')], multiedges=True)
sage: g.all_paths(0, 2, use_multiedges=False)
[[0, 1, 2]]
sage: g.all_paths(0, 2, use_multiedges=True)
[[0, 1, 2], [0, 1, 2], [0, 1, 2], [0, 1, 2]]
sage: g.all_paths(0, 2, use_multiedges=True, report_edges=True)
[[(0, 1), (1, 2)], [(0, 1), (1, 2)], [(0, 1), (1, 2)], [(0, 1), (1, 2)]]
sage: g.all_paths(0, 2, use_multiedges=True, report_edges=True, labels=True)
[((0, 1, 'b'), (1, 2, 'd')),
 ((0, 1, 'b'), (1, 2, 'c')),
 ((0, 1, 'a'), (1, 2, 'd')),
 ((0, 1, 'a'), (1, 2, 'c'))]
sage: g.all_paths(0, 2, use_multiedges=False, report_edges=True, labels=True)
[((0, 1, 'b'), (1, 2, 'd'))]
sage: g.all_paths(0, 2, use_multiedges=False, report_edges=False, labels=True)
[((0, 1, 'b'), (1, 2, 'd'))]
sage: g.all_paths(0, 2, use_multiedges=True, report_edges=False, labels=True)
[((0, 1, 'b'), (1, 2, 'd')),
 ((0, 1, 'b'), (1, 2, 'c')),
 ((0, 1, 'a'), (1, 2, 'd')),
 ((0, 1, 'a'), (1, 2, 'c'))]
```

I think that the results with `report_edges=False, labels=True` are very confusing.
For me, setting `report_edges=False` means that I want list of vertices, not edges, and so that I don't care of edge labels.



---

archive/issue_comments_428745.json:
```json
{
    "body": "<a id='comment:53'>Comment 53:</a>\nSo I guess I can make a change that  doing report_edges = False I can print vertices and ignore the labels parameters.",
    "created_at": "2019-03-22T14:02:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428745",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:53'>Comment 53:</a>
So I guess I can make a change that  doing report_edges = False I can print vertices and ignore the labels parameters.



---

archive/issue_comments_428746.json:
```json
{
    "body": "Changed commit from **[50004bc](https://github.com/sagemath/sagetrac-mirror/commit/50004bcc5befd68be904a926f4622bed0cf5062a)** to **[560950f](https://github.com/sagemath/sagetrac-mirror/commit/560950f45fab7bbb861aa08b5ff48019fbd502b8)**",
    "created_at": "2019-03-22T14:39:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428746",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[50004bc](https://github.com/sagemath/sagetrac-mirror/commit/50004bcc5befd68be904a926f4622bed0cf5062a)** to **[560950f](https://github.com/sagemath/sagetrac-mirror/commit/560950f45fab7bbb861aa08b5ff48019fbd502b8)**



---

archive/issue_comments_428747.json:
```json
{
    "body": "<a id='comment:54'>Comment 54:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/560950f45fab7bbb861aa08b5ff48019fbd502b8\">560950f</a></td><td><code>changed behaviour of parameters</code></td></tr></table>\n",
    "created_at": "2019-03-22T14:39:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428747",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:54'>Comment 54:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/560950f45fab7bbb861aa08b5ff48019fbd502b8">560950f</a></td><td><code>changed behaviour of parameters</code></td></tr></table>




---

archive/issue_comments_428748.json:
```json
{
    "body": "<a id='comment:55'>Comment 55:</a>\nNow it seems better with changed behaviour of the parameters in case of report_edges=False, labels=True.",
    "created_at": "2019-03-22T14:41:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428748",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:55'>Comment 55:</a>
Now it seems better with changed behaviour of the parameters in case of report_edges=False, labels=True.



---

archive/issue_comments_428749.json:
```json
{
    "body": "<a id='comment:56'>Comment 56:</a>\nMuch better ;)\n\n2 minor details\n\n```diff\n-        depending on the value of the flag use_multiedges.\n+        depending on the value of the flag ``use_multiedges``.\n```\n\n```diff\n-            :meth:`~GenericGraph.to_simple` if report_edges is ``True``\n+            :meth:`~GenericGraph.to_simple` if ``report_edges`` is ``True``\n```",
    "created_at": "2019-03-22T15:27:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428749",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:56'>Comment 56:</a>
Much better ;)

2 minor details

```diff
-        depending on the value of the flag use_multiedges.
+        depending on the value of the flag ``use_multiedges``.
```

```diff
-            :meth:`~GenericGraph.to_simple` if report_edges is ``True``
+            :meth:`~GenericGraph.to_simple` if ``report_edges`` is ``True``
```



---

archive/issue_comments_428750.json:
```json
{
    "body": "Changed commit from **[560950f](https://github.com/sagemath/sagetrac-mirror/commit/560950f45fab7bbb861aa08b5ff48019fbd502b8)** to **[4789bed](https://github.com/sagemath/sagetrac-mirror/commit/4789bed63d1e58bd366c55eb45decce1fbbb065c)**",
    "created_at": "2019-03-22T15:45:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428750",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[560950f](https://github.com/sagemath/sagetrac-mirror/commit/560950f45fab7bbb861aa08b5ff48019fbd502b8)** to **[4789bed](https://github.com/sagemath/sagetrac-mirror/commit/4789bed63d1e58bd366c55eb45decce1fbbb065c)**



---

archive/issue_comments_428751.json:
```json
{
    "body": "<a id='comment:57'>Comment 57:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4789bed63d1e58bd366c55eb45decce1fbbb065c\">4789bed</a></td><td><code>minor fix</code></td></tr></table>\n",
    "created_at": "2019-03-22T15:45:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428751",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:57'>Comment 57:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4789bed63d1e58bd366c55eb45decce1fbbb065c">4789bed</a></td><td><code>minor fix</code></td></tr></table>




---

archive/issue_comments_428752.json:
```json
{
    "body": "<a id='comment:58'>Comment 58:</a>\nThanks for the review. I have corrected the documentation.",
    "created_at": "2019-03-22T15:46:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428752",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:58'>Comment 58:</a>
Thanks for the review. I have corrected the documentation.



---

archive/issue_comments_428753.json:
```json
{
    "body": "<a id='comment:59'>Comment 59:</a>\nLGTM.",
    "created_at": "2019-03-22T16:08:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428753",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:59'>Comment 59:</a>
LGTM.



---

archive/issue_events_346747.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-03-22T16:08:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-346747"
}
```



---

archive/issue_events_346748.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-03-22T16:08:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-346748"
}
```



---

archive/issue_events_346749.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-24T18:58:39Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-346749"
}
```



---

archive/issue_events_346750.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-03-24T18:58:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-346750"
}
```



---

archive/issue_events_346751.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-03-25T19:43:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-346751"
}
```



---

archive/issue_events_346752.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "6e4a3393e979f34e1d818226303d812e8264525c",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-03-25T19:43:41Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27501#event-346752"
}
```



---

archive/issue_comments_428754.json:
```json
{
    "body": "Changed branch from **[u/gh-rajat1433/27501_all_paths_with_edges](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-rajat1433/27501_all_paths_with_edges)** to **[4789bed](https://github.com/sagemath/sagetrac-mirror/commit/4789bed63d1e58bd366c55eb45decce1fbbb065c)**",
    "created_at": "2019-03-25T19:43:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27501",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27501#issuecomment-428754",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/gh-rajat1433/27501_all_paths_with_edges](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-rajat1433/27501_all_paths_with_edges)** to **[4789bed](https://github.com/sagemath/sagetrac-mirror/commit/4789bed63d1e58bd366c55eb45decce1fbbb065c)**
