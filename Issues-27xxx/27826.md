# Issue 27826: Remove calls to 'long(...)', etc.

archive/issues_027589.json:
```json
{
    "assignees": [],
    "body": "`long(...)` is not defined in Python 3, and so we should remove all calls to `long`. We should also delete all methods `__long__`, and remove the special-casing for `long` in Python 3 doctesting (in `doctest/forker.py`).\n\nSage 9.2 will not support Python 2 anymore, so that is this ticket's target release.\n\n\n**CC:**  @embray @fchapoton\n\n**Branch/Commit:** [3fcba9001e4f3a020173c5aa9b62bb9aea7180bf](https://github.com/sagemath/sagetrac-mirror/commit/3fcba9001e4f3a020173c5aa9b62bb9aea7180bf)\n\n**Work Issues:** Rebase\n\n**Reviewer:** Matthias Koeppe\n\n**Author:** John Palmieri\n\nIssue created by migration from https://trac.sagemath.org/ticket/27826\n\n",
    "closed_at": "2020-06-22T22:34:27Z",
    "created_at": "2019-05-13T20:08:27Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20python3",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Remove calls to 'long(...)', etc.",
    "type": "issue",
    "updated_at": "2020-06-22T22:34:27Z",
    "url": "https://github.com/sagemath/sage/issues/27826",
    "user": "https://github.com/jhpalmieri"
}
```
`long(...)` is not defined in Python 3, and so we should remove all calls to `long`. We should also delete all methods `__long__`, and remove the special-casing for `long` in Python 3 doctesting (in `doctest/forker.py`).

Sage 9.2 will not support Python 2 anymore, so that is this ticket's target release.


**CC:**  @embray @fchapoton

**Branch/Commit:** [3fcba9001e4f3a020173c5aa9b62bb9aea7180bf](https://github.com/sagemath/sagetrac-mirror/commit/3fcba9001e4f3a020173c5aa9b62bb9aea7180bf)

**Work Issues:** Rebase

**Reviewer:** Matthias Koeppe

**Author:** John Palmieri

Issue created by migration from https://trac.sagemath.org/ticket/27826





---

archive/issue_events_333814.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2019-05-13T20:08:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333814"
}
```



---

archive/issue_events_333815.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2019-05-13T20:08:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20python3",
    "label_color": "08517b",
    "label_name": "component: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333815"
}
```



---

archive/issue_events_333816.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2019-05-13T20:08:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333816"
}
```



---

archive/issue_comments_434680.json:
```json
{
    "body": "**Branch:** [u/jhpalmieri/deprecate-long](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/deprecate-long)",
    "created_at": "2019-05-13T21:29:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434680",
    "user": "https://github.com/jhpalmieri"
}
```

**Branch:** [u/jhpalmieri/deprecate-long](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/deprecate-long)



---

archive/issue_comments_434681.json:
```json
{
    "body": "**Commit:** [d5fcb32c0b0100383e09754d319eb28ba18c5862](https://github.com/sagemath/sagetrac-mirror/commit/d5fcb32c0b0100383e09754d319eb28ba18c5862)",
    "created_at": "2019-05-13T22:41:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434681",
    "user": "https://github.com/jhpalmieri"
}
```

**Commit:** [d5fcb32c0b0100383e09754d319eb28ba18c5862](https://github.com/sagemath/sagetrac-mirror/commit/d5fcb32c0b0100383e09754d319eb28ba18c5862)



---

archive/issue_comments_434682.json:
```json
{
    "body": "<a id='comment:2'>**Comment 2:**</a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5fcb32c0b0100383e09754d319eb28ba18c5862\">d5fcb32</a></td><td><code>trac 27826: deprecate `__long__` methods for many Sage classes</code></td></tr></table>\n",
    "created_at": "2019-05-13T22:41:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434682",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:2'>**Comment 2:**</a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5fcb32c0b0100383e09754d319eb28ba18c5862">d5fcb32</a></td><td><code>trac 27826: deprecate `__long__` methods for many Sage classes</code></td></tr></table>




---

archive/issue_events_333817.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2019-05-13T22:41:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333817"
}
```



---

archive/issue_events_333818.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-05-15T08:17:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333818"
}
```



---

archive/issue_events_333819.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-05-15T08:17:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "008080",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333819"
}
```



---

archive/issue_comments_434683.json:
```json
{
    "body": "Replying to [ticket:27826 jhpalmieri]:\n> Notable classes which are not included: integers and rational numbers. This is mainly because those classes are used in so many places in the Sage library that deprecation warnings for them would get triggered many times during doctesting.\n\nAre there really that many places where an integer/rational is explicitly converted to a `long`? That worries me. I really want to understand better why you're not applying this everywhere (needs_info for that reason).\n\nAbout the patch itself:\n\n1. in `src/sage/libs/mpmath/ext_main.pyx` you messed up the spacing of `\"\"\"`\n\n2. I don't understand the comment <code>This is deprecated, but the \\`\\`TypeError\\`\\` takes precedence over the deprecation warning when this is run.</code> How does the error \"take precedence\" over the warning, what are you trying to say?",
    "created_at": "2019-05-15T08:17:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434683",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [ticket:27826 jhpalmieri]:
> Notable classes which are not included: integers and rational numbers. This is mainly because those classes are used in so many places in the Sage library that deprecation warnings for them would get triggered many times during doctesting.

Are there really that many places where an integer/rational is explicitly converted to a `long`? That worries me. I really want to understand better why you're not applying this everywhere (needs_info for that reason).

About the patch itself:

1. in `src/sage/libs/mpmath/ext_main.pyx` you messed up the spacing of `"""`

2. I don't understand the comment <code>This is deprecated, but the \`\`TypeError\`\` takes precedence over the deprecation warning when this is run.</code> How does the error "take precedence" over the warning, what are you trying to say?



---

archive/issue_comments_434684.json:
```json
{
    "body": "<a id='comment:4'>**Comment 4:**</a>\nRegarding integer/rational: if I add deprecation warnings to those, I get over 800 files with failures. Many involve `set_random_seed` or other uses of randomization:\n\n```     \nsage -t --long src/sage/parallel/reference.py\n**********************************************************************\nFile \"src/sage/parallel/reference.py\", line 34, in sage.parallel.reference.parallel_iter\nFailed example:\n    set_random_seed(0)\nExpected nothing\nGot:\n    doctest:warning\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/src/bin/sage-runtests\", line 179, in <module>\n        err = DC.run()\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/control.py\", line 1232, in run\n        self.run_doctests()\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/control.py\", line 933, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 2000, in dispatch\n        self.parallel_dispatch()\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1897, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 2183, in start\n        super(DocTestWorker, self).start()\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/multiprocessing/process.py\", line 130, in start\n        self._popen = Popen(self)\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/multiprocessing/forking.py\", line 126, in __init__\n        code = process_obj._bootstrap()\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/multiprocessing/process.py\", line 267, in _bootstrap\n        self.run()\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 2139, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 2477, in __call__\n        doctests, extras = self._run(runner, options, results)\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 2526, in _run\n        result = runner.run(test)\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 869, in run\n        return self._run(test, compileflags, out)\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 671, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1095, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.parallel.reference.parallel_iter[2]>\", line 1, in <module>\n        set_random_seed(Integer(0))\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/misc/superseded.py\", line 102, in deprecation\n        warning(trac_number, message, DeprecationWarning, stacklevel)\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/misc/superseded.py\", line 148, in warning\n        warn(message, warning_class, stacklevel)\n    :\n    DeprecationWarning: use of long is deprecated, since long() will no longer be supported in Python 3\n    See https://trac.sagemath.org/27826 for details.\n**********************************************************************\n```\nAn example without randomness:\n\n```\nsage -t --long src/sage/quadratic_forms/extras.py\n**********************************************************************\nFile \"src/sage/quadratic_forms/extras.py\", line 50, in sage.quadratic_forms.extras.is_triangular_number\nFailed example:\n    F1 = [n for n in range(1,100*(100+1)/2)\n          if is_triangular_number(n)]\nExpected nothing\nGot:\n    doctest:warning\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/src/bin/sage-runtests\", line 179, in <module>\n        err = DC.run()\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/control.py\", line 1232, in run\n        self.run_doctests()\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/control.py\", line 933, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 2000, in dispatch\n        self.parallel_dispatch()\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1897, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 2183, in start\n        super(DocTestWorker, self).start()\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/multiprocessing/process.py\", line 130, in start\n        self._popen = Popen(self)\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/multiprocessing/forking.py\", line 126, in __init__\n        code = process_obj._bootstrap()\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/multiprocessing/process.py\", line 267, in _bootstrap\n        self.run()\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 2139, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 2477, in __call__\n        doctests, extras = self._run(runner, options, results)\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 2526, in _run\n        result = runner.run(test)\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 869, in run\n        return self._run(test, compileflags, out)\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 671, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1095, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.quadratic_forms.extras.is_triangular_number[7]>\", line 1, in <module>\n        F1 = [n for n in range(Integer(1),Integer(100)*(Integer(100)+Integer(1))/Integer(2))\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/misc/superseded.py\", line 102, in deprecation\n        warning(trac_number, message, DeprecationWarning, stacklevel)\n      File \"/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/misc/superseded.py\", line 148, in warning\n        warn(message, warning_class, stacklevel)\n    :\n    DeprecationWarning: use of long is deprecated, since long() will no longer be supported in Python 3\n    See https://trac.sagemath.org/27826 for details.\n```",
    "created_at": "2019-05-15T18:09:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434684",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:4'>**Comment 4:**</a>
Regarding integer/rational: if I add deprecation warnings to those, I get over 800 files with failures. Many involve `set_random_seed` or other uses of randomization:

```     
sage -t --long src/sage/parallel/reference.py
**********************************************************************
File "src/sage/parallel/reference.py", line 34, in sage.parallel.reference.parallel_iter
Failed example:
    set_random_seed(0)
Expected nothing
Got:
    doctest:warning
      File "/Users/jpalmier/Desktop/Sage/git/sage/src/bin/sage-runtests", line 179, in <module>
        err = DC.run()
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/control.py", line 1232, in run
        self.run_doctests()
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/control.py", line 933, in run_doctests
        self.dispatcher.dispatch()
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 2000, in dispatch
        self.parallel_dispatch()
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1897, in parallel_dispatch
        w.start()  # This might take some time
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 2183, in start
        super(DocTestWorker, self).start()
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/multiprocessing/process.py", line 130, in start
        self._popen = Popen(self)
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/multiprocessing/forking.py", line 126, in __init__
        code = process_obj._bootstrap()
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/multiprocessing/process.py", line 267, in _bootstrap
        self.run()
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 2139, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 2477, in __call__
        doctests, extras = self._run(runner, options, results)
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 2526, in _run
        result = runner.run(test)
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 869, in run
        return self._run(test, compileflags, out)
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 671, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1095, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.parallel.reference.parallel_iter[2]>", line 1, in <module>
        set_random_seed(Integer(0))
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/misc/superseded.py", line 102, in deprecation
        warning(trac_number, message, DeprecationWarning, stacklevel)
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/misc/superseded.py", line 148, in warning
        warn(message, warning_class, stacklevel)
    :
    DeprecationWarning: use of long is deprecated, since long() will no longer be supported in Python 3
    See https://trac.sagemath.org/27826 for details.
**********************************************************************
```
An example without randomness:

```
sage -t --long src/sage/quadratic_forms/extras.py
**********************************************************************
File "src/sage/quadratic_forms/extras.py", line 50, in sage.quadratic_forms.extras.is_triangular_number
Failed example:
    F1 = [n for n in range(1,100*(100+1)/2)
          if is_triangular_number(n)]
Expected nothing
Got:
    doctest:warning
      File "/Users/jpalmier/Desktop/Sage/git/sage/src/bin/sage-runtests", line 179, in <module>
        err = DC.run()
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/control.py", line 1232, in run
        self.run_doctests()
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/control.py", line 933, in run_doctests
        self.dispatcher.dispatch()
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 2000, in dispatch
        self.parallel_dispatch()
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1897, in parallel_dispatch
        w.start()  # This might take some time
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 2183, in start
        super(DocTestWorker, self).start()
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/multiprocessing/process.py", line 130, in start
        self._popen = Popen(self)
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/multiprocessing/forking.py", line 126, in __init__
        code = process_obj._bootstrap()
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/multiprocessing/process.py", line 267, in _bootstrap
        self.run()
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 2139, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 2477, in __call__
        doctests, extras = self._run(runner, options, results)
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 2526, in _run
        result = runner.run(test)
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 869, in run
        return self._run(test, compileflags, out)
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 671, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1095, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.quadratic_forms.extras.is_triangular_number[7]>", line 1, in <module>
        F1 = [n for n in range(Integer(1),Integer(100)*(Integer(100)+Integer(1))/Integer(2))
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/misc/superseded.py", line 102, in deprecation
        warning(trac_number, message, DeprecationWarning, stacklevel)
      File "/Users/jpalmier/Desktop/Sage/git/sage/local/lib/python2.7/site-packages/sage/misc/superseded.py", line 148, in warning
        warn(message, warning_class, stacklevel)
    :
    DeprecationWarning: use of long is deprecated, since long() will no longer be supported in Python 3
    See https://trac.sagemath.org/27826 for details.
```



---

archive/issue_comments_434685.json:
```json
{
    "body": "<a id='comment:5'>**Comment 5:**</a>\nReplying to [@jdemeyer](#comment%3A3):\n> About the patch itself:\n> \n> 1. in `src/sage/libs/mpmath/ext_main.pyx` you messed up the spacing of `\"\"\"`\n\nEasy to fix.\n \n> 2. I don't understand the comment <code>This is deprecated, but the \\`\\`TypeError\\`\\` takes precedence over the deprecation warning when this is run.</code> How does the error \"take precedence\" over the warning, what are you trying to say?\n\nBy \"take precedence\", I mean that no deprecation warning is printed, just the `TypeError`. I'm trying to explain why there is no doctest with a deprecation warning. That could be clearer.",
    "created_at": "2019-05-15T18:10:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434685",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:5'>**Comment 5:**</a>
Replying to [@jdemeyer](#comment%3A3):
> About the patch itself:
> 
> 1. in `src/sage/libs/mpmath/ext_main.pyx` you messed up the spacing of `"""`

Easy to fix.
 
> 2. I don't understand the comment <code>This is deprecated, but the \`\`TypeError\`\` takes precedence over the deprecation warning when this is run.</code> How does the error "take precedence" over the warning, what are you trying to say?

By "take precedence", I mean that no deprecation warning is printed, just the `TypeError`. I'm trying to explain why there is no doctest with a deprecation warning. That could be clearer.



---

archive/issue_comments_434686.json:
```json
{
    "body": "<a id='comment:6'>**Comment 6:**</a>\nReplying to [@jhpalmieri](#comment%3A4):\n> Regarding integer/rational: if I add deprecation warnings to those, I get over 800 files with failures. Many involve `set_random_seed` or other uses of randomization\n\nThe question is why do you get so many failures?",
    "created_at": "2019-05-15T18:21:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434686",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'>**Comment 6:**</a>
Replying to [@jhpalmieri](#comment%3A4):
> Regarding integer/rational: if I add deprecation warnings to those, I get over 800 files with failures. Many involve `set_random_seed` or other uses of randomization

The question is why do you get so many failures?



---

archive/issue_comments_434687.json:
```json
{
    "body": "<a id='comment:7'>**Comment 7:**</a>\nReplying to [@jhpalmieri](#comment%3A5):\n> By \"take precedence\", I mean that no deprecation warning is printed, just the `TypeError`. I'm trying to explain why there is no doctest with a deprecation warning. That could be clearer.\n\nI would just remove that note, it's fine.",
    "created_at": "2019-05-15T18:45:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434687",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'>**Comment 7:**</a>
Replying to [@jhpalmieri](#comment%3A5):
> By "take precedence", I mean that no deprecation warning is printed, just the `TypeError`. I'm trying to explain why there is no doctest with a deprecation warning. That could be clearer.

I would just remove that note, it's fine.



---

archive/issue_comments_434688.json:
```json
{
    "body": "<a id='comment:8'>**Comment 8:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2a1b5e40057252c426a7716408e89d1e097540fa\">2a1b5e4</a></td><td><code>trac 27826: fix typo</code></td></tr></table>\n",
    "created_at": "2019-05-15T20:04:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434688",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:8'>**Comment 8:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2a1b5e40057252c426a7716408e89d1e097540fa">2a1b5e4</a></td><td><code>trac 27826: fix typo</code></td></tr></table>




---

archive/issue_comments_434689.json:
```json
{
    "body": "**Changing commit** from \"[d5fcb32c0b0100383e09754d319eb28ba18c5862](https://github.com/sagemath/sagetrac-mirror/commit/d5fcb32c0b0100383e09754d319eb28ba18c5862)\" to \"[2a1b5e40057252c426a7716408e89d1e097540fa](https://github.com/sagemath/sagetrac-mirror/commit/2a1b5e40057252c426a7716408e89d1e097540fa)\".",
    "created_at": "2019-05-15T20:04:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434689",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[d5fcb32c0b0100383e09754d319eb28ba18c5862](https://github.com/sagemath/sagetrac-mirror/commit/d5fcb32c0b0100383e09754d319eb28ba18c5862)" to "[2a1b5e40057252c426a7716408e89d1e097540fa](https://github.com/sagemath/sagetrac-mirror/commit/2a1b5e40057252c426a7716408e89d1e097540fa)".



---

archive/issue_comments_434690.json:
```json
{
    "body": "<a id='comment:9'>**Comment 9:**</a>\nReplying to [@jdemeyer](#comment%3A6):\n> Replying to [@jhpalmieri](#comment%3A4):\n> > Regarding integer/rational: if I add deprecation warnings to those, I get over 800 files with failures. Many involve `set_random_seed` or other uses of randomization\n\n> \n> The question is why do you get so many failures?\n\nI would prefer to address that on another ticket: deal with the easy cases here (and also #27829) and then think about ZZ and QQ.\n\nI haven't investigated at all, just saw that it was a mess and so I wanted to put it off. Does Python's `range` try to convert to `long` in Python 2? Or do some other Python built-ins do that?",
    "created_at": "2019-05-15T20:08:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434690",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:9'>**Comment 9:**</a>
Replying to [@jdemeyer](#comment%3A6):
> Replying to [@jhpalmieri](#comment%3A4):
> > Regarding integer/rational: if I add deprecation warnings to those, I get over 800 files with failures. Many involve `set_random_seed` or other uses of randomization

> 
> The question is why do you get so many failures?

I would prefer to address that on another ticket: deal with the easy cases here (and also #27829) and then think about ZZ and QQ.

I haven't investigated at all, just saw that it was a mess and so I wanted to put it off. Does Python's `range` try to convert to `long` in Python 2? Or do some other Python built-ins do that?



---

archive/issue_comments_434691.json:
```json
{
    "body": "<a id='comment:10'>**Comment 10:**</a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c70dce2a8effb5723cf1d6ab4cd5f798986f3fb4\">c70dce2</a></td><td><code>trac 27826: fix typo, remove some unneeded NOTEs.</code></td></tr></table>\n",
    "created_at": "2019-05-15T20:08:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434691",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:10'>**Comment 10:**</a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c70dce2a8effb5723cf1d6ab4cd5f798986f3fb4">c70dce2</a></td><td><code>trac 27826: fix typo, remove some unneeded NOTEs.</code></td></tr></table>




---

archive/issue_comments_434692.json:
```json
{
    "body": "**Changing commit** from \"[2a1b5e40057252c426a7716408e89d1e097540fa](https://github.com/sagemath/sagetrac-mirror/commit/2a1b5e40057252c426a7716408e89d1e097540fa)\" to \"[c70dce2a8effb5723cf1d6ab4cd5f798986f3fb4](https://github.com/sagemath/sagetrac-mirror/commit/c70dce2a8effb5723cf1d6ab4cd5f798986f3fb4)\".",
    "created_at": "2019-05-15T20:08:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434692",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[2a1b5e40057252c426a7716408e89d1e097540fa](https://github.com/sagemath/sagetrac-mirror/commit/2a1b5e40057252c426a7716408e89d1e097540fa)" to "[c70dce2a8effb5723cf1d6ab4cd5f798986f3fb4](https://github.com/sagemath/sagetrac-mirror/commit/c70dce2a8effb5723cf1d6ab4cd5f798986f3fb4)".



---

archive/issue_events_333820.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-05-16T05:45:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "008080",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333820"
}
```



---

archive/issue_events_333821.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-05-16T05:45:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333821"
}
```



---

archive/issue_comments_434693.json:
```json
{
    "body": "<a id='comment:11'>**Comment 11:**</a>\nReplying to [@jhpalmieri](#comment%3A9):\n> I would prefer to address that on another ticket: deal with the easy cases here (and also #27829) and then think about ZZ and QQ.\n\n-1\n\nWe clearly have no clue what we're doing or what the consequences are of that deprecation.",
    "created_at": "2019-05-16T05:45:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434693",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'>**Comment 11:**</a>
Replying to [@jhpalmieri](#comment%3A9):
> I would prefer to address that on another ticket: deal with the easy cases here (and also #27829) and then think about ZZ and QQ.

-1

We clearly have no clue what we're doing or what the consequences are of that deprecation.



---

archive/issue_comments_434694.json:
```json
{
    "body": "<a id='comment:12'>**Comment 12:**</a>\nI have no idea what your objection is or what work you think needs doing on this ticket. Can you explain?",
    "created_at": "2019-05-16T06:35:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434694",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:12'>**Comment 12:**</a>
I have no idea what your objection is or what work you think needs doing on this ticket. Can you explain?



---

archive/issue_comments_434695.json:
```json
{
    "body": "<a id='comment:13'>**Comment 13:**</a>\nIn some cases (for integers and rationals), deprecating `__long__` causes a large number of warnings. We don't know why there are so many warnings. So deprecating `__long__` seems to have unforeseen consequences. This is a sign that we should be prudent when deprecating `__long__`.\n\nI would much prefer to deal with all cases of `__long__` together (this does not necessarily mean on one ticket, but it does mean understanding the consequences of deprecating all `__long__` methods).\n\nWe might also make a difference between plain Python classes and Cython cdef classes.",
    "created_at": "2019-05-16T08:37:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434695",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'>**Comment 13:**</a>
In some cases (for integers and rationals), deprecating `__long__` causes a large number of warnings. We don't know why there are so many warnings. So deprecating `__long__` seems to have unforeseen consequences. This is a sign that we should be prudent when deprecating `__long__`.

I would much prefer to deal with all cases of `__long__` together (this does not necessarily mean on one ticket, but it does mean understanding the consequences of deprecating all `__long__` methods).

We might also make a difference between plain Python classes and Cython cdef classes.



---

archive/issue_comments_434696.json:
```json
{
    "body": "<a id='comment:14'>**Comment 14:**</a>\nWhat's your plan for *external* packages calling `long(...)`? For example, `fpylll` does this and I don't think it's wrong for them to do that.\n\nThis is especially true from the point of view of Cython and the Python/C API, where the `long` class in Python 2 is the same as the `int` class in Python 3 (you might think that Python 3 removed the `long` class but what really happened is they removed `int` and then renamed `long` -> `int`).\n\nSo I'm now leaning towards closing this ticket as \"wontfix\".",
    "created_at": "2019-05-16T12:13:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434696",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'>**Comment 14:**</a>
What's your plan for *external* packages calling `long(...)`? For example, `fpylll` does this and I don't think it's wrong for them to do that.

This is especially true from the point of view of Cython and the Python/C API, where the `long` class in Python 2 is the same as the `int` class in Python 3 (you might think that Python 3 removed the `long` class but what really happened is they removed `int` and then renamed `long` -> `int`).

So I'm now leaning towards closing this ticket as "wontfix".



---

archive/issue_comments_434697.json:
```json
{
    "body": "<a id='comment:15'>**Comment 15:**</a>\nAlso numpy uses `long` internally (in their C code at least).",
    "created_at": "2019-05-16T12:57:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434697",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'>**Comment 15:**</a>
Also numpy uses `long` internally (in their C code at least).



---

archive/issue_comments_434698.json:
```json
{
    "body": "<a id='comment:16'>**Comment 16:**</a>\nAs far as I can tell, `__long__` methods are not used in Python 3 (despite what you say about the renaming `long -> int`, `int(x)` does not call `x.__long__()`). Let me add a new goal to this, or rather make explicit a previously implicit goal: we want users to stop using the `long()` function, in order to ease the transition to Python 3. Deprecating `__long__` is a way to do this. Is there a better way to accomplish this?",
    "created_at": "2019-05-16T15:14:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434698",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:16'>**Comment 16:**</a>
As far as I can tell, `__long__` methods are not used in Python 3 (despite what you say about the renaming `long -> int`, `int(x)` does not call `x.__long__()`). Let me add a new goal to this, or rather make explicit a previously implicit goal: we want users to stop using the `long()` function, in order to ease the transition to Python 3. Deprecating `__long__` is a way to do this. Is there a better way to accomplish this?



---

archive/issue_comments_434699.json:
```json
{
    "body": "<a id='comment:17'>**Comment 17:**</a>\nI would point out that there are many calls to `long` in `sage.misc.randstate`, so fixing those will help with some of these issues.",
    "created_at": "2019-05-16T15:25:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434699",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:17'>**Comment 17:**</a>
I would point out that there are many calls to `long` in `sage.misc.randstate`, so fixing those will help with some of these issues.



---

archive/issue_comments_434700.json:
```json
{
    "body": "<a id='comment:18'>**Comment 18:**</a>\nCould we replace `long()` in the REPL by a custom `long()` which shows a deprecation warning and then calls the real `long()`?",
    "created_at": "2019-05-16T15:28:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434700",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:18'>**Comment 18:**</a>
Could we replace `long()` in the REPL by a custom `long()` which shows a deprecation warning and then calls the real `long()`?



---

archive/issue_comments_434701.json:
```json
{
    "body": "<a id='comment:19'>**Comment 19:**</a>\nReplying to [@jhpalmieri](#comment%3A17):\n> I would point out that there are many calls to `long` in `sage.misc.randstate`, so fixing those will help with some of these issues.\n\nBut I don't agree that those calls are problematic. We really need a `long` there (or `int` in Python 3 terminology), so calling `long()` (which Cython understands as `int` on Python 3) seems the right thing to do.",
    "created_at": "2019-05-16T15:29:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434701",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'>**Comment 19:**</a>
Replying to [@jhpalmieri](#comment%3A17):
> I would point out that there are many calls to `long` in `sage.misc.randstate`, so fixing those will help with some of these issues.

But I don't agree that those calls are problematic. We really need a `long` there (or `int` in Python 3 terminology), so calling `long()` (which Cython understands as `int` on Python 3) seems the right thing to do.



---

archive/issue_comments_434702.json:
```json
{
    "body": "**Changing commit** from \"[c70dce2a8effb5723cf1d6ab4cd5f798986f3fb4](https://github.com/sagemath/sagetrac-mirror/commit/c70dce2a8effb5723cf1d6ab4cd5f798986f3fb4)\" to \"[9eafb320af9eabcbea251dc6ed1f4e042e8f3717](https://github.com/sagemath/sagetrac-mirror/commit/9eafb320af9eabcbea251dc6ed1f4e042e8f3717)\".",
    "created_at": "2019-05-16T20:58:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434702",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[c70dce2a8effb5723cf1d6ab4cd5f798986f3fb4](https://github.com/sagemath/sagetrac-mirror/commit/c70dce2a8effb5723cf1d6ab4cd5f798986f3fb4)" to "[9eafb320af9eabcbea251dc6ed1f4e042e8f3717](https://github.com/sagemath/sagetrac-mirror/commit/9eafb320af9eabcbea251dc6ed1f4e042e8f3717)".



---

archive/issue_comments_434703.json:
```json
{
    "body": "<a id='comment:20'>**Comment 20:**</a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9eafb320af9eabcbea251dc6ed1f4e042e8f3717\">9eafb32</a></td><td><code>trac 27826: in Python 2, deprecate the \"long\" function.</code></td></tr></table>\n",
    "created_at": "2019-05-16T20:58:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434703",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:20'>**Comment 20:**</a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9eafb320af9eabcbea251dc6ed1f4e042e8f3717">9eafb32</a></td><td><code>trac 27826: in Python 2, deprecate the "long" function.</code></td></tr></table>




---

archive/issue_comments_434704.json:
```json
{
    "body": "<a id='comment:21'>**Comment 21:**</a>\nReplying to [@jdemeyer](#comment%3A18):\n> Could we replace `long()` in the REPL by a custom `long()` which shows a deprecation warning and then calls the real `long()`?\n\nHere's a version which attempts this.",
    "created_at": "2019-05-16T20:58:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434704",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:21'>**Comment 21:**</a>
Replying to [@jdemeyer](#comment%3A18):
> Could we replace `long()` in the REPL by a custom `long()` which shows a deprecation warning and then calls the real `long()`?

Here's a version which attempts this.



---

archive/issue_events_333822.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2019-05-16T21:18:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333822"
}
```



---

archive/issue_events_333823.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2019-05-16T21:18:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333823"
}
```



---

archive/issue_comments_434705.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-This is part of #27696. `long(...)` is not defined in Python 3, and so `__long__` methods should be deprecated. Notable classes which are not included: integers and rational numbers. This is mainly because those classes are used in so many places in the Sage library that deprecation warnings for them would get triggered many times during doctesting.\n+This is part of #27696. `long(...)` is not defined in Python 3, and so `long` should be deprecated in Python 2.\n \n \n``````\n",
    "created_at": "2019-05-16T21:21:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434705",
    "user": "https://github.com/jhpalmieri"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-This is part of #27696. `long(...)` is not defined in Python 3, and so `__long__` methods should be deprecated. Notable classes which are not included: integers and rational numbers. This is mainly because those classes are used in so many places in the Sage library that deprecation warnings for them would get triggered many times during doctesting.
+This is part of #27696. `long(...)` is not defined in Python 3, and so `long` should be deprecated in Python 2.
 
 
``````




---

archive/issue_events_333824.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2019-05-16T21:21:25Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "rename": {
        "from": "Deprecate __long__ for many classes",
        "to": "Deprecate 'long(...)'"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333824"
}
```



---

archive/issue_comments_434706.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-This is part of #27696. `long(...)` is not defined in Python 3, and so `long` should be deprecated in Python 2.\n+This is part of #27696. `long(...)` is not defined in Python 3, and so `long` should be deprecated in Sage built with Python 2.\n \n \n``````\n",
    "created_at": "2019-05-16T21:26:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434706",
    "user": "https://github.com/jhpalmieri"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-This is part of #27696. `long(...)` is not defined in Python 3, and so `long` should be deprecated in Python 2.
+This is part of #27696. `long(...)` is not defined in Python 3, and so `long` should be deprecated in Sage built with Python 2.
 
 
``````




---

archive/issue_comments_434707.json:
```json
{
    "body": "<a id='comment:25'>**Comment 25:**</a>\nErik, what's your opinion on this?",
    "created_at": "2019-05-17T05:25:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434707",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:25'>**Comment 25:**</a>
Erik, what's your opinion on this?



---

archive/issue_comments_434708.json:
```json
{
    "body": "<a id='comment:26'>**Comment 26:**</a>\nHas this been tested on Python 3?  I fear it might have problems on Python 3, ironically, due to #24755 but I'm not sure.",
    "created_at": "2019-05-31T16:44:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434708",
    "user": "https://github.com/embray"
}
```

<a id='comment:26'>**Comment 26:**</a>
Has this been tested on Python 3?  I fear it might have problems on Python 3, ironically, due to #24755 but I'm not sure.



---

archive/issue_comments_434709.json:
```json
{
    "body": "<a id='comment:27'>**Comment 27:**</a>\nMost of the new deprecation warnings are doctested with tests tagged `# py2`, so this shouldn't cause any issues with #24755. I believe as I was developing this, I was testing in parallel with both Python 2 and 3. I'm double-checking now...",
    "created_at": "2019-05-31T17:04:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434709",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:27'>**Comment 27:**</a>
Most of the new deprecation warnings are doctested with tests tagged `# py2`, so this shouldn't cause any issues with #24755. I believe as I was developing this, I was testing in parallel with both Python 2 and 3. I'm double-checking now...



---

archive/issue_comments_434710.json:
```json
{
    "body": "<a id='comment:28'>**Comment 28:**</a>\nI've just run doctests with Python 3, and I don't see any new failures coming from this ticket. `make ptest-python3` passes, and running tests on the other files changed here doesn't reveal any new problems.",
    "created_at": "2019-05-31T18:31:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434710",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:28'>**Comment 28:**</a>
I've just run doctests with Python 3, and I don't see any new failures coming from this ticket. `make ptest-python3` passes, and running tests on the other files changed here doesn't reveal any new problems.



---

archive/issue_comments_434711.json:
```json
{
    "body": "<a id='comment:29'>**Comment 29:**</a>\nPing",
    "created_at": "2019-06-18T02:26:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434711",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:29'>**Comment 29:**</a>
Ping



---

archive/issue_comments_434712.json:
```json
{
    "body": "<a id='comment:30'>**Comment 30:**</a>\nMoving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).",
    "created_at": "2019-07-03T11:37:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434712",
    "user": "https://github.com/embray"
}
```

<a id='comment:30'>**Comment 30:**</a>
Moving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).



---

archive/issue_events_333825.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:37:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333825"
}
```



---

archive/issue_events_333826.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:37:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333826"
}
```



---

archive/issue_events_333827.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2019-07-26T11:43:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333827"
}
```



---

archive/issue_events_333828.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2019-07-26T11:43:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333828"
}
```



---

archive/issue_comments_434713.json:
```json
{
    "body": "**Work Issues:** Rebase",
    "created_at": "2019-07-26T11:43:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434713",
    "user": "https://github.com/simon-king-jena"
}
```

**Work Issues:** Rebase



---

archive/issue_comments_434714.json:
```json
{
    "body": "<a id='comment:31'>**Comment 31:**</a>\nThe branch apparently doesn't merge.",
    "created_at": "2019-07-26T11:43:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434714",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:31'>**Comment 31:**</a>
The branch apparently doesn't merge.



---

archive/issue_comments_434715.json:
```json
{
    "body": "<a id='comment:32'>**Comment 32:**</a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce2eb939124f015e888a1df6a2823318341e1b7e\">ce2eb93</a></td><td><code>trac 27826: in Python 2, deprecate the \"long\" function.</code></td></tr></table>\n",
    "created_at": "2019-07-26T19:58:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434715",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:32'>**Comment 32:**</a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce2eb939124f015e888a1df6a2823318341e1b7e">ce2eb93</a></td><td><code>trac 27826: in Python 2, deprecate the "long" function.</code></td></tr></table>




---

archive/issue_comments_434716.json:
```json
{
    "body": "**Changing commit** from \"[9eafb320af9eabcbea251dc6ed1f4e042e8f3717](https://github.com/sagemath/sagetrac-mirror/commit/9eafb320af9eabcbea251dc6ed1f4e042e8f3717)\" to \"[ce2eb939124f015e888a1df6a2823318341e1b7e](https://github.com/sagemath/sagetrac-mirror/commit/ce2eb939124f015e888a1df6a2823318341e1b7e)\".",
    "created_at": "2019-07-26T19:58:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434716",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[9eafb320af9eabcbea251dc6ed1f4e042e8f3717](https://github.com/sagemath/sagetrac-mirror/commit/9eafb320af9eabcbea251dc6ed1f4e042e8f3717)" to "[ce2eb939124f015e888a1df6a2823318341e1b7e](https://github.com/sagemath/sagetrac-mirror/commit/ce2eb939124f015e888a1df6a2823318341e1b7e)".



---

archive/issue_events_333829.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2019-07-26T20:02:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333829"
}
```



---

archive/issue_events_333830.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2019-07-26T20:02:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333830"
}
```



---

archive/issue_comments_434717.json:
```json
{
    "body": "<a id='comment:33'>**Comment 33:**</a>\nRebased.",
    "created_at": "2019-07-26T20:02:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434717",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:33'>**Comment 33:**</a>
Rebased.



---

archive/issue_comments_434718.json:
```json
{
    "body": "<a id='comment:34'>**Comment 34:**</a>\nAny comments from anyone? I just tested with 8.9.rc0 on OS X (after doing `git rebase`): no failures with Python 2 or Python 3.",
    "created_at": "2019-09-12T23:02:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434718",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:34'>**Comment 34:**</a>
Any comments from anyone? I just tested with 8.9.rc0 on OS X (after doing `git rebase`): no failures with Python 2 or Python 3.



---

archive/issue_events_333831.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333831"
}
```



---

archive/issue_events_333832.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333832"
}
```



---

archive/issue_comments_434719.json:
```json
{
    "body": "<a id='comment:35'>**Comment 35:**</a>\nTicket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434719",
    "user": "https://github.com/embray"
}
```

<a id='comment:35'>**Comment 35:**</a>
Ticket retargeted after milestone closed



---

archive/issue_events_333833.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-15T14:58:55Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333833"
}
```



---

archive/issue_events_333834.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-15T14:58:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333834"
}
```



---

archive/issue_comments_434720.json:
```json
{
    "body": "<a id='comment:37'>**Comment 37:**</a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b76372d802b0de00f187796961cf7becf6995fb\">8b76372</a></td><td><code>trac 27826: remove `__long__` methods, calls to long in doctests,</code></td></tr></table>\n",
    "created_at": "2020-04-19T22:47:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434720",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:37'>**Comment 37:**</a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b76372d802b0de00f187796961cf7becf6995fb">8b76372</a></td><td><code>trac 27826: remove `__long__` methods, calls to long in doctests,</code></td></tr></table>




---

archive/issue_comments_434721.json:
```json
{
    "body": "**Changing commit** from \"[ce2eb939124f015e888a1df6a2823318341e1b7e](https://github.com/sagemath/sagetrac-mirror/commit/ce2eb939124f015e888a1df6a2823318341e1b7e)\" to \"[8b76372d802b0de00f187796961cf7becf6995fb](https://github.com/sagemath/sagetrac-mirror/commit/8b76372d802b0de00f187796961cf7becf6995fb)\".",
    "created_at": "2020-04-19T22:47:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434721",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[ce2eb939124f015e888a1df6a2823318341e1b7e](https://github.com/sagemath/sagetrac-mirror/commit/ce2eb939124f015e888a1df6a2823318341e1b7e)" to "[8b76372d802b0de00f187796961cf7becf6995fb](https://github.com/sagemath/sagetrac-mirror/commit/8b76372d802b0de00f187796961cf7becf6995fb)".



---

archive/issue_comments_434722.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,4 @@\n-This is part of #27696. `long(...)` is not defined in Python 3, and so `long` should be deprecated in Sage built with Python 2.\n+`long(...)` is not defined in Python 3, and so we should remove all calls to `long`. We should also delete all methods `__long__`, and remove the special-casing for `long` in Python 3 doctesting (in `doctest/forker.py`).\n \n+Sage 9.2 will not support Python 2 anymore, so that is this ticket's target release.\n \n``````\n",
    "created_at": "2020-04-19T22:49:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434722",
    "user": "https://github.com/jhpalmieri"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,4 @@
-This is part of #27696. `long(...)` is not defined in Python 3, and so `long` should be deprecated in Sage built with Python 2.
+`long(...)` is not defined in Python 3, and so we should remove all calls to `long`. We should also delete all methods `__long__`, and remove the special-casing for `long` in Python 3 doctesting (in `doctest/forker.py`).
 
+Sage 9.2 will not support Python 2 anymore, so that is this ticket's target release.
 
``````




---

archive/issue_events_333835.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2020-04-19T22:49:30Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "rename": {
        "from": "Deprecate 'long(...)'",
        "to": "Remove calls to 'long(...)', etc."
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333835"
}
```



---

archive/issue_comments_434723.json:
```json
{
    "body": "**Changing commit** from \"[8b76372d802b0de00f187796961cf7becf6995fb](https://github.com/sagemath/sagetrac-mirror/commit/8b76372d802b0de00f187796961cf7becf6995fb)\" to \"[fc4c0fa0e0b2b0df5859e6d5c1cd9045c3ab27b7](https://github.com/sagemath/sagetrac-mirror/commit/fc4c0fa0e0b2b0df5859e6d5c1cd9045c3ab27b7)\".",
    "created_at": "2020-04-19T22:52:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434723",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[8b76372d802b0de00f187796961cf7becf6995fb](https://github.com/sagemath/sagetrac-mirror/commit/8b76372d802b0de00f187796961cf7becf6995fb)" to "[fc4c0fa0e0b2b0df5859e6d5c1cd9045c3ab27b7](https://github.com/sagemath/sagetrac-mirror/commit/fc4c0fa0e0b2b0df5859e6d5c1cd9045c3ab27b7)".



---

archive/issue_comments_434724.json:
```json
{
    "body": "<a id='comment:39'>**Comment 39:**</a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc4c0fa0e0b2b0df5859e6d5c1cd9045c3ab27b7\">fc4c0fa</a></td><td><code>trac 27826: remove `__long__` methods, calls to long in doctests,</code></td></tr></table>\n",
    "created_at": "2020-04-19T22:52:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434724",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:39'>**Comment 39:**</a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc4c0fa0e0b2b0df5859e6d5c1cd9045c3ab27b7">fc4c0fa</a></td><td><code>trac 27826: remove `__long__` methods, calls to long in doctests,</code></td></tr></table>




---

archive/issue_comments_434725.json:
```json
{
    "body": "<a id='comment:40'>**Comment 40:**</a>\nIf this is merged, we can close #27696 and #27829.",
    "created_at": "2020-04-19T22:57:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434725",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:40'>**Comment 40:**</a>
If this is merged, we can close #27696 and #27829.



---

archive/issue_events_333836.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-14T20:31:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333836"
}
```



---

archive/issue_events_333837.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-14T20:31:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333837"
}
```



---

archive/issue_comments_434726.json:
```json
{
    "body": "<a id='comment:41'>**Comment 41:**</a>\nNeeds rebasing",
    "created_at": "2020-06-14T20:31:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434726",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:41'>**Comment 41:**</a>
Needs rebasing



---

archive/issue_comments_434727.json:
```json
{
    "body": "<a id='comment:42'>**Comment 42:**</a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3fcba9001e4f3a020173c5aa9b62bb9aea7180bf\">3fcba90</a></td><td><code>trac 27826: remove `__long__` methods, calls to long in doctests,</code></td></tr></table>\n",
    "created_at": "2020-06-14T22:10:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434727",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:42'>**Comment 42:**</a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3fcba9001e4f3a020173c5aa9b62bb9aea7180bf">3fcba90</a></td><td><code>trac 27826: remove `__long__` methods, calls to long in doctests,</code></td></tr></table>




---

archive/issue_comments_434728.json:
```json
{
    "body": "**Changing commit** from \"[fc4c0fa0e0b2b0df5859e6d5c1cd9045c3ab27b7](https://github.com/sagemath/sagetrac-mirror/commit/fc4c0fa0e0b2b0df5859e6d5c1cd9045c3ab27b7)\" to \"[3fcba9001e4f3a020173c5aa9b62bb9aea7180bf](https://github.com/sagemath/sagetrac-mirror/commit/3fcba9001e4f3a020173c5aa9b62bb9aea7180bf)\".",
    "created_at": "2020-06-14T22:10:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434728",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[fc4c0fa0e0b2b0df5859e6d5c1cd9045c3ab27b7](https://github.com/sagemath/sagetrac-mirror/commit/fc4c0fa0e0b2b0df5859e6d5c1cd9045c3ab27b7)" to "[3fcba9001e4f3a020173c5aa9b62bb9aea7180bf](https://github.com/sagemath/sagetrac-mirror/commit/3fcba9001e4f3a020173c5aa9b62bb9aea7180bf)".



---

archive/issue_comments_434729.json:
```json
{
    "body": "<a id='comment:43'>**Comment 43:**</a>\nRebased.",
    "created_at": "2020-06-14T22:10:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434729",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:43'>**Comment 43:**</a>
Rebased.



---

archive/issue_events_333838.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2020-06-14T22:10:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333838"
}
```



---

archive/issue_events_333839.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2020-06-14T22:10:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333839"
}
```



---

archive/issue_comments_434730.json:
```json
{
    "body": "<a id='comment:44'>**Comment 44:**</a>\nLooks good to me but it would be good if our py3 transition experts could take a look too",
    "created_at": "2020-06-14T22:39:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434730",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:44'>**Comment 44:**</a>
Looks good to me but it would be good if our py3 transition experts could take a look too



---

archive/issue_events_333840.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-18T16:10:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333840"
}
```



---

archive/issue_events_333841.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-18T16:10:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333841"
}
```



---

archive/issue_comments_434731.json:
```json
{
    "body": "**Reviewer:** Matthias Koeppe",
    "created_at": "2020-06-18T16:10:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434731",
    "user": "https://github.com/mkoeppe"
}
```

**Reviewer:** Matthias Koeppe



---

archive/issue_comments_434732.json:
```json
{
    "body": "<a id='comment:46'>**Comment 46:**</a>\nThank you! This one has been waiting for a while.",
    "created_at": "2020-06-18T17:20:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434732",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:46'>**Comment 46:**</a>
Thank you! This one has been waiting for a while.



---

archive/issue_comments_434733.json:
```json
{
    "body": "**Changing branch** from \"[u/jhpalmieri/deprecate-long](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/deprecate-long)\" to \"[3fcba9001e4f3a020173c5aa9b62bb9aea7180bf](https://github.com/sagemath/sagetrac-mirror/commit/3fcba9001e4f3a020173c5aa9b62bb9aea7180bf)\".",
    "created_at": "2020-06-22T22:34:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27826#issuecomment-434733",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jhpalmieri/deprecate-long](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/deprecate-long)" to "[3fcba9001e4f3a020173c5aa9b62bb9aea7180bf](https://github.com/sagemath/sagetrac-mirror/commit/3fcba9001e4f3a020173c5aa9b62bb9aea7180bf)".



---

archive/issue_events_333842.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-06-22T22:34:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333842"
}
```



---

archive/issue_events_333843.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f8dd963af53b05f6f7400333569a280e361b386e",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-06-22T22:34:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/27826",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27826#event-333843"
}
```
