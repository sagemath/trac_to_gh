# Issue 27907: Building gcc 7.2.0 fails on CentOS / Red Hat / Fedora Linux systems because of crti.o

archive/issues_027670.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nOn various Linux systemswith old compilers, building gcc 7.2.0 fails because crti.o is not found.\n\nReported for Red Hat 6.10 at https://groups.google.com/d/msg/sage-devel/ze5SzgXZAgk/tai9F4flBQAJ\n\nAlso occurs on a different system: CentOS Linux release 7.6.1810 (Core): There is only `/lib64/crti.o` (same as `/usr/lib64/crti.o`) and the gcc build does not find it and fails as well. \nFix for this system: \n\n```\nexport LIBRARY_PATH=\"/lib64\"\n```\nbefore building sage.\n\n\n\n\nCC:  @dimpase @stumpc5 @jdemeyer @vbraun @embray\n\nComponent: **build**\n\nAuthor: **Matthias Koeppe**\n\nBranch: **[`8ed2677`](https://github.com/sagemath/sagetrac-mirror/commit/8ed2677d73e1222c6c84e187a0772221d52946ca)**\n\nReviewer: **Volker Braun**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/27907_\n\n",
    "closed_at": "2019-07-20T09:11:04Z",
    "created_at": "2019-05-31T18:43:13Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Building gcc 7.2.0 fails on CentOS / Red Hat / Fedora Linux systems because of crti.o",
    "type": "issue",
    "updated_at": "2019-08-02T17:37:47Z",
    "url": "https://github.com/sagemath/sage/issues/27907",
    "user": "https://github.com/mkoeppe"
}
```
<div id="comment:0"></div>

On various Linux systemswith old compilers, building gcc 7.2.0 fails because crti.o is not found.

Reported for Red Hat 6.10 at https://groups.google.com/d/msg/sage-devel/ze5SzgXZAgk/tai9F4flBQAJ

Also occurs on a different system: CentOS Linux release 7.6.1810 (Core): There is only `/lib64/crti.o` (same as `/usr/lib64/crti.o`) and the gcc build does not find it and fails as well. 
Fix for this system: 

```
export LIBRARY_PATH="/lib64"
```
before building sage.




CC:  @dimpase @stumpc5 @jdemeyer @vbraun @embray

Component: **build**

Author: **Matthias Koeppe**

Branch: **[`8ed2677`](https://github.com/sagemath/sagetrac-mirror/commit/8ed2677d73e1222c6c84e187a0772221d52946ca)**

Reviewer: **Volker Braun**

_Issue created by migration from https://trac.sagemath.org/ticket/27907_





---

archive/issue_events_379743.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-05-31T18:43:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27907#event-379743"
}
```



---

archive/issue_events_379744.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-05-31T18:43:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "0000b0",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27907#event-379744"
}
```



---

archive/issue_events_379745.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-05-31T18:43:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27907#event-379745"
}
```



---

archive/issue_events_379746.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-05-31T18:43:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27907#event-379746"
}
```



---

archive/issue_comments_433517.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nThis is the same issue as I have -- I first also had the \"not found\" error, which turned into the one I reported after the sysadmin tried to provide that file (I don't know what he actually did).",
    "created_at": "2019-05-31T19:04:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433517",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:1" align="right">comment:1</div>

This is the same issue as I have -- I first also had the "not found" error, which turned into the one I reported after the sysadmin tried to provide that file (I don't know what he actually did).



---

archive/issue_events_379747.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-05-31T20:43:54Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "title_is": "Building gcc 7.2.0 fails on old CentOS / Red Hat Linux systems because of crti.o",
    "title_was": "Building gcc 7.2.0 fails on old systems because of crti.o",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27907#event-379747"
}
```



---

archive/issue_comments_433518.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nReplying to [@stumpc5](#comment%3A1):\n> This is the same issue as I have -- I first also had the \"not found\" error, which turned into the one I reported after the sysadmin tried to provide that file (I don't know what he actually did).\n\nThanks for the clarification.",
    "created_at": "2019-05-31T20:44:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433518",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">comment:3</div>

Replying to [@stumpc5](#comment%3A1):
> This is the same issue as I have -- I first also had the "not found" error, which turned into the one I reported after the sysadmin tried to provide that file (I don't know what he actually did).

Thanks for the clarification.



---

archive/issue_comments_433519.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThis appears to be a frequent problem. See for example https://stackoverflow.com/questions/91576/crti-o-file-missing and https://github.com/Homebrew/linuxbrew-core/issues/7172\n\nOn the CentOS system mentioned in the ticket's description, the system's gcc is actually configured correctly: `gcc -print-search-dirs` has a long list of paths that includes `/lib64` (= `/usr/lib64` on this system).\n\nThe folks at Linuxbrew do the following in https://github.com/Homebrew/linuxbrew-core/blob/master/Formula/gcc@7.rb:\n\n```\n        # Set the search path for glibc libraries and objects, using the system's glibc\n        # Fix the error: ld: cannot find crti.o: No such file or directory\n        ENV.prepend_path \"LIBRARY_PATH\", Pathname.new(Utils.popen_read(ENV.cc, \"-print-file-name=crti.o\")).parent\n```\nOn the CentOS system I can confirm that `gcc -print-file-name=crti.o` gives the correct file name. \nSo this may be a sound approach.",
    "created_at": "2019-05-31T21:49:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433519",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">comment:5</div>

This appears to be a frequent problem. See for example https://stackoverflow.com/questions/91576/crti-o-file-missing and https://github.com/Homebrew/linuxbrew-core/issues/7172

On the CentOS system mentioned in the ticket's description, the system's gcc is actually configured correctly: `gcc -print-search-dirs` has a long list of paths that includes `/lib64` (= `/usr/lib64` on this system).

The folks at Linuxbrew do the following in https://github.com/Homebrew/linuxbrew-core/blob/master/Formula/gcc@7.rb:

```
        # Set the search path for glibc libraries and objects, using the system's glibc
        # Fix the error: ld: cannot find crti.o: No such file or directory
        ENV.prepend_path "LIBRARY_PATH", Pathname.new(Utils.popen_read(ENV.cc, "-print-file-name=crti.o")).parent
```
On the CentOS system I can confirm that `gcc -print-file-name=crti.o` gives the correct file name. 
So this may be a sound approach.



---

archive/issue_comments_433520.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,12 +1,8 @@\n-On various Linux systems with old compilers, building gcc 7.2.0 fails because either crti.o is not found, or there is 32/64 bit ABI mismatch on the one that is found.\n+On various Linux systems with old compilers, building gcc 7.2.0 fails because crti.o is not found.\n \n-Reported for Red Hat 6.10 at https://groups.google.com/d/msg/sage-devel/ze5SzgXZAgk/tai9F4flBQAJ:\n+Reported for Red Hat 6.10 at https://groups.google.com/d/msg/sage-devel/ze5SzgXZAgk/tai9F4flBQAJ\n \n-```\n-/lib/crti.o: could not read symbols: File in wrong format \n-```\n-\n-On a different system: CentOS Linux release 7.6.1810 (Core), there is only `/lib64/crti.o` and the gcc build does not find it and fails as well. \n+Also occurs on a different system: CentOS Linux release 7.6.1810 (Core): There is only `/lib64/crti.o` (same as `/usr/lib64/crti.o`) and the gcc build does not find it and fails as well. \n Fix for this system: \n \n ```\n``````\n",
    "created_at": "2019-05-31T21:55:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433520",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,12 +1,8 @@
-On various Linux systems with old compilers, building gcc 7.2.0 fails because either crti.o is not found, or there is 32/64 bit ABI mismatch on the one that is found.
+On various Linux systems with old compilers, building gcc 7.2.0 fails because crti.o is not found.
 
-Reported for Red Hat 6.10 at https://groups.google.com/d/msg/sage-devel/ze5SzgXZAgk/tai9F4flBQAJ:
+Reported for Red Hat 6.10 at https://groups.google.com/d/msg/sage-devel/ze5SzgXZAgk/tai9F4flBQAJ
 
-```
-/lib/crti.o: could not read symbols: File in wrong format 
-```
-
-On a different system: CentOS Linux release 7.6.1810 (Core), there is only `/lib64/crti.o` and the gcc build does not find it and fails as well. 
+Also occurs on a different system: CentOS Linux release 7.6.1810 (Core): There is only `/lib64/crti.o` (same as `/usr/lib64/crti.o`) and the gcc build does not find it and fails as well. 
 Fix for this system: 
 
 ```
``````




---

archive/issue_comments_433521.json:
```json
{
    "body": "Branch: **[u/mkoeppe/building_gcc_7_2_0_fails_on_old_centos___red_hat_linux_systems_because_of_crti_o](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/building_gcc_7_2_0_fails_on_old_centos___red_hat_linux_systems_because_of_crti_o)**",
    "created_at": "2019-06-01T17:52:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433521",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/building_gcc_7_2_0_fails_on_old_centos___red_hat_linux_systems_because_of_crti_o](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/building_gcc_7_2_0_fails_on_old_centos___red_hat_linux_systems_because_of_crti_o)**



---

archive/issue_comments_433522.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2019-06-01T17:53:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433522",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_433523.json:
```json
{
    "body": "Commit: **[`e8c0e64`](https://github.com/sagemath/sagetrac-mirror/commit/e8c0e64eea486a78dd51558d1889de3c6db32868)**",
    "created_at": "2019-06-01T17:53:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433523",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`e8c0e64`](https://github.com/sagemath/sagetrac-mirror/commit/e8c0e64eea486a78dd51558d1889de3c6db32868)**



---

archive/issue_events_379748.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-06-01T17:53:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27907#event-379748"
}
```



---

archive/issue_comments_433524.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8c0e64eea486a78dd51558d1889de3c6db32868\"><code>e8c0e64</code></a></td><td><code>build-gcc: Find crti.o via ${CC} -print-file-name</code></td></tr></table>\n",
    "created_at": "2019-06-01T17:53:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433524",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8c0e64eea486a78dd51558d1889de3c6db32868"><code>e8c0e64</code></a></td><td><code>build-gcc: Find crti.o via ${CC} -print-file-name</code></td></tr></table>




---

archive/issue_events_379749.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-06-02T00:08:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27907#event-379749"
}
```



---

archive/issue_events_379750.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-06-02T00:08:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27907#event-379750"
}
```



---

archive/issue_comments_433525.json:
```json
{
    "body": "Changed commit from **[`e8c0e64`](https://github.com/sagemath/sagetrac-mirror/commit/e8c0e64eea486a78dd51558d1889de3c6db32868)** to **[`169fdf2`](https://github.com/sagemath/sagetrac-mirror/commit/169fdf2c681445aab9410cd837c13bd9eefd1303)**",
    "created_at": "2019-06-02T01:28:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433525",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e8c0e64`](https://github.com/sagemath/sagetrac-mirror/commit/e8c0e64eea486a78dd51558d1889de3c6db32868)** to **[`169fdf2`](https://github.com/sagemath/sagetrac-mirror/commit/169fdf2c681445aab9410cd837c13bd9eefd1303)**



---

archive/issue_comments_433526.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/169fdf2c681445aab9410cd837c13bd9eefd1303\"><code>169fdf2</code></a></td><td><code>Add to end of LIBRARY_PATH, not front</code></td></tr></table>\n",
    "created_at": "2019-06-02T01:28:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433526",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/169fdf2c681445aab9410cd837c13bd9eefd1303"><code>169fdf2</code></a></td><td><code>Add to end of LIBRARY_PATH, not front</code></td></tr></table>




---

archive/issue_comments_433527.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cdf180d3408bce1590afffc893c23e9f87557454\"><code>cdf180d</code></a></td><td><code>LIBRARY_PATH is needed in spkg-install too</code></td></tr></table>\n",
    "created_at": "2019-06-02T01:50:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433527",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cdf180d3408bce1590afffc893c23e9f87557454"><code>cdf180d</code></a></td><td><code>LIBRARY_PATH is needed in spkg-install too</code></td></tr></table>




---

archive/issue_comments_433528.json:
```json
{
    "body": "Changed commit from **[`169fdf2`](https://github.com/sagemath/sagetrac-mirror/commit/169fdf2c681445aab9410cd837c13bd9eefd1303)** to **[`cdf180d`](https://github.com/sagemath/sagetrac-mirror/commit/cdf180d3408bce1590afffc893c23e9f87557454)**",
    "created_at": "2019-06-02T01:50:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433528",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`169fdf2`](https://github.com/sagemath/sagetrac-mirror/commit/169fdf2c681445aab9410cd837c13bd9eefd1303)** to **[`cdf180d`](https://github.com/sagemath/sagetrac-mirror/commit/cdf180d3408bce1590afffc893c23e9f87557454)**



---

archive/issue_events_379751.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-06-02T08:11:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27907#event-379751"
}
```



---

archive/issue_events_379752.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-06-02T08:11:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27907#event-379752"
}
```



---

archive/issue_events_379753.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-06-02T17:36:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27907#event-379753"
}
```



---

archive/issue_events_379754.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-06-02T17:36:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27907#event-379754"
}
```



---

archive/issue_comments_433529.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nThank your for working on this!\nUnfortunately, your fix does not yet solve it for me:\n\n```\n[stumpcl2@dlp762 sage]$ CRTI=$(${CC:-gcc} -print-file-name=crti.o 2>/dev/null || true)\n[stumpcl2@dlp762 sage]$ echo $CRTI\n/usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64/crti.o\n[stumpcl2@dlp762 sage]$ if [ -n \"$CRTI\" ]; then\n>  CRTI_DIR=$(dirname -- \"$CRTI\")\n>  if [ -n \"$CRTI_DIR\" -a \"$CRTI_DIR\" != \".\" ]; then\n>  export LIBRARY_PATH=\"$LIBRARY_PATH:$CRTI_DIR\"\n>  fi\n> fi\n[stumpcl2@dlp762 sage]$ echo $CRTI_DIR\n/usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64\n[stumpcl2@dlp762 sage]$ echo $LIBRARY_PATH\n/lib64:/usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64\n```\nwhile building from scratch yields the error\n\n```\n[gcc-7.2.0] /usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64/../lib/crti.o: could not read symbols: File in wrong format\n```\nSo it leaves `lib64` again and goes back to `lib` to look for `crti.o`.",
    "created_at": "2019-06-02T19:28:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433529",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:14" align="right">comment:14</div>

Thank your for working on this!
Unfortunately, your fix does not yet solve it for me:

```
[stumpcl2@dlp762 sage]$ CRTI=$(${CC:-gcc} -print-file-name=crti.o 2>/dev/null || true)
[stumpcl2@dlp762 sage]$ echo $CRTI
/usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64/crti.o
[stumpcl2@dlp762 sage]$ if [ -n "$CRTI" ]; then
>  CRTI_DIR=$(dirname -- "$CRTI")
>  if [ -n "$CRTI_DIR" -a "$CRTI_DIR" != "." ]; then
>  export LIBRARY_PATH="$LIBRARY_PATH:$CRTI_DIR"
>  fi
> fi
[stumpcl2@dlp762 sage]$ echo $CRTI_DIR
/usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64
[stumpcl2@dlp762 sage]$ echo $LIBRARY_PATH
/lib64:/usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64
```
while building from scratch yields the error

```
[gcc-7.2.0] /usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64/../lib/crti.o: could not read symbols: File in wrong format
```
So it leaves `lib64` again and goes back to `lib` to look for `crti.o`.



---

archive/issue_comments_433530.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nI'd suggest to first check with your sysadmin what it is that he did to try to fix the original problem and to undo that.",
    "created_at": "2019-06-02T19:30:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433530",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:15" align="right">comment:15</div>

I'd suggest to first check with your sysadmin what it is that he did to try to fix the original problem and to undo that.



---

archive/issue_comments_433531.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\n> I'd suggest to first check with your sysadmin what it is that he did to try to fix the original problem and to undo that.\n\nWell, he installed `gcc-7.2.0` systemwide (and then also `gcc-7.3.0`). If I use either of these (making it available using `ini gcc`), I get the errors I originally reported on `sage-devel` (`gfan-0.6.2.p1`, `ppl-1.2.p1`). If I do not use that gcc, but the older `gcc-4.4.7`, the not-found-error turned into the given could-not-read-symbols-error.",
    "created_at": "2019-06-02T20:33:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433531",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:16" align="right">comment:16</div>

> I'd suggest to first check with your sysadmin what it is that he did to try to fix the original problem and to undo that.

Well, he installed `gcc-7.2.0` systemwide (and then also `gcc-7.3.0`). If I use either of these (making it available using `ini gcc`), I get the errors I originally reported on `sage-devel` (`gfan-0.6.2.p1`, `ppl-1.2.p1`). If I do not use that gcc, but the older `gcc-4.4.7`, the not-found-error turned into the given could-not-read-symbols-error.



---

archive/issue_comments_433532.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nOK, thanks for the clarification",
    "created_at": "2019-06-02T22:49:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433532",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

OK, thanks for the clarification



---

archive/issue_comments_433533.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nNeeds more work also for one of my systems, where it succeeds in building and installing gcc, but that gcc does not work without setting the LIBRARY_PATH variable during its runtime!",
    "created_at": "2019-06-02T23:35:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433533",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:18" align="right">comment:18</div>

Needs more work also for one of my systems, where it succeeds in building and installing gcc, but that gcc does not work without setting the LIBRARY_PATH variable during its runtime!



---

archive/issue_comments_433534.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@mkoeppe](#comment%3A17):\n> OK, thanks for the clarification\n\nCould you try the following: \n\n```\nfile /usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64/crt*.o\n```",
    "created_at": "2019-06-02T23:39:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433534",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@mkoeppe](#comment%3A17):
> OK, thanks for the clarification

Could you try the following: 

```
file /usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64/crt*.o
```



---

archive/issue_comments_433535.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@mkoeppe](#comment%3A18):\n> Needs more work also for one of my systems, where it succeeds in building and installing gcc, but that gcc does not work without setting the LIBRARY_PATH variable during its runtime!\n\nPossible solution, again from Linuxbrew:\n\n```\n      gcc = bin/\"gcc-7\"\n      libgcc = Pathname.new(Utils.popen_read(gcc, \"-print-libgcc-file-name\")).parent\n      raise \"command failed: #{gcc} -print-libgcc-file-name\" if $CHILD_STATUS.exitstatus.nonzero?\n\n      glibc = Formula[\"glibc\"]\n      glibc_installed = glibc.any_version_installed?\n\n      # Symlink crt1.o and friends where gcc can find it.\n      if glibc_installed\n        crtdir = glibc.opt_lib\n      else\n        crtdir = Pathname.new(Utils.popen_read(\"/usr/bin/cc\", \"-print-file-name=crti.o\")).parent\n      end\n      ln_sf Dir[crtdir/\"*crt?.o\"], libgcc\n\n```",
    "created_at": "2019-06-02T23:59:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433535",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@mkoeppe](#comment%3A18):
> Needs more work also for one of my systems, where it succeeds in building and installing gcc, but that gcc does not work without setting the LIBRARY_PATH variable during its runtime!

Possible solution, again from Linuxbrew:

```
      gcc = bin/"gcc-7"
      libgcc = Pathname.new(Utils.popen_read(gcc, "-print-libgcc-file-name")).parent
      raise "command failed: #{gcc} -print-libgcc-file-name" if $CHILD_STATUS.exitstatus.nonzero?

      glibc = Formula["glibc"]
      glibc_installed = glibc.any_version_installed?

      # Symlink crt1.o and friends where gcc can find it.
      if glibc_installed
        crtdir = glibc.opt_lib
      else
        crtdir = Pathname.new(Utils.popen_read("/usr/bin/cc", "-print-file-name=crti.o")).parent
      end
      ln_sf Dir[crtdir/"*crt?.o"], libgcc

```



---

archive/issue_comments_433536.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f57d00c90048a6de34a2ad1e0045be9750a02b39\"><code>f57d00c</code></a></td><td><code>Find SAGE_CRTI_DIR at configure time.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/73be6cf53f30b53e5a8a3dedf8f30c2c9960475a\"><code>73be6cf</code></a></td><td><code>Symlink crt1.o and friends where gcc can find it</code></td></tr></table>\n",
    "created_at": "2019-06-03T02:54:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433536",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f57d00c90048a6de34a2ad1e0045be9750a02b39"><code>f57d00c</code></a></td><td><code>Find SAGE_CRTI_DIR at configure time.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/73be6cf53f30b53e5a8a3dedf8f30c2c9960475a"><code>73be6cf</code></a></td><td><code>Symlink crt1.o and friends where gcc can find it</code></td></tr></table>




---

archive/issue_comments_433537.json:
```json
{
    "body": "Changed commit from **[`cdf180d`](https://github.com/sagemath/sagetrac-mirror/commit/cdf180d3408bce1590afffc893c23e9f87557454)** to **[`73be6cf`](https://github.com/sagemath/sagetrac-mirror/commit/73be6cf53f30b53e5a8a3dedf8f30c2c9960475a)**",
    "created_at": "2019-06-03T02:54:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433537",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cdf180d`](https://github.com/sagemath/sagetrac-mirror/commit/cdf180d3408bce1590afffc893c23e9f87557454)** to **[`73be6cf`](https://github.com/sagemath/sagetrac-mirror/commit/73be6cf53f30b53e5a8a3dedf8f30c2c9960475a)**



---

archive/issue_comments_433538.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nBased on this `73be6cf`, the error becomes\n\n```\n[gcc-7.2.0] /usr/lib/../lib/crti.o: could not read symbols: File in wrong format\n```\nwith\n\n```\n[stumpcl2@dlp762 sage]$ file /usr/lib/../lib/crti.o\n/usr/lib/../lib/crti.o: ELF 32-bit LSB relocatable, Intel 80386, version 1 (SYSV), not stripped\n```",
    "created_at": "2019-06-03T07:39:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433538",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:22" align="right">comment:22</div>

Based on this `73be6cf`, the error becomes

```
[gcc-7.2.0] /usr/lib/../lib/crti.o: could not read symbols: File in wrong format
```
with

```
[stumpcl2@dlp762 sage]$ file /usr/lib/../lib/crti.o
/usr/lib/../lib/crti.o: ELF 32-bit LSB relocatable, Intel 80386, version 1 (SYSV), not stripped
```



---

archive/issue_comments_433539.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nBut what does `file /usr/lib64/crt*.o` give?",
    "created_at": "2019-06-03T07:49:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433539",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:23" align="right">comment:23</div>

But what does `file /usr/lib64/crt*.o` give?



---

archive/issue_comments_433540.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\n\n```\n[stumpcl2@dlp762 sage]$ file /usr/lib64/crt*.o\n/usr/lib64/crt1.o: ELF 64-bit LSB relocatable, x86-64, version 1 (SYSV), for GNU/Linux 2.6.18, not stripped\n/usr/lib64/crti.o: ELF 64-bit LSB relocatable, x86-64, version 1 (SYSV), not stripped\n/usr/lib64/crtn.o: ELF 64-bit LSB relocatable, x86-64, version 1 (SYSV), stripped\n```",
    "created_at": "2019-06-03T07:58:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433540",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:24" align="right">comment:24</div>


```
[stumpcl2@dlp762 sage]$ file /usr/lib64/crt*.o
/usr/lib64/crt1.o: ELF 64-bit LSB relocatable, x86-64, version 1 (SYSV), for GNU/Linux 2.6.18, not stripped
/usr/lib64/crti.o: ELF 64-bit LSB relocatable, x86-64, version 1 (SYSV), not stripped
/usr/lib64/crtn.o: ELF 64-bit LSB relocatable, x86-64, version 1 (SYSV), stripped
```



---

archive/issue_comments_433541.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nCould you attach the latest .log file?",
    "created_at": "2019-06-03T08:14:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433541",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">comment:25</div>

Could you attach the latest .log file?



---

archive/issue_comments_433542.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nThe current version works on the CentOS Linux system where I first encountered this problem.",
    "created_at": "2019-06-03T08:17:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433542",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:26" align="right">comment:26</div>

The current version works on the CentOS Linux system where I first encountered this problem.



---

archive/issue_events_379755.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-06-03T08:17:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27907#event-379755"
}
```



---

archive/issue_events_379756.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-06-03T08:17:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27907#event-379756"
}
```



---

archive/issue_comments_433543.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@mkoeppe](#comment%3A25):\n> Could you attach the latest .log file?\n\nposted on sage-devel",
    "created_at": "2019-06-03T08:21:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433543",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@mkoeppe](#comment%3A25):
> Could you attach the latest .log file?

posted on sage-devel



---

archive/issue_comments_433544.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nLooks like configure was not regenerated. When you get a chance, please run ./bootstrap (this needs autotools installed...)\nIf it still fails, please post both config.log and the gcc-7.2.0.log",
    "created_at": "2019-06-04T00:25:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433544",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:28" align="right">comment:28</div>

Looks like configure was not regenerated. When you get a chance, please run ./bootstrap (this needs autotools installed...)
If it still fails, please post both config.log and the gcc-7.2.0.log



---

archive/issue_comments_433545.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nThis now also works for me compiling gcc-7.2.0, many thanks for fixing this! (Unfortunately, the next error occurred right after on Red Hat 6.10.",
    "created_at": "2019-06-04T14:33:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433545",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:29" align="right">comment:29</div>

This now also works for me compiling gcc-7.2.0, many thanks for fixing this! (Unfortunately, the next error occurred right after on Red Hat 6.10.



---

archive/issue_comments_433546.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nLet's please get this into the next beta so that this can be tested by people without having to regenerate the configure scripts.",
    "created_at": "2019-06-05T15:02:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433546",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:30" align="right">comment:30</div>

Let's please get this into the next beta so that this can be tested by people without having to regenerate the configure scripts.



---

archive/issue_comments_433547.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nYes, I agree. But do you see a way to auto-generate\n\n```\n# Location of system crti.o, in case we build our own gcc\nexport SAGE_CRTI_DIR=\"/usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64\"\n```\nwhich I tweaked by hand?",
    "created_at": "2019-06-05T15:54:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433547",
    "user": "https://github.com/stumpc5"
}
```

<div id="comment:31" align="right">comment:31</div>

Yes, I agree. But do you see a way to auto-generate

```
# Location of system crti.o, in case we build our own gcc
export SAGE_CRTI_DIR="/usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64"
```
which I tweaked by hand?



---

archive/issue_comments_433548.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nReplying to [@stumpc5](#comment%3A31):\n> Yes, I agree. But do you see a way to auto-generate\n> \n> ```\n> # Location of system crti.o, in case we build our own gcc\n> export SAGE_CRTI_DIR=\"/usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64\"\n> ```\n> which I tweaked by hand?\n\nThe scripts already do all of that. Something is broken in your setup that stops your copy of sage from regenerating the autotools scripts correctly. For example, in the last set of logs you posted there is no trace of the crti test at configure time. After `make distclean` your copy of sage likely downloaded the configure scripts from the latest beta, instead of regenerating them.",
    "created_at": "2019-06-06T17:33:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433548",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:32" align="right">comment:32</div>

Replying to [@stumpc5](#comment%3A31):
> Yes, I agree. But do you see a way to auto-generate
> 
> ```
> # Location of system crti.o, in case we build our own gcc
> export SAGE_CRTI_DIR="/usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../../lib64"
> ```
> which I tweaked by hand?

The scripts already do all of that. Something is broken in your setup that stops your copy of sage from regenerating the autotools scripts correctly. For example, in the last set of logs you posted there is no trace of the crti test at configure time. After `make distclean` your copy of sage likely downloaded the configure scripts from the latest beta, instead of regenerating them.



---

archive/issue_events_379757.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-06-06T17:38:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27907#event-379757"
}
```



---

archive/issue_events_379758.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-06-06T17:38:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27907#event-379758"
}
```



---

archive/issue_comments_433549.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\ncould it be that the machine either has no autotools installed, or they are outdated/broken?",
    "created_at": "2019-06-06T17:40:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433549",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:34" align="right">comment:34</div>

could it be that the machine either has no autotools installed, or they are outdated/broken?



---

archive/issue_comments_433550.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@dimpase](#comment%3A34):\n> could it be that the machine either has no autotools installed, or they are outdated/broken?\n\nYes, that's my guess too.\n\nIn any case, I have tested this ticket on one of my machines that had the same problem.",
    "created_at": "2019-06-06T17:44:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433550",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@dimpase](#comment%3A34):
> could it be that the machine either has no autotools installed, or they are outdated/broken?

Yes, that's my guess too.

In any case, I have tested this ticket on one of my machines that had the same problem.



---

archive/issue_comments_433551.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nRegarding the `spkg-postinst`, could you please add a complementary `spkg-postrm` which removes the symlink, if it exists?",
    "created_at": "2019-06-07T18:31:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433551",
    "user": "https://github.com/embray"
}
```

<div id="comment:36" align="right">comment:36</div>

Regarding the `spkg-postinst`, could you please add a complementary `spkg-postrm` which removes the symlink, if it exists?



---

archive/issue_comments_433552.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d8e9adf27242e2ad4eca877c9f80b03865c04e42\"><code>d8e9adf</code></a></td><td><code>Remove symlinks in postrm</code></td></tr></table>\n",
    "created_at": "2019-06-19T22:59:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433552",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d8e9adf27242e2ad4eca877c9f80b03865c04e42"><code>d8e9adf</code></a></td><td><code>Remove symlinks in postrm</code></td></tr></table>




---

archive/issue_comments_433553.json:
```json
{
    "body": "Changed commit from **[`73be6cf`](https://github.com/sagemath/sagetrac-mirror/commit/73be6cf53f30b53e5a8a3dedf8f30c2c9960475a)** to **[`d8e9adf`](https://github.com/sagemath/sagetrac-mirror/commit/d8e9adf27242e2ad4eca877c9f80b03865c04e42)**",
    "created_at": "2019-06-19T22:59:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433553",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`73be6cf`](https://github.com/sagemath/sagetrac-mirror/commit/73be6cf53f30b53e5a8a3dedf8f30c2c9960475a)** to **[`d8e9adf`](https://github.com/sagemath/sagetrac-mirror/commit/d8e9adf27242e2ad4eca877c9f80b03865c04e42)**



---

archive/issue_comments_433554.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d8e9adf27242e2ad4eca877c9f80b03865c04e42\"><code>d8e9adf</code></a></td><td><code>Remove symlinks in postrm</code></td></tr></table>\n",
    "created_at": "2019-06-19T23:03:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433554",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:38"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d8e9adf27242e2ad4eca877c9f80b03865c04e42"><code>d8e9adf</code></a></td><td><code>Remove symlinks in postrm</code></td></tr></table>




---

archive/issue_events_379759.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-06-19T23:03:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27907#event-379759"
}
```



---

archive/issue_events_379760.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-06-19T23:03:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27907#event-379760"
}
```



---

archive/issue_comments_433555.json:
```json
{
    "body": "<div id=\"comment:39\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cd9a0e88aabf85d555b2062f9b25b8270ca48024\"><code>cd9a0e8</code></a></td><td><code>Fixup</code></td></tr></table>\n",
    "created_at": "2019-06-20T05:11:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433555",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cd9a0e88aabf85d555b2062f9b25b8270ca48024"><code>cd9a0e8</code></a></td><td><code>Fixup</code></td></tr></table>




---

archive/issue_comments_433556.json:
```json
{
    "body": "Changed commit from **[`d8e9adf`](https://github.com/sagemath/sagetrac-mirror/commit/d8e9adf27242e2ad4eca877c9f80b03865c04e42)** to **[`cd9a0e8`](https://github.com/sagemath/sagetrac-mirror/commit/cd9a0e88aabf85d555b2062f9b25b8270ca48024)**",
    "created_at": "2019-06-20T05:11:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433556",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d8e9adf`](https://github.com/sagemath/sagetrac-mirror/commit/d8e9adf27242e2ad4eca877c9f80b03865c04e42)** to **[`cd9a0e8`](https://github.com/sagemath/sagetrac-mirror/commit/cd9a0e88aabf85d555b2062f9b25b8270ca48024)**



---

archive/issue_comments_433557.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e3da9b5f00b872cf50121b70f635498db1c22ec\"><code>9e3da9b</code></a></td><td><code>Fix up</code></td></tr></table>\n",
    "created_at": "2019-06-20T05:19:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433557",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e3da9b5f00b872cf50121b70f635498db1c22ec"><code>9e3da9b</code></a></td><td><code>Fix up</code></td></tr></table>




---

archive/issue_comments_433558.json:
```json
{
    "body": "Changed commit from **[`cd9a0e8`](https://github.com/sagemath/sagetrac-mirror/commit/cd9a0e88aabf85d555b2062f9b25b8270ca48024)** to **[`9e3da9b`](https://github.com/sagemath/sagetrac-mirror/commit/9e3da9b5f00b872cf50121b70f635498db1c22ec)**",
    "created_at": "2019-06-20T05:19:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433558",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cd9a0e8`](https://github.com/sagemath/sagetrac-mirror/commit/cd9a0e88aabf85d555b2062f9b25b8270ca48024)** to **[`9e3da9b`](https://github.com/sagemath/sagetrac-mirror/commit/9e3da9b5f00b872cf50121b70f635498db1c22ec)**



---

archive/issue_comments_433559.json:
```json
{
    "body": "<div id=\"comment:41\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a04ea6bb6fc02a21b74b9b4421eaaa9f6604a63f\"><code>a04ea6b</code></a></td><td><code>Fix up</code></td></tr></table>\n",
    "created_at": "2019-06-20T20:51:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433559",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:41"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a04ea6bb6fc02a21b74b9b4421eaaa9f6604a63f"><code>a04ea6b</code></a></td><td><code>Fix up</code></td></tr></table>




---

archive/issue_comments_433560.json:
```json
{
    "body": "Changed commit from **[`9e3da9b`](https://github.com/sagemath/sagetrac-mirror/commit/9e3da9b5f00b872cf50121b70f635498db1c22ec)** to **[`a04ea6b`](https://github.com/sagemath/sagetrac-mirror/commit/a04ea6bb6fc02a21b74b9b4421eaaa9f6604a63f)**",
    "created_at": "2019-06-20T20:51:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433560",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9e3da9b`](https://github.com/sagemath/sagetrac-mirror/commit/9e3da9b5f00b872cf50121b70f635498db1c22ec)** to **[`a04ea6b`](https://github.com/sagemath/sagetrac-mirror/commit/a04ea6bb6fc02a21b74b9b4421eaaa9f6604a63f)**



---

archive/issue_comments_433561.json:
```json
{
    "body": "<div id=\"comment:42\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0558eef992198c4e1074b96c719be7c702c75152\"><code>0558eef</code></a></td><td><code>Fix up</code></td></tr></table>\n",
    "created_at": "2019-06-21T00:06:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433561",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:42"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0558eef992198c4e1074b96c719be7c702c75152"><code>0558eef</code></a></td><td><code>Fix up</code></td></tr></table>




---

archive/issue_comments_433562.json:
```json
{
    "body": "Changed commit from **[`a04ea6b`](https://github.com/sagemath/sagetrac-mirror/commit/a04ea6bb6fc02a21b74b9b4421eaaa9f6604a63f)** to **[`0558eef`](https://github.com/sagemath/sagetrac-mirror/commit/0558eef992198c4e1074b96c719be7c702c75152)**",
    "created_at": "2019-06-21T00:06:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433562",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a04ea6b`](https://github.com/sagemath/sagetrac-mirror/commit/a04ea6bb6fc02a21b74b9b4421eaaa9f6604a63f)** to **[`0558eef`](https://github.com/sagemath/sagetrac-mirror/commit/0558eef992198c4e1074b96c719be7c702c75152)**



---

archive/issue_comments_433563.json:
```json
{
    "body": "Changed commit from **[`0558eef`](https://github.com/sagemath/sagetrac-mirror/commit/0558eef992198c4e1074b96c719be7c702c75152)** to **[`4f08015`](https://github.com/sagemath/sagetrac-mirror/commit/4f0801520ef3c01cd2816081d858e6c25991d8e2)**",
    "created_at": "2019-06-21T16:51:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433563",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0558eef`](https://github.com/sagemath/sagetrac-mirror/commit/0558eef992198c4e1074b96c719be7c702c75152)** to **[`4f08015`](https://github.com/sagemath/sagetrac-mirror/commit/4f0801520ef3c01cd2816081d858e6c25991d8e2)**



---

archive/issue_comments_433564.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4f0801520ef3c01cd2816081d858e6c25991d8e2\"><code>4f08015</code></a></td><td><code>Define SAGE_SPKG_SCRIPTS in build scripts</code></td></tr></table>\n",
    "created_at": "2019-06-21T16:51:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433564",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:43"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4f0801520ef3c01cd2816081d858e6c25991d8e2"><code>4f08015</code></a></td><td><code>Define SAGE_SPKG_SCRIPTS in build scripts</code></td></tr></table>




---

archive/issue_comments_433565.json:
```json
{
    "body": "<div id=\"comment:44\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18300dab8505158b6c9d274d0267c719f5a69e99\"><code>18300da</code></a></td><td><code>Fix postrm additions</code></td></tr></table>\n",
    "created_at": "2019-06-21T20:15:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433565",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18300dab8505158b6c9d274d0267c719f5a69e99"><code>18300da</code></a></td><td><code>Fix postrm additions</code></td></tr></table>




---

archive/issue_comments_433566.json:
```json
{
    "body": "Changed commit from **[`4f08015`](https://github.com/sagemath/sagetrac-mirror/commit/4f0801520ef3c01cd2816081d858e6c25991d8e2)** to **[`18300da`](https://github.com/sagemath/sagetrac-mirror/commit/18300dab8505158b6c9d274d0267c719f5a69e99)**",
    "created_at": "2019-06-21T20:15:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433566",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4f08015`](https://github.com/sagemath/sagetrac-mirror/commit/4f0801520ef3c01cd2816081d858e6c25991d8e2)** to **[`18300da`](https://github.com/sagemath/sagetrac-mirror/commit/18300dab8505158b6c9d274d0267c719f5a69e99)**



---

archive/issue_comments_433567.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nReplying to [@embray](#comment%3A36):\n> Regarding the `spkg-postinst`, could you please add a complementary `spkg-postrm` which removes the symlink, if it exists?\n\nTook me a while to find my way through this little maze of scripts.\nSeems to work now, the crt symlinks are now removed by the postrm script. Please take a look. \n\nI notice that after `make gcc-clean`, an empty chain of directories `gcc/x86_64-pc-linux-gnu/7.2.0/plugin/include/ada` remains under `$SAGE_LOCAL/lib`.\nI think it's unrelated to this ticket.",
    "created_at": "2019-06-22T00:17:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433567",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:45" align="right">comment:45</div>

Replying to [@embray](#comment%3A36):
> Regarding the `spkg-postinst`, could you please add a complementary `spkg-postrm` which removes the symlink, if it exists?

Took me a while to find my way through this little maze of scripts.
Seems to work now, the crt symlinks are now removed by the postrm script. Please take a look. 

I notice that after `make gcc-clean`, an empty chain of directories `gcc/x86_64-pc-linux-gnu/7.2.0/plugin/include/ada` remains under `$SAGE_LOCAL/lib`.
I think it's unrelated to this ticket.



---

archive/issue_events_379761.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-06-22T00:17:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27907#event-379761"
}
```



---

archive/issue_events_379762.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-06-22T00:17:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27907#event-379762"
}
```



---

archive/issue_comments_433568.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nNeeds review.",
    "created_at": "2019-06-28T17:24:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433568",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:46" align="right">comment:46</div>

Needs review.



---

archive/issue_comments_433569.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nI'm confused.  What you used to have as `spkg-postinst` you *renamed* to `spkg-postrm`, which is not what I intended.\n\nIt also now reads:\n\n```\n-spkg-postinst\n\\ No newline at end of file\n+# -*- mode: shell-script -*-\n+\n+# Force re-installation of gmp, mpir, mpfr and mpc with the GCC that we\n+# just built. This is needed in particular because gmp/mpir was first\n+# built without C++ support.\n```\n\nThis script is run *after* you *uninstall* a package, so the comment about \"the GCC that we just built\" can't be accurate (it was accurate for when this was a `postinst` script.\n\nI will have to take more time to actually understand what you're trying to do here.  As it is I believe we are spending too much technical debt on trying to maintain gcc builds for old platforms...",
    "created_at": "2019-07-01T12:27:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433569",
    "user": "https://github.com/embray"
}
```

<div id="comment:47" align="right">comment:47</div>

I'm confused.  What you used to have as `spkg-postinst` you *renamed* to `spkg-postrm`, which is not what I intended.

It also now reads:

```
-spkg-postinst
\ No newline at end of file
+# -*- mode: shell-script -*-
+
+# Force re-installation of gmp, mpir, mpfr and mpc with the GCC that we
+# just built. This is needed in particular because gmp/mpir was first
+# built without C++ support.
```

This script is run *after* you *uninstall* a package, so the comment about "the GCC that we just built" can't be accurate (it was accurate for when this was a `postinst` script.

I will have to take more time to actually understand what you're trying to do here.  As it is I believe we are spending too much technical debt on trying to maintain gcc builds for old platforms...



---

archive/issue_comments_433570.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nAlso I wonder if we could base this on top of #21707?  (Not to add additional hurdles to this ticket, as I want to move forward on #21707 ASAP as the number of build-related variables in sage-env-config is starting to get out of hand :)",
    "created_at": "2019-07-01T12:40:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433570",
    "user": "https://github.com/embray"
}
```

<div id="comment:48" align="right">comment:48</div>

Also I wonder if we could base this on top of #21707?  (Not to add additional hurdles to this ticket, as I want to move forward on #21707 ASAP as the number of build-related variables in sage-env-config is starting to get out of hand :)



---

archive/issue_comments_433571.json:
```json
{
    "body": "Changed commit from **[`18300da`](https://github.com/sagemath/sagetrac-mirror/commit/18300dab8505158b6c9d274d0267c719f5a69e99)** to **[`ff07121`](https://github.com/sagemath/sagetrac-mirror/commit/ff0712125a3d05500a1f77e62c371d695d1a9794)**",
    "created_at": "2019-07-01T12:56:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433571",
    "user": "https://github.com/embray"
}
```

Changed commit from **[`18300da`](https://github.com/sagemath/sagetrac-mirror/commit/18300dab8505158b6c9d274d0267c719f5a69e99)** to **[`ff07121`](https://github.com/sagemath/sagetrac-mirror/commit/ff0712125a3d05500a1f77e62c371d695d1a9794)**



---

archive/issue_comments_433572.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/building_gcc_7_2_0_fails_on_old_centos___red_hat_linux_systems_because_of_crti_o](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/building_gcc_7_2_0_fails_on_old_centos___red_hat_linux_systems_because_of_crti_o)** to **[public/split_sage_env_into_sage_build_env_and_sage_env](https://github.com/sagemath/sagetrac-mirror/tree/public/split_sage_env_into_sage_build_env_and_sage_env)**",
    "created_at": "2019-07-01T12:56:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433572",
    "user": "https://github.com/embray"
}
```

Changed branch from **[u/mkoeppe/building_gcc_7_2_0_fails_on_old_centos___red_hat_linux_systems_because_of_crti_o](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/building_gcc_7_2_0_fails_on_old_centos___red_hat_linux_systems_because_of_crti_o)** to **[public/split_sage_env_into_sage_build_env_and_sage_env](https://github.com/sagemath/sagetrac-mirror/tree/public/split_sage_env_into_sage_build_env_and_sage_env)**



---

archive/issue_comments_433573.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nWent ahead and rebased on current develop so it could incorporate all the additional variables we've since added.\n\nI didn't change the name of the script yet; I would still prefer to shorten it but if anyone disagrees we can leave it as-is.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a34a9f1c60297944ef119faafe65342cb9cc6ca2\"><code>a34a9f1</code></a></td><td><code>Move sage-dist-helpers from src/bin to build/bin</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff0712125a3d05500a1f77e62c371d695d1a9794\"><code>ff07121</code></a></td><td><code>Split out build/bin/sage-build-env-config from sage-env-config</code></td></tr></table>\n",
    "created_at": "2019-07-01T12:56:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433573",
    "user": "https://github.com/embray"
}
```

<div id="comment:49" align="right">comment:49</div>

Went ahead and rebased on current develop so it could incorporate all the additional variables we've since added.

I didn't change the name of the script yet; I would still prefer to shorten it but if anyone disagrees we can leave it as-is.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a34a9f1c60297944ef119faafe65342cb9cc6ca2"><code>a34a9f1</code></a></td><td><code>Move sage-dist-helpers from src/bin to build/bin</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff0712125a3d05500a1f77e62c371d695d1a9794"><code>ff07121</code></a></td><td><code>Split out build/bin/sage-build-env-config from sage-env-config</code></td></tr></table>




---

archive/issue_comments_433574.json:
```json
{
    "body": "Changed commit from **[`ff07121`](https://github.com/sagemath/sagetrac-mirror/commit/ff0712125a3d05500a1f77e62c371d695d1a9794)** to **[`18300da`](https://github.com/sagemath/sagetrac-mirror/commit/18300dab8505158b6c9d274d0267c719f5a69e99)**",
    "created_at": "2019-07-01T12:56:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433574",
    "user": "https://github.com/embray"
}
```

Changed commit from **[`ff07121`](https://github.com/sagemath/sagetrac-mirror/commit/ff0712125a3d05500a1f77e62c371d695d1a9794)** to **[`18300da`](https://github.com/sagemath/sagetrac-mirror/commit/18300dab8505158b6c9d274d0267c719f5a69e99)**



---

archive/issue_comments_433575.json:
```json
{
    "body": "Changed branch from **[public/split_sage_env_into_sage_build_env_and_sage_env](https://github.com/sagemath/sagetrac-mirror/tree/public/split_sage_env_into_sage_build_env_and_sage_env)** to **[u/mkoeppe/building_gcc_7_2_0_fails_on_old_centos___red_hat_linux_systems_because_of_crti_o](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/building_gcc_7_2_0_fails_on_old_centos___red_hat_linux_systems_because_of_crti_o)**",
    "created_at": "2019-07-01T12:56:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433575",
    "user": "https://github.com/embray"
}
```

Changed branch from **[public/split_sage_env_into_sage_build_env_and_sage_env](https://github.com/sagemath/sagetrac-mirror/tree/public/split_sage_env_into_sage_build_env_and_sage_env)** to **[u/mkoeppe/building_gcc_7_2_0_fails_on_old_centos___red_hat_linux_systems_because_of_crti_o](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/building_gcc_7_2_0_fails_on_old_centos___red_hat_linux_systems_because_of_crti_o)**



---

archive/issue_comments_433576.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nAck! Wrong ticket, sorry.\n\n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cdf180d3408bce1590afffc893c23e9f87557454\"><code>cdf180d</code></a></td><td><code>LIBRARY_PATH is needed in spkg-install too</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f57d00c90048a6de34a2ad1e0045be9750a02b39\"><code>f57d00c</code></a></td><td><code>Find SAGE_CRTI_DIR at configure time.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/73be6cf53f30b53e5a8a3dedf8f30c2c9960475a\"><code>73be6cf</code></a></td><td><code>Symlink crt1.o and friends where gcc can find it</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d8e9adf27242e2ad4eca877c9f80b03865c04e42\"><code>d8e9adf</code></a></td><td><code>Remove symlinks in postrm</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cd9a0e88aabf85d555b2062f9b25b8270ca48024\"><code>cd9a0e8</code></a></td><td><code>Fixup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e3da9b5f00b872cf50121b70f635498db1c22ec\"><code>9e3da9b</code></a></td><td><code>Fix up</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a04ea6bb6fc02a21b74b9b4421eaaa9f6604a63f\"><code>a04ea6b</code></a></td><td><code>Fix up</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0558eef992198c4e1074b96c719be7c702c75152\"><code>0558eef</code></a></td><td><code>Fix up</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4f0801520ef3c01cd2816081d858e6c25991d8e2\"><code>4f08015</code></a></td><td><code>Define SAGE_SPKG_SCRIPTS in build scripts</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18300dab8505158b6c9d274d0267c719f5a69e99\"><code>18300da</code></a></td><td><code>Fix postrm additions</code></td></tr></table>\n",
    "created_at": "2019-07-01T12:56:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433576",
    "user": "https://github.com/embray"
}
```

<div id="comment:50" align="right">comment:50</div>

Ack! Wrong ticket, sorry.

---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cdf180d3408bce1590afffc893c23e9f87557454"><code>cdf180d</code></a></td><td><code>LIBRARY_PATH is needed in spkg-install too</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f57d00c90048a6de34a2ad1e0045be9750a02b39"><code>f57d00c</code></a></td><td><code>Find SAGE_CRTI_DIR at configure time.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/73be6cf53f30b53e5a8a3dedf8f30c2c9960475a"><code>73be6cf</code></a></td><td><code>Symlink crt1.o and friends where gcc can find it</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d8e9adf27242e2ad4eca877c9f80b03865c04e42"><code>d8e9adf</code></a></td><td><code>Remove symlinks in postrm</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cd9a0e88aabf85d555b2062f9b25b8270ca48024"><code>cd9a0e8</code></a></td><td><code>Fixup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e3da9b5f00b872cf50121b70f635498db1c22ec"><code>9e3da9b</code></a></td><td><code>Fix up</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a04ea6bb6fc02a21b74b9b4421eaaa9f6604a63f"><code>a04ea6b</code></a></td><td><code>Fix up</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0558eef992198c4e1074b96c719be7c702c75152"><code>0558eef</code></a></td><td><code>Fix up</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4f0801520ef3c01cd2816081d858e6c25991d8e2"><code>4f08015</code></a></td><td><code>Define SAGE_SPKG_SCRIPTS in build scripts</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18300dab8505158b6c9d274d0267c719f5a69e99"><code>18300da</code></a></td><td><code>Fix postrm additions</code></td></tr></table>




---

archive/issue_events_379763.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-01T18:19:13Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "title_is": "Building gcc 7.2.0 fails on CentOS / Red Hat / Fedora Linux systems because of crti.o",
    "title_was": "Building gcc 7.2.0 fails on old CentOS / Red Hat Linux systems because of crti.o",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27907#event-379763"
}
```



---

archive/issue_comments_433577.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nOn fedora 30 (gcc 9) I'm also getting\n\n```\n[gcc-7.2.0] /home/buildbot-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas39/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/./gcc/xgcc -B/home/buildbot-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas39/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/./gcc/ -B/home/buildbot-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas39/local/x86_64-pc-linux-gnu/bin/ -B/home/buildbot-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas39/local/x86_64-pc-linux-gnu/lib/ -isystem /home/buildbot-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas39/local/x86_64-pc-linux-gnu/include -isystem /home/buildbot-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas39/local/x86_64-pc-linux-gnu/sys-include    -O2  -g -O2 -DIN_GCC    -W -Wall -Wno-narrowing -Wwrite-strings -Wcast-qual -Wno-format -Wstrict-prototypes -Wmissing-prototypes -Wold-style-definition  -isystem ./include   -fpic -mlong-double-80 -DUSE_ELF_SYMVER -g -DIN_LIBGCC2 -fbuilding-libgcc -fno-stack-protector  -shared -nodefaultlibs -Wl,--soname=libgcc_s.so.1 -Wl,--version-script=libgcc.map -o ./libgcc_s.so.1.tmp -g -O2 -B./ _muldi3_s.o _negdi2_s.o _lshrdi3_s.o _ashldi3_s.o _ashrdi3_s.o _cmpdi2_s.o _ucmpdi2_s.o _clear_cache_s.o _trampoline_s.o __main_s.o _absvsi2_s.o _absvdi2_s.o _addvsi3_s.o _addvdi3_s.o _subvsi3_s.o _subvdi3_s.o _mulvsi3_s.o _mulvdi3_s.o _negvsi2_s.o _negvdi2_s.o _ctors_s.o _ffssi2_s.o _ffsdi2_s.o _clz_s.o _clzsi2_s.o _clzdi2_s.o _ctzsi2_s.o _ctzdi2_s.o _popcount_tab_s.o _popcountsi2_s.o _popcountdi2_s.o _paritysi2_s.o _paritydi2_s.o _powisf2_s.o _powidf2_s.o _powixf2_s.o _mulhc3_s.o _mulsc3_s.o _muldc3_s.o _mulxc3_s.o _divhc3_s.o _divsc3_s.o _divdc3_s.o _divxc3_s.o _bswapsi2_s.o _bswapdi2_s.o _clrsbsi2_s.o _clrsbdi2_s.o _fixunssfsi_s.o _fixunsdfsi_s.o _fixunsxfsi_s.o _fixsfdi_s.o _fixdfdi_s.o _fixxfdi_s.o _fixunssfdi_s.o _fixunsdfdi_s.o _fixunsxfdi_s.o _floatdisf_s.o _floatdidf_s.o _floatdixf_s.o _floatundisf_s.o _floatundidf_s.o _floatundixf_s.o _divdi3_s.o _moddi3_s.o _divmoddi4_s.o _udivdi3_s.o _umoddi3_s.o _udivmoddi4_s.o _udiv_w_sdiv_s.o cpuinfo_s.o sfp-exceptions_s.o addtf3_s.o divtf3_s.o multf3_s.o negtf2_s.o subtf3_s.o unordtf2_s.o fixtfsi_s.o fixunstfsi_s.o floatsitf_s.o floatunsitf_s.o fixtfdi_s.o fixunstfdi_s.o floatditf_s.o floatunditf_s.o fixtfti_s.o fixunstfti_s.o floattitf_s.o floatuntitf_s.o extendsftf2_s.o extenddftf2_s.o extendxftf2_s.o trunctfsf2_s.o trunctfdf2_s.o trunctfxf2_s.o getf2_s.o letf2_s.o eqtf2_s.o _divtc3_s.o _multc3_s.o _powitf2_s.o enable-execute-stack_s.o unwind-dw2_s.o unwind-dw2-fde-dip_s.o unwind-sjlj_s.o unwind-c_s.o emutls_s.o libgcc.a -lc && rm -f ./libgcc_s.so && if [ -f ./libgcc_s.so.1 ]; then mv -f ./libgcc_s.so.1 ./libgcc_s.so.1.backup; else true; fi && mv ./libgcc_s.so.1.tmp ./libgcc_s.so.1 && (echo \"/* GNU ld script\"; echo \"   Use the shared library, but some functions are only in\"; echo \"   the static library.  */\"; echo \"GROUP ( libgcc_s.so.1 -lgcc )\" ) > ./libgcc_s.so\n[gcc-7.2.0] /usr/bin/ld: cannot find crti.o: No such file or directory\n[gcc-7.2.0] collect2: error: ld returned 1 exit status\n[gcc-7.2.0] make[9]: *** [Makefile:982: libgcc_s.so] Error 1\n```\nFor the record, its `/lib64/crti.o`\n\n```\n[release@zen Sage]$ cc -print-file-name=crti.o\n/usr/lib/gcc/x86_64-redhat-linux/9/../../../../lib64/crti.o\n```",
    "created_at": "2019-07-01T18:19:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433577",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:51" align="right">comment:51</div>

On fedora 30 (gcc 9) I'm also getting

```
[gcc-7.2.0] /home/buildbot-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas39/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/./gcc/xgcc -B/home/buildbot-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas39/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/./gcc/ -B/home/buildbot-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas39/local/x86_64-pc-linux-gnu/bin/ -B/home/buildbot-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas39/local/x86_64-pc-linux-gnu/lib/ -isystem /home/buildbot-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas39/local/x86_64-pc-linux-gnu/include -isystem /home/buildbot-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas39/local/x86_64-pc-linux-gnu/sys-include    -O2  -g -O2 -DIN_GCC    -W -Wall -Wno-narrowing -Wwrite-strings -Wcast-qual -Wno-format -Wstrict-prototypes -Wmissing-prototypes -Wold-style-definition  -isystem ./include   -fpic -mlong-double-80 -DUSE_ELF_SYMVER -g -DIN_LIBGCC2 -fbuilding-libgcc -fno-stack-protector  -shared -nodefaultlibs -Wl,--soname=libgcc_s.so.1 -Wl,--version-script=libgcc.map -o ./libgcc_s.so.1.tmp -g -O2 -B./ _muldi3_s.o _negdi2_s.o _lshrdi3_s.o _ashldi3_s.o _ashrdi3_s.o _cmpdi2_s.o _ucmpdi2_s.o _clear_cache_s.o _trampoline_s.o __main_s.o _absvsi2_s.o _absvdi2_s.o _addvsi3_s.o _addvdi3_s.o _subvsi3_s.o _subvdi3_s.o _mulvsi3_s.o _mulvdi3_s.o _negvsi2_s.o _negvdi2_s.o _ctors_s.o _ffssi2_s.o _ffsdi2_s.o _clz_s.o _clzsi2_s.o _clzdi2_s.o _ctzsi2_s.o _ctzdi2_s.o _popcount_tab_s.o _popcountsi2_s.o _popcountdi2_s.o _paritysi2_s.o _paritydi2_s.o _powisf2_s.o _powidf2_s.o _powixf2_s.o _mulhc3_s.o _mulsc3_s.o _muldc3_s.o _mulxc3_s.o _divhc3_s.o _divsc3_s.o _divdc3_s.o _divxc3_s.o _bswapsi2_s.o _bswapdi2_s.o _clrsbsi2_s.o _clrsbdi2_s.o _fixunssfsi_s.o _fixunsdfsi_s.o _fixunsxfsi_s.o _fixsfdi_s.o _fixdfdi_s.o _fixxfdi_s.o _fixunssfdi_s.o _fixunsdfdi_s.o _fixunsxfdi_s.o _floatdisf_s.o _floatdidf_s.o _floatdixf_s.o _floatundisf_s.o _floatundidf_s.o _floatundixf_s.o _divdi3_s.o _moddi3_s.o _divmoddi4_s.o _udivdi3_s.o _umoddi3_s.o _udivmoddi4_s.o _udiv_w_sdiv_s.o cpuinfo_s.o sfp-exceptions_s.o addtf3_s.o divtf3_s.o multf3_s.o negtf2_s.o subtf3_s.o unordtf2_s.o fixtfsi_s.o fixunstfsi_s.o floatsitf_s.o floatunsitf_s.o fixtfdi_s.o fixunstfdi_s.o floatditf_s.o floatunditf_s.o fixtfti_s.o fixunstfti_s.o floattitf_s.o floatuntitf_s.o extendsftf2_s.o extenddftf2_s.o extendxftf2_s.o trunctfsf2_s.o trunctfdf2_s.o trunctfxf2_s.o getf2_s.o letf2_s.o eqtf2_s.o _divtc3_s.o _multc3_s.o _powitf2_s.o enable-execute-stack_s.o unwind-dw2_s.o unwind-dw2-fde-dip_s.o unwind-sjlj_s.o unwind-c_s.o emutls_s.o libgcc.a -lc && rm -f ./libgcc_s.so && if [ -f ./libgcc_s.so.1 ]; then mv -f ./libgcc_s.so.1 ./libgcc_s.so.1.backup; else true; fi && mv ./libgcc_s.so.1.tmp ./libgcc_s.so.1 && (echo "/* GNU ld script"; echo "   Use the shared library, but some functions are only in"; echo "   the static library.  */"; echo "GROUP ( libgcc_s.so.1 -lgcc )" ) > ./libgcc_s.so
[gcc-7.2.0] /usr/bin/ld: cannot find crti.o: No such file or directory
[gcc-7.2.0] collect2: error: ld returned 1 exit status
[gcc-7.2.0] make[9]: *** [Makefile:982: libgcc_s.so] Error 1
```
For the record, its `/lib64/crti.o`

```
[release@zen Sage]$ cc -print-file-name=crti.o
/usr/lib/gcc/x86_64-redhat-linux/9/../../../../lib64/crti.o
```



---

archive/issue_comments_433578.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-On various Linux systems with old compilers, building gcc 7.2.0 fails because crti.o is not found.\n+On various Linux systemswith old compilers, building gcc 7.2.0 fails because crti.o is not found.\n \n Reported for Red Hat 6.10 at https://groups.google.com/d/msg/sage-devel/ze5SzgXZAgk/tai9F4flBQAJ\n \n``````\n",
    "created_at": "2019-07-01T18:19:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433578",
    "user": "https://github.com/vbraun"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-On various Linux systems with old compilers, building gcc 7.2.0 fails because crti.o is not found.
+On various Linux systemswith old compilers, building gcc 7.2.0 fails because crti.o is not found.
 
 Reported for Red Hat 6.10 at https://groups.google.com/d/msg/sage-devel/ze5SzgXZAgk/tai9F4flBQAJ
 
``````




---

archive/issue_comments_433579.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nReplying to [@vbraun](#comment%3A51):\n> On fedora 30 (gcc 9) I'm also getting\n> \n> ```\n> [gcc-7.2.0] /home/buildbot-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas39/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/./gcc/xgcc -B/home/buildbot-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas39/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/./gcc/ -B/home/buildbot-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas39/local/x86_64-pc-linux-gnu/bin/ -B/home/buildbot-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas39/local/x86_64-pc-linux-gnu/lib/ -isystem /home/buildbot-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas39/local/x86_64-pc-linux-gnu/include -isystem /home/buildbot-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas39/local/x86_64-pc-linux-gnu/sys-include    -O2  -g -O2 -DIN_GCC    -W -Wall -Wno-narrowing -Wwrite-strings -Wcast-qual -Wno-format -Wstrict-prototypes -Wmissing-prototypes -Wold-style-definition  -isystem ./include   -fpic -mlong-double-80 -DUSE_ELF_SYMVER -g -DIN_LIBGCC2 -fbuilding-libgcc -fno-stack-protector  -shared -nodefaultlibs -Wl,--soname=libgcc_s.so.1 -Wl,--version-script=libgcc.map -o ./libgcc_s.so.1.tmp -g -O2 -B./ _muldi3_s.o _negdi2_s.o _lshrdi3_s.o _ashldi3_s.o _ashrdi3_s.o _cmpdi2_s.o _ucmpdi2_s.o _clear_cache_s.o _trampoline_s.o __main_s.o _absvsi2_s.o _absvdi2_s.o _addvsi3_s.o _addvdi3_s.o _subvsi3_s.o _subvdi3_s.o _mulvsi3_s.o _mulvdi3_s.o _negvsi2_s.o _negvdi2_s.o _ctors_s.o _ffssi2_s.o _ffsdi2_s.o _clz_s.o _clzsi2_s.o _clzdi2_s.o _ctzsi2_s.o _ctzdi2_s.o _popcount_tab_s.o _popcountsi2_s.o _popcountdi2_s.o _paritysi2_s.o _paritydi2_s.o _powisf2_s.o _powidf2_s.o _powixf2_s.o _mulhc3_s.o _mulsc3_s.o _muldc3_s.o _mulxc3_s.o _divhc3_s.o _divsc3_s.o _divdc3_s.o _divxc3_s.o _bswapsi2_s.o _bswapdi2_s.o _clrsbsi2_s.o _clrsbdi2_s.o _fixunssfsi_s.o _fixunsdfsi_s.o _fixunsxfsi_s.o _fixsfdi_s.o _fixdfdi_s.o _fixxfdi_s.o _fixunssfdi_s.o _fixunsdfdi_s.o _fixunsxfdi_s.o _floatdisf_s.o _floatdidf_s.o _floatdixf_s.o _floatundisf_s.o _floatundidf_s.o _floatundixf_s.o _divdi3_s.o _moddi3_s.o _divmoddi4_s.o _udivdi3_s.o _umoddi3_s.o _udivmoddi4_s.o _udiv_w_sdiv_s.o cpuinfo_s.o sfp-exceptions_s.o addtf3_s.o divtf3_s.o multf3_s.o negtf2_s.o subtf3_s.o unordtf2_s.o fixtfsi_s.o fixunstfsi_s.o floatsitf_s.o floatunsitf_s.o fixtfdi_s.o fixunstfdi_s.o floatditf_s.o floatunditf_s.o fixtfti_s.o fixunstfti_s.o floattitf_s.o floatuntitf_s.o extendsftf2_s.o extenddftf2_s.o extendxftf2_s.o trunctfsf2_s.o trunctfdf2_s.o trunctfxf2_s.o getf2_s.o letf2_s.o eqtf2_s.o _divtc3_s.o _multc3_s.o _powitf2_s.o enable-execute-stack_s.o unwind-dw2_s.o unwind-dw2-fde-dip_s.o unwind-sjlj_s.o unwind-c_s.o emutls_s.o libgcc.a -lc && rm -f ./libgcc_s.so && if [ -f ./libgcc_s.so.1 ]; then mv -f ./libgcc_s.so.1 ./libgcc_s.so.1.backup; else true; fi && mv ./libgcc_s.so.1.tmp ./libgcc_s.so.1 && (echo \"/* GNU ld script\"; echo \"   Use the shared library, but some functions are only in\"; echo \"   the static library.  */\"; echo \"GROUP ( libgcc_s.so.1 -lgcc )\" ) > ./libgcc_s.so\n> [gcc-7.2.0] /usr/bin/ld: cannot find crti.o: No such file or directory\n> [gcc-7.2.0] collect2: error: ld returned 1 exit status\n> [gcc-7.2.0] make[9]: *** [Makefile:982: libgcc_s.so] Error 1\n> ```\n> For the record, its `/lib64/crti.o`\n> \n> ```\n> [release@zen Sage]$ cc -print-file-name=crti.o\n> /usr/lib/gcc/x86_64-redhat-linux/9/../../../../lib64/crti.o\n> ```\n\nHas `CRTI_DIR` been set correctly in `src/bin/sage-env-config` on this system?",
    "created_at": "2019-07-01T18:25:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433579",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:52" align="right">comment:52</div>

Replying to [@vbraun](#comment%3A51):
> On fedora 30 (gcc 9) I'm also getting
> 
> ```
> [gcc-7.2.0] /home/buildbot-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas39/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/./gcc/xgcc -B/home/buildbot-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas39/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/./gcc/ -B/home/buildbot-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas39/local/x86_64-pc-linux-gnu/bin/ -B/home/buildbot-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas39/local/x86_64-pc-linux-gnu/lib/ -isystem /home/buildbot-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas39/local/x86_64-pc-linux-gnu/include -isystem /home/buildbot-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidmas39/local/x86_64-pc-linux-gnu/sys-include    -O2  -g -O2 -DIN_GCC    -W -Wall -Wno-narrowing -Wwrite-strings -Wcast-qual -Wno-format -Wstrict-prototypes -Wmissing-prototypes -Wold-style-definition  -isystem ./include   -fpic -mlong-double-80 -DUSE_ELF_SYMVER -g -DIN_LIBGCC2 -fbuilding-libgcc -fno-stack-protector  -shared -nodefaultlibs -Wl,--soname=libgcc_s.so.1 -Wl,--version-script=libgcc.map -o ./libgcc_s.so.1.tmp -g -O2 -B./ _muldi3_s.o _negdi2_s.o _lshrdi3_s.o _ashldi3_s.o _ashrdi3_s.o _cmpdi2_s.o _ucmpdi2_s.o _clear_cache_s.o _trampoline_s.o __main_s.o _absvsi2_s.o _absvdi2_s.o _addvsi3_s.o _addvdi3_s.o _subvsi3_s.o _subvdi3_s.o _mulvsi3_s.o _mulvdi3_s.o _negvsi2_s.o _negvdi2_s.o _ctors_s.o _ffssi2_s.o _ffsdi2_s.o _clz_s.o _clzsi2_s.o _clzdi2_s.o _ctzsi2_s.o _ctzdi2_s.o _popcount_tab_s.o _popcountsi2_s.o _popcountdi2_s.o _paritysi2_s.o _paritydi2_s.o _powisf2_s.o _powidf2_s.o _powixf2_s.o _mulhc3_s.o _mulsc3_s.o _muldc3_s.o _mulxc3_s.o _divhc3_s.o _divsc3_s.o _divdc3_s.o _divxc3_s.o _bswapsi2_s.o _bswapdi2_s.o _clrsbsi2_s.o _clrsbdi2_s.o _fixunssfsi_s.o _fixunsdfsi_s.o _fixunsxfsi_s.o _fixsfdi_s.o _fixdfdi_s.o _fixxfdi_s.o _fixunssfdi_s.o _fixunsdfdi_s.o _fixunsxfdi_s.o _floatdisf_s.o _floatdidf_s.o _floatdixf_s.o _floatundisf_s.o _floatundidf_s.o _floatundixf_s.o _divdi3_s.o _moddi3_s.o _divmoddi4_s.o _udivdi3_s.o _umoddi3_s.o _udivmoddi4_s.o _udiv_w_sdiv_s.o cpuinfo_s.o sfp-exceptions_s.o addtf3_s.o divtf3_s.o multf3_s.o negtf2_s.o subtf3_s.o unordtf2_s.o fixtfsi_s.o fixunstfsi_s.o floatsitf_s.o floatunsitf_s.o fixtfdi_s.o fixunstfdi_s.o floatditf_s.o floatunditf_s.o fixtfti_s.o fixunstfti_s.o floattitf_s.o floatuntitf_s.o extendsftf2_s.o extenddftf2_s.o extendxftf2_s.o trunctfsf2_s.o trunctfdf2_s.o trunctfxf2_s.o getf2_s.o letf2_s.o eqtf2_s.o _divtc3_s.o _multc3_s.o _powitf2_s.o enable-execute-stack_s.o unwind-dw2_s.o unwind-dw2-fde-dip_s.o unwind-sjlj_s.o unwind-c_s.o emutls_s.o libgcc.a -lc && rm -f ./libgcc_s.so && if [ -f ./libgcc_s.so.1 ]; then mv -f ./libgcc_s.so.1 ./libgcc_s.so.1.backup; else true; fi && mv ./libgcc_s.so.1.tmp ./libgcc_s.so.1 && (echo "/* GNU ld script"; echo "   Use the shared library, but some functions are only in"; echo "   the static library.  */"; echo "GROUP ( libgcc_s.so.1 -lgcc )" ) > ./libgcc_s.so
> [gcc-7.2.0] /usr/bin/ld: cannot find crti.o: No such file or directory
> [gcc-7.2.0] collect2: error: ld returned 1 exit status
> [gcc-7.2.0] make[9]: *** [Makefile:982: libgcc_s.so] Error 1
> ```
> For the record, its `/lib64/crti.o`
> 
> ```
> [release@zen Sage]$ cc -print-file-name=crti.o
> /usr/lib/gcc/x86_64-redhat-linux/9/../../../../lib64/crti.o
> ```

Has `CRTI_DIR` been set correctly in `src/bin/sage-env-config` on this system?



---

archive/issue_comments_433580.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nReplying to [@embray](#comment%3A47):\n> I'm confused.  What you used to have as `spkg-postinst` you *renamed* to `spkg-postrm`, which is not what I intended.\n\nBefore this ticket, `spkg-postrm` was a symlink to `spkg-postinst`. \nIn both `spkg-postrm` and `spkg-postinst`, the same actions (trigger uninstalls, reconfigure) are taken.\n\nI added additional things to the front of `spkg-postinst`.\n\n(The diff does not show this very well.)",
    "created_at": "2019-07-01T18:29:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433580",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:53" align="right">comment:53</div>

Replying to [@embray](#comment%3A47):
> I'm confused.  What you used to have as `spkg-postinst` you *renamed* to `spkg-postrm`, which is not what I intended.

Before this ticket, `spkg-postrm` was a symlink to `spkg-postinst`. 
In both `spkg-postrm` and `spkg-postinst`, the same actions (trigger uninstalls, reconfigure) are taken.

I added additional things to the front of `spkg-postinst`.

(The diff does not show this very well.)



---

archive/issue_comments_433581.json:
```json
{
    "body": "<div id=\"comment:54\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ed2677d73e1222c6c84e187a0772221d52946ca\"><code>8ed2677</code></a></td><td><code>build/pkgs/gcc/spkg-postrm: Update comments</code></td></tr></table>\n",
    "created_at": "2019-07-01T18:34:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433581",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:54"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ed2677d73e1222c6c84e187a0772221d52946ca"><code>8ed2677</code></a></td><td><code>build/pkgs/gcc/spkg-postrm: Update comments</code></td></tr></table>




---

archive/issue_comments_433582.json:
```json
{
    "body": "Changed commit from **[`18300da`](https://github.com/sagemath/sagetrac-mirror/commit/18300dab8505158b6c9d274d0267c719f5a69e99)** to **[`8ed2677`](https://github.com/sagemath/sagetrac-mirror/commit/8ed2677d73e1222c6c84e187a0772221d52946ca)**",
    "created_at": "2019-07-01T18:34:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433582",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`18300da`](https://github.com/sagemath/sagetrac-mirror/commit/18300dab8505158b6c9d274d0267c719f5a69e99)** to **[`8ed2677`](https://github.com/sagemath/sagetrac-mirror/commit/8ed2677d73e1222c6c84e187a0772221d52946ca)**



---

archive/issue_comments_433583.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nReplying to [@embray](#comment%3A47):\n> [...] `spkg-postrm`  [...] is run *after* you *uninstall* a package, so the comment about \"the GCC that we just built\" can't be accurate\n\nI have updated the explanation in `spkg-postrm`.\n(Actually, in the `spkg-postrm` situation, I don't know why `--keep-files` would be used; but it's beyond the scope of this ticket to change it.)",
    "created_at": "2019-07-01T18:37:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433583",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:55" align="right">comment:55</div>

Replying to [@embray](#comment%3A47):
> [...] `spkg-postrm`  [...] is run *after* you *uninstall* a package, so the comment about "the GCC that we just built" can't be accurate

I have updated the explanation in `spkg-postrm`.
(Actually, in the `spkg-postrm` situation, I don't know why `--keep-files` would be used; but it's beyond the scope of this ticket to change it.)



---

archive/issue_comments_433584.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nGot it--this is starting to make sense to me now.  The part where you actually *modify* the the postrm script on the fly is interesting: That was not an explicitly supported use case, so it makes me a little nervous (since it means now we *do* have to support that), but if it works it works.\n\nIf for some reason we need to change things such that it would not be easy to support this usage, I believe a different solution could be found.",
    "created_at": "2019-07-02T12:08:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433584",
    "user": "https://github.com/embray"
}
```

<div id="comment:56" align="right">comment:56</div>

Got it--this is starting to make sense to me now.  The part where you actually *modify* the the postrm script on the fly is interesting: That was not an explicitly supported use case, so it makes me a little nervous (since it means now we *do* have to support that), but if it works it works.

If for some reason we need to change things such that it would not be easy to support this usage, I believe a different solution could be found.



---

archive/issue_comments_433585.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nMoving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).",
    "created_at": "2019-07-03T11:37:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433585",
    "user": "https://github.com/embray"
}
```

<div id="comment:57" align="right">comment:57</div>

Moving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).



---

archive/issue_events_379764.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:37:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27907#event-379764"
}
```



---

archive/issue_events_379765.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:37:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27907#event-379765"
}
```



---

archive/issue_comments_433586.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nI would just unconditionally delete `*crt?.o` in the postrm script, more predictable and fewer moving parts. But either way is imho an acceptable solution, unless Eric objects I'm going to go ahead with this ticket....",
    "created_at": "2019-07-05T12:11:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433586",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:58" align="right">comment:58</div>

I would just unconditionally delete `*crt?.o` in the postrm script, more predictable and fewer moving parts. But either way is imho an acceptable solution, unless Eric objects I'm going to go ahead with this ticket....



---

archive/issue_events_379766.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-18T07:13:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27907#event-379766"
}
```



---

archive/issue_events_379767.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-18T07:13:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27907#event-379767"
}
```



---

archive/issue_comments_433587.json:
```json
{
    "body": "Reviewer: **Volker Braun**",
    "created_at": "2019-07-18T11:16:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433587",
    "user": "https://github.com/fchapoton"
}
```

Reviewer: **Volker Braun**



---

archive/issue_comments_433588.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/building_gcc_7_2_0_fails_on_old_centos___red_hat_linux_systems_because_of_crti_o](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/building_gcc_7_2_0_fails_on_old_centos___red_hat_linux_systems_because_of_crti_o)** to **[`8ed2677`](https://github.com/sagemath/sagetrac-mirror/commit/8ed2677d73e1222c6c84e187a0772221d52946ca)**",
    "created_at": "2019-07-20T09:11:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433588",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/building_gcc_7_2_0_fails_on_old_centos___red_hat_linux_systems_because_of_crti_o](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/building_gcc_7_2_0_fails_on_old_centos___red_hat_linux_systems_because_of_crti_o)** to **[`8ed2677`](https://github.com/sagemath/sagetrac-mirror/commit/8ed2677d73e1222c6c84e187a0772221d52946ca)**



---

archive/issue_events_379768.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-20T09:11:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27907#event-379768"
}
```



---

archive/issue_events_379769.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "dedfcbe5bf4d3b0fc6930ae624c74c17df79803c",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-07-20T09:11:04Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27907#event-379769"
}
```



---

archive/issue_comments_433589.json:
```json
{
    "body": "Changed commit from **[`8ed2677`](https://github.com/sagemath/sagetrac-mirror/commit/8ed2677d73e1222c6c84e187a0772221d52946ca)** to none",
    "created_at": "2019-08-02T17:37:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433589",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[`8ed2677`](https://github.com/sagemath/sagetrac-mirror/commit/8ed2677d73e1222c6c84e187a0772221d52946ca)** to none



---

archive/issue_comments_433590.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\n@stumpc5 Merged in 8.9.beta4, please test",
    "created_at": "2019-08-02T17:37:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27907#issuecomment-433590",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:62" align="right">comment:62</div>

@stumpc5 Merged in 8.9.beta4, please test
