# Issue 27270: spkg-configure.m4 for arb

archive/issues_027033.json:
```json
{
    "assignees": [],
    "body": "\n```\nSAGE_SPKG_CONFIGURE([arb], [\n    AC_CHECK_HEADER(arb.h, [], [sage_spkg_install_arb=yes])\ndnl below function added in version 2.16 of arb \n    AC_SEARCH_LIBS([acb_mat_eig_simple], [arb], [break], [sage_spkg_install_arb=yes])\n```\n\nwe also take care of non-standard naming of arb's dylib here.\n\nconfigure tarball http://users.ox.ac.uk/~coml0531/sage/configure-b5de8991395bbf58e663e69d6250de656897c4e2.tar.gz\n\nCC:  @embray @jdemeyer @tobihan @kiwifb\n\nKeywords: **spkg-configure**\n\nBranch: **[29d4ce2](https://github.com/sagemath/sagetrac-mirror/commit/29d4ce2b95a7a721afc22db4633995c4a93d7f31)**\n\nUpstream: **Reported upstream. No feedback yet.**\n\nReviewer: **Fran\u00e7ois Bissey, Isuru Fernando**\n\nAuthor: **Dima Pasechnik, Isuru Fernando**\n\nComponent: **build**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/27270_\n\n",
    "closed_at": "2019-07-26T20:27:32Z",
    "created_at": "2019-02-13T09:26:16Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "spkg-configure.m4 for arb",
    "type": "issue",
    "updated_at": "2020-02-06T23:02:03Z",
    "url": "https://github.com/sagemath/sage/issues/27270",
    "user": "https://github.com/dimpase"
}
```

```
SAGE_SPKG_CONFIGURE([arb], [
    AC_CHECK_HEADER(arb.h, [], [sage_spkg_install_arb=yes])
dnl below function added in version 2.16 of arb 
    AC_SEARCH_LIBS([acb_mat_eig_simple], [arb], [break], [sage_spkg_install_arb=yes])
```

we also take care of non-standard naming of arb's dylib here.

configure tarball http://users.ox.ac.uk/~coml0531/sage/configure-b5de8991395bbf58e663e69d6250de656897c4e2.tar.gz

CC:  @embray @jdemeyer @tobihan @kiwifb

Keywords: **spkg-configure**

Branch: **[29d4ce2](https://github.com/sagemath/sagetrac-mirror/commit/29d4ce2b95a7a721afc22db4633995c4a93d7f31)**

Upstream: **Reported upstream. No feedback yet.**

Reviewer: **François Bissey, Isuru Fernando**

Author: **Dima Pasechnik, Isuru Fernando**

Component: **build**

_Issue created by migration from https://trac.sagemath.org/ticket/27270_





---

archive/issue_events_374694.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-02-13T09:26:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27270#event-374694"
}
```



---

archive/issue_events_374695.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-02-13T09:26:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "000080",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27270#event-374695"
}
```



---

archive/issue_events_374696.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-02-13T09:26:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27270#event-374696"
}
```



---

archive/issue_events_374697.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-02-13T09:26:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27270#event-374697"
}
```



---

archive/issue_comments_421515.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,7 @@\n \n+```\n+SAGE_SPKG_CONFIGURE([arb], [\n+    AC_CHECK_HEADER(arb.h, [], [sage_spkg_install_arb=yes])\n+dnl below function added in version 2.16 of arb \n+    AC_SEARCH_LIBS([acb_mat_eig_simple], [arb], [break], [sage_spkg_install_arb=yes])\n+```\n``````\n",
    "created_at": "2019-02-13T09:32:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421515",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,7 @@
 
+```
+SAGE_SPKG_CONFIGURE([arb], [
+    AC_CHECK_HEADER(arb.h, [], [sage_spkg_install_arb=yes])
+dnl below function added in version 2.16 of arb 
+    AC_SEARCH_LIBS([acb_mat_eig_simple], [arb], [break], [sage_spkg_install_arb=yes])
+```
``````




---

archive/issue_comments_421516.json:
```json
{
    "body": "Dependencies: **#27264**",
    "created_at": "2019-02-13T09:36:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421516",
    "user": "https://github.com/dimpase"
}
```

Dependencies: **#27264**



---

archive/issue_comments_421517.json:
```json
{
    "body": "Commit: **[46b529e](https://github.com/sagemath/sagetrac-mirror/commit/46b529e44617eaa4873c32f77254018cf54f5f96)**",
    "created_at": "2019-03-21T15:54:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421517",
    "user": "https://github.com/dimpase"
}
```

Commit: **[46b529e](https://github.com/sagemath/sagetrac-mirror/commit/46b529e44617eaa4873c32f77254018cf54f5f96)**



---

archive/issue_comments_421518.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nthis does not implement `--with-arb=...`, as I hope it's not needed.\nAnd no other packages have `--with-arb=`, too.\n\n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/50aebab7b824b81166ce4652f928d15b72556e94\">50aebab</a></td><td><code>implement --with-mpfr=system/install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0fc433fe48e870db409d0ea8035ff064b25bcf61\">0fc433f</a></td><td><code>update for Sage 8.7.rc0, a typo fix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38427e143231467adce659ba5673b1aae2fd78c3\">38427e1</a></td><td><code>spkg-configure for mpc, adjustments for its dependees</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec32471860d4d5721c978c6aca4802d563904b6e\">ec32471</a></td><td><code>Merge branch 'u/dimpase/packages/mpc-config' of trac.sagemath.org:sage into mpf</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/91f423fab339a3279897149b323d26f20833b843\">91f423f</a></td><td><code>rebase, deal with --with-mpc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/33edfa8d7fae77885dec9d3419567f63a84ed281\">33edfa8</a></td><td><code>Merge branch 'mpf' into flintconf - no spkg-configure yet</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82772d7ba1e8a13311ba7b09ae50e36a2fb4356a\">82772d7</a></td><td><code>spkg-configure for flint</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/24f17d542915665f9e1c6a9207ac02f886c42e98\">24f17d5</a></td><td><code>testi for GC enabled</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c1ac4f285130c058e97ca199b5b95f28c17ac52d\">c1ac4f2</a></td><td><code>proper nesting of tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/46b529e44617eaa4873c32f77254018cf54f5f96\">46b529e</a></td><td><code>spkg-configure for arb</code></td></tr></table>\n",
    "created_at": "2019-03-21T15:54:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421518",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:3" align="right">comment:3</div>

this does not implement `--with-arb=...`, as I hope it's not needed.
And no other packages have `--with-arb=`, too.

---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/50aebab7b824b81166ce4652f928d15b72556e94">50aebab</a></td><td><code>implement --with-mpfr=system/install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0fc433fe48e870db409d0ea8035ff064b25bcf61">0fc433f</a></td><td><code>update for Sage 8.7.rc0, a typo fix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38427e143231467adce659ba5673b1aae2fd78c3">38427e1</a></td><td><code>spkg-configure for mpc, adjustments for its dependees</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec32471860d4d5721c978c6aca4802d563904b6e">ec32471</a></td><td><code>Merge branch 'u/dimpase/packages/mpc-config' of trac.sagemath.org:sage into mpf</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/91f423fab339a3279897149b323d26f20833b843">91f423f</a></td><td><code>rebase, deal with --with-mpc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/33edfa8d7fae77885dec9d3419567f63a84ed281">33edfa8</a></td><td><code>Merge branch 'mpf' into flintconf - no spkg-configure yet</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82772d7ba1e8a13311ba7b09ae50e36a2fb4356a">82772d7</a></td><td><code>spkg-configure for flint</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/24f17d542915665f9e1c6a9207ac02f886c42e98">24f17d5</a></td><td><code>testi for GC enabled</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c1ac4f285130c058e97ca199b5b95f28c17ac52d">c1ac4f2</a></td><td><code>proper nesting of tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/46b529e44617eaa4873c32f77254018cf54f5f96">46b529e</a></td><td><code>spkg-configure for arb</code></td></tr></table>




---

archive/issue_comments_421519.json:
```json
{
    "body": "Branch: **[u/dimpase/packages/arbconfig](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/arbconfig)**",
    "created_at": "2019-03-21T15:54:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421519",
    "user": "https://github.com/dimpase"
}
```

Branch: **[u/dimpase/packages/arbconfig](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/arbconfig)**



---

archive/issue_events_374698.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-03-21T15:54:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27270#event-374698"
}
```



---

archive/issue_comments_421520.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nTests pass, apart from this amusing doctest failure:\n\n```\nFile \"src/sage/misc/package.py\", line 282, in sage.misc.package.installed_packages\nFailed example:\n    installed_packages()\nExpected:\n    {...'arb': ...'pynac': ...}\nGot:\n    {'.dummy': '',\n     'alabaster': '0.7.12',\n     'appnope': '0.1.0.p0',\n...\n```\n\nLess amusing is that with arb manually installed to /usr/local on Gentoo Linux, I get a import error upon Sage startup, from deep inside sagelib.\n\nI have to start Sage as `LD_LIBRARY_PATH=/usr/local/lib64 ./sage`, otherwise\nI get \n\n```\nImportError: libarb.so.2: cannot open shared object file: No such file or directory\n```\nI do have `/usr/local/lib64` in `/etc/ld.so.conf`, by the way.\nDoes this mean we need do jump through some linking hoops here?\n\nI certainly can add a proper runtime test in `spkg-configure.m4`, but why?",
    "created_at": "2019-03-21T22:25:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421520",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:4" align="right">comment:4</div>

Tests pass, apart from this amusing doctest failure:

```
File "src/sage/misc/package.py", line 282, in sage.misc.package.installed_packages
Failed example:
    installed_packages()
Expected:
    {...'arb': ...'pynac': ...}
Got:
    {'.dummy': '',
     'alabaster': '0.7.12',
     'appnope': '0.1.0.p0',
...
```

Less amusing is that with arb manually installed to /usr/local on Gentoo Linux, I get a import error upon Sage startup, from deep inside sagelib.

I have to start Sage as `LD_LIBRARY_PATH=/usr/local/lib64 ./sage`, otherwise
I get 

```
ImportError: libarb.so.2: cannot open shared object file: No such file or directory
```
I do have `/usr/local/lib64` in `/etc/ld.so.conf`, by the way.
Does this mean we need do jump through some linking hoops here?

I certainly can add a proper runtime test in `spkg-configure.m4`, but why?



---

archive/issue_comments_421521.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@dimpase](#comment:4):\n\n> \n> Less amusing is that with arb manually installed to /usr/local on Gentoo Linux, I get a import error upon Sage startup, from deep inside sagelib.\n\noops, my fault. Forgot to run ldconfig after the installation.\n(maybe arb should do it for you, cf. https://github.com/fredrik-johansson/arb/issues/273).",
    "created_at": "2019-03-22T09:02:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421521",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@dimpase](#comment:4):

> 
> Less amusing is that with arb manually installed to /usr/local on Gentoo Linux, I get a import error upon Sage startup, from deep inside sagelib.

oops, my fault. Forgot to run ldconfig after the installation.
(maybe arb should do it for you, cf. https://github.com/fredrik-johansson/arb/issues/273).



---

archive/issue_comments_421522.json:
```json
{
    "body": "Changed commit from **[46b529e](https://github.com/sagemath/sagetrac-mirror/commit/46b529e44617eaa4873c32f77254018cf54f5f96)** to **[961886d](https://github.com/sagemath/sagetrac-mirror/commit/961886d503232cdfe1a99472b72529dbdd00fb27)**",
    "created_at": "2019-03-22T09:30:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421522",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[46b529e](https://github.com/sagemath/sagetrac-mirror/commit/46b529e44617eaa4873c32f77254018cf54f5f96)** to **[961886d](https://github.com/sagemath/sagetrac-mirror/commit/961886d503232cdfe1a99472b72529dbdd00fb27)**



---

archive/issue_comments_421523.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/961886d503232cdfe1a99472b72529dbdd00fb27\">961886d</a></td><td><code>arb can be dummy, don't mention it in packages doctest</code></td></tr></table>\n",
    "created_at": "2019-03-22T09:30:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421523",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/961886d503232cdfe1a99472b72529dbdd00fb27">961886d</a></td><td><code>arb can be dummy, don't mention it in packages doctest</code></td></tr></table>




---

archive/issue_comments_421524.json:
```json
{
    "body": "Upstream: **Reported upstream. No feedback yet.**",
    "created_at": "2019-03-22T09:32:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421524",
    "user": "https://github.com/dimpase"
}
```

Upstream: **Reported upstream. No feedback yet.**



---

archive/issue_comments_421525.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nupstream report not directly relevant to this ticket, bit OK.",
    "created_at": "2019-03-22T09:32:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421525",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:7" align="right">comment:7</div>

upstream report not directly relevant to this ticket, bit OK.



---

archive/issue_comments_421526.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nTicket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421526",
    "user": "https://github.com/embray"
}
```

<div id="comment:8" align="right">comment:8</div>

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_events_374699.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27270#event-374699"
}
```



---

archive/issue_events_374700.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27270#event-374700"
}
```



---

archive/issue_comments_421527.json:
```json
{
    "body": "Changed commit from **[961886d](https://github.com/sagemath/sagetrac-mirror/commit/961886d503232cdfe1a99472b72529dbdd00fb27)** to **[7a9c768](https://github.com/sagemath/sagetrac-mirror/commit/7a9c76847329f746f1b784a2b660679be81f1575)**",
    "created_at": "2019-04-01T13:28:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421527",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[961886d](https://github.com/sagemath/sagetrac-mirror/commit/961886d503232cdfe1a99472b72529dbdd00fb27)** to **[7a9c768](https://github.com/sagemath/sagetrac-mirror/commit/7a9c76847329f746f1b784a2b660679be81f1575)**



---

archive/issue_comments_421528.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a9c76847329f746f1b784a2b660679be81f1575\">7a9c768</a></td><td><code>typo in parameter</code></td></tr></table>\n",
    "created_at": "2019-04-01T13:28:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421528",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a9c76847329f746f1b784a2b660679be81f1575">7a9c768</a></td><td><code>typo in parameter</code></td></tr></table>




---

archive/issue_comments_421529.json:
```json
{
    "body": "Changed commit from **[7a9c768](https://github.com/sagemath/sagetrac-mirror/commit/7a9c76847329f746f1b784a2b660679be81f1575)** to **[1ed5dbb](https://github.com/sagemath/sagetrac-mirror/commit/1ed5dbbe84f0daa203d220e69c0af10662b8810c)**",
    "created_at": "2019-04-30T22:01:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421529",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7a9c768](https://github.com/sagemath/sagetrac-mirror/commit/7a9c76847329f746f1b784a2b660679be81f1575)** to **[1ed5dbb](https://github.com/sagemath/sagetrac-mirror/commit/1ed5dbbe84f0daa203d220e69c0af10662b8810c)**



---

archive/issue_comments_421530.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1357bef819a9ac0a0672aee875e388c66b2a198c\">1357bef</a></td><td><code>implement --with-mpfr=system/install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7d04e79d7d21a953e484a0c19f96538b530bb76\">e7d04e7</a></td><td><code>spkg-configure for mpc, adjustments for its dependees</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fb3aec751c1ebad8b5562ee3bd4f532a6ab000a5\">fb3aec7</a></td><td><code>rebase, deal with --with-mpc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/30b85f782c177ec8619f47714fe2710943db4490\">30b85f7</a></td><td><code>spkg-configure for flint</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e17167eb398c30c2f1c6d42f7834f1ed3e8362cb\">e17167e</a></td><td><code>testi for GC enabled</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7f3747feb83b6bef43d5cf62d17f38b28b616f1\">d7f3747</a></td><td><code>proper nesting of tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/88209e0d5519bff2458088760509ee56e798519c\">88209e0</a></td><td><code>typo in parameter</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/329b835b380970e680d702eae3739e8ab1c17b7f\">329b835</a></td><td><code>rebase, deal with --with-mpc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/447ab2d0054cd541713010ef9da82e449cebfcbe\">447ab2d</a></td><td><code>spkg-configure for arb</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ed5dbbe84f0daa203d220e69c0af10662b8810c\">1ed5dbb</a></td><td><code>arb can be dummy, don't mention it in packages doctest</code></td></tr></table>\n",
    "created_at": "2019-04-30T22:01:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421530",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1357bef819a9ac0a0672aee875e388c66b2a198c">1357bef</a></td><td><code>implement --with-mpfr=system/install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7d04e79d7d21a953e484a0c19f96538b530bb76">e7d04e7</a></td><td><code>spkg-configure for mpc, adjustments for its dependees</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fb3aec751c1ebad8b5562ee3bd4f532a6ab000a5">fb3aec7</a></td><td><code>rebase, deal with --with-mpc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/30b85f782c177ec8619f47714fe2710943db4490">30b85f7</a></td><td><code>spkg-configure for flint</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e17167eb398c30c2f1c6d42f7834f1ed3e8362cb">e17167e</a></td><td><code>testi for GC enabled</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7f3747feb83b6bef43d5cf62d17f38b28b616f1">d7f3747</a></td><td><code>proper nesting of tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/88209e0d5519bff2458088760509ee56e798519c">88209e0</a></td><td><code>typo in parameter</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/329b835b380970e680d702eae3739e8ab1c17b7f">329b835</a></td><td><code>rebase, deal with --with-mpc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/447ab2d0054cd541713010ef9da82e449cebfcbe">447ab2d</a></td><td><code>spkg-configure for arb</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ed5dbbe84f0daa203d220e69c0af10662b8810c">1ed5dbb</a></td><td><code>arb can be dummy, don't mention it in packages doctest</code></td></tr></table>




---

archive/issue_comments_421531.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nOK, so this branch has mpfr (#27258)\nmpc (#27259)\nntl (#27265)\nflint (#27264) and, naturally, \narb. Would be great to have it all reviewed in one go...",
    "created_at": "2019-04-30T22:04:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421531",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:11" align="right">comment:11</div>

OK, so this branch has mpfr (#27258)
mpc (#27259)
ntl (#27265)
flint (#27264) and, naturally, 
arb. Would be great to have it all reviewed in one go...



---

archive/issue_comments_421532.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c09667d92605952c0976eab66bff0c8e29def116\">c09667d</a></td><td><code>configure bump</code></td></tr></table>\n",
    "created_at": "2019-04-30T22:12:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421532",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c09667d92605952c0976eab66bff0c8e29def116">c09667d</a></td><td><code>configure bump</code></td></tr></table>




---

archive/issue_comments_421533.json:
```json
{
    "body": "Changed commit from **[1ed5dbb](https://github.com/sagemath/sagetrac-mirror/commit/1ed5dbbe84f0daa203d220e69c0af10662b8810c)** to **[c09667d](https://github.com/sagemath/sagetrac-mirror/commit/c09667d92605952c0976eab66bff0c8e29def116)**",
    "created_at": "2019-04-30T22:12:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421533",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1ed5dbb](https://github.com/sagemath/sagetrac-mirror/commit/1ed5dbbe84f0daa203d220e69c0af10662b8810c)** to **[c09667d](https://github.com/sagemath/sagetrac-mirror/commit/c09667d92605952c0976eab66bff0c8e29def116)**



---

archive/issue_comments_421534.json:
```json
{
    "body": "Changed commit from **[c09667d](https://github.com/sagemath/sagetrac-mirror/commit/c09667d92605952c0976eab66bff0c8e29def116)** to **[a247437](https://github.com/sagemath/sagetrac-mirror/commit/a247437766304ca3932ee779db4ae22c4a843cb5)**",
    "created_at": "2019-04-30T22:58:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421534",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c09667d](https://github.com/sagemath/sagetrac-mirror/commit/c09667d92605952c0976eab66bff0c8e29def116)** to **[a247437](https://github.com/sagemath/sagetrac-mirror/commit/a247437766304ca3932ee779db4ae22c4a843cb5)**



---

archive/issue_comments_421535.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nAttachment: **[configure-320.tar.gz](https://github.com/sagemath/sage/files/ticket27270/configure-320.tar.gz)**\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a867838cf39019f4769133d9b66d4dc5540fe3a3\">a867838</a></td><td><code>typo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4e777831c8bb88397c5d3ccc4e3c674f8e931da\">c4e7778</a></td><td><code>rebase, deal with --with-mpc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cd15ac108f140318a063f778ccb0606157b73dd9\">cd15ac1</a></td><td><code>spkg-configure for arb</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/07276c8cdad9ad78db6360e556c18da18c7d4804\">07276c8</a></td><td><code>arb can be dummy, don't mention it in packages doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a247437766304ca3932ee779db4ae22c4a843cb5\">a247437</a></td><td><code>configure bump</code></td></tr></table>\n",
    "created_at": "2019-04-30T22:58:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421535",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13" align="right">comment:13</div>

Attachment: **[configure-320.tar.gz](https://github.com/sagemath/sage/files/ticket27270/configure-320.tar.gz)**

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a867838cf39019f4769133d9b66d4dc5540fe3a3">a867838</a></td><td><code>typo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4e777831c8bb88397c5d3ccc4e3c674f8e931da">c4e7778</a></td><td><code>rebase, deal with --with-mpc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cd15ac108f140318a063f778ccb0606157b73dd9">cd15ac1</a></td><td><code>spkg-configure for arb</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/07276c8cdad9ad78db6360e556c18da18c7d4804">07276c8</a></td><td><code>arb can be dummy, don't mention it in packages doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a247437766304ca3932ee779db4ae22c4a843cb5">a247437</a></td><td><code>configure bump</code></td></tr></table>




---

archive/issue_comments_421536.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0392e76d58c7eeafb54b245f8a97cc53f938d526\">0392e76</a></td><td><code>rebase, deal with --with-mpc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/73ce2a9583c1ce34ba4e3439a380a71855c586e6\">73ce2a9</a></td><td><code>spkg-configure for flint</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37fa1a1b67e2466d71023b14d517cc950fcbaeb0\">37fa1a1</a></td><td><code>testi for GC enabled</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4f6434c005ce15860aedad6f2c78e0db5494011c\">4f6434c</a></td><td><code>proper nesting of tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a67270683a08dcce547a1bfb25f1611f8bc4929c\">a672706</a></td><td><code>typo in parameter</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/013dfbe8efff6b72a0b8d48f7a7d44351af3f97f\">013dfbe</a></td><td><code>typo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e698ffc466e45a87012511f77cda52dc7f92b48d\">e698ffc</a></td><td><code>corrected rebase</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8fc4fb6e6229b920f1a8cf76cf780a98ef7e3389\">8fc4fb6</a></td><td><code>add dependency checks, remove unneeded `-with` handling</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ad182d3ae2326def98baf80bc68c57b79a361a7\">1ad182d</a></td><td><code>SAGE_CONFIGURE_MPFR, fix sage-env-config.in, arb can be dummy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9de7419573417e1074b419fd966754a40e072503\">9de7419</a></td><td><code>added dependency check</code></td></tr></table>\n",
    "created_at": "2019-05-21T16:37:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421536",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0392e76d58c7eeafb54b245f8a97cc53f938d526">0392e76</a></td><td><code>rebase, deal with --with-mpc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/73ce2a9583c1ce34ba4e3439a380a71855c586e6">73ce2a9</a></td><td><code>spkg-configure for flint</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37fa1a1b67e2466d71023b14d517cc950fcbaeb0">37fa1a1</a></td><td><code>testi for GC enabled</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4f6434c005ce15860aedad6f2c78e0db5494011c">4f6434c</a></td><td><code>proper nesting of tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a67270683a08dcce547a1bfb25f1611f8bc4929c">a672706</a></td><td><code>typo in parameter</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/013dfbe8efff6b72a0b8d48f7a7d44351af3f97f">013dfbe</a></td><td><code>typo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e698ffc466e45a87012511f77cda52dc7f92b48d">e698ffc</a></td><td><code>corrected rebase</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8fc4fb6e6229b920f1a8cf76cf780a98ef7e3389">8fc4fb6</a></td><td><code>add dependency checks, remove unneeded `-with` handling</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ad182d3ae2326def98baf80bc68c57b79a361a7">1ad182d</a></td><td><code>SAGE_CONFIGURE_MPFR, fix sage-env-config.in, arb can be dummy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9de7419573417e1074b419fd966754a40e072503">9de7419</a></td><td><code>added dependency check</code></td></tr></table>




---

archive/issue_comments_421537.json:
```json
{
    "body": "Changed commit from **[a247437](https://github.com/sagemath/sagetrac-mirror/commit/a247437766304ca3932ee779db4ae22c4a843cb5)** to **[9de7419](https://github.com/sagemath/sagetrac-mirror/commit/9de7419573417e1074b419fd966754a40e072503)**",
    "created_at": "2019-05-21T16:37:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421537",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a247437](https://github.com/sagemath/sagetrac-mirror/commit/a247437766304ca3932ee779db4ae22c4a843cb5)** to **[9de7419](https://github.com/sagemath/sagetrac-mirror/commit/9de7419573417e1074b419fd966754a40e072503)**



---

archive/issue_comments_421538.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nrebased over #27264, added dependency check",
    "created_at": "2019-05-21T16:38:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421538",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:15" align="right">comment:15</div>

rebased over #27264, added dependency check



---

archive/issue_comments_421539.json:
```json
{
    "body": "Changed commit from **[9de7419](https://github.com/sagemath/sagetrac-mirror/commit/9de7419573417e1074b419fd966754a40e072503)** to **[483233b](https://github.com/sagemath/sagetrac-mirror/commit/483233b26149276d13a3b6149bec98a5a007756c)**",
    "created_at": "2019-06-04T11:38:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421539",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9de7419](https://github.com/sagemath/sagetrac-mirror/commit/9de7419573417e1074b419fd966754a40e072503)** to **[483233b](https://github.com/sagemath/sagetrac-mirror/commit/483233b26149276d13a3b6149bec98a5a007756c)**



---

archive/issue_comments_421540.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d23d9dba15dbad6abc50e5d59fb7ab7ee7a3a495\">d23d9db</a></td><td><code>add SAGE_CONFIGURE_MPFR, fix sage-env-config.in</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4222018be46bc710f1c085b1f4389a70702853e9\">4222018</a></td><td><code>testi for GC enabled</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/02dd62477ca810e18214e558a7568bed82bfb4cd\">02dd624</a></td><td><code>proper nesting of tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4fb6a738bfd02deda66aa551d8d11da3540b1479\">4fb6a73</a></td><td><code>SAGE_CONFIGURE_MPFR, fix sage-env-config.in, arb can be dummy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/483233b26149276d13a3b6149bec98a5a007756c\">483233b</a></td><td><code>added dependency check</code></td></tr></table>\n",
    "created_at": "2019-06-04T11:38:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421540",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d23d9dba15dbad6abc50e5d59fb7ab7ee7a3a495">d23d9db</a></td><td><code>add SAGE_CONFIGURE_MPFR, fix sage-env-config.in</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4222018be46bc710f1c085b1f4389a70702853e9">4222018</a></td><td><code>testi for GC enabled</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/02dd62477ca810e18214e558a7568bed82bfb4cd">02dd624</a></td><td><code>proper nesting of tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4fb6a738bfd02deda66aa551d8d11da3540b1479">4fb6a73</a></td><td><code>SAGE_CONFIGURE_MPFR, fix sage-env-config.in, arb can be dummy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/483233b26149276d13a3b6149bec98a5a007756c">483233b</a></td><td><code>added dependency check</code></td></tr></table>




---

archive/issue_comments_421541.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,3 +5,5 @@\n dnl below function added in version 2.16 of arb \n     AC_SEARCH_LIBS([acb_mat_eig_simple], [arb], [break], [sage_spkg_install_arb=yes])\n ```\n+\n+configure tarball https://trac.sagemath.org/raw-attachment/ticket/27270/configure-323.tar.gz\n``````\n",
    "created_at": "2019-06-04T11:44:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421541",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,3 +5,5 @@
 dnl below function added in version 2.16 of arb 
     AC_SEARCH_LIBS([acb_mat_eig_simple], [arb], [break], [sage_spkg_install_arb=yes])
 ```
+
+configure tarball https://trac.sagemath.org/raw-attachment/ticket/27270/configure-323.tar.gz
``````




---

archive/issue_comments_421542.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nAttachment: **[configure-323.tar.gz](https://github.com/sagemath/sage/files/ticket27270/configure-323.tar.gz)**\n\nthis is now bundled with flint ticket. New configure tarball attached. I also squashed some commits, and rebased over 8.8.beta7",
    "created_at": "2019-06-04T11:44:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421542",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:17" align="right">comment:17</div>

Attachment: **[configure-323.tar.gz](https://github.com/sagemath/sage/files/ticket27270/configure-323.tar.gz)**

this is now bundled with flint ticket. New configure tarball attached. I also squashed some commits, and rebased over 8.8.beta7



---

archive/issue_comments_421543.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc876ed1d0d34b1ae206b0afc22a223f7a223bad\">fc876ed</a></td><td><code>configure bump</code></td></tr></table>\n",
    "created_at": "2019-06-04T11:45:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421543",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc876ed1d0d34b1ae206b0afc22a223f7a223bad">fc876ed</a></td><td><code>configure bump</code></td></tr></table>




---

archive/issue_comments_421544.json:
```json
{
    "body": "Changed commit from **[483233b](https://github.com/sagemath/sagetrac-mirror/commit/483233b26149276d13a3b6149bec98a5a007756c)** to **[fc876ed](https://github.com/sagemath/sagetrac-mirror/commit/fc876ed1d0d34b1ae206b0afc22a223f7a223bad)**",
    "created_at": "2019-06-04T11:45:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421544",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[483233b](https://github.com/sagemath/sagetrac-mirror/commit/483233b26149276d13a3b6149bec98a5a007756c)** to **[fc876ed](https://github.com/sagemath/sagetrac-mirror/commit/fc876ed1d0d34b1ae206b0afc22a223f7a223bad)**



---

archive/issue_comments_421545.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nHow come that 8.8.rc0 needs configure-323, which is here, not yet merged ??\n\n**EDIT:**\n\nAnd how can this depend on a duplicate/invalid/wontfix ticket ??",
    "created_at": "2019-06-09T18:37:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421545",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:19" align="right">comment:19</div>

How come that 8.8.rc0 needs configure-323, which is here, not yet merged ??

**EDIT:**

And how can this depend on a duplicate/invalid/wontfix ticket ??



---

archive/issue_comments_421546.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nversion numbers of these tarballs are autogenerated. they are otherwise pretty much meaningless.\n\nit is merely a bug in our release process that is needed to be workedaround, as builbots don\u2019t have autotools and cannot generate the stuff on the fly...",
    "created_at": "2019-06-09T20:27:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421546",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:20" align="right">comment:20</div>

version numbers of these tarballs are autogenerated. they are otherwise pretty much meaningless.

it is merely a bug in our release process that is needed to be workedaround, as builbots don’t have autotools and cannot generate the stuff on the fly...



---

archive/issue_comments_421547.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nNeeds a new confball. I'd suggest to merge this in 8.9.beta0 so hold the horses until 8.8 is out. \n\nYou should remove the dependency on tickets that cannot be merged, the release script will wait until the dependencies are merged which, right now, is never.",
    "created_at": "2019-06-09T20:45:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421547",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:21" align="right">comment:21</div>

Needs a new confball. I'd suggest to merge this in 8.9.beta0 so hold the horses until 8.8 is out. 

You should remove the dependency on tickets that cannot be merged, the release script will wait until the dependencies are merged which, right now, is never.



---

archive/issue_events_374701.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-06-09T20:45:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27270#event-374701"
}
```



---

archive/issue_events_374702.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-06-09T20:45:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27270#event-374702"
}
```



---

archive/issue_comments_421548.json:
```json
{
    "body": "Changed dependencies from **#27264** to none",
    "created_at": "2019-06-10T08:53:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421548",
    "user": "https://github.com/dimpase"
}
```

Changed dependencies from **#27264** to none



---

archive/issue_comments_421549.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nthe branch here bundles the work done on #27264.",
    "created_at": "2019-06-10T08:53:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421549",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:23" align="right">comment:23</div>

the branch here bundles the work done on #27264.



---

archive/issue_comments_421550.json:
```json
{
    "body": "Changed commit from **[fc876ed](https://github.com/sagemath/sagetrac-mirror/commit/fc876ed1d0d34b1ae206b0afc22a223f7a223bad)** to **[bd14dd2](https://github.com/sagemath/sagetrac-mirror/commit/bd14dd2a4552c1afa0a09b6858a7e0cd504ade17)**",
    "created_at": "2019-06-11T11:18:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421550",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[fc876ed](https://github.com/sagemath/sagetrac-mirror/commit/fc876ed1d0d34b1ae206b0afc22a223f7a223bad)** to **[bd14dd2](https://github.com/sagemath/sagetrac-mirror/commit/bd14dd2a4552c1afa0a09b6858a7e0cd504ade17)**



---

archive/issue_comments_421551.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/848279c555790604ed807cb3ee2ce421edd9f3ac\">848279c</a></td><td><code>add SAGE_CONFIGURE_MPFR, fix sage-env-config.in</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2bea28bbbe58acce91104b9b83ae86055f695d89\">2bea28b</a></td><td><code>testi for GC enabled</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b5ac981c02984a116ce0d1dfdb759c933cdfed9f\">b5ac981</a></td><td><code>proper nesting of tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f81225ac31188f30ec1a39d30820c0ca813d210e\">f81225a</a></td><td><code>SAGE_CONFIGURE_MPFR, fix sage-env-config.in, arb can be dummy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd14dd2a4552c1afa0a09b6858a7e0cd504ade17\">bd14dd2</a></td><td><code>added dependency check</code></td></tr></table>\n",
    "created_at": "2019-06-11T11:18:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421551",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/848279c555790604ed807cb3ee2ce421edd9f3ac">848279c</a></td><td><code>add SAGE_CONFIGURE_MPFR, fix sage-env-config.in</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2bea28bbbe58acce91104b9b83ae86055f695d89">2bea28b</a></td><td><code>testi for GC enabled</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b5ac981c02984a116ce0d1dfdb759c933cdfed9f">b5ac981</a></td><td><code>proper nesting of tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f81225ac31188f30ec1a39d30820c0ca813d210e">f81225a</a></td><td><code>SAGE_CONFIGURE_MPFR, fix sage-env-config.in, arb can be dummy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd14dd2a4552c1afa0a09b6858a7e0cd504ade17">bd14dd2</a></td><td><code>added dependency check</code></td></tr></table>




---

archive/issue_comments_421552.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nrebased over 8.8.rc0 (without configure bump, for the time being)",
    "created_at": "2019-06-11T11:19:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421552",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:25" align="right">comment:25</div>

rebased over 8.8.rc0 (without configure bump, for the time being)



---

archive/issue_events_374703.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:50:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27270#event-374703"
}
```



---

archive/issue_events_374704.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:50:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27270#event-374704"
}
```



---

archive/issue_comments_421553.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nTickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).",
    "created_at": "2019-06-14T14:50:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421553",
    "user": "https://github.com/embray"
}
```

<div id="comment:26" align="right">comment:26</div>

Tickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).



---

archive/issue_comments_421554.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@vbraun](#comment:21):\n> Needs a new confball. I'd suggest to merge this in 8.9.beta0 so hold the horses until 8.8 is out. \n\nWould you like to get #27978 first?",
    "created_at": "2019-06-16T11:56:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421554",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@vbraun](#comment:21):
> Needs a new confball. I'd suggest to merge this in 8.9.beta0 so hold the horses until 8.8 is out. 

Would you like to get #27978 first?



---

archive/issue_comments_421555.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d91e84ae2dbe03b16ff8e4cd04defb7427d02da1\">d91e84a</a></td><td><code>add SAGE_CONFIGURE_MPFR, fix sage-env-config.in</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f7b77df0ee602304827c33079c68155e0a128bd9\">f7b77df</a></td><td><code>testi for GC enabled</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/22100a43216dc0618014e2762c8efbc3ae5eb06c\">22100a4</a></td><td><code>proper nesting of tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f7826c48d673266e56b3e697814851c3fa2fba84\">f7826c4</a></td><td><code>SAGE_CONFIGURE_MPFR, fix sage-env-config.in, arb can be dummy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5cd4aac44e1f220197bf275fd4f31f18caee651b\">5cd4aac</a></td><td><code>added dependency check</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8d1a64795b1e69d521250c7dd4901214772372e0\">8d1a647</a></td><td><code>configure bump</code></td></tr></table>\n",
    "created_at": "2019-06-29T08:05:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421555",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d91e84ae2dbe03b16ff8e4cd04defb7427d02da1">d91e84a</a></td><td><code>add SAGE_CONFIGURE_MPFR, fix sage-env-config.in</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f7b77df0ee602304827c33079c68155e0a128bd9">f7b77df</a></td><td><code>testi for GC enabled</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/22100a43216dc0618014e2762c8efbc3ae5eb06c">22100a4</a></td><td><code>proper nesting of tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f7826c48d673266e56b3e697814851c3fa2fba84">f7826c4</a></td><td><code>SAGE_CONFIGURE_MPFR, fix sage-env-config.in, arb can be dummy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5cd4aac44e1f220197bf275fd4f31f18caee651b">5cd4aac</a></td><td><code>added dependency check</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8d1a64795b1e69d521250c7dd4901214772372e0">8d1a647</a></td><td><code>configure bump</code></td></tr></table>




---

archive/issue_comments_421556.json:
```json
{
    "body": "Changed commit from **[bd14dd2](https://github.com/sagemath/sagetrac-mirror/commit/bd14dd2a4552c1afa0a09b6858a7e0cd504ade17)** to **[8d1a647](https://github.com/sagemath/sagetrac-mirror/commit/8d1a64795b1e69d521250c7dd4901214772372e0)**",
    "created_at": "2019-06-29T08:05:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421556",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[bd14dd2](https://github.com/sagemath/sagetrac-mirror/commit/bd14dd2a4552c1afa0a09b6858a7e0cd504ade17)** to **[8d1a647](https://github.com/sagemath/sagetrac-mirror/commit/8d1a64795b1e69d521250c7dd4901214772372e0)**



---

archive/issue_events_374705.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-06-29T08:09:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27270#event-374705"
}
```



---

archive/issue_events_374706.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-06-29T08:09:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27270#event-374706"
}
```



---

archive/issue_comments_421557.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,4 +6,4 @@\n     AC_SEARCH_LIBS([acb_mat_eig_simple], [arb], [break], [sage_spkg_install_arb=yes])\n ```\n \n-configure tarball https://trac.sagemath.org/raw-attachment/ticket/27270/configure-323.tar.gz\n+configure tarball http://users.ox.ac.uk/~coml0531/sage/configure-328.tar.gz\n``````\n",
    "created_at": "2019-06-29T08:09:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421557",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,4 +6,4 @@
     AC_SEARCH_LIBS([acb_mat_eig_simple], [arb], [break], [sage_spkg_install_arb=yes])
 ```
 
-configure tarball https://trac.sagemath.org/raw-attachment/ticket/27270/configure-323.tar.gz
+configure tarball http://users.ox.ac.uk/~coml0531/sage/configure-328.tar.gz
``````




---

archive/issue_comments_421558.json:
```json
{
    "body": "Changed commit from **[8d1a647](https://github.com/sagemath/sagetrac-mirror/commit/8d1a64795b1e69d521250c7dd4901214772372e0)** to **[45cb1e4](https://github.com/sagemath/sagetrac-mirror/commit/45cb1e46fe6929a6760e1ed96277301a36ffa084)**",
    "created_at": "2019-07-03T15:23:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421558",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8d1a647](https://github.com/sagemath/sagetrac-mirror/commit/8d1a64795b1e69d521250c7dd4901214772372e0)** to **[45cb1e4](https://github.com/sagemath/sagetrac-mirror/commit/45cb1e46fe6929a6760e1ed96277301a36ffa084)**



---

archive/issue_comments_421559.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d0cdca7640e1b47de56949b95307530a54e155fc\">d0cdca7</a></td><td><code>add SAGE_CONFIGURE_MPFR, fix sage-env-config.in</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/370e48192562a7882dca8304d732f94c2aa0c18e\">370e481</a></td><td><code>testi for GC enabled</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/032620df1f401d9cd63c6a1c342dc62ac159d2f8\">032620d</a></td><td><code>proper nesting of tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e6b3d53506a07dc2fad6df5d43b0503db08f6d9f\">e6b3d53</a></td><td><code>SAGE_CONFIGURE_MPFR, fix sage-env-config.in, arb can be dummy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/13235f9997462c2349a452f2dfb6b2097deb7d56\">13235f9</a></td><td><code>added dependency check</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45cb1e46fe6929a6760e1ed96277301a36ffa084\">45cb1e4</a></td><td><code>configure version bump</code></td></tr></table>\n",
    "created_at": "2019-07-03T15:23:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421559",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d0cdca7640e1b47de56949b95307530a54e155fc">d0cdca7</a></td><td><code>add SAGE_CONFIGURE_MPFR, fix sage-env-config.in</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/370e48192562a7882dca8304d732f94c2aa0c18e">370e481</a></td><td><code>testi for GC enabled</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/032620df1f401d9cd63c6a1c342dc62ac159d2f8">032620d</a></td><td><code>proper nesting of tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e6b3d53506a07dc2fad6df5d43b0503db08f6d9f">e6b3d53</a></td><td><code>SAGE_CONFIGURE_MPFR, fix sage-env-config.in, arb can be dummy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/13235f9997462c2349a452f2dfb6b2097deb7d56">13235f9</a></td><td><code>added dependency check</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45cb1e46fe6929a6760e1ed96277301a36ffa084">45cb1e4</a></td><td><code>configure version bump</code></td></tr></table>




---

archive/issue_comments_421560.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,4 +6,5 @@\n     AC_SEARCH_LIBS([acb_mat_eig_simple], [arb], [break], [sage_spkg_install_arb=yes])\n ```\n \n-configure tarball http://users.ox.ac.uk/~coml0531/sage/configure-328.tar.gz\n+configure tarball \n+http://users.ox.ac.uk/~coml0531/sage/configure-13235f9997462c2349a452f2dfb6b2097deb7d56.tar.gz\n``````\n",
    "created_at": "2019-07-03T15:26:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421560",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,4 +6,5 @@
     AC_SEARCH_LIBS([acb_mat_eig_simple], [arb], [break], [sage_spkg_install_arb=yes])
 ```
 
-configure tarball http://users.ox.ac.uk/~coml0531/sage/configure-328.tar.gz
+configure tarball 
+http://users.ox.ac.uk/~coml0531/sage/configure-13235f9997462c2349a452f2dfb6b2097deb7d56.tar.gz
``````




---

archive/issue_comments_421561.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nnow rebased over 8.9.beta1, using sha1-based configure tarball\n\nPlease test!",
    "created_at": "2019-07-03T15:26:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421561",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:31" align="right">comment:31</div>

now rebased over 8.9.beta1, using sha1-based configure tarball

Please test!



---

archive/issue_comments_421562.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/46f2ba971a97c708a462d1a6f51a6d448493a928\">46f2ba9</a></td><td><code>add SAGE_CONFIGURE_MPFR, fix sage-env-config.in</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/456ad0410795bc4eaaa4ff183770e04071b76cda\">456ad04</a></td><td><code>testi for GC enabled</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52c3ae44a9b1ba12e3c19bb00a36c7f4120721bc\">52c3ae4</a></td><td><code>proper nesting of tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37d2d127faae3a49c56fc6e4e245bcefe8224c0a\">37d2d12</a></td><td><code>SAGE_CONFIGURE_MPFR, fix sage-env-config.in, arb can be dummy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f53bebd44d9856d1ba14ff009dacfda06761daf\">1f53beb</a></td><td><code>added dependency check</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/32f294b356104ff055f168786dc6fb4adcda706b\">32f294b</a></td><td><code>sage should be called with ./ in bootstrap</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c75885143bb6f5a6d34bb35cc82695e63adb3d46\">c758851</a></td><td><code>Debian names the arb library differently</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/54d45ba31e6d669ec33a80fefc6be20ad40d9f21\">54d45ba</a></td><td><code>mention flint and arb (and one more forgotten package) for debian</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/605260c4c5000d3fd793787f114abdc8e59ad870\">605260c</a></td><td><code>configure version bump</code></td></tr></table>\n",
    "created_at": "2019-07-11T06:14:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421562",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/46f2ba971a97c708a462d1a6f51a6d448493a928">46f2ba9</a></td><td><code>add SAGE_CONFIGURE_MPFR, fix sage-env-config.in</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/456ad0410795bc4eaaa4ff183770e04071b76cda">456ad04</a></td><td><code>testi for GC enabled</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52c3ae44a9b1ba12e3c19bb00a36c7f4120721bc">52c3ae4</a></td><td><code>proper nesting of tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37d2d127faae3a49c56fc6e4e245bcefe8224c0a">37d2d12</a></td><td><code>SAGE_CONFIGURE_MPFR, fix sage-env-config.in, arb can be dummy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f53bebd44d9856d1ba14ff009dacfda06761daf">1f53beb</a></td><td><code>added dependency check</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/32f294b356104ff055f168786dc6fb4adcda706b">32f294b</a></td><td><code>sage should be called with ./ in bootstrap</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c75885143bb6f5a6d34bb35cc82695e63adb3d46">c758851</a></td><td><code>Debian names the arb library differently</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/54d45ba31e6d669ec33a80fefc6be20ad40d9f21">54d45ba</a></td><td><code>mention flint and arb (and one more forgotten package) for debian</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/605260c4c5000d3fd793787f114abdc8e59ad870">605260c</a></td><td><code>configure version bump</code></td></tr></table>




---

archive/issue_comments_421563.json:
```json
{
    "body": "Changed commit from **[45cb1e4](https://github.com/sagemath/sagetrac-mirror/commit/45cb1e46fe6929a6760e1ed96277301a36ffa084)** to **[605260c](https://github.com/sagemath/sagetrac-mirror/commit/605260c4c5000d3fd793787f114abdc8e59ad870)**",
    "created_at": "2019-07-11T06:14:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421563",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[45cb1e4](https://github.com/sagemath/sagetrac-mirror/commit/45cb1e46fe6929a6760e1ed96277301a36ffa084)** to **[605260c](https://github.com/sagemath/sagetrac-mirror/commit/605260c4c5000d3fd793787f114abdc8e59ad870)**



---

archive/issue_comments_421564.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nrebased, config bump, added another name for the arb library (in Debian), mention it and flint in docs",
    "created_at": "2019-07-11T06:17:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421564",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:33" align="right">comment:33</div>

rebased, config bump, added another name for the arb library (in Debian), mention it and flint in docs



---

archive/issue_comments_421565.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,4 +7,4 @@\n ```\n \n configure tarball \n-http://users.ox.ac.uk/~coml0531/sage/configure-13235f9997462c2349a452f2dfb6b2097deb7d56.tar.gz\n+http://users.ox.ac.uk/~coml0531/sage/configure-54d45ba31e6d669ec33a80fefc6be20ad40d9f21.tar.gz\n``````\n",
    "created_at": "2019-07-11T06:17:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421565",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,4 +7,4 @@
 ```
 
 configure tarball 
-http://users.ox.ac.uk/~coml0531/sage/configure-13235f9997462c2349a452f2dfb6b2097deb7d56.tar.gz
+http://users.ox.ac.uk/~coml0531/sage/configure-54d45ba31e6d669ec33a80fefc6be20ad40d9f21.tar.gz
``````




---

archive/issue_comments_421566.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nwith the latest branch on Debian buster, building `sage/libs/arb/arith.so` against system's arb (so it needs `-lflint-arb` and not `-larb` breaks with a linking error (as there is no `libarb`)\n\n```\n[sagelib-8.9.beta2] gcc -pthread -shared -L/home/dimpase/sage/local/lib -Wl,-rpath,/home/dimpase/sage/local/lib -L/home/dimpase/sage/local/lib -Wl,-rpath,/home/dimpase/sage/local/lib build/temp.linux-x86_64-2.7/build/cythonized/sage/libs/arb/arith.o -L/home/dimpase/sage/local/lib -L/home/dimpase/sage/local/lib -lflint -larb -lgmp -lpython2.7 -o build/lib.linux-x86_64-2.7/sage/libs/arb/arith.so\n[sagelib-8.9.beta2] /usr/bin/ld: cannot find -larb\n```\n\nIt apparently derives `-larb` somewhere in Cython, but where, and is there a way to override it?\n\nNote that `-lflint-arb` is known to the global makefile:\n\n```\nbuild/make/Makefile-auto:LIBS = -lrw -lreadline -lmpc -lgf2x -lcurl -lbz2 -lflint-arb -lflint -lmpfr -lgmp -lm  -lntl\n```",
    "created_at": "2019-07-11T06:55:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421566",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:34" align="right">comment:34</div>

with the latest branch on Debian buster, building `sage/libs/arb/arith.so` against system's arb (so it needs `-lflint-arb` and not `-larb` breaks with a linking error (as there is no `libarb`)

```
[sagelib-8.9.beta2] gcc -pthread -shared -L/home/dimpase/sage/local/lib -Wl,-rpath,/home/dimpase/sage/local/lib -L/home/dimpase/sage/local/lib -Wl,-rpath,/home/dimpase/sage/local/lib build/temp.linux-x86_64-2.7/build/cythonized/sage/libs/arb/arith.o -L/home/dimpase/sage/local/lib -L/home/dimpase/sage/local/lib -lflint -larb -lgmp -lpython2.7 -o build/lib.linux-x86_64-2.7/sage/libs/arb/arith.so
[sagelib-8.9.beta2] /usr/bin/ld: cannot find -larb
```

It apparently derives `-larb` somewhere in Cython, but where, and is there a way to override it?

Note that `-lflint-arb` is known to the global makefile:

```
build/make/Makefile-auto:LIBS = -lrw -lreadline -lmpc -lgf2x -lcurl -lbz2 -lflint-arb -lflint -lmpfr -lgmp -lm  -lntl
```



---

archive/issue_events_374707.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-07-11T06:55:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27270#event-374707"
}
```



---

archive/issue_events_374708.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-07-11T06:55:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27270#event-374708"
}
```



---

archive/issue_comments_421567.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nI can apply\n\n```diff\n--- a/src/module_list.py\n+++ b/src/module_list.py\n@@ -79,7 +79,7 @@ library_order_list = aliases[\"SINGULAR_LIBRARIES\"] + [\n     \"ec\", \"ecm\",\n ] + aliases[\"LINBOX_LIBRARIES\"] + aliases[\"FFLASFFPACK_LIBRARIES\"] + aliases[\"GSL_LIBRARIES\"] + [\n     \"pari\", \"flint\", \"ratpoints\", \"ecl\", \"glpk\", \"ppl\",\n-    \"arb\", \"mpfi\", \"mpfr\", \"mpc\", \"gmp\", \"gmpxx\",\n+    \"flint-arb\", \"mpfi\", \"mpfr\", \"mpc\", \"gmp\", \"gmpxx\",\n     \"brial\",\n     \"brial_groebner\",\n     \"m4rie\",\n@@ -765,7 +765,7 @@ ext_modules = [\n \n     Extension(\"sage.matrix.matrix_complex_ball_dense\",\n               [\"sage/matrix/matrix_complex_ball_dense.pyx\"],\n-              libraries=['arb']),\n+              libraries=['flint-arb']),\n \n     Extension('sage.matrix.matrix_complex_double_dense',\n               sources = ['sage/matrix/matrix_complex_double_dense.pyx']),\n```\nand then it builds, but is this the correct way?",
    "created_at": "2019-07-11T09:02:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421567",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:35" align="right">comment:35</div>

I can apply

```diff
--- a/src/module_list.py
+++ b/src/module_list.py
@@ -79,7 +79,7 @@ library_order_list = aliases["SINGULAR_LIBRARIES"] + [
     "ec", "ecm",
 ] + aliases["LINBOX_LIBRARIES"] + aliases["FFLASFFPACK_LIBRARIES"] + aliases["GSL_LIBRARIES"] + [
     "pari", "flint", "ratpoints", "ecl", "glpk", "ppl",
-    "arb", "mpfi", "mpfr", "mpc", "gmp", "gmpxx",
+    "flint-arb", "mpfi", "mpfr", "mpc", "gmp", "gmpxx",
     "brial",
     "brial_groebner",
     "m4rie",
@@ -765,7 +765,7 @@ ext_modules = [
 
     Extension("sage.matrix.matrix_complex_ball_dense",
               ["sage/matrix/matrix_complex_ball_dense.pyx"],
-              libraries=['arb']),
+              libraries=['flint-arb']),
 
     Extension('sage.matrix.matrix_complex_double_dense',
               sources = ['sage/matrix/matrix_complex_double_dense.pyx']),
```
and then it builds, but is this the correct way?



---

archive/issue_comments_421568.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\noops, scratch this, this change does not help, it appears there is some divining of `-larb` by Cython(?)",
    "created_at": "2019-07-11T09:48:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421568",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:36" align="right">comment:36</div>

oops, scratch this, this change does not help, it appears there is some divining of `-larb` by Cython(?)



---

archive/issue_comments_421569.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nOK, so also some `#distutils` entries need to be modified. Debian applies\nhttps://salsa.debian.org/science-team/sagemath/blob/master/debian/patches/d0-arb.patch",
    "created_at": "2019-07-12T11:31:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421569",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:37" align="right">comment:37</div>

OK, so also some `#distutils` entries need to be modified. Debian applies
https://salsa.debian.org/science-team/sagemath/blob/master/debian/patches/d0-arb.patch



---

archive/issue_comments_421570.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/89d227c31890df899fc4531c2787fd2419759e3d\">89d227c</a></td><td><code>add the name of arb dylib to cython_aliases</code></td></tr></table>\n",
    "created_at": "2019-07-15T18:16:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421570",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/89d227c31890df899fc4531c2787fd2419759e3d">89d227c</a></td><td><code>add the name of arb dylib to cython_aliases</code></td></tr></table>




---

archive/issue_comments_421571.json:
```json
{
    "body": "Changed commit from **[605260c](https://github.com/sagemath/sagetrac-mirror/commit/605260c4c5000d3fd793787f114abdc8e59ad870)** to **[89d227c](https://github.com/sagemath/sagetrac-mirror/commit/89d227c31890df899fc4531c2787fd2419759e3d)**",
    "created_at": "2019-07-15T18:16:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421571",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[605260c](https://github.com/sagemath/sagetrac-mirror/commit/605260c4c5000d3fd793787f114abdc8e59ad870)** to **[89d227c](https://github.com/sagemath/sagetrac-mirror/commit/89d227c31890df899fc4531c2787fd2419759e3d)**



---

archive/issue_comments_421572.json:
```json
{
    "body": "Changed commit from **[89d227c](https://github.com/sagemath/sagetrac-mirror/commit/89d227c31890df899fc4531c2787fd2419759e3d)** to **[4c245ce](https://github.com/sagemath/sagetrac-mirror/commit/4c245ced57975592747387cd0c1ee16543b8bb47)**",
    "created_at": "2019-07-15T20:55:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421572",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[89d227c](https://github.com/sagemath/sagetrac-mirror/commit/89d227c31890df899fc4531c2787fd2419759e3d)** to **[4c245ce](https://github.com/sagemath/sagetrac-mirror/commit/4c245ced57975592747387cd0c1ee16543b8bb47)**



---

archive/issue_comments_421573.json:
```json
{
    "body": "<div id=\"comment:39\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd96a3818dc2ceb473983b2881d11da075e8d119\">fd96a38</a></td><td><code>use AC_CHECK_LIB() calls, as they can be nested</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4c245ced57975592747387cd0c1ee16543b8bb47\">4c245ce</a></td><td><code>configure version bump</code></td></tr></table>\n",
    "created_at": "2019-07-15T20:55:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421573",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd96a3818dc2ceb473983b2881d11da075e8d119">fd96a38</a></td><td><code>use AC_CHECK_LIB() calls, as they can be nested</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4c245ced57975592747387cd0c1ee16543b8bb47">4c245ce</a></td><td><code>configure version bump</code></td></tr></table>




---

archive/issue_events_374709.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-07-15T20:57:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27270#event-374709"
}
```



---

archive/issue_events_374710.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-07-15T20:57:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27270#event-374710"
}
```



---

archive/issue_comments_421574.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nplease review - should also work on Debian now...",
    "created_at": "2019-07-15T20:57:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421574",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:40" align="right">comment:40</div>

please review - should also work on Debian now...



---

archive/issue_comments_421575.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,5 +6,5 @@\n     AC_SEARCH_LIBS([acb_mat_eig_simple], [arb], [break], [sage_spkg_install_arb=yes])\n ```\n \n-configure tarball \n-http://users.ox.ac.uk/~coml0531/sage/configure-54d45ba31e6d669ec33a80fefc6be20ad40d9f21.tar.gz\n+configure tarball\n+http://users.ox.ac.uk/~coml0531/sage/configure-fd96a3818dc2ceb473983b2881d11da075e8d119.tar.gz\n``````\n",
    "created_at": "2019-07-15T20:57:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421575",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,5 +6,5 @@
     AC_SEARCH_LIBS([acb_mat_eig_simple], [arb], [break], [sage_spkg_install_arb=yes])
 ```
 
-configure tarball 
-http://users.ox.ac.uk/~coml0531/sage/configure-54d45ba31e6d669ec33a80fefc6be20ad40d9f21.tar.gz
+configure tarball
+http://users.ox.ac.uk/~coml0531/sage/configure-fd96a3818dc2ceb473983b2881d11da075e8d119.tar.gz
``````




---

archive/issue_comments_421576.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,5 +6,7 @@\n     AC_SEARCH_LIBS([acb_mat_eig_simple], [arb], [break], [sage_spkg_install_arb=yes])\n ```\n \n+we also take care of non-standard naming of arb's dylib here.\n+\n configure tarball\n http://users.ox.ac.uk/~coml0531/sage/configure-fd96a3818dc2ceb473983b2881d11da075e8d119.tar.gz\n``````\n",
    "created_at": "2019-07-15T21:46:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421576",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,5 +6,7 @@
     AC_SEARCH_LIBS([acb_mat_eig_simple], [arb], [break], [sage_spkg_install_arb=yes])
 ```
 
+we also take care of non-standard naming of arb's dylib here.
+
 configure tarball
 http://users.ox.ac.uk/~coml0531/sage/configure-fd96a3818dc2ceb473983b2881d11da075e8d119.tar.gz
``````




---

archive/issue_comments_421577.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nQuick impressions on the `arb` part. I would test for `flint-arb` first, otherwise you could get the other `arb` on a debian system. I would use `AC_SEARCH_LIBS` see https://autotools.io/autoconf/finding.html. When you use `AC_CHECK_LIBS` or `AC_SEARCH_LIBS`  the library found will be added  to `LIBS` and that may be used for all linkings independently of other settings - of course that's what would happen in a fully autotooled package. The question is whether all those `SAGE_${PKG}_LIBRARY` variables are needed at all.",
    "created_at": "2019-07-15T21:59:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421577",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:42" align="right">comment:42</div>

Quick impressions on the `arb` part. I would test for `flint-arb` first, otherwise you could get the other `arb` on a debian system. I would use `AC_SEARCH_LIBS` see https://autotools.io/autoconf/finding.html. When you use `AC_CHECK_LIBS` or `AC_SEARCH_LIBS`  the library found will be added  to `LIBS` and that may be used for all linkings independently of other settings - of course that's what would happen in a fully autotooled package. The question is whether all those `SAGE_${PKG}_LIBRARY` variables are needed at all.



---

archive/issue_comments_421578.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nI have now read the stuff about `src/sage/env.py.in` and this is a no for me. I don't run configure to build the sage python library and don't intend to if I can help it. I certainly can prepare the sources if you force me too but I'd rather not have to do that.",
    "created_at": "2019-07-15T22:07:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421578",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:43" align="right">comment:43</div>

I have now read the stuff about `src/sage/env.py.in` and this is a no for me. I don't run configure to build the sage python library and don't intend to if I can help it. I certainly can prepare the sources if you force me too but I'd rather not have to do that.



---

archive/issue_comments_421579.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nReplying to [@kiwifb](#comment:42):\n> Quick impressions on the `arb` part. I would test for `flint-arb` first, otherwise you could get the other `arb` on a debian system. \n\nnot really - it tests for a specific function from the \"right\" arb, I cannot imagine the other arb having it.\n\n> I would use `AC_SEARCH_LIBS` see https://autotools.io/autoconf/finding.html.\n\nI tried that, but then you have to analyse the result of its run, and this leads to arcane code (one needs to strip `-l`, etc...)\n \n\n> When you use `AC_CHECK_LIBS` or `AC_SEARCH_LIBS`  the library found will be added  to `LIBS` and that may be used for all linkings independently of other settings - of course that's what would happen in a fully autotooled package. The question is whether all those `SAGE_${PKG}_LIBRARY` variables are needed at all.\n\nThe problem is that sagelib isn't autotooled, and so one needes to get arb/flint-arb strings into `# distutils libraries=` directives in Cython header files.",
    "created_at": "2019-07-15T22:08:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421579",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:44" align="right">comment:44</div>

Replying to [@kiwifb](#comment:42):
> Quick impressions on the `arb` part. I would test for `flint-arb` first, otherwise you could get the other `arb` on a debian system. 

not really - it tests for a specific function from the "right" arb, I cannot imagine the other arb having it.

> I would use `AC_SEARCH_LIBS` see https://autotools.io/autoconf/finding.html.

I tried that, but then you have to analyse the result of its run, and this leads to arcane code (one needs to strip `-l`, etc...)
 

> When you use `AC_CHECK_LIBS` or `AC_SEARCH_LIBS`  the library found will be added  to `LIBS` and that may be used for all linkings independently of other settings - of course that's what would happen in a fully autotooled package. The question is whether all those `SAGE_${PKG}_LIBRARY` variables are needed at all.

The problem is that sagelib isn't autotooled, and so one needes to get arb/flint-arb strings into `# distutils libraries=` directives in Cython header files.



---

archive/issue_comments_421580.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nReplying to [@kiwifb](#comment:43):\n> I have now read the stuff about `src/sage/env.py.in` and this is a no for me. I don't run configure to build the sage python library and don't intend to if I can help it. I certainly can prepare the sources if you force me too but I'd rather not have to do that.\n\nwell, I don't see a point of not running `./configure`. Perhaps it was fashionable in Python world 10-15 years ago :-)",
    "created_at": "2019-07-15T22:15:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421580",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:45" align="right">comment:45</div>

Replying to [@kiwifb](#comment:43):
> I have now read the stuff about `src/sage/env.py.in` and this is a no for me. I don't run configure to build the sage python library and don't intend to if I can help it. I certainly can prepare the sources if you force me too but I'd rather not have to do that.

well, I don't see a point of not running `./configure`. Perhaps it was fashionable in Python world 10-15 years ago :-)



---

archive/issue_comments_421581.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nOK you are right about the library order. Because of the check you make it doesn't matter.\n\nIt is an interesting comment about configure. Unfortunately, as far as I know running configure for a python project is still not a done thing. It doesn't mesh with the other elements of the python toolchain. There is certainly room for some configurability option in sage in regards to the optional libraries. But autotool's configure is definitely not the python way. Apart from cypari I cannot think of another python package using configure.\n\nLet's be honest, a small configure script for sage's optional stuff and the possibly unusual stuff would be fine to run. The full configure script for the whole of the distribution is inappropriate. It all goes back, once again, to \"sagelib\" being treated special instead of as a normal package. So many things would have to click in place once you do that. Other superbuild systems like the one for paraview don't treat the main target in a special way like sage's does.",
    "created_at": "2019-07-15T22:28:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421581",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:46" align="right">comment:46</div>

OK you are right about the library order. Because of the check you make it doesn't matter.

It is an interesting comment about configure. Unfortunately, as far as I know running configure for a python project is still not a done thing. It doesn't mesh with the other elements of the python toolchain. There is certainly room for some configurability option in sage in regards to the optional libraries. But autotool's configure is definitely not the python way. Apart from cypari I cannot think of another python package using configure.

Let's be honest, a small configure script for sage's optional stuff and the possibly unusual stuff would be fine to run. The full configure script for the whole of the distribution is inappropriate. It all goes back, once again, to "sagelib" being treated special instead of as a normal package. So many things would have to click in place once you do that. Other superbuild systems like the one for paraview don't treat the main target in a special way like sage's does.



---

archive/issue_comments_421582.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nReplying to [@kiwifb](#comment:46):\n\n> It is an interesting comment about configure. Unfortunately, as far as I know running configure for a python project is still not a done thing. It doesn't mesh with the other elements of the python toolchain. There is certainly room for some configurability option in sage in regards to the optional libraries. But autotool's configure is definitely not the python way. Apart from cypari I cannot think of another python package using configure.\n\nHave you ever heard of cpython? :-)\n\n> \n> Let's be honest, a small configure script for sage's optional stuff and the possibly unusual stuff would be fine to run. The full configure script for the whole of the distribution is inappropriate. It all goes back, once again, to \"sagelib\" being treated special instead of as a normal package. So many things would have to click in place once you do that. \n\nwell, writing thousands of lines of Python to do configuration and building is what is (mal)practiced by many Python packages for reasons I don't really get. \n\n\n> Other superbuild systems like the one for paraview don't treat the main target in a special way like sage's does.\n\nI suggest you might look at the build system of Tensorflow (it uses Bazel ;-))",
    "created_at": "2019-07-15T22:57:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421582",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:47" align="right">comment:47</div>

Replying to [@kiwifb](#comment:46):

> It is an interesting comment about configure. Unfortunately, as far as I know running configure for a python project is still not a done thing. It doesn't mesh with the other elements of the python toolchain. There is certainly room for some configurability option in sage in regards to the optional libraries. But autotool's configure is definitely not the python way. Apart from cypari I cannot think of another python package using configure.

Have you ever heard of cpython? :-)

> 
> Let's be honest, a small configure script for sage's optional stuff and the possibly unusual stuff would be fine to run. The full configure script for the whole of the distribution is inappropriate. It all goes back, once again, to "sagelib" being treated special instead of as a normal package. So many things would have to click in place once you do that. 

well, writing thousands of lines of Python to do configuration and building is what is (mal)practiced by many Python packages for reasons I don't really get. 


> Other superbuild systems like the one for paraview don't treat the main target in a special way like sage's does.

I suggest you might look at the build system of Tensorflow (it uses Bazel ;-))



---

archive/issue_comments_421583.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\n`cpython` is the language. While it would be interesting to see if python could bootstrap itself, I am considering that you are stretching your credibility there.\n\n`bazel` and the way it is used in tensorflow [heck the whole way tensorflow is build] is a whole private hell of its own. Let's not go there. Invoking a worst project does not make yours any better. That reminds of my daughter pretending her room isn't messy because she saw a bigger mess at one of her friend's house.",
    "created_at": "2019-07-15T23:09:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421583",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:48" align="right">comment:48</div>

`cpython` is the language. While it would be interesting to see if python could bootstrap itself, I am considering that you are stretching your credibility there.

`bazel` and the way it is used in tensorflow [heck the whole way tensorflow is build] is a whole private hell of its own. Let's not go there. Invoking a worst project does not make yours any better. That reminds of my daughter pretending her room isn't messy because she saw a bigger mess at one of her friend's house.



---

archive/issue_comments_421584.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nReplying to [@kiwifb](#comment:48):\n> `cpython` is the language. While it would be interesting to see if python could bootstrap itself, I am considering that you are stretching your credibility there.\n\nI don't claim any credibility, but merely observe that Python 3 is moving quite a bit of its build system from setup.py to autotools. \n\nI don't get it why pre-build manipulation of `Python/Cython` code must be done in Python or shell, and not with more suitable tools. Sounds like religion rather than common sense to me.",
    "created_at": "2019-07-15T23:54:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421584",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:49" align="right">comment:49</div>

Replying to [@kiwifb](#comment:48):
> `cpython` is the language. While it would be interesting to see if python could bootstrap itself, I am considering that you are stretching your credibility there.

I don't claim any credibility, but merely observe that Python 3 is moving quite a bit of its build system from setup.py to autotools. 

I don't get it why pre-build manipulation of `Python/Cython` code must be done in Python or shell, and not with more suitable tools. Sounds like religion rather than common sense to me.



---

archive/issue_comments_421585.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nReplying to [@dimpase](#comment:49):\n> Replying to [@kiwifb](#comment:48):\n> > `cpython` is the language. While it would be interesting to see if python could bootstrap itself, I am considering that you are stretching your credibility there.\n\n> \n> I don't claim any credibility, but merely observe that Python 3 is moving quite a bit of its build system from setup.py to autotools. \n> \n> I don't get it why pre-build manipulation of `Python/Cython` code must be done in Python or shell, and not with more suitable tools. Sounds like religion rather than common sense to me.\n\nI haven't seen that. But that is welcome in some way.\n\nBut the big issue we have in distro if I can pinpoint it better is not necessarily that you want to run configure. It is that you run configure for sage the distro and use it for sage the package. \"sagelib\" should be its own self contained package, and if it had its own configure why not. But leveraging your monster build system in the way you do, is not fine. __We don't want it.__",
    "created_at": "2019-07-16T00:02:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421585",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:50" align="right">comment:50</div>

Replying to [@dimpase](#comment:49):
> Replying to [@kiwifb](#comment:48):
> > `cpython` is the language. While it would be interesting to see if python could bootstrap itself, I am considering that you are stretching your credibility there.

> 
> I don't claim any credibility, but merely observe that Python 3 is moving quite a bit of its build system from setup.py to autotools. 
> 
> I don't get it why pre-build manipulation of `Python/Cython` code must be done in Python or shell, and not with more suitable tools. Sounds like religion rather than common sense to me.

I haven't seen that. But that is welcome in some way.

But the big issue we have in distro if I can pinpoint it better is not necessarily that you want to run configure. It is that you run configure for sage the distro and use it for sage the package. "sagelib" should be its own self contained package, and if it had its own configure why not. But leveraging your monster build system in the way you do, is not fine. __We don't want it.__



---

archive/issue_comments_421586.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nUnvendoring everything that was sheepishly vendored into Sage over the years is an essential step towards having a self contained package for sagelib alone.\n\nThis ticket is a part of the unvendoring process. One way or another, the problem here is that arb library does not have pkg-config support, and yes, we want to support !Debian/Ubuntu arb package with non-standard naming.",
    "created_at": "2019-07-16T00:14:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421586",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:51" align="right">comment:51</div>

Unvendoring everything that was sheepishly vendored into Sage over the years is an essential step towards having a self contained package for sagelib alone.

This ticket is a part of the unvendoring process. One way or another, the problem here is that arb library does not have pkg-config support, and yes, we want to support !Debian/Ubuntu arb package with non-standard naming.



---

archive/issue_comments_421587.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nI understand perfectly. Since the controversial changes are for the sake of debian, I think a debian developer should give their opinion.\n\n@tobihan if you would like to oblige or pass it to someone else in debian for review.\n\nAs I said I won't review this any further but won't oppose it further either. I have my own contingency plans.",
    "created_at": "2019-07-16T00:29:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421587",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:52" align="right">comment:52</div>

I understand perfectly. Since the controversial changes are for the sake of debian, I think a debian developer should give their opinion.

@tobihan if you would like to oblige or pass it to someone else in debian for review.

As I said I won't review this any further but won't oppose it further either. I have my own contingency plans.



---

archive/issue_comments_421588.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nalternatively I can store an environment variable in `src/bin/sage-env-config`\n(which, as you know, is also created by `./configure` :-))\nand then access it from `src/sage/env.py` to populate `ARB_LIBRARY`.\n\nThis would avoid creating `src/sage/env.py.in`.\n\nIf this is more acceptable (after all, distributions already deal with rewriting\n`src/bin/sage-env-config.in`) let me know, I can do this change.",
    "created_at": "2019-07-16T09:47:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421588",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:53" align="right">comment:53</div>

alternatively I can store an environment variable in `src/bin/sage-env-config`
(which, as you know, is also created by `./configure` :-))
and then access it from `src/sage/env.py` to populate `ARB_LIBRARY`.

This would avoid creating `src/sage/env.py.in`.

If this is more acceptable (after all, distributions already deal with rewriting
`src/bin/sage-env-config.in`) let me know, I can do this change.



---

archive/issue_comments_421589.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nReplying to [@dimpase](#comment:53):\n> alternatively I can store an environment variable in `src/bin/sage-env-config`\n> (which, as you know, is also created by `./configure` :-))\n> and then access it from `src/sage/env.py` to populate `ARB_LIBRARY`.\n> \n> This would avoid creating `src/sage/env.py.in`.\n> \n> If this is more acceptable (after all, distributions already deal with rewriting\n> `src/bin/sage-env-config.in`) let me know, I can do this change.\n\n+1 to this alternative. Setting env variables at build time is much better than having to tamper with source files.",
    "created_at": "2019-07-16T10:04:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421589",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:54" align="right">comment:54</div>

Replying to [@dimpase](#comment:53):
> alternatively I can store an environment variable in `src/bin/sage-env-config`
> (which, as you know, is also created by `./configure` :-))
> and then access it from `src/sage/env.py` to populate `ARB_LIBRARY`.
> 
> This would avoid creating `src/sage/env.py.in`.
> 
> If this is more acceptable (after all, distributions already deal with rewriting
> `src/bin/sage-env-config.in`) let me know, I can do this change.

+1 to this alternative. Setting env variables at build time is much better than having to tamper with source files.



---

archive/issue_comments_421590.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nWhile it feels better to deal with an environment variable I wonder if it is better to elect to touch the source code here. \n\nPeople can compile cython code from sage against sage libraries. If we don't touch the code minimally and someone wants to compile some cython code from sage involving arb, they will have to define the variable unless we put it permanently in the environment in some way (which is also doable of course but I stopped doing that around sage-5.0 I think).",
    "created_at": "2019-07-16T10:14:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421590",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:55" align="right">comment:55</div>

While it feels better to deal with an environment variable I wonder if it is better to elect to touch the source code here. 

People can compile cython code from sage against sage libraries. If we don't touch the code minimally and someone wants to compile some cython code from sage involving arb, they will have to define the variable unless we put it permanently in the environment in some way (which is also doable of course but I stopped doing that around sage-5.0 I think).



---

archive/issue_comments_421591.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nWell, you tell me what you prefer. I think that to compile cython code from sage against sage libraries requires pkg-config knowing about `SAGE_LOCAL/lib/pkgconfig` directory to pick up settings for quite a number of Sage libraries, otherwise it's doomed to fail.\nIn effect, this means either using Sage's pkg-config or providing a properly set `PKG_CONFIG_PATH`. That is you cannot get away from setting some environment variables.\n\nIn fact I plan to work on `spkg-configure.m4` for `pkgconf` Sage package (cf. #27827, a part of #27330) and to install `PKG_CONFIG_PATH` into `src/bin/sage-env-config` in case\na system has pkg-config installed.",
    "created_at": "2019-07-16T10:26:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421591",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:56" align="right">comment:56</div>

Well, you tell me what you prefer. I think that to compile cython code from sage against sage libraries requires pkg-config knowing about `SAGE_LOCAL/lib/pkgconfig` directory to pick up settings for quite a number of Sage libraries, otherwise it's doomed to fail.
In effect, this means either using Sage's pkg-config or providing a properly set `PKG_CONFIG_PATH`. That is you cannot get away from setting some environment variables.

In fact I plan to work on `spkg-configure.m4` for `pkgconf` Sage package (cf. #27827, a part of #27330) and to install `PKG_CONFIG_PATH` into `src/bin/sage-env-config` in case
a system has pkg-config installed.



---

archive/issue_comments_421592.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nIf it currently wouldn't work for cython code, then environment is best - it doesn't break something currently working. Thank you for pulling through my painful exhortations with something palatable.",
    "created_at": "2019-07-16T10:29:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421592",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:57" align="right">comment:57</div>

If it currently wouldn't work for cython code, then environment is best - it doesn't break something currently working. Thank you for pulling through my painful exhortations with something palatable.



---

archive/issue_comments_421593.json:
```json
{
    "body": "<div id=\"comment:58\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf8501c4fe6a1b2b7435c00957765230e0cc0f5a\">cf8501c</a></td><td><code>pass the name of arb dylib via an environment variable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f463852fe18b6974396b442f2ab1b2300cf5547e\">f463852</a></td><td><code>new configure version</code></td></tr></table>\n",
    "created_at": "2019-07-16T16:29:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421593",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:58"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf8501c4fe6a1b2b7435c00957765230e0cc0f5a">cf8501c</a></td><td><code>pass the name of arb dylib via an environment variable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f463852fe18b6974396b442f2ab1b2300cf5547e">f463852</a></td><td><code>new configure version</code></td></tr></table>




---

archive/issue_comments_421594.json:
```json
{
    "body": "Changed commit from **[4c245ce](https://github.com/sagemath/sagetrac-mirror/commit/4c245ced57975592747387cd0c1ee16543b8bb47)** to **[f463852](https://github.com/sagemath/sagetrac-mirror/commit/f463852fe18b6974396b442f2ab1b2300cf5547e)**",
    "created_at": "2019-07-16T16:29:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421594",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4c245ce](https://github.com/sagemath/sagetrac-mirror/commit/4c245ced57975592747387cd0c1ee16543b8bb47)** to **[f463852](https://github.com/sagemath/sagetrac-mirror/commit/f463852fe18b6974396b442f2ab1b2300cf5547e)**



---

archive/issue_comments_421595.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,4 +9,5 @@\n we also take care of non-standard naming of arb's dylib here.\n \n configure tarball\n-http://users.ox.ac.uk/~coml0531/sage/configure-fd96a3818dc2ceb473983b2881d11da075e8d119.tar.gz\n+http://users.ox.ac.uk/~coml0531/sage/configure-cf8501c4fe6a1b2b7435c00957765230e0cc0f5a.tar.gz\n+\n``````\n",
    "created_at": "2019-07-16T16:30:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421595",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,4 +9,5 @@
 we also take care of non-standard naming of arb's dylib here.
 
 configure tarball
-http://users.ox.ac.uk/~coml0531/sage/configure-fd96a3818dc2ceb473983b2881d11da075e8d119.tar.gz
+http://users.ox.ac.uk/~coml0531/sage/configure-cf8501c4fe6a1b2b7435c00957765230e0cc0f5a.tar.gz
+
``````




---

archive/issue_comments_421596.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nOK, it's changed as discussed. Please review.",
    "created_at": "2019-07-16T16:59:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421596",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:60" align="right">comment:60</div>

OK, it's changed as discussed. Please review.



---

archive/issue_comments_421597.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nFWIW sagelib builds fine against system packages now by just setting SAGE_ARB_LIBRARY (and not running configure)",
    "created_at": "2019-07-16T17:21:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421597",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:61" align="right">comment:61</div>

FWIW sagelib builds fine against system packages now by just setting SAGE_ARB_LIBRARY (and not running configure)



---

archive/issue_comments_421598.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nFor what its worth, I'm fine with setting an environment variable. There are already lots of env vars to set, one more or less won't make a difference. And I'm also glad we can get around configure. Thanks Fran\u00e7ois for taking the distro standpoint here :)\n\nReplying to [@dimpase](#comment:51):\n> Unvendoring everything that was sheepishly vendored into Sage over the years is an essential step towards having a self contained package for sagelib alone.\n\nI feel like you're arguing slightly different things here. Treating the sagelib package as just another package could in principle be done without removing any vendoring. You keep the current build system, add a `sagelib` package under build, add basically everything as a dependency for it. `sagelib` can then have its own `./configure`, which configure just sagelib and not everything else. Distros would have not problem running that.",
    "created_at": "2019-07-16T18:52:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421598",
    "user": "https://github.com/timokau"
}
```

<div id="comment:62" align="right">comment:62</div>

For what its worth, I'm fine with setting an environment variable. There are already lots of env vars to set, one more or less won't make a difference. And I'm also glad we can get around configure. Thanks François for taking the distro standpoint here :)

Replying to [@dimpase](#comment:51):
> Unvendoring everything that was sheepishly vendored into Sage over the years is an essential step towards having a self contained package for sagelib alone.

I feel like you're arguing slightly different things here. Treating the sagelib package as just another package could in principle be done without removing any vendoring. You keep the current build system, add a `sagelib` package under build, add basically everything as a dependency for it. `sagelib` can then have its own `./configure`, which configure just sagelib and not everything else. Distros would have not problem running that.



---

archive/issue_comments_421599.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nReplying to [@timokau](#comment:62):\n> Replying to [@dimpase](#comment:51):\n> > Unvendoring everything that was sheepishly vendored into Sage over the years is an essential step towards having a self contained package for sagelib alone.\n\n> \n> I feel like you're arguing slightly different things here. Treating the sagelib package as just another package could in principle be done without removing any vendoring. \n\nthe main configure configures \"just\" sagelib. What one has in `build/pkgs/` are vendored dependencies, which ought to disappear.\nThese little (or not so little) `spkg-configure.m4` scripts are part of the sagelib configure, they check that the deps are satisfied.\nThey have nothing to do with building the relevant deps (they deal with NOT building them).\n\n> You keep the current build system, add a `sagelib` package under build, add basically everything as a dependency for it. `sagelib` can then have its own `./configure`, which configure just sagelib and not everything else. Distros would have not problem running that.",
    "created_at": "2019-07-16T19:10:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421599",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:63" align="right">comment:63</div>

Replying to [@timokau](#comment:62):
> Replying to [@dimpase](#comment:51):
> > Unvendoring everything that was sheepishly vendored into Sage over the years is an essential step towards having a self contained package for sagelib alone.

> 
> I feel like you're arguing slightly different things here. Treating the sagelib package as just another package could in principle be done without removing any vendoring. 

the main configure configures "just" sagelib. What one has in `build/pkgs/` are vendored dependencies, which ought to disappear.
These little (or not so little) `spkg-configure.m4` scripts are part of the sagelib configure, they check that the deps are satisfied.
They have nothing to do with building the relevant deps (they deal with NOT building them).

> You keep the current build system, add a `sagelib` package under build, add basically everything as a dependency for it. `sagelib` can then have its own `./configure`, which configure just sagelib and not everything else. Distros would have not problem running that.



---

archive/issue_comments_421600.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nI'll be waiting to see if the patchbot turns green, but in principle I am OK with this and will give it a positive review if no problems turn up.",
    "created_at": "2019-07-16T21:10:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421600",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:64" align="right">comment:64</div>

I'll be waiting to see if the patchbot turns green, but in principle I am OK with this and will give it a positive review if no problems turn up.



---

archive/issue_comments_421601.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nnot sure whether patchbots are able to deal well with packages changing configure; basically, for a proper test one needs to have appropriate versions of arb etc installed (so e.g. Debian 10 and Gentoo should be OK - and these are what I tested them on, as well as on other platforms, such as OSX with Homebrew).",
    "created_at": "2019-07-17T10:17:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421601",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:65" align="right">comment:65</div>

not sure whether patchbots are able to deal well with packages changing configure; basically, for a proper test one needs to have appropriate versions of arb etc installed (so e.g. Debian 10 and Gentoo should be OK - and these are what I tested them on, as well as on other platforms, such as OSX with Homebrew).



---

archive/issue_comments_421602.json:
```json
{
    "body": "Reviewer: **Fran\u00e7ois Bissey**",
    "created_at": "2019-07-17T10:57:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421602",
    "user": "https://github.com/kiwifb"
}
```

Reviewer: **François Bissey**



---

archive/issue_events_374711.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-07-17T10:57:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27270#event-374711"
}
```



---

archive/issue_events_374712.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-07-17T10:57:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27270#event-374712"
}
```



---

archive/issue_comments_421603.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nI was hoping the changes in the tarball handling would have helped with that. But obviously not. It is good enough, in my opinion, to send to the bots to figure if corner cases have been missed.",
    "created_at": "2019-07-17T10:57:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421603",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:66" align="right">comment:66</div>

I was hoping the changes in the tarball handling would have helped with that. But obviously not. It is good enough, in my opinion, to send to the bots to figure if corner cases have been missed.



---

archive/issue_events_374713.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2019-07-19T11:57:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27270#event-374713"
}
```



---

archive/issue_events_374714.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2019-07-19T11:57:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27270#event-374714"
}
```



---

archive/issue_comments_421604.json:
```json
{
    "body": "Changed commit from **[f463852](https://github.com/sagemath/sagetrac-mirror/commit/f463852fe18b6974396b442f2ab1b2300cf5547e)** to **[166e00c](https://github.com/sagemath/sagetrac-mirror/commit/166e00c3652a3d1c43fe4616b2d8dbb888f6f879)**",
    "created_at": "2019-07-19T11:57:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421604",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f463852](https://github.com/sagemath/sagetrac-mirror/commit/f463852fe18b6974396b442f2ab1b2300cf5547e)** to **[166e00c](https://github.com/sagemath/sagetrac-mirror/commit/166e00c3652a3d1c43fe4616b2d8dbb888f6f879)**



---

archive/issue_comments_421605.json:
```json
{
    "body": "<div id=\"comment:67\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2c4d3506fbb122678f9be24139209e8ae2165728\">2c4d350</a></td><td><code>set SAGE_ARB_LIBRARY correctly in every scenario</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/166e00c3652a3d1c43fe4616b2d8dbb888f6f879\">166e00c</a></td><td><code>bump up configure</code></td></tr></table>\n",
    "created_at": "2019-07-19T11:57:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421605",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:67"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2c4d3506fbb122678f9be24139209e8ae2165728">2c4d350</a></td><td><code>set SAGE_ARB_LIBRARY correctly in every scenario</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/166e00c3652a3d1c43fe4616b2d8dbb888f6f879">166e00c</a></td><td><code>bump up configure</code></td></tr></table>




---

archive/issue_comments_421606.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nfixing a \"minor\" m4 error in the latest change.",
    "created_at": "2019-07-19T11:59:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421606",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:68" align="right">comment:68</div>

fixing a "minor" m4 error in the latest change.



---

archive/issue_comments_421607.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,5 +9,4 @@\n we also take care of non-standard naming of arb's dylib here.\n \n configure tarball\n-http://users.ox.ac.uk/~coml0531/sage/configure-cf8501c4fe6a1b2b7435c00957765230e0cc0f5a.tar.gz\n-\n+http://users.ox.ac.uk/~coml0531/sage/configure-2c4d3506fbb122678f9be24139209e8ae2165728.tar.gz\n``````\n",
    "created_at": "2019-07-19T11:59:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421607",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,5 +9,4 @@
 we also take care of non-standard naming of arb's dylib here.
 
 configure tarball
-http://users.ox.ac.uk/~coml0531/sage/configure-cf8501c4fe6a1b2b7435c00957765230e0cc0f5a.tar.gz
-
+http://users.ox.ac.uk/~coml0531/sage/configure-2c4d3506fbb122678f9be24139209e8ae2165728.tar.gz
``````




---

archive/issue_comments_421608.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nCould you add a fallback for SAGE_ARB_LIBRARY in env.py? This wouldn't make any difference for users of the Sage build system (since it is set in sage-env-config) or distros that rename the arb library (which need to set it anyway), and would save distros that use the standard arb library name from having to worry about it\n\n```\n--- src/sage/env.py.orig        2019-07-19 14:05:32.947459540 +0200\n+++ src/sage/env.py     2019-07-19 14:15:14.193540393 +0200\n@@ -406,6 +406,8 @@\n     # This is not a problem in practice since LinBox depends on\n     # fflas-ffpack and fflas-ffpack does add such a C++11 flag.\n     aliases[\"LINBOX_CFLAGS\"].append(\"-std=gnu++11\")\n-    aliases[\"ARB_LIBRARY\"] = os.environ['SAGE_ARB_LIBRARY']\n-\n+    if os.environ.get('SAGE_ARB_LIBRARY'):\n+        aliases[\"ARB_LIBRARY\"] = os.environ['SAGE_ARB_LIBRARY']\n+    else:\n+        aliases[\"ARB_LIBRARY\"] = 'arb'\n     return aliases\n```",
    "created_at": "2019-07-19T12:20:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421608",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:69" align="right">comment:69</div>

Could you add a fallback for SAGE_ARB_LIBRARY in env.py? This wouldn't make any difference for users of the Sage build system (since it is set in sage-env-config) or distros that rename the arb library (which need to set it anyway), and would save distros that use the standard arb library name from having to worry about it

```
--- src/sage/env.py.orig        2019-07-19 14:05:32.947459540 +0200
+++ src/sage/env.py     2019-07-19 14:15:14.193540393 +0200
@@ -406,6 +406,8 @@
     # This is not a problem in practice since LinBox depends on
     # fflas-ffpack and fflas-ffpack does add such a C++11 flag.
     aliases["LINBOX_CFLAGS"].append("-std=gnu++11")
-    aliases["ARB_LIBRARY"] = os.environ['SAGE_ARB_LIBRARY']
-
+    if os.environ.get('SAGE_ARB_LIBRARY'):
+        aliases["ARB_LIBRARY"] = os.environ['SAGE_ARB_LIBRARY']
+    else:
+        aliases["ARB_LIBRARY"] = 'arb'
     return aliases
```



---

archive/issue_comments_421609.json:
```json
{
    "body": "Changed commit from **[166e00c](https://github.com/sagemath/sagetrac-mirror/commit/166e00c3652a3d1c43fe4616b2d8dbb888f6f879)** to **[411d4a7](https://github.com/sagemath/sagetrac-mirror/commit/411d4a77fc8a691ed09cd14b9605d59dde292850)**",
    "created_at": "2019-07-19T12:31:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421609",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[166e00c](https://github.com/sagemath/sagetrac-mirror/commit/166e00c3652a3d1c43fe4616b2d8dbb888f6f879)** to **[411d4a7](https://github.com/sagemath/sagetrac-mirror/commit/411d4a77fc8a691ed09cd14b9605d59dde292850)**



---

archive/issue_comments_421610.json:
```json
{
    "body": "<div id=\"comment:70\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/73dd6671794c7bf5e408f5cba884df00ff341c9d\">73dd667</a></td><td><code>fallback for ARB_LIBRARY in src/sage/env.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/411d4a77fc8a691ed09cd14b9605d59dde292850\">411d4a7</a></td><td><code>bump up configure</code></td></tr></table>\n",
    "created_at": "2019-07-19T12:31:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421610",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:70"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/73dd6671794c7bf5e408f5cba884df00ff341c9d">73dd667</a></td><td><code>fallback for ARB_LIBRARY in src/sage/env.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/411d4a77fc8a691ed09cd14b9605d59dde292850">411d4a7</a></td><td><code>bump up configure</code></td></tr></table>




---

archive/issue_comments_421611.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nDone the fallback.",
    "created_at": "2019-07-19T12:34:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421611",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:71" align="right">comment:71</div>

Done the fallback.



---

archive/issue_comments_421612.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,4 +9,4 @@\n we also take care of non-standard naming of arb's dylib here.\n \n configure tarball\n-http://users.ox.ac.uk/~coml0531/sage/configure-2c4d3506fbb122678f9be24139209e8ae2165728.tar.gz\n+http://users.ox.ac.uk/~coml0531/sage/configure-73dd6671794c7bf5e408f5cba884df00ff341c9d.tar.gz\n``````\n",
    "created_at": "2019-07-19T12:34:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421612",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,4 +9,4 @@
 we also take care of non-standard naming of arb's dylib here.
 
 configure tarball
-http://users.ox.ac.uk/~coml0531/sage/configure-2c4d3506fbb122678f9be24139209e8ae2165728.tar.gz
+http://users.ox.ac.uk/~coml0531/sage/configure-73dd6671794c7bf5e408f5cba884df00ff341c9d.tar.gz
``````




---

archive/issue_comments_421613.json:
```json
{
    "body": "Changed branch from **[u/dimpase/packages/arbconfig](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/arbconfig)** to **[u/isuruf/arbconfig](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/arbconfig)**",
    "created_at": "2019-07-21T04:11:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421613",
    "user": "https://github.com/isuruf"
}
```

Changed branch from **[u/dimpase/packages/arbconfig](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/arbconfig)** to **[u/isuruf/arbconfig](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/arbconfig)**



---

archive/issue_comments_421614.json:
```json
{
    "body": "Changed commit from **[411d4a7](https://github.com/sagemath/sagetrac-mirror/commit/411d4a77fc8a691ed09cd14b9605d59dde292850)** to **[9f79388](https://github.com/sagemath/sagetrac-mirror/commit/9f79388b5a7ba7dac32884f45cd792496baed4db)**",
    "created_at": "2019-07-21T04:11:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421614",
    "user": "https://github.com/isuruf"
}
```

Changed commit from **[411d4a7](https://github.com/sagemath/sagetrac-mirror/commit/411d4a77fc8a691ed09cd14b9605d59dde292850)** to **[9f79388](https://github.com/sagemath/sagetrac-mirror/commit/9f79388b5a7ba7dac32884f45cd792496baed4db)**



---

archive/issue_comments_421615.json:
```json
{
    "body": "Changed reviewer from **Fran\u00e7ois Bissey** to **Fran\u00e7ois Bissey, Isuru Fernando**",
    "created_at": "2019-07-21T04:12:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421615",
    "user": "https://github.com/isuruf"
}
```

Changed reviewer from **François Bissey** to **François Bissey, Isuru Fernando**



---

archive/issue_events_374715.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2019-07-21T04:12:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27270#event-374715"
}
```



---

archive/issue_events_374716.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2019-07-21T04:12:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27270#event-374716"
}
```



---

archive/issue_comments_421616.json:
```json
{
    "body": "Changed author from **Dima Pasechnik** to **Dima Pasechnik, Isuru Fernando**",
    "created_at": "2019-07-21T04:12:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421616",
    "user": "https://github.com/isuruf"
}
```

Changed author from **Dima Pasechnik** to **Dima Pasechnik, Isuru Fernando**



---

archive/issue_comments_421617.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,5 +8,4 @@\n \n we also take care of non-standard naming of arb's dylib here.\n \n-configure tarball\n-http://users.ox.ac.uk/~coml0531/sage/configure-73dd6671794c7bf5e408f5cba884df00ff341c9d.tar.gz\n+configure tarball http://users.ox.ac.uk/~coml0531/sage/configure-b5de8991395bbf58e663e69d6250de656897c4e2.tar.gz\n``````\n",
    "created_at": "2019-07-21T08:41:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421617",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,5 +8,4 @@
 
 we also take care of non-standard naming of arb's dylib here.
 
-configure tarball
-http://users.ox.ac.uk/~coml0531/sage/configure-73dd6671794c7bf5e408f5cba884df00ff341c9d.tar.gz
+configure tarball http://users.ox.ac.uk/~coml0531/sage/configure-b5de8991395bbf58e663e69d6250de656897c4e2.tar.gz
``````




---

archive/issue_comments_421618.json:
```json
{
    "body": "Changed commit from **[9f79388](https://github.com/sagemath/sagetrac-mirror/commit/9f79388b5a7ba7dac32884f45cd792496baed4db)** to **[29d4ce2](https://github.com/sagemath/sagetrac-mirror/commit/29d4ce2b95a7a721afc22db4633995c4a93d7f31)**",
    "created_at": "2019-07-21T08:42:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421618",
    "user": "https://github.com/dimpase"
}
```

Changed commit from **[9f79388](https://github.com/sagemath/sagetrac-mirror/commit/9f79388b5a7ba7dac32884f45cd792496baed4db)** to **[29d4ce2](https://github.com/sagemath/sagetrac-mirror/commit/29d4ce2b95a7a721afc22db4633995c4a93d7f31)**



---

archive/issue_comments_421619.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5aad412d1b55a53206aa12852bd5e8468598f725\">5aad412</a></td><td><code>sage should be called with ./ in bootstrap</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/085f518ef7b83466f5dcef67f8c807138979c2ae\">085f518</a></td><td><code>Debian names the arb library differently</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d24ae0faabf13b584d46dde34f3083bf82955b63\">d24ae0f</a></td><td><code>mention flint and arb (and one more forgotten package) for debian</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e04b2557206becbddb78c6cfe979c4cd7f9055b\">2e04b25</a></td><td><code>add the name of arb dylib to cython_aliases</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0e4e71a020b514033d1a87b0d41d739833e3ff0a\">0e4e71a</a></td><td><code>use AC_CHECK_LIB() calls, as they can be nested</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e8bd983b1f2cbfb39857d511e21796fe5fd4c64\">3e8bd98</a></td><td><code>pass the name of arb dylib via an environment variable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce2b9e020ba96fbc270541a61fd826bece976a37\">ce2b9e0</a></td><td><code>set SAGE_ARB_LIBRARY correctly in every scenario</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12f5129afb962d6e9304391ed0d38f31fea52a18\">12f5129</a></td><td><code>fallback for ARB_LIBRARY in src/sage/env.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b5de8991395bbf58e663e69d6250de656897c4e2\">b5de899</a></td><td><code>make code simpler</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29d4ce2b95a7a721afc22db4633995c4a93d7f31\">29d4ce2</a></td><td><code>bump up configure</code></td></tr></table>\n",
    "created_at": "2019-07-21T08:42:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421619",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:75" align="right">comment:75</div>

Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5aad412d1b55a53206aa12852bd5e8468598f725">5aad412</a></td><td><code>sage should be called with ./ in bootstrap</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/085f518ef7b83466f5dcef67f8c807138979c2ae">085f518</a></td><td><code>Debian names the arb library differently</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d24ae0faabf13b584d46dde34f3083bf82955b63">d24ae0f</a></td><td><code>mention flint and arb (and one more forgotten package) for debian</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e04b2557206becbddb78c6cfe979c4cd7f9055b">2e04b25</a></td><td><code>add the name of arb dylib to cython_aliases</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0e4e71a020b514033d1a87b0d41d739833e3ff0a">0e4e71a</a></td><td><code>use AC_CHECK_LIB() calls, as they can be nested</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e8bd983b1f2cbfb39857d511e21796fe5fd4c64">3e8bd98</a></td><td><code>pass the name of arb dylib via an environment variable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce2b9e020ba96fbc270541a61fd826bece976a37">ce2b9e0</a></td><td><code>set SAGE_ARB_LIBRARY correctly in every scenario</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12f5129afb962d6e9304391ed0d38f31fea52a18">12f5129</a></td><td><code>fallback for ARB_LIBRARY in src/sage/env.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b5de8991395bbf58e663e69d6250de656897c4e2">b5de899</a></td><td><code>make code simpler</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29d4ce2b95a7a721afc22db4633995c4a93d7f31">29d4ce2</a></td><td><code>bump up configure</code></td></tr></table>




---

archive/issue_comments_421620.json:
```json
{
    "body": "Changed branch from **[u/isuruf/arbconfig](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/arbconfig)** to **[u/dimpase/packages/arbconfig](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/arbconfig)**",
    "created_at": "2019-07-21T08:42:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421620",
    "user": "https://github.com/dimpase"
}
```

Changed branch from **[u/isuruf/arbconfig](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/arbconfig)** to **[u/dimpase/packages/arbconfig](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/arbconfig)**



---

archive/issue_comments_421621.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">comment:76</div>\n\nmerged u/isuruf/arbconfig (which erroneously contained just 1 commit), rebased over 8.9.beta3, bumpled up configure",
    "created_at": "2019-07-21T08:44:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421621",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:76" align="right">comment:76</div>

merged u/isuruf/arbconfig (which erroneously contained just 1 commit), rebased over 8.9.beta3, bumpled up configure



---

archive/issue_comments_421622.json:
```json
{
    "body": "Changed branch from **[u/dimpase/packages/arbconfig](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/arbconfig)** to **[29d4ce2](https://github.com/sagemath/sagetrac-mirror/commit/29d4ce2b95a7a721afc22db4633995c4a93d7f31)**",
    "created_at": "2019-07-26T20:27:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421622",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/dimpase/packages/arbconfig](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/arbconfig)** to **[29d4ce2](https://github.com/sagemath/sagetrac-mirror/commit/29d4ce2b95a7a721afc22db4633995c4a93d7f31)**



---

archive/issue_events_374717.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-26T20:27:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27270#event-374717"
}
```



---

archive/issue_events_374718.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "363beb1f49979e8c00d70479e8e1c8b5898a0ea5",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-07-26T20:27:32Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/27270#event-374718"
}
```



---

archive/issue_comments_421623.json:
```json
{
    "body": "Changed commit from **[29d4ce2](https://github.com/sagemath/sagetrac-mirror/commit/29d4ce2b95a7a721afc22db4633995c4a93d7f31)** to none",
    "created_at": "2020-02-06T23:02:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421623",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[29d4ce2](https://github.com/sagemath/sagetrac-mirror/commit/29d4ce2b95a7a721afc22db4633995c4a93d7f31)** to none



---

archive/issue_comments_421624.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">comment:78</div>\n\nRecognizing `flint-arb` here broke the optional package `e-antic` (used by `normaliz`). Follow-up = #27952.",
    "created_at": "2020-02-06T23:02:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/27270",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/27270#issuecomment-421624",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:78" align="right">comment:78</div>

Recognizing `flint-arb` here broke the optional package `e-antic` (used by `normaliz`). Follow-up = #27952.
