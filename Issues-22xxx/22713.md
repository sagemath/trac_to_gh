# Issue 22713: Multiple zeta algebra

archive/issues_022476.json:
```json
{
    "assignees": [],
    "body": "**Old description:**\n\nThere is code in Pynac's `zeta2_eval` allowing `lst` arguments. Let's check if that can be interfaced to Python. Is there numerics available in mpmath or arb?\n\nhttps://en.wikipedia.org/wiki/Multiple_zeta_function\n\n**New description:**\n\nThis ticket is now used to implement the algebra of MZV, using algorithms of Francis Brown.\n\nSample computation:\n\n```\nsage: Z = Multizeta\nsage: M = matrix(2,2,[Z(2),Z(3),Z(4),Z(5)])\nsage: M.det()\n-10*\u03b6(1,6) - 5*\u03b6(2,5) - \u03b6(3,4) + \u03b6(4,3) + \u03b6(5,2)\n```\n\nCC:  @videlec @tscrim @kedlaya @dwbump @JohnCremona\n\nKeywords: **motives**\n\nBranch/Commit: **[`c9e3b4c`](https://github.com/sagemath/sagetrac-mirror/commit/c9e3b4cf905f5bb81821e8a078eb1dd1424930dd)**\n\nReviewer: **Vincent Delecroix**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nComponent: **number theory**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/22713_\n\n",
    "closed_at": "2020-05-26T21:49:48Z",
    "created_at": "2017-03-30T07:56:51Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20number%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Multiple zeta algebra",
    "type": "issue",
    "updated_at": "2020-05-26T21:49:48Z",
    "url": "https://github.com/sagemath/sage/issues/22713",
    "user": "https://github.com/rwst"
}
```
**Old description:**

There is code in Pynac's `zeta2_eval` allowing `lst` arguments. Let's check if that can be interfaced to Python. Is there numerics available in mpmath or arb?

https://en.wikipedia.org/wiki/Multiple_zeta_function

**New description:**

This ticket is now used to implement the algebra of MZV, using algorithms of Francis Brown.

Sample computation:

```
sage: Z = Multizeta
sage: M = matrix(2,2,[Z(2),Z(3),Z(4),Z(5)])
sage: M.det()
-10*ζ(1,6) - 5*ζ(2,5) - ζ(3,4) + ζ(4,3) + ζ(5,2)
```

CC:  @videlec @tscrim @kedlaya @dwbump @JohnCremona

Keywords: **motives**

Branch/Commit: **[`c9e3b4c`](https://github.com/sagemath/sagetrac-mirror/commit/c9e3b4cf905f5bb81821e8a078eb1dd1424930dd)**

Reviewer: **Vincent Delecroix**

Author: **Frédéric Chapoton**

Component: **number theory**

_Issue created by migration from https://trac.sagemath.org/ticket/22713_





---

archive/issue_events_314328.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-03-30T07:56:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22713#event-314328"
}
```



---

archive/issue_events_314329.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-03-30T07:56:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20symbolics",
    "label_color": "0000ff",
    "label_name": "c: symbolics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22713#event-314329"
}
```



---

archive/issue_events_314330.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-03-30T07:56:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22713#event-314330"
}
```



---

archive/issue_events_314331.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-03-30T07:56:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22713#event-314331"
}
```



---

archive/issue_comments_337798.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nsee also #18010",
    "created_at": "2019-12-06T13:07:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337798",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1" align="right">comment:1</div>

see also #18010



---

archive/issue_comments_337799.json:
```json
{
    "body": "Branch: **[u/chapoton/27713](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/27713)**",
    "created_at": "2020-01-02T09:45:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337799",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/27713](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/27713)**



---

archive/issue_comments_337800.json:
```json
{
    "body": "Commit: **[`67d78cc`](https://github.com/sagemath/sagetrac-mirror/commit/67d78cca1ccbf8fa1bf04c4ab4382c8e8f529cb2)**",
    "created_at": "2020-01-02T09:45:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337800",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`67d78cc`](https://github.com/sagemath/sagetrac-mirror/commit/67d78cca1ccbf8fa1bf04c4ab4382c8e8f529cb2)**



---

archive/issue_comments_337801.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/67d78cca1ccbf8fa1bf04c4ab4382c8e8f529cb2\"><code>67d78cc</code></a></td><td><code>first sketch of MZV function</code></td></tr></table>\n",
    "created_at": "2020-01-02T09:45:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337801",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/67d78cca1ccbf8fa1bf04c4ab4382c8e8f529cb2"><code>67d78cc</code></a></td><td><code>first sketch of MZV function</code></td></tr></table>




---

archive/issue_comments_337802.json:
```json
{
    "body": "Changed commit from **[`67d78cc`](https://github.com/sagemath/sagetrac-mirror/commit/67d78cca1ccbf8fa1bf04c4ab4382c8e8f529cb2)** to **[`4e22cc3`](https://github.com/sagemath/sagetrac-mirror/commit/4e22cc35ea55d3a7558e5834401ee5483c7fcf9b)**",
    "created_at": "2020-01-02T09:53:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337802",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`67d78cc`](https://github.com/sagemath/sagetrac-mirror/commit/67d78cca1ccbf8fa1bf04c4ab4382c8e8f529cb2)** to **[`4e22cc3`](https://github.com/sagemath/sagetrac-mirror/commit/4e22cc35ea55d3a7558e5834401ee5483c7fcf9b)**



---

archive/issue_comments_337803.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e22cc35ea55d3a7558e5834401ee5483c7fcf9b\"><code>4e22cc3</code></a></td><td><code>more work on multiple zeta values</code></td></tr></table>\n",
    "created_at": "2020-01-02T09:53:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337803",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e22cc35ea55d3a7558e5834401ee5483c7fcf9b"><code>4e22cc3</code></a></td><td><code>more work on multiple zeta values</code></td></tr></table>




---

archive/issue_events_314332.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-01-02T10:31:34Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22713#event-314332"
}
```



---

archive/issue_events_314333.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-01-02T10:31:34Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22713#event-314333"
}
```



---

archive/issue_comments_337804.json:
```json
{
    "body": "Changed commit from **[`4e22cc3`](https://github.com/sagemath/sagetrac-mirror/commit/4e22cc35ea55d3a7558e5834401ee5483c7fcf9b)** to **[`513688c`](https://github.com/sagemath/sagetrac-mirror/commit/513688c2476548af90e3718cf9e7b4eaff270b77)**",
    "created_at": "2020-01-04T11:05:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337804",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4e22cc3`](https://github.com/sagemath/sagetrac-mirror/commit/4e22cc35ea55d3a7558e5834401ee5483c7fcf9b)** to **[`513688c`](https://github.com/sagemath/sagetrac-mirror/commit/513688c2476548af90e3718cf9e7b4eaff270b77)**



---

archive/issue_comments_337805.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/513688c2476548af90e3718cf9e7b4eaff270b77\"><code>513688c</code></a></td><td><code>trying to use precision</code></td></tr></table>\n",
    "created_at": "2020-01-04T11:05:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337805",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/513688c2476548af90e3718cf9e7b4eaff270b77"><code>513688c</code></a></td><td><code>trying to use precision</code></td></tr></table>




---

archive/issue_comments_337806.json:
```json
{
    "body": "Changed commit from **[`513688c`](https://github.com/sagemath/sagetrac-mirror/commit/513688c2476548af90e3718cf9e7b4eaff270b77)** to **[`63096a3`](https://github.com/sagemath/sagetrac-mirror/commit/63096a3fbc406bcc9f636d8fa590a7458eae6322)**",
    "created_at": "2020-03-18T15:42:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337806",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[`513688c`](https://github.com/sagemath/sagetrac-mirror/commit/513688c2476548af90e3718cf9e7b4eaff270b77)** to **[`63096a3`](https://github.com/sagemath/sagetrac-mirror/commit/63096a3fbc406bcc9f636d8fa590a7458eae6322)**



---

archive/issue_comments_337807.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nHere is a first advanced sketch for an implementation of the ring of Multiple Zeta values. This in fact implements the motivic MZV, in some sense, following the algorithm given by Francis Brown.\n\nI would appreciate comments and suggestions.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/63096a3fbc406bcc9f636d8fa590a7458eae6322\"><code>63096a3</code></a></td><td><code>first sketch for a ring of multiple zeta values</code></td></tr></table>\n",
    "created_at": "2020-03-18T15:42:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337807",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:6" align="right">comment:6</div>

Here is a first advanced sketch for an implementation of the ring of Multiple Zeta values. This in fact implements the motivic MZV, in some sense, following the algorithm given by Francis Brown.

I would appreciate comments and suggestions.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/63096a3fbc406bcc9f636d8fa590a7458eae6322"><code>63096a3</code></a></td><td><code>first sketch for a ring of multiple zeta values</code></td></tr></table>




---

archive/issue_events_314334.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-03-18T15:42:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22713#event-314334"
}
```



---

archive/issue_comments_337808.json:
```json
{
    "body": "Changed branch from **[u/chapoton/27713](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/27713)** to **[u/chapoton/ticket22713](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/ticket22713)**",
    "created_at": "2020-03-18T15:42:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337808",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/chapoton/27713](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/27713)** to **[u/chapoton/ticket22713](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/ticket22713)**



---

archive/issue_comments_337809.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,14 @@\n There is code in Pynac's `zeta2_eval` allowing `lst` arguments. Let's check if that can be interfaced to Python. Is there numerics available in mpmath or arb?\n \n https://en.wikipedia.org/wiki/Multiple_zeta_function\n+\n+EDIT: ticket used to implement the algebra of MZV.\n+\n+Sample computation:\n+\n+```\n+sage: Z = Multizeta\n+sage: M = matrix(2,2,[Z(2),Z(3),Z(4),Z(5)])\n+sage: M.det()\n+-10*\u03b6(1,6) - 5*\u03b6(2,5) - \u03b6(3,4) + \u03b6(4,3) + \u03b6(5,2)\n+```\n``````\n",
    "created_at": "2020-03-18T15:46:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337809",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,14 @@
 There is code in Pynac's `zeta2_eval` allowing `lst` arguments. Let's check if that can be interfaced to Python. Is there numerics available in mpmath or arb?
 
 https://en.wikipedia.org/wiki/Multiple_zeta_function
+
+EDIT: ticket used to implement the algebra of MZV.
+
+Sample computation:
+
+```
+sage: Z = Multizeta
+sage: M = matrix(2,2,[Z(2),Z(3),Z(4),Z(5)])
+sage: M.det()
+-10*ζ(1,6) - 5*ζ(2,5) - ζ(3,4) + ζ(4,3) + ζ(5,2)
+```
``````




---

archive/issue_comments_337810.json:
```json
{
    "body": "Changed commit from **[`63096a3`](https://github.com/sagemath/sagetrac-mirror/commit/63096a3fbc406bcc9f636d8fa590a7458eae6322)** to **[`d825c5a`](https://github.com/sagemath/sagetrac-mirror/commit/d825c5a2a010d01284e716d498985c192ce95da4)**",
    "created_at": "2020-03-18T15:51:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337810",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`63096a3`](https://github.com/sagemath/sagetrac-mirror/commit/63096a3fbc406bcc9f636d8fa590a7458eae6322)** to **[`d825c5a`](https://github.com/sagemath/sagetrac-mirror/commit/d825c5a2a010d01284e716d498985c192ce95da4)**



---

archive/issue_comments_337811.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d825c5a2a010d01284e716d498985c192ce95da4\"><code>d825c5a</code></a></td><td><code>details</code></td></tr></table>\n",
    "created_at": "2020-03-18T15:51:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337811",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d825c5a2a010d01284e716d498985c192ce95da4"><code>d825c5a</code></a></td><td><code>details</code></td></tr></table>




---

archive/issue_comments_337812.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47d0d723481fb21825d69b0b9b6e164cd2a83c80\"><code>47d0d72</code></a></td><td><code>first sketch for a ring of multiple zeta values</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b66a6937ea595293f1ccae70683324de2bc9749e\"><code>b66a693</code></a></td><td><code>more doc for MZV</code></td></tr></table>\n",
    "created_at": "2020-03-19T08:35:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337812",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47d0d723481fb21825d69b0b9b6e164cd2a83c80"><code>47d0d72</code></a></td><td><code>first sketch for a ring of multiple zeta values</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b66a6937ea595293f1ccae70683324de2bc9749e"><code>b66a693</code></a></td><td><code>more doc for MZV</code></td></tr></table>




---

archive/issue_comments_337813.json:
```json
{
    "body": "Changed commit from **[`d825c5a`](https://github.com/sagemath/sagetrac-mirror/commit/d825c5a2a010d01284e716d498985c192ce95da4)** to **[`b66a693`](https://github.com/sagemath/sagetrac-mirror/commit/b66a6937ea595293f1ccae70683324de2bc9749e)**",
    "created_at": "2020-03-19T08:35:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337813",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d825c5a`](https://github.com/sagemath/sagetrac-mirror/commit/d825c5a2a010d01284e716d498985c192ce95da4)** to **[`b66a693`](https://github.com/sagemath/sagetrac-mirror/commit/b66a6937ea595293f1ccae70683324de2bc9749e)**



---

archive/issue_comments_337814.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nDo you know anybody that could be interested in this stuff, and would review ?",
    "created_at": "2020-03-27T09:14:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337814",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:10" align="right">comment:10</div>

Do you know anybody that could be interested in this stuff, and would review ?



---

archive/issue_events_314335.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-03-27T09:14:59Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "title_is": "Multiple zeta algebra",
    "title_was": "Multiple zeta function",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22713#event-314335"
}
```



---

archive/issue_events_314336.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-03-27T09:14:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22713#event-314336"
}
```



---

archive/issue_events_314337.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-03-27T09:14:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22713#event-314337"
}
```



---

archive/issue_comments_337815.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,12 @@\n+**Old description:**\n+\n There is code in Pynac's `zeta2_eval` allowing `lst` arguments. Let's check if that can be interfaced to Python. Is there numerics available in mpmath or arb?\n \n https://en.wikipedia.org/wiki/Multiple_zeta_function\n \n-EDIT: ticket used to implement the algebra of MZV.\n+**New description:**\n+\n+This ticket is now used to implement the algebra of MZV, using algorithms of Francis Brown.\n \n Sample computation:\n \n``````\n",
    "created_at": "2020-03-27T09:14:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337815",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,12 @@
+**Old description:**
+
 There is code in Pynac's `zeta2_eval` allowing `lst` arguments. Let's check if that can be interfaced to Python. Is there numerics available in mpmath or arb?
 
 https://en.wikipedia.org/wiki/Multiple_zeta_function
 
-EDIT: ticket used to implement the algebra of MZV.
+**New description:**
+
+This ticket is now used to implement the algebra of MZV, using algorithms of Francis Brown.
 
 Sample computation:
 
``````




---

archive/issue_comments_337816.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@fchapoton](#comment%3A10):\n> Do you know anybody that could be interested in this stuff, and would review ?\n\nI am not sure. I have cc-ed Dan Bump, who might be willing to or know someone who could. I can do the technical review and would be willing to set a positive review if nobody else is willing to check the mathematics. However, I would rather have a mathematical review.",
    "created_at": "2020-03-27T10:07:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337816",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@fchapoton](#comment%3A10):
> Do you know anybody that could be interested in this stuff, and would review ?

I am not sure. I have cc-ed Dan Bump, who might be willing to or know someone who could. I can do the technical review and would be willing to set a positive review if nobody else is willing to check the mathematics. However, I would rather have a mathematical review.



---

archive/issue_comments_337817.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nActually, I thought about implementing the same thing! I can start the review next week (or maybe even this week-end).",
    "created_at": "2020-03-27T10:59:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337817",
    "user": "https://github.com/videlec"
}
```

<div id="comment:12" align="right">comment:12</div>

Actually, I thought about implementing the same thing! I can start the review next week (or maybe even this week-end).



---

archive/issue_comments_337818.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nCool ! Ca manque sans doute encore un peu de documentation, mais c'est pleinement fonctionnel (je crois).",
    "created_at": "2020-03-28T21:12:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337818",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:13" align="right">comment:13</div>

Cool ! Ca manque sans doute encore un peu de documentation, mais c'est pleinement fonctionnel (je crois).



---

archive/issue_events_314338.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-03-29T15:49:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22713#event-314338"
}
```



---

archive/issue_events_314339.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-03-29T15:49:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22713#event-314339"
}
```



---

archive/issue_comments_337819.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2020-03-29T15:49:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337819",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_comments_337820.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\n**Major code integration issues**\n\n- why in `modular`?\n- It might be useful to distinguish between multizeta values and\n  their algebra\n- what is the relation between your code and the already existing\n\n```\nsage: zeta(3)\nzeta(3)\n```\n\n**Major design issues**\n\nWhy are multizeta relations not part of the algebra!?\n\n```\nsage: 4*Multizeta(1,3) == Multizeta(4)\nFalse\nsage: Multizeta(2,2,2) == pi**6 / 7.factorial()\nFalse\n```\nThis is the most interesting part of the story! A lot is (conjecturally) known\n\n- the algebra has a graduation by weight (sum of the composition)\n- the algebra has a filtration by length\n- a very simple additive basis (Hoffman): multizeta values whith entries 2 and 3\n  (it is hence very easy to provide additive basis in fixed weight)\n- a rather simple multiplicative basis (Broadhurst)\n\n**Minor**\n\n- You should be more explicit about this comment\n\n```\nBeware that this conversion involves the sign `(-1)^w` where `w` is the\nlength of the composition and the number of `1`in the word in 0 and 1.\n```\n- the string representation is not informative enough\n\n```\nsage: m = Multizeta(3,2,2)\nsage: m.parent()\nAlgebra of MZV as zeta(n1,...nr) over Rational Field\n```\n- why do you cache numerical pari evaluation!? Also pari has a much faster evaluation for all multiple zeta values of given weight `zetamultall` which makes sense in this context.",
    "created_at": "2020-03-29T15:49:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337820",
    "user": "https://github.com/videlec"
}
```

<div id="comment:14" align="right">comment:14</div>

**Major code integration issues**

- why in `modular`?
- It might be useful to distinguish between multizeta values and
  their algebra
- what is the relation between your code and the already existing

```
sage: zeta(3)
zeta(3)
```

**Major design issues**

Why are multizeta relations not part of the algebra!?

```
sage: 4*Multizeta(1,3) == Multizeta(4)
False
sage: Multizeta(2,2,2) == pi**6 / 7.factorial()
False
```
This is the most interesting part of the story! A lot is (conjecturally) known

- the algebra has a graduation by weight (sum of the composition)
- the algebra has a filtration by length
- a very simple additive basis (Hoffman): multizeta values whith entries 2 and 3
  (it is hence very easy to provide additive basis in fixed weight)
- a rather simple multiplicative basis (Broadhurst)

**Minor**

- You should be more explicit about this comment

```
Beware that this conversion involves the sign `(-1)^w` where `w` is the
length of the composition and the number of `1`in the word in 0 and 1.
```
- the string representation is not informative enough

```
sage: m = Multizeta(3,2,2)
sage: m.parent()
Algebra of MZV as zeta(n1,...nr) over Rational Field
```
- why do you cache numerical pari evaluation!? Also pari has a much faster evaluation for all multiple zeta values of given weight `zetamultall` which makes sense in this context.



---

archive/issue_comments_337821.json:
```json
{
    "body": "Changed commit from **[`b66a693`](https://github.com/sagemath/sagetrac-mirror/commit/b66a6937ea595293f1ccae70683324de2bc9749e)** to **[`76722ca`](https://github.com/sagemath/sagetrac-mirror/commit/76722ca236e02362b13aee07d8048bf51a8c7906)**",
    "created_at": "2020-03-29T17:08:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337821",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b66a693`](https://github.com/sagemath/sagetrac-mirror/commit/b66a6937ea595293f1ccae70683324de2bc9749e)** to **[`76722ca`](https://github.com/sagemath/sagetrac-mirror/commit/76722ca236e02362b13aee07d8048bf51a8c7906)**



---

archive/issue_comments_337822.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a8565cc05d3d989e6f52e884824d95206907a019\"><code>a8565cc</code></a></td><td><code>Merge branch 'u/chapoton/ticket22713' of ssh://trac.sagemath.org:22/sage into mzv</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76722ca236e02362b13aee07d8048bf51a8c7906\"><code>76722ca</code></a></td><td><code>details in multiple zeta values</code></td></tr></table>\n",
    "created_at": "2020-03-29T17:08:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337822",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a8565cc05d3d989e6f52e884824d95206907a019"><code>a8565cc</code></a></td><td><code>Merge branch 'u/chapoton/ticket22713' of ssh://trac.sagemath.org:22/sage into mzv</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76722ca236e02362b13aee07d8048bf51a8c7906"><code>76722ca</code></a></td><td><code>details in multiple zeta values</code></td></tr></table>




---

archive/issue_comments_337823.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nMerci pour les commentaires !\n\nReplying to [@videlec](#comment%3A14):\n> **Major code integration issues**\n> \n> - why in `modular`?\n\nWell, this is the current place of some motivic stuff, for example hypergeometric motives. Any better suggestion ?\n\n> - It might be useful to distinguish between multizeta values and\n>   their algebra\n\nWhat do you mean ? change `Multizetas` to `MultizetasAlgebra` ?\n\n> - what is the relation between your code and the already existing\n> \n> ```\n> sage: zeta(3)\n> zeta(3)\n> ```\n\nNo relation. Symbolic ring is the root of all evil. I think that conversions are not really possible : from SR to MZV, it would have a very small domain. From MZV to SR, it would fail for lack of a symbolic MZV function. This is not at all what I want to do here.\n\n> **Major design issues**\n> \n> Why are multizeta relations not part of the algebra!?\n> \n> ```\n> sage: 4*Multizeta(1,3) == Multizeta(4)\n> False\n> sage: Multizeta(2,2,2) == pi**6 / 7.factorial()\n> False\n> ```\n\nI just forgot to implement equality for one of the two classes. Done now.\n\n> This is the most interesting part of the story! A lot is (conjecturally) known\n> \n> - the algebra has a graduation by weight (sum of the composition)\n> - the algebra has a filtration by length\n> - a very simple additive basis (Hoffman): multizeta values whith entries 2 and 3\n>   (it is hence very easy to provide additive basis in fixed weight)\n> - a rather simple multiplicative basis (Broadhurst)\n\nYes, sure. Because the implemented algebra is the \"motivic algebra of MZV\", these statements are not conjectural, but theorems. We already have the grading (see `M.category()`), in fact. There is room for a lot more work. It would be more fun to do this in a collaborative way. I spent a lot of time already just to make the \"motivic\" equality work correctly.\n\n> **Minor**\n> \n> - You should be more explicit about this comment\n> \n> ```\n> Beware that this conversion involves the sign `(-1)^w` where `w` is the\n> length of the composition and the number of `1`in the word in 0 and 1.\n> ```\n\nI hav expanded the comment.\n\n> - the string representation is not informative enough\n> \n> ```\n> sage: m = Multizeta(3,2,2)\n> sage: m.parent()\n> Algebra of MZV as zeta(n1,...nr) over Rational Field\n> ```\n\nI changed the repr to be more verbose.\n\n> - why do you cache numerical pari evaluation!? Also pari has a much faster evaluation for all multiple zeta values of given weight `zetamultall` which makes sense in this context.\n\nI cache that because I need a lot of them. But maybe this is not a good idea, given that their number is a power of 2. And of course, using the faster pari method to copmpute them all may be a good idea. But this depends on how the algebra is used.",
    "created_at": "2020-03-29T17:22:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337823",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:16" align="right">comment:16</div>

Merci pour les commentaires !

Replying to [@videlec](#comment%3A14):
> **Major code integration issues**
> 
> - why in `modular`?

Well, this is the current place of some motivic stuff, for example hypergeometric motives. Any better suggestion ?

> - It might be useful to distinguish between multizeta values and
>   their algebra

What do you mean ? change `Multizetas` to `MultizetasAlgebra` ?

> - what is the relation between your code and the already existing
> 
> ```
> sage: zeta(3)
> zeta(3)
> ```

No relation. Symbolic ring is the root of all evil. I think that conversions are not really possible : from SR to MZV, it would have a very small domain. From MZV to SR, it would fail for lack of a symbolic MZV function. This is not at all what I want to do here.

> **Major design issues**
> 
> Why are multizeta relations not part of the algebra!?
> 
> ```
> sage: 4*Multizeta(1,3) == Multizeta(4)
> False
> sage: Multizeta(2,2,2) == pi**6 / 7.factorial()
> False
> ```

I just forgot to implement equality for one of the two classes. Done now.

> This is the most interesting part of the story! A lot is (conjecturally) known
> 
> - the algebra has a graduation by weight (sum of the composition)
> - the algebra has a filtration by length
> - a very simple additive basis (Hoffman): multizeta values whith entries 2 and 3
>   (it is hence very easy to provide additive basis in fixed weight)
> - a rather simple multiplicative basis (Broadhurst)

Yes, sure. Because the implemented algebra is the "motivic algebra of MZV", these statements are not conjectural, but theorems. We already have the grading (see `M.category()`), in fact. There is room for a lot more work. It would be more fun to do this in a collaborative way. I spent a lot of time already just to make the "motivic" equality work correctly.

> **Minor**
> 
> - You should be more explicit about this comment
> 
> ```
> Beware that this conversion involves the sign `(-1)^w` where `w` is the
> length of the composition and the number of `1`in the word in 0 and 1.
> ```

I hav expanded the comment.

> - the string representation is not informative enough
> 
> ```
> sage: m = Multizeta(3,2,2)
> sage: m.parent()
> Algebra of MZV as zeta(n1,...nr) over Rational Field
> ```

I changed the repr to be more verbose.

> - why do you cache numerical pari evaluation!? Also pari has a much faster evaluation for all multiple zeta values of given weight `zetamultall` which makes sense in this context.

I cache that because I need a lot of them. But maybe this is not a good idea, given that their number is a power of 2. And of course, using the faster pari method to copmpute them all may be a good idea. But this depends on how the algebra is used.



---

archive/issue_comments_337824.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@fchapoton](#comment%3A16):\n\n> There is room for a lot more work. It would be more fun to do this in a collaborative way. I spent a lot of time already just to make the \"motivic\" equality work correctly.\n\nConsider my comments not as \"do this in this ticket\" but rather as\n- how does Vincent can make this useful for him (or at least understandable)? Given the fact that you spent a lot of time on this you know the code much better than I do.\n- Make sure that all what I suggest can be done in the future without changing the design.\n\nOnce I am convinced by the design, I can go through the documentation and suggest/change/expand (inside a commit).",
    "created_at": "2020-03-29T18:10:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337824",
    "user": "https://github.com/videlec"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@fchapoton](#comment%3A16):

> There is room for a lot more work. It would be more fun to do this in a collaborative way. I spent a lot of time already just to make the "motivic" equality work correctly.

Consider my comments not as "do this in this ticket" but rather as
- how does Vincent can make this useful for him (or at least understandable)? Given the fact that you spent a lot of time on this you know the code much better than I do.
- Make sure that all what I suggest can be done in the future without changing the design.

Once I am convinced by the design, I can go through the documentation and suggest/change/expand (inside a commit).



---

archive/issue_comments_337825.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@fchapoton](#comment%3A16):\n> Merci pour les commentaires !\n> \n> Replying to [@videlec](#comment%3A14):\n> > **Major code integration issues**\n> > \n> > - why in `modular`?\n\n> \n> Well, this is the current place of some motivic stuff, for example hypergeometric motives. Any better suggestion ?\n\n`arith`? `motives`?\n\nI do not see the link with modular form (which does not mean that there is not one).\n \n> > - It might be useful to distinguish between multizeta values and\n> >   their algebra\n\n> \n> What do you mean ? change `Multizetas` to `MultizetasAlgebra` ?\n\nNot exactly. `(s1, s2, s3) -> zeta(s1, s2, s3)` is a function. `zeta(3, 5, 2)` is a special value of this function which is a real number. But the `Multizeta` you designed lives in a different world. It has an evaluation to the reals. But this is not clearly stated in the module documentation to my mind.\n\n> > - what is the relation between your code and the already existing\n> > \n> > ```\n> > sage: zeta(3)\n> > zeta(3)\n> > ```\n\n> \n> No relation. Symbolic ring is the root of all evil. I think that conversions are not really possible : from SR to MZV, it would have a very small domain. From MZV to SR, it would fail for lack of a symbolic MZV function. This is not at all what I want to do here.\n\nBut `pi` and `zeta(2)` are (when considered as real numbers) part of the (image in the real numbers of the) algebra you are trying to design. This is confusing, unless everything becomes \"motivic\".\n\n> > **Major design issues**\n> > \n> > Why are multizeta relations not part of the algebra!?\n> > \n> > ```\n> > sage: 4*Multizeta(1,3) == Multizeta(4)\n> > False\n> > sage: Multizeta(2,2,2) == pi**6 / 7.factorial()\n> > False\n> > ```\n\n> \n> I just forgot to implement equality for one of the two classes. Done now.\n\nWunderbar!\n\n> > This is the most interesting part of the story! A lot is (conjecturally) known\n> > \n> > - the algebra has a graduation by weight (sum of the composition)\n> > - the algebra has a filtration by length\n> > - a very simple additive basis (Hoffman): multizeta values whith entries 2 and 3\n> >   (it is hence very easy to provide additive basis in fixed weight)\n> > - a rather simple multiplicative basis (Broadhurst)\n\n> \n> Yes, sure. Because the implemented algebra is the \"motivic algebra of MZV\", these statements are not conjectural, but theorems.\n\nAs I said, it would help if there were a clearer distinction between this motivic version and its image in the set of real numbers.\n\nAlso, if the algebra of motivic MZV is \"just\" a special case of `FreeZinbielAlgebra` why do you hide it under this `F_ring` function? I have hard time understanding the logic of your proposal. If `FreeZinbielAlgebra` lacks support for infinite basis, shouldn't it be the purpose of this ticket (or a dependency of this one)?\n\n> We already have the grading (see `M.category()`), in fact.\n\nWhat I want to be able to do (maybe this is already possible)\n\n- access a graded component (as a finite dimensional `Q`-vector space), let say `M` and do `M.basis()`, `M.dimension()`, ... And more generally, perform linear algebra there.\n\n> > - the string representation is not informative enough\n> > \n> > ```\n> > sage: m = Multizeta(3,2,2)\n> > sage: m.parent()\n> > Algebra of MZV as zeta(n1,...nr) over Rational Field\n> > ```\n\n> \n> I changed the repr to be more verbose.\n\nPlease use \"motivic zeta values\" here (unless I misunderstood something).",
    "created_at": "2020-03-29T18:13:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337825",
    "user": "https://github.com/videlec"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@fchapoton](#comment%3A16):
> Merci pour les commentaires !
> 
> Replying to [@videlec](#comment%3A14):
> > **Major code integration issues**
> > 
> > - why in `modular`?

> 
> Well, this is the current place of some motivic stuff, for example hypergeometric motives. Any better suggestion ?

`arith`? `motives`?

I do not see the link with modular form (which does not mean that there is not one).
 
> > - It might be useful to distinguish between multizeta values and
> >   their algebra

> 
> What do you mean ? change `Multizetas` to `MultizetasAlgebra` ?

Not exactly. `(s1, s2, s3) -> zeta(s1, s2, s3)` is a function. `zeta(3, 5, 2)` is a special value of this function which is a real number. But the `Multizeta` you designed lives in a different world. It has an evaluation to the reals. But this is not clearly stated in the module documentation to my mind.

> > - what is the relation between your code and the already existing
> > 
> > ```
> > sage: zeta(3)
> > zeta(3)
> > ```

> 
> No relation. Symbolic ring is the root of all evil. I think that conversions are not really possible : from SR to MZV, it would have a very small domain. From MZV to SR, it would fail for lack of a symbolic MZV function. This is not at all what I want to do here.

But `pi` and `zeta(2)` are (when considered as real numbers) part of the (image in the real numbers of the) algebra you are trying to design. This is confusing, unless everything becomes "motivic".

> > **Major design issues**
> > 
> > Why are multizeta relations not part of the algebra!?
> > 
> > ```
> > sage: 4*Multizeta(1,3) == Multizeta(4)
> > False
> > sage: Multizeta(2,2,2) == pi**6 / 7.factorial()
> > False
> > ```

> 
> I just forgot to implement equality for one of the two classes. Done now.

Wunderbar!

> > This is the most interesting part of the story! A lot is (conjecturally) known
> > 
> > - the algebra has a graduation by weight (sum of the composition)
> > - the algebra has a filtration by length
> > - a very simple additive basis (Hoffman): multizeta values whith entries 2 and 3
> >   (it is hence very easy to provide additive basis in fixed weight)
> > - a rather simple multiplicative basis (Broadhurst)

> 
> Yes, sure. Because the implemented algebra is the "motivic algebra of MZV", these statements are not conjectural, but theorems.

As I said, it would help if there were a clearer distinction between this motivic version and its image in the set of real numbers.

Also, if the algebra of motivic MZV is "just" a special case of `FreeZinbielAlgebra` why do you hide it under this `F_ring` function? I have hard time understanding the logic of your proposal. If `FreeZinbielAlgebra` lacks support for infinite basis, shouldn't it be the purpose of this ticket (or a dependency of this one)?

> We already have the grading (see `M.category()`), in fact.

What I want to be able to do (maybe this is already possible)

- access a graded component (as a finite dimensional `Q`-vector space), let say `M` and do `M.basis()`, `M.dimension()`, ... And more generally, perform linear algebra there.

> > - the string representation is not informative enough
> > 
> > ```
> > sage: m = Multizeta(3,2,2)
> > sage: m.parent()
> > Algebra of MZV as zeta(n1,...nr) over Rational Field
> > ```

> 
> I changed the repr to be more verbose.

Please use "motivic zeta values" here (unless I misunderstood something).



---

archive/issue_comments_337826.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\n> > - why do you cache numerical pari evaluation!? Also pari has a much faster evaluation for all multiple zeta values of given weight `zetamultall` which makes sense in this context.\n\n> \n> I cache that because I need a lot of them. But maybe this is not a good idea, given that their number is a power of 2. And of course, using the faster pari method to copmpute them all may be a good idea. But this depends on how the algebra is used.\n\nThat you need a lot of them is not a good enough reason! But this is a very minor issue for sure.",
    "created_at": "2020-03-29T18:14:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337826",
    "user": "https://github.com/videlec"
}
```

<div id="comment:19" align="right">comment:19</div>

> > - why do you cache numerical pari evaluation!? Also pari has a much faster evaluation for all multiple zeta values of given weight `zetamultall` which makes sense in this context.

> 
> I cache that because I need a lot of them. But maybe this is not a good idea, given that their number is a power of 2. And of course, using the faster pari method to copmpute them all may be a good idea. But this depends on how the algebra is used.

That you need a lot of them is not a good enough reason! But this is a very minor issue for sure.



---

archive/issue_comments_337827.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nIt should be easy to extend the `FreeZinbielAlgebra` to support infinite bases. From looking at the code, it just requires a little bit of changing around of the `__classcall_private__` and `__init__` methods to allow for infinite generating set, along with a slight tweaks to the construction functor to check this cases. This might be of independent interest.",
    "created_at": "2020-03-30T08:16:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337827",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:20" align="right">comment:20</div>

It should be easy to extend the `FreeZinbielAlgebra` to support infinite bases. From looking at the code, it just requires a little bit of changing around of the `__classcall_private__` and `__init__` methods to allow for infinite generating set, along with a slight tweaks to the construction functor to check this cases. This might be of independent interest.



---

archive/issue_comments_337828.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nHello Travis,\n\nI would like very much to have that, but did not feel able to do that. It was already hard to allow numbered variables such as \"z2\" as generator names. What we need here is the free Zinbiel algebra on the set of odd integers greater than 3.",
    "created_at": "2020-03-30T08:19:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337828",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:21" align="right">comment:21</div>

Hello Travis,

I would like very much to have that, but did not feel able to do that. It was already hard to allow numbered variables such as "z2" as generator names. What we need here is the free Zinbiel algebra on the set of odd integers greater than 3.



---

archive/issue_comments_337829.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI will do this tomorrow (it is quite late here and I don't think I have the energy to do it today). To sketch what I will do to `FreeZinbielAlgebra`:\n\nIn the `__classcall_private__` allow `n` to be a non-integer, in which case `names` should be `None` and just pass that to the `__init__`. There `n`, in this case, will get fed to `Alphabet`. Then `algebra_generators` will need a case when `self.variable_names() is not None`. Then there will also be some slight cases when checking stuff in the construction functor with disabling those features as checking trivial intersection of infinite sets is not computable.",
    "created_at": "2020-03-30T08:28:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337829",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:22" align="right">comment:22</div>

I will do this tomorrow (it is quite late here and I don't think I have the energy to do it today). To sketch what I will do to `FreeZinbielAlgebra`:

In the `__classcall_private__` allow `n` to be a non-integer, in which case `names` should be `None` and just pass that to the `__init__`. There `n`, in this case, will get fed to `Alphabet`. Then `algebra_generators` will need a case when `self.variable_names() is not None`. Then there will also be some slight cases when checking stuff in the construction functor with disabling those features as checking trivial intersection of infinite sets is not computable.



---

archive/issue_comments_337830.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c83419a40722c0225d5cdeb2d564d88c4035235c\"><code>c83419a</code></a></td><td><code>more doc, motivic names, one more doctest for a fix</code></td></tr></table>\n",
    "created_at": "2020-03-30T15:31:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337830",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c83419a40722c0225d5cdeb2d564d88c4035235c"><code>c83419a</code></a></td><td><code>more doc, motivic names, one more doctest for a fix</code></td></tr></table>




---

archive/issue_comments_337831.json:
```json
{
    "body": "Changed commit from **[`76722ca`](https://github.com/sagemath/sagetrac-mirror/commit/76722ca236e02362b13aee07d8048bf51a8c7906)** to **[`c83419a`](https://github.com/sagemath/sagetrac-mirror/commit/c83419a40722c0225d5cdeb2d564d88c4035235c)**",
    "created_at": "2020-03-30T15:31:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337831",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`76722ca`](https://github.com/sagemath/sagetrac-mirror/commit/76722ca236e02362b13aee07d8048bf51a8c7906)** to **[`c83419a`](https://github.com/sagemath/sagetrac-mirror/commit/c83419a40722c0225d5cdeb2d564d88c4035235c)**



---

archive/issue_comments_337832.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nWhat is your rule about lower case/upper case in mathematic terms such as `motivic Multiple Zeta Values`?\n\nEDIT: for example it appears in the doc as `motivic multiple zeta values`.",
    "created_at": "2020-03-30T15:40:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337832",
    "user": "https://github.com/videlec"
}
```

<div id="comment:24" align="right">comment:24</div>

What is your rule about lower case/upper case in mathematic terms such as `motivic Multiple Zeta Values`?

EDIT: for example it appears in the doc as `motivic multiple zeta values`.



---

archive/issue_comments_337833.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nWhat do you mean by `Although this set of relations is not explicit`?",
    "created_at": "2020-03-30T15:44:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337833",
    "user": "https://github.com/videlec"
}
```

<div id="comment:25" align="right">comment:25</div>

What do you mean by `Although this set of relations is not explicit`?



---

archive/issue_comments_337834.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nSalut Vincent. Je crois qu'il faut lire l'article de Brown pour comprendre un peu ce que fait le programme.\n\nConcernant les majuscules/minuscules : il est d'usage de parler de MZV, c'est pour ca que j'ai garder les majuscules \u00e0 Multiple Zeta Values. Mais d'un autre cot\u00e9, je propose les fonctions Multizeta et Multizetas, ce qui n'est pas tres coherent.\n\nConcernant les relations non explicites : l'ideal des relations n'est pas explicite, mais defini grosso modo comme \"l'ensemble des relations induites par les changements de variables en geometrie algebrique\". Et malgr\u00e9 tout, les gens comme F. Brown parviennent \u00e0 d\u00e9crire le quotient, \u00e0 en donner des bases, etc. Mais on ne connait pas d'ensemble de generateurs de l'ideal des relations, sauf de facon conjecturale.",
    "created_at": "2020-03-30T15:48:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337834",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:26" align="right">comment:26</div>

Salut Vincent. Je crois qu'il faut lire l'article de Brown pour comprendre un peu ce que fait le programme.

Concernant les majuscules/minuscules : il est d'usage de parler de MZV, c'est pour ca que j'ai garder les majuscules à Multiple Zeta Values. Mais d'un autre coté, je propose les fonctions Multizeta et Multizetas, ce qui n'est pas tres coherent.

Concernant les relations non explicites : l'ideal des relations n'est pas explicite, mais defini grosso modo comme "l'ensemble des relations induites par les changements de variables en geometrie algebrique". Et malgré tout, les gens comme F. Brown parviennent à décrire le quotient, à en donner des bases, etc. Mais on ne connait pas d'ensemble de generateurs de l'ideal des relations, sauf de facon conjecturale.



---

archive/issue_comments_337835.json:
```json
{
    "body": "Changed commit from **[`c83419a`](https://github.com/sagemath/sagetrac-mirror/commit/c83419a40722c0225d5cdeb2d564d88c4035235c)** to **[`9670c98`](https://github.com/sagemath/sagetrac-mirror/commit/9670c981242a153a7d8e9ecec8e07c3ae76a548f)**",
    "created_at": "2020-03-30T16:40:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337835",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c83419a`](https://github.com/sagemath/sagetrac-mirror/commit/c83419a40722c0225d5cdeb2d564d88c4035235c)** to **[`9670c98`](https://github.com/sagemath/sagetrac-mirror/commit/9670c981242a153a7d8e9ecec8e07c3ae76a548f)**



---

archive/issue_comments_337836.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9670c981242a153a7d8e9ecec8e07c3ae76a548f\"><code>9670c98</code></a></td><td><code>some details in doc of MZV</code></td></tr></table>\n",
    "created_at": "2020-03-30T16:40:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337836",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9670c981242a153a7d8e9ecec8e07c3ae76a548f"><code>9670c98</code></a></td><td><code>some details in doc of MZV</code></td></tr></table>




---

archive/issue_comments_337837.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2849ea6d7ad22121bb65a54e3602e6b65cbcd8db\"><code>2849ea6</code></a></td><td><code>one more reference</code></td></tr></table>\n",
    "created_at": "2020-03-30T17:20:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337837",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2849ea6d7ad22121bb65a54e3602e6b65cbcd8db"><code>2849ea6</code></a></td><td><code>one more reference</code></td></tr></table>




---

archive/issue_comments_337838.json:
```json
{
    "body": "Changed commit from **[`9670c98`](https://github.com/sagemath/sagetrac-mirror/commit/9670c981242a153a7d8e9ecec8e07c3ae76a548f)** to **[`2849ea6`](https://github.com/sagemath/sagetrac-mirror/commit/2849ea6d7ad22121bb65a54e3602e6b65cbcd8db)**",
    "created_at": "2020-03-30T17:20:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337838",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9670c98`](https://github.com/sagemath/sagetrac-mirror/commit/9670c981242a153a7d8e9ecec8e07c3ae76a548f)** to **[`2849ea6`](https://github.com/sagemath/sagetrac-mirror/commit/2849ea6d7ad22121bb65a54e3602e6b65cbcd8db)**



---

archive/issue_comments_337839.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nTesting relations from [wikipedia](https://en.wikipedia.org/wiki/Multiple_zeta_function#Two_parameters_case) (which has the opposite convention for the order of entries)\n\n```\nsage: assert Multizeta(2,2) == 3/4 * Multizeta(4)\nsage: assert Multizeta(2,3) == 3*Multizeta(2)*Multizeta(3) - 11/2*Multizeta(5)\nsage: assert Multizeta(2,4) == Multizeta(3)**2 - 4/3*Multizeta(6)\nsage: assert Multizeta(2,5) == 5*Multizeta(2)*Multizeta(5) + 2*Multizeta(3)*Multizeta(4) - 11*Multizeta(7)\nsage: assert Multizeta(3,2) == 9/2*Multizeta(5) - 2*Multizeta(2)*Multizeta(3)\nsage: assert Multizeta(3,3) == 1/2 * (Multizeta(3)**2 - Multizeta(6))\nsage: assert Multizeta(3,4) == 17*Multizeta(7) - 10*Multizeta(2)*Multizeta(5)\nsage: assert Multizeta(3,5) == 5*Multizeta(3)*Multizeta(5) - 147/24*Multizeta(8) - 5/2*Multizeta(2,6)\nsage: assert Multizeta(4,2) == 25/12*Multizeta(6) - Multizeta(3)**2\nsage: assert Multizeta(4,3) == 10*Multizeta(2)*Multizeta(5) + Multizeta(3)*Multizeta(4) - 18*Multizeta(7)\nsage: assert Multizeta(4,4) == 1/2*(Multizeta(4)**2 - Multizeta(8))\n```",
    "created_at": "2020-03-30T17:32:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337839",
    "user": "https://github.com/videlec"
}
```

<div id="comment:29" align="right">comment:29</div>

Testing relations from [wikipedia](https://en.wikipedia.org/wiki/Multiple_zeta_function#Two_parameters_case) (which has the opposite convention for the order of entries)

```
sage: assert Multizeta(2,2) == 3/4 * Multizeta(4)
sage: assert Multizeta(2,3) == 3*Multizeta(2)*Multizeta(3) - 11/2*Multizeta(5)
sage: assert Multizeta(2,4) == Multizeta(3)**2 - 4/3*Multizeta(6)
sage: assert Multizeta(2,5) == 5*Multizeta(2)*Multizeta(5) + 2*Multizeta(3)*Multizeta(4) - 11*Multizeta(7)
sage: assert Multizeta(3,2) == 9/2*Multizeta(5) - 2*Multizeta(2)*Multizeta(3)
sage: assert Multizeta(3,3) == 1/2 * (Multizeta(3)**2 - Multizeta(6))
sage: assert Multizeta(3,4) == 17*Multizeta(7) - 10*Multizeta(2)*Multizeta(5)
sage: assert Multizeta(3,5) == 5*Multizeta(3)*Multizeta(5) - 147/24*Multizeta(8) - 5/2*Multizeta(2,6)
sage: assert Multizeta(4,2) == 25/12*Multizeta(6) - Multizeta(3)**2
sage: assert Multizeta(4,3) == 10*Multizeta(2)*Multizeta(5) + Multizeta(3)*Multizeta(4) - 18*Multizeta(7)
sage: assert Multizeta(4,4) == 1/2*(Multizeta(4)**2 - Multizeta(8))
```



---

archive/issue_comments_337840.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nI thought about getting linear relations using\n\n```\nsage: matrix([Multizeta(2,2), Multizeta(1,3), Multizeta(4)]).right_kernel()\n```\nBut this badly fails\n\n```\n---------------------------------------------------------------------------\nKeyError                                  Traceback (most recent call last)\n/opt/sage/local/lib/python3.7/site-packages/sage/structure/category_object.pyx in sage.structure.category_object.CategoryObject.getattr_from_category (build/cythonized/sage/structure/category_object.c:6958)()\n    837         try:\n--> 838             return self.__cached_methods[name]\n    839         except KeyError:\n\nKeyError: 'is_integral_domain'\n\nDuring handling of the above exception, another exception occurred:\n\nAttributeError                            Traceback (most recent call last)\n<ipython-input-1-7e649f42fa12> in <module>()\n----> 1 matrix([Multizeta(Integer(2),Integer(2)), Multizeta(Integer(1),Integer(3)), Multizeta(Integer(4))]).right_kernel()\n\n/opt/sage/local/lib/python3.7/site-packages/sage/matrix/matrix2.pyx in sage.matrix.matrix2.Matrix.right_kernel (build/cythonized/sage/matrix/matrix2.c:29512)()\n   4239 \n   4240         # Go get the kernel matrix, this is where it all happens\n-> 4241         M = self.right_kernel_matrix(*args, **kwds)\n   4242 \n   4243         ambient = R**self.ncols()\n\n/opt/sage/local/lib/python3.7/site-packages/sage/matrix/matrix2.pyx in sage.matrix.matrix2.Matrix.right_kernel_matrix (build/cythonized/sage/matrix/matrix2.c:28514)()\n   3850             format, M = self._right_kernel_matrix_over_field()\n   3851 \n-> 3852         if M is None and R.is_integral_domain():\n   3853             format, M = self._right_kernel_matrix_over_domain()\n   3854 \n\n/opt/sage/local/lib/python3.7/site-packages/sage/structure/category_object.pyx in sage.structure.category_object.CategoryObject.__getattr__ (build/cythonized/sage/structure/category_object.c:6880)()\n    830             AttributeError: 'PrimeNumbers_with_category' object has no attribute 'sadfasdf'\n    831         \"\"\"\n--> 832         return self.getattr_from_category(name)\n    833 \n    834     cdef getattr_from_category(self, name):\n\n/opt/sage/local/lib/python3.7/site-packages/sage/structure/category_object.pyx in sage.structure.category_object.CategoryObject.getattr_from_category (build/cythonized/sage/structure/category_object.c:7043)()\n    845                 cls = self._category.parent_class\n    846 \n--> 847             attr = getattr_from_other_class(self, cls, name)\n    848             self.__cached_methods[name] = attr\n    849             return attr\n\n/opt/sage/local/lib/python3.7/site-packages/sage/cpython/getattr.pyx in sage.cpython.getattr.getattr_from_other_class (build/cythonized/sage/cpython/getattr.c:2547)()\n    387         dummy_error_message.cls = type(self)\n    388         dummy_error_message.name = name\n--> 389         raise AttributeError(dummy_error_message)\n    390     cdef PyObject* attr = instance_getattr(cls, name)\n    391     if attr is NULL:\n\nAttributeError: 'Multizetas_with_category' object has no attribute 'is_integral_domain'\n```",
    "created_at": "2020-03-30T17:34:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337840",
    "user": "https://github.com/videlec"
}
```

<div id="comment:30" align="right">comment:30</div>

I thought about getting linear relations using

```
sage: matrix([Multizeta(2,2), Multizeta(1,3), Multizeta(4)]).right_kernel()
```
But this badly fails

```
---------------------------------------------------------------------------
KeyError                                  Traceback (most recent call last)
/opt/sage/local/lib/python3.7/site-packages/sage/structure/category_object.pyx in sage.structure.category_object.CategoryObject.getattr_from_category (build/cythonized/sage/structure/category_object.c:6958)()
    837         try:
--> 838             return self.__cached_methods[name]
    839         except KeyError:

KeyError: 'is_integral_domain'

During handling of the above exception, another exception occurred:

AttributeError                            Traceback (most recent call last)
<ipython-input-1-7e649f42fa12> in <module>()
----> 1 matrix([Multizeta(Integer(2),Integer(2)), Multizeta(Integer(1),Integer(3)), Multizeta(Integer(4))]).right_kernel()

/opt/sage/local/lib/python3.7/site-packages/sage/matrix/matrix2.pyx in sage.matrix.matrix2.Matrix.right_kernel (build/cythonized/sage/matrix/matrix2.c:29512)()
   4239 
   4240         # Go get the kernel matrix, this is where it all happens
-> 4241         M = self.right_kernel_matrix(*args, **kwds)
   4242 
   4243         ambient = R**self.ncols()

/opt/sage/local/lib/python3.7/site-packages/sage/matrix/matrix2.pyx in sage.matrix.matrix2.Matrix.right_kernel_matrix (build/cythonized/sage/matrix/matrix2.c:28514)()
   3850             format, M = self._right_kernel_matrix_over_field()
   3851 
-> 3852         if M is None and R.is_integral_domain():
   3853             format, M = self._right_kernel_matrix_over_domain()
   3854 

/opt/sage/local/lib/python3.7/site-packages/sage/structure/category_object.pyx in sage.structure.category_object.CategoryObject.__getattr__ (build/cythonized/sage/structure/category_object.c:6880)()
    830             AttributeError: 'PrimeNumbers_with_category' object has no attribute 'sadfasdf'
    831         """
--> 832         return self.getattr_from_category(name)
    833 
    834     cdef getattr_from_category(self, name):

/opt/sage/local/lib/python3.7/site-packages/sage/structure/category_object.pyx in sage.structure.category_object.CategoryObject.getattr_from_category (build/cythonized/sage/structure/category_object.c:7043)()
    845                 cls = self._category.parent_class
    846 
--> 847             attr = getattr_from_other_class(self, cls, name)
    848             self.__cached_methods[name] = attr
    849             return attr

/opt/sage/local/lib/python3.7/site-packages/sage/cpython/getattr.pyx in sage.cpython.getattr.getattr_from_other_class (build/cythonized/sage/cpython/getattr.c:2547)()
    387         dummy_error_message.cls = type(self)
    388         dummy_error_message.name = name
--> 389         raise AttributeError(dummy_error_message)
    390     cdef PyObject* attr = instance_getattr(cls, name)
    391     if attr is NULL:

AttributeError: 'Multizetas_with_category' object has no attribute 'is_integral_domain'
```



---

archive/issue_comments_337841.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@videlec](#comment%3A30):\n> I thought about getting linear relations using\n> \n> ```\n> sage: matrix([Multizeta(2,2), Multizeta(1,3), Multizeta(4)]).right_kernel()\n> ```\n\nAlternatively\n\n```\nsage: pari.lindep([pari.zetamult([2,2]), pari.zetamult([3,1]), pari.zetamult([4])])\n[-1, -1, 1]~\n```\n(wher you can notice that PARI/GP also has the other convention for the order)",
    "created_at": "2020-03-30T17:50:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337841",
    "user": "https://github.com/videlec"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@videlec](#comment%3A30):
> I thought about getting linear relations using
> 
> ```
> sage: matrix([Multizeta(2,2), Multizeta(1,3), Multizeta(4)]).right_kernel()
> ```

Alternatively

```
sage: pari.lindep([pari.zetamult([2,2]), pari.zetamult([3,1]), pari.zetamult([4])])
[-1, -1, 1]~
```
(wher you can notice that PARI/GP also has the other convention for the order)



---

archive/issue_comments_337842.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\n* Concerning the order convention, it is unfortunate that here is no unique prefered one. I sticked with Brown's convention, which I like because the conversion to iterated integral is more simple.\n\n* Concerning the question of finding relations between a given set of MZV, the simplest way is to convert them all to the F-ring and do linear algebra there.\n\n* One could probably add \"integral domain\" to the category of \"Multizetas\"",
    "created_at": "2020-03-30T18:30:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337842",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:32" align="right">comment:32</div>

* Concerning the order convention, it is unfortunate that here is no unique prefered one. I sticked with Brown's convention, which I like because the conversion to iterated integral is more simple.

* Concerning the question of finding relations between a given set of MZV, the simplest way is to convert them all to the F-ring and do linear algebra there.

* One could probably add "integral domain" to the category of "Multizetas"



---

archive/issue_comments_337843.json:
```json
{
    "body": "Changed commit from **[`2849ea6`](https://github.com/sagemath/sagetrac-mirror/commit/2849ea6d7ad22121bb65a54e3602e6b65cbcd8db)** to **[`8d56f70`](https://github.com/sagemath/sagetrac-mirror/commit/8d56f7008746cda2086284e245157278994eea73)**",
    "created_at": "2020-03-30T18:37:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337843",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2849ea6`](https://github.com/sagemath/sagetrac-mirror/commit/2849ea6d7ad22121bb65a54e3602e6b65cbcd8db)** to **[`8d56f70`](https://github.com/sagemath/sagetrac-mirror/commit/8d56f7008746cda2086284e245157278994eea73)**



---

archive/issue_comments_337844.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8d56f7008746cda2086284e245157278994eea73\"><code>8d56f70</code></a></td><td><code>add category of integral domain to both MZV algebras</code></td></tr></table>\n",
    "created_at": "2020-03-30T18:37:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337844",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8d56f7008746cda2086284e245157278994eea73"><code>8d56f70</code></a></td><td><code>add category of integral domain to both MZV algebras</code></td></tr></table>




---

archive/issue_comments_337845.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@tscrim](#comment%3A22):\n> I will do this tomorrow (it is quite late here and I don't think I have the energy to do it today). To sketch what I will do to `FreeZinbielAlgebra`:\n\nThis is now #29434. For your application here, I would just use the larger algebra with generators indexed by `ZZ` and just use the generators you need for simplicity.",
    "created_at": "2020-03-31T06:10:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337845",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@tscrim](#comment%3A22):
> I will do this tomorrow (it is quite late here and I don't think I have the energy to do it today). To sketch what I will do to `FreeZinbielAlgebra`:

This is now #29434. For your application here, I would just use the larger algebra with generators indexed by `ZZ` and just use the generators you need for simplicity.



---

archive/issue_comments_337846.json:
```json
{
    "body": "Changed commit from **[`8d56f70`](https://github.com/sagemath/sagetrac-mirror/commit/8d56f7008746cda2086284e245157278994eea73)** to **[`5d638ae`](https://github.com/sagemath/sagetrac-mirror/commit/5d638ae085f5508299108f61e4ff63ac6407fe96)**",
    "created_at": "2020-04-02T14:03:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337846",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8d56f70`](https://github.com/sagemath/sagetrac-mirror/commit/8d56f7008746cda2086284e245157278994eea73)** to **[`5d638ae`](https://github.com/sagemath/sagetrac-mirror/commit/5d638ae085f5508299108f61e4ff63ac6407fe96)**



---

archive/issue_comments_337847.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d638ae085f5508299108f61e4ff63ac6407fe96\"><code>5d638ae</code></a></td><td><code>make phi map also available on the main algebra and its elements</code></td></tr></table>\n",
    "created_at": "2020-04-02T14:03:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337847",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d638ae085f5508299108f61e4ff63ac6407fe96"><code>5d638ae</code></a></td><td><code>make phi map also available on the main algebra and its elements</code></td></tr></table>




---

archive/issue_comments_337848.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\n@JohnCremona : John, would you please put a message in sage-nt, so that interested people can have a look at this ticket ?",
    "created_at": "2020-04-02T14:04:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337848",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:36" align="right">comment:36</div>

@JohnCremona : John, would you please put a message in sage-nt, so that interested people can have a look at this ticket ?



---

archive/issue_comments_337849.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nReplying to [@fchapoton](#comment%3A36):\n> @JohnCremona : John, would you please put a message in sage-nt, so that interested people can have a look at this ticket ?\n\nOK, will do",
    "created_at": "2020-04-02T14:12:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337849",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:37" align="right">comment:37</div>

Replying to [@fchapoton](#comment%3A36):
> @JohnCremona : John, would you please put a message in sage-nt, so that interested people can have a look at this ticket ?

OK, will do



---

archive/issue_comments_337850.json:
```json
{
    "body": "Author: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2020-04-02T16:34:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337850",
    "user": "https://github.com/fchapoton"
}
```

Author: **Frédéric Chapoton**



---

archive/issue_comments_337851.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nMay I set back to needs review ?",
    "created_at": "2020-04-06T19:04:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337851",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:39" align="right">comment:39</div>

May I set back to needs review ?



---

archive/issue_comments_337852.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nBien sur tu peux. Mais je croyais que tu allais refactoriser en utilisant #29434 et te d\u00e9barasser de `F_ring`. Que comptes-tu faire?",
    "created_at": "2020-04-06T19:06:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337852",
    "user": "https://github.com/videlec"
}
```

<div id="comment:40" align="right">comment:40</div>

Bien sur tu peux. Mais je croyais que tu allais refactoriser en utilisant #29434 et te débarasser de `F_ring`. Que comptes-tu faire?



---

archive/issue_comments_337853.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nSalut,\n\nil n'est pas question de se d\u00e9barrasser du F_ring, qui joue un role crucial.\n\non peut modifier le F_ring pour qu'il ait un nombre infini de generateurs, mais de toutes facons, le code devient lent a partir de n=12 ou 13, et il est limit\u00e9 par la table des g\u00e9n\u00e9rateurs des zetas comme alg\u00e8bres, qui est cod\u00e9e en dur jusqu'a n=17.\n\nJe devrais sans doute mettre un gros avertissement : ne fonctionne qu'en poids <= 17",
    "created_at": "2020-04-06T19:29:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337853",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:41" align="right">comment:41</div>

Salut,

il n'est pas question de se débarrasser du F_ring, qui joue un role crucial.

on peut modifier le F_ring pour qu'il ait un nombre infini de generateurs, mais de toutes facons, le code devient lent a partir de n=12 ou 13, et il est limité par la table des générateurs des zetas comme algèbres, qui est codée en dur jusqu'a n=17.

Je devrais sans doute mettre un gros avertissement : ne fonctionne qu'en poids <= 17



---

archive/issue_comments_337854.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nQuestion to Travis, @tscrim. How to make this work: \n\n```\nsage: Z = Multizeta\nsage: Z(3)/Z(2,1)\n```\nI have declared the algebra to be an integral domain, but this does not trigger the fraction field.",
    "created_at": "2020-04-06T19:52:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337854",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:42" align="right">comment:42</div>

Question to Travis, @tscrim. How to make this work: 

```
sage: Z = Multizeta
sage: Z(3)/Z(2,1)
```
I have declared the algebra to be an integral domain, but this does not trigger the fraction field.



---

archive/issue_comments_337855.json:
```json
{
    "body": "Changed commit from **[`5d638ae`](https://github.com/sagemath/sagetrac-mirror/commit/5d638ae085f5508299108f61e4ff63ac6407fe96)** to **[`827f123`](https://github.com/sagemath/sagetrac-mirror/commit/827f1236159616e268cb028f219df3af097c4d31)**",
    "created_at": "2020-04-06T19:53:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337855",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5d638ae`](https://github.com/sagemath/sagetrac-mirror/commit/5d638ae085f5508299108f61e4ff63ac6407fe96)** to **[`827f123`](https://github.com/sagemath/sagetrac-mirror/commit/827f1236159616e268cb028f219df3af097c4d31)**



---

archive/issue_comments_337856.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/827f1236159616e268cb028f219df3af097c4d31\"><code>827f123</code></a></td><td><code>adding a warning about weight <= 17</code></td></tr></table>\n",
    "created_at": "2020-04-06T19:53:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337856",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:43"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/827f1236159616e268cb028f219df3af097c4d31"><code>827f123</code></a></td><td><code>adding a warning about weight <= 17</code></td></tr></table>




---

archive/issue_comments_337857.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nInstead of giving wrong answers, the code would better crash with errors. I thought you disliked the symbolic ring :-)",
    "created_at": "2020-04-06T20:08:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337857",
    "user": "https://github.com/videlec"
}
```

<div id="comment:44" align="right">comment:44</div>

Instead of giving wrong answers, the code would better crash with errors. I thought you disliked the symbolic ring :-)



---

archive/issue_comments_337858.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nReplying to [@fchapoton](#comment%3A42):\n> Question to Travis, @tscrim. How to make this work: \n> \n> ```\n> sage: Z = Multizeta\n> sage: Z(3)/Z(2,1)\n> ```\n> I have declared the algebra to be an integral domain, but this does not trigger the fraction field.\n\nSo the code that actually implements the fraction field stuff is in `sage.rings.ring.Ring`. I am not sure how I feel about inheriting from that since it is a subclass of `ParentWithGens`. I would probably just implement the following modified form of `fraction_field` in the `IntegralDomains` category:\n\n```python\n    @cached_method\n    def fraction_field(self):\n        \"\"\"\n        Return the fraction field of ``self``.\n\n        EXAMPLES::\n        \"\"\"\n        from sage.rings.fraction_field import FractionField_generic\n        return FractionField_generic(self)\n```\n(Note that `FractionField_generic` is not a `UniqueRepresentation`, so this is not a memory leak.)\n\nPardon ma r\u00e9ponse n'est pas en Fran\u00e7ais. I can mostly understand because I also know Spanish, but not really respond without some Google help. `;P`",
    "created_at": "2020-04-06T23:59:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337858",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:45" align="right">comment:45</div>

Replying to [@fchapoton](#comment%3A42):
> Question to Travis, @tscrim. How to make this work: 
> 
> ```
> sage: Z = Multizeta
> sage: Z(3)/Z(2,1)
> ```
> I have declared the algebra to be an integral domain, but this does not trigger the fraction field.

So the code that actually implements the fraction field stuff is in `sage.rings.ring.Ring`. I am not sure how I feel about inheriting from that since it is a subclass of `ParentWithGens`. I would probably just implement the following modified form of `fraction_field` in the `IntegralDomains` category:

```python
    @cached_method
    def fraction_field(self):
        """
        Return the fraction field of ``self``.

        EXAMPLES::
        """
        from sage.rings.fraction_field import FractionField_generic
        return FractionField_generic(self)
```
(Note that `FractionField_generic` is not a `UniqueRepresentation`, so this is not a memory leak.)

Pardon ma réponse n'est pas en Français. I can mostly understand because I also know Spanish, but not really respond without some Google help. `;P`



---

archive/issue_comments_337859.json:
```json
{
    "body": "<div id=\"comment:46\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b990defc470327ea6bc1abf349361423b298c00b\"><code>b990def</code></a></td><td><code>trac #22713 fix one little bug</code></td></tr></table>\n",
    "created_at": "2020-04-11T18:56:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337859",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:46"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b990defc470327ea6bc1abf349361423b298c00b"><code>b990def</code></a></td><td><code>trac #22713 fix one little bug</code></td></tr></table>




---

archive/issue_comments_337860.json:
```json
{
    "body": "Changed commit from **[`827f123`](https://github.com/sagemath/sagetrac-mirror/commit/827f1236159616e268cb028f219df3af097c4d31)** to **[`b990def`](https://github.com/sagemath/sagetrac-mirror/commit/b990defc470327ea6bc1abf349361423b298c00b)**",
    "created_at": "2020-04-11T18:56:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337860",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`827f123`](https://github.com/sagemath/sagetrac-mirror/commit/827f1236159616e268cb028f219df3af097c4d31)** to **[`b990def`](https://github.com/sagemath/sagetrac-mirror/commit/b990defc470327ea6bc1abf349361423b298c00b)**



---

archive/issue_comments_337861.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nBatch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337861",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:47" align="right">comment:47</div>

Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_events_314340.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22713#event-314340"
}
```



---

archive/issue_events_314341.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22713#event-314341"
}
```



---

archive/issue_comments_337862.json:
```json
{
    "body": "<div id=\"comment:48\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/540a57582d63af4aa5c27d16bcd77369a32c9a3e\"><code>540a575</code></a></td><td><code>first sketch for a ring of multiple zeta values</code></td></tr></table>\n",
    "created_at": "2020-04-19T13:13:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337862",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:48"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/540a57582d63af4aa5c27d16bcd77369a32c9a3e"><code>540a575</code></a></td><td><code>first sketch for a ring of multiple zeta values</code></td></tr></table>




---

archive/issue_comments_337863.json:
```json
{
    "body": "Changed commit from **[`b990def`](https://github.com/sagemath/sagetrac-mirror/commit/b990defc470327ea6bc1abf349361423b298c00b)** to **[`540a575`](https://github.com/sagemath/sagetrac-mirror/commit/540a57582d63af4aa5c27d16bcd77369a32c9a3e)**",
    "created_at": "2020-04-19T13:13:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337863",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b990def`](https://github.com/sagemath/sagetrac-mirror/commit/b990defc470327ea6bc1abf349361423b298c00b)** to **[`540a575`](https://github.com/sagemath/sagetrac-mirror/commit/540a57582d63af4aa5c27d16bcd77369a32c9a3e)**



---

archive/issue_comments_337864.json:
```json
{
    "body": "Changed commit from **[`540a575`](https://github.com/sagemath/sagetrac-mirror/commit/540a57582d63af4aa5c27d16bcd77369a32c9a3e)** to **[`ade05bd`](https://github.com/sagemath/sagetrac-mirror/commit/ade05bd88a2e36d0cde691c15dc86f602eb0662a)**",
    "created_at": "2020-04-19T13:28:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337864",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`540a575`](https://github.com/sagemath/sagetrac-mirror/commit/540a57582d63af4aa5c27d16bcd77369a32c9a3e)** to **[`ade05bd`](https://github.com/sagemath/sagetrac-mirror/commit/ade05bd88a2e36d0cde691c15dc86f602eb0662a)**



---

archive/issue_comments_337865.json:
```json
{
    "body": "<div id=\"comment:49\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ade05bd88a2e36d0cde691c15dc86f602eb0662a\"><code>ade05bd</code></a></td><td><code>trac 22713 adding an example : looking for relations</code></td></tr></table>\n",
    "created_at": "2020-04-19T13:28:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337865",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:49"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ade05bd88a2e36d0cde691c15dc86f602eb0662a"><code>ade05bd</code></a></td><td><code>trac 22713 adding an example : looking for relations</code></td></tr></table>




---

archive/issue_events_314342.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-04-19T13:29:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22713#event-314342"
}
```



---

archive/issue_events_314343.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-04-19T13:29:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22713#event-314343"
}
```



---

archive/issue_comments_337866.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nWhy do you have so many functions as opposed to methods? In particular, I don't understand why `base_brown` is not a method of `Multizetas`. Moreover, here the right terminology here is I believe `base` and not `basis`.\n\nWhy do you have trivial functions such as `compositions_23`, `numerical_MZV` or `vector_to_multizeta`. These functions have code 10x shorter than their documentation.\n\nThe following piece of documentation is **very** cryptic.\n\n```\n        Return the morphism ``phi``.\n\n        This sends multiple zeta values to the algebra :func:`F_ring`.\n```\nWhere are the `F ring` and the `phi morphism` actually defined? There is not even a reference to where to look for a definition.\n\nThis is really nice (as a feature)\n\n```\nThen one can compute the space of relations::\n\n    sage: from sage.modular.multiple_zeta import f_to_vector\n    sage: M = matrix([f_to_vector(Zc.phi()) for Zc in L])\n    sage: K = M.kernel(); K\n```\nbut not very nice from a user perspective. Whouldn't it be possible to have `Zc.phi().vector()` (or even better `Zc.vector()`)?\n\nThe doctest coming just after is kind of weird\n\n```\n    sage: relation.phi()\n    0\n    sage: relation.n()\n    0.000000000000...\n```\nWhy do you numerically evaluate `0`? It would be nice to also print what `relation` is and run `relation.is_zero()`.\n\nIs this global definition\n\n```\nMZV = Multizeta\n```\nused anywhere?\n\nNow, a more concrete mathematical questions: I have a prefered basis, let say `basis_brown`, how do I decompose a multizeta on this basis?",
    "created_at": "2020-04-19T14:27:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337866",
    "user": "https://github.com/videlec"
}
```

<div id="comment:51" align="right">comment:51</div>

Why do you have so many functions as opposed to methods? In particular, I don't understand why `base_brown` is not a method of `Multizetas`. Moreover, here the right terminology here is I believe `base` and not `basis`.

Why do you have trivial functions such as `compositions_23`, `numerical_MZV` or `vector_to_multizeta`. These functions have code 10x shorter than their documentation.

The following piece of documentation is **very** cryptic.

```
        Return the morphism ``phi``.

        This sends multiple zeta values to the algebra :func:`F_ring`.
```
Where are the `F ring` and the `phi morphism` actually defined? There is not even a reference to where to look for a definition.

This is really nice (as a feature)

```
Then one can compute the space of relations::

    sage: from sage.modular.multiple_zeta import f_to_vector
    sage: M = matrix([f_to_vector(Zc.phi()) for Zc in L])
    sage: K = M.kernel(); K
```
but not very nice from a user perspective. Whouldn't it be possible to have `Zc.phi().vector()` (or even better `Zc.vector()`)?

The doctest coming just after is kind of weird

```
    sage: relation.phi()
    0
    sage: relation.n()
    0.000000000000...
```
Why do you numerically evaluate `0`? It would be nice to also print what `relation` is and run `relation.is_zero()`.

Is this global definition

```
MZV = Multizeta
```
used anywhere?

Now, a more concrete mathematical questions: I have a prefered basis, let say `basis_brown`, how do I decompose a multizeta on this basis?



---

archive/issue_comments_337867.json:
```json
{
    "body": "Changed commit from **[`ade05bd`](https://github.com/sagemath/sagetrac-mirror/commit/ade05bd88a2e36d0cde691c15dc86f602eb0662a)** to **[`a05056e`](https://github.com/sagemath/sagetrac-mirror/commit/a05056e39c84f3d8a596c39f5f12f82f87b7a787)**",
    "created_at": "2020-04-19T17:47:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337867",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ade05bd`](https://github.com/sagemath/sagetrac-mirror/commit/ade05bd88a2e36d0cde691c15dc86f602eb0662a)** to **[`a05056e`](https://github.com/sagemath/sagetrac-mirror/commit/a05056e39c84f3d8a596c39f5f12f82f87b7a787)**



---

archive/issue_comments_337868.json:
```json
{
    "body": "<div id=\"comment:52\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a05056e39c84f3d8a596c39f5f12f82f87b7a787\"><code>a05056e</code></a></td><td><code>trac 22713 some simplifications</code></td></tr></table>\n",
    "created_at": "2020-04-19T17:47:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337868",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:52"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a05056e39c84f3d8a596c39f5f12f82f87b7a787"><code>a05056e</code></a></td><td><code>trac 22713 some simplifications</code></td></tr></table>




---

archive/issue_comments_337869.json:
```json
{
    "body": "<div id=\"comment:53\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bf1583a0f566399dc0889df30c44d2316c1db99c\"><code>bf1583a</code></a></td><td><code>trac 22713 further simplifications</code></td></tr></table>\n",
    "created_at": "2020-04-19T18:19:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337869",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:53"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bf1583a0f566399dc0889df30c44d2316c1db99c"><code>bf1583a</code></a></td><td><code>trac 22713 further simplifications</code></td></tr></table>




---

archive/issue_comments_337870.json:
```json
{
    "body": "Changed commit from **[`a05056e`](https://github.com/sagemath/sagetrac-mirror/commit/a05056e39c84f3d8a596c39f5f12f82f87b7a787)** to **[`bf1583a`](https://github.com/sagemath/sagetrac-mirror/commit/bf1583a0f566399dc0889df30c44d2316c1db99c)**",
    "created_at": "2020-04-19T18:19:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337870",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a05056e`](https://github.com/sagemath/sagetrac-mirror/commit/a05056e39c84f3d8a596c39f5f12f82f87b7a787)** to **[`bf1583a`](https://github.com/sagemath/sagetrac-mirror/commit/bf1583a0f566399dc0889df30c44d2316c1db99c)**



---

archive/issue_comments_337871.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nReplying to [@videlec](#comment%3A51):\n> Why do you have so many functions as opposed to methods? In particular, I don't understand why `base_brown` is not a method of `Multizetas`. Moreover, here the right terminology here is I believe `base` and not `basis`.\n\nThis could be turned into a method, yes. I have not done that yet.\n\n> Why do you have trivial functions such as `compositions_23`, `numerical_MZV` or `vector_to_multizeta`. These functions have code 10x shorter than their documentation.\n\nGot rid of them three.\n \n> The following piece of documentation is **very** cryptic.\n> \n> ```\n>         Return the morphism ``phi``.\n> \n>         This sends multiple zeta values to the algebra :func:`F_ring`.\n> ```\n> Where are the `F ring` and the `phi morphism` actually defined? There is not even a reference to where to look for a definition.\n\nWell, everything is based on Brown's article [Brown2012]. But one could add more explanations, for sure.\n \n> This is really nice (as a feature)\n> \n> ```\n> Then one can compute the space of relations::\n> \n>     sage: from sage.modular.multiple_zeta import f_to_vector\n>     sage: M = matrix([f_to_vector(Zc.phi()) for Zc in L])\n>     sage: K = M.kernel(); K\n> ```\n> but not very nice from a user perspective. Whouldn't it be possible to have `Zc.phi().vector()` (or even better `Zc.vector()`)?\n\nClearly, this only makes sense for homogeneous elements. One could have a method \"phi_vector\" that would raise error for non-homogeneous elements. I am not sure if it makes sense to add a method \"vector\" to the F-ring, with the similar restrictions.\n \n> The doctest coming just after is kind of weird\n> \n> ```\n>     sage: relation.phi()\n>     0\n>     sage: relation.n()\n>     0.000000000000...\n> ```\n> Why do you numerically evaluate `0`? It would be nice to also print what `relation` is and run `relation.is_zero()`.\n\nThis is because the relation, now displayed, is not the zero linear combination. It is only equal to the zero element. Of course, we know that the period map sends this to zero, because phi sends this to zero.\n \n> Is this global definition\n> \n> ```\n> MZV = Multizeta\n> ```\n> used anywhere?\n\nNo, removed.\n \n> Now, a more concrete mathematical questions: I have a prefered basis, let say `basis_brown`, how do I decompose a multizeta on this basis?\n\nJust compute phi or rather \"phi_vector\" on every element of your basis, compute phi or rather \"phi_vector\" on your element, make a matrix and take the kernel of the obtained matrix.",
    "created_at": "2020-04-19T18:37:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337871",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:54" align="right">comment:54</div>

Replying to [@videlec](#comment%3A51):
> Why do you have so many functions as opposed to methods? In particular, I don't understand why `base_brown` is not a method of `Multizetas`. Moreover, here the right terminology here is I believe `base` and not `basis`.

This could be turned into a method, yes. I have not done that yet.

> Why do you have trivial functions such as `compositions_23`, `numerical_MZV` or `vector_to_multizeta`. These functions have code 10x shorter than their documentation.

Got rid of them three.
 
> The following piece of documentation is **very** cryptic.
> 
> ```
>         Return the morphism ``phi``.
> 
>         This sends multiple zeta values to the algebra :func:`F_ring`.
> ```
> Where are the `F ring` and the `phi morphism` actually defined? There is not even a reference to where to look for a definition.

Well, everything is based on Brown's article [Brown2012]. But one could add more explanations, for sure.
 
> This is really nice (as a feature)
> 
> ```
> Then one can compute the space of relations::
> 
>     sage: from sage.modular.multiple_zeta import f_to_vector
>     sage: M = matrix([f_to_vector(Zc.phi()) for Zc in L])
>     sage: K = M.kernel(); K
> ```
> but not very nice from a user perspective. Whouldn't it be possible to have `Zc.phi().vector()` (or even better `Zc.vector()`)?

Clearly, this only makes sense for homogeneous elements. One could have a method "phi_vector" that would raise error for non-homogeneous elements. I am not sure if it makes sense to add a method "vector" to the F-ring, with the similar restrictions.
 
> The doctest coming just after is kind of weird
> 
> ```
>     sage: relation.phi()
>     0
>     sage: relation.n()
>     0.000000000000...
> ```
> Why do you numerically evaluate `0`? It would be nice to also print what `relation` is and run `relation.is_zero()`.

This is because the relation, now displayed, is not the zero linear combination. It is only equal to the zero element. Of course, we know that the period map sends this to zero, because phi sends this to zero.
 
> Is this global definition
> 
> ```
> MZV = Multizeta
> ```
> used anywhere?

No, removed.
 
> Now, a more concrete mathematical questions: I have a prefered basis, let say `basis_brown`, how do I decompose a multizeta on this basis?

Just compute phi or rather "phi_vector" on every element of your basis, compute phi or rather "phi_vector" on your element, make a matrix and take the kernel of the obtained matrix.



---

archive/issue_comments_337872.json:
```json
{
    "body": "<div id=\"comment:55\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f8834ba4d070ae72d14f1f299a9a646a0ac5a0d6\"><code>f8834ba</code></a></td><td><code>trac 22713 more doc and made base a method</code></td></tr></table>\n",
    "created_at": "2020-04-19T19:03:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337872",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:55"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f8834ba4d070ae72d14f1f299a9a646a0ac5a0d6"><code>f8834ba</code></a></td><td><code>trac 22713 more doc and made base a method</code></td></tr></table>




---

archive/issue_comments_337873.json:
```json
{
    "body": "Changed commit from **[`bf1583a`](https://github.com/sagemath/sagetrac-mirror/commit/bf1583a0f566399dc0889df30c44d2316c1db99c)** to **[`f8834ba`](https://github.com/sagemath/sagetrac-mirror/commit/f8834ba4d070ae72d14f1f299a9a646a0ac5a0d6)**",
    "created_at": "2020-04-19T19:03:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337873",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bf1583a`](https://github.com/sagemath/sagetrac-mirror/commit/bf1583a0f566399dc0889df30c44d2316c1db99c)** to **[`f8834ba`](https://github.com/sagemath/sagetrac-mirror/commit/f8834ba4d070ae72d14f1f299a9a646a0ac5a0d6)**



---

archive/issue_comments_337874.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nI have added a little more doc to phi, and move base_brown to a method.",
    "created_at": "2020-04-19T19:09:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337874",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:56" align="right">comment:56</div>

I have added a little more doc to phi, and move base_brown to a method.



---

archive/issue_comments_337875.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nMaybe I should also remove \"base_multi\" ?",
    "created_at": "2020-04-19T19:31:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337875",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:57" align="right">comment:57</div>

Maybe I should also remove "base_multi" ?



---

archive/issue_comments_337876.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nFact: singular is `basis` and plural is `bases`. No `base` (unless when used as an adjective as in `base ring`).",
    "created_at": "2020-04-19T20:24:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337876",
    "user": "https://github.com/videlec"
}
```

<div id="comment:58" align="right">comment:58</div>

Fact: singular is `basis` and plural is `bases`. No `base` (unless when used as an adjective as in `base ring`).



---

archive/issue_comments_337877.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nReplying to [@fchapoton](#comment%3A54):\n> Replying to [@videlec](#comment%3A51):\n> > This is really nice (as a feature)\n> > \n> > ```\n> > Then one can compute the space of relations::\n> > \n> >     sage: from sage.modular.multiple_zeta import f_to_vector\n> >     sage: M = matrix([f_to_vector(Zc.phi()) for Zc in L])\n> >     sage: K = M.kernel(); K\n> > ```\n> > but not very nice from a user perspective. Whouldn't it be possible to have `Zc.phi().vector()` (or even better `Zc.vector()`)?\n\n> \n> Clearly, this only makes sense for homogeneous elements. One could have a method \"phi_vector\" that would raise error for non-homogeneous elements. I am not sure if it makes sense to add a method \"vector\" to the F-ring, with the similar restrictions.\n\nBut then one would expect `Zc.homogeneous_component().vector()` to work. An alternative is to consider the semi-sparse infinite dimensional vector space whose elements are dictionaries `d -> phi_vector in degree d`.",
    "created_at": "2020-04-19T20:29:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337877",
    "user": "https://github.com/videlec"
}
```

<div id="comment:59" align="right">comment:59</div>

Replying to [@fchapoton](#comment%3A54):
> Replying to [@videlec](#comment%3A51):
> > This is really nice (as a feature)
> > 
> > ```
> > Then one can compute the space of relations::
> > 
> >     sage: from sage.modular.multiple_zeta import f_to_vector
> >     sage: M = matrix([f_to_vector(Zc.phi()) for Zc in L])
> >     sage: K = M.kernel(); K
> > ```
> > but not very nice from a user perspective. Whouldn't it be possible to have `Zc.phi().vector()` (or even better `Zc.vector()`)?

> 
> Clearly, this only makes sense for homogeneous elements. One could have a method "phi_vector" that would raise error for non-homogeneous elements. I am not sure if it makes sense to add a method "vector" to the F-ring, with the similar restrictions.

But then one would expect `Zc.homogeneous_component().vector()` to work. An alternative is to consider the semi-sparse infinite dimensional vector space whose elements are dictionaries `d -> phi_vector in degree d`.



---

archive/issue_comments_337878.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nReplying to [@fchapoton](#comment%3A57):\n> Maybe I should also remove \"base_multi\" ?\n\nYes. Moving both as methods make sense.",
    "created_at": "2020-04-19T20:50:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337878",
    "user": "https://github.com/videlec"
}
```

<div id="comment:60" align="right">comment:60</div>

Replying to [@fchapoton](#comment%3A57):
> Maybe I should also remove "base_multi" ?

Yes. Moving both as methods make sense.



---

archive/issue_comments_337879.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nReplying to [@videlec](#comment%3A60):\n> Replying to [@fchapoton](#comment%3A57):\n> > Maybe I should also remove \"base_multi\" ?\n\n> \n> Yes. Moving both as methods make sense.\n\nActually, here I would not call it a `basis`. Shouldn't it rather be `algebra_generators`?",
    "created_at": "2020-04-19T20:55:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337879",
    "user": "https://github.com/videlec"
}
```

<div id="comment:61" align="right">comment:61</div>

Replying to [@videlec](#comment%3A60):
> Replying to [@fchapoton](#comment%3A57):
> > Maybe I should also remove "base_multi" ?

> 
> Yes. Moving both as methods make sense.

Actually, here I would not call it a `basis`. Shouldn't it rather be `algebra_generators`?



---

archive/issue_comments_337880.json:
```json
{
    "body": "<div id=\"comment:62\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b9971fa991bd5599d7220fc3961c1ba2ec8c7923\"><code>b9971fa</code></a></td><td><code>trac 22713 various fixes about base ring, and moving one function to method</code></td></tr></table>\n",
    "created_at": "2020-04-20T12:16:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337880",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:62"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b9971fa991bd5599d7220fc3961c1ba2ec8c7923"><code>b9971fa</code></a></td><td><code>trac 22713 various fixes about base ring, and moving one function to method</code></td></tr></table>




---

archive/issue_comments_337881.json:
```json
{
    "body": "Changed commit from **[`f8834ba`](https://github.com/sagemath/sagetrac-mirror/commit/f8834ba4d070ae72d14f1f299a9a646a0ac5a0d6)** to **[`b9971fa`](https://github.com/sagemath/sagetrac-mirror/commit/b9971fa991bd5599d7220fc3961c1ba2ec8c7923)**",
    "created_at": "2020-04-20T12:16:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337881",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f8834ba`](https://github.com/sagemath/sagetrac-mirror/commit/f8834ba4d070ae72d14f1f299a9a646a0ac5a0d6)** to **[`b9971fa`](https://github.com/sagemath/sagetrac-mirror/commit/b9971fa991bd5599d7220fc3961c1ba2ec8c7923)**



---

archive/issue_comments_337882.json:
```json
{
    "body": "Changed commit from **[`b9971fa`](https://github.com/sagemath/sagetrac-mirror/commit/b9971fa991bd5599d7220fc3961c1ba2ec8c7923)** to **[`9ea7fbd`](https://github.com/sagemath/sagetrac-mirror/commit/9ea7fbd79baf6abddac3f7478ce3ee07ce91d5f2)**",
    "created_at": "2020-04-20T12:19:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337882",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b9971fa`](https://github.com/sagemath/sagetrac-mirror/commit/b9971fa991bd5599d7220fc3961c1ba2ec8c7923)** to **[`9ea7fbd`](https://github.com/sagemath/sagetrac-mirror/commit/9ea7fbd79baf6abddac3f7478ce3ee07ce91d5f2)**



---

archive/issue_comments_337883.json:
```json
{
    "body": "<div id=\"comment:63\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9ea7fbd79baf6abddac3f7478ce3ee07ce91d5f2\"><code>9ea7fbd</code></a></td><td><code>trac 22713 changing base_ to basis_</code></td></tr></table>\n",
    "created_at": "2020-04-20T12:19:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337883",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:63"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9ea7fbd79baf6abddac3f7478ce3ee07ce91d5f2"><code>9ea7fbd</code></a></td><td><code>trac 22713 changing base_ to basis_</code></td></tr></table>




---

archive/issue_comments_337884.json:
```json
{
    "body": "<div id=\"comment:64\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0ca039da94535c49e2a02dfd2f3a31aefce5487d\"><code>0ca039d</code></a></td><td><code>fix</code></td></tr></table>\n",
    "created_at": "2020-04-20T12:26:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337884",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:64"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0ca039da94535c49e2a02dfd2f3a31aefce5487d"><code>0ca039d</code></a></td><td><code>fix</code></td></tr></table>




---

archive/issue_comments_337885.json:
```json
{
    "body": "Changed commit from **[`9ea7fbd`](https://github.com/sagemath/sagetrac-mirror/commit/9ea7fbd79baf6abddac3f7478ce3ee07ce91d5f2)** to **[`0ca039d`](https://github.com/sagemath/sagetrac-mirror/commit/0ca039da94535c49e2a02dfd2f3a31aefce5487d)**",
    "created_at": "2020-04-20T12:26:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337885",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9ea7fbd`](https://github.com/sagemath/sagetrac-mirror/commit/9ea7fbd79baf6abddac3f7478ce3ee07ce91d5f2)** to **[`0ca039d`](https://github.com/sagemath/sagetrac-mirror/commit/0ca039da94535c49e2a02dfd2f3a31aefce5487d)**



---

archive/issue_comments_337886.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nPlease don't cache `pari.zetamult`. It does not make sense to use this function with repeated calls while there is `zetamultall` that compute all values up to a given weight. For weight <= 15 there is a 100x time difference\n\n```\nsage: %time Z = pari.zetamultall(15)\nCPU times: user 156 ms, sys: 26.7 ms, total: 183 ms\nWall time: 183 ms\nsage: %time Z = [pari.zetamult(pari.zetamultconvert(i)) for i in range(1, 16384)]\nCPU times: user 9.99 s, sys: 1.43 ms, total: 9.99 s\nWall time: 10 s\n```",
    "created_at": "2020-04-20T12:39:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337886",
    "user": "https://github.com/videlec"
}
```

<div id="comment:65" align="right">comment:65</div>

Please don't cache `pari.zetamult`. It does not make sense to use this function with repeated calls while there is `zetamultall` that compute all values up to a given weight. For weight <= 15 there is a 100x time difference

```
sage: %time Z = pari.zetamultall(15)
CPU times: user 156 ms, sys: 26.7 ms, total: 183 ms
Wall time: 183 ms
sage: %time Z = [pari.zetamult(pari.zetamultconvert(i)) for i in range(1, 16384)]
CPU times: user 9.99 s, sys: 1.43 ms, total: 9.99 s
Wall time: 10 s
```



---

archive/issue_comments_337887.json:
```json
{
    "body": "<div id=\"comment:66\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e5349fb29f904741fab99983c4e93578268ed805\"><code>e5349fb</code></a></td><td><code>trac 22713 more fixes in handling general base rings</code></td></tr></table>\n",
    "created_at": "2020-04-20T14:15:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337887",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:66"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e5349fb29f904741fab99983c4e93578268ed805"><code>e5349fb</code></a></td><td><code>trac 22713 more fixes in handling general base rings</code></td></tr></table>




---

archive/issue_comments_337888.json:
```json
{
    "body": "Changed commit from **[`0ca039d`](https://github.com/sagemath/sagetrac-mirror/commit/0ca039da94535c49e2a02dfd2f3a31aefce5487d)** to **[`e5349fb`](https://github.com/sagemath/sagetrac-mirror/commit/e5349fb29f904741fab99983c4e93578268ed805)**",
    "created_at": "2020-04-20T14:15:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337888",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0ca039d`](https://github.com/sagemath/sagetrac-mirror/commit/0ca039da94535c49e2a02dfd2f3a31aefce5487d)** to **[`e5349fb`](https://github.com/sagemath/sagetrac-mirror/commit/e5349fb29f904741fab99983c4e93578268ed805)**



---

archive/issue_comments_337889.json:
```json
{
    "body": "Changed commit from **[`e5349fb`](https://github.com/sagemath/sagetrac-mirror/commit/e5349fb29f904741fab99983c4e93578268ed805)** to **[`54570b0`](https://github.com/sagemath/sagetrac-mirror/commit/54570b018b89af08d3b5d8329d3df6dc86efdabb)**",
    "created_at": "2020-04-20T14:21:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337889",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e5349fb`](https://github.com/sagemath/sagetrac-mirror/commit/e5349fb29f904741fab99983c4e93578268ed805)** to **[`54570b0`](https://github.com/sagemath/sagetrac-mirror/commit/54570b018b89af08d3b5d8329d3df6dc86efdabb)**



---

archive/issue_comments_337890.json:
```json
{
    "body": "<div id=\"comment:67\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/54570b018b89af08d3b5d8329d3df6dc86efdabb\"><code>54570b0</code></a></td><td><code>minor details in doc</code></td></tr></table>\n",
    "created_at": "2020-04-20T14:21:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337890",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:67"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/54570b018b89af08d3b5d8329d3df6dc86efdabb"><code>54570b0</code></a></td><td><code>minor details in doc</code></td></tr></table>




---

archive/issue_comments_337891.json:
```json
{
    "body": "<div id=\"comment:68\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f8db52738bc25917cd789dee92d96df1f672005a\"><code>f8db527</code></a></td><td><code>trac 22713 trying to use zetamultall</code></td></tr></table>\n",
    "created_at": "2020-04-20T14:47:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337891",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:68"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f8db52738bc25917cd789dee92d96df1f672005a"><code>f8db527</code></a></td><td><code>trac 22713 trying to use zetamultall</code></td></tr></table>




---

archive/issue_comments_337892.json:
```json
{
    "body": "Changed commit from **[`54570b0`](https://github.com/sagemath/sagetrac-mirror/commit/54570b018b89af08d3b5d8329d3df6dc86efdabb)** to **[`f8db527`](https://github.com/sagemath/sagetrac-mirror/commit/f8db52738bc25917cd789dee92d96df1f672005a)**",
    "created_at": "2020-04-20T14:47:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337892",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`54570b0`](https://github.com/sagemath/sagetrac-mirror/commit/54570b018b89af08d3b5d8329d3df6dc86efdabb)** to **[`f8db527`](https://github.com/sagemath/sagetrac-mirror/commit/f8db52738bc25917cd789dee92d96df1f672005a)**



---

archive/issue_comments_337893.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nvoila une tentative avec zetamultall. Je ne sais pas trop comment g\u00e9rer le stockage, et le r\u00e9-emploi \u00e9ventuel de ces calculs pour des poids et des pr\u00e9cisions diff\u00e9rentes.",
    "created_at": "2020-04-20T14:49:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337893",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:69" align="right">comment:69</div>

voila une tentative avec zetamultall. Je ne sais pas trop comment gérer le stockage, et le ré-emploi éventuel de ces calculs pour des poids et des précisions différentes.



---

archive/issue_comments_337894.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nJe ne pense pas qu'il faille utiliser le cache de `@cached_function`. Quand une demande en poids plus grand est faite il faut juste \u00e9craser les valeurs pr\u00e9c\u00e9dentes. Qui peut le plus peut le moins. En plus ici le r\u00e9sultat de `zetamultall` est toujours ordonn\u00e9 par poids croissant.\n\nCe serait bien d'avoir un algo qui r\u00e9utilise le travail fait en poids `w` pour calculer le poids `w+1`. Mais je ne suis pas sur que l'algorithme d'Akilesh permette \u00e7a. (en tout cas PARI/GP ne le fait pas)\n\nPuisque de toute fa\u00e7on l'alg\u00e8bre ne \"marche pas\" en poids > 17, le seul truc qui compte est le poids 17, non? Et \u00e7a ne fait pas tant de valeurs que \u00e7a\n\n```\nsage: len(pari.zetamultall(17)) == 2**16 - 1\nTrue\n```",
    "created_at": "2020-04-20T15:01:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337894",
    "user": "https://github.com/videlec"
}
```

<div id="comment:70" align="right">comment:70</div>

Je ne pense pas qu'il faille utiliser le cache de `@cached_function`. Quand une demande en poids plus grand est faite il faut juste écraser les valeurs précédentes. Qui peut le plus peut le moins. En plus ici le résultat de `zetamultall` est toujours ordonné par poids croissant.

Ce serait bien d'avoir un algo qui réutilise le travail fait en poids `w` pour calculer le poids `w+1`. Mais je ne suis pas sur que l'algorithme d'Akilesh permette ça. (en tout cas PARI/GP ne le fait pas)

Puisque de toute façon l'algèbre ne "marche pas" en poids > 17, le seul truc qui compte est le poids 17, non? Et ça ne fait pas tant de valeurs que ça

```
sage: len(pari.zetamultall(17)) == 2**16 - 1
True
```



---

archive/issue_comments_337895.json:
```json
{
    "body": "<div id=\"comment:71\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/389bd58b4b40bd632509d434c850bb56dd7f3914\"><code>389bd58</code></a></td><td><code>introduce phi_as_vector, and fix some details in doc</code></td></tr></table>\n",
    "created_at": "2020-04-21T08:39:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337895",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:71"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/389bd58b4b40bd632509d434c850bb56dd7f3914"><code>389bd58</code></a></td><td><code>introduce phi_as_vector, and fix some details in doc</code></td></tr></table>




---

archive/issue_comments_337896.json:
```json
{
    "body": "Changed commit from **[`f8db527`](https://github.com/sagemath/sagetrac-mirror/commit/f8db52738bc25917cd789dee92d96df1f672005a)** to **[`389bd58`](https://github.com/sagemath/sagetrac-mirror/commit/389bd58b4b40bd632509d434c850bb56dd7f3914)**",
    "created_at": "2020-04-21T08:39:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337896",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f8db527`](https://github.com/sagemath/sagetrac-mirror/commit/f8db52738bc25917cd789dee92d96df1f672005a)** to **[`389bd58`](https://github.com/sagemath/sagetrac-mirror/commit/389bd58b4b40bd632509d434c850bb56dd7f3914)**



---

archive/issue_comments_337897.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nJe viens de rajouter une methode phi_as_vector, qui simplifie la recherche de relations.\n\nLa question du pr\u00e9-calcul, du stockage et du re-calcul des valeurs numeriques si n\u00e9cessaire me pose probleme. Est-ce que je dois utiliser une variable globale ?\n\nPar ailleurs, la seule chose qui va ne pas marcher en poids > 17 est le test d'\u00e9galit\u00e9 (et le morphisme phi). On peut tr\u00e8s bien faire quand meme des produits, et vouloir calculer une valeur numerique sur une composition de taille plus grande.",
    "created_at": "2020-04-21T08:46:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337897",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:72" align="right">comment:72</div>

Je viens de rajouter une methode phi_as_vector, qui simplifie la recherche de relations.

La question du pré-calcul, du stockage et du re-calcul des valeurs numeriques si nécessaire me pose probleme. Est-ce que je dois utiliser une variable globale ?

Par ailleurs, la seule chose qui va ne pas marcher en poids > 17 est le test d'égalité (et le morphisme phi). On peut très bien faire quand meme des produits, et vouloir calculer une valeur numerique sur une composition de taille plus grande.



---

archive/issue_comments_337898.json:
```json
{
    "body": "Changed keywords from none to **motives**",
    "created_at": "2020-04-21T19:06:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337898",
    "user": "https://github.com/fchapoton"
}
```

Changed keywords from none to **motives**



---

archive/issue_events_314344.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-04-21T19:06:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20symbolics",
    "label_color": "0000ff",
    "label_name": "c: symbolics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22713#event-314344"
}
```



---

archive/issue_events_314345.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-04-21T19:06:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20number%20theory",
    "label_color": "0000ff",
    "label_name": "c: number theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22713#event-314345"
}
```



---

archive/issue_comments_337899.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">comment:74</div>\n\nSi tu pr\u00e9vois d'aller plus loin que poids 17 pour `zetamult`, \u00e7a va commencer \u00e0 co\u00fbter cher en temps et m\u00e9moire. Aussi, si le calcul a \u00e9t\u00e9 fait en pr\u00e9cision `10 * prec` ce n'est pas la peine de le refaire pour `prec`. Que penses-tu d'avoir une classe `MultizetaValues(cache_max_weight, prec)` qui stocke les valeurs en poids jusqu'\u00e0 `cache_max_weight` (avec pr\u00e9cision `prec` fix\u00e9)  via des appels \u00e0 `zetamultall`. Si la pr\u00e9cision demand\u00e9e est en dessous de la pr\u00e9cision ou le poids en dessous de `cache_max_weight` on utilise le cache, sinon on fait un appel \u00e0 `zetamult`. Il est tout \u00e0 fait possible de faire en sorte que la `cache_max_weight` et `prec` soit modifiable \u00e0 la vol\u00e9e de mani\u00e8re \u00e0 ce qu'un utilisateur puisse ajuster \u00e0 son besoin.",
    "created_at": "2020-04-23T06:52:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337899",
    "user": "https://github.com/videlec"
}
```

<div id="comment:74" align="right">comment:74</div>

Si tu prévois d'aller plus loin que poids 17 pour `zetamult`, ça va commencer à coûter cher en temps et mémoire. Aussi, si le calcul a été fait en précision `10 * prec` ce n'est pas la peine de le refaire pour `prec`. Que penses-tu d'avoir une classe `MultizetaValues(cache_max_weight, prec)` qui stocke les valeurs en poids jusqu'à `cache_max_weight` (avec précision `prec` fixé)  via des appels à `zetamultall`. Si la précision demandée est en dessous de la précision ou le poids en dessous de `cache_max_weight` on utilise le cache, sinon on fait un appel à `zetamult`. Il est tout à fait possible de faire en sorte que la `cache_max_weight` et `prec` soit modifiable à la volée de manière à ce qu'un utilisateur puisse ajuster à son besoin.



---

archive/issue_comments_337900.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nQuestion: Comment Brown a construit sa base? Ce n'est pas possible d'\u00e9crire un algo pour faire \u00e7a? (et en particulier aller plus loin que poids 17)",
    "created_at": "2020-04-23T07:23:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337900",
    "user": "https://github.com/videlec"
}
```

<div id="comment:75" align="right">comment:75</div>

Question: Comment Brown a construit sa base? Ce n'est pas possible d'écrire un algo pour faire ça? (et en particulier aller plus loin que poids 17)



---

archive/issue_comments_337901.json:
```json
{
    "body": "Changed commit from **[`389bd58`](https://github.com/sagemath/sagetrac-mirror/commit/389bd58b4b40bd632509d434c850bb56dd7f3914)** to **[`6e14709`](https://github.com/sagemath/sagetrac-mirror/commit/6e14709c36085e0d3e0b01b24f4b370bc08b7668)**",
    "created_at": "2020-04-23T08:55:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337901",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`389bd58`](https://github.com/sagemath/sagetrac-mirror/commit/389bd58b4b40bd632509d434c850bb56dd7f3914)** to **[`6e14709`](https://github.com/sagemath/sagetrac-mirror/commit/6e14709c36085e0d3e0b01b24f4b370bc08b7668)**



---

archive/issue_comments_337902.json:
```json
{
    "body": "<div id=\"comment:76\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de3b9d5035b256e4d9f478dcff1fb846efbaa756\"><code>de3b9d5</code></a></td><td><code>Merge branch 'u/chapoton/ticket22713' of ssh://trac.sagemath.org:22/sage into mzv</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e14709c36085e0d3e0b01b24f4b370bc08b7668\"><code>6e14709</code></a></td><td><code>trac 22713 first tentative of smarter caching for MZV</code></td></tr></table>\n",
    "created_at": "2020-04-23T08:55:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337902",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:76"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de3b9d5035b256e4d9f478dcff1fb846efbaa756"><code>de3b9d5</code></a></td><td><code>Merge branch 'u/chapoton/ticket22713' of ssh://trac.sagemath.org:22/sage into mzv</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e14709c36085e0d3e0b01b24f4b370bc08b7668"><code>6e14709</code></a></td><td><code>trac 22713 first tentative of smarter caching for MZV</code></td></tr></table>




---

archive/issue_comments_337903.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">comment:77</div>\n\nSalut,\n\nvoil\u00e0 une tentative minimale de cache fait-maison, mais je ne sais pas trop si c'est la bonne mani\u00e8re.\n\nIl a 4 tests qui foirent pour cause de pr\u00e9cision trop grande. J'aurais besoin de d\u00e9grader la pr\u00e9cision d'un nombre en pari, et je ne sais pas comment faire.\n\nConcernant la base multiplicative de Brown, il me semble que \u00e7a rel\u00e8ve un peu de l'artisanat. On calcule l'application phi avec un candidat pour la base, et si \u00e7a donne bien une base de la composante homog\u00e8ne du F-anneau, alors on avait fait un bon choix. Il y a peut-\u00eatre une autre base multiplicative propos\u00e9e par Broadhurst (du style mots de Lyndon), mais je ne sais pas si elle est conjecturale ou pas.\n\nJe suis moins pr\u00e9-occup\u00e9 par aller au del\u00e0 de 17 que par r\u00e9ussir \u00e0 \u00eatre efficace jusqu'au poids 13, y compris en pr\u00e9sence de coefficients polynomiaux. J'ai \u00e9chou\u00e9 hier (sur mon vieux portable, interrompu au bout de quelques heures \u00e0 chauffer fort) \u00e0 faire un calcul qui m\u2019int\u00e9resse en poids 11.",
    "created_at": "2020-04-23T09:03:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337903",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:77" align="right">comment:77</div>

Salut,

voilà une tentative minimale de cache fait-maison, mais je ne sais pas trop si c'est la bonne manière.

Il a 4 tests qui foirent pour cause de précision trop grande. J'aurais besoin de dégrader la précision d'un nombre en pari, et je ne sais pas comment faire.

Concernant la base multiplicative de Brown, il me semble que ça relève un peu de l'artisanat. On calcule l'application phi avec un candidat pour la base, et si ça donne bien une base de la composante homogène du F-anneau, alors on avait fait un bon choix. Il y a peut-être une autre base multiplicative proposée par Broadhurst (du style mots de Lyndon), mais je ne sais pas si elle est conjecturale ou pas.

Je suis moins pré-occupé par aller au delà de 17 que par réussir à être efficace jusqu'au poids 13, y compris en présence de coefficients polynomiaux. J'ai échoué hier (sur mon vieux portable, interrompu au bout de quelques heures à chauffer fort) à faire un calcul qui m’intéresse en poids 11.



---

archive/issue_comments_337904.json:
```json
{
    "body": "Changed commit from **[`6e14709`](https://github.com/sagemath/sagetrac-mirror/commit/6e14709c36085e0d3e0b01b24f4b370bc08b7668)** to **[`a60c688`](https://github.com/sagemath/sagetrac-mirror/commit/a60c6888825e9f601814cf4bb931af45fd5820f8)**",
    "created_at": "2020-04-23T15:16:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337904",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6e14709`](https://github.com/sagemath/sagetrac-mirror/commit/6e14709c36085e0d3e0b01b24f4b370bc08b7668)** to **[`a60c688`](https://github.com/sagemath/sagetrac-mirror/commit/a60c6888825e9f601814cf4bb931af45fd5820f8)**



---

archive/issue_comments_337905.json:
```json
{
    "body": "<div id=\"comment:78\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a60c6888825e9f601814cf4bb931af45fd5820f8\"><code>a60c688</code></a></td><td><code>trac 22713 adding a simplify procedure using duality</code></td></tr></table>\n",
    "created_at": "2020-04-23T15:16:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337905",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:78"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a60c6888825e9f601814cf4bb931af45fd5820f8"><code>a60c688</code></a></td><td><code>trac 22713 adding a simplify procedure using duality</code></td></tr></table>




---

archive/issue_comments_337906.json:
```json
{
    "body": "Changed commit from **[`a60c688`](https://github.com/sagemath/sagetrac-mirror/commit/a60c6888825e9f601814cf4bb931af45fd5820f8)** to **[`37a5667`](https://github.com/sagemath/sagetrac-mirror/commit/37a5667e305f82ceec5a26546a149eaf1544e8dc)**",
    "created_at": "2020-04-23T15:26:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337906",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a60c688`](https://github.com/sagemath/sagetrac-mirror/commit/a60c6888825e9f601814cf4bb931af45fd5820f8)** to **[`37a5667`](https://github.com/sagemath/sagetrac-mirror/commit/37a5667e305f82ceec5a26546a149eaf1544e8dc)**



---

archive/issue_comments_337907.json:
```json
{
    "body": "<div id=\"comment:79\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37a5667e305f82ceec5a26546a149eaf1544e8dc\"><code>37a5667</code></a></td><td><code>remove automatic simplification</code></td></tr></table>\n",
    "created_at": "2020-04-23T15:26:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337907",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:79"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37a5667e305f82ceec5a26546a149eaf1544e8dc"><code>37a5667</code></a></td><td><code>remove automatic simplification</code></td></tr></table>




---

archive/issue_comments_337908.json:
```json
{
    "body": "Changed commit from **[`37a5667`](https://github.com/sagemath/sagetrac-mirror/commit/37a5667e305f82ceec5a26546a149eaf1544e8dc)** to **[`7887eb2`](https://github.com/sagemath/sagetrac-mirror/commit/7887eb2e20c536493cf0bd0c47c10c8a31eb3efb)**",
    "created_at": "2020-04-23T15:32:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337908",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`37a5667`](https://github.com/sagemath/sagetrac-mirror/commit/37a5667e305f82ceec5a26546a149eaf1544e8dc)** to **[`7887eb2`](https://github.com/sagemath/sagetrac-mirror/commit/7887eb2e20c536493cf0bd0c47c10c8a31eb3efb)**



---

archive/issue_comments_337909.json:
```json
{
    "body": "<div id=\"comment:80\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7887eb2e20c536493cf0bd0c47c10c8a31eb3efb\"><code>7887eb2</code></a></td><td><code>have .simplify available</code></td></tr></table>\n",
    "created_at": "2020-04-23T15:32:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337909",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:80"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7887eb2e20c536493cf0bd0c47c10c8a31eb3efb"><code>7887eb2</code></a></td><td><code>have .simplify available</code></td></tr></table>




---

archive/issue_comments_337910.json:
```json
{
    "body": "<div id=\"comment:81\" align=\"right\">comment:81</div>\n\nSur la branch `public/22713` j'ai nettoy\u00e9 l'approximation num\u00e9rique.",
    "created_at": "2020-04-23T15:38:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337910",
    "user": "https://github.com/videlec"
}
```

<div id="comment:81" align="right">comment:81</div>

Sur la branch `public/22713` j'ai nettoyé l'approximation numérique.



---

archive/issue_comments_337911.json:
```json
{
    "body": "<div id=\"comment:82\" align=\"right\">comment:82</div>\n\n(j'esp\u00e8re qu'il n'y a pas de conflit avec tes trois derniers commits)",
    "created_at": "2020-04-23T15:38:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337911",
    "user": "https://github.com/videlec"
}
```

<div id="comment:82" align="right">comment:82</div>

(j'espère qu'il n'y a pas de conflit avec tes trois derniers commits)



---

archive/issue_comments_337912.json:
```json
{
    "body": "Changed commit from **[`7887eb2`](https://github.com/sagemath/sagetrac-mirror/commit/7887eb2e20c536493cf0bd0c47c10c8a31eb3efb)** to **[`d9ce5ae`](https://github.com/sagemath/sagetrac-mirror/commit/d9ce5ae0f664b1ef021a25846f284d5eeffe499f)**",
    "created_at": "2020-04-23T15:59:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337912",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7887eb2`](https://github.com/sagemath/sagetrac-mirror/commit/7887eb2e20c536493cf0bd0c47c10c8a31eb3efb)** to **[`d9ce5ae`](https://github.com/sagemath/sagetrac-mirror/commit/d9ce5ae0f664b1ef021a25846f284d5eeffe499f)**



---

archive/issue_comments_337913.json:
```json
{
    "body": "<div id=\"comment:83\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/be3691c00bbe12180427880795aea559d54139fb\"><code>be3691c</code></a></td><td><code>clean numerical approximation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d9ce5ae0f664b1ef021a25846f284d5eeffe499f\"><code>d9ce5ae</code></a></td><td><code>Merge branch 'public/22713' of ssh://trac.sagemath.org:22/sage into mzv</code></td></tr></table>\n",
    "created_at": "2020-04-23T15:59:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337913",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:83"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/be3691c00bbe12180427880795aea559d54139fb"><code>be3691c</code></a></td><td><code>clean numerical approximation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d9ce5ae0f664b1ef021a25846f284d5eeffe499f"><code>d9ce5ae</code></a></td><td><code>Merge branch 'public/22713' of ssh://trac.sagemath.org:22/sage into mzv</code></td></tr></table>




---

archive/issue_comments_337914.json:
```json
{
    "body": "<div id=\"comment:84\" align=\"right\">comment:84</div>\n\nY'a un petit bug dans `pari_eval`. Je vais rajouter un commit...",
    "created_at": "2020-04-23T16:01:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337914",
    "user": "https://github.com/videlec"
}
```

<div id="comment:84" align="right">comment:84</div>

Y'a un petit bug dans `pari_eval`. Je vais rajouter un commit...



---

archive/issue_comments_337915.json:
```json
{
    "body": "<div id=\"comment:85\" align=\"right\">comment:85</div>\n\nSee `4c2cf94267` still on `public/22713` (rebased on your `d9ce5ae`).",
    "created_at": "2020-04-23T16:18:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337915",
    "user": "https://github.com/videlec"
}
```

<div id="comment:85" align="right">comment:85</div>

See `4c2cf94267` still on `public/22713` (rebased on your `d9ce5ae`).



---

archive/issue_comments_337916.json:
```json
{
    "body": "<div id=\"comment:86\" align=\"right\">comment:86</div>\n\nSi tu veux faire du poids 13, il faut absolument faire avant\n\n```\nsage: from sage.modular.multiple_zeta import MultizetaValues\nsage: M = MultizetaValues()\nsage: M.update(max_weight=13, prec=1024)\n```\n(j'imagine que precision 1024 est suffisant ici?)\n\nMais ce n'est peut-\u00eatre pas la partie num\u00e9rique qui rame... t'as fait du profiling?",
    "created_at": "2020-04-23T16:21:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337916",
    "user": "https://github.com/videlec"
}
```

<div id="comment:86" align="right">comment:86</div>

Si tu veux faire du poids 13, il faut absolument faire avant

```
sage: from sage.modular.multiple_zeta import MultizetaValues
sage: M = MultizetaValues()
sage: M.update(max_weight=13, prec=1024)
```
(j'imagine que precision 1024 est suffisant ici?)

Mais ce n'est peut-être pas la partie numérique qui rame... t'as fait du profiling?



---

archive/issue_comments_337917.json:
```json
{
    "body": "<div id=\"comment:87\" align=\"right\">comment:87</div>\n\nBasculons sur la branche public/ pour nous simplifier la vie.\n\nConcernant mon calcul perso en poids 11, je crois que je vais devoir faire un algo plus subtil.\n\nTODO ici : s'occuper du coverage.",
    "created_at": "2020-04-24T13:39:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337917",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:87" align="right">comment:87</div>

Basculons sur la branche public/ pour nous simplifier la vie.

Concernant mon calcul perso en poids 11, je crois que je vais devoir faire un algo plus subtil.

TODO ici : s'occuper du coverage.



---

archive/issue_comments_337918.json:
```json
{
    "body": "Changed branch from **[u/chapoton/ticket22713](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/ticket22713)** to **[public/22713](https://github.com/sagemath/sagetrac-mirror/tree/public/22713)**",
    "created_at": "2020-04-24T13:39:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337918",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/chapoton/ticket22713](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/ticket22713)** to **[public/22713](https://github.com/sagemath/sagetrac-mirror/tree/public/22713)**



---

archive/issue_comments_337919.json:
```json
{
    "body": "Changed commit from **[`d9ce5ae`](https://github.com/sagemath/sagetrac-mirror/commit/d9ce5ae0f664b1ef021a25846f284d5eeffe499f)** to **[`be3691c`](https://github.com/sagemath/sagetrac-mirror/commit/be3691c00bbe12180427880795aea559d54139fb)**",
    "created_at": "2020-04-24T13:39:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337919",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[`d9ce5ae`](https://github.com/sagemath/sagetrac-mirror/commit/d9ce5ae0f664b1ef021a25846f284d5eeffe499f)** to **[`be3691c`](https://github.com/sagemath/sagetrac-mirror/commit/be3691c00bbe12180427880795aea559d54139fb)**



---

archive/issue_comments_337920.json:
```json
{
    "body": "Changed commit from **[`be3691c`](https://github.com/sagemath/sagetrac-mirror/commit/be3691c00bbe12180427880795aea559d54139fb)** to **[`1203ebf`](https://github.com/sagemath/sagetrac-mirror/commit/1203ebf5f05a8a9d5dd29ec0efbd28c95f5881c1)**",
    "created_at": "2020-04-24T15:21:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337920",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`be3691c`](https://github.com/sagemath/sagetrac-mirror/commit/be3691c00bbe12180427880795aea559d54139fb)** to **[`1203ebf`](https://github.com/sagemath/sagetrac-mirror/commit/1203ebf5f05a8a9d5dd29ec0efbd28c95f5881c1)**



---

archive/issue_comments_337921.json:
```json
{
    "body": "<div id=\"comment:88\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a60c6888825e9f601814cf4bb931af45fd5820f8\"><code>a60c688</code></a></td><td><code>trac 22713 adding a simplify procedure using duality</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37a5667e305f82ceec5a26546a149eaf1544e8dc\"><code>37a5667</code></a></td><td><code>remove automatic simplification</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7887eb2e20c536493cf0bd0c47c10c8a31eb3efb\"><code>7887eb2</code></a></td><td><code>have .simplify available</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d9ce5ae0f664b1ef021a25846f284d5eeffe499f\"><code>d9ce5ae</code></a></td><td><code>Merge branch 'public/22713' of ssh://trac.sagemath.org:22/sage into mzv</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4c2cf9426733789afb30a3665e1680b95756071d\"><code>4c2cf94</code></a></td><td><code>some fixes and documentation to numerical MZV</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1203ebf5f05a8a9d5dd29ec0efbd28c95f5881c1\"><code>1203ebf</code></a></td><td><code>100% doctest coverage</code></td></tr></table>\n",
    "created_at": "2020-04-24T15:21:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337921",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:88"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a60c6888825e9f601814cf4bb931af45fd5820f8"><code>a60c688</code></a></td><td><code>trac 22713 adding a simplify procedure using duality</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37a5667e305f82ceec5a26546a149eaf1544e8dc"><code>37a5667</code></a></td><td><code>remove automatic simplification</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7887eb2e20c536493cf0bd0c47c10c8a31eb3efb"><code>7887eb2</code></a></td><td><code>have .simplify available</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d9ce5ae0f664b1ef021a25846f284d5eeffe499f"><code>d9ce5ae</code></a></td><td><code>Merge branch 'public/22713' of ssh://trac.sagemath.org:22/sage into mzv</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4c2cf9426733789afb30a3665e1680b95756071d"><code>4c2cf94</code></a></td><td><code>some fixes and documentation to numerical MZV</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1203ebf5f05a8a9d5dd29ec0efbd28c95f5881c1"><code>1203ebf</code></a></td><td><code>100% doctest coverage</code></td></tr></table>




---

archive/issue_comments_337922.json:
```json
{
    "body": "<div id=\"comment:89\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b295b274c34c47d6b076ea075fb85f412bdcd20f\"><code>b295b27</code></a></td><td><code>trac 22713, tiny details, one more reference</code></td></tr></table>\n",
    "created_at": "2020-04-25T08:20:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337922",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:89"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b295b274c34c47d6b076ea075fb85f412bdcd20f"><code>b295b27</code></a></td><td><code>trac 22713, tiny details, one more reference</code></td></tr></table>




---

archive/issue_comments_337923.json:
```json
{
    "body": "Changed commit from **[`1203ebf`](https://github.com/sagemath/sagetrac-mirror/commit/1203ebf5f05a8a9d5dd29ec0efbd28c95f5881c1)** to **[`b295b27`](https://github.com/sagemath/sagetrac-mirror/commit/b295b274c34c47d6b076ea075fb85f412bdcd20f)**",
    "created_at": "2020-04-25T08:20:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337923",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1203ebf`](https://github.com/sagemath/sagetrac-mirror/commit/1203ebf5f05a8a9d5dd29ec0efbd28c95f5881c1)** to **[`b295b27`](https://github.com/sagemath/sagetrac-mirror/commit/b295b274c34c47d6b076ea075fb85f412bdcd20f)**



---

archive/issue_comments_337924.json:
```json
{
    "body": "<div id=\"comment:90\" align=\"right\">comment:90</div>\n\nCoverage is ok.\n\nSo, what remains to be done ?",
    "created_at": "2020-04-26T19:18:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337924",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:90" align="right">comment:90</div>

Coverage is ok.

So, what remains to be done ?



---

archive/issue_comments_337925.json:
```json
{
    "body": "<div id=\"comment:91\" align=\"right\">comment:91</div>\n\nOne feature which is not advertized in the main docstring of the module is the numerical approximation. I think it deserves a mention.\n\nOtherwise I believe it is ready for inclusion.",
    "created_at": "2020-04-27T18:05:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337925",
    "user": "https://github.com/videlec"
}
```

<div id="comment:91" align="right">comment:91</div>

One feature which is not advertized in the main docstring of the module is the numerical approximation. I think it deserves a mention.

Otherwise I believe it is ready for inclusion.



---

archive/issue_comments_337926.json:
```json
{
    "body": "<div id=\"comment:92\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f6e69bf53cfa53c8daff399849123e6f67d9ebc8\"><code>f6e69bf</code></a></td><td><code>Merge branch 'public/22713' of ssh://trac.sagemath.org:22/sage into mzv</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/08c2b81633e89f430b1df6baa169808dad232c99\"><code>08c2b81</code></a></td><td><code>trac 22713 adding more doc about numerical approximation aka period map</code></td></tr></table>\n",
    "created_at": "2020-04-28T06:34:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337926",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:92"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f6e69bf53cfa53c8daff399849123e6f67d9ebc8"><code>f6e69bf</code></a></td><td><code>Merge branch 'public/22713' of ssh://trac.sagemath.org:22/sage into mzv</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/08c2b81633e89f430b1df6baa169808dad232c99"><code>08c2b81</code></a></td><td><code>trac 22713 adding more doc about numerical approximation aka period map</code></td></tr></table>




---

archive/issue_comments_337927.json:
```json
{
    "body": "Changed commit from **[`b295b27`](https://github.com/sagemath/sagetrac-mirror/commit/b295b274c34c47d6b076ea075fb85f412bdcd20f)** to **[`08c2b81`](https://github.com/sagemath/sagetrac-mirror/commit/08c2b81633e89f430b1df6baa169808dad232c99)**",
    "created_at": "2020-04-28T06:34:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337927",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b295b27`](https://github.com/sagemath/sagetrac-mirror/commit/b295b274c34c47d6b076ea075fb85f412bdcd20f)** to **[`08c2b81`](https://github.com/sagemath/sagetrac-mirror/commit/08c2b81633e89f430b1df6baa169808dad232c99)**



---

archive/issue_comments_337928.json:
```json
{
    "body": "<div id=\"comment:93\" align=\"right\">comment:93</div>\n\nI have added a little more doc about numerical approximation.\n\n* Should I move references to master ref file ?\n\n* I am tempted to squash all commits. May I ?\n\n* Anything else ?",
    "created_at": "2020-04-28T06:35:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337928",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:93" align="right">comment:93</div>

I have added a little more doc about numerical approximation.

* Should I move references to master ref file ?

* I am tempted to squash all commits. May I ?

* Anything else ?



---

archive/issue_comments_337929.json:
```json
{
    "body": "<div id=\"comment:94\" align=\"right\">comment:94</div>\n\nReplying to [@fchapoton](#comment%3A93):\n> I have added a little more doc about numerical approximation.\n> * I am tempted to squash all commits. May I ?\n\nSure",
    "created_at": "2020-04-28T07:25:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337929",
    "user": "https://github.com/videlec"
}
```

<div id="comment:94" align="right">comment:94</div>

Replying to [@fchapoton](#comment%3A93):
> I have added a little more doc about numerical approximation.
> * I am tempted to squash all commits. May I ?

Sure



---

archive/issue_comments_337930.json:
```json
{
    "body": "<div id=\"comment:95\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c9e3b4cf905f5bb81821e8a078eb1dd1424930dd\"><code>c9e3b4c</code></a></td><td><code>implementation of the ring of motivic multiple zeta values</code></td></tr></table>\n",
    "created_at": "2020-04-28T07:38:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337930",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:95"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c9e3b4cf905f5bb81821e8a078eb1dd1424930dd"><code>c9e3b4c</code></a></td><td><code>implementation of the ring of motivic multiple zeta values</code></td></tr></table>




---

archive/issue_comments_337931.json:
```json
{
    "body": "Changed commit from **[`08c2b81`](https://github.com/sagemath/sagetrac-mirror/commit/08c2b81633e89f430b1df6baa169808dad232c99)** to **[`c9e3b4c`](https://github.com/sagemath/sagetrac-mirror/commit/c9e3b4cf905f5bb81821e8a078eb1dd1424930dd)**",
    "created_at": "2020-04-28T07:38:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337931",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`08c2b81`](https://github.com/sagemath/sagetrac-mirror/commit/08c2b81633e89f430b1df6baa169808dad232c99)** to **[`c9e3b4c`](https://github.com/sagemath/sagetrac-mirror/commit/c9e3b4cf905f5bb81821e8a078eb1dd1424930dd)**



---

archive/issue_comments_337932.json:
```json
{
    "body": "<div id=\"comment:96\" align=\"right\">comment:96</div>\n\nall commits squashed, and the patchbot is green",
    "created_at": "2020-04-28T16:48:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337932",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:96" align="right">comment:96</div>

all commits squashed, and the patchbot is green



---

archive/issue_events_314346.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-04-28T19:11:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22713#event-314346"
}
```



---

archive/issue_events_314347.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-04-28T19:11:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22713#event-314347"
}
```



---

archive/issue_comments_337933.json:
```json
{
    "body": "<div id=\"comment:97\" align=\"right\">comment:97</div>\n\nReplying to [@fchapoton](#comment%3A96):\n> all commits squashed, and the patchbot is green\n\nLet us get that in!\n\nEst-ce que tu es dispo mardi 05.05 14h-17h? Bill (Allombert) organise une hacking session PARI/GP et j'aimerais travailler sur les multizeta color\u00e9s (\u00e9valuation des polylogarithmes aux racines de l'unit\u00e9). Henri (Cohen) a d\u00e9j\u00e0 programm\u00e9 quelques trucs num\u00e9riques. Si jamais \u00e7a t'int\u00e9resse.",
    "created_at": "2020-04-28T19:11:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337933",
    "user": "https://github.com/videlec"
}
```

<div id="comment:97" align="right">comment:97</div>

Replying to [@fchapoton](#comment%3A96):
> all commits squashed, and the patchbot is green

Let us get that in!

Est-ce que tu es dispo mardi 05.05 14h-17h? Bill (Allombert) organise une hacking session PARI/GP et j'aimerais travailler sur les multizeta colorés (évaluation des polylogarithmes aux racines de l'unité). Henri (Cohen) a déjà programmé quelques trucs numériques. Si jamais ça t'intéresse.



---

archive/issue_comments_337934.json:
```json
{
    "body": "<div id=\"comment:98\" align=\"right\">comment:98</div>\n\nNot python2-compatible",
    "created_at": "2020-05-03T22:40:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337934",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:98" align="right">comment:98</div>

Not python2-compatible



---

archive/issue_events_314348.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-05-03T22:40:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22713#event-314348"
}
```



---

archive/issue_events_314349.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-05-03T22:40:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22713#event-314349"
}
```



---

archive/issue_events_314350.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-05-04T05:44:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22713#event-314350"
}
```



---

archive/issue_events_314351.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-05-04T05:44:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22713#event-314351"
}
```



---

archive/issue_comments_337935.json:
```json
{
    "body": "<div id=\"comment:99\" align=\"right\">comment:99</div>\n\nReplying to [@vbraun](#comment%3A98):\n> Not python2-compatible\n\nWhy is that a problem? The milestone is set to 9.2 which is supposed to be Python3 only. Or did I misunderstand something?",
    "created_at": "2020-05-04T05:44:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337935",
    "user": "https://github.com/videlec"
}
```

<div id="comment:99" align="right">comment:99</div>

Replying to [@vbraun](#comment%3A98):
> Not python2-compatible

Why is that a problem? The milestone is set to 9.2 which is supposed to be Python3 only. Or did I misunderstand something?



---

archive/issue_comments_337936.json:
```json
{
    "body": "<div id=\"comment:100\" align=\"right\">comment:100</div>\n\nProbably the merging tools do not respect the milestone..",
    "created_at": "2020-05-04T05:45:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337936",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:100" align="right">comment:100</div>

Probably the merging tools do not respect the milestone..



---

archive/issue_events_314352.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-05-26T21:49:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22713#event-314352"
}
```



---

archive/issue_events_314353.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "9e34d8ff0be943ff5dcf54537019c2c9acb1597e",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-05-26T21:49:48Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22713#event-314353"
}
```



---

archive/issue_comments_337937.json:
```json
{
    "body": "Changed branch from **[public/22713](https://github.com/sagemath/sagetrac-mirror/tree/public/22713)** to **[`c9e3b4c`](https://github.com/sagemath/sagetrac-mirror/commit/c9e3b4cf905f5bb81821e8a078eb1dd1424930dd)**",
    "created_at": "2020-05-26T21:49:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22713#issuecomment-337937",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/22713](https://github.com/sagemath/sagetrac-mirror/tree/public/22713)** to **[`c9e3b4c`](https://github.com/sagemath/sagetrac-mirror/commit/c9e3b4cf905f5bb81821e8a078eb1dd1424930dd)**
