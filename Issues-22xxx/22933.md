# Issue 22933: clean up deprecations in sandpile

archive/issues_022696.json:
```json
{
    "body": "CC:  @jhpalmieri dperkinson\n\nSome deprecation in sandpile are in fact already removed, but still present in lazy imports. This breaks ups `vars()` and `locals()`.\n\nNamely, these are `grid_sandpile` and `complete_sandpile`.\n\nIn fact, we should clean up everything that was deprecated in #18618.\n\nHowever, we leave `sandlib` in the code, only remove it from the global namespace, as e.g. `sandlib('gor')` does not have an equivalent.\n\nAlso, it turns out that while calling `vars()` directly still fails, one now can at least do\n\n```\nv=vars()\nfor k in v.keys(): print v[k]\n```\n\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/22933\n\n",
    "closed_at": "2017-05-08T21:18:43Z",
    "created_at": "2017-05-02T20:25:51Z",
    "labels": [
        "component: packages: standard",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "clean up deprecations in sandpile",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22933",
    "user": "https://github.com/dimpase"
}
```
CC:  @jhpalmieri dperkinson

Some deprecation in sandpile are in fact already removed, but still present in lazy imports. This breaks ups `vars()` and `locals()`.

Namely, these are `grid_sandpile` and `complete_sandpile`.

In fact, we should clean up everything that was deprecated in #18618.

However, we leave `sandlib` in the code, only remove it from the global namespace, as e.g. `sandlib('gor')` does not have an equivalent.

Also, it turns out that while calling `vars()` directly still fails, one now can at least do

```
v=vars()
for k in v.keys(): print v[k]
```




Issue created by migration from https://trac.sagemath.org/ticket/22933





---

archive/issue_comments_316470.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2017-05-02T21:29:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22933#issuecomment-316470",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_316471.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-05-02T21:31:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22933#issuecomment-316471",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_316472.json:
```json
{
    "body": "Why is `random_digraph` no longer deprecated? (I know nothing about the sandpiles code, just wondering.)",
    "created_at": "2017-05-02T22:09:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22933#issuecomment-316472",
    "user": "https://github.com/jhpalmieri"
}
```

Why is `random_digraph` no longer deprecated? (I know nothing about the sandpiles code, just wondering.)



---

archive/issue_comments_316473.json:
```json
{
    "body": "There are several other places where you are removing deprecation warnings without removing the (previously) deprecated functions.",
    "created_at": "2017-05-02T22:10:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22933#issuecomment-316473",
    "user": "https://github.com/jhpalmieri"
}
```

There are several other places where you are removing deprecation warnings without removing the (previously) deprecated functions.



---

archive/issue_comments_316474.json:
```json
{
    "body": "Replying to [comment:5 jhpalmieri]:\n> There are several other places where you are removing deprecation warnings without removing the (previously) deprecated functions.\n\n\nDeprecated was placing them into the global namespace. These functions are still used internally in the module.",
    "created_at": "2017-05-02T22:19:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22933#issuecomment-316474",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:5 jhpalmieri]:
> There are several other places where you are removing deprecation warnings without removing the (previously) deprecated functions.


Deprecated was placing them into the global namespace. These functions are still used internally in the module.



---

archive/issue_comments_316475.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-02T23:18:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22933#issuecomment-316475",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_316476.json:
```json
{
    "body": "OK, I've removed two removable deprecated functions.",
    "created_at": "2017-05-02T23:19:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22933#issuecomment-316476",
    "user": "https://github.com/dimpase"
}
```

OK, I've removed two removable deprecated functions.



---

archive/issue_comments_316477.json:
```json
{
    "body": "This is not an issue that we should deal with on this ticket, but according to the deprecation notices, someone should move the functionality from `sandlib` to the catalog of examples accessible using `sandpiles`.",
    "created_at": "2017-05-03T18:29:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22933#issuecomment-316477",
    "user": "https://github.com/jhpalmieri"
}
```

This is not an issue that we should deal with on this ticket, but according to the deprecation notices, someone should move the functionality from `sandlib` to the catalog of examples accessible using `sandpiles`.



---

archive/issue_comments_316478.json:
```json
{
    "body": "I'm happy with the changes here.",
    "created_at": "2017-05-03T19:03:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22933#issuecomment-316478",
    "user": "https://github.com/jhpalmieri"
}
```

I'm happy with the changes here.



---

archive/issue_comments_316479.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-05-03T19:03:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22933#issuecomment-316479",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_059483.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-05-08T21:18:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22933",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22933#event-59483"
}
```



---

archive/issue_comments_316480.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-05-08T21:18:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22933#issuecomment-316480",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
