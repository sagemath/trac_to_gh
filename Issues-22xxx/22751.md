# Issue 22751: Fix lazy imports in Cython

archive/issues_022514.json:
```json
{
    "body": "Ensure that `lazy_import` works \"out of the box\" in Cython.\n\nReviewer: Jeroen Demeyer\n\nBranch: u/jdemeyer/fix_lazy_imports_in_cython\n\nDependencies: #22755\n\nCommit: bbdb3c7847bbdedba5277eb72036be8b6ad1ba01\n\nResolution: wontfix\n\nIssue created by migration from https://trac.sagemath.org/ticket/22751\n\n",
    "closed_at": "2017-04-05T13:47:51Z",
    "created_at": "2017-04-04T08:54:39Z",
    "labels": [
        "component: cython"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "Fix lazy imports in Cython",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22751",
    "user": "https://github.com/jdemeyer"
}
```
Ensure that `lazy_import` works "out of the box" in Cython.

Reviewer: Jeroen Demeyer

Branch: u/jdemeyer/fix_lazy_imports_in_cython

Dependencies: #22755

Commit: bbdb3c7847bbdedba5277eb72036be8b6ad1ba01

Resolution: wontfix

Issue created by migration from https://trac.sagemath.org/ticket/22751





---

archive/issue_comments_334017.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n Ensure that `lazy_import` works \"out of the box\" in Cython.\n+\n+Also try to optimize/simplify where possible.\n \n Author: Jeroen Demeyer\n \n```\n",
    "created_at": "2017-04-04T08:56:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22751#issuecomment-334017",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,6 @@
 Ensure that `lazy_import` works "out of the box" in Cython.
+
+Also try to optimize/simplify where possible.
 
 Author: Jeroen Demeyer
 
```




---

archive/issue_comments_334018.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n+Ensure that `lazy_import` works \"out of the box\" in Cython.\n \n+Also do various fixes/optimizations/simplifications.\n+\n+We drop support for `lazy_import(overwrite=False)` which was used only in one place, where it was not actually needed.\n \n Author: Jeroen Demeyer\n \n```\n",
    "created_at": "2017-04-04T12:50:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22751#issuecomment-334018",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,8 @@
+Ensure that `lazy_import` works "out of the box" in Cython.
 
+Also do various fixes/optimizations/simplifications.
+
+We drop support for `lazy_import(overwrite=False)` which was used only in one place, where it was not actually needed.
 
 Author: Jeroen Demeyer
 
```




---

archive/issue_comments_334019.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n+Ensure that `lazy_import` works \"out of the box\" in Cython.\n \n+Also do various fixes/optimizations/simplifications.\n+\n+We drop support for `lazy_import(overwrite=False)` which was used only in one place in a dubious way to implement a 2-level lazy import (a lazy import being lazily imported).\n \n Author: Jeroen Demeyer\n \n```\n",
    "created_at": "2017-04-04T13:06:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22751#issuecomment-334019",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,8 @@
+Ensure that `lazy_import` works "out of the box" in Cython.
 
+Also do various fixes/optimizations/simplifications.
+
+We drop support for `lazy_import(overwrite=False)` which was used only in one place in a dubious way to implement a 2-level lazy import (a lazy import being lazily imported).
 
 Author: Jeroen Demeyer
 
```




---

archive/issue_comments_334020.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-04-04T13:19:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22751#issuecomment-334020",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_334021.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-04-04T15:00:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22751#issuecomment-334021",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_334022.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-04-04T15:10:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22751#issuecomment-334022",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_334023.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-04-04T15:24:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22751#issuecomment-334023",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_334024.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-\n+Ensure that `lazy_import` works \"out of the box\" in Cython.\n \n Author: Jeroen Demeyer\n \n```\n",
    "created_at": "2017-04-05T08:07:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22751#issuecomment-334024",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,4 @@
-
+Ensure that `lazy_import` works "out of the box" in Cython.
 
 Author: Jeroen Demeyer
 
```




---

archive/issue_comments_334025.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-04-05T10:10:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22751#issuecomment-334025",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_events_059235.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-04-05T13:47:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22751",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22751#event-59235"
}
```



---

archive/issue_comments_334026.json:
```json
{
    "body": "<a id='comment:13'></a>#22752 is a much better solution to the same problem.",
    "created_at": "2017-04-05T13:47:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22751#issuecomment-334026",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'></a>#22752 is a much better solution to the same problem.



---

archive/issue_comments_334027.json:
```json
{
    "body": "Resolution: wontfix",
    "created_at": "2017-04-05T13:47:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22751",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22751#issuecomment-334027",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: wontfix
