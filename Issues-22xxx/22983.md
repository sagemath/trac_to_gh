# Issue 22983: polynomial quotient rings are unique parents

archive/issues_022746.json:
```json
{
    "assignees": [],
    "body": "Currently quotient rings are not unique parents which sometimes causes trouble with \n\n```\nsage: R.<x> = QQ[]\nsage: R.quo(x) is R.quo(x)\nFalse\nsage: R.quo(x) == R.quo(x)\nTrue\n```\n\nThe changes proposed here make the creation go through a factory which makes sure that the parents are unique.\n\nDepends on #23851\n\nComponent: **commutative algebra**\n\nKeywords: **sd86.5, sd87**\n\nAuthor: **Julian R\u00fcth**\n\nBranch/Commit: **[`966c36b`](https://github.com/sagemath/sagetrac-mirror/commit/966c36b92266ffbaadec4bd43e0f08f086eb5fd3)**\n\nReviewer: **David Roe**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/22983_\n\n",
    "closed_at": "2018-07-08T13:05:36Z",
    "created_at": "2017-05-11T18:28:17Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20commutative%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "polynomial quotient rings are unique parents",
    "type": "issue",
    "updated_at": "2018-07-08T13:05:36Z",
    "url": "https://github.com/sagemath/sage/issues/22983",
    "user": "https://github.com/saraedum"
}
```
Currently quotient rings are not unique parents which sometimes causes trouble with 

```
sage: R.<x> = QQ[]
sage: R.quo(x) is R.quo(x)
False
sage: R.quo(x) == R.quo(x)
True
```

The changes proposed here make the creation go through a factory which makes sure that the parents are unique.

Depends on #23851

Component: **commutative algebra**

Keywords: **sd86.5, sd87**

Author: **Julian RÃ¼th**

Branch/Commit: **[`966c36b`](https://github.com/sagemath/sagetrac-mirror/commit/966c36b92266ffbaadec4bd43e0f08f086eb5fd3)**

Reviewer: **David Roe**

_Issue created by migration from https://trac.sagemath.org/ticket/22983_





---

archive/issue_events_317696.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-05-11T18:28:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317696"
}
```



---

archive/issue_events_317697.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-05-11T18:28:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20commutative%20algebra",
    "label_color": "0000ff",
    "label_name": "c: commutative algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317697"
}
```



---

archive/issue_events_317698.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-05-11T18:28:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317698"
}
```



---

archive/issue_events_317699.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-05-11T18:28:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317699"
}
```



---

archive/issue_comments_343459.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,5 @@\n Currently quotient rings are not unique parents which sometimes causes trouble with \n+\n ```\n sage: R.<x> = QQ[]\n sage: R.quo(x) is R.quo(x)\n``````\n",
    "created_at": "2017-05-11T20:50:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343459",
    "user": "https://github.com/xcaruso"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,5 @@
 Currently quotient rings are not unique parents which sometimes causes trouble with 
+
 ```
 sage: R.<x> = QQ[]
 sage: R.quo(x) is R.quo(x)
``````




---

archive/issue_comments_343460.json:
```json
{
    "body": "Branch: **[u/saraedum/polynomial_quotient_rings_are_unique_parents](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/polynomial_quotient_rings_are_unique_parents)**",
    "created_at": "2017-05-11T21:24:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343460",
    "user": "https://github.com/saraedum"
}
```

Branch: **[u/saraedum/polynomial_quotient_rings_are_unique_parents](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/polynomial_quotient_rings_are_unique_parents)**



---

archive/issue_comments_343461.json:
```json
{
    "body": "Commit: **[`054945d`](https://github.com/sagemath/sagetrac-mirror/commit/054945da4a2caea28416c684d236fce4cbe88124)**",
    "created_at": "2017-05-11T22:09:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343461",
    "user": "https://github.com/nbruin"
}
```

Commit: **[`054945d`](https://github.com/sagemath/sagetrac-mirror/commit/054945da4a2caea28416c684d236fce4cbe88124)**



---

archive/issue_comments_343462.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nDoes this fully solve the problem, though? One could give different generators for the same ideal. Should we be getting identical results for those, e.g., `R.quo(x-1)` and `R.quo(2*x-2)` (provided `2` is invertible in `R` ...). It might be worth documenting the choice made.\n\nI suspect that for higher rank polynomial rings, normalizing the ideal representation might be too expensive (although computing in those rings would be expensive anyway).\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/054945da4a2caea28416c684d236fce4cbe88124\"><code>054945d</code></a></td><td><code>Make polynomial quotient rings unique parents</code></td></tr></table>\n",
    "created_at": "2017-05-11T22:09:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343462",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:3" align="right">comment:3</div>

Does this fully solve the problem, though? One could give different generators for the same ideal. Should we be getting identical results for those, e.g., `R.quo(x-1)` and `R.quo(2*x-2)` (provided `2` is invertible in `R` ...). It might be worth documenting the choice made.

I suspect that for higher rank polynomial rings, normalizing the ideal representation might be too expensive (although computing in those rings would be expensive anyway).

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/054945da4a2caea28416c684d236fce4cbe88124"><code>054945d</code></a></td><td><code>Make polynomial quotient rings unique parents</code></td></tr></table>




---

archive/issue_comments_343463.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nnbruin: You are right. It should be documented. I'll fix that.\nI believe that your example should produce two different rings (at least for the time being.) These could be `==` equal but not `is` equal. However, getting `==` to work for them would require a change of the hash function which is (hard and) not the scope of this ticket.",
    "created_at": "2017-05-11T23:00:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343463",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:4" align="right">comment:4</div>

nbruin: You are right. It should be documented. I'll fix that.
I believe that your example should produce two different rings (at least for the time being.) These could be `==` equal but not `is` equal. However, getting `==` to work for them would require a change of the hash function which is (hard and) not the scope of this ticket.



---

archive/issue_comments_343464.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nCurrently `R.quo(x-1)` and `R.quo(2*x-2)` prints in the same way.\n\n```\nsage: R.<x>= QQ[]\nsage: R.quo(x+1)\nUnivariate Quotient Polynomial Ring in xbar over Rational Field with modulus x + 1\nsage: R.quo(2*x+2)\nUnivariate Quotient Polynomial Ring in xbar over Rational Field with modulus x + 1\n```\nSo I would say rather that the two constructions should return the same ring; it should be easy, it suffices to make the defining polynomial monic because creating the key.",
    "created_at": "2017-05-12T05:53:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343464",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:5" align="right">comment:5</div>

Currently `R.quo(x-1)` and `R.quo(2*x-2)` prints in the same way.

```
sage: R.<x>= QQ[]
sage: R.quo(x+1)
Univariate Quotient Polynomial Ring in xbar over Rational Field with modulus x + 1
sage: R.quo(2*x+2)
Univariate Quotient Polynomial Ring in xbar over Rational Field with modulus x + 1
```
So I would say rather that the two constructions should return the same ring; it should be easy, it suffices to make the defining polynomial monic because creating the key.



---

archive/issue_comments_343465.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@xcaruso](#comment%3A5):\n> Currently `R.quo(x-1)` and `R.quo(2*x-2)` prints in the same way.\n> \n> ```\n> sage: R.<x>= QQ[]\n> sage: R.quo(x+1)\n> Univariate Quotient Polynomial Ring in xbar over Rational Field with modulus x + 1\n> sage: R.quo(2*x+2)\n> Univariate Quotient Polynomial Ring in xbar over Rational Field with modulus x + 1\n> ```\n> So I would say rather that the two constructions should return the same ring; it should be easy, it suffices to make the defining polynomial monic because creating the key.\n\nI agree. However, this is already happening automagically: `quo` creates a (principal) ideal and takes its generator as the modulus which is the same `x+1` in both of your examples.\nAt the same time, if someone insists to create a quotient with the modulus `x + 1` and one with the modulus `2*x + 2` by calling `PolynomialQuotientRing` directly, then these should be distinct because `.modulus()` is going to have a different value for the two, i.e., they are distinguishable. I'll add a doctest to clarify this.",
    "created_at": "2017-05-16T11:32:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343465",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@xcaruso](#comment%3A5):
> Currently `R.quo(x-1)` and `R.quo(2*x-2)` prints in the same way.
> 
> ```
> sage: R.<x>= QQ[]
> sage: R.quo(x+1)
> Univariate Quotient Polynomial Ring in xbar over Rational Field with modulus x + 1
> sage: R.quo(2*x+2)
> Univariate Quotient Polynomial Ring in xbar over Rational Field with modulus x + 1
> ```
> So I would say rather that the two constructions should return the same ring; it should be easy, it suffices to make the defining polynomial monic because creating the key.

I agree. However, this is already happening automagically: `quo` creates a (principal) ideal and takes its generator as the modulus which is the same `x+1` in both of your examples.
At the same time, if someone insists to create a quotient with the modulus `x + 1` and one with the modulus `2*x + 2` by calling `PolynomialQuotientRing` directly, then these should be distinct because `.modulus()` is going to have a different value for the two, i.e., they are distinguishable. I'll add a doctest to clarify this.



---

archive/issue_comments_343466.json:
```json
{
    "body": "Changed commit from **[`054945d`](https://github.com/sagemath/sagetrac-mirror/commit/054945da4a2caea28416c684d236fce4cbe88124)** to **[`f6a1cd8`](https://github.com/sagemath/sagetrac-mirror/commit/f6a1cd8a84d48f4c043b770d2f437701eb8e3089)**",
    "created_at": "2017-05-16T11:56:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343466",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`054945d`](https://github.com/sagemath/sagetrac-mirror/commit/054945da4a2caea28416c684d236fce4cbe88124)** to **[`f6a1cd8`](https://github.com/sagemath/sagetrac-mirror/commit/f6a1cd8a84d48f4c043b770d2f437701eb8e3089)**



---

archive/issue_comments_343467.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f6a1cd8a84d48f4c043b770d2f437701eb8e3089\"><code>f6a1cd8</code></a></td><td><code>Document normalization of modulus</code></td></tr></table>\n",
    "created_at": "2017-05-16T11:56:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343467",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f6a1cd8a84d48f4c043b770d2f437701eb8e3089"><code>f6a1cd8</code></a></td><td><code>Document normalization of modulus</code></td></tr></table>




---

archive/issue_events_317700.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-05-17T22:49:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317700"
}
```



---

archive/issue_comments_343468.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nDoctests in `rings/polynomial` pass for me. Let's see what the patchbot thinks about everything else.",
    "created_at": "2017-05-17T22:50:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343468",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:9" align="right">comment:9</div>

Doctests in `rings/polynomial` pass for me. Let's see what the patchbot thinks about everything else.



---

archive/issue_comments_343469.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nOk.\nIt's a bit weird and confusing that the function `PolynomialQuotientRing` does not have the same behaviour than the method `quo` (and even `QuotientRing`), isn't it? \n\n```\n    sage: R.<x> = QQ[]\n    sage: QuotientRing(R, 2*x+2)\n    Univariate Quotient Polynomial Ring in xbar over Rational Field with modulus x + 1\n    sage: PolynomialQuotientRing(R, 2*x+2)\n    Univariate Quotient Polynomial Ring in xbar over Rational Field with modulus 2*x + 2\n```\n\nI would be in favour of uniformizing this... but it's definitely for another ticket.\n\nI'll try to review your ticket soon.",
    "created_at": "2017-05-18T04:00:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343469",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:10" align="right">comment:10</div>

Ok.
It's a bit weird and confusing that the function `PolynomialQuotientRing` does not have the same behaviour than the method `quo` (and even `QuotientRing`), isn't it? 

```
    sage: R.<x> = QQ[]
    sage: QuotientRing(R, 2*x+2)
    Univariate Quotient Polynomial Ring in xbar over Rational Field with modulus x + 1
    sage: PolynomialQuotientRing(R, 2*x+2)
    Univariate Quotient Polynomial Ring in xbar over Rational Field with modulus 2*x + 2
```

I would be in favour of uniformizing this... but it's definitely for another ticket.

I'll try to review your ticket soon.



---

archive/issue_comments_343470.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nWhy did you remove \"in one variable\" in the doctest.\n\n```\n    sage: R.<x,y> = QQ[]\n    sage: PolynomialQuotientRing(R, x^2+y+1)\n    ...\n    TypeError: ring must be a polynomial ring\n```",
    "created_at": "2017-05-24T16:56:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343470",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:11" align="right">comment:11</div>

Why did you remove "in one variable" in the doctest.

```
    sage: R.<x,y> = QQ[]
    sage: PolynomialQuotientRing(R, x^2+y+1)
    ...
    TypeError: ring must be a polynomial ring
```



---

archive/issue_comments_343471.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@xcaruso](#comment%3A11):\n> Why did you remove \"in one variable\" in the doctest.\n> \n> ```\n>     sage: R.<x,y> = QQ[]\n>     sage: PolynomialQuotientRing(R, x^2+y+1)\n>     ...\n>     TypeError: ring must be a polynomial ring\n> ```\n\nBecause it already says \"univariate\" there.",
    "created_at": "2017-06-06T05:39:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343471",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@xcaruso](#comment%3A11):
> Why did you remove "in one variable" in the doctest.
> 
> ```
>     sage: R.<x,y> = QQ[]
>     sage: PolynomialQuotientRing(R, x^2+y+1)
>     ...
>     TypeError: ring must be a polynomial ring
> ```

Because it already says "univariate" there.



---

archive/issue_comments_343472.json:
```json
{
    "body": "Changed keywords from none to **sd86.5**",
    "created_at": "2017-06-07T15:45:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343472",
    "user": "https://github.com/saraedum"
}
```

Changed keywords from none to **sd86.5**



---

archive/issue_events_317701.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2017-06-08T07:10:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317701"
}
```



---

archive/issue_events_317702.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2017-06-08T07:10:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317702"
}
```



---

archive/issue_comments_343473.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nTests all pass for me, and it looks good.",
    "created_at": "2017-06-08T07:10:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343473",
    "user": "https://github.com/roed314"
}
```

<div id="comment:14" align="right">comment:14</div>

Tests all pass for me, and it looks good.



---

archive/issue_comments_343474.json:
```json
{
    "body": "Reviewer: **David Roe**",
    "created_at": "2017-06-08T07:10:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343474",
    "user": "https://github.com/roed314"
}
```

Reviewer: **David Roe**



---

archive/issue_comments_343475.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nMerge conflict",
    "created_at": "2017-06-09T18:39:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343475",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:15" align="right">comment:15</div>

Merge conflict



---

archive/issue_events_317703.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-06-09T18:39:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317703"
}
```



---

archive/issue_events_317704.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-06-09T18:39:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317704"
}
```



---

archive/issue_comments_343476.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@vbraun](#comment%3A15):\n> Merge conflict\n\nFor me, trac is showing it as still merging cleanly.  Is there a new beta against which the merge is failing, or a ticket?",
    "created_at": "2017-06-09T20:22:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343476",
    "user": "https://github.com/roed314"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@vbraun](#comment%3A15):
> Merge conflict

For me, trac is showing it as still merging cleanly.  Is there a new beta against which the merge is failing, or a ticket?



---

archive/issue_comments_343477.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nWe do not get a merge conflict for that one.",
    "created_at": "2017-06-10T17:34:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343477",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:17" align="right">comment:17</div>

We do not get a merge conflict for that one.



---

archive/issue_events_317705.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-06-10T17:34:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317705"
}
```



---

archive/issue_events_317706.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-06-10T17:34:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317706"
}
```



---

archive/issue_comments_343478.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nWait for the next beta",
    "created_at": "2017-06-10T17:47:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343478",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:18" align="right">comment:18</div>

Wait for the next beta



---

archive/issue_events_317707.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-06-10T17:47:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317707"
}
```



---

archive/issue_events_317708.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-06-10T17:47:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317708"
}
```



---

archive/issue_comments_343479.json:
```json
{
    "body": "Changed commit from **[`f6a1cd8`](https://github.com/sagemath/sagetrac-mirror/commit/f6a1cd8a84d48f4c043b770d2f437701eb8e3089)** to **[`19af059`](https://github.com/sagemath/sagetrac-mirror/commit/19af05916a1eb3f1fc89ba430b45afb23592dc8e)**",
    "created_at": "2017-06-12T01:21:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343479",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f6a1cd8`](https://github.com/sagemath/sagetrac-mirror/commit/f6a1cd8a84d48f4c043b770d2f437701eb8e3089)** to **[`19af059`](https://github.com/sagemath/sagetrac-mirror/commit/19af05916a1eb3f1fc89ba430b45afb23592dc8e)**



---

archive/issue_comments_343480.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/19af05916a1eb3f1fc89ba430b45afb23592dc8e\"><code>19af059</code></a></td><td><code>Merge branch 'develop' into t/22983/polynomial_quotient_rings_are_unique_parents</code></td></tr></table>\n",
    "created_at": "2017-06-12T01:21:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343480",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/19af05916a1eb3f1fc89ba430b45afb23592dc8e"><code>19af059</code></a></td><td><code>Merge branch 'develop' into t/22983/polynomial_quotient_rings_are_unique_parents</code></td></tr></table>




---

archive/issue_events_317709.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-06-12T01:22:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317709"
}
```



---

archive/issue_events_317710.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2017-06-12T01:22:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317710"
}
```



---

archive/issue_comments_343481.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nStill no conflicts. What are we doing wrong?",
    "created_at": "2017-06-12T01:22:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343481",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:20" align="right">comment:20</div>

Still no conflicts. What are we doing wrong?



---

archive/issue_events_317711.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-06-12T22:47:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317711"
}
```



---

archive/issue_events_317712.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-06-12T22:47:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317712"
}
```



---

archive/issue_comments_343482.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nRandom failures on some of the build bots:\n\n```\nsage -t --long src/sage/rings/polynomial/polynomial_quotient_ring.py\n**********************************************************************\nFile \"src/sage/rings/polynomial/polynomial_quotient_ring.py\", line 1355, in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic.S_units\nFailed example:\n    L.S_units([])\nExpected:\n    [(1/2*a + 1/2, 6),\n     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),\n     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]\nGot:\n    [(-1/2*a + 1/2, 6),\n     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),\n     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]\n**********************************************************************\nFile \"src/sage/rings/polynomial/polynomial_quotient_ring.py\", line 1359, in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic.S_units\nFailed example:\n    L.S_units([K.ideal(1/2*a - 3/2)])\nExpected:\n    [((-1/6*a - 1/2)*b^2 + (1/3*a - 1)*b + 4/3*a, +Infinity),\n     (1/2*a + 1/2, 6),\n     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),\n     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]\nGot:\n    [((-1/6*a - 1/2)*b^2 + (1/3*a - 1)*b + 4/3*a, +Infinity),\n     (-1/2*a + 1/2, 6),\n     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),\n     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]\n**********************************************************************\nFile \"src/sage/rings/polynomial/polynomial_quotient_ring.py\", line 1364, in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic.S_units\nFailed example:\n    L.S_units([K.ideal(2)])\nExpected:\n    [((1/2*a - 1/2)*b^2 + (a + 1)*b + 3, +Infinity),\n     ((1/6*a + 1/2)*b^2 + (-1/3*a + 1)*b - 5/6*a + 1/2, +Infinity),\n     ((1/6*a + 1/2)*b^2 + (-1/3*a + 1)*b - 5/6*a - 1/2, +Infinity),\n     (1/2*a + 1/2, 6),\n     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),\n     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]\nGot:\n    [((1/2*a - 1/2)*b^2 + (a + 1)*b + 3, +Infinity),\n     ((1/6*a + 1/2)*b^2 + (-1/3*a + 1)*b - 5/6*a + 1/2, +Infinity),\n     ((1/6*a + 1/2)*b^2 + (-1/3*a + 1)*b - 5/6*a - 1/2, +Infinity),\n     (-1/2*a + 1/2, 6),\n     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),\n     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]\n**********************************************************************\nFile \"src/sage/rings/polynomial/polynomial_quotient_ring.py\", line 1445, in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic.units\nFailed example:\n    L.units()\nExpected:\n    [(1/2*a + 1/2, 6),\n     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),\n     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]\nGot:\n    [(-1/2*a + 1/2, 6),\n     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),\n     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]\n**********************************************************************\n2 items had failures:\n   3 of  18 in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic.S_units\n   1 of  23 in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic.units\n    [385 tests, 4 failures, 1.59 s]\n```",
    "created_at": "2017-06-12T22:47:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343482",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:21" align="right">comment:21</div>

Random failures on some of the build bots:

```
sage -t --long src/sage/rings/polynomial/polynomial_quotient_ring.py
**********************************************************************
File "src/sage/rings/polynomial/polynomial_quotient_ring.py", line 1355, in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic.S_units
Failed example:
    L.S_units([])
Expected:
    [(1/2*a + 1/2, 6),
     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),
     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]
Got:
    [(-1/2*a + 1/2, 6),
     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),
     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]
**********************************************************************
File "src/sage/rings/polynomial/polynomial_quotient_ring.py", line 1359, in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic.S_units
Failed example:
    L.S_units([K.ideal(1/2*a - 3/2)])
Expected:
    [((-1/6*a - 1/2)*b^2 + (1/3*a - 1)*b + 4/3*a, +Infinity),
     (1/2*a + 1/2, 6),
     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),
     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]
Got:
    [((-1/6*a - 1/2)*b^2 + (1/3*a - 1)*b + 4/3*a, +Infinity),
     (-1/2*a + 1/2, 6),
     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),
     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]
**********************************************************************
File "src/sage/rings/polynomial/polynomial_quotient_ring.py", line 1364, in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic.S_units
Failed example:
    L.S_units([K.ideal(2)])
Expected:
    [((1/2*a - 1/2)*b^2 + (a + 1)*b + 3, +Infinity),
     ((1/6*a + 1/2)*b^2 + (-1/3*a + 1)*b - 5/6*a + 1/2, +Infinity),
     ((1/6*a + 1/2)*b^2 + (-1/3*a + 1)*b - 5/6*a - 1/2, +Infinity),
     (1/2*a + 1/2, 6),
     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),
     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]
Got:
    [((1/2*a - 1/2)*b^2 + (a + 1)*b + 3, +Infinity),
     ((1/6*a + 1/2)*b^2 + (-1/3*a + 1)*b - 5/6*a + 1/2, +Infinity),
     ((1/6*a + 1/2)*b^2 + (-1/3*a + 1)*b - 5/6*a - 1/2, +Infinity),
     (-1/2*a + 1/2, 6),
     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),
     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]
**********************************************************************
File "src/sage/rings/polynomial/polynomial_quotient_ring.py", line 1445, in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic.units
Failed example:
    L.units()
Expected:
    [(1/2*a + 1/2, 6),
     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),
     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]
Got:
    [(-1/2*a + 1/2, 6),
     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),
     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]
**********************************************************************
2 items had failures:
   3 of  18 in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic.S_units
   1 of  23 in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic.units
    [385 tests, 4 failures, 1.59 s]
```



---

archive/issue_comments_343483.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b04e7e9f5067b001f1d58ca72c0724ebfd7df715\"><code>b04e7e9</code></a></td><td><code>Merge branch 'develop' into t/22983/polynomial_quotient_rings_are_unique_parents</code></td></tr></table>\n",
    "created_at": "2017-06-16T06:55:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343483",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b04e7e9f5067b001f1d58ca72c0724ebfd7df715"><code>b04e7e9</code></a></td><td><code>Merge branch 'develop' into t/22983/polynomial_quotient_rings_are_unique_parents</code></td></tr></table>




---

archive/issue_comments_343484.json:
```json
{
    "body": "Changed commit from **[`19af059`](https://github.com/sagemath/sagetrac-mirror/commit/19af05916a1eb3f1fc89ba430b45afb23592dc8e)** to **[`b04e7e9`](https://github.com/sagemath/sagetrac-mirror/commit/b04e7e9f5067b001f1d58ca72c0724ebfd7df715)**",
    "created_at": "2017-06-16T06:55:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343484",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`19af059`](https://github.com/sagemath/sagetrac-mirror/commit/19af05916a1eb3f1fc89ba430b45afb23592dc8e)** to **[`b04e7e9`](https://github.com/sagemath/sagetrac-mirror/commit/b04e7e9f5067b001f1d58ca72c0724ebfd7df715)**



---

archive/issue_comments_343485.json:
```json
{
    "body": "Changed keywords from **sd86.5** to **sd86.5, sd87**",
    "created_at": "2017-07-17T21:45:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343485",
    "user": "https://github.com/roed314"
}
```

Changed keywords from **sd86.5** to **sd86.5, sd87**



---

archive/issue_comments_343486.json:
```json
{
    "body": "Changed commit from **[`b04e7e9`](https://github.com/sagemath/sagetrac-mirror/commit/b04e7e9f5067b001f1d58ca72c0724ebfd7df715)** to **[`272e7e3`](https://github.com/sagemath/sagetrac-mirror/commit/272e7e310373cb911d9c78cef5ab622bf37d073d)**",
    "created_at": "2018-01-08T03:48:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343486",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b04e7e9`](https://github.com/sagemath/sagetrac-mirror/commit/b04e7e9f5067b001f1d58ca72c0724ebfd7df715)** to **[`272e7e3`](https://github.com/sagemath/sagetrac-mirror/commit/272e7e310373cb911d9c78cef5ab622bf37d073d)**



---

archive/issue_comments_343487.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/272e7e310373cb911d9c78cef5ab622bf37d073d\"><code>272e7e3</code></a></td><td><code>Merge remote-tracking branch 'origin/develop' into HEAD</code></td></tr></table>\n",
    "created_at": "2018-01-08T03:48:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343487",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/272e7e310373cb911d9c78cef5ab622bf37d073d"><code>272e7e3</code></a></td><td><code>Merge remote-tracking branch 'origin/develop' into HEAD</code></td></tr></table>




---

archive/issue_comments_343488.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/806d5afe806f90f2dc21e08fbee02c7640142b41\"><code>806d5af</code></a></td><td><code>Pickling now works</code></td></tr></table>\n",
    "created_at": "2018-01-08T03:55:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343488",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/806d5afe806f90f2dc21e08fbee02c7640142b41"><code>806d5af</code></a></td><td><code>Pickling now works</code></td></tr></table>




---

archive/issue_comments_343489.json:
```json
{
    "body": "Changed commit from **[`272e7e3`](https://github.com/sagemath/sagetrac-mirror/commit/272e7e310373cb911d9c78cef5ab622bf37d073d)** to **[`806d5af`](https://github.com/sagemath/sagetrac-mirror/commit/806d5afe806f90f2dc21e08fbee02c7640142b41)**",
    "created_at": "2018-01-08T03:55:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343489",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`272e7e3`](https://github.com/sagemath/sagetrac-mirror/commit/272e7e310373cb911d9c78cef5ab622bf37d073d)** to **[`806d5af`](https://github.com/sagemath/sagetrac-mirror/commit/806d5afe806f90f2dc21e08fbee02c7640142b41)**



---

archive/issue_comments_343490.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nLet's see what the patchbots think now. I expect some of the `S_units` tests to disagree. I don't understand why they are not stable as I don't see anything happening in the implementation that would be random after my changes.",
    "created_at": "2018-01-08T04:09:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343490",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:26" align="right">comment:26</div>

Let's see what the patchbots think now. I expect some of the `S_units` tests to disagree. I don't understand why they are not stable as I don't see anything happening in the implementation that would be random after my changes.



---

archive/issue_events_317713.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-01-08T04:09:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317713"
}
```



---

archive/issue_events_317714.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-01-08T04:09:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317714"
}
```



---

archive/issue_events_317715.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-01-08T15:41:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317715"
}
```



---

archive/issue_events_317716.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-01-08T15:41:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317716"
}
```



---

archive/issue_comments_343491.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nSome `S_units` fail. Let's make the tests less strict and add a `_test_S_units` instead.",
    "created_at": "2018-01-08T15:41:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343491",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:27" align="right">comment:27</div>

Some `S_units` fail. Let's make the tests less strict and add a `_test_S_units` instead.



---

archive/issue_comments_343492.json:
```json
{
    "body": "Changed commit from **[`806d5af`](https://github.com/sagemath/sagetrac-mirror/commit/806d5afe806f90f2dc21e08fbee02c7640142b41)** to **[`820b0a2`](https://github.com/sagemath/sagetrac-mirror/commit/820b0a2c47f66cc5fdf6466ef378f5e18c89d6b0)**",
    "created_at": "2018-03-08T23:01:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343492",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`806d5af`](https://github.com/sagemath/sagetrac-mirror/commit/806d5afe806f90f2dc21e08fbee02c7640142b41)** to **[`820b0a2`](https://github.com/sagemath/sagetrac-mirror/commit/820b0a2c47f66cc5fdf6466ef378f5e18c89d6b0)**



---

archive/issue_comments_343493.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f1f2fa5b27aef9e8feeede0fc4b148c61dd4970c\"><code>f1f2fa5</code></a></td><td><code>Merge remote-tracking branch 'trac/u/saraedum/polynomial_quotient_rings_are_unique_parents' into trac-22983</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/820b0a2c47f66cc5fdf6466ef378f5e18c89d6b0\"><code>820b0a2</code></a></td><td><code>Fix doctests</code></td></tr></table>\n",
    "created_at": "2018-03-08T23:01:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343493",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f1f2fa5b27aef9e8feeede0fc4b148c61dd4970c"><code>f1f2fa5</code></a></td><td><code>Merge remote-tracking branch 'trac/u/saraedum/polynomial_quotient_rings_are_unique_parents' into trac-22983</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/820b0a2c47f66cc5fdf6466ef378f5e18c89d6b0"><code>820b0a2</code></a></td><td><code>Fix doctests</code></td></tr></table>




---

archive/issue_events_317717.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-03-08T23:01:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317717"
}
```



---

archive/issue_events_317718.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-03-08T23:01:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317718"
}
```



---

archive/issue_comments_343494.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nI thought for a while that the behaviour of these doctests was random. Actually\n    it is not. It is consistent over all patchbot runs with the same base version\n    of Sage. Caching the polynomial rings flips some signs, I am not sure why.\n    Anyway, the result is still correct and it is not random, so there is no need\n    for a `_test_S_units()` which would be hard to write anyway.",
    "created_at": "2018-03-08T23:01:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343494",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:29" align="right">comment:29</div>

I thought for a while that the behaviour of these doctests was random. Actually
    it is not. It is consistent over all patchbot runs with the same base version
    of Sage. Caching the polynomial rings flips some signs, I am not sure why.
    Anyway, the result is still correct and it is not random, so there is no need
    for a `_test_S_units()` which would be hard to write anyway.



---

archive/issue_comments_343495.json:
```json
{
    "body": "Changed commit from **[`820b0a2`](https://github.com/sagemath/sagetrac-mirror/commit/820b0a2c47f66cc5fdf6466ef378f5e18c89d6b0)** to **[`4660c18`](https://github.com/sagemath/sagetrac-mirror/commit/4660c1865961462098d01470773ca1ac95a96d4c)**",
    "created_at": "2018-03-08T23:04:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343495",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`820b0a2`](https://github.com/sagemath/sagetrac-mirror/commit/820b0a2c47f66cc5fdf6466ef378f5e18c89d6b0)** to **[`4660c18`](https://github.com/sagemath/sagetrac-mirror/commit/4660c1865961462098d01470773ca1ac95a96d4c)**



---

archive/issue_comments_343496.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4660c1865961462098d01470773ca1ac95a96d4c\"><code>4660c18</code></a></td><td><code>Fix doctests</code></td></tr></table>\n",
    "created_at": "2018-03-08T23:04:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343496",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4660c1865961462098d01470773ca1ac95a96d4c"><code>4660c18</code></a></td><td><code>Fix doctests</code></td></tr></table>




---

archive/issue_comments_343497.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nLooks good to me.",
    "created_at": "2018-03-29T20:23:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343497",
    "user": "https://github.com/roed314"
}
```

<div id="comment:31" align="right">comment:31</div>

Looks good to me.



---

archive/issue_events_317719.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2018-03-29T20:23:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317719"
}
```



---

archive/issue_events_317720.json:
```json
{
    "actor": "https://github.com/roed314",
    "created_at": "2018-03-29T20:23:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317720"
}
```



---

archive/issue_events_317721.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-04-16T12:16:43Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317721"
}
```



---

archive/issue_events_317722.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-04-16T12:16:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317722"
}
```



---

archive/issue_events_317723.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-08T17:23:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317723"
}
```



---

archive/issue_events_317724.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-08T17:23:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317724"
}
```



---

archive/issue_comments_343498.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nI still get failing tests. Random failures during high load. It looks like the tests depend on whether a garbage collection is forced due to low memory.\n\n```\nFile \"src/sage/rings/polynomial/polynomial_quotient_ring.py\", line 1445, in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic.S_units\nFailed example:\n    L.S_units([])\nExpected:\n    [(1/2*a + 1/2, 6),\n     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),\n     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]\nGot:\n    [(-1/2*a + 1/2, 6),\n     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),\n     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]\n**********************************************************************\nFile \"src/sage/rings/polynomial/polynomial_quotient_ring.py\", line 1449, in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic.S_units\nFailed example:\n    L.S_units([K.ideal(1/2*a - 3/2)])\nExpected:\n    [((-1/6*a - 1/2)*b^2 + (1/3*a - 1)*b + 4/3*a, +Infinity),\n     (1/2*a + 1/2, 6),\n     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),\n     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]\nGot:\n    [((-1/6*a - 1/2)*b^2 + (1/3*a - 1)*b + 4/3*a, +Infinity),\n     (-1/2*a + 1/2, 6),\n     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),\n     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]\n**********************************************************************\nFile \"src/sage/rings/polynomial/polynomial_quotient_ring.py\", line 1454, in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic.S_units\nFailed example:\n    L.S_units([K.ideal(2)])\nExpected:\n    [((1/2*a - 1/2)*b^2 + (a + 1)*b + 3, +Infinity),\n     ((1/6*a + 1/2)*b^2 + (-1/3*a + 1)*b - 5/6*a + 1/2, +Infinity),\n     ((1/6*a + 1/2)*b^2 + (-1/3*a + 1)*b - 5/6*a - 1/2, +Infinity),\n     (1/2*a + 1/2, 6),\n     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),\n     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]\nGot:\n    [((1/2*a - 1/2)*b^2 + (a + 1)*b + 3, +Infinity),\n     ((1/6*a + 1/2)*b^2 + (-1/3*a + 1)*b - 5/6*a + 1/2, +Infinity),\n     ((1/6*a + 1/2)*b^2 + (-1/3*a + 1)*b - 5/6*a - 1/2, +Infinity),\n     (-1/2*a + 1/2, 6),\n     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),\n     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]\n**********************************************************************\nFile \"src/sage/rings/polynomial/polynomial_quotient_ring.py\", line 1535, in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic.units\nFailed example:\n    L.units()\nExpected:\n    [(1/2*a + 1/2, 6),\n     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),\n     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]\nGot:\n    [(-1/2*a + 1/2, 6),\n     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),\n     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]\n**********************************************************************\nFile \"src/sage/rings/polynomial/polynomial_quotient_ring.py\", line 1544, in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic.units\nFailed example:\n    L.unit_group().gens_values()\nExpected:\n    [-1/2*a + 1/2, (-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, 2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2]\nGot:\n    [1/2*a + 1/2, (-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, 2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2]\n**********************************************************************\n2 items had failures:\n   3 of  18 in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic.S_units\n   2 of  23 in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic.units\n    [451 tests, 5 failures, 2.92 s]\n----------------------------------------------------------------------\nsage -t --long src/sage/rings/polynomial/polynomial_quotient_ring.py  # 5 doctests failed\n----------------------------------------------------------------------\n```",
    "created_at": "2018-05-08T17:23:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343498",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:33" align="right">comment:33</div>

I still get failing tests. Random failures during high load. It looks like the tests depend on whether a garbage collection is forced due to low memory.

```
File "src/sage/rings/polynomial/polynomial_quotient_ring.py", line 1445, in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic.S_units
Failed example:
    L.S_units([])
Expected:
    [(1/2*a + 1/2, 6),
     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),
     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]
Got:
    [(-1/2*a + 1/2, 6),
     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),
     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]
**********************************************************************
File "src/sage/rings/polynomial/polynomial_quotient_ring.py", line 1449, in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic.S_units
Failed example:
    L.S_units([K.ideal(1/2*a - 3/2)])
Expected:
    [((-1/6*a - 1/2)*b^2 + (1/3*a - 1)*b + 4/3*a, +Infinity),
     (1/2*a + 1/2, 6),
     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),
     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]
Got:
    [((-1/6*a - 1/2)*b^2 + (1/3*a - 1)*b + 4/3*a, +Infinity),
     (-1/2*a + 1/2, 6),
     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),
     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]
**********************************************************************
File "src/sage/rings/polynomial/polynomial_quotient_ring.py", line 1454, in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic.S_units
Failed example:
    L.S_units([K.ideal(2)])
Expected:
    [((1/2*a - 1/2)*b^2 + (a + 1)*b + 3, +Infinity),
     ((1/6*a + 1/2)*b^2 + (-1/3*a + 1)*b - 5/6*a + 1/2, +Infinity),
     ((1/6*a + 1/2)*b^2 + (-1/3*a + 1)*b - 5/6*a - 1/2, +Infinity),
     (1/2*a + 1/2, 6),
     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),
     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]
Got:
    [((1/2*a - 1/2)*b^2 + (a + 1)*b + 3, +Infinity),
     ((1/6*a + 1/2)*b^2 + (-1/3*a + 1)*b - 5/6*a + 1/2, +Infinity),
     ((1/6*a + 1/2)*b^2 + (-1/3*a + 1)*b - 5/6*a - 1/2, +Infinity),
     (-1/2*a + 1/2, 6),
     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),
     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]
**********************************************************************
File "src/sage/rings/polynomial/polynomial_quotient_ring.py", line 1535, in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic.units
Failed example:
    L.units()
Expected:
    [(1/2*a + 1/2, 6),
     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),
     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]
Got:
    [(-1/2*a + 1/2, 6),
     ((-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, +Infinity),
     (2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2, +Infinity)]
**********************************************************************
File "src/sage/rings/polynomial/polynomial_quotient_ring.py", line 1544, in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic.units
Failed example:
    L.unit_group().gens_values()
Expected:
    [-1/2*a + 1/2, (-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, 2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2]
Got:
    [1/2*a + 1/2, (-1/3*a - 1)*b^2 - 4/3*a*b - 5/6*a + 7/2, 2/3*a*b^2 + (2/3*a - 2)*b - 5/6*a - 7/2]
**********************************************************************
2 items had failures:
   3 of  18 in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic.S_units
   2 of  23 in sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic.units
    [451 tests, 5 failures, 2.92 s]
----------------------------------------------------------------------
sage -t --long src/sage/rings/polynomial/polynomial_quotient_ring.py  # 5 doctests failed
----------------------------------------------------------------------
```



---

archive/issue_comments_343499.json:
```json
{
    "body": "Changed branch from **[u/saraedum/polynomial_quotient_rings_are_unique_parents](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/polynomial_quotient_rings_are_unique_parents)** to none",
    "created_at": "2018-05-31T14:27:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343499",
    "user": "https://github.com/saraedum"
}
```

Changed branch from **[u/saraedum/polynomial_quotient_rings_are_unique_parents](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/polynomial_quotient_rings_are_unique_parents)** to none



---

archive/issue_comments_343500.json:
```json
{
    "body": "Changed commit from **[`4660c18`](https://github.com/sagemath/sagetrac-mirror/commit/4660c1865961462098d01470773ca1ac95a96d4c)** to none",
    "created_at": "2018-05-31T14:27:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343500",
    "user": "https://github.com/saraedum"
}
```

Changed commit from **[`4660c18`](https://github.com/sagemath/sagetrac-mirror/commit/4660c1865961462098d01470773ca1ac95a96d4c)** to none



---

archive/issue_comments_343501.json:
```json
{
    "body": "Branch: **[u/saraedum/22983](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/22983)**",
    "created_at": "2018-05-31T14:28:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343501",
    "user": "https://github.com/saraedum"
}
```

Branch: **[u/saraedum/22983](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/22983)**



---

archive/issue_comments_343502.json:
```json
{
    "body": "Commit: **[`966c36b`](https://github.com/sagemath/sagetrac-mirror/commit/966c36b92266ffbaadec4bd43e0f08f086eb5fd3)**",
    "created_at": "2018-07-04T16:54:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343502",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`966c36b`](https://github.com/sagemath/sagetrac-mirror/commit/966c36b92266ffbaadec4bd43e0f08f086eb5fd3)**



---

archive/issue_comments_343503.json:
```json
{
    "body": "<div id=\"comment:36\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/966c36b92266ffbaadec4bd43e0f08f086eb5fd3\"><code>966c36b</code></a></td><td><code>Merge develop and 22983</code></td></tr></table>\n",
    "created_at": "2018-07-04T16:54:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343503",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/966c36b92266ffbaadec4bd43e0f08f086eb5fd3"><code>966c36b</code></a></td><td><code>Merge develop and 22983</code></td></tr></table>




---

archive/issue_comments_343504.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nNot the first time, something like this has happened: [#23851 comment:5](https://github.com/sagemath/sage/issues/23851#comment:5)\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/054945da4a2caea28416c684d236fce4cbe88124\"><code>054945d</code></a></td><td><code>Make polynomial quotient rings unique parents</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f6a1cd8a84d48f4c043b770d2f437701eb8e3089\"><code>f6a1cd8</code></a></td><td><code>Document normalization of modulus</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/19af05916a1eb3f1fc89ba430b45afb23592dc8e\"><code>19af059</code></a></td><td><code>Merge branch 'develop' into t/22983/polynomial_quotient_rings_are_unique_parents</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b04e7e9f5067b001f1d58ca72c0724ebfd7df715\"><code>b04e7e9</code></a></td><td><code>Merge branch 'develop' into t/22983/polynomial_quotient_rings_are_unique_parents</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/272e7e310373cb911d9c78cef5ab622bf37d073d\"><code>272e7e3</code></a></td><td><code>Merge remote-tracking branch 'origin/develop' into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/806d5afe806f90f2dc21e08fbee02c7640142b41\"><code>806d5af</code></a></td><td><code>Pickling now works</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f1f2fa5b27aef9e8feeede0fc4b148c61dd4970c\"><code>f1f2fa5</code></a></td><td><code>Merge remote-tracking branch 'trac/u/saraedum/polynomial_quotient_rings_are_unique_parents' into trac-22983</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4660c1865961462098d01470773ca1ac95a96d4c\"><code>4660c18</code></a></td><td><code>Fix doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/697d02e0610b000c041e777224c3811d92151ace\"><code>697d02e</code></a></td><td><code>Merge remote-tracking branch 'trac/u/saraedum/polynomial_quotient_rings_are_unique_parents' into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/966c36b92266ffbaadec4bd43e0f08f086eb5fd3\"><code>966c36b</code></a></td><td><code>Merge develop and 22983</code></td></tr></table>\n",
    "created_at": "2018-07-04T16:58:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343504",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:37" align="right">comment:37</div>

Not the first time, something like this has happened: [#23851 comment:5](https://github.com/sagemath/sage/issues/23851#comment:5)

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/054945da4a2caea28416c684d236fce4cbe88124"><code>054945d</code></a></td><td><code>Make polynomial quotient rings unique parents</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f6a1cd8a84d48f4c043b770d2f437701eb8e3089"><code>f6a1cd8</code></a></td><td><code>Document normalization of modulus</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/19af05916a1eb3f1fc89ba430b45afb23592dc8e"><code>19af059</code></a></td><td><code>Merge branch 'develop' into t/22983/polynomial_quotient_rings_are_unique_parents</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b04e7e9f5067b001f1d58ca72c0724ebfd7df715"><code>b04e7e9</code></a></td><td><code>Merge branch 'develop' into t/22983/polynomial_quotient_rings_are_unique_parents</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/272e7e310373cb911d9c78cef5ab622bf37d073d"><code>272e7e3</code></a></td><td><code>Merge remote-tracking branch 'origin/develop' into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/806d5afe806f90f2dc21e08fbee02c7640142b41"><code>806d5af</code></a></td><td><code>Pickling now works</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f1f2fa5b27aef9e8feeede0fc4b148c61dd4970c"><code>f1f2fa5</code></a></td><td><code>Merge remote-tracking branch 'trac/u/saraedum/polynomial_quotient_rings_are_unique_parents' into trac-22983</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4660c1865961462098d01470773ca1ac95a96d4c"><code>4660c18</code></a></td><td><code>Fix doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/697d02e0610b000c041e777224c3811d92151ace"><code>697d02e</code></a></td><td><code>Merge remote-tracking branch 'trac/u/saraedum/polynomial_quotient_rings_are_unique_parents' into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/966c36b92266ffbaadec4bd43e0f08f086eb5fd3"><code>966c36b</code></a></td><td><code>Merge develop and 22983</code></td></tr></table>




---

archive/issue_comments_343505.json:
```json
{
    "body": "Dependencies: **#23851**",
    "created_at": "2018-07-04T17:03:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343505",
    "user": "https://github.com/saraedum"
}
```

Dependencies: **#23851**



---

archive/issue_events_317725.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-07-04T17:03:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317725"
}
```



---

archive/issue_events_317726.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-07-04T17:03:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317726"
}
```



---

archive/issue_comments_343506.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nThe issue has been fixed in #23851. Since I did not change anything, I am setting this back to positive review.",
    "created_at": "2018-07-04T17:03:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343506",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:38" align="right">comment:38</div>

The issue has been fixed in #23851. Since I did not change anything, I am setting this back to positive review.



---

archive/issue_events_317727.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-07-08T13:05:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317727"
}
```



---

archive/issue_events_317728.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "a55caf8bf4f85a2266ec5fc113ebc840c7c08b85",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-07-08T13:05:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22983#event-317728"
}
```



---

archive/issue_comments_343507.json:
```json
{
    "body": "Changed branch from **[u/saraedum/22983](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/22983)** to **[`966c36b`](https://github.com/sagemath/sagetrac-mirror/commit/966c36b92266ffbaadec4bd43e0f08f086eb5fd3)**",
    "created_at": "2018-07-08T13:05:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22983",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22983#issuecomment-343507",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/saraedum/22983](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/22983)** to **[`966c36b`](https://github.com/sagemath/sagetrac-mirror/commit/966c36b92266ffbaadec4bd43e0f08f086eb5fd3)**
