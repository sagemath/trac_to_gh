# Issue 22909: Indexed SR variables

archive/issues_022672.json:
```json
{
    "body": "CC:  @nbruin @kcrisman @rwst\n\nKeywords: symbolic ring\n\nProvide a keyword argument to construct a tuple of symbolic variables:\n\n```\nsage: SR.var('x', 4)\n(x0, x1, x2, x3)\n```\n\nIssue created by migration from https://trac.sagemath.org/ticket/22909\n\n",
    "closed_at": "2017-05-26T21:28:01Z",
    "created_at": "2017-04-30T10:36:09Z",
    "labels": [
        "component: symbolics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "Indexed SR variables",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22909",
    "user": "https://github.com/mforets"
}
```
CC:  @nbruin @kcrisman @rwst

Keywords: symbolic ring

Provide a keyword argument to construct a tuple of symbolic variables:

```
sage: SR.var('x', 4)
(x0, x1, x2, x3)
```

Issue created by migration from https://trac.sagemath.org/ticket/22909





---

archive/issue_comments_315819.json:
```json
{
    "body": "Related to: #22813, #22809, and #11576.\n\n---\nNew commits:",
    "created_at": "2017-04-30T10:38:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22909#issuecomment-315819",
    "user": "https://github.com/mforets"
}
```

Related to: #22813, #22809, and #11576.

---
New commits:



---

archive/issue_comments_315820.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-04-30T10:38:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22909#issuecomment-315820",
    "user": "https://github.com/mforets"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_315821.json:
```json
{
    "body": "This change is backwards incompatible with `var('x','y')`, where the second argument is treated as the latex name. We should also handle the latex name too.\n\nThe argument name of `index` is misleading. Perhaps `n`, `index_set`, `indicies`, or `number`?\n\nLittle thing, but the error messages should start with a lowercase letter (at least all new messages).",
    "created_at": "2017-04-30T14:12:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22909#issuecomment-315821",
    "user": "https://github.com/tscrim"
}
```

This change is backwards incompatible with `var('x','y')`, where the second argument is treated as the latex name. We should also handle the latex name too.

The argument name of `index` is misleading. Perhaps `n`, `index_set`, `indicies`, or `number`?

Little thing, but the error messages should start with a lowercase letter (at least all new messages).



---

archive/issue_comments_315822.json:
```json
{
    "body": "> Replying to [comment:2 tscrim]:\n\n\nas usual, thanks for your prompt feedback!!\n\n> This change is backwards incompatible with `var('x','y')`, where the second argument is treated as the latex name. We should also handle the latex name too.\n\n\nyes. with the current commit one has:\n\n```\nsage: SR.var('x', 'y')\n...\nAttributeError: 'str' object has no attribute 'is_integer'\n```\n\ninstead of:\n\n```\nsage: SR.var('x', latex_name='y')\nx\nsage: latex(x)\n{y}\n```\n\nshould i do this with some type checking to handle (integer/string), or just ordering the arguments in a different way and expect user to always type `index=...`? \n\nIMO, it is better if `SR.var('x', 4)` is understood by the program.\n\n> \n> The argument name of `index` is misleading. Perhaps `n`, `index_set`, `indicies`, or `number`?\n\n\ni used `index` because one speaks of \"indexed variables\". for those you suggest let me upvote (in order of preference): `n` and `indices`. in addition to those, let me add as options: `len`, `length` or `size`. what do others think?\n\n> \n> Little thing, but the error messages should start with a lowercase letter (at least all new messages).\n\n\nok, and full stop yes or no? \n\nthe question is if an exception should be a complete sentence or not.",
    "created_at": "2017-04-30T19:19:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22909#issuecomment-315822",
    "user": "https://github.com/mforets"
}
```

> Replying to [comment:2 tscrim]:


as usual, thanks for your prompt feedback!!

> This change is backwards incompatible with `var('x','y')`, where the second argument is treated as the latex name. We should also handle the latex name too.


yes. with the current commit one has:

```
sage: SR.var('x', 'y')
...
AttributeError: 'str' object has no attribute 'is_integer'
```

instead of:

```
sage: SR.var('x', latex_name='y')
x
sage: latex(x)
{y}
```

should i do this with some type checking to handle (integer/string), or just ordering the arguments in a different way and expect user to always type `index=...`? 

IMO, it is better if `SR.var('x', 4)` is understood by the program.

> 
> The argument name of `index` is misleading. Perhaps `n`, `index_set`, `indicies`, or `number`?


i used `index` because one speaks of "indexed variables". for those you suggest let me upvote (in order of preference): `n` and `indices`. in addition to those, let me add as options: `len`, `length` or `size`. what do others think?

> 
> Little thing, but the error messages should start with a lowercase letter (at least all new messages).


ok, and full stop yes or no? 

the question is if an exception should be a complete sentence or not.



---

archive/issue_comments_315823.json:
```json
{
    "body": "Replying to [comment:3 mforets]:\n> > Replying to [comment:2 tscrim]:\n> > This change is backwards incompatible with `var('x','y')`, where the second argument is treated as the latex name. We should also handle the latex name too.\n\n> \n> yes. with the current commit one has:\n> \n> ```\n> sage: SR.var('x', 'y')\n> ...\n> AttributeError: 'str' object has no attribute 'is_integer'\n> ```\n> \n> instead of:\n> \n> \n> ```\n> sage: SR.var('x', latex_name='y')\n> x\n> sage: latex(x)\n> {y}\n> ```\n> \n> should i do this with some type checking to handle (integer/string), or just ordering the arguments in a different way and expect user to always type `index=...`? \n\n\nAs you surmised, you can do one of two things. The first is to put the `n` (`index`) as a later argument (I feel that `domain` is less used except as a keyword argument, so I'm more willing to let that be backwards incompatible). The second, and more preferable, is to check the input type and redirect as necessary. (This is one of the biggest shortcomings of weakly type languages.)\n\n> IMO, it is better if `SR.var('x', 4)` is understood by the program.\n\n\nI agree. It just means some more complicated code to parse the inputs, but it has better useability.\n\n> > The argument name of `index` is misleading. Perhaps `n`, `index_set`, `indicies`, or `number`?\n\n> \n> i used `index` because one speaks of \"indexed variables\". for those you suggest let me upvote (in order of preference): `n` and `indices`. in addition to those, let me add as options: `len`, `length` or `size`. what do others think?\n\n\nI think `n` is generic but clear enough for something like this. I don't have too much of a preference (but not `index`).\n\n> > Little thing, but the error messages should start with a lowercase letter (at least all new messages).\n\n> \n> ok, and full stop yes or no? \n> \n> the question is if an exception should be a complete sentence or not.\n\n\nThey are generally not, at least by Python's standard. So no full stop nor uppercase letter.",
    "created_at": "2017-04-30T23:02:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22909#issuecomment-315823",
    "user": "https://github.com/tscrim"
}
```

Replying to [comment:3 mforets]:
> > Replying to [comment:2 tscrim]:
> > This change is backwards incompatible with `var('x','y')`, where the second argument is treated as the latex name. We should also handle the latex name too.

> 
> yes. with the current commit one has:
> 
> ```
> sage: SR.var('x', 'y')
> ...
> AttributeError: 'str' object has no attribute 'is_integer'
> ```
> 
> instead of:
> 
> 
> ```
> sage: SR.var('x', latex_name='y')
> x
> sage: latex(x)
> {y}
> ```
> 
> should i do this with some type checking to handle (integer/string), or just ordering the arguments in a different way and expect user to always type `index=...`? 


As you surmised, you can do one of two things. The first is to put the `n` (`index`) as a later argument (I feel that `domain` is less used except as a keyword argument, so I'm more willing to let that be backwards incompatible). The second, and more preferable, is to check the input type and redirect as necessary. (This is one of the biggest shortcomings of weakly type languages.)

> IMO, it is better if `SR.var('x', 4)` is understood by the program.


I agree. It just means some more complicated code to parse the inputs, but it has better useability.

> > The argument name of `index` is misleading. Perhaps `n`, `index_set`, `indicies`, or `number`?

> 
> i used `index` because one speaks of "indexed variables". for those you suggest let me upvote (in order of preference): `n` and `indices`. in addition to those, let me add as options: `len`, `length` or `size`. what do others think?


I think `n` is generic but clear enough for something like this. I don't have too much of a preference (but not `index`).

> > Little thing, but the error messages should start with a lowercase letter (at least all new messages).

> 
> ok, and full stop yes or no? 
> 
> the question is if an exception should be a complete sentence or not.


They are generally not, at least by Python's standard. So no full stop nor uppercase letter.



---

archive/issue_comments_315824.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-02T21:07:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22909#issuecomment-315824",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_315825.json:
```json
{
    "body": "I'm cc-ing Nils, Karl-Dieter, and Ralf to see if they have any comments before setting this to a positive review.",
    "created_at": "2017-05-03T03:16:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22909#issuecomment-315825",
    "user": "https://github.com/tscrim"
}
```

I'm cc-ing Nils, Karl-Dieter, and Ralf to see if they have any comments before setting this to a positive review.



---

archive/issue_comments_315826.json:
```json
{
    "body": "I'm unsure if I have a preference, but keep in mind the injection issue discussed elsewhere - I don't know whether these should be injected automatically into the global namespace or not.  Not that I have a preference on that either :-) but just be sure to see, I didn't follow that discussion carefully.",
    "created_at": "2017-05-03T04:18:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22909#issuecomment-315826",
    "user": "https://github.com/kcrisman"
}
```

I'm unsure if I have a preference, but keep in mind the injection issue discussed elsewhere - I don't know whether these should be injected automatically into the global namespace or not.  Not that I have a preference on that either :-) but just be sure to see, I didn't follow that discussion carefully.



---

archive/issue_comments_315827.json:
```json
{
    "body": "FYI, this does not inject any variables. It does add it to `SR.symbols` however, but I think that is less of an issue.",
    "created_at": "2017-05-03T04:44:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22909#issuecomment-315827",
    "user": "https://github.com/tscrim"
}
```

FYI, this does not inject any variables. It does add it to `SR.symbols` however, but I think that is less of an issue.



---

archive/issue_comments_315828.json:
```json
{
    "body": "also as you can see there is no \"INPUT\" block in this function. if you want that can be added, together with a list of possible `domains` that one could use.",
    "created_at": "2017-05-03T06:02:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22909#issuecomment-315828",
    "user": "https://github.com/mforets"
}
```

also as you can see there is no "INPUT" block in this function. if you want that can be added, together with a list of possible `domains` that one could use.



---

archive/issue_comments_315829.json:
```json
{
    "body": "Don't use a bare `except`. Put as narrow an exception class there as possible. Unintentionally catching exceptions makes debugging a lot harder.",
    "created_at": "2017-05-03T07:48:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22909#issuecomment-315829",
    "user": "https://github.com/nbruin"
}
```

Don't use a bare `except`. Put as narrow an exception class there as possible. Unintentionally catching exceptions makes debugging a lot harder.



---

archive/issue_comments_315830.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-03T09:36:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22909#issuecomment-315830",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_315831.json:
```json
{
    "body": "See also the related #18390",
    "created_at": "2017-05-04T06:54:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22909#issuecomment-315831",
    "user": "https://github.com/videlec"
}
```

See also the related #18390



---

archive/issue_comments_315832.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-05-07T08:59:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22909#issuecomment-315832",
    "user": "https://github.com/mforets"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_315833.json:
```json
{
    "body": "(i'd like to add a proper docstring to this function) [reference page of SR](http://doc.sagemath.org/html/en/reference/calculus/sage/symbolic/ring.html)",
    "created_at": "2017-05-07T08:59:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22909#issuecomment-315833",
    "user": "https://github.com/mforets"
}
```

(i'd like to add a proper docstring to this function) [reference page of SR](http://doc.sagemath.org/html/en/reference/calculus/sage/symbolic/ring.html)



---

archive/issue_comments_315834.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-21T22:32:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22909#issuecomment-315834",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_315835.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-22T05:37:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22909#issuecomment-315835",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_315836.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-05-22T05:37:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22909#issuecomment-315836",
    "user": "https://github.com/mforets"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_315837.json:
```json
{
    "body": "Last little thing from me: this could be done\n\n```diff\n-'`0`'.format(latex_name) + '_`0`'.format(str(i))\n+'``_``'.format(latex_name, str(i))\n```",
    "created_at": "2017-05-22T21:26:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22909#issuecomment-315837",
    "user": "https://github.com/tscrim"
}
```

Last little thing from me: this could be done

```diff
-'`0`'.format(latex_name) + '_`0`'.format(str(i))
+'``_``'.format(latex_name, str(i))
```



---

archive/issue_comments_315838.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-24T11:03:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22909#issuecomment-315838",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_315839.json:
```json
{
    "body": "Replying to [comment:17 tscrim]:\n> Last little thing from me: this could be done\n> \n> ```diff\n> -'`0`'.format(latex_name) + '_`0`'.format(str(i))\n> +'``_``'.format(latex_name, str(i))\n> ```\n\ndone.",
    "created_at": "2017-05-24T11:08:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22909#issuecomment-315839",
    "user": "https://github.com/mforets"
}
```

Replying to [comment:17 tscrim]:
> Last little thing from me: this could be done
> 
> ```diff
> -'`0`'.format(latex_name) + '_`0`'.format(str(i))
> +'``_``'.format(latex_name, str(i))
> ```

done.



---

archive/issue_comments_315840.json:
```json
{
    "body": "If there are any objections, then set this back from positive review.",
    "created_at": "2017-05-24T21:17:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22909#issuecomment-315840",
    "user": "https://github.com/tscrim"
}
```

If there are any objections, then set this back from positive review.



---

archive/issue_comments_315841.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-05-24T21:17:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22909#issuecomment-315841",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_059455.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-05-26T21:28:01Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22909",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22909#event-59455"
}
```



---

archive/issue_comments_315842.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-05-26T21:28:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22909#issuecomment-315842",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
