# Issue 22077: Upgrade eclib to version 20170104

archive/issues_021840.json:
```json
{
    "assignees": [],
    "body": "The current eclib version in Sage (as of 7.5.beta5) is v20160720.\n\n**New tarball**: http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20170104.tar.bz2\n\nOf relevance to Sage are a bugfix and some extra functionality related to modular symbols, see #10256 and #21046.\n\nCC:  @categorie\n\nKeywords: **eclib**\n\nBranch/Commit: **[cb3fd05](https://github.com/sagemath/sagetrac-mirror/commit/cb3fd05c95fb3afbaed9ba621038293b5412d6e0)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **John Cremona**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/22077_\n\n",
    "closed_at": "2017-01-21T16:34:58Z",
    "created_at": "2016-12-19T14:01:24Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade eclib to version 20170104",
    "type": "issue",
    "updated_at": "2017-01-21T16:34:58Z",
    "url": "https://github.com/sagemath/sage/issues/22077",
    "user": "https://github.com/JohnCremona"
}
```
The current eclib version in Sage (as of 7.5.beta5) is v20160720.

**New tarball**: http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20170104.tar.bz2

Of relevance to Sage are a bugfix and some extra functionality related to modular symbols, see #10256 and #21046.

CC:  @categorie

Keywords: **eclib**

Branch/Commit: **[cb3fd05](https://github.com/sagemath/sagetrac-mirror/commit/cb3fd05c95fb3afbaed9ba621038293b5412d6e0)**

Reviewer: **Jeroen Demeyer**

Author: **John Cremona**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/22077_





---

archive/issue_events_309153.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2016-12-19T14:01:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "milestone_number": null,
    "milestone_title": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309153"
}
```



---

archive/issue_events_309154.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2016-12-19T14:01:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309154"
}
```



---

archive/issue_events_309155.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2016-12-19T14:01:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309155"
}
```



---

archive/issue_events_309156.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2016-12-19T14:01:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309156"
}
```



---

archive/issue_comments_325555.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nI will upload a branch as soon as I have tested the new build and all doctests.",
    "created_at": "2016-12-19T14:01:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325555",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:1" align="right">comment:1</div>

I will upload a branch as soon as I have tested the new build and all doctests.



---

archive/issue_comments_325556.json:
```json
{
    "body": "Branch: **[u/cremona/22077](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/22077)**",
    "created_at": "2016-12-19T16:20:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325556",
    "user": "https://github.com/JohnCremona"
}
```

Branch: **[u/cremona/22077](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/22077)**



---

archive/issue_events_309157.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2016-12-19T16:20:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309157"
}
```



---

archive/issue_comments_325557.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nOK, please review.  As well as the new package code I made some small changes to the output of some modular symbol doctests.  In each case I checked that the change is exactly that which one would expect from the new eclib code (a few integers fivided by 2).",
    "created_at": "2016-12-19T16:20:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325557",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:2" align="right">comment:2</div>

OK, please review.  As well as the new package code I made some small changes to the output of some modular symbol doctests.  In each case I checked that the change is exactly that which one would expect from the new eclib code (a few integers fivided by 2).



---

archive/issue_comments_325558.json:
```json
{
    "body": "Commit: **[089877e](https://github.com/sagemath/sagetrac-mirror/commit/089877e25157a83b74de930c553bc3eea32884fa)**",
    "created_at": "2016-12-19T16:20:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325558",
    "user": "https://github.com/JohnCremona"
}
```

Commit: **[089877e](https://github.com/sagemath/sagetrac-mirror/commit/089877e25157a83b74de930c553bc3eea32884fa)**



---

archive/issue_comments_325559.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nSo, what about https://github.com/JohnCremona/eclib/issues/10\n\nDo we still need the `NTL_ALL` macro?",
    "created_at": "2016-12-19T19:36:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325559",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:3" align="right">comment:3</div>

So, what about https://github.com/JohnCremona/eclib/issues/10

Do we still need the `NTL_ALL` macro?



---

archive/issue_comments_325560.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@jdemeyer](#comment:3):\n> So, what about https://github.com/JohnCremona/eclib/issues/10\n> \n> Do we still need the `NTL_ALL` macro?\n\nIf you look here: https://github.com/JohnCremona/eclib/commits/master, specifically at the commits made in January this year, you will see that the code now works (at least it is supposed to) with or without NTL_ALL being set.  This is controlled by the --enable-mpfp flag to ./configure.  That was quite a lot of work since there were quite a lot of tests whose output was trivially different with/without that option set.\n\nNote that the default configurations is to have --enable-mpfp set and hence NTL_ALL set, you have to turn it off using --disable-mpfp.  Since Sage's spkg-install does not turn it off, it is on in Sage.\n\nSo I think the only thing I did not do is update and close that Issue.  Sorry!",
    "created_at": "2016-12-19T19:56:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325560",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@jdemeyer](#comment:3):
> So, what about https://github.com/JohnCremona/eclib/issues/10
> 
> Do we still need the `NTL_ALL` macro?

If you look here: https://github.com/JohnCremona/eclib/commits/master, specifically at the commits made in January this year, you will see that the code now works (at least it is supposed to) with or without NTL_ALL being set.  This is controlled by the --enable-mpfp flag to ./configure.  That was quite a lot of work since there were quite a lot of tests whose output was trivially different with/without that option set.

Note that the default configurations is to have --enable-mpfp set and hence NTL_ALL set, you have to turn it off using --disable-mpfp.  Since Sage's spkg-install does not turn it off, it is on in Sage.

So I think the only thing I did not do is update and close that Issue.  Sorry!



---

archive/issue_comments_325561.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nIf so, can you apply this additional patch\n\n```diff\ndiff --git a/src/sage/libs/eclib/__init__.pxd b/src/sage/libs/eclib/__init__.pxd\nindex a666ec1..e42d0cc 100644\n--- a/src/sage/libs/eclib/__init__.pxd\n+++ b/src/sage/libs/eclib/__init__.pxd\n@@ -1,5 +1,4 @@\n # distutils: language = c++\n-# distutils: extra_compile_args = -DNTL_ALL\n # distutils: libraries = ec ntl pari gmp m\n \n # NOTE: eclib includes have specific dependencies and must be included\n```",
    "created_at": "2016-12-20T07:48:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325561",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:5" align="right">comment:5</div>

If so, can you apply this additional patch

```diff
diff --git a/src/sage/libs/eclib/__init__.pxd b/src/sage/libs/eclib/__init__.pxd
index a666ec1..e42d0cc 100644
--- a/src/sage/libs/eclib/__init__.pxd
+++ b/src/sage/libs/eclib/__init__.pxd
@@ -1,5 +1,4 @@
 # distutils: language = c++
-# distutils: extra_compile_args = -DNTL_ALL
 # distutils: libraries = ec ntl pari gmp m
 
 # NOTE: eclib includes have specific dependencies and must be included
```



---

archive/issue_comments_325562.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nRegarding the changed doctests, I cannot really review those. But I'm happy to assume that you know what you are doing and just accept the changed output.",
    "created_at": "2016-12-20T07:50:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325562",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

Regarding the changed doctests, I cannot really review those. But I'm happy to assume that you know what you are doing and just accept the changed output.



---

archive/issue_comments_325563.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nOK, I can make that additional change.  After that I'll force a rebuild of eclib in Sage and watch: it should be that -DNTL_ALL is set during compilation anyway.  However I just looked at the log from my build of the new spkg yesterday and every compile line only contains \"-D NTL_ALL\" and no other instances of \"NTL_ALL\".\n\nAbout the doctests: I ran them past Rob Pollack and Chris Wuthrich who are experts, and also the remarks I made above were supposed to be a justification for the correctness of the new values.",
    "created_at": "2016-12-20T09:21:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325563",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:7" align="right">comment:7</div>

OK, I can make that additional change.  After that I'll force a rebuild of eclib in Sage and watch: it should be that -DNTL_ALL is set during compilation anyway.  However I just looked at the log from my build of the new spkg yesterday and every compile line only contains "-D NTL_ALL" and no other instances of "NTL_ALL".

About the doctests: I ran them past Rob Pollack and Chris Wuthrich who are experts, and also the remarks I made above were supposed to be a justification for the correctness of the new values.



---

archive/issue_comments_325564.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nAfter writing that I realised that I did not know when the presence of the line you suggest deleting has any effect.  It has nothing to do with building libec at build time, I realise, but rather is there to make sure that the cython compilations which read eclib's header files have the right macros set.  And that must be crucial given that the compiled code must then link to the library libec!  So I now think that we must continue to set NTL_ALL in this cython file, otherwise there will be errors which including eclib's header files.\n\nI checked to see what other compiler flags are set at eclib build time.  There is one other (apart from lots put there by autotools):  FLINT_LEVEL=1.  But that one is not an issue since it controls some implementations (in some eclib .cc files) and not headers.\n\nDoes this make sense?  If so, no further patching is needed.",
    "created_at": "2016-12-20T09:37:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325564",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:8" align="right">comment:8</div>

After writing that I realised that I did not know when the presence of the line you suggest deleting has any effect.  It has nothing to do with building libec at build time, I realise, but rather is there to make sure that the cython compilations which read eclib's header files have the right macros set.  And that must be crucial given that the compiled code must then link to the library libec!  So I now think that we must continue to set NTL_ALL in this cython file, otherwise there will be errors which including eclib's header files.

I checked to see what other compiler flags are set at eclib build time.  There is one other (apart from lots put there by autotools):  FLINT_LEVEL=1.  But that one is not an issue since it controls some implementations (in some eclib .cc files) and not headers.

Does this make sense?  If so, no further patching is needed.



---

archive/issue_comments_325565.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@JohnCremona](#comment:8):\n> It has nothing to do with building libec at build time, I realise, but rather is there to make sure that the cython compilations which read eclib's header files have the right macros set.\n\nExactly. This is about compiling Sage library files (Cython extensions) against `libec`.\n\n> And that must be crucial given that the compiled code must then link to the library libec!  So I now think that we must continue to set NTL_ALL in this cython file, otherwise there will be errors which including eclib's header files.\n\nThat's a pity because `-DNTL_ALL` should not be needed. That was precisely the point that I was trying to make at https://github.com/JohnCremona/eclib/issues/10: eclib should not force other packages (like Sage) to use certain compiler flags. The `NTL_ALL` macro should be considered an implementation detail of `eclib` and it should not influence other software built against `eclib`.\n\nBut this is a minor point which won't influence this Sage ticket.",
    "created_at": "2016-12-20T13:32:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325565",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@JohnCremona](#comment:8):
> It has nothing to do with building libec at build time, I realise, but rather is there to make sure that the cython compilations which read eclib's header files have the right macros set.

Exactly. This is about compiling Sage library files (Cython extensions) against `libec`.

> And that must be crucial given that the compiled code must then link to the library libec!  So I now think that we must continue to set NTL_ALL in this cython file, otherwise there will be errors which including eclib's header files.

That's a pity because `-DNTL_ALL` should not be needed. That was precisely the point that I was trying to make at https://github.com/JohnCremona/eclib/issues/10: eclib should not force other packages (like Sage) to use certain compiler flags. The `NTL_ALL` macro should be considered an implementation detail of `eclib` and it should not influence other software built against `eclib`.

But this is a minor point which won't influence this Sage ticket.



---

archive/issue_comments_325566.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI understand your point, but it is more than just an implementation detail, as it affects the interface.  When compiled with the NTL_ALL option, functions which compute real or complex values (e.g. periods of elliptic curves) do so to arbitrary precision, returning values with type RR (NTL reals) for example, while without that option the same named function will return a C double.\n\nI do understand that this can be viewed as bad design on my part and not a feature which a professional library should have.  eclib has undergone a lot of transition since it was just \"my code\" (until 2007) so that by now it is almost respectable.  One of the remaining issues is this one: users should not have to decide at build time whether they want to use doubles or arbitrary precision for a large collection of functions; the library should provide both and allow the uers to use whichever is most appropriate in the circumstances.  In some cases, because of overloading, the same function name can be re-used; but in others different names would be necessary (e.g. for periods of elliptic curves, where the input is the same exact data whether ones wants low or high precision).  It will happen one day.\n\nI will copy some of this discussions to https://github.com/JohnCremona/eclib/issues/10",
    "created_at": "2016-12-20T13:45:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325566",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:10" align="right">comment:10</div>

I understand your point, but it is more than just an implementation detail, as it affects the interface.  When compiled with the NTL_ALL option, functions which compute real or complex values (e.g. periods of elliptic curves) do so to arbitrary precision, returning values with type RR (NTL reals) for example, while without that option the same named function will return a C double.

I do understand that this can be viewed as bad design on my part and not a feature which a professional library should have.  eclib has undergone a lot of transition since it was just "my code" (until 2007) so that by now it is almost respectable.  One of the remaining issues is this one: users should not have to decide at build time whether they want to use doubles or arbitrary precision for a large collection of functions; the library should provide both and allow the uers to use whichever is most appropriate in the circumstances.  In some cases, because of overloading, the same function name can be re-used; but in others different names would be necessary (e.g. for periods of elliptic curves, where the input is the same exact data whether ones wants low or high precision).  It will happen one day.

I will copy some of this discussions to https://github.com/JohnCremona/eclib/issues/10



---

archive/issue_events_309158.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2016-12-22T09:18:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309158"
}
```



---

archive/issue_events_309159.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2016-12-22T09:18:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309159"
}
```



---

archive/issue_comments_325567.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI am resetting this to \"needs work\" just so I can work some more on adding functions to make the interface for modular symbols better as in #10256.  (There was also a test output file committed to the last eclib release by mistake).  It looks as if this missed the 7.5 release anyway.",
    "created_at": "2016-12-22T09:18:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325567",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:11" align="right">comment:11</div>

I am resetting this to "needs work" just so I can work some more on adding functions to make the interface for modular symbols better as in #10256.  (There was also a test output file committed to the last eclib release by mistake).  It looks as if this missed the 7.5 release anyway.



---

archive/issue_comments_325568.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nDo you mean you want to keep working on `eclib` itself or on the Sage interface?",
    "created_at": "2016-12-22T12:54:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325568",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">comment:12</div>

Do you mean you want to keep working on `eclib` itself or on the Sage interface?



---

archive/issue_comments_325569.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nBoth.   There are normalization issues around modular symbols that I am sorting out on the eclib side as well as giving access to them via Sage.  So there will be a new eclib release (possibly today if I can finish) and at the same time I have   branch for #10256 which will depend on that (hence #10256 has this ticket as a dependency).",
    "created_at": "2016-12-22T13:46:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325569",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:13" align="right">comment:13</div>

Both.   There are normalization issues around modular symbols that I am sorting out on the eclib side as well as giving access to them via Sage.  So there will be a new eclib release (possibly today if I can finish) and at the same time I have   branch for #10256 which will depend on that (hence #10256 has this ticket as a dependency).



---

archive/issue_comments_325570.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nFine for me. In case you want to change your mind, feel free to set this back to needs_review.",
    "created_at": "2016-12-22T13:47:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325570",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:14" align="right">comment:14</div>

Fine for me. In case you want to change your mind, feel free to set this back to needs_review.



---

archive/issue_comments_325571.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n The current eclib version in Sage (as of 7.5.beta5) is v20160720.\n \n-This ticket updates to v20161920 from http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20161219.tar.bz2\n+This ticket updates to v20161920 from http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20161222.tar.bz2\n \n Of relevance to Sage are a bugfix and some extra functionality related to modular symbols, see #10256 and #21046.\n``````\n",
    "created_at": "2016-12-22T20:33:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325571",
    "user": "https://github.com/JohnCremona"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 The current eclib version in Sage (as of 7.5.beta5) is v20160720.
 
-This ticket updates to v20161920 from http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20161219.tar.bz2
+This ticket updates to v20161920 from http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20161222.tar.bz2
 
 Of relevance to Sage are a bugfix and some extra functionality related to modular symbols, see #10256 and #21046.
``````




---

archive/issue_comments_325572.json:
```json
{
    "body": "Changed commit from **[089877e](https://github.com/sagemath/sagetrac-mirror/commit/089877e25157a83b74de930c553bc3eea32884fa)** to **[b23e8cf](https://github.com/sagemath/sagetrac-mirror/commit/b23e8cfe387df28de043ed26097449a5b1db75e9)**",
    "created_at": "2016-12-22T20:36:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325572",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[089877e](https://github.com/sagemath/sagetrac-mirror/commit/089877e25157a83b74de930c553bc3eea32884fa)** to **[b23e8cf](https://github.com/sagemath/sagetrac-mirror/commit/b23e8cfe387df28de043ed26097449a5b1db75e9)**



---

archive/issue_comments_325573.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b23e8cfe387df28de043ed26097449a5b1db75e9\">b23e8cf</a></td><td><code>#22077: upgrade eclib to v20161222</code></td></tr></table>\n",
    "created_at": "2016-12-22T20:36:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325573",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b23e8cfe387df28de043ed26097449a5b1db75e9">b23e8cf</a></td><td><code>#22077: upgrade eclib to v20161222</code></td></tr></table>




---

archive/issue_comments_325574.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nOK, so here is another new version.  I don't expect to need to make more changes as I work on #10256.  On the other hand there is perhaps little point in getting this in before that anyway: I made some more changes to modular symbol doctest output just so they pass but those tests will all be reworked in #10256 anyway.  It would not hurt for someone else to check that the new release still works OK rather than having to deal with both tickets at once.  I don't know.  Anyway, #10256 will depend on this as it is now.",
    "created_at": "2016-12-22T20:40:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325574",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:17" align="right">comment:17</div>

OK, so here is another new version.  I don't expect to need to make more changes as I work on #10256.  On the other hand there is perhaps little point in getting this in before that anyway: I made some more changes to modular symbol doctest output just so they pass but those tests will all be reworked in #10256 anyway.  It would not hurt for someone else to check that the new release still works OK rather than having to deal with both tickets at once.  I don't know.  Anyway, #10256 will depend on this as it is now.



---

archive/issue_comments_325575.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nNeeds review then?",
    "created_at": "2016-12-23T07:02:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325575",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

Needs review then?



---

archive/issue_comments_325576.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n The current eclib version in Sage (as of 7.5.beta5) is v20160720.\n \n-This ticket updates to v20161920 from http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20161222.tar.bz2\n+**New tarball**: http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20161222.tar.bz2\n \n Of relevance to Sage are a bugfix and some extra functionality related to modular symbols, see #10256 and #21046.\n``````\n",
    "created_at": "2016-12-23T07:02:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325576",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 The current eclib version in Sage (as of 7.5.beta5) is v20160720.
 
-This ticket updates to v20161920 from http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20161222.tar.bz2
+**New tarball**: http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20161222.tar.bz2
 
 Of relevance to Sage are a bugfix and some extra functionality related to modular symbols, see #10256 and #21046.
``````




---

archive/issue_events_309160.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-12-23T07:02:01Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "title_is": "Upgrade eclib to version 20161222",
    "title_was": "Upgrade eclib to version 20161219",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309160"
}
```



---

archive/issue_comments_325577.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@jdemeyer](#comment:18):\n> Needs review then?\n\nNot yet.  I uploaded that new version last night but then realised that I have yet to ensure that the modular symbols are normalised as to sign (I dealt with the factor of 2 ok, touch wood).  This probably means a delay of several days now...",
    "created_at": "2016-12-23T10:40:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325577",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@jdemeyer](#comment:18):
> Needs review then?

Not yet.  I uploaded that new version last night but then realised that I have yet to ensure that the modular symbols are normalised as to sign (I dealt with the factor of 2 ok, touch wood).  This probably means a delay of several days now...



---

archive/issue_comments_325578.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/57e1ae4c74e0667b0241068ff2a88b75165e0856\">57e1ae4</a></td><td><code>updated eclib to v20161223</code></td></tr></table>\n",
    "created_at": "2016-12-23T15:51:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325578",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/57e1ae4c74e0667b0241068ff2a88b75165e0856">57e1ae4</a></td><td><code>updated eclib to v20161223</code></td></tr></table>




---

archive/issue_comments_325579.json:
```json
{
    "body": "Changed commit from **[b23e8cf](https://github.com/sagemath/sagetrac-mirror/commit/b23e8cfe387df28de043ed26097449a5b1db75e9)** to **[57e1ae4](https://github.com/sagemath/sagetrac-mirror/commit/57e1ae4c74e0667b0241068ff2a88b75165e0856)**",
    "created_at": "2016-12-23T15:51:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325579",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b23e8cf](https://github.com/sagemath/sagetrac-mirror/commit/b23e8cfe387df28de043ed26097449a5b1db75e9)** to **[57e1ae4](https://github.com/sagemath/sagetrac-mirror/commit/57e1ae4c74e0667b0241068ff2a88b75165e0856)**



---

archive/issue_comments_325580.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n The current eclib version in Sage (as of 7.5.beta5) is v20160720.\n \n-**New tarball**: http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20161222.tar.bz2\n+**New tarball**: http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20161223.tar.bz2\n \n Of relevance to Sage are a bugfix and some extra functionality related to modular symbols, see #10256 and #21046.\n``````\n",
    "created_at": "2016-12-23T15:53:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325580",
    "user": "https://github.com/JohnCremona"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 The current eclib version in Sage (as of 7.5.beta5) is v20160720.
 
-**New tarball**: http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20161222.tar.bz2
+**New tarball**: http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20161223.tar.bz2
 
 Of relevance to Sage are a bugfix and some extra functionality related to modular symbols, see #10256 and #21046.
``````




---

archive/issue_comments_325581.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nWith luck this version (v20161230) will be the last bugfix version with the new modular symbols functionality.  Right now this all works fine with the branch soon to be uploaded to #10256, but I should make a version here which passes all tests even if the relevant tests will all be superseded there.",
    "created_at": "2016-12-30T17:54:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325581",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:22" align="right">comment:22</div>

With luck this version (v20161230) will be the last bugfix version with the new modular symbols functionality.  Right now this all works fine with the branch soon to be uploaded to #10256, but I should make a version here which passes all tests even if the relevant tests will all be superseded there.



---

archive/issue_comments_325582.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n The current eclib version in Sage (as of 7.5.beta5) is v20160720.\n \n-**New tarball**: http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20161223.tar.bz2\n+**New tarball**: http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20161230.tar.bz2\n \n Of relevance to Sage are a bugfix and some extra functionality related to modular symbols, see #10256 and #21046.\n``````\n",
    "created_at": "2016-12-30T17:54:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325582",
    "user": "https://github.com/JohnCremona"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 The current eclib version in Sage (as of 7.5.beta5) is v20160720.
 
-**New tarball**: http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20161223.tar.bz2
+**New tarball**: http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20161230.tar.bz2
 
 Of relevance to Sage are a bugfix and some extra functionality related to modular symbols, see #10256 and #21046.
``````




---

archive/issue_comments_325583.json:
```json
{
    "body": "Changed commit from **[57e1ae4](https://github.com/sagemath/sagetrac-mirror/commit/57e1ae4c74e0667b0241068ff2a88b75165e0856)** to **[13662b2](https://github.com/sagemath/sagetrac-mirror/commit/13662b2a16c99a2324cba2bb9b5d4385bad7acee)**",
    "created_at": "2016-12-30T18:03:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325583",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[57e1ae4](https://github.com/sagemath/sagetrac-mirror/commit/57e1ae4c74e0667b0241068ff2a88b75165e0856)** to **[13662b2](https://github.com/sagemath/sagetrac-mirror/commit/13662b2a16c99a2324cba2bb9b5d4385bad7acee)**



---

archive/issue_comments_325584.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/13662b2a16c99a2324cba2bb9b5d4385bad7acee\">13662b2</a></td><td><code>updated eclib to v20161230</code></td></tr></table>\n",
    "created_at": "2016-12-30T18:03:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325584",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/13662b2a16c99a2324cba2bb9b5d4385bad7acee">13662b2</a></td><td><code>updated eclib to v20161230</code></td></tr></table>




---

archive/issue_comments_325585.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nPlease review, using v20161230 of eclib (as in the link).  The only doctest changes are to do with scaling of modular symbols, which will be dealt with properly in #10256, so the only thing to do is check that the new source builds OK and all test pass.",
    "created_at": "2016-12-30T18:06:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325585",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:24" align="right">comment:24</div>

Please review, using v20161230 of eclib (as in the link).  The only doctest changes are to do with scaling of modular symbols, which will be dealt with properly in #10256, so the only thing to do is check that the new source builds OK and all test pass.



---

archive/issue_events_309161.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2016-12-30T18:06:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309161"
}
```



---

archive/issue_events_309162.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2016-12-30T18:06:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309162"
}
```



---

archive/issue_events_309163.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-12-31T09:59:37Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "title_is": "Upgrade eclib to version 20161230",
    "title_was": "Upgrade eclib to version 20161222",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309163"
}
```



---

archive/issue_comments_325586.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2016-12-31T09:59:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325586",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_events_309164.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-01-01T19:10:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309164"
}
```



---

archive/issue_events_309165.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-01-01T19:10:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309165"
}
```



---

archive/issue_comments_325587.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nVery sorry, JD -- see #10256",
    "created_at": "2017-01-03T10:39:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325587",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:27" align="right">comment:27</div>

Very sorry, JD -- see #10256



---

archive/issue_events_309166.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2017-01-03T10:39:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309166"
}
```



---

archive/issue_events_309167.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2017-01-03T10:39:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309167"
}
```



---

archive/issue_events_309168.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2017-01-03T15:14:15Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "title_is": "Upgrade eclib to version 20170103",
    "title_was": "Upgrade eclib to version 20161230",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309168"
}
```



---

archive/issue_comments_325588.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n The current eclib version in Sage (as of 7.5.beta5) is v20160720.\n \n-**New tarball**: http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20161230.tar.bz2\n+**New tarball**: http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20170103.tar.bz2\n \n Of relevance to Sage are a bugfix and some extra functionality related to modular symbols, see #10256 and #21046.\n``````\n",
    "created_at": "2017-01-03T15:14:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325588",
    "user": "https://github.com/JohnCremona"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 The current eclib version in Sage (as of 7.5.beta5) is v20160720.
 
-**New tarball**: http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20161230.tar.bz2
+**New tarball**: http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20170103.tar.bz2
 
 Of relevance to Sage are a bugfix and some extra functionality related to modular symbols, see #10256 and #21046.
``````




---

archive/issue_comments_325589.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nAnother version will appear shortly.  For the record: the sign of plus modular symbols was being set correctly when L(E,1) is nonzero but not otherwise (random) and the sign of the minus symbol was not being set at all.  Now both are dealt with.\n\nThe new tarball is in place, and I will update the branch soon.\n\nI suggest that when this has yet again had a review by Jeroen, we do not set it to positive review until Chris is happy over at #10256.",
    "created_at": "2017-01-03T15:14:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325589",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:28" align="right">comment:28</div>

Another version will appear shortly.  For the record: the sign of plus modular symbols was being set correctly when L(E,1) is nonzero but not otherwise (random) and the sign of the minus symbol was not being set at all.  Now both are dealt with.

The new tarball is in place, and I will update the branch soon.

I suggest that when this has yet again had a review by Jeroen, we do not set it to positive review until Chris is happy over at #10256.



---

archive/issue_comments_325590.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e695e8c6ce01db84035d1206e615661d9678e5f\">7e695e8</a></td><td><code>updated eclib to v20170103</code></td></tr></table>\n",
    "created_at": "2017-01-03T16:36:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325590",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e695e8c6ce01db84035d1206e615661d9678e5f">7e695e8</a></td><td><code>updated eclib to v20170103</code></td></tr></table>




---

archive/issue_comments_325591.json:
```json
{
    "body": "Changed commit from **[13662b2](https://github.com/sagemath/sagetrac-mirror/commit/13662b2a16c99a2324cba2bb9b5d4385bad7acee)** to **[7e695e8](https://github.com/sagemath/sagetrac-mirror/commit/7e695e8c6ce01db84035d1206e615661d9678e5f)**",
    "created_at": "2017-01-03T16:36:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325591",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[13662b2](https://github.com/sagemath/sagetrac-mirror/commit/13662b2a16c99a2324cba2bb9b5d4385bad7acee)** to **[7e695e8](https://github.com/sagemath/sagetrac-mirror/commit/7e695e8c6ce01db84035d1206e615661d9678e5f)**



---

archive/issue_comments_325592.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nOK, ready for review again.  Apart from a general check that nothing is broken this should wait until #10256 is also good.",
    "created_at": "2017-01-03T16:37:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325592",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:30" align="right">comment:30</div>

OK, ready for review again.  Apart from a general check that nothing is broken this should wait until #10256 is also good.



---

archive/issue_comments_325593.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nI fear I am losing all credibility here.  Scrap v20170103 and watch this space.",
    "created_at": "2017-01-04T09:08:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325593",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:31" align="right">comment:31</div>

I fear I am losing all credibility here.  Scrap v20170103 and watch this space.



---

archive/issue_comments_325594.json:
```json
{
    "body": "Changed commit from **[7e695e8](https://github.com/sagemath/sagetrac-mirror/commit/7e695e8c6ce01db84035d1206e615661d9678e5f)** to **[1c78871](https://github.com/sagemath/sagetrac-mirror/commit/1c7887157a6d7ae068c28637152c56e3d8c00804)**",
    "created_at": "2017-01-04T19:55:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325594",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7e695e8](https://github.com/sagemath/sagetrac-mirror/commit/7e695e8c6ce01db84035d1206e615661d9678e5f)** to **[1c78871](https://github.com/sagemath/sagetrac-mirror/commit/1c7887157a6d7ae068c28637152c56e3d8c00804)**



---

archive/issue_comments_325595.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8fabe91a3ff9c42a7a4d719a305d1f9924f80f1b\">8fabe91</a></td><td><code>updated eclib to v20170104</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1c7887157a6d7ae068c28637152c56e3d8c00804\">1c78871</a></td><td><code>updated eclib to v20170104 again</code></td></tr></table>\n",
    "created_at": "2017-01-04T19:55:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325595",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8fabe91a3ff9c42a7a4d719a305d1f9924f80f1b">8fabe91</a></td><td><code>updated eclib to v20170104</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1c7887157a6d7ae068c28637152c56e3d8c00804">1c78871</a></td><td><code>updated eclib to v20170104 again</code></td></tr></table>




---

archive/issue_comments_325596.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nAnother attempt, with more testing this time.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8fabe91a3ff9c42a7a4d719a305d1f9924f80f1b\">8fabe91</a></td><td><code>updated eclib to v20170104</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1c7887157a6d7ae068c28637152c56e3d8c00804\">1c78871</a></td><td><code>updated eclib to v20170104 again</code></td></tr></table>\n",
    "created_at": "2017-01-04T19:58:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325596",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:33" align="right">comment:33</div>

Another attempt, with more testing this time.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8fabe91a3ff9c42a7a4d719a305d1f9924f80f1b">8fabe91</a></td><td><code>updated eclib to v20170104</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1c7887157a6d7ae068c28637152c56e3d8c00804">1c78871</a></td><td><code>updated eclib to v20170104 again</code></td></tr></table>




---

archive/issue_comments_325597.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n The current eclib version in Sage (as of 7.5.beta5) is v20160720.\n \n-**New tarball**: http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20170103.tar.bz2\n+**New tarball**: http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20170104.tar.bz2\n \n Of relevance to Sage are a bugfix and some extra functionality related to modular symbols, see #10256 and #21046.\n``````\n",
    "created_at": "2017-01-04T19:58:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325597",
    "user": "https://github.com/JohnCremona"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 The current eclib version in Sage (as of 7.5.beta5) is v20160720.
 
-**New tarball**: http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20170103.tar.bz2
+**New tarball**: http://homepages.warwick.ac.uk/staff/J.E.Cremona/ftp/eclib-20170104.tar.bz2
 
 Of relevance to Sage are a bugfix and some extra functionality related to modular symbols, see #10256 and #21046.
``````




---

archive/issue_events_309169.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2017-01-04T19:58:45Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "title_is": "Upgrade eclib to version 20170104",
    "title_was": "Upgrade eclib to version 20170103",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309169"
}
```



---

archive/issue_events_309170.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2017-01-04T19:59:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309170"
}
```



---

archive/issue_events_309171.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2017-01-04T19:59:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309171"
}
```



---

archive/issue_comments_325598.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nCan you squash all those commits? I see little point in keeping all those incremental upgrades as separate commits.",
    "created_at": "2017-01-05T13:29:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325598",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:36" align="right">comment:36</div>

Can you squash all those commits? I see little point in keeping all those incremental upgrades as separate commits.



---

archive/issue_comments_325599.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nProbably, I would not be happy at #10256 if you squash commits here. Does it really harm having them?",
    "created_at": "2017-01-05T13:33:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325599",
    "user": "https://github.com/categorie"
}
```

<div id="comment:37" align="right">comment:37</div>

Probably, I would not be happy at #10256 if you squash commits here. Does it really harm having them?



---

archive/issue_comments_325600.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nReplying to [@categorie](#comment:37):\n> Probably, I would not be happy at #10256 if you squash commits here.\n\nNever mind then.",
    "created_at": "2017-01-05T13:35:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325600",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:38" align="right">comment:38</div>

Replying to [@categorie](#comment:37):
> Probably, I would not be happy at #10256 if you squash commits here.

Never mind then.



---

archive/issue_comments_325601.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nYes, sorry about the tangle.  We certainly could disentangle: on this ticket that's what you were suggesting anyway, and on the other one I think there are <6 files affected and one could always use the non-git route of copying those 6 files elsewhere first and starting a new branch...\nI can do that if necessary.",
    "created_at": "2017-01-05T14:19:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325601",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:39" align="right">comment:39</div>

Yes, sorry about the tangle.  We certainly could disentangle: on this ticket that's what you were suggesting anyway, and on the other one I think there are <6 files affected and one could always use the non-git route of copying those 6 files elsewhere first and starting a new branch...
I can do that if necessary.



---

archive/issue_comments_325602.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nI made a clean single commit on top of 7.5.rc1 which is at u/cremona/22077new.  It could be used instead of the original u/cremona/22077, but only if #10256 is also cleaned up.  Next...",
    "created_at": "2017-01-05T19:10:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325602",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:40" align="right">comment:40</div>

I made a clean single commit on top of 7.5.rc1 which is at u/cremona/22077new.  It could be used instead of the original u/cremona/22077, but only if #10256 is also cleaned up.  Next...



---

archive/issue_comments_325603.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nJeroen, how about using my clean branch here, and at #10256 using one I just made which merges this with the current branch there (u/wuthrich/ticket/10256)?  I resolved the merge conflicts in 3 files, so now have a version of that branch which is no worse than before, while this one is simpler.",
    "created_at": "2017-01-05T19:29:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325603",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:41" align="right">comment:41</div>

Jeroen, how about using my clean branch here, and at #10256 using one I just made which merges this with the current branch there (u/wuthrich/ticket/10256)?  I resolved the merge conflicts in 3 files, so now have a version of that branch which is no worse than before, while this one is simpler.



---

archive/issue_events_309172.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-01-05T19:41:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309172"
}
```



---

archive/issue_events_309173.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-01-05T19:41:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309173"
}
```



---

archive/issue_comments_325604.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nThat's all fine for me. Just change branches and set this one back to needs_review.",
    "created_at": "2017-01-05T19:41:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325604",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:42" align="right">comment:42</div>

That's all fine for me. Just change branches and set this one back to needs_review.



---

archive/issue_events_309174.json:
```json
{
    "actor": "https://github.com/categorie",
    "created_at": "2017-01-05T20:47:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309174"
}
```



---

archive/issue_events_309175.json:
```json
{
    "actor": "https://github.com/categorie",
    "created_at": "2017-01-05T20:47:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309175"
}
```



---

archive/issue_comments_325605.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cb3fd05c95fb3afbaed9ba621038293b5412d6e0\">cb3fd05</a></td><td><code>#22077 update eclib to v20170104</code></td></tr></table>\n",
    "created_at": "2017-01-05T20:47:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325605",
    "user": "https://github.com/categorie"
}
```

<div id="comment:43"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cb3fd05c95fb3afbaed9ba621038293b5412d6e0">cb3fd05</a></td><td><code>#22077 update eclib to v20170104</code></td></tr></table>




---

archive/issue_comments_325606.json:
```json
{
    "body": "Changed branch from **[u/cremona/22077](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/22077)** to **[u/cremona/22077new](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/22077new)**",
    "created_at": "2017-01-05T20:47:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325606",
    "user": "https://github.com/categorie"
}
```

Changed branch from **[u/cremona/22077](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/22077)** to **[u/cremona/22077new](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/22077new)**



---

archive/issue_comments_325607.json:
```json
{
    "body": "Changed commit from **[1c78871](https://github.com/sagemath/sagetrac-mirror/commit/1c7887157a6d7ae068c28637152c56e3d8c00804)** to **[cb3fd05](https://github.com/sagemath/sagetrac-mirror/commit/cb3fd05c95fb3afbaed9ba621038293b5412d6e0)**",
    "created_at": "2017-01-05T20:47:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325607",
    "user": "https://github.com/categorie"
}
```

Changed commit from **[1c78871](https://github.com/sagemath/sagetrac-mirror/commit/1c7887157a6d7ae068c28637152c56e3d8c00804)** to **[cb3fd05](https://github.com/sagemath/sagetrac-mirror/commit/cb3fd05c95fb3afbaed9ba621038293b5412d6e0)**



---

archive/issue_comments_325608.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nThanks.  Now I'll replace the branch at #10256 with a tidied one too.",
    "created_at": "2017-01-05T21:02:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325608",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:44" align="right">comment:44</div>

Thanks.  Now I'll replace the branch at #10256 with a tidied one too.



---

archive/issue_events_309176.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2017-01-05T21:30:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309176"
}
```



---

archive/issue_events_309177.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2017-01-05T21:30:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309177"
}
```



---

archive/issue_comments_325609.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nApologies, I messed up -- the new branch is certainly a cleaned up version of its predecessor but that one was wrong.  I will fix this in the morning.\n\nIgnore the above comment, this (=branch u/cremona/22077new = commit cb3fd05)  is fine.  Just note that the additional work on #10256 will involve changes to sage/libs/eclib as well as sage/schemes/elliptic_curves, in order to expose some new functionality in eclib.  This one *only* does the minimum to make eclib c20170104 work OK and pass tests.",
    "created_at": "2017-01-05T21:30:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325609",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:45" align="right">comment:45</div>

Apologies, I messed up -- the new branch is certainly a cleaned up version of its predecessor but that one was wrong.  I will fix this in the morning.

Ignore the above comment, this (=branch u/cremona/22077new = commit cb3fd05)  is fine.  Just note that the additional work on #10256 will involve changes to sage/libs/eclib as well as sage/schemes/elliptic_curves, in order to expose some new functionality in eclib.  This one *only* does the minimum to make eclib c20170104 work OK and pass tests.



---

archive/issue_events_309178.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2017-01-06T09:52:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309178"
}
```



---

archive/issue_events_309179.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2017-01-06T09:52:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309179"
}
```



---

archive/issue_comments_325610.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nNote that #10256 which depends on this has a postive review.  I don't know if this proprty is inherited!",
    "created_at": "2017-01-09T09:22:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325610",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:47" align="right">comment:47</div>

Note that #10256 which depends on this has a postive review.  I don't know if this proprty is inherited!



---

archive/issue_comments_325611.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nGood. I'll try to review this today.",
    "created_at": "2017-01-09T09:33:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325611",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:48" align="right">comment:48</div>

Good. I'll try to review this today.



---

archive/issue_comments_325612.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nI didn't check the mathematics. But the package builds fine.",
    "created_at": "2017-01-09T09:58:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325612",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:49" align="right">comment:49</div>

I didn't check the mathematics. But the package builds fine.



---

archive/issue_events_309180.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-01-09T09:58:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309180"
}
```



---

archive/issue_events_309181.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-01-09T09:58:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309181"
}
```



---

archive/issue_comments_325613.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nThanks.  The mathematical changes are effectively reviewed (already) at #10256.",
    "created_at": "2017-01-09T10:10:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325613",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:50" align="right">comment:50</div>

Thanks.  The mathematical changes are effectively reviewed (already) at #10256.



---

archive/issue_comments_325614.json:
```json
{
    "body": "Changed branch from **[u/cremona/22077new](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/22077new)** to **[cb3fd05](https://github.com/sagemath/sagetrac-mirror/commit/cb3fd05c95fb3afbaed9ba621038293b5412d6e0)**",
    "created_at": "2017-01-21T16:34:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22077#issuecomment-325614",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/cremona/22077new](https://github.com/sagemath/sagetrac-mirror/tree/u/cremona/22077new)** to **[cb3fd05](https://github.com/sagemath/sagetrac-mirror/commit/cb3fd05c95fb3afbaed9ba621038293b5412d6e0)**



---

archive/issue_events_309182.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-21T16:34:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309182"
}
```



---

archive/issue_events_309183.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f728b9256121ad1ba2ee3d15261da268ba1ab903",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-01-21T16:34:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/22077",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22077#event-309183"
}
```
