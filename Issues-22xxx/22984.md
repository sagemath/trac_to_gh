# Issue 22984: Upgrade normaliz to 3.5.3 and pynormaliz to 1.12

archive/issues_022747.json:
```json
{
    "assignees": [],
    "body": "Among many new features and improvements, these new versions make computations interruptible with `^C`.\n\nSource tarballs: \n- https://github.com/Normaliz/Normaliz/releases/download/v3.5.3/normaliz-3.5.3.tar.gz\n- https://pypi.python.org/packages/30/48/d2ad6e4defcce3959c66ee541cf5c0eda12186e42ecd68a0531813a16bd0/PyNormaliz-1.12.tar.gz#md5=1ec3419eaa061a0ee4b4f1ffca9cb44d\n\nUpstream bug: https://github.com/Normaliz/Normaliz/issues/176\n\nFollow-up ticket with more cutting-edge `PyNormaliz` version: #25090.\n\nCC:  @w-bruns @sagetrac-tmonteil @videlec @tscrim @jplab @sebasguts\n\nKeywords: **IMA-PolyGeom**\n\nBranch/Commit: **[`7057ef4`](https://github.com/sagemath/sagetrac-mirror/commit/7057ef457e5e6f78197100f938b8dae8d8b0c5a4)**\n\nUpstream: **Completely fixed; Fix reported upstream**\n\nReviewer: **Travis Scrimshaw, Thierry Monteil, Jean-Philippe Labb\u00e9**\n\nAuthor: **Matthias Koeppe**\n\nComponent: **packages: optional**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/22984_\n\n",
    "closed_at": "2018-05-08T17:27:22Z",
    "created_at": "2017-05-11T22:07:21Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade normaliz to 3.5.3 and pynormaliz to 1.12",
    "type": "issue",
    "updated_at": "2018-05-08T17:27:22Z",
    "url": "https://github.com/sagemath/sage/issues/22984",
    "user": "https://github.com/mkoeppe"
}
```
Among many new features and improvements, these new versions make computations interruptible with `^C`.

Source tarballs: 
- https://github.com/Normaliz/Normaliz/releases/download/v3.5.3/normaliz-3.5.3.tar.gz
- https://pypi.python.org/packages/30/48/d2ad6e4defcce3959c66ee541cf5c0eda12186e42ecd68a0531813a16bd0/PyNormaliz-1.12.tar.gz#md5=1ec3419eaa061a0ee4b4f1ffca9cb44d

Upstream bug: https://github.com/Normaliz/Normaliz/issues/176

Follow-up ticket with more cutting-edge `PyNormaliz` version: #25090.

CC:  @w-bruns @sagetrac-tmonteil @videlec @tscrim @jplab @sebasguts

Keywords: **IMA-PolyGeom**

Branch/Commit: **[`7057ef4`](https://github.com/sagemath/sagetrac-mirror/commit/7057ef457e5e6f78197100f938b8dae8d8b0c5a4)**

Upstream: **Completely fixed; Fix reported upstream**

Reviewer: **Travis Scrimshaw, Thierry Monteil, Jean-Philippe Labb√©**

Author: **Matthias Koeppe**

Component: **packages: optional**

_Issue created by migration from https://trac.sagemath.org/ticket/22984_





---

archive/issue_events_322050.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2017-05-11T22:07:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322050"
}
```



---

archive/issue_events_322051.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2017-05-11T22:07:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322051"
}
```



---

archive/issue_events_322052.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2017-05-11T22:07:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322052"
}
```



---

archive/issue_events_322053.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2017-05-11T22:07:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322053"
}
```



---

archive/issue_events_322054.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2017-08-26T22:31:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322054"
}
```



---

archive/issue_events_322055.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2017-08-26T22:31:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322055"
}
```



---

archive/issue_comments_343508.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,6 @@\n-... (when these versions are released)\n-\n Among other things this will make computations interruptible with `^C`.\n \n+Source tarballs: \n+- https://github.com/Normaliz/Normaliz/releases/download/v3.4.0/normaliz-3.4.0.tar.gz\n+- https://pypi.python.org/packages/f2/ea/bb7c5e28a8b0b74ace40f88161897ccdc990e4adc202e7ae881806717c3b/PyNormaliz-1.7.tar.gz\n \n``````\n",
    "created_at": "2017-08-26T22:31:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343508",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,6 @@
-... (when these versions are released)
-
 Among other things this will make computations interruptible with `^C`.
 
+Source tarballs: 
+- https://github.com/Normaliz/Normaliz/releases/download/v3.4.0/normaliz-3.4.0.tar.gz
+- https://pypi.python.org/packages/f2/ea/bb7c5e28a8b0b74ace40f88161897ccdc990e4adc202e7ae881806717c3b/PyNormaliz-1.7.tar.gz
 
``````




---

archive/issue_events_322056.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2017-08-26T22:31:13Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "title_is": "Upgrade normaliz to 3.4.0 and pynormaliz to 1.7",
    "title_was": "Upgrade normaliz to 3.3.0 and pynormaliz to 1.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322056"
}
```



---

archive/issue_comments_343509.json:
```json
{
    "body": "Branch: **[u/mkoeppe/upgrade_normaliz_to_3_4_0_and_pynormaliz_to_1_7](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_normaliz_to_3_4_0_and_pynormaliz_to_1_7)**",
    "created_at": "2017-08-26T22:54:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343509",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/upgrade_normaliz_to_3_4_0_and_pynormaliz_to_1_7](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_normaliz_to_3_4_0_and_pynormaliz_to_1_7)**



---

archive/issue_comments_343510.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Among other things this will make computations interruptible with `^C`.\n+Among other things this is supposed to make computations interruptible with `^C`, but that feature does not \n \n Source tarballs: \n - https://github.com/Normaliz/Normaliz/releases/download/v3.4.0/normaliz-3.4.0.tar.gz\n``````\n",
    "created_at": "2017-08-26T23:08:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343510",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Among other things this will make computations interruptible with `^C`.
+Among other things this is supposed to make computations interruptible with `^C`, but that feature does not 
 
 Source tarballs: 
 - https://github.com/Normaliz/Normaliz/releases/download/v3.4.0/normaliz-3.4.0.tar.gz
``````




---

archive/issue_comments_343511.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nTested on Mac OS X. Works well except for interrupting (may require newer pynormaliz...) and the doctest failures reported in #23586 (fixing broken pynormaliz doctests). \n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/be0b9d2a1b7dc064367aa122daacaec1ef47f896\"><code>be0b9d2</code></a></td><td><code>Upgrade normaliz, pynormaliz</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a6ccc4235fa65a26fd772ad963df01b9ece5633f\"><code>a6ccc42</code></a></td><td><code>normaliz: Back out 22684_cone_reduce_memory_usage.patch</code></td></tr></table>\n",
    "created_at": "2017-08-26T23:08:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343511",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">comment:3</div>

Tested on Mac OS X. Works well except for interrupting (may require newer pynormaliz...) and the doctest failures reported in #23586 (fixing broken pynormaliz doctests). 

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/be0b9d2a1b7dc064367aa122daacaec1ef47f896"><code>be0b9d2</code></a></td><td><code>Upgrade normaliz, pynormaliz</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a6ccc4235fa65a26fd772ad963df01b9ece5633f"><code>a6ccc42</code></a></td><td><code>normaliz: Back out 22684_cone_reduce_memory_usage.patch</code></td></tr></table>




---

archive/issue_comments_343512.json:
```json
{
    "body": "Commit: **[`a6ccc42`](https://github.com/sagemath/sagetrac-mirror/commit/a6ccc4235fa65a26fd772ad963df01b9ece5633f)**",
    "created_at": "2017-08-26T23:08:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343512",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`a6ccc42`](https://github.com/sagemath/sagetrac-mirror/commit/a6ccc4235fa65a26fd772ad963df01b9ece5633f)**



---

archive/issue_events_322057.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2017-08-26T23:08:42Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "title_is": "Upgrade normaliz to 3.4.0 and pynormaliz to 1.7+",
    "title_was": "Upgrade normaliz to 3.4.0 and pynormaliz to 1.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322057"
}
```



---

archive/issue_comments_343513.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Among other things this is supposed to make computations interruptible with `^C`, but that feature does not \n+Among other things this is supposed to make computations interruptible with `^C`, but that feature does not seem to work (tested on Mac OS X; maybe unreleased pynormaliz is required?)\n \n Source tarballs: \n - https://github.com/Normaliz/Normaliz/releases/download/v3.4.0/normaliz-3.4.0.tar.gz\n``````\n",
    "created_at": "2017-08-26T23:09:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343513",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Among other things this is supposed to make computations interruptible with `^C`, but that feature does not 
+Among other things this is supposed to make computations interruptible with `^C`, but that feature does not seem to work (tested on Mac OS X; maybe unreleased pynormaliz is required?)
 
 Source tarballs: 
 - https://github.com/Normaliz/Normaliz/releases/download/v3.4.0/normaliz-3.4.0.tar.gz
``````




---

archive/issue_comments_343514.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2017-08-27T02:28:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343514",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_343515.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5e7a45b55eb85040b4a4c84fc0c8bd6506fdbdad\"><code>5e7a45b</code></a></td><td><code>Update PyNormaliz to 1.8</code></td></tr></table>\n",
    "created_at": "2017-08-29T19:20:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343515",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5e7a45b55eb85040b4a4c84fc0c8bd6506fdbdad"><code>5e7a45b</code></a></td><td><code>Update PyNormaliz to 1.8</code></td></tr></table>




---

archive/issue_comments_343516.json:
```json
{
    "body": "Changed commit from **[`a6ccc42`](https://github.com/sagemath/sagetrac-mirror/commit/a6ccc4235fa65a26fd772ad963df01b9ece5633f)** to **[`5e7a45b`](https://github.com/sagemath/sagetrac-mirror/commit/5e7a45b55eb85040b4a4c84fc0c8bd6506fdbdad)**",
    "created_at": "2017-08-29T19:20:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343516",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a6ccc42`](https://github.com/sagemath/sagetrac-mirror/commit/a6ccc4235fa65a26fd772ad963df01b9ece5633f)** to **[`5e7a45b`](https://github.com/sagemath/sagetrac-mirror/commit/5e7a45b55eb85040b4a4c84fc0c8bd6506fdbdad)**



---

archive/issue_comments_343517.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n-Among other things this is supposed to make computations interruptible with `^C`, but that feature does not seem to work (tested on Mac OS X; maybe unreleased pynormaliz is required?)\n+Among other things this is supposed to make computations interruptible with `^C`, but that feature does not seem to work with Python 2 (tested on Mac OS X)\n \n Source tarballs: \n - https://github.com/Normaliz/Normaliz/releases/download/v3.4.0/normaliz-3.4.0.tar.gz\n-- https://pypi.python.org/packages/f2/ea/bb7c5e28a8b0b74ace40f88161897ccdc990e4adc202e7ae881806717c3b/PyNormaliz-1.7.tar.gz\n+- https://pypi.python.org/packages/50/76/b3561237125efc5935836299f7bda90b54bc7da094de0d55f5d96e7b3a2f/PyNormaliz-1.8.tar.gz#md5=cf7c05befe25b68b476eeee86985ceb0\n \n``````\n",
    "created_at": "2017-08-29T19:25:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343517",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
-Among other things this is supposed to make computations interruptible with `^C`, but that feature does not seem to work (tested on Mac OS X; maybe unreleased pynormaliz is required?)
+Among other things this is supposed to make computations interruptible with `^C`, but that feature does not seem to work with Python 2 (tested on Mac OS X)
 
 Source tarballs: 
 - https://github.com/Normaliz/Normaliz/releases/download/v3.4.0/normaliz-3.4.0.tar.gz
-- https://pypi.python.org/packages/f2/ea/bb7c5e28a8b0b74ace40f88161897ccdc990e4adc202e7ae881806717c3b/PyNormaliz-1.7.tar.gz
+- https://pypi.python.org/packages/50/76/b3561237125efc5935836299f7bda90b54bc7da094de0d55f5d96e7b3a2f/PyNormaliz-1.8.tar.gz#md5=cf7c05befe25b68b476eeee86985ceb0
 
``````




---

archive/issue_events_322058.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2017-08-29T19:25:18Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "title_is": "Upgrade normaliz to 3.4.0 and pynormaliz to 1.8",
    "title_was": "Upgrade normaliz to 3.4.0 and pynormaliz to 1.7+",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322058"
}
```



---

archive/issue_events_322059.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-03-03T05:21:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322059"
}
```



---

archive/issue_events_322060.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-03-03T05:21:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322060"
}
```



---

archive/issue_comments_343518.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n Among other things this is supposed to make computations interruptible with `^C`, but that feature does not seem to work with Python 2 (tested on Mac OS X)\n \n Source tarballs: \n-- https://github.com/Normaliz/Normaliz/releases/download/v3.4.0/normaliz-3.4.0.tar.gz\n-- https://pypi.python.org/packages/50/76/b3561237125efc5935836299f7bda90b54bc7da094de0d55f5d96e7b3a2f/PyNormaliz-1.8.tar.gz#md5=cf7c05befe25b68b476eeee86985ceb0\n+- https://github.com/Normaliz/Normaliz/releases/download/v3.5.1/normaliz-3.5.1.tar.gz\n+- https://pypi.python.org/packages/47/99/c9043d8392f99c9c4013eb82ce931f75ef64d6fd665cd8d008ce80be881e/PyNormaliz-1.10.tar.gz#md5=89b212de8e833205b9776b1ef90c3585\n \n``````\n",
    "created_at": "2018-03-03T05:21:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343518",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 Among other things this is supposed to make computations interruptible with `^C`, but that feature does not seem to work with Python 2 (tested on Mac OS X)
 
 Source tarballs: 
-- https://github.com/Normaliz/Normaliz/releases/download/v3.4.0/normaliz-3.4.0.tar.gz
-- https://pypi.python.org/packages/50/76/b3561237125efc5935836299f7bda90b54bc7da094de0d55f5d96e7b3a2f/PyNormaliz-1.8.tar.gz#md5=cf7c05befe25b68b476eeee86985ceb0
+- https://github.com/Normaliz/Normaliz/releases/download/v3.5.1/normaliz-3.5.1.tar.gz
+- https://pypi.python.org/packages/47/99/c9043d8392f99c9c4013eb82ce931f75ef64d6fd665cd8d008ce80be881e/PyNormaliz-1.10.tar.gz#md5=89b212de8e833205b9776b1ef90c3585
 
``````




---

archive/issue_events_322061.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-03-03T05:21:12Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "title_is": "Upgrade normaliz to 3.5.1 and pynormaliz to 1.10",
    "title_was": "Upgrade normaliz to 3.4.0 and pynormaliz to 1.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322061"
}
```



---

archive/issue_comments_343519.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f6011b448be29785b475c588b1ec72600452dcc5\"><code>f6011b4</code></a></td><td><code>Upgrade normaliz to 3.5.1 and pynormaliz to 1.10</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/553640705f7f55153ee9990f33beda510a697127\"><code>5536407</code></a></td><td><code>normaliz: Add flint dependency</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/71d2194c14331d81d56e8154b3aae15d745c7338\"><code>71d2194</code></a></td><td><code>normaliz: Back out 22684_cone_reduce_memory_usage.patch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2137cc5bb49278657ce23f0f8c775400b494023\"><code>f2137cc</code></a></td><td><code>Polyhedron_normaliz: Adjust doctest to 'uniqueness in output' of normaliz 3.5.1</code></td></tr></table>\n",
    "created_at": "2018-03-03T17:06:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343519",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f6011b448be29785b475c588b1ec72600452dcc5"><code>f6011b4</code></a></td><td><code>Upgrade normaliz to 3.5.1 and pynormaliz to 1.10</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/553640705f7f55153ee9990f33beda510a697127"><code>5536407</code></a></td><td><code>normaliz: Add flint dependency</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/71d2194c14331d81d56e8154b3aae15d745c7338"><code>71d2194</code></a></td><td><code>normaliz: Back out 22684_cone_reduce_memory_usage.patch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2137cc5bb49278657ce23f0f8c775400b494023"><code>f2137cc</code></a></td><td><code>Polyhedron_normaliz: Adjust doctest to 'uniqueness in output' of normaliz 3.5.1</code></td></tr></table>




---

archive/issue_comments_343520.json:
```json
{
    "body": "Changed commit from **[`5e7a45b`](https://github.com/sagemath/sagetrac-mirror/commit/5e7a45b55eb85040b4a4c84fc0c8bd6506fdbdad)** to **[`f2137cc`](https://github.com/sagemath/sagetrac-mirror/commit/f2137cc5bb49278657ce23f0f8c775400b494023)**",
    "created_at": "2018-03-03T17:06:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343520",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5e7a45b`](https://github.com/sagemath/sagetrac-mirror/commit/5e7a45b55eb85040b4a4c84fc0c8bd6506fdbdad)** to **[`f2137cc`](https://github.com/sagemath/sagetrac-mirror/commit/f2137cc5bb49278657ce23f0f8c775400b494023)**



---

archive/issue_events_322062.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-03-03T17:10:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322062"
}
```



---

archive/issue_comments_343521.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Among other things this is supposed to make computations interruptible with `^C`, but that feature does not seem to work with Python 2 (tested on Mac OS X)\n+Among many new features and improvements, these new versions make computations interruptible with `^C`.\n \n Source tarballs: \n - https://github.com/Normaliz/Normaliz/releases/download/v3.5.1/normaliz-3.5.1.tar.gz\n``````\n",
    "created_at": "2018-03-03T17:31:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343521",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Among other things this is supposed to make computations interruptible with `^C`, but that feature does not seem to work with Python 2 (tested on Mac OS X)
+Among many new features and improvements, these new versions make computations interruptible with `^C`.
 
 Source tarballs: 
 - https://github.com/Normaliz/Normaliz/releases/download/v3.5.1/normaliz-3.5.1.tar.gz
``````




---

archive/issue_comments_343522.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI am now getting this crash (looks like an upstream problem):\n\n```\nsage: ieqs = [[0, 2, 0, -1, 0, 0, 0, 0, 0], [0, 0, 2, 0, -1, 0, 0, 0, 0],\n....:         [1, -1, 0, 2, -1, 0, 0, 0, 0], [0, 0, -1, -1, 2, -1, 0, 0, 0],\n....:         [0, 0, 0, 0, -1, 2, -1, 0, 0], [0, 0, 0, 0, 0, -1, 2, -1, 0],\n....:         [0, 0, 0, 0, 0, 0, -1, 2, -1], [2, 0, 0, 0, 0, 0, 0, -1, 2],\n....:         [0, -1, 0, 0, 0, 0, 0, 0, 0], [0, 0, -1, 0, 0, 0, 0, 0, 0],\n....:         [0, 0, 0, -1, 0, 0, 0, 0, 0], [0, 0, 0, 0, -1, 0, 0, 0, 0],\n....:         [0, 0, 0, 0, 0, -1, 0, 0, 0], [0, 0, 0, 0, 0, 0, -1, 0, 0],\n....:         [0, 0, 0, 0, 0, 0, 0, -1, 0], [0, 0, 0, 0, 0, 0, 0, 0, -1],\n....:         [-1, -1, -1, -1, -1, -1, -1, -1, -1], [3, 1, 0, 0, 0, 0, 0, 0, 0],\n....:         [4, 0, 1, 0, 0, 0, 0, 0, 0], [6, 0, 0, 1, 0, 0, 0, 0, 0],\n....:         [8, 0, 0, 0, 1, 0, 0, 0, 0], [6, 0, 0, 0, 0, 1, 0, 0, 0],\n....:         [4, 0, 0, 0, 0, 0, 1, 0, 0], [2, 0, 0, 0, 0, 0, 0, 1, 0],\n....:         [0, 0, 0, 0, 0, 0, 0, 0, 1]]\nsage: P = Polyhedron(ieqs=ieqs, backend='normaliz')\nsage: P.integral_points()\npython2: ./libnormaliz/matrix.cpp:2901: libnormaliz::Matrix<Integer> libnormaliz::Matrix<Integer>::LLL_red(libnormaliz::Matrix<Integer>&, libnormaliz::Matrix<Integer>&) const [with Integer = double]: Assertion `(int) rank()==n' failed.\n------------------------------------------------------------------------\n/home/travis/sage-build/local/lib/python2.7/site-packages/cysignals/signals.so(+0x574b)[0x7fa5afdf274b]\n/home/travis/sage-build/local/lib/python2.7/site-packages/cysignals/signals.so(+0x57b5)[0x7fa5afdf27b5]\n/home/travis/sage-build/local/lib/python2.7/site-packages/cysignals/signals.so(+0x849a)[0x7fa5afdf549a]\n/lib/x86_64-linux-gnu/libpthread.so.0(+0x11390)[0x7fa5bcd37390]\n/lib/x86_64-linux-gnu/libc.so.6(gsignal+0x38)[0x7fa5bc991428]\n/lib/x86_64-linux-gnu/libc.so.6(abort+0x16a)[0x7fa5bc99302a]\n/lib/x86_64-linux-gnu/libc.so.6(+0x2dbd7)[0x7fa5bc989bd7]\n/lib/x86_64-linux-gnu/libc.so.6(+0x2dc82)[0x7fa5bc989c82]\n/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZNK11libnormaliz6MatrixIdE7LLL_redERS1_S2_+0x5b9)[0x7fa47314f4a9]\n/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZNK11libnormaliz6MatrixIdE17LLL_red_transposeERS1_S2_+0x83)[0x7fa47314fdc3]\n/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZN11libnormaliz15LLL_coordinatesIxdEENS_25Sublattice_RepresentationIT_EERKNS_6MatrixIT0_EE+0x56)[0x7fa4730cfde6]\n/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZN11libnormaliz31LLL_coordinates_without_1st_colIxxEEvRNS_25Sublattice_RepresentationIT_EENS_6MatrixIT0_EES7_b+0x291)[0x7fa4730d0881]\n/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZN11libnormaliz14ProjectAndLiftIxxE7computeEbb+0x194)[0x7fa473104e54]\n/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZN11libnormaliz4ConeI10__gmp_exprIA1_12__mpz_structS3_EE16project_and_liftERNS_14ConePropertiesERNS_6MatrixIS4_EERKS9_SA_b+0x839)[0x7fa473179b69]\n/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZN11libnormaliz4ConeI10__gmp_exprIA1_12__mpz_structS3_EE31try_approximation_or_projectionERNS_14ConePropertiesE+0xf00)[0x7fa4731f5370]\n/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZN11libnormaliz4ConeI10__gmp_exprIA1_12__mpz_structS3_EE7computeENS_14ConePropertiesE+0x1e1)[0x7fa4731e8671]\n/home/travis/sage-build/local/lib/python2.7/site-packages/PyNormaliz_cpp.so(_Z14_NmzResultImplI10__gmp_exprIA1_12__mpz_structS2_EEP7_objectPN11libnormaliz4ConeIT_EES5_+0x75)[0x7fa4734f6cc5]\n/home/travis/sage-build/local/lib/python2.7/site-packages/PyNormaliz_cpp.so(_Z10_NmzResultP7_objectS0_+0x150)[0x7fa4734ed890]\n```\nOriginally found by\n\n```\nsage: RC = RiggedConfigurations(['E',8,1], [[3,2]])\nsage: len(RC.module_generators)\npython2: ./libnormaliz/matrix.cpp:2901: libnormaliz::Matrix<Integer> libnormaliz::Matrix<Integer>::LLL_red(libnormaliz::Matrix<Integer>&, libnormaliz::Matrix<Integer>&) const [with Integer = double]: Assertion `(int) rank()==n' failed.\n```\n(Mathematical note, through trying to find a smaller example, I am noticing that E<sub>8</sub><sup>(1)</sup> is special in that it is the only place where I see non-full-dimensional non-empty polytopes in my computations. Well, I also see a 0-dimensional polytope for type D<sub>4</sub><sup>(3)</sup>, but that doesn't cause a crash as it is likely special-cased.)\n\n---\n\nAlso can you update the comment before `--enable-flint` to also say you enable flint as it is part of the standard packages of Sage?",
    "created_at": "2018-03-03T23:52:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343522",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:12" align="right">comment:12</div>

I am now getting this crash (looks like an upstream problem):

```
sage: ieqs = [[0, 2, 0, -1, 0, 0, 0, 0, 0], [0, 0, 2, 0, -1, 0, 0, 0, 0],
....:         [1, -1, 0, 2, -1, 0, 0, 0, 0], [0, 0, -1, -1, 2, -1, 0, 0, 0],
....:         [0, 0, 0, 0, -1, 2, -1, 0, 0], [0, 0, 0, 0, 0, -1, 2, -1, 0],
....:         [0, 0, 0, 0, 0, 0, -1, 2, -1], [2, 0, 0, 0, 0, 0, 0, -1, 2],
....:         [0, -1, 0, 0, 0, 0, 0, 0, 0], [0, 0, -1, 0, 0, 0, 0, 0, 0],
....:         [0, 0, 0, -1, 0, 0, 0, 0, 0], [0, 0, 0, 0, -1, 0, 0, 0, 0],
....:         [0, 0, 0, 0, 0, -1, 0, 0, 0], [0, 0, 0, 0, 0, 0, -1, 0, 0],
....:         [0, 0, 0, 0, 0, 0, 0, -1, 0], [0, 0, 0, 0, 0, 0, 0, 0, -1],
....:         [-1, -1, -1, -1, -1, -1, -1, -1, -1], [3, 1, 0, 0, 0, 0, 0, 0, 0],
....:         [4, 0, 1, 0, 0, 0, 0, 0, 0], [6, 0, 0, 1, 0, 0, 0, 0, 0],
....:         [8, 0, 0, 0, 1, 0, 0, 0, 0], [6, 0, 0, 0, 0, 1, 0, 0, 0],
....:         [4, 0, 0, 0, 0, 0, 1, 0, 0], [2, 0, 0, 0, 0, 0, 0, 1, 0],
....:         [0, 0, 0, 0, 0, 0, 0, 0, 1]]
sage: P = Polyhedron(ieqs=ieqs, backend='normaliz')
sage: P.integral_points()
python2: ./libnormaliz/matrix.cpp:2901: libnormaliz::Matrix<Integer> libnormaliz::Matrix<Integer>::LLL_red(libnormaliz::Matrix<Integer>&, libnormaliz::Matrix<Integer>&) const [with Integer = double]: Assertion `(int) rank()==n' failed.
------------------------------------------------------------------------
/home/travis/sage-build/local/lib/python2.7/site-packages/cysignals/signals.so(+0x574b)[0x7fa5afdf274b]
/home/travis/sage-build/local/lib/python2.7/site-packages/cysignals/signals.so(+0x57b5)[0x7fa5afdf27b5]
/home/travis/sage-build/local/lib/python2.7/site-packages/cysignals/signals.so(+0x849a)[0x7fa5afdf549a]
/lib/x86_64-linux-gnu/libpthread.so.0(+0x11390)[0x7fa5bcd37390]
/lib/x86_64-linux-gnu/libc.so.6(gsignal+0x38)[0x7fa5bc991428]
/lib/x86_64-linux-gnu/libc.so.6(abort+0x16a)[0x7fa5bc99302a]
/lib/x86_64-linux-gnu/libc.so.6(+0x2dbd7)[0x7fa5bc989bd7]
/lib/x86_64-linux-gnu/libc.so.6(+0x2dc82)[0x7fa5bc989c82]
/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZNK11libnormaliz6MatrixIdE7LLL_redERS1_S2_+0x5b9)[0x7fa47314f4a9]
/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZNK11libnormaliz6MatrixIdE17LLL_red_transposeERS1_S2_+0x83)[0x7fa47314fdc3]
/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZN11libnormaliz15LLL_coordinatesIxdEENS_25Sublattice_RepresentationIT_EERKNS_6MatrixIT0_EE+0x56)[0x7fa4730cfde6]
/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZN11libnormaliz31LLL_coordinates_without_1st_colIxxEEvRNS_25Sublattice_RepresentationIT_EENS_6MatrixIT0_EES7_b+0x291)[0x7fa4730d0881]
/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZN11libnormaliz14ProjectAndLiftIxxE7computeEbb+0x194)[0x7fa473104e54]
/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZN11libnormaliz4ConeI10__gmp_exprIA1_12__mpz_structS3_EE16project_and_liftERNS_14ConePropertiesERNS_6MatrixIS4_EERKS9_SA_b+0x839)[0x7fa473179b69]
/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZN11libnormaliz4ConeI10__gmp_exprIA1_12__mpz_structS3_EE31try_approximation_or_projectionERNS_14ConePropertiesE+0xf00)[0x7fa4731f5370]
/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZN11libnormaliz4ConeI10__gmp_exprIA1_12__mpz_structS3_EE7computeENS_14ConePropertiesE+0x1e1)[0x7fa4731e8671]
/home/travis/sage-build/local/lib/python2.7/site-packages/PyNormaliz_cpp.so(_Z14_NmzResultImplI10__gmp_exprIA1_12__mpz_structS2_EEP7_objectPN11libnormaliz4ConeIT_EES5_+0x75)[0x7fa4734f6cc5]
/home/travis/sage-build/local/lib/python2.7/site-packages/PyNormaliz_cpp.so(_Z10_NmzResultP7_objectS0_+0x150)[0x7fa4734ed890]
```
Originally found by

```
sage: RC = RiggedConfigurations(['E',8,1], [[3,2]])
sage: len(RC.module_generators)
python2: ./libnormaliz/matrix.cpp:2901: libnormaliz::Matrix<Integer> libnormaliz::Matrix<Integer>::LLL_red(libnormaliz::Matrix<Integer>&, libnormaliz::Matrix<Integer>&) const [with Integer = double]: Assertion `(int) rank()==n' failed.
```
(Mathematical note, through trying to find a smaller example, I am noticing that E<sub>8</sub><sup>(1)</sup> is special in that it is the only place where I see non-full-dimensional non-empty polytopes in my computations. Well, I also see a 0-dimensional polytope for type D<sub>4</sub><sup>(3)</sup>, but that doesn't cause a crash as it is likely special-cased.)

---

Also can you update the comment before `--enable-flint` to also say you enable flint as it is part of the standard packages of Sage?



---

archive/issue_comments_343523.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2018-03-03T23:52:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343523",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_events_322063.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-03-03T23:52:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322063"
}
```



---

archive/issue_events_322064.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-03-03T23:52:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322064"
}
```



---

archive/issue_comments_343524.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b8f7abc04085155225e54ad168ce4a7884fdd6cf\"><code>b8f7abc</code></a></td><td><code>normaliz/spkg-install: Explain --enable-flint</code></td></tr></table>\n",
    "created_at": "2018-03-04T00:06:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343524",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b8f7abc04085155225e54ad168ce4a7884fdd6cf"><code>b8f7abc</code></a></td><td><code>normaliz/spkg-install: Explain --enable-flint</code></td></tr></table>




---

archive/issue_comments_343525.json:
```json
{
    "body": "Changed commit from **[`f2137cc`](https://github.com/sagemath/sagetrac-mirror/commit/f2137cc5bb49278657ce23f0f8c775400b494023)** to **[`b8f7abc`](https://github.com/sagemath/sagetrac-mirror/commit/b8f7abc04085155225e54ad168ce4a7884fdd6cf)**",
    "created_at": "2018-03-04T00:06:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343525",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f2137cc`](https://github.com/sagemath/sagetrac-mirror/commit/f2137cc5bb49278657ce23f0f8c775400b494023)** to **[`b8f7abc`](https://github.com/sagemath/sagetrac-mirror/commit/b8f7abc04085155225e54ad168ce4a7884fdd6cf)**



---

archive/issue_comments_343526.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI can confirm this crash. Here on Mac OS X, this actually becomes an unhandled SIGABRT:\n\n```\nAssertion failed: ((int) rank()==n), function LLL_red, file ./libnormaliz/matrix.cpp, line 2901.\n------------------------------------------------------------------------\n0   signals.so                          0x000000010af572d8 print_backtrace + 40\n1   ???                                 0x000000010dcac1e0 0x0 + 4526359008\n------------------------------------------------------------------------\nUnhandled SIGABRT: An abort() occurred.\nThis probably occurred because a *compiled* module has a bug\nin it and is not properly wrapped with sig_on(), sig_off().\nPython will now terminate.\n```",
    "created_at": "2018-03-04T00:24:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343526",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">comment:14</div>

I can confirm this crash. Here on Mac OS X, this actually becomes an unhandled SIGABRT:

```
Assertion failed: ((int) rank()==n), function LLL_red, file ./libnormaliz/matrix.cpp, line 2901.
------------------------------------------------------------------------
0   signals.so                          0x000000010af572d8 print_backtrace + 40
1   ???                                 0x000000010dcac1e0 0x0 + 4526359008
------------------------------------------------------------------------
Unhandled SIGABRT: An abort() occurred.
This probably occurred because a *compiled* module has a bug
in it and is not properly wrapped with sig_on(), sig_off().
Python will now terminate.
```



---

archive/issue_comments_343527.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nUpstream master branch (8db5b68491a105b9185a01c29c2f126f5115e238) has different behavior but does not fix this.",
    "created_at": "2018-03-04T03:57:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343527",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:15" align="right">comment:15</div>

Upstream master branch (8db5b68491a105b9185a01c29c2f126f5115e238) has different behavior but does not fix this.



---

archive/issue_comments_343528.json:
```json
{
    "body": "Changed reviewer from **Travis Scrimshaw** to **Travis Scrimshaw, Thierry Monteil**",
    "created_at": "2018-03-04T10:02:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343528",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Changed reviewer from **Travis Scrimshaw** to **Travis Scrimshaw, Thierry Monteil**



---

archive/issue_comments_343529.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nI confirm that the packages build and pass self-tests and doctests correctly on both 64 and 32 bit architectures on Debian stretch. I also comfirm that there is a crash on both architectures regarding the test provided by Travis (which should be added in our doctests, once the issue is fixed).",
    "created_at": "2018-03-04T10:02:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343529",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:16" align="right">comment:16</div>

I confirm that the packages build and pass self-tests and doctests correctly on both 64 and 32 bit architectures on Debian stretch. I also comfirm that there is a crash on both architectures regarding the test provided by Travis (which should be added in our doctests, once the issue is fixed).



---

archive/issue_comments_343530.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nI am not sure what the matrix ieqs represents. My interpretation: inhomogeneous inequalities, and we want to compute the lattice points in the polytope they define. Under this assumption I have made a Normaliz input file rash.in\n\n```\namb_space auto\ninhom_inequalities\n[[0, 2, 0, -1, 0, 0, 0, 0, 0],\n...\n[0, 0, 0, 0, 0, 0, 0, 0, 1]]\nHilbertBasis\n```\n\nThen a run of \n\n```\nnormaliz -c crash.in\n```\n\nfinishes without any problems in 3.5.1 and the intended 3.5.2. It turns out that the polytope is empty:\n\n```\n0 module generators\n1252 Hilbert basis elements of recession monoid\n0 vertices of polyhedron\n39 extreme rays of recession cone\n11 support hyperplanes of polyhedron (homogenized)\n\nembedding dimension = 9\naffine dimension of the polyhedron = -1\nrank of recession monoid = 8\n...\n```\n\nIs my interpretation of the input correct?",
    "created_at": "2018-03-04T16:44:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343530",
    "user": "https://github.com/w-bruns"
}
```

<div id="comment:17" align="right">comment:17</div>

I am not sure what the matrix ieqs represents. My interpretation: inhomogeneous inequalities, and we want to compute the lattice points in the polytope they define. Under this assumption I have made a Normaliz input file rash.in

```
amb_space auto
inhom_inequalities
[[0, 2, 0, -1, 0, 0, 0, 0, 0],
...
[0, 0, 0, 0, 0, 0, 0, 0, 1]]
HilbertBasis
```

Then a run of 

```
normaliz -c crash.in
```

finishes without any problems in 3.5.1 and the intended 3.5.2. It turns out that the polytope is empty:

```
0 module generators
1252 Hilbert basis elements of recession monoid
0 vertices of polyhedron
39 extreme rays of recession cone
11 support hyperplanes of polyhedron (homogenized)

embedding dimension = 9
affine dimension of the polyhedron = -1
rank of recession monoid = 8
...
```

Is my interpretation of the input correct?



---

archive/issue_comments_343531.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nOf course, if the matrix represents inhomogeneous inequalities, what is the RHS? My input above assumes it is the last coordinate. I will now try with the first.",
    "created_at": "2018-03-04T16:48:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343531",
    "user": "https://github.com/w-bruns"
}
```

<div id="comment:18" align="right">comment:18</div>

Of course, if the matrix represents inhomogeneous inequalities, what is the RHS? My input above assumes it is the last coordinate. I will now try with the first.



---

archive/issue_comments_343532.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nUnfortunately Normaliz crashes when coordinate 1 is interpreted as the RHS. Will take care of it.",
    "created_at": "2018-03-04T17:18:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343532",
    "user": "https://github.com/w-bruns"
}
```

<div id="comment:19" align="right">comment:19</div>

Unfortunately Normaliz crashes when coordinate 1 is interpreted as the RHS. Will take care of it.



---

archive/issue_comments_343533.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThe problem is solved. Replace line 323 of source/libnormaliz/sublattice_representation.h\n\nby\n\n```\n    if(Vertices.nr_of_rows()==0 || Vertices.rank()<EmbDim){ // use Supps for LLL coordinates\n```\n\ni.e., delete \"-1\" in this line.",
    "created_at": "2018-03-04T20:26:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343533",
    "user": "https://github.com/w-bruns"
}
```

<div id="comment:20" align="right">comment:20</div>

The problem is solved. Replace line 323 of source/libnormaliz/sublattice_representation.h

by

```
    if(Vertices.nr_of_rows()==0 || Vertices.rank()<EmbDim){ // use Supps for LLL coordinates
```

i.e., delete "-1" in this line.



---

archive/issue_comments_343534.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,3 +4,4 @@\n - https://github.com/Normaliz/Normaliz/releases/download/v3.5.1/normaliz-3.5.1.tar.gz\n - https://pypi.python.org/packages/47/99/c9043d8392f99c9c4013eb82ce931f75ef64d6fd665cd8d008ce80be881e/PyNormaliz-1.10.tar.gz#md5=89b212de8e833205b9776b1ef90c3585\n \n+Upstream bug: https://github.com/Normaliz/Normaliz/issues/176\n``````\n",
    "created_at": "2018-03-04T22:42:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343534",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,3 +4,4 @@
 - https://github.com/Normaliz/Normaliz/releases/download/v3.5.1/normaliz-3.5.1.tar.gz
 - https://pypi.python.org/packages/47/99/c9043d8392f99c9c4013eb82ce931f75ef64d6fd665cd8d008ce80be881e/PyNormaliz-1.10.tar.gz#md5=89b212de8e833205b9776b1ef90c3585
 
+Upstream bug: https://github.com/Normaliz/Normaliz/issues/176
``````




---

archive/issue_comments_343535.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@w-bruns](#comment:20):\n> The problem is solved. Replace line 323 of source/libnormaliz/sublattice_representation.h\n> \n> by\n> \n> ```\n>     if(Vertices.nr_of_rows()==0 || Vertices.rank()<EmbDim){ // use Supps for LLL coordinates\n> ```\n> \n> i.e., delete \"-1\" in this line.\n\nGreat, thank you for figuring it out. I am guessing you are in the process of making a commit upstream or should I do a pull request?",
    "created_at": "2018-03-04T22:42:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343535",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@w-bruns](#comment:20):
> The problem is solved. Replace line 323 of source/libnormaliz/sublattice_representation.h
> 
> by
> 
> ```
>     if(Vertices.nr_of_rows()==0 || Vertices.rank()<EmbDim){ // use Supps for LLL coordinates
> ```
> 
> i.e., delete "-1" in this line.

Great, thank you for figuring it out. I am guessing you are in the process of making a commit upstream or should I do a pull request?



---

archive/issue_comments_343536.json:
```json
{
    "body": "Upstream: **Reported upstream. Developers acknowledge bug.**",
    "created_at": "2018-03-04T22:42:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343536",
    "user": "https://github.com/tscrim"
}
```

Upstream: **Reported upstream. Developers acknowledge bug.**



---

archive/issue_comments_343537.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI've pushed a branch with a fix for this problem. However, I have now come across another crash:\n\n```\nsage: RC = RiggedConfigurations(['E',8,1], [[4,2]])\nsage: len(RC.module_generators)\npython2: ./libnormaliz/project_and_lift.cpp:75: std::vector<long unsigned int> libnormaliz::ProjectAndLift<IntegerPL, IntegerRet>::order_supps(const libnormaliz::Matrix<Integer>&) [with IntegerPL = long long int; IntegerRet = long long int]: Assertion `Supps.nr_of_rows()>0' failed.\n------------------------------------------------------------------------\n```\nI have verified that this did at least not crash before (well, up to my patience level of 2 minutes).\n\nHowever, **much** more worrying is this:\n\n```\nsage: RC = RiggedConfigurations(['E',8,1], [[5,2]])\nsage: %time len(RC.module_generators)\nCPU times: user 25 s, sys: 52 ms, total: 25 s\nWall time: 6.95 s\n6009\n```\nversus before\n\n```\nsage: RC = RiggedConfigurations(['E',8,1], [[5,2]])\nsage: %time len(RC.module_generators)\nCPU times: user 1min 11s, sys: 320 ms, total: 1min 11s\nWall time: 14.6 s\n7066\n```\nAlthough the `[5,1]` example both returns 75.\n\nI will extract the polytopes and find out which one gives a different number of lattice points. Give me a few minutes.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9f17a432b4d669ce88a963de93bbc2677b552be\"><code>f9f17a4</code></a></td><td><code>Added patch to fix upstream issue #176.</code></td></tr></table>\n",
    "created_at": "2018-03-04T23:10:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343537",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:22" align="right">comment:22</div>

I've pushed a branch with a fix for this problem. However, I have now come across another crash:

```
sage: RC = RiggedConfigurations(['E',8,1], [[4,2]])
sage: len(RC.module_generators)
python2: ./libnormaliz/project_and_lift.cpp:75: std::vector<long unsigned int> libnormaliz::ProjectAndLift<IntegerPL, IntegerRet>::order_supps(const libnormaliz::Matrix<Integer>&) [with IntegerPL = long long int; IntegerRet = long long int]: Assertion `Supps.nr_of_rows()>0' failed.
------------------------------------------------------------------------
```
I have verified that this did at least not crash before (well, up to my patience level of 2 minutes).

However, **much** more worrying is this:

```
sage: RC = RiggedConfigurations(['E',8,1], [[5,2]])
sage: %time len(RC.module_generators)
CPU times: user 25 s, sys: 52 ms, total: 25 s
Wall time: 6.95 s
6009
```
versus before

```
sage: RC = RiggedConfigurations(['E',8,1], [[5,2]])
sage: %time len(RC.module_generators)
CPU times: user 1min 11s, sys: 320 ms, total: 1min 11s
Wall time: 14.6 s
7066
```
Although the `[5,1]` example both returns 75.

I will extract the polytopes and find out which one gives a different number of lattice points. Give me a few minutes.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9f17a432b4d669ce88a963de93bbc2677b552be"><code>f9f17a4</code></a></td><td><code>Added patch to fix upstream issue #176.</code></td></tr></table>




---

archive/issue_comments_343538.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/upgrade_normaliz_to_3_4_0_and_pynormaliz_to_1_7](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_normaliz_to_3_4_0_and_pynormaliz_to_1_7)** to **[u/tscrim/upgrade_noramliz_pynormaliz-22984](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/upgrade_noramliz_pynormaliz-22984)**",
    "created_at": "2018-03-04T23:10:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343538",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/mkoeppe/upgrade_normaliz_to_3_4_0_and_pynormaliz_to_1_7](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_normaliz_to_3_4_0_and_pynormaliz_to_1_7)** to **[u/tscrim/upgrade_noramliz_pynormaliz-22984](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/upgrade_noramliz_pynormaliz-22984)**



---

archive/issue_comments_343539.json:
```json
{
    "body": "Changed commit from **[`b8f7abc`](https://github.com/sagemath/sagetrac-mirror/commit/b8f7abc04085155225e54ad168ce4a7884fdd6cf)** to **[`f9f17a4`](https://github.com/sagemath/sagetrac-mirror/commit/f9f17a432b4d669ce88a963de93bbc2677b552be)**",
    "created_at": "2018-03-04T23:10:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343539",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[`b8f7abc`](https://github.com/sagemath/sagetrac-mirror/commit/b8f7abc04085155225e54ad168ce4a7884fdd6cf)** to **[`f9f17a4`](https://github.com/sagemath/sagetrac-mirror/commit/f9f17a432b4d669ce88a963de93bbc2677b552be)**



---

archive/issue_comments_343540.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nOkay, here is the `[4,1]` computation to completion:\n\n```\nsage: RC = RiggedConfigurations(['E',8,1], [[4,2]])\nsage: %time len(RC.module_generators)\nCPU times: user 19min 37s, sys: 5.2 s, total: 19min 42s\nWall time: 4min 37s\n288299\n```",
    "created_at": "2018-03-04T23:19:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343540",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:23" align="right">comment:23</div>

Okay, here is the `[4,1]` computation to completion:

```
sage: RC = RiggedConfigurations(['E',8,1], [[4,2]])
sage: %time len(RC.module_generators)
CPU times: user 19min 37s, sys: 5.2 s, total: 19min 42s
Wall time: 4min 37s
288299
```



---

archive/issue_comments_343541.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nOkay, here is at least the first polytope that goes wrong:\n\n```\nsage: ieqs = [[0, 2, 0, -1, 0, 0, 0, 0, 0],\n....:         [0, 0, 2, 0, -1, 0, 0, 0, 0],\n....:         [1, -1, 0, 2, -1, 0, 0, 0, 0],\n....:         [0, 0, -1, -1, 2, -1, 0, 0, 0],\n....:         [0, 0, 0, 0, -1, 2, -1, 0, 0],\n....:         [0, 0, 0, 0, 0, -1, 2, -1, 0],\n....:         [1, 0, 0, 0, 0, 0, -1, 2, -1],\n....:         [0, 0, 0, 0, 0, 0, 0, -1, 2],\n....:         [0, -1, 0, 0, 0, 0, 0, 0, 0],\n....:         [0, 0, -1, 0, 0, 0, 0, 0, 0],\n....:         [0, 0, 0, -1, 0, 0, 0, 0, 0],\n....:         [0, 0, 0, 0, -1, 0, 0, 0, 0],\n....:         [0, 0, 0, 0, 0, -1, 0, 0, 0],\n....:         [0, 0, 0, 0, 0, 0, -1, 0, 0],\n....:         [0, 0, 0, 0, 0, 0, 0, -1, 0],\n....:         [0, 0, 0, 0, 0, 0, 0, 0, -1],\n....:         [-1, -1, -1, -1, -1, -1, -1, -1, -1],\n....:         [2, 1, 0, 0, 0, 0, 0, 0, 0],\n....:         [4, 0, 1, 0, 0, 0, 0, 0, 0],\n....:         [4, 0, 0, 1, 0, 0, 0, 0, 0],\n....:         [7, 0, 0, 0, 1, 0, 0, 0, 0],\n....:         [6, 0, 0, 0, 0, 1, 0, 0, 0],\n....:         [4, 0, 0, 0, 0, 0, 1, 0, 0],\n....:         [2, 0, 0, 0, 0, 0, 0, 1, 0],\n....:         [1, 0, 0, 0, 0, 0, 0, 0, 1]]\nsage: P = Polyhedron(ieqs=ieqs, backend='normaliz')\nsage: P.integral_points()\n((-2, -2, -4, -5, -4, -3, -2, -1),\n (-2, -2, -4, -5, -4, -3, -2, 0),\n (-1, -2, -3, -4, -3, -2, -2, -1),\n (-1, -2, -3, -4, -3, -2, -1, 0),\n (-1, -1, -2, -2, -2, -2, -2, -1),\n (-1, -1, -2, -2, -1, -1, -1, 0),\n (-1, -1, -2, -2, -1, 0, 0, 0),\n (-1, 0, -2, -2, -2, -2, -2, -1),\n (0, -1, -1, -2, -2, -2, -2, -1),\n (0, 0, -1, -1, -1, -1, -1, 0))\nsage: P\nA 8-dimensional polyhedron in QQ^8 defined as the convex hull of 134 vertices\n```\nversus the new version with the patch:\n\n```\nsage: P.integral_points()\n((-1, -2, -3, -4, -3, -2, -1, 0), (0, -1, -1, -2, -2, -2, -2, -1))\n```",
    "created_at": "2018-03-04T23:39:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343541",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:24" align="right">comment:24</div>

Okay, here is at least the first polytope that goes wrong:

```
sage: ieqs = [[0, 2, 0, -1, 0, 0, 0, 0, 0],
....:         [0, 0, 2, 0, -1, 0, 0, 0, 0],
....:         [1, -1, 0, 2, -1, 0, 0, 0, 0],
....:         [0, 0, -1, -1, 2, -1, 0, 0, 0],
....:         [0, 0, 0, 0, -1, 2, -1, 0, 0],
....:         [0, 0, 0, 0, 0, -1, 2, -1, 0],
....:         [1, 0, 0, 0, 0, 0, -1, 2, -1],
....:         [0, 0, 0, 0, 0, 0, 0, -1, 2],
....:         [0, -1, 0, 0, 0, 0, 0, 0, 0],
....:         [0, 0, -1, 0, 0, 0, 0, 0, 0],
....:         [0, 0, 0, -1, 0, 0, 0, 0, 0],
....:         [0, 0, 0, 0, -1, 0, 0, 0, 0],
....:         [0, 0, 0, 0, 0, -1, 0, 0, 0],
....:         [0, 0, 0, 0, 0, 0, -1, 0, 0],
....:         [0, 0, 0, 0, 0, 0, 0, -1, 0],
....:         [0, 0, 0, 0, 0, 0, 0, 0, -1],
....:         [-1, -1, -1, -1, -1, -1, -1, -1, -1],
....:         [2, 1, 0, 0, 0, 0, 0, 0, 0],
....:         [4, 0, 1, 0, 0, 0, 0, 0, 0],
....:         [4, 0, 0, 1, 0, 0, 0, 0, 0],
....:         [7, 0, 0, 0, 1, 0, 0, 0, 0],
....:         [6, 0, 0, 0, 0, 1, 0, 0, 0],
....:         [4, 0, 0, 0, 0, 0, 1, 0, 0],
....:         [2, 0, 0, 0, 0, 0, 0, 1, 0],
....:         [1, 0, 0, 0, 0, 0, 0, 0, 1]]
sage: P = Polyhedron(ieqs=ieqs, backend='normaliz')
sage: P.integral_points()
((-2, -2, -4, -5, -4, -3, -2, -1),
 (-2, -2, -4, -5, -4, -3, -2, 0),
 (-1, -2, -3, -4, -3, -2, -2, -1),
 (-1, -2, -3, -4, -3, -2, -1, 0),
 (-1, -1, -2, -2, -2, -2, -2, -1),
 (-1, -1, -2, -2, -1, -1, -1, 0),
 (-1, -1, -2, -2, -1, 0, 0, 0),
 (-1, 0, -2, -2, -2, -2, -2, -1),
 (0, -1, -1, -2, -2, -2, -2, -1),
 (0, 0, -1, -1, -1, -1, -1, 0))
sage: P
A 8-dimensional polyhedron in QQ^8 defined as the convex hull of 134 vertices
```
versus the new version with the patch:

```
sage: P.integral_points()
((-1, -2, -3, -4, -3, -2, -1, 0), (0, -1, -1, -2, -2, -2, -2, -1))
```



---

archive/issue_comments_343542.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nHere's also the example that causes the new crash:\n\n```\nsage: ieqs = [[0, 2, 0, -1, 0, 0, 0, 0, 0],\n....:         [0, 0, 2, 0, -1, 0, 0, 0, 0],\n....:         [0, -1, 0, 2, -1, 0, 0, 0, 0],\n....:         [1, 0, -1, -1, 2, -1, 0, 0, 0],\n....:         [0, 0, 0, 0, -1, 2, -1, 0, 0],\n....:         [0, 0, 0, 0, 0, -1, 2, -1, 0],\n....:         [1, 0, 0, 0, 0, 0, -1, 2, -1],\n....:         [0, 0, 0, 0, 0, 0, 0, -1, 2],\n....:         [0, -1, 0, 0, 0, 0, 0, 0, 0],\n....:         [0, 0, -1, 0, 0, 0, 0, 0, 0],\n....:         [0, 0, 0, -1, 0, 0, 0, 0, 0],\n....:         [0, 0, 0, 0, -1, 0, 0, 0, 0],\n....:         [0, 0, 0, 0, 0, -1, 0, 0, 0],\n....:         [0, 0, 0, 0, 0, 0, -1, 0, 0],\n....:         [0, 0, 0, 0, 0, 0, 0, -1, 0],\n....:         [0, 0, 0, 0, 0, 0, 0, 0, -1],\n....:         [-1, -1, -1, -1, -1, -1, -1, -1, -1],\n....:         [3, 1, 0, 0, 0, 0, 0, 0, 0],\n....:         [4, 0, 1, 0, 0, 0, 0, 0, 0],\n....:         [6, 0, 0, 1, 0, 0, 0, 0, 0],\n....:         [8, 0, 0, 0, 1, 0, 0, 0, 0],\n....:         [6, 0, 0, 0, 0, 1, 0, 0, 0],\n....:         [4, 0, 0, 0, 0, 0, 1, 0, 0],\n....:         [2, 0, 0, 0, 0, 0, 0, 1, 0],\n....:         [1, 0, 0, 0, 0, 0, 0, 0, 1]]\nsage: P = Polyhedron(ieqs=ieqs, backend='normaliz')\nsage: P.integral_points()\npython2: ./libnormaliz/project_and_lift.cpp:75: std::vector<long unsigned int> libnormaliz::ProjectAndLift<IntegerPL, IntegerRet>::order_supps(const libnormaliz::Matrix<Integer>&) [with IntegerPL = long long int; IntegerRet = long long int]: Assertion `Supps.nr_of_rows()>0' failed.\n------------------------------------------------------------------------\n```",
    "created_at": "2018-03-04T23:46:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343542",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:25" align="right">comment:25</div>

Here's also the example that causes the new crash:

```
sage: ieqs = [[0, 2, 0, -1, 0, 0, 0, 0, 0],
....:         [0, 0, 2, 0, -1, 0, 0, 0, 0],
....:         [0, -1, 0, 2, -1, 0, 0, 0, 0],
....:         [1, 0, -1, -1, 2, -1, 0, 0, 0],
....:         [0, 0, 0, 0, -1, 2, -1, 0, 0],
....:         [0, 0, 0, 0, 0, -1, 2, -1, 0],
....:         [1, 0, 0, 0, 0, 0, -1, 2, -1],
....:         [0, 0, 0, 0, 0, 0, 0, -1, 2],
....:         [0, -1, 0, 0, 0, 0, 0, 0, 0],
....:         [0, 0, -1, 0, 0, 0, 0, 0, 0],
....:         [0, 0, 0, -1, 0, 0, 0, 0, 0],
....:         [0, 0, 0, 0, -1, 0, 0, 0, 0],
....:         [0, 0, 0, 0, 0, -1, 0, 0, 0],
....:         [0, 0, 0, 0, 0, 0, -1, 0, 0],
....:         [0, 0, 0, 0, 0, 0, 0, -1, 0],
....:         [0, 0, 0, 0, 0, 0, 0, 0, -1],
....:         [-1, -1, -1, -1, -1, -1, -1, -1, -1],
....:         [3, 1, 0, 0, 0, 0, 0, 0, 0],
....:         [4, 0, 1, 0, 0, 0, 0, 0, 0],
....:         [6, 0, 0, 1, 0, 0, 0, 0, 0],
....:         [8, 0, 0, 0, 1, 0, 0, 0, 0],
....:         [6, 0, 0, 0, 0, 1, 0, 0, 0],
....:         [4, 0, 0, 0, 0, 0, 1, 0, 0],
....:         [2, 0, 0, 0, 0, 0, 0, 1, 0],
....:         [1, 0, 0, 0, 0, 0, 0, 0, 1]]
sage: P = Polyhedron(ieqs=ieqs, backend='normaliz')
sage: P.integral_points()
python2: ./libnormaliz/project_and_lift.cpp:75: std::vector<long unsigned int> libnormaliz::ProjectAndLift<IntegerPL, IntegerRet>::order_supps(const libnormaliz::Matrix<Integer>&) [with IntegerPL = long long int; IntegerRet = long long int]: Assertion `Supps.nr_of_rows()>0' failed.
------------------------------------------------------------------------
```



---

archive/issue_comments_343543.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nA hint: If you use `P = Polyhedron(ieqs=ieqs, backend='normaliz', verbose=True)`, the `PyNormaliz` invocations are shown, making it easier for upstream",
    "created_at": "2018-03-04T23:52:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343543",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:26" align="right">comment:26</div>

A hint: If you use `P = Polyhedron(ieqs=ieqs, backend='normaliz', verbose=True)`, the `PyNormaliz` invocations are shown, making it easier for upstream



---

archive/issue_comments_343544.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nI wasn't aware of that, thank you. Although it does not yield much more information on the new crash:\n\n```\nsage: P = Polyhedron(ieqs=ieqs, backend='normaliz', verbose=True)\n# Calling PyNormaliz.NmzCone(['inhom_equations', [], 'inhom_inequalities',\n [[2, 0, -1, 0, 0, 0, 0, 0, 0], [0, 2, 0, -1, 0, 0, 0, 0, 0],\n [-1, 0, 2, -1, 0, 0, 0, 0, 0], [0, -1, -1, 2, -1, 0, 0, 0, 1],\n [0, 0, 0, -1, 2, -1, 0, 0, 0], [0, 0, 0, 0, -1, 2, -1, 0, 0],\n [0, 0, 0, 0, 0, -1, 2, -1, 1], [0, 0, 0, 0, 0, 0, -1, 2, 0],\n [-1, 0, 0, 0, 0, 0, 0, 0, 0], [0, -1, 0, 0, 0, 0, 0, 0, 0],\n [0, 0, -1, 0, 0, 0, 0, 0, 0], [0, 0, 0, -1, 0, 0, 0, 0, 0],\n [0, 0, 0, 0, -1, 0, 0, 0, 0], [0, 0, 0, 0, 0, -1, 0, 0, 0],\n [0, 0, 0, 0, 0, 0, -1, 0, 0], [0, 0, 0, 0, 0, 0, 0, -1, 0],\n [-1, -1, -1, -1, -1, -1, -1, -1, -1], [1, 0, 0, 0, 0, 0, 0, 0, 3],\n [0, 1, 0, 0, 0, 0, 0, 0, 4], [0, 0, 1, 0, 0, 0, 0, 0, 6],\n [0, 0, 0, 1, 0, 0, 0, 0, 8], [0, 0, 0, 0, 1, 0, 0, 0, 6],\n [0, 0, 0, 0, 0, 1, 0, 0, 4], [0, 0, 0, 0, 0, 0, 1, 0, 2],\n [0, 0, 0, 0, 0, 0, 0, 1, 1]]])\nsage: P.integral_points()\npython2: ./libnormaliz/project_and_lift.cpp:75: std::vector<long unsigned int> libnormaliz::ProjectAndLift<IntegerPL, IntegerRet>::order_supps(const libnormaliz::Matrix<Integer>&) [with IntegerPL = long long int; IntegerRet = long long int]: Assertion `Supps.nr_of_rows()>0' failed.\n------------------------------------------------------------------------\n```\n\nHere is also the output for the lattice point computation:\n\n```\nsage: P = Polyhedron(ieqs=ieqs, backend='normaliz', verbose=True)\n# Calling PyNormaliz.NmzCone(['inhom_equations', [], 'inhom_inequalities',\n [[2, 0, -1, 0, 0, 0, 0, 0, 0], [0, 2, 0, -1, 0, 0, 0, 0, 0],\n [-1, 0, 2, -1, 0, 0, 0, 0, 1], [0, -1, -1, 2, -1, 0, 0, 0, 0],\n [0, 0, 0, -1, 2, -1, 0, 0, 0], [0, 0, 0, 0, -1, 2, -1, 0, 0],\n [0, 0, 0, 0, 0, -1, 2, -1, 1], [0, 0, 0, 0, 0, 0, -1, 2, 0],\n [-1, 0, 0, 0, 0, 0, 0, 0, 0], [0, -1, 0, 0, 0, 0, 0, 0, 0],\n [0, 0, -1, 0, 0, 0, 0, 0, 0], [0, 0, 0, -1, 0, 0, 0, 0, 0],\n [0, 0, 0, 0, -1, 0, 0, 0, 0], [0, 0, 0, 0, 0, -1, 0, 0, 0],\n [0, 0, 0, 0, 0, 0, -1, 0, 0], [0, 0, 0, 0, 0, 0, 0, -1, 0],\n [-1, -1, -1, -1, -1, -1, -1, -1, -1], [1, 0, 0, 0, 0, 0, 0, 0, 2],\n [0, 1, 0, 0, 0, 0, 0, 0, 4], [0, 0, 1, 0, 0, 0, 0, 0, 4],\n [0, 0, 0, 1, 0, 0, 0, 0, 7], [0, 0, 0, 0, 1, 0, 0, 0, 6],\n [0, 0, 0, 0, 0, 1, 0, 0, 4], [0, 0, 0, 0, 0, 0, 1, 0, 2],\n [0, 0, 0, 0, 0, 0, 0, 1, 1]]])\nsage: P.integral_points()\n((-1, -2, -3, -4, -3, -2, -1, 0), (0, -1, -1, -2, -2, -2, -2, -1))\n```",
    "created_at": "2018-03-05T00:09:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343544",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:27" align="right">comment:27</div>

I wasn't aware of that, thank you. Although it does not yield much more information on the new crash:

```
sage: P = Polyhedron(ieqs=ieqs, backend='normaliz', verbose=True)
# Calling PyNormaliz.NmzCone(['inhom_equations', [], 'inhom_inequalities',
 [[2, 0, -1, 0, 0, 0, 0, 0, 0], [0, 2, 0, -1, 0, 0, 0, 0, 0],
 [-1, 0, 2, -1, 0, 0, 0, 0, 0], [0, -1, -1, 2, -1, 0, 0, 0, 1],
 [0, 0, 0, -1, 2, -1, 0, 0, 0], [0, 0, 0, 0, -1, 2, -1, 0, 0],
 [0, 0, 0, 0, 0, -1, 2, -1, 1], [0, 0, 0, 0, 0, 0, -1, 2, 0],
 [-1, 0, 0, 0, 0, 0, 0, 0, 0], [0, -1, 0, 0, 0, 0, 0, 0, 0],
 [0, 0, -1, 0, 0, 0, 0, 0, 0], [0, 0, 0, -1, 0, 0, 0, 0, 0],
 [0, 0, 0, 0, -1, 0, 0, 0, 0], [0, 0, 0, 0, 0, -1, 0, 0, 0],
 [0, 0, 0, 0, 0, 0, -1, 0, 0], [0, 0, 0, 0, 0, 0, 0, -1, 0],
 [-1, -1, -1, -1, -1, -1, -1, -1, -1], [1, 0, 0, 0, 0, 0, 0, 0, 3],
 [0, 1, 0, 0, 0, 0, 0, 0, 4], [0, 0, 1, 0, 0, 0, 0, 0, 6],
 [0, 0, 0, 1, 0, 0, 0, 0, 8], [0, 0, 0, 0, 1, 0, 0, 0, 6],
 [0, 0, 0, 0, 0, 1, 0, 0, 4], [0, 0, 0, 0, 0, 0, 1, 0, 2],
 [0, 0, 0, 0, 0, 0, 0, 1, 1]]])
sage: P.integral_points()
python2: ./libnormaliz/project_and_lift.cpp:75: std::vector<long unsigned int> libnormaliz::ProjectAndLift<IntegerPL, IntegerRet>::order_supps(const libnormaliz::Matrix<Integer>&) [with IntegerPL = long long int; IntegerRet = long long int]: Assertion `Supps.nr_of_rows()>0' failed.
------------------------------------------------------------------------
```

Here is also the output for the lattice point computation:

```
sage: P = Polyhedron(ieqs=ieqs, backend='normaliz', verbose=True)
# Calling PyNormaliz.NmzCone(['inhom_equations', [], 'inhom_inequalities',
 [[2, 0, -1, 0, 0, 0, 0, 0, 0], [0, 2, 0, -1, 0, 0, 0, 0, 0],
 [-1, 0, 2, -1, 0, 0, 0, 0, 1], [0, -1, -1, 2, -1, 0, 0, 0, 0],
 [0, 0, 0, -1, 2, -1, 0, 0, 0], [0, 0, 0, 0, -1, 2, -1, 0, 0],
 [0, 0, 0, 0, 0, -1, 2, -1, 1], [0, 0, 0, 0, 0, 0, -1, 2, 0],
 [-1, 0, 0, 0, 0, 0, 0, 0, 0], [0, -1, 0, 0, 0, 0, 0, 0, 0],
 [0, 0, -1, 0, 0, 0, 0, 0, 0], [0, 0, 0, -1, 0, 0, 0, 0, 0],
 [0, 0, 0, 0, -1, 0, 0, 0, 0], [0, 0, 0, 0, 0, -1, 0, 0, 0],
 [0, 0, 0, 0, 0, 0, -1, 0, 0], [0, 0, 0, 0, 0, 0, 0, -1, 0],
 [-1, -1, -1, -1, -1, -1, -1, -1, -1], [1, 0, 0, 0, 0, 0, 0, 0, 2],
 [0, 1, 0, 0, 0, 0, 0, 0, 4], [0, 0, 1, 0, 0, 0, 0, 0, 4],
 [0, 0, 0, 1, 0, 0, 0, 0, 7], [0, 0, 0, 0, 1, 0, 0, 0, 6],
 [0, 0, 0, 0, 0, 1, 0, 0, 4], [0, 0, 0, 0, 0, 0, 1, 0, 2],
 [0, 0, 0, 0, 0, 0, 0, 1, 1]]])
sage: P.integral_points()
((-1, -2, -3, -4, -3, -2, -1, 0), (0, -1, -1, -2, -2, -2, -2, -1))
```



---

archive/issue_comments_343545.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nPS - That means the docstring for `Polyhedron` needs a minor adjustment:\n\n```\n    - ``verbose`` -- boolean (default: ``False``). Whether to print\n      verbose output for debugging purposes. Only supported by the cdd\n      backends.\n```",
    "created_at": "2018-03-05T00:11:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343545",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:28" align="right">comment:28</div>

PS - That means the docstring for `Polyhedron` needs a minor adjustment:

```
    - ``verbose`` -- boolean (default: ``False``). Whether to print
      verbose output for debugging purposes. Only supported by the cdd
      backends.
```



---

archive/issue_comments_343546.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nThe wrong number of lattice points is a more severe problem. I don't have an explanation for it.\n\nThe (first and solved) problem in sublattice_representation.h has nothing to do with it. After the change in sublattice_representation.h:323 a second problem has become visible there in Normaliz' own tests. One must change line 325 to\n\n```\n        if(SuppHelp.rank()<EmbDim-1)\n```\n\nBut againthis has nothing to do with the wrong number of lattice points.",
    "created_at": "2018-03-05T00:23:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343546",
    "user": "https://github.com/w-bruns"
}
```

<div id="comment:29" align="right">comment:29</div>

The wrong number of lattice points is a more severe problem. I don't have an explanation for it.

The (first and solved) problem in sublattice_representation.h has nothing to do with it. After the change in sublattice_representation.h:323 a second problem has become visible there in Normaliz' own tests. One must change line 325 to

```
        if(SuppHelp.rank()<EmbDim-1)
```

But againthis has nothing to do with the wrong number of lattice points.



---

archive/issue_comments_343547.json:
```json
{
    "body": "Changed commit from **[`f9f17a4`](https://github.com/sagemath/sagetrac-mirror/commit/f9f17a432b4d669ce88a963de93bbc2677b552be)** to **[`d3f7ceb`](https://github.com/sagemath/sagetrac-mirror/commit/d3f7ceb711bc98ae06bf4d9a921ee376c09c3fda)**",
    "created_at": "2018-03-05T03:30:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343547",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f9f17a4`](https://github.com/sagemath/sagetrac-mirror/commit/f9f17a432b4d669ce88a963de93bbc2677b552be)** to **[`d3f7ceb`](https://github.com/sagemath/sagetrac-mirror/commit/d3f7ceb711bc98ae06bf4d9a921ee376c09c3fda)**



---

archive/issue_comments_343548.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d3f7ceb711bc98ae06bf4d9a921ee376c09c3fda\"><code>d3f7ceb</code></a></td><td><code>New version of patch to fix next crash.</code></td></tr></table>\n",
    "created_at": "2018-03-05T03:30:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343548",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d3f7ceb711bc98ae06bf4d9a921ee376c09c3fda"><code>d3f7ceb</code></a></td><td><code>New version of patch to fix next crash.</code></td></tr></table>




---

archive/issue_comments_343549.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@w-bruns](#comment:29):\n> The wrong number of lattice points is a more severe problem. I don't have an explanation for it.\n\nI am afraid all I can do is give you examples from my use-case as I do not understand too much about how Normaliz works. Thank you for your continued efforts and quick responses.\n\n> The (first and solved) problem in sublattice_representation.h has nothing to do with it. After the change in sublattice_representation.h:323 a second problem has become visible there in Normaliz' own tests. One must change line 325 to\n> \n> ```\n>         if(SuppHelp.rank()<EmbDim-1)\n> ```\n> \n> But again this has nothing to do with the wrong number of lattice points.\n\nI added that to the patch, but (as you might be aware) I am now getting yet another crash with the same example as in [comment:25](#comment:25):\n\n```\nsage: P = Polyhedron(ieqs=ieqs, backend='normaliz', verbose=True)\n# Calling PyNormaliz.NmzCone(['inhom_equations', [], 'inhom_inequalities',\n [[2, 0, -1, 0, 0, 0, 0, 0, 0], [0, 2, 0, -1, 0, 0, 0, 0, 0],\n [-1, 0, 2, -1, 0, 0, 0, 0, 0], [0, -1, -1, 2, -1, 0, 0, 0, 1],\n [0, 0, 0, -1, 2, -1, 0, 0, 0], [0, 0, 0, 0, -1, 2, -1, 0, 0],\n [0, 0, 0, 0, 0, -1, 2, -1, 1], [0, 0, 0, 0, 0, 0, -1, 2, 0],\n [-1, 0, 0, 0, 0, 0, 0, 0, 0], [0, -1, 0, 0, 0, 0, 0, 0, 0],\n [0, 0, -1, 0, 0, 0, 0, 0, 0], [0, 0, 0, -1, 0, 0, 0, 0, 0],\n [0, 0, 0, 0, -1, 0, 0, 0, 0], [0, 0, 0, 0, 0, -1, 0, 0, 0],\n [0, 0, 0, 0, 0, 0, -1, 0, 0], [0, 0, 0, 0, 0, 0, 0, -1, 0],\n [-1, -1, -1, -1, -1, -1, -1, -1, -1], [1, 0, 0, 0, 0, 0, 0, 0, 3],\n [0, 1, 0, 0, 0, 0, 0, 0, 4], [0, 0, 1, 0, 0, 0, 0, 0, 6],\n [0, 0, 0, 1, 0, 0, 0, 0, 8], [0, 0, 0, 0, 1, 0, 0, 0, 6],\n [0, 0, 0, 0, 0, 1, 0, 0, 4], [0, 0, 0, 0, 0, 0, 1, 0, 2],\n [0, 0, 0, 0, 0, 0, 0, 1, 1]]])\nsage: P\nA 8-dimensional polyhedron in QQ^8 defined as the convex hull of 132 vertices\nsage: P.integral_points()\npython2: ./libnormaliz/project_and_lift.cpp:75: std::vector<long unsigned int> libnormaliz::ProjectAndLift<IntegerPL, IntegerRet>::order_supps(const libnormaliz::Matrix<Integer>&) [with IntegerPL = long long int; IntegerRet = long long int]: Assertion `Supps.nr_of_rows()>0' failed.\n------------------------------------------------------------------------\n```\n\nAddendum - It is the same error as before.",
    "created_at": "2018-03-05T03:36:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343549",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@w-bruns](#comment:29):
> The wrong number of lattice points is a more severe problem. I don't have an explanation for it.

I am afraid all I can do is give you examples from my use-case as I do not understand too much about how Normaliz works. Thank you for your continued efforts and quick responses.

> The (first and solved) problem in sublattice_representation.h has nothing to do with it. After the change in sublattice_representation.h:323 a second problem has become visible there in Normaliz' own tests. One must change line 325 to
> 
> ```
>         if(SuppHelp.rank()<EmbDim-1)
> ```
> 
> But again this has nothing to do with the wrong number of lattice points.

I added that to the patch, but (as you might be aware) I am now getting yet another crash with the same example as in [comment:25](#comment:25):

```
sage: P = Polyhedron(ieqs=ieqs, backend='normaliz', verbose=True)
# Calling PyNormaliz.NmzCone(['inhom_equations', [], 'inhom_inequalities',
 [[2, 0, -1, 0, 0, 0, 0, 0, 0], [0, 2, 0, -1, 0, 0, 0, 0, 0],
 [-1, 0, 2, -1, 0, 0, 0, 0, 0], [0, -1, -1, 2, -1, 0, 0, 0, 1],
 [0, 0, 0, -1, 2, -1, 0, 0, 0], [0, 0, 0, 0, -1, 2, -1, 0, 0],
 [0, 0, 0, 0, 0, -1, 2, -1, 1], [0, 0, 0, 0, 0, 0, -1, 2, 0],
 [-1, 0, 0, 0, 0, 0, 0, 0, 0], [0, -1, 0, 0, 0, 0, 0, 0, 0],
 [0, 0, -1, 0, 0, 0, 0, 0, 0], [0, 0, 0, -1, 0, 0, 0, 0, 0],
 [0, 0, 0, 0, -1, 0, 0, 0, 0], [0, 0, 0, 0, 0, -1, 0, 0, 0],
 [0, 0, 0, 0, 0, 0, -1, 0, 0], [0, 0, 0, 0, 0, 0, 0, -1, 0],
 [-1, -1, -1, -1, -1, -1, -1, -1, -1], [1, 0, 0, 0, 0, 0, 0, 0, 3],
 [0, 1, 0, 0, 0, 0, 0, 0, 4], [0, 0, 1, 0, 0, 0, 0, 0, 6],
 [0, 0, 0, 1, 0, 0, 0, 0, 8], [0, 0, 0, 0, 1, 0, 0, 0, 6],
 [0, 0, 0, 0, 0, 1, 0, 0, 4], [0, 0, 0, 0, 0, 0, 1, 0, 2],
 [0, 0, 0, 0, 0, 0, 0, 1, 1]]])
sage: P
A 8-dimensional polyhedron in QQ^8 defined as the convex hull of 132 vertices
sage: P.integral_points()
python2: ./libnormaliz/project_and_lift.cpp:75: std::vector<long unsigned int> libnormaliz::ProjectAndLift<IntegerPL, IntegerRet>::order_supps(const libnormaliz::Matrix<Integer>&) [with IntegerPL = long long int; IntegerRet = long long int]: Assertion `Supps.nr_of_rows()>0' failed.
------------------------------------------------------------------------
```

Addendum - It is the same error as before.



---

archive/issue_comments_343550.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nI think all the observed problems are solved. More tomorrow.",
    "created_at": "2018-03-05T06:36:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343550",
    "user": "https://github.com/w-bruns"
}
```

<div id="comment:32" align="right">comment:32</div>

I think all the observed problems are solved. More tomorrow.



---

archive/issue_comments_343551.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nGreat, thank you!",
    "created_at": "2018-03-05T06:43:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343551",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:33" align="right">comment:33</div>

Great, thank you!



---

archive/issue_comments_343552.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nThe problem with the wrong number of lattice points (or a failing assertion) was not caused by a severe problem, but by a silly bug. As a temporary fix I suggest to include as lines cone.cpp:3804 and 3805\n\n```\n    if(!is_parallelotope)\n        Pair.clear();\n```\n\nSo with some surrounding the code there should be\n\n```\n            is_Computed.set(ConeProperty::IsPointed);\n        }\n    }\n    \n    if(!is_parallelotope)\n        Pair.clear();\n    \n    if(!inhomogeneous && !isComputed(ConeProperty::Grading))\n        return;\n```\n\nI plan to release 3.5.2 at the end of this week. It will contain a more conceptual solution.\n\nPlease test.",
    "created_at": "2018-03-05T18:02:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343552",
    "user": "https://github.com/w-bruns"
}
```

<div id="comment:34" align="right">comment:34</div>

The problem with the wrong number of lattice points (or a failing assertion) was not caused by a severe problem, but by a silly bug. As a temporary fix I suggest to include as lines cone.cpp:3804 and 3805

```
    if(!is_parallelotope)
        Pair.clear();
```

So with some surrounding the code there should be

```
            is_Computed.set(ConeProperty::IsPointed);
        }
    }
    
    if(!is_parallelotope)
        Pair.clear();
    
    if(!inhomogeneous && !isComputed(ConeProperty::Grading))
        return;
```

I plan to release 3.5.2 at the end of this week. It will contain a more conceptual solution.

Please test.



---

archive/issue_comments_343553.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/737552d95ff6d810c56611560fa9b62f888cdafc\"><code>737552d</code></a></td><td><code>Updating patch with upstream fix for wrong number of lattice points.</code></td></tr></table>\n",
    "created_at": "2018-03-05T22:07:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343553",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/737552d95ff6d810c56611560fa9b62f888cdafc"><code>737552d</code></a></td><td><code>Updating patch with upstream fix for wrong number of lattice points.</code></td></tr></table>




---

archive/issue_comments_343554.json:
```json
{
    "body": "Changed commit from **[`d3f7ceb`](https://github.com/sagemath/sagetrac-mirror/commit/d3f7ceb711bc98ae06bf4d9a921ee376c09c3fda)** to **[`737552d`](https://github.com/sagemath/sagetrac-mirror/commit/737552d95ff6d810c56611560fa9b62f888cdafc)**",
    "created_at": "2018-03-05T22:07:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343554",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d3f7ceb`](https://github.com/sagemath/sagetrac-mirror/commit/d3f7ceb711bc98ae06bf4d9a921ee376c09c3fda)** to **[`737552d`](https://github.com/sagemath/sagetrac-mirror/commit/737552d95ff6d810c56611560fa9b62f888cdafc)**



---

archive/issue_comments_343555.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nThank you. I have verified that I get again\n\n```\nsage: RC = RiggedConfigurations(['E',8,1], [[5,2]])\nsage: %time len(RC.module_generators)\nCPU times: user 27.6 s, sys: 68 ms, total: 27.7 s\nWall time: 7.8 s\n7066\nsage: RC = RiggedConfigurations(['E',8,1], [[4,2]])\nsage: %time len(RC.module_generators)\nCPU times: user 5min 6s, sys: 944 ms, total: 5min 7s\nWall time: 1min 36s\n288299\n```\nand the >2x speedup is very impressive. :) I've updated the patch accordingly.\n\n@mkoeppe Perhaps we should just wait on this upgrade until 3.5.2 is released to avoid the patch since it will be in just a few days?\n\nAs far as adding tests go, I think we should explicitly add the polytopes mentioned above rather than the RC code. They are isolated and much faster to test.",
    "created_at": "2018-03-05T22:13:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343555",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:36" align="right">comment:36</div>

Thank you. I have verified that I get again

```
sage: RC = RiggedConfigurations(['E',8,1], [[5,2]])
sage: %time len(RC.module_generators)
CPU times: user 27.6 s, sys: 68 ms, total: 27.7 s
Wall time: 7.8 s
7066
sage: RC = RiggedConfigurations(['E',8,1], [[4,2]])
sage: %time len(RC.module_generators)
CPU times: user 5min 6s, sys: 944 ms, total: 5min 7s
Wall time: 1min 36s
288299
```
and the >2x speedup is very impressive. :) I've updated the patch accordingly.

@mkoeppe Perhaps we should just wait on this upgrade until 3.5.2 is released to avoid the patch since it will be in just a few days?

As far as adding tests go, I think we should explicitly add the polytopes mentioned above rather than the RC code. They are isolated and much faster to test.



---

archive/issue_comments_343556.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nReplying to [@tscrim](#comment:36):\n> @mkoeppe Perhaps we should just wait on this upgrade until 3.5.2 is released to avoid the patch since it will be in just a few days?\n\nYes, I think so too.\n\n> As far as adding tests go, I think we should explicitly add the polytopes mentioned above rather than the RC code. They are isolated and much faster to test.\n\nI agree.",
    "created_at": "2018-03-05T22:30:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343556",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:37" align="right">comment:37</div>

Replying to [@tscrim](#comment:36):
> @mkoeppe Perhaps we should just wait on this upgrade until 3.5.2 is released to avoid the patch since it will be in just a few days?

Yes, I think so too.

> As far as adding tests go, I think we should explicitly add the polytopes mentioned above rather than the RC code. They are isolated and much faster to test.

I agree.



---

archive/issue_comments_343557.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/530302d6979c495ea15d29e82ca893ac9ca73386\"><code>530302d</code></a></td><td><code>Merge branch 'u/tscrim/upgrade_noramliz_pynormaliz-22984' of git://trac.sagemath.org/sage into u/tscrim/upgrade_noramliz_pynormaliz-22984</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/57d40b030deb164404f6a245af0c3734ebf1eb40\"><code>57d40b0</code></a></td><td><code>Upgrade Normaliz to 3.5.2.</code></td></tr></table>\n",
    "created_at": "2018-03-14T02:14:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343557",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/530302d6979c495ea15d29e82ca893ac9ca73386"><code>530302d</code></a></td><td><code>Merge branch 'u/tscrim/upgrade_noramliz_pynormaliz-22984' of git://trac.sagemath.org/sage into u/tscrim/upgrade_noramliz_pynormaliz-22984</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/57d40b030deb164404f6a245af0c3734ebf1eb40"><code>57d40b0</code></a></td><td><code>Upgrade Normaliz to 3.5.2.</code></td></tr></table>




---

archive/issue_comments_343558.json:
```json
{
    "body": "Changed commit from **[`737552d`](https://github.com/sagemath/sagetrac-mirror/commit/737552d95ff6d810c56611560fa9b62f888cdafc)** to **[`57d40b0`](https://github.com/sagemath/sagetrac-mirror/commit/57d40b030deb164404f6a245af0c3734ebf1eb40)**",
    "created_at": "2018-03-14T02:14:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343558",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`737552d`](https://github.com/sagemath/sagetrac-mirror/commit/737552d95ff6d810c56611560fa9b62f888cdafc)** to **[`57d40b0`](https://github.com/sagemath/sagetrac-mirror/commit/57d40b030deb164404f6a245af0c3734ebf1eb40)**



---

archive/issue_comments_343559.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nHere is with 3.5.2 and the tests I did above now work. Where would a good place be to add the doctests?",
    "created_at": "2018-03-14T02:16:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343559",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:39" align="right">comment:39</div>

Here is with 3.5.2 and the tests I did above now work. Where would a good place be to add the doctests?



---

archive/issue_events_322065.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-03-14T02:16:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322065"
}
```



---

archive/issue_events_322066.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-03-14T02:16:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322066"
}
```



---

archive/issue_comments_343560.json:
```json
{
    "body": "Changed upstream from **Reported upstream. Developers acknowledge bug.** to **Completely fixed; Fix reported upstream**",
    "created_at": "2018-03-14T02:16:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343560",
    "user": "https://github.com/tscrim"
}
```

Changed upstream from **Reported upstream. Developers acknowledge bug.** to **Completely fixed; Fix reported upstream**



---

archive/issue_comments_343561.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,7 @@\n Among many new features and improvements, these new versions make computations interruptible with `^C`.\n \n Source tarballs: \n-- https://github.com/Normaliz/Normaliz/releases/download/v3.5.1/normaliz-3.5.1.tar.gz\n+- https://github.com/Normaliz/Normaliz/releases/download/v3.5.2/normaliz-3.5.2.tar.gz\n - https://pypi.python.org/packages/47/99/c9043d8392f99c9c4013eb82ce931f75ef64d6fd665cd8d008ce80be881e/PyNormaliz-1.10.tar.gz#md5=89b212de8e833205b9776b1ef90c3585\n \n Upstream bug: https://github.com/Normaliz/Normaliz/issues/176\n``````\n",
    "created_at": "2018-03-14T02:16:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343561",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,7 @@
 Among many new features and improvements, these new versions make computations interruptible with `^C`.
 
 Source tarballs: 
-- https://github.com/Normaliz/Normaliz/releases/download/v3.5.1/normaliz-3.5.1.tar.gz
+- https://github.com/Normaliz/Normaliz/releases/download/v3.5.2/normaliz-3.5.2.tar.gz
 - https://pypi.python.org/packages/47/99/c9043d8392f99c9c4013eb82ce931f75ef64d6fd665cd8d008ce80be881e/PyNormaliz-1.10.tar.gz#md5=89b212de8e833205b9776b1ef90c3585
 
 Upstream bug: https://github.com/Normaliz/Normaliz/issues/176
``````




---

archive/issue_comments_343562.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nI would think the doctests should go to `Polyhedron_normaliz.integral_points`.",
    "created_at": "2018-03-15T00:24:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343562",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:40" align="right">comment:40</div>

I would think the doctests should go to `Polyhedron_normaliz.integral_points`.



---

archive/issue_events_322067.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-03-15T00:24:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322067"
}
```



---

archive/issue_events_322068.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-03-15T00:24:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322068"
}
```



---

archive/issue_events_322069.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-03-15T00:24:00Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "title_is": "Upgrade normaliz to 3.5.2 and pynormaliz to 1.10",
    "title_was": "Upgrade normaliz to 3.5.1 and pynormaliz to 1.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322069"
}
```



---

archive/issue_comments_343563.json:
```json
{
    "body": "<div id=\"comment:41\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ba442d0586b9fdedec07a2e8f50bcd5d1a4a913\"><code>6ba442d</code></a></td><td><code>Adding tests from [comment:24](#comment:24),25 of #22984.</code></td></tr></table>\n",
    "created_at": "2018-03-15T07:10:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343563",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:41"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ba442d0586b9fdedec07a2e8f50bcd5d1a4a913"><code>6ba442d</code></a></td><td><code>Adding tests from [comment:24](#comment:24),25 of #22984.</code></td></tr></table>




---

archive/issue_comments_343564.json:
```json
{
    "body": "Changed commit from **[`57d40b0`](https://github.com/sagemath/sagetrac-mirror/commit/57d40b030deb164404f6a245af0c3734ebf1eb40)** to **[`6ba442d`](https://github.com/sagemath/sagetrac-mirror/commit/6ba442d0586b9fdedec07a2e8f50bcd5d1a4a913)**",
    "created_at": "2018-03-15T07:10:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343564",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`57d40b0`](https://github.com/sagemath/sagetrac-mirror/commit/57d40b030deb164404f6a245af0c3734ebf1eb40)** to **[`6ba442d`](https://github.com/sagemath/sagetrac-mirror/commit/6ba442d0586b9fdedec07a2e8f50bcd5d1a4a913)**



---

archive/issue_comments_343565.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nOkay, done.",
    "created_at": "2018-03-15T07:11:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343565",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:42" align="right">comment:42</div>

Okay, done.



---

archive/issue_events_322070.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-03-15T07:11:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322070"
}
```



---

archive/issue_events_322071.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-03-15T07:11:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322071"
}
```



---

archive/issue_comments_343566.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nping",
    "created_at": "2018-03-21T07:32:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343566",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:43" align="right">comment:43</div>

ping



---

archive/issue_comments_343567.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,6 +2,6 @@\n \n Source tarballs: \n - https://github.com/Normaliz/Normaliz/releases/download/v3.5.2/normaliz-3.5.2.tar.gz\n-- https://pypi.python.org/packages/47/99/c9043d8392f99c9c4013eb82ce931f75ef64d6fd665cd8d008ce80be881e/PyNormaliz-1.10.tar.gz#md5=89b212de8e833205b9776b1ef90c3585\n+- https://pypi.python.org/packages/30/48/d2ad6e4defcce3959c66ee541cf5c0eda12186e42ecd68a0531813a16bd0/PyNormaliz-1.12.tar.gz#md5=1ec3419eaa061a0ee4b4f1ffca9cb44d\n \n Upstream bug: https://github.com/Normaliz/Normaliz/issues/176\n``````\n",
    "created_at": "2018-04-02T14:58:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343567",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,6 +2,6 @@
 
 Source tarballs: 
 - https://github.com/Normaliz/Normaliz/releases/download/v3.5.2/normaliz-3.5.2.tar.gz
-- https://pypi.python.org/packages/47/99/c9043d8392f99c9c4013eb82ce931f75ef64d6fd665cd8d008ce80be881e/PyNormaliz-1.10.tar.gz#md5=89b212de8e833205b9776b1ef90c3585
+- https://pypi.python.org/packages/30/48/d2ad6e4defcce3959c66ee541cf5c0eda12186e42ecd68a0531813a16bd0/PyNormaliz-1.12.tar.gz#md5=1ec3419eaa061a0ee4b4f1ffca9cb44d
 
 Upstream bug: https://github.com/Normaliz/Normaliz/issues/176
``````




---

archive/issue_comments_343568.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nS. Gutsche informs us that we should upgrade pynormaliz to 1.12",
    "created_at": "2018-04-02T14:58:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343568",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:44" align="right">comment:44</div>

S. Gutsche informs us that we should upgrade pynormaliz to 1.12



---

archive/issue_events_322072.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-04-02T14:58:13Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "title_is": "Upgrade normaliz to 3.5.2 and pynormaliz to 1.12",
    "title_was": "Upgrade normaliz to 3.5.2 and pynormaliz to 1.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322072"
}
```



---

archive/issue_events_322073.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-04-02T14:58:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322073"
}
```



---

archive/issue_events_322074.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-04-02T14:58:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322074"
}
```



---

archive/issue_comments_343569.json:
```json
{
    "body": "Changed reviewer from **Travis Scrimshaw, Thierry Monteil** to **Travis Scrimshaw, Thierry Monteil, Jean-Philippe Labb\u00e9**",
    "created_at": "2018-04-02T16:58:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343569",
    "user": "https://github.com/jplab"
}
```

Changed reviewer from **Travis Scrimshaw, Thierry Monteil** to **Travis Scrimshaw, Thierry Monteil, Jean-Philippe Labb√©**



---

archive/issue_comments_343570.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nAll tests passed with sage8.2.beta8.\n\n@tscrim: Do you still want to add a comment about the verbose of `Polyhedron`?\n\nOtherwise, it seems that we need to wait for 1.12 of pynormaliz check everything one last time.",
    "created_at": "2018-04-02T16:58:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343570",
    "user": "https://github.com/jplab"
}
```

<div id="comment:46" align="right">comment:46</div>

All tests passed with sage8.2.beta8.

@tscrim: Do you still want to add a comment about the verbose of `Polyhedron`?

Otherwise, it seems that we need to wait for 1.12 of pynormaliz check everything one last time.



---

archive/issue_comments_343571.json:
```json
{
    "body": "Changed branch from **[u/tscrim/upgrade_noramliz_pynormaliz-22984](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/upgrade_noramliz_pynormaliz-22984)** to **[u/mkoeppe/upgrade_noramliz_pynormaliz-22984](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_noramliz_pynormaliz-22984)**",
    "created_at": "2018-04-02T17:04:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343571",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/tscrim/upgrade_noramliz_pynormaliz-22984](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/upgrade_noramliz_pynormaliz-22984)** to **[u/mkoeppe/upgrade_noramliz_pynormaliz-22984](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_noramliz_pynormaliz-22984)**



---

archive/issue_comments_343572.json:
```json
{
    "body": "Changed commit from **[`6ba442d`](https://github.com/sagemath/sagetrac-mirror/commit/6ba442d0586b9fdedec07a2e8f50bcd5d1a4a913)** to **[`183087a`](https://github.com/sagemath/sagetrac-mirror/commit/183087a21eaaf64b464fa6ffe0aaf94819d6626c)**",
    "created_at": "2018-04-02T17:05:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343572",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[`6ba442d`](https://github.com/sagemath/sagetrac-mirror/commit/6ba442d0586b9fdedec07a2e8f50bcd5d1a4a913)** to **[`183087a`](https://github.com/sagemath/sagetrac-mirror/commit/183087a21eaaf64b464fa6ffe0aaf94819d6626c)**



---

archive/issue_comments_343573.json:
```json
{
    "body": "<div id=\"comment:48\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/183087a21eaaf64b464fa6ffe0aaf94819d6626c\"><code>183087a</code></a></td><td><code>Upgrade PyNormaliz to 1.12</code></td></tr></table>\n",
    "created_at": "2018-04-02T17:05:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343573",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:48"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/183087a21eaaf64b464fa6ffe0aaf94819d6626c"><code>183087a</code></a></td><td><code>Upgrade PyNormaliz to 1.12</code></td></tr></table>




---

archive/issue_events_322075.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-04-02T17:05:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322075"
}
```



---

archive/issue_events_322076.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-04-02T17:05:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322076"
}
```



---

archive/issue_comments_343574.json:
```json
{
    "body": "<div id=\"comment:49\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f47ec9f71498f744614e28ed8316b72b1904bdd\"><code>7f47ec9</code></a></td><td><code>Adapted the polyhedron docstring</code></td></tr></table>\n",
    "created_at": "2018-04-02T17:13:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343574",
    "user": "https://github.com/jplab"
}
```

<div id="comment:49"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f47ec9f71498f744614e28ed8316b72b1904bdd"><code>7f47ec9</code></a></td><td><code>Adapted the polyhedron docstring</code></td></tr></table>




---

archive/issue_comments_343575.json:
```json
{
    "body": "Changed commit from **[`183087a`](https://github.com/sagemath/sagetrac-mirror/commit/183087a21eaaf64b464fa6ffe0aaf94819d6626c)** to **[`7f47ec9`](https://github.com/sagemath/sagetrac-mirror/commit/7f47ec9f71498f744614e28ed8316b72b1904bdd)**",
    "created_at": "2018-04-02T17:13:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343575",
    "user": "https://github.com/jplab"
}
```

Changed commit from **[`183087a`](https://github.com/sagemath/sagetrac-mirror/commit/183087a21eaaf64b464fa6ffe0aaf94819d6626c)** to **[`7f47ec9`](https://github.com/sagemath/sagetrac-mirror/commit/7f47ec9f71498f744614e28ed8316b72b1904bdd)**



---

archive/issue_comments_343576.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/upgrade_noramliz_pynormaliz-22984](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_noramliz_pynormaliz-22984)** to **[u/jipilab/upgrade_normaliz_pynormaliz-22984](https://github.com/sagemath/sagetrac-mirror/tree/u/jipilab/upgrade_normaliz_pynormaliz-22984)**",
    "created_at": "2018-04-02T17:13:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343576",
    "user": "https://github.com/jplab"
}
```

Changed branch from **[u/mkoeppe/upgrade_noramliz_pynormaliz-22984](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_noramliz_pynormaliz-22984)** to **[u/jipilab/upgrade_normaliz_pynormaliz-22984](https://github.com/sagemath/sagetrac-mirror/tree/u/jipilab/upgrade_normaliz_pynormaliz-22984)**



---

archive/issue_events_322077.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2018-04-02T17:13:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322077"
}
```



---

archive/issue_events_322078.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2018-04-02T17:13:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322078"
}
```



---

archive/issue_comments_343577.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nIt looks good to me now and all tests pass in the polyhedron folder.",
    "created_at": "2018-04-02T17:13:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343577",
    "user": "https://github.com/jplab"
}
```

<div id="comment:50" align="right">comment:50</div>

It looks good to me now and all tests pass in the polyhedron folder.



---

archive/issue_events_322079.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-04-02T21:09:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322079"
}
```



---

archive/issue_events_322080.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-04-02T21:09:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322080"
}
```



---

archive/issue_comments_343578.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nCompilation errors with a specific gcc version with PyNormaliz. Fixed in normaliz 3.5.3",
    "created_at": "2018-04-02T21:09:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343578",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:51" align="right">comment:51</div>

Compilation errors with a specific gcc version with PyNormaliz. Fixed in normaliz 3.5.3



---

archive/issue_comments_343579.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,7 @@\n Among many new features and improvements, these new versions make computations interruptible with `^C`.\n \n Source tarballs: \n-- https://github.com/Normaliz/Normaliz/releases/download/v3.5.2/normaliz-3.5.2.tar.gz\n+- https://github.com/Normaliz/Normaliz/releases/download/v3.5.3/normaliz-3.5.3.tar.gz\n - https://pypi.python.org/packages/30/48/d2ad6e4defcce3959c66ee541cf5c0eda12186e42ecd68a0531813a16bd0/PyNormaliz-1.12.tar.gz#md5=1ec3419eaa061a0ee4b4f1ffca9cb44d\n \n Upstream bug: https://github.com/Normaliz/Normaliz/issues/176\n``````\n",
    "created_at": "2018-04-02T21:10:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343579",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,7 @@
 Among many new features and improvements, these new versions make computations interruptible with `^C`.
 
 Source tarballs: 
-- https://github.com/Normaliz/Normaliz/releases/download/v3.5.2/normaliz-3.5.2.tar.gz
+- https://github.com/Normaliz/Normaliz/releases/download/v3.5.3/normaliz-3.5.3.tar.gz
 - https://pypi.python.org/packages/30/48/d2ad6e4defcce3959c66ee541cf5c0eda12186e42ecd68a0531813a16bd0/PyNormaliz-1.12.tar.gz#md5=1ec3419eaa061a0ee4b4f1ffca9cb44d
 
 Upstream bug: https://github.com/Normaliz/Normaliz/issues/176
``````




---

archive/issue_events_322081.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-04-02T21:10:33Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "title_is": "Upgrade normaliz to 3.5.3 and pynormaliz to 1.12",
    "title_was": "Upgrade normaliz to 3.5.2 and pynormaliz to 1.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322081"
}
```



---

archive/issue_comments_343580.json:
```json
{
    "body": "Changed branch from **[u/jipilab/upgrade_normaliz_pynormaliz-22984](https://github.com/sagemath/sagetrac-mirror/tree/u/jipilab/upgrade_normaliz_pynormaliz-22984)** to **[u/mkoeppe/upgrade_normaliz_pynormaliz-22984](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_normaliz_pynormaliz-22984)**",
    "created_at": "2018-04-02T21:36:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343580",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/jipilab/upgrade_normaliz_pynormaliz-22984](https://github.com/sagemath/sagetrac-mirror/tree/u/jipilab/upgrade_normaliz_pynormaliz-22984)** to **[u/mkoeppe/upgrade_normaliz_pynormaliz-22984](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_normaliz_pynormaliz-22984)**



---

archive/issue_comments_343581.json:
```json
{
    "body": "<div id=\"comment:54\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/117e428c112921f5a1d555daf3a7b0ed10828532\"><code>117e428</code></a></td><td><code>Upgrade normaliz to 3.5.3</code></td></tr></table>\n",
    "created_at": "2018-04-02T21:37:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343581",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:54"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/117e428c112921f5a1d555daf3a7b0ed10828532"><code>117e428</code></a></td><td><code>Upgrade normaliz to 3.5.3</code></td></tr></table>




---

archive/issue_comments_343582.json:
```json
{
    "body": "Changed commit from **[`7f47ec9`](https://github.com/sagemath/sagetrac-mirror/commit/7f47ec9f71498f744614e28ed8316b72b1904bdd)** to **[`117e428`](https://github.com/sagemath/sagetrac-mirror/commit/117e428c112921f5a1d555daf3a7b0ed10828532)**",
    "created_at": "2018-04-02T21:37:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343582",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[`7f47ec9`](https://github.com/sagemath/sagetrac-mirror/commit/7f47ec9f71498f744614e28ed8316b72b1904bdd)** to **[`117e428`](https://github.com/sagemath/sagetrac-mirror/commit/117e428c112921f5a1d555daf3a7b0ed10828532)**



---

archive/issue_events_322082.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-04-02T21:37:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322082"
}
```



---

archive/issue_events_322083.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-04-02T21:37:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322083"
}
```



---

archive/issue_comments_343583.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nInstall the latest normaliz and got:\n\n```\n~/sage/src/sage/geometry/polyhedron$ sage -t *.py\nUsing --optional=4ti2,bliss,latte_int,lidia,lrslib,mpir,normaliz,pynormaliz,python2,sage\nDoctesting 25 files.\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\n```",
    "created_at": "2018-04-02T21:48:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343583",
    "user": "https://github.com/jplab"
}
```

<div id="comment:55" align="right">comment:55</div>

Install the latest normaliz and got:

```
~/sage/src/sage/geometry/polyhedron$ sage -t *.py
Using --optional=4ti2,bliss,latte_int,lidia,lrslib,mpir,normaliz,pynormaliz,python2,sage
Doctesting 25 files.
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
```



---

archive/issue_events_322084.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2018-04-02T22:01:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322084"
}
```



---

archive/issue_events_322085.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2018-04-02T22:01:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322085"
}
```



---

archive/issue_comments_343584.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nReplying to [@jplab](#comment:46):\n> @tscrim: Do you still want to add a comment about the verbose of `Polyhedron`?\n\nIt can be on a separate ticket, but the docstring for `verbose` should also say it is supported for the normaliz backend as well.",
    "created_at": "2018-04-02T22:52:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343584",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:57" align="right">comment:57</div>

Replying to [@jplab](#comment:46):
> @tscrim: Do you still want to add a comment about the verbose of `Polyhedron`?

It can be on a separate ticket, but the docstring for `verbose` should also say it is supported for the normaliz backend as well.



---

archive/issue_comments_343585.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nReplying to [@tscrim](#comment:57):\n> Replying to [@jplab](#comment:46):\n> > @tscrim: Do you still want to add a comment about the verbose of `Polyhedron`?\n\n> \n> It can be on a separate ticket, but the docstring for `verbose` should also say it is supported for the normaliz backend as well.\n\nI went ahead and made the change already... I realized it was not a big deal.",
    "created_at": "2018-04-02T23:57:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343585",
    "user": "https://github.com/jplab"
}
```

<div id="comment:58" align="right">comment:58</div>

Replying to [@tscrim](#comment:57):
> Replying to [@jplab](#comment:46):
> > @tscrim: Do you still want to add a comment about the verbose of `Polyhedron`?

> 
> It can be on a separate ticket, but the docstring for `verbose` should also say it is supported for the normaliz backend as well.

I went ahead and made the change already... I realized it was not a big deal.



---

archive/issue_comments_343586.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nAh, thanks. I didn't look at the diffs.",
    "created_at": "2018-04-02T23:59:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343586",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:59" align="right">comment:59</div>

Ah, thanks. I didn't look at the diffs.



---

archive/issue_comments_343587.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/upgrade_normaliz_pynormaliz-22984](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_normaliz_pynormaliz-22984)** to **[u/jipilab/upgrade_normaliz_pynormaliz-22984](https://github.com/sagemath/sagetrac-mirror/tree/u/jipilab/upgrade_normaliz_pynormaliz-22984)**",
    "created_at": "2018-04-03T14:46:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343587",
    "user": "https://github.com/jplab"
}
```

Changed branch from **[u/mkoeppe/upgrade_normaliz_pynormaliz-22984](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_normaliz_pynormaliz-22984)** to **[u/jipilab/upgrade_normaliz_pynormaliz-22984](https://github.com/sagemath/sagetrac-mirror/tree/u/jipilab/upgrade_normaliz_pynormaliz-22984)**



---

archive/issue_comments_343588.json:
```json
{
    "body": "Changed commit from **[`117e428`](https://github.com/sagemath/sagetrac-mirror/commit/117e428c112921f5a1d555daf3a7b0ed10828532)** to **[`7057ef4`](https://github.com/sagemath/sagetrac-mirror/commit/7057ef457e5e6f78197100f938b8dae8d8b0c5a4)**",
    "created_at": "2018-04-03T14:46:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343588",
    "user": "https://github.com/jplab"
}
```

Changed commit from **[`117e428`](https://github.com/sagemath/sagetrac-mirror/commit/117e428c112921f5a1d555daf3a7b0ed10828532)** to **[`7057ef4`](https://github.com/sagemath/sagetrac-mirror/commit/7057ef457e5e6f78197100f938b8dae8d8b0c5a4)**



---

archive/issue_comments_343589.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nMerged the forgotten commit.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f47ec9f71498f744614e28ed8316b72b1904bdd\"><code>7f47ec9</code></a></td><td><code>Adapted the polyhedron docstring</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7057ef457e5e6f78197100f938b8dae8d8b0c5a4\"><code>7057ef4</code></a></td><td><code>Merge branch to get docstring adaptation</code></td></tr></table>\n",
    "created_at": "2018-04-03T14:46:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343589",
    "user": "https://github.com/jplab"
}
```

<div id="comment:60" align="right">comment:60</div>

Merged the forgotten commit.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f47ec9f71498f744614e28ed8316b72b1904bdd"><code>7f47ec9</code></a></td><td><code>Adapted the polyhedron docstring</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7057ef457e5e6f78197100f938b8dae8d8b0c5a4"><code>7057ef4</code></a></td><td><code>Merge branch to get docstring adaptation</code></td></tr></table>




---

archive/issue_events_322086.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2018-04-03T14:56:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322086"
}
```



---

archive/issue_events_322087.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2018-04-03T14:56:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322087"
}
```



---

archive/issue_events_322088.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-04-03T17:34:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322088"
}
```



---

archive/issue_events_322089.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-04-03T17:34:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322089"
}
```



---

archive/issue_comments_343590.json:
```json
{
    "body": "Changed keywords from none to **IMA-PolyGeom**",
    "created_at": "2018-04-04T00:13:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343590",
    "user": "https://github.com/mkoeppe"
}
```

Changed keywords from none to **IMA-PolyGeom**



---

archive/issue_comments_343591.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,3 +5,5 @@\n - https://pypi.python.org/packages/30/48/d2ad6e4defcce3959c66ee541cf5c0eda12186e42ecd68a0531813a16bd0/PyNormaliz-1.12.tar.gz#md5=1ec3419eaa061a0ee4b4f1ffca9cb44d\n \n Upstream bug: https://github.com/Normaliz/Normaliz/issues/176\n+\n+Follow-up ticket with more cutting-edge `PyNormaliz` version: #25090.\n``````\n",
    "created_at": "2018-04-04T14:55:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343591",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,3 +5,5 @@
 - https://pypi.python.org/packages/30/48/d2ad6e4defcce3959c66ee541cf5c0eda12186e42ecd68a0531813a16bd0/PyNormaliz-1.12.tar.gz#md5=1ec3419eaa061a0ee4b4f1ffca9cb44d
 
 Upstream bug: https://github.com/Normaliz/Normaliz/issues/176
+
+Follow-up ticket with more cutting-edge `PyNormaliz` version: #25090.
``````




---

archive/issue_events_322090.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2018-04-13T17:34:48Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "milestone_number": null,
    "milestone_title": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322090"
}
```



---

archive/issue_events_322091.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2018-04-13T17:34:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322091"
}
```



---

archive/issue_comments_343592.json:
```json
{
    "body": "Changed branch from **[u/jipilab/upgrade_normaliz_pynormaliz-22984](https://github.com/sagemath/sagetrac-mirror/tree/u/jipilab/upgrade_normaliz_pynormaliz-22984)** to **[`7057ef4`](https://github.com/sagemath/sagetrac-mirror/commit/7057ef457e5e6f78197100f938b8dae8d8b0c5a4)**",
    "created_at": "2018-05-08T17:27:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22984#issuecomment-343592",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jipilab/upgrade_normaliz_pynormaliz-22984](https://github.com/sagemath/sagetrac-mirror/tree/u/jipilab/upgrade_normaliz_pynormaliz-22984)** to **[`7057ef4`](https://github.com/sagemath/sagetrac-mirror/commit/7057ef457e5e6f78197100f938b8dae8d8b0c5a4)**



---

archive/issue_events_322092.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-08T17:27:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322092"
}
```



---

archive/issue_events_322093.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "577a9ce5979df78fc688809ec1624385fa50fa6c",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-05-08T17:27:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/22984",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22984#event-322093"
}
```
