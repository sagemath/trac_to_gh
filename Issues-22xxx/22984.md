# Issue 22984: Upgrade normaliz to 3.5.3 and pynormaliz to 1.12

archive/issues_022747.json:
```json
{
    "body": "Among many new features and improvements, these new versions make computations interruptible with `^C`.\n\nSource tarballs: \n- https://github.com/Normaliz/Normaliz/releases/download/v3.5.3/normaliz-3.5.3.tar.gz\n- https://pypi.python.org/packages/30/48/d2ad6e4defcce3959c66ee541cf5c0eda12186e42ecd68a0531813a16bd0/PyNormaliz-1.12.tar.gz#md5=1ec3419eaa061a0ee4b4f1ffca9cb44d\n\nUpstream bug: https://github.com/Normaliz/Normaliz/issues/176\n\nFollow-up ticket with more cutting-edge `PyNormaliz` version: #25090.\n\nCC:  winfried tmonteil @videlec @tscrim @jplab @sebasguts\n\nKeywords: IMA-PolyGeom\n\nBranch/Commit: 7057ef457e5e6f78197100f938b8dae8d8b0c5a4\n\nUpstream: Completely fixed; Fix reported upstream\n\nReviewer: Travis Scrimshaw, Thierry Monteil, Jean-Philippe Labb\u00e9\n\nAuthor: Matthias Koeppe\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/22984\n\n",
    "closed_at": "2018-05-08T17:27:22Z",
    "created_at": "2017-05-11T22:07:21Z",
    "labels": [
        "component: packages: optional"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.3",
    "title": "Upgrade normaliz to 3.5.3 and pynormaliz to 1.12",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22984",
    "user": "https://github.com/mkoeppe"
}
```
Among many new features and improvements, these new versions make computations interruptible with `^C`.

Source tarballs: 
- https://github.com/Normaliz/Normaliz/releases/download/v3.5.3/normaliz-3.5.3.tar.gz
- https://pypi.python.org/packages/30/48/d2ad6e4defcce3959c66ee541cf5c0eda12186e42ecd68a0531813a16bd0/PyNormaliz-1.12.tar.gz#md5=1ec3419eaa061a0ee4b4f1ffca9cb44d

Upstream bug: https://github.com/Normaliz/Normaliz/issues/176

Follow-up ticket with more cutting-edge `PyNormaliz` version: #25090.

CC:  winfried tmonteil @videlec @tscrim @jplab @sebasguts

Keywords: IMA-PolyGeom

Branch/Commit: 7057ef457e5e6f78197100f938b8dae8d8b0c5a4

Upstream: Completely fixed; Fix reported upstream

Reviewer: Travis Scrimshaw, Thierry Monteil, Jean-Philippe Labb√©

Author: Matthias Koeppe

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/22984





---

archive/issue_events_075558.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2017-08-26T22:31:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "milestone": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22984#event-75558"
}
```



---

archive/issue_comments_424615.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,6 @@\n-... (when these versions are released)\n-\n Among other things this will make computations interruptible with `^C`.\n \n+Source tarballs: \n+- https://github.com/Normaliz/Normaliz/releases/download/v3.4.0/normaliz-3.4.0.tar.gz\n+- https://pypi.python.org/packages/f2/ea/bb7c5e28a8b0b74ace40f88161897ccdc990e4adc202e7ae881806717c3b/PyNormaliz-1.7.tar.gz\n \n``````\n",
    "created_at": "2017-08-26T22:31:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424615",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,6 @@
-... (when these versions are released)
-
 Among other things this will make computations interruptible with `^C`.
 
+Source tarballs: 
+- https://github.com/Normaliz/Normaliz/releases/download/v3.4.0/normaliz-3.4.0.tar.gz
+- https://pypi.python.org/packages/f2/ea/bb7c5e28a8b0b74ace40f88161897ccdc990e4adc202e7ae881806717c3b/PyNormaliz-1.7.tar.gz
 
``````




---

archive/issue_events_075559.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "rename": {
        "from": "Upgrade normaliz to 3.3.0 and pynormaliz to 1.7",
        "to": "Upgrade normaliz to 3.4.0 and pynormaliz to 1.7"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22984#event-75559"
}
```



---

archive/issue_comments_424616.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/upgrade_normaliz_to_3_4_0_and_pynormaliz_to_1_7\"",
    "created_at": "2017-08-26T22:54:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424616",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/upgrade_normaliz_to_3_4_0_and_pynormaliz_to_1_7"



---

archive/issue_comments_424617.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Among other things this will make computations interruptible with `^C`.\n+Among other things this is supposed to make computations interruptible with `^C`, but that feature does not \n \n Source tarballs: \n - https://github.com/Normaliz/Normaliz/releases/download/v3.4.0/normaliz-3.4.0.tar.gz\n``````\n",
    "created_at": "2017-08-26T23:08:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424617",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Among other things this will make computations interruptible with `^C`.
+Among other things this is supposed to make computations interruptible with `^C`, but that feature does not 
 
 Source tarballs: 
 - https://github.com/Normaliz/Normaliz/releases/download/v3.4.0/normaliz-3.4.0.tar.gz
``````




---

archive/issue_comments_424618.json:
```json
{
    "body": "<a id='comment:3'></a>\nTested on Mac OS X. Works well except for interrupting (may require newer pynormaliz...) and the doctest failures reported in #23586 (fixing broken pynormaliz doctests). \n\n---\nNew commits:\n|                                                                                                                                          |                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|\n|[be0b9d2](https://github.com/sagemath/sagetrac-mirror/commit/be0b9d2a1b7dc064367aa122daacaec1ef47f896)|`Upgrade normaliz, pynormaliz`|\n|[a6ccc42](https://github.com/sagemath/sagetrac-mirror/commit/a6ccc4235fa65a26fd772ad963df01b9ece5633f)|`normaliz: Back out 22684_cone_reduce_memory_usage.patch`|",
    "created_at": "2017-08-26T23:08:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424618",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>
Tested on Mac OS X. Works well except for interrupting (may require newer pynormaliz...) and the doctest failures reported in #23586 (fixing broken pynormaliz doctests). 

---
New commits:
|                                                                                                                                          |                              |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|
|[be0b9d2](https://github.com/sagemath/sagetrac-mirror/commit/be0b9d2a1b7dc064367aa122daacaec1ef47f896)|`Upgrade normaliz, pynormaliz`|
|[a6ccc42](https://github.com/sagemath/sagetrac-mirror/commit/a6ccc4235fa65a26fd772ad963df01b9ece5633f)|`normaliz: Back out 22684_cone_reduce_memory_usage.patch`|



---

archive/issue_comments_424619.json:
```json
{
    "body": "Changing commit from \"\" to \"a6ccc4235fa65a26fd772ad963df01b9ece5633f\"",
    "created_at": "2017-08-26T23:08:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424619",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "" to "a6ccc4235fa65a26fd772ad963df01b9ece5633f"



---

archive/issue_events_075560.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "rename": {
        "from": "Upgrade normaliz to 3.4.0 and pynormaliz to 1.7",
        "to": "Upgrade normaliz to 3.4.0 and pynormaliz to 1.7+"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22984#event-75560"
}
```



---

archive/issue_comments_424620.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Among other things this is supposed to make computations interruptible with `^C`, but that feature does not \n+Among other things this is supposed to make computations interruptible with `^C`, but that feature does not seem to work (tested on Mac OS X; maybe unreleased pynormaliz is required?)\n \n Source tarballs: \n - https://github.com/Normaliz/Normaliz/releases/download/v3.4.0/normaliz-3.4.0.tar.gz\n``````\n",
    "created_at": "2017-08-26T23:09:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424620",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Among other things this is supposed to make computations interruptible with `^C`, but that feature does not 
+Among other things this is supposed to make computations interruptible with `^C`, but that feature does not seem to work (tested on Mac OS X; maybe unreleased pynormaliz is required?)
 
 Source tarballs: 
 - https://github.com/Normaliz/Normaliz/releases/download/v3.4.0/normaliz-3.4.0.tar.gz
``````




---

archive/issue_comments_424621.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2017-08-27T02:28:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424621",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_424622.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|\n|[5e7a45b](https://github.com/sagemath/sagetrac-mirror/commit/5e7a45b55eb85040b4a4c84fc0c8bd6506fdbdad)|`Update PyNormaliz to 1.8`|",
    "created_at": "2017-08-29T19:20:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424622",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|
|[5e7a45b](https://github.com/sagemath/sagetrac-mirror/commit/5e7a45b55eb85040b4a4c84fc0c8bd6506fdbdad)|`Update PyNormaliz to 1.8`|



---

archive/issue_comments_424623.json:
```json
{
    "body": "Changing commit from \"a6ccc4235fa65a26fd772ad963df01b9ece5633f\" to \"5e7a45b55eb85040b4a4c84fc0c8bd6506fdbdad\"",
    "created_at": "2017-08-29T19:20:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424623",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a6ccc4235fa65a26fd772ad963df01b9ece5633f" to "5e7a45b55eb85040b4a4c84fc0c8bd6506fdbdad"



---

archive/issue_comments_424624.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n-Among other things this is supposed to make computations interruptible with `^C`, but that feature does not seem to work (tested on Mac OS X; maybe unreleased pynormaliz is required?)\n+Among other things this is supposed to make computations interruptible with `^C`, but that feature does not seem to work with Python 2 (tested on Mac OS X)\n \n Source tarballs: \n - https://github.com/Normaliz/Normaliz/releases/download/v3.4.0/normaliz-3.4.0.tar.gz\n-- https://pypi.python.org/packages/f2/ea/bb7c5e28a8b0b74ace40f88161897ccdc990e4adc202e7ae881806717c3b/PyNormaliz-1.7.tar.gz\n+- https://pypi.python.org/packages/50/76/b3561237125efc5935836299f7bda90b54bc7da094de0d55f5d96e7b3a2f/PyNormaliz-1.8.tar.gz#md5=cf7c05befe25b68b476eeee86985ceb0\n \n``````\n",
    "created_at": "2017-08-29T19:25:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424624",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
-Among other things this is supposed to make computations interruptible with `^C`, but that feature does not seem to work (tested on Mac OS X; maybe unreleased pynormaliz is required?)
+Among other things this is supposed to make computations interruptible with `^C`, but that feature does not seem to work with Python 2 (tested on Mac OS X)
 
 Source tarballs: 
 - https://github.com/Normaliz/Normaliz/releases/download/v3.4.0/normaliz-3.4.0.tar.gz
-- https://pypi.python.org/packages/f2/ea/bb7c5e28a8b0b74ace40f88161897ccdc990e4adc202e7ae881806717c3b/PyNormaliz-1.7.tar.gz
+- https://pypi.python.org/packages/50/76/b3561237125efc5935836299f7bda90b54bc7da094de0d55f5d96e7b3a2f/PyNormaliz-1.8.tar.gz#md5=cf7c05befe25b68b476eeee86985ceb0
 
``````




---

archive/issue_events_075561.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "rename": {
        "from": "Upgrade normaliz to 3.4.0 and pynormaliz to 1.7+",
        "to": "Upgrade normaliz to 3.4.0 and pynormaliz to 1.8"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22984#event-75561"
}
```



---

archive/issue_events_075562.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-03-03T05:21:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "milestone": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22984#event-75562"
}
```



---

archive/issue_events_075563.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-03-03T05:21:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "milestone": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22984#event-75563"
}
```



---

archive/issue_comments_424625.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n Among other things this is supposed to make computations interruptible with `^C`, but that feature does not seem to work with Python 2 (tested on Mac OS X)\n \n Source tarballs: \n-- https://github.com/Normaliz/Normaliz/releases/download/v3.4.0/normaliz-3.4.0.tar.gz\n-- https://pypi.python.org/packages/50/76/b3561237125efc5935836299f7bda90b54bc7da094de0d55f5d96e7b3a2f/PyNormaliz-1.8.tar.gz#md5=cf7c05befe25b68b476eeee86985ceb0\n+- https://github.com/Normaliz/Normaliz/releases/download/v3.5.1/normaliz-3.5.1.tar.gz\n+- https://pypi.python.org/packages/47/99/c9043d8392f99c9c4013eb82ce931f75ef64d6fd665cd8d008ce80be881e/PyNormaliz-1.10.tar.gz#md5=89b212de8e833205b9776b1ef90c3585\n \n``````\n",
    "created_at": "2018-03-03T05:21:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424625",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 Among other things this is supposed to make computations interruptible with `^C`, but that feature does not seem to work with Python 2 (tested on Mac OS X)
 
 Source tarballs: 
-- https://github.com/Normaliz/Normaliz/releases/download/v3.4.0/normaliz-3.4.0.tar.gz
-- https://pypi.python.org/packages/50/76/b3561237125efc5935836299f7bda90b54bc7da094de0d55f5d96e7b3a2f/PyNormaliz-1.8.tar.gz#md5=cf7c05befe25b68b476eeee86985ceb0
+- https://github.com/Normaliz/Normaliz/releases/download/v3.5.1/normaliz-3.5.1.tar.gz
+- https://pypi.python.org/packages/47/99/c9043d8392f99c9c4013eb82ce931f75ef64d6fd665cd8d008ce80be881e/PyNormaliz-1.10.tar.gz#md5=89b212de8e833205b9776b1ef90c3585
 
``````




---

archive/issue_events_075564.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "rename": {
        "from": "Upgrade normaliz to 3.4.0 and pynormaliz to 1.8",
        "to": "Upgrade normaliz to 3.5.1 and pynormaliz to 1.10"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22984#event-75564"
}
```



---

archive/issue_comments_424626.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|\n|[f6011b4](https://github.com/sagemath/sagetrac-mirror/commit/f6011b448be29785b475c588b1ec72600452dcc5)|`Upgrade normaliz to 3.5.1 and pynormaliz to 1.10`|\n|[5536407](https://github.com/sagemath/sagetrac-mirror/commit/553640705f7f55153ee9990f33beda510a697127)|`normaliz: Add flint dependency`|\n|[71d2194](https://github.com/sagemath/sagetrac-mirror/commit/71d2194c14331d81d56e8154b3aae15d745c7338)|`normaliz: Back out 22684_cone_reduce_memory_usage.patch`|\n|[f2137cc](https://github.com/sagemath/sagetrac-mirror/commit/f2137cc5bb49278657ce23f0f8c775400b494023)|`Polyhedron_normaliz: Adjust doctest to 'uniqueness in output' of normaliz 3.5.1`|",
    "created_at": "2018-03-03T17:06:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424626",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|
|[f6011b4](https://github.com/sagemath/sagetrac-mirror/commit/f6011b448be29785b475c588b1ec72600452dcc5)|`Upgrade normaliz to 3.5.1 and pynormaliz to 1.10`|
|[5536407](https://github.com/sagemath/sagetrac-mirror/commit/553640705f7f55153ee9990f33beda510a697127)|`normaliz: Add flint dependency`|
|[71d2194](https://github.com/sagemath/sagetrac-mirror/commit/71d2194c14331d81d56e8154b3aae15d745c7338)|`normaliz: Back out 22684_cone_reduce_memory_usage.patch`|
|[f2137cc](https://github.com/sagemath/sagetrac-mirror/commit/f2137cc5bb49278657ce23f0f8c775400b494023)|`Polyhedron_normaliz: Adjust doctest to 'uniqueness in output' of normaliz 3.5.1`|



---

archive/issue_comments_424627.json:
```json
{
    "body": "Changing commit from \"5e7a45b55eb85040b4a4c84fc0c8bd6506fdbdad\" to \"f2137cc5bb49278657ce23f0f8c775400b494023\"",
    "created_at": "2018-03-03T17:06:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424627",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5e7a45b55eb85040b4a4c84fc0c8bd6506fdbdad" to "f2137cc5bb49278657ce23f0f8c775400b494023"



---

archive/issue_comments_424628.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-03-03T17:10:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424628",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_424629.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Among other things this is supposed to make computations interruptible with `^C`, but that feature does not seem to work with Python 2 (tested on Mac OS X)\n+Among many new features and improvements, these new versions make computations interruptible with `^C`.\n \n Source tarballs: \n - https://github.com/Normaliz/Normaliz/releases/download/v3.5.1/normaliz-3.5.1.tar.gz\n``````\n",
    "created_at": "2018-03-03T17:31:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424629",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Among other things this is supposed to make computations interruptible with `^C`, but that feature does not seem to work with Python 2 (tested on Mac OS X)
+Among many new features and improvements, these new versions make computations interruptible with `^C`.
 
 Source tarballs: 
 - https://github.com/Normaliz/Normaliz/releases/download/v3.5.1/normaliz-3.5.1.tar.gz
``````




---

archive/issue_comments_424630.json:
```json
{
    "body": "<a id='comment:12'></a>\nI am now getting this crash (looks like an upstream problem):\n\n```\nsage: ieqs = [[0, 2, 0, -1, 0, 0, 0, 0, 0], [0, 0, 2, 0, -1, 0, 0, 0, 0],\n....:         [1, -1, 0, 2, -1, 0, 0, 0, 0], [0, 0, -1, -1, 2, -1, 0, 0, 0],\n....:         [0, 0, 0, 0, -1, 2, -1, 0, 0], [0, 0, 0, 0, 0, -1, 2, -1, 0],\n....:         [0, 0, 0, 0, 0, 0, -1, 2, -1], [2, 0, 0, 0, 0, 0, 0, -1, 2],\n....:         [0, -1, 0, 0, 0, 0, 0, 0, 0], [0, 0, -1, 0, 0, 0, 0, 0, 0],\n....:         [0, 0, 0, -1, 0, 0, 0, 0, 0], [0, 0, 0, 0, -1, 0, 0, 0, 0],\n....:         [0, 0, 0, 0, 0, -1, 0, 0, 0], [0, 0, 0, 0, 0, 0, -1, 0, 0],\n....:         [0, 0, 0, 0, 0, 0, 0, -1, 0], [0, 0, 0, 0, 0, 0, 0, 0, -1],\n....:         [-1, -1, -1, -1, -1, -1, -1, -1, -1], [3, 1, 0, 0, 0, 0, 0, 0, 0],\n....:         [4, 0, 1, 0, 0, 0, 0, 0, 0], [6, 0, 0, 1, 0, 0, 0, 0, 0],\n....:         [8, 0, 0, 0, 1, 0, 0, 0, 0], [6, 0, 0, 0, 0, 1, 0, 0, 0],\n....:         [4, 0, 0, 0, 0, 0, 1, 0, 0], [2, 0, 0, 0, 0, 0, 0, 1, 0],\n....:         [0, 0, 0, 0, 0, 0, 0, 0, 1]]\nsage: P = Polyhedron(ieqs=ieqs, backend='normaliz')\nsage: P.integral_points()\npython2: ./libnormaliz/matrix.cpp:2901: libnormaliz::Matrix<Integer> libnormaliz::Matrix<Integer>::LLL_red(libnormaliz::Matrix<Integer>&, libnormaliz::Matrix<Integer>&) const [with Integer = double]: Assertion `(int) rank()==n' failed.\n------------------------------------------------------------------------\n/home/travis/sage-build/local/lib/python2.7/site-packages/cysignals/signals.so(+0x574b)[0x7fa5afdf274b]\n/home/travis/sage-build/local/lib/python2.7/site-packages/cysignals/signals.so(+0x57b5)[0x7fa5afdf27b5]\n/home/travis/sage-build/local/lib/python2.7/site-packages/cysignals/signals.so(+0x849a)[0x7fa5afdf549a]\n/lib/x86_64-linux-gnu/libpthread.so.0(+0x11390)[0x7fa5bcd37390]\n/lib/x86_64-linux-gnu/libc.so.6(gsignal+0x38)[0x7fa5bc991428]\n/lib/x86_64-linux-gnu/libc.so.6(abort+0x16a)[0x7fa5bc99302a]\n/lib/x86_64-linux-gnu/libc.so.6(+0x2dbd7)[0x7fa5bc989bd7]\n/lib/x86_64-linux-gnu/libc.so.6(+0x2dc82)[0x7fa5bc989c82]\n/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZNK11libnormaliz6MatrixIdE7LLL_redERS1_S2_+0x5b9)[0x7fa47314f4a9]\n/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZNK11libnormaliz6MatrixIdE17LLL_red_transposeERS1_S2_+0x83)[0x7fa47314fdc3]\n/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZN11libnormaliz15LLL_coordinatesIxdEENS_25Sublattice_RepresentationIT_EERKNS_6MatrixIT0_EE+0x56)[0x7fa4730cfde6]\n/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZN11libnormaliz31LLL_coordinates_without_1st_colIxxEEvRNS_25Sublattice_RepresentationIT_EENS_6MatrixIT0_EES7_b+0x291)[0x7fa4730d0881]\n/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZN11libnormaliz14ProjectAndLiftIxxE7computeEbb+0x194)[0x7fa473104e54]\n/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZN11libnormaliz4ConeI10__gmp_exprIA1_12__mpz_structS3_EE16project_and_liftERNS_14ConePropertiesERNS_6MatrixIS4_EERKS9_SA_b+0x839)[0x7fa473179b69]\n/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZN11libnormaliz4ConeI10__gmp_exprIA1_12__mpz_structS3_EE31try_approximation_or_projectionERNS_14ConePropertiesE+0xf00)[0x7fa4731f5370]\n/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZN11libnormaliz4ConeI10__gmp_exprIA1_12__mpz_structS3_EE7computeENS_14ConePropertiesE+0x1e1)[0x7fa4731e8671]\n/home/travis/sage-build/local/lib/python2.7/site-packages/PyNormaliz_cpp.so(_Z14_NmzResultImplI10__gmp_exprIA1_12__mpz_structS2_EEP7_objectPN11libnormaliz4ConeIT_EES5_+0x75)[0x7fa4734f6cc5]\n/home/travis/sage-build/local/lib/python2.7/site-packages/PyNormaliz_cpp.so(_Z10_NmzResultP7_objectS0_+0x150)[0x7fa4734ed890]\n```\nOriginally found by\n\n```\nsage: RC = RiggedConfigurations(['E',8,1], [[3,2]])\nsage: len(RC.module_generators)\npython2: ./libnormaliz/matrix.cpp:2901: libnormaliz::Matrix<Integer> libnormaliz::Matrix<Integer>::LLL_red(libnormaliz::Matrix<Integer>&, libnormaliz::Matrix<Integer>&) const [with Integer = double]: Assertion `(int) rank()==n' failed.\n```\n(Mathematical note, through trying to find a smaller example, I am noticing that E<sub>8</sub><sup>(1)</sup> is special in that it is the only place where I see non-full-dimensional non-empty polytopes in my computations. Well, I also see a 0-dimensional polytope for type D<sub>4</sub><sup>(3)</sup>, but that doesn't cause a crash as it is likely special-cased.)\n\n---\n\nAlso can you update the comment before `--enable-flint` to also say you enable flint as it is part of the standard packages of Sage?",
    "created_at": "2018-03-03T23:52:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424630",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>
I am now getting this crash (looks like an upstream problem):

```
sage: ieqs = [[0, 2, 0, -1, 0, 0, 0, 0, 0], [0, 0, 2, 0, -1, 0, 0, 0, 0],
....:         [1, -1, 0, 2, -1, 0, 0, 0, 0], [0, 0, -1, -1, 2, -1, 0, 0, 0],
....:         [0, 0, 0, 0, -1, 2, -1, 0, 0], [0, 0, 0, 0, 0, -1, 2, -1, 0],
....:         [0, 0, 0, 0, 0, 0, -1, 2, -1], [2, 0, 0, 0, 0, 0, 0, -1, 2],
....:         [0, -1, 0, 0, 0, 0, 0, 0, 0], [0, 0, -1, 0, 0, 0, 0, 0, 0],
....:         [0, 0, 0, -1, 0, 0, 0, 0, 0], [0, 0, 0, 0, -1, 0, 0, 0, 0],
....:         [0, 0, 0, 0, 0, -1, 0, 0, 0], [0, 0, 0, 0, 0, 0, -1, 0, 0],
....:         [0, 0, 0, 0, 0, 0, 0, -1, 0], [0, 0, 0, 0, 0, 0, 0, 0, -1],
....:         [-1, -1, -1, -1, -1, -1, -1, -1, -1], [3, 1, 0, 0, 0, 0, 0, 0, 0],
....:         [4, 0, 1, 0, 0, 0, 0, 0, 0], [6, 0, 0, 1, 0, 0, 0, 0, 0],
....:         [8, 0, 0, 0, 1, 0, 0, 0, 0], [6, 0, 0, 0, 0, 1, 0, 0, 0],
....:         [4, 0, 0, 0, 0, 0, 1, 0, 0], [2, 0, 0, 0, 0, 0, 0, 1, 0],
....:         [0, 0, 0, 0, 0, 0, 0, 0, 1]]
sage: P = Polyhedron(ieqs=ieqs, backend='normaliz')
sage: P.integral_points()
python2: ./libnormaliz/matrix.cpp:2901: libnormaliz::Matrix<Integer> libnormaliz::Matrix<Integer>::LLL_red(libnormaliz::Matrix<Integer>&, libnormaliz::Matrix<Integer>&) const [with Integer = double]: Assertion `(int) rank()==n' failed.
------------------------------------------------------------------------
/home/travis/sage-build/local/lib/python2.7/site-packages/cysignals/signals.so(+0x574b)[0x7fa5afdf274b]
/home/travis/sage-build/local/lib/python2.7/site-packages/cysignals/signals.so(+0x57b5)[0x7fa5afdf27b5]
/home/travis/sage-build/local/lib/python2.7/site-packages/cysignals/signals.so(+0x849a)[0x7fa5afdf549a]
/lib/x86_64-linux-gnu/libpthread.so.0(+0x11390)[0x7fa5bcd37390]
/lib/x86_64-linux-gnu/libc.so.6(gsignal+0x38)[0x7fa5bc991428]
/lib/x86_64-linux-gnu/libc.so.6(abort+0x16a)[0x7fa5bc99302a]
/lib/x86_64-linux-gnu/libc.so.6(+0x2dbd7)[0x7fa5bc989bd7]
/lib/x86_64-linux-gnu/libc.so.6(+0x2dc82)[0x7fa5bc989c82]
/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZNK11libnormaliz6MatrixIdE7LLL_redERS1_S2_+0x5b9)[0x7fa47314f4a9]
/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZNK11libnormaliz6MatrixIdE17LLL_red_transposeERS1_S2_+0x83)[0x7fa47314fdc3]
/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZN11libnormaliz15LLL_coordinatesIxdEENS_25Sublattice_RepresentationIT_EERKNS_6MatrixIT0_EE+0x56)[0x7fa4730cfde6]
/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZN11libnormaliz31LLL_coordinates_without_1st_colIxxEEvRNS_25Sublattice_RepresentationIT_EENS_6MatrixIT0_EES7_b+0x291)[0x7fa4730d0881]
/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZN11libnormaliz14ProjectAndLiftIxxE7computeEbb+0x194)[0x7fa473104e54]
/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZN11libnormaliz4ConeI10__gmp_exprIA1_12__mpz_structS3_EE16project_and_liftERNS_14ConePropertiesERNS_6MatrixIS4_EERKS9_SA_b+0x839)[0x7fa473179b69]
/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZN11libnormaliz4ConeI10__gmp_exprIA1_12__mpz_structS3_EE31try_approximation_or_projectionERNS_14ConePropertiesE+0xf00)[0x7fa4731f5370]
/home/travis/sage-build/local/lib/libnormaliz.so.3(_ZN11libnormaliz4ConeI10__gmp_exprIA1_12__mpz_structS3_EE7computeENS_14ConePropertiesE+0x1e1)[0x7fa4731e8671]
/home/travis/sage-build/local/lib/python2.7/site-packages/PyNormaliz_cpp.so(_Z14_NmzResultImplI10__gmp_exprIA1_12__mpz_structS2_EEP7_objectPN11libnormaliz4ConeIT_EES5_+0x75)[0x7fa4734f6cc5]
/home/travis/sage-build/local/lib/python2.7/site-packages/PyNormaliz_cpp.so(_Z10_NmzResultP7_objectS0_+0x150)[0x7fa4734ed890]
```
Originally found by

```
sage: RC = RiggedConfigurations(['E',8,1], [[3,2]])
sage: len(RC.module_generators)
python2: ./libnormaliz/matrix.cpp:2901: libnormaliz::Matrix<Integer> libnormaliz::Matrix<Integer>::LLL_red(libnormaliz::Matrix<Integer>&, libnormaliz::Matrix<Integer>&) const [with Integer = double]: Assertion `(int) rank()==n' failed.
```
(Mathematical note, through trying to find a smaller example, I am noticing that E<sub>8</sub><sup>(1)</sup> is special in that it is the only place where I see non-full-dimensional non-empty polytopes in my computations. Well, I also see a 0-dimensional polytope for type D<sub>4</sub><sup>(3)</sup>, but that doesn't cause a crash as it is likely special-cased.)

---

Also can you update the comment before `--enable-flint` to also say you enable flint as it is part of the standard packages of Sage?



---

archive/issue_comments_424631.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2018-03-03T23:52:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424631",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_424632.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-03-03T23:52:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424632",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_424633.json:
```json
{
    "body": "<a id='comment:13'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|\n|[b8f7abc](https://github.com/sagemath/sagetrac-mirror/commit/b8f7abc04085155225e54ad168ce4a7884fdd6cf)|`normaliz/spkg-install: Explain --enable-flint`|",
    "created_at": "2018-03-04T00:06:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424633",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|
|[b8f7abc](https://github.com/sagemath/sagetrac-mirror/commit/b8f7abc04085155225e54ad168ce4a7884fdd6cf)|`normaliz/spkg-install: Explain --enable-flint`|



---

archive/issue_comments_424634.json:
```json
{
    "body": "Changing commit from \"f2137cc5bb49278657ce23f0f8c775400b494023\" to \"b8f7abc04085155225e54ad168ce4a7884fdd6cf\"",
    "created_at": "2018-03-04T00:06:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424634",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f2137cc5bb49278657ce23f0f8c775400b494023" to "b8f7abc04085155225e54ad168ce4a7884fdd6cf"



---

archive/issue_comments_424635.json:
```json
{
    "body": "<a id='comment:14'></a>\nI can confirm this crash. Here on Mac OS X, this actually becomes an unhandled SIGABRT:\n\n```\nAssertion failed: ((int) rank()==n), function LLL_red, file ./libnormaliz/matrix.cpp, line 2901.\n------------------------------------------------------------------------\n0   signals.so                          0x000000010af572d8 print_backtrace + 40\n1   ???                                 0x000000010dcac1e0 0x0 + 4526359008\n------------------------------------------------------------------------\nUnhandled SIGABRT: An abort() occurred.\nThis probably occurred because a *compiled* module has a bug\nin it and is not properly wrapped with sig_on(), sig_off().\nPython will now terminate.\n```",
    "created_at": "2018-03-04T00:24:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424635",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>
I can confirm this crash. Here on Mac OS X, this actually becomes an unhandled SIGABRT:

```
Assertion failed: ((int) rank()==n), function LLL_red, file ./libnormaliz/matrix.cpp, line 2901.
------------------------------------------------------------------------
0   signals.so                          0x000000010af572d8 print_backtrace + 40
1   ???                                 0x000000010dcac1e0 0x0 + 4526359008
------------------------------------------------------------------------
Unhandled SIGABRT: An abort() occurred.
This probably occurred because a *compiled* module has a bug
in it and is not properly wrapped with sig_on(), sig_off().
Python will now terminate.
```



---

archive/issue_comments_424636.json:
```json
{
    "body": "<a id='comment:15'></a>\nUpstream master branch (8db5b68491a105b9185a01c29c2f126f5115e238) has different behavior but does not fix this.",
    "created_at": "2018-03-04T03:57:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424636",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>
Upstream master branch (8db5b68491a105b9185a01c29c2f126f5115e238) has different behavior but does not fix this.



---

archive/issue_comments_424637.json:
```json
{
    "body": "Changing reviewer from \"Travis Scrimshaw\" to \"Travis Scrimshaw, Thierry Monteil\"",
    "created_at": "2018-03-04T10:02:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424637",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing reviewer from "Travis Scrimshaw" to "Travis Scrimshaw, Thierry Monteil"



---

archive/issue_comments_424638.json:
```json
{
    "body": "<a id='comment:16'></a>\nI confirm that the packages build and pass self-tests and doctests correctly on both 64 and 32 bit architectures on Debian stretch. I also comfirm that there is a crash on both architectures regarding the test provided by Travis (which should be added in our doctests, once the issue is fixed).",
    "created_at": "2018-03-04T10:02:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424638",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:16'></a>
I confirm that the packages build and pass self-tests and doctests correctly on both 64 and 32 bit architectures on Debian stretch. I also comfirm that there is a crash on both architectures regarding the test provided by Travis (which should be added in our doctests, once the issue is fixed).



---

archive/issue_comments_424639.json:
```json
{
    "body": "<a id='comment:17'></a>\nI am not sure what the matrix ieqs represents. My interpretation: inhomogeneous inequalities, and we want to compute the lattice points in the polytope they define. Under this assumption I have made a Normaliz input file rash.in\n\n```\namb_space auto\ninhom_inequalities\n[[0, 2, 0, -1, 0, 0, 0, 0, 0],\n...\n[0, 0, 0, 0, 0, 0, 0, 0, 1]]\nHilbertBasis\n```\n\nThen a run of \n\n```\nnormaliz -c crash.in\n```\n\nfinishes without any problems in 3.5.1 and the intended 3.5.2. It turns out that the polytope is empty:\n\n```\n0 module generators\n1252 Hilbert basis elements of recession monoid\n0 vertices of polyhedron\n39 extreme rays of recession cone\n11 support hyperplanes of polyhedron (homogenized)\n\nembedding dimension = 9\naffine dimension of the polyhedron = -1\nrank of recession monoid = 8\n...\n```\n\nIs my interpretation of the input correct?",
    "created_at": "2018-03-04T16:44:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424639",
    "user": "https://trac.sagemath.org/admin/accounts/users/Winfried"
}
```

<a id='comment:17'></a>
I am not sure what the matrix ieqs represents. My interpretation: inhomogeneous inequalities, and we want to compute the lattice points in the polytope they define. Under this assumption I have made a Normaliz input file rash.in

```
amb_space auto
inhom_inequalities
[[0, 2, 0, -1, 0, 0, 0, 0, 0],
...
[0, 0, 0, 0, 0, 0, 0, 0, 1]]
HilbertBasis
```

Then a run of 

```
normaliz -c crash.in
```

finishes without any problems in 3.5.1 and the intended 3.5.2. It turns out that the polytope is empty:

```
0 module generators
1252 Hilbert basis elements of recession monoid
0 vertices of polyhedron
39 extreme rays of recession cone
11 support hyperplanes of polyhedron (homogenized)

embedding dimension = 9
affine dimension of the polyhedron = -1
rank of recession monoid = 8
...
```

Is my interpretation of the input correct?



---

archive/issue_comments_424640.json:
```json
{
    "body": "<a id='comment:18'></a>\nOf course, if the matrix represents inhomogeneous inequalities, what is the RHS? My input above assumes it is the last coordinate. I will now try with the first.",
    "created_at": "2018-03-04T16:48:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424640",
    "user": "https://trac.sagemath.org/admin/accounts/users/Winfried"
}
```

<a id='comment:18'></a>
Of course, if the matrix represents inhomogeneous inequalities, what is the RHS? My input above assumes it is the last coordinate. I will now try with the first.



---

archive/issue_comments_424641.json:
```json
{
    "body": "<a id='comment:19'></a>\nUnfortunately Normaliz crashes when coordinate 1 is interpreted as the RHS. Will take care of it.",
    "created_at": "2018-03-04T17:18:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424641",
    "user": "https://trac.sagemath.org/admin/accounts/users/Winfried"
}
```

<a id='comment:19'></a>
Unfortunately Normaliz crashes when coordinate 1 is interpreted as the RHS. Will take care of it.



---

archive/issue_comments_424642.json:
```json
{
    "body": "<a id='comment:20'></a>\nThe problem is solved. Replace line 323 of source/libnormaliz/sublattice_representation.h\n\nby\n\n```\n    if(Vertices.nr_of_rows()==0 || Vertices.rank()<EmbDim){ // use Supps for LLL coordinates\n```\n\ni.e., delete \"-1\" in this line.",
    "created_at": "2018-03-04T20:26:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424642",
    "user": "https://trac.sagemath.org/admin/accounts/users/Winfried"
}
```

<a id='comment:20'></a>
The problem is solved. Replace line 323 of source/libnormaliz/sublattice_representation.h

by

```
    if(Vertices.nr_of_rows()==0 || Vertices.rank()<EmbDim){ // use Supps for LLL coordinates
```

i.e., delete "-1" in this line.



---

archive/issue_comments_424643.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,3 +4,4 @@\n - https://github.com/Normaliz/Normaliz/releases/download/v3.5.1/normaliz-3.5.1.tar.gz\n - https://pypi.python.org/packages/47/99/c9043d8392f99c9c4013eb82ce931f75ef64d6fd665cd8d008ce80be881e/PyNormaliz-1.10.tar.gz#md5=89b212de8e833205b9776b1ef90c3585\n \n+Upstream bug: https://github.com/Normaliz/Normaliz/issues/176\n``````\n",
    "created_at": "2018-03-04T22:42:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424643",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,3 +4,4 @@
 - https://github.com/Normaliz/Normaliz/releases/download/v3.5.1/normaliz-3.5.1.tar.gz
 - https://pypi.python.org/packages/47/99/c9043d8392f99c9c4013eb82ce931f75ef64d6fd665cd8d008ce80be881e/PyNormaliz-1.10.tar.gz#md5=89b212de8e833205b9776b1ef90c3585
 
+Upstream bug: https://github.com/Normaliz/Normaliz/issues/176
``````




---

archive/issue_comments_424644.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [Winfried](#comment%3A20):\n> The problem is solved. Replace line 323 of source/libnormaliz/sublattice_representation.h\n> \n> by\n> \n> \n> ```\n>     if(Vertices.nr_of_rows()==0 || Vertices.rank()<EmbDim){ // use Supps for LLL coordinates\n> ```\n> \n> i.e., delete \"-1\" in this line.\n\n\nGreat, thank you for figuring it out. I am guessing you are in the process of making a commit upstream or should I do a pull request?",
    "created_at": "2018-03-04T22:42:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424644",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:21'></a>
Replying to [Winfried](#comment%3A20):
> The problem is solved. Replace line 323 of source/libnormaliz/sublattice_representation.h
> 
> by
> 
> 
> ```
>     if(Vertices.nr_of_rows()==0 || Vertices.rank()<EmbDim){ // use Supps for LLL coordinates
> ```
> 
> i.e., delete "-1" in this line.


Great, thank you for figuring it out. I am guessing you are in the process of making a commit upstream or should I do a pull request?



---

archive/issue_comments_424645.json:
```json
{
    "body": "Changing upstream from \"N/A\" to \"Reported upstream. Developers acknowledge bug.\"",
    "created_at": "2018-03-04T22:42:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424645",
    "user": "https://github.com/tscrim"
}
```

Changing upstream from "N/A" to "Reported upstream. Developers acknowledge bug."



---

archive/issue_comments_424646.json:
```json
{
    "body": "<a id='comment:22'></a>\nI've pushed a branch with a fix for this problem. However, I have now come across another crash:\n\n```\nsage: RC = RiggedConfigurations(['E',8,1], [[4,2]])\nsage: len(RC.module_generators)\npython2: ./libnormaliz/project_and_lift.cpp:75: std::vector<long unsigned int> libnormaliz::ProjectAndLift<IntegerPL, IntegerRet>::order_supps(const libnormaliz::Matrix<Integer>&) [with IntegerPL = long long int; IntegerRet = long long int]: Assertion `Supps.nr_of_rows()>0' failed.\n------------------------------------------------------------------------\n```\nI have verified that this did at least not crash before (well, up to my patience level of 2 minutes).\n\nHowever, **much** more worrying is this:\n\n```\nsage: RC = RiggedConfigurations(['E',8,1], [[5,2]])\nsage: %time len(RC.module_generators)\nCPU times: user 25 s, sys: 52 ms, total: 25 s\nWall time: 6.95 s\n6009\n```\nversus before\n\n```\nsage: RC = RiggedConfigurations(['E',8,1], [[5,2]])\nsage: %time len(RC.module_generators)\nCPU times: user 1min 11s, sys: 320 ms, total: 1min 11s\nWall time: 14.6 s\n7066\n```\nAlthough the `[5,1]` example both returns 75.\n\nI will extract the polytopes and find out which one gives a different number of lattice points. Give me a few minutes.\n\n---\nNew commits:\n|                                                                                                                                          |                                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|\n|[f9f17a4](https://github.com/sagemath/sagetrac-mirror/commit/f9f17a432b4d669ce88a963de93bbc2677b552be)|`Added patch to fix upstream issue #176.`|",
    "created_at": "2018-03-04T23:10:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424646",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:22'></a>
I've pushed a branch with a fix for this problem. However, I have now come across another crash:

```
sage: RC = RiggedConfigurations(['E',8,1], [[4,2]])
sage: len(RC.module_generators)
python2: ./libnormaliz/project_and_lift.cpp:75: std::vector<long unsigned int> libnormaliz::ProjectAndLift<IntegerPL, IntegerRet>::order_supps(const libnormaliz::Matrix<Integer>&) [with IntegerPL = long long int; IntegerRet = long long int]: Assertion `Supps.nr_of_rows()>0' failed.
------------------------------------------------------------------------
```
I have verified that this did at least not crash before (well, up to my patience level of 2 minutes).

However, **much** more worrying is this:

```
sage: RC = RiggedConfigurations(['E',8,1], [[5,2]])
sage: %time len(RC.module_generators)
CPU times: user 25 s, sys: 52 ms, total: 25 s
Wall time: 6.95 s
6009
```
versus before

```
sage: RC = RiggedConfigurations(['E',8,1], [[5,2]])
sage: %time len(RC.module_generators)
CPU times: user 1min 11s, sys: 320 ms, total: 1min 11s
Wall time: 14.6 s
7066
```
Although the `[5,1]` example both returns 75.

I will extract the polytopes and find out which one gives a different number of lattice points. Give me a few minutes.

---
New commits:
|                                                                                                                                          |                                         |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|
|[f9f17a4](https://github.com/sagemath/sagetrac-mirror/commit/f9f17a432b4d669ce88a963de93bbc2677b552be)|`Added patch to fix upstream issue #176.`|



---

archive/issue_comments_424647.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/upgrade_normaliz_to_3_4_0_and_pynormaliz_to_1_7\" to \"u/tscrim/upgrade_noramliz_pynormaliz-22984\"",
    "created_at": "2018-03-04T23:10:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424647",
    "user": "https://github.com/tscrim"
}
```

Changing branch from "u/mkoeppe/upgrade_normaliz_to_3_4_0_and_pynormaliz_to_1_7" to "u/tscrim/upgrade_noramliz_pynormaliz-22984"



---

archive/issue_comments_424648.json:
```json
{
    "body": "Changing commit from \"b8f7abc04085155225e54ad168ce4a7884fdd6cf\" to \"f9f17a432b4d669ce88a963de93bbc2677b552be\"",
    "created_at": "2018-03-04T23:10:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424648",
    "user": "https://github.com/tscrim"
}
```

Changing commit from "b8f7abc04085155225e54ad168ce4a7884fdd6cf" to "f9f17a432b4d669ce88a963de93bbc2677b552be"



---

archive/issue_comments_424649.json:
```json
{
    "body": "<a id='comment:23'></a>\nOkay, here is the `[4,1]` computation to completion:\n\n```\nsage: RC = RiggedConfigurations(['E',8,1], [[4,2]])\nsage: %time len(RC.module_generators)\nCPU times: user 19min 37s, sys: 5.2 s, total: 19min 42s\nWall time: 4min 37s\n288299\n```",
    "created_at": "2018-03-04T23:19:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424649",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:23'></a>
Okay, here is the `[4,1]` computation to completion:

```
sage: RC = RiggedConfigurations(['E',8,1], [[4,2]])
sage: %time len(RC.module_generators)
CPU times: user 19min 37s, sys: 5.2 s, total: 19min 42s
Wall time: 4min 37s
288299
```



---

archive/issue_comments_424650.json:
```json
{
    "body": "<a id='comment:24'></a>\nOkay, here is at least the first polytope that goes wrong:\n\n```\nsage: ieqs = [[0, 2, 0, -1, 0, 0, 0, 0, 0],\n....:         [0, 0, 2, 0, -1, 0, 0, 0, 0],\n....:         [1, -1, 0, 2, -1, 0, 0, 0, 0],\n....:         [0, 0, -1, -1, 2, -1, 0, 0, 0],\n....:         [0, 0, 0, 0, -1, 2, -1, 0, 0],\n....:         [0, 0, 0, 0, 0, -1, 2, -1, 0],\n....:         [1, 0, 0, 0, 0, 0, -1, 2, -1],\n....:         [0, 0, 0, 0, 0, 0, 0, -1, 2],\n....:         [0, -1, 0, 0, 0, 0, 0, 0, 0],\n....:         [0, 0, -1, 0, 0, 0, 0, 0, 0],\n....:         [0, 0, 0, -1, 0, 0, 0, 0, 0],\n....:         [0, 0, 0, 0, -1, 0, 0, 0, 0],\n....:         [0, 0, 0, 0, 0, -1, 0, 0, 0],\n....:         [0, 0, 0, 0, 0, 0, -1, 0, 0],\n....:         [0, 0, 0, 0, 0, 0, 0, -1, 0],\n....:         [0, 0, 0, 0, 0, 0, 0, 0, -1],\n....:         [-1, -1, -1, -1, -1, -1, -1, -1, -1],\n....:         [2, 1, 0, 0, 0, 0, 0, 0, 0],\n....:         [4, 0, 1, 0, 0, 0, 0, 0, 0],\n....:         [4, 0, 0, 1, 0, 0, 0, 0, 0],\n....:         [7, 0, 0, 0, 1, 0, 0, 0, 0],\n....:         [6, 0, 0, 0, 0, 1, 0, 0, 0],\n....:         [4, 0, 0, 0, 0, 0, 1, 0, 0],\n....:         [2, 0, 0, 0, 0, 0, 0, 1, 0],\n....:         [1, 0, 0, 0, 0, 0, 0, 0, 1]]\nsage: P = Polyhedron(ieqs=ieqs, backend='normaliz')\nsage: P.integral_points()\n((-2, -2, -4, -5, -4, -3, -2, -1),\n (-2, -2, -4, -5, -4, -3, -2, 0),\n (-1, -2, -3, -4, -3, -2, -2, -1),\n (-1, -2, -3, -4, -3, -2, -1, 0),\n (-1, -1, -2, -2, -2, -2, -2, -1),\n (-1, -1, -2, -2, -1, -1, -1, 0),\n (-1, -1, -2, -2, -1, 0, 0, 0),\n (-1, 0, -2, -2, -2, -2, -2, -1),\n (0, -1, -1, -2, -2, -2, -2, -1),\n (0, 0, -1, -1, -1, -1, -1, 0))\nsage: P\nA 8-dimensional polyhedron in QQ^8 defined as the convex hull of 134 vertices\n```\nversus the new version with the patch:\n\n```\nsage: P.integral_points()\n((-1, -2, -3, -4, -3, -2, -1, 0), (0, -1, -1, -2, -2, -2, -2, -1))\n```",
    "created_at": "2018-03-04T23:39:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424650",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:24'></a>
Okay, here is at least the first polytope that goes wrong:

```
sage: ieqs = [[0, 2, 0, -1, 0, 0, 0, 0, 0],
....:         [0, 0, 2, 0, -1, 0, 0, 0, 0],
....:         [1, -1, 0, 2, -1, 0, 0, 0, 0],
....:         [0, 0, -1, -1, 2, -1, 0, 0, 0],
....:         [0, 0, 0, 0, -1, 2, -1, 0, 0],
....:         [0, 0, 0, 0, 0, -1, 2, -1, 0],
....:         [1, 0, 0, 0, 0, 0, -1, 2, -1],
....:         [0, 0, 0, 0, 0, 0, 0, -1, 2],
....:         [0, -1, 0, 0, 0, 0, 0, 0, 0],
....:         [0, 0, -1, 0, 0, 0, 0, 0, 0],
....:         [0, 0, 0, -1, 0, 0, 0, 0, 0],
....:         [0, 0, 0, 0, -1, 0, 0, 0, 0],
....:         [0, 0, 0, 0, 0, -1, 0, 0, 0],
....:         [0, 0, 0, 0, 0, 0, -1, 0, 0],
....:         [0, 0, 0, 0, 0, 0, 0, -1, 0],
....:         [0, 0, 0, 0, 0, 0, 0, 0, -1],
....:         [-1, -1, -1, -1, -1, -1, -1, -1, -1],
....:         [2, 1, 0, 0, 0, 0, 0, 0, 0],
....:         [4, 0, 1, 0, 0, 0, 0, 0, 0],
....:         [4, 0, 0, 1, 0, 0, 0, 0, 0],
....:         [7, 0, 0, 0, 1, 0, 0, 0, 0],
....:         [6, 0, 0, 0, 0, 1, 0, 0, 0],
....:         [4, 0, 0, 0, 0, 0, 1, 0, 0],
....:         [2, 0, 0, 0, 0, 0, 0, 1, 0],
....:         [1, 0, 0, 0, 0, 0, 0, 0, 1]]
sage: P = Polyhedron(ieqs=ieqs, backend='normaliz')
sage: P.integral_points()
((-2, -2, -4, -5, -4, -3, -2, -1),
 (-2, -2, -4, -5, -4, -3, -2, 0),
 (-1, -2, -3, -4, -3, -2, -2, -1),
 (-1, -2, -3, -4, -3, -2, -1, 0),
 (-1, -1, -2, -2, -2, -2, -2, -1),
 (-1, -1, -2, -2, -1, -1, -1, 0),
 (-1, -1, -2, -2, -1, 0, 0, 0),
 (-1, 0, -2, -2, -2, -2, -2, -1),
 (0, -1, -1, -2, -2, -2, -2, -1),
 (0, 0, -1, -1, -1, -1, -1, 0))
sage: P
A 8-dimensional polyhedron in QQ^8 defined as the convex hull of 134 vertices
```
versus the new version with the patch:

```
sage: P.integral_points()
((-1, -2, -3, -4, -3, -2, -1, 0), (0, -1, -1, -2, -2, -2, -2, -1))
```



---

archive/issue_comments_424651.json:
```json
{
    "body": "<a id='comment:25'></a>\nHere's also the example that causes the new crash:\n\n```\nsage: ieqs = [[0, 2, 0, -1, 0, 0, 0, 0, 0],\n....:         [0, 0, 2, 0, -1, 0, 0, 0, 0],\n....:         [0, -1, 0, 2, -1, 0, 0, 0, 0],\n....:         [1, 0, -1, -1, 2, -1, 0, 0, 0],\n....:         [0, 0, 0, 0, -1, 2, -1, 0, 0],\n....:         [0, 0, 0, 0, 0, -1, 2, -1, 0],\n....:         [1, 0, 0, 0, 0, 0, -1, 2, -1],\n....:         [0, 0, 0, 0, 0, 0, 0, -1, 2],\n....:         [0, -1, 0, 0, 0, 0, 0, 0, 0],\n....:         [0, 0, -1, 0, 0, 0, 0, 0, 0],\n....:         [0, 0, 0, -1, 0, 0, 0, 0, 0],\n....:         [0, 0, 0, 0, -1, 0, 0, 0, 0],\n....:         [0, 0, 0, 0, 0, -1, 0, 0, 0],\n....:         [0, 0, 0, 0, 0, 0, -1, 0, 0],\n....:         [0, 0, 0, 0, 0, 0, 0, -1, 0],\n....:         [0, 0, 0, 0, 0, 0, 0, 0, -1],\n....:         [-1, -1, -1, -1, -1, -1, -1, -1, -1],\n....:         [3, 1, 0, 0, 0, 0, 0, 0, 0],\n....:         [4, 0, 1, 0, 0, 0, 0, 0, 0],\n....:         [6, 0, 0, 1, 0, 0, 0, 0, 0],\n....:         [8, 0, 0, 0, 1, 0, 0, 0, 0],\n....:         [6, 0, 0, 0, 0, 1, 0, 0, 0],\n....:         [4, 0, 0, 0, 0, 0, 1, 0, 0],\n....:         [2, 0, 0, 0, 0, 0, 0, 1, 0],\n....:         [1, 0, 0, 0, 0, 0, 0, 0, 1]]\nsage: P = Polyhedron(ieqs=ieqs, backend='normaliz')\nsage: P.integral_points()\npython2: ./libnormaliz/project_and_lift.cpp:75: std::vector<long unsigned int> libnormaliz::ProjectAndLift<IntegerPL, IntegerRet>::order_supps(const libnormaliz::Matrix<Integer>&) [with IntegerPL = long long int; IntegerRet = long long int]: Assertion `Supps.nr_of_rows()>0' failed.\n------------------------------------------------------------------------\n```",
    "created_at": "2018-03-04T23:46:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424651",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:25'></a>
Here's also the example that causes the new crash:

```
sage: ieqs = [[0, 2, 0, -1, 0, 0, 0, 0, 0],
....:         [0, 0, 2, 0, -1, 0, 0, 0, 0],
....:         [0, -1, 0, 2, -1, 0, 0, 0, 0],
....:         [1, 0, -1, -1, 2, -1, 0, 0, 0],
....:         [0, 0, 0, 0, -1, 2, -1, 0, 0],
....:         [0, 0, 0, 0, 0, -1, 2, -1, 0],
....:         [1, 0, 0, 0, 0, 0, -1, 2, -1],
....:         [0, 0, 0, 0, 0, 0, 0, -1, 2],
....:         [0, -1, 0, 0, 0, 0, 0, 0, 0],
....:         [0, 0, -1, 0, 0, 0, 0, 0, 0],
....:         [0, 0, 0, -1, 0, 0, 0, 0, 0],
....:         [0, 0, 0, 0, -1, 0, 0, 0, 0],
....:         [0, 0, 0, 0, 0, -1, 0, 0, 0],
....:         [0, 0, 0, 0, 0, 0, -1, 0, 0],
....:         [0, 0, 0, 0, 0, 0, 0, -1, 0],
....:         [0, 0, 0, 0, 0, 0, 0, 0, -1],
....:         [-1, -1, -1, -1, -1, -1, -1, -1, -1],
....:         [3, 1, 0, 0, 0, 0, 0, 0, 0],
....:         [4, 0, 1, 0, 0, 0, 0, 0, 0],
....:         [6, 0, 0, 1, 0, 0, 0, 0, 0],
....:         [8, 0, 0, 0, 1, 0, 0, 0, 0],
....:         [6, 0, 0, 0, 0, 1, 0, 0, 0],
....:         [4, 0, 0, 0, 0, 0, 1, 0, 0],
....:         [2, 0, 0, 0, 0, 0, 0, 1, 0],
....:         [1, 0, 0, 0, 0, 0, 0, 0, 1]]
sage: P = Polyhedron(ieqs=ieqs, backend='normaliz')
sage: P.integral_points()
python2: ./libnormaliz/project_and_lift.cpp:75: std::vector<long unsigned int> libnormaliz::ProjectAndLift<IntegerPL, IntegerRet>::order_supps(const libnormaliz::Matrix<Integer>&) [with IntegerPL = long long int; IntegerRet = long long int]: Assertion `Supps.nr_of_rows()>0' failed.
------------------------------------------------------------------------
```



---

archive/issue_comments_424652.json:
```json
{
    "body": "<a id='comment:26'></a>\nA hint: If you use `P = Polyhedron(ieqs=ieqs, backend='normaliz', verbose=True)`, the `PyNormaliz` invocations are shown, making it easier for upstream",
    "created_at": "2018-03-04T23:52:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424652",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:26'></a>
A hint: If you use `P = Polyhedron(ieqs=ieqs, backend='normaliz', verbose=True)`, the `PyNormaliz` invocations are shown, making it easier for upstream



---

archive/issue_comments_424653.json:
```json
{
    "body": "<a id='comment:27'></a>\nI wasn't aware of that, thank you. Although it does not yield much more information on the new crash:\n\n```\nsage: P = Polyhedron(ieqs=ieqs, backend='normaliz', verbose=True)\n# Calling PyNormaliz.NmzCone(['inhom_equations', [], 'inhom_inequalities',\n [[2, 0, -1, 0, 0, 0, 0, 0, 0], [0, 2, 0, -1, 0, 0, 0, 0, 0],\n [-1, 0, 2, -1, 0, 0, 0, 0, 0], [0, -1, -1, 2, -1, 0, 0, 0, 1],\n [0, 0, 0, -1, 2, -1, 0, 0, 0], [0, 0, 0, 0, -1, 2, -1, 0, 0],\n [0, 0, 0, 0, 0, -1, 2, -1, 1], [0, 0, 0, 0, 0, 0, -1, 2, 0],\n [-1, 0, 0, 0, 0, 0, 0, 0, 0], [0, -1, 0, 0, 0, 0, 0, 0, 0],\n [0, 0, -1, 0, 0, 0, 0, 0, 0], [0, 0, 0, -1, 0, 0, 0, 0, 0],\n [0, 0, 0, 0, -1, 0, 0, 0, 0], [0, 0, 0, 0, 0, -1, 0, 0, 0],\n [0, 0, 0, 0, 0, 0, -1, 0, 0], [0, 0, 0, 0, 0, 0, 0, -1, 0],\n [-1, -1, -1, -1, -1, -1, -1, -1, -1], [1, 0, 0, 0, 0, 0, 0, 0, 3],\n [0, 1, 0, 0, 0, 0, 0, 0, 4], [0, 0, 1, 0, 0, 0, 0, 0, 6],\n [0, 0, 0, 1, 0, 0, 0, 0, 8], [0, 0, 0, 0, 1, 0, 0, 0, 6],\n [0, 0, 0, 0, 0, 1, 0, 0, 4], [0, 0, 0, 0, 0, 0, 1, 0, 2],\n [0, 0, 0, 0, 0, 0, 0, 1, 1]]])\nsage: P.integral_points()\npython2: ./libnormaliz/project_and_lift.cpp:75: std::vector<long unsigned int> libnormaliz::ProjectAndLift<IntegerPL, IntegerRet>::order_supps(const libnormaliz::Matrix<Integer>&) [with IntegerPL = long long int; IntegerRet = long long int]: Assertion `Supps.nr_of_rows()>0' failed.\n------------------------------------------------------------------------\n```\n\nHere is also the output for the lattice point computation:\n\n```\nsage: P = Polyhedron(ieqs=ieqs, backend='normaliz', verbose=True)\n# Calling PyNormaliz.NmzCone(['inhom_equations', [], 'inhom_inequalities',\n [[2, 0, -1, 0, 0, 0, 0, 0, 0], [0, 2, 0, -1, 0, 0, 0, 0, 0],\n [-1, 0, 2, -1, 0, 0, 0, 0, 1], [0, -1, -1, 2, -1, 0, 0, 0, 0],\n [0, 0, 0, -1, 2, -1, 0, 0, 0], [0, 0, 0, 0, -1, 2, -1, 0, 0],\n [0, 0, 0, 0, 0, -1, 2, -1, 1], [0, 0, 0, 0, 0, 0, -1, 2, 0],\n [-1, 0, 0, 0, 0, 0, 0, 0, 0], [0, -1, 0, 0, 0, 0, 0, 0, 0],\n [0, 0, -1, 0, 0, 0, 0, 0, 0], [0, 0, 0, -1, 0, 0, 0, 0, 0],\n [0, 0, 0, 0, -1, 0, 0, 0, 0], [0, 0, 0, 0, 0, -1, 0, 0, 0],\n [0, 0, 0, 0, 0, 0, -1, 0, 0], [0, 0, 0, 0, 0, 0, 0, -1, 0],\n [-1, -1, -1, -1, -1, -1, -1, -1, -1], [1, 0, 0, 0, 0, 0, 0, 0, 2],\n [0, 1, 0, 0, 0, 0, 0, 0, 4], [0, 0, 1, 0, 0, 0, 0, 0, 4],\n [0, 0, 0, 1, 0, 0, 0, 0, 7], [0, 0, 0, 0, 1, 0, 0, 0, 6],\n [0, 0, 0, 0, 0, 1, 0, 0, 4], [0, 0, 0, 0, 0, 0, 1, 0, 2],\n [0, 0, 0, 0, 0, 0, 0, 1, 1]]])\nsage: P.integral_points()\n((-1, -2, -3, -4, -3, -2, -1, 0), (0, -1, -1, -2, -2, -2, -2, -1))\n```",
    "created_at": "2018-03-05T00:09:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424653",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:27'></a>
I wasn't aware of that, thank you. Although it does not yield much more information on the new crash:

```
sage: P = Polyhedron(ieqs=ieqs, backend='normaliz', verbose=True)
# Calling PyNormaliz.NmzCone(['inhom_equations', [], 'inhom_inequalities',
 [[2, 0, -1, 0, 0, 0, 0, 0, 0], [0, 2, 0, -1, 0, 0, 0, 0, 0],
 [-1, 0, 2, -1, 0, 0, 0, 0, 0], [0, -1, -1, 2, -1, 0, 0, 0, 1],
 [0, 0, 0, -1, 2, -1, 0, 0, 0], [0, 0, 0, 0, -1, 2, -1, 0, 0],
 [0, 0, 0, 0, 0, -1, 2, -1, 1], [0, 0, 0, 0, 0, 0, -1, 2, 0],
 [-1, 0, 0, 0, 0, 0, 0, 0, 0], [0, -1, 0, 0, 0, 0, 0, 0, 0],
 [0, 0, -1, 0, 0, 0, 0, 0, 0], [0, 0, 0, -1, 0, 0, 0, 0, 0],
 [0, 0, 0, 0, -1, 0, 0, 0, 0], [0, 0, 0, 0, 0, -1, 0, 0, 0],
 [0, 0, 0, 0, 0, 0, -1, 0, 0], [0, 0, 0, 0, 0, 0, 0, -1, 0],
 [-1, -1, -1, -1, -1, -1, -1, -1, -1], [1, 0, 0, 0, 0, 0, 0, 0, 3],
 [0, 1, 0, 0, 0, 0, 0, 0, 4], [0, 0, 1, 0, 0, 0, 0, 0, 6],
 [0, 0, 0, 1, 0, 0, 0, 0, 8], [0, 0, 0, 0, 1, 0, 0, 0, 6],
 [0, 0, 0, 0, 0, 1, 0, 0, 4], [0, 0, 0, 0, 0, 0, 1, 0, 2],
 [0, 0, 0, 0, 0, 0, 0, 1, 1]]])
sage: P.integral_points()
python2: ./libnormaliz/project_and_lift.cpp:75: std::vector<long unsigned int> libnormaliz::ProjectAndLift<IntegerPL, IntegerRet>::order_supps(const libnormaliz::Matrix<Integer>&) [with IntegerPL = long long int; IntegerRet = long long int]: Assertion `Supps.nr_of_rows()>0' failed.
------------------------------------------------------------------------
```

Here is also the output for the lattice point computation:

```
sage: P = Polyhedron(ieqs=ieqs, backend='normaliz', verbose=True)
# Calling PyNormaliz.NmzCone(['inhom_equations', [], 'inhom_inequalities',
 [[2, 0, -1, 0, 0, 0, 0, 0, 0], [0, 2, 0, -1, 0, 0, 0, 0, 0],
 [-1, 0, 2, -1, 0, 0, 0, 0, 1], [0, -1, -1, 2, -1, 0, 0, 0, 0],
 [0, 0, 0, -1, 2, -1, 0, 0, 0], [0, 0, 0, 0, -1, 2, -1, 0, 0],
 [0, 0, 0, 0, 0, -1, 2, -1, 1], [0, 0, 0, 0, 0, 0, -1, 2, 0],
 [-1, 0, 0, 0, 0, 0, 0, 0, 0], [0, -1, 0, 0, 0, 0, 0, 0, 0],
 [0, 0, -1, 0, 0, 0, 0, 0, 0], [0, 0, 0, -1, 0, 0, 0, 0, 0],
 [0, 0, 0, 0, -1, 0, 0, 0, 0], [0, 0, 0, 0, 0, -1, 0, 0, 0],
 [0, 0, 0, 0, 0, 0, -1, 0, 0], [0, 0, 0, 0, 0, 0, 0, -1, 0],
 [-1, -1, -1, -1, -1, -1, -1, -1, -1], [1, 0, 0, 0, 0, 0, 0, 0, 2],
 [0, 1, 0, 0, 0, 0, 0, 0, 4], [0, 0, 1, 0, 0, 0, 0, 0, 4],
 [0, 0, 0, 1, 0, 0, 0, 0, 7], [0, 0, 0, 0, 1, 0, 0, 0, 6],
 [0, 0, 0, 0, 0, 1, 0, 0, 4], [0, 0, 0, 0, 0, 0, 1, 0, 2],
 [0, 0, 0, 0, 0, 0, 0, 1, 1]]])
sage: P.integral_points()
((-1, -2, -3, -4, -3, -2, -1, 0), (0, -1, -1, -2, -2, -2, -2, -1))
```



---

archive/issue_comments_424654.json:
```json
{
    "body": "<a id='comment:28'></a>\nPS - That means the docstring for `Polyhedron` needs a minor adjustment:\n\n```\n    - ``verbose`` -- boolean (default: ``False``). Whether to print\n      verbose output for debugging purposes. Only supported by the cdd\n      backends.\n```",
    "created_at": "2018-03-05T00:11:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424654",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:28'></a>
PS - That means the docstring for `Polyhedron` needs a minor adjustment:

```
    - ``verbose`` -- boolean (default: ``False``). Whether to print
      verbose output for debugging purposes. Only supported by the cdd
      backends.
```



---

archive/issue_comments_424655.json:
```json
{
    "body": "<a id='comment:29'></a>\nThe wrong number of lattice points is a more severe problem. I don't have an explanation for it.\n\nThe (first and solved) problem in sublattice_representation.h has nothing to do with it. After the change in sublattice_representation.h:323 a second problem has become visible there in Normaliz' own tests. One must change line 325 to\n\n```\n        if(SuppHelp.rank()<EmbDim-1)\n```\n\nBut againthis has nothing to do with the wrong number of lattice points.",
    "created_at": "2018-03-05T00:23:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424655",
    "user": "https://trac.sagemath.org/admin/accounts/users/Winfried"
}
```

<a id='comment:29'></a>
The wrong number of lattice points is a more severe problem. I don't have an explanation for it.

The (first and solved) problem in sublattice_representation.h has nothing to do with it. After the change in sublattice_representation.h:323 a second problem has become visible there in Normaliz' own tests. One must change line 325 to

```
        if(SuppHelp.rank()<EmbDim-1)
```

But againthis has nothing to do with the wrong number of lattice points.



---

archive/issue_comments_424656.json:
```json
{
    "body": "Changing commit from \"f9f17a432b4d669ce88a963de93bbc2677b552be\" to \"d3f7ceb711bc98ae06bf4d9a921ee376c09c3fda\"",
    "created_at": "2018-03-05T03:30:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424656",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f9f17a432b4d669ce88a963de93bbc2677b552be" to "d3f7ceb711bc98ae06bf4d9a921ee376c09c3fda"



---

archive/issue_comments_424657.json:
```json
{
    "body": "<a id='comment:30'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|\n|[d3f7ceb](https://github.com/sagemath/sagetrac-mirror/commit/d3f7ceb711bc98ae06bf4d9a921ee376c09c3fda)|`New version of patch to fix next crash.`|",
    "created_at": "2018-03-05T03:30:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424657",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|
|[d3f7ceb](https://github.com/sagemath/sagetrac-mirror/commit/d3f7ceb711bc98ae06bf4d9a921ee376c09c3fda)|`New version of patch to fix next crash.`|



---

archive/issue_comments_424658.json:
```json
{
    "body": "<a id='comment:31'></a>\nReplying to [Winfried](#comment%3A29):\n> The wrong number of lattice points is a more severe problem. I don't have an explanation for it.\n\n\nI am afraid all I can do is give you examples from my use-case as I do not understand too much about how Normaliz works. Thank you for your continued efforts and quick responses.\n\n> The (first and solved) problem in sublattice_representation.h has nothing to do with it. After the change in sublattice_representation.h:323 a second problem has become visible there in Normaliz' own tests. One must change line 325 to\n> \n> \n> ```\n>         if(SuppHelp.rank()<EmbDim-1)\n> ```\n> \n> But again this has nothing to do with the wrong number of lattice points.\n\n\nI added that to the patch, but (as you might be aware) I am now getting yet another crash with the same example as in[comment:25](#comment%3A25):\n\n```\nsage: P = Polyhedron(ieqs=ieqs, backend='normaliz', verbose=True)\n# Calling PyNormaliz.NmzCone(['inhom_equations', [], 'inhom_inequalities',\n [[2, 0, -1, 0, 0, 0, 0, 0, 0], [0, 2, 0, -1, 0, 0, 0, 0, 0],\n [-1, 0, 2, -1, 0, 0, 0, 0, 0], [0, -1, -1, 2, -1, 0, 0, 0, 1],\n [0, 0, 0, -1, 2, -1, 0, 0, 0], [0, 0, 0, 0, -1, 2, -1, 0, 0],\n [0, 0, 0, 0, 0, -1, 2, -1, 1], [0, 0, 0, 0, 0, 0, -1, 2, 0],\n [-1, 0, 0, 0, 0, 0, 0, 0, 0], [0, -1, 0, 0, 0, 0, 0, 0, 0],\n [0, 0, -1, 0, 0, 0, 0, 0, 0], [0, 0, 0, -1, 0, 0, 0, 0, 0],\n [0, 0, 0, 0, -1, 0, 0, 0, 0], [0, 0, 0, 0, 0, -1, 0, 0, 0],\n [0, 0, 0, 0, 0, 0, -1, 0, 0], [0, 0, 0, 0, 0, 0, 0, -1, 0],\n [-1, -1, -1, -1, -1, -1, -1, -1, -1], [1, 0, 0, 0, 0, 0, 0, 0, 3],\n [0, 1, 0, 0, 0, 0, 0, 0, 4], [0, 0, 1, 0, 0, 0, 0, 0, 6],\n [0, 0, 0, 1, 0, 0, 0, 0, 8], [0, 0, 0, 0, 1, 0, 0, 0, 6],\n [0, 0, 0, 0, 0, 1, 0, 0, 4], [0, 0, 0, 0, 0, 0, 1, 0, 2],\n [0, 0, 0, 0, 0, 0, 0, 1, 1]]])\nsage: P\nA 8-dimensional polyhedron in QQ^8 defined as the convex hull of 132 vertices\nsage: P.integral_points()\npython2: ./libnormaliz/project_and_lift.cpp:75: std::vector<long unsigned int> libnormaliz::ProjectAndLift<IntegerPL, IntegerRet>::order_supps(const libnormaliz::Matrix<Integer>&) [with IntegerPL = long long int; IntegerRet = long long int]: Assertion `Supps.nr_of_rows()>0' failed.\n------------------------------------------------------------------------\n```\n\nAddendum - It is the same error as before.",
    "created_at": "2018-03-05T03:36:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424658",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:31'></a>
Replying to [Winfried](#comment%3A29):
> The wrong number of lattice points is a more severe problem. I don't have an explanation for it.


I am afraid all I can do is give you examples from my use-case as I do not understand too much about how Normaliz works. Thank you for your continued efforts and quick responses.

> The (first and solved) problem in sublattice_representation.h has nothing to do with it. After the change in sublattice_representation.h:323 a second problem has become visible there in Normaliz' own tests. One must change line 325 to
> 
> 
> ```
>         if(SuppHelp.rank()<EmbDim-1)
> ```
> 
> But again this has nothing to do with the wrong number of lattice points.


I added that to the patch, but (as you might be aware) I am now getting yet another crash with the same example as in[comment:25](#comment%3A25):

```
sage: P = Polyhedron(ieqs=ieqs, backend='normaliz', verbose=True)
# Calling PyNormaliz.NmzCone(['inhom_equations', [], 'inhom_inequalities',
 [[2, 0, -1, 0, 0, 0, 0, 0, 0], [0, 2, 0, -1, 0, 0, 0, 0, 0],
 [-1, 0, 2, -1, 0, 0, 0, 0, 0], [0, -1, -1, 2, -1, 0, 0, 0, 1],
 [0, 0, 0, -1, 2, -1, 0, 0, 0], [0, 0, 0, 0, -1, 2, -1, 0, 0],
 [0, 0, 0, 0, 0, -1, 2, -1, 1], [0, 0, 0, 0, 0, 0, -1, 2, 0],
 [-1, 0, 0, 0, 0, 0, 0, 0, 0], [0, -1, 0, 0, 0, 0, 0, 0, 0],
 [0, 0, -1, 0, 0, 0, 0, 0, 0], [0, 0, 0, -1, 0, 0, 0, 0, 0],
 [0, 0, 0, 0, -1, 0, 0, 0, 0], [0, 0, 0, 0, 0, -1, 0, 0, 0],
 [0, 0, 0, 0, 0, 0, -1, 0, 0], [0, 0, 0, 0, 0, 0, 0, -1, 0],
 [-1, -1, -1, -1, -1, -1, -1, -1, -1], [1, 0, 0, 0, 0, 0, 0, 0, 3],
 [0, 1, 0, 0, 0, 0, 0, 0, 4], [0, 0, 1, 0, 0, 0, 0, 0, 6],
 [0, 0, 0, 1, 0, 0, 0, 0, 8], [0, 0, 0, 0, 1, 0, 0, 0, 6],
 [0, 0, 0, 0, 0, 1, 0, 0, 4], [0, 0, 0, 0, 0, 0, 1, 0, 2],
 [0, 0, 0, 0, 0, 0, 0, 1, 1]]])
sage: P
A 8-dimensional polyhedron in QQ^8 defined as the convex hull of 132 vertices
sage: P.integral_points()
python2: ./libnormaliz/project_and_lift.cpp:75: std::vector<long unsigned int> libnormaliz::ProjectAndLift<IntegerPL, IntegerRet>::order_supps(const libnormaliz::Matrix<Integer>&) [with IntegerPL = long long int; IntegerRet = long long int]: Assertion `Supps.nr_of_rows()>0' failed.
------------------------------------------------------------------------
```

Addendum - It is the same error as before.



---

archive/issue_comments_424659.json:
```json
{
    "body": "<a id='comment:32'></a>\nI think all the observed problems are solved. More tomorrow.",
    "created_at": "2018-03-05T06:36:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424659",
    "user": "https://trac.sagemath.org/admin/accounts/users/Winfried"
}
```

<a id='comment:32'></a>
I think all the observed problems are solved. More tomorrow.



---

archive/issue_comments_424660.json:
```json
{
    "body": "<a id='comment:33'></a>\nGreat, thank you!",
    "created_at": "2018-03-05T06:43:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424660",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:33'></a>
Great, thank you!



---

archive/issue_comments_424661.json:
```json
{
    "body": "<a id='comment:34'></a>\nThe problem with the wrong number of lattice points (or a failing assertion) was not caused by a severe problem, but by a silly bug. As a temporary fix I suggest to include as lines cone.cpp:3804 and 3805\n\n```\n    if(!is_parallelotope)\n        Pair.clear();\n```\n\nSo with some surrounding the code there should be\n\n```\n            is_Computed.set(ConeProperty::IsPointed);\n        }\n    }\n    \n    if(!is_parallelotope)\n        Pair.clear();\n    \n    if(!inhomogeneous && !isComputed(ConeProperty::Grading))\n        return;\n```\n\nI plan to release 3.5.2 at the end of this week. It will contain a more conceptual solution.\n\nPlease test.",
    "created_at": "2018-03-05T18:02:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424661",
    "user": "https://trac.sagemath.org/admin/accounts/users/Winfried"
}
```

<a id='comment:34'></a>
The problem with the wrong number of lattice points (or a failing assertion) was not caused by a severe problem, but by a silly bug. As a temporary fix I suggest to include as lines cone.cpp:3804 and 3805

```
    if(!is_parallelotope)
        Pair.clear();
```

So with some surrounding the code there should be

```
            is_Computed.set(ConeProperty::IsPointed);
        }
    }
    
    if(!is_parallelotope)
        Pair.clear();
    
    if(!inhomogeneous && !isComputed(ConeProperty::Grading))
        return;
```

I plan to release 3.5.2 at the end of this week. It will contain a more conceptual solution.

Please test.



---

archive/issue_comments_424662.json:
```json
{
    "body": "<a id='comment:35'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|\n|[737552d](https://github.com/sagemath/sagetrac-mirror/commit/737552d95ff6d810c56611560fa9b62f888cdafc)|`Updating patch with upstream fix for wrong number of lattice points.`|",
    "created_at": "2018-03-05T22:07:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424662",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|
|[737552d](https://github.com/sagemath/sagetrac-mirror/commit/737552d95ff6d810c56611560fa9b62f888cdafc)|`Updating patch with upstream fix for wrong number of lattice points.`|



---

archive/issue_comments_424663.json:
```json
{
    "body": "Changing commit from \"d3f7ceb711bc98ae06bf4d9a921ee376c09c3fda\" to \"737552d95ff6d810c56611560fa9b62f888cdafc\"",
    "created_at": "2018-03-05T22:07:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424663",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d3f7ceb711bc98ae06bf4d9a921ee376c09c3fda" to "737552d95ff6d810c56611560fa9b62f888cdafc"



---

archive/issue_comments_424664.json:
```json
{
    "body": "<a id='comment:36'></a>\nThank you. I have verified that I get again\n\n```\nsage: RC = RiggedConfigurations(['E',8,1], [[5,2]])\nsage: %time len(RC.module_generators)\nCPU times: user 27.6 s, sys: 68 ms, total: 27.7 s\nWall time: 7.8 s\n7066\nsage: RC = RiggedConfigurations(['E',8,1], [[4,2]])\nsage: %time len(RC.module_generators)\nCPU times: user 5min 6s, sys: 944 ms, total: 5min 7s\nWall time: 1min 36s\n288299\n```\nand the >2x speedup is very impressive. :) I've updated the patch accordingly.\n\n`@`mkoeppe Perhaps we should just wait on this upgrade until 3.5.2 is released to avoid the patch since it will be in just a few days?\n\nAs far as adding tests go, I think we should explicitly add the polytopes mentioned above rather than the RC code. They are isolated and much faster to test.",
    "created_at": "2018-03-05T22:13:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424664",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:36'></a>
Thank you. I have verified that I get again

```
sage: RC = RiggedConfigurations(['E',8,1], [[5,2]])
sage: %time len(RC.module_generators)
CPU times: user 27.6 s, sys: 68 ms, total: 27.7 s
Wall time: 7.8 s
7066
sage: RC = RiggedConfigurations(['E',8,1], [[4,2]])
sage: %time len(RC.module_generators)
CPU times: user 5min 6s, sys: 944 ms, total: 5min 7s
Wall time: 1min 36s
288299
```
and the >2x speedup is very impressive. :) I've updated the patch accordingly.

`@`mkoeppe Perhaps we should just wait on this upgrade until 3.5.2 is released to avoid the patch since it will be in just a few days?

As far as adding tests go, I think we should explicitly add the polytopes mentioned above rather than the RC code. They are isolated and much faster to test.



---

archive/issue_comments_424665.json:
```json
{
    "body": "<a id='comment:37'></a>\nReplying to [tscrim](#comment%3A36):\n> `@`mkoeppe Perhaps we should just wait on this upgrade until 3.5.2 is released to avoid the patch since it will be in just a few days?\n\n\nYes, I think so too.\n\n> As far as adding tests go, I think we should explicitly add the polytopes mentioned above rather than the RC code. They are isolated and much faster to test.\n\n\nI agree.",
    "created_at": "2018-03-05T22:30:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424665",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:37'></a>
Replying to [tscrim](#comment%3A36):
> `@`mkoeppe Perhaps we should just wait on this upgrade until 3.5.2 is released to avoid the patch since it will be in just a few days?


Yes, I think so too.

> As far as adding tests go, I think we should explicitly add the polytopes mentioned above rather than the RC code. They are isolated and much faster to test.


I agree.



---

archive/issue_comments_424666.json:
```json
{
    "body": "<a id='comment:38'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                                                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------|\n|[530302d](https://github.com/sagemath/sagetrac-mirror/commit/530302d6979c495ea15d29e82ca893ac9ca73386)|`Merge branch 'u/tscrim/upgrade_noramliz_pynormaliz-22984' of git://trac.sagemath.org/sage into u/tscrim/upgrade_noramliz_pynormaliz-22984`|\n|[57d40b0](https://github.com/sagemath/sagetrac-mirror/commit/57d40b030deb164404f6a245af0c3734ebf1eb40)|`Upgrade Normaliz to 3.5.2.`|",
    "created_at": "2018-03-14T02:14:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424666",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                                                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------|
|[530302d](https://github.com/sagemath/sagetrac-mirror/commit/530302d6979c495ea15d29e82ca893ac9ca73386)|`Merge branch 'u/tscrim/upgrade_noramliz_pynormaliz-22984' of git://trac.sagemath.org/sage into u/tscrim/upgrade_noramliz_pynormaliz-22984`|
|[57d40b0](https://github.com/sagemath/sagetrac-mirror/commit/57d40b030deb164404f6a245af0c3734ebf1eb40)|`Upgrade Normaliz to 3.5.2.`|



---

archive/issue_comments_424667.json:
```json
{
    "body": "Changing commit from \"737552d95ff6d810c56611560fa9b62f888cdafc\" to \"57d40b030deb164404f6a245af0c3734ebf1eb40\"",
    "created_at": "2018-03-14T02:14:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424667",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "737552d95ff6d810c56611560fa9b62f888cdafc" to "57d40b030deb164404f6a245af0c3734ebf1eb40"



---

archive/issue_comments_424668.json:
```json
{
    "body": "<a id='comment:39'></a>\nHere is with 3.5.2 and the tests I did above now work. Where would a good place be to add the doctests?",
    "created_at": "2018-03-14T02:16:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424668",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:39'></a>
Here is with 3.5.2 and the tests I did above now work. Where would a good place be to add the doctests?



---

archive/issue_comments_424669.json:
```json
{
    "body": "Changing status from needs_work to needs_info.",
    "created_at": "2018-03-14T02:16:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424669",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to needs_info.



---

archive/issue_comments_424670.json:
```json
{
    "body": "Changing upstream from \"Reported upstream. Developers acknowledge bug.\" to \"Completely fixed; Fix reported upstream\"",
    "created_at": "2018-03-14T02:16:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424670",
    "user": "https://github.com/tscrim"
}
```

Changing upstream from "Reported upstream. Developers acknowledge bug." to "Completely fixed; Fix reported upstream"



---

archive/issue_comments_424671.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,7 @@\n Among many new features and improvements, these new versions make computations interruptible with `^C`.\n \n Source tarballs: \n-- https://github.com/Normaliz/Normaliz/releases/download/v3.5.1/normaliz-3.5.1.tar.gz\n+- https://github.com/Normaliz/Normaliz/releases/download/v3.5.2/normaliz-3.5.2.tar.gz\n - https://pypi.python.org/packages/47/99/c9043d8392f99c9c4013eb82ce931f75ef64d6fd665cd8d008ce80be881e/PyNormaliz-1.10.tar.gz#md5=89b212de8e833205b9776b1ef90c3585\n \n Upstream bug: https://github.com/Normaliz/Normaliz/issues/176\n``````\n",
    "created_at": "2018-03-14T02:16:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424671",
    "user": "https://github.com/tscrim"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,7 @@
 Among many new features and improvements, these new versions make computations interruptible with `^C`.
 
 Source tarballs: 
-- https://github.com/Normaliz/Normaliz/releases/download/v3.5.1/normaliz-3.5.1.tar.gz
+- https://github.com/Normaliz/Normaliz/releases/download/v3.5.2/normaliz-3.5.2.tar.gz
 - https://pypi.python.org/packages/47/99/c9043d8392f99c9c4013eb82ce931f75ef64d6fd665cd8d008ce80be881e/PyNormaliz-1.10.tar.gz#md5=89b212de8e833205b9776b1ef90c3585
 
 Upstream bug: https://github.com/Normaliz/Normaliz/issues/176
``````




---

archive/issue_comments_424672.json:
```json
{
    "body": "<a id='comment:40'></a>\nI would think the doctests should go to `Polyhedron_normaliz.integral_points`.",
    "created_at": "2018-03-15T00:24:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424672",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:40'></a>
I would think the doctests should go to `Polyhedron_normaliz.integral_points`.



---

archive/issue_comments_424673.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2018-03-15T00:24:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424673",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_events_075565.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "rename": {
        "from": "Upgrade normaliz to 3.5.1 and pynormaliz to 1.10",
        "to": "Upgrade normaliz to 3.5.2 and pynormaliz to 1.10"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22984#event-75565"
}
```



---

archive/issue_comments_424674.json:
```json
{
    "body": "<a id='comment:41'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------|\n|[6ba442d](https://github.com/sagemath/sagetrac-mirror/commit/6ba442d0586b9fdedec07a2e8f50bcd5d1a4a913)|`Adding tests from[comment:24](#comment%3A24),25 of #22984.`|",
    "created_at": "2018-03-15T07:10:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424674",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:41'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------|
|[6ba442d](https://github.com/sagemath/sagetrac-mirror/commit/6ba442d0586b9fdedec07a2e8f50bcd5d1a4a913)|`Adding tests from[comment:24](#comment%3A24),25 of #22984.`|



---

archive/issue_comments_424675.json:
```json
{
    "body": "Changing commit from \"57d40b030deb164404f6a245af0c3734ebf1eb40\" to \"6ba442d0586b9fdedec07a2e8f50bcd5d1a4a913\"",
    "created_at": "2018-03-15T07:10:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424675",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "57d40b030deb164404f6a245af0c3734ebf1eb40" to "6ba442d0586b9fdedec07a2e8f50bcd5d1a4a913"



---

archive/issue_comments_424676.json:
```json
{
    "body": "<a id='comment:42'></a>\nOkay, done.",
    "created_at": "2018-03-15T07:11:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424676",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:42'></a>
Okay, done.



---

archive/issue_comments_424677.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-03-15T07:11:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424677",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_424678.json:
```json
{
    "body": "<a id='comment:43'></a>\nping",
    "created_at": "2018-03-21T07:32:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424678",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:43'></a>
ping



---

archive/issue_comments_424679.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,6 +2,6 @@\n \n Source tarballs: \n - https://github.com/Normaliz/Normaliz/releases/download/v3.5.2/normaliz-3.5.2.tar.gz\n-- https://pypi.python.org/packages/47/99/c9043d8392f99c9c4013eb82ce931f75ef64d6fd665cd8d008ce80be881e/PyNormaliz-1.10.tar.gz#md5=89b212de8e833205b9776b1ef90c3585\n+- https://pypi.python.org/packages/30/48/d2ad6e4defcce3959c66ee541cf5c0eda12186e42ecd68a0531813a16bd0/PyNormaliz-1.12.tar.gz#md5=1ec3419eaa061a0ee4b4f1ffca9cb44d\n \n Upstream bug: https://github.com/Normaliz/Normaliz/issues/176\n``````\n",
    "created_at": "2018-04-02T14:58:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424679",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,6 +2,6 @@
 
 Source tarballs: 
 - https://github.com/Normaliz/Normaliz/releases/download/v3.5.2/normaliz-3.5.2.tar.gz
-- https://pypi.python.org/packages/47/99/c9043d8392f99c9c4013eb82ce931f75ef64d6fd665cd8d008ce80be881e/PyNormaliz-1.10.tar.gz#md5=89b212de8e833205b9776b1ef90c3585
+- https://pypi.python.org/packages/30/48/d2ad6e4defcce3959c66ee541cf5c0eda12186e42ecd68a0531813a16bd0/PyNormaliz-1.12.tar.gz#md5=1ec3419eaa061a0ee4b4f1ffca9cb44d
 
 Upstream bug: https://github.com/Normaliz/Normaliz/issues/176
``````




---

archive/issue_comments_424680.json:
```json
{
    "body": "<a id='comment:44'></a>\nS. Gutsche informs us that we should upgrade pynormaliz to 1.12",
    "created_at": "2018-04-02T14:58:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424680",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:44'></a>
S. Gutsche informs us that we should upgrade pynormaliz to 1.12



---

archive/issue_events_075566.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "rename": {
        "from": "Upgrade normaliz to 3.5.2 and pynormaliz to 1.10",
        "to": "Upgrade normaliz to 3.5.2 and pynormaliz to 1.12"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22984#event-75566"
}
```



---

archive/issue_comments_424681.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-04-02T14:58:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424681",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_424682.json:
```json
{
    "body": "Changing reviewer from \"Travis Scrimshaw, Thierry Monteil\" to \"Travis Scrimshaw, Thierry Monteil, Jean-Philippe Labb\u00e9\"",
    "created_at": "2018-04-02T16:58:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424682",
    "user": "https://github.com/jplab"
}
```

Changing reviewer from "Travis Scrimshaw, Thierry Monteil" to "Travis Scrimshaw, Thierry Monteil, Jean-Philippe Labb√©"



---

archive/issue_comments_424683.json:
```json
{
    "body": "<a id='comment:46'></a>\nAll tests passed with sage8.2.beta8.\n\n`@`Travis: Do you still want to add a comment about the verbose of `Polyhedron`?\n\nOtherwise, it seems that we need to wait for 1.12 of pynormaliz check everything one last time.",
    "created_at": "2018-04-02T16:58:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424683",
    "user": "https://github.com/jplab"
}
```

<a id='comment:46'></a>
All tests passed with sage8.2.beta8.

`@`Travis: Do you still want to add a comment about the verbose of `Polyhedron`?

Otherwise, it seems that we need to wait for 1.12 of pynormaliz check everything one last time.



---

archive/issue_comments_424684.json:
```json
{
    "body": "Changing branch from \"u/tscrim/upgrade_noramliz_pynormaliz-22984\" to \"u/mkoeppe/upgrade_noramliz_pynormaliz-22984\"",
    "created_at": "2018-04-02T17:04:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424684",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "u/tscrim/upgrade_noramliz_pynormaliz-22984" to "u/mkoeppe/upgrade_noramliz_pynormaliz-22984"



---

archive/issue_comments_424685.json:
```json
{
    "body": "Changing commit from \"6ba442d0586b9fdedec07a2e8f50bcd5d1a4a913\" to \"183087a21eaaf64b464fa6ffe0aaf94819d6626c\"",
    "created_at": "2018-04-02T17:05:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424685",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "6ba442d0586b9fdedec07a2e8f50bcd5d1a4a913" to "183087a21eaaf64b464fa6ffe0aaf94819d6626c"



---

archive/issue_comments_424686.json:
```json
{
    "body": "<a id='comment:48'></a>\nNew commits:\n|                                                                                                                                          |                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[183087a](https://github.com/sagemath/sagetrac-mirror/commit/183087a21eaaf64b464fa6ffe0aaf94819d6626c)|`Upgrade PyNormaliz to 1.12`|",
    "created_at": "2018-04-02T17:05:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424686",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:48'></a>
New commits:
|                                                                                                                                          |                            |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[183087a](https://github.com/sagemath/sagetrac-mirror/commit/183087a21eaaf64b464fa6ffe0aaf94819d6626c)|`Upgrade PyNormaliz to 1.12`|



---

archive/issue_comments_424687.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-04-02T17:05:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424687",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_424688.json:
```json
{
    "body": "<a id='comment:49'></a>\nNew commits:\n|                                                                                                                                          |                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[7f47ec9](https://github.com/sagemath/sagetrac-mirror/commit/7f47ec9f71498f744614e28ed8316b72b1904bdd)|`Adapted the polyhedron docstring`|",
    "created_at": "2018-04-02T17:13:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424688",
    "user": "https://github.com/jplab"
}
```

<a id='comment:49'></a>
New commits:
|                                                                                                                                          |                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[7f47ec9](https://github.com/sagemath/sagetrac-mirror/commit/7f47ec9f71498f744614e28ed8316b72b1904bdd)|`Adapted the polyhedron docstring`|



---

archive/issue_comments_424689.json:
```json
{
    "body": "Changing commit from \"183087a21eaaf64b464fa6ffe0aaf94819d6626c\" to \"7f47ec9f71498f744614e28ed8316b72b1904bdd\"",
    "created_at": "2018-04-02T17:13:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424689",
    "user": "https://github.com/jplab"
}
```

Changing commit from "183087a21eaaf64b464fa6ffe0aaf94819d6626c" to "7f47ec9f71498f744614e28ed8316b72b1904bdd"



---

archive/issue_comments_424690.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/upgrade_noramliz_pynormaliz-22984\" to \"u/jipilab/upgrade_normaliz_pynormaliz-22984\"",
    "created_at": "2018-04-02T17:13:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424690",
    "user": "https://github.com/jplab"
}
```

Changing branch from "u/mkoeppe/upgrade_noramliz_pynormaliz-22984" to "u/jipilab/upgrade_normaliz_pynormaliz-22984"



---

archive/issue_comments_424691.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-04-02T17:13:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424691",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_424692.json:
```json
{
    "body": "<a id='comment:50'></a>\nIt looks good to me now and all tests pass in the polyhedron folder.",
    "created_at": "2018-04-02T17:13:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424692",
    "user": "https://github.com/jplab"
}
```

<a id='comment:50'></a>
It looks good to me now and all tests pass in the polyhedron folder.



---

archive/issue_comments_424693.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2018-04-02T21:09:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424693",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_424694.json:
```json
{
    "body": "<a id='comment:51'></a>\nCompilation errors with a specific gcc version with PyNormaliz. Fixed in normaliz 3.5.3",
    "created_at": "2018-04-02T21:09:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424694",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:51'></a>
Compilation errors with a specific gcc version with PyNormaliz. Fixed in normaliz 3.5.3



---

archive/issue_comments_424695.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,7 @@\n Among many new features and improvements, these new versions make computations interruptible with `^C`.\n \n Source tarballs: \n-- https://github.com/Normaliz/Normaliz/releases/download/v3.5.2/normaliz-3.5.2.tar.gz\n+- https://github.com/Normaliz/Normaliz/releases/download/v3.5.3/normaliz-3.5.3.tar.gz\n - https://pypi.python.org/packages/30/48/d2ad6e4defcce3959c66ee541cf5c0eda12186e42ecd68a0531813a16bd0/PyNormaliz-1.12.tar.gz#md5=1ec3419eaa061a0ee4b4f1ffca9cb44d\n \n Upstream bug: https://github.com/Normaliz/Normaliz/issues/176\n``````\n",
    "created_at": "2018-04-02T21:10:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424695",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,7 @@
 Among many new features and improvements, these new versions make computations interruptible with `^C`.
 
 Source tarballs: 
-- https://github.com/Normaliz/Normaliz/releases/download/v3.5.2/normaliz-3.5.2.tar.gz
+- https://github.com/Normaliz/Normaliz/releases/download/v3.5.3/normaliz-3.5.3.tar.gz
 - https://pypi.python.org/packages/30/48/d2ad6e4defcce3959c66ee541cf5c0eda12186e42ecd68a0531813a16bd0/PyNormaliz-1.12.tar.gz#md5=1ec3419eaa061a0ee4b4f1ffca9cb44d
 
 Upstream bug: https://github.com/Normaliz/Normaliz/issues/176
``````




---

archive/issue_events_075567.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "rename": {
        "from": "Upgrade normaliz to 3.5.2 and pynormaliz to 1.12",
        "to": "Upgrade normaliz to 3.5.3 and pynormaliz to 1.12"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22984#event-75567"
}
```



---

archive/issue_comments_424696.json:
```json
{
    "body": "Changing branch from \"u/jipilab/upgrade_normaliz_pynormaliz-22984\" to \"u/mkoeppe/upgrade_normaliz_pynormaliz-22984\"",
    "created_at": "2018-04-02T21:36:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424696",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "u/jipilab/upgrade_normaliz_pynormaliz-22984" to "u/mkoeppe/upgrade_normaliz_pynormaliz-22984"



---

archive/issue_comments_424697.json:
```json
{
    "body": "<a id='comment:54'></a>\nNew commits:\n|                                                                                                                                          |                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|\n|[117e428](https://github.com/sagemath/sagetrac-mirror/commit/117e428c112921f5a1d555daf3a7b0ed10828532)|`Upgrade normaliz to 3.5.3`|",
    "created_at": "2018-04-02T21:37:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424697",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:54'></a>
New commits:
|                                                                                                                                          |                           |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
|[117e428](https://github.com/sagemath/sagetrac-mirror/commit/117e428c112921f5a1d555daf3a7b0ed10828532)|`Upgrade normaliz to 3.5.3`|



---

archive/issue_comments_424698.json:
```json
{
    "body": "Changing commit from \"7f47ec9f71498f744614e28ed8316b72b1904bdd\" to \"117e428c112921f5a1d555daf3a7b0ed10828532\"",
    "created_at": "2018-04-02T21:37:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424698",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "7f47ec9f71498f744614e28ed8316b72b1904bdd" to "117e428c112921f5a1d555daf3a7b0ed10828532"



---

archive/issue_comments_424699.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-04-02T21:37:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424699",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_424700.json:
```json
{
    "body": "<a id='comment:55'></a>\nInstall the latest normaliz and got:\n\n```\n~/sage/src/sage/geometry/polyhedron$ sage -t *.py\nUsing --optional=4ti2,bliss,latte_int,lidia,lrslib,mpir,normaliz,pynormaliz,python2,sage\nDoctesting 25 files.\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\n```",
    "created_at": "2018-04-02T21:48:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424700",
    "user": "https://github.com/jplab"
}
```

<a id='comment:55'></a>
Install the latest normaliz and got:

```
~/sage/src/sage/geometry/polyhedron$ sage -t *.py
Using --optional=4ti2,bliss,latte_int,lidia,lrslib,mpir,normaliz,pynormaliz,python2,sage
Doctesting 25 files.
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
```



---

archive/issue_comments_424701.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-04-02T22:01:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424701",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_424702.json:
```json
{
    "body": "<a id='comment:57'></a>\nReplying to [jipilab](#comment%3A46):\n> `@`Travis: Do you still want to add a comment about the verbose of `Polyhedron`?\n\n\nIt can be on a separate ticket, but the docstring for `verbose` should also say it is supported for the normaliz backend as well.",
    "created_at": "2018-04-02T22:52:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424702",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:57'></a>
Replying to [jipilab](#comment%3A46):
> `@`Travis: Do you still want to add a comment about the verbose of `Polyhedron`?


It can be on a separate ticket, but the docstring for `verbose` should also say it is supported for the normaliz backend as well.



---

archive/issue_comments_424703.json:
```json
{
    "body": "<a id='comment:58'></a>\nReplying to [tscrim](#comment%3A57):\n> Replying to [jipilab](#comment%3A46):\n> > `@`Travis: Do you still want to add a comment about the verbose of `Polyhedron`?\n\n> \n> It can be on a separate ticket, but the docstring for `verbose` should also say it is supported for the normaliz backend as well.\n\n\nI went ahead and made the change already... I realized it was not a big deal.",
    "created_at": "2018-04-02T23:57:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424703",
    "user": "https://github.com/jplab"
}
```

<a id='comment:58'></a>
Replying to [tscrim](#comment%3A57):
> Replying to [jipilab](#comment%3A46):
> > `@`Travis: Do you still want to add a comment about the verbose of `Polyhedron`?

> 
> It can be on a separate ticket, but the docstring for `verbose` should also say it is supported for the normaliz backend as well.


I went ahead and made the change already... I realized it was not a big deal.



---

archive/issue_comments_424704.json:
```json
{
    "body": "<a id='comment:59'></a>\nAh, thanks. I didn't look at the diffs.",
    "created_at": "2018-04-02T23:59:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424704",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:59'></a>
Ah, thanks. I didn't look at the diffs.



---

archive/issue_comments_424705.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/upgrade_normaliz_pynormaliz-22984\" to \"u/jipilab/upgrade_normaliz_pynormaliz-22984\"",
    "created_at": "2018-04-03T14:46:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424705",
    "user": "https://github.com/jplab"
}
```

Changing branch from "u/mkoeppe/upgrade_normaliz_pynormaliz-22984" to "u/jipilab/upgrade_normaliz_pynormaliz-22984"



---

archive/issue_comments_424706.json:
```json
{
    "body": "Changing commit from \"117e428c112921f5a1d555daf3a7b0ed10828532\" to \"7057ef457e5e6f78197100f938b8dae8d8b0c5a4\"",
    "created_at": "2018-04-03T14:46:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424706",
    "user": "https://github.com/jplab"
}
```

Changing commit from "117e428c112921f5a1d555daf3a7b0ed10828532" to "7057ef457e5e6f78197100f938b8dae8d8b0c5a4"



---

archive/issue_comments_424707.json:
```json
{
    "body": "<a id='comment:60'></a>\nMerged the forgotten commit.\n\n---\nNew commits:\n|                                                                                                                                          |                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[7f47ec9](https://github.com/sagemath/sagetrac-mirror/commit/7f47ec9f71498f744614e28ed8316b72b1904bdd)|`Adapted the polyhedron docstring`|\n|[7057ef4](https://github.com/sagemath/sagetrac-mirror/commit/7057ef457e5e6f78197100f938b8dae8d8b0c5a4)|`Merge branch to get docstring adaptation`|",
    "created_at": "2018-04-03T14:46:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424707",
    "user": "https://github.com/jplab"
}
```

<a id='comment:60'></a>
Merged the forgotten commit.

---
New commits:
|                                                                                                                                          |                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[7f47ec9](https://github.com/sagemath/sagetrac-mirror/commit/7f47ec9f71498f744614e28ed8316b72b1904bdd)|`Adapted the polyhedron docstring`|
|[7057ef4](https://github.com/sagemath/sagetrac-mirror/commit/7057ef457e5e6f78197100f938b8dae8d8b0c5a4)|`Merge branch to get docstring adaptation`|



---

archive/issue_comments_424708.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2018-04-03T14:56:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424708",
    "user": "https://github.com/jplab"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_424709.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-04-03T17:34:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424709",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_424710.json:
```json
{
    "body": "Changing keywords from \"\" to \"IMA-PolyGeom\".",
    "created_at": "2018-04-04T00:13:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424710",
    "user": "https://github.com/mkoeppe"
}
```

Changing keywords from "" to "IMA-PolyGeom".



---

archive/issue_comments_424711.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,3 +5,5 @@\n - https://pypi.python.org/packages/30/48/d2ad6e4defcce3959c66ee541cf5c0eda12186e42ecd68a0531813a16bd0/PyNormaliz-1.12.tar.gz#md5=1ec3419eaa061a0ee4b4f1ffca9cb44d\n \n Upstream bug: https://github.com/Normaliz/Normaliz/issues/176\n+\n+Follow-up ticket with more cutting-edge `PyNormaliz` version: #25090.\n``````\n",
    "created_at": "2018-04-04T14:55:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424711",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,3 +5,5 @@
 - https://pypi.python.org/packages/30/48/d2ad6e4defcce3959c66ee541cf5c0eda12186e42ecd68a0531813a16bd0/PyNormaliz-1.12.tar.gz#md5=1ec3419eaa061a0ee4b4f1ffca9cb44d
 
 Upstream bug: https://github.com/Normaliz/Normaliz/issues/176
+
+Follow-up ticket with more cutting-edge `PyNormaliz` version: #25090.
``````




---

archive/issue_events_075568.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2018-04-13T17:34:48Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "milestone": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22984#event-75568"
}
```



---

archive/issue_events_075569.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2018-04-13T17:34:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "milestone": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22984#event-75569"
}
```



---

archive/issue_comments_424712.json:
```json
{
    "body": "Changing branch from \"u/jipilab/upgrade_normaliz_pynormaliz-22984\" to \"7057ef457e5e6f78197100f938b8dae8d8b0c5a4\"",
    "created_at": "2018-05-08T17:27:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424712",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/jipilab/upgrade_normaliz_pynormaliz-22984" to "7057ef457e5e6f78197100f938b8dae8d8b0c5a4"



---

archive/issue_events_075570.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-08T17:27:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22984#event-75570"
}
```



---

archive/issue_comments_424713.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-05-08T17:27:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22984",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22984#issuecomment-424713",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
