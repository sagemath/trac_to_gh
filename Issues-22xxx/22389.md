# Issue 22389: Make Three.js work offline

archive/issues_022152.json:
```json
{
    "assignees": [],
    "body": "This ticket adds a Boolean keyword argument `online` that determines whether the local standard package is replaced by links to the online content delivery network.\n\nCC:  @novoselt @egourgoulhon @kcrisman\n\nBranch/Commit: **[5ddb9f1](https://github.com/sagemath/sagetrac-mirror/commit/5ddb9f154c1618039e60253e4e102a198d955af5)**\n\nReviewer: **Andrey Novoseltsev**\n\nAuthor: **Paul Masson**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/22389_\n\n",
    "closed_at": "2017-02-23T12:00:27Z",
    "created_at": "2017-02-18T00:52:20Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Make Three.js work offline",
    "type": "issue",
    "updated_at": "2017-02-23T12:00:27Z",
    "url": "https://github.com/sagemath/sage/issues/22389",
    "user": "https://github.com/paulmasson"
}
```
This ticket adds a Boolean keyword argument `online` that determines whether the local standard package is replaced by links to the online content delivery network.

CC:  @novoselt @egourgoulhon @kcrisman

Branch/Commit: **[5ddb9f1](https://github.com/sagemath/sagetrac-mirror/commit/5ddb9f154c1618039e60253e4e102a198d955af5)**

Reviewer: **Andrey Novoseltsev**

Author: **Paul Masson**

_Issue created by migration from https://trac.sagemath.org/ticket/22389_





---

archive/issue_events_284544.json:
```json
{
    "actor": "https://github.com/paulmasson",
    "created_at": "2017-02-18T00:52:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22389",
    "milestone_number": null,
    "milestone_title": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22389#event-284544"
}
```



---

archive/issue_events_284545.json:
```json
{
    "actor": "https://github.com/paulmasson",
    "created_at": "2017-02-18T00:52:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22389",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "component: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22389#event-284545"
}
```



---

archive/issue_events_284546.json:
```json
{
    "actor": "https://github.com/paulmasson",
    "created_at": "2017-02-18T00:52:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22389",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22389#event-284546"
}
```



---

archive/issue_events_284547.json:
```json
{
    "actor": "https://github.com/paulmasson",
    "created_at": "2017-02-18T00:52:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22389",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22389#event-284547"
}
```



---

archive/issue_events_284548.json:
```json
{
    "actor": "https://github.com/paulmasson",
    "created_at": "2017-02-18T02:25:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22389",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22389#event-284548"
}
```



---

archive/issue_comments_333735.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+This ticket adds a Boolean keyword argument `online` that determines whether the local standard package is replaced by links to the online content delivery network.\n``````\n",
    "created_at": "2017-02-18T02:25:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22389",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22389#issuecomment-333735",
    "user": "https://github.com/paulmasson"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+This ticket adds a Boolean keyword argument `online` that determines whether the local standard package is replaced by links to the online content delivery network.
``````




---

archive/issue_comments_333736.json:
```json
{
    "body": "Branch: **[u/paulmasson/22389](https://github.com/sagemath/sagetrac-mirror/tree/u/paulmasson/22389)**",
    "created_at": "2017-02-18T02:25:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22389",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22389#issuecomment-333736",
    "user": "https://github.com/paulmasson"
}
```

Branch: **[u/paulmasson/22389](https://github.com/sagemath/sagetrac-mirror/tree/u/paulmasson/22389)**



---

archive/issue_comments_333737.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5ddb9f154c1618039e60253e4e102a198d955af5\">5ddb9f1</a></td><td><code>Make Three.js work offline</code></td></tr></table>\n",
    "created_at": "2017-02-18T02:26:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22389",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22389#issuecomment-333737",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:4'>Comment 4:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5ddb9f154c1618039e60253e4e102a198d955af5">5ddb9f1</a></td><td><code>Make Three.js work offline</code></td></tr></table>




---

archive/issue_comments_333738.json:
```json
{
    "body": "Commit: **[5ddb9f1](https://github.com/sagemath/sagetrac-mirror/commit/5ddb9f154c1618039e60253e4e102a198d955af5)**",
    "created_at": "2017-02-18T02:26:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22389",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22389#issuecomment-333738",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[5ddb9f1](https://github.com/sagemath/sagetrac-mirror/commit/5ddb9f154c1618039e60253e4e102a198d955af5)**



---

archive/issue_comments_333739.json:
```json
{
    "body": "Reviewer: **Andrey Novoseltsev**",
    "created_at": "2017-02-18T23:53:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22389",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22389#issuecomment-333739",
    "user": "https://github.com/novoselt"
}
```

Reviewer: **Andrey Novoseltsev**



---

archive/issue_events_284549.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2017-02-18T23:53:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22389",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22389#event-284549"
}
```



---

archive/issue_events_284550.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2017-02-18T23:53:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22389",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22389#event-284550"
}
```



---

archive/issue_comments_333740.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nThank you very much for this improvement!\n\nIt seems that threejs is well on its way to becoming the default 3d viewer, isn't it?\n(maybe a few things are still missing, like `mesh=True`, what else?)",
    "created_at": "2017-02-19T15:06:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22389",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22389#issuecomment-333740",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:6'>Comment 6:</a>
Thank you very much for this improvement!

It seems that threejs is well on its way to becoming the default 3d viewer, isn't it?
(maybe a few things are still missing, like `mesh=True`, what else?)



---

archive/issue_comments_333741.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nEric, Andrey and I are working on default lighting on #22261. Beyond that there is a major structural issue of handling more than sixteen Three.js scenes embedded in a single page, since most browsers start dropping WebGL contexts after that number. I know how to deal with this when I have complete control over a page, but that might not be true in either Jupyter or native Sage notebooks. I'll need time to work on that before calling this viewer ready for being the default.",
    "created_at": "2017-02-20T00:09:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22389",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22389#issuecomment-333741",
    "user": "https://github.com/paulmasson"
}
```

<a id='comment:7'>Comment 7:</a>
Eric, Andrey and I are working on default lighting on #22261. Beyond that there is a major structural issue of handling more than sixteen Three.js scenes embedded in a single page, since most browsers start dropping WebGL contexts after that number. I know how to deal with this when I have complete control over a page, but that might not be true in either Jupyter or native Sage notebooks. I'll need time to work on that before calling this viewer ready for being the default.



---

archive/issue_comments_333742.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nHow well are 17 jmol plots working for you?-)",
    "created_at": "2017-02-20T04:53:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22389",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22389#issuecomment-333742",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:8'>Comment 8:</a>
How well are 17 jmol plots working for you?-)



---

archive/issue_comments_333743.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nThanks a lot for this, i hate when Sage leaks remotely, without even noticing the user.",
    "created_at": "2017-02-20T17:53:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22389",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22389#issuecomment-333743",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<a id='comment:9'>Comment 9:</a>
Thanks a lot for this, i hate when Sage leaks remotely, without even noticing the user.



---

archive/issue_comments_333744.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\n> How well are 17 jmol plots working for you?-)\n\nHaha!  But the difference is that they are not \"all live\" at the same time by default.  I haven't tried this branch so I don't know about three.js but my guess is that they are all \"live\" by default?",
    "created_at": "2017-02-21T03:16:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22389",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22389#issuecomment-333744",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:10'>Comment 10:</a>
> How well are 17 jmol plots working for you?-)

Haha!  But the difference is that they are not "all live" at the same time by default.  I haven't tried this branch so I don't know about three.js but my guess is that they are all "live" by default?



---

archive/issue_comments_333745.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nReplying to [@kcrisman](#comment%3A10):\n> my guess is that they are all \"live\" by default?\n\nYup!",
    "created_at": "2017-02-21T03:19:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22389",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22389#issuecomment-333745",
    "user": "https://github.com/paulmasson"
}
```

<a id='comment:11'>Comment 11:</a>
Replying to [@kcrisman](#comment%3A10):
> my guess is that they are all "live" by default?

Yup!



---

archive/issue_comments_333746.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nWell, my point was that such an output is still likely to be quite slow and not very common, so it is not an obstacle for changing the default viewer. Removing jmol completely from the standard distribution and making it optional is a different story.",
    "created_at": "2017-02-21T04:44:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22389",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22389#issuecomment-333746",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:12'>Comment 12:</a>
Well, my point was that such an output is still likely to be quite slow and not very common, so it is not an obstacle for changing the default viewer. Removing jmol completely from the standard distribution and making it optional is a different story.



---

archive/issue_comments_333747.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nI've opened #22408 to continue the discussion.",
    "created_at": "2017-02-21T21:15:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22389",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22389#issuecomment-333747",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:13'>Comment 13:</a>
I've opened #22408 to continue the discussion.



---

archive/issue_events_284551.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-02-23T12:00:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22389",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22389#event-284551"
}
```



---

archive/issue_events_284552.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "de36637e5cc08e38cce62e89a5555edbaa117949",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-02-23T12:00:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/22389",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22389#event-284552"
}
```



---

archive/issue_comments_333748.json:
```json
{
    "body": "Changed branch from **[u/paulmasson/22389](https://github.com/sagemath/sagetrac-mirror/tree/u/paulmasson/22389)** to **[5ddb9f1](https://github.com/sagemath/sagetrac-mirror/commit/5ddb9f154c1618039e60253e4e102a198d955af5)**",
    "created_at": "2017-02-23T12:00:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22389",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22389#issuecomment-333748",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/paulmasson/22389](https://github.com/sagemath/sagetrac-mirror/tree/u/paulmasson/22389)** to **[5ddb9f1](https://github.com/sagemath/sagetrac-mirror/commit/5ddb9f154c1618039e60253e4e102a198d955af5)**
