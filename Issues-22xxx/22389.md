# Issue 22389: Make Three.js work offline

archive/issues_022152.json:
```json
{
    "body": "This ticket adds a Boolean keyword argument `online` that determines whether the local standard package is replaced by links to the online content delivery network.\n\nCC:  @novoselt @egourgoulhon @kcrisman\n\nBranch/Commit: 5ddb9f154c1618039e60253e4e102a198d955af5\n\nReviewer: Andrey Novoseltsev\n\nAuthor: Paul Masson\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/22389\n\n",
    "closed_at": "2017-02-23T12:00:27Z",
    "created_at": "2017-02-18T00:52:20Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.6",
    "title": "Make Three.js work offline",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22389",
    "user": "https://github.com/paulmasson"
}
```
This ticket adds a Boolean keyword argument `online` that determines whether the local standard package is replaced by links to the online content delivery network.

CC:  @novoselt @egourgoulhon @kcrisman

Branch/Commit: 5ddb9f154c1618039e60253e4e102a198d955af5

Reviewer: Andrey Novoseltsev

Author: Paul Masson

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/22389





---

archive/issue_comments_327494.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2017-02-18T00:52:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22389",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22389#issuecomment-327494",
    "user": "https://github.com/paulmasson"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_327495.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-02-18T02:25:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22389",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22389#issuecomment-327495",
    "user": "https://github.com/paulmasson"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_327496.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-\n+This ticket adds a Boolean keyword argument \\`online\\` that determines whether the local standard package is replaced by links to the online content delivery network.\n \n Author: Paul Masson\n \n```\n",
    "created_at": "2017-02-18T02:25:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22389",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22389#issuecomment-327496",
    "user": "https://github.com/paulmasson"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,4 @@
-
+This ticket adds a Boolean keyword argument \`online\` that determines whether the local standard package is replaced by links to the online content delivery network.
 
 Author: Paul Masson
 
```




---

archive/issue_comments_327497.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-02-18T02:26:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22389",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22389#issuecomment-327497",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_327498.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-02-18T23:53:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22389",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22389#issuecomment-327498",
    "user": "https://github.com/novoselt"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_327499.json:
```json
{
    "body": "<a id='comment:6'></a>Thank you very much for this improvement!\n\nIt seems that threejs is well on its way to becoming the default 3d viewer, isn't it?\n(maybe a few things are still missing, like `mesh=True`, what else?)",
    "created_at": "2017-02-19T15:06:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22389",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22389#issuecomment-327499",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:6'></a>Thank you very much for this improvement!

It seems that threejs is well on its way to becoming the default 3d viewer, isn't it?
(maybe a few things are still missing, like `mesh=True`, what else?)



---

archive/issue_comments_327500.json:
```json
{
    "body": "<a id='comment:7'></a>Eric, Andrey and I are working on default lighting on #22261. Beyond that there is a major structural issue of handling more than sixteen Three.js scenes embedded in a single page, since most browsers start dropping WebGL contexts after that number. I know how to deal with this when I have complete control over a page, but that might not be true in either Jupyter or native Sage notebooks. I'll need time to work on that before calling this viewer ready for being the default.",
    "created_at": "2017-02-20T00:09:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22389",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22389#issuecomment-327500",
    "user": "https://github.com/paulmasson"
}
```

<a id='comment:7'></a>Eric, Andrey and I are working on default lighting on #22261. Beyond that there is a major structural issue of handling more than sixteen Three.js scenes embedded in a single page, since most browsers start dropping WebGL contexts after that number. I know how to deal with this when I have complete control over a page, but that might not be true in either Jupyter or native Sage notebooks. I'll need time to work on that before calling this viewer ready for being the default.



---

archive/issue_comments_327501.json:
```json
{
    "body": "<a id='comment:8'></a>How well are 17 jmol plots working for you?-)",
    "created_at": "2017-02-20T04:53:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22389",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22389#issuecomment-327501",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:8'></a>How well are 17 jmol plots working for you?-)



---

archive/issue_comments_327502.json:
```json
{
    "body": "<a id='comment:9'></a>Thanks a lot for this, i hate when Sage leaks remotely, without even noticing the user.",
    "created_at": "2017-02-20T17:53:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22389",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22389#issuecomment-327502",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:9'></a>Thanks a lot for this, i hate when Sage leaks remotely, without even noticing the user.



---

archive/issue_comments_327503.json:
```json
{
    "body": "<a id='comment:10'></a>> How well are 17 jmol plots working for you?-)\n\n\nHaha!  But the difference is that they are not \"all live\" at the same time by default.  I haven't tried this branch so I don't know about three.js but my guess is that they are all \"live\" by default?",
    "created_at": "2017-02-21T03:16:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22389",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22389#issuecomment-327503",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:10'></a>> How well are 17 jmol plots working for you?-)


Haha!  But the difference is that they are not "all live" at the same time by default.  I haven't tried this branch so I don't know about three.js but my guess is that they are all "live" by default?



---

archive/issue_comments_327504.json:
```json
{
    "body": "<a id='comment:11'></a>Replying to [comment:10 kcrisman]:\n> my guess is that they are all \"live\" by default?\n\nYup!",
    "created_at": "2017-02-21T03:19:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22389",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22389#issuecomment-327504",
    "user": "https://github.com/paulmasson"
}
```

<a id='comment:11'></a>Replying to [comment:10 kcrisman]:
> my guess is that they are all "live" by default?

Yup!



---

archive/issue_comments_327505.json:
```json
{
    "body": "<a id='comment:12'></a>Well, my point was that such an output is still likely to be quite slow and not very common, so it is not an obstacle for changing the default viewer. Removing jmol completely from the standard distribution and making it optional is a different story.",
    "created_at": "2017-02-21T04:44:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22389",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22389#issuecomment-327505",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:12'></a>Well, my point was that such an output is still likely to be quite slow and not very common, so it is not an obstacle for changing the default viewer. Removing jmol completely from the standard distribution and making it optional is a different story.



---

archive/issue_comments_327506.json:
```json
{
    "body": "<a id='comment:13'></a>I've opened #22408 to continue the discussion.",
    "created_at": "2017-02-21T21:15:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22389",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22389#issuecomment-327506",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:13'></a>I've opened #22408 to continue the discussion.



---

archive/issue_comments_327507.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-02-23T12:00:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22389",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22389#issuecomment-327507",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_058616.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-02-23T12:00:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22389",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22389#event-58616"
}
```
