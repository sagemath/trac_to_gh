# Issue 22395: ordering of (O-)terms: absolute values, real parts, etc.

archive/issues_022158.json:
```json
{
    "body": "The following (although correct) is not ideal:\n\n```\nsage: A.<n> = AsymptoticRing('ZZ^n * n^ZZ', ZZ)\nsage: (-1)^n/n + O((-1)^n/n^2) + n + O(1/n^3) + O(1/n^(2+I))\n(-1)^n*n^(-1) + O((-1)^n*n^(-2)) + n + O(n^(-I - 2))\n```\nThe O-Terms could/should be combined. The O-Term `O((-1)<sup>n*n</sup>(-2))` should be `O(n^-2)` and `O(n^(-I - 2))` should be `O(n^-2)`.\n\nThe ordering is also not what one would expect, e.g.\n\n```\nsage: (-1)^n/n + O((-1)^n/n^2) + n^2 + O(1/n^3) + O(1/n^(2+I))\n(-1)^n*n^(-1) + O((-1)^n*n^(-2)) + n^2 + O(n^(-I - 2))\n```\nand we would like to see the `n^2` at the front.\n\nCC:  @cheuberg @behackl\n\nStatus: new\n\nIssue created by migration from https://trac.sagemath.org/ticket/22395\n\n",
    "created_at": "2017-02-20T11:13:28Z",
    "labels": [
        "component: asymptotic expansions",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.6",
    "title": "ordering of (O-)terms: absolute values, real parts, etc.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22395",
    "user": "https://github.com/dkrenn"
}
```
The following (although correct) is not ideal:

```
sage: A.<n> = AsymptoticRing('ZZ^n * n^ZZ', ZZ)
sage: (-1)^n/n + O((-1)^n/n^2) + n + O(1/n^3) + O(1/n^(2+I))
(-1)^n*n^(-1) + O((-1)^n*n^(-2)) + n + O(n^(-I - 2))
```
The O-Terms could/should be combined. The O-Term `O((-1)<sup>n*n</sup>(-2))` should be `O(n^-2)` and `O(n^(-I - 2))` should be `O(n^-2)`.

The ordering is also not what one would expect, e.g.

```
sage: (-1)^n/n + O((-1)^n/n^2) + n^2 + O(1/n^3) + O(1/n^(2+I))
(-1)^n*n^(-1) + O((-1)^n*n^(-2)) + n^2 + O(n^(-I - 2))
```
and we would like to see the `n^2` at the front.

CC:  @cheuberg @behackl

Status: new

Issue created by migration from https://trac.sagemath.org/ticket/22395





---

archive/issue_comments_415371.json:
```json
{
    "body": "Replying to [ticket:22395 dkrenn]:\n> The ordering is also not what one would expect, e.g.\n> \n> ```\n> sage: (-1)^n/n + O((-1)^n/n^2) + n^2 + O(1/n^3) + O(1/n^(2+I))\n> (-1)^n*n^(-1) + O((-1)^n*n^(-2)) + n^2 + O(n^(-I - 2))\n> ```\n> and we would like to see the `n^2` at the front.\n\n\nHere I am not sure, if this is the same problem as above; if not, then we can either forget about it or open a new ticket for it.",
    "created_at": "2017-02-20T11:14:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22395#issuecomment-415371",
    "user": "https://github.com/dkrenn"
}
```

Replying to [ticket:22395 dkrenn]:
> The ordering is also not what one would expect, e.g.
> 
> ```
> sage: (-1)^n/n + O((-1)^n/n^2) + n^2 + O(1/n^3) + O(1/n^(2+I))
> (-1)^n*n^(-1) + O((-1)^n*n^(-2)) + n^2 + O(n^(-I - 2))
> ```
> and we would like to see the `n^2` at the front.


Here I am not sure, if this is the same problem as above; if not, then we can either forget about it or open a new ticket for it.



---

archive/issue_comments_415372.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2017-02-20T11:14:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22395#issuecomment-415372",
    "user": "https://github.com/dkrenn"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_415373.json:
```json
{
    "body": "<a id='comment:3'></a>Moreover, I am not sure, how to deal with these issues.",
    "created_at": "2017-02-20T11:17:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22395",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22395#issuecomment-415373",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:3'></a>Moreover, I am not sure, how to deal with these issues.
