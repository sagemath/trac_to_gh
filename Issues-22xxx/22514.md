# Issue 22514: Constants in an InfinitePolynomialRing do not act like polynomials

archive/issues_022277.json:
```json
{
    "assignees": [],
    "body": "Constants in an InfinitePolynomialRing are missing many expected methods.  For example:\n\n```\nsage: R.<x> = InfinitePolynomialRing(ZZ)\nsage: a = R(3)\nsage: b = 3 + x[0]\nsage: type(a)\n<class 'sage.rings.polynomial.infinite_polynomial_element.InfinitePolynomial_sparse'>\nsage: type(b)\n<class 'sage.rings.polynomial.infinite_polynomial_element.InfinitePolynomial_sparse'>\nsage: b.is_constant()\nFalse\nsage: a.is_constant()\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n<ipython-input-13-4b9a13af2a7a> in <module>()\n----> 1 a.is_constant()\n\n/opt/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/infinite_polynomial_element.pyc in __getattr__(self, s)\n    409             return getattr(self._p,s)\n    410         except AttributeError:\n--> 411             raise AttributeError('%s has no attribute %s'%(self.__class__, s))\n    412 \n    413     def ring(self):\n\nAttributeError: <class 'sage.rings.polynomial.infinite_polynomial_element.InfinitePolynomial_sparse'> has no attribute is_constant\n```\n\nAnother example:\n\n```\nsage: b.constant_coefficient()\n3\nsage: a.constant_coefficient()\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n<ipython-input-14-2f3d9cae0a11> in <module>()\n----> 1 a.constant_coefficient()\n\n/opt/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/infinite_polynomial_element.pyc in __getattr__(self, s)\n    409             return getattr(self._p,s)\n    410         except AttributeError:\n--> 411             raise AttributeError('%s has no attribute %s'%(self.__class__, s))\n    412 \n    413     def ring(self):\n\nAttributeError: <class 'sage.rings.polynomial.infinite_polynomial_element.InfinitePolynomial_sparse'> has no attribute constant_coefficient\n```\n\nAnd another:\n\n```\nsage: b.degree()\n1\nsage: a.degree()\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n<ipython-input-10-1191944a72df> in <module>()\n----> 1 a.degree()\n\n/opt/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/infinite_polynomial_element.pyc in __getattr__(self, s)\n    409             return getattr(self._p,s)\n    410         except AttributeError:\n--> 411             raise AttributeError('%s has no attribute %s'%(self.__class__, s))\n    412 \n    413     def ring(self):\n\nAttributeError: <class 'sage.rings.polynomial.infinite_polynomial_element.InfinitePolynomial_sparse'> has no attribute degree\n```\n\nThis appears to follow from the type of the ``_p`` field of the values:\n\n```\nsage: type(b._p)\n<type 'sage.rings.polynomial.multi_polynomial_libsingular.MPolynomial_libsingular'>\nsage: type(a._p)\n<type 'sage.rings.finite_rings.integer_mod.IntegerMod_int'>\n```\n\nCC:  @tscrim\n\nBranch/Commit: **[accc961](https://github.com/sagemath/sagetrac-mirror/commit/accc96198698ef2f587174eb982fa2f8e9223c2f)**\n\nReviewer: **Vincent Delecroix, Travis Scrimshaw**\n\nAuthor: **Mark Saaltink**\n\nComponent: **algebra**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/22514_\n\n",
    "closed_at": "2020-02-21T22:17:30Z",
    "created_at": "2017-03-04T16:07:50Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Constants in an InfinitePolynomialRing do not act like polynomials",
    "type": "issue",
    "updated_at": "2020-02-21T22:17:30Z",
    "url": "https://github.com/sagemath/sage/issues/22514",
    "user": "https://github.com/sagetrac-msaaltink"
}
```
Constants in an InfinitePolynomialRing are missing many expected methods.  For example:

```
sage: R.<x> = InfinitePolynomialRing(ZZ)
sage: a = R(3)
sage: b = 3 + x[0]
sage: type(a)
<class 'sage.rings.polynomial.infinite_polynomial_element.InfinitePolynomial_sparse'>
sage: type(b)
<class 'sage.rings.polynomial.infinite_polynomial_element.InfinitePolynomial_sparse'>
sage: b.is_constant()
False
sage: a.is_constant()
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
<ipython-input-13-4b9a13af2a7a> in <module>()
----> 1 a.is_constant()

/opt/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/infinite_polynomial_element.pyc in __getattr__(self, s)
    409             return getattr(self._p,s)
    410         except AttributeError:
--> 411             raise AttributeError('%s has no attribute %s'%(self.__class__, s))
    412 
    413     def ring(self):

AttributeError: <class 'sage.rings.polynomial.infinite_polynomial_element.InfinitePolynomial_sparse'> has no attribute is_constant
```

Another example:

```
sage: b.constant_coefficient()
3
sage: a.constant_coefficient()
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
<ipython-input-14-2f3d9cae0a11> in <module>()
----> 1 a.constant_coefficient()

/opt/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/infinite_polynomial_element.pyc in __getattr__(self, s)
    409             return getattr(self._p,s)
    410         except AttributeError:
--> 411             raise AttributeError('%s has no attribute %s'%(self.__class__, s))
    412 
    413     def ring(self):

AttributeError: <class 'sage.rings.polynomial.infinite_polynomial_element.InfinitePolynomial_sparse'> has no attribute constant_coefficient
```

And another:

```
sage: b.degree()
1
sage: a.degree()
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
<ipython-input-10-1191944a72df> in <module>()
----> 1 a.degree()

/opt/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/infinite_polynomial_element.pyc in __getattr__(self, s)
    409             return getattr(self._p,s)
    410         except AttributeError:
--> 411             raise AttributeError('%s has no attribute %s'%(self.__class__, s))
    412 
    413     def ring(self):

AttributeError: <class 'sage.rings.polynomial.infinite_polynomial_element.InfinitePolynomial_sparse'> has no attribute degree
```

This appears to follow from the type of the ``_p`` field of the values:

```
sage: type(b._p)
<type 'sage.rings.polynomial.multi_polynomial_libsingular.MPolynomial_libsingular'>
sage: type(a._p)
<type 'sage.rings.finite_rings.integer_mod.IntegerMod_int'>
```

CC:  @tscrim

Branch/Commit: **[accc961](https://github.com/sagemath/sagetrac-mirror/commit/accc96198698ef2f587174eb982fa2f8e9223c2f)**

Reviewer: **Vincent Delecroix, Travis Scrimshaw**

Author: **Mark Saaltink**

Component: **algebra**

_Issue created by migration from https://trac.sagemath.org/ticket/22514_





---

archive/issue_events_314674.json:
```json
{
    "actor": "https://github.com/sagetrac-msaaltink",
    "created_at": "2017-03-04T16:07:50Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "milestone_number": null,
    "milestone_title": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22514#event-314674"
}
```



---

archive/issue_events_314675.json:
```json
{
    "actor": "https://github.com/sagetrac-msaaltink",
    "created_at": "2017-03-04T16:07:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "c: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22514#event-314675"
}
```



---

archive/issue_events_314676.json:
```json
{
    "actor": "https://github.com/sagetrac-msaaltink",
    "created_at": "2017-03-04T16:07:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22514#event-314676"
}
```



---

archive/issue_events_314677.json:
```json
{
    "actor": "https://github.com/sagetrac-msaaltink",
    "created_at": "2017-03-04T16:07:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22514#event-314677"
}
```



---

archive/issue_comments_333642.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nWhen the base ring is itself a polynomial ring, we can get mathematically incorrect answers:\n\n```\nsage: S.<y> = ZZ[]\nsage: Q.<z> = InfinitePolynomialRing(S)\nsage: a = Q(1+y)\nsage: a\ny + 1\nsage: b = (1+y+z[0]) - z[0]\nsage: b\ny + 1\nsage: a.parent()\nInfinite polynomial ring in z over Univariate Polynomial Ring in y over Integer Ring\nsage: b.parent()\nInfinite polynomial ring in z over Univariate Polynomial Ring in y over Integer Ring\nsage: a == b\nTrue\nsage: a.is_constant()\nFalse\nsage: b.is_constant()\nTrue\nsage: a.constant_coefficient()\n1\nsage: b.constant_coefficient()\ny + 1\n```\n`b` is giving the correct answers, while `a` is not.",
    "created_at": "2017-05-29T21:52:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333642",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

<div id="comment:1" align="right">comment:1</div>

When the base ring is itself a polynomial ring, we can get mathematically incorrect answers:

```
sage: S.<y> = ZZ[]
sage: Q.<z> = InfinitePolynomialRing(S)
sage: a = Q(1+y)
sage: a
y + 1
sage: b = (1+y+z[0]) - z[0]
sage: b
y + 1
sage: a.parent()
Infinite polynomial ring in z over Univariate Polynomial Ring in y over Integer Ring
sage: b.parent()
Infinite polynomial ring in z over Univariate Polynomial Ring in y over Integer Ring
sage: a == b
True
sage: a.is_constant()
False
sage: b.is_constant()
True
sage: a.constant_coefficient()
1
sage: b.constant_coefficient()
y + 1
```
`b` is giving the correct answers, while `a` is not.



---

archive/issue_comments_333643.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nThere are also issues when creating from strings:\n\n```\nR.<x> = InfinitePolynomialRing(ZZ)\nsage: R(3).parent()\nInfinite polynomial ring in x over Integer Ring\nsage: R(\"3\").parent()\nInteger Ring\n```\n\nOther polynomial rings work differently:\n\n```\nsage: S.<y> = ZZ[]\nsage: S(3).parent()\nUnivariate Polynomial Ring in y over Integer Ring\nsage: S(\"3\").parent()\nUnivariate Polynomial Ring in y over Integer Ring\n```",
    "created_at": "2017-05-29T21:58:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333643",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

<div id="comment:2" align="right">comment:2</div>

There are also issues when creating from strings:

```
R.<x> = InfinitePolynomialRing(ZZ)
sage: R(3).parent()
Infinite polynomial ring in x over Integer Ring
sage: R("3").parent()
Integer Ring
```

Other polynomial rings work differently:

```
sage: S.<y> = ZZ[]
sage: S(3).parent()
Univariate Polynomial Ring in y over Integer Ring
sage: S("3").parent()
Univariate Polynomial Ring in y over Integer Ring
```



---

archive/issue_events_314678.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-05-30T14:09:33Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "milestone_number": null,
    "milestone_title": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22514#event-314678"
}
```



---

archive/issue_events_314679.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-05-30T14:09:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22514#event-314679"
}
```



---

archive/issue_comments_333644.json:
```json
{
    "body": "Branch: **[u/msaaltink/constants_in_an_infinitepolynomialring_do_not_act_like_polynomials](https://github.com/sagemath/sagetrac-mirror/tree/u/msaaltink/constants_in_an_infinitepolynomialring_do_not_act_like_polynomials)**",
    "created_at": "2017-07-09T20:28:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333644",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

Branch: **[u/msaaltink/constants_in_an_infinitepolynomialring_do_not_act_like_polynomials](https://github.com/sagemath/sagetrac-mirror/tree/u/msaaltink/constants_in_an_infinitepolynomialring_do_not_act_like_polynomials)**



---

archive/issue_comments_333645.json:
```json
{
    "body": "Commit: **[5c8909f](https://github.com/sagemath/sagetrac-mirror/commit/5c8909f87d8b6f9dad29366ad01a8ef66999ed86)**",
    "created_at": "2017-07-09T20:32:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333645",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

Commit: **[5c8909f](https://github.com/sagemath/sagetrac-mirror/commit/5c8909f87d8b6f9dad29366ad01a8ef66999ed86)**



---

archive/issue_events_314680.json:
```json
{
    "actor": "https://github.com/sagetrac-msaaltink",
    "created_at": "2017-07-09T20:32:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22514#event-314680"
}
```



---

archive/issue_comments_333646.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI am not at all sure that this is the right way to fix the problem, but it is one way to do it.  I got a bit lost in the thickets of the coercion system trying to find a more reasonable place than in the `__init__` method (which has a comment stating that all the needed checks should already have been done elsewhere).\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1fd849f157a6ec372eaf4ac51147da41a7e69c9b\">1fd849f</a></td><td><code>Fix first part of trac 22514.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5c8909f87d8b6f9dad29366ad01a8ef66999ed86\">5c8909f</a></td><td><code>Fixed rest of trac 22514 (InfinitePolynomialRing applied to a string).</code></td></tr></table>\n",
    "created_at": "2017-07-09T20:32:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333646",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

<div id="comment:5" align="right">comment:5</div>

I am not at all sure that this is the right way to fix the problem, but it is one way to do it.  I got a bit lost in the thickets of the coercion system trying to find a more reasonable place than in the `__init__` method (which has a comment stating that all the needed checks should already have been done elsewhere).

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1fd849f157a6ec372eaf4ac51147da41a7e69c9b">1fd849f</a></td><td><code>Fix first part of trac 22514.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5c8909f87d8b6f9dad29366ad01a8ef66999ed86">5c8909f</a></td><td><code>Fixed rest of trac 22514 (InfinitePolynomialRing applied to a string).</code></td></tr></table>




---

archive/issue_comments_333647.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nTo the question\n\n```\n# is there a better way to recognize polynomials than this \"duck typing\"?\n```\nthe answer is yes\n\n```\nsage: from sage.rings.polynomial.polynomial_element import is_Polynomial\nsage: from sage.rings.polynomial.multi_polynomial_element import is_MPolynomial\nsage: p1 = ZZ['x'].an_element()\nsage: p2 = ZZ.an_element()\nsage: p3 = ZZ['x']['y'].an_element()\nsage: p4 = ZZ['x,y'].an_element()\nsage: def is_poly(p):\n....:     return is_Polynomial(p) or is_MPolynomial(p)\nsage: [is_poly(p) for p in (p1,p2,p3,p4)]\n[True, False, True, True]\n```",
    "created_at": "2017-07-09T21:00:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333647",
    "user": "https://github.com/videlec"
}
```

<div id="comment:6" align="right">comment:6</div>

To the question

```
# is there a better way to recognize polynomials than this "duck typing"?
```
the answer is yes

```
sage: from sage.rings.polynomial.polynomial_element import is_Polynomial
sage: from sage.rings.polynomial.multi_polynomial_element import is_MPolynomial
sage: p1 = ZZ['x'].an_element()
sage: p2 = ZZ.an_element()
sage: p3 = ZZ['x']['y'].an_element()
sage: p4 = ZZ['x,y'].an_element()
sage: def is_poly(p):
....:     return is_Polynomial(p) or is_MPolynomial(p)
sage: [is_poly(p) for p in (p1,p2,p3,p4)]
[True, False, True, True]
```



---

archive/issue_comments_333648.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nOK, that's useful, thanks.  In fact, the _p field should always satisfy is_MPolynomial so I should just be able to use that.",
    "created_at": "2017-07-09T21:21:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333648",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

<div id="comment:7" align="right">comment:7</div>

OK, that's useful, thanks.  In fact, the _p field should always satisfy is_MPolynomial so I should just be able to use that.



---

archive/issue_comments_333649.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/176a2f7494665d6f5abb22c1d28ef46d46e57e10\">176a2f7</a></td><td><code>Use \"is_MPolynomial\" to recognize multivariate polynomials.</code></td></tr></table>\n",
    "created_at": "2017-07-09T21:22:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333649",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/176a2f7494665d6f5abb22c1d28ef46d46e57e10">176a2f7</a></td><td><code>Use "is_MPolynomial" to recognize multivariate polynomials.</code></td></tr></table>




---

archive/issue_comments_333650.json:
```json
{
    "body": "Changed commit from **[5c8909f](https://github.com/sagemath/sagetrac-mirror/commit/5c8909f87d8b6f9dad29366ad01a8ef66999ed86)** to **[176a2f7](https://github.com/sagemath/sagetrac-mirror/commit/176a2f7494665d6f5abb22c1d28ef46d46e57e10)**",
    "created_at": "2017-07-09T21:22:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333650",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5c8909f](https://github.com/sagemath/sagetrac-mirror/commit/5c8909f87d8b6f9dad29366ad01a8ef66999ed86)** to **[176a2f7](https://github.com/sagemath/sagetrac-mirror/commit/176a2f7494665d6f5abb22c1d28ef46d46e57e10)**



---

archive/issue_events_314681.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-07-10T06:57:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22514#event-314681"
}
```



---

archive/issue_events_314682.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-07-10T06:57:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22514#event-314682"
}
```



---

archive/issue_comments_333651.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nIn the doctests, you need to have a line break before the first example and indent the examples with four spaces.\n\n```\nCheck that :trac:`22514` is fixed\n::\nsage: R.<x> = InfinitePolynomialRing(ZZ)\n```\nshould be\n\n```\nCheck that :trac:`22514` is fixed::\n\n   sage: R.<x> = InfinitePolynomialRing(ZZ)\n```",
    "created_at": "2017-07-10T06:57:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333651",
    "user": "https://github.com/videlec"
}
```

<div id="comment:9" align="right">comment:9</div>

In the doctests, you need to have a line break before the first example and indent the examples with four spaces.

```
Check that :trac:`22514` is fixed
::
sage: R.<x> = InfinitePolynomialRing(ZZ)
```
should be

```
Check that :trac:`22514` is fixed::

   sage: R.<x> = InfinitePolynomialRing(ZZ)
```



---

archive/issue_comments_333652.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix**",
    "created_at": "2017-07-10T06:57:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333652",
    "user": "https://github.com/videlec"
}
```

Reviewer: **Vincent Delecroix**



---

archive/issue_comments_333653.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThis behavior is wrong\n\n```\nsage: R.<x> = InfinitePolynomialRing(QQ)\nsage: R.gens_dict()['1']\n1\nsage: parent(_)\nRational Field\n```\nIn order to respect compatibility with the other polynomial rings, 1 should not be a generator. (And the 1 above should not have been a Rational).",
    "created_at": "2017-07-10T07:04:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333653",
    "user": "https://github.com/videlec"
}
```

<div id="comment:10" align="right">comment:10</div>

This behavior is wrong

```
sage: R.<x> = InfinitePolynomialRing(QQ)
sage: R.gens_dict()['1']
1
sage: parent(_)
Rational Field
```
In order to respect compatibility with the other polynomial rings, 1 should not be a generator. (And the 1 above should not have been a Rational).



---

archive/issue_comments_333654.json:
```json
{
    "body": "Changed commit from **[176a2f7](https://github.com/sagemath/sagetrac-mirror/commit/176a2f7494665d6f5abb22c1d28ef46d46e57e10)** to **[c717314](https://github.com/sagemath/sagetrac-mirror/commit/c7173147d0d891c6ca16663839b533259160e695)**",
    "created_at": "2017-07-10T13:54:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333654",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[176a2f7](https://github.com/sagemath/sagetrac-mirror/commit/176a2f7494665d6f5abb22c1d28ef46d46e57e10)** to **[c717314](https://github.com/sagemath/sagetrac-mirror/commit/c7173147d0d891c6ca16663839b533259160e695)**



---

archive/issue_comments_333655.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c7173147d0d891c6ca16663839b533259160e695\">c717314</a></td><td><code>Fixed the formatting of a doctest block.</code></td></tr></table>\n",
    "created_at": "2017-07-10T13:54:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333655",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c7173147d0d891c6ca16663839b533259160e695">c717314</a></td><td><code>Fixed the formatting of a doctest block.</code></td></tr></table>




---

archive/issue_comments_333656.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nRe: \"In the doctests, you need to have a line break before the first example and indent the examples ...\"\n\nIndeed this was a mistake; I have pushed a fix.\n\nRe \"This behavior is wrong  ... `R.gens_dict()['1']` ...\": that's the way it worked before these patches.  I agree it is wrong, but seems unrelated to this ticket.  Should it perhaps be a new issue?\n\nStrangely enough, `R.gens_dict()[s]` does not exhibit this problem for s = `'0'` or s = `'2'`; the underlying issue seems to be this:\n\n```\nsage: QQ.gens_dict()\n{'1': 1}\n```\n\nYou can get a similar issue with \n\n```\nsage: GaussianIntegers().gens_dict()\n{'I': I}\nsage: R.<x> = InfinitePolynomialRing(GaussianIntegers())\nsage: R.gens_dict()['I']\nI\n```",
    "created_at": "2017-07-10T14:07:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333656",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

<div id="comment:12" align="right">comment:12</div>

Re: "In the doctests, you need to have a line break before the first example and indent the examples ..."

Indeed this was a mistake; I have pushed a fix.

Re "This behavior is wrong  ... `R.gens_dict()['1']` ...": that's the way it worked before these patches.  I agree it is wrong, but seems unrelated to this ticket.  Should it perhaps be a new issue?

Strangely enough, `R.gens_dict()[s]` does not exhibit this problem for s = `'0'` or s = `'2'`; the underlying issue seems to be this:

```
sage: QQ.gens_dict()
{'1': 1}
```

You can get a similar issue with 

```
sage: GaussianIntegers().gens_dict()
{'I': I}
sage: R.<x> = InfinitePolynomialRing(GaussianIntegers())
sage: R.gens_dict()['I']
I
```



---

archive/issue_comments_333657.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@sagetrac-msaaltink](#comment:12):\n> Re \"This behavior is wrong  ... `R.gens_dict()['1']` ...\": that's the way it worked before these patches.  I agree it is wrong, but seems unrelated to this ticket.  Should it perhaps be a new issue?\n\nI am not completely sure about that. The infinite polynomial ring is considered as tower of polynomial rings, which we really are considering as algebras over a base ring `R`. In this tower, there is a ring isomorphic to `R`, which is generated by `1` as an `R`-algebra. This is in line with, e.g., **Q**:\n\n```\nsage: QQ.gens()\n(1,)\n```\nAs @videlec points out, this is inconsistent with polynomial rings in Sage:\n\n```\nsage: R = PolynomialRing(QQ, 0, 'x')\nsage: R.gens()\n()\n```\nYet, to me, this says that the polynomial ring over `R` with 0 variables is precisely `{0}`. So I would instead classify this behavior of polynomial rings as a bug.\n\nHowever, this is a little tangential to this ticket and probably should be a separate ticket.",
    "created_at": "2017-07-10T16:12:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333657",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@sagetrac-msaaltink](#comment:12):
> Re "This behavior is wrong  ... `R.gens_dict()['1']` ...": that's the way it worked before these patches.  I agree it is wrong, but seems unrelated to this ticket.  Should it perhaps be a new issue?

I am not completely sure about that. The infinite polynomial ring is considered as tower of polynomial rings, which we really are considering as algebras over a base ring `R`. In this tower, there is a ring isomorphic to `R`, which is generated by `1` as an `R`-algebra. This is in line with, e.g., **Q**:

```
sage: QQ.gens()
(1,)
```
As @videlec points out, this is inconsistent with polynomial rings in Sage:

```
sage: R = PolynomialRing(QQ, 0, 'x')
sage: R.gens()
()
```
Yet, to me, this says that the polynomial ring over `R` with 0 variables is precisely `{0}`. So I would instead classify this behavior of polynomial rings as a bug.

However, this is a little tangential to this ticket and probably should be a separate ticket.



---

archive/issue_comments_333658.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [comment:13](#comment:13) from tscrim:\n\nAn old discussion on sage-devel, https://groups.google.com/forum/#!msg/sage-devel/BRE2F90oezU/xmKC86SRllEJ;context-place=forum/sage-devel suggests the following rule: if `R.base_ring()` is not `R`, then `R.gens()` should return the generators for R over its base ring.  So in your example, `R.base_ring()` is `QQ`, which is not `R` if we are being pedantic (ind indeed Sage is), and so a slavish adoption of the rule says that the empty set of generators is in fact the right answer.\n\nThe same rigid adoption of this rule says Sage is wrong here:\n\n```\nsage: R.<x> = InfinitePolynomialRing(QQ)\nsage: R.ngens()\n1\n```\nSurely the answer should be `+Infinity`.  I can see that the `gens_dict` we get for this makes some kind of sense, with an apparent infinity of keys, but `gens` seems wrong - it returns  one \"generator\" that is not even an element of the ring.\n\nI'll do up a separate ticket on the generators.  With that, can *this* ticket go back to the needs_review state (or maybe positive_review), or is there still some other issue?",
    "created_at": "2017-07-24T20:44:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333658",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [comment:13](#comment:13) from tscrim:

An old discussion on sage-devel, https://groups.google.com/forum/#!msg/sage-devel/BRE2F90oezU/xmKC86SRllEJ;context-place=forum/sage-devel suggests the following rule: if `R.base_ring()` is not `R`, then `R.gens()` should return the generators for R over its base ring.  So in your example, `R.base_ring()` is `QQ`, which is not `R` if we are being pedantic (ind indeed Sage is), and so a slavish adoption of the rule says that the empty set of generators is in fact the right answer.

The same rigid adoption of this rule says Sage is wrong here:

```
sage: R.<x> = InfinitePolynomialRing(QQ)
sage: R.ngens()
1
```
Surely the answer should be `+Infinity`.  I can see that the `gens_dict` we get for this makes some kind of sense, with an apparent infinity of keys, but `gens` seems wrong - it returns  one "generator" that is not even an element of the ring.

I'll do up a separate ticket on the generators.  With that, can *this* ticket go back to the needs_review state (or maybe positive_review), or is there still some other issue?



---

archive/issue_comments_333659.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nBorrowing a famous quote, \"It depends on what the meaning of the word 'is' is.\" If 'is' is in the Python sense, then yes. If 'is' means isomorphic to, then no. Plus, I think that it is worse to not break with convention here as 0 generators implies `{0}` a little too much.\n\nI would say it is slightly misleading to call it a \"discussion\" when it is one question and one response. Plus, that is too far out of date to say that should still be the convention. We can always try a new thread on sage-devel and see what people think about this corner case.\n\nHowever, the generators issue can definitely be a separate ticket. Sage has evolved since the initial implementation of `InfinitePolynomialRing`. I think the best way forward is to have an `algebra_generators` (and maybe `gens`) return a subclass of the appropriate `Family` that combines the behavior of `GensDictWithBasering`. Then we kill `ngens` with fire and holy water, where it becomes `R.gens().cardinality()` in real code. Finally, we implement a special `_first_ngens` that returns the appropriate `InfinitePolynomialGen` so we keep supporting the `R.<x> = ...` syntax.",
    "created_at": "2017-07-24T22:58:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333659",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:15" align="right">comment:15</div>

Borrowing a famous quote, "It depends on what the meaning of the word 'is' is." If 'is' is in the Python sense, then yes. If 'is' means isomorphic to, then no. Plus, I think that it is worse to not break with convention here as 0 generators implies `{0}` a little too much.

I would say it is slightly misleading to call it a "discussion" when it is one question and one response. Plus, that is too far out of date to say that should still be the convention. We can always try a new thread on sage-devel and see what people think about this corner case.

However, the generators issue can definitely be a separate ticket. Sage has evolved since the initial implementation of `InfinitePolynomialRing`. I think the best way forward is to have an `algebra_generators` (and maybe `gens`) return a subclass of the appropriate `Family` that combines the behavior of `GensDictWithBasering`. Then we kill `ngens` with fire and holy water, where it becomes `R.gens().cardinality()` in real code. Finally, we implement a special `_first_ngens` that returns the appropriate `InfinitePolynomialGen` so we keep supporting the `R.<x> = ...` syntax.



---

archive/issue_events_314683.json:
```json
{
    "actor": "https://github.com/sagetrac-msaaltink",
    "created_at": "2017-07-27T01:45:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22514#event-314683"
}
```



---

archive/issue_events_314684.json:
```json
{
    "actor": "https://github.com/sagetrac-msaaltink",
    "created_at": "2017-07-27T01:45:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22514#event-314684"
}
```



---

archive/issue_comments_333660.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nI opened a topic on the correct behaviour of `R.gens()` and `R.gens_dict()` in the `sage-devel` group.  When there's some consensus there, I'll be happy to open a new ticket to have `InfinitePolynomialRing` conform to it.  With that deferred, I think this ticket is ready for review again.",
    "created_at": "2017-07-27T01:45:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333660",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

<div id="comment:16" align="right">comment:16</div>

I opened a topic on the correct behaviour of `R.gens()` and `R.gens_dict()` in the `sage-devel` group.  When there's some consensus there, I'll be happy to open a new ticket to have `InfinitePolynomialRing` conform to it.  With that deferred, I think this ticket is ready for review again.



---

archive/issue_comments_333661.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nTo [vdelecroix](https://github.com/sagemath/sage/issues/22514#comment:10) and [tscrim](https://github.com/sagemath/sage/issues/22514#comment:15):  This has been stalled for quite a while now and there has been no interest in the general question on `R.gens()` in `sage-devel`.  Is this patch just dead?  Can't we fix this defect?  What, if anything, can I do to move it forward?",
    "created_at": "2018-01-10T15:53:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333661",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

<div id="comment:17" align="right">comment:17</div>

To [vdelecroix](https://github.com/sagemath/sage/issues/22514#comment:10) and [tscrim](https://github.com/sagemath/sage/issues/22514#comment:15):  This has been stalled for quite a while now and there has been no interest in the general question on `R.gens()` in `sage-devel`.  Is this patch just dead?  Can't we fix this defect?  What, if anything, can I do to move it forward?



---

archive/issue_comments_333662.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\n\"Authors\" field of the ticket sould be filled.",
    "created_at": "2018-01-11T17:11:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333662",
    "user": "https://github.com/videlec"
}
```

<div id="comment:18" align="right">comment:18</div>

"Authors" field of the ticket sould be filled.



---

archive/issue_comments_333663.json:
```json
{
    "body": "Author: **Mark Saaltink**",
    "created_at": "2018-01-11T18:53:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333663",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

Author: **Mark Saaltink**



---

archive/issue_events_314685.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-02-17T20:51:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22514#event-314685"
}
```



---

archive/issue_events_314686.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-02-17T20:51:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22514#event-314686"
}
```



---

archive/issue_events_314687.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-02-17T20:51:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22514#event-314687"
}
```



---

archive/issue_events_314688.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-02-17T20:51:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22514#event-314688"
}
```



---

archive/issue_comments_333664.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/75f5b567e67c7f656e883c188fbbb3b8614d63c0\">75f5b56</a></td><td><code>Fix first part of trac 22514.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c78e1cf82bf3edaca4ddc106c8d45babf6c2b0ec\">c78e1cf</a></td><td><code>Fixed rest of trac 22514 (InfinitePolynomialRing applied to a string).</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df453774e8729c10b13862aaa2602f76b5135d9f\">df45377</a></td><td><code>Use \"is_MPolynomial\" to recognize multivariate polynomials.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b5a5e07b57eb122cd73dd5da269859647dbdea9\">3b5a5e0</a></td><td><code>Fixed the formatting of a doctest block.</code></td></tr></table>\n",
    "created_at": "2020-02-17T20:51:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333664",
    "user": "https://github.com/videlec"
}
```

<div id="comment:20"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/75f5b567e67c7f656e883c188fbbb3b8614d63c0">75f5b56</a></td><td><code>Fix first part of trac 22514.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c78e1cf82bf3edaca4ddc106c8d45babf6c2b0ec">c78e1cf</a></td><td><code>Fixed rest of trac 22514 (InfinitePolynomialRing applied to a string).</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df453774e8729c10b13862aaa2602f76b5135d9f">df45377</a></td><td><code>Use "is_MPolynomial" to recognize multivariate polynomials.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b5a5e07b57eb122cd73dd5da269859647dbdea9">3b5a5e0</a></td><td><code>Fixed the formatting of a doctest block.</code></td></tr></table>




---

archive/issue_comments_333665.json:
```json
{
    "body": "Changed commit from **[c717314](https://github.com/sagemath/sagetrac-mirror/commit/c7173147d0d891c6ca16663839b533259160e695)** to **[3b5a5e0](https://github.com/sagemath/sagetrac-mirror/commit/3b5a5e07b57eb122cd73dd5da269859647dbdea9)**",
    "created_at": "2020-02-17T20:51:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333665",
    "user": "https://github.com/videlec"
}
```

Changed commit from **[c717314](https://github.com/sagemath/sagetrac-mirror/commit/c7173147d0d891c6ca16663839b533259160e695)** to **[3b5a5e0](https://github.com/sagemath/sagetrac-mirror/commit/3b5a5e07b57eb122cd73dd5da269859647dbdea9)**



---

archive/issue_comments_333666.json:
```json
{
    "body": "Changed branch from **[u/msaaltink/constants_in_an_infinitepolynomialring_do_not_act_like_polynomials](https://github.com/sagemath/sagetrac-mirror/tree/u/msaaltink/constants_in_an_infinitepolynomialring_do_not_act_like_polynomials)** to **[public/22514](https://github.com/sagemath/sagetrac-mirror/tree/public/22514)**",
    "created_at": "2020-02-17T20:51:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333666",
    "user": "https://github.com/videlec"
}
```

Changed branch from **[u/msaaltink/constants_in_an_infinitepolynomialring_do_not_act_like_polynomials](https://github.com/sagemath/sagetrac-mirror/tree/u/msaaltink/constants_in_an_infinitepolynomialring_do_not_act_like_polynomials)** to **[public/22514](https://github.com/sagemath/sagetrac-mirror/tree/public/22514)**



---

archive/issue_comments_333667.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\n(rebased on latest beta)",
    "created_at": "2020-02-17T20:51:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333667",
    "user": "https://github.com/videlec"
}
```

<div id="comment:21" align="right">comment:21</div>

(rebased on latest beta)



---

archive/issue_comments_333668.json:
```json
{
    "body": "Changed commit from **[3b5a5e0](https://github.com/sagemath/sagetrac-mirror/commit/3b5a5e07b57eb122cd73dd5da269859647dbdea9)** to **[accc961](https://github.com/sagemath/sagetrac-mirror/commit/accc96198698ef2f587174eb982fa2f8e9223c2f)**",
    "created_at": "2020-02-17T21:06:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333668",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3b5a5e0](https://github.com/sagemath/sagetrac-mirror/commit/3b5a5e07b57eb122cd73dd5da269859647dbdea9)** to **[accc961](https://github.com/sagemath/sagetrac-mirror/commit/accc96198698ef2f587174eb982fa2f8e9223c2f)**



---

archive/issue_comments_333669.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/accc96198698ef2f587174eb982fa2f8e9223c2f\">accc961</a></td><td><code>22514: a simplification</code></td></tr></table>\n",
    "created_at": "2020-02-17T21:06:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333669",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/accc96198698ef2f587174eb982fa2f8e9223c2f">accc961</a></td><td><code>22514: a simplification</code></td></tr></table>




---

archive/issue_events_314689.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-02-17T21:07:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22514#event-314689"
}
```



---

archive/issue_events_314690.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-02-17T21:07:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22514#event-314690"
}
```



---

archive/issue_comments_333670.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nneeds somebody to double check my changes",
    "created_at": "2020-02-17T21:07:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333670",
    "user": "https://github.com/videlec"
}
```

<div id="comment:23" align="right">comment:23</div>

needs somebody to double check my changes



---

archive/issue_events_314691.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2020-02-17T23:15:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22514#event-314691"
}
```



---

archive/issue_events_314692.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2020-02-17T23:15:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22514#event-314692"
}
```



---

archive/issue_comments_333671.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nLGTM.",
    "created_at": "2020-02-17T23:15:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333671",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:24" align="right">comment:24</div>

LGTM.



---

archive/issue_comments_333672.json:
```json
{
    "body": "Changed reviewer from **Vincent Delecroix** to **Vincent Delecroix, Travis Scrimshaw**",
    "created_at": "2020-02-17T23:15:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333672",
    "user": "https://github.com/tscrim"
}
```

Changed reviewer from **Vincent Delecroix** to **Vincent Delecroix, Travis Scrimshaw**



---

archive/issue_comments_333673.json:
```json
{
    "body": "Changed branch from **[public/22514](https://github.com/sagemath/sagetrac-mirror/tree/public/22514)** to **[accc961](https://github.com/sagemath/sagetrac-mirror/commit/accc96198698ef2f587174eb982fa2f8e9223c2f)**",
    "created_at": "2020-02-21T22:17:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22514#issuecomment-333673",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/22514](https://github.com/sagemath/sagetrac-mirror/tree/public/22514)** to **[accc961](https://github.com/sagemath/sagetrac-mirror/commit/accc96198698ef2f587174eb982fa2f8e9223c2f)**



---

archive/issue_events_314693.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-02-21T22:17:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22514#event-314693"
}
```



---

archive/issue_events_314694.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "5d351aa90f3c018e14570c61ff05ca1a7fbb7828",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-02-21T22:17:30Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/22514",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22514#event-314694"
}
```
