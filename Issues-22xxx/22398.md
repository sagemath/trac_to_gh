# Issue 22398: LaurentPolynomial_mpair.__init__ modifies input

archive/issues_022161.json:
```json
{
    "assignees": [],
    "body": "Creating mutlivariate Laurent polynomials from other mutlivariate Laurent polynomials sometimes fails.\n\n```\nsage: LQ = LaurentPolynomialRing(QQ, 'x0, x1, x2, y0, y1, y2, y3, y4, y5')\nsage: LZ = LaurentPolynomialRing(ZZ, 'x0, x1, x2, y0, y1, y2, y3, y4, y5')\nsage: LQ.inject_variables()\nDefining x0, x1, x2, y0, y1, y2, y3, y4, y5\nsage: x2^-1*y0*y1*y2*y3*y4*y5 + x1^-1*x2^-1*y0*y1*y3*y4 + x0^-1 in LZ\nTrue\nsage: x2^-1*y0*y1*y2*y3*y4*y5 + x1^-1*x2^-1*y0*y1*y3*y4 + x0^-1*x1^-1*y0*y3 + x0^-1 in LZ\nTraceback (most recent call last):\n...\nAttributeError: 'tuple' object has no attribute 'esub'\n```\n\nApparently this is due to the fact that `LaurentPolynomial_mpair.__init__` changes the keys of the input dictionary.\n\n\n\nCC:  @dkrenn\n\nBranch/Commit: **[`b56984c`](https://github.com/sagemath/sagetrac-mirror/commit/b56984cba10abdcbfabda76ac98e1e9aee4d353a)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **Daniel Krenn**\n\nComponent: **algebra**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/22398_\n\n",
    "closed_at": "2017-02-24T14:49:15Z",
    "created_at": "2017-02-20T20:22:00Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "LaurentPolynomial_mpair.__init__ modifies input",
    "type": "issue",
    "updated_at": "2017-02-24T14:49:15Z",
    "url": "https://github.com/sagemath/sage/issues/22398",
    "user": "https://github.com/etn40ff"
}
```
Creating mutlivariate Laurent polynomials from other mutlivariate Laurent polynomials sometimes fails.

```
sage: LQ = LaurentPolynomialRing(QQ, 'x0, x1, x2, y0, y1, y2, y3, y4, y5')
sage: LZ = LaurentPolynomialRing(ZZ, 'x0, x1, x2, y0, y1, y2, y3, y4, y5')
sage: LQ.inject_variables()
Defining x0, x1, x2, y0, y1, y2, y3, y4, y5
sage: x2^-1*y0*y1*y2*y3*y4*y5 + x1^-1*x2^-1*y0*y1*y3*y4 + x0^-1 in LZ
True
sage: x2^-1*y0*y1*y2*y3*y4*y5 + x1^-1*x2^-1*y0*y1*y3*y4 + x0^-1*x1^-1*y0*y3 + x0^-1 in LZ
Traceback (most recent call last):
...
AttributeError: 'tuple' object has no attribute 'esub'
```

Apparently this is due to the fact that `LaurentPolynomial_mpair.__init__` changes the keys of the input dictionary.



CC:  @dkrenn

Branch/Commit: **[`b56984c`](https://github.com/sagemath/sagetrac-mirror/commit/b56984cba10abdcbfabda76ac98e1e9aee4d353a)**

Reviewer: **Jeroen Demeyer**

Author: **Daniel Krenn**

Component: **algebra**

_Issue created by migration from https://trac.sagemath.org/ticket/22398_





---

archive/issue_events_313181.json:
```json
{
    "actor": "https://github.com/etn40ff",
    "created_at": "2017-02-20T20:22:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "milestone_number": null,
    "milestone_title": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22398#event-313181"
}
```



---

archive/issue_events_313182.json:
```json
{
    "actor": "https://github.com/etn40ff",
    "created_at": "2017-02-20T20:22:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "c: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22398#event-313182"
}
```



---

archive/issue_events_313183.json:
```json
{
    "actor": "https://github.com/etn40ff",
    "created_at": "2017-02-20T20:22:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22398#event-313183"
}
```



---

archive/issue_events_313184.json:
```json
{
    "actor": "https://github.com/etn40ff",
    "created_at": "2017-02-20T20:22:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22398#event-313184"
}
```



---

archive/issue_comments_331231.json:
```json
{
    "body": "Commit: **[`500205f`](https://github.com/sagemath/sagetrac-mirror/commit/500205f092692e0d9da392c1a3a0bc8de76cda9e)**",
    "created_at": "2017-02-20T20:28:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22398#issuecomment-331231",
    "user": "https://github.com/etn40ff"
}
```

Commit: **[`500205f`](https://github.com/sagemath/sagetrac-mirror/commit/500205f092692e0d9da392c1a3a0bc8de76cda9e)**



---

archive/issue_comments_331232.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nYour patch seems to work.\nThanks\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba66e9cb3f56007676686ae2e7024e52dc1e2d8b\">ba66e9c</a></td><td><code>fix for loop whose changing its keys inside</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/500205f092692e0d9da392c1a3a0bc8de76cda9e\">500205f</a></td><td><code>Added trac reference</code></td></tr></table>\n",
    "created_at": "2017-02-20T20:28:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22398#issuecomment-331232",
    "user": "https://github.com/etn40ff"
}
```

<div id="comment:1" align="right">comment:1</div>

Your patch seems to work.
Thanks

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba66e9cb3f56007676686ae2e7024e52dc1e2d8b">ba66e9c</a></td><td><code>fix for loop whose changing its keys inside</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/500205f092692e0d9da392c1a3a0bc8de76cda9e">500205f</a></td><td><code>Added trac reference</code></td></tr></table>




---

archive/issue_comments_331233.json:
```json
{
    "body": "Branch: **[public/ticket/22398](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/22398)**",
    "created_at": "2017-02-20T20:28:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22398#issuecomment-331233",
    "user": "https://github.com/etn40ff"
}
```

Branch: **[public/ticket/22398](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/22398)**



---

archive/issue_comments_331234.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,18 +1,16 @@\n Creating mutlivariate Laurent polynomials from other mutlivariate Laurent polynomials sometimes fails.\n \n ```\n-\n-        sage: LQ = LaurentPolynomialRing(QQ, 'x0, x1, x2, y0, y1, y2, y3, y4, y5')\n-        sage: LZ = LaurentPolynomialRing(ZZ, 'x0, x1, x2, y0, y1, y2, y3, y4, y5')\n-        sage: LQ.inject_variables()\n-        Defining x0, x1, x2, y0, y1, y2, y3, y4, y5\n-        sage: x2^-1*y0*y1*y2*y3*y4*y5 + x1^-1*x2^-1*y0*y1*y3*y4 + x0^-1 in LZ\n-        True\n-        sage: x2^-1*y0*y1*y2*y3*y4*y5 + x1^-1*x2^-1*y0*y1*y3*y4 + x0^-1*x1^-1*y0*y3 + x0^-1 in LZ\n-        Traceback (most recent call last):\n-        ...\n-        AttributeError: 'tuple' object has no attribute 'esub'\n-\n+sage: LQ = LaurentPolynomialRing(QQ, 'x0, x1, x2, y0, y1, y2, y3, y4, y5')\n+sage: LZ = LaurentPolynomialRing(ZZ, 'x0, x1, x2, y0, y1, y2, y3, y4, y5')\n+sage: LQ.inject_variables()\n+Defining x0, x1, x2, y0, y1, y2, y3, y4, y5\n+sage: x2^-1*y0*y1*y2*y3*y4*y5 + x1^-1*x2^-1*y0*y1*y3*y4 + x0^-1 in LZ\n+True\n+sage: x2^-1*y0*y1*y2*y3*y4*y5 + x1^-1*x2^-1*y0*y1*y3*y4 + x0^-1*x1^-1*y0*y3 + x0^-1 in LZ\n+Traceback (most recent call last):\n+...\n+AttributeError: 'tuple' object has no attribute 'esub'\n ```\n \n Apparently this is due to the fact that `LaurentPolynomial_mpair.__init__` changes the keys of the input dictionary.\n``````\n",
    "created_at": "2017-02-20T20:42:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22398#issuecomment-331234",
    "user": "https://github.com/etn40ff"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,18 +1,16 @@
 Creating mutlivariate Laurent polynomials from other mutlivariate Laurent polynomials sometimes fails.
 
 ```
-
-        sage: LQ = LaurentPolynomialRing(QQ, 'x0, x1, x2, y0, y1, y2, y3, y4, y5')
-        sage: LZ = LaurentPolynomialRing(ZZ, 'x0, x1, x2, y0, y1, y2, y3, y4, y5')
-        sage: LQ.inject_variables()
-        Defining x0, x1, x2, y0, y1, y2, y3, y4, y5
-        sage: x2^-1*y0*y1*y2*y3*y4*y5 + x1^-1*x2^-1*y0*y1*y3*y4 + x0^-1 in LZ
-        True
-        sage: x2^-1*y0*y1*y2*y3*y4*y5 + x1^-1*x2^-1*y0*y1*y3*y4 + x0^-1*x1^-1*y0*y3 + x0^-1 in LZ
-        Traceback (most recent call last):
-        ...
-        AttributeError: 'tuple' object has no attribute 'esub'
-
+sage: LQ = LaurentPolynomialRing(QQ, 'x0, x1, x2, y0, y1, y2, y3, y4, y5')
+sage: LZ = LaurentPolynomialRing(ZZ, 'x0, x1, x2, y0, y1, y2, y3, y4, y5')
+sage: LQ.inject_variables()
+Defining x0, x1, x2, y0, y1, y2, y3, y4, y5
+sage: x2^-1*y0*y1*y2*y3*y4*y5 + x1^-1*x2^-1*y0*y1*y3*y4 + x0^-1 in LZ
+True
+sage: x2^-1*y0*y1*y2*y3*y4*y5 + x1^-1*x2^-1*y0*y1*y3*y4 + x0^-1*x1^-1*y0*y3 + x0^-1 in LZ
+Traceback (most recent call last):
+...
+AttributeError: 'tuple' object has no attribute 'esub'
 ```
 
 Apparently this is due to the fact that `LaurentPolynomial_mpair.__init__` changes the keys of the input dictionary.
``````




---

archive/issue_comments_331235.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c930e8c451332b36a635742de0451c059dcef8ad\">c930e8c</a></td><td><code>Trac #22398: minor rewrite to use tuple(...) instead of copy(...)</code></td></tr></table>\n",
    "created_at": "2017-02-21T05:18:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22398#issuecomment-331235",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c930e8c451332b36a635742de0451c059dcef8ad">c930e8c</a></td><td><code>Trac #22398: minor rewrite to use tuple(...) instead of copy(...)</code></td></tr></table>




---

archive/issue_comments_331236.json:
```json
{
    "body": "Changed commit from **[`500205f`](https://github.com/sagemath/sagetrac-mirror/commit/500205f092692e0d9da392c1a3a0bc8de76cda9e)** to **[`c930e8c`](https://github.com/sagemath/sagetrac-mirror/commit/c930e8c451332b36a635742de0451c059dcef8ad)**",
    "created_at": "2017-02-21T05:18:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22398#issuecomment-331236",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`500205f`](https://github.com/sagemath/sagetrac-mirror/commit/500205f092692e0d9da392c1a3a0bc8de76cda9e)** to **[`c930e8c`](https://github.com/sagemath/sagetrac-mirror/commit/c930e8c451332b36a635742de0451c059dcef8ad)**



---

archive/issue_comments_331237.json:
```json
{
    "body": "Author: **Daniel Krenn**",
    "created_at": "2017-02-21T05:22:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22398#issuecomment-331237",
    "user": "https://github.com/dkrenn"
}
```

Author: **Daniel Krenn**



---

archive/issue_events_313185.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2017-02-21T05:22:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22398#event-313185"
}
```



---

archive/issue_comments_331238.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThe correct solution is to *not* modify the input data (instead of working around the fact that the input data is modified).\n\nIt would be good to add an explicit doctest showing that the input is not modified. Something like\n\n```\nsage: LQ.<x,y> = LaurentPolynomialRing(QQ)\nsage: D = {(-1, 1): 1}\nsage: type(D.keys()[0])\n<type 'tuple'>\nsage: LQ(D)\nx^-1*y\nsage: type(D.keys()[0])\n<type 'tuple'>\n```",
    "created_at": "2017-02-21T07:39:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22398#issuecomment-331238",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:5" align="right">comment:5</div>

The correct solution is to *not* modify the input data (instead of working around the fact that the input data is modified).

It would be good to add an explicit doctest showing that the input is not modified. Something like

```
sage: LQ.<x,y> = LaurentPolynomialRing(QQ)
sage: D = {(-1, 1): 1}
sage: type(D.keys()[0])
<type 'tuple'>
sage: LQ(D)
x^-1*y
sage: type(D.keys()[0])
<type 'tuple'>
```



---

archive/issue_events_313186.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-02-21T07:39:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22398#event-313186"
}
```



---

archive/issue_events_313187.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-02-21T07:39:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22398#event-313187"
}
```



---

archive/issue_events_313188.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-02-21T07:39:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22398#event-313188"
}
```



---

archive/issue_events_313189.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-02-21T07:39:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "label": "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p: 2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22398#event-313189"
}
```



---

archive/issue_comments_331239.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@jdemeyer](#comment:5):\n> The correct solution is to *not* modify the input data (instead of working around the fact that the input data is modified).\n\nI completely agree. I'll adapt the patch during the day (once my 7.6.beta4 has recompiled again...).",
    "created_at": "2017-02-21T08:00:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22398#issuecomment-331239",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@jdemeyer](#comment:5):
> The correct solution is to *not* modify the input data (instead of working around the fact that the input data is modified).

I completely agree. I'll adapt the patch during the day (once my 7.6.beta4 has recompiled again...).



---

archive/issue_comments_331240.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a4e1504fdc12f0f52a0a37154e4353350b77547c\">a4e1504</a></td><td><code>Trac #22398: make `__init__` not modify its input</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ca887a404feebeeaa44ba5807ffb710004978d3\">1ca887a</a></td><td><code>Trac #22398: simplify factoring out _mon</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a31db664c74f247e2e36a96b940c964c877a7df\">4a31db6</a></td><td><code>Trac #22398: doctest non-modifying input</code></td></tr></table>\n",
    "created_at": "2017-02-21T13:48:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22398#issuecomment-331240",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a4e1504fdc12f0f52a0a37154e4353350b77547c">a4e1504</a></td><td><code>Trac #22398: make `__init__` not modify its input</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ca887a404feebeeaa44ba5807ffb710004978d3">1ca887a</a></td><td><code>Trac #22398: simplify factoring out _mon</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a31db664c74f247e2e36a96b940c964c877a7df">4a31db6</a></td><td><code>Trac #22398: doctest non-modifying input</code></td></tr></table>




---

archive/issue_comments_331241.json:
```json
{
    "body": "Changed commit from **[`c930e8c`](https://github.com/sagemath/sagetrac-mirror/commit/c930e8c451332b36a635742de0451c059dcef8ad)** to **[`4a31db6`](https://github.com/sagemath/sagetrac-mirror/commit/4a31db664c74f247e2e36a96b940c964c877a7df)**",
    "created_at": "2017-02-21T13:48:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22398#issuecomment-331241",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c930e8c`](https://github.com/sagemath/sagetrac-mirror/commit/c930e8c451332b36a635742de0451c059dcef8ad)** to **[`4a31db6`](https://github.com/sagemath/sagetrac-mirror/commit/4a31db664c74f247e2e36a96b940c964c877a7df)**



---

archive/issue_events_313190.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2017-02-21T13:50:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22398#event-313190"
}
```



---

archive/issue_events_313191.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2017-02-21T13:50:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22398#event-313191"
}
```



---

archive/issue_comments_331242.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@jdemeyer](#comment:5):\n> The correct solution is to *not* modify the input data (instead of working around the fact that the input data is modified).\n\nDone. Needs_review (...and let's see what the patchbot says).",
    "created_at": "2017-02-21T13:50:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22398#issuecomment-331242",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@jdemeyer](#comment:5):
> The correct solution is to *not* modify the input data (instead of working around the fact that the input data is modified).

Done. Needs_review (...and let's see what the patchbot says).



---

archive/issue_comments_331243.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nIn the doctests, you can simplify code of the form\n\n```\nid_y = id(y)\nid(x) == id_y\n```\nby\n\n```\nx is y\n```",
    "created_at": "2017-02-21T14:05:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22398#issuecomment-331243",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:9" align="right">comment:9</div>

In the doctests, you can simplify code of the form

```
id_y = id(y)
id(x) == id_y
```
by

```
x is y
```



---

archive/issue_events_313192.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-02-21T14:05:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22398#event-313192"
}
```



---

archive/issue_events_313193.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-02-21T14:05:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22398#event-313193"
}
```



---

archive/issue_comments_331244.json:
```json
{
    "body": "Changed commit from **[`4a31db6`](https://github.com/sagemath/sagetrac-mirror/commit/4a31db664c74f247e2e36a96b940c964c877a7df)** to **[`1f2d7f4`](https://github.com/sagemath/sagetrac-mirror/commit/1f2d7f442d649b13d44d013a37348fa194672641)**",
    "created_at": "2017-02-21T14:07:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22398#issuecomment-331244",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4a31db6`](https://github.com/sagemath/sagetrac-mirror/commit/4a31db664c74f247e2e36a96b940c964c877a7df)** to **[`1f2d7f4`](https://github.com/sagemath/sagetrac-mirror/commit/1f2d7f442d649b13d44d013a37348fa194672641)**



---

archive/issue_comments_331245.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f2d7f442d649b13d44d013a37348fa194672641\">1f2d7f4</a></td><td><code>Trac #22398: simplify id(...) = id(...) in doctest</code></td></tr></table>\n",
    "created_at": "2017-02-21T14:07:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22398#issuecomment-331245",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f2d7f442d649b13d44d013a37348fa194672641">1f2d7f4</a></td><td><code>Trac #22398: simplify id(...) = id(...) in doctest</code></td></tr></table>




---

archive/issue_comments_331246.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@jdemeyer](#comment:9):\n> In the doctests, you can simplify code of the form\n> \n> ```\n> id(x) == id(y)\n> ```\n> by\n> \n> ```\n> x is y\n> ```\n\nOh, indeed :) ...done.",
    "created_at": "2017-02-21T14:08:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22398#issuecomment-331246",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@jdemeyer](#comment:9):
> In the doctests, you can simplify code of the form
> 
> ```
> id(x) == id(y)
> ```
> by
> 
> ```
> x is y
> ```

Oh, indeed :) ...done.



---

archive/issue_events_313194.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2017-02-21T14:08:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22398#event-313194"
}
```



---

archive/issue_events_313195.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2017-02-21T14:08:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22398#event-313195"
}
```



---

archive/issue_comments_331247.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2017-02-21T14:10:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22398#issuecomment-331247",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_comments_331248.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nIf tests pass, you can set this to positive_review.",
    "created_at": "2017-02-21T14:10:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22398#issuecomment-331248",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">comment:12</div>

If tests pass, you can set this to positive_review.



---

archive/issue_comments_331249.json:
```json
{
    "body": "Changed commit from **[`1f2d7f4`](https://github.com/sagemath/sagetrac-mirror/commit/1f2d7f442d649b13d44d013a37348fa194672641)** to **[`b56984c`](https://github.com/sagemath/sagetrac-mirror/commit/b56984cba10abdcbfabda76ac98e1e9aee4d353a)**",
    "created_at": "2017-02-22T09:47:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22398#issuecomment-331249",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1f2d7f4`](https://github.com/sagemath/sagetrac-mirror/commit/1f2d7f442d649b13d44d013a37348fa194672641)** to **[`b56984c`](https://github.com/sagemath/sagetrac-mirror/commit/b56984cba10abdcbfabda76ac98e1e9aee4d353a)**



---

archive/issue_comments_331250.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b56984cba10abdcbfabda76ac98e1e9aee4d353a\">b56984c</a></td><td><code>Trac #22398: py3: fix <type 'tuple'></code></td></tr></table>\n",
    "created_at": "2017-02-22T09:47:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22398#issuecomment-331250",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b56984cba10abdcbfabda76ac98e1e9aee4d353a">b56984c</a></td><td><code>Trac #22398: py3: fix <type 'tuple'></code></td></tr></table>




---

archive/issue_events_313196.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-02-23T10:59:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22398#event-313196"
}
```



---

archive/issue_events_313197.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-02-23T10:59:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22398#event-313197"
}
```



---

archive/issue_events_313198.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-02-24T14:49:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22398#event-313198"
}
```



---

archive/issue_events_313199.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f4f37b1f1488b5fe13e2a51844f7fa15834542bd",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-02-24T14:49:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22398#event-313199"
}
```



---

archive/issue_comments_331251.json:
```json
{
    "body": "Changed branch from **[public/ticket/22398](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/22398)** to **[`b56984c`](https://github.com/sagemath/sagetrac-mirror/commit/b56984cba10abdcbfabda76ac98e1e9aee4d353a)**",
    "created_at": "2017-02-24T14:49:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22398",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22398#issuecomment-331251",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/ticket/22398](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/22398)** to **[`b56984c`](https://github.com/sagemath/sagetrac-mirror/commit/b56984cba10abdcbfabda76ac98e1e9aee4d353a)**
