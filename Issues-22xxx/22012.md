# Issue 22012: Py3 : Handle cmp() in pyx files in misc and modules

archive/issues_021775.json:
```json
{
    "assignees": [],
    "body": "as another step to python3\n\nCC:  @tscrim @a-andre @jdemeyer\n\nBranch/Commit: **[`651fcfd`](https://github.com/sagemath/sagetrac-mirror/commit/651fcfd9f99633e1a532f23bede24717061d2d18)**\n\nReviewer: **Andr\u00e9 Apitzsch**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nComponent: **python3**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/22012_\n\n",
    "closed_at": "2016-12-05T22:34:53Z",
    "created_at": "2016-12-02T20:23:18Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20python3",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Py3 : Handle cmp() in pyx files in misc and modules",
    "type": "issue",
    "updated_at": "2016-12-05T22:34:53Z",
    "url": "https://github.com/sagemath/sage/issues/22012",
    "user": "https://github.com/fchapoton"
}
```
as another step to python3

CC:  @tscrim @a-andre @jdemeyer

Branch/Commit: **[`651fcfd`](https://github.com/sagemath/sagetrac-mirror/commit/651fcfd9f99633e1a532f23bede24717061d2d18)**

Reviewer: **André Apitzsch**

Author: **Frédéric Chapoton**

Component: **python3**

_Issue created by migration from https://trac.sagemath.org/ticket/22012_





---

archive/issue_events_309795.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-12-02T20:23:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22012",
    "milestone_number": null,
    "milestone_title": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22012#event-309795"
}
```



---

archive/issue_events_309796.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-12-02T20:23:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22012",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20python3",
    "label_color": "000080",
    "label_name": "c: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22012#event-309796"
}
```



---

archive/issue_events_309797.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-12-02T20:23:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22012",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22012#event-309797"
}
```



---

archive/issue_events_309798.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-12-02T20:23:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22012",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22012#event-309798"
}
```



---

archive/issue_comments_324178.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c841d8da75117d24f6bd6cc4e005c15cc50f5dfd\"><code>c841d8d</code></a></td><td><code>py3 handling cmp() in two more pyx files</code></td></tr></table>\n",
    "created_at": "2016-12-02T20:23:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22012#issuecomment-324178",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c841d8da75117d24f6bd6cc4e005c15cc50f5dfd"><code>c841d8d</code></a></td><td><code>py3 handling cmp() in two more pyx files</code></td></tr></table>




---

archive/issue_comments_324179.json:
```json
{
    "body": "Commit: **[`c841d8d`](https://github.com/sagemath/sagetrac-mirror/commit/c841d8da75117d24f6bd6cc4e005c15cc50f5dfd)**",
    "created_at": "2016-12-02T20:23:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22012#issuecomment-324179",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`c841d8d`](https://github.com/sagemath/sagetrac-mirror/commit/c841d8da75117d24f6bd6cc4e005c15cc50f5dfd)**



---

archive/issue_comments_324180.json:
```json
{
    "body": "Branch: **[u/chapoton/22012](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/22012)**",
    "created_at": "2016-12-02T20:23:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22012#issuecomment-324180",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/22012](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/22012)**



---

archive/issue_events_309799.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-12-02T20:23:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22012",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22012#event-309799"
}
```



---

archive/issue_comments_324181.json:
```json
{
    "body": "Changed commit from **[`c841d8d`](https://github.com/sagemath/sagetrac-mirror/commit/c841d8da75117d24f6bd6cc4e005c15cc50f5dfd)** to **[`651fcfd`](https://github.com/sagemath/sagetrac-mirror/commit/651fcfd9f99633e1a532f23bede24717061d2d18)**",
    "created_at": "2016-12-03T09:36:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22012#issuecomment-324181",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c841d8d`](https://github.com/sagemath/sagetrac-mirror/commit/c841d8da75117d24f6bd6cc4e005c15cc50f5dfd)** to **[`651fcfd`](https://github.com/sagemath/sagetrac-mirror/commit/651fcfd9f99633e1a532f23bede24717061d2d18)**



---

archive/issue_comments_324182.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/651fcfd9f99633e1a532f23bede24717061d2d18\"><code>651fcfd</code></a></td><td><code>trac 22012 correct one failing doctest</code></td></tr></table>\n",
    "created_at": "2016-12-03T09:36:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22012#issuecomment-324182",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/651fcfd9f99633e1a532f23bede24717061d2d18"><code>651fcfd</code></a></td><td><code>trac 22012 correct one failing doctest</code></td></tr></table>




---

archive/issue_comments_324183.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nLGTM.\n\nCan you tell me why `bool` around `w < v` is needed in *src/sage/modules/free_module_element.pyx*?",
    "created_at": "2016-12-03T11:18:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22012#issuecomment-324183",
    "user": "https://github.com/a-andre"
}
```

<div id="comment:3" align="right">comment:3</div>

LGTM.

Can you tell me why `bool` around `w < v` is needed in *src/sage/modules/free_module_element.pyx*?



---

archive/issue_comments_324184.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nIt turns out that the changes made here do turn the comparison of elements of vecctors over the symbolic ring into \"symbolic inequalities\". Probably this should be the expected behaviour. But in some sense, this breaks the comparison of symbolic vectors (that should never have worked anyway, imho).\n\nFor me, SR is a rather awful and undefined thing, in which **equality and comparison do not make sense**. Maybe we will hit later a large scale problem when handling python3 conversion of cmp in SR, or maybe not.",
    "created_at": "2016-12-03T11:24:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22012#issuecomment-324184",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:4" align="right">comment:4</div>

It turns out that the changes made here do turn the comparison of elements of vecctors over the symbolic ring into "symbolic inequalities". Probably this should be the expected behaviour. But in some sense, this breaks the comparison of symbolic vectors (that should never have worked anyway, imho).

For me, SR is a rather awful and undefined thing, in which **equality and comparison do not make sense**. Maybe we will hit later a large scale problem when handling python3 conversion of cmp in SR, or maybe not.



---

archive/issue_comments_324185.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nOkay.\n\nIf patchbot doesn't complain, you can set it to positive review.",
    "created_at": "2016-12-03T11:48:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22012#issuecomment-324185",
    "user": "https://github.com/a-andre"
}
```

<div id="comment:5" align="right">comment:5</div>

Okay.

If patchbot doesn't complain, you can set it to positive review.



---

archive/issue_comments_324186.json:
```json
{
    "body": "Reviewer: **Andr\u00e9 Apitzsch**",
    "created_at": "2016-12-03T11:48:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22012#issuecomment-324186",
    "user": "https://github.com/a-andre"
}
```

Reviewer: **André Apitzsch**



---

archive/issue_events_309800.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-12-04T16:16:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22012",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22012#event-309800"
}
```



---

archive/issue_events_309801.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-12-04T16:16:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22012",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22012#event-309801"
}
```



---

archive/issue_comments_324187.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThank you. Setting to positive.",
    "created_at": "2016-12-04T16:16:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22012#issuecomment-324187",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:6" align="right">comment:6</div>

Thank you. Setting to positive.



---

archive/issue_events_309802.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-12-05T22:34:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22012",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22012#event-309802"
}
```



---

archive/issue_events_309803.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "209c15d9c56df0df9d491e8a4618af7f6023fb4e",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-12-05T22:34:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/22012",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22012#event-309803"
}
```



---

archive/issue_comments_324188.json:
```json
{
    "body": "Changed branch from **[u/chapoton/22012](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/22012)** to **[`651fcfd`](https://github.com/sagemath/sagetrac-mirror/commit/651fcfd9f99633e1a532f23bede24717061d2d18)**",
    "created_at": "2016-12-05T22:34:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22012#issuecomment-324188",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/22012](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/22012)** to **[`651fcfd`](https://github.com/sagemath/sagetrac-mirror/commit/651fcfd9f99633e1a532f23bede24717061d2d18)**
