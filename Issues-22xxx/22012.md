# Issue 22012: Py3 : Handle cmp() in pyx files in misc and modules

archive/issues_021775.json:
```json
{
    "body": "as another step to python3\n\nCC:  @tscrim @a-andre @jdemeyer\n\nBranch/Commit: 651fcfd9f99633e1a532f23bede24717061d2d18\n\nReviewer: Andr\u00e9 Apitzsch\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/22012\n\n",
    "closed_at": "2016-12-05T22:34:53Z",
    "created_at": "2016-12-02T20:23:18Z",
    "labels": [
        "component: python3"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.5",
    "title": "Py3 : Handle cmp() in pyx files in misc and modules",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22012",
    "user": "https://github.com/fchapoton"
}
```
as another step to python3

CC:  @tscrim @a-andre @jdemeyer

Branch/Commit: 651fcfd9f99633e1a532f23bede24717061d2d18

Reviewer: André Apitzsch

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/22012





---

archive/issue_comments_401528.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|\n|[c841d8d](https://github.com/sagemath/sagetrac-mirror/commit/c841d8da75117d24f6bd6cc4e005c15cc50f5dfd)|`py3 handling cmp() in two more pyx files`|",
    "created_at": "2016-12-02T20:23:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22012#issuecomment-401528",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|
|[c841d8d](https://github.com/sagemath/sagetrac-mirror/commit/c841d8da75117d24f6bd6cc4e005c15cc50f5dfd)|`py3 handling cmp() in two more pyx files`|



---

archive/issue_comments_401529.json:
```json
{
    "body": "Changing commit from \"\" to \"c841d8da75117d24f6bd6cc4e005c15cc50f5dfd\"",
    "created_at": "2016-12-02T20:23:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22012#issuecomment-401529",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "c841d8da75117d24f6bd6cc4e005c15cc50f5dfd"



---

archive/issue_comments_401530.json:
```json
{
    "body": "Changing branch from \"\" to \"u/chapoton/22012\"",
    "created_at": "2016-12-02T20:23:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22012#issuecomment-401530",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "u/chapoton/22012"



---

archive/issue_comments_401531.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-12-02T20:23:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22012#issuecomment-401531",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_401532.json:
```json
{
    "body": "Changing commit from \"c841d8da75117d24f6bd6cc4e005c15cc50f5dfd\" to \"651fcfd9f99633e1a532f23bede24717061d2d18\"",
    "created_at": "2016-12-03T09:36:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22012#issuecomment-401532",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c841d8da75117d24f6bd6cc4e005c15cc50f5dfd" to "651fcfd9f99633e1a532f23bede24717061d2d18"



---

archive/issue_comments_401533.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|\n|[651fcfd](https://github.com/sagemath/sagetrac-mirror/commit/651fcfd9f99633e1a532f23bede24717061d2d18)|`trac 22012 correct one failing doctest`|",
    "created_at": "2016-12-03T09:36:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22012#issuecomment-401533",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|
|[651fcfd](https://github.com/sagemath/sagetrac-mirror/commit/651fcfd9f99633e1a532f23bede24717061d2d18)|`trac 22012 correct one failing doctest`|



---

archive/issue_comments_401534.json:
```json
{
    "body": "<a id='comment:3'></a>\nLGTM.\n\nCan you tell me why `bool` around `w < v` is needed in *src/sage/modules/free_module_element.pyx*?",
    "created_at": "2016-12-03T11:18:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22012#issuecomment-401534",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:3'></a>
LGTM.

Can you tell me why `bool` around `w < v` is needed in *src/sage/modules/free_module_element.pyx*?



---

archive/issue_comments_401535.json:
```json
{
    "body": "<a id='comment:4'></a>\nIt turns out that the changes made here do turn the comparison of elements of vecctors over the symbolic ring into \"symbolic inequalities\". Probably this should be the expected behaviour. But in some sense, this breaks the comparison of symbolic vectors (that should never have worked anyway, imho).\n\nFor me, SR is a rather awful and undefined thing, in which **equality and comparison do not make sense**. Maybe we will hit later a large scale problem when handling python3 conversion of cmp in SR, or maybe not.",
    "created_at": "2016-12-03T11:24:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22012#issuecomment-401535",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
It turns out that the changes made here do turn the comparison of elements of vecctors over the symbolic ring into "symbolic inequalities". Probably this should be the expected behaviour. But in some sense, this breaks the comparison of symbolic vectors (that should never have worked anyway, imho).

For me, SR is a rather awful and undefined thing, in which **equality and comparison do not make sense**. Maybe we will hit later a large scale problem when handling python3 conversion of cmp in SR, or maybe not.



---

archive/issue_comments_401536.json:
```json
{
    "body": "<a id='comment:5'></a>\nOkay.\n\nIf patchbot doesn't complain, you can set it to positive review.",
    "created_at": "2016-12-03T11:48:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22012#issuecomment-401536",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:5'></a>
Okay.

If patchbot doesn't complain, you can set it to positive review.



---

archive/issue_comments_401537.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Andr\u00e9 Apitzsch\"",
    "created_at": "2016-12-03T11:48:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22012#issuecomment-401537",
    "user": "https://github.com/a-andre"
}
```

Changing reviewer from "" to "André Apitzsch"



---

archive/issue_comments_401538.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-12-04T16:16:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22012#issuecomment-401538",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_401539.json:
```json
{
    "body": "<a id='comment:6'></a>\nThank you. Setting to positive.",
    "created_at": "2016-12-04T16:16:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22012#issuecomment-401539",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
Thank you. Setting to positive.



---

archive/issue_events_073731.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-12-05T22:34:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22012",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22012#event-73731"
}
```



---

archive/issue_comments_401540.json:
```json
{
    "body": "Changing branch from \"u/chapoton/22012\" to \"651fcfd9f99633e1a532f23bede24717061d2d18\"",
    "created_at": "2016-12-05T22:34:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22012#issuecomment-401540",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/chapoton/22012" to "651fcfd9f99633e1a532f23bede24717061d2d18"



---

archive/issue_comments_401541.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-12-05T22:34:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22012",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22012#issuecomment-401541",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
