# Issue 22814: Update cmake to 3.8.0

archive/issues_022577.json:
```json
{
    "assignees": [],
    "body": "Tarball available at https://cmake.org/files/v3.8/cmake-3.8.0.tar.gz\n\n\nCC:  @isuruf @kiwifb\n\nKeywords: **days86, sdl**\n\nBranch: **[`8471784`](https://github.com/sagemath/sagetrac-mirror/commit/8471784d3d245e41405cc03ffa235f9238f2bdb1)**\n\nReviewer: **Travis Scrimshaw, Fran\u00e7ois Bissey**\n\nAuthor: **Thierry Monteil**\n\nComponent: **packages: experimental**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/22814_\n\n",
    "closed_at": "2017-04-23T12:57:31Z",
    "created_at": "2017-04-15T04:34:33Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20experimental",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Update cmake to 3.8.0",
    "type": "issue",
    "updated_at": "2019-08-27T19:45:19Z",
    "url": "https://github.com/sagemath/sage/issues/22814",
    "user": "https://github.com/sagetrac-tmonteil"
}
```
Tarball available at https://cmake.org/files/v3.8/cmake-3.8.0.tar.gz


CC:  @isuruf @kiwifb

Keywords: **days86, sdl**

Branch: **[`8471784`](https://github.com/sagemath/sagetrac-mirror/commit/8471784d3d245e41405cc03ffa235f9238f2bdb1)**

Reviewer: **Travis Scrimshaw, Fran√ßois Bissey**

Author: **Thierry Monteil**

Component: **packages: experimental**

_Issue created by migration from https://trac.sagemath.org/ticket/22814_





---

archive/issue_events_319921.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2017-04-15T04:34:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-319921"
}
```



---

archive/issue_events_319922.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2017-04-15T04:34:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20experimental",
    "label_color": "000080",
    "label_name": "c: packages: experimental",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-319922"
}
```



---

archive/issue_events_319923.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2017-04-15T04:34:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-319923"
}
```



---

archive/issue_events_319924.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2017-04-15T04:34:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-319924"
}
```



---

archive/issue_comments_340001.json:
```json
{
    "body": "Branch: **[u/tmonteil/update_cmake_to_3_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/update_cmake_to_3_8_0)**",
    "created_at": "2017-04-15T15:51:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340001",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Branch: **[u/tmonteil/update_cmake_to_3_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/update_cmake_to_3_8_0)**



---

archive/issue_comments_340002.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nWith 3.2.3:\n- on 64bit, the build was OK and self-tests lead to 1 error (CTestTestUpload)\n- on 32bit, the build failed at configure time\n\nWith 3.8.0:\n- on 64bit, the build is OK and self-tests lead to 2 errors (CTestTestUpload and RunCMake.ctest_submit), but the second test did not exist on 3.2.3.\n- on 32bit, the build is OK and 7 self-tests failed out of 442 (98% tests passed)\n\nSo, regarding GNU/Linux, the state of this package is strictly better than before.\n\nHowever, i had to remove the `osx10.10.patch` patch since it does not apply anymore. So, if you have access to such machines, please have a look to OSX builds.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ded8e24cfa768a309d0c122dda0b2eb394a8eaa\"><code>4ded8e2</code></a></td><td><code>#22814 : update cmake to 3.8.0</code></td></tr></table>\n",
    "created_at": "2017-04-15T16:05:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340002",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:2" align="right">comment:2</div>

With 3.2.3:
- on 64bit, the build was OK and self-tests lead to 1 error (CTestTestUpload)
- on 32bit, the build failed at configure time

With 3.8.0:
- on 64bit, the build is OK and self-tests lead to 2 errors (CTestTestUpload and RunCMake.ctest_submit), but the second test did not exist on 3.2.3.
- on 32bit, the build is OK and 7 self-tests failed out of 442 (98% tests passed)

So, regarding GNU/Linux, the state of this package is strictly better than before.

However, i had to remove the `osx10.10.patch` patch since it does not apply anymore. So, if you have access to such machines, please have a look to OSX builds.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ded8e24cfa768a309d0c122dda0b2eb394a8eaa"><code>4ded8e2</code></a></td><td><code>#22814 : update cmake to 3.8.0</code></td></tr></table>




---

archive/issue_comments_340003.json:
```json
{
    "body": "Changed keywords from none to **days86**",
    "created_at": "2017-04-15T16:05:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340003",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Changed keywords from none to **days86**



---

archive/issue_comments_340004.json:
```json
{
    "body": "Commit: **[`4ded8e2`](https://github.com/sagemath/sagetrac-mirror/commit/4ded8e24cfa768a309d0c122dda0b2eb394a8eaa)**",
    "created_at": "2017-04-15T16:05:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340004",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Commit: **[`4ded8e2`](https://github.com/sagemath/sagetrac-mirror/commit/4ded8e24cfa768a309d0c122dda0b2eb394a8eaa)**



---

archive/issue_events_319925.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2017-04-15T16:05:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-319925"
}
```



---

archive/issue_comments_340005.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2017-04-15T19:34:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340005",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_events_319926.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-04-15T19:34:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-319926"
}
```



---

archive/issue_events_319927.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-04-15T19:34:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-319927"
}
```



---

archive/issue_comments_340006.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nLGTM.",
    "created_at": "2017-04-15T19:34:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340006",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:3" align="right">comment:3</div>

LGTM.



---

archive/issue_comments_340007.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@tscrim](#comment:3):\n> LGTM.\n\nDoes it compile/test well on OSX ?",
    "created_at": "2017-04-15T21:37:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340007",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@tscrim](#comment:3):
> LGTM.

Does it compile/test well on OSX ?



---

archive/issue_comments_340008.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nTested on OS X on top of #12426, tests returned 3 errors:\n\n```\n        Start 190: CTestTestUpload\n190/445 Test #190: CTestTestUpload ......................................***Failed  Required regular expression not found.Regex=[Upload\\.xml\n] 78.11 sec\n        Start 349: RunCMake.ctest_submit\n349/445 Test #349: RunCMake.ctest_submit ................................***Failed  388.42 sec\n        Start 383: RunCMake.Framework\n383/445 Test #383: RunCMake.Framework ...................................***Failed   11.32 sec\n```\nDetails\n[CTestTestUpload]\n\n```\n[ERROR_MESSAGE]\n   Error when uploading file: /Users/fbissey/build/sage-clang/local/var/tmp/sage/build/cmake-3.8.0/src/Tests/CTestTestUpload/Testing/20170415-2318/Build.xml\n\n   Error message was: Failed to connect to 192.0.2.0 port 5187: Operation timed out\n   Problems when submitting via HTTP\n```\n[RunCMake.ctest_submit]\n\n```\n[ERROR_MESSAGE]\n   Error when uploading file: /Users/fbissey/build/sage-clang/local/var/tmp/sage/build/cmake-3.8.0/src/Tests/RunCMake/ctest_submit/FailDrop-https-build/Testing/20170415-2$\n\n   Error message was: Failed to connect to 192.0.2.0 port 5187: Operation timed out\n   Problems when submitting via HTTP\n```\nLooks like a pattern...\n[RunCMake.Framework]: OS X specific, it looks like multiple errors trying to build stuff for iDevices...",
    "created_at": "2017-04-16T00:00:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340008",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:5" align="right">comment:5</div>

Tested on OS X on top of #12426, tests returned 3 errors:

```
        Start 190: CTestTestUpload
190/445 Test #190: CTestTestUpload ......................................***Failed  Required regular expression not found.Regex=[Upload\.xml
] 78.11 sec
        Start 349: RunCMake.ctest_submit
349/445 Test #349: RunCMake.ctest_submit ................................***Failed  388.42 sec
        Start 383: RunCMake.Framework
383/445 Test #383: RunCMake.Framework ...................................***Failed   11.32 sec
```
Details
[CTestTestUpload]

```
[ERROR_MESSAGE]
   Error when uploading file: /Users/fbissey/build/sage-clang/local/var/tmp/sage/build/cmake-3.8.0/src/Tests/CTestTestUpload/Testing/20170415-2318/Build.xml

   Error message was: Failed to connect to 192.0.2.0 port 5187: Operation timed out
   Problems when submitting via HTTP
```
[RunCMake.ctest_submit]

```
[ERROR_MESSAGE]
   Error when uploading file: /Users/fbissey/build/sage-clang/local/var/tmp/sage/build/cmake-3.8.0/src/Tests/RunCMake/ctest_submit/FailDrop-https-build/Testing/20170415-2$

   Error message was: Failed to connect to 192.0.2.0 port 5187: Operation timed out
   Problems when submitting via HTTP
```
Looks like a pattern...
[RunCMake.Framework]: OS X specific, it looks like multiple errors trying to build stuff for iDevices...



---

archive/issue_comments_340009.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI'd say the OS X failure in framework is because we set `MACOSX_DEPLOYMENT_TARGET` in `sage-env`. When cmake tries to build executable for iOS there is an option on the command line that tells it to produce OS X stuff (x86_64) instead. Boom when you try to link.",
    "created_at": "2017-04-16T01:56:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340009",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:6" align="right">comment:6</div>

I'd say the OS X failure in framework is because we set `MACOSX_DEPLOYMENT_TARGET` in `sage-env`. When cmake tries to build executable for iOS there is an option on the command line that tells it to produce OS X stuff (x86_64) instead. Boom when you try to link.



---

archive/issue_comments_340010.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nYup, confirmed. Unsetting `MACOSX_DEPLOYMENT_TARGET` make the framework test pass. Only those two tests that probably try to contact to an internal kitware server are now failing.",
    "created_at": "2017-04-16T03:13:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340010",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:7" align="right">comment:7</div>

Yup, confirmed. Unsetting `MACOSX_DEPLOYMENT_TARGET` make the framework test pass. Only those two tests that probably try to contact to an internal kitware server are now failing.



---

archive/issue_comments_340011.json:
```json
{
    "body": "Changed commit from **[`4ded8e2`](https://github.com/sagemath/sagetrac-mirror/commit/4ded8e24cfa768a309d0c122dda0b2eb394a8eaa)** to **[`eb3ae47`](https://github.com/sagemath/sagetrac-mirror/commit/eb3ae47afee781ff2e9de249baeabab07d26fa6a)**",
    "created_at": "2017-04-16T03:45:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340011",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4ded8e2`](https://github.com/sagemath/sagetrac-mirror/commit/4ded8e24cfa768a309d0c122dda0b2eb394a8eaa)** to **[`eb3ae47`](https://github.com/sagemath/sagetrac-mirror/commit/eb3ae47afee781ff2e9de249baeabab07d26fa6a)**



---

archive/issue_events_319928.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2017-04-16T03:45:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-319928"
}
```



---

archive/issue_events_319929.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2017-04-16T03:45:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-319929"
}
```



---

archive/issue_comments_340012.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb3ae47afee781ff2e9de249baeabab07d26fa6a\"><code>eb3ae47</code></a></td><td><code>#22814 : unset MACOSX_DEPLOYMENT_TARGET.</code></td></tr></table>\n",
    "created_at": "2017-04-16T03:45:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340012",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb3ae47afee781ff2e9de249baeabab07d26fa6a"><code>eb3ae47</code></a></td><td><code>#22814 : unset MACOSX_DEPLOYMENT_TARGET.</code></td></tr></table>




---

archive/issue_comments_340013.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@kiwifb](#comment:7):\n> Yup, confirmed. Unsetting `MACOSX_DEPLOYMENT_TARGET` make the framework test pass. Only those two tests that probably try to contact to an internal kitware server are now failing.\n\nThanks fot the investigation, does the last commit fixes that issue ?",
    "created_at": "2017-04-16T03:47:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340013",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@kiwifb](#comment:7):
> Yup, confirmed. Unsetting `MACOSX_DEPLOYMENT_TARGET` make the framework test pass. Only those two tests that probably try to contact to an internal kitware server are now failing.

Thanks fot the investigation, does the last commit fixes that issue ?



---

archive/issue_comments_340014.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nNot what I have done or my recommendation. I am also working on silencing the other two tests. I am acting only on `spkg-check`\n\n```\n#!/usr/bin/env bash\n\ncd src\nunset MACOSX_DEPLOYMENT_TARGET\nctest -E \"(CTestTestStopTime|TestUpload)\"\n```\nThat made the framework test pass and silenced the `TestUpload` one. Gentoo silence the `TestUpload` one too amongst other. I still have to do something about `ctest_submit`. Have to find the right command.",
    "created_at": "2017-04-16T04:11:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340014",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:10" align="right">comment:10</div>

Not what I have done or my recommendation. I am also working on silencing the other two tests. I am acting only on `spkg-check`

```
#!/usr/bin/env bash

cd src
unset MACOSX_DEPLOYMENT_TARGET
ctest -E "(CTestTestStopTime|TestUpload)"
```
That made the framework test pass and silenced the `TestUpload` one. Gentoo silence the `TestUpload` one too amongst other. I still have to do something about `ctest_submit`. Have to find the right command.



---

archive/issue_comments_340015.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nThat should take care of everything on 64bit. Cannot do anything about the 32bit tests without knowing more about them\n\n```\n#!/usr/bin/env bash\n\ncd src\nunset MACOSX_DEPLOYMENT_TARGET\nctest --extra-verbose --output-on-failure -E \"(CTestTestStopTime|TestUpload|ctest_submit)\"\n```\nAnd I like things to be verbose, that makes debugging so much easier.",
    "created_at": "2017-04-16T06:25:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340015",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:11" align="right">comment:11</div>

That should take care of everything on 64bit. Cannot do anything about the 32bit tests without knowing more about them

```
#!/usr/bin/env bash

cd src
unset MACOSX_DEPLOYMENT_TARGET
ctest --extra-verbose --output-on-failure -E "(CTestTestStopTime|TestUpload|ctest_submit)"
```
And I like things to be verbose, that makes debugging so much easier.



---

archive/issue_comments_340016.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/96cae4e257a59bba9a6f6fcb46a20cb715bec6ad\"><code>96cae4e</code></a></td><td><code>#22814 : make the self tests pass + fix dependencies</code></td></tr></table>\n",
    "created_at": "2017-04-17T04:27:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340016",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/96cae4e257a59bba9a6f6fcb46a20cb715bec6ad"><code>96cae4e</code></a></td><td><code>#22814 : make the self tests pass + fix dependencies</code></td></tr></table>




---

archive/issue_comments_340017.json:
```json
{
    "body": "Changed commit from **[`eb3ae47`](https://github.com/sagemath/sagetrac-mirror/commit/eb3ae47afee781ff2e9de249baeabab07d26fa6a)** to **[`96cae4e`](https://github.com/sagemath/sagetrac-mirror/commit/96cae4e257a59bba9a6f6fcb46a20cb715bec6ad)**",
    "created_at": "2017-04-17T04:27:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340017",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`eb3ae47`](https://github.com/sagemath/sagetrac-mirror/commit/eb3ae47afee781ff2e9de249baeabab07d26fa6a)** to **[`96cae4e`](https://github.com/sagemath/sagetrac-mirror/commit/96cae4e257a59bba9a6f6fcb46a20cb715bec6ad)**



---

archive/issue_comments_340018.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThanks for the hints, the tests now pass on 64bit arch. I took the opportunity to add a missing `dependencies` file. Regarding the 32bit issues, i might have some problems with my current VM  (see #22782 that i seem to be the only one to produce), so i will rebuild a fresh one to only get the meaningful errors.",
    "created_at": "2017-04-17T04:34:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340018",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:13" align="right">comment:13</div>

Thanks for the hints, the tests now pass on 64bit arch. I took the opportunity to add a missing `dependencies` file. Regarding the 32bit issues, i might have some problems with my current VM  (see #22782 that i seem to be the only one to produce), so i will rebuild a fresh one to only get the meaningful errors.



---

archive/issue_comments_340019.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@sagetrac-tmonteil](#comment:2):\n> However, i had to remove the `osx10.10.patch` patch since it does not apply anymore. So, if you have access to such machines, please have a look to OSX builds.\n\nSince sage is changing the compiler to clang on OSX, the patch is not needed at all.\n\nReplying to [@sagetrac-tmonteil](#comment:13):\n> Thanks for the hints, the tests now pass on 64bit arch. I took the opportunity to add a missing `dependencies` file.\n\nI see that `curl` is a sage package now. Since it was not when the previous `cmake` version was added, I added logic such that `curl` was used from OSX system and it was built from source on Linux (`cmake` has a bundled `curl`). Can you change the `spkg-install` such that `cmake` finds sage's `curl` package?",
    "created_at": "2017-04-17T05:02:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340019",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@sagetrac-tmonteil](#comment:2):
> However, i had to remove the `osx10.10.patch` patch since it does not apply anymore. So, if you have access to such machines, please have a look to OSX builds.

Since sage is changing the compiler to clang on OSX, the patch is not needed at all.

Replying to [@sagetrac-tmonteil](#comment:13):
> Thanks for the hints, the tests now pass on 64bit arch. I took the opportunity to add a missing `dependencies` file.

I see that `curl` is a sage package now. Since it was not when the previous `cmake` version was added, I added logic such that `curl` was used from OSX system and it was built from source on Linux (`cmake` has a bundled `curl`). Can you change the `spkg-install` such that `cmake` finds sage's `curl` package?



---

archive/issue_events_319930.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-04-17T05:25:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-319930"
}
```



---

archive/issue_events_319931.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-04-17T05:25:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-319931"
}
```



---

archive/issue_comments_340020.json:
```json
{
    "body": "Changed reviewer from **Travis Scrimshaw** to **Travis Scrimshaw, Fran\u00e7ois Bissey**",
    "created_at": "2017-04-17T05:25:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340020",
    "user": "https://github.com/kiwifb"
}
```

Changed reviewer from **Travis Scrimshaw** to **Travis Scrimshaw, Fran√ßois Bissey**



---

archive/issue_comments_340021.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@isuruf](#comment:14):\n> Replying to [@sagetrac-tmonteil](#comment:2):\n> > However, i had to remove the `osx10.10.patch` patch since it does not apply anymore. So, if you have access to such machines, please have a look to OSX builds.\n\n> \n> Since sage is changing the compiler to clang on OSX, the patch is not needed at all.\n> \n> Replying to [@sagetrac-tmonteil](#comment:13):\n> > Thanks for the hints, the tests now pass on 64bit arch. I took the opportunity to add a missing `dependencies` file.\n\n> \n> I see that `curl` is a sage package now. Since it was not when the previous `cmake` version was added, I added logic such that `curl` was used from OSX system and it was built from source on Linux (`cmake` has a bundled `curl`). Can you change the `spkg-install` such that `cmake` finds sage's `curl` package?\n\nThierry did put `curl` in the dependencies, so it is taken care of. I am adding myself as a reviewer and put it back to positive review.",
    "created_at": "2017-04-17T05:25:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340021",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@isuruf](#comment:14):
> Replying to [@sagetrac-tmonteil](#comment:2):
> > However, i had to remove the `osx10.10.patch` patch since it does not apply anymore. So, if you have access to such machines, please have a look to OSX builds.

> 
> Since sage is changing the compiler to clang on OSX, the patch is not needed at all.
> 
> Replying to [@sagetrac-tmonteil](#comment:13):
> > Thanks for the hints, the tests now pass on 64bit arch. I took the opportunity to add a missing `dependencies` file.

> 
> I see that `curl` is a sage package now. Since it was not when the previous `cmake` version was added, I added logic such that `curl` was used from OSX system and it was built from source on Linux (`cmake` has a bundled `curl`). Can you change the `spkg-install` such that `cmake` finds sage's `curl` package?

Thierry did put `curl` in the dependencies, so it is taken care of. I am adding myself as a reviewer and put it back to positive review.



---

archive/issue_comments_340022.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@kiwifb](#comment:15):\n> Thierry did put `curl` in the dependencies, so it is taken care of. I am adding myself as a reviewer and put it back to positive review.\n\nYes, but on Linux, `cmake` builds the bundled `curl` right?",
    "created_at": "2017-04-17T05:28:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340022",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@kiwifb](#comment:15):
> Thierry did put `curl` in the dependencies, so it is taken care of. I am adding myself as a reviewer and put it back to positive review.

Yes, but on Linux, `cmake` builds the bundled `curl` right?



---

archive/issue_comments_340023.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nYou are right `spkg-install` needs cleaning up. The whole section for using or not system curl needs updating, most of it will have to go and be simplified. Back to `need_works`.",
    "created_at": "2017-04-17T05:31:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340023",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:17" align="right">comment:17</div>

You are right `spkg-install` needs cleaning up. The whole section for using or not system curl needs updating, most of it will have to go and be simplified. Back to `need_works`.



---

archive/issue_events_319932.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-04-17T05:31:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-319932"
}
```



---

archive/issue_events_319933.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-04-17T05:31:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-319933"
}
```



---

archive/issue_comments_340024.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nI was trying to find the origin of the `192.0.2.0` address in the cmake test suite. It is not in the source code. cmake does something weird with its test suite. At some point it links one of the sub-folders in the `Tests` to the `Applications` folder on the mac. In my case one of the App in `Applications` is libreoffice. That weird address is found inside libreoffice's python code....\n\nThis is just bizarre. \n\nI'll clean `spkg-install` there is other stuff in there like `MACOSX_DEPLOYMENT_TARGET` that may have been an early attempt at fixing some stuff (or needed to be used with the patch) that has no business here.",
    "created_at": "2017-04-18T22:42:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340024",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:18" align="right">comment:18</div>

I was trying to find the origin of the `192.0.2.0` address in the cmake test suite. It is not in the source code. cmake does something weird with its test suite. At some point it links one of the sub-folders in the `Tests` to the `Applications` folder on the mac. In my case one of the App in `Applications` is libreoffice. That weird address is found inside libreoffice's python code....

This is just bizarre. 

I'll clean `spkg-install` there is other stuff in there like `MACOSX_DEPLOYMENT_TARGET` that may have been an early attempt at fixing some stuff (or needed to be used with the patch) that has no business here.



---

archive/issue_comments_340025.json:
```json
{
    "body": "Changed branch from **[u/tmonteil/update_cmake_to_3_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/update_cmake_to_3_8_0)** to **[u/fbissey/update_cmake_to_3_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/update_cmake_to_3_8_0)**",
    "created_at": "2017-04-19T00:16:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340025",
    "user": "https://github.com/kiwifb"
}
```

Changed branch from **[u/tmonteil/update_cmake_to_3_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/update_cmake_to_3_8_0)** to **[u/fbissey/update_cmake_to_3_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/update_cmake_to_3_8_0)**



---

archive/issue_comments_340026.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nIsuru, can you double check my changes, add your name to the reviewers and put it to positive review?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1d18a976daf3a1bba374cb69d08e44b390924620\"><code>1d18a97</code></a></td><td><code>Simplify spkg-install and make it always use a system (sage) provided curl</code></td></tr></table>\n",
    "created_at": "2017-04-19T00:16:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340026",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:19" align="right">comment:19</div>

Isuru, can you double check my changes, add your name to the reviewers and put it to positive review?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1d18a976daf3a1bba374cb69d08e44b390924620"><code>1d18a97</code></a></td><td><code>Simplify spkg-install and make it always use a system (sage) provided curl</code></td></tr></table>




---

archive/issue_comments_340027.json:
```json
{
    "body": "Changed commit from **[`96cae4e`](https://github.com/sagemath/sagetrac-mirror/commit/96cae4e257a59bba9a6f6fcb46a20cb715bec6ad)** to **[`1d18a97`](https://github.com/sagemath/sagetrac-mirror/commit/1d18a976daf3a1bba374cb69d08e44b390924620)**",
    "created_at": "2017-04-19T00:16:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340027",
    "user": "https://github.com/kiwifb"
}
```

Changed commit from **[`96cae4e`](https://github.com/sagemath/sagetrac-mirror/commit/96cae4e257a59bba9a6f6fcb46a20cb715bec6ad)** to **[`1d18a97`](https://github.com/sagemath/sagetrac-mirror/commit/1d18a976daf3a1bba374cb69d08e44b390924620)**



---

archive/issue_events_319934.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-04-19T00:17:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-319934"
}
```



---

archive/issue_events_319935.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-04-19T00:17:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-319935"
}
```



---

archive/issue_comments_340028.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nSorry for the delay, i had the exact same commit, so it is fine for me, except that i let the `unset MACOSX_DEPLOYMENT_TARGET`, since i am not sure whether it is still useful.\n\nAlso, looking at the `bootstrap` script, i was wondering whether we should add `xz` as a dependency and add the `--system-liblzma` option. Does this makes sense ?",
    "created_at": "2017-04-19T01:14:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340028",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:21" align="right">comment:21</div>

Sorry for the delay, i had the exact same commit, so it is fine for me, except that i let the `unset MACOSX_DEPLOYMENT_TARGET`, since i am not sure whether it is still useful.

Also, looking at the `bootstrap` script, i was wondering whether we should add `xz` as a dependency and add the `--system-liblzma` option. Does this makes sense ?



---

archive/issue_comments_340029.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nIf we have it (and I guess it is a requirement for R nowadays) then yes go ahead. \n\nI tested the removal of `unset MACOSX_DEPLOYMENT_TARGET` and I didn't observe any problem nor did I expect any. Further if we want to take cmake from experimental to optional and may be even standard in time, then it has to go. We cannot make portable binaries if it is unset.",
    "created_at": "2017-04-19T01:19:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340029",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:22" align="right">comment:22</div>

If we have it (and I guess it is a requirement for R nowadays) then yes go ahead. 

I tested the removal of `unset MACOSX_DEPLOYMENT_TARGET` and I didn't observe any problem nor did I expect any. Further if we want to take cmake from experimental to optional and may be even standard in time, then it has to go. We cannot make portable binaries if it is unset.



---

archive/issue_comments_340030.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@kiwifb](#comment:22):\n> If we have it (and I guess it is a requirement for R nowadays) then yes go ahead. \n\nOK, `xz` is standard spkg, i am trying this right now.\n\n> I tested the removal of `unset MACOSX_DEPLOYMENT_TARGET` and I didn't observe any problem nor did I expect any. Further if we want to take cmake from experimental to optional and may be even standard in time, then it has to go. We cannot make portable binaries if it is unset.\n\nOK, great, iirc cgal (still to be packaged) and csympy rely on cmake, so it might be interesting in a near future.",
    "created_at": "2017-04-19T01:26:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340030",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@kiwifb](#comment:22):
> If we have it (and I guess it is a requirement for R nowadays) then yes go ahead. 

OK, `xz` is standard spkg, i am trying this right now.

> I tested the removal of `unset MACOSX_DEPLOYMENT_TARGET` and I didn't observe any problem nor did I expect any. Further if we want to take cmake from experimental to optional and may be even standard in time, then it has to go. We cannot make portable binaries if it is unset.

OK, great, iirc cgal (still to be packaged) and csympy rely on cmake, so it might be interesting in a near future.



---

archive/issue_comments_340031.json:
```json
{
    "body": "Changed branch from **[u/fbissey/update_cmake_to_3_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/update_cmake_to_3_8_0)** to **[u/tmonteil/update_cmake_to_3_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/update_cmake_to_3_8_0)**",
    "created_at": "2017-04-19T02:32:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340031",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Changed branch from **[u/fbissey/update_cmake_to_3_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/update_cmake_to_3_8_0)** to **[u/tmonteil/update_cmake_to_3_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/update_cmake_to_3_8_0)**



---

archive/issue_comments_340032.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8471784d3d245e41405cc03ffa235f9238f2bdb1\"><code>8471784</code></a></td><td><code>Use xz/liblzma provided by Sage</code></td></tr></table>\n",
    "created_at": "2017-04-19T02:34:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340032",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8471784d3d245e41405cc03ffa235f9238f2bdb1"><code>8471784</code></a></td><td><code>Use xz/liblzma provided by Sage</code></td></tr></table>




---

archive/issue_comments_340033.json:
```json
{
    "body": "Changed commit from **[`1d18a97`](https://github.com/sagemath/sagetrac-mirror/commit/1d18a976daf3a1bba374cb69d08e44b390924620)** to **[`8471784`](https://github.com/sagemath/sagetrac-mirror/commit/8471784d3d245e41405cc03ffa235f9238f2bdb1)**",
    "created_at": "2017-04-19T02:34:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340033",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1d18a97`](https://github.com/sagemath/sagetrac-mirror/commit/1d18a976daf3a1bba374cb69d08e44b390924620)** to **[`8471784`](https://github.com/sagemath/sagetrac-mirror/commit/8471784d3d245e41405cc03ffa235f9238f2bdb1)**



---

archive/issue_comments_340034.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nTests still pass with Sage's xz.",
    "created_at": "2017-04-19T02:36:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340034",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:26" align="right">comment:26</div>

Tests still pass with Sage's xz.



---

archive/issue_comments_340035.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nGood, and presumably\n\n```\n./sage -sh\nldd -r local/bin/cmake\n```\nDoesn't report anything out of place.",
    "created_at": "2017-04-19T02:38:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340035",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:27" align="right">comment:27</div>

Good, and presumably

```
./sage -sh
ldd -r local/bin/cmake
```
Doesn't report anything out of place.



---

archive/issue_comments_340036.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI got:\n\n```\n\tlinux-vdso.so.1 (0x00007ffddb538000)\n\tlibz.so.1 => /opt/sagemath/sage-source/local/lib/libz.so.1 (0x00007f814f4e4000)\n\tliblzma.so.5 => /opt/sagemath/sage-source/local/lib/liblzma.so.5 (0x00007f814f2bf000)\n\tlibbz2.so.1 => /opt/sagemath/sage-source/local/lib/libbz2.so.1 (0x00007f814f0af000)\n\tlibcurl.so.4 => /opt/sagemath/sage-source/local/lib/libcurl.so.4 (0x00007f814ee48000)\n\tlibpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f814ec2b000)\n\tlibdl.so.2 => /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f814ea27000)\n\tlibrt.so.1 => /lib/x86_64-linux-gnu/librt.so.1 (0x00007f814e81f000)\n\tlibstdc++.so.6 => /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007f814e514000)\n\tlibm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007f814e213000)\n\tlibgcc_s.so.1 => /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007f814dffd000)\n\tlibc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f814dc52000)\n\tlibssl.so.1.0.0 => /usr/lib/x86_64-linux-gnu/libssl.so.1.0.0 (0x00007f814d9f1000)\n\tlibcrypto.so.1.0.0 => /usr/lib/x86_64-linux-gnu/libcrypto.so.1.0.0 (0x00007f814d5f5000)\n\t/lib64/ld-linux-x86-64.so.2 (0x00007f814f6fe000)\n```",
    "created_at": "2017-04-19T02:46:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340036",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:28" align="right">comment:28</div>

I got:

```
	linux-vdso.so.1 (0x00007ffddb538000)
	libz.so.1 => /opt/sagemath/sage-source/local/lib/libz.so.1 (0x00007f814f4e4000)
	liblzma.so.5 => /opt/sagemath/sage-source/local/lib/liblzma.so.5 (0x00007f814f2bf000)
	libbz2.so.1 => /opt/sagemath/sage-source/local/lib/libbz2.so.1 (0x00007f814f0af000)
	libcurl.so.4 => /opt/sagemath/sage-source/local/lib/libcurl.so.4 (0x00007f814ee48000)
	libpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f814ec2b000)
	libdl.so.2 => /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f814ea27000)
	librt.so.1 => /lib/x86_64-linux-gnu/librt.so.1 (0x00007f814e81f000)
	libstdc++.so.6 => /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007f814e514000)
	libm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007f814e213000)
	libgcc_s.so.1 => /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007f814dffd000)
	libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f814dc52000)
	libssl.so.1.0.0 => /usr/lib/x86_64-linux-gnu/libssl.so.1.0.0 (0x00007f814d9f1000)
	libcrypto.so.1.0.0 => /usr/lib/x86_64-linux-gnu/libcrypto.so.1.0.0 (0x00007f814d5f5000)
	/lib64/ld-linux-x86-64.so.2 (0x00007f814f6fe000)
```



---

archive/issue_comments_340037.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nLooks all right to me. Let's move to the next stage.",
    "created_at": "2017-04-19T02:51:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340037",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:29" align="right">comment:29</div>

Looks all right to me. Let's move to the next stage.



---

archive/issue_events_319936.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-04-19T02:51:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-319936"
}
```



---

archive/issue_events_319937.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-04-19T02:51:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-319937"
}
```



---

archive/issue_comments_340038.json:
```json
{
    "body": "Changed branch from **[u/tmonteil/update_cmake_to_3_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/update_cmake_to_3_8_0)** to **[`8471784`](https://github.com/sagemath/sagetrac-mirror/commit/8471784d3d245e41405cc03ffa235f9238f2bdb1)**",
    "created_at": "2017-04-23T12:57:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340038",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/tmonteil/update_cmake_to_3_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/update_cmake_to_3_8_0)** to **[`8471784`](https://github.com/sagemath/sagetrac-mirror/commit/8471784d3d245e41405cc03ffa235f9238f2bdb1)**



---

archive/issue_events_319938.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-04-23T12:57:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-319938"
}
```



---

archive/issue_events_319939.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "85a2ee4a38bed760a76647b5261d38e9eea6990b",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-04-23T12:57:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-319939"
}
```



---

archive/issue_comments_340039.json:
```json
{
    "body": "Changed commit from **[`8471784`](https://github.com/sagemath/sagetrac-mirror/commit/8471784d3d245e41405cc03ffa235f9238f2bdb1)** to none",
    "created_at": "2017-05-14T22:17:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340039",
    "user": "https://github.com/dimpase"
}
```

Changed commit from **[`8471784`](https://github.com/sagemath/sagetrac-mirror/commit/8471784d3d245e41405cc03ffa235f9238f2bdb1)** to none



---

archive/issue_comments_340040.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nIt perhaps makes sense to immediately go to cmake 3.8.1, released 2 weeks ago.",
    "created_at": "2017-05-14T22:17:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340040",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:31" align="right">comment:31</div>

It perhaps makes sense to immediately go to cmake 3.8.1, released 2 weeks ago.



---

archive/issue_comments_340041.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nWell this ticket is already merged (8.0.beta5) so it would have to go in a new ticket. But sure let's do that if you also want to push it optional.",
    "created_at": "2017-05-14T22:29:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340041",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:32" align="right">comment:32</div>

Well this ticket is already merged (8.0.beta5) so it would have to go in a new ticket. But sure let's do that if you also want to push it optional.



---

archive/issue_comments_340042.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@kiwifb](#comment:32):\n> Well this ticket is already merged (8.0.beta5) so it would have to go in a new ticket. But sure let's do that if you also want to push it optional.\n\nOK, this is now #22999, and yes, let us make it optional package, indeed.",
    "created_at": "2017-05-14T22:36:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340042",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@kiwifb](#comment:32):
> Well this ticket is already merged (8.0.beta5) so it would have to go in a new ticket. But sure let's do that if you also want to push it optional.

OK, this is now #22999, and yes, let us make it optional package, indeed.



---

archive/issue_comments_340043.json:
```json
{
    "body": "Changed keywords from **days86** to **days86, sdl**",
    "created_at": "2019-08-27T19:45:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-340043",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Changed keywords from **days86** to **days86, sdl**
