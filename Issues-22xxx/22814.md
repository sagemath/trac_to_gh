# Issue 22814: Update cmake to 3.8.0

archive/issues_022577.json:
```json
{
    "assignees": [],
    "body": "Tarball available at https://cmake.org/files/v3.8/cmake-3.8.0.tar.gz\n\n\n**CC:**  @isuruf @kiwifb\n\n**Keywords:** days86, sdl\n\n**Branch:** [8471784d3d245e41405cc03ffa235f9238f2bdb1](https://github.com/sagemath/sagetrac-mirror/commit/8471784d3d245e41405cc03ffa235f9238f2bdb1)\n\n**Reviewer:** Travis Scrimshaw, Fran\u00e7ois Bissey\n\n**Author:** Thierry Monteil\n\nIssue created by migration from https://trac.sagemath.org/ticket/22814\n\n",
    "closed_at": "2017-04-23T12:57:31Z",
    "created_at": "2017-04-15T04:34:33Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20experimental",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Update cmake to 3.8.0",
    "type": "issue",
    "updated_at": "2019-08-27T19:45:19Z",
    "url": "https://github.com/sagemath/sage/issues/22814",
    "user": "https://github.com/sagetrac-tmonteil"
}
```
Tarball available at https://cmake.org/files/v3.8/cmake-3.8.0.tar.gz


**CC:**  @isuruf @kiwifb

**Keywords:** days86, sdl

**Branch:** [8471784d3d245e41405cc03ffa235f9238f2bdb1](https://github.com/sagemath/sagetrac-mirror/commit/8471784d3d245e41405cc03ffa235f9238f2bdb1)

**Reviewer:** Travis Scrimshaw, François Bissey

**Author:** Thierry Monteil

Issue created by migration from https://trac.sagemath.org/ticket/22814





---

archive/issue_events_276369.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2017-04-15T04:34:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-276369"
}
```



---

archive/issue_events_276370.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2017-04-15T04:34:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20experimental",
    "label_color": "08517b",
    "label_name": "component: packages: experimental",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-276370"
}
```



---

archive/issue_events_276371.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2017-04-15T04:34:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-276371"
}
```



---

archive/issue_comments_342592.json:
```json
{
    "body": "**Branch:** [u/tmonteil/update_cmake_to_3_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/update_cmake_to_3_8_0)",
    "created_at": "2017-04-15T15:51:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342592",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

**Branch:** [u/tmonteil/update_cmake_to_3_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/update_cmake_to_3_8_0)



---

archive/issue_comments_342593.json:
```json
{
    "body": "<a id='comment:2'>**Comment 2:**</a>\nWith 3.2.3:\n- on 64bit, the build was OK and self-tests lead to 1 error (CTestTestUpload)\n- on 32bit, the build failed at configure time\n\nWith 3.8.0:\n- on 64bit, the build is OK and self-tests lead to 2 errors (CTestTestUpload and RunCMake.ctest_submit), but the second test did not exist on 3.2.3.\n- on 32bit, the build is OK and 7 self-tests failed out of 442 (98% tests passed)\n\nSo, regarding GNU/Linux, the state of this package is strictly better than before.\n\nHowever, i had to remove the `osx10.10.patch` patch since it does not apply anymore. So, if you have access to such machines, please have a look to OSX builds.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ded8e24cfa768a309d0c122dda0b2eb394a8eaa\">4ded8e2</a></td><td><code>#22814 : update cmake to 3.8.0</code></td></tr></table>\n",
    "created_at": "2017-04-15T16:05:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342593",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<a id='comment:2'>**Comment 2:**</a>
With 3.2.3:
- on 64bit, the build was OK and self-tests lead to 1 error (CTestTestUpload)
- on 32bit, the build failed at configure time

With 3.8.0:
- on 64bit, the build is OK and self-tests lead to 2 errors (CTestTestUpload and RunCMake.ctest_submit), but the second test did not exist on 3.2.3.
- on 32bit, the build is OK and 7 self-tests failed out of 442 (98% tests passed)

So, regarding GNU/Linux, the state of this package is strictly better than before.

However, i had to remove the `osx10.10.patch` patch since it does not apply anymore. So, if you have access to such machines, please have a look to OSX builds.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ded8e24cfa768a309d0c122dda0b2eb394a8eaa">4ded8e2</a></td><td><code>#22814 : update cmake to 3.8.0</code></td></tr></table>




---

archive/issue_comments_342594.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"days86\".",
    "created_at": "2017-04-15T16:05:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342594",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

**Changing keywords** from "" to "days86".



---

archive/issue_comments_342595.json:
```json
{
    "body": "**Commit:** [4ded8e24cfa768a309d0c122dda0b2eb394a8eaa](https://github.com/sagemath/sagetrac-mirror/commit/4ded8e24cfa768a309d0c122dda0b2eb394a8eaa)",
    "created_at": "2017-04-15T16:05:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342595",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

**Commit:** [4ded8e24cfa768a309d0c122dda0b2eb394a8eaa](https://github.com/sagemath/sagetrac-mirror/commit/4ded8e24cfa768a309d0c122dda0b2eb394a8eaa)



---

archive/issue_events_276372.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2017-04-15T16:05:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-276372"
}
```



---

archive/issue_comments_342596.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2017-04-15T19:34:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342596",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_events_276373.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-04-15T19:34:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-276373"
}
```



---

archive/issue_events_276374.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-04-15T19:34:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-276374"
}
```



---

archive/issue_comments_342597.json:
```json
{
    "body": "<a id='comment:3'>**Comment 3:**</a>\nLGTM.",
    "created_at": "2017-04-15T19:34:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342597",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:3'>**Comment 3:**</a>
LGTM.



---

archive/issue_comments_342598.json:
```json
{
    "body": "<a id='comment:4'>**Comment 4:**</a>\nReplying to [@tscrim](#comment%3A3):\n> LGTM.\n\nDoes it compile/test well on OSX ?",
    "created_at": "2017-04-15T21:37:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342598",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<a id='comment:4'>**Comment 4:**</a>
Replying to [@tscrim](#comment%3A3):
> LGTM.

Does it compile/test well on OSX ?



---

archive/issue_comments_342599.json:
```json
{
    "body": "<a id='comment:5'>**Comment 5:**</a>\nTested on OS X on top of #12426, tests returned 3 errors:\n\n```\n        Start 190: CTestTestUpload\n190/445 Test #190: CTestTestUpload ......................................***Failed  Required regular expression not found.Regex=[Upload\\.xml\n] 78.11 sec\n        Start 349: RunCMake.ctest_submit\n349/445 Test #349: RunCMake.ctest_submit ................................***Failed  388.42 sec\n        Start 383: RunCMake.Framework\n383/445 Test #383: RunCMake.Framework ...................................***Failed   11.32 sec\n```\nDetails\n[CTestTestUpload]\n\n```\n[ERROR_MESSAGE]\n   Error when uploading file: /Users/fbissey/build/sage-clang/local/var/tmp/sage/build/cmake-3.8.0/src/Tests/CTestTestUpload/Testing/20170415-2318/Build.xml\n\n   Error message was: Failed to connect to 192.0.2.0 port 5187: Operation timed out\n   Problems when submitting via HTTP\n```\n[RunCMake.ctest_submit]\n\n```\n[ERROR_MESSAGE]\n   Error when uploading file: /Users/fbissey/build/sage-clang/local/var/tmp/sage/build/cmake-3.8.0/src/Tests/RunCMake/ctest_submit/FailDrop-https-build/Testing/20170415-2$\n\n   Error message was: Failed to connect to 192.0.2.0 port 5187: Operation timed out\n   Problems when submitting via HTTP\n```\nLooks like a pattern...\n[RunCMake.Framework]: OS X specific, it looks like multiple errors trying to build stuff for iDevices...",
    "created_at": "2017-04-16T00:00:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342599",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:5'>**Comment 5:**</a>
Tested on OS X on top of #12426, tests returned 3 errors:

```
        Start 190: CTestTestUpload
190/445 Test #190: CTestTestUpload ......................................***Failed  Required regular expression not found.Regex=[Upload\.xml
] 78.11 sec
        Start 349: RunCMake.ctest_submit
349/445 Test #349: RunCMake.ctest_submit ................................***Failed  388.42 sec
        Start 383: RunCMake.Framework
383/445 Test #383: RunCMake.Framework ...................................***Failed   11.32 sec
```
Details
[CTestTestUpload]

```
[ERROR_MESSAGE]
   Error when uploading file: /Users/fbissey/build/sage-clang/local/var/tmp/sage/build/cmake-3.8.0/src/Tests/CTestTestUpload/Testing/20170415-2318/Build.xml

   Error message was: Failed to connect to 192.0.2.0 port 5187: Operation timed out
   Problems when submitting via HTTP
```
[RunCMake.ctest_submit]

```
[ERROR_MESSAGE]
   Error when uploading file: /Users/fbissey/build/sage-clang/local/var/tmp/sage/build/cmake-3.8.0/src/Tests/RunCMake/ctest_submit/FailDrop-https-build/Testing/20170415-2$

   Error message was: Failed to connect to 192.0.2.0 port 5187: Operation timed out
   Problems when submitting via HTTP
```
Looks like a pattern...
[RunCMake.Framework]: OS X specific, it looks like multiple errors trying to build stuff for iDevices...



---

archive/issue_comments_342600.json:
```json
{
    "body": "<a id='comment:6'>**Comment 6:**</a>\nI'd say the OS X failure in framework is because we set `MACOSX_DEPLOYMENT_TARGET` in `sage-env`. When cmake tries to build executable for iOS there is an option on the command line that tells it to produce OS X stuff (x86_64) instead. Boom when you try to link.",
    "created_at": "2017-04-16T01:56:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342600",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:6'>**Comment 6:**</a>
I'd say the OS X failure in framework is because we set `MACOSX_DEPLOYMENT_TARGET` in `sage-env`. When cmake tries to build executable for iOS there is an option on the command line that tells it to produce OS X stuff (x86_64) instead. Boom when you try to link.



---

archive/issue_comments_342601.json:
```json
{
    "body": "<a id='comment:7'>**Comment 7:**</a>\nYup, confirmed. Unsetting `MACOSX_DEPLOYMENT_TARGET` make the framework test pass. Only those two tests that probably try to contact to an internal kitware server are now failing.",
    "created_at": "2017-04-16T03:13:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342601",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:7'>**Comment 7:**</a>
Yup, confirmed. Unsetting `MACOSX_DEPLOYMENT_TARGET` make the framework test pass. Only those two tests that probably try to contact to an internal kitware server are now failing.



---

archive/issue_comments_342602.json:
```json
{
    "body": "**Changing commit** from \"[4ded8e24cfa768a309d0c122dda0b2eb394a8eaa](https://github.com/sagemath/sagetrac-mirror/commit/4ded8e24cfa768a309d0c122dda0b2eb394a8eaa)\" to \"[eb3ae47afee781ff2e9de249baeabab07d26fa6a](https://github.com/sagemath/sagetrac-mirror/commit/eb3ae47afee781ff2e9de249baeabab07d26fa6a)\".",
    "created_at": "2017-04-16T03:45:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342602",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[4ded8e24cfa768a309d0c122dda0b2eb394a8eaa](https://github.com/sagemath/sagetrac-mirror/commit/4ded8e24cfa768a309d0c122dda0b2eb394a8eaa)" to "[eb3ae47afee781ff2e9de249baeabab07d26fa6a](https://github.com/sagemath/sagetrac-mirror/commit/eb3ae47afee781ff2e9de249baeabab07d26fa6a)".



---

archive/issue_events_276375.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2017-04-16T03:45:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-276375"
}
```



---

archive/issue_events_276376.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2017-04-16T03:45:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-276376"
}
```



---

archive/issue_comments_342603.json:
```json
{
    "body": "<a id='comment:8'>**Comment 8:**</a>\n**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb3ae47afee781ff2e9de249baeabab07d26fa6a\">eb3ae47</a></td><td><code>#22814 : unset MACOSX_DEPLOYMENT_TARGET.</code></td></tr></table>\n",
    "created_at": "2017-04-16T03:45:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342603",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:8'>**Comment 8:**</a>
**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb3ae47afee781ff2e9de249baeabab07d26fa6a">eb3ae47</a></td><td><code>#22814 : unset MACOSX_DEPLOYMENT_TARGET.</code></td></tr></table>




---

archive/issue_comments_342604.json:
```json
{
    "body": "<a id='comment:9'>**Comment 9:**</a>\nReplying to [@kiwifb](#comment%3A7):\n> Yup, confirmed. Unsetting `MACOSX_DEPLOYMENT_TARGET` make the framework test pass. Only those two tests that probably try to contact to an internal kitware server are now failing.\n\nThanks fot the investigation, does the last commit fixes that issue ?",
    "created_at": "2017-04-16T03:47:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342604",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<a id='comment:9'>**Comment 9:**</a>
Replying to [@kiwifb](#comment%3A7):
> Yup, confirmed. Unsetting `MACOSX_DEPLOYMENT_TARGET` make the framework test pass. Only those two tests that probably try to contact to an internal kitware server are now failing.

Thanks fot the investigation, does the last commit fixes that issue ?



---

archive/issue_comments_342605.json:
```json
{
    "body": "<a id='comment:10'>**Comment 10:**</a>\nNot what I have done or my recommendation. I am also working on silencing the other two tests. I am acting only on `spkg-check`\n\n```\n#!/usr/bin/env bash\n\ncd src\nunset MACOSX_DEPLOYMENT_TARGET\nctest -E \"(CTestTestStopTime|TestUpload)\"\n```\nThat made the framework test pass and silenced the `TestUpload` one. Gentoo silence the `TestUpload` one too amongst other. I still have to do something about `ctest_submit`. Have to find the right command.",
    "created_at": "2017-04-16T04:11:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342605",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:10'>**Comment 10:**</a>
Not what I have done or my recommendation. I am also working on silencing the other two tests. I am acting only on `spkg-check`

```
#!/usr/bin/env bash

cd src
unset MACOSX_DEPLOYMENT_TARGET
ctest -E "(CTestTestStopTime|TestUpload)"
```
That made the framework test pass and silenced the `TestUpload` one. Gentoo silence the `TestUpload` one too amongst other. I still have to do something about `ctest_submit`. Have to find the right command.



---

archive/issue_comments_342606.json:
```json
{
    "body": "<a id='comment:11'>**Comment 11:**</a>\nThat should take care of everything on 64bit. Cannot do anything about the 32bit tests without knowing more about them\n\n```\n#!/usr/bin/env bash\n\ncd src\nunset MACOSX_DEPLOYMENT_TARGET\nctest --extra-verbose --output-on-failure -E \"(CTestTestStopTime|TestUpload|ctest_submit)\"\n```\nAnd I like things to be verbose, that makes debugging so much easier.",
    "created_at": "2017-04-16T06:25:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342606",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:11'>**Comment 11:**</a>
That should take care of everything on 64bit. Cannot do anything about the 32bit tests without knowing more about them

```
#!/usr/bin/env bash

cd src
unset MACOSX_DEPLOYMENT_TARGET
ctest --extra-verbose --output-on-failure -E "(CTestTestStopTime|TestUpload|ctest_submit)"
```
And I like things to be verbose, that makes debugging so much easier.



---

archive/issue_comments_342607.json:
```json
{
    "body": "<a id='comment:12'>**Comment 12:**</a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/96cae4e257a59bba9a6f6fcb46a20cb715bec6ad\">96cae4e</a></td><td><code>#22814 : make the self tests pass + fix dependencies</code></td></tr></table>\n",
    "created_at": "2017-04-17T04:27:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342607",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:12'>**Comment 12:**</a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/96cae4e257a59bba9a6f6fcb46a20cb715bec6ad">96cae4e</a></td><td><code>#22814 : make the self tests pass + fix dependencies</code></td></tr></table>




---

archive/issue_comments_342608.json:
```json
{
    "body": "**Changing commit** from \"[eb3ae47afee781ff2e9de249baeabab07d26fa6a](https://github.com/sagemath/sagetrac-mirror/commit/eb3ae47afee781ff2e9de249baeabab07d26fa6a)\" to \"[96cae4e257a59bba9a6f6fcb46a20cb715bec6ad](https://github.com/sagemath/sagetrac-mirror/commit/96cae4e257a59bba9a6f6fcb46a20cb715bec6ad)\".",
    "created_at": "2017-04-17T04:27:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342608",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[eb3ae47afee781ff2e9de249baeabab07d26fa6a](https://github.com/sagemath/sagetrac-mirror/commit/eb3ae47afee781ff2e9de249baeabab07d26fa6a)" to "[96cae4e257a59bba9a6f6fcb46a20cb715bec6ad](https://github.com/sagemath/sagetrac-mirror/commit/96cae4e257a59bba9a6f6fcb46a20cb715bec6ad)".



---

archive/issue_comments_342609.json:
```json
{
    "body": "<a id='comment:13'>**Comment 13:**</a>\nThanks for the hints, the tests now pass on 64bit arch. I took the opportunity to add a missing `dependencies` file. Regarding the 32bit issues, i might have some problems with my current VM  (see #22782 that i seem to be the only one to produce), so i will rebuild a fresh one to only get the meaningful errors.",
    "created_at": "2017-04-17T04:34:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342609",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<a id='comment:13'>**Comment 13:**</a>
Thanks for the hints, the tests now pass on 64bit arch. I took the opportunity to add a missing `dependencies` file. Regarding the 32bit issues, i might have some problems with my current VM  (see #22782 that i seem to be the only one to produce), so i will rebuild a fresh one to only get the meaningful errors.



---

archive/issue_comments_342610.json:
```json
{
    "body": "<a id='comment:14'>**Comment 14:**</a>\nReplying to [tmonteil](#comment%3A2):\n> However, i had to remove the `osx10.10.patch` patch since it does not apply anymore. So, if you have access to such machines, please have a look to OSX builds.\n\nSince sage is changing the compiler to clang on OSX, the patch is not needed at all.\n\nReplying to [tmonteil](#comment%3A13):\n> Thanks for the hints, the tests now pass on 64bit arch. I took the opportunity to add a missing `dependencies` file.\n\nI see that `curl` is a sage package now. Since it was not when the previous `cmake` version was added, I added logic such that `curl` was used from OSX system and it was built from source on Linux (`cmake` has a bundled `curl`). Can you change the `spkg-install` such that `cmake` finds sage's `curl` package?",
    "created_at": "2017-04-17T05:02:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342610",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:14'>**Comment 14:**</a>
Replying to [tmonteil](#comment%3A2):
> However, i had to remove the `osx10.10.patch` patch since it does not apply anymore. So, if you have access to such machines, please have a look to OSX builds.

Since sage is changing the compiler to clang on OSX, the patch is not needed at all.

Replying to [tmonteil](#comment%3A13):
> Thanks for the hints, the tests now pass on 64bit arch. I took the opportunity to add a missing `dependencies` file.

I see that `curl` is a sage package now. Since it was not when the previous `cmake` version was added, I added logic such that `curl` was used from OSX system and it was built from source on Linux (`cmake` has a bundled `curl`). Can you change the `spkg-install` such that `cmake` finds sage's `curl` package?



---

archive/issue_events_276377.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-04-17T05:25:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-276377"
}
```



---

archive/issue_events_276378.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-04-17T05:25:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-276378"
}
```



---

archive/issue_comments_342611.json:
```json
{
    "body": "**Changing reviewer** from \"Travis Scrimshaw\" to \"Travis Scrimshaw, Fran\u00e7ois Bissey\".",
    "created_at": "2017-04-17T05:25:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342611",
    "user": "https://github.com/kiwifb"
}
```

**Changing reviewer** from "Travis Scrimshaw" to "Travis Scrimshaw, François Bissey".



---

archive/issue_comments_342612.json:
```json
{
    "body": "<a id='comment:15'>**Comment 15:**</a>\nReplying to [@isuruf](#comment%3A14):\n> Replying to [tmonteil](#comment%3A2):\n> > However, i had to remove the `osx10.10.patch` patch since it does not apply anymore. So, if you have access to such machines, please have a look to OSX builds.\n\n> \n> Since sage is changing the compiler to clang on OSX, the patch is not needed at all.\n> \n> Replying to [tmonteil](#comment%3A13):\n> > Thanks for the hints, the tests now pass on 64bit arch. I took the opportunity to add a missing `dependencies` file.\n\n> \n> I see that `curl` is a sage package now. Since it was not when the previous `cmake` version was added, I added logic such that `curl` was used from OSX system and it was built from source on Linux (`cmake` has a bundled `curl`). Can you change the `spkg-install` such that `cmake` finds sage's `curl` package?\n\nThierry did put `curl` in the dependencies, so it is taken care of. I am adding myself as a reviewer and put it back to positive review.",
    "created_at": "2017-04-17T05:25:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342612",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:15'>**Comment 15:**</a>
Replying to [@isuruf](#comment%3A14):
> Replying to [tmonteil](#comment%3A2):
> > However, i had to remove the `osx10.10.patch` patch since it does not apply anymore. So, if you have access to such machines, please have a look to OSX builds.

> 
> Since sage is changing the compiler to clang on OSX, the patch is not needed at all.
> 
> Replying to [tmonteil](#comment%3A13):
> > Thanks for the hints, the tests now pass on 64bit arch. I took the opportunity to add a missing `dependencies` file.

> 
> I see that `curl` is a sage package now. Since it was not when the previous `cmake` version was added, I added logic such that `curl` was used from OSX system and it was built from source on Linux (`cmake` has a bundled `curl`). Can you change the `spkg-install` such that `cmake` finds sage's `curl` package?

Thierry did put `curl` in the dependencies, so it is taken care of. I am adding myself as a reviewer and put it back to positive review.



---

archive/issue_comments_342613.json:
```json
{
    "body": "<a id='comment:16'>**Comment 16:**</a>\nReplying to [@kiwifb](#comment%3A15):\n> Thierry did put `curl` in the dependencies, so it is taken care of. I am adding myself as a reviewer and put it back to positive review.\n\nYes, but on Linux, `cmake` builds the bundled `curl` right?",
    "created_at": "2017-04-17T05:28:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342613",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:16'>**Comment 16:**</a>
Replying to [@kiwifb](#comment%3A15):
> Thierry did put `curl` in the dependencies, so it is taken care of. I am adding myself as a reviewer and put it back to positive review.

Yes, but on Linux, `cmake` builds the bundled `curl` right?



---

archive/issue_comments_342614.json:
```json
{
    "body": "<a id='comment:17'>**Comment 17:**</a>\nYou are right `spkg-install` needs cleaning up. The whole section for using or not system curl needs updating, most of it will have to go and be simplified. Back to `need_works`.",
    "created_at": "2017-04-17T05:31:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342614",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:17'>**Comment 17:**</a>
You are right `spkg-install` needs cleaning up. The whole section for using or not system curl needs updating, most of it will have to go and be simplified. Back to `need_works`.



---

archive/issue_events_276379.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-04-17T05:31:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-276379"
}
```



---

archive/issue_events_276380.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-04-17T05:31:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-276380"
}
```



---

archive/issue_comments_342615.json:
```json
{
    "body": "<a id='comment:18'>**Comment 18:**</a>\nI was trying to find the origin of the `192.0.2.0` address in the cmake test suite. It is not in the source code. cmake does something weird with its test suite. At some point it links one of the sub-folders in the `Tests` to the `Applications` folder on the mac. In my case one of the App in `Applications` is libreoffice. That weird address is found inside libreoffice's python code....\n\nThis is just bizarre. \n\nI'll clean `spkg-install` there is other stuff in there like `MACOSX_DEPLOYMENT_TARGET` that may have been an early attempt at fixing some stuff (or needed to be used with the patch) that has no business here.",
    "created_at": "2017-04-18T22:42:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342615",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:18'>**Comment 18:**</a>
I was trying to find the origin of the `192.0.2.0` address in the cmake test suite. It is not in the source code. cmake does something weird with its test suite. At some point it links one of the sub-folders in the `Tests` to the `Applications` folder on the mac. In my case one of the App in `Applications` is libreoffice. That weird address is found inside libreoffice's python code....

This is just bizarre. 

I'll clean `spkg-install` there is other stuff in there like `MACOSX_DEPLOYMENT_TARGET` that may have been an early attempt at fixing some stuff (or needed to be used with the patch) that has no business here.



---

archive/issue_comments_342616.json:
```json
{
    "body": "**Changing branch** from \"[u/tmonteil/update_cmake_to_3_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/update_cmake_to_3_8_0)\" to \"[u/fbissey/update_cmake_to_3_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/update_cmake_to_3_8_0)\".",
    "created_at": "2017-04-19T00:16:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342616",
    "user": "https://github.com/kiwifb"
}
```

**Changing branch** from "[u/tmonteil/update_cmake_to_3_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/update_cmake_to_3_8_0)" to "[u/fbissey/update_cmake_to_3_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/update_cmake_to_3_8_0)".



---

archive/issue_comments_342617.json:
```json
{
    "body": "<a id='comment:19'>**Comment 19:**</a>\nIsuru, can you double check my changes, add your name to the reviewers and put it to positive review?\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1d18a976daf3a1bba374cb69d08e44b390924620\">1d18a97</a></td><td><code>Simplify spkg-install and make it always use a system (sage) provided curl</code></td></tr></table>\n",
    "created_at": "2017-04-19T00:16:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342617",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:19'>**Comment 19:**</a>
Isuru, can you double check my changes, add your name to the reviewers and put it to positive review?

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1d18a976daf3a1bba374cb69d08e44b390924620">1d18a97</a></td><td><code>Simplify spkg-install and make it always use a system (sage) provided curl</code></td></tr></table>




---

archive/issue_comments_342618.json:
```json
{
    "body": "**Changing commit** from \"[96cae4e257a59bba9a6f6fcb46a20cb715bec6ad](https://github.com/sagemath/sagetrac-mirror/commit/96cae4e257a59bba9a6f6fcb46a20cb715bec6ad)\" to \"[1d18a976daf3a1bba374cb69d08e44b390924620](https://github.com/sagemath/sagetrac-mirror/commit/1d18a976daf3a1bba374cb69d08e44b390924620)\".",
    "created_at": "2017-04-19T00:16:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342618",
    "user": "https://github.com/kiwifb"
}
```

**Changing commit** from "[96cae4e257a59bba9a6f6fcb46a20cb715bec6ad](https://github.com/sagemath/sagetrac-mirror/commit/96cae4e257a59bba9a6f6fcb46a20cb715bec6ad)" to "[1d18a976daf3a1bba374cb69d08e44b390924620](https://github.com/sagemath/sagetrac-mirror/commit/1d18a976daf3a1bba374cb69d08e44b390924620)".



---

archive/issue_events_276381.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-04-19T00:17:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-276381"
}
```



---

archive/issue_events_276382.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-04-19T00:17:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-276382"
}
```



---

archive/issue_comments_342619.json:
```json
{
    "body": "<a id='comment:21'>**Comment 21:**</a>\nSorry for the delay, i had the exact same commit, so it is fine for me, except that i let the `unset MACOSX_DEPLOYMENT_TARGET`, since i am not sure whether it is still useful.\n\nAlso, looking at the `bootstrap` script, i was wondering whether we should add `xz` as a dependency and add the `--system-liblzma` option. Does this makes sense ?",
    "created_at": "2017-04-19T01:14:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342619",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<a id='comment:21'>**Comment 21:**</a>
Sorry for the delay, i had the exact same commit, so it is fine for me, except that i let the `unset MACOSX_DEPLOYMENT_TARGET`, since i am not sure whether it is still useful.

Also, looking at the `bootstrap` script, i was wondering whether we should add `xz` as a dependency and add the `--system-liblzma` option. Does this makes sense ?



---

archive/issue_comments_342620.json:
```json
{
    "body": "<a id='comment:22'>**Comment 22:**</a>\nIf we have it (and I guess it is a requirement for R nowadays) then yes go ahead. \n\nI tested the removal of `unset MACOSX_DEPLOYMENT_TARGET` and I didn't observe any problem nor did I expect any. Further if we want to take cmake from experimental to optional and may be even standard in time, then it has to go. We cannot make portable binaries if it is unset.",
    "created_at": "2017-04-19T01:19:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342620",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:22'>**Comment 22:**</a>
If we have it (and I guess it is a requirement for R nowadays) then yes go ahead. 

I tested the removal of `unset MACOSX_DEPLOYMENT_TARGET` and I didn't observe any problem nor did I expect any. Further if we want to take cmake from experimental to optional and may be even standard in time, then it has to go. We cannot make portable binaries if it is unset.



---

archive/issue_comments_342621.json:
```json
{
    "body": "<a id='comment:23'>**Comment 23:**</a>\nReplying to [@kiwifb](#comment%3A22):\n> If we have it (and I guess it is a requirement for R nowadays) then yes go ahead. \n\nOK, `xz` is standard spkg, i am trying this right now.\n\n> I tested the removal of `unset MACOSX_DEPLOYMENT_TARGET` and I didn't observe any problem nor did I expect any. Further if we want to take cmake from experimental to optional and may be even standard in time, then it has to go. We cannot make portable binaries if it is unset.\n\nOK, great, iirc cgal (still to be packaged) and csympy rely on cmake, so it might be interesting in a near future.",
    "created_at": "2017-04-19T01:26:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342621",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<a id='comment:23'>**Comment 23:**</a>
Replying to [@kiwifb](#comment%3A22):
> If we have it (and I guess it is a requirement for R nowadays) then yes go ahead. 

OK, `xz` is standard spkg, i am trying this right now.

> I tested the removal of `unset MACOSX_DEPLOYMENT_TARGET` and I didn't observe any problem nor did I expect any. Further if we want to take cmake from experimental to optional and may be even standard in time, then it has to go. We cannot make portable binaries if it is unset.

OK, great, iirc cgal (still to be packaged) and csympy rely on cmake, so it might be interesting in a near future.



---

archive/issue_comments_342622.json:
```json
{
    "body": "**Changing branch** from \"[u/fbissey/update_cmake_to_3_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/update_cmake_to_3_8_0)\" to \"[u/tmonteil/update_cmake_to_3_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/update_cmake_to_3_8_0)\".",
    "created_at": "2017-04-19T02:32:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342622",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

**Changing branch** from "[u/fbissey/update_cmake_to_3_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/update_cmake_to_3_8_0)" to "[u/tmonteil/update_cmake_to_3_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/update_cmake_to_3_8_0)".



---

archive/issue_comments_342623.json:
```json
{
    "body": "<a id='comment:25'>**Comment 25:**</a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8471784d3d245e41405cc03ffa235f9238f2bdb1\">8471784</a></td><td><code>Use xz/liblzma provided by Sage</code></td></tr></table>\n",
    "created_at": "2017-04-19T02:34:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342623",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:25'>**Comment 25:**</a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8471784d3d245e41405cc03ffa235f9238f2bdb1">8471784</a></td><td><code>Use xz/liblzma provided by Sage</code></td></tr></table>




---

archive/issue_comments_342624.json:
```json
{
    "body": "**Changing commit** from \"[1d18a976daf3a1bba374cb69d08e44b390924620](https://github.com/sagemath/sagetrac-mirror/commit/1d18a976daf3a1bba374cb69d08e44b390924620)\" to \"[8471784d3d245e41405cc03ffa235f9238f2bdb1](https://github.com/sagemath/sagetrac-mirror/commit/8471784d3d245e41405cc03ffa235f9238f2bdb1)\".",
    "created_at": "2017-04-19T02:34:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342624",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[1d18a976daf3a1bba374cb69d08e44b390924620](https://github.com/sagemath/sagetrac-mirror/commit/1d18a976daf3a1bba374cb69d08e44b390924620)" to "[8471784d3d245e41405cc03ffa235f9238f2bdb1](https://github.com/sagemath/sagetrac-mirror/commit/8471784d3d245e41405cc03ffa235f9238f2bdb1)".



---

archive/issue_comments_342625.json:
```json
{
    "body": "<a id='comment:26'>**Comment 26:**</a>\nTests still pass with Sage's xz.",
    "created_at": "2017-04-19T02:36:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342625",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<a id='comment:26'>**Comment 26:**</a>
Tests still pass with Sage's xz.



---

archive/issue_comments_342626.json:
```json
{
    "body": "<a id='comment:27'>**Comment 27:**</a>\nGood, and presumably\n\n```\n./sage -sh\nldd -r local/bin/cmake\n```\nDoesn't report anything out of place.",
    "created_at": "2017-04-19T02:38:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342626",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:27'>**Comment 27:**</a>
Good, and presumably

```
./sage -sh
ldd -r local/bin/cmake
```
Doesn't report anything out of place.



---

archive/issue_comments_342627.json:
```json
{
    "body": "<a id='comment:28'>**Comment 28:**</a>\nI got:\n\n```\n\tlinux-vdso.so.1 (0x00007ffddb538000)\n\tlibz.so.1 => /opt/sagemath/sage-source/local/lib/libz.so.1 (0x00007f814f4e4000)\n\tliblzma.so.5 => /opt/sagemath/sage-source/local/lib/liblzma.so.5 (0x00007f814f2bf000)\n\tlibbz2.so.1 => /opt/sagemath/sage-source/local/lib/libbz2.so.1 (0x00007f814f0af000)\n\tlibcurl.so.4 => /opt/sagemath/sage-source/local/lib/libcurl.so.4 (0x00007f814ee48000)\n\tlibpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f814ec2b000)\n\tlibdl.so.2 => /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f814ea27000)\n\tlibrt.so.1 => /lib/x86_64-linux-gnu/librt.so.1 (0x00007f814e81f000)\n\tlibstdc++.so.6 => /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007f814e514000)\n\tlibm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007f814e213000)\n\tlibgcc_s.so.1 => /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007f814dffd000)\n\tlibc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f814dc52000)\n\tlibssl.so.1.0.0 => /usr/lib/x86_64-linux-gnu/libssl.so.1.0.0 (0x00007f814d9f1000)\n\tlibcrypto.so.1.0.0 => /usr/lib/x86_64-linux-gnu/libcrypto.so.1.0.0 (0x00007f814d5f5000)\n\t/lib64/ld-linux-x86-64.so.2 (0x00007f814f6fe000)\n```",
    "created_at": "2017-04-19T02:46:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342627",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<a id='comment:28'>**Comment 28:**</a>
I got:

```
	linux-vdso.so.1 (0x00007ffddb538000)
	libz.so.1 => /opt/sagemath/sage-source/local/lib/libz.so.1 (0x00007f814f4e4000)
	liblzma.so.5 => /opt/sagemath/sage-source/local/lib/liblzma.so.5 (0x00007f814f2bf000)
	libbz2.so.1 => /opt/sagemath/sage-source/local/lib/libbz2.so.1 (0x00007f814f0af000)
	libcurl.so.4 => /opt/sagemath/sage-source/local/lib/libcurl.so.4 (0x00007f814ee48000)
	libpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f814ec2b000)
	libdl.so.2 => /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f814ea27000)
	librt.so.1 => /lib/x86_64-linux-gnu/librt.so.1 (0x00007f814e81f000)
	libstdc++.so.6 => /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007f814e514000)
	libm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007f814e213000)
	libgcc_s.so.1 => /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007f814dffd000)
	libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f814dc52000)
	libssl.so.1.0.0 => /usr/lib/x86_64-linux-gnu/libssl.so.1.0.0 (0x00007f814d9f1000)
	libcrypto.so.1.0.0 => /usr/lib/x86_64-linux-gnu/libcrypto.so.1.0.0 (0x00007f814d5f5000)
	/lib64/ld-linux-x86-64.so.2 (0x00007f814f6fe000)
```



---

archive/issue_comments_342628.json:
```json
{
    "body": "<a id='comment:29'>**Comment 29:**</a>\nLooks all right to me. Let's move to the next stage.",
    "created_at": "2017-04-19T02:51:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342628",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:29'>**Comment 29:**</a>
Looks all right to me. Let's move to the next stage.



---

archive/issue_events_276383.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-04-19T02:51:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-276383"
}
```



---

archive/issue_events_276384.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-04-19T02:51:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-276384"
}
```



---

archive/issue_comments_342629.json:
```json
{
    "body": "**Changing branch** from \"[u/tmonteil/update_cmake_to_3_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/update_cmake_to_3_8_0)\" to \"[8471784d3d245e41405cc03ffa235f9238f2bdb1](https://github.com/sagemath/sagetrac-mirror/commit/8471784d3d245e41405cc03ffa235f9238f2bdb1)\".",
    "created_at": "2017-04-23T12:57:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342629",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/tmonteil/update_cmake_to_3_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/update_cmake_to_3_8_0)" to "[8471784d3d245e41405cc03ffa235f9238f2bdb1](https://github.com/sagemath/sagetrac-mirror/commit/8471784d3d245e41405cc03ffa235f9238f2bdb1)".



---

archive/issue_events_276385.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-04-23T12:57:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-276385"
}
```



---

archive/issue_events_276386.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "85a2ee4a38bed760a76647b5261d38e9eea6990b",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-04-23T12:57:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22814#event-276386"
}
```



---

archive/issue_comments_342630.json:
```json
{
    "body": "**Changing commit** from \"[8471784d3d245e41405cc03ffa235f9238f2bdb1](https://github.com/sagemath/sagetrac-mirror/commit/8471784d3d245e41405cc03ffa235f9238f2bdb1)\" to \"\".",
    "created_at": "2017-05-14T22:17:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342630",
    "user": "https://github.com/dimpase"
}
```

**Changing commit** from "[8471784d3d245e41405cc03ffa235f9238f2bdb1](https://github.com/sagemath/sagetrac-mirror/commit/8471784d3d245e41405cc03ffa235f9238f2bdb1)" to "".



---

archive/issue_comments_342631.json:
```json
{
    "body": "<a id='comment:31'>**Comment 31:**</a>\nIt perhaps makes sense to immediately go to cmake 3.8.1, released 2 weeks ago.",
    "created_at": "2017-05-14T22:17:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342631",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:31'>**Comment 31:**</a>
It perhaps makes sense to immediately go to cmake 3.8.1, released 2 weeks ago.



---

archive/issue_comments_342632.json:
```json
{
    "body": "<a id='comment:32'>**Comment 32:**</a>\nWell this ticket is already merged (8.0.beta5) so it would have to go in a new ticket. But sure let's do that if you also want to push it optional.",
    "created_at": "2017-05-14T22:29:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342632",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:32'>**Comment 32:**</a>
Well this ticket is already merged (8.0.beta5) so it would have to go in a new ticket. But sure let's do that if you also want to push it optional.



---

archive/issue_comments_342633.json:
```json
{
    "body": "<a id='comment:33'>**Comment 33:**</a>\nReplying to [@kiwifb](#comment%3A32):\n> Well this ticket is already merged (8.0.beta5) so it would have to go in a new ticket. But sure let's do that if you also want to push it optional.\n\nOK, this is now #22999, and yes, let us make it optional package, indeed.",
    "created_at": "2017-05-14T22:36:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342633",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:33'>**Comment 33:**</a>
Replying to [@kiwifb](#comment%3A32):
> Well this ticket is already merged (8.0.beta5) so it would have to go in a new ticket. But sure let's do that if you also want to push it optional.

OK, this is now #22999, and yes, let us make it optional package, indeed.



---

archive/issue_comments_342634.json:
```json
{
    "body": "**Changing keywords** from \"days86\" to \"days86, sdl\".",
    "created_at": "2019-08-27T19:45:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22814#issuecomment-342634",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

**Changing keywords** from "days86" to "days86, sdl".
