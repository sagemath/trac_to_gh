# Issue 22628: SINGULAR_SO default is incorrect of Cygwin

archive/issues_022391.json:
```json
{
    "assignees": [],
    "body": "It should be under `$SAGE_LOCAL/bin/cygSingular-<version>.dll`.  Rather than guess at the version the attached patch just takes the latest one (which will normally be the only one).  It's pretty hacky, but then so is this code on other platforms too.\n\nFor the purposes of the standard Sage distribution this should generally work though.\n\nBranch/Commit: **[cb3dadf](https://github.com/sagemath/sagetrac-mirror/commit/cb3dadf42350807cc7da3d9e6365ce5cfed78c39)**\n\nReviewer: **Jeroen Demeyer, Volker Braun**\n\nAuthor: **Erik Bray, Jeroen Demeyer**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/22628_\n\n",
    "closed_at": "2017-06-04T10:11:06Z",
    "created_at": "2017-03-17T00:44:17Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20porting%3A%20cygwin",
        "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "SINGULAR_SO default is incorrect of Cygwin",
    "type": "issue",
    "updated_at": "2017-06-04T10:11:06Z",
    "url": "https://github.com/sagemath/sage/issues/22628",
    "user": "https://github.com/embray"
}
```
It should be under `$SAGE_LOCAL/bin/cygSingular-<version>.dll`.  Rather than guess at the version the attached patch just takes the latest one (which will normally be the only one).  It's pretty hacky, but then so is this code on other platforms too.

For the purposes of the standard Sage distribution this should generally work though.

Branch/Commit: **[cb3dadf](https://github.com/sagemath/sagetrac-mirror/commit/cb3dadf42350807cc7da3d9e6365ce5cfed78c39)**

Reviewer: **Jeroen Demeyer, Volker Braun**

Author: **Erik Bray, Jeroen Demeyer**

_Issue created by migration from https://trac.sagemath.org/ticket/22628_





---

archive/issue_events_287404.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-03-17T00:44:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22628#event-287404"
}
```



---

archive/issue_events_287405.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-03-17T00:44:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20porting%3A%20cygwin",
    "label_color": "000080",
    "label_name": "component: porting: cygwin",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22628#event-287405"
}
```



---

archive/issue_events_287406.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-03-17T00:44:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22628#event-287406"
}
```



---

archive/issue_events_287407.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-03-17T00:44:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22628#event-287407"
}
```



---

archive/issue_events_287408.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-03-17T00:44:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22628#event-287408"
}
```



---

archive/issue_comments_338646.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nSo on Cygwin there is no \"symlink\" `cygSingular.dll -> cygSingular-VERSION.dll`? It would be simpler if there would be. It would also be simpler if `cygSingular.dll` would just be called `libSingular.dll`. Is there any chance of getting done in upstream Singular? Then the same code could be used on all platforms.",
    "created_at": "2017-03-17T09:07:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338646",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:2'>Comment 2:</a>
So on Cygwin there is no "symlink" `cygSingular.dll -> cygSingular-VERSION.dll`? It would be simpler if there would be. It would also be simpler if `cygSingular.dll` would just be called `libSingular.dll`. Is there any chance of getting done in upstream Singular? Then the same code could be used on all platforms.



---

archive/issue_comments_338647.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nGenerally DLLs do not go in `/lib` on Cygwin.  The reason for this is that *Windows* searches `$PATH` for DLLs.  Further, the default way Cygwin implements symlinks is as normal files.  So Windows would see a symlink named `cygSingular.dll` and try to load the actual file `cygSingular.dll` as a DLL and fail.\n\nIn any case, I think it's better to explicitly point to the platform-specific location of a shared library.\n\n(In fact, rather than hard-coding this it would be better if there were a routine to get shared library paths in a platform-specific way.  `ctypes.util.find_library` comes close, but unfortunately it does not return absolute paths (there are a couple issues in the Python bug tracker about fixing this, but I don't know when it will be).)",
    "created_at": "2017-03-18T11:03:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338647",
    "user": "https://github.com/embray"
}
```

<a id='comment:3'>Comment 3:</a>
Generally DLLs do not go in `/lib` on Cygwin.  The reason for this is that *Windows* searches `$PATH` for DLLs.  Further, the default way Cygwin implements symlinks is as normal files.  So Windows would see a symlink named `cygSingular.dll` and try to load the actual file `cygSingular.dll` as a DLL and fail.

In any case, I think it's better to explicitly point to the platform-specific location of a shared library.

(In fact, rather than hard-coding this it would be better if there were a routine to get shared library paths in a platform-specific way.  `ctypes.util.find_library` comes close, but unfortunately it does not return absolute paths (there are a couple issues in the Python bug tracker about fixing this, but I don't know when it will be).)



---

archive/issue_comments_338648.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nReplying to [@embray](#comment%3A3):\n> Generally DLLs do not go in `/lib` on Cygwin.  The reason for this is that *Windows* searches `$PATH` for DLLs.  Further, the default way Cygwin implements symlinks is as normal files.  So Windows would see a symlink named `cygSingular.dll` and try to load the actual file `cygSingular.dll` as a DLL and fail.\n\nThat said, for the purposes of `dlopen` it *might* be fine. I think Cygwin will resolve the symlink before passing to the underlying Windows APIs.  Regardless, I think this explicit approach is better.  I don't see the point of making a symlink on the filesystem that is otherwise pointless for this one case.",
    "created_at": "2017-03-18T11:04:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338648",
    "user": "https://github.com/embray"
}
```

<a id='comment:4'>Comment 4:</a>
Replying to [@embray](#comment%3A3):
> Generally DLLs do not go in `/lib` on Cygwin.  The reason for this is that *Windows* searches `$PATH` for DLLs.  Further, the default way Cygwin implements symlinks is as normal files.  So Windows would see a symlink named `cygSingular.dll` and try to load the actual file `cygSingular.dll` as a DLL and fail.

That said, for the purposes of `dlopen` it *might* be fine. I think Cygwin will resolve the symlink before passing to the underlying Windows APIs.  Regardless, I think this explicit approach is better.  I don't see the point of making a symlink on the filesystem that is otherwise pointless for this one case.



---

archive/issue_comments_338649.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nThere is still a potential problem when changing Singular versions. Then multiple DLLs might be installed. How do you know which is the correct one?",
    "created_at": "2017-03-18T13:32:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338649",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'>Comment 5:</a>
There is still a potential problem when changing Singular versions. Then multiple DLLs might be installed. How do you know which is the correct one?



---

archive/issue_comments_338650.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nWould there be though?  I worried about this too, but I thought any previous version would be uninstalled before installing a new version.",
    "created_at": "2017-03-20T10:21:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338650",
    "user": "https://github.com/embray"
}
```

<a id='comment:6'>Comment 6:</a>
Would there be though?  I worried about this too, but I thought any previous version would be uninstalled before installing a new version.



---

archive/issue_comments_338651.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nReplying to [@embray](#comment%3A6):\n> Would there be though?  I worried about this too, but I thought any previous version would be uninstalled before installing a new version.\n\n`build/pkgs/singular/spkg-install` has this wonderful part:\n\n```sh\nremove_old_version()\n{   \n    # the following is a little verbose but it ensures we leave no trace of 3.x\n    # _or_ 4.x\n    rm -f \"$SAGE_LOCAL\"/bin/*Singular*\n    rm -f \"$SAGE_LOCAL\"/bin/*singular*\n    rm -rf \"$SAGE_LOCAL/include/singular\" # 3.x and 4.x\n    rm -rf \"$SAGE_LOCAL/include/factory\" # 3.x and 4.x\n    rm -f \"$SAGE_LOCAL/include/factor.h\" # 3.x only\n    rm -f \"$SAGE_LOCAL/include/factoryconf.h\" # 3.x only\n    rm -rf \"$SAGE_LOCAL/include/omalloc\" #4.x only\n    rm -f \"$SAGE_LOCAL/include/omalloc.h\" # 3.x only\n    rm -f \"$SAGE_LOCAL/include/omlimits.h\" # 3.x only\n    rm -rf \"$SAGE_LOCAL/include/resources\" #4.x only\n    rm -rf \"$SAGE_LOCAL/include/gfanlib\" #4.x only\n    rm -f \"$SAGE_LOCAL\"/lib/libsingular* # 3.x with lower case\n    rm -f \"$SAGE_LOCAL\"/lib/libsingcf*.a # 3.x only additional archives\n    rm -f \"$SAGE_LOCAL\"/lib/libsingfac*.a # 3.x only additional archives\n    rm -f \"$SAGE_LOCAL\"/lib/libSingular* # 4.x with upper case\n    rm -f \"$SAGE_LOCAL\"/lib/p_Procs_Field* # 3.x only\n    # a bunch of additional libraries for 4.x\n    rm -f \"$SAGE_LOCAL\"/lib/libpolys*\n    rm -f \"$SAGE_LOCAL\"/lib/libfactory*\n    rm -f \"$SAGE_LOCAL\"/lib/libomalloc*\n    rm -f \"$SAGE_LOCAL\"/lib/libresources*\n    rm -r \"$SAGE_LOCAL\"/lib/libgfan*\n    rm -rf \"$SAGE_LOCAL/share/singular\"\n    rm -f \"$SAGE_LOCAL\"/share/info/singular*\n}\n```\nwhich doesn't deal with any of the Cygwin names for the library (that would be another good reason why Cygwin should just the name `libSingular` instead of `cygSingular`).",
    "created_at": "2017-03-20T10:26:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338651",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'>Comment 7:</a>
Replying to [@embray](#comment%3A6):
> Would there be though?  I worried about this too, but I thought any previous version would be uninstalled before installing a new version.

`build/pkgs/singular/spkg-install` has this wonderful part:

```sh
remove_old_version()
{   
    # the following is a little verbose but it ensures we leave no trace of 3.x
    # _or_ 4.x
    rm -f "$SAGE_LOCAL"/bin/*Singular*
    rm -f "$SAGE_LOCAL"/bin/*singular*
    rm -rf "$SAGE_LOCAL/include/singular" # 3.x and 4.x
    rm -rf "$SAGE_LOCAL/include/factory" # 3.x and 4.x
    rm -f "$SAGE_LOCAL/include/factor.h" # 3.x only
    rm -f "$SAGE_LOCAL/include/factoryconf.h" # 3.x only
    rm -rf "$SAGE_LOCAL/include/omalloc" #4.x only
    rm -f "$SAGE_LOCAL/include/omalloc.h" # 3.x only
    rm -f "$SAGE_LOCAL/include/omlimits.h" # 3.x only
    rm -rf "$SAGE_LOCAL/include/resources" #4.x only
    rm -rf "$SAGE_LOCAL/include/gfanlib" #4.x only
    rm -f "$SAGE_LOCAL"/lib/libsingular* # 3.x with lower case
    rm -f "$SAGE_LOCAL"/lib/libsingcf*.a # 3.x only additional archives
    rm -f "$SAGE_LOCAL"/lib/libsingfac*.a # 3.x only additional archives
    rm -f "$SAGE_LOCAL"/lib/libSingular* # 4.x with upper case
    rm -f "$SAGE_LOCAL"/lib/p_Procs_Field* # 3.x only
    # a bunch of additional libraries for 4.x
    rm -f "$SAGE_LOCAL"/lib/libpolys*
    rm -f "$SAGE_LOCAL"/lib/libfactory*
    rm -f "$SAGE_LOCAL"/lib/libomalloc*
    rm -f "$SAGE_LOCAL"/lib/libresources*
    rm -r "$SAGE_LOCAL"/lib/libgfan*
    rm -rf "$SAGE_LOCAL/share/singular"
    rm -f "$SAGE_LOCAL"/share/info/singular*
}
```
which doesn't deal with any of the Cygwin names for the library (that would be another good reason why Cygwin should just the name `libSingular` instead of `cygSingular`).



---

archive/issue_comments_338652.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nSee #22652",
    "created_at": "2017-03-20T10:33:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338652",
    "user": "https://github.com/embray"
}
```

<a id='comment:8'>Comment 8:</a>
See #22652



---

archive/issue_comments_338653.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nYeah, that's pretty hideous, which is why I wrote #22510.  In the meantime I'll update the existing \"uninstall\" to handle Cygwin better.  Unfortunately the DLL naming can't be changed.",
    "created_at": "2017-03-20T10:34:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338653",
    "user": "https://github.com/embray"
}
```

<a id='comment:9'>Comment 9:</a>
Yeah, that's pretty hideous, which is why I wrote #22510.  In the meantime I'll update the existing "uninstall" to handle Cygwin better.  Unfortunately the DLL naming can't be changed.



---

archive/issue_events_287409.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-03-20T11:00:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22628#event-287409"
}
```



---

archive/issue_events_287410.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-03-20T11:00:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22628#event-287410"
}
```



---

archive/issue_comments_338654.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nAt the very least the Singular `spkg-install` needs to be updated to handle uninstallation better on Cygwin (this is likely the case for other packages as well, but the broader issue can wait for another time).",
    "created_at": "2017-03-20T11:00:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338654",
    "user": "https://github.com/embray"
}
```

<a id='comment:10'>Comment 10:</a>
At the very least the Singular `spkg-install` needs to be updated to handle uninstallation better on Cygwin (this is likely the case for other packages as well, but the broader issue can wait for another time).



---

archive/issue_comments_338655.json:
```json
{
    "body": "Changed commit from **[c069fc2](https://github.com/sagemath/sagetrac-mirror/commit/c069fc27fa7933bc2cf353e65729849b63f825d7)** to **[33233d1](https://github.com/sagemath/sagetrac-mirror/commit/33233d1788b3d030169c1e65ba83aa3de09cdec3)**",
    "created_at": "2017-03-22T15:12:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338655",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c069fc2](https://github.com/sagemath/sagetrac-mirror/commit/c069fc27fa7933bc2cf353e65729849b63f825d7)** to **[33233d1](https://github.com/sagemath/sagetrac-mirror/commit/33233d1788b3d030169c1e65ba83aa3de09cdec3)**



---

archive/issue_comments_338656.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/33233d1788b3d030169c1e65ba83aa3de09cdec3\">33233d1</a></td><td><code>Better library cleanup for Singular on Cygwin</code></td></tr></table>\n",
    "created_at": "2017-03-22T15:12:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338656",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:11'>Comment 11:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/33233d1788b3d030169c1e65ba83aa3de09cdec3">33233d1</a></td><td><code>Better library cleanup for Singular on Cygwin</code></td></tr></table>




---

archive/issue_comments_338657.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nThis ensures Singular will be \"uninstalled\" better when upgrading on Cygwin.  This way there really should only be one `SINGULAR_SO` (if any) found in the method used by this patch.\n\nMuch as it's not nice to have platform-specific checks in `sage.env` I think for something like this (that is, locating a shared library for `dlopen()`) it's inevitable. So I'd rather leave it explicit for now, and deal with it better later (e.g. in #22652).",
    "created_at": "2017-03-22T15:18:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338657",
    "user": "https://github.com/embray"
}
```

<a id='comment:12'>Comment 12:</a>
This ensures Singular will be "uninstalled" better when upgrading on Cygwin.  This way there really should only be one `SINGULAR_SO` (if any) found in the method used by this patch.

Much as it's not nice to have platform-specific checks in `sage.env` I think for something like this (that is, locating a shared library for `dlopen()`) it's inevitable. So I'd rather leave it explicit for now, and deal with it better later (e.g. in #22652).



---

archive/issue_events_287411.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-03-22T15:18:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22628#event-287411"
}
```



---

archive/issue_events_287412.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-03-22T15:18:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22628#event-287412"
}
```



---

archive/issue_comments_338658.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/15e37fe1a10e35b6b40d2ba2bcd984e0517a6416\">15e37fe</a></td><td><code>'libresources' was renamed 'libsingular_resources' in Singular 4.0</code></td></tr></table>\n",
    "created_at": "2017-03-22T15:21:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338658",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:13'>Comment 13:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/15e37fe1a10e35b6b40d2ba2bcd984e0517a6416">15e37fe</a></td><td><code>'libresources' was renamed 'libsingular_resources' in Singular 4.0</code></td></tr></table>




---

archive/issue_comments_338659.json:
```json
{
    "body": "Changed commit from **[33233d1](https://github.com/sagemath/sagetrac-mirror/commit/33233d1788b3d030169c1e65ba83aa3de09cdec3)** to **[15e37fe](https://github.com/sagemath/sagetrac-mirror/commit/15e37fe1a10e35b6b40d2ba2bcd984e0517a6416)**",
    "created_at": "2017-03-22T15:21:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338659",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[33233d1](https://github.com/sagemath/sagetrac-mirror/commit/33233d1788b3d030169c1e65ba83aa3de09cdec3)** to **[15e37fe](https://github.com/sagemath/sagetrac-mirror/commit/15e37fe1a10e35b6b40d2ba2bcd984e0517a6416)**



---

archive/issue_events_287413.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-03-22T15:22:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22628#event-287413"
}
```



---

archive/issue_events_287414.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-03-22T15:22:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22628#event-287414"
}
```



---

archive/issue_comments_338660.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nDon't hardcode the extension. OS X uses `.dylib`",
    "created_at": "2017-03-22T15:22:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338660",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'>Comment 14:</a>
Don't hardcode the extension. OS X uses `.dylib`



---

archive/issue_comments_338661.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nAh, right.  I'll leave it for Cygwin but remove it for the 'else' case.",
    "created_at": "2017-03-22T15:23:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338661",
    "user": "https://github.com/embray"
}
```

<a id='comment:15'>Comment 15:</a>
Ah, right.  I'll leave it for Cygwin but remove it for the 'else' case.



---

archive/issue_comments_338662.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4f33a48f6fee31322f89916437cf8009f564df06\">4f33a48</a></td><td><code>Don't hard-code the extension on other platforms (e.g. to support OSX)</code></td></tr></table>\n",
    "created_at": "2017-03-22T15:25:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338662",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:16'>Comment 16:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4f33a48f6fee31322f89916437cf8009f564df06">4f33a48</a></td><td><code>Don't hard-code the extension on other platforms (e.g. to support OSX)</code></td></tr></table>




---

archive/issue_comments_338663.json:
```json
{
    "body": "Changed commit from **[15e37fe](https://github.com/sagemath/sagetrac-mirror/commit/15e37fe1a10e35b6b40d2ba2bcd984e0517a6416)** to **[4f33a48](https://github.com/sagemath/sagetrac-mirror/commit/4f33a48f6fee31322f89916437cf8009f564df06)**",
    "created_at": "2017-03-22T15:25:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338663",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[15e37fe](https://github.com/sagemath/sagetrac-mirror/commit/15e37fe1a10e35b6b40d2ba2bcd984e0517a6416)** to **[4f33a48](https://github.com/sagemath/sagetrac-mirror/commit/4f33a48f6fee31322f89916437cf8009f564df06)**



---

archive/issue_events_287415.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-03-22T15:25:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22628#event-287415"
}
```



---

archive/issue_events_287416.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-03-22T15:25:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22628#event-287416"
}
```



---

archive/issue_comments_338664.json:
```json
{
    "body": "Changed branch from **[u/embray/cygwin/singular_so](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/cygwin/singular_so)** to **[u/jdemeyer/cygwin/singular_so](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/cygwin/singular_so)**",
    "created_at": "2017-03-28T11:32:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338664",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/embray/cygwin/singular_so](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/cygwin/singular_so)** to **[u/jdemeyer/cygwin/singular_so](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/cygwin/singular_so)**



---

archive/issue_comments_338665.json:
```json
{
    "body": "Changed commit from **[4f33a48](https://github.com/sagemath/sagetrac-mirror/commit/4f33a48f6fee31322f89916437cf8009f564df06)** to **[a5ddc04](https://github.com/sagemath/sagetrac-mirror/commit/a5ddc0406a1ca806cf3d5159e1b135c95b7fb30d)**",
    "created_at": "2017-03-28T11:34:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338665",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[4f33a48](https://github.com/sagemath/sagetrac-mirror/commit/4f33a48f6fee31322f89916437cf8009f564df06)** to **[a5ddc04](https://github.com/sagemath/sagetrac-mirror/commit/a5ddc0406a1ca806cf3d5159e1b135c95b7fb30d)**



---

archive/issue_comments_338666.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nI made two minor corrections. You can set this ticket to positive_review if you agree.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48f1827d02ee6cc65756fe4a614057c751da2687\">48f1827</a></td><td><code>Libraries are not directories, no need for rm -r</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5ddc0406a1ca806cf3d5159e1b135c95b7fb30d\">a5ddc04</a></td><td><code>SINGULAR_SO should not be None</code></td></tr></table>\n",
    "created_at": "2017-03-28T11:34:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338666",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'>Comment 19:</a>
I made two minor corrections. You can set this ticket to positive_review if you agree.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48f1827d02ee6cc65756fe4a614057c751da2687">48f1827</a></td><td><code>Libraries are not directories, no need for rm -r</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5ddc0406a1ca806cf3d5159e1b135c95b7fb30d">a5ddc04</a></td><td><code>SINGULAR_SO should not be None</code></td></tr></table>




---

archive/issue_comments_338667.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2017-03-28T11:34:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338667",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_events_287417.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-03-28T11:54:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22628#event-287417"
}
```



---

archive/issue_events_287418.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-03-28T11:54:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22628#event-287418"
}
```



---

archive/issue_comments_338668.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nI think I had `rm -rf` because one of the lines I replaced was `rm -r \"$SAGE_LOCAL\"/lib/libgfan*`, though I don't know why that would need `-r` either.\n\nI agree `SINGULAR_SO = None` is fairly useless, but there should still be a better fallback in case the library is not found.  Currently this just results in an `IndexError` if so.",
    "created_at": "2017-03-28T11:54:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338668",
    "user": "https://github.com/embray"
}
```

<a id='comment:20'>Comment 20:</a>
I think I had `rm -rf` because one of the lines I replaced was `rm -r "$SAGE_LOCAL"/lib/libgfan*`, though I don't know why that would need `-r` either.

I agree `SINGULAR_SO = None` is fairly useless, but there should still be a better fallback in case the library is not found.  Currently this just results in an `IndexError` if so.



---

archive/issue_comments_338669.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nReplying to [@embray](#comment%3A20):\n> I think I had `rm -rf` because one of the lines I replaced was `rm -r \"$SAGE_LOCAL\"/lib/libgfan*`, though I don't know why that would need `-r` either.\n\nThe `-r` would only be needed if there would be a **directory** called `libgfan...`\n\nThat seems like something which shouldn't happen and I'd rather see an error in that case.\n\n> Currently this just results in an `IndexError` if so.\n\nAt least, it's very clear where the error happens. Setting `SINGULAR_SO = None` might just lead to more obscure errors later.",
    "created_at": "2017-03-28T11:57:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338669",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:21'>Comment 21:</a>
Replying to [@embray](#comment%3A20):
> I think I had `rm -rf` because one of the lines I replaced was `rm -r "$SAGE_LOCAL"/lib/libgfan*`, though I don't know why that would need `-r` either.

The `-r` would only be needed if there would be a **directory** called `libgfan...`

That seems like something which shouldn't happen and I'd rather see an error in that case.

> Currently this just results in an `IndexError` if so.

At least, it's very clear where the error happens. Setting `SINGULAR_SO = None` might just lead to more obscure errors later.



---

archive/issue_comments_338670.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\n> The -r would only be needed if there would be a directory called libgfan...\n\nYeah. I didn't put it there.",
    "created_at": "2017-03-28T14:57:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338670",
    "user": "https://github.com/embray"
}
```

<a id='comment:22'>Comment 22:</a>
> The -r would only be needed if there would be a directory called libgfan...

Yeah. I didn't put it there.



---

archive/issue_comments_338671.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\n> At least, it's very clear where the error happens. Setting SINGULAR_SO = None might just lead to more obscure errors later.\n\nBetter a more explicit error message in that \"later\" case then.  Or earlier, if you prefer.  My thinking was just that it might be nice to be able to import `sage.env` even if the Singular install is broken, for debugging purposes if nothing else.",
    "created_at": "2017-03-28T14:58:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338671",
    "user": "https://github.com/embray"
}
```

<a id='comment:23'>Comment 23:</a>
> At least, it's very clear where the error happens. Setting SINGULAR_SO = None might just lead to more obscure errors later.

Better a more explicit error message in that "later" case then.  Or earlier, if you prefer.  My thinking was just that it might be nice to be able to import `sage.env` even if the Singular install is broken, for debugging purposes if nothing else.



---

archive/issue_comments_338672.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nReplying to [@embray](#comment%3A22):\n> Yeah. I didn't put it there.\n\nI'm not entirely sure that I follow you. You *did* change `-f` to `-rf`. I changed back `-rf` to `-f` in my commit.",
    "created_at": "2017-03-28T15:04:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338672",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:24'>Comment 24:</a>
Replying to [@embray](#comment%3A22):
> Yeah. I didn't put it there.

I'm not entirely sure that I follow you. You *did* change `-f` to `-rf`. I changed back `-rf` to `-f` in my commit.



---

archive/issue_comments_338673.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\n> You did change -f to -rf\n\nNo, I added an entirely new line that used `-rf`--I didn't change some existing line from `-f` to `-rf`.  As I explained in [comment:21], one of the lines I *replaced* contained `rm -r` (probably unnecessarily).  I didn't really think about it though and just took the union of all the flags on the `rm` calls I was replacing (because honestly, knowing the history of this project and projects like Singular maybe there *was* a directory matching 'libgfan*' on somebody's install once... =_=)",
    "created_at": "2017-03-28T15:12:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338673",
    "user": "https://github.com/embray"
}
```

<a id='comment:25'>Comment 25:</a>
> You did change -f to -rf

No, I added an entirely new line that used `-rf`--I didn't change some existing line from `-f` to `-rf`.  As I explained in [comment:21], one of the lines I *replaced* contained `rm -r` (probably unnecessarily).  I didn't really think about it though and just took the union of all the flags on the `rm` calls I was replacing (because honestly, knowing the history of this project and projects like Singular maybe there *was* a directory matching 'libgfan*' on somebody's install once... =_=)



---

archive/issue_comments_338674.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nReplying to [@embray](#comment%3A23):\n> > At least, it's very clear where the error happens. Setting SINGULAR_SO = None might just lead to more obscure errors later.\n\n> \n> Better a more explicit error message in that \"later\" case then.  Or earlier, if you prefer.  My thinking was just that it might be nice to be able to import `sage.env` even if the Singular install is broken, for debugging purposes if nothing else.\n\nAny comment on this?  This is the only thing keeping this from having positive_review.  There should be an explicit error message if a valid path for `SINGULAR_SO` is not found (as opposed to an obscure-looking `IndexError`).",
    "created_at": "2017-04-11T14:09:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338674",
    "user": "https://github.com/embray"
}
```

<a id='comment:26'>Comment 26:</a>
Replying to [@embray](#comment%3A23):
> > At least, it's very clear where the error happens. Setting SINGULAR_SO = None might just lead to more obscure errors later.

> 
> Better a more explicit error message in that "later" case then.  Or earlier, if you prefer.  My thinking was just that it might be nice to be able to import `sage.env` even if the Singular install is broken, for debugging purposes if nothing else.

Any comment on this?  This is the only thing keeping this from having positive_review.  There should be an explicit error message if a valid path for `SINGULAR_SO` is not found (as opposed to an obscure-looking `IndexError`).



---

archive/issue_events_287419.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-04-21T12:23:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22628#event-287419"
}
```



---

archive/issue_events_287420.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-04-21T12:23:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "label": "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22628#event-287420"
}
```



---

archive/issue_comments_338675.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nPing? FYI - I needed this to build on Cygwin.",
    "created_at": "2017-05-03T03:29:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338675",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:28'>Comment 28:</a>
Ping? FYI - I needed this to build on Cygwin.



---

archive/issue_comments_338676.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nIf Jeroen doesn't mind I could switch this back over to my branch and just add the minor fix I'm proposing.  It's mostly just a nitpick.",
    "created_at": "2017-05-03T09:02:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338676",
    "user": "https://github.com/embray"
}
```

<a id='comment:29'>Comment 29:</a>
If Jeroen doesn't mind I could switch this back over to my branch and just add the minor fix I'm proposing.  It's mostly just a nitpick.



---

archive/issue_events_287421.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-05-05T14:46:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22628#event-287421"
}
```



---

archive/issue_events_287422.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2017-05-05T14:46:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22628#event-287422"
}
```



---

archive/issue_comments_338677.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/cygwin/singular_so](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/cygwin/singular_so)** to **[u/embray/cygwin/singular_so](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/cygwin/singular_so)**",
    "created_at": "2017-05-05T14:46:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338677",
    "user": "https://github.com/embray"
}
```

Changed branch from **[u/jdemeyer/cygwin/singular_so](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/cygwin/singular_so)** to **[u/embray/cygwin/singular_so](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/cygwin/singular_so)**



---

archive/issue_comments_338678.json:
```json
{
    "body": "Changed commit from **[a5ddc04](https://github.com/sagemath/sagetrac-mirror/commit/a5ddc0406a1ca806cf3d5159e1b135c95b7fb30d)** to **[2e45504](https://github.com/sagemath/sagetrac-mirror/commit/2e45504a577c8d72177cb526617b68358b9038c9)**",
    "created_at": "2017-05-05T14:46:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338678",
    "user": "https://github.com/embray"
}
```

Changed commit from **[a5ddc04](https://github.com/sagemath/sagetrac-mirror/commit/a5ddc0406a1ca806cf3d5159e1b135c95b7fb30d)** to **[2e45504](https://github.com/sagemath/sagetrac-mirror/commit/2e45504a577c8d72177cb526617b68358b9038c9)**



---

archive/issue_comments_338679.json:
```json
{
    "body": "Changed author from **Erik Bray** to **Erik Bray, Jeroen Demeyer**",
    "created_at": "2017-05-05T14:46:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338679",
    "user": "https://github.com/embray"
}
```

Changed author from **Erik Bray** to **Erik Bray, Jeroen Demeyer**



---

archive/issue_comments_338680.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nWent ahead and did what I had in mind.  This will error out very early on in `sage.env` on all platforms if Singular is not built/installed properly.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e45504a577c8d72177cb526617b68358b9038c9\">2e45504</a></td><td><code>raise an error very early in sage.env if SINGULAR_SO cannot be located</code></td></tr></table>\n",
    "created_at": "2017-05-05T14:46:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338680",
    "user": "https://github.com/embray"
}
```

<a id='comment:30'>Comment 30:</a>
Went ahead and did what I had in mind.  This will error out very early on in `sage.env` on all platforms if Singular is not built/installed properly.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e45504a577c8d72177cb526617b68358b9038c9">2e45504</a></td><td><code>raise an error very early in sage.env if SINGULAR_SO cannot be located</code></td></tr></table>




---

archive/issue_comments_338681.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cb3dadf42350807cc7da3d9e6365ce5cfed78c39\">cb3dadf</a></td><td><code>Still allow SINGULAR_SO to be read from the environment in case it's specified there</code></td></tr></table>\n",
    "created_at": "2017-05-05T14:49:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338681",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:31'>Comment 31:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cb3dadf42350807cc7da3d9e6365ce5cfed78c39">cb3dadf</a></td><td><code>Still allow SINGULAR_SO to be read from the environment in case it's specified there</code></td></tr></table>




---

archive/issue_comments_338682.json:
```json
{
    "body": "Changed commit from **[2e45504](https://github.com/sagemath/sagetrac-mirror/commit/2e45504a577c8d72177cb526617b68358b9038c9)** to **[cb3dadf](https://github.com/sagemath/sagetrac-mirror/commit/cb3dadf42350807cc7da3d9e6365ce5cfed78c39)**",
    "created_at": "2017-05-05T14:49:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338682",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2e45504](https://github.com/sagemath/sagetrac-mirror/commit/2e45504a577c8d72177cb526617b68358b9038c9)** to **[cb3dadf](https://github.com/sagemath/sagetrac-mirror/commit/cb3dadf42350807cc7da3d9e6365ce5cfed78c39)**



---

archive/issue_events_287423.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-05-20T22:46:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22628#event-287423"
}
```



---

archive/issue_events_287424.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-05-20T22:46:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22628#event-287424"
}
```



---

archive/issue_comments_338683.json:
```json
{
    "body": "Changed reviewer from **Jeroen Demeyer** to **Jeroen Demeyer, Volker Braun**",
    "created_at": "2017-05-20T22:46:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338683",
    "user": "https://github.com/vbraun"
}
```

Changed reviewer from **Jeroen Demeyer** to **Jeroen Demeyer, Volker Braun**



---

archive/issue_comments_338684.json:
```json
{
    "body": "Changed dependencies from **#21957** to none",
    "created_at": "2017-05-31T22:59:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338684",
    "user": "https://github.com/vbraun"
}
```

Changed dependencies from **#21957** to none



---

archive/issue_events_287425.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-06-04T10:11:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22628#event-287425"
}
```



---

archive/issue_events_287426.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "9da66724036b28926aeebb6abb7a8702ce4a0d3c",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-06-04T10:11:06Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22628#event-287426"
}
```



---

archive/issue_comments_338685.json:
```json
{
    "body": "Changed branch from **[u/embray/cygwin/singular_so](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/cygwin/singular_so)** to **[cb3dadf](https://github.com/sagemath/sagetrac-mirror/commit/cb3dadf42350807cc7da3d9e6365ce5cfed78c39)**",
    "created_at": "2017-06-04T10:11:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22628#issuecomment-338685",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/embray/cygwin/singular_so](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/cygwin/singular_so)** to **[cb3dadf](https://github.com/sagemath/sagetrac-mirror/commit/cb3dadf42350807cc7da3d9e6365ce5cfed78c39)**
