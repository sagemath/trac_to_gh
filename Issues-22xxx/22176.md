# Issue 22176: Add towncrier.ini file

archive/issues_021939.json:
```json
{
    "body": "As suggested in https://groups.google.com/forum/?hl=en#!topic/sage-devel/81qsOpoOKMM towncrier could be used by the release manager to generate a nice NEWS file. The ticket will add a suitable configuration file.\n\n**CC:**  @embray @slel @egourgoulhon @mkoeppe\n\n**Keywords:** changelog, towncrier\n\nIssue created by migration from https://trac.sagemath.org/ticket/22176\n\n",
    "created_at": "2017-01-12T07:58:55Z",
    "labels": [
        "component: documentation",
        "enhancement",
        "wishlist",
        "needs work"
    ],
    "title": "Add towncrier.ini file",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22176",
    "user": "https://github.com/rwst"
}
```
As suggested in https://groups.google.com/forum/?hl=en#!topic/sage-devel/81qsOpoOKMM towncrier could be used by the release manager to generate a nice NEWS file. The ticket will add a suitable configuration file.

**CC:**  @embray @slel @egourgoulhon @mkoeppe

**Keywords:** changelog, towncrier

Issue created by migration from https://trac.sagemath.org/ticket/22176





---

archive/issue_comments_331643.json:
```json
{
    "body": "**Branch:** [u/rws/add_towncrier_ini_file](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/add_towncrier_ini_file)",
    "created_at": "2017-01-12T08:15:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22176#issuecomment-331643",
    "user": "https://github.com/rwst"
}
```

**Branch:** [u/rws/add_towncrier_ini_file](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/add_towncrier_ini_file)



---

archive/issue_comments_331644.json:
```json
{
    "body": "**Author:** Ralf Stephan",
    "created_at": "2017-01-12T08:17:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22176#issuecomment-331644",
    "user": "https://github.com/rwst"
}
```

**Author:** Ralf Stephan



---

archive/issue_comments_331645.json:
```json
{
    "body": "**Commit:** [f2d044209e0b26ab509558f78f9a47427cfd88b8](https://github.com/sagemath/sagetrac-mirror/commit/f2d044209e0b26ab509558f78f9a47427cfd88b8)",
    "created_at": "2017-01-12T08:17:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22176#issuecomment-331645",
    "user": "https://github.com/rwst"
}
```

**Commit:** [f2d044209e0b26ab509558f78f9a47427cfd88b8](https://github.com/sagemath/sagetrac-mirror/commit/f2d044209e0b26ab509558f78f9a47427cfd88b8)



---

archive/issue_comments_331646.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2d044209e0b26ab509558f78f9a47427cfd88b8\">f2d0442</a></td><td><code>22176: towncrier</code></td></tr></table>\n",
    "created_at": "2017-01-12T08:17:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22176#issuecomment-331646",
    "user": "https://github.com/rwst"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2d044209e0b26ab509558f78f9a47427cfd88b8">f2d0442</a></td><td><code>22176: towncrier</code></td></tr></table>




---

archive/issue_events_202001.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-01-12T08:17:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22176#event-202001"
}
```



---

archive/issue_comments_331647.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"changelog, towncrier\".",
    "created_at": "2018-05-12T06:56:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22176#issuecomment-331647",
    "user": "https://github.com/slel"
}
```

**Changing keywords** from "" to "changelog, towncrier".



---

archive/issue_events_202002.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-05-12T06:56:50Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "milestone": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22176#event-202002"
}
```



---

archive/issue_events_202003.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-05-12T06:56:50Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "milestone": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22176#event-202003"
}
```



---

archive/issue_comments_331648.json:
```json
{
    "body": "<a id='comment:5'></a>\nDo you really want `Sage` with the capital letter? Having both `sage` and `Sage` in the same directory looks like a recipe for trouble.\n\nMore importantly, this ticket only solves a trivial technical aspect of release notes. Who will ensure that those news fragments get written? I can already see the 8.3 release with just one item in the changelog: `Towncrier is used to produce NEWS`.",
    "created_at": "2018-05-12T12:14:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22176#issuecomment-331648",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>
Do you really want `Sage` with the capital letter? Having both `sage` and `Sage` in the same directory looks like a recipe for trouble.

More importantly, this ticket only solves a trivial technical aspect of release notes. Who will ensure that those news fragments get written? I can already see the 8.3 release with just one item in the changelog: `Towncrier is used to produce NEWS`.



---

archive/issue_comments_331649.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [jdemeyer](#comment%3A5):\n> More importantly, this ticket only solves a trivial technical aspect of release notes. Who will ensure that those news fragments get written? I can already see the 8.3 release with just one item in the changelog: `Towncrier is used to produce NEWS`.\n\n\nThis ticket solves the problem of those authors that want to have such a line. If you are not such an author, well. Why would you want to enforce it? How can a ticket enforce a policy? Your ticket criticisms are sometimes not thought out and have the appearance of being only for the sake of it, I have the impression.",
    "created_at": "2018-05-12T12:29:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22176#issuecomment-331649",
    "user": "https://github.com/rwst"
}
```

<a id='comment:6'></a>
Replying to [jdemeyer](#comment%3A5):
> More importantly, this ticket only solves a trivial technical aspect of release notes. Who will ensure that those news fragments get written? I can already see the 8.3 release with just one item in the changelog: `Towncrier is used to produce NEWS`.


This ticket solves the problem of those authors that want to have such a line. If you are not such an author, well. Why would you want to enforce it? How can a ticket enforce a policy? Your ticket criticisms are sometimes not thought out and have the appearance of being only for the sake of it, I have the impression.



---

archive/issue_comments_331650.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [rws](#comment%3A6):\n> This ticket solves the problem of those authors that want to have such a line. If you are not such an author, well.\n\n\nI don't see the point of having a very incomplete `NEWS` file. We currently have a \"changelog\" in Sage which lists the titles of the merged tickets. This is already somewhat helpful, but there is room for improvement.\n\nSo if you want to propose something new, like towncrier, it should at least improve on the existing functionality. So you need to convince me why towncrier, listing just a few tickets, is better than the changelog which lists at least every ticket.\n\n> How can a ticket enforce a policy?\n\n\nIt cannot. Only the release manager (or by extension his scripts) can do that.\n\n> have the appearance of being only for the sake of it\n\n\nI can assure you that this is not the case. It's not that I enjoy complaining. It's more that I feel forced to point out these obvious flaws with your proposal, because nobody else has done that.\n\nFor the record: I am absolutely in favour of using something like towncrier. But this Trac ticket by itself does nothing: there needs to be a consensus on sage-devel on how to handle this. There should be a policy about it. Most importantly, the release manager must get involved: his scripts must be updated to enforce whatever policy we decide.",
    "created_at": "2018-05-12T12:52:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22176#issuecomment-331650",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'></a>
Replying to [rws](#comment%3A6):
> This ticket solves the problem of those authors that want to have such a line. If you are not such an author, well.


I don't see the point of having a very incomplete `NEWS` file. We currently have a "changelog" in Sage which lists the titles of the merged tickets. This is already somewhat helpful, but there is room for improvement.

So if you want to propose something new, like towncrier, it should at least improve on the existing functionality. So you need to convince me why towncrier, listing just a few tickets, is better than the changelog which lists at least every ticket.

> How can a ticket enforce a policy?


It cannot. Only the release manager (or by extension his scripts) can do that.

> have the appearance of being only for the sake of it


I can assure you that this is not the case. It's not that I enjoy complaining. It's more that I feel forced to point out these obvious flaws with your proposal, because nobody else has done that.

For the record: I am absolutely in favour of using something like towncrier. But this Trac ticket by itself does nothing: there needs to be a consensus on sage-devel on how to handle this. There should be a policy about it. Most importantly, the release manager must get involved: his scripts must be updated to enforce whatever policy we decide.



---

archive/issue_comments_331651.json:
```json
{
    "body": "<a id='comment:8'></a>\nThanks, I had forgotten about this ticket.  I'm definitely in favor, though we also need to agree on and document (in the developer docs) some policy for using it, and update the release scripts to generate a NEWS file.",
    "created_at": "2018-05-14T15:16:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22176#issuecomment-331651",
    "user": "https://github.com/embray"
}
```

<a id='comment:8'></a>
Thanks, I had forgotten about this ticket.  I'm definitely in favor, though we also need to agree on and document (in the developer docs) some policy for using it, and update the release scripts to generate a NEWS file.



---

archive/issue_comments_331652.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [rws](#comment%3A6):\n> Replying to [jdemeyer](#comment%3A5):\n> > More importantly, this ticket only solves a trivial technical aspect of release notes. Who will ensure that those news fragments get written? I can already see the 8.3 release with just one item in the changelog: `Towncrier is used to produce NEWS`.\n\n> \n> This ticket solves the problem of those authors that want to have such a line. If you are not such an author, well. Why would you want to enforce it? How can a ticket enforce a policy?\n\n\nIn fact there is a checklist the release manager goes through before reviewing a ticket.  Unfortunately that checklist is hard to find and not well published on tickets (it should be).\nThere should be a note (perhaps in the keywords field, or elsewhere on the ticket) specifying whether or not a NEWS entry should be required for the ticket.  There are cases where it is not needed; e.g. fixing bugs that only occur between development releases.  I would only bother with things that changed between major releases, personally.\n\nUltimately it's up to the release manager to make this determination, but the author of the ticket, if they know well-enough, can and should help with this.  (To give a concrete example, cpython uses a [skip news](https://github.com/python/cpython/pull/4147) label for issues that don't require a news entry; personally I prefer the opposite--a flag explicitly indicating that a news entry is needed--but that's a bikeshed.)",
    "created_at": "2018-05-14T15:21:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22176#issuecomment-331652",
    "user": "https://github.com/embray"
}
```

<a id='comment:9'></a>
Replying to [rws](#comment%3A6):
> Replying to [jdemeyer](#comment%3A5):
> > More importantly, this ticket only solves a trivial technical aspect of release notes. Who will ensure that those news fragments get written? I can already see the 8.3 release with just one item in the changelog: `Towncrier is used to produce NEWS`.

> 
> This ticket solves the problem of those authors that want to have such a line. If you are not such an author, well. Why would you want to enforce it? How can a ticket enforce a policy?


In fact there is a checklist the release manager goes through before reviewing a ticket.  Unfortunately that checklist is hard to find and not well published on tickets (it should be).
There should be a note (perhaps in the keywords field, or elsewhere on the ticket) specifying whether or not a NEWS entry should be required for the ticket.  There are cases where it is not needed; e.g. fixing bugs that only occur between development releases.  I would only bother with things that changed between major releases, personally.

Ultimately it's up to the release manager to make this determination, but the author of the ticket, if they know well-enough, can and should help with this.  (To give a concrete example, cpython uses a [skip news](https://github.com/python/cpython/pull/4147) label for issues that don't require a news entry; personally I prefer the opposite--a flag explicitly indicating that a news entry is needed--but that's a bikeshed.)



---

archive/issue_comments_331653.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [jdemeyer](#comment%3A7):\n> For the record: I am absolutely in favour of using something like towncrier. But this Trac ticket by itself does nothing: there needs to be a consensus on sage-devel on how to handle this. There should be a policy about it. Most importantly, the release manager must get involved: his scripts must be updated to enforce whatever policy we decide.\n\n\nThe \"updating scripts\" aspect of this should probably be as simple as updating `src/bin/sage-update-version` to run towncrier, output the appropriate NEWS file, and add it to the files to commit along with the release commit (and perhaps clean up the old news fragments).\n\nI also agree that `src/Sage` is asking for trouble.  Plus, I believe there is cause for news items for both sage-the-distribution and sage-the-library.  I would prefer to keep those separate personally, so I think it makes sense to have both a top-level `NEWS` file and a `src/NEWS` file for changes specifically to Sage (thus separate config files and fragment directories for each).\n\nIt would also probably be good to output an rst-formatted version of this file to somewhere that can be included by the Sphinx docs.  It's very nice to have HTML-formatted changelogs with a table of contents for releases.",
    "created_at": "2018-05-14T15:28:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22176#issuecomment-331653",
    "user": "https://github.com/embray"
}
```

<a id='comment:10'></a>
Replying to [jdemeyer](#comment%3A7):
> For the record: I am absolutely in favour of using something like towncrier. But this Trac ticket by itself does nothing: there needs to be a consensus on sage-devel on how to handle this. There should be a policy about it. Most importantly, the release manager must get involved: his scripts must be updated to enforce whatever policy we decide.


The "updating scripts" aspect of this should probably be as simple as updating `src/bin/sage-update-version` to run towncrier, output the appropriate NEWS file, and add it to the files to commit along with the release commit (and perhaps clean up the old news fragments).

I also agree that `src/Sage` is asking for trouble.  Plus, I believe there is cause for news items for both sage-the-distribution and sage-the-library.  I would prefer to keep those separate personally, so I think it makes sense to have both a top-level `NEWS` file and a `src/NEWS` file for changes specifically to Sage (thus separate config files and fragment directories for each).

It would also probably be good to output an rst-formatted version of this file to somewhere that can be included by the Sphinx docs.  It's very nice to have HTML-formatted changelogs with a table of contents for releases.



---

archive/issue_comments_331654.json:
```json
{
    "body": "<a id='comment:11'></a>\nCan we re-use Trac for the `NEWS` entries? Given that every issue goes through Trac, having a \"Changelog:\" field on Trac which is then scraped by the release scripts would be awesome. I think it would work better than a file in the git repo because it would be so easy to edit: a reviewer could easily fix the changelog if it would be on Trac. Plus, you get the bijection between changelog entries and Trac tickets for free.",
    "created_at": "2018-05-14T17:07:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22176#issuecomment-331654",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'></a>
Can we re-use Trac for the `NEWS` entries? Given that every issue goes through Trac, having a "Changelog:" field on Trac which is then scraped by the release scripts would be awesome. I think it would work better than a file in the git repo because it would be so easy to edit: a reviewer could easily fix the changelog if it would be on Trac. Plus, you get the bijection between changelog entries and Trac tickets for free.



---

archive/issue_comments_331655.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [jdemeyer](#comment%3A11):\n> Can we re-use Trac for the `NEWS` entries? Given that every issue goes through Trac, having a \"Changelog:\" field on Trac which is then scraped by the release scripts would be awesome. I think it would work better than a file in the git repo because it would be so easy to edit: a reviewer could easily fix the changelog if it would be on Trac. Plus, you get the bijection between changelog entries and Trac tickets for free.\n\n\nYes, that is another option.  I'd be happy with that.  The script can simply get all closed (as fixed) tickets for the milestone of the release and generate a report from that.  That also has the advantage that classification (e.g. bugs, features) can also be gleaned from the Trac ticket.  I could write such a script very easily.",
    "created_at": "2018-05-14T17:46:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22176#issuecomment-331655",
    "user": "https://github.com/embray"
}
```

<a id='comment:12'></a>
Replying to [jdemeyer](#comment%3A11):
> Can we re-use Trac for the `NEWS` entries? Given that every issue goes through Trac, having a "Changelog:" field on Trac which is then scraped by the release scripts would be awesome. I think it would work better than a file in the git repo because it would be so easy to edit: a reviewer could easily fix the changelog if it would be on Trac. Plus, you get the bijection between changelog entries and Trac tickets for free.


Yes, that is another option.  I'd be happy with that.  The script can simply get all closed (as fixed) tickets for the milestone of the release and generate a report from that.  That also has the advantage that classification (e.g. bugs, features) can also be gleaned from the Trac ticket.  I could write such a script very easily.



---

archive/issue_comments_331656.json:
```json
{
    "body": "**Changing commit** from \"[f2d044209e0b26ab509558f78f9a47427cfd88b8](https://github.com/sagemath/sagetrac-mirror/commit/f2d044209e0b26ab509558f78f9a47427cfd88b8)\" to \"\".",
    "created_at": "2018-05-15T03:17:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22176#issuecomment-331656",
    "user": "https://github.com/rwst"
}
```

**Changing commit** from "[f2d044209e0b26ab509558f78f9a47427cfd88b8](https://github.com/sagemath/sagetrac-mirror/commit/f2d044209e0b26ab509558f78f9a47427cfd88b8)" to "".



---

archive/issue_comments_331657.json:
```json
{
    "body": "**Changing author** from \"Ralf Stephan\" to \"\".",
    "created_at": "2018-05-15T03:17:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22176#issuecomment-331657",
    "user": "https://github.com/rwst"
}
```

**Changing author** from "Ralf Stephan" to "".



---

archive/issue_comments_331658.json:
```json
{
    "body": "<a id='comment:13'></a>\nFine. Please go ahead.",
    "created_at": "2018-05-15T03:17:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22176#issuecomment-331658",
    "user": "https://github.com/rwst"
}
```

<a id='comment:13'></a>
Fine. Please go ahead.



---

archive/issue_comments_331659.json:
```json
{
    "body": "**Changing branch** from \"[u/rws/add_towncrier_ini_file](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/add_towncrier_ini_file)\" to \"\".",
    "created_at": "2018-05-15T03:17:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22176#issuecomment-331659",
    "user": "https://github.com/rwst"
}
```

**Changing branch** from "[u/rws/add_towncrier_ini_file](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/add_towncrier_ini_file)" to "".



---

archive/issue_comments_331660.json:
```json
{
    "body": "<a id='comment:14'></a>\nWe still need a policy about that changelog-on-Trac. I would propose the following (also for backwards compatibility):\n\n- By default, every ticket has a changelog entry.\n\n- If there is a changelog on Trac, use that.\n\n- If there is no changelog on Trac, use the ticket title instead (which is what we've been doing so far for the release notes).\n\n- We define a special reserved value for the Trac changelog (say `none`) to indicate that a ticket should not be in the changelog at all.",
    "created_at": "2018-05-15T13:47:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22176#issuecomment-331660",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'></a>
We still need a policy about that changelog-on-Trac. I would propose the following (also for backwards compatibility):

- By default, every ticket has a changelog entry.

- If there is a changelog on Trac, use that.

- If there is no changelog on Trac, use the ticket title instead (which is what we've been doing so far for the release notes).

- We define a special reserved value for the Trac changelog (say `none`) to indicate that a ticket should not be in the changelog at all.



---

archive/issue_comments_331661.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [jdemeyer](#comment%3A14):\n> We still need a policy about that changelog-on-Trac. I would propose the following (also for backwards compatibility):\n> \n> - By default, every ticket has a changelog entry.\n> \n> - If there is a changelog on Trac, use that.\n> \n> - If there is no changelog on Trac, use the ticket title instead (which is what we've been doing so far for the release notes).\n> \n> - We define a special reserved value for the Trac changelog (say `none`) to indicate that a ticket should not be in the changelog at all.\n\n\nI think that's reasonable.  I would prefer that instead of \"If there is no changelog on Trac, use the ticket title instead\" that writing a changelog message is actually enforced.  The ticket title is *sometimes* useful but often not.  I fear this would lead to laziness about writing changelog entries (something I am personally just as susceptible to if I don't force myself).  Fortunately, when the ticket title is nearly appropriate I've often found myself just copy/pasting it and perhaps reformatting it slightly as a sentence.\n\nI can even update the Trac ticket workflow to require setting a changelog entry in order to move the ticket to positive_review, for example (it can also require setting Reviewer; something we should have always done).  Not every ticket requires a changelog entry.  In that case the reviewer may either fill in a special dummy value like \"none\" or \"skip\" as you suggested.  Or there can be a checkbox or label indicating that changelog can be skipped.",
    "created_at": "2018-05-15T14:10:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22176#issuecomment-331661",
    "user": "https://github.com/embray"
}
```

<a id='comment:15'></a>
Replying to [jdemeyer](#comment%3A14):
> We still need a policy about that changelog-on-Trac. I would propose the following (also for backwards compatibility):
> 
> - By default, every ticket has a changelog entry.
> 
> - If there is a changelog on Trac, use that.
> 
> - If there is no changelog on Trac, use the ticket title instead (which is what we've been doing so far for the release notes).
> 
> - We define a special reserved value for the Trac changelog (say `none`) to indicate that a ticket should not be in the changelog at all.


I think that's reasonable.  I would prefer that instead of "If there is no changelog on Trac, use the ticket title instead" that writing a changelog message is actually enforced.  The ticket title is *sometimes* useful but often not.  I fear this would lead to laziness about writing changelog entries (something I am personally just as susceptible to if I don't force myself).  Fortunately, when the ticket title is nearly appropriate I've often found myself just copy/pasting it and perhaps reformatting it slightly as a sentence.

I can even update the Trac ticket workflow to require setting a changelog entry in order to move the ticket to positive_review, for example (it can also require setting Reviewer; something we should have always done).  Not every ticket requires a changelog entry.  In that case the reviewer may either fill in a special dummy value like "none" or "skip" as you suggested.  Or there can be a checkbox or label indicating that changelog can be skipped.



---

archive/issue_comments_331662.json:
```json
{
    "body": "<a id='comment:16'></a>\nYes, I fully agree with your last comment. The main point is that \"no changelog\" should *not* be the default.",
    "created_at": "2018-05-15T14:17:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22176#issuecomment-331662",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>
Yes, I fully agree with your last comment. The main point is that "no changelog" should *not* be the default.



---

archive/issue_comments_331663.json:
```json
{
    "body": "<a id='comment:17'></a>\nWhether or not it's the default I don't have strong opinions on because I think there are arguments either way, but I'm certainly good with having it required by default.\n\nAnother thing that needs to be decided is how frequently the changelog would be updated.  On *every beta* or every final release?  Personally, I believe that between every beta is too much noise.  In my mind the intended audience of this is \"casual\" users who are not following Sage development closely.  For a list of changes between betas I think the list of included tickets that Volker already provides is sufficient.\n\nHowever, if you publish a new changelog between final releases it can sometimes become a slightly difficult question whether or not to include a changelog entry for some change.  For new features this is obvious.  But for bug fixes you really have to determine whether or not that bug affected previous releases.  The good news is that with things like Docker and Binder we can easily go back to old releases and check things like this if we're unsure.  But sometimes it does at least require checking.",
    "created_at": "2018-05-15T14:23:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22176#issuecomment-331663",
    "user": "https://github.com/embray"
}
```

<a id='comment:17'></a>
Whether or not it's the default I don't have strong opinions on because I think there are arguments either way, but I'm certainly good with having it required by default.

Another thing that needs to be decided is how frequently the changelog would be updated.  On *every beta* or every final release?  Personally, I believe that between every beta is too much noise.  In my mind the intended audience of this is "casual" users who are not following Sage development closely.  For a list of changes between betas I think the list of included tickets that Volker already provides is sufficient.

However, if you publish a new changelog between final releases it can sometimes become a slightly difficult question whether or not to include a changelog entry for some change.  For new features this is obvious.  But for bug fixes you really have to determine whether or not that bug affected previous releases.  The good news is that with things like Docker and Binder we can easily go back to old releases and check things like this if we're unsure.  But sometimes it does at least require checking.



---

archive/issue_comments_331664.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [embray](#comment%3A17):\n> Personally, I believe that between every beta is too much noise.\n\n\nOn the other hand, updating it with every beta allows \"beta-testing\" the changelog itself. Suppose that I see a typo or something unclear in the changelog of some beta, I could change the changelog entry before the final release.",
    "created_at": "2018-05-15T14:32:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22176#issuecomment-331664",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:18'></a>
Replying to [embray](#comment%3A17):
> Personally, I believe that between every beta is too much noise.


On the other hand, updating it with every beta allows "beta-testing" the changelog itself. Suppose that I see a typo or something unclear in the changelog of some beta, I could change the changelog entry before the final release.



---

archive/issue_comments_331665.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [jdemeyer](#comment%3A18):\n> Replying to [embray](#comment%3A17):\n> > Personally, I believe that between every beta is too much noise.\n\n> \n> On the other hand, updating it with every beta allows \"beta-testing\" the changelog itself. Suppose that I see a typo or something unclear in the changelog of some beta, I could change the changelog entry before the final release.\n\n\nWell, it would be good to *generate* the changelog for every beta.  I just mean it would be too much noise to add entries to the changelog for every change between beta versions (particularly bug fixes that never affected a final release).",
    "created_at": "2018-05-15T14:55:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22176#issuecomment-331665",
    "user": "https://github.com/embray"
}
```

<a id='comment:19'></a>
Replying to [jdemeyer](#comment%3A18):
> Replying to [embray](#comment%3A17):
> > Personally, I believe that between every beta is too much noise.

> 
> On the other hand, updating it with every beta allows "beta-testing" the changelog itself. Suppose that I see a typo or something unclear in the changelog of some beta, I could change the changelog entry before the final release.


Well, it would be good to *generate* the changelog for every beta.  I just mean it would be too much noise to add entries to the changelog for every change between beta versions (particularly bug fixes that never affected a final release).



---

archive/issue_comments_331666.json:
```json
{
    "body": "<a id='comment:20'></a>\nupdate milestone 8.3 -> 8.4",
    "created_at": "2018-08-03T19:20:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22176#issuecomment-331666",
    "user": "https://github.com/videlec"
}
```

<a id='comment:20'></a>
update milestone 8.3 -> 8.4



---

archive/issue_events_202004.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-08-03T19:20:18Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "milestone": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22176#event-202004"
}
```



---

archive/issue_events_202005.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2018-08-03T19:20:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22176#event-202005"
}
```



---

archive/issue_events_202006.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-09-11T02:02:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22176#event-202006"
}
```



---

archive/issue_events_202007.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-09-11T02:02:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22176#event-202007"
}
```



---

archive/issue_events_202008.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-09-11T02:02:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22176",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22176#event-202008"
}
```
