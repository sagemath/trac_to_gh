# Issue 22828: py3: rich comparison for asymptotic term monoid

archive/issues_022591.json:
```json
{
    "body": "as another step towards python3\n\nThe asymptotic/ folder needs a clean-up of its handling of comparison, for correct insertion in the coercion framework and compatibility with python3 (use of rich comparison)\n\nCC:  @cheuberg @behackl @dkrenn\n\nBranch/Commit: 69ac798f10445e8c30db25707531ef61a0aaba97\n\nReviewer: Daniel Krenn, Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton, Daniel Krenn\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/22828\n\n",
    "closed_at": "2017-05-02T22:12:36Z",
    "created_at": "2017-04-18T19:46:38Z",
    "labels": [
        "component: python3"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "py3: rich comparison for asymptotic term monoid",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22828",
    "user": "https://github.com/fchapoton"
}
```
as another step towards python3

The asymptotic/ folder needs a clean-up of its handling of comparison, for correct insertion in the coercion framework and compatibility with python3 (use of rich comparison)

CC:  @cheuberg @behackl @dkrenn

Branch/Commit: 69ac798f10445e8c30db25707531ef61a0aaba97

Reviewer: Daniel Krenn, Frédéric Chapoton

Author: Frédéric Chapoton, Daniel Krenn

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/22828





---

archive/issue_comments_426341.json:
```json
{
    "body": "Changing commit from \"\" to \"0e790b08aab3898c846faab3f29f6ce45b83df71\"",
    "created_at": "2017-04-18T19:47:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426341",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "0e790b08aab3898c846faab3f29f6ce45b83df71"



---

archive/issue_comments_426342.json:
```json
{
    "body": "<a id='comment:1'></a>work in progress\n\n---\nNew commits:",
    "created_at": "2017-04-18T19:47:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426342",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>work in progress

---
New commits:



---

archive/issue_comments_426343.json:
```json
{
    "body": "Changing branch from \"\" to \"u/chapoton/22828\"",
    "created_at": "2017-04-18T19:47:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426343",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "u/chapoton/22828"



---

archive/issue_comments_426344.json:
```json
{
    "body": "Changing commit from \"0e790b08aab3898c846faab3f29f6ce45b83df71\" to \"7497d362f39547dff48c526b17561c2836dad761\"",
    "created_at": "2017-04-19T19:09:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426344",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0e790b08aab3898c846faab3f29f6ce45b83df71" to "7497d362f39547dff48c526b17561c2836dad761"



---

archive/issue_comments_426345.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-04-19T19:09:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426345",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_426346.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-04-19T19:32:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426346",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_426347.json:
```json
{
    "body": "Changing commit from \"7497d362f39547dff48c526b17561c2836dad761\" to \"4c8c3180e1e5ab42c3d2df1a188bc14234816339\"",
    "created_at": "2017-04-19T19:32:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426347",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7497d362f39547dff48c526b17561c2836dad761" to "4c8c3180e1e5ab42c3d2df1a188bc14234816339"



---

archive/issue_comments_426348.json:
```json
{
    "body": "Changing commit from \"4c8c3180e1e5ab42c3d2df1a188bc14234816339\" to \"efd771d1245275d6a02df85d6681e8063dfc2e8e\"",
    "created_at": "2017-04-19T19:41:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426348",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4c8c3180e1e5ab42c3d2df1a188bc14234816339" to "efd771d1245275d6a02df85d6681e8063dfc2e8e"



---

archive/issue_comments_426349.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-04-19T19:41:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426349",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_426350.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n as another step towards python3\n+\n+The asymptotic/ folder needs a clean-up of its handling of comparison, for correct insertion in the coercion framework and compatibility with python3 (use of rich comparison)\n``````\n",
    "created_at": "2017-04-19T19:43:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426350",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 as another step towards python3
+
+The asymptotic/ folder needs a clean-up of its handling of comparison, for correct insertion in the coercion framework and compatibility with python3 (use of rich comparison)
``````




---

archive/issue_comments_426351.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-04-19T19:52:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426351",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_426352.json:
```json
{
    "body": "Changing commit from \"efd771d1245275d6a02df85d6681e8063dfc2e8e\" to \"366066890786c51cacdfda64edafe82bb2bd9e82\"",
    "created_at": "2017-04-19T19:52:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426352",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "efd771d1245275d6a02df85d6681e8063dfc2e8e" to "366066890786c51cacdfda64edafe82bb2bd9e82"



---

archive/issue_comments_426353.json:
```json
{
    "body": "<a id='comment:7'></a>I'll have a look at the changes in the next days.",
    "created_at": "2017-04-20T08:20:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426353",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:7'></a>I'll have a look at the changes in the next days.



---

archive/issue_comments_426354.json:
```json
{
    "body": "<a id='comment:8'></a>A quick question ahead: Why is something like\n\n```\ndef _richcmp_(self, other, op):\n    if not isinstance(other, GenericGrowthElement):\n        return op == op_NE\n```\nneeded? Shouldn't `_richcmp_` always get elements with the same parent (by the coercion model), thus elements that are already directly comparable (and the code not needed)?",
    "created_at": "2017-04-20T14:27:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426354",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:8'></a>A quick question ahead: Why is something like

```
def _richcmp_(self, other, op):
    if not isinstance(other, GenericGrowthElement):
        return op == op_NE
```
needed? Shouldn't `_richcmp_` always get elements with the same parent (by the coercion model), thus elements that are already directly comparable (and the code not needed)?



---

archive/issue_comments_426355.json:
```json
{
    "body": "Changing branch from \"u/chapoton/22828\" to \"u/dkrenn/22828\"",
    "created_at": "2017-04-21T06:16:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426355",
    "user": "https://github.com/dkrenn"
}
```

Changing branch from "u/chapoton/22828" to "u/dkrenn/22828"



---

archive/issue_comments_426356.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Daniel Krenn\"",
    "created_at": "2017-04-21T06:35:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426356",
    "user": "https://github.com/dkrenn"
}
```

Changing reviewer from "" to "Daniel Krenn"



---

archive/issue_comments_426357.json:
```json
{
    "body": "Changing commit from \"366066890786c51cacdfda64edafe82bb2bd9e82\" to \"9b2a790c5cb6ce7ef776056ecba0f31af62ad1bf\"",
    "created_at": "2017-04-21T06:35:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426357",
    "user": "https://github.com/dkrenn"
}
```

Changing commit from "366066890786c51cacdfda64edafe82bb2bd9e82" to "9b2a790c5cb6ce7ef776056ecba0f31af62ad1bf"



---

archive/issue_comments_426358.json:
```json
{
    "body": "Changing author from \"Fr\u00e9d\u00e9ric Chapoton\" to \"Fr\u00e9d\u00e9ric Chapoton, Daniel Krenn\"",
    "created_at": "2017-04-21T06:35:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426358",
    "user": "https://github.com/dkrenn"
}
```

Changing author from "Frédéric Chapoton" to "Frédéric Chapoton, Daniel Krenn"



---

archive/issue_comments_426359.json:
```json
{
    "body": "<a id='comment:10'></a>Dear Fr\u00e9d\u00e9ric, I've reviewed your changes, but see comments below this list for a possible future of this ticket:\n\n- Some doctests did not pass (see also the following comments); however, as this ticket was not set to \"needs review\", I assume that these were just not investigated yet.\n\n- asymptotics_multi...: LGTM, but see comment below this list.\n\n- growth_group.py, line 1196:\n\n```\nreturn richcmp(self._raw_element_, other._raw_element_, op)\n```\nThis does not make sense for a `GenericGrowthElement` (as there is no `<` on it defined).\n\n- growth_group.py, line 3643: The following was rewritten, but the new code is not equivalent to the old:\n\n```\n        return bool(abs(self.base) < abs(other.base)) or \\\n               bool(self.base == other.base)\n```\nvs\n\n```\n        if not isinstance(other, ExponentialGrowthElement):\n            return op == op_NE\n\n        lx = self.base\n        ly = other.base\n        if lx == ly:\n            return rich_to_bool(op, 0)\n\n        return richcmp(abs(lx), abs(ly), op)\n```\nFor example: `self.base=1`, `other.base=-1`, `op=op_LE` would incorrectly return `True`.\nI think, that this is the origin of the failing doctests.\n\n- term_monoid.py, lines 2915-2933: Maybe a matter of taste, but it looks like the code has blown up quite much (there is even some code doubling); this does not improve readability.\n\n- The patchbot reports also this:\n\n```\nFile \"src/sage/calculus/calculus.py\", line 1406, in sage.calculus.calculus.laplace\nFailed example:\n    laplace(t^n, t, s, algorithm='giac')\nExpected:\n    Traceback (most recent call last):\n    ...\n    NotImplementedError: Unable to parse Giac output: integrate(t^n*exp(-s*t),t,0,+infinity)\nGot:\n    integration(t^n*e^(-s*t), t, 0, +Infinity)\n```\nI have no glue why this is failing. I cannot imagine that this comes from the changes of this ticket. Any ideas?\n\nWhen the asymptotic expansion module was written, I had the change in comparison in my mind and tried to prepare everything for it, so that it will be easy at one point. This point seems to be now; I've partially reverted your changes and have prepared a own patch to address the issues of this ticket.\nOverall, the code now is much cleaner (compared to the original code) and I am satisified with it.\n\n- Can you please check: Is this is now still Python3 comparision-compatible? (I think so, but it is surely easier for you to tell. ;)\n\n- The main change was to introduce a kind of low-level `_richcmp_` which can be used more broadly. As a consequence only high-level `_eq_` and `_lt_` (very close to the Python 3 recommendation on how to implement comparison, but single underscores to use SageMath's convention on coercion) have to be implemented. I think this is a very convenient to implement new partial orders.\n\n- In asymptotics_multi..., I've deleted the the comparison `<`, as it is mathematically not meaningful and only needed in filtering out multiple factors in the denominator. There is now used a key, where this sorting is needed.\n \n---\nLast 10 new commits:",
    "created_at": "2017-04-21T06:35:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426359",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:10'></a>Dear Frédéric, I've reviewed your changes, but see comments below this list for a possible future of this ticket:

- Some doctests did not pass (see also the following comments); however, as this ticket was not set to "needs review", I assume that these were just not investigated yet.

- asymptotics_multi...: LGTM, but see comment below this list.

- growth_group.py, line 1196:

```
return richcmp(self._raw_element_, other._raw_element_, op)
```
This does not make sense for a `GenericGrowthElement` (as there is no `<` on it defined).

- growth_group.py, line 3643: The following was rewritten, but the new code is not equivalent to the old:

```
        return bool(abs(self.base) < abs(other.base)) or \
               bool(self.base == other.base)
```
vs

```
        if not isinstance(other, ExponentialGrowthElement):
            return op == op_NE

        lx = self.base
        ly = other.base
        if lx == ly:
            return rich_to_bool(op, 0)

        return richcmp(abs(lx), abs(ly), op)
```
For example: `self.base=1`, `other.base=-1`, `op=op_LE` would incorrectly return `True`.
I think, that this is the origin of the failing doctests.

- term_monoid.py, lines 2915-2933: Maybe a matter of taste, but it looks like the code has blown up quite much (there is even some code doubling); this does not improve readability.

- The patchbot reports also this:

```
File "src/sage/calculus/calculus.py", line 1406, in sage.calculus.calculus.laplace
Failed example:
    laplace(t^n, t, s, algorithm='giac')
Expected:
    Traceback (most recent call last):
    ...
    NotImplementedError: Unable to parse Giac output: integrate(t^n*exp(-s*t),t,0,+infinity)
Got:
    integration(t^n*e^(-s*t), t, 0, +Infinity)
```
I have no glue why this is failing. I cannot imagine that this comes from the changes of this ticket. Any ideas?

When the asymptotic expansion module was written, I had the change in comparison in my mind and tried to prepare everything for it, so that it will be easy at one point. This point seems to be now; I've partially reverted your changes and have prepared a own patch to address the issues of this ticket.
Overall, the code now is much cleaner (compared to the original code) and I am satisified with it.

- Can you please check: Is this is now still Python3 comparision-compatible? (I think so, but it is surely easier for you to tell. ;)

- The main change was to introduce a kind of low-level `_richcmp_` which can be used more broadly. As a consequence only high-level `_eq_` and `_lt_` (very close to the Python 3 recommendation on how to implement comparison, but single underscores to use SageMath's convention on coercion) have to be implemented. I think this is a very convenient to implement new partial orders.

- In asymptotics_multi..., I've deleted the the comparison `<`, as it is mathematically not meaningful and only needed in filtering out multiple factors in the denominator. There is now used a key, where this sorting is needed.
 
---
Last 10 new commits:



---

archive/issue_comments_426360.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-04-21T06:35:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426360",
    "user": "https://github.com/dkrenn"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_426361.json:
```json
{
    "body": "Changing commit from \"9b2a790c5cb6ce7ef776056ecba0f31af62ad1bf\" to \"12eb632931b23787b8dc5597e05ff5bfc91aed0c\"",
    "created_at": "2017-04-25T12:26:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426361",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9b2a790c5cb6ce7ef776056ecba0f31af62ad1bf" to "12eb632931b23787b8dc5597e05ff5bfc91aed0c"



---

archive/issue_comments_426362.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-04-25T12:26:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426362",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_426363.json:
```json
{
    "body": "<a id='comment:12'></a>Replying to [comment:11 git]:\n> Branch pushed to git repo; I updated commit sha1. New commits:\n> |                                                                                                                                           |                                         |\n> |-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|\n> |[12eb632](https://git.sagemath.org/sage.git/commit/?id=12eb632931b23787b8dc5597e05ff5bfc91aed0c)|`Trac #22828: remove meaningless doctest`|\n\n\nIs again at needs_review.",
    "created_at": "2017-04-25T12:29:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426363",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:12'></a>Replying to [comment:11 git]:
> Branch pushed to git repo; I updated commit sha1. New commits:
> |                                                                                                                                           |                                         |
> |-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|
> |[12eb632](https://git.sagemath.org/sage.git/commit/?id=12eb632931b23787b8dc5597e05ff5bfc91aed0c)|`Trac #22828: remove meaningless doctest`|


Is again at needs_review.



---

archive/issue_comments_426364.json:
```json
{
    "body": "<a id='comment:13'></a>Probably you should not care about the rubik failure, it should be a random thing.\n\nCould you please check that all tests pass in the asymptotic folder with this branch + the current branch of ticket #22297 ?",
    "created_at": "2017-04-27T15:30:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426364",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>Probably you should not care about the rubik failure, it should be a random thing.

Could you please check that all tests pass in the asymptotic folder with this branch + the current branch of ticket #22297 ?



---

archive/issue_comments_426365.json:
```json
{
    "body": "<a id='comment:14'></a>Replying to [comment:13 chapoton]:\n> Probably you should not care about the rubik failure, it should be a random thing.\n\n\nI would guess so. I just find random failing doctests not very pleasing (from a global-SageMath-point-of-view).\n\n> Could you please check that all tests pass in the asymptotic folder with this branch + the current branch of ticket #22297 ?\n\n\nTests passed.",
    "created_at": "2017-04-27T17:30:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426365",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:14'></a>Replying to [comment:13 chapoton]:
> Probably you should not care about the rubik failure, it should be a random thing.


I would guess so. I just find random failing doctests not very pleasing (from a global-SageMath-point-of-view).

> Could you please check that all tests pass in the asymptotic folder with this branch + the current branch of ticket #22297 ?


Tests passed.



---

archive/issue_comments_426366.json:
```json
{
    "body": "<a id='comment:15'></a>looks ok, but you should not do that:\n\n```\n-from __future__ import absolute_import\n```\nplease add them back (at least twice), then you can set a positive review on my behalf.",
    "created_at": "2017-04-27T20:43:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426366",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:15'></a>looks ok, but you should not do that:

```
-from __future__ import absolute_import
```
please add them back (at least twice), then you can set a positive review on my behalf.



---

archive/issue_comments_426367.json:
```json
{
    "body": "<a id='comment:16'></a>Replying to [comment:15 chapoton]:\n> looks ok, but you should not do that:\n> \n> ```\n> -from __future__ import absolute_import\n> ```\n> please add them back (at least twice), then you can set a positive review on my behalf.\n\n\nThey are just moved below the copyright notice. (I've taken this change just as it was in the original patch provided by you...)",
    "created_at": "2017-04-28T06:13:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426367",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:16'></a>Replying to [comment:15 chapoton]:
> looks ok, but you should not do that:
> 
> ```
> -from __future__ import absolute_import
> ```
> please add them back (at least twice), then you can set a positive review on my behalf.


They are just moved below the copyright notice. (I've taken this change just as it was in the original patch provided by you...)



---

archive/issue_comments_426368.json:
```json
{
    "body": "<a id='comment:17'></a>ok, indeed. sorry for the noise.\n\nThen let it be.",
    "created_at": "2017-04-28T06:33:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426368",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:17'></a>ok, indeed. sorry for the noise.

Then let it be.



---

archive/issue_comments_426369.json:
```json
{
    "body": "Changing reviewer from \"Daniel Krenn\" to \"Daniel Krenn, Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2017-04-28T06:33:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426369",
    "user": "https://github.com/fchapoton"
}
```

Changing reviewer from "Daniel Krenn" to "Daniel Krenn, Frédéric Chapoton"



---

archive/issue_comments_426370.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-04-28T06:33:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426370",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_426371.json:
```json
{
    "body": "<a id='comment:18'></a>PDF docs don't build",
    "created_at": "2017-04-29T08:56:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426371",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:18'></a>PDF docs don't build



---

archive/issue_comments_426372.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-04-29T08:56:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426372",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_426373.json:
```json
{
    "body": "<a id='comment:19'></a>Replying to [comment:18 vbraun]:\n> PDF docs don't build\n\n\nThis is not caused by this ticket. Building the Pdf (tried for reference/asymptotic) fails in a clean 8.0.beta4. Moreover, it fails already in 8.0.beta2, but seems to work in 7.6.\nWhat has changed?",
    "created_at": "2017-04-29T09:25:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426373",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:19'></a>Replying to [comment:18 vbraun]:
> PDF docs don't build


This is not caused by this ticket. Building the Pdf (tried for reference/asymptotic) fails in a clean 8.0.beta4. Moreover, it fails already in 8.0.beta2, but seems to work in 7.6.
What has changed?



---

archive/issue_comments_426374.json:
```json
{
    "body": "Changing status from needs_work to needs_info.",
    "created_at": "2017-04-29T09:25:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426374",
    "user": "https://github.com/dkrenn"
}
```

Changing status from needs_work to needs_info.



---

archive/issue_comments_426375.json:
```json
{
    "body": "<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-04-29T11:14:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426375",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_426376.json:
```json
{
    "body": "Changing commit from \"12eb632931b23787b8dc5597e05ff5bfc91aed0c\" to \"69ac798f10445e8c30db25707531ef61a0aaba97\"",
    "created_at": "2017-04-29T11:14:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426376",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "12eb632931b23787b8dc5597e05ff5bfc91aed0c" to "69ac798f10445e8c30db25707531ef61a0aaba97"



---

archive/issue_comments_426377.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2017-04-29T11:16:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426377",
    "user": "https://github.com/dkrenn"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_426378.json:
```json
{
    "body": "<a id='comment:21'></a>Replying to [comment:19 dkrenn]:\n> Replying to [comment:18 vbraun]:\n> > PDF docs don't build\n\n> \n> This is not caused by this ticket. Building the Pdf (tried for reference/asymptotic) fails in a clean 8.0.beta4. Moreover, it fails already in 8.0.beta2, but seems to work in 7.6.\n> What has changed?\n\n\nOk, as this `iftex`-issue is now not anymore on my machine, I saw the true error (it is related to this ticket, sorry for my wrong assertion above) and changed it.",
    "created_at": "2017-04-29T11:16:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426378",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:21'></a>Replying to [comment:19 dkrenn]:
> Replying to [comment:18 vbraun]:
> > PDF docs don't build

> 
> This is not caused by this ticket. Building the Pdf (tried for reference/asymptotic) fails in a clean 8.0.beta4. Moreover, it fails already in 8.0.beta2, but seems to work in 7.6.
> What has changed?


Ok, as this `iftex`-issue is now not anymore on my machine, I saw the true error (it is related to this ticket, sorry for my wrong assertion above) and changed it.



---

archive/issue_comments_426379.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-04-29T11:21:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426379",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_426380.json:
```json
{
    "body": "<a id='comment:22'></a>ok, then",
    "created_at": "2017-04-29T11:21:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426380",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:22'></a>ok, then



---

archive/issue_comments_426381.json:
```json
{
    "body": "Changing branch from \"u/dkrenn/22828\" to \"69ac798f10445e8c30db25707531ef61a0aaba97\"",
    "created_at": "2017-05-02T22:12:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426381",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/dkrenn/22828" to "69ac798f10445e8c30db25707531ef61a0aaba97"



---

archive/issue_events_059346.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-05-02T22:12:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22828#event-59346"
}
```



---

archive/issue_comments_426382.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-05-02T22:12:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22828#issuecomment-426382",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
