# Issue 22828: py3: rich comparison for asymptotic term monoid

archive/issues_022591.json:
```json
{
    "assignees": [],
    "body": "as another step towards python3\n\nThe asymptotic/ folder needs a clean-up of its handling of comparison, for correct insertion in the coercion framework and compatibility with python3 (use of rich comparison)\n\nCC:  @cheuberg @behackl @dkrenn\n\nBranch/Commit: **[69ac798](https://github.com/sagemath/sagetrac-mirror/commit/69ac798f10445e8c30db25707531ef61a0aaba97)**\n\nReviewer: **Daniel Krenn, Fr\u00e9d\u00e9ric Chapoton**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton, Daniel Krenn**\n\nComponent: **python3**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/22828_\n\n",
    "closed_at": "2017-05-02T22:12:36Z",
    "created_at": "2017-04-18T19:46:38Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20python3",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "py3: rich comparison for asymptotic term monoid",
    "type": "issue",
    "updated_at": "2017-05-02T22:12:36Z",
    "url": "https://github.com/sagemath/sage/issues/22828",
    "user": "https://github.com/fchapoton"
}
```
as another step towards python3

The asymptotic/ folder needs a clean-up of its handling of comparison, for correct insertion in the coercion framework and compatibility with python3 (use of rich comparison)

CC:  @cheuberg @behackl @dkrenn

Branch/Commit: **[69ac798](https://github.com/sagemath/sagetrac-mirror/commit/69ac798f10445e8c30db25707531ef61a0aaba97)**

Reviewer: **Daniel Krenn, Frédéric Chapoton**

Author: **Frédéric Chapoton, Daniel Krenn**

Component: **python3**

_Issue created by migration from https://trac.sagemath.org/ticket/22828_





---

archive/issue_events_318603.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-04-18T19:46:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22828#event-318603"
}
```



---

archive/issue_events_318604.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-04-18T19:46:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20python3",
    "label_color": "000080",
    "label_name": "c: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22828#event-318604"
}
```



---

archive/issue_events_318605.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-04-18T19:46:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22828#event-318605"
}
```



---

archive/issue_events_318606.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-04-18T19:46:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22828#event-318606"
}
```



---

archive/issue_comments_340412.json:
```json
{
    "body": "Commit: **[0e790b0](https://github.com/sagemath/sagetrac-mirror/commit/0e790b08aab3898c846faab3f29f6ce45b83df71)**",
    "created_at": "2017-04-18T19:47:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340412",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[0e790b0](https://github.com/sagemath/sagetrac-mirror/commit/0e790b08aab3898c846faab3f29f6ce45b83df71)**



---

archive/issue_comments_340413.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nwork in progress\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0e790b08aab3898c846faab3f29f6ce45b83df71\">0e790b0</a></td><td><code>rich comparison for asymptotic term monoid</code></td></tr></table>\n",
    "created_at": "2017-04-18T19:47:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340413",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1" align="right">comment:1</div>

work in progress

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0e790b08aab3898c846faab3f29f6ce45b83df71">0e790b0</a></td><td><code>rich comparison for asymptotic term monoid</code></td></tr></table>




---

archive/issue_comments_340414.json:
```json
{
    "body": "Branch: **[u/chapoton/22828](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/22828)**",
    "created_at": "2017-04-18T19:47:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340414",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/22828](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/22828)**



---

archive/issue_comments_340415.json:
```json
{
    "body": "Changed commit from **[0e790b0](https://github.com/sagemath/sagetrac-mirror/commit/0e790b08aab3898c846faab3f29f6ce45b83df71)** to **[7497d36](https://github.com/sagemath/sagetrac-mirror/commit/7497d362f39547dff48c526b17561c2836dad761)**",
    "created_at": "2017-04-19T19:09:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340415",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0e790b0](https://github.com/sagemath/sagetrac-mirror/commit/0e790b08aab3898c846faab3f29f6ce45b83df71)** to **[7497d36](https://github.com/sagemath/sagetrac-mirror/commit/7497d362f39547dff48c526b17561c2836dad761)**



---

archive/issue_comments_340416.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7497d362f39547dff48c526b17561c2836dad761\">7497d36</a></td><td><code>trac 22828 more work, not yet finished</code></td></tr></table>\n",
    "created_at": "2017-04-19T19:09:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340416",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7497d362f39547dff48c526b17561c2836dad761">7497d36</a></td><td><code>trac 22828 more work, not yet finished</code></td></tr></table>




---

archive/issue_comments_340417.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4c8c3180e1e5ab42c3d2df1a188bc14234816339\">4c8c318</a></td><td><code>trac 22828 even more work, not yet ok</code></td></tr></table>\n",
    "created_at": "2017-04-19T19:32:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340417",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4c8c3180e1e5ab42c3d2df1a188bc14234816339">4c8c318</a></td><td><code>trac 22828 even more work, not yet ok</code></td></tr></table>




---

archive/issue_comments_340418.json:
```json
{
    "body": "Changed commit from **[7497d36](https://github.com/sagemath/sagetrac-mirror/commit/7497d362f39547dff48c526b17561c2836dad761)** to **[4c8c318](https://github.com/sagemath/sagetrac-mirror/commit/4c8c3180e1e5ab42c3d2df1a188bc14234816339)**",
    "created_at": "2017-04-19T19:32:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340418",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7497d36](https://github.com/sagemath/sagetrac-mirror/commit/7497d362f39547dff48c526b17561c2836dad761)** to **[4c8c318](https://github.com/sagemath/sagetrac-mirror/commit/4c8c3180e1e5ab42c3d2df1a188bc14234816339)**



---

archive/issue_comments_340419.json:
```json
{
    "body": "Changed commit from **[4c8c318](https://github.com/sagemath/sagetrac-mirror/commit/4c8c3180e1e5ab42c3d2df1a188bc14234816339)** to **[efd771d](https://github.com/sagemath/sagetrac-mirror/commit/efd771d1245275d6a02df85d6681e8063dfc2e8e)**",
    "created_at": "2017-04-19T19:41:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340419",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4c8c318](https://github.com/sagemath/sagetrac-mirror/commit/4c8c3180e1e5ab42c3d2df1a188bc14234816339)** to **[efd771d](https://github.com/sagemath/sagetrac-mirror/commit/efd771d1245275d6a02df85d6681e8063dfc2e8e)**



---

archive/issue_comments_340420.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/efd771d1245275d6a02df85d6681e8063dfc2e8e\">efd771d</a></td><td><code>trac 22828 work again, not the end</code></td></tr></table>\n",
    "created_at": "2017-04-19T19:41:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340420",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/efd771d1245275d6a02df85d6681e8063dfc2e8e">efd771d</a></td><td><code>trac 22828 work again, not the end</code></td></tr></table>




---

archive/issue_comments_340421.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n as another step towards python3\n+\n+The asymptotic/ folder needs a clean-up of its handling of comparison, for correct insertion in the coercion framework and compatibility with python3 (use of rich comparison)\n``````\n",
    "created_at": "2017-04-19T19:43:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340421",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 as another step towards python3
+
+The asymptotic/ folder needs a clean-up of its handling of comparison, for correct insertion in the coercion framework and compatibility with python3 (use of rich comparison)
``````




---

archive/issue_comments_340422.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/366066890786c51cacdfda64edafe82bb2bd9e82\">3660668</a></td><td><code>trac 22828 fix imports</code></td></tr></table>\n",
    "created_at": "2017-04-19T19:52:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340422",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/366066890786c51cacdfda64edafe82bb2bd9e82">3660668</a></td><td><code>trac 22828 fix imports</code></td></tr></table>




---

archive/issue_comments_340423.json:
```json
{
    "body": "Changed commit from **[efd771d](https://github.com/sagemath/sagetrac-mirror/commit/efd771d1245275d6a02df85d6681e8063dfc2e8e)** to **[3660668](https://github.com/sagemath/sagetrac-mirror/commit/366066890786c51cacdfda64edafe82bb2bd9e82)**",
    "created_at": "2017-04-19T19:52:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340423",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[efd771d](https://github.com/sagemath/sagetrac-mirror/commit/efd771d1245275d6a02df85d6681e8063dfc2e8e)** to **[3660668](https://github.com/sagemath/sagetrac-mirror/commit/366066890786c51cacdfda64edafe82bb2bd9e82)**



---

archive/issue_comments_340424.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI'll have a look at the changes in the next days.",
    "created_at": "2017-04-20T08:20:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340424",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:7" align="right">comment:7</div>

I'll have a look at the changes in the next days.



---

archive/issue_comments_340425.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nA quick question ahead: Why is something like\n\n```\ndef _richcmp_(self, other, op):\n    if not isinstance(other, GenericGrowthElement):\n        return op == op_NE\n```\nneeded? Shouldn't `_richcmp_` always get elements with the same parent (by the coercion model), thus elements that are already directly comparable (and the code not needed)?",
    "created_at": "2017-04-20T14:27:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340425",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:8" align="right">comment:8</div>

A quick question ahead: Why is something like

```
def _richcmp_(self, other, op):
    if not isinstance(other, GenericGrowthElement):
        return op == op_NE
```
needed? Shouldn't `_richcmp_` always get elements with the same parent (by the coercion model), thus elements that are already directly comparable (and the code not needed)?



---

archive/issue_comments_340426.json:
```json
{
    "body": "Changed branch from **[u/chapoton/22828](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/22828)** to **[u/dkrenn/22828](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/22828)**",
    "created_at": "2017-04-21T06:16:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340426",
    "user": "https://github.com/dkrenn"
}
```

Changed branch from **[u/chapoton/22828](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/22828)** to **[u/dkrenn/22828](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/22828)**



---

archive/issue_comments_340427.json:
```json
{
    "body": "Reviewer: **Daniel Krenn**",
    "created_at": "2017-04-21T06:35:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340427",
    "user": "https://github.com/dkrenn"
}
```

Reviewer: **Daniel Krenn**



---

archive/issue_comments_340428.json:
```json
{
    "body": "Changed commit from **[3660668](https://github.com/sagemath/sagetrac-mirror/commit/366066890786c51cacdfda64edafe82bb2bd9e82)** to **[9b2a790](https://github.com/sagemath/sagetrac-mirror/commit/9b2a790c5cb6ce7ef776056ecba0f31af62ad1bf)**",
    "created_at": "2017-04-21T06:35:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340428",
    "user": "https://github.com/dkrenn"
}
```

Changed commit from **[3660668](https://github.com/sagemath/sagetrac-mirror/commit/366066890786c51cacdfda64edafe82bb2bd9e82)** to **[9b2a790](https://github.com/sagemath/sagetrac-mirror/commit/9b2a790c5cb6ce7ef776056ecba0f31af62ad1bf)**



---

archive/issue_comments_340429.json:
```json
{
    "body": "Changed author from **Fr\u00e9d\u00e9ric Chapoton** to **Fr\u00e9d\u00e9ric Chapoton, Daniel Krenn**",
    "created_at": "2017-04-21T06:35:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340429",
    "user": "https://github.com/dkrenn"
}
```

Changed author from **Frédéric Chapoton** to **Frédéric Chapoton, Daniel Krenn**



---

archive/issue_comments_340430.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nDear Fr\u00e9d\u00e9ric, I've reviewed your changes, but see comments below this list for a possible future of this ticket:\n\n- Some doctests did not pass (see also the following comments); however, as this ticket was not set to \"needs review\", I assume that these were just not investigated yet.\n\n- asymptotics_multi...: LGTM, but see comment below this list.\n\n- growth_group.py, line 1196:\n\n```\nreturn richcmp(self._raw_element_, other._raw_element_, op)\n```\nThis does not make sense for a `GenericGrowthElement` (as there is no `<` on it defined).\n\n- growth_group.py, line 3643: The following was rewritten, but the new code is not equivalent to the old:\n\n```\n        return bool(abs(self.base) < abs(other.base)) or \\\n               bool(self.base == other.base)\n```\nvs\n\n```\n        if not isinstance(other, ExponentialGrowthElement):\n            return op == op_NE\n\n        lx = self.base\n        ly = other.base\n        if lx == ly:\n            return rich_to_bool(op, 0)\n\n        return richcmp(abs(lx), abs(ly), op)\n```\nFor example: `self.base=1`, `other.base=-1`, `op=op_LE` would incorrectly return `True`.\nI think, that this is the origin of the failing doctests.\n\n- term_monoid.py, lines 2915-2933: Maybe a matter of taste, but it looks like the code has blown up quite much (there is even some code doubling); this does not improve readability.\n\n- The patchbot reports also this:\n\n```\nFile \"src/sage/calculus/calculus.py\", line 1406, in sage.calculus.calculus.laplace\nFailed example:\n    laplace(t^n, t, s, algorithm='giac')\nExpected:\n    Traceback (most recent call last):\n    ...\n    NotImplementedError: Unable to parse Giac output: integrate(t^n*exp(-s*t),t,0,+infinity)\nGot:\n    integration(t^n*e^(-s*t), t, 0, +Infinity)\n```\nI have no glue why this is failing. I cannot imagine that this comes from the changes of this ticket. Any ideas?\n\nWhen the asymptotic expansion module was written, I had the change in comparison in my mind and tried to prepare everything for it, so that it will be easy at one point. This point seems to be now; I've partially reverted your changes and have prepared a own patch to address the issues of this ticket.\nOverall, the code now is much cleaner (compared to the original code) and I am satisified with it.\n\n- Can you please check: Is this is now still Python3 comparision-compatible? (I think so, but it is surely easier for you to tell. ;)\n\n- The main change was to introduce a kind of low-level `_richcmp_` which can be used more broadly. As a consequence only high-level `_eq_` and `_lt_` (very close to the Python 3 recommendation on how to implement comparison, but single underscores to use SageMath's convention on coercion) have to be implemented. I think this is a very convenient to implement new partial orders.\n\n- In asymptotics_multi..., I've deleted the the comparison `<`, as it is mathematically not meaningful and only needed in filtering out multiple factors in the denominator. There is now used a key, where this sorting is needed.\n \n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a7c31092db1213987020cac7aedc66434c2f49e\">9a7c310</a></td><td><code>Revert \"trac 22828 more work, not yet finished\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/24df411ec6fb676fd79027e9889285e2edacad02\">24df411</a></td><td><code>Revert \"rich comparison for asymptotic term monoid\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d8841fbb8ac452fdd840baa26cf5cea9739ecd1e\">d8841fb</a></td><td><code>Trac #22828: richcmp via `_lt_` and _eq_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/78938a522b5abae6a2c949a6c343d5a2f1ab4b2c\">78938a5</a></td><td><code>Trac #22828: re-do and revert reverted clean-up</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b33fe1d880b3a6bbe8ad7993a5d4ae5cb6daf399\">b33fe1d</a></td><td><code>Trac #22828: rewrite to use _richcmp_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/77f9f96dc5401318cb355fcb2a7ecb9f62817b8b\">77f9f96</a></td><td><code>Trac #22828: use `_richcmp_` in asymptotics_multivariate_generating_functions and get rid of mathematically senseless __lt__</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b497604e328966539b4e18bf5298e466c0565362\">b497604</a></td><td><code>Trac #22828: test that no < comparison is possible</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ada528c89fc3c3fea04c22a910b107665f716e3\">6ada528</a></td><td><code>Trac #22828: newlines according to PEP8</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ee6f0b30d9c67a8f423db31bbf47e923b81bac4\">1ee6f0b</a></td><td><code>Trac #22828: update docs of _total_order_key_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b2a790c5cb6ce7ef776056ecba0f31af62ad1bf\">9b2a790</a></td><td><code>Trac #22828: write docs and doctests for richcmp_by_eq_and_lt</code></td></tr></table>\n",
    "created_at": "2017-04-21T06:35:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340430",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:10" align="right">comment:10</div>

Dear Frédéric, I've reviewed your changes, but see comments below this list for a possible future of this ticket:

- Some doctests did not pass (see also the following comments); however, as this ticket was not set to "needs review", I assume that these were just not investigated yet.

- asymptotics_multi...: LGTM, but see comment below this list.

- growth_group.py, line 1196:

```
return richcmp(self._raw_element_, other._raw_element_, op)
```
This does not make sense for a `GenericGrowthElement` (as there is no `<` on it defined).

- growth_group.py, line 3643: The following was rewritten, but the new code is not equivalent to the old:

```
        return bool(abs(self.base) < abs(other.base)) or \
               bool(self.base == other.base)
```
vs

```
        if not isinstance(other, ExponentialGrowthElement):
            return op == op_NE

        lx = self.base
        ly = other.base
        if lx == ly:
            return rich_to_bool(op, 0)

        return richcmp(abs(lx), abs(ly), op)
```
For example: `self.base=1`, `other.base=-1`, `op=op_LE` would incorrectly return `True`.
I think, that this is the origin of the failing doctests.

- term_monoid.py, lines 2915-2933: Maybe a matter of taste, but it looks like the code has blown up quite much (there is even some code doubling); this does not improve readability.

- The patchbot reports also this:

```
File "src/sage/calculus/calculus.py", line 1406, in sage.calculus.calculus.laplace
Failed example:
    laplace(t^n, t, s, algorithm='giac')
Expected:
    Traceback (most recent call last):
    ...
    NotImplementedError: Unable to parse Giac output: integrate(t^n*exp(-s*t),t,0,+infinity)
Got:
    integration(t^n*e^(-s*t), t, 0, +Infinity)
```
I have no glue why this is failing. I cannot imagine that this comes from the changes of this ticket. Any ideas?

When the asymptotic expansion module was written, I had the change in comparison in my mind and tried to prepare everything for it, so that it will be easy at one point. This point seems to be now; I've partially reverted your changes and have prepared a own patch to address the issues of this ticket.
Overall, the code now is much cleaner (compared to the original code) and I am satisified with it.

- Can you please check: Is this is now still Python3 comparision-compatible? (I think so, but it is surely easier for you to tell. ;)

- The main change was to introduce a kind of low-level `_richcmp_` which can be used more broadly. As a consequence only high-level `_eq_` and `_lt_` (very close to the Python 3 recommendation on how to implement comparison, but single underscores to use SageMath's convention on coercion) have to be implemented. I think this is a very convenient to implement new partial orders.

- In asymptotics_multi..., I've deleted the the comparison `<`, as it is mathematically not meaningful and only needed in filtering out multiple factors in the denominator. There is now used a key, where this sorting is needed.
 
---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a7c31092db1213987020cac7aedc66434c2f49e">9a7c310</a></td><td><code>Revert "trac 22828 more work, not yet finished"</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/24df411ec6fb676fd79027e9889285e2edacad02">24df411</a></td><td><code>Revert "rich comparison for asymptotic term monoid"</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d8841fbb8ac452fdd840baa26cf5cea9739ecd1e">d8841fb</a></td><td><code>Trac #22828: richcmp via `_lt_` and _eq_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/78938a522b5abae6a2c949a6c343d5a2f1ab4b2c">78938a5</a></td><td><code>Trac #22828: re-do and revert reverted clean-up</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b33fe1d880b3a6bbe8ad7993a5d4ae5cb6daf399">b33fe1d</a></td><td><code>Trac #22828: rewrite to use _richcmp_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/77f9f96dc5401318cb355fcb2a7ecb9f62817b8b">77f9f96</a></td><td><code>Trac #22828: use `_richcmp_` in asymptotics_multivariate_generating_functions and get rid of mathematically senseless __lt__</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b497604e328966539b4e18bf5298e466c0565362">b497604</a></td><td><code>Trac #22828: test that no < comparison is possible</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ada528c89fc3c3fea04c22a910b107665f716e3">6ada528</a></td><td><code>Trac #22828: newlines according to PEP8</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ee6f0b30d9c67a8f423db31bbf47e923b81bac4">1ee6f0b</a></td><td><code>Trac #22828: update docs of _total_order_key_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b2a790c5cb6ce7ef776056ecba0f31af62ad1bf">9b2a790</a></td><td><code>Trac #22828: write docs and doctests for richcmp_by_eq_and_lt</code></td></tr></table>




---

archive/issue_events_318607.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2017-04-21T06:35:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22828#event-318607"
}
```



---

archive/issue_comments_340431.json:
```json
{
    "body": "Changed commit from **[9b2a790](https://github.com/sagemath/sagetrac-mirror/commit/9b2a790c5cb6ce7ef776056ecba0f31af62ad1bf)** to **[12eb632](https://github.com/sagemath/sagetrac-mirror/commit/12eb632931b23787b8dc5597e05ff5bfc91aed0c)**",
    "created_at": "2017-04-25T12:26:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340431",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9b2a790](https://github.com/sagemath/sagetrac-mirror/commit/9b2a790c5cb6ce7ef776056ecba0f31af62ad1bf)** to **[12eb632](https://github.com/sagemath/sagetrac-mirror/commit/12eb632931b23787b8dc5597e05ff5bfc91aed0c)**



---

archive/issue_comments_340432.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12eb632931b23787b8dc5597e05ff5bfc91aed0c\">12eb632</a></td><td><code>Trac #22828: remove meaningless doctest</code></td></tr></table>\n",
    "created_at": "2017-04-25T12:26:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340432",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12eb632931b23787b8dc5597e05ff5bfc91aed0c">12eb632</a></td><td><code>Trac #22828: remove meaningless doctest</code></td></tr></table>




---

archive/issue_comments_340433.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@sagetrac-git](#comment:11):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12eb632931b23787b8dc5597e05ff5bfc91aed0c\">12eb632</a></td><td><code>Trac #22828: remove meaningless doctest</code></td></tr></table>\n\nIs again at needs_review.",
    "created_at": "2017-04-25T12:29:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340433",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@sagetrac-git](#comment:11):
> Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12eb632931b23787b8dc5597e05ff5bfc91aed0c">12eb632</a></td><td><code>Trac #22828: remove meaningless doctest</code></td></tr></table>

Is again at needs_review.



---

archive/issue_comments_340434.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nProbably you should not care about the rubik failure, it should be a random thing.\n\nCould you please check that all tests pass in the asymptotic folder with this branch + the current branch of ticket #22297 ?",
    "created_at": "2017-04-27T15:30:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340434",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:13" align="right">comment:13</div>

Probably you should not care about the rubik failure, it should be a random thing.

Could you please check that all tests pass in the asymptotic folder with this branch + the current branch of ticket #22297 ?



---

archive/issue_comments_340435.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@fchapoton](#comment:13):\n> Probably you should not care about the rubik failure, it should be a random thing.\n\nI would guess so. I just find random failing doctests not very pleasing (from a global-SageMath-point-of-view).\n\n> Could you please check that all tests pass in the asymptotic folder with this branch + the current branch of ticket #22297 ?\n\nTests passed.",
    "created_at": "2017-04-27T17:30:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340435",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@fchapoton](#comment:13):
> Probably you should not care about the rubik failure, it should be a random thing.

I would guess so. I just find random failing doctests not very pleasing (from a global-SageMath-point-of-view).

> Could you please check that all tests pass in the asymptotic folder with this branch + the current branch of ticket #22297 ?

Tests passed.



---

archive/issue_comments_340436.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nlooks ok, but you should not do that:\n\n```\n-from __future__ import absolute_import\n```\nplease add them back (at least twice), then you can set a positive review on my behalf.",
    "created_at": "2017-04-27T20:43:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340436",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:15" align="right">comment:15</div>

looks ok, but you should not do that:

```
-from __future__ import absolute_import
```
please add them back (at least twice), then you can set a positive review on my behalf.



---

archive/issue_comments_340437.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@fchapoton](#comment:15):\n> looks ok, but you should not do that:\n> \n> ```\n> -from __future__ import absolute_import\n> ```\n> please add them back (at least twice), then you can set a positive review on my behalf.\n\nThey are just moved below the copyright notice. (I've taken this change just as it was in the original patch provided by you...)",
    "created_at": "2017-04-28T06:13:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340437",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@fchapoton](#comment:15):
> looks ok, but you should not do that:
> 
> ```
> -from __future__ import absolute_import
> ```
> please add them back (at least twice), then you can set a positive review on my behalf.

They are just moved below the copyright notice. (I've taken this change just as it was in the original patch provided by you...)



---

archive/issue_comments_340438.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nok, indeed. sorry for the noise.\n\nThen let it be.",
    "created_at": "2017-04-28T06:33:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340438",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:17" align="right">comment:17</div>

ok, indeed. sorry for the noise.

Then let it be.



---

archive/issue_comments_340439.json:
```json
{
    "body": "Changed reviewer from **Daniel Krenn** to **Daniel Krenn, Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2017-04-28T06:33:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340439",
    "user": "https://github.com/fchapoton"
}
```

Changed reviewer from **Daniel Krenn** to **Daniel Krenn, Frédéric Chapoton**



---

archive/issue_events_318608.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-04-28T06:33:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22828#event-318608"
}
```



---

archive/issue_events_318609.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-04-28T06:33:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22828#event-318609"
}
```



---

archive/issue_comments_340440.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nPDF docs don't build",
    "created_at": "2017-04-29T08:56:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340440",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:18" align="right">comment:18</div>

PDF docs don't build



---

archive/issue_events_318610.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-04-29T08:56:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22828#event-318610"
}
```



---

archive/issue_events_318611.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-04-29T08:56:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22828#event-318611"
}
```



---

archive/issue_comments_340441.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@vbraun](#comment:18):\n> PDF docs don't build\n\nThis is not caused by this ticket. Building the Pdf (tried for reference/asymptotic) fails in a clean 8.0.beta4. Moreover, it fails already in 8.0.beta2, but seems to work in 7.6.\nWhat has changed?",
    "created_at": "2017-04-29T09:25:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340441",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@vbraun](#comment:18):
> PDF docs don't build

This is not caused by this ticket. Building the Pdf (tried for reference/asymptotic) fails in a clean 8.0.beta4. Moreover, it fails already in 8.0.beta2, but seems to work in 7.6.
What has changed?



---

archive/issue_events_318612.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2017-04-29T09:25:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22828#event-318612"
}
```



---

archive/issue_events_318613.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2017-04-29T09:25:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22828#event-318613"
}
```



---

archive/issue_comments_340442.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bb711ebf03261b90faac2ae6d7446d8d68b7b137\">bb711eb</a></td><td><code>Merge tag '8.0.beta4' into t/22828/22828</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/69ac798f10445e8c30db25707531ef61a0aaba97\">69ac798</a></td><td><code>Trac #22828: correct quotes: `...` by ``...`</code></td></tr></table>\n",
    "created_at": "2017-04-29T11:14:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340442",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bb711ebf03261b90faac2ae6d7446d8d68b7b137">bb711eb</a></td><td><code>Merge tag '8.0.beta4' into t/22828/22828</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/69ac798f10445e8c30db25707531ef61a0aaba97">69ac798</a></td><td><code>Trac #22828: correct quotes: `...` by ``...`</code></td></tr></table>




---

archive/issue_comments_340443.json:
```json
{
    "body": "Changed commit from **[12eb632](https://github.com/sagemath/sagetrac-mirror/commit/12eb632931b23787b8dc5597e05ff5bfc91aed0c)** to **[69ac798](https://github.com/sagemath/sagetrac-mirror/commit/69ac798f10445e8c30db25707531ef61a0aaba97)**",
    "created_at": "2017-04-29T11:14:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340443",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[12eb632](https://github.com/sagemath/sagetrac-mirror/commit/12eb632931b23787b8dc5597e05ff5bfc91aed0c)** to **[69ac798](https://github.com/sagemath/sagetrac-mirror/commit/69ac798f10445e8c30db25707531ef61a0aaba97)**



---

archive/issue_events_318614.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2017-04-29T11:16:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22828#event-318614"
}
```



---

archive/issue_events_318615.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2017-04-29T11:16:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22828#event-318615"
}
```



---

archive/issue_comments_340444.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@dkrenn](#comment:19):\n> Replying to [@vbraun](#comment:18):\n> > PDF docs don't build\n\n> \n> This is not caused by this ticket. Building the Pdf (tried for reference/asymptotic) fails in a clean 8.0.beta4. Moreover, it fails already in 8.0.beta2, but seems to work in 7.6.\n> What has changed?\n\nOk, as this `iftex`-issue is now not anymore on my machine, I saw the true error (it is related to this ticket, sorry for my wrong assertion above) and changed it.",
    "created_at": "2017-04-29T11:16:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340444",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@dkrenn](#comment:19):
> Replying to [@vbraun](#comment:18):
> > PDF docs don't build

> 
> This is not caused by this ticket. Building the Pdf (tried for reference/asymptotic) fails in a clean 8.0.beta4. Moreover, it fails already in 8.0.beta2, but seems to work in 7.6.
> What has changed?

Ok, as this `iftex`-issue is now not anymore on my machine, I saw the true error (it is related to this ticket, sorry for my wrong assertion above) and changed it.



---

archive/issue_events_318616.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-04-29T11:21:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22828#event-318616"
}
```



---

archive/issue_events_318617.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-04-29T11:21:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22828#event-318617"
}
```



---

archive/issue_comments_340445.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nok, then",
    "created_at": "2017-04-29T11:21:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340445",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:22" align="right">comment:22</div>

ok, then



---

archive/issue_comments_340446.json:
```json
{
    "body": "Changed branch from **[u/dkrenn/22828](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/22828)** to **[69ac798](https://github.com/sagemath/sagetrac-mirror/commit/69ac798f10445e8c30db25707531ef61a0aaba97)**",
    "created_at": "2017-05-02T22:12:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22828#issuecomment-340446",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/dkrenn/22828](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/22828)** to **[69ac798](https://github.com/sagemath/sagetrac-mirror/commit/69ac798f10445e8c30db25707531ef61a0aaba97)**



---

archive/issue_events_318618.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-05-02T22:12:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22828#event-318618"
}
```



---

archive/issue_events_318619.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "ad9cf6ab2e51ef33e44abd7f39a3ebaca24a29ec",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-05-02T22:12:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/22828",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22828#event-318619"
}
```
