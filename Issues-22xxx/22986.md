# Issue 22986: Refactor SBox code (move from crypto.mq to crypto)

archive/issues_022749.json:
```json
{
    "assignees": [
        "https://github.com/pfasante"
    ],
    "body": "As discussed in the google groups (https://groups.google.com/forum/#!topic/sage-devel/9389hm5VbBQ) and in issue 20336 ([#20336 comment:10](https://github.com/sagemath/sage/issues/20336#comment:10)), the code for SBoxes should be moved out of crypto.mq (because it is now much more generell than the code under mq).\n\nKeywords: **sbox, crypto**\n\nBranch/Commit: **[`f3e3c8b`](https://github.com/sagemath/sagetrac-mirror/commit/f3e3c8bd016f2c03bd852ad8ec2d6dc6df99290e)**\n\nReviewer: **Martin Albrecht, Travis Scrimshaw**\n\nAuthor: **Friedrich Wiemer**\n\nComponent: **cryptography**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/22986_\n\n",
    "closed_at": "2017-06-15T16:45:35Z",
    "created_at": "2017-05-12T07:55:39Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20cryptography",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Refactor SBox code (move from crypto.mq to crypto)",
    "type": "issue",
    "updated_at": "2017-06-15T16:45:35Z",
    "url": "https://github.com/sagemath/sage/issues/22986",
    "user": "https://github.com/pfasante"
}
```
As discussed in the google groups (https://groups.google.com/forum/#!topic/sage-devel/9389hm5VbBQ) and in issue 20336 ([#20336 comment:10](https://github.com/sagemath/sage/issues/20336#comment:10)), the code for SBoxes should be moved out of crypto.mq (because it is now much more generell than the code under mq).

Keywords: **sbox, crypto**

Branch/Commit: **[`f3e3c8b`](https://github.com/sagemath/sagetrac-mirror/commit/f3e3c8bd016f2c03bd852ad8ec2d6dc6df99290e)**

Reviewer: **Martin Albrecht, Travis Scrimshaw**

Author: **Friedrich Wiemer**

Component: **cryptography**

_Issue created by migration from https://trac.sagemath.org/ticket/22986_





---

archive/issue_events_320606.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2017-05-12T07:55:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22986#event-320606"
}
```



---

archive/issue_events_320607.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2017-05-12T07:55:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22986#event-320607"
}
```



---

archive/issue_events_320608.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2017-05-12T07:56:54Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "subject": "https://github.com/pfasante",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22986#event-320608"
}
```



---

archive/issue_comments_343698.json:
```json
{
    "body": "Changed keywords from none to **sbox**",
    "created_at": "2017-05-12T07:56:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343698",
    "user": "https://github.com/pfasante"
}
```

Changed keywords from none to **sbox**



---

archive/issue_comments_343699.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+As discussed in the google groups (https://groups.google.com/forum/#!topic/sage-devel/9389hm5VbBQ) and in issue 20336 ([#20336 comment:10](https://github.com/sagemath/sage/issues/20336#comment:10)), the code for SBoxes should be moved out of crypto.mq (because it is now much more generell than the code under mq).\n``````\n",
    "created_at": "2017-05-12T07:56:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343699",
    "user": "https://github.com/pfasante"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+As discussed in the google groups (https://groups.google.com/forum/#!topic/sage-devel/9389hm5VbBQ) and in issue 20336 ([#20336 comment:10](https://github.com/sagemath/sage/issues/20336#comment:10)), the code for SBoxes should be moved out of crypto.mq (because it is now much more generell than the code under mq).
``````




---

archive/issue_comments_343700.json:
```json
{
    "body": "Author: **Friedrich Wiemer**",
    "created_at": "2017-05-12T07:56:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343700",
    "user": "https://github.com/pfasante"
}
```

Author: **Friedrich Wiemer**



---

archive/issue_comments_343701.json:
```json
{
    "body": "Changed keywords from **sbox** to **sbox, crypto**",
    "created_at": "2017-05-12T07:57:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343701",
    "user": "https://github.com/pfasante"
}
```

Changed keywords from **sbox** to **sbox, crypto**



---

archive/issue_events_320609.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2017-05-12T07:57:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22986#event-320609"
}
```



---

archive/issue_events_320610.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2017-05-12T07:57:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20cryptography",
    "label_color": "0000ff",
    "label_name": "c: cryptography",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22986#event-320610"
}
```



---

archive/issue_comments_343702.json:
```json
{
    "body": "Branch: **[u/asante/refactor_sbox_code__move_from_crypto_mq_to_crypto_](https://github.com/sagemath/sagetrac-mirror/tree/u/asante/refactor_sbox_code__move_from_crypto_mq_to_crypto_)**",
    "created_at": "2017-05-12T09:15:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343702",
    "user": "https://github.com/pfasante"
}
```

Branch: **[u/asante/refactor_sbox_code__move_from_crypto_mq_to_crypto_](https://github.com/sagemath/sagetrac-mirror/tree/u/asante/refactor_sbox_code__move_from_crypto_mq_to_crypto_)**



---

archive/issue_comments_343703.json:
```json
{
    "body": "Commit: **[`4f4fc59`](https://github.com/sagemath/sagetrac-mirror/commit/4f4fc59ec9d10cac01fab8cd9c3ad0927c3700bd)**",
    "created_at": "2017-05-12T09:16:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343703",
    "user": "https://github.com/pfasante"
}
```

Commit: **[`4f4fc59`](https://github.com/sagemath/sagetrac-mirror/commit/4f4fc59ec9d10cac01fab8cd9c3ad0927c3700bd)**



---

archive/issue_events_320611.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2017-05-12T09:16:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22986#event-320611"
}
```



---

archive/issue_comments_343704.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/041409e30f576a4ed1e9b78522ea9d66723e7bfb\">041409e</a></td><td><code>refactored SBox code by moving to crypto package</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4f4fc59ec9d10cac01fab8cd9c3ad0927c3700bd\">4f4fc59</a></td><td><code>updated documentation on SBoxes to reflect new path</code></td></tr></table>\n",
    "created_at": "2017-05-12T09:16:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343704",
    "user": "https://github.com/pfasante"
}
```

<div id="comment:4"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/041409e30f576a4ed1e9b78522ea9d66723e7bfb">041409e</a></td><td><code>refactored SBox code by moving to crypto package</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4f4fc59ec9d10cac01fab8cd9c3ad0927c3700bd">4f4fc59</a></td><td><code>updated documentation on SBoxes to reflect new path</code></td></tr></table>




---

archive/issue_comments_343705.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nLooks good, except for two caveats:\n- This adds `SBox` to the global namespace. I'm not sure this will be widely appreciated so I'd ask on [sage-devel] if there are any objects. Apologies if I simply missed this having been done already.\n- Why `import all` in `__init__.py`?",
    "created_at": "2017-05-29T12:26:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343705",
    "user": "https://github.com/malb"
}
```

<div id="comment:5" align="right">comment:5</div>

Looks good, except for two caveats:
- This adds `SBox` to the global namespace. I'm not sure this will be widely appreciated so I'd ask on [sage-devel] if there are any objects. Apologies if I simply missed this having been done already.
- Why `import all` in `__init__.py`?



---

archive/issue_comments_343706.json:
```json
{
    "body": "Reviewer: **Martin Albrecht**",
    "created_at": "2017-05-29T12:26:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343706",
    "user": "https://github.com/malb"
}
```

Reviewer: **Martin Albrecht**



---

archive/issue_comments_343707.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nRegarding the `import all`: I was following this part of the docu [files-and-directory-structure](http://doc.sagemath.org/html/en/developer/coding_basics.html#files-and-directory-structure), in particular:\n\n    If you want to create a new directory in the Sage library SAGE_ROOT/src/sage (say, measure_theory), that directory should contain a file __init__.py that contains the single line import all in addition to whatever files you want to add (say, borel_measure.py and banach_tarski.py), and also a file all.py listing imports from that directory that are important enough to be in the Sage\u2019s global namespace at startup. The file all.py might look like this:\n\nBut as the docu also says something about `lazy_import`, which is not used here, I'm confused, whats the correct way to do here.",
    "created_at": "2017-05-29T12:36:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343707",
    "user": "https://github.com/pfasante"
}
```

<div id="comment:6" align="right">comment:6</div>

Regarding the `import all`: I was following this part of the docu [files-and-directory-structure](http://doc.sagemath.org/html/en/developer/coding_basics.html#files-and-directory-structure), in particular:

    If you want to create a new directory in the Sage library SAGE_ROOT/src/sage (say, measure_theory), that directory should contain a file __init__.py that contains the single line import all in addition to whatever files you want to add (say, borel_measure.py and banach_tarski.py), and also a file all.py listing imports from that directory that are important enough to be in the Sageâ€™s global namespace at startup. The file all.py might look like this:

But as the docu also says something about `lazy_import`, which is not used here, I'm confused, whats the correct way to do here.



---

archive/issue_comments_343708.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nMakes sense, thanks",
    "created_at": "2017-05-30T12:07:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343708",
    "user": "https://github.com/malb"
}
```

<div id="comment:7" align="right">comment:7</div>

Makes sense, thanks



---

archive/issue_comments_343709.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nIMHO, it should not get into the global namespace.\n\nperhaps for all crypto things a `crypto` catalog should be itroduced, and this can go there then.\n\nI also would suggest that it is lazy_import'ed, too.",
    "created_at": "2017-05-31T19:07:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343709",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:8" align="right">comment:8</div>

IMHO, it should not get into the global namespace.

perhaps for all crypto things a `crypto` catalog should be itroduced, and this can go there then.

I also would suggest that it is lazy_import'ed, too.



---

archive/issue_comments_343710.json:
```json
{
    "body": "Changed commit from **[`4f4fc59`](https://github.com/sagemath/sagetrac-mirror/commit/4f4fc59ec9d10cac01fab8cd9c3ad0927c3700bd)** to **[`b6fc04a`](https://github.com/sagemath/sagetrac-mirror/commit/b6fc04a0259f872c896475b00d27c29a1af6cee5)**",
    "created_at": "2017-05-31T22:10:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343710",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4f4fc59`](https://github.com/sagemath/sagetrac-mirror/commit/4f4fc59ec9d10cac01fab8cd9c3ad0927c3700bd)** to **[`b6fc04a`](https://github.com/sagemath/sagetrac-mirror/commit/b6fc04a0259f872c896475b00d27c29a1af6cee5)**



---

archive/issue_comments_343711.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b6fc04a0259f872c896475b00d27c29a1af6cee5\">b6fc04a</a></td><td><code>removed SBox from sage.crypto.all and use lazy imports</code></td></tr></table>\n",
    "created_at": "2017-05-31T22:10:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343711",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b6fc04a0259f872c896475b00d27c29a1af6cee5">b6fc04a</a></td><td><code>removed SBox from sage.crypto.all and use lazy imports</code></td></tr></table>




---

archive/issue_events_320612.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-06-08T05:09:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22986#event-320612"
}
```



---

archive/issue_events_320613.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-06-08T05:09:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22986#event-320613"
}
```



---

archive/issue_comments_343712.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nNeeds a rebase on the latest `develop`.",
    "created_at": "2017-06-08T05:09:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343712",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:10" align="right">comment:10</div>

Needs a rebase on the latest `develop`.



---

archive/issue_comments_343713.json:
```json
{
    "body": "Changed commit from **[`b6fc04a`](https://github.com/sagemath/sagetrac-mirror/commit/b6fc04a0259f872c896475b00d27c29a1af6cee5)** to **[`e42b860`](https://github.com/sagemath/sagetrac-mirror/commit/e42b8600054fcbfc725a6177cf26f3666969bf69)**",
    "created_at": "2017-06-08T06:25:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343713",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b6fc04a`](https://github.com/sagemath/sagetrac-mirror/commit/b6fc04a0259f872c896475b00d27c29a1af6cee5)** to **[`e42b860`](https://github.com/sagemath/sagetrac-mirror/commit/e42b8600054fcbfc725a6177cf26f3666969bf69)**



---

archive/issue_comments_343714.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e42b8600054fcbfc725a6177cf26f3666969bf69\">e42b860</a></td><td><code>Merge branch 'develop' into t/22986/refactor_sbox_code__move_from_crypto_mq_to_crypto_</code></td></tr></table>\n",
    "created_at": "2017-06-08T06:25:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343714",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e42b8600054fcbfc725a6177cf26f3666969bf69">e42b860</a></td><td><code>Merge branch 'develop' into t/22986/refactor_sbox_code__move_from_crypto_mq_to_crypto_</code></td></tr></table>




---

archive/issue_comments_343715.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nMerged `develop` branch",
    "created_at": "2017-06-08T06:33:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343715",
    "user": "https://github.com/pfasante"
}
```

<div id="comment:12" align="right">comment:12</div>

Merged `develop` branch



---

archive/issue_events_320614.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2017-06-08T06:33:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22986#event-320614"
}
```



---

archive/issue_events_320615.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2017-06-08T06:33:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22986#event-320615"
}
```



---

archive/issue_comments_343716.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nIn general, we do not do imports in `__init__.py`; mostly they are blank files that are Python boilerplate (at least with how we use them). I believe this has no effect.\n\nAlthough AFAIK, your changes do not make anything worse for the global namespace, but having the lazy imports are good for startup time. You can do multiple imports by, e.g.,\n\n```\nlazy_import('sage.crypto.classical', ['AffineCryptosystem', 'HillCryptosystem'])\n```\nOnce that is changed (as I think it is cleaner code), then I am willing to set a positive review.",
    "created_at": "2017-06-08T08:43:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343716",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:13" align="right">comment:13</div>

In general, we do not do imports in `__init__.py`; mostly they are blank files that are Python boilerplate (at least with how we use them). I believe this has no effect.

Although AFAIK, your changes do not make anything worse for the global namespace, but having the lazy imports are good for startup time. You can do multiple imports by, e.g.,

```
lazy_import('sage.crypto.classical', ['AffineCryptosystem', 'HillCryptosystem'])
```
Once that is changed (as I think it is cleaner code), then I am willing to set a positive review.



---

archive/issue_comments_343717.json:
```json
{
    "body": "Changed commit from **[`e42b860`](https://github.com/sagemath/sagetrac-mirror/commit/e42b8600054fcbfc725a6177cf26f3666969bf69)** to **[`87ea9ff`](https://github.com/sagemath/sagetrac-mirror/commit/87ea9ff1253bac8c7bd11e7a7c6f33e141bf7882)**",
    "created_at": "2017-06-08T09:13:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343717",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e42b860`](https://github.com/sagemath/sagetrac-mirror/commit/e42b8600054fcbfc725a6177cf26f3666969bf69)** to **[`87ea9ff`](https://github.com/sagemath/sagetrac-mirror/commit/87ea9ff1253bac8c7bd11e7a7c6f33e141bf7882)**



---

archive/issue_comments_343718.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/87ea9ff1253bac8c7bd11e7a7c6f33e141bf7882\">87ea9ff</a></td><td><code>changed absolute imports to lazy imports</code></td></tr></table>\n",
    "created_at": "2017-06-08T09:13:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343718",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/87ea9ff1253bac8c7bd11e7a7c6f33e141bf7882">87ea9ff</a></td><td><code>changed absolute imports to lazy imports</code></td></tr></table>




---

archive/issue_comments_343719.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\ntscrim: I changed the imports accordingly.\nRegarding the `__init__.py`, this means there should also be no `import all`? IDK how this global namespace is generated and if this import is necessary for this. If you vote for removing the crypto stuff from the global namespace or this is not needed for this, I can also remove these imports.",
    "created_at": "2017-06-08T09:16:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343719",
    "user": "https://github.com/pfasante"
}
```

<div id="comment:15" align="right">comment:15</div>

tscrim: I changed the imports accordingly.
Regarding the `__init__.py`, this means there should also be no `import all`? IDK how this global namespace is generated and if this import is necessary for this. If you vote for removing the crypto stuff from the global namespace or this is not needed for this, I can also remove these imports.



---

archive/issue_events_320616.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-06-08T11:33:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22986#event-320616"
}
```



---

archive/issue_events_320617.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-06-08T11:33:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22986#event-320617"
}
```



---

archive/issue_comments_343720.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nJust commenting on this aspect: the `import all` in `__init__.py` should not be needed. I consider it a regression.",
    "created_at": "2017-06-08T11:33:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343720",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

Just commenting on this aspect: the `import all` in `__init__.py` should not be needed. I consider it a regression.



---

archive/issue_comments_343721.json:
```json
{
    "body": "Changed commit from **[`87ea9ff`](https://github.com/sagemath/sagetrac-mirror/commit/87ea9ff1253bac8c7bd11e7a7c6f33e141bf7882)** to **[`66caf7f`](https://github.com/sagemath/sagetrac-mirror/commit/66caf7f89d244e7f6253b05e3c484deb38230461)**",
    "created_at": "2017-06-08T11:36:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343721",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`87ea9ff`](https://github.com/sagemath/sagetrac-mirror/commit/87ea9ff1253bac8c7bd11e7a7c6f33e141bf7882)** to **[`66caf7f`](https://github.com/sagemath/sagetrac-mirror/commit/66caf7f89d244e7f6253b05e3c484deb38230461)**



---

archive/issue_comments_343722.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/66caf7f89d244e7f6253b05e3c484deb38230461\">66caf7f</a></td><td><code>remove  from __init__.py</code></td></tr></table>\n",
    "created_at": "2017-06-08T11:36:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343722",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/66caf7f89d244e7f6253b05e3c484deb38230461">66caf7f</a></td><td><code>remove  from __init__.py</code></td></tr></table>




---

archive/issue_comments_343723.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nRemoved `import all` from all `__init__.py`'s",
    "created_at": "2017-06-08T11:38:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343723",
    "user": "https://github.com/pfasante"
}
```

<div id="comment:18" align="right">comment:18</div>

Removed `import all` from all `__init__.py`'s



---

archive/issue_events_320618.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2017-06-08T11:38:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22986#event-320618"
}
```



---

archive/issue_events_320619.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2017-06-08T11:38:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22986#event-320619"
}
```



---

archive/issue_comments_343724.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI would say removing things from the global namespace is a more serious issue that deserves its own ticket as you have to deal with deprecations and creating the catalog (or whatever approach we end up doing, but a catalog seems natural to me). So now that you've taken care of the `__init__`, positive review.",
    "created_at": "2017-06-08T12:47:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343724",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:19" align="right">comment:19</div>

I would say removing things from the global namespace is a more serious issue that deserves its own ticket as you have to deal with deprecations and creating the catalog (or whatever approach we end up doing, but a catalog seems natural to me). So now that you've taken care of the `__init__`, positive review.



---

archive/issue_comments_343725.json:
```json
{
    "body": "Changed reviewer from **Martin Albrecht** to **Martin Albrecht, Travis Scrimshaw**",
    "created_at": "2017-06-08T12:47:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343725",
    "user": "https://github.com/tscrim"
}
```

Changed reviewer from **Martin Albrecht** to **Martin Albrecht, Travis Scrimshaw**



---

archive/issue_events_320620.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-06-08T12:47:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22986#event-320620"
}
```



---

archive/issue_events_320621.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-06-08T12:47:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22986#event-320621"
}
```



---

archive/issue_comments_343726.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nTests fail",
    "created_at": "2017-06-09T22:05:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343726",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:20" align="right">comment:20</div>

Tests fail



---

archive/issue_events_320622.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-06-09T22:05:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22986#event-320622"
}
```



---

archive/issue_events_320623.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-06-09T22:05:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22986#event-320623"
}
```



---

archive/issue_comments_343727.json:
```json
{
    "body": "Changed commit from **[`66caf7f`](https://github.com/sagemath/sagetrac-mirror/commit/66caf7f89d244e7f6253b05e3c484deb38230461)** to **[`1e0f09a`](https://github.com/sagemath/sagetrac-mirror/commit/1e0f09a3b131f4840cad36257ad70736961060a5)**",
    "created_at": "2017-06-11T23:01:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343727",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`66caf7f`](https://github.com/sagemath/sagetrac-mirror/commit/66caf7f89d244e7f6253b05e3c484deb38230461)** to **[`1e0f09a`](https://github.com/sagemath/sagetrac-mirror/commit/1e0f09a3b131f4840cad36257ad70736961060a5)**



---

archive/issue_comments_343728.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bc66479ace6b610ba9bf081069687ee4f66be6c8\">bc66479</a></td><td><code>fixed doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e0f09a3b131f4840cad36257ad70736961060a5\">1e0f09a</a></td><td><code>registered unpickle for old mq.SBox</code></td></tr></table>\n",
    "created_at": "2017-06-11T23:01:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343728",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bc66479ace6b610ba9bf081069687ee4f66be6c8">bc66479</a></td><td><code>fixed doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e0f09a3b131f4840cad36257ad70736961060a5">1e0f09a</a></td><td><code>registered unpickle for old mq.SBox</code></td></tr></table>




---

archive/issue_events_320624.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2017-06-11T23:04:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22986#event-320624"
}
```



---

archive/issue_events_320625.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2017-06-11T23:04:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22986#event-320625"
}
```



---

archive/issue_comments_343729.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThe SBox related tests now work -- sorry for not checking them :/\n\nThere are still errors:\n\n```\n----------------------------------------------------------------------\nsage -t --warn-long 58.4 src/sage/repl/interpreter.py  # 3 doctests failed\nsage -t --warn-long 58.4 src/sage/repl/ipython_tests.py  # 4 doctests failed\nsage -t --warn-long 58.4 src/sage/repl/interface_magic.py  # 3 doctests failed\n----------------------------------------------------------------------\n```\nbut I think these are not due to my changes to the SBox module..\nIs this correct?",
    "created_at": "2017-06-11T23:04:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343729",
    "user": "https://github.com/pfasante"
}
```

<div id="comment:22" align="right">comment:22</div>

The SBox related tests now work -- sorry for not checking them :/

There are still errors:

```
----------------------------------------------------------------------
sage -t --warn-long 58.4 src/sage/repl/interpreter.py  # 3 doctests failed
sage -t --warn-long 58.4 src/sage/repl/ipython_tests.py  # 4 doctests failed
sage -t --warn-long 58.4 src/sage/repl/interface_magic.py  # 3 doctests failed
----------------------------------------------------------------------
```
but I think these are not due to my changes to the SBox module..
Is this correct?



---

archive/issue_events_320626.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-06-14T12:23:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22986#event-320626"
}
```



---

archive/issue_events_320627.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-06-14T12:23:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22986#event-320627"
}
```



---

archive/issue_comments_343730.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nI've seen these pop up elsewhere. <edit>\"These\" being the doctest failures in [comment:22](#comment:22).</edit>\n\nLast two things. Stupid thing first:\n\n```diff\n@@ -1485,7 +1531,9 @@ class SBox(SageObject):\n \n         EXAMPLES::\n \n-            sage: S = mq.SBox([x**254 for x in sorted(GF(2**8))])\n+            sage: from sage.crypto.sbox import SBox\n+            sage: from sage.crypto.sbox import SBox\n+            sage: S = SBox([x**254 for x in sorted(GF(2**8))])\n             sage: S.is_involution()\n             True\n         \"\"\"\n```\nSecond thing is that you should deprecate `mq.SBox`, where you tell people to explicitly import `SBox`. Sorry I didn't catch this before!",
    "created_at": "2017-06-14T12:23:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343730",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:23" align="right">comment:23</div>

I've seen these pop up elsewhere. <edit>"These" being the doctest failures in [comment:22](#comment:22).</edit>

Last two things. Stupid thing first:

```diff
@@ -1485,7 +1531,9 @@ class SBox(SageObject):
 
         EXAMPLES::
 
-            sage: S = mq.SBox([x**254 for x in sorted(GF(2**8))])
+            sage: from sage.crypto.sbox import SBox
+            sage: from sage.crypto.sbox import SBox
+            sage: S = SBox([x**254 for x in sorted(GF(2**8))])
             sage: S.is_involution()
             True
         """
```
Second thing is that you should deprecate `mq.SBox`, where you tell people to explicitly import `SBox`. Sorry I didn't catch this before!



---

archive/issue_comments_343731.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nsurely you do not need 2 lines like this in the previous comment, 1 is enough.\n\n```\n+            sage: from sage.crypto.sbox import SBox\n+            sage: from sage.crypto.sbox import SBox\n```",
    "created_at": "2017-06-14T12:43:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343731",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:24" align="right">comment:24</div>

surely you do not need 2 lines like this in the previous comment, 1 is enough.

```
+            sage: from sage.crypto.sbox import SBox
+            sage: from sage.crypto.sbox import SBox
```



---

archive/issue_comments_343732.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1c74908e7b716425598d538717aaf6ff5e831003\">1c74908</a></td><td><code>removed duplicate import sbox in example doc string</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/324f79c2c9c4484be5b843117aa02d0a75b19512\">324f79c</a></td><td><code>deprecate sage.crypto.mq.sbox</code></td></tr></table>\n",
    "created_at": "2017-06-14T12:48:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343732",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1c74908e7b716425598d538717aaf6ff5e831003">1c74908</a></td><td><code>removed duplicate import sbox in example doc string</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/324f79c2c9c4484be5b843117aa02d0a75b19512">324f79c</a></td><td><code>deprecate sage.crypto.mq.sbox</code></td></tr></table>




---

archive/issue_comments_343733.json:
```json
{
    "body": "Changed commit from **[`1e0f09a`](https://github.com/sagemath/sagetrac-mirror/commit/1e0f09a3b131f4840cad36257ad70736961060a5)** to **[`324f79c`](https://github.com/sagemath/sagetrac-mirror/commit/324f79c2c9c4484be5b843117aa02d0a75b19512)**",
    "created_at": "2017-06-14T12:48:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343733",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1e0f09a`](https://github.com/sagemath/sagetrac-mirror/commit/1e0f09a3b131f4840cad36257ad70736961060a5)** to **[`324f79c`](https://github.com/sagemath/sagetrac-mirror/commit/324f79c2c9c4484be5b843117aa02d0a75b19512)**



---

archive/issue_comments_343734.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI removed the duplicate line in the doc string. @dimpase are you refering to the same line as Travis?\n\nFor the deprecation, I added `deprecated_function_alias` in `sage.crypto.mq.sbox`, which should be the correct way?",
    "created_at": "2017-06-14T12:50:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343734",
    "user": "https://github.com/pfasante"
}
```

<div id="comment:26" align="right">comment:26</div>

I removed the duplicate line in the doc string. @dimpase are you refering to the same line as Travis?

For the deprecation, I added `deprecated_function_alias` in `sage.crypto.mq.sbox`, which should be the correct way?



---

archive/issue_events_320628.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2017-06-14T12:50:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22986#event-320628"
}
```



---

archive/issue_events_320629.json:
```json
{
    "actor": "https://github.com/pfasante",
    "created_at": "2017-06-14T12:50:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22986#event-320629"
}
```



---

archive/issue_comments_343735.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@pfasante](#comment:26):\n> For the deprecation, I added `deprecated_function_alias` in `sage.crypto.mq.sbox`, which should be the correct way?\n\nNot quite. There's actually a deprecation mechanism in `lazy_import`. See, e.g., `misc/arith.py` or `rings/all.py`.",
    "created_at": "2017-06-14T12:55:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343735",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@pfasante](#comment:26):
> For the deprecation, I added `deprecated_function_alias` in `sage.crypto.mq.sbox`, which should be the correct way?

Not quite. There's actually a deprecation mechanism in `lazy_import`. See, e.g., `misc/arith.py` or `rings/all.py`.



---

archive/issue_comments_343736.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f3e3c8bd016f2c03bd852ad8ec2d6dc6df99290e\">f3e3c8b</a></td><td><code>use deprecation mechanism from lazy_import</code></td></tr></table>\n",
    "created_at": "2017-06-14T13:08:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343736",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f3e3c8bd016f2c03bd852ad8ec2d6dc6df99290e">f3e3c8b</a></td><td><code>use deprecation mechanism from lazy_import</code></td></tr></table>




---

archive/issue_comments_343737.json:
```json
{
    "body": "Changed commit from **[`324f79c`](https://github.com/sagemath/sagetrac-mirror/commit/324f79c2c9c4484be5b843117aa02d0a75b19512)** to **[`f3e3c8b`](https://github.com/sagemath/sagetrac-mirror/commit/f3e3c8bd016f2c03bd852ad8ec2d6dc6df99290e)**",
    "created_at": "2017-06-14T13:08:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343737",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`324f79c`](https://github.com/sagemath/sagetrac-mirror/commit/324f79c2c9c4484be5b843117aa02d0a75b19512)** to **[`f3e3c8b`](https://github.com/sagemath/sagetrac-mirror/commit/f3e3c8bd016f2c03bd852ad8ec2d6dc6df99290e)**



---

archive/issue_comments_343738.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@tscrim](#comment:27):\n> Not quite. There's actually a deprecation mechanism in `lazy_import`. See, e.g., `misc/arith.py` or `rings/all.py`.\n\nThanks for the pointer, I adjusted the deprecation.",
    "created_at": "2017-06-14T13:10:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343738",
    "user": "https://github.com/pfasante"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@tscrim](#comment:27):
> Not quite. There's actually a deprecation mechanism in `lazy_import`. See, e.g., `misc/arith.py` or `rings/all.py`.

Thanks for the pointer, I adjusted the deprecation.



---

archive/issue_events_320630.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-06-14T16:59:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22986#event-320630"
}
```



---

archive/issue_events_320631.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-06-14T16:59:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22986#event-320631"
}
```



---

archive/issue_comments_343739.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nI am pretty sure Dima's comment was an expansion of my comment. Everything else seems to be in order. Positive review.",
    "created_at": "2017-06-14T16:59:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343739",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:30" align="right">comment:30</div>

I am pretty sure Dima's comment was an expansion of my comment. Everything else seems to be in order. Positive review.



---

archive/issue_events_320632.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-06-15T16:45:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22986#event-320632"
}
```



---

archive/issue_events_320633.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "2bf71fe2658eedc1786b18698d166d355bf11990",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-06-15T16:45:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22986#event-320633"
}
```



---

archive/issue_comments_343740.json:
```json
{
    "body": "Changed branch from **[u/asante/refactor_sbox_code__move_from_crypto_mq_to_crypto_](https://github.com/sagemath/sagetrac-mirror/tree/u/asante/refactor_sbox_code__move_from_crypto_mq_to_crypto_)** to **[`f3e3c8b`](https://github.com/sagemath/sagetrac-mirror/commit/f3e3c8bd016f2c03bd852ad8ec2d6dc6df99290e)**",
    "created_at": "2017-06-15T16:45:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22986",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22986#issuecomment-343740",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/asante/refactor_sbox_code__move_from_crypto_mq_to_crypto_](https://github.com/sagemath/sagetrac-mirror/tree/u/asante/refactor_sbox_code__move_from_crypto_mq_to_crypto_)** to **[`f3e3c8b`](https://github.com/sagemath/sagetrac-mirror/commit/f3e3c8bd016f2c03bd852ad8ec2d6dc6df99290e)**
