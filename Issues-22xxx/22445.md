# Issue 22445: doctest: Make sage.doctest.sources.get_basename work in more situations

archive/issues_022208.json:
```json
{
    "body": "This lets you specify `SAGE_SRC` like `/path/to/test/dir/../../src/dir`, which\navoids post-install test failures in `sage/doctest/test.py`\n\nProbably will be helpful for #21507.\n\nKeywords: debian\n\nReviewer: Julian R\u00fcth\n\nAuthor: Ximin Luo, Julian R\u00fcth\n\nBranch: u/saraedum/22445\n\nStatus: needs_work\n\nDependencies: #27191\n\nCommit: e27e8c3d83bc9eb4e92138a0aea7526d606c05e7\n\nIssue created by migration from https://trac.sagemath.org/ticket/22445\n\n",
    "created_at": "2017-02-25T15:36:16Z",
    "labels": [
        "component: doctest framework",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.3",
    "title": "doctest: Make sage.doctest.sources.get_basename work in more situations",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22445",
    "user": "https://github.com/infinity0"
}
```
This lets you specify `SAGE_SRC` like `/path/to/test/dir/../../src/dir`, which
avoids post-install test failures in `sage/doctest/test.py`

Probably will be helpful for #21507.

Keywords: debian

Reviewer: Julian Rüth

Author: Ximin Luo, Julian Rüth

Branch: u/saraedum/22445

Status: needs_work

Dependencies: #27191

Commit: e27e8c3d83bc9eb4e92138a0aea7526d606c05e7

Issue created by migration from https://trac.sagemath.org/ticket/22445





---

archive/issue_comments_411096.json:
```json
{
    "body": "Changing branch from \"\" to \"u/infinity0/doctest__make_sage_doctest_sources_get_basename_work_in_more_situations\"",
    "created_at": "2017-02-25T15:36:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411096",
    "user": "https://github.com/infinity0"
}
```

Changing branch from "" to "u/infinity0/doctest__make_sage_doctest_sources_get_basename_work_in_more_situations"



---

archive/issue_comments_411097.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-02-25T15:37:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411097",
    "user": "https://github.com/infinity0"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_411098.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,4 @@\n+This lets you specify SAGE_SRC like /path/to/test/dir/../../src/dir, which\n+avoids post-install test failures in sage/doctest/test.py\n \n+Probably will be helpful for #21507.\n``````\n",
    "created_at": "2017-02-25T15:37:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411098",
    "user": "https://github.com/infinity0"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,4 @@
+This lets you specify SAGE_SRC like /path/to/test/dir/../../src/dir, which
+avoids post-install test failures in sage/doctest/test.py
 
+Probably will be helpful for #21507.
``````




---

archive/issue_comments_411099.json:
```json
{
    "body": "Changing author from \"\" to \"Ximin Luo\"",
    "created_at": "2017-02-25T15:37:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411099",
    "user": "https://github.com/infinity0"
}
```

Changing author from "" to "Ximin Luo"



---

archive/issue_comments_411100.json:
```json
{
    "body": "Changing branch from \"u/infinity0/doctest__make_sage_doctest_sources_get_basename_work_in_more_situations\" to \"\"",
    "created_at": "2017-02-25T15:37:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411100",
    "user": "https://github.com/infinity0"
}
```

Changing branch from "u/infinity0/doctest__make_sage_doctest_sources_get_basename_work_in_more_situations" to ""



---

archive/issue_comments_411101.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-02-25T17:22:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411101",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_411102.json:
```json
{
    "body": "<a id='comment:3'></a>\nHi, no branch again...",
    "created_at": "2017-02-25T17:22:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411102",
    "user": "https://github.com/videlec"
}
```

<a id='comment:3'></a>
Hi, no branch again...



---

archive/issue_comments_411103.json:
```json
{
    "body": "Changing branch from \"\" to \"u/infinity0/doctest__make_sage_doctest_sources_get_basename_work_in_more_situations\"",
    "created_at": "2017-02-25T17:27:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411103",
    "user": "https://github.com/infinity0"
}
```

Changing branch from "" to "u/infinity0/doctest__make_sage_doctest_sources_get_basename_work_in_more_situations"



---

archive/issue_comments_411104.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-02-25T17:27:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411104",
    "user": "https://github.com/infinity0"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_411105.json:
```json
{
    "body": "Changing commit from \"\" to \"55576866b7c61ba10c39f759522e8703a6b1a9a7\"",
    "created_at": "2017-02-25T17:27:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411105",
    "user": "https://github.com/infinity0"
}
```

Changing commit from "" to "55576866b7c61ba10c39f759522e8703a6b1a9a7"



---

archive/issue_comments_411106.json:
```json
{
    "body": "<a id='comment:4'></a>\nNew commits:\n|                                                                                                                                          |                                                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|\n|[5557686](https://github.com/sagemath/sagetrac-mirror/commit/55576866b7c61ba10c39f759522e8703a6b1a9a7)|`Make sage.doctest.sources.get_basename work in more situations`|",
    "created_at": "2017-02-25T17:27:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411106",
    "user": "https://github.com/infinity0"
}
```

<a id='comment:4'></a>
New commits:
|                                                                                                                                          |                                                                |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|
|[5557686](https://github.com/sagemath/sagetrac-mirror/commit/55576866b7c61ba10c39f759522e8703a6b1a9a7)|`Make sage.doctest.sources.get_basename work in more situations`|



---

archive/issue_comments_411107.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-02-25T19:43:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411107",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_411108.json:
```json
{
    "body": "<a id='comment:5'></a>\nWouldn't it be better to use `normpath()` on the variables `SAGE_LOCAL` and `SAGE_SRC` directly in `sage/env.py`? I can imagine that the same issue could happen in other places.",
    "created_at": "2017-02-25T19:43:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411108",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>
Wouldn't it be better to use `normpath()` on the variables `SAGE_LOCAL` and `SAGE_SRC` directly in `sage/env.py`? I can imagine that the same issue could happen in other places.



---

archive/issue_comments_411109.json:
```json
{
    "body": "<a id='comment:6'></a>\nIt might be better, but I didn't want to risk making such a big change like that, which could break quite a lot of things. Would you prefer I try that bigger change rather than just committing this smaller one?",
    "created_at": "2017-03-11T17:23:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411109",
    "user": "https://github.com/infinity0"
}
```

<a id='comment:6'></a>
It might be better, but I didn't want to risk making such a big change like that, which could break quite a lot of things. Would you prefer I try that bigger change rather than just committing this smaller one?



---

archive/issue_comments_411110.json:
```json
{
    "body": "Changing status from needs_work to needs_info.",
    "created_at": "2018-04-01T20:49:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411110",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_work to needs_info.



---

archive/issue_comments_411111.json:
```json
{
    "body": "<a id='comment:7'></a>\ninfinity0: why do tests in `sage/doctest/test.py` break without this?\n\nI am not sure about using `normpath` as it can change the actual path when symlinks are involved.",
    "created_at": "2018-04-01T20:49:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411111",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:7'></a>
infinity0: why do tests in `sage/doctest/test.py` break without this?

I am not sure about using `normpath` as it can change the actual path when symlinks are involved.



---

archive/issue_comments_411112.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2018-04-29T17:55:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411112",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_411113.json:
```json
{
    "body": "<a id='comment:8'></a>\nSo, I don't think that normpath is a great idea here. Also it is not clear to me what this ticket is really trying to fix.",
    "created_at": "2018-04-29T17:55:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411113",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:8'></a>
So, I don't think that normpath is a great idea here. Also it is not clear to me what this ticket is really trying to fix.



---

archive/issue_comments_411114.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Julian R\u00fcth\"",
    "created_at": "2018-04-29T17:55:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411114",
    "user": "https://github.com/saraedum"
}
```

Changing reviewer from "" to "Julian Rüth"



---

archive/issue_comments_411115.json:
```json
{
    "body": "Changing branch from \"u/infinity0/doctest__make_sage_doctest_sources_get_basename_work_in_more_situations\" to \"u/saraedum/doctest__make_sage_doctest_sources_get_basename_work_in_more_situations\"",
    "created_at": "2018-05-11T14:46:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411115",
    "user": "https://github.com/saraedum"
}
```

Changing branch from "u/infinity0/doctest__make_sage_doctest_sources_get_basename_work_in_more_situations" to "u/saraedum/doctest__make_sage_doctest_sources_get_basename_work_in_more_situations"



---

archive/issue_events_074576.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2018-05-11T14:46:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "milestone": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22445#event-74576"
}
```



---

archive/issue_comments_411116.json:
```json
{
    "body": "Changing author from \"Ximin Luo\" to \"Ximin Luo, Julian R\u00fcth\"",
    "created_at": "2018-05-11T14:46:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411116",
    "user": "https://github.com/saraedum"
}
```

Changing author from "Ximin Luo" to "Ximin Luo, Julian Rüth"



---

archive/issue_comments_411117.json:
```json
{
    "body": "<a id='comment:10'></a>\nNew commits:\n|                                                                                                                                          |                                                                                                                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------|\n|[d81e1f3](https://github.com/sagemath/sagetrac-mirror/commit/d81e1f3ad7a39b40eeb79103c78f5c19af5df5e8)|`Merge remote-tracking branch 'trac/develop' into t/22445/doctest__make_sage_doctest_sources_get_basename_work_in_more_situations`|\n|[8322b18](https://github.com/sagemath/sagetrac-mirror/commit/8322b188959e12feaaaf3727eada68a2ad838dc1)|`Use realpath instead of normpath`|",
    "created_at": "2018-05-11T14:46:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411117",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:10'></a>
New commits:
|                                                                                                                                          |                                                                                                                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------|
|[d81e1f3](https://github.com/sagemath/sagetrac-mirror/commit/d81e1f3ad7a39b40eeb79103c78f5c19af5df5e8)|`Merge remote-tracking branch 'trac/develop' into t/22445/doctest__make_sage_doctest_sources_get_basename_work_in_more_situations`|
|[8322b18](https://github.com/sagemath/sagetrac-mirror/commit/8322b188959e12feaaaf3727eada68a2ad838dc1)|`Use realpath instead of normpath`|



---

archive/issue_comments_411118.json:
```json
{
    "body": "Changing commit from \"55576866b7c61ba10c39f759522e8703a6b1a9a7\" to \"8322b188959e12feaaaf3727eada68a2ad838dc1\"",
    "created_at": "2018-05-11T14:46:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411118",
    "user": "https://github.com/saraedum"
}
```

Changing commit from "55576866b7c61ba10c39f759522e8703a6b1a9a7" to "8322b188959e12feaaaf3727eada68a2ad838dc1"



---

archive/issue_comments_411119.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-05-11T14:46:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411119",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_411120.json:
```json
{
    "body": "Changing commit from \"8322b188959e12feaaaf3727eada68a2ad838dc1\" to \"ac903d518e0a3d528363404c4b6df0916b602155\"",
    "created_at": "2018-05-11T14:49:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411120",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8322b188959e12feaaaf3727eada68a2ad838dc1" to "ac903d518e0a3d528363404c4b6df0916b602155"



---

archive/issue_comments_411121.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[ac903d5](https://github.com/sagemath/sagetrac-mirror/commit/ac903d518e0a3d528363404c4b6df0916b602155)|`Use realpath instead of normpath`|",
    "created_at": "2018-05-11T14:49:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411121",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[ac903d5](https://github.com/sagemath/sagetrac-mirror/commit/ac903d518e0a3d528363404c4b6df0916b602155)|`Use realpath instead of normpath`|



---

archive/issue_comments_411122.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|\n|[c1d917c](https://github.com/sagemath/sagetrac-mirror/commit/c1d917c855a31df4fcfa816e9d47d2af4a30306f)|`Merge remote-tracking branch 'trac/develop' into 22445`|\n|[ababfb2](https://github.com/sagemath/sagetrac-mirror/commit/ababfb231f1d2c0f3acb488decc4e8aac355f2f7)|`Silence pyflakes warnings`|",
    "created_at": "2018-05-18T22:22:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411122",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|
|[c1d917c](https://github.com/sagemath/sagetrac-mirror/commit/c1d917c855a31df4fcfa816e9d47d2af4a30306f)|`Merge remote-tracking branch 'trac/develop' into 22445`|
|[ababfb2](https://github.com/sagemath/sagetrac-mirror/commit/ababfb231f1d2c0f3acb488decc4e8aac355f2f7)|`Silence pyflakes warnings`|



---

archive/issue_comments_411123.json:
```json
{
    "body": "Changing commit from \"ac903d518e0a3d528363404c4b6df0916b602155\" to \"ababfb231f1d2c0f3acb488decc4e8aac355f2f7\"",
    "created_at": "2018-05-18T22:22:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411123",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ac903d518e0a3d528363404c4b6df0916b602155" to "ababfb231f1d2c0f3acb488decc4e8aac355f2f7"



---

archive/issue_comments_411124.json:
```json
{
    "body": "Changing commit from \"ababfb231f1d2c0f3acb488decc4e8aac355f2f7\" to \"\"",
    "created_at": "2018-06-01T00:43:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411124",
    "user": "https://github.com/saraedum"
}
```

Changing commit from "ababfb231f1d2c0f3acb488decc4e8aac355f2f7" to ""



---

archive/issue_comments_411125.json:
```json
{
    "body": "Changing branch from \"u/saraedum/doctest__make_sage_doctest_sources_get_basename_work_in_more_situations\" to \"\"",
    "created_at": "2018-06-01T00:43:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411125",
    "user": "https://github.com/saraedum"
}
```

Changing branch from "u/saraedum/doctest__make_sage_doctest_sources_get_basename_work_in_more_situations" to ""



---

archive/issue_comments_411126.json:
```json
{
    "body": "Changing branch from \"\" to \"u/saraedum/22445\"",
    "created_at": "2018-06-01T00:45:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411126",
    "user": "https://github.com/saraedum"
}
```

Changing branch from "" to "u/saraedum/22445"



---

archive/issue_comments_411127.json:
```json
{
    "body": "<a id='comment:15'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|\n|[b4ed54a](https://github.com/sagemath/sagetrac-mirror/commit/b4ed54aaae2df9949abf1f94d881c1b8084d6026)|`Merge 22445 and trac/develop`|",
    "created_at": "2018-06-21T10:04:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411127",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|
|[b4ed54a](https://github.com/sagemath/sagetrac-mirror/commit/b4ed54aaae2df9949abf1f94d881c1b8084d6026)|`Merge 22445 and trac/develop`|



---

archive/issue_comments_411128.json:
```json
{
    "body": "Changing commit from \"\" to \"b4ed54aaae2df9949abf1f94d881c1b8084d6026\"",
    "created_at": "2018-06-21T10:04:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411128",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "b4ed54aaae2df9949abf1f94d881c1b8084d6026"



---

archive/issue_comments_411129.json:
```json
{
    "body": "<a id='comment:16'></a>\nNew commits:\n|                                                                                                                                          |                                                                |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|\n|[5557686](https://github.com/sagemath/sagetrac-mirror/commit/55576866b7c61ba10c39f759522e8703a6b1a9a7)|`Make sage.doctest.sources.get_basename work in more situations`|\n|[d81e1f3](https://github.com/sagemath/sagetrac-mirror/commit/d81e1f3ad7a39b40eeb79103c78f5c19af5df5e8)|`Merge remote-tracking branch 'trac/develop' into t/22445/doctest__make_sage_doctest_sources_get_basename_work_in_more_situations`|\n|[ac903d5](https://github.com/sagemath/sagetrac-mirror/commit/ac903d518e0a3d528363404c4b6df0916b602155)|`Use realpath instead of normpath`|\n|[c1d917c](https://github.com/sagemath/sagetrac-mirror/commit/c1d917c855a31df4fcfa816e9d47d2af4a30306f)|`Merge remote-tracking branch 'trac/develop' into 22445`|\n|[ababfb2](https://github.com/sagemath/sagetrac-mirror/commit/ababfb231f1d2c0f3acb488decc4e8aac355f2f7)|`Silence pyflakes warnings`|\n|[76cab18](https://github.com/sagemath/sagetrac-mirror/commit/76cab189ae9b9bd888f9611b89c1c1095e944978)|`Merge remote-tracking branch 'trac/u/saraedum/doctest__make_sage_doctest_sources_get_basename_work_in_more_situations' into HEAD`|\n|[b4ed54a](https://github.com/sagemath/sagetrac-mirror/commit/b4ed54aaae2df9949abf1f94d881c1b8084d6026)|`Merge 22445 and trac/develop`|",
    "created_at": "2018-06-21T10:04:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411129",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:16'></a>
New commits:
|                                                                                                                                          |                                                                |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|
|[5557686](https://github.com/sagemath/sagetrac-mirror/commit/55576866b7c61ba10c39f759522e8703a6b1a9a7)|`Make sage.doctest.sources.get_basename work in more situations`|
|[d81e1f3](https://github.com/sagemath/sagetrac-mirror/commit/d81e1f3ad7a39b40eeb79103c78f5c19af5df5e8)|`Merge remote-tracking branch 'trac/develop' into t/22445/doctest__make_sage_doctest_sources_get_basename_work_in_more_situations`|
|[ac903d5](https://github.com/sagemath/sagetrac-mirror/commit/ac903d518e0a3d528363404c4b6df0916b602155)|`Use realpath instead of normpath`|
|[c1d917c](https://github.com/sagemath/sagetrac-mirror/commit/c1d917c855a31df4fcfa816e9d47d2af4a30306f)|`Merge remote-tracking branch 'trac/develop' into 22445`|
|[ababfb2](https://github.com/sagemath/sagetrac-mirror/commit/ababfb231f1d2c0f3acb488decc4e8aac355f2f7)|`Silence pyflakes warnings`|
|[76cab18](https://github.com/sagemath/sagetrac-mirror/commit/76cab189ae9b9bd888f9611b89c1c1095e944978)|`Merge remote-tracking branch 'trac/u/saraedum/doctest__make_sage_doctest_sources_get_basename_work_in_more_situations' into HEAD`|
|[b4ed54a](https://github.com/sagemath/sagetrac-mirror/commit/b4ed54aaae2df9949abf1f94d881c1b8084d6026)|`Merge 22445 and trac/develop`|



---

archive/issue_comments_411130.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-This lets you specify SAGE_SRC like /path/to/test/dir/../../src/dir, which\n-avoids post-install test failures in sage/doctest/test.py\n+This lets you specify `SAGE_SRC` like `/path/to/test/dir/../../src/dir`, which\n+avoids post-install test failures in `sage/doctest/test.py`\n \n Probably will be helpful for #21507.\n``````\n",
    "created_at": "2018-06-21T10:04:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411130",
    "user": "https://github.com/saraedum"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-This lets you specify SAGE_SRC like /path/to/test/dir/../../src/dir, which
-avoids post-install test failures in sage/doctest/test.py
+This lets you specify `SAGE_SRC` like `/path/to/test/dir/../../src/dir`, which
+avoids post-install test failures in `sage/doctest/test.py`
 
 Probably will be helpful for #21507.
``````




---

archive/issue_comments_411131.json:
```json
{
    "body": "Changing keywords from \"\" to \"debian\".",
    "created_at": "2018-07-04T16:03:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411131",
    "user": "https://github.com/saraedum"
}
```

Changing keywords from "" to "debian".



---

archive/issue_comments_411132.json:
```json
{
    "body": "Changing commit from \"b4ed54aaae2df9949abf1f94d881c1b8084d6026\" to \"8970e5d652e396b2d8d2e3e25ec9b79edd1d26ea\"",
    "created_at": "2018-07-07T14:18:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411132",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b4ed54aaae2df9949abf1f94d881c1b8084d6026" to "8970e5d652e396b2d8d2e3e25ec9b79edd1d26ea"



---

archive/issue_comments_411133.json:
```json
{
    "body": "<a id='comment:18'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|\n|[8970e5d](https://github.com/sagemath/sagetrac-mirror/commit/8970e5d652e396b2d8d2e3e25ec9b79edd1d26ea)|`Merge develop and 22445`|",
    "created_at": "2018-07-07T14:18:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411133",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|
|[8970e5d](https://github.com/sagemath/sagetrac-mirror/commit/8970e5d652e396b2d8d2e3e25ec9b79edd1d26ea)|`Merge develop and 22445`|



---

archive/issue_comments_411134.json:
```json
{
    "body": "Changing commit from \"8970e5d652e396b2d8d2e3e25ec9b79edd1d26ea\" to \"e27e8c3d83bc9eb4e92138a0aea7526d606c05e7\"",
    "created_at": "2018-07-16T10:30:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411134",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8970e5d652e396b2d8d2e3e25ec9b79edd1d26ea" to "e27e8c3d83bc9eb4e92138a0aea7526d606c05e7"



---

archive/issue_comments_411135.json:
```json
{
    "body": "<a id='comment:19'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|\n|[e27e8c3](https://github.com/sagemath/sagetrac-mirror/commit/e27e8c3d83bc9eb4e92138a0aea7526d606c05e7)|`Merge remote-tracking branch 'trac/develop' into 22445`|",
    "created_at": "2018-07-16T10:30:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411135",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|
|[e27e8c3](https://github.com/sagemath/sagetrac-mirror/commit/e27e8c3d83bc9eb4e92138a0aea7526d606c05e7)|`Merge remote-tracking branch 'trac/develop' into 22445`|



---

archive/issue_comments_411136.json:
```json
{
    "body": "<a id='comment:20'></a>\nThe failing doctests reported by the patchbot are unrelated.\n\n---\nNew commits:\n|                                                                                                                                          |                                                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|\n|[e27e8c3](https://github.com/sagemath/sagetrac-mirror/commit/e27e8c3d83bc9eb4e92138a0aea7526d606c05e7)|`Merge remote-tracking branch 'trac/develop' into 22445`|",
    "created_at": "2018-07-16T10:32:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411136",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:20'></a>
The failing doctests reported by the patchbot are unrelated.

---
New commits:
|                                                                                                                                          |                                                        |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|
|[e27e8c3](https://github.com/sagemath/sagetrac-mirror/commit/e27e8c3d83bc9eb4e92138a0aea7526d606c05e7)|`Merge remote-tracking branch 'trac/develop' into 22445`|



---

archive/issue_comments_411137.json:
```json
{
    "body": "<a id='comment:21'></a>\nThe cygwin patchbot failed for an unrelated reason. The other patchbot errors are a known sympow bug that is not related to this ticket's changes. This is still ready for review.",
    "created_at": "2018-07-28T12:32:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411137",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:21'></a>
The cygwin patchbot failed for an unrelated reason. The other patchbot errors are a known sympow bug that is not related to this ticket's changes. This is still ready for review.



---

archive/issue_comments_411138.json:
```json
{
    "body": "<a id='comment:22'></a>\n#27191 also touches this code. So in any case, it needs to be rebased on #27191. If you want to continue with this, I still think that [comment:5] is the way to go.",
    "created_at": "2019-02-01T16:54:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411138",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:22'></a>
#27191 also touches this code. So in any case, it needs to be rebased on #27191. If you want to continue with this, I still think that [comment:5] is the way to go.



---

archive/issue_comments_411139.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-02-01T16:54:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411139",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_411140.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#27191\"",
    "created_at": "2019-02-01T16:54:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22445",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22445#issuecomment-411140",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "" to "#27191"
