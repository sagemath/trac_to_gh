# Issue 22943: Speedup rigged configuration bijection in type B

archive/issues_022706.json:
```json
{
    "body": "We don't need to generate all module generators of the tensor product of KR crystals in type B as we just need a placeholder element. Generating all of these takes a significant amount of time, so we should just create a simple placeholder element.\n\nCC:  sage-combinat @anneschilling @bsalisbury1\n\nKeywords: rigged configurations\n\nBranch/Commit: 0223fd9ec603f9ec9436ef42d6d2f0d6e3200fe5\n\nReviewer: Ben Salisbury\n\nAuthor: Travis Scrimshaw\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/22943\n\n",
    "closed_at": "2017-05-08T21:18:38Z",
    "created_at": "2017-05-04T04:52:52Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "Speedup rigged configuration bijection in type B",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22943",
    "user": "https://github.com/tscrim"
}
```
We don't need to generate all module generators of the tensor product of KR crystals in type B as we just need a placeholder element. Generating all of these takes a significant amount of time, so we should just create a simple placeholder element.

CC:  sage-combinat @anneschilling @bsalisbury1

Keywords: rigged configurations

Branch/Commit: 0223fd9ec603f9ec9436ef42d6d2f0d6e3200fe5

Reviewer: Ben Salisbury

Author: Travis Scrimshaw

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/22943





---

archive/issue_comments_337531.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-05-04T04:54:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22943",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22943#issuecomment-337531",
    "user": "https://github.com/tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_337532.json:
```json
{
    "body": "<a id='comment:1'></a>This makes a huge difference when the number of factors is more than 3, even for B<sub>3</sub><sup>(1)</sup>. It makes it almost instantaneous compared to minutes in the current version.",
    "created_at": "2017-05-04T04:54:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22943",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22943#issuecomment-337532",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:1'></a>This makes a huge difference when the number of factors is more than 3, even for B<sub>3</sub><sup>(1)</sup>. It makes it almost instantaneous compared to minutes in the current version.



---

archive/issue_comments_337533.json:
```json
{
    "body": "<a id='comment:2'></a>no branch of the given name is known",
    "created_at": "2017-05-04T10:05:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22943",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22943#issuecomment-337533",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'></a>no branch of the given name is known



---

archive/issue_comments_337534.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-04T14:50:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22943",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22943#issuecomment-337534",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_337535.json:
```json
{
    "body": "<a id='comment:4'></a>Forgot that it is commit *then* push. :P",
    "created_at": "2017-05-04T14:51:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22943",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22943#issuecomment-337535",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'></a>Forgot that it is commit *then* push. :P



---

archive/issue_comments_337536.json:
```json
{
    "body": "<a id='comment:5'></a>With the current development branch:\n\n```\nsage: RiggedConfigurations.options(display='horizontal')\nsage: from sage.combinat.rigged_configurations.bij_type_B import KRTToRCBijectionTypeB\nsage: KRT = crystals.TensorProductOfKirillovReshetikhinTableaux(['B', 3, 1], [[3, 1]])\nsage: %time for x in KRT: print KRTToRCBijectionTypeB(x).run(), '\\n-----'\n(/)   (/)   (/) \n-----\n(/)   (/)   -1[]-1 \n-----\n(/)   -1[ ]-1   0[]0 \n-----\n-1[ ]-1   0[ ]0   0[]0 \n-----\n(/)   0[ ]0   -1[][]-1 \n-----\n-1[ ]-1   1[ ]1   -1[][]-1 \n-----\n0[ ]0   -1[ ]-1   1[][]1\n        -1[ ]-1          \n-----\n0[ ]0   0[ ]0   -1[][]-1\n        0[ ]0   -1[]-1   \n-----\nCPU times: user 104 ms, sys: 33.3 ms, total: 137 ms\nWall time: 134 ms\n```\n\nWith this branch applied:\n\n```\nsage: RiggedConfigurations.options(display='horizontal')\nsage: from sage.combinat.rigged_configurations.bij_type_B import KRTToRCBijectionTypeB\nsage: KRT = crystals.TensorProductOfKirillovReshetikhinTableaux(['B', 3, 1], [[3, 1]])\nsage: %time for x in KRT: print KRTToRCBijectionTypeB(x).run(), '\\n-----'\n(/)   (/)   (/) \n-----\n(/)   (/)   -1[]-1 \n-----\n(/)   -1[ ]-1   0[]0 \n-----\n-1[ ]-1   0[ ]0   0[]0 \n-----\n(/)   0[ ]0   -1[][]-1 \n-----\n-1[ ]-1   1[ ]1   -1[][]-1 \n-----\n0[ ]0   -1[ ]-1   1[][]1\n        -1[ ]-1          \n-----\n0[ ]0   0[ ]0   -1[][]-1\n        0[ ]0   -1[]-1   \n-----\nCPU times: user 12.8 ms, sys: 2.26 ms, total: 15 ms\nWall time: 13.3 ms\n```",
    "created_at": "2017-05-04T21:43:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22943",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22943#issuecomment-337536",
    "user": "https://github.com/bsalisbury1"
}
```

<a id='comment:5'></a>With the current development branch:

```
sage: RiggedConfigurations.options(display='horizontal')
sage: from sage.combinat.rigged_configurations.bij_type_B import KRTToRCBijectionTypeB
sage: KRT = crystals.TensorProductOfKirillovReshetikhinTableaux(['B', 3, 1], [[3, 1]])
sage: %time for x in KRT: print KRTToRCBijectionTypeB(x).run(), '\n-----'
(/)   (/)   (/) 
-----
(/)   (/)   -1[]-1 
-----
(/)   -1[ ]-1   0[]0 
-----
-1[ ]-1   0[ ]0   0[]0 
-----
(/)   0[ ]0   -1[][]-1 
-----
-1[ ]-1   1[ ]1   -1[][]-1 
-----
0[ ]0   -1[ ]-1   1[][]1
        -1[ ]-1          
-----
0[ ]0   0[ ]0   -1[][]-1
        0[ ]0   -1[]-1   
-----
CPU times: user 104 ms, sys: 33.3 ms, total: 137 ms
Wall time: 134 ms
```

With this branch applied:

```
sage: RiggedConfigurations.options(display='horizontal')
sage: from sage.combinat.rigged_configurations.bij_type_B import KRTToRCBijectionTypeB
sage: KRT = crystals.TensorProductOfKirillovReshetikhinTableaux(['B', 3, 1], [[3, 1]])
sage: %time for x in KRT: print KRTToRCBijectionTypeB(x).run(), '\n-----'
(/)   (/)   (/) 
-----
(/)   (/)   -1[]-1 
-----
(/)   -1[ ]-1   0[]0 
-----
-1[ ]-1   0[ ]0   0[]0 
-----
(/)   0[ ]0   -1[][]-1 
-----
-1[ ]-1   1[ ]1   -1[][]-1 
-----
0[ ]0   -1[ ]-1   1[][]1
        -1[ ]-1          
-----
0[ ]0   0[ ]0   -1[][]-1
        0[ ]0   -1[]-1   
-----
CPU times: user 12.8 ms, sys: 2.26 ms, total: 15 ms
Wall time: 13.3 ms
```



---

archive/issue_comments_337537.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-05-04T21:43:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22943",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22943#issuecomment-337537",
    "user": "https://github.com/bsalisbury1"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_337538.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-05-08T21:18:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22943",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22943#issuecomment-337538",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_059493.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-05-08T21:18:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22943",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22943#event-59493"
}
```
