# Issue 22534: Add "long time" to doctests in the geometry component

archive/issues_022297.json:
```json
{
    "assignees": [],
    "body": "Making tests in the files in the geometry currently takes a long time.\n\nWe should add the markup `long time` next to the tests that take too long.\n\nCC:  @fchapoton @videlec\n\nKeywords: **days84, doctests**\n\nBranch/Commit: **[f41f3a4](https://github.com/sagemath/sagetrac-mirror/commit/f41f3a4f885602448b2114fc4b9eb81a2af5ab1a)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Jean-Philippe Labb\u00e9**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/22534_\n\n",
    "closed_at": "2017-03-10T23:12:51Z",
    "created_at": "2017-03-06T18:22:33Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20geometry",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add \"long time\" to doctests in the geometry component",
    "type": "issue",
    "updated_at": "2017-03-10T23:12:51Z",
    "url": "https://github.com/sagemath/sage/issues/22534",
    "user": "https://github.com/jplab"
}
```
Making tests in the files in the geometry currently takes a long time.

We should add the markup `long time` next to the tests that take too long.

CC:  @fchapoton @videlec

Keywords: **days84, doctests**

Branch/Commit: **[f41f3a4](https://github.com/sagemath/sagetrac-mirror/commit/f41f3a4f885602448b2114fc4b9eb81a2af5ab1a)**

Reviewer: **Travis Scrimshaw**

Author: **Jean-Philippe Labb√©**

_Issue created by migration from https://trac.sagemath.org/ticket/22534_





---

archive/issue_events_296919.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2017-03-06T18:22:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22534",
    "milestone_number": null,
    "milestone_title": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22534#event-296919"
}
```



---

archive/issue_events_296920.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2017-03-06T18:22:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22534",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "component: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22534#event-296920"
}
```



---

archive/issue_events_296921.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2017-03-06T18:22:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22534",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22534#event-296921"
}
```



---

archive/issue_events_296922.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2017-03-06T18:22:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22534",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22534#event-296922"
}
```



---

archive/issue_comments_336509.json:
```json
{
    "body": "Branch: **[u/jipilab/22534](https://github.com/sagemath/sagetrac-mirror/tree/u/jipilab/22534)**",
    "created_at": "2017-03-06T22:32:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22534#issuecomment-336509",
    "user": "https://github.com/jplab"
}
```

Branch: **[u/jipilab/22534](https://github.com/sagemath/sagetrac-mirror/tree/u/jipilab/22534)**



---

archive/issue_comments_336510.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9fd724d7a5adc6febb5900b986f766e3d9e1582d\">9fd724d</a></td><td><code>Added some long time markup</code></td></tr></table>\n",
    "created_at": "2017-03-06T22:34:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22534#issuecomment-336510",
    "user": "https://github.com/jplab"
}
```

<a id='comment:2'>Comment 2:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9fd724d7a5adc6febb5900b986f766e3d9e1582d">9fd724d</a></td><td><code>Added some long time markup</code></td></tr></table>




---

archive/issue_events_296923.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2017-03-06T22:34:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22534",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22534#event-296923"
}
```



---

archive/issue_comments_336511.json:
```json
{
    "body": "Commit: **[9fd724d](https://github.com/sagemath/sagetrac-mirror/commit/9fd724d7a5adc6febb5900b986f766e3d9e1582d)**",
    "created_at": "2017-03-06T22:34:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22534#issuecomment-336511",
    "user": "https://github.com/jplab"
}
```

Commit: **[9fd724d](https://github.com/sagemath/sagetrac-mirror/commit/9fd724d7a5adc6febb5900b986f766e3d9e1582d)**



---

archive/issue_comments_336512.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nThis change is bad and causing the doctest failure:\n\n```diff\ndiff --git a/src/sage/geometry/polyhedron/plot.py b/src/sage/geometry/polyhedron/plot.py\nindex a50eb16..4540377 100644\n--- a/src/sage/geometry/polyhedron/plot.py\n+++ b/src/sage/geometry/polyhedron/plot.py\n@@ -88,7 +88,8 @@ def render_3d(projection, *args, **kwds):\n         Graphics3d Object\n         sage: Polyhedron(vertices=[[1,1,1]], lines=[[0,1,0],[0,0,1]]).plot()                  # R^2 in R^3\n         Graphics3d Object\n-        sage: Polyhedron(rays=[[0,1,0],[0,0,1]], lines=[[1,0,0]]).plot()                      # quadrant wedge in R^2\n+        sage: Polyhedron(rays=[[0,1,0],[0,0,1]], lines=[[1,0,0]]).plot()\n+        # long time quadrant wedge in R^2\n         Graphics3d Object\n         sage: Polyhedron(rays=[[0,1,0]], lines=[[1,0,0]]).plot()                              # upper half plane in R^3\n         Graphics3d Object\n```\nYou need the `# long time` on the same line, otherwise it is treated as output (see the patchbot).",
    "created_at": "2017-03-07T17:18:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22534#issuecomment-336512",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:3'>Comment 3:</a>
This change is bad and causing the doctest failure:

```diff
diff --git a/src/sage/geometry/polyhedron/plot.py b/src/sage/geometry/polyhedron/plot.py
index a50eb16..4540377 100644
--- a/src/sage/geometry/polyhedron/plot.py
+++ b/src/sage/geometry/polyhedron/plot.py
@@ -88,7 +88,8 @@ def render_3d(projection, *args, **kwds):
         Graphics3d Object
         sage: Polyhedron(vertices=[[1,1,1]], lines=[[0,1,0],[0,0,1]]).plot()                  # R^2 in R^3
         Graphics3d Object
-        sage: Polyhedron(rays=[[0,1,0],[0,0,1]], lines=[[1,0,0]]).plot()                      # quadrant wedge in R^2
+        sage: Polyhedron(rays=[[0,1,0],[0,0,1]], lines=[[1,0,0]]).plot()
+        # long time quadrant wedge in R^2
         Graphics3d Object
         sage: Polyhedron(rays=[[0,1,0]], lines=[[1,0,0]]).plot()                              # upper half plane in R^3
         Graphics3d Object
```
You need the `# long time` on the same line, otherwise it is treated as output (see the patchbot).



---

archive/issue_comments_336513.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2017-03-08T10:54:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22534#issuecomment-336513",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_events_296924.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-03-08T10:54:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22534",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22534#event-296924"
}
```



---

archive/issue_events_296925.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-03-08T10:54:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22534",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22534#event-296925"
}
```



---

archive/issue_comments_336514.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\n> You need the `# long time` on the same line, otherwise it is treated as output (see the patchbot).\n\nOh! Got it! Thanks for the pointer!\n\nJP",
    "created_at": "2017-03-08T22:08:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22534#issuecomment-336514",
    "user": "https://github.com/jplab"
}
```

<a id='comment:5'>Comment 5:</a>
> You need the `# long time` on the same line, otherwise it is treated as output (see the patchbot).

Oh! Got it! Thanks for the pointer!

JP



---

archive/issue_comments_336515.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f41f3a4f885602448b2114fc4b9eb81a2af5ab1a\">f41f3a4</a></td><td><code>Corrected one long time comment</code></td></tr></table>\n",
    "created_at": "2017-03-08T22:12:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22534#issuecomment-336515",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:6'>Comment 6:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f41f3a4f885602448b2114fc4b9eb81a2af5ab1a">f41f3a4</a></td><td><code>Corrected one long time comment</code></td></tr></table>




---

archive/issue_comments_336516.json:
```json
{
    "body": "Changed commit from **[9fd724d](https://github.com/sagemath/sagetrac-mirror/commit/9fd724d7a5adc6febb5900b986f766e3d9e1582d)** to **[f41f3a4](https://github.com/sagemath/sagetrac-mirror/commit/f41f3a4f885602448b2114fc4b9eb81a2af5ab1a)**",
    "created_at": "2017-03-08T22:12:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22534#issuecomment-336516",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9fd724d](https://github.com/sagemath/sagetrac-mirror/commit/9fd724d7a5adc6febb5900b986f766e3d9e1582d)** to **[f41f3a4](https://github.com/sagemath/sagetrac-mirror/commit/f41f3a4f885602448b2114fc4b9eb81a2af5ab1a)**



---

archive/issue_events_296926.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2017-03-08T22:39:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22534",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22534#event-296926"
}
```



---

archive/issue_events_296927.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2017-03-08T22:39:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22534",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22534#event-296927"
}
```



---

archive/issue_events_296928.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-03-08T23:51:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22534",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22534#event-296928"
}
```



---

archive/issue_events_296929.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-03-08T23:51:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22534",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22534#event-296929"
}
```



---

archive/issue_comments_336517.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nLGTM now. Thanks.",
    "created_at": "2017-03-08T23:51:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22534#issuecomment-336517",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:8'>Comment 8:</a>
LGTM now. Thanks.



---

archive/issue_comments_336518.json:
```json
{
    "body": "Changed branch from **[u/jipilab/22534](https://github.com/sagemath/sagetrac-mirror/tree/u/jipilab/22534)** to **[f41f3a4](https://github.com/sagemath/sagetrac-mirror/commit/f41f3a4f885602448b2114fc4b9eb81a2af5ab1a)**",
    "created_at": "2017-03-10T23:12:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22534",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22534#issuecomment-336518",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jipilab/22534](https://github.com/sagemath/sagetrac-mirror/tree/u/jipilab/22534)** to **[f41f3a4](https://github.com/sagemath/sagetrac-mirror/commit/f41f3a4f885602448b2114fc4b9eb81a2af5ab1a)**



---

archive/issue_events_296930.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-03-10T23:12:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22534",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22534#event-296930"
}
```



---

archive/issue_events_296931.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "7c7d5af1fca79d16197bffdb4ae93e90fce759d1",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-03-10T23:12:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/22534",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22534#event-296931"
}
```
