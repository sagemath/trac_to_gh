# Issue 22988: Add SBox Instances

archive/issues_022751.json:
```json
{
    "body": "Leo Perrin collected a big amount of SBoxes used in block ciphers and hash functions during his PhD. We can add them to sage, to easily access them for experiments or so.\nThis branch has Leo's list and references to where the SBoxes (cipher/hash functions) were initially described.\n\nAssignee: @pfasante\n\nCC:  leo.perrin@uni.lu\n\nKeywords: sbox, crypto\n\nReviewer: Martin Albrecht, David Roe\n\nAuthor: Friedrich Wiemer\n\nBranch: 31aa2db99d891e82645cadc7cf942332942db560\n\nDependencies: #22986\n\nCommit: 31aa2db99d891e82645cadc7cf942332942db560\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/22988\n\n",
    "closed_at": "2017-09-10T22:05:36Z",
    "created_at": "2017-05-12T12:36:20Z",
    "labels": [
        "component: cryptography"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Add SBox Instances",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22988",
    "user": "https://github.com/pfasante"
}
```
Leo Perrin collected a big amount of SBoxes used in block ciphers and hash functions during his PhD. We can add them to sage, to easily access them for experiments or so.
This branch has Leo's list and references to where the SBoxes (cipher/hash functions) were initially described.

Assignee: @pfasante

CC:  leo.perrin@uni.lu

Keywords: sbox, crypto

Reviewer: Martin Albrecht, David Roe

Author: Friedrich Wiemer

Branch: 31aa2db99d891e82645cadc7cf942332942db560

Dependencies: #22986

Commit: 31aa2db99d891e82645cadc7cf942332942db560

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/22988





---

archive/issue_comments_317467.json:
```json
{
    "body": "Changing keywords from \"\" to \"sbox, crypto\".",
    "created_at": "2017-05-12T12:37:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317467",
    "user": "https://github.com/pfasante"
}
```

Changing keywords from "" to "sbox, crypto".



---

archive/issue_comments_317468.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2017-05-12T12:37:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317468",
    "user": "https://github.com/pfasante"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_317469.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to cryptography.",
    "created_at": "2017-05-12T12:37:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317469",
    "user": "https://github.com/pfasante"
}
```

Changing component from PLEASE CHANGE to cryptography.



---

archive/issue_comments_317470.json:
```json
{
    "body": "Set assignee to @pfasante.",
    "created_at": "2017-05-12T12:37:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317470",
    "user": "https://github.com/pfasante"
}
```

Set assignee to @pfasante.



---

archive/issue_comments_317471.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-05-16T07:07:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317471",
    "user": "https://github.com/pfasante"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_317472.json:
```json
{
    "body": "<a id='comment:3'></a>New commits:",
    "created_at": "2017-05-16T07:07:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317472",
    "user": "https://github.com/pfasante"
}
```

<a id='comment:3'></a>New commits:



---

archive/issue_comments_317473.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-16T13:44:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317473",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317474.json:
```json
{
    "body": "<a id='comment:6'></a>Hi Friedrich,\n\nIts also important to put URL link to the papers where these S-Boxes are originally described.\n\nCheers",
    "created_at": "2017-05-17T15:28:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317474",
    "user": "https://github.com/rusydi"
}
```

<a id='comment:6'></a>Hi Friedrich,

Its also important to put URL link to the papers where these S-Boxes are originally described.

Cheers



---

archive/issue_comments_317475.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-18T11:17:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317475",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317476.json:
```json
{
    "body": "<a id='comment:8'></a>I started to add references for the sboxes. Can you check if this is the correct format for references?",
    "created_at": "2017-05-18T11:18:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317476",
    "user": "https://github.com/pfasante"
}
```

<a id='comment:8'></a>I started to add references for the sboxes. Can you check if this is the correct format for references?



---

archive/issue_comments_317477.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-18T19:14:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317477",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317478.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-07T10:10:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317478",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317479.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-07T11:19:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317479",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317480.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-07T12:56:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317480",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317481.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-08T06:31:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317481",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317482.json:
```json
{
    "body": "<a id='comment:15'></a>I'd replace the long manual dict construction with something like:\n\n```python\nfor k, v in sage.crypto.sboxes__dict__.iteritems():\n     if isistance(sage.crypto.mq.sbox.SBox):\n         sboxes[k] = v\n```\n\nThis should make maintenance easier.",
    "created_at": "2017-06-08T07:58:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317482",
    "user": "https://github.com/malb"
}
```

<a id='comment:15'></a>I'd replace the long manual dict construction with something like:

```python
for k, v in sage.crypto.sboxes__dict__.iteritems():
     if isistance(sage.crypto.mq.sbox.SBox):
         sboxes[k] = v
```

This should make maintenance easier.



---

archive/issue_comments_317483.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-08T09:03:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317483",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317484.json:
```json
{
    "body": "<a id='comment:17'></a>Nice hint malb! This was actually what I was looking for, but I didn't find the __dict__ object :)\n\nI'm not sure if this\n\n```python\nimport sys\nsys.modules[__name__].__dict__\n```\nis the correct way to access the modul objects in itself, but I'm not aware of any other way.",
    "created_at": "2017-06-08T09:06:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317484",
    "user": "https://github.com/pfasante"
}
```

<a id='comment:17'></a>Nice hint malb! This was actually what I was looking for, but I didn't find the __dict__ object :)

I'm not sure if this

```python
import sys
sys.modules[__name__].__dict__
```
is the correct way to access the modul objects in itself, but I'm not aware of any other way.



---

archive/issue_comments_317485.json:
```json
{
    "body": "<a id='comment:18'></a>Doesn't simply `__dict__` work?",
    "created_at": "2017-06-08T12:42:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317485",
    "user": "https://github.com/malb"
}
```

<a id='comment:18'></a>Doesn't simply `__dict__` work?



---

archive/issue_comments_317486.json:
```json
{
    "body": "<a id='comment:19'></a>No, doesn't seem so:\n\n```python\nsage: import sage.crypto.sboxes as sboxes\n---------------------------------------------------------------------------\nNameError                                 Traceback (most recent call last)\n<ipython-input-1-a6ff8351c3ae> in <module>()\n----> 1 import sage.crypto.sboxes as sboxes\n\n/home/asante/werkstatt/werkbank/sage/local/lib/python2.7/site-packages/sage/crypto/sboxes.py in <module>()\n   1286 sboxes = {}\n   1287 import sys\n-> 1288 for k, v in list(__dict__.iteritems()):\n   1289       if isinstance(v, SBox):\n   1290           sboxes[k] = v\n\nNameError: name '__dict__' is not defined\n```\n\nI also tried `sage.crypto.sboxes.__dict__`, `.__dict__`, but only the `sys.modules` approach worked for me.",
    "created_at": "2017-06-08T12:59:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317486",
    "user": "https://github.com/pfasante"
}
```

<a id='comment:19'></a>No, doesn't seem so:

```python
sage: import sage.crypto.sboxes as sboxes
---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)
<ipython-input-1-a6ff8351c3ae> in <module>()
----> 1 import sage.crypto.sboxes as sboxes

/home/asante/werkstatt/werkbank/sage/local/lib/python2.7/site-packages/sage/crypto/sboxes.py in <module>()
   1286 sboxes = {}
   1287 import sys
-> 1288 for k, v in list(__dict__.iteritems()):
   1289       if isinstance(v, SBox):
   1290           sboxes[k] = v

NameError: name '__dict__' is not defined
```

I also tried `sage.crypto.sboxes.__dict__`, `.__dict__`, but only the `sys.modules` approach worked for me.



---

archive/issue_comments_317487.json:
```json
{
    "body": "<a id='comment:20'></a>Can you add a ticket description? People are more likely to review the ticket if they know what it does and once it is incorporated it is good to have a description too.",
    "created_at": "2017-06-10T06:57:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317487",
    "user": "https://github.com/AndrewAtLarge"
}
```

<a id='comment:20'></a>Can you add a ticket description? People are more likely to review the ticket if they know what it does and once it is incorporated it is good to have a description too.



---

archive/issue_comments_317488.json:
```json
{
    "body": "<a id='comment:21'></a>Added a description.",
    "created_at": "2017-06-10T13:01:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317488",
    "user": "https://github.com/pfasante"
}
```

<a id='comment:21'></a>Added a description.



---

archive/issue_comments_317489.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-06-16T22:10:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317489",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_317490.json:
```json
{
    "body": "<a id='comment:22'></a>There's now a merge conflict.\n\nI'm sorry that it's taken a while to review this.  I'm happy to take a look once I get back from the mountains (in a week and a half) if nobody else has done so by then.",
    "created_at": "2017-06-16T22:10:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317490",
    "user": "https://github.com/roed314"
}
```

<a id='comment:22'></a>There's now a merge conflict.

I'm sorry that it's taken a while to review this.  I'm happy to take a look once I get back from the mountains (in a week and a half) if nobody else has done so by then.



---

archive/issue_comments_317491.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-19T06:03:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317491",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317492.json:
```json
{
    "body": "<a id='comment:24'></a>fixed merge conflicts",
    "created_at": "2017-06-19T06:05:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317492",
    "user": "https://github.com/pfasante"
}
```

<a id='comment:24'></a>fixed merge conflicts



---

archive/issue_comments_317493.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-06-19T06:05:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317493",
    "user": "https://github.com/pfasante"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_317494.json:
```json
{
    "body": "<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-28T09:53:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317494",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317495.json:
```json
{
    "body": "<a id='comment:26'></a>Hi Friedrich,\n\nI still do not understand the reason why the dictionary \"sboxes\" is needed here. Importing whatever SBox object in this module should be sufficient, e.g. (from sage.crypto.sboxes import AES). Could you explain the rationale behind having the dictionary \"sboxes\" ?\n\n-- Rusydi",
    "created_at": "2017-06-29T11:53:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317495",
    "user": "https://github.com/rusydi"
}
```

<a id='comment:26'></a>Hi Friedrich,

I still do not understand the reason why the dictionary "sboxes" is needed here. Importing whatever SBox object in this module should be sufficient, e.g. (from sage.crypto.sboxes import AES). Could you explain the rationale behind having the dictionary "sboxes" ?

-- Rusydi



---

archive/issue_comments_317496.json:
```json
{
    "body": "<a id='comment:27'></a>Hi Rusydi,\n\nthis is for a convenient way of iterating over all collected S-boxes.\nSay you want to test some property for every S-box, you can then just iterate over this dictionary. Without this dictionary such an iteration would not be that easy.\n\nI already used this dictionary several times and find it really handy to have it.",
    "created_at": "2017-06-29T11:57:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317496",
    "user": "https://github.com/pfasante"
}
```

<a id='comment:27'></a>Hi Rusydi,

this is for a convenient way of iterating over all collected S-boxes.
Say you want to test some property for every S-box, you can then just iterate over this dictionary. Without this dictionary such an iteration would not be that easy.

I already used this dictionary several times and find it really handy to have it.



---

archive/issue_comments_317497.json:
```json
{
    "body": "<a id='comment:28'></a>In that case, I would suggest to give a explanation and an example that demonstrate this usefulness.\n\nReplying to [comment:27 asante]:\n> Hi Rusydi,\n> \n> this is for a convenient way of iterating over all collected S-boxes.\n> Say you want to test some property for every S-box, you can then just iterate over this dictionary. Without this dictionary such an iteration would not be that easy.\n> \n> I already used this dictionary several times and find it really handy to have it.",
    "created_at": "2017-06-29T12:36:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317497",
    "user": "https://github.com/rusydi"
}
```

<a id='comment:28'></a>In that case, I would suggest to give a explanation and an example that demonstrate this usefulness.

Replying to [comment:27 asante]:
> Hi Rusydi,
> 
> this is for a convenient way of iterating over all collected S-boxes.
> Say you want to test some property for every S-box, you can then just iterate over this dictionary. Without this dictionary such an iteration would not be that easy.
> 
> I already used this dictionary several times and find it really handy to have it.



---

archive/issue_comments_317498.json:
```json
{
    "body": "<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-29T14:09:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317498",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317499.json:
```json
{
    "body": "<a id='comment:30'></a>Oh, of course, you are absolutly right, this dictionary should be mentioned in the documenation.\nI added an corresponding example.\n\nReplying to [comment:28 ruhm]:\n> In that case, I would suggest to give a explanation and an example that demonstrate this usefulness.\n\n\nAdditionally, I changed the creation of the dictionary to a way which is hopefully compatible with python 3.",
    "created_at": "2017-06-29T14:10:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317499",
    "user": "https://github.com/pfasante"
}
```

<a id='comment:30'></a>Oh, of course, you are absolutly right, this dictionary should be mentioned in the documenation.
I added an corresponding example.

Replying to [comment:28 ruhm]:
> In that case, I would suggest to give a explanation and an example that demonstrate this usefulness.


Additionally, I changed the creation of the dictionary to a way which is hopefully compatible with python 3.



---

archive/issue_comments_317500.json:
```json
{
    "body": "<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-30T08:35:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317500",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317501.json:
```json
{
    "body": "<a id='comment:32'></a>LGTM",
    "created_at": "2017-07-28T16:10:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317501",
    "user": "https://github.com/malb"
}
```

<a id='comment:32'></a>LGTM



---

archive/issue_comments_317502.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-07-28T16:10:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317502",
    "user": "https://github.com/malb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_059575.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2017-07-28T16:10:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "milestone": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22988#event-59575"
}
```



---

archive/issue_comments_317503.json:
```json
{
    "body": "<a id='comment:33'></a>Merge conflict",
    "created_at": "2017-07-28T21:21:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317503",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:33'></a>Merge conflict



---

archive/issue_comments_317504.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-07-28T21:21:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317504",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_317505.json:
```json
{
    "body": "<a id='comment:34'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-07-30T12:24:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317505",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317506.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-07-30T12:28:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317506",
    "user": "https://github.com/pfasante"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_317507.json:
```json
{
    "body": "<a id='comment:35'></a>fixed merge conflicts.",
    "created_at": "2017-07-30T12:28:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317507",
    "user": "https://github.com/pfasante"
}
```

<a id='comment:35'></a>fixed merge conflicts.



---

archive/issue_comments_317508.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-07-31T17:31:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317508",
    "user": "https://github.com/malb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_317509.json:
```json
{
    "body": "<a id='comment:37'></a>Docbuild fails",
    "created_at": "2017-07-31T22:09:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317509",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:37'></a>Docbuild fails



---

archive/issue_comments_317510.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-07-31T22:09:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317510",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_317511.json:
```json
{
    "body": "<a id='comment:38'></a>Replying to [comment:37 vbraun]:\n> Docbuild fails\n\n\nAre you sure that this error is due to my patch? I cannot docbuild the develop branch with the same error.\n\n(Not sure if I get the same error than you:\n\n```\nOSError: [manifolds] /home/asante/werkstatt/werkbank/sage/src/doc/en/reference/manifolds/index.rst:4: WARNING: undefined label: tensors-on-free-modules (if the link has no caption the label must precede a section header)\n```\n\nplus some missing labels, but all these seem to be in the references rst document)",
    "created_at": "2017-08-01T08:22:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317511",
    "user": "https://github.com/pfasante"
}
```

<a id='comment:38'></a>Replying to [comment:37 vbraun]:
> Docbuild fails


Are you sure that this error is due to my patch? I cannot docbuild the develop branch with the same error.

(Not sure if I get the same error than you:

```
OSError: [manifolds] /home/asante/werkstatt/werkbank/sage/src/doc/en/reference/manifolds/index.rst:4: WARNING: undefined label: tensors-on-free-modules (if the link has no caption the label must precede a section header)
```

plus some missing labels, but all these seem to be in the references rst document)



---

archive/issue_comments_317512.json:
```json
{
    "body": "<a id='comment:39'></a>OK I think this was due to an error on my side to not clean old build things up.\n\nReplying to [comment:38 asante]:\n> Replying to [comment:37 vbraun]:\n> > Docbuild fails\n\n> \n> Are you sure that this error is due to my patch? I cannot docbuild the develop branch with the same error.\n> \n> (Not sure if I get the same error than you:\n> \n> \n> ```\n> OSError: [manifolds] /home/asante/werkstatt/werkbank/sage/src/doc/en/reference/manifolds/index.rst:4: WARNING: undefined label: tensors-on-free-modules (if the link has no caption the label must precede a section header)\n> ```\n> \n> plus some missing labels, but all these seem to be in the references rst document)",
    "created_at": "2017-08-01T15:45:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317512",
    "user": "https://github.com/pfasante"
}
```

<a id='comment:39'></a>OK I think this was due to an error on my side to not clean old build things up.

Replying to [comment:38 asante]:
> Replying to [comment:37 vbraun]:
> > Docbuild fails

> 
> Are you sure that this error is due to my patch? I cannot docbuild the develop branch with the same error.
> 
> (Not sure if I get the same error than you:
> 
> 
> ```
> OSError: [manifolds] /home/asante/werkstatt/werkbank/sage/src/doc/en/reference/manifolds/index.rst:4: WARNING: undefined label: tensors-on-free-modules (if the link has no caption the label must precede a section header)
> ```
> 
> plus some missing labels, but all these seem to be in the references rst document)



---

archive/issue_comments_317513.json:
```json
{
    "body": "<a id='comment:40'></a>Replying to [comment:37 vbraun]:\n> Docbuild fails\n\n\nNevertheless, I cannot reproduce the docbuild error. When running\n\n```\nSAGE_ROOT=`pwd` make clean\nSAGE_ROOT=`pwd` make\nSAGE_ROOT=`pwd` ./sage -b\nSAGE_ROOT=`pwd` ./sage --docbuild reference html\n```\nthe build finishes successfully.",
    "created_at": "2017-08-01T17:32:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317513",
    "user": "https://github.com/pfasante"
}
```

<a id='comment:40'></a>Replying to [comment:37 vbraun]:
> Docbuild fails


Nevertheless, I cannot reproduce the docbuild error. When running

```
SAGE_ROOT=`pwd` make clean
SAGE_ROOT=`pwd` make
SAGE_ROOT=`pwd` ./sage -b
SAGE_ROOT=`pwd` ./sage --docbuild reference html
```
the build finishes successfully.



---

archive/issue_comments_317514.json:
```json
{
    "body": "<a id='comment:41'></a>l.78 of `sbox.py`  there is a reference to [PRESENT07] that you renamed.",
    "created_at": "2017-08-02T07:27:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317514",
    "user": "https://trac.sagemath.org/admin/accounts/users/ylchapuy"
}
```

<a id='comment:41'></a>l.78 of `sbox.py`  there is a reference to [PRESENT07] that you renamed.



---

archive/issue_comments_317515.json:
```json
{
    "body": "<a id='comment:42'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-02T11:00:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317515",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317516.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-08-02T11:03:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317516",
    "user": "https://github.com/pfasante"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_317517.json:
```json
{
    "body": "<a id='comment:43'></a>Replying to [comment:41 ylchapuy]:\n> l.78 of `sbox.py`  there is a reference to [PRESENT07] that you renamed.\n\n\nThanks ylchapuy! I totally oversaw this one :/\nSorry for the inconvenience.\n\nDid I just not see the error in the build output, or did I miss a part of the doc-build?",
    "created_at": "2017-08-02T11:03:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317517",
    "user": "https://github.com/pfasante"
}
```

<a id='comment:43'></a>Replying to [comment:41 ylchapuy]:
> l.78 of `sbox.py`  there is a reference to [PRESENT07] that you renamed.


Thanks ylchapuy! I totally oversaw this one :/
Sorry for the inconvenience.

Did I just not see the error in the build output, or did I miss a part of the doc-build?



---

archive/issue_comments_317518.json:
```json
{
    "body": "<a id='comment:44'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-06T12:49:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317518",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:44'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317519.json:
```json
{
    "body": "<a id='comment:45'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-07T15:03:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317519",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:45'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317520.json:
```json
{
    "body": "<a id='comment:46'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-30T07:23:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317520",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:46'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317521.json:
```json
{
    "body": "<a id='comment:47'></a>Looks good!",
    "created_at": "2017-08-30T15:16:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317521",
    "user": "https://github.com/roed314"
}
```

<a id='comment:47'></a>Looks good!



---

archive/issue_comments_317522.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-08-30T15:16:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317522",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_317523.json:
```json
{
    "body": "<a id='comment:48'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2017-08-31T09:23:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317523",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:48'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_317524.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2017-08-31T09:23:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317524",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_317525.json:
```json
{
    "body": "<a id='comment:49'></a>Thanks for catching that.  The changes are fine with me.",
    "created_at": "2017-08-31T15:36:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317525",
    "user": "https://github.com/roed314"
}
```

<a id='comment:49'></a>Thanks for catching that.  The changes are fine with me.



---

archive/issue_comments_317526.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-08-31T15:36:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317526",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_317527.json:
```json
{
    "body": "<a id='comment:50'></a>Merge conflict",
    "created_at": "2017-09-02T09:37:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317527",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:50'></a>Merge conflict



---

archive/issue_comments_317528.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-09-02T09:37:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317528",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_317529.json:
```json
{
    "body": "<a id='comment:51'></a>vbraun: I cannot see what merge conflict occurs here, would it be possible for you to check again?",
    "created_at": "2017-09-02T13:00:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317529",
    "user": "https://github.com/pfasante"
}
```

<a id='comment:51'></a>vbraun: I cannot see what merge conflict occurs here, would it be possible for you to check again?



---

archive/issue_comments_317530.json:
```json
{
    "body": "<a id='comment:52'></a>please merge in the next beta",
    "created_at": "2017-09-02T19:06:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317530",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:52'></a>please merge in the next beta



---

archive/issue_comments_317531.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2017-09-06T07:12:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317531",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_317532.json:
```json
{
    "body": "<a id='comment:54'></a>I fixed the merge.\n\n---\nNew commits:",
    "created_at": "2017-09-06T07:12:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317532",
    "user": "https://github.com/roed314"
}
```

<a id='comment:54'></a>I fixed the merge.

---
New commits:



---

archive/issue_comments_317533.json:
```json
{
    "body": "<a id='comment:55'></a>It would be nice to get this merged early, since the global references file is kind of a nightmare for merge conflicts.",
    "created_at": "2017-09-06T07:13:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317533",
    "user": "https://github.com/roed314"
}
```

<a id='comment:55'></a>It would be nice to get this merged early, since the global references file is kind of a nightmare for merge conflicts.



---

archive/issue_events_059576.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-09-10T22:05:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22988#event-59576"
}
```



---

archive/issue_comments_317534.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-09-10T22:05:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22988",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22988#issuecomment-317534",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
