# Issue 22026: Doctests: Even reals are integers

archive/issues_021789.json:
```json
{
    "body": "Check this:\n\n```python\nsage: assume(x, 'even')\nsage: assume(x, 'real')\nsage: simplify((-1)**x)\n1\nsage: x.is_integer()\nFalse\n```\n\nAt least for real numbers (or even for complex numbers), an even number should be assumed to be an integer.\n\nThis is how it works in SymPy:\n\n```python\nIn [2]: x = Symbol('x', even=True)\n\nIn [3]: x.is_integer\nOut[3]: True\n```\n\nWas supposed to be fixed in pynac-0.7.4. This will also work and should be doctested here:\n\n```\nsage: sage: assume(x, 'even')\n....: sage: assume(x, 'real')\n....: \nsage: (-1)^x\n1\nsage: (-gamma(pi))^x\ngamma(pi)^x\n```\n\nKeywords: is_integer,assume\n\nBranch/Commit: 81e3fbabc4d05832f20d04ff216e112e607aa1d1\n\nReviewer: Travis Scrimshaw\n\nAuthor: Ralf Stephan\n\nDependencies: #22219\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/22026\n\n",
    "closed_at": "2017-06-07T20:13:26Z",
    "created_at": "2016-12-06T09:07:10Z",
    "labels": [
        "component: symbolics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "Doctests: Even reals are integers",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22026",
    "user": "https://github.com/pelegm"
}
```
Check this:

```python
sage: assume(x, 'even')
sage: assume(x, 'real')
sage: simplify((-1)**x)
1
sage: x.is_integer()
False
```

At least for real numbers (or even for complex numbers), an even number should be assumed to be an integer.

This is how it works in SymPy:

```python
In [2]: x = Symbol('x', even=True)

In [3]: x.is_integer
Out[3]: True
```

Was supposed to be fixed in pynac-0.7.4. This will also work and should be doctested here:

```
sage: sage: assume(x, 'even')
....: sage: assume(x, 'real')
....: 
sage: (-1)^x
1
sage: (-gamma(pi))^x
gamma(pi)^x
```

Keywords: is_integer,assume

Branch/Commit: 81e3fbabc4d05832f20d04ff216e112e607aa1d1

Reviewer: Travis Scrimshaw

Author: Ralf Stephan

Dependencies: #22219

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/22026





---

archive/issue_comments_321713.json:
```json
{
    "body": "<a id='comment:1'></a>I wasn't sure if I should report this as a defect or as an enhancement.\n\nI'll add that if one tries\n\n```python\nsage: assume(x, 'noninteger')\n```\nan error is raised:\n\n```pytb\nTraceback (most recent call last):\n...\nValueError: Assumption is inconsistent\n```\nso \"someone\" knows `x` is an integer...",
    "created_at": "2016-12-06T09:13:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22026#issuecomment-321713",
    "user": "https://github.com/pelegm"
}
```

<a id='comment:1'></a>I wasn't sure if I should report this as a defect or as an enhancement.

I'll add that if one tries

```python
sage: assume(x, 'noninteger')
```
an error is raised:

```pytb
Traceback (most recent call last):
...
ValueError: Assumption is inconsistent
```
so "someone" knows `x` is an integer...



---

archive/issue_comments_321714.json:
```json
{
    "body": "<a id='comment:2'></a>Yes, Maxima knows. The inference logic however is in Pynac.",
    "created_at": "2016-12-06T16:17:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22026#issuecomment-321714",
    "user": "https://github.com/rwst"
}
```

<a id='comment:2'></a>Yes, Maxima knows. The inference logic however is in Pynac.



---

archive/issue_comments_321715.json:
```json
{
    "body": "<a id='comment:3'></a>This is now https://github.com/pynac/pynac/issues/225",
    "created_at": "2017-01-14T08:04:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22026#issuecomment-321715",
    "user": "https://github.com/rwst"
}
```

<a id='comment:3'></a>This is now https://github.com/pynac/pynac/issues/225



---

archive/issue_comments_321716.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -20,6 +20,18 @@\n Out[3]: True\n ```\n \n+Fixed in pynac-0.7.4. This will also work and should be doctested here:\n+\n+```\n+sage: sage: assume(x, 'even')\n+....: sage: assume(x, 'real')\n+....: \n+sage: (-1)^x\n+1\n+sage: (-gamma(pi))^x\n+gamma(pi)^x\n+```\n+\n Comment: 1\n \n Summary: Even reals are integers\n```\n",
    "created_at": "2017-01-17T07:16:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22026#issuecomment-321716",
    "user": "https://github.com/rwst"
}
```

Description changed:
```diff
--- 
+++ 
@@ -20,6 +20,18 @@
 Out[3]: True
 ```
 
+Fixed in pynac-0.7.4. This will also work and should be doctested here:
+
+```
+sage: sage: assume(x, 'even')
+....: sage: assume(x, 'real')
+....: 
+sage: (-1)^x
+1
+sage: (-gamma(pi))^x
+gamma(pi)^x
+```
+
 Comment: 1
 
 Summary: Even reals are integers
```




---

archive/issue_comments_321717.json:
```json
{
    "body": "<a id='comment:6'></a>Not fixed in Pynac, huh.",
    "created_at": "2017-02-08T07:45:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22026#issuecomment-321717",
    "user": "https://github.com/rwst"
}
```

<a id='comment:6'></a>Not fixed in Pynac, huh.



---

archive/issue_comments_321718.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,36 @@\n+Check this:\n \n+```python\n+sage: assume(x, 'even')\n+sage: assume(x, 'real')\n+sage: simplify((-1)**x)\n+1\n+sage: x.is_integer()\n+False\n+```\n+\n+At least for real numbers (or even for complex numbers), an even number should be assumed to be an integer.\n+\n+This is how it works in SymPy:\n+\n+```python\n+In [2]: x = Symbol('x', even=True)\n+\n+In [3]: x.is_integer\n+Out[3]: True\n+```\n+\n+Was supposed to be fixed in pynac-0.7.4. This will also work and should be doctested here:\n+\n+```\n+sage: sage: assume(x, 'even')\n+....: sage: assume(x, 'real')\n+....: \n+sage: (-1)^x\n+1\n+sage: (-gamma(pi))^x\n+gamma(pi)^x\n+```\n \n Comment: 1\n \n```\n",
    "created_at": "2017-02-08T07:45:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22026#issuecomment-321718",
    "user": "https://github.com/rwst"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,36 @@
+Check this:
 
+```python
+sage: assume(x, 'even')
+sage: assume(x, 'real')
+sage: simplify((-1)**x)
+1
+sage: x.is_integer()
+False
+```
+
+At least for real numbers (or even for complex numbers), an even number should be assumed to be an integer.
+
+This is how it works in SymPy:
+
+```python
+In [2]: x = Symbol('x', even=True)
+
+In [3]: x.is_integer
+Out[3]: True
+```
+
+Was supposed to be fixed in pynac-0.7.4. This will also work and should be doctested here:
+
+```
+sage: sage: assume(x, 'even')
+....: sage: assume(x, 'real')
+....: 
+sage: (-1)^x
+1
+sage: (-gamma(pi))^x
+gamma(pi)^x
+```
 
 Comment: 1
 
```




---

archive/issue_comments_321719.json:
```json
{
    "body": "<a id='comment:7'></a>Issue is fixed. Only doctests needed.",
    "created_at": "2017-06-03T05:46:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22026#issuecomment-321719",
    "user": "https://github.com/rwst"
}
```

<a id='comment:7'></a>Issue is fixed. Only doctests needed.



---

archive/issue_events_057992.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-06-05T07:53:07Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22026",
    "milestone": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22026#event-57992"
}
```



---

archive/issue_comments_321720.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-06-05T07:53:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22026#issuecomment-321720",
    "user": "https://github.com/rwst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_321721.json:
```json
{
    "body": "<a id='comment:9'></a>New commits:",
    "created_at": "2017-06-05T07:53:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22026#issuecomment-321721",
    "user": "https://github.com/rwst"
}
```

<a id='comment:9'></a>New commits:



---

archive/issue_comments_321722.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-06-05T08:07:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22026#issuecomment-321722",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_321723.json:
```json
{
    "body": "<a id='comment:10'></a>LGTM.",
    "created_at": "2017-06-05T08:07:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22026#issuecomment-321723",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'></a>LGTM.



---

archive/issue_comments_321724.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-06-07T20:13:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22026",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22026#issuecomment-321724",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_057993.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-06-07T20:13:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22026",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22026#event-57993"
}
```
