# Issue 22875: py3: operator has no longer div and idiv methods

archive/issues_022638.json:
```json
{
    "assignees": [],
    "body": "related to #15995\n\nthis means that we need to change the coercion framework, and in particular\n\n* src/sage/structure/coerce.pyx\n* src/sage/structure/element.pyx\n\nCC:  @jdemeyer @tscrim @jhpalmieri @embray\n\nComponent: **python3**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton, Jeroen Demeyer**\n\nBranch/Commit: **[`9f1c2e6`](https://github.com/sagemath/sagetrac-mirror/commit/9f1c2e61dd6a748483aeed2e79f9853a4a951641)**\n\nReviewer: **Fr\u00e9d\u00e9ric Chapoton, Jeroen Demeyer**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/22875_\n\n",
    "closed_at": "2017-09-10T22:05:39Z",
    "created_at": "2017-04-26T11:42:12Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20python3",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "py3: operator has no longer div and idiv methods",
    "type": "issue",
    "updated_at": "2017-09-10T22:05:39Z",
    "url": "https://github.com/sagemath/sage/issues/22875",
    "user": "https://github.com/fchapoton"
}
```
related to #15995

this means that we need to change the coercion framework, and in particular

* src/sage/structure/coerce.pyx
* src/sage/structure/element.pyx

CC:  @jdemeyer @tscrim @jhpalmieri @embray

Component: **python3**

Author: **Frédéric Chapoton, Jeroen Demeyer**

Branch/Commit: **[`9f1c2e6`](https://github.com/sagemath/sagetrac-mirror/commit/9f1c2e61dd6a748483aeed2e79f9853a4a951641)**

Reviewer: **Frédéric Chapoton, Jeroen Demeyer**

_Issue created by migration from https://trac.sagemath.org/ticket/22875_





---

archive/issue_events_316336.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-04-26T11:42:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22875#event-316336"
}
```



---

archive/issue_events_316337.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-04-26T11:42:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20python3",
    "label_color": "0000b0",
    "label_name": "c: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22875#event-316337"
}
```



---

archive/issue_events_316338.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-04-26T11:42:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22875#event-316338"
}
```



---

archive/issue_events_316339.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-04-26T11:42:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22875#event-316339"
}
```



---

archive/issue_comments_341132.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,5 +2,5 @@\n \n this means that we need to change the coercion framework, and in particular\n \n-src/sage/structure/coerce.pyx\n-src/sage/structure/element.pyx\n+* src/sage/structure/coerce.pyx\n+* src/sage/structure/element.pyx\n``````\n",
    "created_at": "2017-04-26T11:42:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341132",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,5 +2,5 @@
 
 this means that we need to change the coercion framework, and in particular
 
-src/sage/structure/coerce.pyx
-src/sage/structure/element.pyx
+* src/sage/structure/coerce.pyx
+* src/sage/structure/element.pyx
``````




---

archive/issue_comments_341133.json:
```json
{
    "body": "Commit: **[`9d29550`](https://github.com/sagemath/sagetrac-mirror/commit/9d29550f832cc01a294bf8797e3299fe308779cf)**",
    "created_at": "2017-05-27T12:38:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341133",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`9d29550`](https://github.com/sagemath/sagetrac-mirror/commit/9d29550f832cc01a294bf8797e3299fe308779cf)**



---

archive/issue_comments_341134.json:
```json
{
    "body": "Branch: **[u/chapoton/22875](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/22875)**",
    "created_at": "2017-05-27T12:38:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341134",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/22875](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/22875)**



---

archive/issue_comments_341135.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d29550f832cc01a294bf8797e3299fe308779cf\"><code>9d29550</code></a></td><td><code>py3: changing from div to truediv</code></td></tr></table>\n",
    "created_at": "2017-05-27T12:38:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341135",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d29550f832cc01a294bf8797e3299fe308779cf"><code>9d29550</code></a></td><td><code>py3: changing from div to truediv</code></td></tr></table>




---

archive/issue_comments_341136.json:
```json
{
    "body": "Author: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2017-05-27T12:38:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341136",
    "user": "https://github.com/fchapoton"
}
```

Author: **Frédéric Chapoton**



---

archive/issue_comments_341137.json:
```json
{
    "body": "Replying to [ticket:22875 chapoton]:\n> this means that we need to change the coercion framework\n\nYou don't have to. You could keep using `operator.div` in Python 2. I would prefer the code to be something like\n\n```\ntry:\n    from operator import div, idiv\nexcept ImportError:\n    pass\n```\n\nPlease revert the change to lazy import, it conflicts with #22755.",
    "created_at": "2017-05-27T13:04:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341137",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [ticket:22875 chapoton]:
> this means that we need to change the coercion framework

You don't have to. You could keep using `operator.div` in Python 2. I would prefer the code to be something like

```
try:
    from operator import div, idiv
except ImportError:
    pass
```

Please revert the change to lazy import, it conflicts with #22755.



---

archive/issue_comments_341138.json:
```json
{
    "body": "Changed commit from **[`9d29550`](https://github.com/sagemath/sagetrac-mirror/commit/9d29550f832cc01a294bf8797e3299fe308779cf)** to **[`dbc88e5`](https://github.com/sagemath/sagetrac-mirror/commit/dbc88e59c0e1953b64f3d3588656457fb85e7d12)**",
    "created_at": "2017-05-27T15:43:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341138",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9d29550`](https://github.com/sagemath/sagetrac-mirror/commit/9d29550f832cc01a294bf8797e3299fe308779cf)** to **[`dbc88e5`](https://github.com/sagemath/sagetrac-mirror/commit/dbc88e59c0e1953b64f3d3588656457fb85e7d12)**



---

archive/issue_comments_341139.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dbc88e59c0e1953b64f3d3588656457fb85e7d12\"><code>dbc88e5</code></a></td><td><code>trac 22875 unchange lazy_import, change one block to TESTS::</code></td></tr></table>\n",
    "created_at": "2017-05-27T15:43:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341139",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dbc88e59c0e1953b64f3d3588656457fb85e7d12"><code>dbc88e5</code></a></td><td><code>trac 22875 unchange lazy_import, change one block to TESTS::</code></td></tr></table>




---

archive/issue_comments_341140.json:
```json
{
    "body": "Dependencies: **#22755**",
    "created_at": "2017-05-27T15:45:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341140",
    "user": "https://github.com/fchapoton"
}
```

Dependencies: **#22755**



---

archive/issue_comments_341141.json:
```json
{
    "body": "Changed commit from **[`dbc88e5`](https://github.com/sagemath/sagetrac-mirror/commit/dbc88e59c0e1953b64f3d3588656457fb85e7d12)** to **[`e637ced`](https://github.com/sagemath/sagetrac-mirror/commit/e637cede497bd78ce206610fa6abd8c5035dbb95)**",
    "created_at": "2017-05-27T17:48:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341141",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`dbc88e5`](https://github.com/sagemath/sagetrac-mirror/commit/dbc88e59c0e1953b64f3d3588656457fb85e7d12)** to **[`e637ced`](https://github.com/sagemath/sagetrac-mirror/commit/e637cede497bd78ce206610fa6abd8c5035dbb95)**



---

archive/issue_comments_341142.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e637cede497bd78ce206610fa6abd8c5035dbb95\"><code>e637ced</code></a></td><td><code>remove imports and traces of div and idiv</code></td></tr></table>\n",
    "created_at": "2017-05-27T17:48:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341142",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e637cede497bd78ce206610fa6abd8c5035dbb95"><code>e637ced</code></a></td><td><code>remove imports and traces of div and idiv</code></td></tr></table>




---

archive/issue_events_316340.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-06-16T10:03:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22875#event-316340"
}
```



---

archive/issue_comments_341143.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nmaybe this does not really depend on #22755 ?",
    "created_at": "2017-06-16T10:03:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341143",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:7" align="right">comment:7</div>

maybe this does not really depend on #22755 ?



---

archive/issue_comments_341144.json:
```json
{
    "body": "Changed dependencies from **#22755** to none",
    "created_at": "2017-06-16T10:44:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341144",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#22755** to none



---

archive/issue_comments_341145.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@fchapoton](#comment%3A7):\n> maybe this does not really depend on #22755 ?\n\nNo, it doesn't.",
    "created_at": "2017-06-16T10:44:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341145",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@fchapoton](#comment%3A7):
> maybe this does not really depend on #22755 ?

No, it doesn't.



---

archive/issue_events_316341.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-06-16T11:04:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22875#event-316341"
}
```



---

archive/issue_events_316342.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-06-16T11:04:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22875#event-316342"
}
```



---

archive/issue_comments_341146.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nthanks. So let me put this into \"needs_review\" and hope that a patchbot will run on it.",
    "created_at": "2017-06-16T11:04:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341146",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:9" align="right">comment:9</div>

thanks. So let me put this into "needs_review" and hope that a patchbot will run on it.



---

archive/issue_comments_341147.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nwell, patchbot is morally green. Please review",
    "created_at": "2017-06-16T17:29:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341147",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:10" align="right">comment:10</div>

well, patchbot is morally green. Please review



---

archive/issue_comments_341148.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI'm confused by the Python 2-to-3 conversion here. When I look at documentation for the  [Python 2 `operator` module](https://docs.python.org/2/library/operator.html), I see for `operator.truediv`:\n\n```\nReturn a / b when __future__.division is in effect. This is also known as \u201ctrue\u201d division.\n```\nDoes this mean that we need `from `__future__` import division` everywhere, or is the single import in sage.all enough?\n\nRegarding the change\n\n```diff\n         cdef long j\n         cdef long prec\n \n-        if op not in (operator.add, operator.sub, operator.mul, operator.div):\n+        if op not in (operator.add, operator.sub, operator.mul, operator.truediv):\n             raise ValueError(\"op must be operator.OP where OP=add, sub, mul or div\")\n \n         if not isinstance(p2, Polynomial):\n```\nin sage/rings/polynomial/polynomial_element.pyx, the docstring needs to be changed, too:\n\n```\n        - ``op`` -- ``operator.OP`` where ``OP=add`` or ``sub`` or ``mul`` or\n          ``div``.\n```\nAlso the string in the error message: \"op must be ... or *truediv*\".",
    "created_at": "2017-06-16T23:15:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341148",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:11" align="right">comment:11</div>

I'm confused by the Python 2-to-3 conversion here. When I look at documentation for the  [Python 2 `operator` module](https://docs.python.org/2/library/operator.html), I see for `operator.truediv`:

```
Return a / b when __future__.division is in effect. This is also known as “true” division.
```
Does this mean that we need `from `__future__` import division` everywhere, or is the single import in sage.all enough?

Regarding the change

```diff
         cdef long j
         cdef long prec
 
-        if op not in (operator.add, operator.sub, operator.mul, operator.div):
+        if op not in (operator.add, operator.sub, operator.mul, operator.truediv):
             raise ValueError("op must be operator.OP where OP=add, sub, mul or div")
 
         if not isinstance(p2, Polynomial):
```
in sage/rings/polynomial/polynomial_element.pyx, the docstring needs to be changed, too:

```
        - ``op`` -- ``operator.OP`` where ``OP=add`` or ``sub`` or ``mul`` or
          ``div``.
```
Also the string in the error message: "op must be ... or *truediv*".



---

archive/issue_comments_341149.json:
```json
{
    "body": "Changed commit from **[`e637ced`](https://github.com/sagemath/sagetrac-mirror/commit/e637cede497bd78ce206610fa6abd8c5035dbb95)** to **[`bf738fe`](https://github.com/sagemath/sagetrac-mirror/commit/bf738fef2c0158699d81c55debfbfbdcfc4237c2)**",
    "created_at": "2017-06-17T07:03:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341149",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e637ced`](https://github.com/sagemath/sagetrac-mirror/commit/e637cede497bd78ce206610fa6abd8c5035dbb95)** to **[`bf738fe`](https://github.com/sagemath/sagetrac-mirror/commit/bf738fef2c0158699d81c55debfbfbdcfc4237c2)**



---

archive/issue_comments_341150.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b2805ffe0a705fa7185ece0c1101fe99abacb8e5\"><code>b2805ff</code></a></td><td><code>Merge branch 'u/chapoton/22875' in 8.0.b10</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bf738fef2c0158699d81c55debfbfbdcfc4237c2\"><code>bf738fe</code></a></td><td><code>trac 2275 truediv in doc</code></td></tr></table>\n",
    "created_at": "2017-06-17T07:03:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341150",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b2805ffe0a705fa7185ece0c1101fe99abacb8e5"><code>b2805ff</code></a></td><td><code>Merge branch 'u/chapoton/22875' in 8.0.b10</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bf738fef2c0158699d81c55debfbfbdcfc4237c2"><code>bf738fe</code></a></td><td><code>trac 2275 truediv in doc</code></td></tr></table>




---

archive/issue_comments_341151.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\n* in python3, div does no longer exist\n\n* in python2, the behaviour of truediv is the same as in python3\n\n* the future import transforms the behaviour of div and / in python2 to become the same as truediv\n\nThe strategy here is very simple : get rid of any use of div everywhere, and use truediv instead. This works smoothly, as the bot has been green already.\n\nThis does not fix completely the division issue, as we may have later to add the future import in some files that use /. This has already been partially done.",
    "created_at": "2017-06-17T07:09:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341151",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:13" align="right">comment:13</div>

* in python3, div does no longer exist

* in python2, the behaviour of truediv is the same as in python3

* the future import transforms the behaviour of div and / in python2 to become the same as truediv

The strategy here is very simple : get rid of any use of div everywhere, and use truediv instead. This works smoothly, as the bot has been green already.

This does not fix completely the division issue, as we may have later to add the future import in some files that use /. This has already been partially done.



---

archive/issue_comments_341152.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\ngreen bot !",
    "created_at": "2017-06-17T20:43:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341152",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:14" align="right">comment:14</div>

green bot !



---

archive/issue_comments_341153.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@jhpalmieri](#comment%3A11):\n> I'm confused by the Python 2-to-3 conversion here. When I look at documentation for the  [Python 2 `operator` module](https://docs.python.org/2/library/operator.html), I see for `operator.truediv`:\n> \n> ```\n> Return a / b when __future__.division is in effect. This is also known as \u201ctrue\u201d division.\n> ```\n\nYou need to interpret it \"Return `a/b` as if `__future__.division` is in effect\" (I agree that the documentation is a bit confusing). It does true division regardless of any future imports. Analogously, `operator.div` does old-style division regardless of any futute imports.",
    "created_at": "2017-06-19T08:05:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341153",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@jhpalmieri](#comment%3A11):
> I'm confused by the Python 2-to-3 conversion here. When I look at documentation for the  [Python 2 `operator` module](https://docs.python.org/2/library/operator.html), I see for `operator.truediv`:
> 
> ```
> Return a / b when __future__.division is in effect. This is also known as “true” division.
> ```

You need to interpret it "Return `a/b` as if `__future__.division` is in effect" (I agree that the documentation is a bit confusing). It does true division regardless of any future imports. Analogously, `operator.div` does old-style division regardless of any futute imports.



---

archive/issue_comments_341154.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\n1. `src/sage/ext/fast_callable.pyx`: I guess you should support both `div` and `truediv` (instead of only `truediv`).\n\n2. `src/sage/interfaces/maxima_lib.py`: same as 1\n\n3. `src/sage/rings/integer.pyx`: it is wrong to call `operator.truediv` from `__div__`. Either call `div` from `__div__` or `truediv` from `__truediv__`.\n\n4. `src/sage/rings/polynomial/polynomial_element.pyx`: `composed_op`: same as 1\n\n5. `src/sage/rings/qqbar.py`: add `from `__future__` import division` such that the semantics remain compatible.\n\n6. `src/sage/rings/rational.pyx`: same as 3\n\n7. `src/sage/rings/real_lazy.pyx`: same as 5\n\n8. `src/sage/structure/coerce.pyx`: keep the doctests involving `operator.div` on Python 2. We still want that to work on Python 2.\n\n9. `src/sage/structure/coerce_actions.pyx`: same as 8\n\n10. `src/sage/structure/element.pyx`: this is really wrong: `from operator import truediv as div`. \"truediv\" and \"div\" are distinct operators which should be handled separately.\n\nI don't really understand the symbolic stuff, so I cannot really check it well. On the other hard, there is probably no reason for symbolics to treat \"div\" differently from \"truediv\".",
    "created_at": "2017-06-19T08:30:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341154",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

1. `src/sage/ext/fast_callable.pyx`: I guess you should support both `div` and `truediv` (instead of only `truediv`).

2. `src/sage/interfaces/maxima_lib.py`: same as 1

3. `src/sage/rings/integer.pyx`: it is wrong to call `operator.truediv` from `__div__`. Either call `div` from `__div__` or `truediv` from `__truediv__`.

4. `src/sage/rings/polynomial/polynomial_element.pyx`: `composed_op`: same as 1

5. `src/sage/rings/qqbar.py`: add `from `__future__` import division` such that the semantics remain compatible.

6. `src/sage/rings/rational.pyx`: same as 3

7. `src/sage/rings/real_lazy.pyx`: same as 5

8. `src/sage/structure/coerce.pyx`: keep the doctests involving `operator.div` on Python 2. We still want that to work on Python 2.

9. `src/sage/structure/coerce_actions.pyx`: same as 8

10. `src/sage/structure/element.pyx`: this is really wrong: `from operator import truediv as div`. "truediv" and "div" are distinct operators which should be handled separately.

I don't really understand the symbolic stuff, so I cannot really check it well. On the other hard, there is probably no reason for symbolics to treat "div" differently from "truediv".



---

archive/issue_events_316343.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-06-19T08:30:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22875#event-316343"
}
```



---

archive/issue_events_316344.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-06-19T08:30:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22875#event-316344"
}
```



---

archive/issue_comments_341155.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a3833a62e16b00f7c81a814fb1f576d441cd0f0f\"><code>a3833a6</code></a></td><td><code>Merge branch 'u/chapoton/22875' in 8.1.b2</code></td></tr></table>\n",
    "created_at": "2017-08-19T12:43:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341155",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a3833a62e16b00f7c81a814fb1f576d441cd0f0f"><code>a3833a6</code></a></td><td><code>Merge branch 'u/chapoton/22875' in 8.1.b2</code></td></tr></table>




---

archive/issue_comments_341156.json:
```json
{
    "body": "Changed commit from **[`bf738fe`](https://github.com/sagemath/sagetrac-mirror/commit/bf738fef2c0158699d81c55debfbfbdcfc4237c2)** to **[`a3833a6`](https://github.com/sagemath/sagetrac-mirror/commit/a3833a62e16b00f7c81a814fb1f576d441cd0f0f)**",
    "created_at": "2017-08-19T12:43:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341156",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bf738fe`](https://github.com/sagemath/sagetrac-mirror/commit/bf738fef2c0158699d81c55debfbfbdcfc4237c2)** to **[`a3833a6`](https://github.com/sagemath/sagetrac-mirror/commit/a3833a62e16b00f7c81a814fb1f576d441cd0f0f)**



---

archive/issue_comments_341157.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/275e7a3d2e069b156b104a138a26449063398088\"><code>275e7a3</code></a></td><td><code>trac 22875 adding future division import in 2 files</code></td></tr></table>\n",
    "created_at": "2017-08-21T07:51:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341157",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/275e7a3d2e069b156b104a138a26449063398088"><code>275e7a3</code></a></td><td><code>trac 22875 adding future division import in 2 files</code></td></tr></table>




---

archive/issue_comments_341158.json:
```json
{
    "body": "Changed commit from **[`a3833a6`](https://github.com/sagemath/sagetrac-mirror/commit/a3833a62e16b00f7c81a814fb1f576d441cd0f0f)** to **[`275e7a3`](https://github.com/sagemath/sagetrac-mirror/commit/275e7a3d2e069b156b104a138a26449063398088)**",
    "created_at": "2017-08-21T07:51:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341158",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a3833a6`](https://github.com/sagemath/sagetrac-mirror/commit/a3833a62e16b00f7c81a814fb1f576d441cd0f0f)** to **[`275e7a3`](https://github.com/sagemath/sagetrac-mirror/commit/275e7a3d2e069b156b104a138a26449063398088)**



---

archive/issue_comments_341159.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd248d362b834a9d07f8d8bdd664ebe9f2f0ff5b\"><code>bd248d3</code></a></td><td><code>Merge branch 'u/chapoton/22875' in 8.1.b3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ccbbd22d1a75ef5458d982913521e53a61ff9ef9\"><code>ccbbd22</code></a></td><td><code>change in fast_callable.pyx</code></td></tr></table>\n",
    "created_at": "2017-08-22T09:58:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341159",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd248d362b834a9d07f8d8bdd664ebe9f2f0ff5b"><code>bd248d3</code></a></td><td><code>Merge branch 'u/chapoton/22875' in 8.1.b3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ccbbd22d1a75ef5458d982913521e53a61ff9ef9"><code>ccbbd22</code></a></td><td><code>change in fast_callable.pyx</code></td></tr></table>




---

archive/issue_comments_341160.json:
```json
{
    "body": "Changed commit from **[`275e7a3`](https://github.com/sagemath/sagetrac-mirror/commit/275e7a3d2e069b156b104a138a26449063398088)** to **[`ccbbd22`](https://github.com/sagemath/sagetrac-mirror/commit/ccbbd22d1a75ef5458d982913521e53a61ff9ef9)**",
    "created_at": "2017-08-22T09:58:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341160",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`275e7a3`](https://github.com/sagemath/sagetrac-mirror/commit/275e7a3d2e069b156b104a138a26449063398088)** to **[`ccbbd22`](https://github.com/sagemath/sagetrac-mirror/commit/ccbbd22d1a75ef5458d982913521e53a61ff9ef9)**



---

archive/issue_comments_341161.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nWorking on getting a working `import sage.all` on Python 3 and this is one of the fixes needed (among others).  I can work on the needed updates if you want.",
    "created_at": "2017-09-05T14:16:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341161",
    "user": "https://github.com/embray"
}
```

<div id="comment:20" align="right">comment:20</div>

Working on getting a working `import sage.all` on Python 3 and this is one of the fixes needed (among others).  I can work on the needed updates if you want.



---

archive/issue_comments_341162.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nCool ! This is what I was trying to do, see the branch\n\npublic/python3-experiment-v1\n\nfor nearly the latest stage that I reached.",
    "created_at": "2017-09-05T14:20:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341162",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:21" align="right">comment:21</div>

Cool ! This is what I was trying to do, see the branch

public/python3-experiment-v1

for nearly the latest stage that I reached.



---

archive/issue_comments_341163.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI'll push a reviewer commit, which is easier than telling you what to fix.",
    "created_at": "2017-09-05T14:42:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341163",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:22" align="right">comment:22</div>

I'll push a reviewer commit, which is easier than telling you what to fix.



---

archive/issue_comments_341164.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@fchapoton](#comment%3A21):\n> Cool ! This is what I was trying to do, see the branch\n> \n> public/python3-experiment-v1\n> \n> for nearly the latest stage that I reached.\n\nAh, I wasn't sure what your latest branch was.  I was confused because there weren't tickets for some things yet, but I was pretty sure you had something closer to working somewhere...",
    "created_at": "2017-09-05T15:01:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341164",
    "user": "https://github.com/embray"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@fchapoton](#comment%3A21):
> Cool ! This is what I was trying to do, see the branch
> 
> public/python3-experiment-v1
> 
> for nearly the latest stage that I reached.

Ah, I wasn't sure what your latest branch was.  I was confused because there weren't tickets for some things yet, but I was pretty sure you had something closer to working somewhere...



---

archive/issue_comments_341165.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nI went slightly further, in particular by adding `__hash__` in one Complex Field class somewhere. I do have a branch, I think.",
    "created_at": "2017-09-05T15:20:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341165",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:24" align="right">comment:24</div>

I went slightly further, in particular by adding `__hash__` in one Complex Field class somewhere. I do have a branch, I think.



---

archive/issue_comments_341166.json:
```json
{
    "body": "Changed branch from **[u/chapoton/22875](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/22875)** to **[u/jdemeyer/22875](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/22875)**",
    "created_at": "2017-09-05T15:28:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341166",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/chapoton/22875](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/22875)** to **[u/jdemeyer/22875](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/22875)**



---

archive/issue_comments_341167.json:
```json
{
    "body": "Changed author from **Fr\u00e9d\u00e9ric Chapoton** to **Fr\u00e9d\u00e9ric Chapoton, Jeroen Demeyer**",
    "created_at": "2017-09-05T15:31:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341167",
    "user": "https://github.com/jdemeyer"
}
```

Changed author from **Frédéric Chapoton** to **Frédéric Chapoton, Jeroen Demeyer**



---

archive/issue_comments_341168.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nThese are my proposed fixes. Essentially, all fixes are to keep support for Python 2 division where applicable. I reintroduced some instances of `operator.div`, but all those are guarded in a `try`/`except` or are in `__div__` which exists only in Python 2.\n\nFor me, this ticket can get positive review if you agree with my commit.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6f8632478b2d68509dc37d6bfc92c5d2461b1c81\"><code>6f86324</code></a></td><td><code>Keep support for old-style division where applicable</code></td></tr></table>\n",
    "created_at": "2017-09-05T15:31:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341168",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:26" align="right">comment:26</div>

These are my proposed fixes. Essentially, all fixes are to keep support for Python 2 division where applicable. I reintroduced some instances of `operator.div`, but all those are guarded in a `try`/`except` or are in `__div__` which exists only in Python 2.

For me, this ticket can get positive review if you agree with my commit.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6f8632478b2d68509dc37d6bfc92c5d2461b1c81"><code>6f86324</code></a></td><td><code>Keep support for old-style division where applicable</code></td></tr></table>




---

archive/issue_comments_341169.json:
```json
{
    "body": "Changed commit from **[`ccbbd22`](https://github.com/sagemath/sagetrac-mirror/commit/ccbbd22d1a75ef5458d982913521e53a61ff9ef9)** to **[`6f86324`](https://github.com/sagemath/sagetrac-mirror/commit/6f8632478b2d68509dc37d6bfc92c5d2461b1c81)**",
    "created_at": "2017-09-05T15:31:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341169",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[`ccbbd22`](https://github.com/sagemath/sagetrac-mirror/commit/ccbbd22d1a75ef5458d982913521e53a61ff9ef9)** to **[`6f86324`](https://github.com/sagemath/sagetrac-mirror/commit/6f8632478b2d68509dc37d6bfc92c5d2461b1c81)**



---

archive/issue_comments_341170.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\none failing doctest ('div' gets duplicated in this list, somehow)",
    "created_at": "2017-09-06T05:51:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341170",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:27" align="right">comment:27</div>

one failing doctest ('div' gets duplicated in this list, somehow)



---

archive/issue_comments_341171.json:
```json
{
    "body": "Changed commit from **[`6f86324`](https://github.com/sagemath/sagetrac-mirror/commit/6f8632478b2d68509dc37d6bfc92c5d2461b1c81)** to **[`9f1c2e6`](https://github.com/sagemath/sagetrac-mirror/commit/9f1c2e61dd6a748483aeed2e79f9853a4a951641)**",
    "created_at": "2017-09-06T07:55:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341171",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6f86324`](https://github.com/sagemath/sagetrac-mirror/commit/6f8632478b2d68509dc37d6bfc92c5d2461b1c81)** to **[`9f1c2e6`](https://github.com/sagemath/sagetrac-mirror/commit/9f1c2e61dd6a748483aeed2e79f9853a4a951641)**



---

archive/issue_comments_341172.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9f1c2e61dd6a748483aeed2e79f9853a4a951641\"><code>9f1c2e6</code></a></td><td><code>builtin_functions now contains two 'div' functions</code></td></tr></table>\n",
    "created_at": "2017-09-06T07:55:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341172",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9f1c2e61dd6a748483aeed2e79f9853a4a951641"><code>9f1c2e6</code></a></td><td><code>builtin_functions now contains two 'div' functions</code></td></tr></table>




---

archive/issue_events_316345.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-09-06T07:55:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22875#event-316345"
}
```



---

archive/issue_events_316346.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-09-06T07:55:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22875#event-316346"
}
```



---

archive/issue_comments_341173.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nFixed.",
    "created_at": "2017-09-06T07:55:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341173",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:29" align="right">comment:29</div>

Fixed.



---

archive/issue_comments_341174.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nLooks good to me. I am ready to set to positive. Thanks a lot for finishing the job !\n\nBut maybe one should have more patchbot reports, including some with more optional packages installed, just to be sure that nothing serious breaks ?",
    "created_at": "2017-09-06T11:21:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341174",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:30" align="right">comment:30</div>

Looks good to me. I am ready to set to positive. Thanks a lot for finishing the job !

But maybe one should have more patchbot reports, including some with more optional packages installed, just to be sure that nothing serious breaks ?



---

archive/issue_events_316347.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-09-07T18:06:34Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22875#event-316347"
}
```



---

archive/issue_events_316348.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-09-07T18:06:34Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22875#event-316348"
}
```



---

archive/issue_comments_341175.json:
```json
{
    "body": "Reviewer: **Fr\u00e9d\u00e9ric Chapoton, Jeroen Demeyer**",
    "created_at": "2017-09-07T18:06:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341175",
    "user": "https://github.com/fchapoton"
}
```

Reviewer: **Frédéric Chapoton, Jeroen Demeyer**



---

archive/issue_comments_341176.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nok, there are two green bots. I am setting to positive.",
    "created_at": "2017-09-07T18:06:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341176",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:31" align="right">comment:31</div>

ok, there are two green bots. I am setting to positive.



---

archive/issue_events_316349.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-09-07T18:06:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22875#event-316349"
}
```



---

archive/issue_events_316350.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-09-07T18:06:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22875#event-316350"
}
```



---

archive/issue_comments_341177.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/22875](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/22875)** to **[`9f1c2e6`](https://github.com/sagemath/sagetrac-mirror/commit/9f1c2e61dd6a748483aeed2e79f9853a4a951641)**",
    "created_at": "2017-09-10T22:05:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22875#issuecomment-341177",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/22875](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/22875)** to **[`9f1c2e6`](https://github.com/sagemath/sagetrac-mirror/commit/9f1c2e61dd6a748483aeed2e79f9853a4a951641)**



---

archive/issue_events_316351.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-09-10T22:05:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22875#event-316351"
}
```



---

archive/issue_events_316352.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "dda6635be06588ef33a08d58fa95bac30354356a",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-09-10T22:05:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/22875",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22875#event-316352"
}
```
