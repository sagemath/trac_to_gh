# Issue 22292: py3 replace <type '*'> by <... '*'> in doctests for some *

archive/issues_022055.json:
```json
{
    "body": "here for * = tuple, float, dict, generator, function\n\npart of #16085, towards py3\n\nCC:  @tscrim @jm58660 @jdemeyer\n\nBranch/Commit: 4c8b79b9993b366e08f7366d09e1d45f2dd386f5\n\nReviewer: John Palmieri\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/22292\n\n",
    "closed_at": "2017-02-04T19:25:43Z",
    "created_at": "2017-02-02T20:55:52Z",
    "labels": [
        "component: python3"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.6",
    "title": "py3 replace <type '*'> by <... '*'> in doctests for some *",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22292",
    "user": "https://github.com/fchapoton"
}
```
here for * = tuple, float, dict, generator, function

part of #16085, towards py3

CC:  @tscrim @jm58660 @jdemeyer

Branch/Commit: 4c8b79b9993b366e08f7366d09e1d45f2dd386f5

Reviewer: John Palmieri

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/22292





---

archive/issue_comments_407853.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-02-02T20:57:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22292#issuecomment-407853",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_407854.json:
```json
{
    "body": "Changing commit from \"\" to \"4c8b79b9993b366e08f7366d09e1d45f2dd386f5\"",
    "created_at": "2017-02-02T20:57:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22292#issuecomment-407854",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "4c8b79b9993b366e08f7366d09e1d45f2dd386f5"



---

archive/issue_comments_407855.json:
```json
{
    "body": "Changing branch from \"\" to \"u/chapoton/22292\"",
    "created_at": "2017-02-02T20:57:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22292#issuecomment-407855",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "u/chapoton/22292"



---

archive/issue_comments_407856.json:
```json
{
    "body": "<a id='comment:1'></a>\nThis was done purely using bash commands such as\n\n```\ngrep -rl \"<type 'function\" src/sage/ | xargs sed -i \"s/<type 'function/<... 'function/g\"\n```\n\nLet us wait for the bots to check that no doctest was broken.\n\n---\nNew commits:\n|                                                                                                                                          |                                                                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|\n|[4c8b79b](https://github.com/sagemath/sagetrac-mirror/commit/4c8b79b9993b366e08f7366d09e1d45f2dd386f5)|`py3 : replace <type '*'> by <... '*'> for *=dict, generator, function, etc`|",
    "created_at": "2017-02-02T20:57:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22292#issuecomment-407856",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
This was done purely using bash commands such as

```
grep -rl "<type 'function" src/sage/ | xargs sed -i "s/<type 'function/<... 'function/g"
```

Let us wait for the bots to check that no doctest was broken.

---
New commits:
|                                                                                                                                          |                                                                            |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|
|[4c8b79b](https://github.com/sagemath/sagetrac-mirror/commit/4c8b79b9993b366e08f7366d09e1d45f2dd386f5)|`py3 : replace <type '*'> by <... '*'> for *=dict, generator, function, etc`|



---

archive/issue_comments_407857.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-here for * = tuple, dict, generator, function\n+here for * = tuple, float, dict, generator, function\n \n part of #16085, towards py3\n``````\n",
    "created_at": "2017-02-03T12:40:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22292#issuecomment-407857",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-here for * = tuple, dict, generator, function
+here for * = tuple, float, dict, generator, function
 
 part of #16085, towards py3
``````




---

archive/issue_comments_407858.json:
```json
{
    "body": "<a id='comment:3'></a>\ngreen bot, please review (easy one)",
    "created_at": "2017-02-03T17:01:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22292#issuecomment-407858",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>
green bot, please review (easy one)



---

archive/issue_comments_407859.json:
```json
{
    "body": "<a id='comment:4'></a>\nThe changes make sense and I will be able to see whether it passes tests on my machine, but I won't be able to explicitly check that it does the right thing with Python3. Is that good enough for a positive review?",
    "created_at": "2017-02-03T18:44:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22292#issuecomment-407859",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:4'></a>
The changes make sense and I will be able to see whether it passes tests on my machine, but I won't be able to explicitly check that it does the right thing with Python3. Is that good enough for a positive review?



---

archive/issue_comments_407860.json:
```json
{
    "body": "<a id='comment:5'></a>\nI've also verified that there are no remaining instances of `<type '*` for *=function, float, dict, generator, tuple in sage/src.",
    "created_at": "2017-02-03T19:00:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22292#issuecomment-407860",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:5'></a>
I've also verified that there are no remaining instances of `<type '*` for *=function, float, dict, generator, tuple in sage/src.



---

archive/issue_comments_407861.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [jhpalmieri](#comment%3A4):\n> The changes make sense and I will be able to see whether it passes tests on my machine, but I won't be able to explicitly check that it does the right thing with Python3. Is that good enough for a positive review?\n\n\nyes, that's good enough, for sure. Thanks for the review. This is preparation for python3, we are not yet at the stage where we can run sage in py3.\n\nBot is green, so this is certainly good to go.",
    "created_at": "2017-02-03T19:39:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22292#issuecomment-407861",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
Replying to [jhpalmieri](#comment%3A4):
> The changes make sense and I will be able to see whether it passes tests on my machine, but I won't be able to explicitly check that it does the right thing with Python3. Is that good enough for a positive review?


yes, that's good enough, for sure. Thanks for the review. This is preparation for python3, we are not yet at the stage where we can run sage in py3.

Bot is green, so this is certainly good to go.



---

archive/issue_comments_407862.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-02-03T19:42:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22292#issuecomment-407862",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_407863.json:
```json
{
    "body": "Changing reviewer from \"\" to \"John Palmieri\"",
    "created_at": "2017-02-03T19:42:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22292#issuecomment-407863",
    "user": "https://github.com/jhpalmieri"
}
```

Changing reviewer from "" to "John Palmieri"



---

archive/issue_comments_407864.json:
```json
{
    "body": "<a id='comment:8'></a>\nHave you built the documentation after the change? There seem to be one ticket blocking the building of the documentation in https://github.com/vbraun/sage/compare/e901b1d912...59c3b04b68 \nA plot in `generic_graph.py` is failing. This is the only ticket touching that file - which doesn't necessarily mean much.",
    "created_at": "2017-02-04T02:06:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22292#issuecomment-407864",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:8'></a>
Have you built the documentation after the change? There seem to be one ticket blocking the building of the documentation in https://github.com/vbraun/sage/compare/e901b1d912...59c3b04b68 
A plot in `generic_graph.py` is failing. This is the only ticket touching that file - which doesn't necessarily mean much.



---

archive/issue_comments_407865.json:
```json
{
    "body": "<a id='comment:9'></a>\nThe docs build for me.",
    "created_at": "2017-02-04T05:32:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22292#issuecomment-407865",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:9'></a>
The docs build for me.



---

archive/issue_comments_407866.json:
```json
{
    "body": "<a id='comment:10'></a>\nThanks. It is either a subtle problem on my setup or another ticket. Sorry for the noise.",
    "created_at": "2017-02-04T05:35:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22292#issuecomment-407866",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:10'></a>
Thanks. It is either a subtle problem on my setup or another ticket. Sorry for the noise.



---

archive/issue_comments_407867.json:
```json
{
    "body": "<a id='comment:11'></a>\nNo problem. I don't think I had actually tested the documentation until you asked. I was relying on the bot, and it never hurts to build it in person.",
    "created_at": "2017-02-04T16:28:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22292#issuecomment-407867",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:11'></a>
No problem. I don't think I had actually tested the documentation until you asked. I was relying on the bot, and it never hurts to build it in person.



---

archive/issue_events_074314.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-02-04T19:25:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22292",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22292#event-74314"
}
```



---

archive/issue_comments_407868.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-02-04T19:25:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22292#issuecomment-407868",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_407869.json:
```json
{
    "body": "Changing branch from \"u/chapoton/22292\" to \"4c8b79b9993b366e08f7366d09e1d45f2dd386f5\"",
    "created_at": "2017-02-04T19:25:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22292",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22292#issuecomment-407869",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/chapoton/22292" to "4c8b79b9993b366e08f7366d09e1d45f2dd386f5"
