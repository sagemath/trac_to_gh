# Issue 22648: LatticePoset: test if lattice is constructible by doublings

archive/issues_022411.json:
```json
{
    "assignees": [],
    "body": "Add functions to test if a lattice is constructible from the one-element lattice with Day doubling of 1) interval, 2) lower pseudo-interval, 3) upper pseudo-interval and 4) any convex subset.\n\n\nCC:  @fchapoton @tscrim\n\nBranch/Commit: **[9974715](https://github.com/sagemath/sagetrac-mirror/commit/9974715d4de393b776eaefdc8f33113224a888cd)**\n\nReviewer: **Martin Rubey**\n\nAuthor: **Jori M\u00e4ntysalo**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/22648_\n\n",
    "closed_at": "2017-04-03T21:00:02Z",
    "created_at": "2017-03-19T20:28:07Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "LatticePoset: test if lattice is constructible by doublings",
    "type": "issue",
    "updated_at": "2017-04-03T21:00:02Z",
    "url": "https://github.com/sagemath/sage/issues/22648",
    "user": "https://github.com/jm58660"
}
```
Add functions to test if a lattice is constructible from the one-element lattice with Day doubling of 1) interval, 2) lower pseudo-interval, 3) upper pseudo-interval and 4) any convex subset.


CC:  @fchapoton @tscrim

Branch/Commit: **[9974715](https://github.com/sagemath/sagetrac-mirror/commit/9974715d4de393b776eaefdc8f33113224a888cd)**

Reviewer: **Martin Rubey**

Author: **Jori MÃ¤ntysalo**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/22648_





---

archive/issue_events_316362.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-03-19T20:28:07Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22648#event-316362"
}
```



---

archive/issue_events_316363.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-03-19T20:28:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22648#event-316363"
}
```



---

archive/issue_events_316364.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-03-19T20:28:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22648#event-316364"
}
```



---

archive/issue_events_316365.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-03-19T20:28:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22648#event-316365"
}
```



---

archive/issue_events_316366.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-03-19T20:33:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22648#event-316366"
}
```



---

archive/issue_comments_336605.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nWhat should be the names for these functions?\n\n4 is called *congruence normal*, 2 and 3 as *lower bounded* and *upper bounded* and 1 as *bounded*. But we can't add `is_bounded()` with different meaning to lattices that we already have for posets.\n\n(See for example http://www.math.hawaii.edu/~jb/inflation.pdf.)",
    "created_at": "2017-03-19T20:33:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336605",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:1" align="right">comment:1</div>

What should be the names for these functions?

4 is called *congruence normal*, 2 and 3 as *lower bounded* and *upper bounded* and 1 as *bounded*. But we can't add `is_bounded()` with different meaning to lattices that we already have for posets.

(See for example http://www.math.hawaii.edu/~jb/inflation.pdf.)



---

archive/issue_comments_336606.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nHow about `is_interval_doubling()`?",
    "created_at": "2017-03-20T08:49:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336606",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:2" align="right">comment:2</div>

How about `is_interval_doubling()`?



---

archive/issue_comments_336607.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nReplying to [@tscrim](#comment:2):\n> How about `is_interval_doubling()`?\n\nFor case 1 only? Could be, got to think about this.\n\nWe now have `is_orthocomplemented()` (by me) with optional parameter `unique`. What you think about that, and having something like `is_doubling_constructable()` with mandratory string parameter having possible values `'convex', 'intevar'` etc?",
    "created_at": "2017-03-20T09:06:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336607",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:3" align="right">comment:3</div>

Replying to [@tscrim](#comment:2):
> How about `is_interval_doubling()`?

For case 1 only? Could be, got to think about this.

We now have `is_orthocomplemented()` (by me) with optional parameter `unique`. What you think about that, and having something like `is_doubling_constructable()` with mandratory string parameter having possible values `'convex', 'intevar'` etc?



---

archive/issue_comments_336608.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nSome people (at least McConville https://arxiv.org/abs/1504.05213) use `congruence_uniform` instead of bounded, I think:\n\n5.2 Congruence-normal and congruence-uniform lattices\n\nA finite lattice L is congruence-normal if there exists a\nsequence of lattices L_1,..., L_l such that L_1 is the one-element lattice, L_l = L, and for\nall i, there exists an order convex subset C_i of L_i such that L_{i+1} = L_i[Ci].\n\nA lattice is congruence-uniform if it is both congruence-normal and semidistributive.",
    "created_at": "2017-03-20T11:59:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336608",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:4" align="right">comment:4</div>

Some people (at least McConville https://arxiv.org/abs/1504.05213) use `congruence_uniform` instead of bounded, I think:

5.2 Congruence-normal and congruence-uniform lattices

A finite lattice L is congruence-normal if there exists a
sequence of lattices L_1,..., L_l such that L_1 is the one-element lattice, L_l = L, and for
all i, there exists an order convex subset C_i of L_i such that L_{i+1} = L_i[Ci].

A lattice is congruence-uniform if it is both congruence-normal and semidistributive.



---

archive/issue_comments_336609.json:
```json
{
    "body": "Reviewer: **Martin Rubey**",
    "created_at": "2017-03-20T11:59:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336609",
    "user": "https://github.com/mantepse"
}
```

Reviewer: **Martin Rubey**



---

archive/issue_comments_336610.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@mantepse](#comment:4):\n> Some people (at least McConville https://arxiv.org/abs/1504.05213) use `congruence_uniform` instead of bounded, I think:\n\nDuh. We already have `is_uniform` after #21861.\n\n> A finite lattice L is congruence-normal if there exists a\n> sequence of lattices L_1,..., L_l such that L_1 is the one-element lattice, L_l = L, and for\n> all i, there exists an order convex subset C_i of L_i such that L_{i+1} = L_i[Ci].\n> \n> A lattice is congruence-uniform if it is both congruence-normal and semidistributive.\n\nPage 3 says this more directly \"congruence-uniform lattice is any lattice constructable by a sequence of interval doubings.\"",
    "created_at": "2017-03-20T12:10:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336610",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@mantepse](#comment:4):
> Some people (at least McConville https://arxiv.org/abs/1504.05213) use `congruence_uniform` instead of bounded, I think:

Duh. We already have `is_uniform` after #21861.

> A finite lattice L is congruence-normal if there exists a
> sequence of lattices L_1,..., L_l such that L_1 is the one-element lattice, L_l = L, and for
> all i, there exists an order convex subset C_i of L_i such that L_{i+1} = L_i[Ci].
> 
> A lattice is congruence-uniform if it is both congruence-normal and semidistributive.

Page 3 says this more directly "congruence-uniform lattice is any lattice constructable by a sequence of interval doubings."



---

archive/issue_comments_336611.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nIn case it's possible, it would be great if the code could also produce a certificate.\n\nFor myself personally, what would be wonderful is a function that takes a lattice and produces all intervals that can be collapsed.  (I assume that, no matter which intervall is collapsed, the result should again be congruence uniform, if the original was.  But I admit that I do not know.)",
    "created_at": "2017-03-20T13:00:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336611",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:7" align="right">comment:7</div>

In case it's possible, it would be great if the code could also produce a certificate.

For myself personally, what would be wonderful is a function that takes a lattice and produces all intervals that can be collapsed.  (I assume that, no matter which intervall is collapsed, the result should again be congruence uniform, if the original was.  But I admit that I do not know.)



---

archive/issue_events_316367.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-03-20T13:07:41Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22648#event-316367"
}
```



---

archive/issue_events_316368.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-03-20T13:07:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22648#event-316368"
}
```



---

archive/issue_comments_336612.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nCertificate should be possible.\n\nFirst see a term 'inflation' in http://www.math.hawaii.edu/~jb/inflation.pdf and also figure 3 at page 8. Maybe doubling construction should be expanded to municipal subsets?\n\nFor decomposing see https://hal.archives-ouvertes.fr/hal-01282151/document.\n\nBut I can't be sure when I will look at this, and so I mark this as wishlist queue.",
    "created_at": "2017-03-20T13:07:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336612",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:8" align="right">comment:8</div>

Certificate should be possible.

First see a term 'inflation' in http://www.math.hawaii.edu/~jb/inflation.pdf and also figure 3 at page 8. Maybe doubling construction should be expanded to municipal subsets?

For decomposing see https://hal.archives-ouvertes.fr/hal-01282151/document.

But I can't be sure when I will look at this, and so I mark this as wishlist queue.



---

archive/issue_comments_336613.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@mantepse](#comment:7):\n\n> For myself personally, what would be wonderful is a function that takes a lattice and produces all intervals that can be collapsed.\n\nI think it should be something like this:\n\n```\ndef antidouble(self):\n    ji = self.join_irreducibles()\n    mi = self.meet_irreducibles()\n\n    h = {}\n    i = 0\n    for l in self.level_sets():\n        for e in l:\n            h[e] = i\n        i += 1\n\n    for a in ji:\n        a_ = self.lower_covers(a)[0]\n        for b in mi:\n            if self.compare_elements(a, b) is not None:\n                continue\n            b_ = self.upper_covers(b)[0]\n            if h[b]-h[a_] == h[b_]-h[a]:\n                A = self.interval(a_, b)\n                B = self.interval(a, b_)\n                if len(A) == len(B):\n                    if self.subposet(A).is_isomorphic(self.subposet(B)):\n                        if LatticePoset(self.subposet([e for e in self if e not in B])).day_doubling(A).is_isomorphic(self):\n                            print((a_, b), (a, b_))\n```\n\nbut of course is much faster to work directly with Hasse Diagram. Having temporary posets is bad, as they eat memory that is not released until you restart the whole worksheet.",
    "created_at": "2017-03-21T05:15:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336613",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@mantepse](#comment:7):

> For myself personally, what would be wonderful is a function that takes a lattice and produces all intervals that can be collapsed.

I think it should be something like this:

```
def antidouble(self):
    ji = self.join_irreducibles()
    mi = self.meet_irreducibles()

    h = {}
    i = 0
    for l in self.level_sets():
        for e in l:
            h[e] = i
        i += 1

    for a in ji:
        a_ = self.lower_covers(a)[0]
        for b in mi:
            if self.compare_elements(a, b) is not None:
                continue
            b_ = self.upper_covers(b)[0]
            if h[b]-h[a_] == h[b_]-h[a]:
                A = self.interval(a_, b)
                B = self.interval(a, b_)
                if len(A) == len(B):
                    if self.subposet(A).is_isomorphic(self.subposet(B)):
                        if LatticePoset(self.subposet([e for e in self if e not in B])).day_doubling(A).is_isomorphic(self):
                            print((a_, b), (a, b_))
```

but of course is much faster to work directly with Hasse Diagram. Having temporary posets is bad, as they eat memory that is not released until you restart the whole worksheet.



---

archive/issue_comments_336614.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nWow!  Thank you!\n\nThere must be a small bug however, because\n\n```\nantidouble(posets.PentagonPoset())\n```\nshould print a collapsible interval (the middle relation in the longer chain), but doesn't.\n\nIn case I find out, I'll let you know!",
    "created_at": "2017-03-21T09:57:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336614",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:10" align="right">comment:10</div>

Wow!  Thank you!

There must be a small bug however, because

```
antidouble(posets.PentagonPoset())
```
should print a collapsible interval (the middle relation in the longer chain), but doesn't.

In case I find out, I'll let you know!



---

archive/issue_comments_336615.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nTrue, but I think they are just the double irreducible elements that are not seen by this code.\n\nAnyway, I guess I should extend `Posets.RandomLattice` to get some test material.",
    "created_at": "2017-03-21T11:32:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336615",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:11" align="right">comment:11</div>

True, but I think they are just the double irreducible elements that are not seen by this code.

Anyway, I guess I should extend `Posets.RandomLattice` to get some test material.



---

archive/issue_comments_336616.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nRandom code could be like\n\n```\ndef random_bounded(n, p):\n    \"\"\"\n    Return a random \"bounded\" lattice.\n    \n    I.e. a lattice that can be made from the one-element lattice\n    by doubling an interval.\n    \"\"\"\n    if n < 4:\n        return Posets.ChainPoset(n)\n\n    g = digraphs.Path(2)\n    g = Posets.PentagonPoset().hasse_diagram()\n    n = n - 2\n\n    while n:\n        a = g.random_vertex()\n        a_up = list(g.depth_first_search(a))\n        b = a_up[randint(0, ceil(len(a_up)*p*random())-1)]\n        b_down = list(g.depth_first_search(b, neighbors=g.neighbors_in))\n        S = [x for x in a_up if x in b_down]\n        if n-len(S) < 0 or len(S) == 0:\n            continue  # New try...\n        g_S = g.subgraph(S)\n        g_S.relabel(lambda x: (1, x))\n        g = g.union(g_S)\n        for e in g.neighbor_out_iterator(b):\n            g.delete_edge(b, e)\n            g.add_edge((1, b), e)\n        for e in S:\n            g.add_edge(e, (1, e))\n        g.relabel()\n        n -= len(S)\n\n    return LatticePoset(g)\n```\n\nto test try for example\n\n```\nset_random_seed(0)\nrandom_bounded(15, 1).show()\n```",
    "created_at": "2017-03-21T12:15:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336616",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:12" align="right">comment:12</div>

Random code could be like

```
def random_bounded(n, p):
    """
    Return a random "bounded" lattice.
    
    I.e. a lattice that can be made from the one-element lattice
    by doubling an interval.
    """
    if n < 4:
        return Posets.ChainPoset(n)

    g = digraphs.Path(2)
    g = Posets.PentagonPoset().hasse_diagram()
    n = n - 2

    while n:
        a = g.random_vertex()
        a_up = list(g.depth_first_search(a))
        b = a_up[randint(0, ceil(len(a_up)*p*random())-1)]
        b_down = list(g.depth_first_search(b, neighbors=g.neighbors_in))
        S = [x for x in a_up if x in b_down]
        if n-len(S) < 0 or len(S) == 0:
            continue  # New try...
        g_S = g.subgraph(S)
        g_S.relabel(lambda x: (1, x))
        g = g.union(g_S)
        for e in g.neighbor_out_iterator(b):
            g.delete_edge(b, e)
            g.add_edge((1, b), e)
        for e in S:
            g.add_edge(e, (1, e))
        g.relabel()
        n -= len(S)

    return LatticePoset(g)
```

to test try for example

```
set_random_seed(0)
random_bounded(15, 1).show()
```



---

archive/issue_comments_336617.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThis needs more reading and thinking.\n\nBut a question: If we have a decomposition -- as `certificate` or as a specific function -- what should be the output type? Some kind of tuple or list, I guess.",
    "created_at": "2017-03-22T05:21:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336617",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:13" align="right">comment:13</div>

This needs more reading and thinking.

But a question: If we have a decomposition -- as `certificate` or as a specific function -- what should be the output type? Some kind of tuple or list, I guess.



---

archive/issue_comments_336618.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nMore about this. *Free Lattices* by Ralph S. Freese, Jaroslav Je\u017eek and James Bryant Nation p. 76 says that a lattice `L` is lower bounded iff `|Ji(L)| = |Ji(Con L)|`, and of course dually for upper bounded. The congurence lattice of a lattice is always distributive. A distributive lattice L has `|Ji(L)| = |Mi(L)|`. Hence a lattice `L` can be (totally) bounded only if it has `|Ji(L)| = |Mi(L)|`. That can be used as a fast check to reject lattices that clearly can't be (totallyt) bounded.\n\nAnd of course `Posets.DiamondPoset(5)` shows that the last \"if\" is not \"iff\".\n\nBut I must continue to think and code. For me they are almost the same thing.",
    "created_at": "2017-03-25T07:00:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336618",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:14" align="right">comment:14</div>

More about this. *Free Lattices* by Ralph S. Freese, Jaroslav JeÅ¾ek and James Bryant Nation p. 76 says that a lattice `L` is lower bounded iff `|Ji(L)| = |Ji(Con L)|`, and of course dually for upper bounded. The congurence lattice of a lattice is always distributive. A distributive lattice L has `|Ji(L)| = |Mi(L)|`. Hence a lattice `L` can be (totally) bounded only if it has `|Ji(L)| = |Mi(L)|`. That can be used as a fast check to reject lattices that clearly can't be (totallyt) bounded.

And of course `Posets.DiamondPoset(5)` shows that the last "if" is not "iff".

But I must continue to think and code. For me they are almost the same thing.



---

archive/issue_comments_336619.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nNew try, kind of proof-of-concept:\n\n```\ndef antidouble(L):\n    H = L._hasse_diagram\n    at = H.atoms_of_congruence_lattice()\n    for cong in at:\n        if all(len(p) <= 2 for p in cong):\n            tmp = [p for p in cong if len(p) == 2]\n            tmp1 = [min(p) for p in tmp]\n            tmp2 = [max(p) for p in tmp]\n            LatticePoset(L.subposet([L._vertex_to_element(e) for e in H if e not in tmp2])).show()\n            print([L._vertex_to_element(e) for e in tmp1])\n            break\n    else:\n        print(\"Nothing to double.\")\n```",
    "created_at": "2017-03-26T18:53:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336619",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:15" align="right">comment:15</div>

New try, kind of proof-of-concept:

```
def antidouble(L):
    H = L._hasse_diagram
    at = H.atoms_of_congruence_lattice()
    for cong in at:
        if all(len(p) <= 2 for p in cong):
            tmp = [p for p in cong if len(p) == 2]
            tmp1 = [min(p) for p in tmp]
            tmp2 = [max(p) for p in tmp]
            LatticePoset(L.subposet([L._vertex_to_element(e) for e in H if e not in tmp2])).show()
            print([L._vertex_to_element(e) for e in tmp1])
            break
    else:
        print("Nothing to double.")
```



---

archive/issue_comments_336620.json:
```json
{
    "body": "Branch: **[u/jmantysalo/latticeposet__test_if_lattice_is_constructible_by_doublings](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/latticeposet__test_if_lattice_is_constructible_by_doublings)**",
    "created_at": "2017-03-27T08:11:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336620",
    "user": "https://github.com/jm58660"
}
```

Branch: **[u/jmantysalo/latticeposet__test_if_lattice_is_constructible_by_doublings](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/latticeposet__test_if_lattice_is_constructible_by_doublings)**



---

archive/issue_comments_336621.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nOK, I started working with this. I think it is easier to proceed with smaller parts, and so put this on needs_review. The code is trivial, so the main question is about the design.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94ad32ce12bbc0a39a9fab4af83a8f2127e936a4\">94ad32c</a></td><td><code>Add is_doubling_constructible().</code></td></tr></table>\n",
    "created_at": "2017-03-27T08:13:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336621",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:17" align="right">comment:17</div>

OK, I started working with this. I think it is easier to proceed with smaller parts, and so put this on needs_review. The code is trivial, so the main question is about the design.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94ad32ce12bbc0a39a9fab4af83a8f2127e936a4">94ad32c</a></td><td><code>Add is_doubling_constructible().</code></td></tr></table>




---

archive/issue_comments_336622.json:
```json
{
    "body": "Commit: **[94ad32c](https://github.com/sagemath/sagetrac-mirror/commit/94ad32ce12bbc0a39a9fab4af83a8f2127e936a4)**",
    "created_at": "2017-03-27T08:13:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336622",
    "user": "https://github.com/jm58660"
}
```

Commit: **[94ad32c](https://github.com/sagemath/sagetrac-mirror/commit/94ad32ce12bbc0a39a9fab4af83a8f2127e936a4)**



---

archive/issue_events_316369.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-03-27T08:13:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22648#event-316369"
}
```



---

archive/issue_events_316370.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-03-27T08:13:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22648#event-316370"
}
```



---

archive/issue_events_316371.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-03-27T08:13:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22648#event-316371"
}
```



---

archive/issue_events_316372.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-03-27T08:13:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22648#event-316372"
}
```



---

archive/issue_comments_336623.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nCurrently compiling...\n\nIn any case, I'd prefer `is_constructible_by_doublings` over `is_doubling_constructible`.  I am somewhat surprised that the test is now so simple.",
    "created_at": "2017-03-27T08:40:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336623",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:18" align="right">comment:18</div>

Currently compiling...

In any case, I'd prefer `is_constructible_by_doublings` over `is_doubling_constructible`.  I am somewhat surprised that the test is now so simple.



---

archive/issue_comments_336624.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nAnother minor thing is that you should include something like the following in the docstring:\n\n  A lattice L is lower bounded if and only if |Ji(L)| = |Ji(Con L)|, dually for upper bounded, see Free Lattices by Ralph S. Freese, Jaroslav Je\u017eek and James Bryant Nation p. 76.\n\n  Note that a congruence lattice of a lattice is always distributive, and a distributive lattice L has |Ji(L)| = |Mi(L)|.  Hence a lattice L can be totally)bounded only if it has |Ji(L)| = |Mi(L)|.\n\n\nI'd like to ask you to also include a reference to the term *congruence uniform* (eg. McConville).",
    "created_at": "2017-03-27T09:13:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336624",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:19" align="right">comment:19</div>

Another minor thing is that you should include something like the following in the docstring:

  A lattice L is lower bounded if and only if |Ji(L)| = |Ji(Con L)|, dually for upper bounded, see Free Lattices by Ralph S. Freese, Jaroslav JeÅ¾ek and James Bryant Nation p. 76.

  Note that a congruence lattice of a lattice is always distributive, and a distributive lattice L has |Ji(L)| = |Mi(L)|.  Hence a lattice L can be totally)bounded only if it has |Ji(L)| = |Mi(L)|.


I'd like to ask you to also include a reference to the term *congruence uniform* (eg. McConville).



---

archive/issue_comments_336625.json:
```json
{
    "body": "Changed commit from **[94ad32c](https://github.com/sagemath/sagetrac-mirror/commit/94ad32ce12bbc0a39a9fab4af83a8f2127e936a4)** to **[2274d37](https://github.com/sagemath/sagetrac-mirror/commit/2274d3765ec515b4e6efa021fe59870ab31d8219)**",
    "created_at": "2017-03-27T09:55:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336625",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[94ad32c](https://github.com/sagemath/sagetrac-mirror/commit/94ad32ce12bbc0a39a9fab4af83a8f2127e936a4)** to **[2274d37](https://github.com/sagemath/sagetrac-mirror/commit/2274d3765ec515b4e6efa021fe59870ab31d8219)**



---

archive/issue_comments_336626.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2274d3765ec515b4e6efa021fe59870ab31d8219\">2274d37</a></td><td><code>Change name etc.</code></td></tr></table>\n",
    "created_at": "2017-03-27T09:55:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336626",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2274d3765ec515b4e6efa021fe59870ab31d8219">2274d37</a></td><td><code>Change name etc.</code></td></tr></table>




---

archive/issue_comments_336627.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9974715d4de393b776eaefdc8f33113224a888cd\">9974715</a></td><td><code>LaTeX formatting.</code></td></tr></table>\n",
    "created_at": "2017-03-27T10:01:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336627",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9974715d4de393b776eaefdc8f33113224a888cd">9974715</a></td><td><code>LaTeX formatting.</code></td></tr></table>




---

archive/issue_comments_336628.json:
```json
{
    "body": "Changed commit from **[2274d37](https://github.com/sagemath/sagetrac-mirror/commit/2274d3765ec515b4e6efa021fe59870ab31d8219)** to **[9974715](https://github.com/sagemath/sagetrac-mirror/commit/9974715d4de393b776eaefdc8f33113224a888cd)**",
    "created_at": "2017-03-27T10:01:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336628",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2274d37](https://github.com/sagemath/sagetrac-mirror/commit/2274d3765ec515b4e6efa021fe59870ab31d8219)** to **[9974715](https://github.com/sagemath/sagetrac-mirror/commit/9974715d4de393b776eaefdc8f33113224a888cd)**



---

archive/issue_comments_336629.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@mantepse](#comment:19):\n\nI changed the name and add a reference. I think that\n\n> Another minor thing is that you should include something like the following in the docstring:\n> \n>   Note that a congruence lattice of a lattice is always distributive, and a distributive lattice L has |Ji(L)| = |Mi(L)|.  Hence a lattice L can be totally)bounded only if it has |Ji(L)| = |Mi(L)|.\n\nis not needed to say, as we don't rely on it. This only uses Python's short-circuit evaluation of `a==b==c` as an optimization.\n\n> I'd like to ask you to also include a reference to the term *congruence uniform* (eg. McConville).\n\nI don't think it is necessary.\n\n> I am somewhat surprised that the test is now so simple.\n\nI think it comes from \"de-doubling\" algorithm quite naturally. Every interval doubling adds exactly one meet- and one join-irreducible element, i.e. the upper cover of bottom of the set to double and the top of the set to double. On the other direction if `|Ji(Con L)|` equals to `|Ji(L)|`, then every principal congruence must correspond to one of those \"de-doubling\" congruence.",
    "created_at": "2017-03-27T10:12:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336629",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@mantepse](#comment:19):

I changed the name and add a reference. I think that

> Another minor thing is that you should include something like the following in the docstring:
> 
>   Note that a congruence lattice of a lattice is always distributive, and a distributive lattice L has |Ji(L)| = |Mi(L)|.  Hence a lattice L can be totally)bounded only if it has |Ji(L)| = |Mi(L)|.

is not needed to say, as we don't rely on it. This only uses Python's short-circuit evaluation of `a==b==c` as an optimization.

> I'd like to ask you to also include a reference to the term *congruence uniform* (eg. McConville).

I don't think it is necessary.

> I am somewhat surprised that the test is now so simple.

I think it comes from "de-doubling" algorithm quite naturally. Every interval doubling adds exactly one meet- and one join-irreducible element, i.e. the upper cover of bottom of the set to double and the top of the set to double. On the other direction if `|Ji(Con L)|` equals to `|Ji(L)|`, then every principal congruence must correspond to one of those "de-doubling" congruence.



---

archive/issue_comments_336630.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nLooks good!  The sequence\n\n```\n[len([1 for L in posets(r) if L.with_bounds().is_lattice() and LatticePoset(L.with_bounds()).is_constructible_by_doublings('interval')]) for r in range(1,8)]\n[1,2,4,9,22,60,174]\n```\nis not in the OEIS...",
    "created_at": "2017-03-27T12:02:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336630",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:23" align="right">comment:23</div>

Looks good!  The sequence

```
[len([1 for L in posets(r) if L.with_bounds().is_lattice() and LatticePoset(L.with_bounds()).is_constructible_by_doublings('interval')]) for r in range(1,8)]
[1,2,4,9,22,60,174]
```
is not in the OEIS...



---

archive/issue_events_316373.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2017-03-27T12:02:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22648#event-316373"
}
```



---

archive/issue_events_316374.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2017-03-27T12:02:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22648#event-316374"
}
```



---

archive/issue_comments_336631.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@mantepse](#comment:23):\n> Looks good!  The sequence\n> \n> ```\n> [len([1 for L in posets(r) if L.with_bounds().is_lattice() and LatticePoset(L.with_bounds()).is_constructible_by_doublings('interval')]) for r in range(1,8)]\n> [1,2,4,9,22,60,174]\n> ```\n> is not in the OEIS...\n\nThanks for the review.\n\nOEIS is missing most of series related to lattice enumeration. I have added some, see for example https://oeis.org/A261994. Here is code if you want to add more:\n\n```\nN = 8\nLL = []\nfor i in range(N-2):\n    x = []\n    for P in Posets(i):\n        try:\n            x.append(LatticePoset(P.with_bounds()))\n        except ValueError:\n            pass\n    LL.append(x)\n\nfunctions = ['is_planar', 'is_upper_semimodular']\n\nfor f in functions:\n    print(f)\n    for i in range(2, N):\n        print(i, len([L for L in LL[i-2] if attrcall(f)(L)]))\n```",
    "created_at": "2017-03-27T12:19:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336631",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@mantepse](#comment:23):
> Looks good!  The sequence
> 
> ```
> [len([1 for L in posets(r) if L.with_bounds().is_lattice() and LatticePoset(L.with_bounds()).is_constructible_by_doublings('interval')]) for r in range(1,8)]
> [1,2,4,9,22,60,174]
> ```
> is not in the OEIS...

Thanks for the review.

OEIS is missing most of series related to lattice enumeration. I have added some, see for example https://oeis.org/A261994. Here is code if you want to add more:

```
N = 8
LL = []
for i in range(N-2):
    x = []
    for P in Posets(i):
        try:
            x.append(LatticePoset(P.with_bounds()))
        except ValueError:
            pass
    LL.append(x)

functions = ['is_planar', 'is_upper_semimodular']

for f in functions:
    print(f)
    for i in range(2, N):
        print(i, len([L for L in LL[i-2] if attrcall(f)(L)]))
```



---

archive/issue_comments_336632.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nSide question: is it clear (or false) that the number of doublings of intervals to construct a lattice is independent of the particular doublings chosen?",
    "created_at": "2017-03-27T15:22:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336632",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:26" align="right">comment:26</div>

Side question: is it clear (or false) that the number of doublings of intervals to construct a lattice is independent of the particular doublings chosen?



---

archive/issue_comments_336633.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@mantepse](#comment:26):\n> Side question: is it clear (or false) that the number of doublings of intervals to construct a lattice is independent of the particular doublings chosen?\n\nI think so, and even more has been said in some paper: If `S` and `T` are convex subsets so that their union is convex non-connected subset, then `L[S][T]` and `L[T][S]` are isomorphic.",
    "created_at": "2017-03-27T16:34:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336633",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@mantepse](#comment:26):
> Side question: is it clear (or false) that the number of doublings of intervals to construct a lattice is independent of the particular doublings chosen?

I think so, and even more has been said in some paper: If `S` and `T` are convex subsets so that their union is convex non-connected subset, then `L[S][T]` and `L[T][S]` are isomorphic.



---

archive/issue_comments_336634.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\n*cough*authorname*cough*",
    "created_at": "2017-03-27T22:09:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336634",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:28" align="right">comment:28</div>

*cough*authorname*cough*



---

archive/issue_comments_336635.json:
```json
{
    "body": "Author: **Jori M\u00e4ntysalo**",
    "created_at": "2017-03-28T03:25:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336635",
    "user": "https://github.com/jm58660"
}
```

Author: **Jori MÃ¤ntysalo**



---

archive/issue_comments_336636.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@tscrim](#comment:28):\n> *cough*authorname*cough*\n\nDuh. Added.\n\nBtw, this can be optimized much more. First, we don't need to count all `Ji(Con L)`, as if we found `a, b \\in Ji(L)` such that `Cong(a, a_) == Cong(b, b_)`, where `e_` is the only element covered by `e`, we can't have `|Ji(Con L)|` as big as `|Ji(L)|`.\n\nNext, a congruence generated by \"antidoubling\" can only have blocks of one or two element. Hence we can stop when we found even one `e` such that `Cong(e, e_)` has at least one congruence block of three or more elements.",
    "created_at": "2017-03-28T03:25:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336636",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@tscrim](#comment:28):
> *cough*authorname*cough*

Duh. Added.

Btw, this can be optimized much more. First, we don't need to count all `Ji(Con L)`, as if we found `a, b \in Ji(L)` such that `Cong(a, a_) == Cong(b, b_)`, where `e_` is the only element covered by `e`, we can't have `|Ji(Con L)|` as big as `|Ji(L)|`.

Next, a congruence generated by "antidoubling" can only have blocks of one or two element. Hence we can stop when we found even one `e` such that `Cong(e, e_)` has at least one congruence block of three or more elements.



---

archive/issue_comments_336637.json:
```json
{
    "body": "Changed branch from **[u/jmantysalo/latticeposet__test_if_lattice_is_constructible_by_doublings](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/latticeposet__test_if_lattice_is_constructible_by_doublings)** to **[9974715](https://github.com/sagemath/sagetrac-mirror/commit/9974715d4de393b776eaefdc8f33113224a888cd)**",
    "created_at": "2017-04-03T21:00:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22648#issuecomment-336637",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jmantysalo/latticeposet__test_if_lattice_is_constructible_by_doublings](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/latticeposet__test_if_lattice_is_constructible_by_doublings)** to **[9974715](https://github.com/sagemath/sagetrac-mirror/commit/9974715d4de393b776eaefdc8f33113224a888cd)**



---

archive/issue_events_316375.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-04-03T21:00:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22648#event-316375"
}
```



---

archive/issue_events_316376.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "85345f3d996f4153ea85854cd4a4bee2a86b6085",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-04-03T21:00:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/22648",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22648#event-316376"
}
```
