# Issue 22400: Transpose text databases of reflexive polytopes for PALP

archive/issues_022163.json:
```json
{
    "body": "We store reflexive polytopes in 2 and 3 dimensions as text files. The current version lists points as columns of matrices, but the default output for PALP is reversed and it gives cleaner code not handle two cases. The main point, however, is that it would be faster to construct reflexive polytopes lists in memory if files were written point by point.\n\nThe current code in Sage will accept both old and new versions of the database, while the new one I am (re)writing will work only with the new one.\n\nThere is also a comment in SPKG.txt (exactly five years old) that text files will be removed in favour of the also included binary ones. However this didn't happen yet and I think it makes sense to keep small lists in plain form which is so easy to parse directly in Python without relying on any database modules or PALP itself for that matter.\n\nCC:  @vbraun\n\nBranch/Commit: f42ea43a88329352349c8b7b6831afccc658ec92\n\nReviewer: Volker Braun\n\nAuthor: Andrey Novoseltsev\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/22400\n\n",
    "closed_at": "2017-08-13T09:45:05Z",
    "created_at": "2017-02-21T02:20:24Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.6",
    "title": "Transpose text databases of reflexive polytopes for PALP",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22400",
    "user": "https://github.com/novoselt"
}
```
We store reflexive polytopes in 2 and 3 dimensions as text files. The current version lists points as columns of matrices, but the default output for PALP is reversed and it gives cleaner code not handle two cases. The main point, however, is that it would be faster to construct reflexive polytopes lists in memory if files were written point by point.

The current code in Sage will accept both old and new versions of the database, while the new one I am (re)writing will work only with the new one.

There is also a comment in SPKG.txt (exactly five years old) that text files will be removed in favour of the also included binary ones. However this didn't happen yet and I think it makes sense to keep small lists in plain form which is so easy to parse directly in Python without relying on any database modules or PALP itself for that matter.

CC:  @vbraun

Branch/Commit: f42ea43a88329352349c8b7b6831afccc658ec92

Reviewer: Volker Braun

Author: Andrey Novoseltsev

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/22400





---

archive/issue_comments_415429.json:
```json
{
    "body": "<a id='comment:1'></a>\nAttachment [polytopes_db-20170220.tar.bz2](tarball://root/attachments/some-uuid/ticket22400/polytopes_db-20170220.tar.bz2) by @novoselt created at 2017-02-21 02:21:12",
    "created_at": "2017-02-21T02:21:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22400#issuecomment-415429",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:1'></a>
Attachment [polytopes_db-20170220.tar.bz2](tarball://root/attachments/some-uuid/ticket22400/polytopes_db-20170220.tar.bz2) by @novoselt created at 2017-02-21 02:21:12



---

archive/issue_comments_415430.json:
```json
{
    "body": "Changing branch from \"\" to \"u/novoselt/transpose_lattice_polytopes\"",
    "created_at": "2017-02-21T02:21:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22400#issuecomment-415430",
    "user": "https://github.com/novoselt"
}
```

Changing branch from "" to "u/novoselt/transpose_lattice_polytopes"



---

archive/issue_comments_415431.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-02-21T02:21:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22400#issuecomment-415431",
    "user": "https://github.com/novoselt"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_415432.json:
```json
{
    "body": "Changing commit from \"\" to \"f42ea43a88329352349c8b7b6831afccc658ec92\"",
    "created_at": "2017-02-21T02:21:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22400#issuecomment-415432",
    "user": "https://github.com/novoselt"
}
```

Changing commit from "" to "f42ea43a88329352349c8b7b6831afccc658ec92"



---

archive/issue_comments_415433.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|\n|[f42ea43](https://git.sagemath.org/sage.git/commit?id=f42ea43a88329352349c8b7b6831afccc658ec92)|`Transpose databases of small reflexive polytopes`|",
    "created_at": "2017-02-21T02:21:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22400#issuecomment-415433",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|
|[f42ea43](https://git.sagemath.org/sage.git/commit?id=f42ea43a88329352349c8b7b6831afccc658ec92)|`Transpose databases of small reflexive polytopes`|



---

archive/issue_comments_415434.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Volker Braun\"",
    "created_at": "2017-08-11T22:45:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22400#issuecomment-415434",
    "user": "https://github.com/vbraun"
}
```

Changing reviewer from "" to "Volker Braun"



---

archive/issue_comments_415435.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-08-11T22:45:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22400#issuecomment-415435",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_415436.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-08-13T09:45:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22400#issuecomment-415436",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_415437.json:
```json
{
    "body": "Changing branch from \"u/novoselt/transpose_lattice_polytopes\" to \"f42ea43a88329352349c8b7b6831afccc658ec92\"",
    "created_at": "2017-08-13T09:45:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22400#issuecomment-415437",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/novoselt/transpose_lattice_polytopes" to "f42ea43a88329352349c8b7b6831afccc658ec92"



---

archive/issue_events_058631.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-08-13T09:45:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22400",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22400#event-58631"
}
```
