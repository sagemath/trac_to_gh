# Issue 22979: The function show() duplicates some edges when using loops and edge_colors in an undirected graph

archive/issues_022742.json:
```json
{
    "body": "When we colorize the edges of an undirected graph containing a loop, the function show()\ndraws some extra edges. For example, the following code corresponds to the situation :\n\n```\nE=[(1,1),(1,2)]\ng1 = Graph( E, loops=True, multiedges=False )\ng1.show()\ng1.show( edge_colors={\"blue\":[(2,1)]} )\n```\n\nIf no loop is present, the code works correctly :\n\n```\nE=[(1,2)]\ng1 = Graph( E, loops=True, multiedges=False )\ng1.show()\ng1.show( edge_colors={\"blue\":[(2,1)]} )\n```\n\nNow, if we replace (2,1) by (1,2), all the codes work.\nWe think that all our examples should work when using (2,1). Indeed, usually, inside an undirected graph, we can use (1,2) or (2,1)  for an edge {1,2}.\n\nAssignee: iebousbaa\n\nKeywords: graph, edge_colors, show, multiedges, loop, edge, sagedays89\n\nReviewer: David Coudert\n\nAuthor: Adrien Boussicault\n\nBranch: u/iebousbaa/the_function_show___duplicates_some_edges_when_using_loops_and_edge_colors_in_an_undirected_graph\n\nCommit: aff61d016156e16b0d28a6c27243492a1cba8e47\n\nResolution: duplicate\n\nIssue created by migration from https://trac.sagemath.org/ticket/22979\n\n",
    "closed_at": "2020-09-27T06:59:12Z",
    "created_at": "2017-05-11T08:58:43Z",
    "labels": [
        "component: graph theory",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "The function show() duplicates some edges when using loops and edge_colors in an undirected graph",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22979",
    "user": "https://trac.sagemath.org/admin/accounts/users/boussica"
}
```
When we colorize the edges of an undirected graph containing a loop, the function show()
draws some extra edges. For example, the following code corresponds to the situation :

```
E=[(1,1),(1,2)]
g1 = Graph( E, loops=True, multiedges=False )
g1.show()
g1.show( edge_colors={"blue":[(2,1)]} )
```

If no loop is present, the code works correctly :

```
E=[(1,2)]
g1 = Graph( E, loops=True, multiedges=False )
g1.show()
g1.show( edge_colors={"blue":[(2,1)]} )
```

Now, if we replace (2,1) by (1,2), all the codes work.
We think that all our examples should work when using (2,1). Indeed, usually, inside an undirected graph, we can use (1,2) or (2,1)  for an edge {1,2}.

Assignee: iebousbaa

Keywords: graph, edge_colors, show, multiedges, loop, edge, sagedays89

Reviewer: David Coudert

Author: Adrien Boussicault

Branch: u/iebousbaa/the_function_show___duplicates_some_edges_when_using_loops_and_edge_colors_in_an_undirected_graph

Commit: aff61d016156e16b0d28a6c27243492a1cba8e47

Resolution: duplicate

Issue created by migration from https://trac.sagemath.org/ticket/22979





---

archive/issue_comments_432485.json:
```json
{
    "body": "Set assignee to boussica.",
    "created_at": "2017-05-11T09:02:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22979#issuecomment-432485",
    "user": "https://trac.sagemath.org/admin/accounts/users/boussica"
}
```

Set assignee to boussica.



---

archive/issue_comments_432486.json:
```json
{
    "body": "Changing assignee from boussica to mabdel.",
    "created_at": "2017-05-11T18:37:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22979#issuecomment-432486",
    "user": "https://trac.sagemath.org/admin/accounts/users/mabdel"
}
```

Changing assignee from boussica to mabdel.



---

archive/issue_comments_432487.json:
```json
{
    "body": "Changing branch from \"\" to \"u/iebousbaa/duplicate_edge_bug\"",
    "created_at": "2017-05-15T13:02:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22979#issuecomment-432487",
    "user": "https://trac.sagemath.org/admin/accounts/users/iebousbaa"
}
```

Changing branch from "" to "u/iebousbaa/duplicate_edge_bug"



---

archive/issue_comments_432488.json:
```json
{
    "body": "Changing commit from \"\" to \"83149d13cebabe2d3f8eb9648c6939eb219c1726\"",
    "created_at": "2017-05-16T00:03:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22979#issuecomment-432488",
    "user": "https://trac.sagemath.org/admin/accounts/users/iebousbaa"
}
```

Changing commit from "" to "83149d13cebabe2d3f8eb9648c6939eb219c1726"



---

archive/issue_comments_432489.json:
```json
{
    "body": "Changing assignee from mabdel to iebousbaa.",
    "created_at": "2017-05-16T00:03:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22979#issuecomment-432489",
    "user": "https://trac.sagemath.org/admin/accounts/users/iebousbaa"
}
```

Changing assignee from mabdel to iebousbaa.



---

archive/issue_comments_432490.json:
```json
{
    "body": "<a id='comment:4'></a>\nNew commits:\n|                                                                                                                                          |                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|\n|[88bacde](https://github.com/sagemath/sagetrac-mirror/commit/88bacde99c2e0386abb74862b08e2ed0356b381e)|`First implementation of BDiagrams`|\n|[8e9cc62](https://github.com/sagemath/sagetrac-mirror/commit/8e9cc620dd5c9c7162ed23cfcfc255ec927f3e43)|`test`|\n|[5214630](https://github.com/sagemath/sagetrac-mirror/commit/52146307f84740b173cf6ae36a08813aa69af591)|`Cleaning + sub-bdiagrams + coproduct`|\n|[45289d8](https://github.com/sagemath/sagetrac-mirror/commit/45289d8d4150cb5e15e010bd691ddf08e42b036a)|`Coproduit debug ... and others ...`|\n|[ac34a66](https://github.com/sagemath/sagetrac-mirror/commit/ac34a66194fdf1f5312024503190f671f691b553)|`trac 20014 relative import is now needed`|\n|[9eac794](https://github.com/sagemath/sagetrac-mirror/commit/9eac7947386748c55aefb4f7e608de375034565e)|`Correct a bug in the product and add unit test`|\n|[83149d1](https://github.com/sagemath/sagetrac-mirror/commit/83149d13cebabe2d3f8eb9648c6939eb219c1726)|`Trac #22979: Correction of edges duplication in show()`|",
    "created_at": "2017-05-16T00:03:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22979#issuecomment-432490",
    "user": "https://trac.sagemath.org/admin/accounts/users/iebousbaa"
}
```

<a id='comment:4'></a>
New commits:
|                                                                                                                                          |                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|
|[88bacde](https://github.com/sagemath/sagetrac-mirror/commit/88bacde99c2e0386abb74862b08e2ed0356b381e)|`First implementation of BDiagrams`|
|[8e9cc62](https://github.com/sagemath/sagetrac-mirror/commit/8e9cc620dd5c9c7162ed23cfcfc255ec927f3e43)|`test`|
|[5214630](https://github.com/sagemath/sagetrac-mirror/commit/52146307f84740b173cf6ae36a08813aa69af591)|`Cleaning + sub-bdiagrams + coproduct`|
|[45289d8](https://github.com/sagemath/sagetrac-mirror/commit/45289d8d4150cb5e15e010bd691ddf08e42b036a)|`Coproduit debug ... and others ...`|
|[ac34a66](https://github.com/sagemath/sagetrac-mirror/commit/ac34a66194fdf1f5312024503190f671f691b553)|`trac 20014 relative import is now needed`|
|[9eac794](https://github.com/sagemath/sagetrac-mirror/commit/9eac7947386748c55aefb4f7e608de375034565e)|`Correct a bug in the product and add unit test`|
|[83149d1](https://github.com/sagemath/sagetrac-mirror/commit/83149d13cebabe2d3f8eb9648c6939eb219c1726)|`Trac #22979: Correction of edges duplication in show()`|



---

archive/issue_comments_432491.json:
```json
{
    "body": "<a id='comment:5'></a>\nThe branch contains material about Bdiagrams that has nothing to do with this ticket.",
    "created_at": "2017-05-16T06:40:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22979#issuecomment-432491",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
The branch contains material about Bdiagrams that has nothing to do with this ticket.



---

archive/issue_comments_432492.json:
```json
{
    "body": "<a id='comment:6'></a>\nand who is iebousbaa ? your login was boussica",
    "created_at": "2017-05-16T06:41:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22979#issuecomment-432492",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
and who is iebousbaa ? your login was boussica



---

archive/issue_comments_432493.json:
```json
{
    "body": "<a id='comment:7'></a>\nDear Mr Chapoton, \n\nWe found the bug during the Sage days organized in Algeria. Mr Adrien Boussicault reported the bug except that we could not commit the correction on a branch using the university network. I erroneously pushed the correction on a new branch created locally from my branch # 20014. I'm still looking in the documentation the way to fix it. I'm sorry about that.\n\n\nImad Eddine Bousbaa",
    "created_at": "2017-05-16T13:24:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22979#issuecomment-432493",
    "user": "https://trac.sagemath.org/admin/accounts/users/iebousbaa"
}
```

<a id='comment:7'></a>
Dear Mr Chapoton, 

We found the bug during the Sage days organized in Algeria. Mr Adrien Boussicault reported the bug except that we could not commit the correction on a branch using the university network. I erroneously pushed the correction on a new branch created locally from my branch # 20014. I'm still looking in the documentation the way to fix it. I'm sorry about that.


Imad Eddine Bousbaa



---

archive/issue_comments_432494.json:
```json
{
    "body": "Changing commit from \"83149d13cebabe2d3f8eb9648c6939eb219c1726\" to \"\"",
    "created_at": "2017-06-13T13:01:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22979#issuecomment-432494",
    "user": "https://trac.sagemath.org/admin/accounts/users/iebousbaa"
}
```

Changing commit from "83149d13cebabe2d3f8eb9648c6939eb219c1726" to ""



---

archive/issue_comments_432495.json:
```json
{
    "body": "Changing branch from \"u/iebousbaa/duplicate_edge_bug\" to \"\"",
    "created_at": "2017-06-13T13:01:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22979#issuecomment-432495",
    "user": "https://trac.sagemath.org/admin/accounts/users/iebousbaa"
}
```

Changing branch from "u/iebousbaa/duplicate_edge_bug" to ""



---

archive/issue_comments_432496.json:
```json
{
    "body": "Changing branch from \"\" to \"u/iebousbaa/the_function_show___duplicates_some_edges_when_using_loops_and_edge_colors_in_an_undirected_graph\"",
    "created_at": "2017-06-13T13:14:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22979#issuecomment-432496",
    "user": "https://trac.sagemath.org/admin/accounts/users/iebousbaa"
}
```

Changing branch from "" to "u/iebousbaa/the_function_show___duplicates_some_edges_when_using_loops_and_edge_colors_in_an_undirected_graph"



---

archive/issue_comments_432497.json:
```json
{
    "body": "<a id='comment:10'></a>\nThis issue has been fixed in #24051. So I propose to close this ticket.\n\n---\nNew commits:\n|                                                                                                                                          |                                                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|\n|[aff61d0](https://github.com/sagemath/sagetrac-mirror/commit/aff61d016156e16b0d28a6c27243492a1cba8e47)|`Trac #22979: Correction of duplicated edges in show()`|",
    "created_at": "2020-08-30T08:57:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22979#issuecomment-432497",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:10'></a>
This issue has been fixed in #24051. So I propose to close this ticket.

---
New commits:
|                                                                                                                                          |                                                       |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|
|[aff61d0](https://github.com/sagemath/sagetrac-mirror/commit/aff61d016156e16b0d28a6c27243492a1cba8e47)|`Trac #22979: Correction of duplicated edges in show()`|



---

archive/issue_comments_432498.json:
```json
{
    "body": "Changing commit from \"\" to \"aff61d016156e16b0d28a6c27243492a1cba8e47\"",
    "created_at": "2020-08-30T08:57:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22979#issuecomment-432498",
    "user": "https://github.com/dcoudert"
}
```

Changing commit from "" to "aff61d016156e16b0d28a6c27243492a1cba8e47"



---

archive/issue_comments_432499.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-08-30T08:57:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22979#issuecomment-432499",
    "user": "https://github.com/dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_events_067723.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-08-30T08:57:22Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22979",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22979#event-67723"
}
```



---

archive/issue_comments_432500.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-08-30T09:03:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22979#issuecomment-432500",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_432501.json:
```json
{
    "body": "<a id='comment:11'></a>\nThis issue has been fixed in #24051. So I propose to close this ticket.",
    "created_at": "2020-08-30T09:03:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22979#issuecomment-432501",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:11'></a>
This issue has been fixed in #24051. So I propose to close this ticket.



---

archive/issue_comments_432502.json:
```json
{
    "body": "<a id='comment:12'></a>\nforgot to add reviewer name.",
    "created_at": "2020-09-12T09:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22979#issuecomment-432502",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:12'></a>
forgot to add reviewer name.



---

archive/issue_comments_432503.json:
```json
{
    "body": "Changing reviewer from \"\" to \"David Coudert\"",
    "created_at": "2020-09-12T09:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22979#issuecomment-432503",
    "user": "https://github.com/dcoudert"
}
```

Changing reviewer from "" to "David Coudert"



---

archive/issue_comments_432504.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2020-09-27T06:59:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22979#issuecomment-432504",
    "user": "https://github.com/fchapoton"
}
```

Resolution: duplicate



---

archive/issue_events_067724.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-09-27T06:59:12Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22979",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22979#event-67724"
}
```
