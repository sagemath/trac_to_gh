# Issue 22646: ./configure CC=/path/to/gcc ...

archive/issues_022409.json:
```json
{
    "assignees": [],
    "body": "Standard autotools packages allow variables such as CC to be set at configure time using\n\n```\n./configure CC=/path/to/gcc\n```\nIn this ticket, we add support for this. (The syntax already works, but the settings right now only end up in the unused file `build/make/Makefile-auto`.)\n\nNew configure tarball:\n[https://trac.sagemath.org/raw-attachment/ticket/22646/configure-235.tar.gz](https://trac.sagemath.org/raw-attachment/ticket/22646/configure-235.tar.gz)\n\n\nCC:  @jdemeyer @kiwifb\n\nBranch: **[99eb31f](https://github.com/sagemath/sagetrac-mirror/commit/99eb31f851a4fcdf1e17bd1671b5218ae9acc0be)**\n\nReviewer: **Matthias Koeppe, Jeroen Demeyer, Vincent Delecroix, John Palmieri, Dima Pasechnik**\n\nAuthor: **Fran\u00e7ois Bissey**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/22646_\n\n",
    "closed_at": "2017-09-04T06:10:56Z",
    "created_at": "2017-03-19T05:15:30Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20build",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "./configure CC=/path/to/gcc ...",
    "type": "issue",
    "updated_at": "2017-09-06T09:09:08Z",
    "url": "https://github.com/sagemath/sage/issues/22646",
    "user": "https://github.com/mkoeppe"
}
```
Standard autotools packages allow variables such as CC to be set at configure time using

```
./configure CC=/path/to/gcc
```
In this ticket, we add support for this. (The syntax already works, but the settings right now only end up in the unused file `build/make/Makefile-auto`.)

New configure tarball:
[https://trac.sagemath.org/raw-attachment/ticket/22646/configure-235.tar.gz](https://trac.sagemath.org/raw-attachment/ticket/22646/configure-235.tar.gz)


CC:  @jdemeyer @kiwifb

Branch: **[99eb31f](https://github.com/sagemath/sagetrac-mirror/commit/99eb31f851a4fcdf1e17bd1671b5218ae9acc0be)**

Reviewer: **Matthias Koeppe, Jeroen Demeyer, Vincent Delecroix, John Palmieri, Dima Pasechnik**

Author: **François Bissey**

_Issue created by migration from https://trac.sagemath.org/ticket/22646_





---

archive/issue_events_298360.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2017-03-19T05:15:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22646#event-298360"
}
```



---

archive/issue_events_298361.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2017-03-19T05:15:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20build",
    "label_color": "000080",
    "label_name": "component: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22646#event-298361"
}
```



---

archive/issue_events_298362.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2017-03-19T05:15:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22646#event-298362"
}
```



---

archive/issue_events_298363.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2017-03-19T05:15:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22646#event-298363"
}
```



---

archive/issue_comments_339047.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nI guess that should be extended to `CXX`, `FC`, possibly `F77` and `CPP` (although I actually don't recommend to set that one and let the package decides unless it require hand holding. That's from my experience setting it in `sage-env` that sometimes backfire because `$CC -E` may work slightly differently and is what many package assume instead of plain `cpp`.\n\nWould that need to over-ride `sage-env` if sage's gcc has been installed? Useful for mad scientist experiments but probably not for common users.",
    "created_at": "2017-04-18T23:24:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339047",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:2" align="right">Comment 2</div>

I guess that should be extended to `CXX`, `FC`, possibly `F77` and `CPP` (although I actually don't recommend to set that one and let the package decides unless it require hand holding. That's from my experience setting it in `sage-env` that sometimes backfire because `$CC -E` may work slightly differently and is what many package assume instead of plain `cpp`.

Would that need to over-ride `sage-env` if sage's gcc has been installed? Useful for mad scientist experiments but probably not for common users.



---

archive/issue_comments_339048.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nYes, all of CC, CXX, FC, etc.\nAs a guideline, one can look into the list of variables that appear in an automake-generated Makefile.\n\nIn my opinion, if the user provides a specific CC, CXX in this way and configure finds out that they are not suitable, that should be an error.\n\nA gcc package should only be installed if no CC, CXX were provided in this way by the user. \nOnly in that case, `sage-env` should do its special magic to set these variables to have the sage gcc used.",
    "created_at": "2017-04-18T23:40:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339048",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3" align="right">Comment 3</div>

Yes, all of CC, CXX, FC, etc.
As a guideline, one can look into the list of variables that appear in an automake-generated Makefile.

In my opinion, if the user provides a specific CC, CXX in this way and configure finds out that they are not suitable, that should be an error.

A gcc package should only be installed if no CC, CXX were provided in this way by the user. 
Only in that case, `sage-env` should do its special magic to set these variables to have the sage gcc used.



---

archive/issue_comments_339049.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nOK, past experience shows that if you set something special at build time, it is forgotten at runtime (see #21701) so we will need to leverage `sage-env-config`, considering the magic in `sage-env` that means moving quite a bit of stuff.",
    "created_at": "2017-04-18T23:45:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339049",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:4" align="right">Comment 4</div>

OK, past experience shows that if you set something special at build time, it is forgotten at runtime (see #21701) so we will need to leverage `sage-env-config`, considering the magic in `sage-env` that means moving quite a bit of stuff.



---

archive/issue_comments_339050.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nYes, `sage-env-config` is what needs to be used.",
    "created_at": "2017-04-18T23:46:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339050",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">Comment 5</div>

Yes, `sage-env-config` is what needs to be used.



---

archive/issue_comments_339051.json:
```json
{
    "body": "Author: **Fran\u00e7ois Bissey**",
    "created_at": "2017-05-08T04:54:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339051",
    "user": "https://github.com/kiwifb"
}
```

Author: **François Bissey**



---

archive/issue_comments_339052.json:
```json
{
    "body": "Branch: **[u/fbissey/compilers](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/compilers)**",
    "created_at": "2017-05-08T04:54:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339052",
    "user": "https://github.com/kiwifb"
}
```

Branch: **[u/fbissey/compilers](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/compilers)**



---

archive/issue_comments_339053.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nThis is a first draft for this. I am dropping the setting for `CPP`. If there are packages, not using autotools, that need it to be set, I'll reconsider.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/483106af4a85ea41461791619dab3f1cef9daa11\">483106a</a></td><td><code>First draft of moving compiler settings to sage-env-config</code></td></tr></table>\n",
    "created_at": "2017-05-08T04:54:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339053",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:6" align="right">Comment 6</div>

This is a first draft for this. I am dropping the setting for `CPP`. If there are packages, not using autotools, that need it to be set, I'll reconsider.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/483106af4a85ea41461791619dab3f1cef9daa11">483106a</a></td><td><code>First draft of moving compiler settings to sage-env-config</code></td></tr></table>




---

archive/issue_comments_339054.json:
```json
{
    "body": "Commit: **[483106a](https://github.com/sagemath/sagetrac-mirror/commit/483106af4a85ea41461791619dab3f1cef9daa11)**",
    "created_at": "2017-05-08T04:54:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339054",
    "user": "https://github.com/kiwifb"
}
```

Commit: **[483106a](https://github.com/sagemath/sagetrac-mirror/commit/483106af4a85ea41461791619dab3f1cef9daa11)**



---

archive/issue_events_298364.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-05-19T01:25:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22646#event-298364"
}
```



---

archive/issue_comments_339055.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nOK I am looking to make #12426 on this soon and rework slightly the toolchain building in the case were we only build gfortran. In the absence of further comments, I am putting this for review. I'll attach a configure tarball.",
    "created_at": "2017-05-19T01:25:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339055",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:7" align="right">Comment 7</div>

OK I am looking to make #12426 on this soon and rework slightly the toolchain building in the case were we only build gfortran. In the absence of further comments, I am putting this for review. I'll attach a configure tarball.



---

archive/issue_comments_339056.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,3 +5,6 @@\n ```\n In this ticket, we add support for this -- and probably also for all SAGE_... variables listed in the installation manual. (The syntax already works, but the settings right now only end up in the unused file `build/make/Makefile-auto`.)\n \n+New configure tarball:\n+[https://github.com/sagemath/sage/files/ticket22646/configure-222.tar.gz\n+\n``````\n",
    "created_at": "2017-05-19T01:28:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339056",
    "user": "https://github.com/kiwifb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,3 +5,6 @@
 ```
 In this ticket, we add support for this -- and probably also for all SAGE_... variables listed in the installation manual. (The syntax already works, but the settings right now only end up in the unused file `build/make/Makefile-auto`.)
 
+New configure tarball:
+[https://github.com/sagemath/sage/files/ticket22646/configure-222.tar.gz
+
``````




---

archive/issue_comments_339057.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,5 +6,5 @@\n In this ticket, we add support for this -- and probably also for all SAGE_... variables listed in the installation manual. (The syntax already works, but the settings right now only end up in the unused file `build/make/Makefile-auto`.)\n \n New configure tarball:\n-[https://github.com/sagemath/sage/files/ticket22646/configure-222.tar.gz\n+[https://github.com/sagemath/sage/files/ticket22646/configure-222.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-222.tar.gz)\n \n``````\n",
    "created_at": "2017-05-19T01:28:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339057",
    "user": "https://github.com/kiwifb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,5 +6,5 @@
 In this ticket, we add support for this -- and probably also for all SAGE_... variables listed in the installation manual. (The syntax already works, but the settings right now only end up in the unused file `build/make/Makefile-auto`.)
 
 New configure tarball:
-[https://github.com/sagemath/sage/files/ticket22646/configure-222.tar.gz
+[https://github.com/sagemath/sage/files/ticket22646/configure-222.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-222.tar.gz)
 
``````




---

archive/issue_comments_339058.json:
```json
{
    "body": "Changed commit from **[483106a](https://github.com/sagemath/sagetrac-mirror/commit/483106af4a85ea41461791619dab3f1cef9daa11)** to **[945e824](https://github.com/sagemath/sagetrac-mirror/commit/945e8243c7fccc612354b616904ac1e2ef51c8ae)**",
    "created_at": "2017-06-19T21:37:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339058",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[483106a](https://github.com/sagemath/sagetrac-mirror/commit/483106af4a85ea41461791619dab3f1cef9daa11)** to **[945e824](https://github.com/sagemath/sagetrac-mirror/commit/945e8243c7fccc612354b616904ac1e2ef51c8ae)**



---

archive/issue_comments_339059.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d6e87c8b2174ae8e1ba20cd6771318950e2d099f\">d6e87c8</a></td><td><code>Merge branch 'develop' into compiler</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6048dffacd4195fe368635efd75ad06b76ee701a\">6048dff</a></td><td><code>Forgot to commit the new configure tarball</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f7eff641ce014a297c9f422ccf0880ad5b02db05\">f7eff64</a></td><td><code>Merge branch 'develop' into compiler</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/945e8243c7fccc612354b616904ac1e2ef51c8ae\">945e824</a></td><td><code>bump config tarball</code></td></tr></table>\n",
    "created_at": "2017-06-19T21:37:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339059",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10" align="right">Comment 10</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d6e87c8b2174ae8e1ba20cd6771318950e2d099f">d6e87c8</a></td><td><code>Merge branch 'develop' into compiler</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6048dffacd4195fe368635efd75ad06b76ee701a">6048dff</a></td><td><code>Forgot to commit the new configure tarball</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f7eff641ce014a297c9f422ccf0880ad5b02db05">f7eff64</a></td><td><code>Merge branch 'develop' into compiler</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/945e8243c7fccc612354b616904ac1e2ef51c8ae">945e824</a></td><td><code>bump config tarball</code></td></tr></table>




---

archive/issue_comments_339060.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,5 +6,5 @@\n In this ticket, we add support for this -- and probably also for all SAGE_... variables listed in the installation manual. (The syntax already works, but the settings right now only end up in the unused file `build/make/Makefile-auto`.)\n \n New configure tarball:\n-[https://github.com/sagemath/sage/files/ticket22646/configure-222.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-222.tar.gz)\n+[https://github.com/sagemath/sage/files/ticket22646/configure-226.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-226.tar.gz)\n \n``````\n",
    "created_at": "2017-06-19T21:38:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339060",
    "user": "https://github.com/kiwifb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,5 +6,5 @@
 In this ticket, we add support for this -- and probably also for all SAGE_... variables listed in the installation manual. (The syntax already works, but the settings right now only end up in the unused file `build/make/Makefile-auto`.)
 
 New configure tarball:
-[https://github.com/sagemath/sage/files/ticket22646/configure-222.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-222.tar.gz)
+[https://github.com/sagemath/sage/files/ticket22646/configure-226.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-226.tar.gz)
 
``````




---

archive/issue_comments_339061.json:
```json
{
    "body": "Changed commit from **[945e824](https://github.com/sagemath/sagetrac-mirror/commit/945e8243c7fccc612354b616904ac1e2ef51c8ae)** to **[32a0b00](https://github.com/sagemath/sagetrac-mirror/commit/32a0b00e746fd57a0830efc7176a6b8502c824fa)**",
    "created_at": "2017-06-19T22:22:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339061",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[945e824](https://github.com/sagemath/sagetrac-mirror/commit/945e8243c7fccc612354b616904ac1e2ef51c8ae)** to **[32a0b00](https://github.com/sagemath/sagetrac-mirror/commit/32a0b00e746fd57a0830efc7176a6b8502c824fa)**



---

archive/issue_comments_339062.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/32a0b00e746fd57a0830efc7176a6b8502c824fa\">32a0b00</a></td><td><code>one AC_SUBST per variable only :(</code></td></tr></table>\n",
    "created_at": "2017-06-19T22:22:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339062",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12" align="right">Comment 12</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/32a0b00e746fd57a0830efc7176a6b8502c824fa">32a0b00</a></td><td><code>one AC_SUBST per variable only :(</code></td></tr></table>




---

archive/issue_comments_339063.json:
```json
{
    "body": "Changed commit from **[32a0b00](https://github.com/sagemath/sagetrac-mirror/commit/32a0b00e746fd57a0830efc7176a6b8502c824fa)** to **[11dc29a](https://github.com/sagemath/sagetrac-mirror/commit/11dc29ac731fcf912a739f9ba8ec7fd5c66b46e8)**",
    "created_at": "2017-06-20T02:01:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339063",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[32a0b00](https://github.com/sagemath/sagetrac-mirror/commit/32a0b00e746fd57a0830efc7176a6b8502c824fa)** to **[11dc29a](https://github.com/sagemath/sagetrac-mirror/commit/11dc29ac731fcf912a739f9ba8ec7fd5c66b46e8)**



---

archive/issue_comments_339064.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/11dc29ac731fcf912a739f9ba8ec7fd5c66b46e8\">11dc29a</a></td><td><code>configure/automake doesn't like variables only defined in conditionals</code></td></tr></table>\n",
    "created_at": "2017-06-20T02:01:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339064",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13" align="right">Comment 13</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/11dc29ac731fcf912a739f9ba8ec7fd5c66b46e8">11dc29a</a></td><td><code>configure/automake doesn't like variables only defined in conditionals</code></td></tr></table>




---

archive/issue_comments_339065.json:
```json
{
    "body": "Changed commit from **[11dc29a](https://github.com/sagemath/sagetrac-mirror/commit/11dc29ac731fcf912a739f9ba8ec7fd5c66b46e8)** to **[ef9f1b3](https://github.com/sagemath/sagetrac-mirror/commit/ef9f1b37c462bb61c036262a23b3588292d8f392)**",
    "created_at": "2017-06-20T02:23:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339065",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[11dc29a](https://github.com/sagemath/sagetrac-mirror/commit/11dc29ac731fcf912a739f9ba8ec7fd5c66b46e8)** to **[ef9f1b3](https://github.com/sagemath/sagetrac-mirror/commit/ef9f1b37c462bb61c036262a23b3588292d8f392)**



---

archive/issue_comments_339066.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ef9f1b37c462bb61c036262a23b3588292d8f392\">ef9f1b3</a></td><td><code>missing \"fi\" in sage-env-config.in</code></td></tr></table>\n",
    "created_at": "2017-06-20T02:23:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339066",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14" align="right">Comment 14</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ef9f1b37c462bb61c036262a23b3588292d8f392">ef9f1b3</a></td><td><code>missing "fi" in sage-env-config.in</code></td></tr></table>




---

archive/issue_comments_339067.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nregarding CPP, there are some packages (`gf2x`) that need CPP and CXXCPP to be [set on FreeBSD](https://github.com/sagemath/sage/issues/22679#comment:73).",
    "created_at": "2017-06-20T06:52:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339067",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:15" align="right">Comment 15</div>

regarding CPP, there are some packages (`gf2x`) that need CPP and CXXCPP to be [set on FreeBSD](https://github.com/sagemath/sage/issues/22679#comment:73).



---

archive/issue_comments_339068.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nReplying to [@dimpase](#comment%3A15):\n> regarding CPP, there are some packages (`gf2x`) that need CPP and CXXCPP to be [set on FreeBSD](https://github.com/sagemath/sage/issues/22679#comment:73).\n\nIs it because `CC`/`CXX` is different from what you need for `C{,XX}PP`? Or is there something missing in `configure`? By default `AC_PROG_C{,XX}PP` check `C{C,XX} -E` first.",
    "created_at": "2017-06-20T07:12:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339068",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:16" align="right">Comment 16</div>

Replying to [@dimpase](#comment%3A15):
> regarding CPP, there are some packages (`gf2x`) that need CPP and CXXCPP to be [set on FreeBSD](https://github.com/sagemath/sage/issues/22679#comment:73).

Is it because `CC`/`CXX` is different from what you need for `C{,XX}PP`? Or is there something missing in `configure`? By default `AC_PROG_C{,XX}PP` check `C{C,XX} -E` first.



---

archive/issue_comments_339069.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nJust looked over at `gf2x`' git repo. `configure.ac` doesn't check for `CPP` or `CXXPP` we may want to get that done for the next release. In the meantime, I'd rather have individual `spkg-install` set it as needed, because I don't want to interfere with what configure script may be looking for. \n\nThe thing that I particularly don't like is \n\n```\nif [ -x \"$SAGE_LOCAL/bin/cpp\" ]; then\n    CPP=cpp\nfi\n```\nin `sage-env`. Without it package using autoconf should naturally use `gcc -E`, but because of this, when you install sage's gcc you get `cpp`.",
    "created_at": "2017-06-20T07:48:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339069",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:17" align="right">Comment 17</div>

Just looked over at `gf2x`' git repo. `configure.ac` doesn't check for `CPP` or `CXXPP` we may want to get that done for the next release. In the meantime, I'd rather have individual `spkg-install` set it as needed, because I don't want to interfere with what configure script may be looking for. 

The thing that I particularly don't like is 

```
if [ -x "$SAGE_LOCAL/bin/cpp" ]; then
    CPP=cpp
fi
```
in `sage-env`. Without it package using autoconf should naturally use `gcc -E`, but because of this, when you install sage's gcc you get `cpp`.



---

archive/issue_comments_339070.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nReplying to [@dimpase](#comment%3A15):\n> regarding CPP, there are some packages (`gf2x`) that need CPP and CXXCPP to be [set on FreeBSD](https://github.com/sagemath/sage/issues/22679#comment:73).\n\nReported to `gf2x` upstream at https://gforge.inria.fr/tracker/index.php?func=detail&aid=21377&group_id=1874&atid=6979",
    "created_at": "2017-06-20T21:59:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339070",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:18" align="right">Comment 18</div>

Replying to [@dimpase](#comment%3A15):
> regarding CPP, there are some packages (`gf2x`) that need CPP and CXXCPP to be [set on FreeBSD](https://github.com/sagemath/sage/issues/22679#comment:73).

Reported to `gf2x` upstream at https://gforge.inria.fr/tracker/index.php?func=detail&aid=21377&group_id=1874&atid=6979



---

archive/issue_comments_339071.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nI would like to test this with gcc-6 because my defafult gcc 7.1 is causing troubles (see this [sage thread](https://groups.google.com/forum/#!topic/sage-devel/1CZHCmwG_RE)). Is that all what I should do on a freshly cloned Sage?\n\n```\n$ ./bootstrap\n$ ./configure CC=/usr/bin/gcc-6 CXX=/usr/bin/g++-6\n$ make\n```",
    "created_at": "2017-06-21T08:55:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339071",
    "user": "https://github.com/videlec"
}
```

<div id="comment:19" align="right">Comment 19</div>

I would like to test this with gcc-6 because my defafult gcc 7.1 is causing troubles (see this [sage thread](https://groups.google.com/forum/#!topic/sage-devel/1CZHCmwG_RE)). Is that all what I should do on a freshly cloned Sage?

```
$ ./bootstrap
$ ./configure CC=/usr/bin/gcc-6 CXX=/usr/bin/g++-6
$ make
```



---

archive/issue_comments_339072.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nReplying to [@videlec](#comment%3A19):\n> I would like to test this with gcc-6 because my defafult gcc 7.1 is causing troubles (see this [sage thread](https://groups.google.com/forum/#!topic/sage-devel/1CZHCmwG_RE)). Is that all what I should do on a freshly cloned Sage?\n> \n> ```\n> $ ./bootstrap\n> $ ./configure CC=/usr/bin/gcc-6 CXX=/usr/bin/g++-6\n> $ make\n> ```\n\nPretty much.\n\n```\n$ ./bootstrap\n$ CC=/usr/bin/gcc-6 CXX=/usr/bin/g++-6 make\n```\nshould work too. Actually it would work without this ticket. But without this ticket once sage is built your settings for CC/CXX/FC is forgotten. You may want to read #21701 on the potential consequences of that amnesia.",
    "created_at": "2017-06-21T09:05:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339072",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:20" align="right">Comment 20</div>

Replying to [@videlec](#comment%3A19):
> I would like to test this with gcc-6 because my defafult gcc 7.1 is causing troubles (see this [sage thread](https://groups.google.com/forum/#!topic/sage-devel/1CZHCmwG_RE)). Is that all what I should do on a freshly cloned Sage?
> 
> ```
> $ ./bootstrap
> $ ./configure CC=/usr/bin/gcc-6 CXX=/usr/bin/g++-6
> $ make
> ```

Pretty much.

```
$ ./bootstrap
$ CC=/usr/bin/gcc-6 CXX=/usr/bin/g++-6 make
```
should work too. Actually it would work without this ticket. But without this ticket once sage is built your settings for CC/CXX/FC is forgotten. You may want to read #21701 on the potential consequences of that amnesia.



---

archive/issue_comments_339073.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nI am trying the `./configure` way right now. I will report in few hours.",
    "created_at": "2017-06-21T09:09:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339073",
    "user": "https://github.com/videlec"
}
```

<div id="comment:21" align="right">Comment 21</div>

I am trying the `./configure` way right now. I will report in few hours.



---

archive/issue_comments_339074.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\n... even sooner, compilation started but then Sage tries to download `gcc-5.4`! Is that expected? Should I also set `SAGE_INSTALL_GCC=no` somewhere?",
    "created_at": "2017-06-21T09:14:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339074",
    "user": "https://github.com/videlec"
}
```

<div id="comment:22" align="right">Comment 22</div>

... even sooner, compilation started but then Sage tries to download `gcc-5.4`! Is that expected? Should I also set `SAGE_INSTALL_GCC=no` somewhere?



---

archive/issue_comments_339075.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nI was writing that when your comment hit:\nSomething I didn't think about. sage may try to build its own gcc because the gfortran version is not the same as gcc.\n\nEither provide the matching gfortran or uses #12426 which is build on top of this ticket and decouples gfortran (because clang).",
    "created_at": "2017-06-21T09:16:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339075",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:23" align="right">Comment 23</div>

I was writing that when your comment hit:
Something I didn't think about. sage may try to build its own gcc because the gfortran version is not the same as gcc.

Either provide the matching gfortran or uses #12426 which is build on top of this ticket and decouples gfortran (because clang).



---

archive/issue_comments_339076.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nIt seems that archlinux do not provide the matching gfortran eventhough there is the Fortran runtime libraries for gcc-6... will try #12426",
    "created_at": "2017-06-21T09:21:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339076",
    "user": "https://github.com/videlec"
}
```

<div id="comment:24" align="right">Comment 24</div>

It seems that archlinux do not provide the matching gfortran eventhough there is the Fortran runtime libraries for gcc-6... will try #12426



---

archive/issue_comments_339077.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nReplying to [@videlec](#comment%3A24):\n> It seems that archlinux do not provide the matching gfortran eventhough there is the Fortran runtime libraries for gcc-6... will try #12426\n\nsometimes `gcc` can be called to compile fortran, e.g. something like `gcc6 -x f95` might be able to compile fortran.",
    "created_at": "2017-06-21T09:24:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339077",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:25" align="right">Comment 25</div>

Replying to [@videlec](#comment%3A24):
> It seems that archlinux do not provide the matching gfortran eventhough there is the Fortran runtime libraries for gcc-6... will try #12426

sometimes `gcc` can be called to compile fortran, e.g. something like `gcc6 -x f95` might be able to compile fortran.



---

archive/issue_comments_339078.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nReplying to [@dimpase](#comment%3A25):\n> Replying to [@videlec](#comment%3A24):\n> > It seems that archlinux do not provide the matching gfortran eventhough there is the Fortran runtime libraries for gcc-6... will try #12426\n\n> \n> sometimes `gcc` can be called to compile fortran, e.g. something like `gcc6 -x f95` might be able to compile fortran.\n\nYou would need `f951` to be installed for that to work. gcc, g++ and gfortran are front end compiler drivers. cc1, cxx1 and f951 are the real compilers. When you do something like `gcc -x f95` you are basically instructing the main compiler driver to drive for f951 rather than cc1. f951 still needs to be present (usually in /usr/libexec/gcc/$host/$version/).",
    "created_at": "2017-06-21T09:37:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339078",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:26" align="right">Comment 26</div>

Replying to [@dimpase](#comment%3A25):
> Replying to [@videlec](#comment%3A24):
> > It seems that archlinux do not provide the matching gfortran eventhough there is the Fortran runtime libraries for gcc-6... will try #12426

> 
> sometimes `gcc` can be called to compile fortran, e.g. something like `gcc6 -x f95` might be able to compile fortran.

You would need `f951` to be installed for that to work. gcc, g++ and gfortran are front end compiler drivers. cc1, cxx1 and f951 are the real compilers. When you do something like `gcc -x f95` you are basically instructing the main compiler driver to drive for f951 rather than cc1. f951 still needs to be present (usually in /usr/libexec/gcc/$host/$version/).



---

archive/issue_comments_339079.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nSuccess (for both `make build` and `sage -i polymake`)! Tell me if you want me to test more stuff.",
    "created_at": "2017-06-21T13:09:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339079",
    "user": "https://github.com/videlec"
}
```

<div id="comment:27" align="right">Comment 27</div>

Success (for both `make build` and `sage -i polymake`)! Tell me if you want me to test more stuff.



---

archive/issue_comments_339080.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nWell, I'd like you to run the test suite (make ptestlong). Of course you ended up using the full #12426.",
    "created_at": "2017-06-21T21:06:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339080",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:28" align="right">Comment 28</div>

Well, I'd like you to run the test suite (make ptestlong). Of course you ended up using the full #12426.



---

archive/issue_comments_339081.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nOn top of #12426, ptestlong gives\n\n```\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\n```",
    "created_at": "2017-06-22T05:54:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339081",
    "user": "https://github.com/videlec"
}
```

<div id="comment:29" align="right">Comment 29</div>

On top of #12426, ptestlong gives

```
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
```



---

archive/issue_comments_339082.json:
```json
{
    "body": "Changed commit from **[ef9f1b3](https://github.com/sagemath/sagetrac-mirror/commit/ef9f1b37c462bb61c036262a23b3588292d8f392)** to **[a50d44f](https://github.com/sagemath/sagetrac-mirror/commit/a50d44f8da9bf9d1408e8cb945f07d227c884fb9)**",
    "created_at": "2017-06-22T22:06:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339082",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ef9f1b3](https://github.com/sagemath/sagetrac-mirror/commit/ef9f1b37c462bb61c036262a23b3588292d8f392)** to **[a50d44f](https://github.com/sagemath/sagetrac-mirror/commit/a50d44f8da9bf9d1408e8cb945f07d227c884fb9)**



---

archive/issue_comments_339083.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d76da7b65765181167e74923bee1856d21d3e4d3\">d76da7b</a></td><td><code>Merge branch 'develop' into compiler</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a50d44f8da9bf9d1408e8cb945f07d227c884fb9\">a50d44f</a></td><td><code>bump config tarball</code></td></tr></table>\n",
    "created_at": "2017-06-22T22:06:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339083",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30" align="right">Comment 30</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d76da7b65765181167e74923bee1856d21d3e4d3">d76da7b</a></td><td><code>Merge branch 'develop' into compiler</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a50d44f8da9bf9d1408e8cb945f07d227c884fb9">a50d44f</a></td><td><code>bump config tarball</code></td></tr></table>




---

archive/issue_comments_339084.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,5 +6,5 @@\n In this ticket, we add support for this -- and probably also for all SAGE_... variables listed in the installation manual. (The syntax already works, but the settings right now only end up in the unused file `build/make/Makefile-auto`.)\n \n New configure tarball:\n-[https://github.com/sagemath/sage/files/ticket22646/configure-226.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-226.tar.gz)\n+[https://github.com/sagemath/sage/files/ticket22646/configure-227.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-227.tar.gz)\n \n``````\n",
    "created_at": "2017-06-22T22:07:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339084",
    "user": "https://github.com/kiwifb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,5 +6,5 @@
 In this ticket, we add support for this -- and probably also for all SAGE_... variables listed in the installation manual. (The syntax already works, but the settings right now only end up in the unused file `build/make/Makefile-auto`.)
 
 New configure tarball:
-[https://github.com/sagemath/sage/files/ticket22646/configure-226.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-226.tar.gz)
+[https://github.com/sagemath/sage/files/ticket22646/configure-227.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-227.tar.gz)
 
``````




---

archive/issue_comments_339085.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nI am trying\n\n```\n ./configure CC=clang CXX=clang++\n```\non Fedora 23 (clang 3.7) with SAGE_INSTALL_GCC=no\nand I still see it doing some `g++` tests:\n\n```\n...\nchecking for complex.h... yes\nchecking whether clang++ supports C++11 features by default... no\nchecking whether clang++ supports C++11 features with -std=gnu++11... yes\nchecking for clang option to accept ISO C99... none needed\nchecking for Fortran flag needed to accept free-form source... -ffree-form\nchecking if gcc accepts -dumpversion option... yes\nchecking gcc version... 4.2.1\nchecking if g++ accepts -dumpversion option... yes\nchecking g++ version... 4.2.1\nchecking for sqrt in -lm... yes\n...\n```\nAnd I don't even get how it gets `4.2.1` there, as gcc/g++/gfortran installed is 5.3.1.\nIs it \"gcc emulation mode\"?!",
    "created_at": "2017-06-23T10:25:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339085",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:32" align="right">Comment 32</div>

I am trying

```
 ./configure CC=clang CXX=clang++
```
on Fedora 23 (clang 3.7) with SAGE_INSTALL_GCC=no
and I still see it doing some `g++` tests:

```
...
checking for complex.h... yes
checking whether clang++ supports C++11 features by default... no
checking whether clang++ supports C++11 features with -std=gnu++11... yes
checking for clang option to accept ISO C99... none needed
checking for Fortran flag needed to accept free-form source... -ffree-form
checking if gcc accepts -dumpversion option... yes
checking gcc version... 4.2.1
checking if g++ accepts -dumpversion option... yes
checking g++ version... 4.2.1
checking for sqrt in -lm... yes
...
```
And I don't even get how it gets `4.2.1` there, as gcc/g++/gfortran installed is 5.3.1.
Is it "gcc emulation mode"?!



---

archive/issue_comments_339086.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\nclang fakes gcc. Not any version of gcc, just 4.2.1. Same thing on OS X. So this is totally expected. I wouldn't call it an emulation mode. clang just happen to support all the pragmas identifying itself as gcc 4.2.1.",
    "created_at": "2017-06-23T10:31:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339086",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:33" align="right">Comment 33</div>

clang fakes gcc. Not any version of gcc, just 4.2.1. Same thing on OS X. So this is totally expected. I wouldn't call it an emulation mode. clang just happen to support all the pragmas identifying itself as gcc 4.2.1.



---

archive/issue_comments_339087.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\nSo this ends up with a silly error in libfplll:\n\n```\n...\nchecking dependency style of clang... (cached) gcc3\nchecking whether make sets $(MAKE)... (cached) yes\nchecking whether clang++ supports C++11 features by default... no\nchecking whether clang++ supports C++11 features with -std=c++11... no\nchecking whether clang++ supports C++11 features with -std=c++0x... no\nchecking whether clang++ supports C++11 features with +std=c++11... no\nchecking whether clang++ supports C++11 features with -h std=c++11... no\nconfigure: error: *** A compiler with support for C++11 language features is required.\nError configuring fplll\n...\n```\n\nIs this known, are there any patches needed?",
    "created_at": "2017-06-23T10:46:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339087",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:34" align="right">Comment 34</div>

So this ends up with a silly error in libfplll:

```
...
checking dependency style of clang... (cached) gcc3
checking whether make sets $(MAKE)... (cached) yes
checking whether clang++ supports C++11 features by default... no
checking whether clang++ supports C++11 features with -std=c++11... no
checking whether clang++ supports C++11 features with -std=c++0x... no
checking whether clang++ supports C++11 features with +std=c++11... no
checking whether clang++ supports C++11 features with -h std=c++11... no
configure: error: *** A compiler with support for C++11 language features is required.
Error configuring fplll
...
```

Is this known, are there any patches needed?



---

archive/issue_comments_339088.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nI have no problem with clang 3.9. It looks like 3.7 may not have enough features. You may have noticed that sage's configure said that clang 3.7 could support c+11 with -std=gnu++11. It didn't check with -std=c++11. However fplll doesn't want gnu++11\n\n```\nAX_CXX_COMPILE_STDCXX([11],[noext],[mandatory])\n```\nthe `noext` in fplll's configure.ac prevents you from using gnu++11. It would probably work though.",
    "created_at": "2017-06-23T11:01:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339088",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:35" align="right">Comment 35</div>

I have no problem with clang 3.9. It looks like 3.7 may not have enough features. You may have noticed that sage's configure said that clang 3.7 could support c+11 with -std=gnu++11. It didn't check with -std=c++11. However fplll doesn't want gnu++11

```
AX_CXX_COMPILE_STDCXX([11],[noext],[mandatory])
```
the `noext` in fplll's configure.ac prevents you from using gnu++11. It would probably work though.



---

archive/issue_comments_339089.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\nAs well, I have some linking gevalt with flint:\n\n```\n...\nclang  -r ../build/ulong_extras/mulmod_precomp.lo ../build/ulong_extras/factor_trial_partial.lo ../build/ulong_extras/sizeinbase.lo .\n./build/ulong_extras/randbits.lo ../build/ulong_extras/is_square.lo ../build/ulong_extras/inlines.lo ../build/ulong_extras/clog.lo ..\n/build/ulong_extras/mulmod2_preinv.lo ../build/ulong_extras/factor_SQUFOF.lo ../build/ulong_extras/cbrt_newton_iteration.lo ../build/\nulong_extras/nth_prime_bounds.lo ../build/ulong_extras/is_probabprime_lucas.lo ../build/ulong_extras/primes_clear.lo ../build/ulong_e\nxtras/jacobi.lo ../build/ulong_extras/factor_partial.lo ../build/ulong_extras/mod2_precomp.lo ../build/ulong_extras/flog.lo ../build/\nulong_extras/is_probabprime_fibonacci.lo ../build/ulong_extras/factorial_mod2_preinv.lo ../build/ulong_extras/invmod.lo ../build/ulon\ng_extras/factor_pp1.lo ../build/ulong_extras/prime_inverses_arr_readonly.lo ../build/ulong_extras/is_probabprime_BPSW.lo ../build/ulo\nng_extras/powmod_preinv.lo ../build/ulong_extras/gcdinv.lo ../build/ulong_extras/randprime.lo ../build/ulong_extras/rootrem.lo ../bui\nld/ulong_extras/powmod_precomp.lo ../build/ulong_extras/randint.lo ../build/ulong_extras/is_prime_pseudosquare.lo ../build/ulong_extras/primes_init.lo ../build/ulong_extras/primes_sieve_range.lo ../build/ulong_extras/mod2_preinv.lo ../build/ulong_extras/is_perfect_power235.lo ../build/ulong_extras/moebius_mu.lo ../build/ulong_extras/sqrtrem.lo ../build/ulong_extras/factor_insert.lo ../build/ulong_extras/revbin.lo ../build/ulong_extras/mod_precomp.lo ../build/ulong_extras/cbrt_estimate.lo ../build/ulong_extras/primitive_root_prime.lo ../build/ulong_extras/factor.lo ../build/ulong_extras/factor_trial.lo ../build/ulong_extras/is_strong_probabprime2_preinv.lo ../build/ulong_extras/lll_mod_preinv.lo ../build/ulong_extras/is_prime_pocklington.lo ../build/ulong_extras/pow.lo ../build/ulong_extras/factor_power235.lo ../build/ulong_extras/sqrt.lo ../build/ulong_extras/remove2_precomp.lo ../build/ulong_extras/sqrtmodn.lo ../build/ulong_extras/root_estimate.lo ../build/ulong_extras/cbrtrem.lo ../build/ulong_extras/discrete_log_bsgs.lo ../build/ulong_extras/prime_pi.lo ../build/ulong_extras/sqrtmod_primepow.lo ../build/ulong_extras/randlimb.lo ../build/ulong_extras/sqrtmod.lo ../build/ulong_extras/root.lo ../build/ulong_extras/divrem2_precomp.lo ../build/ulong_extras/factorial_fast_mod2_preinv.lo ../build/ulong_extras/cbrt.lo ../build/ulong_extras/remove.lo ../build/ulong_extras/is_probabprime.lo ../build/ulong_extras/is_squarefree.lo ../build/ulong_extras/is_probabprime_fermat.lo ../build/ulong_extras/randtest.lo ../build/ulong_extras/primes_arr_readonly.lo ../build/ulong_extras/primes_jump_after.lo ../build/ulong_extras/is_prime.lo ../build/ulong_extras/nextprime.lo ../build/ulong_extras/compute_primes.lo ../build/ulong_extras/gcd.lo ../build/ulong_extras/nth_prime.lo ../build/ulong_extras/factor_lehman.lo ../build/ulong_extras/ll_mod_preinv.lo ../build/ulong_extras/prime_pi_bounds.lo ../build/ulong_extras/primes_extend_small.lo ../build/ulong_extras/is_strong_probabprime_precomp.lo ../build/ulong_extras/is_oddprime_binary.lo ../build/ulong_extras/cbrt_chebyshev_approximation.lo ../build/ulong_extras/cleanup_primes.lo ../build/ulong_extras/euler_phi.lo ../build/ulong_extras/factor_trial_range.lo ../build/ulong_extras/factor_one_line.lo ../build/ulong_extras/cbrt_binary_search.lo ../build/ulong_extras/xgcd.lo ../build/ulong_extras/is_oddprime_small.lo ../build/ulong_extras/powmod2_preinv.lo ../build/ulong_extras/mulmod_preinv.lo -o ../build/ulong_extras/../ulong_extras.lo -nostdlib\nclang: warning: argument unused during compilation: '-r'\n/usr/bin/ld: warning: cannot find entry symbol _start; defaulting to 00000000004001f0\n../build/ulong_extras/is_square.lo: In function `n_is_square':\n/home/scratch/dimpase/sage/sage-clang/local/var/tmp/sage/build/flint-2.5.2.p1/src/ulong_extras/is_square.c:54: undefined reference to `sqrt'\n...\n```\n\nIs this all due to `-stdlib=libstdc++` ?",
    "created_at": "2017-06-23T11:03:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339089",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:36" align="right">Comment 36</div>

As well, I have some linking gevalt with flint:

```
...
clang  -r ../build/ulong_extras/mulmod_precomp.lo ../build/ulong_extras/factor_trial_partial.lo ../build/ulong_extras/sizeinbase.lo .
./build/ulong_extras/randbits.lo ../build/ulong_extras/is_square.lo ../build/ulong_extras/inlines.lo ../build/ulong_extras/clog.lo ..
/build/ulong_extras/mulmod2_preinv.lo ../build/ulong_extras/factor_SQUFOF.lo ../build/ulong_extras/cbrt_newton_iteration.lo ../build/
ulong_extras/nth_prime_bounds.lo ../build/ulong_extras/is_probabprime_lucas.lo ../build/ulong_extras/primes_clear.lo ../build/ulong_e
xtras/jacobi.lo ../build/ulong_extras/factor_partial.lo ../build/ulong_extras/mod2_precomp.lo ../build/ulong_extras/flog.lo ../build/
ulong_extras/is_probabprime_fibonacci.lo ../build/ulong_extras/factorial_mod2_preinv.lo ../build/ulong_extras/invmod.lo ../build/ulon
g_extras/factor_pp1.lo ../build/ulong_extras/prime_inverses_arr_readonly.lo ../build/ulong_extras/is_probabprime_BPSW.lo ../build/ulo
ng_extras/powmod_preinv.lo ../build/ulong_extras/gcdinv.lo ../build/ulong_extras/randprime.lo ../build/ulong_extras/rootrem.lo ../bui
ld/ulong_extras/powmod_precomp.lo ../build/ulong_extras/randint.lo ../build/ulong_extras/is_prime_pseudosquare.lo ../build/ulong_extras/primes_init.lo ../build/ulong_extras/primes_sieve_range.lo ../build/ulong_extras/mod2_preinv.lo ../build/ulong_extras/is_perfect_power235.lo ../build/ulong_extras/moebius_mu.lo ../build/ulong_extras/sqrtrem.lo ../build/ulong_extras/factor_insert.lo ../build/ulong_extras/revbin.lo ../build/ulong_extras/mod_precomp.lo ../build/ulong_extras/cbrt_estimate.lo ../build/ulong_extras/primitive_root_prime.lo ../build/ulong_extras/factor.lo ../build/ulong_extras/factor_trial.lo ../build/ulong_extras/is_strong_probabprime2_preinv.lo ../build/ulong_extras/lll_mod_preinv.lo ../build/ulong_extras/is_prime_pocklington.lo ../build/ulong_extras/pow.lo ../build/ulong_extras/factor_power235.lo ../build/ulong_extras/sqrt.lo ../build/ulong_extras/remove2_precomp.lo ../build/ulong_extras/sqrtmodn.lo ../build/ulong_extras/root_estimate.lo ../build/ulong_extras/cbrtrem.lo ../build/ulong_extras/discrete_log_bsgs.lo ../build/ulong_extras/prime_pi.lo ../build/ulong_extras/sqrtmod_primepow.lo ../build/ulong_extras/randlimb.lo ../build/ulong_extras/sqrtmod.lo ../build/ulong_extras/root.lo ../build/ulong_extras/divrem2_precomp.lo ../build/ulong_extras/factorial_fast_mod2_preinv.lo ../build/ulong_extras/cbrt.lo ../build/ulong_extras/remove.lo ../build/ulong_extras/is_probabprime.lo ../build/ulong_extras/is_squarefree.lo ../build/ulong_extras/is_probabprime_fermat.lo ../build/ulong_extras/randtest.lo ../build/ulong_extras/primes_arr_readonly.lo ../build/ulong_extras/primes_jump_after.lo ../build/ulong_extras/is_prime.lo ../build/ulong_extras/nextprime.lo ../build/ulong_extras/compute_primes.lo ../build/ulong_extras/gcd.lo ../build/ulong_extras/nth_prime.lo ../build/ulong_extras/factor_lehman.lo ../build/ulong_extras/ll_mod_preinv.lo ../build/ulong_extras/prime_pi_bounds.lo ../build/ulong_extras/primes_extend_small.lo ../build/ulong_extras/is_strong_probabprime_precomp.lo ../build/ulong_extras/is_oddprime_binary.lo ../build/ulong_extras/cbrt_chebyshev_approximation.lo ../build/ulong_extras/cleanup_primes.lo ../build/ulong_extras/euler_phi.lo ../build/ulong_extras/factor_trial_range.lo ../build/ulong_extras/factor_one_line.lo ../build/ulong_extras/cbrt_binary_search.lo ../build/ulong_extras/xgcd.lo ../build/ulong_extras/is_oddprime_small.lo ../build/ulong_extras/powmod2_preinv.lo ../build/ulong_extras/mulmod_preinv.lo -o ../build/ulong_extras/../ulong_extras.lo -nostdlib
clang: warning: argument unused during compilation: '-r'
/usr/bin/ld: warning: cannot find entry symbol _start; defaulting to 00000000004001f0
../build/ulong_extras/is_square.lo: In function `n_is_square':
/home/scratch/dimpase/sage/sage-clang/local/var/tmp/sage/build/flint-2.5.2.p1/src/ulong_extras/is_square.c:54: undefined reference to `sqrt'
...
```

Is this all due to `-stdlib=libstdc++` ?



---

archive/issue_comments_339090.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\nHa... the fix for compiling flint on debian 9 with pie breaks that compiler... That's because flint insist on not using autotools (duck for cover).\n\nI don't know how your clang 3.7 is built, it may also be using g++ libstdc++ in which case the version of g++ is important for c++11 support. Which version of gcc/g++ is this?",
    "created_at": "2017-06-23T11:07:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339090",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:37" align="right">Comment 37</div>

Ha... the fix for compiling flint on debian 9 with pie breaks that compiler... That's because flint insist on not using autotools (duck for cover).

I don't know how your clang 3.7 is built, it may also be using g++ libstdc++ in which case the version of g++ is important for c++11 support. Which version of gcc/g++ is this?



---

archive/issue_comments_339091.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">Comment 38</div>\n\nwith giac it's definitely some lib(std)c++-related trouble:\n\n```\n./index.h:572:11: error: no template named 'hash_map' in namespace 'std'; did you mean '__gnu_cxx::hash_map'?\n  typedef std::hash_map< index_t,index_m,hash_function_object > hash_index ;\n          ^~~~~~~~~~~~~\n          __gnu_cxx::hash_map\n```\n\nShould we abandon efforts to run on clang++ with libstdc++, and only allow libc++ with clang++ ?",
    "created_at": "2017-06-23T11:08:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339091",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:38" align="right">Comment 38</div>

with giac it's definitely some lib(std)c++-related trouble:

```
./index.h:572:11: error: no template named 'hash_map' in namespace 'std'; did you mean '__gnu_cxx::hash_map'?
  typedef std::hash_map< index_t,index_m,hash_function_object > hash_index ;
          ^~~~~~~~~~~~~
          __gnu_cxx::hash_map
```

Should we abandon efforts to run on clang++ with libstdc++, and only allow libc++ with clang++ ?



---

archive/issue_comments_339092.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">Comment 39</div>\n\nReplying to [@kiwifb](#comment%3A37):\n> Ha... the fix for compiling flint on debian 9 with pie breaks that compiler... That's because flint insist on not using autotools (duck for cover).\n\nhear, hear, @wbhart :-)\n> \n> I don't know how your clang 3.7 is built, it may also be using g++ libstdc++ in which case the version of g++ is important for c++11 support. Which version of gcc/g++ is this?\n\nIt's g++ 5.3.1.",
    "created_at": "2017-06-23T11:10:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339092",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:39" align="right">Comment 39</div>

Replying to [@kiwifb](#comment%3A37):
> Ha... the fix for compiling flint on debian 9 with pie breaks that compiler... That's because flint insist on not using autotools (duck for cover).

hear, hear, @wbhart :-)
> 
> I don't know how your clang 3.7 is built, it may also be using g++ libstdc++ in which case the version of g++ is important for c++11 support. Which version of gcc/g++ is this?

It's g++ 5.3.1.



---

archive/issue_comments_339093.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">Comment 40</div>\n\nReplying to [@dimpase](#comment%3A38):\n> with giac it's definitely some lib(std)c++-related trouble:\n> \n> ```\n> ./index.h:572:11: error: no template named 'hash_map' in namespace 'std'; did you mean '__gnu_cxx::hash_map'?\n>   typedef std::hash_map< index_t,index_m,hash_function_object > hash_index ;\n>           ^~~~~~~~~~~~~\n>           __gnu_cxx::hash_map\n> ```\n> \n> Should we abandon efforts to run on clang++ with libstdc++, and only allow libc++ with clang++ ?\n\nPossibly. More checks to devise. That clang 3.7 is obviously not good enough.",
    "created_at": "2017-06-23T11:30:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339093",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:40" align="right">Comment 40</div>

Replying to [@dimpase](#comment%3A38):
> with giac it's definitely some lib(std)c++-related trouble:
> 
> ```
> ./index.h:572:11: error: no template named 'hash_map' in namespace 'std'; did you mean '__gnu_cxx::hash_map'?
>   typedef std::hash_map< index_t,index_m,hash_function_object > hash_index ;
>           ^~~~~~~~~~~~~
>           __gnu_cxx::hash_map
> ```
> 
> Should we abandon efforts to run on clang++ with libstdc++, and only allow libc++ with clang++ ?

Possibly. More checks to devise. That clang 3.7 is obviously not good enough.



---

archive/issue_comments_339094.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">Comment 41</div>\n\n~~I'm trying this to test #12426 but I get a download error.  I already created an `upstream/` directory and placed the tarball on this ticket on it, so I'm not sure why it's even trying to download it.  That said, I started completely from scratch with a new `git clone`.~~  Error was mine, or my browser's, perhaps.",
    "created_at": "2017-06-23T14:10:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339094",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:41" align="right">Comment 41</div>

~~I'm trying this to test #12426 but I get a download error.  I already created an `upstream/` directory and placed the tarball on this ticket on it, so I'm not sure why it's even trying to download it.  That said, I started completely from scratch with a new `git clone`.~~  Error was mine, or my browser's, perhaps.



---

archive/issue_comments_339095.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">Comment 42</div>\n\nReplying to [@kiwifb](#comment%3A35):\n> I have no problem with clang 3.9. It looks like 3.7 may not have enough features. You may have noticed that sage's configure said that clang 3.7 could support c+11 with -std=gnu++11. It didn't check with -std=c++11. However fplll doesn't want gnu++11\n\nShouldn't Sage ./configure check for C++11 support with`-std=c++11`?\nCurrently it checks for C++11 support `-std=gnu++11`; e.g. on FreeBSD I see\n\n```\nchecking whether clang++-devel supports C++11 features with -std=gnu++11... yes\n```",
    "created_at": "2017-06-23T16:53:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339095",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:42" align="right">Comment 42</div>

Replying to [@kiwifb](#comment%3A35):
> I have no problem with clang 3.9. It looks like 3.7 may not have enough features. You may have noticed that sage's configure said that clang 3.7 could support c+11 with -std=gnu++11. It didn't check with -std=c++11. However fplll doesn't want gnu++11

Shouldn't Sage ./configure check for C++11 support with`-std=c++11`?
Currently it checks for C++11 support `-std=gnu++11`; e.g. on FreeBSD I see

```
checking whether clang++-devel supports C++11 features with -std=gnu++11... yes
```



---

archive/issue_comments_339096.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">Comment 43</div>\n\nIf you are using #12426 to test this you need the configure tarball from #12426.\n\nThe c++11 test is a bit more subtle than that. If you don't say anything it will check for both in turn, but starts with gnu++11 and stops if that works. If you want to force the test for std=c++11 you have to pass `noext` to the macro. gnu++11 should be a super set of c++11 which is why it stops there. I am not sure why fplll insists that you shouldn't use gnu++11.",
    "created_at": "2017-06-23T19:40:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339096",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:43" align="right">Comment 43</div>

If you are using #12426 to test this you need the configure tarball from #12426.

The c++11 test is a bit more subtle than that. If you don't say anything it will check for both in turn, but starts with gnu++11 and stops if that works. If you want to force the test for std=c++11 you have to pass `noext` to the macro. gnu++11 should be a super set of c++11 which is why it stops there. I am not sure why fplll insists that you shouldn't use gnu++11.



---

archive/issue_comments_339097.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">Comment 44</div>\n\nconcerning GF2X on FreeBSD (cf comment [comment:16]), does the following patch fix the issue?\n\n```\n--- a/configure.ac\n+++ b/configure.ac\n@@ -93,10 +93,10 @@ AC_ARG_ENABLE([fft-interface],\n AM_CONDITIONAL([ENABLE_FFT_INTERFACE],[test \"x$enable_fft_interface\" = xyes])\n\n AC_PROG_CC\n-AC_PROG_CPP\n AC_PROG_CXX\n AC_COMPILE_WARNINGS\n AC_PROG_CC_C99\n+AC_PROG_CPP\n\n GF2X_PROG_CC_FOR_BUILD\n GF2X_PROG_EXEEXT_FOR_BUILD\n```",
    "created_at": "2017-06-26T09:07:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339097",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:44" align="right">Comment 44</div>

concerning GF2X on FreeBSD (cf comment [comment:16]), does the following patch fix the issue?

```
--- a/configure.ac
+++ b/configure.ac
@@ -93,10 +93,10 @@ AC_ARG_ENABLE([fft-interface],
 AM_CONDITIONAL([ENABLE_FFT_INTERFACE],[test "x$enable_fft_interface" = xyes])

 AC_PROG_CC
-AC_PROG_CPP
 AC_PROG_CXX
 AC_COMPILE_WARNINGS
 AC_PROG_CC_C99
+AC_PROG_CPP

 GF2X_PROG_CC_FOR_BUILD
 GF2X_PROG_EXEEXT_FOR_BUILD
```



---

archive/issue_comments_339098.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">Comment 45</div>\n\nReplying to [@zimmermann6](#comment%3A44):\n> concerning GF2X on FreeBSD (cf comment [comment:16]), does the following patch fix the issue?\n> \n> ```\n> --- a/configure.ac\n> +++ b/configure.ac\n> @@ -93,10 +93,10 @@ AC_ARG_ENABLE([fft-interface],\n>  AM_CONDITIONAL([ENABLE_FFT_INTERFACE],[test \"x$enable_fft_interface\" = xyes])\n> \n>  AC_PROG_CC\n> -AC_PROG_CPP\n>  AC_PROG_CXX\n>  AC_COMPILE_WARNINGS\n>  AC_PROG_CC_C99\n> +AC_PROG_CPP\n> \n>  GF2X_PROG_CC_FOR_BUILD\n>  GF2X_PROG_EXEEXT_FOR_BUILD\n> ```\n\nThe patch is difficult to apply considering there is no `AC_PROG_CPP` in gf2x-1.1, I think you missed thome's first commit adding it and you are only quoting the one moving it. I don't think the move matters too much by the way.",
    "created_at": "2017-06-26T09:30:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339098",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:45" align="right">Comment 45</div>

Replying to [@zimmermann6](#comment%3A44):
> concerning GF2X on FreeBSD (cf comment [comment:16]), does the following patch fix the issue?
> 
> ```
> --- a/configure.ac
> +++ b/configure.ac
> @@ -93,10 +93,10 @@ AC_ARG_ENABLE([fft-interface],
>  AM_CONDITIONAL([ENABLE_FFT_INTERFACE],[test "x$enable_fft_interface" = xyes])
> 
>  AC_PROG_CC
> -AC_PROG_CPP
>  AC_PROG_CXX
>  AC_COMPILE_WARNINGS
>  AC_PROG_CC_C99
> +AC_PROG_CPP
> 
>  GF2X_PROG_CC_FOR_BUILD
>  GF2X_PROG_EXEEXT_FOR_BUILD
> ```

The patch is difficult to apply considering there is no `AC_PROG_CPP` in gf2x-1.1, I think you missed thome's first commit adding it and you are only quoting the one moving it. I don't think the move matters too much by the way.



---

archive/issue_comments_339099.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">Comment 46</div>\n\nReplying to [@zimmermann6](#comment%3A44):\n> concerning GF2X on FreeBSD (cf comment [comment:16]), does the following patch fix the issue?\n> \n> ```\n> --- a/configure.ac\n> +++ b/configure.ac\n> @@ -93,10 +93,10 @@ AC_ARG_ENABLE([fft-interface],\n>  AM_CONDITIONAL([ENABLE_FFT_INTERFACE],[test \"x$enable_fft_interface\" = xyes])\n> \n>  AC_PROG_CC\n> -AC_PROG_CPP\n>  AC_PROG_CXX\n>  AC_COMPILE_WARNINGS\n>  AC_PROG_CC_C99\n> +AC_PROG_CPP\n> \n>  GF2X_PROG_CC_FOR_BUILD\n>  GF2X_PROG_EXEEXT_FOR_BUILD\n> ```\n\nAt present even with CPP and CXXCPP properly set, I still need \n`GF2X_CONFIGURE=\"--disable-hardware-specific-code $GF2X_CONFIGURE\"` - otherwise I get non-sensical errors at tune stage, saying something along the lines of \"this code can only be run on a 64-bit system\" (see #22679, the last commit)\n\nI was not able to figure out what goes wrong. Perhaps it's indeed this change that is needed to get the toolchain right, any idea?",
    "created_at": "2017-06-26T09:51:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339099",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:46" align="right">Comment 46</div>

Replying to [@zimmermann6](#comment%3A44):
> concerning GF2X on FreeBSD (cf comment [comment:16]), does the following patch fix the issue?
> 
> ```
> --- a/configure.ac
> +++ b/configure.ac
> @@ -93,10 +93,10 @@ AC_ARG_ENABLE([fft-interface],
>  AM_CONDITIONAL([ENABLE_FFT_INTERFACE],[test "x$enable_fft_interface" = xyes])
> 
>  AC_PROG_CC
> -AC_PROG_CPP
>  AC_PROG_CXX
>  AC_COMPILE_WARNINGS
>  AC_PROG_CC_C99
> +AC_PROG_CPP
> 
>  GF2X_PROG_CC_FOR_BUILD
>  GF2X_PROG_EXEEXT_FOR_BUILD
> ```

At present even with CPP and CXXCPP properly set, I still need 
`GF2X_CONFIGURE="--disable-hardware-specific-code $GF2X_CONFIGURE"` - otherwise I get non-sensical errors at tune stage, saying something along the lines of "this code can only be run on a 64-bit system" (see #22679, the last commit)

I was not able to figure out what goes wrong. Perhaps it's indeed this change that is needed to get the toolchain right, any idea?



---

archive/issue_comments_339100.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">Comment 47</div>\n\nReplying to [@dimpase](#comment%3A46):\n> I still need \n> `GF2X_CONFIGURE=\"--disable-hardware-specific-code $GF2X_CONFIGURE\"` - otherwise I get non-sensical errors at tune stage, saying something along the lines of \"this code can only be run on a 64-bit system\" (see #22679, the last commit)\n> \n> I was not able to figure out what goes wrong. Perhaps it's indeed this change that is needed to get the toolchain right, any idea?\n> \n\nSetting CPP wouldn't help I think. Really we would need the failure (compilation line+ error message) and config.log. One thing you could try is to pull the current git master and see if that works.",
    "created_at": "2017-06-26T09:59:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339100",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:47" align="right">Comment 47</div>

Replying to [@dimpase](#comment%3A46):
> I still need 
> `GF2X_CONFIGURE="--disable-hardware-specific-code $GF2X_CONFIGURE"` - otherwise I get non-sensical errors at tune stage, saying something along the lines of "this code can only be run on a 64-bit system" (see #22679, the last commit)
> 
> I was not able to figure out what goes wrong. Perhaps it's indeed this change that is needed to get the toolchain right, any idea?
> 

Setting CPP wouldn't help I think. Really we would need the failure (compilation line+ error message) and config.log. One thing you could try is to pull the current git master and see if that works.



---

archive/issue_comments_339101.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">Comment 48</div>\n\nthis works nicely on FreeBSD (I did not try building gfortran though), and I do need a small patch on top of #12426, see #22679.",
    "created_at": "2017-06-26T14:59:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339101",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:48" align="right">Comment 48</div>

this works nicely on FreeBSD (I did not try building gfortran though), and I do need a small patch on top of #12426, see #22679.



---

archive/issue_comments_339102.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">Comment 49</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5434c70edc3be3dfa2c353adff92bf7909708c1b\">5434c70</a></td><td><code>Merge branch 'develop' into compiler</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f5657399ab53fcfe274dee50d0cf5d04bb83ae94\">f565739</a></td><td><code>bump config tarball</code></td></tr></table>\n",
    "created_at": "2017-06-29T23:34:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339102",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:49" align="right">Comment 49</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5434c70edc3be3dfa2c353adff92bf7909708c1b">5434c70</a></td><td><code>Merge branch 'develop' into compiler</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f5657399ab53fcfe274dee50d0cf5d04bb83ae94">f565739</a></td><td><code>bump config tarball</code></td></tr></table>




---

archive/issue_comments_339103.json:
```json
{
    "body": "Changed commit from **[a50d44f](https://github.com/sagemath/sagetrac-mirror/commit/a50d44f8da9bf9d1408e8cb945f07d227c884fb9)** to **[f565739](https://github.com/sagemath/sagetrac-mirror/commit/f5657399ab53fcfe274dee50d0cf5d04bb83ae94)**",
    "created_at": "2017-06-29T23:34:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339103",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a50d44f](https://github.com/sagemath/sagetrac-mirror/commit/a50d44f8da9bf9d1408e8cb945f07d227c884fb9)** to **[f565739](https://github.com/sagemath/sagetrac-mirror/commit/f5657399ab53fcfe274dee50d0cf5d04bb83ae94)**



---

archive/issue_comments_339104.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,5 +6,5 @@\n In this ticket, we add support for this -- and probably also for all SAGE_... variables listed in the installation manual. (The syntax already works, but the settings right now only end up in the unused file `build/make/Makefile-auto`.)\n \n New configure tarball:\n-[https://github.com/sagemath/sage/files/ticket22646/configure-227.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-227.tar.gz)\n+[https://github.com/sagemath/sage/files/ticket22646/configure-228.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-228.tar.gz)\n \n``````\n",
    "created_at": "2017-06-29T23:35:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339104",
    "user": "https://github.com/kiwifb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,5 +6,5 @@
 In this ticket, we add support for this -- and probably also for all SAGE_... variables listed in the installation manual. (The syntax already works, but the settings right now only end up in the unused file `build/make/Makefile-auto`.)
 
 New configure tarball:
-[https://github.com/sagemath/sage/files/ticket22646/configure-227.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-227.tar.gz)
+[https://github.com/sagemath/sage/files/ticket22646/configure-228.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-228.tar.gz)
 
``````




---

archive/issue_comments_339105.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">Comment 51</div>\n\nWhy did you drop the checks like `if [ -z \"$CC\" ]` when moving the code from `sage-env` to `sage-env-config`? It should still be possible to override `$CC` at runtime.",
    "created_at": "2017-06-30T10:22:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339105",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:51" align="right">Comment 51</div>

Why did you drop the checks like `if [ -z "$CC" ]` when moving the code from `sage-env` to `sage-env-config`? It should still be possible to override `$CC` at runtime.



---

archive/issue_events_298365.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-06-30T10:22:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22646#event-298365"
}
```



---

archive/issue_events_298366.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-06-30T10:22:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22646#event-298366"
}
```



---

archive/issue_comments_339106.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">Comment 52</div>\n\nWhy `AC_PROG_OBJC([clang])` instead of `AC_PROG_OBJC()`? Doesn't `autoconf` search for `clang` by default? If not, you should at least add `cc` to the search list (see the old `sage-env`).",
    "created_at": "2017-06-30T10:27:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339106",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:52" align="right">Comment 52</div>

Why `AC_PROG_OBJC([clang])` instead of `AC_PROG_OBJC()`? Doesn't `autoconf` search for `clang` by default? If not, you should at least add `cc` to the search list (see the old `sage-env`).



---

archive/issue_comments_339107.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">Comment 53</div>\n\nReplying to [@jdemeyer](#comment%3A51):\n> Why did you drop the checks like `if [ -z \"$CC\" ]` when moving the code from `sage-env` to `sage-env-config`? It should still be possible to override `$CC` at runtime.\n\nGiving people the means to shoot themselves in the foot? I guess overriding `CC` at runtime is relatively safe, `CXX` and `FC` not so much.\n\nAs for `AC_PROG_OBJC`, I cannot find the default order anymore. It is only used by R on OS X, the idea was to cut the chase to what we really want there. But with such a short list all it does over just setting it is checking the presence. I guess I do overreach there.",
    "created_at": "2017-06-30T10:38:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339107",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:53" align="right">Comment 53</div>

Replying to [@jdemeyer](#comment%3A51):
> Why did you drop the checks like `if [ -z "$CC" ]` when moving the code from `sage-env` to `sage-env-config`? It should still be possible to override `$CC` at runtime.

Giving people the means to shoot themselves in the foot? I guess overriding `CC` at runtime is relatively safe, `CXX` and `FC` not so much.

As for `AC_PROG_OBJC`, I cannot find the default order anymore. It is only used by R on OS X, the idea was to cut the chase to what we really want there. But with such a short list all it does over just setting it is checking the presence. I guess I do overreach there.



---

archive/issue_comments_339108.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">Comment 54</div>\n\nReplying to [@kiwifb](#comment%3A53):\n> I guess overriding `CC` at runtime is relatively safe, `CXX` and `FC` not so much.\n\nI think that's not for you to decide. The autoconf philosophy is to have sensible defaults but always allow customizing everything. There will always be (obscure) cases where you would want to override some environment variable and it's not fun if you need to edit `sage-env-config` for that.",
    "created_at": "2017-06-30T11:30:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339108",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:54" align="right">Comment 54</div>

Replying to [@kiwifb](#comment%3A53):
> I guess overriding `CC` at runtime is relatively safe, `CXX` and `FC` not so much.

I think that's not for you to decide. The autoconf philosophy is to have sensible defaults but always allow customizing everything. There will always be (obscure) cases where you would want to override some environment variable and it's not fun if you need to edit `sage-env-config` for that.



---

archive/issue_comments_339109.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">Comment 55</div>\n\nIt all depends where you put the balance between convenience and safety, and all that kind of stuff. At least I am sure you know the price for convenience.",
    "created_at": "2017-06-30T11:37:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339109",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:55" align="right">Comment 55</div>

It all depends where you put the balance between convenience and safety, and all that kind of stuff. At least I am sure you know the price for convenience.



---

archive/issue_comments_339110.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">Comment 56</div>\n\nWell, it has always been possible to customize `$CC` on the fly and I don't think that this has led to many problems. So I see no reason to start disallowing it in this ticket.",
    "created_at": "2017-06-30T11:42:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339110",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:56" align="right">Comment 56</div>

Well, it has always been possible to customize `$CC` on the fly and I don't think that this has led to many problems. So I see no reason to start disallowing it in this ticket.



---

archive/issue_comments_339111.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">Comment 57</div>\n\nTo keep consistent with autotools packages, setting an environment variable such as CC should NOT override what has been configured using \"configure\". \n(Rather, to override, a user would use `make CC=....`.)",
    "created_at": "2017-06-30T14:46:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339111",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:57" align="right">Comment 57</div>

To keep consistent with autotools packages, setting an environment variable such as CC should NOT override what has been configured using "configure". 
(Rather, to override, a user would use `make CC=....`.)



---

archive/issue_comments_339112.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">Comment 58</div>\n\nReplying to [@mkoeppe](#comment%3A57):\n> To keep consistent with autotools packages, setting an environment variable such as CC should NOT override what has been configured using \"configure\". \n> (Rather, to override, a user would use `make CC=....`.)\n\nI see your point. However, not all Sage package use `make`, so this cannot work for Sage.\n\nAlternatively, we need to ensure that `make CC=...` really does work in all cases.",
    "created_at": "2017-06-30T16:15:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339112",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:58" align="right">Comment 58</div>

Replying to [@mkoeppe](#comment%3A57):
> To keep consistent with autotools packages, setting an environment variable such as CC should NOT override what has been configured using "configure". 
> (Rather, to override, a user would use `make CC=....`.)

I see your point. However, not all Sage package use `make`, so this cannot work for Sage.

Alternatively, we need to ensure that `make CC=...` really does work in all cases.



---

archive/issue_comments_339113.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">Comment 59</div>\n\nReplying to [@jdemeyer](#comment%3A58):\n> Replying to [@mkoeppe](#comment%3A57):\n> > To keep consistent with autotools packages, setting an environment variable such as CC should NOT override what has been configured using \"configure\". \n> > (Rather, to override, a user would use `make CC=....`.)\n\n> \n> I see your point. However, not all Sage package use `make`, so this cannot work for Sage.\n\nThis unrelated to what build systems Sage packages use. They just use the environment prepared by Sage's top-level build scripts and Makefiles.",
    "created_at": "2017-06-30T17:03:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339113",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:59" align="right">Comment 59</div>

Replying to [@jdemeyer](#comment%3A58):
> Replying to [@mkoeppe](#comment%3A57):
> > To keep consistent with autotools packages, setting an environment variable such as CC should NOT override what has been configured using "configure". 
> > (Rather, to override, a user would use `make CC=....`.)

> 
> I see your point. However, not all Sage package use `make`, so this cannot work for Sage.

This unrelated to what build systems Sage packages use. They just use the environment prepared by Sage's top-level build scripts and Makefiles.



---

archive/issue_comments_339114.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">Comment 60</div>\n\nReplying to [@mkoeppe](#comment%3A59):\n> This unrelated to what build systems Sage packages use.\n\nNo, it's not. GNU make passes variables to sub-makes, so a top-level `make CC=foo` will pass `CC=foo` when running `make` inside a specific package.",
    "created_at": "2017-06-30T18:58:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339114",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:60" align="right">Comment 60</div>

Replying to [@mkoeppe](#comment%3A59):
> This unrelated to what build systems Sage packages use.

No, it's not. GNU make passes variables to sub-makes, so a top-level `make CC=foo` will pass `CC=foo` when running `make` inside a specific package.



---

archive/issue_comments_339115.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">Comment 61</div>\n\n\"because we always did...\" is a terrible reason. But there is a point to both parties. If you want to be able to recompile a package with `CC=foo ./sage -f bar` then it is very convenient. But then would `make CC=foo bar` work instead? Of course, it will not work when we set a compiler in `spkg-install` (and we do that quite a bit on OS X).\n\nWhat I don't like about overriding the compilers at runtime (to use sage proper rather its packaging system) is that you can get in the situation of #21701 where for a while I had no clue what was happening. When you invoke sagelib, and you do some compilation with cython from sagelib, having the right compiler is rather critical. I don't like the idea of that compiler be able to be changed. It is an invitation to broken behavior.",
    "created_at": "2017-06-30T19:59:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339115",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:61" align="right">Comment 61</div>

"because we always did..." is a terrible reason. But there is a point to both parties. If you want to be able to recompile a package with `CC=foo ./sage -f bar` then it is very convenient. But then would `make CC=foo bar` work instead? Of course, it will not work when we set a compiler in `spkg-install` (and we do that quite a bit on OS X).

What I don't like about overriding the compilers at runtime (to use sage proper rather its packaging system) is that you can get in the situation of #21701 where for a while I had no clue what was happening. When you invoke sagelib, and you do some compilation with cython from sagelib, having the right compiler is rather critical. I don't like the idea of that compiler be able to be changed. It is an invitation to broken behavior.



---

archive/issue_comments_339116.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">Comment 62</div>\n\nReplying to [@kiwifb](#comment%3A61):\n> \"because we always did...\" is a terrible reason.\n\nLet me rephrase it as \"because it always was possible\". You are proposing to *remove* a feature: being able to change compilers at any time. If you remove a feature, there should be a good reason for that.",
    "created_at": "2017-07-01T09:17:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339116",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:62" align="right">Comment 62</div>

Replying to [@kiwifb](#comment%3A61):
> "because we always did..." is a terrible reason.

Let me rephrase it as "because it always was possible". You are proposing to *remove* a feature: being able to change compilers at any time. If you remove a feature, there should be a good reason for that.



---

archive/issue_comments_339117.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">Comment 63</div>\n\nI presume we can add `CC=` etc. as options to `sage -i` and `sage -f`. This would allow per package overriding. Does this go far enough to make everyone happy?",
    "created_at": "2017-07-01T10:31:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339117",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:63" align="right">Comment 63</div>

I presume we can add `CC=` etc. as options to `sage -i` and `sage -f`. This would allow per package overriding. Does this go far enough to make everyone happy?



---

archive/issue_comments_339118.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">Comment 64</div>\n\nReplying to [@dimpase](#comment%3A63):\n> I presume we can add `CC=` etc. as options to `sage -i` and `sage -f`. This would allow per package overriding. Does this go far enough to make everyone happy?\n\nLet's not bother with that. We could do a survey on whether or not people are using this \"feature\", that is purely accidental, on sage-devel. We have enough people that we would get a few yeses, even if it is just for the principle of the thing.\n\nDriving changes through people's throat is usually not a good idea. The best ways are \n* to offer something in exchange of greater value one way or another. The current offer is obviously not appropriate.\n* let people figure themselves that things needs to be changed, usually for their own good.\n\nIn that context I am happy to provide the \"shoot in the foot gun\", if it ever become painful enough, someone else will drive the change. I don't expect it will happen anytime soon because the reality is that it is a very low use \"feature\" for people that don't mind taking it in the foot on a regular basis in the first place.",
    "created_at": "2017-07-02T22:13:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339118",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:64" align="right">Comment 64</div>

Replying to [@dimpase](#comment%3A63):
> I presume we can add `CC=` etc. as options to `sage -i` and `sage -f`. This would allow per package overriding. Does this go far enough to make everyone happy?

Let's not bother with that. We could do a survey on whether or not people are using this "feature", that is purely accidental, on sage-devel. We have enough people that we would get a few yeses, even if it is just for the principle of the thing.

Driving changes through people's throat is usually not a good idea. The best ways are 
* to offer something in exchange of greater value one way or another. The current offer is obviously not appropriate.
* let people figure themselves that things needs to be changed, usually for their own good.

In that context I am happy to provide the "shoot in the foot gun", if it ever become painful enough, someone else will drive the change. I don't expect it will happen anytime soon because the reality is that it is a very low use "feature" for people that don't mind taking it in the foot on a regular basis in the first place.



---

archive/issue_comments_339119.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">Comment 65</div>\n\n@ Jeroen question on implementation of said feature:\n\nCurrently (not this branch) an installed gcc installed by sage will be selected even if you provide an alternative compiler. Do you want to continue with that behavior or would you prefer things to be consistent and have a provided compiler always be the one used?",
    "created_at": "2017-07-02T22:26:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339119",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:65" align="right">Comment 65</div>

@ Jeroen question on implementation of said feature:

Currently (not this branch) an installed gcc installed by sage will be selected even if you provide an alternative compiler. Do you want to continue with that behavior or would you prefer things to be consistent and have a provided compiler always be the one used?



---

archive/issue_comments_339120.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">Comment 66</div>\n\nReplying to [@kiwifb](#comment%3A65):\n> Currently (not this branch) an installed gcc installed by sage will be selected even if you provide an alternative compiler. Do you want to continue with that behavior or would you prefer things to be consistent and have a provided compiler always be the one used?\n\nThat's a good question. I think it's not a very relevant question, since the people who like to play with different compilers will usually *not* use the Sage-compiled GCC.\n\nStill, for consistency, it makes more sense if an environment variable would override the compiler in all cases. So, the compiler should be determined by the following in decreasing order of priority:\n\n1. Environment variables\n\n2. Sage-installed GCC\n\n3. `./configure` setting",
    "created_at": "2017-07-03T08:05:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339120",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:66" align="right">Comment 66</div>

Replying to [@kiwifb](#comment%3A65):
> Currently (not this branch) an installed gcc installed by sage will be selected even if you provide an alternative compiler. Do you want to continue with that behavior or would you prefer things to be consistent and have a provided compiler always be the one used?

That's a good question. I think it's not a very relevant question, since the people who like to play with different compilers will usually *not* use the Sage-compiled GCC.

Still, for consistency, it makes more sense if an environment variable would override the compiler in all cases. So, the compiler should be determined by the following in decreasing order of priority:

1. Environment variables

2. Sage-installed GCC

3. `./configure` setting



---

archive/issue_comments_339121.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">Comment 67</div>\n\nReplying to [@jdemeyer](#comment%3A66):\n> Replying to [@kiwifb](#comment%3A65):\n> > Currently (not this branch) an installed gcc installed by sage will be selected even if you provide an alternative compiler. Do you want to continue with that behavior or would you prefer things to be consistent and have a provided compiler always be the one used?\n\n> \n> That's a good question. I think it's not a very relevant question, since the people who like to play with different compilers will usually *not* use the Sage-compiled GCC.\n> \n> Still, for consistency, it makes more sense if an environment variable would override the compiler in all cases. So, the compiler should be determined by the following in decreasing order of priority:\n> \n> 1. Environment variables\n> \n> 2. Sage-installed GCC\n> \n> 3. `./configure` setting\n\nExactly my opinion of what it should be for consistency, we are in agreement - but since that is changing the behavior and all, better check ;)\n\nNow to the best way of achieving all that....",
    "created_at": "2017-07-03T09:14:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339121",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:67" align="right">Comment 67</div>

Replying to [@jdemeyer](#comment%3A66):
> Replying to [@kiwifb](#comment%3A65):
> > Currently (not this branch) an installed gcc installed by sage will be selected even if you provide an alternative compiler. Do you want to continue with that behavior or would you prefer things to be consistent and have a provided compiler always be the one used?

> 
> That's a good question. I think it's not a very relevant question, since the people who like to play with different compilers will usually *not* use the Sage-compiled GCC.
> 
> Still, for consistency, it makes more sense if an environment variable would override the compiler in all cases. So, the compiler should be determined by the following in decreasing order of priority:
> 
> 1. Environment variables
> 
> 2. Sage-installed GCC
> 
> 3. `./configure` setting

Exactly my opinion of what it should be for consistency, we are in agreement - but since that is changing the behavior and all, better check ;)

Now to the best way of achieving all that....



---

archive/issue_comments_339122.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">Comment 68</div>\n\nReplying to [@kiwifb](#comment%3A67):\n> Replying to [@jdemeyer](#comment%3A66):\n> > Replying to [@kiwifb](#comment%3A65):\n> > > Currently (not this branch) an installed gcc installed by sage will be selected even if you provide an alternative compiler. Do you want to continue with that behavior or would you prefer things to be consistent and have a provided compiler always be the one used?\n\n> > \n> > That's a good question. I think it's not a very relevant question, since the people who like to play with different compilers will usually *not* use the Sage-compiled GCC.\n> > \n\nFor people who use OSX it's not a play, it's matter of having working Sage, or not...",
    "created_at": "2017-07-03T09:40:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339122",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:68" align="right">Comment 68</div>

Replying to [@kiwifb](#comment%3A67):
> Replying to [@jdemeyer](#comment%3A66):
> > Replying to [@kiwifb](#comment%3A65):
> > > Currently (not this branch) an installed gcc installed by sage will be selected even if you provide an alternative compiler. Do you want to continue with that behavior or would you prefer things to be consistent and have a provided compiler always be the one used?

> > 
> > That's a good question. I think it's not a very relevant question, since the people who like to play with different compilers will usually *not* use the Sage-compiled GCC.
> > 

For people who use OSX it's not a play, it's matter of having working Sage, or not...



---

archive/issue_comments_339123.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">Comment 69</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f4d6748d5ae0826d0f30af78e68e627121d616d4\">f4d6748</a></td><td><code>Change the setting of compilers in the order: environment, sage installed compilers, configured compilers.</code></td></tr></table>\n",
    "created_at": "2017-07-03T10:48:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339123",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:69" align="right">Comment 69</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f4d6748d5ae0826d0f30af78e68e627121d616d4">f4d6748</a></td><td><code>Change the setting of compilers in the order: environment, sage installed compilers, configured compilers.</code></td></tr></table>




---

archive/issue_comments_339124.json:
```json
{
    "body": "Changed commit from **[f565739](https://github.com/sagemath/sagetrac-mirror/commit/f5657399ab53fcfe274dee50d0cf5d04bb83ae94)** to **[f4d6748](https://github.com/sagemath/sagetrac-mirror/commit/f4d6748d5ae0826d0f30af78e68e627121d616d4)**",
    "created_at": "2017-07-03T10:48:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339124",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f565739](https://github.com/sagemath/sagetrac-mirror/commit/f5657399ab53fcfe274dee50d0cf5d04bb83ae94)** to **[f4d6748](https://github.com/sagemath/sagetrac-mirror/commit/f4d6748d5ae0826d0f30af78e68e627121d616d4)**



---

archive/issue_comments_339125.json:
```json
{
    "body": "Changed commit from **[f4d6748](https://github.com/sagemath/sagetrac-mirror/commit/f4d6748d5ae0826d0f30af78e68e627121d616d4)** to **[4c41390](https://github.com/sagemath/sagetrac-mirror/commit/4c41390b5340b250aed08628f1ee24b598a72319)**",
    "created_at": "2017-07-03T10:53:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339125",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f4d6748](https://github.com/sagemath/sagetrac-mirror/commit/f4d6748d5ae0826d0f30af78e68e627121d616d4)** to **[4c41390](https://github.com/sagemath/sagetrac-mirror/commit/4c41390b5340b250aed08628f1ee24b598a72319)**



---

archive/issue_comments_339126.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">Comment 70</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb6f0272ef9b8d4754e9d89326730fedeb03fc56\">eb6f027</a></td><td><code>fix objective compiler detection. Don't try to negate using the macro. Bad syntax that no one seem to have noticed.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4c41390b5340b250aed08628f1ee24b598a72319\">4c41390</a></td><td><code>Regenerate configure tarball</code></td></tr></table>\n",
    "created_at": "2017-07-03T10:53:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339126",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:70" align="right">Comment 70</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb6f0272ef9b8d4754e9d89326730fedeb03fc56">eb6f027</a></td><td><code>fix objective compiler detection. Don't try to negate using the macro. Bad syntax that no one seem to have noticed.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4c41390b5340b250aed08628f1ee24b598a72319">4c41390</a></td><td><code>Regenerate configure tarball</code></td></tr></table>




---

archive/issue_events_298367.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-07-03T10:55:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22646#event-298367"
}
```



---

archive/issue_events_298368.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-07-03T10:55:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22646#event-298368"
}
```



---

archive/issue_comments_339127.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">Comment 71</div>\n\nNew tarball will be up in the morning in my time zone. Otherwise back to review.",
    "created_at": "2017-07-03T10:55:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339127",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:71" align="right">Comment 71</div>

New tarball will be up in the morning in my time zone. Otherwise back to review.



---

archive/issue_events_298369.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-07-03T13:49:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22646#event-298369"
}
```



---

archive/issue_events_298370.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-07-03T13:49:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22646#event-298370"
}
```



---

archive/issue_comments_339128.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">Comment 72</div>\n\nI think that this logic\n\n```\n# On OS X 10.7 (Lion) or later when building GCC, use clang as\n# default C compiler as some older versions of XCode 4 ship broken\n# versions of GCC which fail to bootstrap GCC-4.6.3.\n# See https://github.com/sagemath/sage/issues/12820\nif [ \"$SAGE_BUILD_TOOLCHAIN\" = yes ] && [ \"$UNAME\" = \"Darwin\" ] && [ \"$MACOSX_VERSION\" -ge 11 ; then\n    CC=`which clang 2>/dev/null`\n    CXX=`which clang++ 2>/dev/null`\n```\nshould also be moved to `configure`.\n\nUnfortunately, autoconf 2.69 (which is still the latest release despite being 5 years old) does not support `clang`.\n\nSo I suggest something along the lines of\n\n```\nif test -z \"$CC\"; then\n    if test -n \"$MACOSX_VERSION\" && test \"$MACOSX_VERSION\" -ge 11 ; then\n        AC_CHECK_TOOL(CC, clang)\n    fi\nfi\nAC_PROG_CC()\n```",
    "created_at": "2017-07-03T13:49:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339128",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:72" align="right">Comment 72</div>

I think that this logic

```
# On OS X 10.7 (Lion) or later when building GCC, use clang as
# default C compiler as some older versions of XCode 4 ship broken
# versions of GCC which fail to bootstrap GCC-4.6.3.
# See https://github.com/sagemath/sage/issues/12820
if [ "$SAGE_BUILD_TOOLCHAIN" = yes ] && [ "$UNAME" = "Darwin" ] && [ "$MACOSX_VERSION" -ge 11 ; then
    CC=`which clang 2>/dev/null`
    CXX=`which clang++ 2>/dev/null`
```
should also be moved to `configure`.

Unfortunately, autoconf 2.69 (which is still the latest release despite being 5 years old) does not support `clang`.

So I suggest something along the lines of

```
if test -z "$CC"; then
    if test -n "$MACOSX_VERSION" && test "$MACOSX_VERSION" -ge 11 ; then
        AC_CHECK_TOOL(CC, clang)
    fi
fi
AC_PROG_CC()
```



---

archive/issue_comments_339129.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">Comment 73</div>\n\nI think that's just scope creep. But I am willing to make some concessions. In that particular case I think we could just remove that particular piece of code. It seems to go back to when apple was still shipping a \"real\" apple patched gcc rather than having it being a clang wrapper. I don't think we should continue to support such snowflakes. In fact I don't think we realistically support anything older than xcode 6 but most likely 7.",
    "created_at": "2017-07-03T21:11:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339129",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:73" align="right">Comment 73</div>

I think that's just scope creep. But I am willing to make some concessions. In that particular case I think we could just remove that particular piece of code. It seems to go back to when apple was still shipping a "real" apple patched gcc rather than having it being a clang wrapper. I don't think we should continue to support such snowflakes. In fact I don't think we realistically support anything older than xcode 6 but most likely 7.



---

archive/issue_comments_339130.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">Comment 74</div>\n\nReplying to [@kiwifb](#comment%3A73):\n> In fact I don't think we realistically support anything older than xcode 6 but most likely 7.\n\nSo you are saying that Sage 8.0 wouldn't build anyway on OS X 10.7 for example?",
    "created_at": "2017-07-04T08:00:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339130",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:74" align="right">Comment 74</div>

Replying to [@kiwifb](#comment%3A73):
> In fact I don't think we realistically support anything older than xcode 6 but most likely 7.

So you are saying that Sage 8.0 wouldn't build anyway on OS X 10.7 for example?



---

archive/issue_comments_339131.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">Comment 75</div>\n\nReplying to [@jdemeyer](#comment%3A74):\n> Replying to [@kiwifb](#comment%3A73):\n> > In fact I don't think we realistically support anything older than xcode 6 but most likely 7.\n\n> \n> So you are saying that Sage 8.0 wouldn't build anyway on OS X 10.7 for example?\n\nDepends which version of xcode you can put on there. But if you cannot install xcode 7, I'd say with difficulties. I could be wrong but I expect it wouldn't build out of the box. May be with a bit of hand holding. Do we know what versions we have on the build bots? A lot of the third party software binaries these days don't go further back than 10.9 in backward compatibility support. I think there are serious limitations in going further back.",
    "created_at": "2017-07-04T08:30:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339131",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:75" align="right">Comment 75</div>

Replying to [@jdemeyer](#comment%3A74):
> Replying to [@kiwifb](#comment%3A73):
> > In fact I don't think we realistically support anything older than xcode 6 but most likely 7.

> 
> So you are saying that Sage 8.0 wouldn't build anyway on OS X 10.7 for example?

Depends which version of xcode you can put on there. But if you cannot install xcode 7, I'd say with difficulties. I could be wrong but I expect it wouldn't build out of the box. May be with a bit of hand holding. Do we know what versions we have on the build bots? A lot of the third party software binaries these days don't go further back than 10.9 in backward compatibility support. I think there are serious limitations in going further back.



---

archive/issue_comments_339132.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">Comment 76</div>\n\nReplying to [@kiwifb](#comment%3A73):\n> It seems to go back to when apple was still shipping a \"real\" apple patched gcc rather than having it being a clang wrapper.\n\nSo, with XCode, the `gcc` and `clang` programs are exactly the same? That would indeed mean that there is no reason for the code in [comment:72]. Should we just remove it?",
    "created_at": "2017-07-04T08:41:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339132",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:76" align="right">Comment 76</div>

Replying to [@kiwifb](#comment%3A73):
> It seems to go back to when apple was still shipping a "real" apple patched gcc rather than having it being a clang wrapper.

So, with XCode, the `gcc` and `clang` programs are exactly the same? That would indeed mean that there is no reason for the code in [comment:72]. Should we just remove it?



---

archive/issue_comments_339133.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">Comment 77</div>\n\nxcode 8:\n\n```\nMirage:~ fbissey$ /usr/bin/gcc -v\nConfigured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr --with-gxx-include-dir=/usr/include/c++/4.2.1\nApple LLVM version 8.1.0 (clang-802.0.42)\nTarget: x86_64-apple-darwin16.6.0\nThread model: posix\nInstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin\n```\nxcode 7 and 6 were similar. I don't remember much before that. But yes you are now seeing it my way: removal seems a better idea.",
    "created_at": "2017-07-04T08:46:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339133",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:77" align="right">Comment 77</div>

xcode 8:

```
Mirage:~ fbissey$ /usr/bin/gcc -v
Configured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr --with-gxx-include-dir=/usr/include/c++/4.2.1
Apple LLVM version 8.1.0 (clang-802.0.42)
Target: x86_64-apple-darwin16.6.0
Thread model: posix
InstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin
```
xcode 7 and 6 were similar. I don't remember much before that. But yes you are now seeing it my way: removal seems a better idea.



---

archive/issue_comments_339134.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">Comment 78</div>\n\nIMHO we should drop OSX 10.6. On the other hand, Apple continues to sell OSX 10.7---it's probably the oldest system they currently support.",
    "created_at": "2017-07-04T08:51:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339134",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:78" align="right">Comment 78</div>

IMHO we should drop OSX 10.6. On the other hand, Apple continues to sell OSX 10.7---it's probably the oldest system they currently support.



---

archive/issue_comments_339135.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">Comment 79</div>\n\nReplying to [@dimpase](#comment%3A78):\n> IMHO we should drop OSX 10.6. On the other hand, Apple continues to sell OSX 10.7---it's probably the oldest system they currently support.\n\nReally??? Is it just an upgrade path or is it for \"vintage\" hardware?",
    "created_at": "2017-07-04T08:52:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339135",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:79" align="right">Comment 79</div>

Replying to [@dimpase](#comment%3A78):
> IMHO we should drop OSX 10.6. On the other hand, Apple continues to sell OSX 10.7---it's probably the oldest system they currently support.

Really??? Is it just an upgrade path or is it for "vintage" hardware?



---

archive/issue_comments_339136.json:
```json
{
    "body": "<div id=\"comment:80\" align=\"right\">Comment 80</div>\n\nReplying to [@kiwifb](#comment%3A79):\n> Replying to [@dimpase](#comment%3A78):\n> > IMHO we should drop OSX 10.6. On the other hand, Apple continues to sell OSX 10.7---it's probably the oldest system they currently support.\n\n> \n> Really??? Is it just an upgrade path or is it for \"vintage\" hardware?\n\nthe latter, I think---one can buy an official DVD:\nhttps://www.apple.com/uk/shop/product/D6106ZM/A/os-x-lion",
    "created_at": "2017-07-04T08:59:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339136",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:80" align="right">Comment 80</div>

Replying to [@kiwifb](#comment%3A79):
> Replying to [@dimpase](#comment%3A78):
> > IMHO we should drop OSX 10.6. On the other hand, Apple continues to sell OSX 10.7---it's probably the oldest system they currently support.

> 
> Really??? Is it just an upgrade path or is it for "vintage" hardware?

the latter, I think---one can buy an official DVD:
https://www.apple.com/uk/shop/product/D6106ZM/A/os-x-lion



---

archive/issue_comments_339137.json:
```json
{
    "body": "<div id=\"comment:81\" align=\"right\">Comment 81</div>\n\nCould be an upgrade path as well. You need at least 10.7 to have the app store through which you can install OS X upgrades. I think you cannot do that from 10.6, you need a media or at the very least a `.dmg`. I had an old imac like that for which I would have needed the media (it's dead now, the gpu died). \n\nOr I could have my versions mixed up.",
    "created_at": "2017-07-04T09:04:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339137",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:81" align="right">Comment 81</div>

Could be an upgrade path as well. You need at least 10.7 to have the app store through which you can install OS X upgrades. I think you cannot do that from 10.6, you need a media or at the very least a `.dmg`. I had an old imac like that for which I would have needed the media (it's dead now, the gpu died). 

Or I could have my versions mixed up.



---

archive/issue_comments_339138.json:
```json
{
    "body": "<div id=\"comment:82\" align=\"right\">Comment 82</div>\n\n> IMHO we should drop OSX 10.6. On the other hand, Apple continues to sell OSX 10.7---it's probably the oldest system they currently support.\n\nGiven that people with hardware for 10.6 can probably upgrade to 10.7, this might seem reasonable.",
    "created_at": "2017-07-04T13:32:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339138",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:82" align="right">Comment 82</div>

> IMHO we should drop OSX 10.6. On the other hand, Apple continues to sell OSX 10.7---it's probably the oldest system they currently support.

Given that people with hardware for 10.6 can probably upgrade to 10.7, this might seem reasonable.



---

archive/issue_comments_339139.json:
```json
{
    "body": "<div id=\"comment:83\" align=\"right\">Comment 83</div>\n\nI just checked that one can still get official OSX 10.6 just as well...\n(but no 10.5).\n10.6 has a feature missing in 10.7, it can run PPC applications.\nOther than that, I don't see why people would want to stick with it.",
    "created_at": "2017-07-04T14:00:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339139",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:83" align="right">Comment 83</div>

I just checked that one can still get official OSX 10.6 just as well...
(but no 10.5).
10.6 has a feature missing in 10.7, it can run PPC applications.
Other than that, I don't see why people would want to stick with it.



---

archive/issue_comments_339140.json:
```json
{
    "body": "Changed commit from **[4c41390](https://github.com/sagemath/sagetrac-mirror/commit/4c41390b5340b250aed08628f1ee24b598a72319)** to **[38273c6](https://github.com/sagemath/sagetrac-mirror/commit/38273c6c529d844cceea62e57bbbb993e2000515)**",
    "created_at": "2017-07-05T03:09:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339140",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4c41390](https://github.com/sagemath/sagetrac-mirror/commit/4c41390b5340b250aed08628f1ee24b598a72319)** to **[38273c6](https://github.com/sagemath/sagetrac-mirror/commit/38273c6c529d844cceea62e57bbbb993e2000515)**



---

archive/issue_comments_339141.json:
```json
{
    "body": "<div id=\"comment:84\" align=\"right\">Comment 84</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38273c6c529d844cceea62e57bbbb993e2000515\">38273c6</a></td><td><code>Remove bits specific to outdated xcode toolchain</code></td></tr></table>\n",
    "created_at": "2017-07-05T03:09:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339141",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:84" align="right">Comment 84</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38273c6c529d844cceea62e57bbbb993e2000515">38273c6</a></td><td><code>Remove bits specific to outdated xcode toolchain</code></td></tr></table>




---

archive/issue_comments_339142.json:
```json
{
    "body": "Changed commit from **[38273c6](https://github.com/sagemath/sagetrac-mirror/commit/38273c6c529d844cceea62e57bbbb993e2000515)** to **[ab61da6](https://github.com/sagemath/sagetrac-mirror/commit/ab61da6c3615e09e1b3ad8aedbe64a8e019b1060)**",
    "created_at": "2017-07-05T03:11:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339142",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[38273c6](https://github.com/sagemath/sagetrac-mirror/commit/38273c6c529d844cceea62e57bbbb993e2000515)** to **[ab61da6](https://github.com/sagemath/sagetrac-mirror/commit/ab61da6c3615e09e1b3ad8aedbe64a8e019b1060)**



---

archive/issue_comments_339143.json:
```json
{
    "body": "<div id=\"comment:85\" align=\"right\">Comment 85</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ab61da6c3615e09e1b3ad8aedbe64a8e019b1060\">ab61da6</a></td><td><code>update configure tarball</code></td></tr></table>\n",
    "created_at": "2017-07-05T03:11:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339143",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:85" align="right">Comment 85</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ab61da6c3615e09e1b3ad8aedbe64a8e019b1060">ab61da6</a></td><td><code>update configure tarball</code></td></tr></table>




---

archive/issue_events_298371.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-07-05T03:13:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22646#event-298371"
}
```



---

archive/issue_events_298372.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-07-05T03:13:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22646#event-298372"
}
```



---

archive/issue_comments_339144.json:
```json
{
    "body": "<div id=\"comment:86\" align=\"right\">Comment 86</div>\n\nOK so removed that old cruft for now. May be we'll discover one of the bots still has a very old version of OS X.",
    "created_at": "2017-07-05T03:13:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339144",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:86" align="right">Comment 86</div>

OK so removed that old cruft for now. May be we'll discover one of the bots still has a very old version of OS X.



---

archive/issue_comments_339145.json:
```json
{
    "body": "Changed commit from **[ab61da6](https://github.com/sagemath/sagetrac-mirror/commit/ab61da6c3615e09e1b3ad8aedbe64a8e019b1060)** to **[5820812](https://github.com/sagemath/sagetrac-mirror/commit/58208125c2616a6b2d027b8573db65c3844c9c82)**",
    "created_at": "2017-07-06T01:42:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339145",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ab61da6](https://github.com/sagemath/sagetrac-mirror/commit/ab61da6c3615e09e1b3ad8aedbe64a8e019b1060)** to **[5820812](https://github.com/sagemath/sagetrac-mirror/commit/58208125c2616a6b2d027b8573db65c3844c9c82)**



---

archive/issue_comments_339146.json:
```json
{
    "body": "<div id=\"comment:87\" align=\"right\">Comment 87</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/58208125c2616a6b2d027b8573db65c3844c9c82\">5820812</a></td><td><code>Merge branch 'develop' into compiler and bump configure tarball</code></td></tr></table>\n",
    "created_at": "2017-07-06T01:42:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339146",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:87" align="right">Comment 87</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/58208125c2616a6b2d027b8573db65c3844c9c82">5820812</a></td><td><code>Merge branch 'develop' into compiler and bump configure tarball</code></td></tr></table>




---

archive/issue_comments_339147.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,5 +6,5 @@\n In this ticket, we add support for this -- and probably also for all SAGE_... variables listed in the installation manual. (The syntax already works, but the settings right now only end up in the unused file `build/make/Makefile-auto`.)\n \n New configure tarball:\n-[https://github.com/sagemath/sage/files/ticket22646/configure-228.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-228.tar.gz)\n+[https://github.com/sagemath/sage/files/ticket22646/configure-229.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-229.tar.gz)\n \n``````\n",
    "created_at": "2017-07-06T01:44:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339147",
    "user": "https://github.com/kiwifb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,5 +6,5 @@
 In this ticket, we add support for this -- and probably also for all SAGE_... variables listed in the installation manual. (The syntax already works, but the settings right now only end up in the unused file `build/make/Makefile-auto`.)
 
 New configure tarball:
-[https://github.com/sagemath/sage/files/ticket22646/configure-228.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-228.tar.gz)
+[https://github.com/sagemath/sage/files/ticket22646/configure-229.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-229.tar.gz)
 
``````




---

archive/issue_comments_339148.json:
```json
{
    "body": "<div id=\"comment:89\" align=\"right\">Comment 89</div>\n\nTwo comments:\n\n1) Strong objection to mixing an autoconf feature with sage-specific behavior (environment CC overrides configured CC), which makes it different from any other autoconf-based package. It is an important feature that the configured variables stick in the build and that this works even in the presence of some polluted environment.\n\nIf it is really necessary to make overriding possible using environment settings, you can invent new variables such as `SAGE_OVERRIDE_CC` etc.\n\n2) I would suggest to only set variables in `sage-env-config` and keep all logic (if-then) in `sage-env`. For example:\n\n```\nSAGE_CONFIGURED_CC=\"@CC@\"\n```",
    "created_at": "2017-07-06T19:16:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339148",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:89" align="right">Comment 89</div>

Two comments:

1) Strong objection to mixing an autoconf feature with sage-specific behavior (environment CC overrides configured CC), which makes it different from any other autoconf-based package. It is an important feature that the configured variables stick in the build and that this works even in the presence of some polluted environment.

If it is really necessary to make overriding possible using environment settings, you can invent new variables such as `SAGE_OVERRIDE_CC` etc.

2) I would suggest to only set variables in `sage-env-config` and keep all logic (if-then) in `sage-env`. For example:

```
SAGE_CONFIGURED_CC="@CC@"
```



---

archive/issue_comments_339149.json:
```json
{
    "body": "<div id=\"comment:90\" align=\"right\">Comment 90</div>\n\nReplying to [@mkoeppe](#comment%3A89):\n> Two comments:\n> \n> 1) Strong objection to mixing an autoconf feature with sage-specific behavior (environment CC overrides configured CC), which makes it different from any other autoconf-based package. It is an important feature that the configured variables stick in the build and that this works even in the presence of some polluted environment.\n> \n> If it is really necessary to make overriding possible using environment settings, you can invent new variables such as `SAGE_OVERRIDE_CC` etc.\n> \n\nNo. I just tried an autotooled package (gf2x), you can configure with one compiler and over-ride it at build time with `CC` and co. However I discourage anyone to over-ride it at runtime if you need to compile `cython` files from inside sage. That's my usual dichotomy problem between sage the packaging stack and sage, the python runtime on which you do your math.\n\n> 2) I would suggest to only set variables in `sage-env-config` and keep all logic (if-then) in `sage-env`. For example:\n> \n> ```\n> SAGE_CONFIGURED_CC=\"@CC@\"\n> ```\n> \n\nAs the requester on this ticket I wish you had expressed yourself earlier on that particular design. It is a fine idea to confine `sage-env-config` to be a variable store without any logic in it. I just wish I had that requirement earlier. I had the first draft of the current design up 2 months ago and really opened to criticism 7 weeks ago.",
    "created_at": "2017-07-06T22:28:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339149",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:90" align="right">Comment 90</div>

Replying to [@mkoeppe](#comment%3A89):
> Two comments:
> 
> 1) Strong objection to mixing an autoconf feature with sage-specific behavior (environment CC overrides configured CC), which makes it different from any other autoconf-based package. It is an important feature that the configured variables stick in the build and that this works even in the presence of some polluted environment.
> 
> If it is really necessary to make overriding possible using environment settings, you can invent new variables such as `SAGE_OVERRIDE_CC` etc.
> 

No. I just tried an autotooled package (gf2x), you can configure with one compiler and over-ride it at build time with `CC` and co. However I discourage anyone to over-ride it at runtime if you need to compile `cython` files from inside sage. That's my usual dichotomy problem between sage the packaging stack and sage, the python runtime on which you do your math.

> 2) I would suggest to only set variables in `sage-env-config` and keep all logic (if-then) in `sage-env`. For example:
> 
> ```
> SAGE_CONFIGURED_CC="@CC@"
> ```
> 

As the requester on this ticket I wish you had expressed yourself earlier on that particular design. It is a fine idea to confine `sage-env-config` to be a variable store without any logic in it. I just wish I had that requirement earlier. I had the first draft of the current design up 2 months ago and really opened to criticism 7 weeks ago.



---

archive/issue_comments_339150.json:
```json
{
    "body": "<div id=\"comment:91\" align=\"right\">Comment 91</div>\n\nReplying to [@mkoeppe](#comment%3A89):\n> Strong objection to mixing an autoconf feature with sage-specific behavior (environment CC overrides configured CC), which makes it different from any other autoconf-based package.\n\nI don't consider Sage to be a \"package\" (it's a distribution of packages), so I don't see it as an issue that it behaves differently from other packages. It's comparing an apple with oranges. It has always been the case in Sage that a `CC` environment variable overrides the default `CC` and nobody has ever considered this a problem.\n\n> If it is really necessary to make overriding possible using environment settings, you can invent new variables such as `SAGE_OVERRIDE_CC` etc.\n\nIn that case, we should simply support `make CC=...` from the top-level. But that will require some additional work.",
    "created_at": "2017-07-07T08:19:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339150",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:91" align="right">Comment 91</div>

Replying to [@mkoeppe](#comment%3A89):
> Strong objection to mixing an autoconf feature with sage-specific behavior (environment CC overrides configured CC), which makes it different from any other autoconf-based package.

I don't consider Sage to be a "package" (it's a distribution of packages), so I don't see it as an issue that it behaves differently from other packages. It's comparing an apple with oranges. It has always been the case in Sage that a `CC` environment variable overrides the default `CC` and nobody has ever considered this a problem.

> If it is really necessary to make overriding possible using environment settings, you can invent new variables such as `SAGE_OVERRIDE_CC` etc.

In that case, we should simply support `make CC=...` from the top-level. But that will require some additional work.



---

archive/issue_comments_339151.json:
```json
{
    "body": "<div id=\"comment:92\" align=\"right\">Comment 92</div>\n\nReplying to [@kiwifb](#comment%3A90):\n> Replying to [@mkoeppe](#comment%3A89):\n> > 1) Strong objection to mixing an autoconf feature with sage-specific behavior (environment CC overrides configured CC), which makes it different from any other autoconf-based package. It is an important feature that the configured variables stick in the build and that this works even in the presence of some polluted environment.\n\n> \n> No. I just tried an autotooled package (gf2x), you can configure with one compiler and over-ride it at build time with `CC` and co. \n\nYou don't say what exactly you tried.\nMy point is that you *can* override by using makefile variables like this:\n\n```\n   make CC=xyzzy\n```\nbut you *cannot* override using environment variables:\n\n```\n  CC=xyzzy make\n```\n\nAny implementation for Sage should copy this behavior.",
    "created_at": "2017-07-07T17:20:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339151",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:92" align="right">Comment 92</div>

Replying to [@kiwifb](#comment%3A90):
> Replying to [@mkoeppe](#comment%3A89):
> > 1) Strong objection to mixing an autoconf feature with sage-specific behavior (environment CC overrides configured CC), which makes it different from any other autoconf-based package. It is an important feature that the configured variables stick in the build and that this works even in the presence of some polluted environment.

> 
> No. I just tried an autotooled package (gf2x), you can configure with one compiler and over-ride it at build time with `CC` and co. 

You don't say what exactly you tried.
My point is that you *can* override by using makefile variables like this:

```
   make CC=xyzzy
```
but you *cannot* override using environment variables:

```
  CC=xyzzy make
```

Any implementation for Sage should copy this behavior.



---

archive/issue_comments_339152.json:
```json
{
    "body": "<div id=\"comment:93\" align=\"right\">Comment 93</div>\n\nReplying to [@kiwifb](#comment%3A90):\n> As the requester on this ticket I wish you had expressed yourself earlier on that particular design. It is a fine idea to confine `sage-env-config` to be a variable store without any logic in it. I just wish I had that requirement earlier. I had the first draft of the current design up 2 months ago and really opened to criticism 7 weeks ago.\n\nRight, and I wish I had more time for Sage development lately. In any case, this one is just a suggestion. If #21707 is still something that we want to do, we can change the structure of these scripts at that time.",
    "created_at": "2017-07-07T17:38:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339152",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:93" align="right">Comment 93</div>

Replying to [@kiwifb](#comment%3A90):
> As the requester on this ticket I wish you had expressed yourself earlier on that particular design. It is a fine idea to confine `sage-env-config` to be a variable store without any logic in it. I just wish I had that requirement earlier. I had the first draft of the current design up 2 months ago and really opened to criticism 7 weeks ago.

Right, and I wish I had more time for Sage development lately. In any case, this one is just a suggestion. If #21707 is still something that we want to do, we can change the structure of these scripts at that time.



---

archive/issue_comments_339153.json:
```json
{
    "body": "<div id=\"comment:94\" align=\"right\">Comment 94</div>\n\n@ mkoeppe\nI guess we are all there in regards to time [in fact I started writting this answer more than 24 hours ago now...]. I was just venting.\n\nI have no vested interest in #21707. If anything I think this is misguided at this point. I think some other work like the decoupling of \"sagelib\" from the packaging system should be done first and would be beneficial to some of what you seek in #21707 in the long run (personal opinion).\n\nI will turn `sage-env-config` in a variable store in this ticket. It is not going to be included but could be material early in the 8.1 cycle.\n\nOn that note I will leave the current behavior for over-riding `CC`. I don't want to be part of that debate more than is necessary. Feel free to open a ticket to get the behavior you want, but I think you need to get traction from sage-devel first, since there is opposition.",
    "created_at": "2017-07-10T23:10:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339153",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:94" align="right">Comment 94</div>

@ mkoeppe
I guess we are all there in regards to time [in fact I started writting this answer more than 24 hours ago now...]. I was just venting.

I have no vested interest in #21707. If anything I think this is misguided at this point. I think some other work like the decoupling of "sagelib" from the packaging system should be done first and would be beneficial to some of what you seek in #21707 in the long run (personal opinion).

I will turn `sage-env-config` in a variable store in this ticket. It is not going to be included but could be material early in the 8.1 cycle.

On that note I will leave the current behavior for over-riding `CC`. I don't want to be part of that debate more than is necessary. Feel free to open a ticket to get the behavior you want, but I think you need to get traction from sage-devel first, since there is opposition.



---

archive/issue_comments_339154.json:
```json
{
    "body": "<div id=\"comment:95\" align=\"right\">Comment 95</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79d0963576906f01449ba9b4d3ad4e307b8523b6\">79d0963</a></td><td><code>Remove compiler selecting logic from sage-env-config and put it back in sage-env.</code></td></tr></table>\n",
    "created_at": "2017-07-10T23:24:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339154",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:95" align="right">Comment 95</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79d0963576906f01449ba9b4d3ad4e307b8523b6">79d0963</a></td><td><code>Remove compiler selecting logic from sage-env-config and put it back in sage-env.</code></td></tr></table>




---

archive/issue_comments_339155.json:
```json
{
    "body": "Changed commit from **[5820812](https://github.com/sagemath/sagetrac-mirror/commit/58208125c2616a6b2d027b8573db65c3844c9c82)** to **[79d0963](https://github.com/sagemath/sagetrac-mirror/commit/79d0963576906f01449ba9b4d3ad4e307b8523b6)**",
    "created_at": "2017-07-10T23:24:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339155",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5820812](https://github.com/sagemath/sagetrac-mirror/commit/58208125c2616a6b2d027b8573db65c3844c9c82)** to **[79d0963](https://github.com/sagemath/sagetrac-mirror/commit/79d0963576906f01449ba9b4d3ad4e307b8523b6)**



---

archive/issue_events_298373.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-07-10T23:26:44Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22646#event-298373"
}
```



---

archive/issue_events_298374.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-07-10T23:26:44Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22646#event-298374"
}
```



---

archive/issue_comments_339156.json:
```json
{
    "body": "Changed commit from **[79d0963](https://github.com/sagemath/sagetrac-mirror/commit/79d0963576906f01449ba9b4d3ad4e307b8523b6)** to **[1015a1f](https://github.com/sagemath/sagetrac-mirror/commit/1015a1fc8fa01cfcbb8faaecd8348682ed72491c)**",
    "created_at": "2017-07-22T21:29:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339156",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[79d0963](https://github.com/sagemath/sagetrac-mirror/commit/79d0963576906f01449ba9b4d3ad4e307b8523b6)** to **[1015a1f](https://github.com/sagemath/sagetrac-mirror/commit/1015a1fc8fa01cfcbb8faaecd8348682ed72491c)**



---

archive/issue_comments_339157.json:
```json
{
    "body": "<div id=\"comment:97\" align=\"right\">Comment 97</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1015a1fc8fa01cfcbb8faaecd8348682ed72491c\">1015a1f</a></td><td><code>Merge branch 'master' into compiler and configure tarball bump</code></td></tr></table>\n",
    "created_at": "2017-07-22T21:29:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339157",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:97" align="right">Comment 97</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1015a1fc8fa01cfcbb8faaecd8348682ed72491c">1015a1f</a></td><td><code>Merge branch 'master' into compiler and configure tarball bump</code></td></tr></table>




---

archive/issue_comments_339158.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,5 +6,5 @@\n In this ticket, we add support for this -- and probably also for all SAGE_... variables listed in the installation manual. (The syntax already works, but the settings right now only end up in the unused file `build/make/Makefile-auto`.)\n \n New configure tarball:\n-[https://github.com/sagemath/sage/files/ticket22646/configure-229.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-229.tar.gz)\n+[https://github.com/sagemath/sage/files/ticket22646/configure-231.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-231.tar.gz)\n \n``````\n",
    "created_at": "2017-07-23T22:08:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339158",
    "user": "https://github.com/kiwifb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,5 +6,5 @@
 In this ticket, we add support for this -- and probably also for all SAGE_... variables listed in the installation manual. (The syntax already works, but the settings right now only end up in the unused file `build/make/Makefile-auto`.)
 
 New configure tarball:
-[https://github.com/sagemath/sage/files/ticket22646/configure-229.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-229.tar.gz)
+[https://github.com/sagemath/sage/files/ticket22646/configure-231.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-231.tar.gz)
 
``````




---

archive/issue_comments_339159.json:
```json
{
    "body": "<div id=\"comment:99\" align=\"right\">Comment 99</div>\n\nFrom looking at the latest patch, `$` seems to be missing in front of `CONFIGURED_CXX` etc. in several places in `src/bin/sage-env`. (Haven't tested.)",
    "created_at": "2017-07-26T04:42:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339159",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:99" align="right">Comment 99</div>

From looking at the latest patch, `$` seems to be missing in front of `CONFIGURED_CXX` etc. in several places in `src/bin/sage-env`. (Haven't tested.)



---

archive/issue_events_298375.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2017-07-26T04:42:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22646#event-298375"
}
```



---

archive/issue_events_298376.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2017-07-26T04:42:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22646#event-298376"
}
```



---

archive/issue_comments_339160.json:
```json
{
    "body": "Changed commit from **[1015a1f](https://github.com/sagemath/sagetrac-mirror/commit/1015a1fc8fa01cfcbb8faaecd8348682ed72491c)** to **[c4fce28](https://github.com/sagemath/sagetrac-mirror/commit/c4fce28f6568eadb16c161ed9a5d02ba17a8229e)**",
    "created_at": "2017-07-26T04:50:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339160",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1015a1f](https://github.com/sagemath/sagetrac-mirror/commit/1015a1fc8fa01cfcbb8faaecd8348682ed72491c)** to **[c4fce28](https://github.com/sagemath/sagetrac-mirror/commit/c4fce28f6568eadb16c161ed9a5d02ba17a8229e)**



---

archive/issue_comments_339161.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4fce28f6568eadb16c161ed9a5d02ba17a8229e\">c4fce28</a></td><td><code>fix missing \"$\" in sage-env</code></td></tr></table>\n",
    "created_at": "2017-07-26T04:50:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339161",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:1" align="right">Comment 1</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4fce28f6568eadb16c161ed9a5d02ba17a8229e">c4fce28</a></td><td><code>fix missing "$" in sage-env</code></td></tr></table>




---

archive/issue_events_298377.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-07-26T04:52:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22646#event-298377"
}
```



---

archive/issue_events_298378.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2017-07-26T04:52:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22646#event-298378"
}
```



---

archive/issue_comments_339162.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nIndeed, fixed.",
    "created_at": "2017-07-26T04:52:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339162",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:2" align="right">Comment 2</div>

Indeed, fixed.



---

archive/issue_comments_339163.json:
```json
{
    "body": "Changed commit from **[c4fce28](https://github.com/sagemath/sagetrac-mirror/commit/c4fce28f6568eadb16c161ed9a5d02ba17a8229e)** to **[bbee7b8](https://github.com/sagemath/sagetrac-mirror/commit/bbee7b8529268fe8f8721d098a9f677030d456c2)**",
    "created_at": "2017-07-30T22:26:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339163",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c4fce28](https://github.com/sagemath/sagetrac-mirror/commit/c4fce28f6568eadb16c161ed9a5d02ba17a8229e)** to **[bbee7b8](https://github.com/sagemath/sagetrac-mirror/commit/bbee7b8529268fe8f8721d098a9f677030d456c2)**



---

archive/issue_comments_339164.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bbee7b8529268fe8f8721d098a9f677030d456c2\">bbee7b8</a></td><td><code>Merge branch 'develop' into compiler and bump configure tarball</code></td></tr></table>\n",
    "created_at": "2017-07-30T22:26:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339164",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3" align="right">Comment 3</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bbee7b8529268fe8f8721d098a9f677030d456c2">bbee7b8</a></td><td><code>Merge branch 'develop' into compiler and bump configure tarball</code></td></tr></table>




---

archive/issue_comments_339165.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,5 +6,5 @@\n In this ticket, we add support for this -- and probably also for all SAGE_... variables listed in the installation manual. (The syntax already works, but the settings right now only end up in the unused file `build/make/Makefile-auto`.)\n \n New configure tarball:\n-[https://github.com/sagemath/sage/files/ticket22646/configure-231.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-231.tar.gz)\n+[https://github.com/sagemath/sage/files/ticket22646/configure-232.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-232.tar.gz)\n \n``````\n",
    "created_at": "2017-07-30T22:27:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339165",
    "user": "https://github.com/kiwifb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,5 +6,5 @@
 In this ticket, we add support for this -- and probably also for all SAGE_... variables listed in the installation manual. (The syntax already works, but the settings right now only end up in the unused file `build/make/Makefile-auto`.)
 
 New configure tarball:
-[https://github.com/sagemath/sage/files/ticket22646/configure-231.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-231.tar.gz)
+[https://github.com/sagemath/sage/files/ticket22646/configure-232.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-232.tar.gz)
 
``````




---

archive/issue_comments_339166.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nIt would be nice to get this merged soon, so it is early in the 8.1 release cycle. What are the obstacles to this?",
    "created_at": "2017-07-30T23:57:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339166",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:5" align="right">Comment 5</div>

It would be nice to get this merged soon, so it is early in the 8.1 release cycle. What are the obstacles to this?



---

archive/issue_comments_339167.json:
```json
{
    "body": "<div id=\"comment:106\" align=\"right\">Comment 106</div>\n\nReplying to [@jhpalmieri](#comment%3A105):\n> It would be nice to get this merged soon, so it is early in the 8.1 release cycle. What are the obstacles to this?\n\nPossibly bikering over what behavior it should enforce. Currently `CC=.. ./sage -f ...` or `CC=... make ....` will over-ride the configure time compiler. Some people think it shouldn't, only `make ... CC=...` should.",
    "created_at": "2017-07-31T00:01:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339167",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:106" align="right">Comment 106</div>

Replying to [@jhpalmieri](#comment%3A105):
> It would be nice to get this merged soon, so it is early in the 8.1 release cycle. What are the obstacles to this?

Possibly bikering over what behavior it should enforce. Currently `CC=.. ./sage -f ...` or `CC=... make ....` will over-ride the configure time compiler. Some people think it shouldn't, only `make ... CC=...` should.



---

archive/issue_comments_339168.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nBut be my guest in reviewing this.",
    "created_at": "2017-07-31T02:13:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339168",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:7" align="right">Comment 7</div>

But be my guest in reviewing this.



---

archive/issue_comments_339169.json:
```json
{
    "body": "<div id=\"comment:108\" align=\"right\">Comment 108</div>\n\nReplying to [@kiwifb](#comment%3A106):\n> Possibly bikering over what behavior it should enforce. Currently `CC=.. ./sage -f ...` or `CC=... make ....` will over-ride the configure time compiler. Some people think it shouldn't, only `make ... CC=...` should.\n\nWould a simple renaming of the the configure parameters from `CC=` to `--c-compiler=`, etc, alleviate at least some of concerns (unless there is some hidden magic in naming the parameter `CC`---I hope not)? Personally, every time I do `./configure CC=...` I get deja vu---maybe it's just me though.",
    "created_at": "2017-07-31T07:21:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339169",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:108" align="right">Comment 108</div>

Replying to [@kiwifb](#comment%3A106):
> Possibly bikering over what behavior it should enforce. Currently `CC=.. ./sage -f ...` or `CC=... make ....` will over-ride the configure time compiler. Some people think it shouldn't, only `make ... CC=...` should.

Would a simple renaming of the the configure parameters from `CC=` to `--c-compiler=`, etc, alleviate at least some of concerns (unless there is some hidden magic in naming the parameter `CC`---I hope not)? Personally, every time I do `./configure CC=...` I get deja vu---maybe it's just me though.



---

archive/issue_comments_339170.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nI am not sure what that would achieve. `AC_PROG_CC` makes sure that CC, which is used in standard makefile rules is set to something sensible - by going through a list or checking that the current setting of CC is sane. You may have deja vu because you haven't been on a system with a variety of compilers available out of the box and where you often wants something different from the default.\n\nIf you are going to use something non-standard like `--c-compiler=`I am almost tempted to tell you not to use it to set `CC` either. But then you lose some of the work `AC_PROG_CC` does for you [test that the compiler work, if it is gcc (real or fake)].",
    "created_at": "2017-07-31T10:49:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339170",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:9" align="right">Comment 9</div>

I am not sure what that would achieve. `AC_PROG_CC` makes sure that CC, which is used in standard makefile rules is set to something sensible - by going through a list or checking that the current setting of CC is sane. You may have deja vu because you haven't been on a system with a variety of compilers available out of the box and where you often wants something different from the default.

If you are going to use something non-standard like `--c-compiler=`I am almost tempted to tell you not to use it to set `CC` either. But then you lose some of the work `AC_PROG_CC` does for you [test that the compiler work, if it is gcc (real or fake)].



---

archive/issue_comments_339171.json:
```json
{
    "body": "<div id=\"comment:110\" align=\"right\">Comment 110</div>\n\nReplying to [@kiwifb](#comment%3A109):\n> I am not sure what that would achieve. `AC_PROG_CC` makes sure that CC, which is used in standard makefile rules is set to something sensible - by going through a list or checking that the current setting of CC is sane. You may have deja vu because you haven't been on a system with a variety of compilers available out of the box and where you often wants something different from the default.\n\n\nI certainly have been there and wanted that, my point is that having `CC=...` as a parameter to a script (rather than an environment variable) is akin to having two girlfriends with the same given name---sometimes convenient, but sometimes making you dazed and confused... ;-)\n\n  \n> \n> If you are going to use something non-standard like `--c-compiler=`I am almost tempted to tell you not to use it to set `CC` either. But then you lose some of the work `AC_PROG_CC` does for you [test that the compiler work, if it is gcc (real or fake)].\n\nI don't see what you mean here. E.g. in `configure.ac` one can probably do something like\n\n```\nCCORIG=gcc\nAC_SUBST(CC,$CCORIG)\nAC_ARG_WITH(cc,AS_HELP_STRING(--with-cc=...,specify the full path to the C compiler ($CC)),CC=$withval)\nAC_PROG_CC()\n...\nAC_ARG_WITH(cxx,...\n```\nto create `./configure` arguments such as `--with-cc=`, and set `CC`, etc to the right values.",
    "created_at": "2017-07-31T15:00:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339171",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:110" align="right">Comment 110</div>

Replying to [@kiwifb](#comment%3A109):
> I am not sure what that would achieve. `AC_PROG_CC` makes sure that CC, which is used in standard makefile rules is set to something sensible - by going through a list or checking that the current setting of CC is sane. You may have deja vu because you haven't been on a system with a variety of compilers available out of the box and where you often wants something different from the default.


I certainly have been there and wanted that, my point is that having `CC=...` as a parameter to a script (rather than an environment variable) is akin to having two girlfriends with the same given name---sometimes convenient, but sometimes making you dazed and confused... ;-)

  
> 
> If you are going to use something non-standard like `--c-compiler=`I am almost tempted to tell you not to use it to set `CC` either. But then you lose some of the work `AC_PROG_CC` does for you [test that the compiler work, if it is gcc (real or fake)].

I don't see what you mean here. E.g. in `configure.ac` one can probably do something like

```
CCORIG=gcc
AC_SUBST(CC,$CCORIG)
AC_ARG_WITH(cc,AS_HELP_STRING(--with-cc=...,specify the full path to the C compiler ($CC)),CC=$withval)
AC_PROG_CC()
...
AC_ARG_WITH(cxx,...
```
to create `./configure` arguments such as `--with-cc=`, and set `CC`, etc to the right values.



---

archive/issue_comments_339172.json:
```json
{
    "body": "<div id=\"comment:111\" align=\"right\">Comment 111</div>\n\nReplying to [@dimpase](#comment%3A110):\n> Replying to [@kiwifb](#comment%3A109):\n> > I am not sure what that would achieve. `AC_PROG_CC` makes sure that CC, which is used in standard makefile rules is set to something sensible - by going through a list or checking that the current setting of CC is sane. You may have deja vu because you haven't been on a system with a variety of compilers available out of the box and where you often wants something different from the default.\n\n> \n> \n> I certainly have been there and wanted that, my point is that having `CC=...` as a parameter to a script (rather than an environment variable) is akin to having two girlfriends with the same given name---sometimes convenient, but sometimes making you dazed and confused... ;-)\n> \n\nYou choose to see it as a parameter because it is put at the end of the line. But really it is just setting that environment variable while running that command. You could put it in front with the same result, the main point of putting it in a \"parameter\" position is that it is captured in `config.log`. But whether it is passed as, a parameter, a single shot environment variable or exported from the environment, it all give the same result.\n\nThere is no duality, it is always an environment variable. And setting it on that command line, either in front, or in parameter position, is all about not polluting your main environment with the setting in question.\n\nBut my feeling is that this is beside the point of this ticket.",
    "created_at": "2017-07-31T22:20:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339172",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:111" align="right">Comment 111</div>

Replying to [@dimpase](#comment%3A110):
> Replying to [@kiwifb](#comment%3A109):
> > I am not sure what that would achieve. `AC_PROG_CC` makes sure that CC, which is used in standard makefile rules is set to something sensible - by going through a list or checking that the current setting of CC is sane. You may have deja vu because you haven't been on a system with a variety of compilers available out of the box and where you often wants something different from the default.

> 
> 
> I certainly have been there and wanted that, my point is that having `CC=...` as a parameter to a script (rather than an environment variable) is akin to having two girlfriends with the same given name---sometimes convenient, but sometimes making you dazed and confused... ;-)
> 

You choose to see it as a parameter because it is put at the end of the line. But really it is just setting that environment variable while running that command. You could put it in front with the same result, the main point of putting it in a "parameter" position is that it is captured in `config.log`. But whether it is passed as, a parameter, a single shot environment variable or exported from the environment, it all give the same result.

There is no duality, it is always an environment variable. And setting it on that command line, either in front, or in parameter position, is all about not polluting your main environment with the setting in question.

But my feeling is that this is beside the point of this ticket.



---

archive/issue_comments_339173.json:
```json
{
    "body": "<div id=\"comment:112\" align=\"right\">Comment 112</div>\n\nReplying to [@kiwifb](#comment%3A111):\n\nIt did indeed escape me that `CC=` is not a script parameter, sorry. No objections then.",
    "created_at": "2017-08-01T07:11:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339173",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:112" align="right">Comment 112</div>

Replying to [@kiwifb](#comment%3A111):

It did indeed escape me that `CC=` is not a script parameter, sorry. No objections then.



---

archive/issue_comments_339174.json:
```json
{
    "body": "<div id=\"comment:113\" align=\"right\">Comment 113</div>\n\nReplying to [@kiwifb](#comment%3A111):\n> You could put it in front with the same result, the main point of putting it in a \"parameter\" position is that it is captured in `config.log`. \n\n... and `config.status`, of course, so that the setting persists across `config.status --recheck` etc. \n\n\nFor positive review, I would like to see:\n-  the difference in behavior to standard autotools (comment 92) documented somewhere\n-  a follow-up ticket for making the behavior equal  to standard autotools should be created\n-  the ticket summary should be updated (support \"for all `SAGE_...` variables\" is not implemented in the branch) - follow-up ticket?",
    "created_at": "2017-08-01T13:03:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339174",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:113" align="right">Comment 113</div>

Replying to [@kiwifb](#comment%3A111):
> You could put it in front with the same result, the main point of putting it in a "parameter" position is that it is captured in `config.log`. 

... and `config.status`, of course, so that the setting persists across `config.status --recheck` etc. 


For positive review, I would like to see:
-  the difference in behavior to standard autotools (comment 92) documented somewhere
-  a follow-up ticket for making the behavior equal  to standard autotools should be created
-  the ticket summary should be updated (support "for all `SAGE_...` variables" is not implemented in the branch) - follow-up ticket?



---

archive/issue_comments_339175.json:
```json
{
    "body": "<div id=\"comment:114\" align=\"right\">Comment 114</div>\n\nReplying to [@mkoeppe](#comment%3A113):\n> Replying to [@kiwifb](#comment%3A111):\n> > You could put it in front with the same result, the main point of putting it in a \"parameter\" position is that it is captured in `config.log`. \n\n> \n> ... and `config.status`, of course, so that the setting persists across `config.status --recheck` etc. \n> \n> \n> For positive review, I would like to see:\n> -  the difference in behavior to standard autotools (comment 92) documented somewhere\n\nYes, certainly some documentation is warranted. Note that since \"sage\" is not an autotool \"product\", I have in fact no problem with `CC=... ./sage` changing the compiler. It is consistent with how I am changing the environment for one off runs on the command line for many applications. Example `OMP_NUM_THREADS=4 ./my_openmp_app`. May be I am wrong to put it in prefix position and putting it postfix would work, but I wasn't taught any better.\n\n> -  a follow-up ticket for making the behavior equal  to standard autotools should be created\n\nI can create a follow up ticket and copy you onto it but I probably won't do any work on it. I will leave that to someone else.\n\n> -  the ticket summary should be updated (support \"for all `SAGE_...` variables\" is not implemented in the branch) - follow-up ticket?\n\nI completely forgot about those I must say. This is more complicated as we will, at the very least, need to generate an exhaustive list of those variables, preferably automatically. Definitely another ticket.",
    "created_at": "2017-08-01T22:06:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339175",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:114" align="right">Comment 114</div>

Replying to [@mkoeppe](#comment%3A113):
> Replying to [@kiwifb](#comment%3A111):
> > You could put it in front with the same result, the main point of putting it in a "parameter" position is that it is captured in `config.log`. 

> 
> ... and `config.status`, of course, so that the setting persists across `config.status --recheck` etc. 
> 
> 
> For positive review, I would like to see:
> -  the difference in behavior to standard autotools (comment 92) documented somewhere

Yes, certainly some documentation is warranted. Note that since "sage" is not an autotool "product", I have in fact no problem with `CC=... ./sage` changing the compiler. It is consistent with how I am changing the environment for one off runs on the command line for many applications. Example `OMP_NUM_THREADS=4 ./my_openmp_app`. May be I am wrong to put it in prefix position and putting it postfix would work, but I wasn't taught any better.

> -  a follow-up ticket for making the behavior equal  to standard autotools should be created

I can create a follow up ticket and copy you onto it but I probably won't do any work on it. I will leave that to someone else.

> -  the ticket summary should be updated (support "for all `SAGE_...` variables" is not implemented in the branch) - follow-up ticket?

I completely forgot about those I must say. This is more complicated as we will, at the very least, need to generate an exhaustive list of those variables, preferably automatically. Definitely another ticket.



---

archive/issue_comments_339176.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nActually, while I may add a bit of documentation on configuration, the current documentation is quite explicit about how `CC` and others is used\n\n```\n- :envvar:`CC` - while some programs allow you to use this to specify your C\n  compiler, **not every Sage package recognizes this**.\n  If GCC is installed within Sage, :envvar:`CC` is ignored and Sage's ``gcc``\n  is used instead.\n```\nWhen you have to use a variable in postfix position it is not treated as an environment variable. I may add anote that this differs from the behavior you expect from autotools.",
    "created_at": "2017-08-01T22:43:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339176",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:5" align="right">Comment 5</div>

Actually, while I may add a bit of documentation on configuration, the current documentation is quite explicit about how `CC` and others is used

```
- :envvar:`CC` - while some programs allow you to use this to specify your C
  compiler, **not every Sage package recognizes this**.
  If GCC is installed within Sage, :envvar:`CC` is ignored and Sage's ``gcc``
  is used instead.
```
When you have to use a variable in postfix position it is not treated as an environment variable. I may add anote that this differs from the behavior you expect from autotools.



---

archive/issue_comments_339177.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nRequested follow up at #23569 and #23570. I am working on the documentation (`doc/en/installation/source.rst` the document only exists in English so far) suggestions welcome.",
    "created_at": "2017-08-02T00:09:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339177",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:6" align="right">Comment 6</div>

Requested follow up at #23569 and #23570. I am working on the documentation (`doc/en/installation/source.rst` the document only exists in English so far) suggestions welcome.



---

archive/issue_comments_339178.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,7 +3,7 @@\n ```\n ./configure CC=/path/to/gcc\n ```\n-In this ticket, we add support for this -- and probably also for all SAGE_... variables listed in the installation manual. (The syntax already works, but the settings right now only end up in the unused file `build/make/Makefile-auto`.)\n+In this ticket, we add support for this. (The syntax already works, but the settings right now only end up in the unused file `build/make/Makefile-auto`.)\n \n New configure tarball:\n [https://github.com/sagemath/sage/files/ticket22646/configure-232.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-232.tar.gz)\n``````\n",
    "created_at": "2017-08-02T00:09:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339178",
    "user": "https://github.com/kiwifb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,7 +3,7 @@
 ```
 ./configure CC=/path/to/gcc
 ```
-In this ticket, we add support for this -- and probably also for all SAGE_... variables listed in the installation manual. (The syntax already works, but the settings right now only end up in the unused file `build/make/Makefile-auto`.)
+In this ticket, we add support for this. (The syntax already works, but the settings right now only end up in the unused file `build/make/Makefile-auto`.)
 
 New configure tarball:
 [https://github.com/sagemath/sage/files/ticket22646/configure-232.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-232.tar.gz)
``````




---

archive/issue_comments_339179.json:
```json
{
    "body": "Changed commit from **[bbee7b8](https://github.com/sagemath/sagetrac-mirror/commit/bbee7b8529268fe8f8721d098a9f677030d456c2)** to **[e485a75](https://github.com/sagemath/sagetrac-mirror/commit/e485a75b7c89bb283b82db7a30583dbb3227270e)**",
    "created_at": "2017-08-08T21:58:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339179",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[bbee7b8](https://github.com/sagemath/sagetrac-mirror/commit/bbee7b8529268fe8f8721d098a9f677030d456c2)** to **[e485a75](https://github.com/sagemath/sagetrac-mirror/commit/e485a75b7c89bb283b82db7a30583dbb3227270e)**



---

archive/issue_comments_339180.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e485a75b7c89bb283b82db7a30583dbb3227270e\">e485a75</a></td><td><code>Merge branch 'develop' into compiler and bump configure tarball</code></td></tr></table>\n",
    "created_at": "2017-08-08T21:58:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339180",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7" align="right">Comment 7</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e485a75b7c89bb283b82db7a30583dbb3227270e">e485a75</a></td><td><code>Merge branch 'develop' into compiler and bump configure tarball</code></td></tr></table>




---

archive/issue_comments_339181.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,5 +6,5 @@\n In this ticket, we add support for this. (The syntax already works, but the settings right now only end up in the unused file `build/make/Makefile-auto`.)\n \n New configure tarball:\n-[https://github.com/sagemath/sage/files/ticket22646/configure-232.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-232.tar.gz)\n+[https://github.com/sagemath/sage/files/ticket22646/configure-233.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-233.tar.gz)\n \n``````\n",
    "created_at": "2017-08-08T21:59:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339181",
    "user": "https://github.com/kiwifb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,5 +6,5 @@
 In this ticket, we add support for this. (The syntax already works, but the settings right now only end up in the unused file `build/make/Makefile-auto`.)
 
 New configure tarball:
-[https://github.com/sagemath/sage/files/ticket22646/configure-232.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-232.tar.gz)
+[https://github.com/sagemath/sage/files/ticket22646/configure-233.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-233.tar.gz)
 
``````




---

archive/issue_comments_339182.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nProgress on the documentation?",
    "created_at": "2017-08-27T02:46:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339182",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9" align="right">Comment 9</div>

Progress on the documentation?



---

archive/issue_comments_339183.json:
```json
{
    "body": "<div id=\"comment:0\" align=\"right\">Comment 0</div>\n\nI have a draft somewhere. I am just on too spread out.",
    "created_at": "2017-08-27T03:05:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339183",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:0" align="right">Comment 0</div>

I have a draft somewhere. I am just on too spread out.



---

archive/issue_comments_339184.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3772ae5dd531e548a67d5a514d615614477991d4\">3772ae5</a></td><td><code>Merge branch 'develop' into compiler</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a8c8904577f481f82c63e9354afdf7aecc743f87\">a8c8904</a></td><td><code>Add some documentation and update configure tarball</code></td></tr></table>\n",
    "created_at": "2017-08-29T23:34:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339184",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:1" align="right">Comment 1</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3772ae5dd531e548a67d5a514d615614477991d4">3772ae5</a></td><td><code>Merge branch 'develop' into compiler</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a8c8904577f481f82c63e9354afdf7aecc743f87">a8c8904</a></td><td><code>Add some documentation and update configure tarball</code></td></tr></table>




---

archive/issue_comments_339185.json:
```json
{
    "body": "Changed commit from **[e485a75](https://github.com/sagemath/sagetrac-mirror/commit/e485a75b7c89bb283b82db7a30583dbb3227270e)** to **[a8c8904](https://github.com/sagemath/sagetrac-mirror/commit/a8c8904577f481f82c63e9354afdf7aecc743f87)**",
    "created_at": "2017-08-29T23:34:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339185",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e485a75](https://github.com/sagemath/sagetrac-mirror/commit/e485a75b7c89bb283b82db7a30583dbb3227270e)** to **[a8c8904](https://github.com/sagemath/sagetrac-mirror/commit/a8c8904577f481f82c63e9354afdf7aecc743f87)**



---

archive/issue_comments_339186.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nOk rebased and added some documentation. I don't think it is particularly great feedback appreciated.",
    "created_at": "2017-08-29T23:36:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339186",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:2" align="right">Comment 2</div>

Ok rebased and added some documentation. I don't think it is particularly great feedback appreciated.



---

archive/issue_comments_339187.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,5 +6,5 @@\n In this ticket, we add support for this. (The syntax already works, but the settings right now only end up in the unused file `build/make/Makefile-auto`.)\n \n New configure tarball:\n-[https://github.com/sagemath/sage/files/ticket22646/configure-233.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-233.tar.gz)\n+[https://github.com/sagemath/sage/files/ticket22646/configure-235.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-235.tar.gz)\n \n``````\n",
    "created_at": "2017-08-29T23:36:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339187",
    "user": "https://github.com/kiwifb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,5 +6,5 @@
 In this ticket, we add support for this. (The syntax already works, but the settings right now only end up in the unused file `build/make/Makefile-auto`.)
 
 New configure tarball:
-[https://github.com/sagemath/sage/files/ticket22646/configure-233.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-233.tar.gz)
+[https://github.com/sagemath/sage/files/ticket22646/configure-235.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-235.tar.gz)
 
``````




---

archive/issue_comments_339188.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nAttachment: **[configure-235.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-235.tar.gz)**",
    "created_at": "2017-08-30T09:17:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339188",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:3" align="right">Comment 3</div>

Attachment: **[configure-235.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-235.tar.gz)**



---

archive/issue_comments_339189.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,5 +6,5 @@\n In this ticket, we add support for this. (The syntax already works, but the settings right now only end up in the unused file `build/make/Makefile-auto`.)\n \n New configure tarball:\n-[https://github.com/sagemath/sage/files/ticket22646/configure-235.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-235.tar.gz)\n+[https://trac.sagemath.org/raw-attachment/ticket/22646/configure-235.tar.gz](https://trac.sagemath.org/raw-attachment/ticket/22646/configure-235.tar.gz)\n \n``````\n",
    "created_at": "2017-08-30T09:17:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339189",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,5 +6,5 @@
 In this ticket, we add support for this. (The syntax already works, but the settings right now only end up in the unused file `build/make/Makefile-auto`.)
 
 New configure tarball:
-[https://github.com/sagemath/sage/files/ticket22646/configure-235.tar.gz](https://github.com/sagemath/sage/files/ticket22646/configure-235.tar.gz)
+[https://trac.sagemath.org/raw-attachment/ticket/22646/configure-235.tar.gz](https://trac.sagemath.org/raw-attachment/ticket/22646/configure-235.tar.gz)
 
``````




---

archive/issue_comments_339190.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nA few minor suggestions for the documentation: in the first sentence, it is ambiguous about which variables need to be specified just for OS X. Maybe something like this instead:\n\n> Some environment variables deserve a special mention: `CC`, `CXX`, and `FC`; and on OS X, `OBJC` and `OBJCXX`.\n\nAlso, change \"over-riden\" to \"over-ridden\" and change \"sage\" to \"Sage\" (twice).\n\nOtherwise, I don't have anything to add to it; I think it's fine.",
    "created_at": "2017-08-30T15:40:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339190",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:4" align="right">Comment 4</div>

A few minor suggestions for the documentation: in the first sentence, it is ambiguous about which variables need to be specified just for OS X. Maybe something like this instead:

> Some environment variables deserve a special mention: `CC`, `CXX`, and `FC`; and on OS X, `OBJC` and `OBJCXX`.

Also, change "over-riden" to "over-ridden" and change "sage" to "Sage" (twice).

Otherwise, I don't have anything to add to it; I think it's fine.



---

archive/issue_comments_339191.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/99eb31f851a4fcdf1e17bd1671b5218ae9acc0be\">99eb31f</a></td><td><code>Minor edits from John Palmieri's feedback</code></td></tr></table>\n",
    "created_at": "2017-08-30T22:26:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339191",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5" align="right">Comment 5</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/99eb31f851a4fcdf1e17bd1671b5218ae9acc0be">99eb31f</a></td><td><code>Minor edits from John Palmieri's feedback</code></td></tr></table>




---

archive/issue_comments_339192.json:
```json
{
    "body": "Changed commit from **[a8c8904](https://github.com/sagemath/sagetrac-mirror/commit/a8c8904577f481f82c63e9354afdf7aecc743f87)** to **[99eb31f](https://github.com/sagemath/sagetrac-mirror/commit/99eb31f851a4fcdf1e17bd1671b5218ae9acc0be)**",
    "created_at": "2017-08-30T22:26:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339192",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a8c8904](https://github.com/sagemath/sagetrac-mirror/commit/a8c8904577f481f82c63e9354afdf7aecc743f87)** to **[99eb31f](https://github.com/sagemath/sagetrac-mirror/commit/99eb31f851a4fcdf1e17bd1671b5218ae9acc0be)**



---

archive/issue_comments_339193.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nOK, revision included. It is ready for someone to push the positive review button.",
    "created_at": "2017-08-30T22:28:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339193",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:6" align="right">Comment 6</div>

OK, revision included. It is ready for someone to push the positive review button.



---

archive/issue_events_298379.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-08-30T22:41:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22646#event-298379"
}
```



---

archive/issue_events_298380.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-08-30T22:41:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22646#event-298380"
}
```



---

archive/issue_comments_339194.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe, Jeroen Demeyer, Vincent Delecroix, John Palmieri, Dima Pasechnik**",
    "created_at": "2017-08-30T22:41:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339194",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Matthias Koeppe, Jeroen Demeyer, Vincent Delecroix, John Palmieri, Dima Pasechnik**



---

archive/issue_comments_339195.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nGreat! Now on to #12426?",
    "created_at": "2017-08-30T22:41:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339195",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:8" align="right">Comment 8</div>

Great! Now on to #12426?



---

archive/issue_comments_339196.json:
```json
{
    "body": "<div id=\"comment:129\" align=\"right\">Comment 129</div>\n\nReplying to [@jhpalmieri](#comment%3A128):\n> Great! Now on to #12426?\n\nyes, sure. I'll test it for building gfortran on FreeBSD.",
    "created_at": "2017-08-30T22:44:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339196",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:129" align="right">Comment 129</div>

Replying to [@jhpalmieri](#comment%3A128):
> Great! Now on to #12426?

yes, sure. I'll test it for building gfortran on FreeBSD.



---

archive/issue_comments_339197.json:
```json
{
    "body": "<div id=\"comment:130\" align=\"right\">Comment 130</div>\n\nReplying to [@jhpalmieri](#comment%3A128):\n> Great! Now on to #12426?\n\nThanks everyone! \n\nFor #12426. It would be nice to have it in 8.1 but some people may feel the shift warrants it to go first thing in 8.2.beta0. We could take the debate to sage-devel. Things needed in my opinion for #12426:\n* new release of eclib - that won't solve all the problems but working with clang lead to improvement of the code.\n* update and fix ccache\n* a good discussion about the giac test",
    "created_at": "2017-08-30T22:46:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339197",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:130" align="right">Comment 130</div>

Replying to [@jhpalmieri](#comment%3A128):
> Great! Now on to #12426?

Thanks everyone! 

For #12426. It would be nice to have it in 8.1 but some people may feel the shift warrants it to go first thing in 8.2.beta0. We could take the debate to sage-devel. Things needed in my opinion for #12426:
* new release of eclib - that won't solve all the problems but working with clang lead to improvement of the code.
* update and fix ccache
* a good discussion about the giac test



---

archive/issue_comments_339198.json:
```json
{
    "body": "<div id=\"comment:131\" align=\"right\">Comment 131</div>\n\nReplying to [@kiwifb](#comment%3A130):\n> Replying to [@jhpalmieri](#comment%3A128):\n> > Great! Now on to #12426?\n\n> \n> Thanks everyone! \n> \n> For #12426. It would be nice to have it in 8.1 but some people may feel the shift warrants it to go first thing in 8.2.beta0. We could take the debate to sage-devel. Things needed in my opinion for #12426:\n> * new release of eclib - that won't solve all the problems but working with clang lead to improvement of the code.\n\neclib already took advantage of clang, it helped finding a couple of ugly memory leaks... I think it can be done after this ticket - working without a properly supported toolchain is tricky.\n\n\n> * update and fix ccache\n\nWhy is this so urgent, and again, such things are harder to fix \nwithout a properly supported toolchain.\n\n> * a good discussion about the giac test\n\nWhat is this about? giac certainly would benefit from more uniform following c++11 or/and gnu++11...\n\n* How about clang on Linux? Are we aiming at it now here? Or, again, this could wait for another ticket? (I'd rather do the latter; it's after all not that urgent).",
    "created_at": "2017-08-30T23:28:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339198",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:131" align="right">Comment 131</div>

Replying to [@kiwifb](#comment%3A130):
> Replying to [@jhpalmieri](#comment%3A128):
> > Great! Now on to #12426?

> 
> Thanks everyone! 
> 
> For #12426. It would be nice to have it in 8.1 but some people may feel the shift warrants it to go first thing in 8.2.beta0. We could take the debate to sage-devel. Things needed in my opinion for #12426:
> * new release of eclib - that won't solve all the problems but working with clang lead to improvement of the code.

eclib already took advantage of clang, it helped finding a couple of ugly memory leaks... I think it can be done after this ticket - working without a properly supported toolchain is tricky.


> * update and fix ccache

Why is this so urgent, and again, such things are harder to fix 
without a properly supported toolchain.

> * a good discussion about the giac test

What is this about? giac certainly would benefit from more uniform following c++11 or/and gnu++11...

* How about clang on Linux? Are we aiming at it now here? Or, again, this could wait for another ticket? (I'd rather do the latter; it's after all not that urgent).



---

archive/issue_comments_339199.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\n`ccache` is not urgent. While it is not a blocker we should aim at supporting a maximum of optional packages out of the box. So fixing the known problems make sense.\n\nMore urgent is doing all that is possible for standard packages that have a testsuite to pass it with clang. This won't happen at this stage for `eclib` and `giac`. `eclib` because it is hard, `giac` because there is currently a test that orders results differently depending on the compiler used :( - we would need a patching option in spkg-check to fix this kind of case and it would need a little extra infrastructure.\n\nclang on linux is just a nice side effect :) and the last ticket for it to work once #12426 is merged is in.\n\nNote that #12426 makes it possible to use `icc` and it works, at say ~95%, out of the box for standard sage. sqlite needs a fix that belongs upstream and pari optimisation needs to be tuned down on top of my head.",
    "created_at": "2017-08-30T23:37:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339199",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:2" align="right">Comment 2</div>

`ccache` is not urgent. While it is not a blocker we should aim at supporting a maximum of optional packages out of the box. So fixing the known problems make sense.

More urgent is doing all that is possible for standard packages that have a testsuite to pass it with clang. This won't happen at this stage for `eclib` and `giac`. `eclib` because it is hard, `giac` because there is currently a test that orders results differently depending on the compiler used :( - we would need a patching option in spkg-check to fix this kind of case and it would need a little extra infrastructure.

clang on linux is just a nice side effect :) and the last ticket for it to work once #12426 is merged is in.

Note that #12426 makes it possible to use `icc` and it works, at say ~95%, out of the box for standard sage. sqlite needs a fix that belongs upstream and pari optimisation needs to be tuned down on top of my head.



---

archive/issue_comments_339200.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nIMHO, this all should be dealt with on follow-up tickets, and #12426 ought to get in without them.",
    "created_at": "2017-08-31T00:12:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339200",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:3" align="right">Comment 3</div>

IMHO, this all should be dealt with on follow-up tickets, and #12426 ought to get in without them.



---

archive/issue_events_298381.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-09-04T06:10:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22646#event-298381"
}
```



---

archive/issue_events_298382.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "772c3d260d1dff75d2f179d38283785b9b5df8a2",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-09-04T06:10:56Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22646#event-298382"
}
```



---

archive/issue_comments_339201.json:
```json
{
    "body": "Changed branch from **[u/fbissey/compilers](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/compilers)** to **[99eb31f](https://github.com/sagemath/sagetrac-mirror/commit/99eb31f851a4fcdf1e17bd1671b5218ae9acc0be)**",
    "created_at": "2017-09-04T06:10:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339201",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/fbissey/compilers](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/compilers)** to **[99eb31f](https://github.com/sagemath/sagetrac-mirror/commit/99eb31f851a4fcdf1e17bd1671b5218ae9acc0be)**



---

archive/issue_comments_339202.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nFollow-up: #23789",
    "created_at": "2017-09-06T09:09:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339202",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:5" align="right">Comment 5</div>

Follow-up: #23789



---

archive/issue_comments_339203.json:
```json
{
    "body": "Changed commit from **[99eb31f](https://github.com/sagemath/sagetrac-mirror/commit/99eb31f851a4fcdf1e17bd1671b5218ae9acc0be)** to none",
    "created_at": "2017-09-06T09:09:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22646",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22646#issuecomment-339203",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[99eb31f](https://github.com/sagemath/sagetrac-mirror/commit/99eb31f851a4fcdf1e17bd1671b5218ae9acc0be)** to none
