# Issue 22924: cleaning of linbox for dense integer matrices

archive/issues_022687.json:
```json
{
    "body": "Various cleaning to the linbox interface (`sage.libs.linbox`) and Sage dense integer matrices (`sage.matrix.matrix_integer_dense`).\n\n- implement a more direct linbox/flint interface in `sage/libs/linbox/linbox_flint_interface.pyx` (supersedes part of `linbox-sage.C` inside linbox)\n\n- remove all mpz pointers from `Matrix_integer_dense` (that is the attributes\n  `bint _initialized_mpz`, `mpz_t * _entrie` and `mpz_t ** _rows`) as\n  well as the associated constructors/destructors (`int _init_mpz(self)`, `int _init_mpz_impl(self)`, `int _init_linbox(self)`, `void _dealloc_mpz(self)`)\n\n- fix the following error\n\n```\nsage: matrix(ZZ, 2).det(algorithm='padic')\nTraceback (most recent call last):\n...\nImportError: No module named matrix_integer_dense_hnf\n```\n\n- add more examples and tests to the documentation\n\n(see #22872 for the linbox task ticket)\n\n**CC:**  @ClementPernet dlucas\n\n**Keywords:** linbox\n\n**Branch/Commit:** [0b082c2d7aac83d91253a450cd81e7accf13d76b](https://github.com/sagemath/sagetrac-mirror/commit/0b082c2d7aac83d91253a450cd81e7accf13d76b)\n\n**Reviewer:** Cl\u00e9ment Pernet\n\n**Author:** Vincent Delecroix\n\nIssue created by migration from https://trac.sagemath.org/ticket/22924\n\n",
    "closed_at": "2017-05-14T08:20:04Z",
    "created_at": "2017-05-02T06:18:45Z",
    "labels": [
        "component: packages: standard",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.0",
    "title": "cleaning of linbox for dense integer matrices",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/22924",
    "user": "https://github.com/videlec"
}
```
Various cleaning to the linbox interface (`sage.libs.linbox`) and Sage dense integer matrices (`sage.matrix.matrix_integer_dense`).

- implement a more direct linbox/flint interface in `sage/libs/linbox/linbox_flint_interface.pyx` (supersedes part of `linbox-sage.C` inside linbox)

- remove all mpz pointers from `Matrix_integer_dense` (that is the attributes
  `bint _initialized_mpz`, `mpz_t * _entrie` and `mpz_t ** _rows`) as
  well as the associated constructors/destructors (`int _init_mpz(self)`, `int _init_mpz_impl(self)`, `int _init_linbox(self)`, `void _dealloc_mpz(self)`)

- fix the following error

```
sage: matrix(ZZ, 2).det(algorithm='padic')
Traceback (most recent call last):
...
ImportError: No module named matrix_integer_dense_hnf
```

- add more examples and tests to the documentation

(see #22872 for the linbox task ticket)

**CC:**  @ClementPernet dlucas

**Keywords:** linbox

**Branch/Commit:** [0b082c2d7aac83d91253a450cd81e7accf13d76b](https://github.com/sagemath/sagetrac-mirror/commit/0b082c2d7aac83d91253a450cd81e7accf13d76b)

**Reviewer:** Cl√©ment Pernet

**Author:** Vincent Delecroix

Issue created by migration from https://trac.sagemath.org/ticket/22924





---

archive/issue_comments_344633.json:
```json
{
    "body": "**Branch:** [u/vdelecroix/22924](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/22924)",
    "created_at": "2017-05-02T06:20:46Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344633",
    "user": "https://github.com/videlec"
}
```

**Branch:** [u/vdelecroix/22924](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/22924)



---

archive/issue_comments_344634.json:
```json
{
    "body": "**Commit:** [38d9da303a72512d2cab94ef0d8219fd03de12aa](https://github.com/sagemath/sagetrac-mirror/commit/38d9da303a72512d2cab94ef0d8219fd03de12aa)",
    "created_at": "2017-05-02T06:20:46Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344634",
    "user": "https://github.com/videlec"
}
```

**Commit:** [38d9da303a72512d2cab94ef0d8219fd03de12aa](https://github.com/sagemath/sagetrac-mirror/commit/38d9da303a72512d2cab94ef0d8219fd03de12aa)



---

archive/issue_comments_344635.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cca8edfcb800a6535057c9547bb2b14b7ff6a8b5\">cca8edf</a></td><td><code>fix headers</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38d9da303a72512d2cab94ef0d8219fd03de12aa\">38d9da3</a></td><td><code>Cleaning linbox interface of Matrix_integer_dense</code></td></tr></table>\n",
    "created_at": "2017-05-02T06:20:46Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344635",
    "user": "https://github.com/videlec"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cca8edfcb800a6535057c9547bb2b14b7ff6a8b5">cca8edf</a></td><td><code>fix headers</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38d9da303a72512d2cab94ef0d8219fd03de12aa">38d9da3</a></td><td><code>Cleaning linbox interface of Matrix_integer_dense</code></td></tr></table>




---

archive/issue_comments_344636.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/86d8af3dd66ed8c1847452d555953eee7a00f91c\">86d8af3</a></td><td><code>Cleaning linbox interface of Matrix_integer_dense</code></td></tr></table>\n",
    "created_at": "2017-05-02T07:40:45Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344636",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/86d8af3dd66ed8c1847452d555953eee7a00f91c">86d8af3</a></td><td><code>Cleaning linbox interface of Matrix_integer_dense</code></td></tr></table>




---

archive/issue_comments_344637.json:
```json
{
    "body": "**Changing commit** from \"[38d9da303a72512d2cab94ef0d8219fd03de12aa](https://github.com/sagemath/sagetrac-mirror/commit/38d9da303a72512d2cab94ef0d8219fd03de12aa)\" to \"[86d8af3dd66ed8c1847452d555953eee7a00f91c](https://github.com/sagemath/sagetrac-mirror/commit/86d8af3dd66ed8c1847452d555953eee7a00f91c)\".",
    "created_at": "2017-05-02T07:40:45Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344637",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[38d9da303a72512d2cab94ef0d8219fd03de12aa](https://github.com/sagemath/sagetrac-mirror/commit/38d9da303a72512d2cab94ef0d8219fd03de12aa)" to "[86d8af3dd66ed8c1847452d555953eee7a00f91c](https://github.com/sagemath/sagetrac-mirror/commit/86d8af3dd66ed8c1847452d555953eee7a00f91c)".



---

archive/issue_events_204272.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-05-02T07:44:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22924#event-204272"
}
```



---

archive/issue_comments_344638.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -17,3 +17,4 @@\n \n - add more examples and tests to the documentation\n \n+(see #22872 for the linbox task ticket)\n``````\n",
    "created_at": "2017-05-02T07:44:43Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344638",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -17,3 +17,4 @@
 
 - add more examples and tests to the documentation
 
+(see #22872 for the linbox task ticket)
``````




---

archive/issue_comments_344639.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n Various cleaning to the linbox interface (`sage.libs.linbox`) and Sage dense integer matrices (`sage.matrix.matrix_integer_dense`).\n \n-- implement in pure Cython the interface to linbox in a new file `sage/libs/linbox/linbox_flint_interface.pyx`\n+- implement a more direct linbox/flint interface in `sage/libs/linbox/linbox_flint_interface.pyx` (supersedes part of `linbox-sage.C` inside linbox)\n \n - remove all mpz pointers from `Matrix_integer_dense` (that is the attributes\n   `bint _initialized_mpz`, `mpz_t * _entrie` and `mpz_t ** _rows`) as\n``````\n",
    "created_at": "2017-05-02T07:46:07Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344639",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 Various cleaning to the linbox interface (`sage.libs.linbox`) and Sage dense integer matrices (`sage.matrix.matrix_integer_dense`).
 
-- implement in pure Cython the interface to linbox in a new file `sage/libs/linbox/linbox_flint_interface.pyx`
+- implement a more direct linbox/flint interface in `sage/libs/linbox/linbox_flint_interface.pyx` (supersedes part of `linbox-sage.C` inside linbox)
 
 - remove all mpz pointers from `Matrix_integer_dense` (that is the attributes
   `bint _initialized_mpz`, `mpz_t * _entrie` and `mpz_t ** _rows`) as
``````




---

archive/issue_events_204273.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-05-02T10:53:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "label": "component: packages: standard",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22924#event-204273"
}
```



---

archive/issue_comments_344640.json:
```json
{
    "body": "**Changing commit** from \"[86d8af3dd66ed8c1847452d555953eee7a00f91c](https://github.com/sagemath/sagetrac-mirror/commit/86d8af3dd66ed8c1847452d555953eee7a00f91c)\" to \"[4cae968e969b661488ef07621d29303251732726](https://github.com/sagemath/sagetrac-mirror/commit/4cae968e969b661488ef07621d29303251732726)\".",
    "created_at": "2017-05-03T05:59:09Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344640",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[86d8af3dd66ed8c1847452d555953eee7a00f91c](https://github.com/sagemath/sagetrac-mirror/commit/86d8af3dd66ed8c1847452d555953eee7a00f91c)" to "[4cae968e969b661488ef07621d29303251732726](https://github.com/sagemath/sagetrac-mirror/commit/4cae968e969b661488ef07621d29303251732726)".



---

archive/issue_comments_344641.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cccbe303ef08e7feac33ea305227dd1fa3f7db6a\">cccbe30</a></td><td><code>Cleaning linbox interface of Matrix_integer_dense</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4cae968e969b661488ef07621d29303251732726\">4cae968</a></td><td><code>22924: remove (instead of deprecate) code from linbox.pyx</code></td></tr></table>\n",
    "created_at": "2017-05-03T05:59:09Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344641",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cccbe303ef08e7feac33ea305227dd1fa3f7db6a">cccbe30</a></td><td><code>Cleaning linbox interface of Matrix_integer_dense</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4cae968e969b661488ef07621d29303251732726">4cae968</a></td><td><code>22924: remove (instead of deprecate) code from linbox.pyx</code></td></tr></table>




---

archive/issue_comments_344642.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/09f62806bc83b5049d90ea481de8abffe61712f0\">09f6280</a></td><td><code>22924: get rid of spies</code></td></tr></table>\n",
    "created_at": "2017-05-03T11:33:24Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344642",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/09f62806bc83b5049d90ea481de8abffe61712f0">09f6280</a></td><td><code>22924: get rid of spies</code></td></tr></table>




---

archive/issue_comments_344643.json:
```json
{
    "body": "**Changing commit** from \"[4cae968e969b661488ef07621d29303251732726](https://github.com/sagemath/sagetrac-mirror/commit/4cae968e969b661488ef07621d29303251732726)\" to \"[09f62806bc83b5049d90ea481de8abffe61712f0](https://github.com/sagemath/sagetrac-mirror/commit/09f62806bc83b5049d90ea481de8abffe61712f0)\".",
    "created_at": "2017-05-03T11:33:24Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344643",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4cae968e969b661488ef07621d29303251732726](https://github.com/sagemath/sagetrac-mirror/commit/4cae968e969b661488ef07621d29303251732726)" to "[09f62806bc83b5049d90ea481de8abffe61712f0](https://github.com/sagemath/sagetrac-mirror/commit/09f62806bc83b5049d90ea481de8abffe61712f0)".



---

archive/issue_comments_344644.json:
```json
{
    "body": "**Changing commit** from \"[09f62806bc83b5049d90ea481de8abffe61712f0](https://github.com/sagemath/sagetrac-mirror/commit/09f62806bc83b5049d90ea481de8abffe61712f0)\" to \"[69a140e1d299cc6971ad75e868dd9418083bbc0b](https://github.com/sagemath/sagetrac-mirror/commit/69a140e1d299cc6971ad75e868dd9418083bbc0b)\".",
    "created_at": "2017-05-03T12:16:22Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344644",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[09f62806bc83b5049d90ea481de8abffe61712f0](https://github.com/sagemath/sagetrac-mirror/commit/09f62806bc83b5049d90ea481de8abffe61712f0)" to "[69a140e1d299cc6971ad75e868dd9418083bbc0b](https://github.com/sagemath/sagetrac-mirror/commit/69a140e1d299cc6971ad75e868dd9418083bbc0b)".



---

archive/issue_comments_344645.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48cd83bcd4fe14eafc0a208fff2566656b0a3a5b\">48cd83b</a></td><td><code>fix headers</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f5ec834ea85b29c473d4a37af792c19bc8450ba\">3f5ec83</a></td><td><code>Cleaning linbox interface of Matrix_integer_dense</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ef07ed5709578fb7712fc5ee6b880fd9d710dc44\">ef07ed5</a></td><td><code>22924: remove (instead of deprecate) code from linbox.pyx</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/69a140e1d299cc6971ad75e868dd9418083bbc0b\">69a140e</a></td><td><code>22924: get rid of spies</code></td></tr></table>\n",
    "created_at": "2017-05-03T12:16:22Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344645",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48cd83bcd4fe14eafc0a208fff2566656b0a3a5b">48cd83b</a></td><td><code>fix headers</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f5ec834ea85b29c473d4a37af792c19bc8450ba">3f5ec83</a></td><td><code>Cleaning linbox interface of Matrix_integer_dense</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ef07ed5709578fb7712fc5ee6b880fd9d710dc44">ef07ed5</a></td><td><code>22924: remove (instead of deprecate) code from linbox.pyx</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/69a140e1d299cc6971ad75e868dd9418083bbc0b">69a140e</a></td><td><code>22924: get rid of spies</code></td></tr></table>




---

archive/issue_comments_344646.json:
```json
{
    "body": "<a id='comment:9'></a>\n(rebased on 8.0.b4)",
    "created_at": "2017-05-03T12:16:56Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344646",
    "user": "https://github.com/videlec"
}
```

<a id='comment:9'></a>
(rebased on 8.0.b4)



---

archive/issue_comments_344647.json:
```json
{
    "body": "<a id='comment:10'></a>\nGreat.\nLet's start with a few remarks:\n1. Why do need the dependency on #22886 ? That ticket is stalled and is therefore also blocking this one.\n2. While we are changing a lot of stuff, I wouldn't mind getting rid of these ugly `poly_linbox` method, with a string parameter `typ` that determines whether to compute minpoly or charpoly. We should rather only have the 2 methods `_minpoly_linbox_` and `_charpoly_linbox_`. There is not much duplicated code between these two, especially now after this clean-up.",
    "created_at": "2017-05-04T06:03:35Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344647",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:10'></a>
Great.
Let's start with a few remarks:
1. Why do need the dependency on #22886 ? That ticket is stalled and is therefore also blocking this one.
2. While we are changing a lot of stuff, I wouldn't mind getting rid of these ugly `poly_linbox` method, with a string parameter `typ` that determines whether to compute minpoly or charpoly. We should rather only have the 2 methods `_minpoly_linbox_` and `_charpoly_linbox_`. There is not much duplicated code between these two, especially now after this clean-up.



---

archive/issue_comments_344648.json:
```json
{
    "body": "**Reviewer:** Cl\u00e9ment Pernet",
    "created_at": "2017-05-04T06:04:21Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344648",
    "user": "https://github.com/ClementPernet"
}
```

**Reviewer:** Cl√©ment Pernet



---

archive/issue_comments_344649.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [cpernet](#comment%3A10):\n> Great.\n\n\nThanks for having a look!\n\n> Let's start with a few remarks:\n> 1. Why do need the dependency on #22886 ? That ticket is stalled and is therefore also blocking this one.\n\n\nI think that Cython compilation fails otherwise (I am trying again right now on top of 8.0.beta4... will take some time since I need to recompile the whole Sage after playing with #22493).\n\n>  2. While we are changing a lot of stuff, I wouldn't mind getting rid of these ugly `poly_linbox` method, with a string parameter `typ` that determines whether to compute minpoly or charpoly. We should rather only have the 2 methods `_minpoly_linbox_` and `_charpoly_linbox_`. There is not much duplicated code between these two, especially now after this clean-up.\n\n\nThe ticket only intends to clean `matrix_integer_dense.pyx`. The two functions you mention are actually removed from `matrix/matrix_integer_dense.pyx` but kept in `libs/linbox/linbox_flint_interface.pyx` (but note that the argument there is an integer). I can get rid of the following function in the interface\n\n```\n# set p to the minpoly or the charpoly of A\ncdef inline void linbox_fmpz_mat_poly(fmpz_poly_t p, fmpz_mat_t A, int minpoly)\n```\nIs that what you want?",
    "created_at": "2017-05-04T06:44:37Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344649",
    "user": "https://github.com/videlec"
}
```

<a id='comment:12'></a>
Replying to [cpernet](#comment%3A10):
> Great.


Thanks for having a look!

> Let's start with a few remarks:
> 1. Why do need the dependency on #22886 ? That ticket is stalled and is therefore also blocking this one.


I think that Cython compilation fails otherwise (I am trying again right now on top of 8.0.beta4... will take some time since I need to recompile the whole Sage after playing with #22493).

>  2. While we are changing a lot of stuff, I wouldn't mind getting rid of these ugly `poly_linbox` method, with a string parameter `typ` that determines whether to compute minpoly or charpoly. We should rather only have the 2 methods `_minpoly_linbox_` and `_charpoly_linbox_`. There is not much duplicated code between these two, especially now after this clean-up.


The ticket only intends to clean `matrix_integer_dense.pyx`. The two functions you mention are actually removed from `matrix/matrix_integer_dense.pyx` but kept in `libs/linbox/linbox_flint_interface.pyx` (but note that the argument there is an integer). I can get rid of the following function in the interface

```
# set p to the minpoly or the charpoly of A
cdef inline void linbox_fmpz_mat_poly(fmpz_poly_t p, fmpz_mat_t A, int minpoly)
```
Is that what you want?



---

archive/issue_comments_344650.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [vdelecroix](#comment%3A12):\n>  I can get rid of the following function in the interface\n\n> {{{\n> \\# set p to the minpoly or the charpoly of A\n> cdef inline void linbox_fmpz_mat_poly(fmpz_poly_t p, fmpz_mat_t A, int minpoly)\n> }}}\n> Is that what you want?\n\nOk sorry for the confusion. My remark indeed applies to the new `libs/linbox_flint_interface.pyx`.\nSure, it should definitely not be exposed through the new interface as it is an internal trick to factor out code. Then I also suggest to avoid this trick and simply write the two methods for the sake of clarity.",
    "created_at": "2017-05-04T07:09:11Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344650",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:13'></a>
Replying to [vdelecroix](#comment%3A12):
>  I can get rid of the following function in the interface

> {{{
> \# set p to the minpoly or the charpoly of A
> cdef inline void linbox_fmpz_mat_poly(fmpz_poly_t p, fmpz_mat_t A, int minpoly)
> }}}
> Is that what you want?

Ok sorry for the confusion. My remark indeed applies to the new `libs/linbox_flint_interface.pyx`.
Sure, it should definitely not be exposed through the new interface as it is an internal trick to factor out code. Then I also suggest to avoid this trick and simply write the two methods for the sake of clarity.



---

archive/issue_comments_344651.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/55bdc0a6c1d6e24666329258df947875c7ee7d56\">55bdc0a</a></td><td><code>Cleaning linbox interface of Matrix_integer_dense</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c8b95de65ca3e430835af831040b68924d41bf3b\">c8b95de</a></td><td><code>22924: remove (instead of deprecate) code from linbox.pyx</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fcafa60b4d7331fa832557ae1919df166d84b62c\">fcafa60</a></td><td><code>22924: get rid of spies</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/637fd872a78a7aec0781998a281d4dbbbc0fd7af\">637fd87</a></td><td><code>22924: cleaning in linbox_flint_interface.pyx</code></td></tr></table>\n",
    "created_at": "2017-05-04T07:29:29Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344651",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/55bdc0a6c1d6e24666329258df947875c7ee7d56">55bdc0a</a></td><td><code>Cleaning linbox interface of Matrix_integer_dense</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c8b95de65ca3e430835af831040b68924d41bf3b">c8b95de</a></td><td><code>22924: remove (instead of deprecate) code from linbox.pyx</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fcafa60b4d7331fa832557ae1919df166d84b62c">fcafa60</a></td><td><code>22924: get rid of spies</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/637fd872a78a7aec0781998a281d4dbbbc0fd7af">637fd87</a></td><td><code>22924: cleaning in linbox_flint_interface.pyx</code></td></tr></table>




---

archive/issue_comments_344652.json:
```json
{
    "body": "**Changing commit** from \"[69a140e1d299cc6971ad75e868dd9418083bbc0b](https://github.com/sagemath/sagetrac-mirror/commit/69a140e1d299cc6971ad75e868dd9418083bbc0b)\" to \"[637fd872a78a7aec0781998a281d4dbbbc0fd7af](https://github.com/sagemath/sagetrac-mirror/commit/637fd872a78a7aec0781998a281d4dbbbc0fd7af)\".",
    "created_at": "2017-05-04T07:29:29Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344652",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[69a140e1d299cc6971ad75e868dd9418083bbc0b](https://github.com/sagemath/sagetrac-mirror/commit/69a140e1d299cc6971ad75e868dd9418083bbc0b)" to "[637fd872a78a7aec0781998a281d4dbbbc0fd7af](https://github.com/sagemath/sagetrac-mirror/commit/637fd872a78a7aec0781998a281d4dbbbc0fd7af)".



---

archive/issue_comments_344653.json:
```json
{
    "body": "<a id='comment:15'></a>\nNo dependency on #22886 anymore (it is needed for cylinbox but it is fine for this ticket).\n\nI cleaned the flint interface a bit more than what you asked for.",
    "created_at": "2017-05-04T07:30:36Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344653",
    "user": "https://github.com/videlec"
}
```

<a id='comment:15'></a>
No dependency on #22886 anymore (it is needed for cylinbox but it is fine for this ticket).

I cleaned the flint interface a bit more than what you asked for.



---

archive/issue_comments_344654.json:
```json
{
    "body": "**Changing dependencies** from \"#22886\" to \"\".",
    "created_at": "2017-05-04T07:30:36Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344654",
    "user": "https://github.com/videlec"
}
```

**Changing dependencies** from "#22886" to "".



---

archive/issue_comments_344655.json:
```json
{
    "body": "<a id='comment:16'></a>\nI was wrong (and you were right). There is still `def _poly_linbox(self, typ, var='x'):` as a method of `Matrix_integer_dense`.",
    "created_at": "2017-05-04T07:39:45Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344655",
    "user": "https://github.com/videlec"
}
```

<a id='comment:16'></a>
I was wrong (and you were right). There is still `def _poly_linbox(self, typ, var='x'):` as a method of `Matrix_integer_dense`.



---

archive/issue_comments_344656.json:
```json
{
    "body": "<a id='comment:17'></a>\nBy the way, I am adding tests and LinBox has trouble with the characteristic polynomial of the `0 x 0` matrix\n\n```\nsage: matrix([]).charpoly('y', 'linbox')\nTraceback (most recent call last):\n...\nMemoryError: failed to allocate 2305843008945258512 bytes\n```\nDoes it qualify as a bug? For now, I will add a special case in the interface LinBox/flint.\n\nEDIT: and it hangs forever for `minpoly`.",
    "created_at": "2017-05-04T08:00:06Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344656",
    "user": "https://github.com/videlec"
}
```

<a id='comment:17'></a>
By the way, I am adding tests and LinBox has trouble with the characteristic polynomial of the `0 x 0` matrix

```
sage: matrix([]).charpoly('y', 'linbox')
Traceback (most recent call last):
...
MemoryError: failed to allocate 2305843008945258512 bytes
```
Does it qualify as a bug? For now, I will add a special case in the interface LinBox/flint.

EDIT: and it hangs forever for `minpoly`.



---

archive/issue_comments_344657.json:
```json
{
    "body": "<a id='comment:18'></a>\nFor `minpoly` it is written\n\n```\n        .. NOTE::\n\n           Linbox charpoly disabled on 64-bit machines, since it hangs\n           in many cases.\n```\nHowever, I do not see where this actually happens in the code. Do you know what this is?",
    "created_at": "2017-05-04T08:08:22Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344657",
    "user": "https://github.com/videlec"
}
```

<a id='comment:18'></a>
For `minpoly` it is written

```
        .. NOTE::

           Linbox charpoly disabled on 64-bit machines, since it hangs
           in many cases.
```
However, I do not see where this actually happens in the code. Do you know what this is?



---

archive/issue_comments_344658.json:
```json
{
    "body": "<a id='comment:20'></a>\nUn petit timing\n\n```\nsage: m = random_matrix(ZZ, 50)\nsage: %timeit m._clear_cache(); p = m.charpoly(algorithm='linbox')\n100 loops, best of 3: 16.8 ms per loop\nsage: %timeit m._clear_cache(); p = m.charpoly(algorithm='flint')\n10 loops, best of 3: 44.2 ms per loop\nsage: %timeit m._clear_cache(); p = m.charpoly(algorithm='generic')\n10 loops, best of 3: 152 ms per loop\n```",
    "created_at": "2017-05-04T08:17:41Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344658",
    "user": "https://github.com/videlec"
}
```

<a id='comment:20'></a>
Un petit timing

```
sage: m = random_matrix(ZZ, 50)
sage: %timeit m._clear_cache(); p = m.charpoly(algorithm='linbox')
100 loops, best of 3: 16.8 ms per loop
sage: %timeit m._clear_cache(); p = m.charpoly(algorithm='flint')
10 loops, best of 3: 44.2 ms per loop
sage: %timeit m._clear_cache(); p = m.charpoly(algorithm='generic')
10 loops, best of 3: 152 ms per loop
```



---

archive/issue_comments_344659.json:
```json
{
    "body": "**Changing commit** from \"[637fd872a78a7aec0781998a281d4dbbbc0fd7af](https://github.com/sagemath/sagetrac-mirror/commit/637fd872a78a7aec0781998a281d4dbbbc0fd7af)\" to \"[fde1353a5c22bd3ff3fe50c9df982264b30d505e](https://github.com/sagemath/sagetrac-mirror/commit/fde1353a5c22bd3ff3fe50c9df982264b30d505e)\".",
    "created_at": "2017-05-04T08:18:53Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344659",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[637fd872a78a7aec0781998a281d4dbbbc0fd7af](https://github.com/sagemath/sagetrac-mirror/commit/637fd872a78a7aec0781998a281d4dbbbc0fd7af)" to "[fde1353a5c22bd3ff3fe50c9df982264b30d505e](https://github.com/sagemath/sagetrac-mirror/commit/fde1353a5c22bd3ff3fe50c9df982264b30d505e)".



---

archive/issue_comments_344660.json:
```json
{
    "body": "<a id='comment:21'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fde1353a5c22bd3ff3fe50c9df982264b30d505e\">fde1353</a></td><td><code>22924: clean minpoly/charpoly in Matrix_integer_dense</code></td></tr></table>\n",
    "created_at": "2017-05-04T08:18:53Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344660",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fde1353a5c22bd3ff3fe50c9df982264b30d505e">fde1353</a></td><td><code>22924: clean minpoly/charpoly in Matrix_integer_dense</code></td></tr></table>




---

archive/issue_comments_344661.json:
```json
{
    "body": "<a id='comment:22'></a>\nAll right: `Matrix_integer_dense` cleaned and interface fixed on corner cases with commit `fde1353`.",
    "created_at": "2017-05-04T08:19:34Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344661",
    "user": "https://github.com/videlec"
}
```

<a id='comment:22'></a>
All right: `Matrix_integer_dense` cleaned and interface fixed on corner cases with commit `fde1353`.



---

archive/issue_comments_344662.json:
```json
{
    "body": "<a id='comment:23'></a>\nAnd patchbot is happy (excepted some timeout I am not responsible for).",
    "created_at": "2017-05-04T09:37:33Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344662",
    "user": "https://github.com/videlec"
}
```

<a id='comment:23'></a>
And patchbot is happy (excepted some timeout I am not responsible for).



---

archive/issue_comments_344663.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [vdelecroix](#comment%3A18):\n> For `minpoly` it is written\n> \n> ```\n>         .. NOTE::\n> \n>            Linbox charpoly disabled on 64-bit machines, since it hangs\n>            in many cases.\n> ```\n> However, I do not see where this actually happens in the code. Do you know what this is?\n\n\nIt's a super old comment. Some archeology on trac tickets should tell where it comes from but it's safe to remove it.",
    "created_at": "2017-05-09T14:44:47Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344663",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:24'></a>
Replying to [vdelecroix](#comment%3A18):
> For `minpoly` it is written
> 
> ```
>         .. NOTE::
> 
>            Linbox charpoly disabled on 64-bit machines, since it hangs
>            in many cases.
> ```
> However, I do not see where this actually happens in the code. Do you know what this is?


It's a super old comment. Some archeology on trac tickets should tell where it comes from but it's safe to remove it.



---

archive/issue_comments_344664.json:
```json
{
    "body": "<a id='comment:25'></a>\nThere are a couple of warnings that one could avoid:\n\n```\n[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:313:49: local variable 'res' referenced before assignment\n[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:389:46: local variable 'res' referenced before assignment\n[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:394:42: local variable 'res' referenced before assignment\n[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:398:42: local variable 'res' referenced before assignment\n[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:498:34: local variable 'g' referenced before assignment\n[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:532:32: local variable 'r' referenced before assignment\n[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:534:16: local variable 'r' referenced before assignment\n[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:562:30: local variable 'r' referenced before assignment\n[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:564:16: local variable 'r' referenced before assignment\n[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:717:33: local variable 'r' referenced before assignment\n[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:736:33: local variable 'r' referenced before assignment\n[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:756:35: local variable 'r' referenced before assignment\n[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:1110:39: local variable 'r' referenced before assignment\n[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:1127:39: local variable 'r' referenced before assignment\n[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:1150:39: local variable 'r' referenced before assignment\n[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:1167:39: local variable 'r' referenced before assignment\n[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:1184:39: local variable 'r' referenced before assignment\n[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:1217:35: local variable 'r' referenced before assignment\n[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:1218:59: local variable 'r' referenced before assignment\n[\n```\nBasically, the variables are passed as \"out\" arguments, and cython complains that they are not initialized. It is safe to force their value to 0 at declaration (e.g. `int res = 0;`) and this would silence out the warning.",
    "created_at": "2017-05-09T14:47:17Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344664",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:25'></a>
There are a couple of warnings that one could avoid:

```
[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:313:49: local variable 'res' referenced before assignment
[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:389:46: local variable 'res' referenced before assignment
[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:394:42: local variable 'res' referenced before assignment
[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:398:42: local variable 'res' referenced before assignment
[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:498:34: local variable 'g' referenced before assignment
[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:532:32: local variable 'r' referenced before assignment
[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:534:16: local variable 'r' referenced before assignment
[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:562:30: local variable 'r' referenced before assignment
[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:564:16: local variable 'r' referenced before assignment
[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:717:33: local variable 'r' referenced before assignment
[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:736:33: local variable 'r' referenced before assignment
[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:756:35: local variable 'r' referenced before assignment
[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:1110:39: local variable 'r' referenced before assignment
[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:1127:39: local variable 'r' referenced before assignment
[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:1150:39: local variable 'r' referenced before assignment
[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:1167:39: local variable 'r' referenced before assignment
[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:1184:39: local variable 'r' referenced before assignment
[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:1217:35: local variable 'r' referenced before assignment
[sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:1218:59: local variable 'r' referenced before assignment
[
```
Basically, the variables are passed as "out" arguments, and cython complains that they are not initialized. It is safe to force their value to 0 at declaration (e.g. `int res = 0;`) and this would silence out the warning.



---

archive/issue_comments_344665.json:
```json
{
    "body": "<a id='comment:26'></a>\nReplying to [vdelecroix](#comment%3A17):\n> By the way, I am adding tests and LinBox has trouble with the characteristic polynomial of the `0 x 0` matrix\n> \n> ```\n> sage: matrix([]).charpoly('y', 'linbox')\n> Traceback (most recent call last):\n> ...\n> MemoryError: failed to allocate 2305843008945258512 bytes\n> ```\n> Does it qualify as a bug? For now, I will add a special case in the interface LinBox/flint.\n> \n> EDIT: and it hangs forever for `minpoly`.\n\n\nThis is definitely a bug. Reported upstream: [https://github.com/linbox-team/linbox/issues/51](https://github.com/linbox-team/linbox/issues/51)",
    "created_at": "2017-05-09T14:52:07Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344665",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:26'></a>
Replying to [vdelecroix](#comment%3A17):
> By the way, I am adding tests and LinBox has trouble with the characteristic polynomial of the `0 x 0` matrix
> 
> ```
> sage: matrix([]).charpoly('y', 'linbox')
> Traceback (most recent call last):
> ...
> MemoryError: failed to allocate 2305843008945258512 bytes
> ```
> Does it qualify as a bug? For now, I will add a special case in the interface LinBox/flint.
> 
> EDIT: and it hangs forever for `minpoly`.


This is definitely a bug. Reported upstream: [https://github.com/linbox-team/linbox/issues/51](https://github.com/linbox-team/linbox/issues/51)



---

archive/issue_comments_344666.json:
```json
{
    "body": "<a id='comment:27'></a>\nIn `linbox_flint_interface.pyx` lines 84 and 157, you seem to use the method `size` of `givvector` to get the degree of the corresponding polynomial. While this is very likely to be correct in the current code, the specification do not require that the size of the vector storing the polynomial is ajusted to its degree. One should rather use `Givaro::Poly1Dom::degree()` instead.",
    "created_at": "2017-05-09T15:36:58Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344666",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:27'></a>
In `linbox_flint_interface.pyx` lines 84 and 157, you seem to use the method `size` of `givvector` to get the degree of the corresponding polynomial. While this is very likely to be correct in the current code, the specification do not require that the size of the vector storing the polynomial is ajusted to its degree. One should rather use `Givaro::Poly1Dom::degree()` instead.



---

archive/issue_comments_344667.json:
```json
{
    "body": "<a id='comment:28'></a>\nReplying to [cpernet](#comment%3A25):\n> There are a couple of warnings that one could avoid:\n> \n> ```\n> [sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:313:49: local variable 'res' referenced before assignment\n> ...\n> ```\n> Basically, the variables are passed as \"out\" arguments, and cython complains that they are not initialized. It is safe to force their value to 0 at declaration (e.g. `int res = 0;`) and this would silence out the warning.\n\n\nYes, but these warnings have nothing to do with this ticket. Feel free to open another one to deal with `rings/finite_rings` (and put me in cc if you do).",
    "created_at": "2017-05-09T18:41:22Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344667",
    "user": "https://github.com/videlec"
}
```

<a id='comment:28'></a>
Replying to [cpernet](#comment%3A25):
> There are a couple of warnings that one could avoid:
> 
> ```
> [sagelib-8.0.beta4] warning: sage/rings/finite_rings/element_givaro.pyx:313:49: local variable 'res' referenced before assignment
> ...
> ```
> Basically, the variables are passed as "out" arguments, and cython complains that they are not initialized. It is safe to force their value to 0 at declaration (e.g. `int res = 0;`) and this would silence out the warning.


Yes, but these warnings have nothing to do with this ticket. Feel free to open another one to deal with `rings/finite_rings` (and put me in cc if you do).



---

archive/issue_comments_344668.json:
```json
{
    "body": "<a id='comment:29'></a>\nReplying to [cpernet](#comment%3A27):\n> In `linbox_flint_interface.pyx` lines 84 and 157, you seem to use the method `size` of `givvector` to get the degree of the corresponding polynomial. While this is very likely to be correct in the current code, the specification do not require that the size of the vector storing the polynomial is ajusted to its degree. One should rather use `Givaro::Poly1Dom::degree()` instead.\n\n\nIn LinBox code there are two occurrences of `v.size()` in `examples/charpoly.C` for a `const Polynomial &v` (lines 47 and 57). Idem in `examples/minpoly.C` (line 36). Are these also wrong?\n\nHow am I supposed to use `degree`? I was able to do it 7 lines in Cython... it looks extremely complicated to get such elementary quantity.\n\n```\ncdef GivaroIntegerRing ZZ\ncdef GivaroDegree deg\ncdef LinBoxIntegerPolynomialRing * R\nR = new LinBoxIntegerPolynomialRing(ZZ)\nR.degree(deg, q)\ndel R\ncdef size_t length = deg.value() + 1\n```",
    "created_at": "2017-05-09T19:29:21Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344668",
    "user": "https://github.com/videlec"
}
```

<a id='comment:29'></a>
Replying to [cpernet](#comment%3A27):
> In `linbox_flint_interface.pyx` lines 84 and 157, you seem to use the method `size` of `givvector` to get the degree of the corresponding polynomial. While this is very likely to be correct in the current code, the specification do not require that the size of the vector storing the polynomial is ajusted to its degree. One should rather use `Givaro::Poly1Dom::degree()` instead.


In LinBox code there are two occurrences of `v.size()` in `examples/charpoly.C` for a `const Polynomial &v` (lines 47 and 57). Idem in `examples/minpoly.C` (line 36). Are these also wrong?

How am I supposed to use `degree`? I was able to do it 7 lines in Cython... it looks extremely complicated to get such elementary quantity.

```
cdef GivaroIntegerRing ZZ
cdef GivaroDegree deg
cdef LinBoxIntegerPolynomialRing * R
R = new LinBoxIntegerPolynomialRing(ZZ)
R.degree(deg, q)
del R
cdef size_t length = deg.value() + 1
```



---

archive/issue_comments_344669.json:
```json
{
    "body": "**Changing commit** from \"[fde1353a5c22bd3ff3fe50c9df982264b30d505e](https://github.com/sagemath/sagetrac-mirror/commit/fde1353a5c22bd3ff3fe50c9df982264b30d505e)\" to \"[6b45893cfec10b3bc20cc44a64233f66e0cf0d8a](https://github.com/sagemath/sagetrac-mirror/commit/6b45893cfec10b3bc20cc44a64233f66e0cf0d8a)\".",
    "created_at": "2017-05-09T19:37:02Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344669",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[fde1353a5c22bd3ff3fe50c9df982264b30d505e](https://github.com/sagemath/sagetrac-mirror/commit/fde1353a5c22bd3ff3fe50c9df982264b30d505e)" to "[6b45893cfec10b3bc20cc44a64233f66e0cf0d8a](https://github.com/sagemath/sagetrac-mirror/commit/6b45893cfec10b3bc20cc44a64233f66e0cf0d8a)".



---

archive/issue_comments_344670.json:
```json
{
    "body": "<a id='comment:30'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a75ec910414f17772072ea13d57fb11117877c16\">a75ec91</a></td><td><code>22924: better FIXME message</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b45893cfec10b3bc20cc44a64233f66e0cf0d8a\">6b45893</a></td><td><code>22924: compute length from degree</code></td></tr></table>\n",
    "created_at": "2017-05-09T19:37:02Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344670",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a75ec910414f17772072ea13d57fb11117877c16">a75ec91</a></td><td><code>22924: better FIXME message</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b45893cfec10b3bc20cc44a64233f66e0cf0d8a">6b45893</a></td><td><code>22924: compute length from degree</code></td></tr></table>




---

archive/issue_comments_344671.json:
```json
{
    "body": "<a id='comment:31'></a>\nI implemented your remarks. Though, I do not think that `6b45893` is reasonable.",
    "created_at": "2017-05-09T19:38:26Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344671",
    "user": "https://github.com/videlec"
}
```

<a id='comment:31'></a>
I implemented your remarks. Though, I do not think that `6b45893` is reasonable.



---

archive/issue_comments_344672.json:
```json
{
    "body": "<a id='comment:32'></a>\nReplying to [vdelecroix](#comment%3A31):\n> I implemented your remarks. Though, I do not think that `6b45893` is reasonable.\n\n\nOk this seems indeed quite tedious. After browsing through the current use of size() for degree in LinBox, I would say it's rather safe to assume that the vector has been resized and therefore that the `size` method would return the degree. I was probably being too pedantic, sorry. I suggest to drop `6b45893`.",
    "created_at": "2017-05-09T20:01:15Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344672",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:32'></a>
Replying to [vdelecroix](#comment%3A31):
> I implemented your remarks. Though, I do not think that `6b45893` is reasonable.


Ok this seems indeed quite tedious. After browsing through the current use of size() for degree in LinBox, I would say it's rather safe to assume that the vector has been resized and therefore that the `size` method would return the degree. I was probably being too pedantic, sorry. I suggest to drop `6b45893`.



---

archive/issue_comments_344673.json:
```json
{
    "body": "<a id='comment:33'></a>\nReplying to [vdelecroix](#comment%3A28):\n> Yes, but these warnings have nothing to do with this ticket. Feel free to open another one to deal with `rings/finite_rings` (and put me in cc if you do).\n\nMy bad, I thought they were introduced in your new code. Will open a new ticket",
    "created_at": "2017-05-09T20:02:30Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344673",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:33'></a>
Replying to [vdelecroix](#comment%3A28):
> Yes, but these warnings have nothing to do with this ticket. Feel free to open another one to deal with `rings/finite_rings` (and put me in cc if you do).

My bad, I thought they were introduced in your new code. Will open a new ticket



---

archive/issue_comments_344674.json:
```json
{
    "body": "**Changing commit** from \"[6b45893cfec10b3bc20cc44a64233f66e0cf0d8a](https://github.com/sagemath/sagetrac-mirror/commit/6b45893cfec10b3bc20cc44a64233f66e0cf0d8a)\" to \"[a75ec910414f17772072ea13d57fb11117877c16](https://github.com/sagemath/sagetrac-mirror/commit/a75ec910414f17772072ea13d57fb11117877c16)\".",
    "created_at": "2017-05-09T20:11:25Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344674",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6b45893cfec10b3bc20cc44a64233f66e0cf0d8a](https://github.com/sagemath/sagetrac-mirror/commit/6b45893cfec10b3bc20cc44a64233f66e0cf0d8a)" to "[a75ec910414f17772072ea13d57fb11117877c16](https://github.com/sagemath/sagetrac-mirror/commit/a75ec910414f17772072ea13d57fb11117877c16)".



---

archive/issue_comments_344675.json:
```json
{
    "body": "<a id='comment:34'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** New commits:",
    "created_at": "2017-05-09T20:11:25Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344675",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** New commits:



---

archive/issue_comments_344676.json:
```json
{
    "body": "<a id='comment:35'></a>\nAlso, I see some new code not directly related to the subject of the ticket (e.g. in `_rational_kernel_flint`, `rational_kernel_iml`), but this is rather ok for me as it is documentation improvement on routines related to the ticket).",
    "created_at": "2017-05-09T20:12:05Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344676",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:35'></a>
Also, I see some new code not directly related to the subject of the ticket (e.g. in `_rational_kernel_flint`, `rational_kernel_iml`), but this is rather ok for me as it is documentation improvement on routines related to the ticket).



---

archive/issue_comments_344677.json:
```json
{
    "body": "<a id='comment:36'></a>\nReplying to [cpernet](#comment%3A32):\n> Replying to [vdelecroix](#comment%3A31):\n> > I implemented your remarks. Though, I do not think that `6b45893` is reasonable.\n\n> \n> Ok this seems indeed quite tedious. After browsing through the current use of size() for degree in LinBox, I would say it's rather safe to assume that the vector has been resized and therefore that the `size` method would return the degree. I was probably being too pedantic, sorry. I suggest to drop `6b45893`.\n\n\nI dropped it.\n\nIt would be fine for me to use `degree` however it is horribly complicated. Why is there a class `Degree` that is a trivial wrapper around a `int64_t`? Why could we not use `degree` directly as a method of a polynomial?",
    "created_at": "2017-05-09T20:14:12Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344677",
    "user": "https://github.com/videlec"
}
```

<a id='comment:36'></a>
Replying to [cpernet](#comment%3A32):
> Replying to [vdelecroix](#comment%3A31):
> > I implemented your remarks. Though, I do not think that `6b45893` is reasonable.

> 
> Ok this seems indeed quite tedious. After browsing through the current use of size() for degree in LinBox, I would say it's rather safe to assume that the vector has been resized and therefore that the `size` method would return the degree. I was probably being too pedantic, sorry. I suggest to drop `6b45893`.


I dropped it.

It would be fine for me to use `degree` however it is horribly complicated. Why is there a class `Degree` that is a trivial wrapper around a `int64_t`? Why could we not use `degree` directly as a method of a polynomial?



---

archive/issue_comments_344678.json:
```json
{
    "body": "<a id='comment:37'></a>\nReplying to [cpernet](#comment%3A35):\n> Also, I see some new code not directly related to the subject of the ticket (e.g. in `_rational_kernel_flint`, `rational_kernel_iml`), but this is rather ok for me as it is documentation improvement on routines related to the ticket).\n\n\nIt is. `_rational_kernel_iml` now uses `fmpz_mat_to_mpz_array` that was introduced in the ticket.",
    "created_at": "2017-05-09T20:15:45Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344678",
    "user": "https://github.com/videlec"
}
```

<a id='comment:37'></a>
Replying to [cpernet](#comment%3A35):
> Also, I see some new code not directly related to the subject of the ticket (e.g. in `_rational_kernel_flint`, `rational_kernel_iml`), but this is rather ok for me as it is documentation improvement on routines related to the ticket).


It is. `_rational_kernel_iml` now uses `fmpz_mat_to_mpz_array` that was introduced in the ticket.



---

archive/issue_comments_344679.json:
```json
{
    "body": "<a id='comment:38'></a>\nReplying to [vdelecroix](#comment%3A28):\n> Feel free to open another one to deal with `rings/finite_rings` (and put me in cc if you do).\n\nDone in #22966.",
    "created_at": "2017-05-10T05:37:33Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344679",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:38'></a>
Replying to [vdelecroix](#comment%3A28):
> Feel free to open another one to deal with `rings/finite_rings` (and put me in cc if you do).

Done in #22966.



---

archive/issue_comments_344680.json:
```json
{
    "body": "<a id='comment:39'></a>\nLet me try an explanation for this mess (which I agree should be simplified):\n\nReplying to [vdelecroix](#comment%3A36):\n> Why is there a class `Degree` that is a trivial wrapper around a `int64_t`? \n\nI would have said: so as to deal with the degree of the 0 polynomial which is -1 and not size()-1=0 \n\n> Why could we not use `degree` directly as a method of a polynomial?\n\n\nI assume because in Givaro (and the whole LinBox ecosystem), the container (here `givvector` does not know about the semantic). It is the domain of computation (here `GivPoly1Dom` who does).",
    "created_at": "2017-05-10T06:05:07Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344680",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:39'></a>
Let me try an explanation for this mess (which I agree should be simplified):

Replying to [vdelecroix](#comment%3A36):
> Why is there a class `Degree` that is a trivial wrapper around a `int64_t`? 

I would have said: so as to deal with the degree of the 0 polynomial which is -1 and not size()-1=0 

> Why could we not use `degree` directly as a method of a polynomial?


I assume because in Givaro (and the whole LinBox ecosystem), the container (here `givvector` does not know about the semantic). It is the domain of computation (here `GivPoly1Dom` who does).



---

archive/issue_comments_344681.json:
```json
{
    "body": "<a id='comment:40'></a>\nReplying to [cpernet](#comment%3A39):\n> Let me try an explanation for this mess (which I agree should be simplified):\n> \n> Replying to [vdelecroix](#comment%3A36):\n> > Why is there a class `Degree` that is a trivial wrapper around a `int64_t`? \n\n> I would have said: so as to deal with the degree of the 0 polynomial which is -1 and not size()-1=0 \n\nIn LinBox you have `size(0) = 1`!? Why would you store the zero at all?\n\n> > Why could we not use `degree` directly as a method of a polynomial?\n\n> \n> I assume because in Givaro (and the whole LinBox ecosystem), the container (here `givvector` does not know about the semantic). It is the domain of computation (here `GivPoly1Dom` who does).\n\n\nI see. This way is indeed more flexible.",
    "created_at": "2017-05-10T09:04:43Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344681",
    "user": "https://github.com/videlec"
}
```

<a id='comment:40'></a>
Replying to [cpernet](#comment%3A39):
> Let me try an explanation for this mess (which I agree should be simplified):
> 
> Replying to [vdelecroix](#comment%3A36):
> > Why is there a class `Degree` that is a trivial wrapper around a `int64_t`? 

> I would have said: so as to deal with the degree of the 0 polynomial which is -1 and not size()-1=0 

In LinBox you have `size(0) = 1`!? Why would you store the zero at all?

> > Why could we not use `degree` directly as a method of a polynomial?

> 
> I assume because in Givaro (and the whole LinBox ecosystem), the container (here `givvector` does not know about the semantic). It is the domain of computation (here `GivPoly1Dom` who does).


I see. This way is indeed more flexible.



---

archive/issue_comments_344682.json:
```json
{
    "body": "<a id='comment:41'></a>\nTell me if there are other improvements to be done on this ticket.",
    "created_at": "2017-05-10T09:05:07Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344682",
    "user": "https://github.com/videlec"
}
```

<a id='comment:41'></a>
Tell me if there are other improvements to be done on this ticket.



---

archive/issue_comments_344683.json:
```json
{
    "body": "<a id='comment:42'></a>\nReplying to [vdelecroix](#comment%3A40):\n> > I would have said: so as to deal with the degree of the 0 polynomial which is -1 and not size()-1=0 \n\n> \n> In LinBox you have `size(0) = 1`!? Why would you store the zero at all?\n\n\nMy mistake. Givaro actually resizes the 0 polynomial to an empty vector, so `size-1` is always equal to the degree.\n\nAfter a discussion with J-G. Dumas on the topic here are a few clarifications:\n* the degree can be accessed in two ways: \n   1. either through `Poly1Dom<..>::degree which silently resize the vector when there are leading zeros.\n   2. direcrly by `P.size()-1`  when the programmer knows what she does and does not want to pay the price of a resize.\n\n So it's fine to do it with `size()-1` as in this ticket, since we know the polynomials handed by LinBox have correct size in this case.\n* The class `Degree` was meant to provide a distinct type than the int64_t returned by size, in order to avoid mixing both approaches. Still the class is not quite satisfactory for the moment (degree (0 + 0)=-2 != -1). This has been fixed upstream in [https://github.com/linbox-team/givaro/commit/756005d0be64c36513c57403b856d93fc43c8010](https://github.com/linbox-team/givaro/commit/756005d0be64c36513c57403b856d93fc43c8010)",
    "created_at": "2017-05-10T09:26:54Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344683",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:42'></a>
Replying to [vdelecroix](#comment%3A40):
> > I would have said: so as to deal with the degree of the 0 polynomial which is -1 and not size()-1=0 

> 
> In LinBox you have `size(0) = 1`!? Why would you store the zero at all?


My mistake. Givaro actually resizes the 0 polynomial to an empty vector, so `size-1` is always equal to the degree.

After a discussion with J-G. Dumas on the topic here are a few clarifications:
* the degree can be accessed in two ways: 
   1. either through `Poly1Dom<..>::degree which silently resize the vector when there are leading zeros.
   2. direcrly by `P.size()-1`  when the programmer knows what she does and does not want to pay the price of a resize.

 So it's fine to do it with `size()-1` as in this ticket, since we know the polynomials handed by LinBox have correct size in this case.
* The class `Degree` was meant to provide a distinct type than the int64_t returned by size, in order to avoid mixing both approaches. Still the class is not quite satisfactory for the moment (degree (0 + 0)=-2 != -1). This has been fixed upstream in [https://github.com/linbox-team/givaro/commit/756005d0be64c36513c57403b856d93fc43c8010](https://github.com/linbox-team/givaro/commit/756005d0be64c36513c57403b856d93fc43c8010)



---

archive/issue_events_204274.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2017-05-10T09:33:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22924#event-204274"
}
```



---

archive/issue_events_204275.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2017-05-10T09:33:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22924#event-204275"
}
```



---

archive/issue_comments_344684.json:
```json
{
    "body": "<a id='comment:43'></a>\nOk, the ticket is now fine for me. -> positive review.",
    "created_at": "2017-05-10T09:33:06Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344684",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:43'></a>
Ok, the ticket is now fine for me. -> positive review.



---

archive/issue_events_204276.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2017-05-10T12:53:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22924#event-204276"
}
```



---

archive/issue_events_204277.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2017-05-10T12:53:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22924#event-204277"
}
```



---

archive/issue_comments_344685.json:
```json
{
    "body": "<a id='comment:44'></a>\nSorry, two minor documentation typos to be fixed in `src/sage/libs/linbox/linbox_flint_interface.pyx`: \n* line 10 \"linbox-Sage.C\" -> \"linbox-sage.C\"\n* line 128 \"preformed\" -> \"performed\"\nBack in needs work.",
    "created_at": "2017-05-10T12:53:51Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344685",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:44'></a>
Sorry, two minor documentation typos to be fixed in `src/sage/libs/linbox/linbox_flint_interface.pyx`: 
* line 10 "linbox-Sage.C" -> "linbox-sage.C"
* line 128 "preformed" -> "performed"
Back in needs work.



---

archive/issue_comments_344686.json:
```json
{
    "body": "<a id='comment:45'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0b082c2d7aac83d91253a450cd81e7accf13d76b\">0b082c2</a></td><td><code>22924: typos</code></td></tr></table>\n",
    "created_at": "2017-05-11T06:33:09Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344686",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:45'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0b082c2d7aac83d91253a450cd81e7accf13d76b">0b082c2</a></td><td><code>22924: typos</code></td></tr></table>




---

archive/issue_comments_344687.json:
```json
{
    "body": "**Changing commit** from \"[a75ec910414f17772072ea13d57fb11117877c16](https://github.com/sagemath/sagetrac-mirror/commit/a75ec910414f17772072ea13d57fb11117877c16)\" to \"[0b082c2d7aac83d91253a450cd81e7accf13d76b](https://github.com/sagemath/sagetrac-mirror/commit/0b082c2d7aac83d91253a450cd81e7accf13d76b)\".",
    "created_at": "2017-05-11T06:33:09Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344687",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a75ec910414f17772072ea13d57fb11117877c16](https://github.com/sagemath/sagetrac-mirror/commit/a75ec910414f17772072ea13d57fb11117877c16)" to "[0b082c2d7aac83d91253a450cd81e7accf13d76b](https://github.com/sagemath/sagetrac-mirror/commit/0b082c2d7aac83d91253a450cd81e7accf13d76b)".



---

archive/issue_events_204278.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-05-11T06:34:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22924#event-204278"
}
```



---

archive/issue_events_204279.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-05-11T06:34:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22924#event-204279"
}
```



---

archive/issue_comments_344688.json:
```json
{
    "body": "<a id='comment:47'></a>\nFine then, back to positive review.",
    "created_at": "2017-05-11T07:02:53Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344688",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:47'></a>
Fine then, back to positive review.



---

archive/issue_events_204280.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2017-05-11T07:02:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22924#event-204280"
}
```



---

archive/issue_events_204281.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2017-05-11T07:02:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22924#event-204281"
}
```



---

archive/issue_comments_344689.json:
```json
{
    "body": "<a id='comment:48'></a>\nThanks for the review!",
    "created_at": "2017-05-11T09:37:44Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344689",
    "user": "https://github.com/videlec"
}
```

<a id='comment:48'></a>
Thanks for the review!



---

archive/issue_comments_344690.json:
```json
{
    "body": "**Changing branch** from \"[u/vdelecroix/22924](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/22924)\" to \"[0b082c2d7aac83d91253a450cd81e7accf13d76b](https://github.com/sagemath/sagetrac-mirror/commit/0b082c2d7aac83d91253a450cd81e7accf13d76b)\".",
    "created_at": "2017-05-14T08:20:04Z",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22924#issuecomment-344690",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/vdelecroix/22924](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/22924)" to "[0b082c2d7aac83d91253a450cd81e7accf13d76b](https://github.com/sagemath/sagetrac-mirror/commit/0b082c2d7aac83d91253a450cd81e7accf13d76b)".



---

archive/issue_events_204282.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-05-14T08:20:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22924#event-204282"
}
```



---

archive/issue_events_204283.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "a4c2335a8c7640bfe831d240549118296fee254f",
    "created_at": "2017-05-14T08:20:04Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/22924",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22924#event-204283"
}
```
