# Issue 22390: Support for unary plus in sage_input expressions

archive/issues_022153.json:
```json
{
    "body": "This ticket adds support for unary plus in sage_input expressions.\n\nCC:  @videlec @vbraun @tscrim\n\nBranch/Commit: fcbc4789c76b7e4abace550ff4890595809e5272\n\nReviewer: Vincent Delecroix\n\nAuthor: Matthias Koeppe\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/22390\n\n",
    "closed_at": "2020-03-18T22:40:48Z",
    "created_at": "2017-02-18T19:16:18Z",
    "labels": [
        "component: symbolics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "Support for unary plus in sage_input expressions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22390",
    "user": "https://github.com/mkoeppe"
}
```
This ticket adds support for unary plus in sage_input expressions.

CC:  @videlec @vbraun @tscrim

Branch/Commit: fcbc4789c76b7e4abace550ff4890595809e5272

Reviewer: Vincent Delecroix

Author: Matthias Koeppe

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/22390





---

archive/issue_comments_415298.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/support_for_unary_plus_in_sage_input_expressions\"",
    "created_at": "2017-02-18T19:17:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22390#issuecomment-415298",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/support_for_unary_plus_in_sage_input_expressions"



---

archive/issue_comments_415299.json:
```json
{
    "body": "Changing commit from \"\" to \"94366b0b3fe02bc42ef1e188653b1cc850ac0a67\"",
    "created_at": "2017-02-18T19:19:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22390#issuecomment-415299",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "" to "94366b0b3fe02bc42ef1e188653b1cc850ac0a67"



---

archive/issue_comments_415300.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-02-18T19:19:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22390#issuecomment-415300",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_415301.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2017-02-18T19:19:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22390#issuecomment-415301",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_415302.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-\n+This ticket adds support for unary plus in sage_input expressions.\n \n Comment: 1\n \n``````\n",
    "created_at": "2017-02-18T19:19:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22390#issuecomment-415302",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-
+This ticket adds support for unary plus in sage_input expressions.
 
 Comment: 1
 
``````




---

archive/issue_comments_415303.json:
```json
{
    "body": "<a id='comment:2'></a>New commits:",
    "created_at": "2017-02-18T19:19:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22390#issuecomment-415303",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>New commits:



---

archive/issue_events_058617.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-09-22T03:47:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22390#event-58617"
}
```



---

archive/issue_comments_415304.json:
```json
{
    "body": "<a id='comment:5'></a>\n```\n+        elif op == '+':\n+            prec = _prec_negate\n```\nShouldn't there be instead a\n\n```diff\n_prec_negate = 28\n+_prec_positive = 29\n_prec_bitnot = 30\n```\n(BTW the section 5.14 of the Python reference manual is now 6.16 \"Operator precedence\")",
    "created_at": "2020-02-22T15:27:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22390#issuecomment-415304",
    "user": "https://github.com/videlec"
}
```

<a id='comment:5'></a>
```
+        elif op == '+':
+            prec = _prec_negate
```
Shouldn't there be instead a

```diff
_prec_negate = 28
+_prec_positive = 29
_prec_bitnot = 30
```
(BTW the section 5.14 of the Python reference manual is now 6.16 "Operator precedence")



---

archive/issue_comments_415305.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2020-02-22T15:27:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22390#issuecomment-415305",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_events_058618.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-02-22T15:27:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22390#event-58618"
}
```



---

archive/issue_events_058619.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2020-02-22T15:27:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22390#event-58619"
}
```



---

archive/issue_comments_415306.json:
```json
{
    "body": "<a id='comment:7'></a>Sorry, I lost track of this ticket. Also, minor point but since this is considered formal writing `don't` -> `do not`, and also `unary +.::` -> `unary +::` as the `.::` will become `.:` in the compiled documentation. If you really want the period, then use `unary +. ::` will get rid of the colon in the compiled doc.",
    "created_at": "2020-02-23T00:08:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22390#issuecomment-415306",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>Sorry, I lost track of this ticket. Also, minor point but since this is considered formal writing `don't` -> `do not`, and also `unary +.::` -> `unary +::` as the `.::` will become `.:` in the compiled documentation. If you really want the period, then use `unary +. ::` will get rid of the colon in the compiled doc.



---

archive/issue_comments_415307.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-02-24T16:56:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22390#issuecomment-415307",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_415308.json:
```json
{
    "body": "Changing commit from \"94366b0b3fe02bc42ef1e188653b1cc850ac0a67\" to \"8c6012dc067ce0c92cd271757be79ff6b5bd44cc\"",
    "created_at": "2020-02-24T16:56:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22390#issuecomment-415308",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "94366b0b3fe02bc42ef1e188653b1cc850ac0a67" to "8c6012dc067ce0c92cd271757be79ff6b5bd44cc"



---

archive/issue_comments_415309.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-24T17:02:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22390#issuecomment-415309",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415310.json:
```json
{
    "body": "Changing commit from \"8c6012dc067ce0c92cd271757be79ff6b5bd44cc\" to \"64e741d7e9f7974d45ba16c7fc232c4a34b5ccd4\"",
    "created_at": "2020-02-24T17:02:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22390#issuecomment-415310",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8c6012dc067ce0c92cd271757be79ff6b5bd44cc" to "64e741d7e9f7974d45ba16c7fc232c4a34b5ccd4"



---

archive/issue_comments_415311.json:
```json
{
    "body": "<a id='comment:10'></a>Replying to [comment:5 vdelecroix]:\n> {{{\n> +        elif op == '+':\n> +            prec = _prec_negate\n> }}}\n> Shouldn't there be instead a\n> \n> ```diff\n> _prec_negate = 28\n> +_prec_positive = 29\n> _prec_bitnot = 30\n> ```\n\n\nNo, both in Python 2 and Python 3 unary + and - have the same precedence. (Also ~ (bitnot) has the same precedence as these two, but I consider it outside the scope of this ticket to fix this.)",
    "created_at": "2020-02-24T17:06:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22390#issuecomment-415311",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>Replying to [comment:5 vdelecroix]:
> {{{
> +        elif op == '+':
> +            prec = _prec_negate
> }}}
> Shouldn't there be instead a
> 
> ```diff
> _prec_negate = 28
> +_prec_positive = 29
> _prec_bitnot = 30
> ```


No, both in Python 2 and Python 3 unary + and - have the same precedence. (Also ~ (bitnot) has the same precedence as these two, but I consider it outside the scope of this ticket to fix this.)



---

archive/issue_comments_415312.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-24T17:08:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22390#issuecomment-415312",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415313.json:
```json
{
    "body": "Changing commit from \"64e741d7e9f7974d45ba16c7fc232c4a34b5ccd4\" to \"fcbc4789c76b7e4abace550ff4890595809e5272\"",
    "created_at": "2020-02-24T17:08:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22390#issuecomment-415313",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "64e741d7e9f7974d45ba16c7fc232c4a34b5ccd4" to "fcbc4789c76b7e4abace550ff4890595809e5272"



---

archive/issue_comments_415314.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2020-02-24T17:08:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22390#issuecomment-415314",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_415315.json:
```json
{
    "body": "<a id='comment:13'></a>Ready for review",
    "created_at": "2020-03-01T00:05:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22390#issuecomment-415315",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>Ready for review



---

archive/issue_comments_415316.json:
```json
{
    "body": "<a id='comment:14'></a>Is there still an interest in this ticket?",
    "created_at": "2020-03-15T18:44:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22390#issuecomment-415316",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>Is there still an interest in this ticket?



---

archive/issue_comments_415317.json:
```json
{
    "body": "<a id='comment:15'></a>Sure, but I am confused about the priorities.",
    "created_at": "2020-03-15T19:07:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22390#issuecomment-415317",
    "user": "https://github.com/videlec"
}
```

<a id='comment:15'></a>Sure, but I am confused about the priorities.



---

archive/issue_comments_415318.json:
```json
{
    "body": "<a id='comment:16'></a>(I meant operator precedence)",
    "created_at": "2020-03-15T19:08:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22390#issuecomment-415318",
    "user": "https://github.com/videlec"
}
```

<a id='comment:16'></a>(I meant operator precedence)



---

archive/issue_comments_415319.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Vincent Delecroix\"",
    "created_at": "2020-03-15T19:11:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22390#issuecomment-415319",
    "user": "https://github.com/videlec"
}
```

Changing reviewer from "" to "Vincent Delecroix"



---

archive/issue_comments_415320.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-03-15T19:11:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22390#issuecomment-415320",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_415321.json:
```json
{
    "body": "<a id='comment:19'></a>Thank you!",
    "created_at": "2020-03-15T19:13:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22390#issuecomment-415321",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:19'></a>Thank you!



---

archive/issue_comments_415322.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-03-18T22:40:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22390#issuecomment-415322",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_058620.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-03-18T22:40:48Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22390#event-58620"
}
```



---

archive/issue_comments_415323.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/support_for_unary_plus_in_sage_input_expressions\" to \"fcbc4789c76b7e4abace550ff4890595809e5272\"",
    "created_at": "2020-03-18T22:40:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22390",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22390#issuecomment-415323",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/support_for_unary_plus_in_sage_input_expressions" to "fcbc4789c76b7e4abace550ff4890595809e5272"
