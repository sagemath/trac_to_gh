# Issue 22222: Remove _pari_instance global

archive/issues_021985.json:
```json
{
    "body": "The `_pari_instance` global in `src/sage/libs/cypari2/pari_instance.pxd` was introduced as temporary workaround. Ideally, it should not be needed.\n\nSince many of the uses of `pari_instance` involve lists, I decided to create a new function `cdef Gen list_of_Gens_to_Gen(list s)` for fast conversion of a Python list of `Gen`s to a `Gen`. This function is in turn called from `objtogen`.\n\nCC:  @defeo @videlec\n\nBranch/Commit: 98869b4f83de894281bf164016d7ef9a2f4b3227\n\nReviewer: Luca De Feo\n\nAuthor: Jeroen Demeyer\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/22222\n\n",
    "closed_at": "2017-02-04T19:25:48Z",
    "created_at": "2017-01-21T11:42:44Z",
    "labels": [
        "component: interfaces"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.6",
    "title": "Remove _pari_instance global",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22222",
    "user": "https://github.com/jdemeyer"
}
```
The `_pari_instance` global in `src/sage/libs/cypari2/pari_instance.pxd` was introduced as temporary workaround. Ideally, it should not be needed.

Since many of the uses of `pari_instance` involve lists, I decided to create a new function `cdef Gen list_of_Gens_to_Gen(list s)` for fast conversion of a Python list of `Gen`s to a `Gen`. This function is in turn called from `objtogen`.

CC:  @defeo @videlec

Branch/Commit: 98869b4f83de894281bf164016d7ef9a2f4b3227

Reviewer: Luca De Feo

Author: Jeroen Demeyer

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/22222





---

archive/issue_comments_325240.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-\n+The `_pari_instance` global in `src/sage/libs/cypari2/pari_instance.pxd` was introduced as temporary workaround. Ideally, it should not be needed.\n \n Comment: 1\n \n```\n",
    "created_at": "2017-01-23T09:47:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22222#issuecomment-325240",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,4 @@
-
+The `_pari_instance` global in `src/sage/libs/cypari2/pari_instance.pxd` was introduced as temporary workaround. Ideally, it should not be needed.
 
 Comment: 1
 
```




---

archive/issue_comments_325241.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n+The `_pari_instance` global in `src/sage/libs/cypari2/pari_instance.pxd` was introduced as temporary workaround. Ideally, it should not be needed.\n \n+Since many of the uses of `pari_instance` involve lists, I decided to create a new function `cdef Gen listtogen(list s)` for fast conversion of a Python list to a `Gen`. This function is in turn called from `objtogen`.\n \n Comment: 1\n \n```\n",
    "created_at": "2017-01-23T10:27:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22222#issuecomment-325241",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,6 @@
+The `_pari_instance` global in `src/sage/libs/cypari2/pari_instance.pxd` was introduced as temporary workaround. Ideally, it should not be needed.
 
+Since many of the uses of `pari_instance` involve lists, I decided to create a new function `cdef Gen listtogen(list s)` for fast conversion of a Python list to a `Gen`. This function is in turn called from `objtogen`.
 
 Comment: 1
 
```




---

archive/issue_comments_325242.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n+The `_pari_instance` global in `src/sage/libs/cypari2/pari_instance.pxd` was introduced as temporary workaround. Ideally, it should not be needed.\n \n+Since many of the uses of `pari_instance` involve lists, I decided to create a new function `cdef Gen list_of_Gens_to_Gen(list s)` for fast conversion of a Python list of `Gen`s to a `Gen`. This function is in turn called from `objtogen`.\n \n Comment: 1\n \n```\n",
    "created_at": "2017-01-23T14:59:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22222#issuecomment-325242",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,6 @@
+The `_pari_instance` global in `src/sage/libs/cypari2/pari_instance.pxd` was introduced as temporary workaround. Ideally, it should not be needed.
 
+Since many of the uses of `pari_instance` involve lists, I decided to create a new function `cdef Gen list_of_Gens_to_Gen(list s)` for fast conversion of a Python list of `Gen`s to a `Gen`. This function is in turn called from `objtogen`.
 
 Comment: 1
 
```




---

archive/issue_comments_325243.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-01-23T16:14:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22222#issuecomment-325243",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_325244.json:
```json
{
    "body": "<a id='comment:7'></a>New commits:",
    "created_at": "2017-01-23T16:14:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22222#issuecomment-325244",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'></a>New commits:



---

archive/issue_comments_325245.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-01-26T07:03:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22222#issuecomment-325245",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_325246.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-02-02T16:26:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22222#issuecomment-325246",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_325247.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-02-02T16:27:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22222#issuecomment-325247",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_325248.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-02-03T15:29:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22222#issuecomment-325248",
    "user": "https://github.com/defeo"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_325249.json:
```json
{
    "body": "<a id='comment:12'></a>Good for me. I cannot reproduce the doctest timeout reported by patchbot.\n\nWondering about `bernfrac`, `bernreal`, and `fibonacci`. What is this `L` type in `pari.desc`?",
    "created_at": "2017-02-03T15:29:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22222#issuecomment-325249",
    "user": "https://github.com/defeo"
}
```

<a id='comment:12'></a>Good for me. I cannot reproduce the doctest timeout reported by patchbot.

Wondering about `bernfrac`, `bernreal`, and `fibonacci`. What is this `L` type in `pari.desc`?



---

archive/issue_comments_325250.json:
```json
{
    "body": "<a id='comment:13'></a>`L` = C `long`",
    "created_at": "2017-02-03T16:27:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22222#issuecomment-325250",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'></a>`L` = C `long`



---

archive/issue_comments_325251.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-02-04T19:25:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22222",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22222#issuecomment-325251",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_058399.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-02-04T19:25:48Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22222",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22222#event-58399"
}
```
