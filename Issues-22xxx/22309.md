# Issue 22309: Use PPL for computing vertices of LatticePolytope

archive/issues_022072.json:
```json
{
    "body": "This gives drastic improvement for small polytopes which is the target case. Before:\n\n```\nsage: timeit(\"LatticePolytope(lattice_polytope.cross_polytope(3).vertices())\")\n25 loops, best of 3: 35.2 ms per loop\n```\nAfter:\n\n```\nsage: timeit(\"LatticePolytope(lattice_polytope.cross_polytope(3).vertices())\")\n625 loops, best of 3: 684 \u00b5s per loop\n```\nNext in the chain of lattice polytope improvements is #22310\n\nCC:  @vbraun\n\nBranch/Commit: c82030713adafe2b3706df63fb65652c5fe846b2\n\nReviewer: Travis Scrimshaw\n\nAuthor: Andrey Novoseltsev\n\nDependencies: #22304\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/22309\n\n",
    "closed_at": "2017-03-10T23:13:21Z",
    "created_at": "2017-02-06T00:47:33Z",
    "labels": [
        "component: geometry"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.6",
    "title": "Use PPL for computing vertices of LatticePolytope",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22309",
    "user": "https://github.com/novoselt"
}
```
This gives drastic improvement for small polytopes which is the target case. Before:

```
sage: timeit("LatticePolytope(lattice_polytope.cross_polytope(3).vertices())")
25 loops, best of 3: 35.2 ms per loop
```
After:

```
sage: timeit("LatticePolytope(lattice_polytope.cross_polytope(3).vertices())")
625 loops, best of 3: 684 µs per loop
```
Next in the chain of lattice polytope improvements is #22310

CC:  @vbraun

Branch/Commit: c82030713adafe2b3706df63fb65652c5fe846b2

Reviewer: Travis Scrimshaw

Author: Andrey Novoseltsev

Dependencies: #22304

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/22309





---

archive/issue_comments_326357.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-02-06T00:50:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22309#issuecomment-326357",
    "user": "https://github.com/novoselt"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_326358.json:
```json
{
    "body": "<a id='comment:2'></a>Volker, I was going to stop bugging you, but this great speed up is mostly due to what you've done for cones, I've just adjusted it to work with points rather than rays.\n\n---\nNew commits:",
    "created_at": "2017-02-06T00:50:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22309#issuecomment-326358",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:2'></a>Volker, I was going to stop bugging you, but this great speed up is mostly due to what you've done for cones, I've just adjusted it to work with points rather than rays.

---
New commits:



---

archive/issue_comments_326359.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,6 +10,7 @@\n sage: timeit(\"LatticePolytope(lattice_polytope.cross_polytope(3).vertices())\")\n 625 loops, best of 3: 684 \u00b5s per loop\n ```\n+Next in the chain of lattice polytope improvements is #22310\n \n Author: Andrey Novoseltsev\n \n``````\n",
    "created_at": "2017-02-18T22:26:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22309#issuecomment-326359",
    "user": "https://github.com/novoselt"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,6 +10,7 @@
 sage: timeit("LatticePolytope(lattice_polytope.cross_polytope(3).vertices())")
 625 loops, best of 3: 684 µs per loop
 ```
+Next in the chain of lattice polytope improvements is #22310
 
 Author: Andrey Novoseltsev
 
``````




---

archive/issue_comments_326360.json:
```json
{
    "body": "<a id='comment:4'></a>For multiline imports, you can use (IMO cleaner):\n\n```\nfrom sage.libs.ppl import (C_Polyhedron, Generator_System, Linear_Expression,\n                           point as PPL_point)\n```\nOtherwise LGTM.",
    "created_at": "2017-03-07T17:29:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22309#issuecomment-326360",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'></a>For multiline imports, you can use (IMO cleaner):

```
from sage.libs.ppl import (C_Polyhedron, Generator_System, Linear_Expression,
                           point as PPL_point)
```
Otherwise LGTM.



---

archive/issue_comments_326361.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-03-08T04:42:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22309#issuecomment-326361",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_326362.json:
```json
{
    "body": "<a id='comment:7'></a>Thank you! I've checked with PEP 8 that this is also the recommended way of doing things - will try to keep in mind for the future. So - positive review?-)",
    "created_at": "2017-03-08T04:44:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22309#issuecomment-326362",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:7'></a>Thank you! I've checked with PEP 8 that this is also the recommended way of doing things - will try to keep in mind for the future. So - positive review?-)



---

archive/issue_comments_326363.json:
```json
{
    "body": "<a id='comment:8'></a>Yes indeed.",
    "created_at": "2017-03-08T05:23:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22309#issuecomment-326363",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:8'></a>Yes indeed.



---

archive/issue_comments_326364.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-03-08T05:23:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22309#issuecomment-326364",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_058502.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-03-10T23:13:21Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22309",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22309#event-58502"
}
```



---

archive/issue_comments_326365.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-03-10T23:13:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22309",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22309#issuecomment-326365",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
