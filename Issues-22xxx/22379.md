# Issue 22379: py3: simplify richcmp of integer ring and polynomial classes

archive/issues_022142.json:
```json
{
    "body": "By getting rid of the calls to `_richcmp`.\n\nThis is a first step towards the aim of getting rid of `_richcmp` everywhere. There will remain to handle 2 other calls elsewhere.\n\nCC:  @jm58660 @tscrim @a-andre @jdemeyer\n\nBranch/Commit: 58890e5ae2dd40e696403d333690b56bf46a7e3a\n\nReviewer: Travis Scrimshaw\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/22379\n\n",
    "closed_at": "2017-02-26T15:34:07Z",
    "created_at": "2017-02-13T15:21:39Z",
    "labels": [
        "component: python3"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.6",
    "title": "py3: simplify richcmp of integer ring and polynomial classes",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22379",
    "user": "https://github.com/fchapoton"
}
```
By getting rid of the calls to `_richcmp`.

This is a first step towards the aim of getting rid of `_richcmp` everywhere. There will remain to handle 2 other calls elsewhere.

CC:  @jm58660 @tscrim @a-andre @jdemeyer

Branch/Commit: 58890e5ae2dd40e696403d333690b56bf46a7e3a

Reviewer: Travis Scrimshaw

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/22379





---

archive/issue_comments_417628.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|\n|[1564b84](https://github.com/sagemath/sagetrac-mirror/commit/1564b84df82c99a72e1b013640f56d7e8db7b027)|`py3 : try to simplify (rich)cmp of IntegerRing_class`|",
    "created_at": "2017-02-13T15:22:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22379#issuecomment-417628",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                                      |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|
|[1564b84](https://github.com/sagemath/sagetrac-mirror/commit/1564b84df82c99a72e1b013640f56d7e8db7b027)|`py3 : try to simplify (rich)cmp of IntegerRing_class`|



---

archive/issue_comments_417629.json:
```json
{
    "body": "Changing commit from \"\" to \"1564b84df82c99a72e1b013640f56d7e8db7b027\"",
    "created_at": "2017-02-13T15:22:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22379#issuecomment-417629",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "1564b84df82c99a72e1b013640f56d7e8db7b027"



---

archive/issue_comments_417630.json:
```json
{
    "body": "Changing branch from \"\" to \"u/chapoton/22379\"",
    "created_at": "2017-02-13T15:22:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22379#issuecomment-417630",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "u/chapoton/22379"



---

archive/issue_comments_417631.json:
```json
{
    "body": "<a id='comment:2'></a>\nI'd rather fix this as part of #22344.",
    "created_at": "2017-02-15T22:02:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22379#issuecomment-417631",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:2'></a>
I'd rather fix this as part of #22344.



---

archive/issue_comments_417632.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|\n|[5212fb8](https://github.com/sagemath/sagetrac-mirror/commit/5212fb89f69158ad25d894279231b7923bcfd34e)|`Merge branch 'u/chapoton/22379' in 7.6.b4`|\n|[6fde126](https://github.com/sagemath/sagetrac-mirror/commit/6fde1263ed53dc6790b67e36b509be53fd24e33a)|`trac 22379 get rid of _richcmp in polynomials`|",
    "created_at": "2017-02-18T18:00:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22379#issuecomment-417632",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
|[5212fb8](https://github.com/sagemath/sagetrac-mirror/commit/5212fb89f69158ad25d894279231b7923bcfd34e)|`Merge branch 'u/chapoton/22379' in 7.6.b4`|
|[6fde126](https://github.com/sagemath/sagetrac-mirror/commit/6fde1263ed53dc6790b67e36b509be53fd24e33a)|`trac 22379 get rid of _richcmp in polynomials`|



---

archive/issue_comments_417633.json:
```json
{
    "body": "Changing commit from \"1564b84df82c99a72e1b013640f56d7e8db7b027\" to \"6fde1263ed53dc6790b67e36b509be53fd24e33a\"",
    "created_at": "2017-02-18T18:00:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22379#issuecomment-417633",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1564b84df82c99a72e1b013640f56d7e8db7b027" to "6fde1263ed53dc6790b67e36b509be53fd24e33a"



---

archive/issue_comments_417634.json:
```json
{
    "body": "Changing commit from \"6fde1263ed53dc6790b67e36b509be53fd24e33a\" to \"0e413822360448acefd570c20fa140da555858e9\"",
    "created_at": "2017-02-20T12:03:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22379#issuecomment-417634",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6fde1263ed53dc6790b67e36b509be53fd24e33a" to "0e413822360448acefd570c20fa140da555858e9"



---

archive/issue_comments_417635.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|\n|[0e41382](https://github.com/sagemath/sagetrac-mirror/commit/0e413822360448acefd570c20fa140da555858e9)|`trac 22379 some doctests fixed`|",
    "created_at": "2017-02-20T12:03:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22379#issuecomment-417635",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|
|[0e41382](https://github.com/sagemath/sagetrac-mirror/commit/0e413822360448acefd570c20fa140da555858e9)|`trac 22379 some doctests fixed`|



---

archive/issue_comments_417636.json:
```json
{
    "body": "Changing commit from \"0e413822360448acefd570c20fa140da555858e9\" to \"1284b260be18bc7885ef14affe335fb9586bce51\"",
    "created_at": "2017-02-20T19:48:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22379#issuecomment-417636",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0e413822360448acefd570c20fa140da555858e9" to "1284b260be18bc7885ef14affe335fb9586bce51"



---

archive/issue_comments_417637.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|\n|[1284b26](https://github.com/sagemath/sagetrac-mirror/commit/1284b260be18bc7885ef14affe335fb9586bce51)|`trac 22379 fixing doctests in a better way`|",
    "created_at": "2017-02-20T19:48:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22379#issuecomment-417637",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|
|[1284b26](https://github.com/sagemath/sagetrac-mirror/commit/1284b260be18bc7885ef14affe335fb9586bce51)|`trac 22379 fixing doctests in a better way`|



---

archive/issue_comments_417638.json:
```json
{
    "body": "<a id='comment:6'></a>\nit seems that the bot is mostly green, please review",
    "created_at": "2017-02-21T08:04:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22379#issuecomment-417638",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>
it seems that the bot is mostly green, please review



---

archive/issue_comments_417639.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n-By getting rid of the call to _richcmp\n+By getting rid of the calls to `_richcmp`.\n+\n+This is a first step towards the aim of getting rid of `_richcmp` everywhere. There will remain to handle 2 other calls elsewhere.\n``````\n",
    "created_at": "2017-02-21T08:04:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22379#issuecomment-417639",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
-By getting rid of the call to _richcmp
+By getting rid of the calls to `_richcmp`.
+
+This is a first step towards the aim of getting rid of `_richcmp` everywhere. There will remain to handle 2 other calls elsewhere.
``````




---

archive/issue_comments_417640.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-02-21T08:04:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22379#issuecomment-417640",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_events_066636.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/22379",
    "rename": {
        "from": "py3: try to simplify richcmp of integer ring class",
        "to": "py3: simplify richcmp of integer ring and polynomial classes"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22379#event-66636"
}
```



---

archive/issue_comments_417641.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|\n|[58890e5](https://github.com/sagemath/sagetrac-mirror/commit/58890e5ae2dd40e696403d333690b56bf46a7e3a)|`trac 22379 undo one unnecessary change`|",
    "created_at": "2017-02-21T12:18:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22379#issuecomment-417641",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|
|[58890e5](https://github.com/sagemath/sagetrac-mirror/commit/58890e5ae2dd40e696403d333690b56bf46a7e3a)|`trac 22379 undo one unnecessary change`|



---

archive/issue_comments_417642.json:
```json
{
    "body": "Changing commit from \"1284b260be18bc7885ef14affe335fb9586bce51\" to \"58890e5ae2dd40e696403d333690b56bf46a7e3a\"",
    "created_at": "2017-02-21T12:18:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22379#issuecomment-417642",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1284b260be18bc7885ef14affe335fb9586bce51" to "58890e5ae2dd40e696403d333690b56bf46a7e3a"



---

archive/issue_comments_417643.json:
```json
{
    "body": "<a id='comment:8'></a>\nBot is now squarely green.\n\nThis is a simplification of the comparison framework. Once the same thing is done in #22427 for the remaining 2 calls to `_richcmp` (in complex numbers), one will be able to get rid of `_richcmp`. Let me recall that handling the comparison is one of the major problems standing on our way to python3.",
    "created_at": "2017-02-23T07:48:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22379#issuecomment-417643",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
Bot is now squarely green.

This is a simplification of the comparison framework. Once the same thing is done in #22427 for the remaining 2 calls to `_richcmp` (in complex numbers), one will be able to get rid of `_richcmp`. Let me recall that handling the comparison is one of the major problems standing on our way to python3.



---

archive/issue_comments_417644.json:
```json
{
    "body": "<a id='comment:9'></a>\nWhile I fundamentally agree with Jeroen, I think it is better for us to make progress in the more immediate as work on #22344 has currently stalled.",
    "created_at": "2017-02-24T04:01:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22379#issuecomment-417644",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'></a>
While I fundamentally agree with Jeroen, I think it is better for us to make progress in the more immediate as work on #22344 has currently stalled.



---

archive/issue_comments_417645.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-02-24T04:01:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22379#issuecomment-417645",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_417646.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2017-02-24T04:01:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22379#issuecomment-417646",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_417647.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-02-26T15:34:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22379#issuecomment-417647",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_417648.json:
```json
{
    "body": "Changing branch from \"u/chapoton/22379\" to \"58890e5ae2dd40e696403d333690b56bf46a7e3a\"",
    "created_at": "2017-02-26T15:34:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22379#issuecomment-417648",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/chapoton/22379" to "58890e5ae2dd40e696403d333690b56bf46a7e3a"



---

archive/issue_events_066637.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-02-26T15:34:07Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22379",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22379#event-66637"
}
```
