# Issue 22913: Reynolds Operator

archive/issues_022676.json:
```json
{
    "body": "Compute the Reynolds Operator for finite groups G. \n\nCC:  @bhutz\n\nBranch/Commit: caaa7eecb87369a84f41e97c477ccf27d4e01bff\n\nReviewer: Ben Hutz, Travis Scrimshaw\n\nAuthor: Rebecca Lauren Miller\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/22913\n\n",
    "closed_at": "2017-06-12T18:01:27Z",
    "created_at": "2017-04-30T17:00:16Z",
    "labels": [
        "component: group theory",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "Reynolds Operator",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22913",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```
Compute the Reynolds Operator for finite groups G. 

CC:  @bhutz

Branch/Commit: caaa7eecb87369a84f41e97c477ccf27d4e01bff

Reviewer: Ben Hutz, Travis Scrimshaw

Author: Rebecca Lauren Miller

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/22913





---

archive/issue_comments_422435.json:
```json
{
    "body": "Changing branch from \"\" to \"u/rlmiller/reynolds\"",
    "created_at": "2017-05-02T01:19:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422435",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

Changing branch from "" to "u/rlmiller/reynolds"



---

archive/issue_comments_422436.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                                                                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|\n|[a04a166](https://github.com/sagemath/sagetrac-mirror/commit/a04a166cca860904b07064cb16271396e952624f)|`Merge commit '81dcaba8f63d5ba43f52d80f20474d7859806ee2' of git://trac.sagemath.org/sage`|\n|[f5f0150](https://github.com/sagemath/sagetrac-mirror/commit/f5f015034b44e593ac0033d87ab707e9ea379bf4)|`22913 Implimenting Reynold's Operator`|",
    "created_at": "2017-05-02T01:20:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422436",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                                                                         |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|
|[a04a166](https://github.com/sagemath/sagetrac-mirror/commit/a04a166cca860904b07064cb16271396e952624f)|`Merge commit '81dcaba8f63d5ba43f52d80f20474d7859806ee2' of git://trac.sagemath.org/sage`|
|[f5f0150](https://github.com/sagemath/sagetrac-mirror/commit/f5f015034b44e593ac0033d87ab707e9ea379bf4)|`22913 Implimenting Reynold's Operator`|



---

archive/issue_comments_422437.json:
```json
{
    "body": "Changing commit from \"\" to \"f5f015034b44e593ac0033d87ab707e9ea379bf4\"",
    "created_at": "2017-05-02T01:20:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422437",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

Changing commit from "" to "f5f015034b44e593ac0033d87ab707e9ea379bf4"



---

archive/issue_comments_422438.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[c7d4c76](https://github.com/sagemath/sagetrac-mirror/commit/c7d4c767243b9b86a3eb86a12745fba20b8b15af)|`22913 fixed merge conflict`|",
    "created_at": "2017-05-03T21:27:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422438",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[c7d4c76](https://github.com/sagemath/sagetrac-mirror/commit/c7d4c767243b9b86a3eb86a12745fba20b8b15af)|`22913 fixed merge conflict`|



---

archive/issue_comments_422439.json:
```json
{
    "body": "Changing commit from \"f5f015034b44e593ac0033d87ab707e9ea379bf4\" to \"c7d4c767243b9b86a3eb86a12745fba20b8b15af\"",
    "created_at": "2017-05-03T21:27:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422439",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f5f015034b44e593ac0033d87ab707e9ea379bf4" to "c7d4c767243b9b86a3eb86a12745fba20b8b15af"



---

archive/issue_comments_422440.json:
```json
{
    "body": "<a id='comment:4'></a>\nFixed Merge Conflict",
    "created_at": "2017-05-03T21:27:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422440",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

<a id='comment:4'></a>
Fixed Merge Conflict



---

archive/issue_comments_422441.json:
```json
{
    "body": "Changing branch from \"u/rlmiller/reynolds\" to \"u/bhutz/reynolds\"",
    "created_at": "2017-05-03T23:23:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422441",
    "user": "https://github.com/bhutz"
}
```

Changing branch from "u/rlmiller/reynolds" to "u/bhutz/reynolds"



---

archive/issue_comments_422442.json:
```json
{
    "body": "Changing commit from \"c7d4c767243b9b86a3eb86a12745fba20b8b15af\" to \"bc9096e8712afa1347319c16513944a792ee1656\"",
    "created_at": "2017-05-05T17:22:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422442",
    "user": "https://github.com/bhutz"
}
```

Changing commit from "c7d4c767243b9b86a3eb86a12745fba20b8b15af" to "bc9096e8712afa1347319c16513944a792ee1656"



---

archive/issue_comments_422443.json:
```json
{
    "body": "<a id='comment:6'></a>\nApparently, my comment from a couple days ago failed to submit. Let me try again.\n\nThe code changes are just some minor clean-up, but you need to think about what to do with base fields. For example, the 4th character in the tetrahedral group has an invariant defined over QQ(sqrt(-3)) (or maybe QQ(sqrt(3))). It might be nice if the following gave back the invariant in that field. At the moment this doesn't even run since you only take into account the group base field and the character base field.\n\n```\nK.<i> = CyclotomicField(4)\nTetra =  MatrixGroup([(-1+i)/2,(-1+i)/2, (1+i)/2,(-1-i)/2], [0,i, -i,0])\nxi = Tetra.character(Tetra.character_table()[4])\nL.<w>=QuadraticField(-3)\nTetra.reynolds_operator(x^4, xi)\n```\n\nThis example is a good one to figure out what kind of user experience you want for base fields.\n\n---\nNew commits:\n|                                                                                                                                          |                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|\n|[bc9096e](https://github.com/sagemath/sagetrac-mirror/commit/bc9096e8712afa1347319c16513944a792ee1656)|`22913: some code clean-up`|",
    "created_at": "2017-05-05T17:22:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422443",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:6'></a>
Apparently, my comment from a couple days ago failed to submit. Let me try again.

The code changes are just some minor clean-up, but you need to think about what to do with base fields. For example, the 4th character in the tetrahedral group has an invariant defined over QQ(sqrt(-3)) (or maybe QQ(sqrt(3))). It might be nice if the following gave back the invariant in that field. At the moment this doesn't even run since you only take into account the group base field and the character base field.

```
K.<i> = CyclotomicField(4)
Tetra =  MatrixGroup([(-1+i)/2,(-1+i)/2, (1+i)/2,(-1-i)/2], [0,i, -i,0])
xi = Tetra.character(Tetra.character_table()[4])
L.<w>=QuadraticField(-3)
Tetra.reynolds_operator(x^4, xi)
```

This example is a good one to figure out what kind of user experience you want for base fields.

---
New commits:
|                                                                                                                                          |                           |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
|[bc9096e](https://github.com/sagemath/sagetrac-mirror/commit/bc9096e8712afa1347319c16513944a792ee1656)|`22913: some code clean-up`|



---

archive/issue_comments_422444.json:
```json
{
    "body": "Changing branch from \"u/bhutz/reynolds\" to \"u/rlmiller/reynolds\"",
    "created_at": "2017-05-05T18:39:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422444",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

Changing branch from "u/bhutz/reynolds" to "u/rlmiller/reynolds"



---

archive/issue_comments_422445.json:
```json
{
    "body": "Changing commit from \"bc9096e8712afa1347319c16513944a792ee1656\" to \"49873bbb4bd2b23eb262d62621d55f12f94a7445\"",
    "created_at": "2017-05-05T18:45:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422445",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

Changing commit from "bc9096e8712afa1347319c16513944a792ee1656" to "49873bbb4bd2b23eb262d62621d55f12f94a7445"



---

archive/issue_comments_422446.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-05-05T18:45:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422446",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_422447.json:
```json
{
    "body": "<a id='comment:8'></a>\nNew commits:\n|                                                                                                                                          |                                                                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------|\n|[49873bb](https://github.com/sagemath/sagetrac-mirror/commit/49873bbb4bd2b23eb262d62621d55f12f94a7445)|`22913 user can now get smallest field for invariant, foxed typos, added example`|",
    "created_at": "2017-05-05T18:45:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422447",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

<a id='comment:8'></a>
New commits:
|                                                                                                                                          |                                                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------|
|[49873bb](https://github.com/sagemath/sagetrac-mirror/commit/49873bbb4bd2b23eb262d62621d55f12f94a7445)|`22913 user can now get smallest field for invariant, foxed typos, added example`|



---

archive/issue_comments_422448.json:
```json
{
    "body": "Changing branch from \"u/rlmiller/reynolds\" to \"u/bhutz/reynolds\"",
    "created_at": "2017-05-06T00:34:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422448",
    "user": "https://github.com/bhutz"
}
```

Changing branch from "u/rlmiller/reynolds" to "u/bhutz/reynolds"



---

archive/issue_comments_422449.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-05-06T00:40:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422449",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_422450.json:
```json
{
    "body": "Changing commit from \"49873bbb4bd2b23eb262d62621d55f12f94a7445\" to \"465928a6263ff3f2b833f2244561c4adc63bb3d7\"",
    "created_at": "2017-05-06T00:40:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422450",
    "user": "https://github.com/bhutz"
}
```

Changing commit from "49873bbb4bd2b23eb262d62621d55f12f94a7445" to "465928a6263ff3f2b833f2244561c4adc63bb3d7"



---

archive/issue_comments_422451.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Ben Hutz\"",
    "created_at": "2017-05-06T00:40:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422451",
    "user": "https://github.com/bhutz"
}
```

Changing reviewer from "" to "Ben Hutz"



---

archive/issue_comments_422452.json:
```json
{
    "body": "<a id='comment:10'></a>\nI think that is better with the fields, although you missed the case where R.degree()==1\n\n```\nK.<i> = CyclotomicField(4)\nTetra =  MatrixGroup([(-1+i)/2,(-1+i)/2, (1+i)/2,(-1-i)/2], [0,i, -i,0])\nxi = Tetra.character(Tetra.character_table()[4])\nL.<v> = QuadraticField(5)\nR.<x,y> = QQ[]\nf=x^4\ng=Tetra.reynolds_operator(f,xi)\ng\n```\n\nAlso relative extensions do not work (you can decide if you'll require absolute fields or deal with relative ones)\n\n```\nK.<i> = CyclotomicField(4)\nG =  MatrixGroup([(-1+i)/2,(-1+i)/2, (1+i)/2,(-1-i)/2], [0,i, -i,0])\nxi = G.character(Tetra.character_table()[4])\nL.<v> = QuadraticField(5)\nR.<x>=L[]\nLL.<w> = L.extension(x^2+v)\nR.<x,y> = LL[]\nf=x^4\ng=Tetra.reynolds_operator(f,xi)\ng\n```\n\nQQbar doesn't work either and it seems like that should probably work\n\n```\nK.<i> = CyclotomicField(4)\nG =  MatrixGroup([(-1+i)/2,(-1+i)/2, (1+i)/2,(-1-i)/2], [0,i, -i,0])\nxi = G.character(Tetra.character_table()[4])\nL.<v> = QuadraticField(5)\nR.<x>=L[]\nLL.<w> = L.extension(x^2+v)\nR.<x,y> = QQbar[]\nf=x^4\ng=Tetra.reynolds_operator(f,xi)\ng\n```\n\nIt would be good to give a better error when the dimension of the polynomial ring does not match the dimension of the matrix group\n\n```\nG =  MatrixGroup(DihedralGroup(4))\nxi = G.character(G.character_table()[1])\nR.<x,y>=QQ[]\nf=x^4\ng=G.reynolds_operator(f,xi)\ng\n```\n\nOtherwise, everything else I tried worked just fine.\n\n---\nNew commits:\n|                                                                                                                                          |                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[465928a](https://github.com/sagemath/sagetrac-mirror/commit/465928a6263ff3f2b833f2244561c4adc63bb3d7)|`22913: minor code clean up`|",
    "created_at": "2017-05-06T00:40:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422452",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:10'></a>
I think that is better with the fields, although you missed the case where R.degree()==1

```
K.<i> = CyclotomicField(4)
Tetra =  MatrixGroup([(-1+i)/2,(-1+i)/2, (1+i)/2,(-1-i)/2], [0,i, -i,0])
xi = Tetra.character(Tetra.character_table()[4])
L.<v> = QuadraticField(5)
R.<x,y> = QQ[]
f=x^4
g=Tetra.reynolds_operator(f,xi)
g
```

Also relative extensions do not work (you can decide if you'll require absolute fields or deal with relative ones)

```
K.<i> = CyclotomicField(4)
G =  MatrixGroup([(-1+i)/2,(-1+i)/2, (1+i)/2,(-1-i)/2], [0,i, -i,0])
xi = G.character(Tetra.character_table()[4])
L.<v> = QuadraticField(5)
R.<x>=L[]
LL.<w> = L.extension(x^2+v)
R.<x,y> = LL[]
f=x^4
g=Tetra.reynolds_operator(f,xi)
g
```

QQbar doesn't work either and it seems like that should probably work

```
K.<i> = CyclotomicField(4)
G =  MatrixGroup([(-1+i)/2,(-1+i)/2, (1+i)/2,(-1-i)/2], [0,i, -i,0])
xi = G.character(Tetra.character_table()[4])
L.<v> = QuadraticField(5)
R.<x>=L[]
LL.<w> = L.extension(x^2+v)
R.<x,y> = QQbar[]
f=x^4
g=Tetra.reynolds_operator(f,xi)
g
```

It would be good to give a better error when the dimension of the polynomial ring does not match the dimension of the matrix group

```
G =  MatrixGroup(DihedralGroup(4))
xi = G.character(G.character_table()[1])
R.<x,y>=QQ[]
f=x^4
g=G.reynolds_operator(f,xi)
g
```

Otherwise, everything else I tried worked just fine.

---
New commits:
|                                                                                                                                          |                            |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[465928a](https://github.com/sagemath/sagetrac-mirror/commit/465928a6263ff3f2b833f2244561c4adc63bb3d7)|`22913: minor code clean up`|



---

archive/issue_comments_422453.json:
```json
{
    "body": "Changing branch from \"u/bhutz/reynolds\" to \"u/rlmiller/reynolds\"",
    "created_at": "2017-05-12T02:46:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422453",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

Changing branch from "u/bhutz/reynolds" to "u/rlmiller/reynolds"



---

archive/issue_comments_422454.json:
```json
{
    "body": "<a id='comment:12'></a>\nNew commits:\n|                                                                                                                                          |                                                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|\n|[3a7884f](https://github.com/sagemath/sagetrac-mirror/commit/3a7884fe2ab833d4213e161fd5ddc33b6a60b024)|`22913 fixed over qqbar, algebraic fields, and number fields`|",
    "created_at": "2017-05-12T02:49:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422454",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

<a id='comment:12'></a>
New commits:
|                                                                                                                                          |                                                             |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|
|[3a7884f](https://github.com/sagemath/sagetrac-mirror/commit/3a7884fe2ab833d4213e161fd5ddc33b6a60b024)|`22913 fixed over qqbar, algebraic fields, and number fields`|



---

archive/issue_comments_422455.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-05-12T02:49:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422455",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_422456.json:
```json
{
    "body": "Changing commit from \"465928a6263ff3f2b833f2244561c4adc63bb3d7\" to \"3a7884fe2ab833d4213e161fd5ddc33b6a60b024\"",
    "created_at": "2017-05-12T02:49:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422456",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

Changing commit from "465928a6263ff3f2b833f2244561c4adc63bb3d7" to "3a7884fe2ab833d4213e161fd5ddc33b6a60b024"



---

archive/issue_comments_422457.json:
```json
{
    "body": "Changing branch from \"u/rlmiller/reynolds\" to \"u/bhutz/reynolds\"",
    "created_at": "2017-05-12T20:43:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422457",
    "user": "https://github.com/bhutz"
}
```

Changing branch from "u/rlmiller/reynolds" to "u/bhutz/reynolds"



---

archive/issue_comments_422458.json:
```json
{
    "body": "Changing commit from \"3a7884fe2ab833d4213e161fd5ddc33b6a60b024\" to \"0982b16020e971c12f57c6dbc9214092f43686e6\"",
    "created_at": "2017-05-12T20:50:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422458",
    "user": "https://github.com/bhutz"
}
```

Changing commit from "3a7884fe2ab833d4213e161fd5ddc33b6a60b024" to "0982b16020e971c12f57c6dbc9214092f43686e6"



---

archive/issue_comments_422459.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-05-12T20:50:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422459",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_422460.json:
```json
{
    "body": "<a id='comment:14'></a>\nI reduced the many nested if/then/else into something I think is more readable. I also tried to do some optimization of doc-testing. Even creating some of these groups is slow, so I combined many tests. I also limited it to one test per case and limited the Tetrahedral use as it is very slow to create. I think I reduced the total test time by about 8 seconds.\n\n\nI also noticed the even in the trivial character case you may need to extend. The following then fails.\n\n```\n            sage: K.<i> = CyclotomicField(4)\n            sage: Tetra =  MatrixGroup([(-1+i)/2,(-1+i)/2, (1+i)/2,(-1-i)/2], [0,i, -i,0])\n            sage: L.<v> = QuadraticField(5)\n            sage: R.<x,y> = L[]\n            sage: Tetra.reynolds_operator(x^4)\n```\n\nAll other functionality tested was good.\n\n---\nNew commits:\n|                                                                                                                                          |                                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|\n|[0982b16](https://github.com/sagemath/sagetrac-mirror/commit/0982b16020e971c12f57c6dbc9214092f43686e6)|`22913: some code and doctest optimization`|",
    "created_at": "2017-05-12T20:50:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422460",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:14'></a>
I reduced the many nested if/then/else into something I think is more readable. I also tried to do some optimization of doc-testing. Even creating some of these groups is slow, so I combined many tests. I also limited it to one test per case and limited the Tetrahedral use as it is very slow to create. I think I reduced the total test time by about 8 seconds.


I also noticed the even in the trivial character case you may need to extend. The following then fails.

```
            sage: K.<i> = CyclotomicField(4)
            sage: Tetra =  MatrixGroup([(-1+i)/2,(-1+i)/2, (1+i)/2,(-1-i)/2], [0,i, -i,0])
            sage: L.<v> = QuadraticField(5)
            sage: R.<x,y> = L[]
            sage: Tetra.reynolds_operator(x^4)
```

All other functionality tested was good.

---
New commits:
|                                                                                                                                          |                                           |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
|[0982b16](https://github.com/sagemath/sagetrac-mirror/commit/0982b16020e971c12f57c6dbc9214092f43686e6)|`22913: some code and doctest optimization`|



---

archive/issue_comments_422461.json:
```json
{
    "body": "Changing branch from \"u/bhutz/reynolds\" to \"u/rlmiller/reynolds\"",
    "created_at": "2017-06-02T15:12:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422461",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

Changing branch from "u/bhutz/reynolds" to "u/rlmiller/reynolds"



---

archive/issue_comments_422462.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-06-02T15:13:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422462",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_422463.json:
```json
{
    "body": "<a id='comment:16'></a>\nFixed trivial character case and added the example above.\n\n---\nNew commits:\n|                                                                                                                                          |                                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|\n|[6434a9e](https://github.com/sagemath/sagetrac-mirror/commit/6434a9e3a37559134f3cd058ff82e22b16b105ff)|`22913 fixed error for when chi is none`|",
    "created_at": "2017-06-02T15:13:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422463",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

<a id='comment:16'></a>
Fixed trivial character case and added the example above.

---
New commits:
|                                                                                                                                          |                                        |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|
|[6434a9e](https://github.com/sagemath/sagetrac-mirror/commit/6434a9e3a37559134f3cd058ff82e22b16b105ff)|`22913 fixed error for when chi is none`|



---

archive/issue_comments_422464.json:
```json
{
    "body": "Changing commit from \"0982b16020e971c12f57c6dbc9214092f43686e6\" to \"6434a9e3a37559134f3cd058ff82e22b16b105ff\"",
    "created_at": "2017-06-02T15:13:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422464",
    "user": "https://trac.sagemath.org/admin/accounts/users/rlmiller"
}
```

Changing commit from "0982b16020e971c12f57c6dbc9214092f43686e6" to "6434a9e3a37559134f3cd058ff82e22b16b105ff"



---

archive/issue_comments_422465.json:
```json
{
    "body": "<a id='comment:17'></a>\nA note on the doc: you should have a short 1-line description and then the full body. So something like\n\n```diff\n-        Compute the Reynolds Operator of this finite group `G`. This is the\n-        projection from the polynomial ring to the ring of relative invariants.\n+        Compute the Reynolds operator of ``self``.\n+\n+        Let `G` be a finite group. The Reynolds operator of `G` is the\n+        projection from the polynomial ring to the ring of relative invariants.\n```",
    "created_at": "2017-06-02T23:09:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422465",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:17'></a>
A note on the doc: you should have a short 1-line description and then the full body. So something like

```diff
-        Compute the Reynolds Operator of this finite group `G`. This is the
-        projection from the polynomial ring to the ring of relative invariants.
+        Compute the Reynolds operator of ``self``.
+
+        Let `G` be a finite group. The Reynolds operator of `G` is the
+        projection from the polynomial ring to the ring of relative invariants.
```



---

archive/issue_comments_422466.json:
```json
{
    "body": "Changing branch from \"u/rlmiller/reynolds\" to \"u/bhutz/reynolds\"",
    "created_at": "2017-06-04T19:37:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422466",
    "user": "https://github.com/bhutz"
}
```

Changing branch from "u/rlmiller/reynolds" to "u/bhutz/reynolds"



---

archive/issue_comments_422467.json:
```json
{
    "body": "<a id='comment:19'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|\n|[2c31d35](https://github.com/sagemath/sagetrac-mirror/commit/2c31d35ca7965ec0bf52cd03d65ed9949371f7d9)|`22913: fix parameter spacing in molien series`|",
    "created_at": "2017-06-04T19:39:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422467",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|
|[2c31d35](https://github.com/sagemath/sagetrac-mirror/commit/2c31d35ca7965ec0bf52cd03d65ed9949371f7d9)|`22913: fix parameter spacing in molien series`|



---

archive/issue_comments_422468.json:
```json
{
    "body": "Changing commit from \"6434a9e3a37559134f3cd058ff82e22b16b105ff\" to \"2c31d35ca7965ec0bf52cd03d65ed9949371f7d9\"",
    "created_at": "2017-06-04T19:39:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422468",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6434a9e3a37559134f3cd058ff82e22b16b105ff" to "2c31d35ca7965ec0bf52cd03d65ed9949371f7d9"



---

archive/issue_comments_422469.json:
```json
{
    "body": "<a id='comment:20'></a>\nsame basic changes as last time. I changed how the composition was generated to be more readable. I also adjusted the error messages and improved the handling in the characteristic p>0 trivial character case.\n\nAlso, the one line description was fixed.\n\nI think this works in all cases it is reasonable to make it work for at this time. So if you test it again and are fine with my changes, I'm ok with marking it positive.",
    "created_at": "2017-06-04T19:43:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422469",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:20'></a>
same basic changes as last time. I changed how the composition was generated to be more readable. I also adjusted the error messages and improved the handling in the characteristic p>0 trivial character case.

Also, the one line description was fixed.

I think this works in all cases it is reasonable to make it work for at this time. So if you test it again and are fine with my changes, I'm ok with marking it positive.



---

archive/issue_comments_422470.json:
```json
{
    "body": "<a id='comment:21'></a>\nI have one more comment and some additional nitpicks.\n\nSince you are changing the argument name for `molien_series`, you should deprecate the old one in case anyone has explicitly done `molien_series(xi=foo)`. The best way to do that is to use\n\n```\nfrom sage.misc.decorators import rename_keyword\n\n    @rename_keyword(22913, xi='chi')\n    def molien_series(self, chi=None, return_series=True, prec=20, variable='t'):\n```\n\nNitpicks:\n\n```diff\n-    def reynolds_operator(self, poly, chi = None):\n+    def reynolds_operator(self, poly, chi=None):\n```\n\n```diff\n-        relative invariants. [Stu1993]_. If possible, the invariant is\n+        relative invariants [Stu1993]_. If possible, the invariant is\n```\n\n```diff\n-        - ``poly`` -- a polynomial from K[x]\n+        - ``poly`` -- a polynomial\n```\nor `a polynomial in `K[x]``\n\n```diff\n        AUTHORS:\n\n-            Rebecca Lauren Miller and Ben Hutz\n+       Rebecca Lauren Miller and Ben Hutz\n```\n\n```diff\n         poly_gens = vector(poly.parent().gens())\n-        F = L(0)\n+        F = L.zero()\n         for g in self:\n-            F += L(chi(g))*poly(*g.matrix().change_ring(L)*poly_gens)\n+            F += L(chi(g)) * poly(*g.matrix().change_ring(L)*poly_gens)\n         F /= self.order()\n```",
    "created_at": "2017-06-04T22:08:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422470",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:21'></a>
I have one more comment and some additional nitpicks.

Since you are changing the argument name for `molien_series`, you should deprecate the old one in case anyone has explicitly done `molien_series(xi=foo)`. The best way to do that is to use

```
from sage.misc.decorators import rename_keyword

    @rename_keyword(22913, xi='chi')
    def molien_series(self, chi=None, return_series=True, prec=20, variable='t'):
```

Nitpicks:

```diff
-    def reynolds_operator(self, poly, chi = None):
+    def reynolds_operator(self, poly, chi=None):
```

```diff
-        relative invariants. [Stu1993]_. If possible, the invariant is
+        relative invariants [Stu1993]_. If possible, the invariant is
```

```diff
-        - ``poly`` -- a polynomial from K[x]
+        - ``poly`` -- a polynomial
```
or `a polynomial in `K[x]``

```diff
        AUTHORS:

-            Rebecca Lauren Miller and Ben Hutz
+       Rebecca Lauren Miller and Ben Hutz
```

```diff
         poly_gens = vector(poly.parent().gens())
-        F = L(0)
+        F = L.zero()
         for g in self:
-            F += L(chi(g))*poly(*g.matrix().change_ring(L)*poly_gens)
+            F += L(chi(g)) * poly(*g.matrix().change_ring(L)*poly_gens)
         F /= self.order()
```



---

archive/issue_comments_422471.json:
```json
{
    "body": "<a id='comment:22'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------|\n|[caaa7ee](https://github.com/sagemath/sagetrac-mirror/commit/caaa7eecb87369a84f41e97c477ccf27d4e01bff)|`22913: minor fixes`|",
    "created_at": "2017-06-05T13:54:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422471",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------|
|[caaa7ee](https://github.com/sagemath/sagetrac-mirror/commit/caaa7eecb87369a84f41e97c477ccf27d4e01bff)|`22913: minor fixes`|



---

archive/issue_comments_422472.json:
```json
{
    "body": "Changing commit from \"2c31d35ca7965ec0bf52cd03d65ed9949371f7d9\" to \"caaa7eecb87369a84f41e97c477ccf27d4e01bff\"",
    "created_at": "2017-06-05T13:54:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422472",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2c31d35ca7965ec0bf52cd03d65ed9949371f7d9" to "caaa7eecb87369a84f41e97c477ccf27d4e01bff"



---

archive/issue_comments_422473.json:
```json
{
    "body": "<a id='comment:23'></a>\nI made all the changes except the deprecation. The parameter for molien_series() was introduced in #22835, so has never been part of a release version of sage. Just want to confirm that the really needs a deprecation.",
    "created_at": "2017-06-05T13:56:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422473",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:23'></a>
I made all the changes except the deprecation. The parameter for molien_series() was introduced in #22835, so has never been part of a release version of sage. Just want to confirm that the really needs a deprecation.



---

archive/issue_comments_422474.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-06-05T14:01:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422474",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_422475.json:
```json
{
    "body": "Changing reviewer from \"Ben Hutz\" to \"Ben Hutz, Travis Scrimshaw\"",
    "created_at": "2017-06-05T14:01:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422475",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "Ben Hutz" to "Ben Hutz, Travis Scrimshaw"



---

archive/issue_comments_422476.json:
```json
{
    "body": "<a id='comment:24'></a>\nThere is some slight ambiguity on that, so I don't think we have definite rule. However, I agree with all other changes. Thanks.",
    "created_at": "2017-06-05T14:01:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422476",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:24'></a>
There is some slight ambiguity on that, so I don't think we have definite rule. However, I agree with all other changes. Thanks.



---

archive/issue_comments_422477.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-06-12T18:01:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422477",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_075438.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-06-12T18:01:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22913#event-75438"
}
```



---

archive/issue_comments_422478.json:
```json
{
    "body": "Changing branch from \"u/bhutz/reynolds\" to \"caaa7eecb87369a84f41e97c477ccf27d4e01bff\"",
    "created_at": "2017-06-12T18:01:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22913#issuecomment-422478",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/bhutz/reynolds" to "caaa7eecb87369a84f41e97c477ccf27d4e01bff"
