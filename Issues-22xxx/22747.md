# Issue 22747: (experimental) Compile Cython code with binding=True

archive/issues_022510.json:
```json
{
    "body": "When using the Cython compiler directive `binding=True`, Cython uses a custom type to implement functions and methods. This custom type supports more Python features. The most important changes lie in `inspect` support.\n\nWe find several Cython bugs regarding `binding=True`:\n- https://github.com/cython/cython/issues/1658 (not an issue for Sage)\n- https://github.com/cython/cython/pull/1724 (see #23155)\n- https://github.com/cython/cython/pull/1728 (see #23155)\n\nCC:  @kwankyu\n\nUpstream: Reported upstream. No feedback yet.\n\nReviewer: Michael Orlitzky\n\nAuthor: Jeroen Demeyer\n\nBranch: u/jdemeyer/ticket/22747\n\nDependencies: #25842, #25845, #25848\n\nCommit: d9620409749338b4c33aeef1ded7c944d74e10dd\n\nResolution: invalid\n\nIssue created by migration from https://trac.sagemath.org/ticket/22747\n\n",
    "closed_at": "2021-11-20T23:57:15Z",
    "created_at": "2017-04-03T10:12:56Z",
    "labels": [
        "component: cython"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "(experimental) Compile Cython code with binding=True",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22747",
    "user": "https://github.com/jdemeyer"
}
```
When using the Cython compiler directive `binding=True`, Cython uses a custom type to implement functions and methods. This custom type supports more Python features. The most important changes lie in `inspect` support.

We find several Cython bugs regarding `binding=True`:
- https://github.com/cython/cython/issues/1658 (not an issue for Sage)
- https://github.com/cython/cython/pull/1724 (see #23155)
- https://github.com/cython/cython/pull/1728 (see #23155)

CC:  @kwankyu

Upstream: Reported upstream. No feedback yet.

Reviewer: Michael Orlitzky

Author: Jeroen Demeyer

Branch: u/jdemeyer/ticket/22747

Dependencies: #25842, #25845, #25848

Commit: d9620409749338b4c33aeef1ded7c944d74e10dd

Resolution: invalid

Issue created by migration from https://trac.sagemath.org/ticket/22747





---

archive/issue_comments_313261.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-04-03T15:39:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22747#issuecomment-313261",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_313262.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-04-20T09:57:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22747#issuecomment-313262",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_313263.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-04-20T15:01:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22747#issuecomment-313263",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_313264.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-04-21T15:32:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22747#issuecomment-313264",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_313265.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-04-28T10:19:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22747#issuecomment-313265",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_313266.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-04-28T20:33:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22747#issuecomment-313266",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_313267.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-06-02T21:12:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22747#issuecomment-313267",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_313268.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-06-06T15:46:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22747#issuecomment-313268",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_313269.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-06-07T20:48:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22747#issuecomment-313269",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_313270.json:
```json
{
    "body": "<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-08-22T13:54:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22747#issuecomment-313270",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_313271.json:
```json
{
    "body": "<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-08-22T15:07:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22747#issuecomment-313271",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_313272.json:
```json
{
    "body": "<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-07-11T08:12:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22747#issuecomment-313272",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_313273.json:
```json
{
    "body": "<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-07-12T10:38:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22747#issuecomment-313273",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_313274.json:
```json
{
    "body": "<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-07-12T14:10:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22747#issuecomment-313274",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_313275.json:
```json
{
    "body": "<a id='comment:30'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-07-12T14:32:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22747#issuecomment-313275",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_313276.json:
```json
{
    "body": "<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-07-12T14:47:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22747#issuecomment-313276",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_313277.json:
```json
{
    "body": "<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-07-13T09:20:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22747#issuecomment-313277",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_313278.json:
```json
{
    "body": "<a id='comment:34'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-07-13T09:20:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22747#issuecomment-313278",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:34'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_313279.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-09-13T19:24:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22747#issuecomment-313279",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_events_059230.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-13T19:24:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22747",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22747#event-59230"
}
```



---

archive/issue_comments_313280.json:
```json
{
    "body": "<a id='comment:36'></a>We can close this ticket in favor of #26254.\n\nThe only commit from the branch here that is useful is https://github.com/sagemath/sagetrac-mirror/commit/d9620409749338b4c33aeef1ded7c944d74e10dd -- not really \"Sage library fixes\" but just some updates of doctest outputs.",
    "created_at": "2021-09-13T19:24:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22747#issuecomment-313280",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:36'></a>We can close this ticket in favor of #26254.

The only commit from the branch here that is useful is https://github.com/sagemath/sagetrac-mirror/commit/d9620409749338b4c33aeef1ded7c944d74e10dd -- not really "Sage library fixes" but just some updates of doctest outputs.



---

archive/issue_comments_313281.json:
```json
{
    "body": "<a id='comment:37'></a>Ok, #26254 looks much further along.",
    "created_at": "2021-11-20T22:41:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22747#issuecomment-313281",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:37'></a>Ok, #26254 looks much further along.



---

archive/issue_comments_313282.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-11-20T22:41:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22747#issuecomment-313282",
    "user": "https://github.com/orlitzky"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_059231.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-11-20T23:57:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22747",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22747#event-59231"
}
```



---

archive/issue_comments_313283.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2021-11-20T23:57:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22747#issuecomment-313283",
    "user": "https://github.com/mkoeppe"
}
```

Resolution: invalid
