# Issue 22193: Port cypari2 documentation as a standalone doctests

archive/issues_021956.json:
```json
{
    "assignees": [],
    "body": "Since cypari2 is aimed to become an external module we should move the doctest of its documentation in the standalone file `src/sage/libs/pari/tests.py`.\n\nDepends on #22319\n\nCC:  @defeo @jdemeyer\n\nBranch/Commit: **[`128030a`](https://github.com/sagemath/sagetrac-mirror/commit/128030ad25fc7eb86c3995cab3a399d672c5e6a4)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **Vincent Delecroix, Luca De Feo**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/22193_\n\n",
    "closed_at": "2017-03-02T17:43:50Z",
    "created_at": "2017-01-16T18:39:02Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Port cypari2 documentation as a standalone doctests",
    "type": "issue",
    "updated_at": "2017-03-02T17:43:50Z",
    "url": "https://github.com/sagemath/sage/issues/22193",
    "user": "https://github.com/videlec"
}
```
Since cypari2 is aimed to become an external module we should move the doctest of its documentation in the standalone file `src/sage/libs/pari/tests.py`.

Depends on #22319

CC:  @defeo @jdemeyer

Branch/Commit: **[`128030a`](https://github.com/sagemath/sagetrac-mirror/commit/128030ad25fc7eb86c3995cab3a399d672c5e6a4)**

Reviewer: **Jeroen Demeyer**

Author: **Vincent Delecroix, Luca De Feo**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/22193_





---

archive/issue_events_312262.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-01-16T18:39:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "milestone_number": null,
    "milestone_title": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312262"
}
```



---

archive/issue_events_312263.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-01-16T18:39:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312263"
}
```



---

archive/issue_events_312264.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-01-16T18:39:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312264"
}
```



---

archive/issue_events_312265.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-01-16T18:39:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312265"
}
```



---

archive/issue_comments_328019.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nWe already have `src/sage/libs/pari/tests.py`. That would be a good place to put those tests.",
    "created_at": "2017-01-17T09:10:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328019",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:1" align="right">comment:1</div>

We already have `src/sage/libs/pari/tests.py`. That would be a good place to put those tests.



---

archive/issue_comments_328020.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Since cypari2 is aimed to become an external module we should move the doctest of its documentation in a standalone file.\n+Since cypari2 is aimed to become an external module we should move the doctest of its documentation in the standalone file `src/sage/libs/pari/tests.py`.\n``````\n",
    "created_at": "2017-01-17T10:32:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328020",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-Since cypari2 is aimed to become an external module we should move the doctest of its documentation in a standalone file.
+Since cypari2 is aimed to become an external module we should move the doctest of its documentation in the standalone file `src/sage/libs/pari/tests.py`.
``````




---

archive/issue_comments_328021.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\ndoing that...",
    "created_at": "2017-01-17T10:48:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328021",
    "user": "https://github.com/videlec"
}
```

<div id="comment:3" align="right">comment:3</div>

doing that...



---

archive/issue_comments_328022.json:
```json
{
    "body": "Author: **Vincent Delecroix**",
    "created_at": "2017-01-17T10:48:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328022",
    "user": "https://github.com/videlec"
}
```

Author: **Vincent Delecroix**



---

archive/issue_comments_328023.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nAttachment: **[pari_doctests.py.gz](https://github.com/sagemath/sage/files/ticket22193/pari_doctests.py.gz)**\n\nI joined the script I used to generate the files.",
    "created_at": "2017-01-17T18:14:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328023",
    "user": "https://github.com/videlec"
}
```

<div id="comment:4" align="right">comment:4</div>

Attachment: **[pari_doctests.py.gz](https://github.com/sagemath/sage/files/ticket22193/pari_doctests.py.gz)**

I joined the script I used to generate the files.



---

archive/issue_comments_328024.json:
```json
{
    "body": "Branch: **[u/vdelecroix/22193](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/22193)**",
    "created_at": "2017-01-17T18:15:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328024",
    "user": "https://github.com/videlec"
}
```

Branch: **[u/vdelecroix/22193](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/22193)**



---

archive/issue_comments_328025.json:
```json
{
    "body": "Commit: **[`3f211e4`](https://github.com/sagemath/sagetrac-mirror/commit/3f211e45626df9f6338542decb4ef0df484fd7ff)**",
    "created_at": "2017-01-17T18:15:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328025",
    "user": "https://github.com/videlec"
}
```

Commit: **[`3f211e4`](https://github.com/sagemath/sagetrac-mirror/commit/3f211e45626df9f6338542decb4ef0df484fd7ff)**



---

archive/issue_comments_328026.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f211e45626df9f6338542decb4ef0df484fd7ff\"><code>3f211e4</code></a></td><td><code>22193: copy doctests from cypari2</code></td></tr></table>\n",
    "created_at": "2017-01-17T18:15:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328026",
    "user": "https://github.com/videlec"
}
```

<div id="comment:5"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f211e45626df9f6338542decb4ef0df484fd7ff"><code>3f211e4</code></a></td><td><code>22193: copy doctests from cypari2</code></td></tr></table>




---

archive/issue_events_312266.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-01-17T18:15:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312266"
}
```



---

archive/issue_comments_328027.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI don't really like that this is automatic. I think we should manually figure out which doctests should be kept in cypari2 and which ones should be moved to Sage.",
    "created_at": "2017-01-18T17:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328027",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">comment:6</div>

I don't really like that this is automatic. I think we should manually figure out which doctests should be kept in cypari2 and which ones should be moved to Sage.



---

archive/issue_comments_328028.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI think that the tests in `convert.pyx` don't really involve Sage at all (except for the preparser, so `2^64` should be changed to `2**64` for example).",
    "created_at": "2017-01-18T17:35:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328028",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:7" align="right">comment:7</div>

I think that the tests in `convert.pyx` don't really involve Sage at all (except for the preparser, so `2^64` should be changed to `2**64` for example).



---

archive/issue_comments_328029.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nWhat's the status of this? Anyone working on it?",
    "created_at": "2017-02-03T16:07:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328029",
    "user": "https://github.com/defeo"
}
```

<div id="comment:8" align="right">comment:8</div>

What's the status of this? Anyone working on it?



---

archive/issue_comments_328030.json:
```json
{
    "body": "Changed branch from **[u/vdelecroix/22193](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/22193)** to **[u/defeo/22193](https://github.com/sagemath/sagetrac-mirror/tree/u/defeo/22193)**",
    "created_at": "2017-02-06T19:49:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328030",
    "user": "https://github.com/defeo"
}
```

Changed branch from **[u/vdelecroix/22193](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/22193)** to **[u/defeo/22193](https://github.com/sagemath/sagetrac-mirror/tree/u/defeo/22193)**



---

archive/issue_comments_328031.json:
```json
{
    "body": "Dependencies: **#22221 #22222 #22291**",
    "created_at": "2017-02-06T22:00:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328031",
    "user": "https://github.com/defeo"
}
```

Dependencies: **#22221 #22222 #22291**



---

archive/issue_comments_328032.json:
```json
{
    "body": "Changed commit from **[`3f211e4`](https://github.com/sagemath/sagetrac-mirror/commit/3f211e45626df9f6338542decb4ef0df484fd7ff)** to **[`b6f22af`](https://github.com/sagemath/sagetrac-mirror/commit/b6f22af9012c3f0e67511fabccf65e519ab43050)**",
    "created_at": "2017-02-06T22:00:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328032",
    "user": "https://github.com/defeo"
}
```

Changed commit from **[`3f211e4`](https://github.com/sagemath/sagetrac-mirror/commit/3f211e45626df9f6338542decb4ef0df484fd7ff)** to **[`b6f22af`](https://github.com/sagemath/sagetrac-mirror/commit/b6f22af9012c3f0e67511fabccf65e519ab43050)**



---

archive/issue_comments_328033.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nIt's been extremely painful, but I've manually gone through all docstrings. As Jeroen suspected, very few of them were Sage-specific, but most of them needed to be de-Saged.\n\nI moved the few Sage-specific tests to `test.py`, and also duplicated there some tests that could have been done entirely in CyPari2, but that used to activate some code-paths in Sage that wouldn't be activated otherwise.\n\nThere's two notable bits of docstring I haven't touched yet:\n\n1. The \"Guide to real precision\" in the module docstring of `pari_instance.pyx`. This is very Sage-specific, and it's more than just a testsuite. Where shall we move it?\n\n2. The `Gen.sage()`, which of course has no place in CyPari. Did we decide anything on subclassing `Gen`, though?\n\nFor the rest, I hopefully changed all `^` to `**` at the right spots, and removed all dependencies on Sage (except for the `sage:` prompt and the import statements). If I forgot something, we will notice anyway when setting up tests outside of Sage. I also fear that some doctests may fail in Python3, but that should also be easy to fix.\n\nIn my doctest trip, I saw a lot of very archaic code, esp. in the number field and the elliptic curve methods. For example `nfbasis` has a very weird docstring, and takes a flag parameter that seems to be undocumented in PARI.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/41d47f7a14d9844c3a030c234a2c5d4a8971944f\"><code>41d47f7</code></a></td><td><code>Fix dependency on PARI headers</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/175506854ef5ee301cbbbda94e135fbb63f02902\"><code>1755068</code></a></td><td><code>Merge commit '41d47f7a14d9844c3a030c234a2c5d4a8971944f' of trac.sagemath.org:sage into t/22193/port_cypary2_doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/98869b4f83de894281bf164016d7ef9a2f4b3227\"><code>98869b4</code></a></td><td><code>Remove _pari_instance global</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c9c93dcb32ff1993ede5419533aff7c60345fa2d\"><code>c9c93dc</code></a></td><td><code>Merge commit '98869b4f83de894281bf164016d7ef9a2f4b3227' of trac.sagemath.org:sage into t/22193/port_cypary2_doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b5f74b1a88203cbc1768e47a2ae2037a1b6f18d6\"><code>b5f74b1</code></a></td><td><code>Use longintrepr.pxd from Cython</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c6d32360a3a87cd88ef7f211cbe34e803d23fcf7\"><code>c6d3236</code></a></td><td><code>Merge commit 'b5f74b1a88203cbc1768e47a2ae2037a1b6f18d6' of trac.sagemath.org:sage into t/22193/port_cypary2_doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b6f22af9012c3f0e67511fabccf65e519ab43050\"><code>b6f22af</code></a></td><td><code>Made docstrings in libs/cypari2 mostyl Sage-independent</code></td></tr></table>\n",
    "created_at": "2017-02-06T22:00:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328033",
    "user": "https://github.com/defeo"
}
```

<div id="comment:10" align="right">comment:10</div>

It's been extremely painful, but I've manually gone through all docstrings. As Jeroen suspected, very few of them were Sage-specific, but most of them needed to be de-Saged.

I moved the few Sage-specific tests to `test.py`, and also duplicated there some tests that could have been done entirely in CyPari2, but that used to activate some code-paths in Sage that wouldn't be activated otherwise.

There's two notable bits of docstring I haven't touched yet:

1. The "Guide to real precision" in the module docstring of `pari_instance.pyx`. This is very Sage-specific, and it's more than just a testsuite. Where shall we move it?

2. The `Gen.sage()`, which of course has no place in CyPari. Did we decide anything on subclassing `Gen`, though?

For the rest, I hopefully changed all `^` to `**` at the right spots, and removed all dependencies on Sage (except for the `sage:` prompt and the import statements). If I forgot something, we will notice anyway when setting up tests outside of Sage. I also fear that some doctests may fail in Python3, but that should also be easy to fix.

In my doctest trip, I saw a lot of very archaic code, esp. in the number field and the elliptic curve methods. For example `nfbasis` has a very weird docstring, and takes a flag parameter that seems to be undocumented in PARI.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/41d47f7a14d9844c3a030c234a2c5d4a8971944f"><code>41d47f7</code></a></td><td><code>Fix dependency on PARI headers</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/175506854ef5ee301cbbbda94e135fbb63f02902"><code>1755068</code></a></td><td><code>Merge commit '41d47f7a14d9844c3a030c234a2c5d4a8971944f' of trac.sagemath.org:sage into t/22193/port_cypary2_doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/98869b4f83de894281bf164016d7ef9a2f4b3227"><code>98869b4</code></a></td><td><code>Remove _pari_instance global</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c9c93dcb32ff1993ede5419533aff7c60345fa2d"><code>c9c93dc</code></a></td><td><code>Merge commit '98869b4f83de894281bf164016d7ef9a2f4b3227' of trac.sagemath.org:sage into t/22193/port_cypary2_doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b5f74b1a88203cbc1768e47a2ae2037a1b6f18d6"><code>b5f74b1</code></a></td><td><code>Use longintrepr.pxd from Cython</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c6d32360a3a87cd88ef7f211cbe34e803d23fcf7"><code>c6d3236</code></a></td><td><code>Merge commit 'b5f74b1a88203cbc1768e47a2ae2037a1b6f18d6' of trac.sagemath.org:sage into t/22193/port_cypary2_doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b6f22af9012c3f0e67511fabccf65e519ab43050"><code>b6f22af</code></a></td><td><code>Made docstrings in libs/cypari2 mostyl Sage-independent</code></td></tr></table>




---

archive/issue_comments_328034.json:
```json
{
    "body": "Changed author from **Vincent Delecroix** to **Vincent Delecroix, Luca De Feo**",
    "created_at": "2017-02-06T22:00:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328034",
    "user": "https://github.com/defeo"
}
```

Changed author from **Vincent Delecroix** to **Vincent Delecroix, Luca De Feo**



---

archive/issue_events_312267.json:
```json
{
    "actor": "https://github.com/defeo",
    "created_at": "2017-02-06T22:00:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312267"
}
```



---

archive/issue_events_312268.json:
```json
{
    "actor": "https://github.com/defeo",
    "created_at": "2017-02-06T22:00:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312268"
}
```



---

archive/issue_comments_328035.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52e9f8c03f97b53406c869c521264399a5ccd7cb\"><code>52e9f8c</code></a></td><td><code>Removed Sage-specific bits from guide to real precision</code></td></tr></table>\n",
    "created_at": "2017-02-08T18:17:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328035",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52e9f8c03f97b53406c869c521264399a5ccd7cb"><code>52e9f8c</code></a></td><td><code>Removed Sage-specific bits from guide to real precision</code></td></tr></table>




---

archive/issue_comments_328036.json:
```json
{
    "body": "Changed commit from **[`b6f22af`](https://github.com/sagemath/sagetrac-mirror/commit/b6f22af9012c3f0e67511fabccf65e519ab43050)** to **[`52e9f8c`](https://github.com/sagemath/sagetrac-mirror/commit/52e9f8c03f97b53406c869c521264399a5ccd7cb)**",
    "created_at": "2017-02-08T18:17:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328036",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b6f22af`](https://github.com/sagemath/sagetrac-mirror/commit/b6f22af9012c3f0e67511fabccf65e519ab43050)** to **[`52e9f8c`](https://github.com/sagemath/sagetrac-mirror/commit/52e9f8c03f97b53406c869c521264399a5ccd7cb)**



---

archive/issue_events_312269.json:
```json
{
    "actor": "https://github.com/defeo",
    "created_at": "2017-02-08T18:18:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312269"
}
```



---

archive/issue_events_312270.json:
```json
{
    "actor": "https://github.com/defeo",
    "created_at": "2017-02-08T18:18:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312270"
}
```



---

archive/issue_comments_328037.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nJust had a quick look and it looks good on first sight. I need to check a bit better in order to give positive_review though.\n\nDoes the documentation from `src/sage/libs/pari/__init__.py` actually appear anywhere?",
    "created_at": "2017-02-08T19:52:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328037",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

Just had a quick look and it looks good on first sight. I need to check a bit better in order to give positive_review though.

Does the documentation from `src/sage/libs/pari/__init__.py` actually appear anywhere?



---

archive/issue_comments_328038.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\n> Does the documentation from `src/sage/libs/pari/__init__.py` actually appear anywhere?\n\nI don't think so, but all documentation from `cypari2` seems to have disappeared from the reference manual anyway. I thought that was a deliberate choice?",
    "created_at": "2017-02-08T22:15:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328038",
    "user": "https://github.com/defeo"
}
```

<div id="comment:14" align="right">comment:14</div>

> Does the documentation from `src/sage/libs/pari/__init__.py` actually appear anywhere?

I don't think so, but all documentation from `cypari2` seems to have disappeared from the reference manual anyway. I thought that was a deliberate choice?



---

archive/issue_comments_328039.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nPlease rebase to 7.6.beta3",
    "created_at": "2017-02-09T08:39:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328039",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

Please rebase to 7.6.beta3



---

archive/issue_events_312271.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-02-09T08:39:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312271"
}
```



---

archive/issue_events_312272.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-02-09T08:39:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312272"
}
```



---

archive/issue_comments_328040.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@defeo](#comment:14):\n> all documentation from `cypari2` seems to have disappeared from the reference manual anyway.\n\nThe code for `src/sage/libs/cypari2` will be removed from Sage anyway, so I don't consider it a problem that the doc is not in Sage anymore.\n\nHowever, the doc for `src/sage/libs/pari` should remain in Sage. It is currently not.",
    "created_at": "2017-02-09T08:41:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328040",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@defeo](#comment:14):
> all documentation from `cypari2` seems to have disappeared from the reference manual anyway.

The code for `src/sage/libs/cypari2` will be removed from Sage anyway, so I don't consider it a problem that the doc is not in Sage anymore.

However, the doc for `src/sage/libs/pari` should remain in Sage. It is currently not.



---

archive/issue_comments_328041.json:
```json
{
    "body": "Changed branch from **[u/defeo/22193](https://github.com/sagemath/sagetrac-mirror/tree/u/defeo/22193)** to **[u/jdemeyer/22193](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/22193)**",
    "created_at": "2017-02-09T11:13:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328041",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/defeo/22193](https://github.com/sagemath/sagetrac-mirror/tree/u/defeo/22193)** to **[u/jdemeyer/22193](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/22193)**



---

archive/issue_comments_328042.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nRebased (and fixed a typo in the commit message).\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8608c943687254338f3084233fba6b1df27b29fd\"><code>8608c94</code></a></td><td><code>Made docstrings in libs/cypari2 mostly Sage-independent</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3cb08162bfbc1d5b64f8899bd455907e6ddec937\"><code>3cb0816</code></a></td><td><code>Removed Sage-specific bits from guide to real precision</code></td></tr></table>\n",
    "created_at": "2017-02-09T11:14:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328042",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

Rebased (and fixed a typo in the commit message).

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8608c943687254338f3084233fba6b1df27b29fd"><code>8608c94</code></a></td><td><code>Made docstrings in libs/cypari2 mostly Sage-independent</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3cb08162bfbc1d5b64f8899bd455907e6ddec937"><code>3cb0816</code></a></td><td><code>Removed Sage-specific bits from guide to real precision</code></td></tr></table>




---

archive/issue_comments_328043.json:
```json
{
    "body": "Changed commit from **[`52e9f8c`](https://github.com/sagemath/sagetrac-mirror/commit/52e9f8c03f97b53406c869c521264399a5ccd7cb)** to **[`3cb0816`](https://github.com/sagemath/sagetrac-mirror/commit/3cb08162bfbc1d5b64f8899bd455907e6ddec937)**",
    "created_at": "2017-02-09T11:14:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328043",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[`52e9f8c`](https://github.com/sagemath/sagetrac-mirror/commit/52e9f8c03f97b53406c869c521264399a5ccd7cb)** to **[`3cb0816`](https://github.com/sagemath/sagetrac-mirror/commit/3cb08162bfbc1d5b64f8899bd455907e6ddec937)**



---

archive/issue_comments_328044.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI'm having a look at the documentation right now.",
    "created_at": "2017-02-09T11:14:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328044",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:19" align="right">comment:19</div>

I'm having a look at the documentation right now.



---

archive/issue_comments_328045.json:
```json
{
    "body": "Changed dependencies from **#22221 #22222 #22291** to none",
    "created_at": "2017-02-09T11:14:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328045",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#22221 #22222 #22291** to none



---

archive/issue_comments_328046.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2017-02-09T11:14:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328046",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_comments_328047.json:
```json
{
    "body": "Changed commit from **[`3cb0816`](https://github.com/sagemath/sagetrac-mirror/commit/3cb08162bfbc1d5b64f8899bd455907e6ddec937)** to **[`db744ba`](https://github.com/sagemath/sagetrac-mirror/commit/db744ba0f606e1fda2fa7cac94b64baafaaf1aa5)**",
    "created_at": "2017-02-09T15:31:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328047",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3cb0816`](https://github.com/sagemath/sagetrac-mirror/commit/3cb08162bfbc1d5b64f8899bd455907e6ddec937)** to **[`db744ba`](https://github.com/sagemath/sagetrac-mirror/commit/db744ba0f606e1fda2fa7cac94b64baafaaf1aa5)**



---

archive/issue_comments_328048.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/db744ba0f606e1fda2fa7cac94b64baafaaf1aa5\"><code>db744ba</code></a></td><td><code>Add sage.libs.pari to the documentation</code></td></tr></table>\n",
    "created_at": "2017-02-09T15:31:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328048",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/db744ba0f606e1fda2fa7cac94b64baafaaf1aa5"><code>db744ba</code></a></td><td><code>Add sage.libs.pari to the documentation</code></td></tr></table>




---

archive/issue_events_312273.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-02-09T15:32:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312273"
}
```



---

archive/issue_events_312274.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-02-09T15:32:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312274"
}
```



---

archive/issue_comments_328049.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThanks for the rebase.\n\nWe could improve the documentation of `sage.libs.pari`, but that's probably best kept for another ticket.",
    "created_at": "2017-02-09T17:28:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328049",
    "user": "https://github.com/defeo"
}
```

<div id="comment:22" align="right">comment:22</div>

Thanks for the rebase.

We could improve the documentation of `sage.libs.pari`, but that's probably best kept for another ticket.



---

archive/issue_events_312275.json:
```json
{
    "actor": "https://github.com/defeo",
    "created_at": "2017-02-09T17:28:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312275"
}
```



---

archive/issue_events_312276.json:
```json
{
    "actor": "https://github.com/defeo",
    "created_at": "2017-02-09T17:28:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312276"
}
```



---

archive/issue_events_312277.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-02-10T08:27:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312277"
}
```



---

archive/issue_events_312278.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-02-10T08:27:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312278"
}
```



---

archive/issue_comments_328050.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nSome details...\n\n1. You forgot to remove one `int()` here:\n\n```\nsage: int(2) ** pari(-5)\n```\n\n2. Why did you remove this?\n\n```\nsage: bnr = pari(\"K = bnfinit(x^4 - 4*x^2 + 1); bnrinit(K, 2*x)\")\nsage: bnr.nf_get_pol()\n```\n\n3. This sentence is no longer relevant:\n\n```\nHowever, beware that ``pari(L)`` returns an absolute number field::\n```\n\n4. This is a significant change:\n\n```\n-            sage: two = RealField(256)(2)._pari_()\n+            sage: two = pari(2)\n```\nInstead, you could use\n\n```\ntwo = pari(\"2.0000000000000000000000000000000000000000000000000000000000000000000000000000\")\n```\n\n5. This is confusing since the `5/3` is not the fraction 5/3 in Python!\n\n```\nsage: pari([-1, 5/3, -8.0]).vecmin()\n```\nYou could keep the original test with quotes: `pari(\"[1, -5/3, 8.0]\").vecmin()`",
    "created_at": "2017-02-10T08:27:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328050",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:23" align="right">comment:23</div>

Some details...

1. You forgot to remove one `int()` here:

```
sage: int(2) ** pari(-5)
```

2. Why did you remove this?

```
sage: bnr = pari("K = bnfinit(x^4 - 4*x^2 + 1); bnrinit(K, 2*x)")
sage: bnr.nf_get_pol()
```

3. This sentence is no longer relevant:

```
However, beware that ``pari(L)`` returns an absolute number field::
```

4. This is a significant change:

```
-            sage: two = RealField(256)(2)._pari_()
+            sage: two = pari(2)
```
Instead, you could use

```
two = pari("2.0000000000000000000000000000000000000000000000000000000000000000000000000000")
```

5. This is confusing since the `5/3` is not the fraction 5/3 in Python!

```
sage: pari([-1, 5/3, -8.0]).vecmin()
```
You could keep the original test with quotes: `pari("[1, -5/3, 8.0]").vecmin()`



---

archive/issue_comments_328051.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\n> 1. You forgot to remove one `int()` here:\n> \n> ```\n> sage: int(2) ** pari(-5)\n> ```\n\nThis breaks in Sage, unless we positive review #22321. But I wanted to explore that ticket a bit more before setting it to needs review.\n\nOn the other hand, it doesn't hurt Python.\n\n> 2. Why did you remove this?\n> \n> ```\n> sage: bnr = pari(\"K = bnfinit(x^4 - 4*x^2 + 1); bnrinit(K, 2*x)\")\n> sage: bnr.nf_get_pol()\n> ```\n\nI did not remove it. I changed it to\n\n```\nsage: x = pari('x')                                                                                                         \nsage: K = (x**4 - 4*x**2 + 1).nfinit()\nsage: K.nf_get_pol()                                                                                                        \n```\n\nwhich seems to be functionally equivalent and more concise. However, you know PARI better than me. If you think that's more appropriate, I can change it to\n \n\n```\nsage: x = pari('x')                                                                                                         \nsage: K = (x**4 - 4*x**2 + 1).bnfinit().bnrinit(2*x)                                                                        \nsage: K.nf_get_pol()                                                                                                        \n```",
    "created_at": "2017-02-10T15:06:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328051",
    "user": "https://github.com/defeo"
}
```

<div id="comment:24" align="right">comment:24</div>

> 1. You forgot to remove one `int()` here:
> 
> ```
> sage: int(2) ** pari(-5)
> ```

This breaks in Sage, unless we positive review #22321. But I wanted to explore that ticket a bit more before setting it to needs review.

On the other hand, it doesn't hurt Python.

> 2. Why did you remove this?
> 
> ```
> sage: bnr = pari("K = bnfinit(x^4 - 4*x^2 + 1); bnrinit(K, 2*x)")
> sage: bnr.nf_get_pol()
> ```

I did not remove it. I changed it to

```
sage: x = pari('x')                                                                                                         
sage: K = (x**4 - 4*x**2 + 1).nfinit()
sage: K.nf_get_pol()                                                                                                        
```

which seems to be functionally equivalent and more concise. However, you know PARI better than me. If you think that's more appropriate, I can change it to
 

```
sage: x = pari('x')                                                                                                         
sage: K = (x**4 - 4*x**2 + 1).bnfinit().bnrinit(2*x)                                                                        
sage: K.nf_get_pol()                                                                                                        
```



---

archive/issue_comments_328052.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/22193](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/22193)** to **[u/defeo/22193](https://github.com/sagemath/sagetrac-mirror/tree/u/defeo/22193)**",
    "created_at": "2017-02-10T15:09:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328052",
    "user": "https://github.com/defeo"
}
```

Changed branch from **[u/jdemeyer/22193](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/22193)** to **[u/defeo/22193](https://github.com/sagemath/sagetrac-mirror/tree/u/defeo/22193)**



---

archive/issue_comments_328053.json:
```json
{
    "body": "Changed commit from **[`db744ba`](https://github.com/sagemath/sagetrac-mirror/commit/db744ba0f606e1fda2fa7cac94b64baafaaf1aa5)** to **[`3e4bc1c`](https://github.com/sagemath/sagetrac-mirror/commit/3e4bc1c84add1fc78e8951ae3d531cc59e033c42)**",
    "created_at": "2017-02-10T15:09:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328053",
    "user": "https://github.com/defeo"
}
```

Changed commit from **[`db744ba`](https://github.com/sagemath/sagetrac-mirror/commit/db744ba0f606e1fda2fa7cac94b64baafaaf1aa5)** to **[`3e4bc1c`](https://github.com/sagemath/sagetrac-mirror/commit/3e4bc1c84add1fc78e8951ae3d531cc59e033c42)**



---

archive/issue_comments_328054.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nfixed the rest\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e4bc1c84add1fc78e8951ae3d531cc59e033c42\"><code>3e4bc1c</code></a></td><td><code>Restored some doctests</code></td></tr></table>\n",
    "created_at": "2017-02-10T15:09:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328054",
    "user": "https://github.com/defeo"
}
```

<div id="comment:26" align="right">comment:26</div>

fixed the rest

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e4bc1c84add1fc78e8951ae3d531cc59e033c42"><code>3e4bc1c</code></a></td><td><code>Restored some doctests</code></td></tr></table>




---

archive/issue_comments_328055.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0348e00f854a147baa36af3172a57c36878db4c9\"><code>0348e00</code></a></td><td><code>Implement `__index__` for PARI Gen</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/50593d693c55e77ecf18459d8fd3baec047307e5\"><code>50593d6</code></a></td><td><code>Minor fixes to __index__</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/83965bd73676272c17dea40254d69819edc151ce\"><code>83965bd</code></a></td><td><code>Merge branch 'u/jdemeyer/implement___index___for_pari_gen' of git://trac.sagemath.org/sage into t/22193/22193</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4efdc2d774abfb09d9cb7d8ecee168091356bc5b\"><code>4efdc2d</code></a></td><td><code>Removed one unnecessary conversion to int in doctest</code></td></tr></table>\n",
    "created_at": "2017-02-10T15:16:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328055",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0348e00f854a147baa36af3172a57c36878db4c9"><code>0348e00</code></a></td><td><code>Implement `__index__` for PARI Gen</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/50593d693c55e77ecf18459d8fd3baec047307e5"><code>50593d6</code></a></td><td><code>Minor fixes to __index__</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/83965bd73676272c17dea40254d69819edc151ce"><code>83965bd</code></a></td><td><code>Merge branch 'u/jdemeyer/implement___index___for_pari_gen' of git://trac.sagemath.org/sage into t/22193/22193</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4efdc2d774abfb09d9cb7d8ecee168091356bc5b"><code>4efdc2d</code></a></td><td><code>Removed one unnecessary conversion to int in doctest</code></td></tr></table>




---

archive/issue_comments_328056.json:
```json
{
    "body": "Changed commit from **[`3e4bc1c`](https://github.com/sagemath/sagetrac-mirror/commit/3e4bc1c84add1fc78e8951ae3d531cc59e033c42)** to **[`4efdc2d`](https://github.com/sagemath/sagetrac-mirror/commit/4efdc2d774abfb09d9cb7d8ecee168091356bc5b)**",
    "created_at": "2017-02-10T15:16:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328056",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3e4bc1c`](https://github.com/sagemath/sagetrac-mirror/commit/3e4bc1c84add1fc78e8951ae3d531cc59e033c42)** to **[`4efdc2d`](https://github.com/sagemath/sagetrac-mirror/commit/4efdc2d774abfb09d9cb7d8ecee168091356bc5b)**



---

archive/issue_comments_328057.json:
```json
{
    "body": "Dependencies: **#22319**",
    "created_at": "2017-02-10T15:18:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328057",
    "user": "https://github.com/defeo"
}
```

Dependencies: **#22319**



---

archive/issue_comments_328058.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@defeo](#comment:24):\n> > 1. You forgot to remove one `int()` here:\n> > \n> > ```\n> > sage: int(2) ** pari(-5)\n> > ```\n\n> \n> This breaks in Sage, unless we positive review #22321.\n\nWait, no, I got confused: it just needs #22319, which is positive reviewed. Fixed now.",
    "created_at": "2017-02-10T15:18:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328058",
    "user": "https://github.com/defeo"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@defeo](#comment:24):
> > 1. You forgot to remove one `int()` here:
> > 
> > ```
> > sage: int(2) ** pari(-5)
> > ```

> 
> This breaks in Sage, unless we positive review #22321.

Wait, no, I got confused: it just needs #22319, which is positive reviewed. Fixed now.



---

archive/issue_comments_328059.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@defeo](#comment:24):\n> ... which seems to be functionally equivalent\n\nBut the `bnrinit()` call is gone, so it's clearly a different test.\n\nWhy not keep the original test? It should work as written in CyPari2.",
    "created_at": "2017-02-10T15:35:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328059",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@defeo](#comment:24):
> ... which seems to be functionally equivalent

But the `bnrinit()` call is gone, so it's clearly a different test.

Why not keep the original test? It should work as written in CyPari2.



---

archive/issue_comments_328060.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@jdemeyer](#comment:29):\n> Replying to [@defeo](#comment:24):\n> > ... which seems to be functionally equivalent\n\n> \n> But the `bnrinit()` call is gone, so it's clearly a different test.\n> \n> Why not keep the original test? It should work as written in CyPari2.\n\nBecause examples in the documentation should show the proper way to do things, not the ugly one.\n\nI admit I do not understand the reason for the call to `bnrinit()`, maybe you can elucidate.\n\nWe can put the old test in `TESTS::`, however, if you wish to keep it.",
    "created_at": "2017-02-10T15:56:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328060",
    "user": "https://github.com/defeo"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@jdemeyer](#comment:29):
> Replying to [@defeo](#comment:24):
> > ... which seems to be functionally equivalent

> 
> But the `bnrinit()` call is gone, so it's clearly a different test.
> 
> Why not keep the original test? It should work as written in CyPari2.

Because examples in the documentation should show the proper way to do things, not the ugly one.

I admit I do not understand the reason for the call to `bnrinit()`, maybe you can elucidate.

We can put the old test in `TESTS::`, however, if you wish to keep it.



---

archive/issue_comments_328061.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@defeo](#comment:30):\n> I admit I do not understand the reason for the call to `bnrinit()`, maybe you can elucidate.\n\nIt shows that `nf_get_pol()` works when given a bnr (the output of `bnrinit()`) as input. So it is an important test which really should not be removed.",
    "created_at": "2017-02-10T16:01:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328061",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@defeo](#comment:30):
> I admit I do not understand the reason for the call to `bnrinit()`, maybe you can elucidate.

It shows that `nf_get_pol()` works when given a bnr (the output of `bnrinit()`) as input. So it is an important test which really should not be removed.



---

archive/issue_comments_328062.json:
```json
{
    "body": "Changed commit from **[`4efdc2d`](https://github.com/sagemath/sagetrac-mirror/commit/4efdc2d774abfb09d9cb7d8ecee168091356bc5b)** to **[`96ddcd3`](https://github.com/sagemath/sagetrac-mirror/commit/96ddcd3616f7c18b757a34af4a15241b0696439d)**",
    "created_at": "2017-02-10T16:05:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328062",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4efdc2d`](https://github.com/sagemath/sagetrac-mirror/commit/4efdc2d774abfb09d9cb7d8ecee168091356bc5b)** to **[`96ddcd3`](https://github.com/sagemath/sagetrac-mirror/commit/96ddcd3616f7c18b757a34af4a15241b0696439d)**



---

archive/issue_comments_328063.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/96ddcd3616f7c18b757a34af4a15241b0696439d\"><code>96ddcd3</code></a></td><td><code>Restored old example with bnr</code></td></tr></table>\n",
    "created_at": "2017-02-10T16:05:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328063",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/96ddcd3616f7c18b757a34af4a15241b0696439d"><code>96ddcd3</code></a></td><td><code>Restored old example with bnr</code></td></tr></table>




---

archive/issue_comments_328064.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nwhat about this?",
    "created_at": "2017-02-10T16:06:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328064",
    "user": "https://github.com/defeo"
}
```

<div id="comment:33" align="right">comment:33</div>

what about this?



---

archive/issue_events_312279.json:
```json
{
    "actor": "https://github.com/defeo",
    "created_at": "2017-02-10T16:06:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312279"
}
```



---

archive/issue_events_312280.json:
```json
{
    "actor": "https://github.com/defeo",
    "created_at": "2017-02-10T16:06:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312280"
}
```



---

archive/issue_events_312281.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-02-11T09:35:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312281"
}
```



---

archive/issue_events_312282.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-02-11T09:35:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312282"
}
```



---

archive/issue_comments_328065.json:
```json
{
    "body": "Changed branch from **[u/defeo/22193](https://github.com/sagemath/sagetrac-mirror/tree/u/defeo/22193)** to **[`96ddcd3`](https://github.com/sagemath/sagetrac-mirror/commit/96ddcd3616f7c18b757a34af4a15241b0696439d)**",
    "created_at": "2017-02-12T22:08:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328065",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/defeo/22193](https://github.com/sagemath/sagetrac-mirror/tree/u/defeo/22193)** to **[`96ddcd3`](https://github.com/sagemath/sagetrac-mirror/commit/96ddcd3616f7c18b757a34af4a15241b0696439d)**



---

archive/issue_events_312283.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-02-12T22:08:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312283"
}
```



---

archive/issue_events_312284.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-02-12T22:08:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312284"
}
```



---

archive/issue_comments_328066.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nfails on 32-bit:\n\n```\nsage -t --long src/sage/libs/cypari2/pari_instance.pyx\n3569**********************************************************************\n3570File \"src/sage/libs/cypari2/pari_instance.pyx\", line 112, in sage.libs.cypari2.pari_instance\n3571Failed example:\n3572    pari(float(1.0)).sin(precision=180) - pari(1).sin(precision=180)\n3573Expected:\n3574    5.42101086242752 E-20\n3575Got:\n3576    5.42101086 E-20\n3577**********************************************************************\n35781 item had failures:\n3579   1 of  31 in sage.libs.cypari2.pari_instance\n3580    [151 tests, 1 failure, 0.33 s]\n```",
    "created_at": "2017-02-13T19:11:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328066",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:36" align="right">comment:36</div>

fails on 32-bit:

```
sage -t --long src/sage/libs/cypari2/pari_instance.pyx
3569**********************************************************************
3570File "src/sage/libs/cypari2/pari_instance.pyx", line 112, in sage.libs.cypari2.pari_instance
3571Failed example:
3572    pari(float(1.0)).sin(precision=180) - pari(1).sin(precision=180)
3573Expected:
3574    5.42101086242752 E-20
3575Got:
3576    5.42101086 E-20
3577**********************************************************************
35781 item had failures:
3579   1 of  31 in sage.libs.cypari2.pari_instance
3580    [151 tests, 1 failure, 0.33 s]
```



---

archive/issue_comments_328067.json:
```json
{
    "body": "Changed commit from **[`96ddcd3`](https://github.com/sagemath/sagetrac-mirror/commit/96ddcd3616f7c18b757a34af4a15241b0696439d)** to none",
    "created_at": "2017-02-13T19:11:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328067",
    "user": "https://github.com/vbraun"
}
```

Changed commit from **[`96ddcd3`](https://github.com/sagemath/sagetrac-mirror/commit/96ddcd3616f7c18b757a34af4a15241b0696439d)** to none



---

archive/issue_comments_328068.json:
```json
{
    "body": "Changed branch from **[`96ddcd3`](https://github.com/sagemath/sagetrac-mirror/commit/96ddcd3616f7c18b757a34af4a15241b0696439d)** to **[u/defeo/96ddcd3616f7c18b757a34af4a15241b0696439d](https://github.com/sagemath/sagetrac-mirror/tree/u/defeo/96ddcd3616f7c18b757a34af4a15241b0696439d)**",
    "created_at": "2017-02-15T11:32:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328068",
    "user": "https://github.com/defeo"
}
```

Changed branch from **[`96ddcd3`](https://github.com/sagemath/sagetrac-mirror/commit/96ddcd3616f7c18b757a34af4a15241b0696439d)** to **[u/defeo/96ddcd3616f7c18b757a34af4a15241b0696439d](https://github.com/sagemath/sagetrac-mirror/tree/u/defeo/96ddcd3616f7c18b757a34af4a15241b0696439d)**



---

archive/issue_comments_328069.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8608c943687254338f3084233fba6b1df27b29fd\"><code>8608c94</code></a></td><td><code>Made docstrings in libs/cypari2 mostly Sage-independent</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3cb08162bfbc1d5b64f8899bd455907e6ddec937\"><code>3cb0816</code></a></td><td><code>Removed Sage-specific bits from guide to real precision</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/db744ba0f606e1fda2fa7cac94b64baafaaf1aa5\"><code>db744ba</code></a></td><td><code>Add sage.libs.pari to the documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e4bc1c84add1fc78e8951ae3d531cc59e033c42\"><code>3e4bc1c</code></a></td><td><code>Restored some doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/83965bd73676272c17dea40254d69819edc151ce\"><code>83965bd</code></a></td><td><code>Merge branch 'u/jdemeyer/implement___index___for_pari_gen' of git://trac.sagemath.org/sage into t/22193/22193</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4efdc2d774abfb09d9cb7d8ecee168091356bc5b\"><code>4efdc2d</code></a></td><td><code>Removed one unnecessary conversion to int in doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/96ddcd3616f7c18b757a34af4a15241b0696439d\"><code>96ddcd3</code></a></td><td><code>Restored old example with bnr</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27251c31be002d282b0b10d9cdef92d07ee1d9c1\"><code>27251c3</code></a></td><td><code>Fixed doctests failing on 32 bits, and improved docs</code></td></tr></table>\n",
    "created_at": "2017-02-15T11:33:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328069",
    "user": "https://github.com/defeo"
}
```

<div id="comment:38"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8608c943687254338f3084233fba6b1df27b29fd"><code>8608c94</code></a></td><td><code>Made docstrings in libs/cypari2 mostly Sage-independent</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3cb08162bfbc1d5b64f8899bd455907e6ddec937"><code>3cb0816</code></a></td><td><code>Removed Sage-specific bits from guide to real precision</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/db744ba0f606e1fda2fa7cac94b64baafaaf1aa5"><code>db744ba</code></a></td><td><code>Add sage.libs.pari to the documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e4bc1c84add1fc78e8951ae3d531cc59e033c42"><code>3e4bc1c</code></a></td><td><code>Restored some doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/83965bd73676272c17dea40254d69819edc151ce"><code>83965bd</code></a></td><td><code>Merge branch 'u/jdemeyer/implement___index___for_pari_gen' of git://trac.sagemath.org/sage into t/22193/22193</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4efdc2d774abfb09d9cb7d8ecee168091356bc5b"><code>4efdc2d</code></a></td><td><code>Removed one unnecessary conversion to int in doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/96ddcd3616f7c18b757a34af4a15241b0696439d"><code>96ddcd3</code></a></td><td><code>Restored old example with bnr</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27251c31be002d282b0b10d9cdef92d07ee1d9c1"><code>27251c3</code></a></td><td><code>Fixed doctests failing on 32 bits, and improved docs</code></td></tr></table>




---

archive/issue_events_312285.json:
```json
{
    "actor": "https://github.com/defeo",
    "created_at": "2017-02-15T11:33:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312285"
}
```



---

archive/issue_comments_328070.json:
```json
{
    "body": "Commit: **[`27251c3`](https://github.com/sagemath/sagetrac-mirror/commit/27251c31be002d282b0b10d9cdef92d07ee1d9c1)**",
    "created_at": "2017-02-15T11:33:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328070",
    "user": "https://github.com/defeo"
}
```

Commit: **[`27251c3`](https://github.com/sagemath/sagetrac-mirror/commit/27251c31be002d282b0b10d9cdef92d07ee1d9c1)**



---

archive/issue_events_312286.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-02-15T11:57:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312286"
}
```



---

archive/issue_events_312287.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-02-15T11:57:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312287"
}
```



---

archive/issue_comments_328071.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nI think  it would be better to keep the spirit of the original examples instead of inventing a pointless example like `pari(float(1.0)).sin(precision=180) - pari(1).sin(precision=180) == 0`. Remember that these doctests are meant as *documentation* and I don't see what you are documenting there...",
    "created_at": "2017-02-15T11:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328071",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:39" align="right">comment:39</div>

I think  it would be better to keep the spirit of the original examples instead of inventing a pointless example like `pari(float(1.0)).sin(precision=180) - pari(1).sin(precision=180) == 0`. Remember that these doctests are meant as *documentation* and I don't see what you are documenting there...



---

archive/issue_comments_328072.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nReplying to [@jdemeyer](#comment:39):\n> I think  it would be better to keep the spirit of the original examples instead of inventing a pointless example like `pari(float(1.0)).sin(precision=180) - pari(1).sin(precision=180) == 0`. Remember that these doctests are meant as *documentation* and I don't see what you are documenting there...\n\nThe original documentation said\n\n```\nIn the third case, the precision is determined only by the inexact\ninputs and the ``precision`` argument is ignored::\n                                                  \n    sage: pari(1.0).sin(precision=180).sage()\n    0.841470984807896507\n    sage: pari(1.0).sin(precision=40).sage()\n    0.841470984807896507\n    sage: pari(RealField(100).one()).sin().sage()\n    0.84147098480789650665250232163029899962\n```\n\nwhich has no equivalent in CyPari. Would you find this clearer?\n\n```\n    sage: d = pari(float(1.0)).sin(precision=180); d\n    0.8414709848078965067\n    sage: d.bitprecision()                                 \n    64\n```\n\nHowever this test is also architecture dependent.",
    "created_at": "2017-02-15T12:19:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328072",
    "user": "https://github.com/defeo"
}
```

<div id="comment:40" align="right">comment:40</div>

Replying to [@jdemeyer](#comment:39):
> I think  it would be better to keep the spirit of the original examples instead of inventing a pointless example like `pari(float(1.0)).sin(precision=180) - pari(1).sin(precision=180) == 0`. Remember that these doctests are meant as *documentation* and I don't see what you are documenting there...

The original documentation said

```
In the third case, the precision is determined only by the inexact
inputs and the ``precision`` argument is ignored::
                                                  
    sage: pari(1.0).sin(precision=180).sage()
    0.841470984807896507
    sage: pari(1.0).sin(precision=40).sage()
    0.841470984807896507
    sage: pari(RealField(100).one()).sin().sage()
    0.84147098480789650665250232163029899962
```

which has no equivalent in CyPari. Would you find this clearer?

```
    sage: d = pari(float(1.0)).sin(precision=180); d
    0.8414709848078965067
    sage: d.bitprecision()                                 
    64
```

However this test is also architecture dependent.



---

archive/issue_comments_328073.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\n@jdemeyer ping?\n\nReplying to [@defeo](#comment:40):\n> Replying to [@jdemeyer](#comment:39):\n> Would you find this clearer?\n> \n> ```\n>     sage: d = pari(float(1.0)).sin(precision=180); d\n>     0.8414709848078965067\n>     sage: d.bitprecision()                                 \n>     64\n> ```\n> \n> However this test is also architecture dependent.",
    "created_at": "2017-02-16T21:07:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328073",
    "user": "https://github.com/defeo"
}
```

<div id="comment:41" align="right">comment:41</div>

@jdemeyer ping?

Replying to [@defeo](#comment:40):
> Replying to [@jdemeyer](#comment:39):
> Would you find this clearer?
> 
> ```
>     sage: d = pari(float(1.0)).sin(precision=180); d
>     0.8414709848078965067
>     sage: d.bitprecision()                                 
>     64
> ```
> 
> However this test is also architecture dependent.



---

archive/issue_comments_328074.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nReplying to [@defeo](#comment:40):\n> which has no equivalent in CyPari.\n\nI disagree with this.\n\nThere are plenty of ways to create high-precision numbers in CyPari:\n\n```\nsage: n = pari(\"1.0000000000000000000000000000\"); n.bitprecision()\n128\nsage: n = pari(\"localbitprec(100); 1.0\"); n.bitprecision()\n128\nsage: n = pari(1.0).bitprecision(100); n.bitprecision()\n128\n```\n\nPersonally, I would prefer the third way.\n\nSo I think that you can mostly keep the old doctests, just replacing `pari(RealField(100)(1.0))` by `pari(1.0).bitprecision(100)`.",
    "created_at": "2017-02-17T13:38:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328074",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:42" align="right">comment:42</div>

Replying to [@defeo](#comment:40):
> which has no equivalent in CyPari.

I disagree with this.

There are plenty of ways to create high-precision numbers in CyPari:

```
sage: n = pari("1.0000000000000000000000000000"); n.bitprecision()
128
sage: n = pari("localbitprec(100); 1.0"); n.bitprecision()
128
sage: n = pari(1.0).bitprecision(100); n.bitprecision()
128
```

Personally, I would prefer the third way.

So I think that you can mostly keep the old doctests, just replacing `pari(RealField(100)(1.0))` by `pari(1.0).bitprecision(100)`.



---

archive/issue_comments_328075.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nLooking at the documentation of precision more carefully, I think you should actually restore larger parts of the docs. For example, the first part of \"Internal representation and conversion between Sage and PARI\" and all of \"Output precision for printing\" should be kept for CyPari2.",
    "created_at": "2017-02-17T13:44:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328075",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:43" align="right">comment:43</div>

Looking at the documentation of precision more carefully, I think you should actually restore larger parts of the docs. For example, the first part of "Internal representation and conversion between Sage and PARI" and all of "Output precision for printing" should be kept for CyPari2.



---

archive/issue_comments_328076.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nReplying to [@jdemeyer](#comment:43):\n> For example, the first part of \"Internal representation and conversion between Sage and PARI\" \n\nThere's pretty much nothing that can be salvaged from this section: precision in PARI is in multiples of 32 or 64. That's it.\n\n> and all of \"Output precision for printing\" should be kept for CyPari2.\n\nI think this section is completely misleading, and the more I try to understand, the less I get it. It talks about \"printing\" precision, `set_real_precision` seems to affect more than printing:\n\n```\nsage: pari.set_real_precision_bits(1000)\nsage: a = pari('Pi')\nsage: \nsage: pari.set_real_precision_bits(10)\nsage: b = pari('Pi')\nsage: a - b\n-2.17 E-19\nsage: pari.set_real_precision_bits(1000)\nsage: a - b\n-2.168404344971008868 E-19\nsage: a - b.bitprecision(1000)\n-5.016557612668332023557327080330757013833665769218359371379100137196517465788293201785191348671769335290615539044941776827464059187151888254971589729806147889444035537705104506961803557118902433406655387152435176621321683472879809085435143307653965138954567335178660639273975085872627541300 E-20\n```\n\nI think this whole part needs to be rewritten, not translated from the old docs. Problem is, I'm not sure I understand what it does.",
    "created_at": "2017-02-17T15:22:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328076",
    "user": "https://github.com/defeo"
}
```

<div id="comment:44" align="right">comment:44</div>

Replying to [@jdemeyer](#comment:43):
> For example, the first part of "Internal representation and conversion between Sage and PARI" 

There's pretty much nothing that can be salvaged from this section: precision in PARI is in multiples of 32 or 64. That's it.

> and all of "Output precision for printing" should be kept for CyPari2.

I think this section is completely misleading, and the more I try to understand, the less I get it. It talks about "printing" precision, `set_real_precision` seems to affect more than printing:

```
sage: pari.set_real_precision_bits(1000)
sage: a = pari('Pi')
sage: 
sage: pari.set_real_precision_bits(10)
sage: b = pari('Pi')
sage: a - b
-2.17 E-19
sage: pari.set_real_precision_bits(1000)
sage: a - b
-2.168404344971008868 E-19
sage: a - b.bitprecision(1000)
-5.016557612668332023557327080330757013833665769218359371379100137196517465788293201785191348671769335290615539044941776827464059187151888254971589729806147889444035537705104506961803557118902433406655387152435176621321683472879809085435143307653965138954567335178660639273975085872627541300 E-20
```

I think this whole part needs to be rewritten, not translated from the old docs. Problem is, I'm not sure I understand what it does.



---

archive/issue_comments_328077.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nCan you explain me what you don't understand?\n\nI could certainly try to improve the docs, but then I need to know what's wrong with the current docs.",
    "created_at": "2017-02-17T18:46:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328077",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:45" align="right">comment:45</div>

Can you explain me what you don't understand?

I could certainly try to improve the docs, but then I need to know what's wrong with the current docs.



---

archive/issue_comments_328078.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nReplying to [@defeo](#comment:44):\n> There's pretty much nothing that can be salvaged from this section: precision in PARI is in multiples of 32 or 64. That's it.\n\n...but that is a very important fact to mention which is certainly more than \"pretty much nothing\".",
    "created_at": "2017-02-17T18:47:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328078",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:46" align="right">comment:46</div>

Replying to [@defeo](#comment:44):
> There's pretty much nothing that can be salvaged from this section: precision in PARI is in multiples of 32 or 64. That's it.

...but that is a very important fact to mention which is certainly more than "pretty much nothing".



---

archive/issue_comments_328079.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nReplying to [@defeo](#comment:44):\n> I think this section is completely misleading, and the more I try to understand, the less I get it. It talks about \"printing\" precision, `set_real_precision` seems to affect more than printing:\n\nI hope that \"completely misleading\" is an exaggeration. The sentence \"The maximum number of digits when printing a PARI real can be set using the methods `Pari.set_real_precision_bits` or `Pari.set_real_precision`\" is correct but it's true that `set_real_precision_bits` affects more than just printing. It also affects precision for numbers parsed using the string interface, which is documented in the \"Input precision for function calls\" section. So I wonder where your confusion comes from.",
    "created_at": "2017-02-17T18:52:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328079",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:47" align="right">comment:47</div>

Replying to [@defeo](#comment:44):
> I think this section is completely misleading, and the more I try to understand, the less I get it. It talks about "printing" precision, `set_real_precision` seems to affect more than printing:

I hope that "completely misleading" is an exaggeration. The sentence "The maximum number of digits when printing a PARI real can be set using the methods `Pari.set_real_precision_bits` or `Pari.set_real_precision`" is correct but it's true that `set_real_precision_bits` affects more than just printing. It also affects precision for numbers parsed using the string interface, which is documented in the "Input precision for function calls" section. So I wonder where your confusion comes from.



---

archive/issue_comments_328080.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nSorry, I shouldn't be doing so many things in parallel. I'll try to frame my doubts better.\n\nFor one, I do not understand this:\n\n```\nsage: pi = pari('Pi')\nsage: a = pari(float(1.0))\nsage: pari.set_real_precision(500)\n15\nsage: pi\n3.141592653589793239\nsage: a\n1.0000000000000000000\nsage: pi.bitprecision(1000)\n3.1415926535897932385128089594061862044327426701784133911132812500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\nsage: a.bitprecision(1000)\n1.00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\n```\n\nHow does PARI decide what bits to add when calling `bitprecision()`? Why does `Pi` have junk digits before all the zeros, while `1.0` gets only added zeros?",
    "created_at": "2017-02-17T22:12:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328080",
    "user": "https://github.com/defeo"
}
```

<div id="comment:48" align="right">comment:48</div>

Sorry, I shouldn't be doing so many things in parallel. I'll try to frame my doubts better.

For one, I do not understand this:

```
sage: pi = pari('Pi')
sage: a = pari(float(1.0))
sage: pari.set_real_precision(500)
15
sage: pi
3.141592653589793239
sage: a
1.0000000000000000000
sage: pi.bitprecision(1000)
3.1415926535897932385128089594061862044327426701784133911132812500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
sage: a.bitprecision(1000)
1.00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
```

How does PARI decide what bits to add when calling `bitprecision()`? Why does `Pi` have junk digits before all the zeros, while `1.0` gets only added zeros?



---

archive/issue_comments_328081.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nThen, there's the fact that I expect (too optimistically) `Pi` to be a *symbolic* quantity, i.e. that incrementing precision (with `pi.bitprecision(1000)`) would compute correctly the new digits instead of adding random junk.\n\nThat's probably asking too much from PARI, but I got bad habits from Sage :)\n\nThe same behavior from `pari.pi()` surprises me much less: when I see a function call, I understand that's a function supposed to compute \u03c0 up to a fixed precision.\n\nAnyway, not much we can do here: that's the way PARI it is.",
    "created_at": "2017-02-17T22:18:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328081",
    "user": "https://github.com/defeo"
}
```

<div id="comment:49" align="right">comment:49</div>

Then, there's the fact that I expect (too optimistically) `Pi` to be a *symbolic* quantity, i.e. that incrementing precision (with `pi.bitprecision(1000)`) would compute correctly the new digits instead of adding random junk.

That's probably asking too much from PARI, but I got bad habits from Sage :)

The same behavior from `pari.pi()` surprises me much less: when I see a function call, I understand that's a function supposed to compute π up to a fixed precision.

Anyway, not much we can do here: that's the way PARI it is.



---

archive/issue_comments_328082.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nAnd, finally, when I read\n\n> The maximum number of digits when printing a PARI real can be set using the methods :meth:`Pari.set_real_precision_bits` or :meth:`Pari.set_real_precision`.\n\nI understand that's the SOLE role of `set_real_precision`: controlling output precision. Then, when I go further down, I discover that it also controls input precision for strings.\n\nI would find it clearer, if it was stated right away that `set_real_precision` controls input and output precision for strings.",
    "created_at": "2017-02-17T22:21:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328082",
    "user": "https://github.com/defeo"
}
```

<div id="comment:50" align="right">comment:50</div>

And, finally, when I read

> The maximum number of digits when printing a PARI real can be set using the methods :meth:`Pari.set_real_precision_bits` or :meth:`Pari.set_real_precision`.

I understand that's the SOLE role of `set_real_precision`: controlling output precision. Then, when I go further down, I discover that it also controls input precision for strings.

I would find it clearer, if it was stated right away that `set_real_precision` controls input and output precision for strings.



---

archive/issue_comments_328083.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nReplying to [@defeo](#comment:48):\n> Sorry, I shouldn't be doing so many things in parallel. I'll try to frame my doubts better.\n> \n> For one, I do not understand this:\n> \n> ```\n> sage: pi = pari('Pi')\n> sage: a = pari(float(1.0))\n> sage: pari.set_real_precision(500)\n> 15\n> sage: pi\n> 3.141592653589793239\n> sage: a\n> 1.0000000000000000000\n> sage: pi.bitprecision(1000)\n> 3.1415926535897932385128089594061862044327426701784133911132812500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\n> sage: a.bitprecision(1000)\n> 1.00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\n> ```\n> \n> How does PARI decide what bits to add when calling `bitprecision()`?\n\nIt just adds zero bits.\n\n> Why does `Pi` have junk digits before all the zeros, while `1.0` gets only added zeros?\n\nYou should not make any conclusions from the *decimal* representation of the number, in binary it's just zeros.\n\nReplying to [@defeo](#comment:49):\n> Then, there's the fact that I expect (too optimistically) `Pi` to be a *symbolic* quantity, i.e. that incrementing precision (with `pi.bitprecision(1000)`) would compute correctly the new digits instead of adding random junk.\n\nPARI doesn't really do symbolic computations. `Pi` does a computation returning a floating-point approximation of \u03c0.\n\n> The same behavior from `pari.pi()` surprises me much less: when I see a function call, I understand that's a function supposed to compute \u03c0 up to a fixed precision.\n\nActually, `Pi` is a function call. This works:\n\n```\ngp> Pi()\n%1 = 3.1415926535897932384626433832795028842\n```\nIt's just that the GP parser turns `Pi` into `Pi()` to improve user-friendliness.",
    "created_at": "2017-02-18T08:51:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328083",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:51" align="right">comment:51</div>

Replying to [@defeo](#comment:48):
> Sorry, I shouldn't be doing so many things in parallel. I'll try to frame my doubts better.
> 
> For one, I do not understand this:
> 
> ```
> sage: pi = pari('Pi')
> sage: a = pari(float(1.0))
> sage: pari.set_real_precision(500)
> 15
> sage: pi
> 3.141592653589793239
> sage: a
> 1.0000000000000000000
> sage: pi.bitprecision(1000)
> 3.1415926535897932385128089594061862044327426701784133911132812500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
> sage: a.bitprecision(1000)
> 1.00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
> ```
> 
> How does PARI decide what bits to add when calling `bitprecision()`?

It just adds zero bits.

> Why does `Pi` have junk digits before all the zeros, while `1.0` gets only added zeros?

You should not make any conclusions from the *decimal* representation of the number, in binary it's just zeros.

Replying to [@defeo](#comment:49):
> Then, there's the fact that I expect (too optimistically) `Pi` to be a *symbolic* quantity, i.e. that incrementing precision (with `pi.bitprecision(1000)`) would compute correctly the new digits instead of adding random junk.

PARI doesn't really do symbolic computations. `Pi` does a computation returning a floating-point approximation of π.

> The same behavior from `pari.pi()` surprises me much less: when I see a function call, I understand that's a function supposed to compute π up to a fixed precision.

Actually, `Pi` is a function call. This works:

```
gp> Pi()
%1 = 3.1415926535897932384626433832795028842
```
It's just that the GP parser turns `Pi` into `Pi()` to improve user-friendliness.



---

archive/issue_comments_328084.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\n> > Why does `Pi` have junk digits before all the zeros, while `1.0` gets only added zeros?\n\n> \n> You should not make any conclusions from the *decimal* representation of the number, in binary it's just zeros.\n\nRight. So I think \n\n```\nn = pari(1.0).bitprecision(100)\n```\n\nis giving bad advice to the user: it only gets the intended value by chance, and the doctstring of `bitprecision` does nothing to help the user guess what the result would be.\n\n> It's just that the GP parser turns `Pi` into `Pi()` to improve user-friendliness.\n\nI call this user-hateness.",
    "created_at": "2017-02-18T16:27:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328084",
    "user": "https://github.com/defeo"
}
```

<div id="comment:52" align="right">comment:52</div>

> > Why does `Pi` have junk digits before all the zeros, while `1.0` gets only added zeros?

> 
> You should not make any conclusions from the *decimal* representation of the number, in binary it's just zeros.

Right. So I think 

```
n = pari(1.0).bitprecision(100)
```

is giving bad advice to the user: it only gets the intended value by chance, and the doctstring of `bitprecision` does nothing to help the user guess what the result would be.

> It's just that the GP parser turns `Pi` into `Pi()` to improve user-friendliness.

I call this user-hateness.



---

archive/issue_comments_328085.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nFeel free to complain to the PARI developers for anything that you don't like...",
    "created_at": "2017-02-18T17:43:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328085",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:53" align="right">comment:53</div>

Feel free to complain to the PARI developers for anything that you don't like...



---

archive/issue_comments_328086.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nLuca, are you going to work on this, or should I?",
    "created_at": "2017-02-21T07:41:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328086",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:54" align="right">comment:54</div>

Luca, are you going to work on this, or should I?



---

archive/issue_comments_328087.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nSorry, I was busy teaching. I was meaning to finalize this, but if I don't make it by today, it will have to wait until Fri.\n\nOf course, if you have time to donate to this, feel free to jump in.",
    "created_at": "2017-02-21T10:08:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328087",
    "user": "https://github.com/defeo"
}
```

<div id="comment:55" align="right">comment:55</div>

Sorry, I was busy teaching. I was meaning to finalize this, but if I don't make it by today, it will have to wait until Fri.

Of course, if you have time to donate to this, feel free to jump in.



---

archive/issue_comments_328088.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nOK, I will try to have a look today.",
    "created_at": "2017-02-22T11:38:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328088",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:56" align="right">comment:56</div>

OK, I will try to have a look today.



---

archive/issue_comments_328089.json:
```json
{
    "body": "Changed branch from **[u/defeo/96ddcd3616f7c18b757a34af4a15241b0696439d](https://github.com/sagemath/sagetrac-mirror/tree/u/defeo/96ddcd3616f7c18b757a34af4a15241b0696439d)** to **[u/jdemeyer/96ddcd3616f7c18b757a34af4a15241b0696439d](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/96ddcd3616f7c18b757a34af4a15241b0696439d)**",
    "created_at": "2017-02-22T13:02:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328089",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/defeo/96ddcd3616f7c18b757a34af4a15241b0696439d](https://github.com/sagemath/sagetrac-mirror/tree/u/defeo/96ddcd3616f7c18b757a34af4a15241b0696439d)** to **[u/jdemeyer/96ddcd3616f7c18b757a34af4a15241b0696439d](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/96ddcd3616f7c18b757a34af4a15241b0696439d)**



---

archive/issue_comments_328090.json:
```json
{
    "body": "Changed commit from **[`27251c3`](https://github.com/sagemath/sagetrac-mirror/commit/27251c31be002d282b0b10d9cdef92d07ee1d9c1)** to **[`fb79fd9`](https://github.com/sagemath/sagetrac-mirror/commit/fb79fd9275b295ac10a3d57f7acff997879f41c6)**",
    "created_at": "2017-02-22T16:05:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328090",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`27251c3`](https://github.com/sagemath/sagetrac-mirror/commit/27251c31be002d282b0b10d9cdef92d07ee1d9c1)** to **[`fb79fd9`](https://github.com/sagemath/sagetrac-mirror/commit/fb79fd9275b295ac10a3d57f7acff997879f41c6)**



---

archive/issue_comments_328091.json:
```json
{
    "body": "<div id=\"comment:58\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fb79fd9275b295ac10a3d57f7acff997879f41c6\"><code>fb79fd9</code></a></td><td><code>Update documentation about precision</code></td></tr></table>\n",
    "created_at": "2017-02-22T16:05:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328091",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:58"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fb79fd9275b295ac10a3d57f7acff997879f41c6"><code>fb79fd9</code></a></td><td><code>Update documentation about precision</code></td></tr></table>




---

archive/issue_events_312288.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-02-22T16:06:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312288"
}
```



---

archive/issue_events_312289.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-02-22T16:06:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312289"
}
```



---

archive/issue_comments_328092.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nI hope this helps...",
    "created_at": "2017-02-22T16:06:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328092",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:60" align="right">comment:60</div>

I hope this helps...



---

archive/issue_events_312290.json:
```json
{
    "actor": "https://github.com/defeo",
    "created_at": "2017-02-25T14:22:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312290"
}
```



---

archive/issue_events_312291.json:
```json
{
    "actor": "https://github.com/defeo",
    "created_at": "2017-02-25T14:22:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312291"
}
```



---

archive/issue_comments_328093.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nSorry for the delay. It is clearer now, thanks for the patch.\n\nAre you sure the doctests pass on 32-bits? This, for example:\n\n```\nsage: c = pari(1).sin(); c\n0.841470984807897\nsage: c.bitprecision()\n64\n```",
    "created_at": "2017-02-25T14:22:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328093",
    "user": "https://github.com/defeo"
}
```

<div id="comment:61" align="right">comment:61</div>

Sorry for the delay. It is clearer now, thanks for the patch.

Are you sure the doctests pass on 32-bits? This, for example:

```
sage: c = pari(1).sin(); c
0.841470984807897
sage: c.bitprecision()
64
```



---

archive/issue_comments_328094.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\n> Are you sure the doctests pass on 32-bits? This, for example:\n> \n> ```\n> sage: c = pari(1).sin(); c\n> 0.841470984807897\n> sage: c.bitprecision()\n> 64\n> ```\n\nOk, went again through the examples, and this example is obviously not a problem. The only problematic tests are those that do `pari(1.0)`: that's not arch dependent in Sage (because 1.0 is a real), but it is in Python.\n\nAnyway, they are ok for now. We shall see when we bring this to cypari.",
    "created_at": "2017-02-26T22:20:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328094",
    "user": "https://github.com/defeo"
}
```

<div id="comment:62" align="right">comment:62</div>

> Are you sure the doctests pass on 32-bits? This, for example:
> 
> ```
> sage: c = pari(1).sin(); c
> 0.841470984807897
> sage: c.bitprecision()
> 64
> ```

Ok, went again through the examples, and this example is obviously not a problem. The only problematic tests are those that do `pari(1.0)`: that's not arch dependent in Sage (because 1.0 is a real), but it is in Python.

Anyway, they are ok for now. We shall see when we bring this to cypari.



---

archive/issue_comments_328095.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nReplying to [@defeo](#comment:62):\n> The only problematic tests are those that do `pari(1.0)`: that's not arch dependent in Sage (because 1.0 is a real), but it is in Python.\n\nNo, Python floats are the same on 32-bit and 64-bit. It's true that certain *computations* involving floats might give different results. But for a conversion, the results should be the same on 32-bit and 64-bit.",
    "created_at": "2017-02-27T07:03:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328095",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:63" align="right">comment:63</div>

Replying to [@defeo](#comment:62):
> The only problematic tests are those that do `pari(1.0)`: that's not arch dependent in Sage (because 1.0 is a real), but it is in Python.

No, Python floats are the same on 32-bit and 64-bit. It's true that certain *computations* involving floats might give different results. But for a conversion, the results should be the same on 32-bit and 64-bit.



---

archive/issue_comments_328096.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\n\n```\nsage -t --long src/sage/libs/cypari2/pari_instance.pyx\n**********************************************************************\nFile \"src/sage/libs/cypari2/pari_instance.pyx\", line 91, in sage.libs.cypari2.pari_instance\nFailed example:\n    pari(\"Pi\") - p\nExpected:\n    1.22514845490862 E-16\nGot:\n    1.225148455 E-16\n**********************************************************************\nFile \"src/sage/libs/cypari2/pari_instance.pyx\", line 94, in sage.libs.cypari2.pari_instance\nFailed example:\n    pari(\"Pi\") - p\nExpected:\n    1.22514845490862 E-16\nGot:\n    1.225148455 E-16\n**********************************************************************\n1 item had failures:\n   2 of  54 in sage.libs.cypari2.pari_instance\n    [174 tests, 2 failures, 0.22 s]\n```",
    "created_at": "2017-02-28T23:23:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328096",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:64" align="right">comment:64</div>


```
sage -t --long src/sage/libs/cypari2/pari_instance.pyx
**********************************************************************
File "src/sage/libs/cypari2/pari_instance.pyx", line 91, in sage.libs.cypari2.pari_instance
Failed example:
    pari("Pi") - p
Expected:
    1.22514845490862 E-16
Got:
    1.225148455 E-16
**********************************************************************
File "src/sage/libs/cypari2/pari_instance.pyx", line 94, in sage.libs.cypari2.pari_instance
Failed example:
    pari("Pi") - p
Expected:
    1.22514845490862 E-16
Got:
    1.225148455 E-16
**********************************************************************
1 item had failures:
   2 of  54 in sage.libs.cypari2.pari_instance
    [174 tests, 2 failures, 0.22 s]
```



---

archive/issue_events_312292.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-02-28T23:23:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312292"
}
```



---

archive/issue_events_312293.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-02-28T23:23:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312293"
}
```



---

archive/issue_comments_328097.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nSorry for that.",
    "created_at": "2017-03-01T07:28:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328097",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:65" align="right">comment:65</div>

Sorry for that.



---

archive/issue_comments_328098.json:
```json
{
    "body": "<div id=\"comment:66\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/128030ad25fc7eb86c3995cab3a399d672c5e6a4\"><code>128030a</code></a></td><td><code>Less digits are shown on 32-bit</code></td></tr></table>\n",
    "created_at": "2017-03-01T07:30:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328098",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:66"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/128030ad25fc7eb86c3995cab3a399d672c5e6a4"><code>128030a</code></a></td><td><code>Less digits are shown on 32-bit</code></td></tr></table>




---

archive/issue_comments_328099.json:
```json
{
    "body": "Changed commit from **[`fb79fd9`](https://github.com/sagemath/sagetrac-mirror/commit/fb79fd9275b295ac10a3d57f7acff997879f41c6)** to **[`128030a`](https://github.com/sagemath/sagetrac-mirror/commit/128030ad25fc7eb86c3995cab3a399d672c5e6a4)**",
    "created_at": "2017-03-01T07:30:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328099",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fb79fd9`](https://github.com/sagemath/sagetrac-mirror/commit/fb79fd9275b295ac10a3d57f7acff997879f41c6)** to **[`128030a`](https://github.com/sagemath/sagetrac-mirror/commit/128030ad25fc7eb86c3995cab3a399d672c5e6a4)**



---

archive/issue_events_312294.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-03-01T07:36:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312294"
}
```



---

archive/issue_events_312295.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-03-01T07:36:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312295"
}
```



---

archive/issue_events_312296.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-03-01T12:35:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312296"
}
```



---

archive/issue_events_312297.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2017-03-01T12:35:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312297"
}
```



---

archive/issue_comments_328100.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nThis fixes the 32-bit tests.",
    "created_at": "2017-03-01T12:35:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328100",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:68" align="right">comment:68</div>

This fixes the 32-bit tests.



---

archive/issue_comments_328101.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/96ddcd3616f7c18b757a34af4a15241b0696439d](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/96ddcd3616f7c18b757a34af4a15241b0696439d)** to **[`128030a`](https://github.com/sagemath/sagetrac-mirror/commit/128030ad25fc7eb86c3995cab3a399d672c5e6a4)**",
    "created_at": "2017-03-02T17:43:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22193#issuecomment-328101",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/96ddcd3616f7c18b757a34af4a15241b0696439d](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/96ddcd3616f7c18b757a34af4a15241b0696439d)** to **[`128030a`](https://github.com/sagemath/sagetrac-mirror/commit/128030ad25fc7eb86c3995cab3a399d672c5e6a4)**



---

archive/issue_events_312298.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-03-02T17:43:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312298"
}
```



---

archive/issue_events_312299.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "3d5fc3ffc2e5e55012054bf1e2721b6a34adb46f",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-03-02T17:43:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/22193",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22193#event-312299"
}
```
