# Issue 22857: Using symbolic variables in domain 'positive' makes Sage crash

archive/issues_022620.json:
```json
{
    "body": "In Sage 7.6 and 8.0.beta2, we have\n\n```\nsage: a, b = var('a b', domain='positive')\nsage: bool((a-b)*b == 0)\n\n;;;\n;;; Detected access to protected memory, also kwown as 'bus or segmentation fault'.\n;;; Jumping to the outermost toplevel prompt\n;;;\n\nErreur de segmentation (core dumped)\n```\n\nThis was reported on [this ask question](https://ask.sagemath.org/question/37355/computing-riemann-connection-fails-in-maxima/).\n\n**CC:**  @rwst tmonteil @slel\n\n**Branch/Commit:** [4cbf230a0e4c49fc00acdef92cc24bb96f70598c](https://github.com/sagemath/sagetrac-mirror/commit/4cbf230a0e4c49fc00acdef92cc24bb96f70598c)\n\n**Reviewer:** Eric Gourgoulhon, Thierry Monteil\n\n**Author:** Dave Morris\n\nIssue created by migration from https://trac.sagemath.org/ticket/22857\n\n",
    "closed_at": "2022-08-01T20:20:44Z",
    "created_at": "2017-04-22T14:07:50Z",
    "labels": [
        "component: symbolics",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "Using symbolic variables in domain 'positive' makes Sage crash",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22857",
    "user": "https://github.com/egourgoulhon"
}
```
In Sage 7.6 and 8.0.beta2, we have

```
sage: a, b = var('a b', domain='positive')
sage: bool((a-b)*b == 0)

;;;
;;; Detected access to protected memory, also kwown as 'bus or segmentation fault'.
;;; Jumping to the outermost toplevel prompt
;;;

Erreur de segmentation (core dumped)
```

This was reported on [this ask question](https://ask.sagemath.org/question/37355/computing-riemann-connection-fails-in-maxima/).

**CC:**  @rwst tmonteil @slel

**Branch/Commit:** [4cbf230a0e4c49fc00acdef92cc24bb96f70598c](https://github.com/sagemath/sagetrac-mirror/commit/4cbf230a0e4c49fc00acdef92cc24bb96f70598c)

**Reviewer:** Eric Gourgoulhon, Thierry Monteil

**Author:** Dave Morris

Issue created by migration from https://trac.sagemath.org/ticket/22857





---

archive/issue_comments_345076.json:
```json
{
    "body": "<a id='comment:2'></a>\nin my machine (mac osx 10.11.6) the command works in v7.5.1, but breaks in v8.0beta2.\n\n```\nsage: version()\n'SageMath version 7.5.1, Release Date: 2017-01-15'\nsage: a, b = var('a b', domain='positive')\nsage: bool((a-b)*b == 0)\nFalse\n```\n\n\n```\nsage: version()\n'SageMath version 8.0.beta2, Release Date: 2017-04-12'\nsage: a, b = var('a b', domain='positive')\nsage: bool((a-b)*b == 0)\n;;;\n;;; Detected access to protected memory, also kwown as 'bus or segmentation fault'.\n;;; Jumping to the outermost toplevel prompt\n;;;\n\nIllegal instruction: 4\n```",
    "created_at": "2017-04-22T17:30:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22857#issuecomment-345076",
    "user": "https://github.com/mforets"
}
```

<a id='comment:2'></a>
in my machine (mac osx 10.11.6) the command works in v7.5.1, but breaks in v8.0beta2.

```
sage: version()
'SageMath version 7.5.1, Release Date: 2017-01-15'
sage: a, b = var('a b', domain='positive')
sage: bool((a-b)*b == 0)
False
```


```
sage: version()
'SageMath version 8.0.beta2, Release Date: 2017-04-12'
sage: a, b = var('a b', domain='positive')
sage: bool((a-b)*b == 0)
;;;
;;; Detected access to protected memory, also kwown as 'bus or segmentation fault'.
;;; Jumping to the outermost toplevel prompt
;;;

Illegal instruction: 4
```



---

archive/issue_comments_345077.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -11,3 +11,5 @@\n \n Erreur de segmentation (core dumped)\n ```\n+\n+This was reported on [this ask question](https://ask.sagemath.org/question/37355/computing-riemann-connection-fails-in-maxima/).\n``````\n",
    "created_at": "2017-04-22T20:58:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22857#issuecomment-345077",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -11,3 +11,5 @@
 
 Erreur de segmentation (core dumped)
 ```
+
+This was reported on [this ask question](https://ask.sagemath.org/question/37355/computing-riemann-connection-fails-in-maxima/).
``````




---

archive/issue_comments_345078.json:
```json
{
    "body": "<a id='comment:4'></a>\nCan you isolate the actual sequence of maxima commands that lead to the error? Then it's possible to see if it's a bug in ECL or something in Maxima itself (the kind of error suggests it's something that is poorly handled in ECL)",
    "created_at": "2017-04-22T21:20:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22857#issuecomment-345078",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:4'></a>
Can you isolate the actual sequence of maxima commands that lead to the error? Then it's possible to see if it's a bug in ECL or something in Maxima itself (the kind of error suggests it's something that is poorly handled in ECL)



---

archive/issue_comments_345079.json:
```json
{
    "body": "<a id='comment:5'></a>\nI cannot reproduce it with:\n\n```\nsage: a, b = var('a b')\nsage: (a>0)._maxima_init_assume_()\n'(_SAGE_VAR_a)>(0)'\nsage: maxima.assume(_)\n[_SAGE_VAR_a>0]\nsage: (b>0)._maxima_init_assume_()\n'(_SAGE_VAR_b)>(0)'\nsage: maxima.assume(_)\n[_SAGE_VAR_b>0]\nsage: bool((a-b)*b==0)\nFalse\n```\nbut I can make it disappear with:\n\n```\ndiff --git a/src/sage/symbolic/expression.pyx b/src/sage/symbolic/expression.pyx\nindex 01319b5e68..8522746f27 100644\n--- a/src/sage/symbolic/expression.pyx\n+++ b/src/sage/symbolic/expression.pyx\n@@ -1786,7 +1786,7 @@ cdef class Expression(CommutativeRingElement):\n             pynac_assume_rel(self._gobj)\n             if str(s._sage_()[0]) in ['meaningless','inconsistent','redundant']:\n                 raise ValueError(\"Assumption is %s\" % str(s._sage_()[0]))\n-            _assumptions.append(self)\n+            #_assumptions.append(self)\n \n     def forget(self):\n         \"\"\"\n\n```\nAnyway, with the original trigger ECL goes into an infinite loop:\n\n```\n#114 0x00007ffd8f408645 in L125signdiff_special (v1xlhs=0x3b56401, \n    v2xrhs=0x3b19fb1) at binary-ecl/compar.c:6765\n#115 0x00007ffd8f3ffaaa in L124signdiff (v1x=<optimized out>)\n    at binary-ecl/compar.c:6679\n#116 0x00007ffd8f3f0bf2 in L123sign_mplus (v1x=0x3b56e81)\n    at binary-ecl/compar.c:6420\n#117 0x00007ffd8f409c73 in L108sign1 (v1x=<optimized out>)\n    at binary-ecl/compar.c:5682\n#118 0x00007ffd8f3fb620 in L104sign_ (v1x=0x3b56e81)\n    at binary-ecl/compar.c:5304\n#119 0x00007ffd8f408645 in L125signdiff_special (v1xlhs=0x3b19f51, \n    v2xrhs=0x5ce7180) at binary-ecl/compar.c:6765\n#120 0x00007ffd8f3ffaaa in L124signdiff (v1x=<optimized out>)\n    at binary-ecl/compar.c:6679\n#121 0x00007ffd8f3f0bf2 in L123sign_mplus (v1x=0x3b0b1a1)\n    at binary-ecl/compar.c:6420\n#122 0x00007ffd8f409c73 in L108sign1 (v1x=<optimized out>)\n    at binary-ecl/compar.c:5682\n#123 0x00007ffd8f3fb620 in L104sign_ (v1x=0x3b0b1a1)\n    at binary-ecl/compar.c:5304\n```",
    "created_at": "2017-04-23T06:18:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22857#issuecomment-345079",
    "user": "https://github.com/rwst"
}
```

<a id='comment:5'></a>
I cannot reproduce it with:

```
sage: a, b = var('a b')
sage: (a>0)._maxima_init_assume_()
'(_SAGE_VAR_a)>(0)'
sage: maxima.assume(_)
[_SAGE_VAR_a>0]
sage: (b>0)._maxima_init_assume_()
'(_SAGE_VAR_b)>(0)'
sage: maxima.assume(_)
[_SAGE_VAR_b>0]
sage: bool((a-b)*b==0)
False
```
but I can make it disappear with:

```
diff --git a/src/sage/symbolic/expression.pyx b/src/sage/symbolic/expression.pyx
index 01319b5e68..8522746f27 100644
--- a/src/sage/symbolic/expression.pyx
+++ b/src/sage/symbolic/expression.pyx
@@ -1786,7 +1786,7 @@ cdef class Expression(CommutativeRingElement):
             pynac_assume_rel(self._gobj)
             if str(s._sage_()[0]) in ['meaningless','inconsistent','redundant']:
                 raise ValueError("Assumption is %s" % str(s._sage_()[0]))
-            _assumptions.append(self)
+            #_assumptions.append(self)
 
     def forget(self):
         """

```
Anyway, with the original trigger ECL goes into an infinite loop:

```
#114 0x00007ffd8f408645 in L125signdiff_special (v1xlhs=0x3b56401, 
    v2xrhs=0x3b19fb1) at binary-ecl/compar.c:6765
#115 0x00007ffd8f3ffaaa in L124signdiff (v1x=<optimized out>)
    at binary-ecl/compar.c:6679
#116 0x00007ffd8f3f0bf2 in L123sign_mplus (v1x=0x3b56e81)
    at binary-ecl/compar.c:6420
#117 0x00007ffd8f409c73 in L108sign1 (v1x=<optimized out>)
    at binary-ecl/compar.c:5682
#118 0x00007ffd8f3fb620 in L104sign_ (v1x=0x3b56e81)
    at binary-ecl/compar.c:5304
#119 0x00007ffd8f408645 in L125signdiff_special (v1xlhs=0x3b19f51, 
    v2xrhs=0x5ce7180) at binary-ecl/compar.c:6765
#120 0x00007ffd8f3ffaaa in L124signdiff (v1x=<optimized out>)
    at binary-ecl/compar.c:6679
#121 0x00007ffd8f3f0bf2 in L123sign_mplus (v1x=0x3b0b1a1)
    at binary-ecl/compar.c:6420
#122 0x00007ffd8f409c73 in L108sign1 (v1x=<optimized out>)
    at binary-ecl/compar.c:5682
#123 0x00007ffd8f3fb620 in L104sign_ (v1x=0x3b0b1a1)
    at binary-ecl/compar.c:5304
```



---

archive/issue_comments_345080.json:
```json
{
    "body": "<a id='comment:6'></a>\nOK here the confirmation:\n\n```\nsage: a, b = var('a b')\nsage: (a>0)._maxima_init_assume_()\n'(_SAGE_VAR_a)>(0)'\nsage: maxima.assume(_)\n[_SAGE_VAR_a>0]\nsage: (b>0)._maxima_init_assume_()\n'(_SAGE_VAR_b)>(0)'\nsage: maxima.assume(_)\n[_SAGE_VAR_b>0]\nsage: maxima._eval_line('is (equal((_SAGE_VAR_a-_SAGE_VAR_b)*_SAGE_VAR_b,0))')\n\n/home/ralf/sage/local/lib/python2.7/site-packages/sage/interfaces/maxima.pyc in _eval_line(self, line, allow_use_file, wait_for_prompt, reformat, error_check, restart_if_needed)\n    791         assert line_echo.strip().endswith(line.strip()), 'mismatch:\\n' + line_echo + line\n    792 \n--> 793         self._expect_expr(self._display_prompt)\n    794         out = self._before()        # input echo + output prompt + output\n    795         if error_check:\n\n/home/ralf/sage/local/lib/python2.7/site-packages/sage/interfaces/maxima.pyc in _expect_expr(self, expr, timeout)\n    713                 i = self._expect.expect(expr,timeout=timeout)\n    714             else:\n--> 715                 i = self._expect.expect(expr)\n    716             if i > 0:\n    717                 v = self._expect.before\n\n/home/ralf/sage/local/lib/python2.7/site-packages/pexpect/spawnbase.pyc in expect(self, pattern, timeout, searchwindowsize, async)\n    319         compiled_pattern_list = self.compile_pattern_list(pattern)\n    320         return self.expect_list(compiled_pattern_list,\n--> 321                 timeout, searchwindowsize, async)\n    322 \n    323     def expect_list(self, pattern_list, timeout=-1, searchwindowsize=-1,\n\n/home/ralf/sage/local/lib/python2.7/site-packages/pexpect/spawnbase.pyc in expect_list(self, pattern_list, timeout, searchwindowsize, async)\n    343             return expect_async(exp, timeout)\n    344         else:\n--> 345             return exp.expect_loop(timeout)\n    346 \n    347     def expect_exact(self, pattern_list, timeout=-1, searchwindowsize=-1,\n\n/home/ralf/sage/local/lib/python2.7/site-packages/pexpect/expect.pyc in expect_loop(self, timeout)\n    103                     timeout = end_time - time.time()\n    104         except EOF as e:\n--> 105             return self.eof(e)\n    106         except TIMEOUT as e:\n    107             return self.timeout(e)\n\n/home/ralf/sage/local/lib/python2.7/site-packages/pexpect/expect.pyc in eof(self, err)\n     48             if err is not None:\n     49                 msg = str(err) + '\\n' + msg\n---> 50             raise EOF(msg)\n     51 \n     52     def timeout(self, err=None):\n\nEOF: End Of File (EOF). Exception style platform.\nMaxima with PID 23086 running /home/ralf/sage/local/bin/maxima --userdir=/home/ralf/.sage/maxima -p /home/ralf/sage/local/bin/sage-maxima.lisp\ncommand: /home/ralf/sage/local/bin/maxima\nargs: ['/home/ralf/sage/local/bin/maxima', '--userdir=/home/ralf/.sage/maxima', '-p', '/home/ralf/sage/local/bin/sage-maxima.lisp']\nbuffer (last 100 chars): ''\nbefore (last 100 chars): \"y, also kwown as 'bus or segmentation fault'.\\r\\n;;; Jumping to the outermost toplevel prompt\\r\\n;;;\\r\\n\\r\\n\"\nafter: <class 'pexpect.exceptions.EOF'>\nmatch: None\nmatch_index: None\nexitstatus: None\nflag_eof: True\npid: 23086\nchild_fd: 14\nclosed: False\ntimeout: None\ndelimiter: <class 'pexpect.exceptions.EOF'>\nlogfile: None\nlogfile_read: None\nlogfile_send: None\nmaxread: 4194304\nignorecase: False\nsearchwindowsize: None\ndelaybeforesend: None\ndelayafterclose: 0.1\ndelayafterterminate: 0.1\nsearcher: searcher_re:\n    0: re.compile(\"<sage-display>\")\nsage: \n```",
    "created_at": "2017-04-23T06:23:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22857#issuecomment-345080",
    "user": "https://github.com/rwst"
}
```

<a id='comment:6'></a>
OK here the confirmation:

```
sage: a, b = var('a b')
sage: (a>0)._maxima_init_assume_()
'(_SAGE_VAR_a)>(0)'
sage: maxima.assume(_)
[_SAGE_VAR_a>0]
sage: (b>0)._maxima_init_assume_()
'(_SAGE_VAR_b)>(0)'
sage: maxima.assume(_)
[_SAGE_VAR_b>0]
sage: maxima._eval_line('is (equal((_SAGE_VAR_a-_SAGE_VAR_b)*_SAGE_VAR_b,0))')

/home/ralf/sage/local/lib/python2.7/site-packages/sage/interfaces/maxima.pyc in _eval_line(self, line, allow_use_file, wait_for_prompt, reformat, error_check, restart_if_needed)
    791         assert line_echo.strip().endswith(line.strip()), 'mismatch:\n' + line_echo + line
    792 
--> 793         self._expect_expr(self._display_prompt)
    794         out = self._before()        # input echo + output prompt + output
    795         if error_check:

/home/ralf/sage/local/lib/python2.7/site-packages/sage/interfaces/maxima.pyc in _expect_expr(self, expr, timeout)
    713                 i = self._expect.expect(expr,timeout=timeout)
    714             else:
--> 715                 i = self._expect.expect(expr)
    716             if i > 0:
    717                 v = self._expect.before

/home/ralf/sage/local/lib/python2.7/site-packages/pexpect/spawnbase.pyc in expect(self, pattern, timeout, searchwindowsize, async)
    319         compiled_pattern_list = self.compile_pattern_list(pattern)
    320         return self.expect_list(compiled_pattern_list,
--> 321                 timeout, searchwindowsize, async)
    322 
    323     def expect_list(self, pattern_list, timeout=-1, searchwindowsize=-1,

/home/ralf/sage/local/lib/python2.7/site-packages/pexpect/spawnbase.pyc in expect_list(self, pattern_list, timeout, searchwindowsize, async)
    343             return expect_async(exp, timeout)
    344         else:
--> 345             return exp.expect_loop(timeout)
    346 
    347     def expect_exact(self, pattern_list, timeout=-1, searchwindowsize=-1,

/home/ralf/sage/local/lib/python2.7/site-packages/pexpect/expect.pyc in expect_loop(self, timeout)
    103                     timeout = end_time - time.time()
    104         except EOF as e:
--> 105             return self.eof(e)
    106         except TIMEOUT as e:
    107             return self.timeout(e)

/home/ralf/sage/local/lib/python2.7/site-packages/pexpect/expect.pyc in eof(self, err)
     48             if err is not None:
     49                 msg = str(err) + '\n' + msg
---> 50             raise EOF(msg)
     51 
     52     def timeout(self, err=None):

EOF: End Of File (EOF). Exception style platform.
Maxima with PID 23086 running /home/ralf/sage/local/bin/maxima --userdir=/home/ralf/.sage/maxima -p /home/ralf/sage/local/bin/sage-maxima.lisp
command: /home/ralf/sage/local/bin/maxima
args: ['/home/ralf/sage/local/bin/maxima', '--userdir=/home/ralf/.sage/maxima', '-p', '/home/ralf/sage/local/bin/sage-maxima.lisp']
buffer (last 100 chars): ''
before (last 100 chars): "y, also kwown as 'bus or segmentation fault'.\r\n;;; Jumping to the outermost toplevel prompt\r\n;;;\r\n\r\n"
after: <class 'pexpect.exceptions.EOF'>
match: None
match_index: None
exitstatus: None
flag_eof: True
pid: 23086
child_fd: 14
closed: False
timeout: None
delimiter: <class 'pexpect.exceptions.EOF'>
logfile: None
logfile_read: None
logfile_send: None
maxread: 4194304
ignorecase: False
searchwindowsize: None
delaybeforesend: None
delayafterclose: 0.1
delayafterterminate: 0.1
searcher: searcher_re:
    0: re.compile("<sage-display>")
sage: 
```



---

archive/issue_comments_345081.json:
```json
{
    "body": "<a id='comment:7'></a>\nJust to tell that the bug is still there in Sage 8.7.beta3.",
    "created_at": "2019-02-12T18:14:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22857#issuecomment-345081",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:7'></a>
Just to tell that the bug is still there in Sage 8.7.beta3.



---

archive/issue_comments_345082.json:
```json
{
    "body": "<a id='comment:8'></a>\nStill there in 9.2.beta3",
    "created_at": "2020-07-06T07:38:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22857#issuecomment-345082",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>
Still there in 9.2.beta3



---

archive/issue_events_207608.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-06T07:38:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "milestone": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207608"
}
```



---

archive/issue_events_207609.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-06T07:38:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207609"
}
```



---

archive/issue_events_207610.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-13T16:39:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "label": "critical",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207610"
}
```



---

archive/issue_comments_345083.json:
```json
{
    "body": "<a id='comment:9'></a>\nStill in 9.2.beta8",
    "created_at": "2020-08-13T16:39:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22857#issuecomment-345083",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
Still in 9.2.beta8



---

archive/issue_events_207611.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-29T15:35:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207611"
}
```



---

archive/issue_events_207612.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-29T15:35:46Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207612"
}
```



---

archive/issue_events_207613.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-29T15:35:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "label": "duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207613"
}
```



---

archive/issue_comments_345084.json:
```json
{
    "body": "<a id='comment:10'></a>\nLooks like this was fixed by #30063",
    "created_at": "2020-08-29T15:35:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22857#issuecomment-345084",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>
Looks like this was fixed by #30063



---

archive/issue_comments_345085.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [mkoeppe](#comment%3A10):\n> Looks like this was fixed by #30063\n\nIndeed, the bug is no longer there in Sage 9.2.beta10.",
    "created_at": "2020-08-29T22:14:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22857#issuecomment-345085",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:11'></a>
Replying to [mkoeppe](#comment%3A10):
> Looks like this was fixed by #30063

Indeed, the bug is no longer there in Sage 9.2.beta10.



---

archive/issue_comments_345086.json:
```json
{
    "body": "**Reviewer:** Eric Gourgoulhon",
    "created_at": "2020-08-29T22:15:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22857#issuecomment-345086",
    "user": "https://github.com/egourgoulhon"
}
```

**Reviewer:** Eric Gourgoulhon



---

archive/issue_events_207614.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2020-08-29T22:15:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207614"
}
```



---

archive/issue_events_207615.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2020-08-29T22:15:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207615"
}
```



---

archive/issue_comments_345087.json:
```json
{
    "body": "<a id='comment:13'></a>\nNo doctest was added for this at #30063. We should add one here.",
    "created_at": "2020-08-30T16:21:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22857#issuecomment-345087",
    "user": "https://github.com/slel"
}
```

<a id='comment:13'></a>
No doctest was added for this at #30063. We should add one here.



---

archive/issue_events_207616.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-08-30T16:21:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207616"
}
```



---

archive/issue_events_207617.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-08-30T16:21:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "label": "duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207617"
}
```



---

archive/issue_events_207618.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-08-30T16:21:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207618"
}
```



---

archive/issue_events_207619.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-08-30T16:21:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207619"
}
```



---

archive/issue_events_207620.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-08-30T16:21:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "label": "critical",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207620"
}
```



---

archive/issue_events_207621.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-08-30T16:21:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "label": "minor",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207621"
}
```



---

archive/issue_events_207622.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207622"
}
```



---

archive/issue_events_207623.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207623"
}
```



---

archive/issue_comments_345088.json:
```json
{
    "body": "<a id='comment:15'></a>\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22857#issuecomment-345088",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>
Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_207624.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207624"
}
```



---

archive/issue_events_207625.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207625"
}
```



---

archive/issue_events_207626.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-22T20:35:10Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207626"
}
```



---

archive/issue_events_207627.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-22T20:35:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207627"
}
```



---

archive/issue_events_207628.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207628"
}
```



---

archive/issue_events_207629.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207629"
}
```



---

archive/issue_events_207630.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:19:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207630"
}
```



---

archive/issue_events_207631.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:19:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207631"
}
```



---

archive/issue_comments_345089.json:
```json
{
    "body": "**Branch:** [public/22857](https://github.com/sagemath/sagetrac-mirror/tree/public/22857)",
    "created_at": "2022-07-24T02:17:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22857#issuecomment-345089",
    "user": "https://github.com/DaveWitteMorris"
}
```

**Branch:** [public/22857](https://github.com/sagemath/sagetrac-mirror/tree/public/22857)



---

archive/issue_comments_345090.json:
```json
{
    "body": "<a id='comment:20'></a>\nThe commit just adds a doctest to make sure the problem doesn't come back.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4cbf230a0e4c49fc00acdef92cc24bb96f70598c\">4cbf230</a></td><td><code>doctest for trac 22857</code></td></tr></table>\n",
    "created_at": "2022-07-24T02:19:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22857#issuecomment-345090",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:20'></a>
The commit just adds a doctest to make sure the problem doesn't come back.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4cbf230a0e4c49fc00acdef92cc24bb96f70598c">4cbf230</a></td><td><code>doctest for trac 22857</code></td></tr></table>




---

archive/issue_comments_345091.json:
```json
{
    "body": "**Author:** Dave Morris",
    "created_at": "2022-07-24T02:19:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22857#issuecomment-345091",
    "user": "https://github.com/DaveWitteMorris"
}
```

**Author:** Dave Morris



---

archive/issue_events_207632.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2022-07-24T02:19:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207632"
}
```



---

archive/issue_events_207633.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2022-07-24T02:19:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207633"
}
```



---

archive/issue_comments_345092.json:
```json
{
    "body": "**Commit:** [4cbf230a0e4c49fc00acdef92cc24bb96f70598c](https://github.com/sagemath/sagetrac-mirror/commit/4cbf230a0e4c49fc00acdef92cc24bb96f70598c)",
    "created_at": "2022-07-24T02:19:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22857#issuecomment-345092",
    "user": "https://github.com/DaveWitteMorris"
}
```

**Commit:** [4cbf230a0e4c49fc00acdef92cc24bb96f70598c](https://github.com/sagemath/sagetrac-mirror/commit/4cbf230a0e4c49fc00acdef92cc24bb96f70598c)



---

archive/issue_comments_345093.json:
```json
{
    "body": "**Changing reviewer** from \"Eric Gourgoulhon\" to \"Eric Gourgoulhon, Thierry Monteil\".",
    "created_at": "2022-07-24T07:49:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22857#issuecomment-345093",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

**Changing reviewer** from "Eric Gourgoulhon" to "Eric Gourgoulhon, Thierry Monteil".



---

archive/issue_comments_345094.json:
```json
{
    "body": "<a id='comment:21'></a>\nLGTM.",
    "created_at": "2022-07-24T07:49:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22857#issuecomment-345094",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:21'></a>
LGTM.



---

archive/issue_events_207634.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/tmonteil",
    "created_at": "2022-07-24T07:49:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207634"
}
```



---

archive/issue_events_207635.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/tmonteil",
    "created_at": "2022-07-24T07:49:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207635"
}
```



---

archive/issue_comments_345095.json:
```json
{
    "body": "<a id='comment:22'></a>\nThanks!",
    "created_at": "2022-07-24T07:58:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22857#issuecomment-345095",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:22'></a>
Thanks!



---

archive/issue_comments_345096.json:
```json
{
    "body": "**Changing branch** from \"[public/22857](https://github.com/sagemath/sagetrac-mirror/tree/public/22857)\" to \"[4cbf230a0e4c49fc00acdef92cc24bb96f70598c](https://github.com/sagemath/sagetrac-mirror/commit/4cbf230a0e4c49fc00acdef92cc24bb96f70598c)\".",
    "created_at": "2022-08-01T20:20:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22857#issuecomment-345096",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/22857](https://github.com/sagemath/sagetrac-mirror/tree/public/22857)" to "[4cbf230a0e4c49fc00acdef92cc24bb96f70598c](https://github.com/sagemath/sagetrac-mirror/commit/4cbf230a0e4c49fc00acdef92cc24bb96f70598c)".



---

archive/issue_events_207636.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-08-01T20:20:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207636"
}
```



---

archive/issue_events_207637.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-08-01T20:20:44Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22857",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22857#event-207637"
}
```
