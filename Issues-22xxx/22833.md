# Issue 22833: fix a calculus doctest (giac, laplace, integration)

archive/issues_022596.json:
```json
{
    "assignees": [],
    "body": "that currently prevents many patchbots to run smoothly\n\n\n\nCC:  @rwst @frederichan-IMJPRG\n\nBranch/Commit: **[`e2d74c6`](https://github.com/sagemath/sagetrac-mirror/commit/e2d74c645b48c3288802f9080d6651aaccf658fb)**\n\nReviewer: **Travis Scrimshaw, Steven Trogdon**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton, Marcelo Forets**\n\nComponent: **calculus**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/22833_\n\n",
    "closed_at": "2017-05-15T22:53:04Z",
    "created_at": "2017-04-19T16:46:15Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20calculus",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "fix a calculus doctest (giac, laplace, integration)",
    "type": "issue",
    "updated_at": "2017-05-15T22:53:04Z",
    "url": "https://github.com/sagemath/sage/issues/22833",
    "user": "https://github.com/fchapoton"
}
```
that currently prevents many patchbots to run smoothly



CC:  @rwst @frederichan-IMJPRG

Branch/Commit: **[`e2d74c6`](https://github.com/sagemath/sagetrac-mirror/commit/e2d74c645b48c3288802f9080d6651aaccf658fb)**

Reviewer: **Travis Scrimshaw, Steven Trogdon**

Author: **Frédéric Chapoton, Marcelo Forets**

Component: **calculus**

_Issue created by migration from https://trac.sagemath.org/ticket/22833_





---

archive/issue_events_315840.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-04-19T16:46:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22833#event-315840"
}
```



---

archive/issue_events_315841.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-04-19T16:46:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20calculus",
    "label_color": "0000ff",
    "label_name": "c: calculus",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22833#event-315841"
}
```



---

archive/issue_events_315842.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-04-19T16:46:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22833#event-315842"
}
```



---

archive/issue_events_315843.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-04-19T16:46:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22833#event-315843"
}
```



---

archive/issue_events_315844.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-04-19T16:46:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22833#event-315844"
}
```



---

archive/issue_comments_340379.json:
```json
{
    "body": "Branch: **[u/chapoton/22833](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/22833)**",
    "created_at": "2017-04-19T16:46:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340379",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/22833](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/22833)**



---

archive/issue_comments_340380.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2186acae2da3826b0a29d196d6b22b8fbc1dad4b\"><code>2186aca</code></a></td><td><code>fixing calculus doctest (giac)</code></td></tr></table>\n",
    "created_at": "2017-04-19T16:46:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340380",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2186acae2da3826b0a29d196d6b22b8fbc1dad4b"><code>2186aca</code></a></td><td><code>fixing calculus doctest (giac)</code></td></tr></table>




---

archive/issue_comments_340381.json:
```json
{
    "body": "Commit: **[`2186aca`](https://github.com/sagemath/sagetrac-mirror/commit/2186acae2da3826b0a29d196d6b22b8fbc1dad4b)**",
    "created_at": "2017-04-19T16:46:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340381",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`2186aca`](https://github.com/sagemath/sagetrac-mirror/commit/2186acae2da3826b0a29d196d6b22b8fbc1dad4b)**



---

archive/issue_comments_340382.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2017-04-19T18:31:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340382",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_340383.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI thought someone had already fixed this, but I guess not.",
    "created_at": "2017-04-19T18:31:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340383",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:3" align="right">comment:3</div>

I thought someone had already fixed this, but I guess not.



---

archive/issue_events_315845.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-04-19T18:31:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22833#event-315845"
}
```



---

archive/issue_events_315846.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-04-19T18:31:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22833#event-315846"
}
```



---

archive/issue_comments_340384.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nthe error was because of the double `::` in TETS or the `Unable to parse Giac output`? or both? and how did you know that `integration` is ok? (i still get the `NotImplementedError` in sage8.0beta2) because the \"dummy integrate\" keyword of maxima is `integrate`.",
    "created_at": "2017-04-20T05:31:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340384",
    "user": "https://github.com/mforets"
}
```

<div id="comment:4" align="right">comment:4</div>

the error was because of the double `::` in TETS or the `Unable to parse Giac output`? or both? and how did you know that `integration` is ok? (i still get the `NotImplementedError` in sage8.0beta2) because the "dummy integrate" keyword of maxima is `integrate`.



---

archive/issue_comments_340385.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThe change to TESTS:: was just something I could not keep like that once I had seen it.\n\nI am not sure that the change to integration doctest is ok. If it fails on your machine, then you can set this ticket back to needs work.",
    "created_at": "2017-04-20T07:40:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340385",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:5" align="right">comment:5</div>

The change to TESTS:: was just something I could not keep like that once I had seen it.

I am not sure that the change to integration doctest is ok. If it fails on your machine, then you can set this ticket back to needs work.



---

archive/issue_comments_340386.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nfailing in my machine with:\n\n```\nDoctesting 1 file.\nsage -t src/sage/calculus/calculus.py\n**********************************************************************\nFile \"src/sage/calculus/calculus.py\", line 1365, in sage.calculus.calculus.laplace\nFailed example:\n    (p1+p2).save(os.path.join(SAGE_TMP, \"de_plot.png\"))\nExpected nothing\nGot:\n    doctest:warning\n      File \"/Users/forets/sage-src/sage/src/bin/sage-runtests\", line 89, in <module>\n        err = DC.run()\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/doctest/control.py\", line 1134, in run\n        self.run_doctests()\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/doctest/control.py\", line 858, in run_doctests\n        self.dispatcher.dispatch()\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1705, in dispatch\n        self.parallel_dispatch()\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1595, in parallel_dispatch\n        w.start()  # This might take some time\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1871, in start\n        super(DocTestWorker, self).start()\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/multiprocessing/process.py\", line 130, in start\n        self._popen = Popen(self)\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/multiprocessing/forking.py\", line 126, in __init__\n        code = process_obj._bootstrap()\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/multiprocessing/process.py\", line 258, in _bootstrap\n        self.run()\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1844, in run\n        task(self.options, self.outtmpfile, msgpipe, self.result_queue)\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 2137, in __call__\n        runner.run(test)\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 641, in run\n        return self._run(test, compileflags, out)\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 503, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 866, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.calculus.calculus.laplace[23]>\", line 1, in <module>\n        (p1+p2).save(os.path.join(SAGE_TMP, \"de_plot.png\"))\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/misc/decorators.py\", line 471, in wrapper\n        return func(*args, **kwds)\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/plot/graphics.py\", line 3170, in save\n        figure = self.matplotlib(**options)\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/plot/graphics.py\", line 2566, in matplotlib\n        from matplotlib.figure import Figure\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/matplotlib/figure.py\", line 38, in <module>\n        import matplotlib.colorbar as cbar\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/matplotlib/colorbar.py\", line 34, in <module>\n        import matplotlib.collections as collections\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/matplotlib/collections.py\", line 27, in <module>\n        import matplotlib.backend_bases as backend_bases\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/matplotlib/backend_bases.py\", line 62, in <module>\n        import matplotlib.textpath as textpath\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/matplotlib/textpath.py\", line 15, in <module>\n        import matplotlib.font_manager as font_manager\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/matplotlib/font_manager.py\", line 1413, in <module>\n        fontManager = pickle_load(_fmcache)\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/matplotlib/font_manager.py\", line 965, in pickle_load\n        data = pickle.load(fh)\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/matplotlib/font_manager.py\", line 1044, in __init__\n        self.ttffiles = findSystemFonts(paths) + findSystemFonts()\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/matplotlib/font_manager.py\", line 324, in findSystemFonts\n        for f in get_fontconfig_fonts(fontext):\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/matplotlib/font_manager.py\", line 273, in get_fontconfig_fonts\n        warnings.warn('Matplotlib is building the font cache using fc-list. This may take a moment.')\n    :\n    UserWarning: Matplotlib is building the font cache using fc-list. This may take a moment.\n**********************************************************************\nFile \"src/sage/calculus/calculus.py\", line 1407, in sage.calculus.calculus.laplace\nFailed example:\n    laplace(t^n, t, s, algorithm='giac')\nException raised:\n    Traceback (most recent call last):\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 503, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 866, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.calculus.calculus.laplace[34]>\", line 1, in <module>\n        laplace(t**n, t, s, algorithm='giac')\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/calculus/calculus.py\", line 1456, in laplace\n        return result.sage()\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/interfaces/interface.py\", line 1053, in sage\n        return self._sage_(*args, **kwds)\n      File \"/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/interfaces/giac.py\", line 1095, in _sage_\n        raise NotImplementedError(\"Unable to parse Giac output: %s\" % result)\n    NotImplementedError: Unable to parse Giac output: integrate(t^n*exp(-s*t),t,0,+infinity)\n**********************************************************************\n1 item had failures:\n   2 of  39 in sage.calculus.calculus.laplace\n    [419 tests, 2 failures, 11.53 s]\n----------------------------------------------------------------------\nsage -t src/sage/calculus/calculus.py  # 2 doctests failed\n----------------------------------------------------------------------\nTotal time for all tests: 11.6 seconds\n    cpu time: 10.8 seconds\n    cumulative wall time: 11.5 seconds\n```",
    "created_at": "2017-04-20T11:47:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340386",
    "user": "https://github.com/mforets"
}
```

<div id="comment:6" align="right">comment:6</div>

failing in my machine with:

```
Doctesting 1 file.
sage -t src/sage/calculus/calculus.py
**********************************************************************
File "src/sage/calculus/calculus.py", line 1365, in sage.calculus.calculus.laplace
Failed example:
    (p1+p2).save(os.path.join(SAGE_TMP, "de_plot.png"))
Expected nothing
Got:
    doctest:warning
      File "/Users/forets/sage-src/sage/src/bin/sage-runtests", line 89, in <module>
        err = DC.run()
      File "/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/doctest/control.py", line 1134, in run
        self.run_doctests()
      File "/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/doctest/control.py", line 858, in run_doctests
        self.dispatcher.dispatch()
      File "/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1705, in dispatch
        self.parallel_dispatch()
      File "/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1595, in parallel_dispatch
        w.start()  # This might take some time
      File "/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1871, in start
        super(DocTestWorker, self).start()
      File "/Users/forets/sage-src/sage/local/lib/python2.7/multiprocessing/process.py", line 130, in start
        self._popen = Popen(self)
      File "/Users/forets/sage-src/sage/local/lib/python2.7/multiprocessing/forking.py", line 126, in __init__
        code = process_obj._bootstrap()
      File "/Users/forets/sage-src/sage/local/lib/python2.7/multiprocessing/process.py", line 258, in _bootstrap
        self.run()
      File "/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1844, in run
        task(self.options, self.outtmpfile, msgpipe, self.result_queue)
      File "/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 2137, in __call__
        runner.run(test)
      File "/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 641, in run
        return self._run(test, compileflags, out)
      File "/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 503, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 866, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.calculus.calculus.laplace[23]>", line 1, in <module>
        (p1+p2).save(os.path.join(SAGE_TMP, "de_plot.png"))
      File "/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/misc/decorators.py", line 471, in wrapper
        return func(*args, **kwds)
      File "/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/plot/graphics.py", line 3170, in save
        figure = self.matplotlib(**options)
      File "/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/plot/graphics.py", line 2566, in matplotlib
        from matplotlib.figure import Figure
      File "/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/matplotlib/figure.py", line 38, in <module>
        import matplotlib.colorbar as cbar
      File "/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/matplotlib/colorbar.py", line 34, in <module>
        import matplotlib.collections as collections
      File "/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/matplotlib/collections.py", line 27, in <module>
        import matplotlib.backend_bases as backend_bases
      File "/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/matplotlib/backend_bases.py", line 62, in <module>
        import matplotlib.textpath as textpath
      File "/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/matplotlib/textpath.py", line 15, in <module>
        import matplotlib.font_manager as font_manager
      File "/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/matplotlib/font_manager.py", line 1413, in <module>
        fontManager = pickle_load(_fmcache)
      File "/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/matplotlib/font_manager.py", line 965, in pickle_load
        data = pickle.load(fh)
      File "/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/matplotlib/font_manager.py", line 1044, in __init__
        self.ttffiles = findSystemFonts(paths) + findSystemFonts()
      File "/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/matplotlib/font_manager.py", line 324, in findSystemFonts
        for f in get_fontconfig_fonts(fontext):
      File "/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/matplotlib/font_manager.py", line 273, in get_fontconfig_fonts
        warnings.warn('Matplotlib is building the font cache using fc-list. This may take a moment.')
    :
    UserWarning: Matplotlib is building the font cache using fc-list. This may take a moment.
**********************************************************************
File "src/sage/calculus/calculus.py", line 1407, in sage.calculus.calculus.laplace
Failed example:
    laplace(t^n, t, s, algorithm='giac')
Exception raised:
    Traceback (most recent call last):
      File "/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 503, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 866, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.calculus.calculus.laplace[34]>", line 1, in <module>
        laplace(t**n, t, s, algorithm='giac')
      File "/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/calculus/calculus.py", line 1456, in laplace
        return result.sage()
      File "/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/interfaces/interface.py", line 1053, in sage
        return self._sage_(*args, **kwds)
      File "/Users/forets/sage-src/sage/local/lib/python2.7/site-packages/sage/interfaces/giac.py", line 1095, in _sage_
        raise NotImplementedError("Unable to parse Giac output: %s" % result)
    NotImplementedError: Unable to parse Giac output: integrate(t^n*exp(-s*t),t,0,+infinity)
**********************************************************************
1 item had failures:
   2 of  39 in sage.calculus.calculus.laplace
    [419 tests, 2 failures, 11.53 s]
----------------------------------------------------------------------
sage -t src/sage/calculus/calculus.py  # 2 doctests failed
----------------------------------------------------------------------
Total time for all tests: 11.6 seconds
    cpu time: 10.8 seconds
    cumulative wall time: 11.5 seconds
```



---

archive/issue_events_315847.json:
```json
{
    "actor": "https://github.com/mforets",
    "created_at": "2017-04-20T11:47:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22833#event-315847"
}
```



---

archive/issue_events_315848.json:
```json
{
    "actor": "https://github.com/mforets",
    "created_at": "2017-04-20T11:47:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22833#event-315848"
}
```



---

archive/issue_comments_340387.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThe first failure is not a true failure and is independent. We need to figure out what makes this test pass on some systems and not on others.",
    "created_at": "2017-04-20T13:10:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340387",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:7" align="right">comment:7</div>

The first failure is not a true failure and is independent. We need to figure out what makes this test pass on some systems and not on others.



---

archive/issue_comments_340388.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n that currently prevents many patchbots to run smoothly\n+\n+\n``````\n",
    "created_at": "2017-05-04T12:33:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340388",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 that currently prevents many patchbots to run smoothly
+
+
``````




---

archive/issue_events_315849.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-05-04T12:33:01Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "title_is": "fix a calculus doctest (giac, laplace, integration)",
    "title_was": "fix a calculus doctest",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22833#event-315849"
}
```



---

archive/issue_comments_340389.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI see this failure with giac 1.2.3.\n\nThe branch works for me. \n\nThis problem is rather annoying, it prevents my patchbot from giving any green light..",
    "created_at": "2017-05-04T12:35:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340389",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:9" align="right">comment:9</div>

I see this failure with giac 1.2.3.

The branch works for me. 

This problem is rather annoying, it prevents my patchbot from giving any green light..



---

archive/issue_comments_340390.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\n@mforets, could you try the following, please:\n\n```\nsage: var('t,n,s')\nsage: ex=t^n\nsage: from sage.interfaces.giac import giac\nsage: giac.laplace(ex, t, s)\nintegration(t^n*exp(-s*t),t,0,+infinity)\n```",
    "created_at": "2017-05-04T12:37:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340390",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:10" align="right">comment:10</div>

@mforets, could you try the following, please:

```
sage: var('t,n,s')
sage: ex=t^n
sage: from sage.interfaces.giac import giac
sage: giac.laplace(ex, t, s)
integration(t^n*exp(-s*t),t,0,+infinity)
```



---

archive/issue_comments_340391.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d79c73ff429f9e61344712ee32e64ed4233798c3\"><code>d79c73f</code></a></td><td><code>Merge branch 'u/chapoton/22833' in 8.0.b4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/200ba71b935a6573ee9aac38a35f0eefd5507b5d\"><code>200ba71</code></a></td><td><code>trac 22833 adding a conversion back from giac for definite integrals</code></td></tr></table>\n",
    "created_at": "2017-05-04T13:18:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340391",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d79c73ff429f9e61344712ee32e64ed4233798c3"><code>d79c73f</code></a></td><td><code>Merge branch 'u/chapoton/22833' in 8.0.b4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/200ba71b935a6573ee9aac38a35f0eefd5507b5d"><code>200ba71</code></a></td><td><code>trac 22833 adding a conversion back from giac for definite integrals</code></td></tr></table>




---

archive/issue_comments_340392.json:
```json
{
    "body": "Changed commit from **[`2186aca`](https://github.com/sagemath/sagetrac-mirror/commit/2186acae2da3826b0a29d196d6b22b8fbc1dad4b)** to **[`200ba71`](https://github.com/sagemath/sagetrac-mirror/commit/200ba71b935a6573ee9aac38a35f0eefd5507b5d)**",
    "created_at": "2017-05-04T13:18:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340392",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2186aca`](https://github.com/sagemath/sagetrac-mirror/commit/2186acae2da3826b0a29d196d6b22b8fbc1dad4b)** to **[`200ba71`](https://github.com/sagemath/sagetrac-mirror/commit/200ba71b935a6573ee9aac38a35f0eefd5507b5d)**



---

archive/issue_comments_340393.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79442fe1dd9e24059f3c88db153c4f84dd090bfe\"><code>79442fe</code></a></td><td><code>trac 222833 detail</code></td></tr></table>\n",
    "created_at": "2017-05-04T13:25:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340393",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79442fe1dd9e24059f3c88db153c4f84dd090bfe"><code>79442fe</code></a></td><td><code>trac 222833 detail</code></td></tr></table>




---

archive/issue_comments_340394.json:
```json
{
    "body": "Changed commit from **[`200ba71`](https://github.com/sagemath/sagetrac-mirror/commit/200ba71b935a6573ee9aac38a35f0eefd5507b5d)** to **[`79442fe`](https://github.com/sagemath/sagetrac-mirror/commit/79442fe1dd9e24059f3c88db153c4f84dd090bfe)**",
    "created_at": "2017-05-04T13:25:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340394",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`200ba71`](https://github.com/sagemath/sagetrac-mirror/commit/200ba71b935a6573ee9aac38a35f0eefd5507b5d)** to **[`79442fe`](https://github.com/sagemath/sagetrac-mirror/commit/79442fe1dd9e24059f3c88db153c4f84dd090bfe)**



---

archive/issue_comments_340395.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nAnd also tell me what you get when doing\n\n```\nsage: %giac\n\ngiac: Int(exp(x),x,0,1)\nintegration(exp(x),x,0,1)\n```",
    "created_at": "2017-05-04T13:26:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340395",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:13" align="right">comment:13</div>

And also tell me what you get when doing

```
sage: %giac

giac: Int(exp(x),x,0,1)
integration(exp(x),x,0,1)
```



---

archive/issue_comments_340396.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@fchapoton](#comment:13):\n> And also tell me what you get when doing\n> \n> ```\n> sage: %giac\n> \n> giac: Int(exp(x),x,0,1)\n> integration(exp(x),x,0,1)\n> ```\n\nEDIT: no no, ignore my last message, I hadn't notice that you pushed changes < 1hr ago.  \n\ni've recompiled this branch and i'm getting: \n\n```\nsage: %giac\n\n\n  --> Switching to Giac <--\n\ngiac: Int(exp(x),x,0,1)\nintegrate(exp(x),x,0,1)\n```",
    "created_at": "2017-05-04T13:49:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340396",
    "user": "https://github.com/mforets"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@fchapoton](#comment:13):
> And also tell me what you get when doing
> 
> ```
> sage: %giac
> 
> giac: Int(exp(x),x,0,1)
> integration(exp(x),x,0,1)
> ```

EDIT: no no, ignore my last message, I hadn't notice that you pushed changes < 1hr ago.  

i've recompiled this branch and i'm getting: 

```
sage: %giac


  --> Switching to Giac <--

giac: Int(exp(x),x,0,1)
integrate(exp(x),x,0,1)
```



---

archive/issue_comments_340397.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nin my machine, and for the commit 79442f3, i have \n\n```\nsage:\u00a0var('t,n,s')\n(t,\u00a0n,\u00a0s)\nsage:\u00a0ex=t^n\nsage:\u00a0from\u00a0sage.interfaces.giac\u00a0import\u00a0giac\nsage:\u00a0giac.laplace(ex,\u00a0t,\u00a0s)\nintegrate(t^n*exp(-s*t),t,0,+infinity)\nsage:\u00a0%giac\n\u00a0\n\u00a0\u00a0-->\u00a0Switching\u00a0to\u00a0Giac\u00a0<--\n\u00a0\ngiac:\u00a0Int(exp(x),x,0,1)\n\nintegrate(exp(x),x,0,1)\n```\n\nand i still get:\n\n```\nsage: laplace(t^n*exp(-s*t),t,s,algorithm='giac')\n...\nNotImplementedError: Unable to parse Giac output: integrate(t^n*exp(-2*s*t),t,0,+infinity)\n```\n\nthis exception is raised when we transform back to sage. maybe it's better to mimick the unevaluated laplace as with the SymPy case, that is:\n\n```\n...\nif 'integrate' in format(result):\n   return dummy_laplace(ex, t, s)\nelse:\n   return result.sage()\n```\n\ni git pulled and re-compiled everything, so i ignore why you get \"integration\" instead.\n\nthat said, if you have pressing need then you may as well consider removing this \"no-go\" test altogether..",
    "created_at": "2017-05-04T15:45:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340397",
    "user": "https://github.com/mforets"
}
```

<div id="comment:15" align="right">comment:15</div>

in my machine, and for the commit 79442f3, i have 

```
sage: var('t,n,s')
(t, n, s)
sage: ex=t^n
sage: from sage.interfaces.giac import giac
sage: giac.laplace(ex, t, s)
integrate(t^n*exp(-s*t),t,0,+infinity)
sage: %giac
 
  --> Switching to Giac <--
 
giac: Int(exp(x),x,0,1)

integrate(exp(x),x,0,1)
```

and i still get:

```
sage: laplace(t^n*exp(-s*t),t,s,algorithm='giac')
...
NotImplementedError: Unable to parse Giac output: integrate(t^n*exp(-2*s*t),t,0,+infinity)
```

this exception is raised when we transform back to sage. maybe it's better to mimick the unevaluated laplace as with the SymPy case, that is:

```
...
if 'integrate' in format(result):
   return dummy_laplace(ex, t, s)
else:
   return result.sage()
```

i git pulled and re-compiled everything, so i ignore why you get "integration" instead.

that said, if you have pressing need then you may as well consider removing this "no-go" test altogether..



---

archive/issue_comments_340398.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@mforets](#comment:15):\n> \n> ```\n> ...\n> if 'integrate' in format(result):\n>    return dummy_laplace(ex, t, s)\n> else:\n>    return result.sage()\n> ```\n> \n\nwith that modif, the expected output for the test at hand becomes: `laplace(t^n, t, s)` \n\nin my machine the updated code passes. let me know if you want me to push that or try something else.",
    "created_at": "2017-05-04T16:52:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340398",
    "user": "https://github.com/mforets"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@mforets](#comment:15):
> 
> ```
> ...
> if 'integrate' in format(result):
>    return dummy_laplace(ex, t, s)
> else:
>    return result.sage()
> ```
> 

with that modif, the expected output for the test at hand becomes: `laplace(t^n, t, s)` 

in my machine the updated code passes. let me know if you want me to push that or try something else.



---

archive/issue_comments_340399.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@mforets](#comment:15):\n> and i still get:\n> \n> ```\n> sage: laplace(t^n*exp(-s*t),t,s,algorithm='giac')\n> ...\n> NotImplementedError: Unable to parse Giac output: integrate(t^n*exp(-2*s*t),t,0,+infinity)\n> ```\n\nSame here.",
    "created_at": "2017-05-05T14:55:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340399",
    "user": "https://github.com/rwst"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@mforets](#comment:15):
> and i still get:
> 
> ```
> sage: laplace(t^n*exp(-s*t),t,s,algorithm='giac')
> ...
> NotImplementedError: Unable to parse Giac output: integrate(t^n*exp(-2*s*t),t,0,+infinity)
> ```

Same here.



---

archive/issue_comments_340400.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nWould there be need for symbolic laplace? Maxima might return such unevaluated results as anonymous functions too, and they are difficult to handle.",
    "created_at": "2017-05-05T14:58:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340400",
    "user": "https://github.com/rwst"
}
```

<div id="comment:18" align="right">comment:18</div>

Would there be need for symbolic laplace? Maxima might return such unevaluated results as anonymous functions too, and they are difficult to handle.



---

archive/issue_comments_340401.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nin this case it is raising a `NotImplementedError`, which i find a bit misleading if this kind of exception belongs to the level of Sage the library. perhaps an intermediate point is to return just `integrate(t^n*exp(-2*s*t),t,0,+infinity)`, what do you think?\n\non the other hand, Laplace placeholder could be needed here (in opposition to a naked integral):\n\n- to attach properties of the transform which are not 'obvious', eg. properties as a function of a complex variable s, convergence radius, final and initial value theorems\n- if you have many of them, it looks nicer  with respect to printing the equations!",
    "created_at": "2017-05-05T16:10:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340401",
    "user": "https://github.com/mforets"
}
```

<div id="comment:19" align="right">comment:19</div>

in this case it is raising a `NotImplementedError`, which i find a bit misleading if this kind of exception belongs to the level of Sage the library. perhaps an intermediate point is to return just `integrate(t^n*exp(-2*s*t),t,0,+infinity)`, what do you think?

on the other hand, Laplace placeholder could be needed here (in opposition to a naked integral):

- to attach properties of the transform which are not 'obvious', eg. properties as a function of a complex variable s, convergence radius, final and initial value theorems
- if you have many of them, it looks nicer  with respect to printing the equations!



---

archive/issue_comments_340402.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nGot an answer from Parisse:\n\n```\nsi vous etes en francais (export LANG=fr_FR.UTF-8 par exemple), \nles mots-clefs de giac qui ont une traduction s'affichent en francais.\n Le fichier qui contient les traductions sous linux est \n/usr/share/giac/doc/fr/keywords.\nSi vous passez en export LANG=en_US.UTF-8 ca restera en anglais.\n\nDans l'interface de Xcas les fichiers de session sont sauvegardes \navec les mots-clefs en anglais.\n```",
    "created_at": "2017-05-11T14:20:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340402",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:20" align="right">comment:20</div>

Got an answer from Parisse:

```
si vous etes en francais (export LANG=fr_FR.UTF-8 par exemple), 
les mots-clefs de giac qui ont une traduction s'affichent en francais.
 Le fichier qui contient les traductions sous linux est 
/usr/share/giac/doc/fr/keywords.
Si vous passez en export LANG=en_US.UTF-8 ca restera en anglais.

Dans l'interface de Xcas les fichiers de session sont sauvegardes 
avec les mots-clefs en anglais.
```



---

archive/issue_comments_340403.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nSo what he is saying is that it has to with the localization settings?",
    "created_at": "2017-05-11T14:38:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340403",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:21" align="right">comment:21</div>

So what he is saying is that it has to with the localization settings?



---

archive/issue_comments_340404.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI think so. The English \"integrate\" got translated to \"integration\" in the output for people whose locale is French.\n\nhttps://fossies.org/linux/giac/doc/fr/keywords",
    "created_at": "2017-05-11T14:41:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340404",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:22" align="right">comment:22</div>

I think so. The English "integrate" got translated to "integration" in the output for people whose locale is French.

https://fossies.org/linux/giac/doc/fr/keywords



---

archive/issue_comments_340405.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nI think there is a deeper issue. I suspect that is failing out at some other place because it can't find the symbol `integration` in the symbol table. At least this is coming from trying to unravel things and get a better traceback:\n\n```sage\nsage: t,n,s = var('t,n,s')\nsage: from sage.libs.pynac.pynac import symbol_table\nsage: from sage.calculus.calculus import symbolic_expression_from_string\nsage: ex = t^n*exp(-s*t)\nsage: result = ex._giac_().integrate(t._giac_(), 0._giac_(), oo._giac_())\nsage: symbolic_expression_from_string(repr(result), symbol_table['giac'], True)\n...\n/home/travis/sage-build/local/lib/python2.7/site-packages/sage/interfaces/maxima_lib.pyc in sr_integral(self, *args)\n    808                 raise ValueError(\"Integral is divergent.\")\n    809             elif \"Is\" in s: # Maxima asked for a condition\n--> 810                 self._missing_assumption(s)\n    811             else:\n    812                 raise\n\n/home/travis/sage-build/local/lib/python2.7/site-packages/sage/interfaces/maxima_lib.pyc in _missing_assumption(self, errstr)\n   1018              + errstr[jj+1:k] +\">0)', see `assume?` for more details)\\n\" + errstr\n   1019         outstr = outstr.replace('_SAGE_VAR_','')\n-> 1020         raise ValueError(outstr)\n   1021 \n   1022 def is_MaximaLibElement(x):\n\nValueError: Computation failed since Maxima requested additional constraints; using the 'assume' command before evaluation *may* help (example of legal syntax is 'assume(s>0)', see `assume?` for more details)\nIs s positive, negative or zero?\n```\nDo you get a similar error?",
    "created_at": "2017-05-11T15:05:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340405",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:23" align="right">comment:23</div>

I think there is a deeper issue. I suspect that is failing out at some other place because it can't find the symbol `integration` in the symbol table. At least this is coming from trying to unravel things and get a better traceback:

```sage
sage: t,n,s = var('t,n,s')
sage: from sage.libs.pynac.pynac import symbol_table
sage: from sage.calculus.calculus import symbolic_expression_from_string
sage: ex = t^n*exp(-s*t)
sage: result = ex._giac_().integrate(t._giac_(), 0._giac_(), oo._giac_())
sage: symbolic_expression_from_string(repr(result), symbol_table['giac'], True)
...
/home/travis/sage-build/local/lib/python2.7/site-packages/sage/interfaces/maxima_lib.pyc in sr_integral(self, *args)
    808                 raise ValueError("Integral is divergent.")
    809             elif "Is" in s: # Maxima asked for a condition
--> 810                 self._missing_assumption(s)
    811             else:
    812                 raise

/home/travis/sage-build/local/lib/python2.7/site-packages/sage/interfaces/maxima_lib.pyc in _missing_assumption(self, errstr)
   1018              + errstr[jj+1:k] +">0)', see `assume?` for more details)\n" + errstr
   1019         outstr = outstr.replace('_SAGE_VAR_','')
-> 1020         raise ValueError(outstr)
   1021 
   1022 def is_MaximaLibElement(x):

ValueError: Computation failed since Maxima requested additional constraints; using the 'assume' command before evaluation *may* help (example of legal syntax is 'assume(s>0)', see `assume?` for more details)
Is s positive, negative or zero?
```
Do you get a similar error?



---

archive/issue_comments_340406.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nno, I just get\n\n```\nintegration(t^n*e^(-s*t), t, 0, +Infinity)\n```",
    "created_at": "2017-05-11T15:07:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340406",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:24" align="right">comment:24</div>

no, I just get

```
integration(t^n*e^(-s*t), t, 0, +Infinity)
```



---

archive/issue_comments_340407.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nI think the problem is actually with Maxima. What happens when you try to explicitly evaluate the integral?\n\n```\nsage: integrate(t^n*exp(-s*t),t,0,oo)\n```\nI get the same error as above when I do this. If I impose `s > 0` and `n` in **Z**<sub>>0</sub>, then I get\n\n```\ns^(-n - 1)*gamma(n + 1)\n```",
    "created_at": "2017-05-11T15:18:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340407",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:25" align="right">comment:25</div>

I think the problem is actually with Maxima. What happens when you try to explicitly evaluate the integral?

```
sage: integrate(t^n*exp(-s*t),t,0,oo)
```
I get the same error as above when I do this. If I impose `s > 0` and `n` in **Z**<sub>>0</sub>, then I get

```
s^(-n - 1)*gamma(n + 1)
```



---

archive/issue_comments_340408.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\n\n```\nsage: integrate(t^n*exp(-s*t),t,0,oo)\n```\ngives me the same \"assume\" failure as you got ;\n\nand then works as for you with the assumes done",
    "created_at": "2017-05-11T15:21:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340408",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:26" align="right">comment:26</div>


```
sage: integrate(t^n*exp(-s*t),t,0,oo)
```
gives me the same "assume" failure as you got ;

and then works as for you with the assumes done



---

archive/issue_comments_340409.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nHmm...that is strange. So something is happening between the attempt to parse the giac output and actually evaluate the maxima integral.",
    "created_at": "2017-05-11T15:23:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340409",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:27" align="right">comment:27</div>

Hmm...that is strange. So something is happening between the attempt to parse the giac output and actually evaluate the maxima integral.



---

archive/issue_comments_340410.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nIs `'integration'` a key in your `symbol_table['functions']`?",
    "created_at": "2017-05-11T15:26:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340410",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:28" align="right">comment:28</div>

Is `'integration'` a key in your `symbol_table['functions']`?



---

archive/issue_comments_340411.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nAlso, do you have\n\n```\nsage: symbol_table['giac']\n{'(1+sqrt(5))/2': golden_ratio,\n 'Dirac': dirac_delta,\n 'Heaviside': heaviside,\n 'pi': pi}\n```",
    "created_at": "2017-05-11T15:27:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340411",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:29" align="right">comment:29</div>

Also, do you have

```
sage: symbol_table['giac']
{'(1+sqrt(5))/2': golden_ratio,
 'Dirac': dirac_delta,
 'Heaviside': heaviside,
 'pi': pi}
```



---

archive/issue_comments_340412.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\n\n```\n'integrate': integrate,\n 'integration': integration,\n```\nin symbol_table['functions']\n\nand\n\n```\nsage: symbol_table['giac']\n\n{'(1+sqrt(5))/2': golden_ratio,\n 'Dirac': dirac_delta,\n 'Heaviside': heaviside,\n 'pi': pi}\n\n```",
    "created_at": "2017-05-11T15:28:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340412",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:30" align="right">comment:30</div>


```
'integrate': integrate,
 'integration': integration,
```
in symbol_table['functions']

and

```
sage: symbol_table['giac']

{'(1+sqrt(5))/2': golden_ratio,
 'Dirac': dirac_delta,
 'Heaviside': heaviside,
 'pi': pi}

```



---

archive/issue_comments_340413.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nThat's the difference: I don't have the `'integration'` in the functions symbol table. What is the `integration` function, specifically, what does `import_statements` give?",
    "created_at": "2017-05-11T15:30:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340413",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:31" align="right">comment:31</div>

That's the difference: I don't have the `'integration'` in the functions symbol table. What is the `integration` function, specifically, what does `import_statements` give?



---

archive/issue_comments_340414.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\n\n```\nsage: import_statements('integration')\n# **Warning**: distinct objects with name 'integration' in:\n#   - sage.calculus\n#   - sage.symbolic\nimport sage.symbolic.integration\n\n```",
    "created_at": "2017-05-11T15:31:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340414",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:32" align="right">comment:32</div>


```
sage: import_statements('integration')
# **Warning**: distinct objects with name 'integration' in:
#   - sage.calculus
#   - sage.symbolic
import sage.symbolic.integration

```



---

archive/issue_comments_340415.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nSorry, I was vague, I meant:\n\n```\nsage: import_statements(symbol_table['functions]['integration'])\n```",
    "created_at": "2017-05-11T15:33:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340415",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:33" align="right">comment:33</div>

Sorry, I was vague, I meant:

```
sage: import_statements(symbol_table['functions]['integration'])
```



---

archive/issue_comments_340416.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\n\n```\nsage: symbol_table['functions']['integration']\nintegration\nsage: import_statements(_)\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n\nValueError: no import statement found for 'integration'.\n```",
    "created_at": "2017-05-11T15:34:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340416",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:34" align="right">comment:34</div>


```
sage: symbol_table['functions']['integration']
integration
sage: import_statements(_)
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)

ValueError: no import statement found for 'integration'.
```



---

archive/issue_comments_340417.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\n\n```\nsage: symbol_table['functions']['integration']\nintegration\nsage: type(_)\n<class 'sage.symbolic.function_factory.NewSymbolicFunction'>\n```",
    "created_at": "2017-05-11T15:35:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340417",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:35" align="right">comment:35</div>


```
sage: symbol_table['functions']['integration']
integration
sage: type(_)
<class 'sage.symbolic.function_factory.NewSymbolicFunction'>
```



---

archive/issue_comments_340418.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nNow I'm not so sure about what to look for or ask, but I'm investigating. Ralf, do you have any ideas?",
    "created_at": "2017-05-11T15:38:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340418",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:36" align="right">comment:36</div>

Now I'm not so sure about what to look for or ask, but I'm investigating. Ralf, do you have any ideas?



---

archive/issue_comments_340419.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nSo I think what is happening is that `integration` is being considered by Maxima as a formal function. Hence, it is not simplified as an integral, and I don't think you could manipulate it as a function.",
    "created_at": "2017-05-11T15:50:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340419",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:37" align="right">comment:37</div>

So I think what is happening is that `integration` is being considered by Maxima as a formal function. Hence, it is not simplified as an integral, and I don't think you could manipulate it as a function.



---

archive/issue_comments_340420.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\ndoes this pass?\n\n```\n...\nif 'integrate' in format(result) or 'integration' in format(result):\n   return dummy_laplace(ex, t, s)\nelse:\n   return result.sage()\n```",
    "created_at": "2017-05-11T19:05:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340420",
    "user": "https://github.com/mforets"
}
```

<div id="comment:38" align="right">comment:38</div>

does this pass?

```
...
if 'integrate' in format(result) or 'integration' in format(result):
   return dummy_laplace(ex, t, s)
else:
   return result.sage()
```



---

archive/issue_comments_340421.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nLet me try to summarize. We cannot fix the doctest because of conflicting results due to giac's clever use of locale which breaks its interface to the world. The immediate way to adapt to this IMO is to look for both `integrate` and `integration` in the result when using laplace of giac. The more far-sighted way would be to fix the giac-Sage interface so that in the laplace code we can just say `return result.sage()` unconditionally.",
    "created_at": "2017-05-12T07:07:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340421",
    "user": "https://github.com/rwst"
}
```

<div id="comment:39" align="right">comment:39</div>

Let me try to summarize. We cannot fix the doctest because of conflicting results due to giac's clever use of locale which breaks its interface to the world. The immediate way to adapt to this IMO is to look for both `integrate` and `integration` in the result when using laplace of giac. The more far-sighted way would be to fix the giac-Sage interface so that in the laplace code we can just say `return result.sage()` unconditionally.



---

archive/issue_comments_340422.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\ncould somebody please take action here, and propose a better branch ?",
    "created_at": "2017-05-12T20:14:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340422",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:40" align="right">comment:40</div>

could somebody please take action here, and propose a better branch ?



---

archive/issue_comments_340423.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nWhat is the desired output of\n\n```\nsage: laplace(t^n, t, s, algorithm='giac')\n```\nIf it is `integration(t<sup>n*e</sup>(-s*t), t, 0, +Infinity)` then one could add \n\n```\nintegrate integration\n```\nto `local/share/giac/doc/en/keywords` and any other provided `$LANG/keywords` file. Doing this I get\n\n```\nsage: var('t,n,s')\n(t, n, s)\nsage: ex=t^n\nsage: from sage.interfaces.giac import giac\nsage: giac.laplace(ex, t, s)\nintegration(t^n*exp(-s*t),t,0,+infinity)\nsage: %giac\n\n  --> Switching to Giac <--\n\ngiac: Int(exp(x),x,0,1)\nintegration(exp(x),x,0,1)\n```\n\nWithout the change the doctest would pass but with the change I get\n\n```\nsage -t --long src/sage/calculus/calculus.py\n**********************************************************************\nFile \"src/sage/calculus/calculus.py\", line 1406, in sage.calculus.calculus.laplace\nFailed example:\n    laplace(t^n, t, s, algorithm='giac')\nExpected:\n    Traceback (most recent call last):\n    ...\n    NotImplementedError: Unable to parse Giac output: integrate(t^n*exp(-s*t),t,0,+infinity)\nGot:\n    integration(t^n*e^(-s*t), t, 0, +Infinity)\n```",
    "created_at": "2017-05-13T01:19:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340423",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:41" align="right">comment:41</div>

What is the desired output of

```
sage: laplace(t^n, t, s, algorithm='giac')
```
If it is `integration(t<sup>n*e</sup>(-s*t), t, 0, +Infinity)` then one could add 

```
integrate integration
```
to `local/share/giac/doc/en/keywords` and any other provided `$LANG/keywords` file. Doing this I get

```
sage: var('t,n,s')
(t, n, s)
sage: ex=t^n
sage: from sage.interfaces.giac import giac
sage: giac.laplace(ex, t, s)
integration(t^n*exp(-s*t),t,0,+infinity)
sage: %giac

  --> Switching to Giac <--

giac: Int(exp(x),x,0,1)
integration(exp(x),x,0,1)
```

Without the change the doctest would pass but with the change I get

```
sage -t --long src/sage/calculus/calculus.py
**********************************************************************
File "src/sage/calculus/calculus.py", line 1406, in sage.calculus.calculus.laplace
Failed example:
    laplace(t^n, t, s, algorithm='giac')
Expected:
    Traceback (most recent call last):
    ...
    NotImplementedError: Unable to parse Giac output: integrate(t^n*exp(-s*t),t,0,+infinity)
Got:
    integration(t^n*e^(-s*t), t, 0, +Infinity)
```



---

archive/issue_comments_340424.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nagain, for consistency the desired output of `laplace(t^n, t, s, algorithm='giac')` should be the same as the other two interfaces when they don't know the answer, don't you think?\n\nfrom your answers, i can reproduce the issue playing with `$ export LANG=fr_FR.UTF-8` and `$ export LANG=en_US.UTF-8` in the shell :)\n\nhence, let me upload a branch doing rws's [comment:39](#comment:39) and my [comment:38](#comment:38), if i understood correctly.",
    "created_at": "2017-05-13T06:32:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340424",
    "user": "https://github.com/mforets"
}
```

<div id="comment:42" align="right">comment:42</div>

again, for consistency the desired output of `laplace(t^n, t, s, algorithm='giac')` should be the same as the other two interfaces when they don't know the answer, don't you think?

from your answers, i can reproduce the issue playing with `$ export LANG=fr_FR.UTF-8` and `$ export LANG=en_US.UTF-8` in the shell :)

hence, let me upload a branch doing rws's [comment:39](#comment:39) and my [comment:38](#comment:38), if i understood correctly.



---

archive/issue_comments_340425.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e2d74c645b48c3288802f9080d6651aaccf658fb\"><code>e2d74c6</code></a></td><td><code>parse unevaluated expression in EN and FR</code></td></tr></table>\n",
    "created_at": "2017-05-13T06:59:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340425",
    "user": "https://github.com/mforets"
}
```

<div id="comment:43"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e2d74c645b48c3288802f9080d6651aaccf658fb"><code>e2d74c6</code></a></td><td><code>parse unevaluated expression in EN and FR</code></td></tr></table>




---

archive/issue_comments_340426.json:
```json
{
    "body": "Changed commit from **[`79442fe`](https://github.com/sagemath/sagetrac-mirror/commit/79442fe1dd9e24059f3c88db153c4f84dd090bfe)** to **[`e2d74c6`](https://github.com/sagemath/sagetrac-mirror/commit/e2d74c645b48c3288802f9080d6651aaccf658fb)**",
    "created_at": "2017-05-13T06:59:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340426",
    "user": "https://github.com/mforets"
}
```

Changed commit from **[`79442fe`](https://github.com/sagemath/sagetrac-mirror/commit/79442fe1dd9e24059f3c88db153c4f84dd090bfe)** to **[`e2d74c6`](https://github.com/sagemath/sagetrac-mirror/commit/e2d74c645b48c3288802f9080d6651aaccf658fb)**



---

archive/issue_comments_340427.json:
```json
{
    "body": "Changed author from **Fr\u00e9d\u00e9ric Chapoton** to **Fr\u00e9d\u00e9ric Chapoton, Marcelo Forets**",
    "created_at": "2017-05-13T06:59:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340427",
    "user": "https://github.com/mforets"
}
```

Changed author from **Frédéric Chapoton** to **Frédéric Chapoton, Marcelo Forets**



---

archive/issue_comments_340428.json:
```json
{
    "body": "Changed branch from **[u/chapoton/22833](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/22833)** to **[u/mforets/22833](https://github.com/sagemath/sagetrac-mirror/tree/u/mforets/22833)**",
    "created_at": "2017-05-13T06:59:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340428",
    "user": "https://github.com/mforets"
}
```

Changed branch from **[u/chapoton/22833](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/22833)** to **[u/mforets/22833](https://github.com/sagemath/sagetrac-mirror/tree/u/mforets/22833)**



---

archive/issue_events_315850.json:
```json
{
    "actor": "https://github.com/mforets",
    "created_at": "2017-05-13T06:59:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22833#event-315850"
}
```



---

archive/issue_events_315851.json:
```json
{
    "actor": "https://github.com/mforets",
    "created_at": "2017-05-13T06:59:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22833#event-315851"
}
```



---

archive/issue_comments_340429.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nJust to confirm that merging this branch in Sage 8.0.beta6 fixes the doctest error on my system.",
    "created_at": "2017-05-13T14:26:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340429",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:44" align="right">comment:44</div>

Just to confirm that merging this branch in Sage 8.0.beta6 fixes the doctest error on my system.



---

archive/issue_comments_340430.json:
```json
{
    "body": "Changed reviewer from **Travis Scrimshaw** to **Travis Scrimshaw, Steven Trogdon**",
    "created_at": "2017-05-13T16:02:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340430",
    "user": "https://github.com/strogdon"
}
```

Changed reviewer from **Travis Scrimshaw** to **Travis Scrimshaw, Steven Trogdon**



---

archive/issue_events_315852.json:
```json
{
    "actor": "https://github.com/strogdon",
    "created_at": "2017-05-13T16:02:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22833#event-315852"
}
```



---

archive/issue_events_315853.json:
```json
{
    "actor": "https://github.com/strogdon",
    "created_at": "2017-05-13T16:02:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22833#event-315853"
}
```



---

archive/issue_comments_340431.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nI think this is good.",
    "created_at": "2017-05-13T16:02:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340431",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:45" align="right">comment:45</div>

I think this is good.



---

archive/issue_comments_340432.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nThanks for the review. \n\nHere are two somehow related issues: #22997 and #22995.",
    "created_at": "2017-05-14T09:34:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340432",
    "user": "https://github.com/mforets"
}
```

<div id="comment:46" align="right">comment:46</div>

Thanks for the review. 

Here are two somehow related issues: #22997 and #22995.



---

archive/issue_comments_340433.json:
```json
{
    "body": "Changed branch from **[u/mforets/22833](https://github.com/sagemath/sagetrac-mirror/tree/u/mforets/22833)** to **[`e2d74c6`](https://github.com/sagemath/sagetrac-mirror/commit/e2d74c645b48c3288802f9080d6651aaccf658fb)**",
    "created_at": "2017-05-15T22:53:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22833#issuecomment-340433",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mforets/22833](https://github.com/sagemath/sagetrac-mirror/tree/u/mforets/22833)** to **[`e2d74c6`](https://github.com/sagemath/sagetrac-mirror/commit/e2d74c645b48c3288802f9080d6651aaccf658fb)**



---

archive/issue_events_315854.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-05-15T22:53:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22833#event-315854"
}
```



---

archive/issue_events_315855.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "179021ff28f0bf6790e38387f02fce55100fb048",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-05-15T22:53:04Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/22833",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22833#event-315855"
}
```
