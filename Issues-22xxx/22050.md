# Issue 22050: Complete graph on 2 vertices doesn't show any edges

archive/issues_021813.json:
```json
{
    "assignees": [],
    "body": "\n```\ng = graphs.CompleteGraph(2)\ng.show()\n```\non the sage cell server http://sagecell.sagemath.org/ (running 'SageMath version 7.5.beta1, Release Date: 2016-10-31') and on Version 7.3 on my machine, running Ubuntu on X1 Carbon, produces a picture with no edges.  Other sizes of complete graphs seem to work fine.\n\nMore similar errors are all seemingly related to `matplotlib` being unable to draw not quite vertical line: same error in plotting\n`graphs.PathGraph(2,'circle')`, `graphs.StarGraph(1)`, `graphs.CircularLadderGraph(2)`,\n`graphs.StarGraph(2)`\n\n**CC:**  @dcoudert\n\n**Keywords:** graph theory, complete graph\n\n**Branch/Commit:** [9b3ffc60828e3993a2ad286d442916cf6ef68d78](https://github.com/sagemath/sagetrac-mirror/commit/9b3ffc60828e3993a2ad286d442916cf6ef68d78)\n\n**Reviewer:** Dima Pasechnik\n\n**Author:** David Coudert\n\nIssue created by migration from https://trac.sagemath.org/ticket/22050\n\n",
    "closed_at": "2018-10-05T16:56:46Z",
    "created_at": "2016-12-12T17:17:43Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/minor",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Complete graph on 2 vertices doesn't show any edges",
    "type": "issue",
    "updated_at": "2018-10-05T16:56:46Z",
    "url": "https://github.com/sagemath/sage/issues/22050",
    "user": "https://github.com/katestange"
}
```

```
g = graphs.CompleteGraph(2)
g.show()
```
on the sage cell server http://sagecell.sagemath.org/ (running 'SageMath version 7.5.beta1, Release Date: 2016-10-31') and on Version 7.3 on my machine, running Ubuntu on X1 Carbon, produces a picture with no edges.  Other sizes of complete graphs seem to work fine.

More similar errors are all seemingly related to `matplotlib` being unable to draw not quite vertical line: same error in plotting
`graphs.PathGraph(2,'circle')`, `graphs.StarGraph(1)`, `graphs.CircularLadderGraph(2)`,
`graphs.StarGraph(2)`

**CC:**  @dcoudert

**Keywords:** graph theory, complete graph

**Branch/Commit:** [9b3ffc60828e3993a2ad286d442916cf6ef68d78](https://github.com/sagemath/sagetrac-mirror/commit/9b3ffc60828e3993a2ad286d442916cf6ef68d78)

**Reviewer:** Dima Pasechnik

**Author:** David Coudert

Issue created by migration from https://trac.sagemath.org/ticket/22050





---

archive/issue_events_267687.json:
```json
{
    "actor": "https://github.com/katestange",
    "created_at": "2016-12-12T17:17:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22050#event-267687"
}
```



---

archive/issue_events_267688.json:
```json
{
    "actor": "https://github.com/katestange",
    "created_at": "2016-12-12T17:17:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
    "label_color": "08517b",
    "label_name": "component: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22050#event-267688"
}
```



---

archive/issue_events_267689.json:
```json
{
    "actor": "https://github.com/katestange",
    "created_at": "2016-12-12T17:17:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "label": "https://github.com/sagemath/sage/labels/minor",
    "label_color": "ff0000",
    "label_name": "minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22050#event-267689"
}
```



---

archive/issue_events_267690.json:
```json
{
    "actor": "https://github.com/katestange",
    "created_at": "2016-12-12T17:17:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "008080",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22050#event-267690"
}
```



---

archive/issue_comments_327506.json:
```json
{
    "body": "<a id='comment:1'></a>\nThis happens with some other graphs, too, for example `graphs.CycleGraph(2)`.  In these cases, the layout is specified in the constructor and has positions extremely close to 0:\n\n```\nsage: C2 = graphs.CycleGraph(2)\nsage: C2.get_pos()\n{0: (6.123233995736766e-17, 1.0), 1: (-1.8369701987210297e-16, -1.0)}\nC2.show()\n```\n\nIf you manually set positions close to zero, the same phenomenon of invisible lines appears:\n\n```\nh = Graph([(0,1)])\nh.set_pos({0:(1e-3, 1), 1:(-1e-3,-1)})\nh.show()\n```\n\nThe same thing happens if the line is very nearly horizontal.",
    "created_at": "2017-01-30T18:54:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327506",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

<a id='comment:1'></a>
This happens with some other graphs, too, for example `graphs.CycleGraph(2)`.  In these cases, the layout is specified in the constructor and has positions extremely close to 0:

```
sage: C2 = graphs.CycleGraph(2)
sage: C2.get_pos()
{0: (6.123233995736766e-17, 1.0), 1: (-1.8369701987210297e-16, -1.0)}
C2.show()
```

If you manually set positions close to zero, the same phenomenon of invisible lines appears:

```
h = Graph([(0,1)])
h.set_pos({0:(1e-3, 1), 1:(-1e-3,-1)})
h.show()
```

The same thing happens if the line is very nearly horizontal.



---

archive/issue_comments_327507.json:
```json
{
    "body": "<a id='comment:2'></a>\nThis also happens with other graphics, e.g. a simple line:\n\n```\nsage: l = line2d([(1, 1e-6), (-1,-1e-6)])\nsage: l.set_aspect_ratio(1.0)\nsage: l.axes(False) \t\nsage: l\n```\n\nIn several of the output formats, e.g. pgf and png, I do not see this line (but I do see it if I save to a postscript file).  So I believe this is an issue with the plotting functions and not graph theory.",
    "created_at": "2017-02-13T20:21:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327507",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

<a id='comment:2'></a>
This also happens with other graphics, e.g. a simple line:

```
sage: l = line2d([(1, 1e-6), (-1,-1e-6)])
sage: l.set_aspect_ratio(1.0)
sage: l.axes(False) 	
sage: l
```

In several of the output formats, e.g. pgf and png, I do not see this line (but I do see it if I save to a postscript file).  So I believe this is an issue with the plotting functions and not graph theory.



---

archive/issue_comments_327508.json:
```json
{
    "body": "<a id='comment:3'></a>\nIn Sage 8.3 I get correct `CycleGraph(2)`-drawing, but still wrong `CompleteGraph(2)`-drawing.\n\nAnd indeed in the latter `get_pos()` returns\n\n```\n{0: (6.123233995736766e-17, 1.0), 1: (-1.8369701987210297e-16, -1.0)}\n```\nso this is basically very similar bug, fixed for `CycleGraph(2)` in #24512.",
    "created_at": "2018-08-14T08:38:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327508",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:3'></a>
In Sage 8.3 I get correct `CycleGraph(2)`-drawing, but still wrong `CompleteGraph(2)`-drawing.

And indeed in the latter `get_pos()` returns

```
{0: (6.123233995736766e-17, 1.0), 1: (-1.8369701987210297e-16, -1.0)}
```
so this is basically very similar bug, fixed for `CycleGraph(2)` in #24512.



---

archive/issue_comments_327509.json:
```json
{
    "body": "<a id='comment:4'></a>\nSame issue with `graphs.PathGraph(2,'circle')`, `graphs.StarGraph(1)`, `graphs.CircularLadderGraph(2)` and\n`graphs.StarGraph(2)`- it attempts to plot the vertical,\nbut not quite, line...\n\nAnd for some reason `graphs.CircularLadderGraph(1)` throws an error, should there be a check?",
    "created_at": "2018-08-14T10:10:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327509",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:4'></a>
Same issue with `graphs.PathGraph(2,'circle')`, `graphs.StarGraph(1)`, `graphs.CircularLadderGraph(2)` and
`graphs.StarGraph(2)`- it attempts to plot the vertical,
but not quite, line...

And for some reason `graphs.CircularLadderGraph(1)` throws an error, should there be a check?



---

archive/issue_comments_327510.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,3 +4,7 @@\n g.show()\n ```\n on the sage cell server http://sagecell.sagemath.org/ (running 'SageMath version 7.5.beta1, Release Date: 2016-10-31') and on Version 7.3 on my machine, running Ubuntu on X1 Carbon, produces a picture with no edges.  Other sizes of complete graphs seem to work fine.\n+\n+More similar errors are all seemingly related to `matplotlib` being unable to draw not quite vertical line: same error in plotting\n+`graphs.PathGraph(2,'circle')`, `graphs.StarGraph(1)`, `graphs.CircularLadderGraph(2)`,\n+`graphs.StarGraph(2)`\n``````\n",
    "created_at": "2018-08-14T10:10:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327510",
    "user": "https://github.com/dimpase"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,3 +4,7 @@
 g.show()
 ```
 on the sage cell server http://sagecell.sagemath.org/ (running 'SageMath version 7.5.beta1, Release Date: 2016-10-31') and on Version 7.3 on my machine, running Ubuntu on X1 Carbon, produces a picture with no edges.  Other sizes of complete graphs seem to work fine.
+
+More similar errors are all seemingly related to `matplotlib` being unable to draw not quite vertical line: same error in plotting
+`graphs.PathGraph(2,'circle')`, `graphs.StarGraph(1)`, `graphs.CircularLadderGraph(2)`,
+`graphs.StarGraph(2)`
``````




---

archive/issue_comments_327511.json:
```json
{
    "body": "<a id='comment:5'></a>\nThese methods should use method `_circular_embedding` from file `graph_plot.py`, and we should put in it the corrections that we did in #24512 for `CycleGraph`.\nNote that I have recently corrected method `_line_embedding` in #25403.\n\nThe embedding of the `CircularLadderGraph` could be simplified to:\n\n```\nfrom sage.graphs.graph_plot import _circle_embedding\n_circle_embedding(G, list(range(n)), radius=1)\n_circle_embedding(G, list(range(n, 2*n)), radius=2)\n```\n\nThe error in `graphs.CircularLadderGraph(1)` is due to methods `add_cycle` and `add_path` that do not check if the input list of vertices are empty, of length 1, etc.",
    "created_at": "2018-08-14T11:27:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327511",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:5'></a>
These methods should use method `_circular_embedding` from file `graph_plot.py`, and we should put in it the corrections that we did in #24512 for `CycleGraph`.
Note that I have recently corrected method `_line_embedding` in #25403.

The embedding of the `CircularLadderGraph` could be simplified to:

```
from sage.graphs.graph_plot import _circle_embedding
_circle_embedding(G, list(range(n)), radius=1)
_circle_embedding(G, list(range(n, 2*n)), radius=2)
```

The error in `graphs.CircularLadderGraph(1)` is due to methods `add_cycle` and `add_path` that do not check if the input list of vertices are empty, of length 1, etc.



---

archive/issue_comments_327512.json:
```json
{
    "body": "<a id='comment:6'></a>\nHow to know which sin/cos functions are used ? In a sage session sin(pi) gives 0. Inside `_circular_embedding`, sin(pi) gives `1.2246467991473532e-16`, sin(2*pi) gives -2.44929359829e-16, sin(3*pi) gives 3.67394039744e-16, etc. Similar issues with cos(pi/2).",
    "created_at": "2018-08-14T16:49:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327512",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:6'></a>
How to know which sin/cos functions are used ? In a sage session sin(pi) gives 0. Inside `_circular_embedding`, sin(pi) gives `1.2246467991473532e-16`, sin(2*pi) gives -2.44929359829e-16, sin(3*pi) gives 3.67394039744e-16, etc. Similar issues with cos(pi/2).



---

archive/issue_comments_327513.json:
```json
{
    "body": "<a id='comment:7'></a>\nwell, the problem might be somewhere else...\n\n```\nsage: pi\npi\nsage: float(pi)\n3.141592653589793\nsage: sin(float(pi))\n1.2246467991473532e-16\n```",
    "created_at": "2018-08-14T17:32:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327513",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:7'></a>
well, the problem might be somewhere else...

```
sage: pi
pi
sage: float(pi)
3.141592653589793
sage: sin(float(pi))
1.2246467991473532e-16
```



---

archive/issue_comments_327514.json:
```json
{
    "body": "**Branch:** [public/22050_use_circle_embedding](https://github.com/sagemath/sagetrac-mirror/tree/public/22050_use_circle_embedding)",
    "created_at": "2018-08-15T12:18:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327514",
    "user": "https://github.com/dcoudert"
}
```

**Branch:** [public/22050_use_circle_embedding](https://github.com/sagemath/sagetrac-mirror/tree/public/22050_use_circle_embedding)



---

archive/issue_comments_327515.json:
```json
{
    "body": "**Commit:** [1c4ea2904f2b58ef8a5c29d9e9e04d04c5e62ae0](https://github.com/sagemath/sagetrac-mirror/commit/1c4ea2904f2b58ef8a5c29d9e9e04d04c5e62ae0)",
    "created_at": "2018-08-15T12:18:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327515",
    "user": "https://github.com/dcoudert"
}
```

**Commit:** [1c4ea2904f2b58ef8a5c29d9e9e04d04c5e62ae0](https://github.com/sagemath/sagetrac-mirror/commit/1c4ea2904f2b58ef8a5c29d9e9e04d04c5e62ae0)



---

archive/issue_comments_327516.json:
```json
{
    "body": "**Changing author** from \"katestange\" to \"David Coudert\".",
    "created_at": "2018-08-15T12:18:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327516",
    "user": "https://github.com/dcoudert"
}
```

**Changing author** from "katestange" to "David Coudert".



---

archive/issue_events_267691.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-08-15T12:18:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22050#event-267691"
}
```



---

archive/issue_comments_327517.json:
```json
{
    "body": "<a id='comment:8'></a>\nI did the following:\n- add rounding inside `_circle_embedding` so that `sin(pi)` is 0 and not `1.2246467991473532e-16`.\n- add a parameter `angle` to `_circle_embedding`\n- patch `add_circle` to avoid adding a loop when the list of vertices has a single node\n- use `_circle_embedding` in many methods\n \n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/adea1f157cd7c533f9f857fcf26256c1cdef01b9\">adea1f1</a></td><td><code>trac #22050: round cos and sin in _circle_embedding</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c45f9eb09c63a1ca1ebea083773ea93132baeaef\">c45f9eb</a></td><td><code>trac #22050: adds parameter angle to _circle_embedding</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/259136cc6fc41c341681496adeaedbb0340075ff\">259136c</a></td><td><code>trac #22050: use _circle_embedding for cycle, path, complete and star graphs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f56b3bd729f5c3ce02cd5bc1e3f6d394484382ca\">f56b3bd</a></td><td><code>trac #22050: use _circle_embedding for CircularLadderGraph</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d0d06372319e7278d32c54a7b1cad56599d39448\">d0d0637</a></td><td><code>trac #22050: fix add_path, add_cycle, add_clique</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de55548e27d7150c52984efe85bbc3cd20cb9378\">de55548</a></td><td><code>trac #22050: fix layout when n==2 in CircularLadderGraph</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e365a500c96adddedcc98feab5610345b5b747da\">e365a50</a></td><td><code>trac #22050: use _circle_embedding in FriendshipGraph</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/58860b0620415ac9e6adcaf847773eecbf4ef75b\">58860b0</a></td><td><code>trac #22050: use _circle_embedding in GeneralizedPetersenGraph</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1c4ea2904f2b58ef8a5c29d9e9e04d04c5e62ae0\">1c4ea29</a></td><td><code>trac #22050: more use of _circle_embedding</code></td></tr></table>\n",
    "created_at": "2018-08-15T12:18:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327517",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:8'></a>
I did the following:
- add rounding inside `_circle_embedding` so that `sin(pi)` is 0 and not `1.2246467991473532e-16`.
- add a parameter `angle` to `_circle_embedding`
- patch `add_circle` to avoid adding a loop when the list of vertices has a single node
- use `_circle_embedding` in many methods
 
---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/adea1f157cd7c533f9f857fcf26256c1cdef01b9">adea1f1</a></td><td><code>trac #22050: round cos and sin in _circle_embedding</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c45f9eb09c63a1ca1ebea083773ea93132baeaef">c45f9eb</a></td><td><code>trac #22050: adds parameter angle to _circle_embedding</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/259136cc6fc41c341681496adeaedbb0340075ff">259136c</a></td><td><code>trac #22050: use _circle_embedding for cycle, path, complete and star graphs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f56b3bd729f5c3ce02cd5bc1e3f6d394484382ca">f56b3bd</a></td><td><code>trac #22050: use _circle_embedding for CircularLadderGraph</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d0d06372319e7278d32c54a7b1cad56599d39448">d0d0637</a></td><td><code>trac #22050: fix add_path, add_cycle, add_clique</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de55548e27d7150c52984efe85bbc3cd20cb9378">de55548</a></td><td><code>trac #22050: fix layout when n==2 in CircularLadderGraph</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e365a500c96adddedcc98feab5610345b5b747da">e365a50</a></td><td><code>trac #22050: use _circle_embedding in FriendshipGraph</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/58860b0620415ac9e6adcaf847773eecbf4ef75b">58860b0</a></td><td><code>trac #22050: use _circle_embedding in GeneralizedPetersenGraph</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1c4ea2904f2b58ef8a5c29d9e9e04d04c5e62ae0">1c4ea29</a></td><td><code>trac #22050: more use of _circle_embedding</code></td></tr></table>




---

archive/issue_comments_327518.json:
```json
{
    "body": "<a id='comment:9'></a>\nWhile we are at it, why are `_circle_embedding` and `_line_embedding` not member functions of the `GraphPlot` class, but these ugly side-effect beasts?\nShouldn't they be moved into `GraphPlot` ?",
    "created_at": "2018-08-15T21:42:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327518",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>
While we are at it, why are `_circle_embedding` and `_line_embedding` not member functions of the `GraphPlot` class, but these ugly side-effect beasts?
Shouldn't they be moved into `GraphPlot` ?



---

archive/issue_comments_327519.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a8683bb75616f17fa2da449673ab4bd460b2f3a3\">a8683bb</a></td><td><code>trac #22050: Merged with 8.4.beta1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/990e39bbaf4f0ab3b12fdf3c665e98a2826c89bc\">990e39b</a></td><td><code>trac #22050: fix doctests</code></td></tr></table>\n",
    "created_at": "2018-08-16T10:08:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327519",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:10'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a8683bb75616f17fa2da449673ab4bd460b2f3a3">a8683bb</a></td><td><code>trac #22050: Merged with 8.4.beta1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/990e39bbaf4f0ab3b12fdf3c665e98a2826c89bc">990e39b</a></td><td><code>trac #22050: fix doctests</code></td></tr></table>




---

archive/issue_comments_327520.json:
```json
{
    "body": "**Changing commit** from \"[1c4ea2904f2b58ef8a5c29d9e9e04d04c5e62ae0](https://github.com/sagemath/sagetrac-mirror/commit/1c4ea2904f2b58ef8a5c29d9e9e04d04c5e62ae0)\" to \"[990e39bbaf4f0ab3b12fdf3c665e98a2826c89bc](https://github.com/sagemath/sagetrac-mirror/commit/990e39bbaf4f0ab3b12fdf3c665e98a2826c89bc)\".",
    "created_at": "2018-08-16T10:08:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327520",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[1c4ea2904f2b58ef8a5c29d9e9e04d04c5e62ae0](https://github.com/sagemath/sagetrac-mirror/commit/1c4ea2904f2b58ef8a5c29d9e9e04d04c5e62ae0)" to "[990e39bbaf4f0ab3b12fdf3c665e98a2826c89bc](https://github.com/sagemath/sagetrac-mirror/commit/990e39bbaf4f0ab3b12fdf3c665e98a2826c89bc)".



---

archive/issue_comments_327521.json:
```json
{
    "body": "<a id='comment:11'></a>\nIf these methods are moved to `GraphPlot`, how can we use them to set the embedding of parts of a graph ? For instance for the `BarbellGraph` ?\n\nI just discovered another method producing a circular embedding: `layout_circular` in `generic_graph.py`. The difference is that it returns a dictionary, but clearly it should at least use `_circular_embedding` or be combined with it.\nI could for instance add a `return_dict` parameter to `_circular_embedding` to return a new dictionary instead of filling `_pos`, or add parameters to `layout_circular` to get the functionality of `_circular_embedding`...\n\nMore generally, we could move methods for graph layout and visualization out of `generic_graph.py` and gather them in a file for 2d and/or 3d plotting. That could ease our life for maintaining / simplifying / improving the code. For sure in another ticket.",
    "created_at": "2018-08-16T10:32:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327521",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:11'></a>
If these methods are moved to `GraphPlot`, how can we use them to set the embedding of parts of a graph ? For instance for the `BarbellGraph` ?

I just discovered another method producing a circular embedding: `layout_circular` in `generic_graph.py`. The difference is that it returns a dictionary, but clearly it should at least use `_circular_embedding` or be combined with it.
I could for instance add a `return_dict` parameter to `_circular_embedding` to return a new dictionary instead of filling `_pos`, or add parameters to `layout_circular` to get the functionality of `_circular_embedding`...

More generally, we could move methods for graph layout and visualization out of `generic_graph.py` and gather them in a file for 2d and/or 3d plotting. That could ease our life for maintaining / simplifying / improving the code. For sure in another ticket.



---

archive/issue_comments_327522.json:
```json
{
    "body": "<a id='comment:12'></a>\none can use set_pos() on a graph, why not _circular_embedding(), if moved to the same class as set_pos()  ?",
    "created_at": "2018-08-16T10:44:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327522",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:12'></a>
one can use set_pos() on a graph, why not _circular_embedding(), if moved to the same class as set_pos()  ?



---

archive/issue_comments_327523.json:
```json
{
    "body": "<a id='comment:13'></a>\nWe can of course make it a method of `GenericGraph`.",
    "created_at": "2018-08-16T10:55:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327523",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:13'></a>
We can of course make it a method of `GenericGraph`.



---

archive/issue_comments_327524.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [@dcoudert](#comment%3A13):\n> We can of course make it a method of `GenericGraph`.\n\nperhaps, just add them as options for set_pos() ?",
    "created_at": "2018-08-16T11:35:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327524",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:14'></a>
Replying to [@dcoudert](#comment%3A13):
> We can of course make it a method of `GenericGraph`.

perhaps, just add them as options for set_pos() ?



---

archive/issue_comments_327525.json:
```json
{
    "body": "<a id='comment:15'></a>\none way or another, these `_circular_` and _line_embedding are ugly hacks, done without regard for the pre-existing design.",
    "created_at": "2018-08-16T11:37:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327525",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:15'></a>
one way or another, these `_circular_` and _line_embedding are ugly hacks, done without regard for the pre-existing design.



---

archive/issue_comments_327526.json:
```json
{
    "body": "Replying to [ticket:22050 katestange]:\n> More similar errors are all seemingly related to `matplotlib` being unable to draw not quite vertical line\n\nDid you ever try to find out why this is the case? It's obvious that `matplotlib` is to blame here. Fixing the positions of vertices in Sage is a work-around but not a structural fix.",
    "created_at": "2018-08-16T11:52:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327526",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [ticket:22050 katestange]:
> More similar errors are all seemingly related to `matplotlib` being unable to draw not quite vertical line

Did you ever try to find out why this is the case? It's obvious that `matplotlib` is to blame here. Fixing the positions of vertices in Sage is a work-around but not a structural fix.



---

archive/issue_comments_327527.json:
```json
{
    "body": "<a id='comment:17'></a>\nIt would be cleaner if `_circle_embedding` would be a method of graphs (as opposed to a stand-alone function). Also conceptually, it feels like it should be method.",
    "created_at": "2018-08-16T11:57:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327527",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'></a>
It would be cleaner if `_circle_embedding` would be a method of graphs (as opposed to a stand-alone function). Also conceptually, it feels like it should be method.



---

archive/issue_comments_327528.json:
```json
{
    "body": "<a id='comment:18'></a>\n`@`dima: I searched ticket and discovered that `_line_embedding` was introduced in #12980 and `_circle_embedding` in #12942 while `layout_circular` was here before #7004... So you are fully right.\n\n`@`Jeroen: no, I have not investigated matplotlib yet. We should do it, but I'm no expert in matplotlib. Also, the I have not checked the `tikz` part yet, but without this patch you can see that there is a problem with the position of the vertices in `_latex_` (values of x and y in `\\Vertex` lines).\n\n```\nsage: print(graphs.CompleteGraph(2)._latex_())\n\\begin{tikzpicture}\n\\definecolor{cv0}{rgb}{0.0,0.0,0.0}\n\\definecolor{cfv0}{rgb}{1.0,1.0,1.0}\n\\definecolor{clv0}{rgb}{0.0,0.0,0.0}\n\\definecolor{cv1}{rgb}{0.0,0.0,0.0}\n\\definecolor{cfv1}{rgb}{1.0,1.0,1.0}\n\\definecolor{clv1}{rgb}{0.0,0.0,0.0}\n\\definecolor{cv0v1}{rgb}{0.0,0.0,0.0}\n%\n\\Vertex[style={minimum size=1.0cm,draw=cv0,fill=cfv0,text=clv0,shape=circle},LabelOut=false,L=\\hbox{$0$},x=5.0cm,y=5.0cm]{v0}\n\\Vertex[style={minimum size=1.0cm,draw=cv1,fill=cfv1,text=clv1,shape=circle},LabelOut=false,L=\\hbox{$1$},x=0.0cm,y=0.0cm]{v1}\n%\n\\Edge[lw=0.1cm,style={color=cv0v1,},](v0)(v1)\n%\n\\end{tikzpicture}\n```\nWith this patch, the positions are the following, so vertical.\n\n```\n\\Vertex[style={minimum size=1.0cm,draw=cv0,fill=cfv0,text=clv0,shape=circle},LabelOut=false,L=\\hbox{$0$},x=2.5cm,y=5.0cm]{v0}\n\\Vertex[style={minimum size=1.0cm,draw=cv1,fill=cfv1,text=clv1,shape=circle},LabelOut=false,L=\\hbox{$1$},x=2.5cm,y=0.0cm]{v1}\n```\n\n\nI will try to make `_circle_embedding` a method of `GenericGraph` and unify with `layout_circular`. It's better if such embedding is done in a single place.",
    "created_at": "2018-08-16T12:10:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327528",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:18'></a>
`@`dima: I searched ticket and discovered that `_line_embedding` was introduced in #12980 and `_circle_embedding` in #12942 while `layout_circular` was here before #7004... So you are fully right.

`@`Jeroen: no, I have not investigated matplotlib yet. We should do it, but I'm no expert in matplotlib. Also, the I have not checked the `tikz` part yet, but without this patch you can see that there is a problem with the position of the vertices in `_latex_` (values of x and y in `\Vertex` lines).

```
sage: print(graphs.CompleteGraph(2)._latex_())
\begin{tikzpicture}
\definecolor{cv0}{rgb}{0.0,0.0,0.0}
\definecolor{cfv0}{rgb}{1.0,1.0,1.0}
\definecolor{clv0}{rgb}{0.0,0.0,0.0}
\definecolor{cv1}{rgb}{0.0,0.0,0.0}
\definecolor{cfv1}{rgb}{1.0,1.0,1.0}
\definecolor{clv1}{rgb}{0.0,0.0,0.0}
\definecolor{cv0v1}{rgb}{0.0,0.0,0.0}
%
\Vertex[style={minimum size=1.0cm,draw=cv0,fill=cfv0,text=clv0,shape=circle},LabelOut=false,L=\hbox{$0$},x=5.0cm,y=5.0cm]{v0}
\Vertex[style={minimum size=1.0cm,draw=cv1,fill=cfv1,text=clv1,shape=circle},LabelOut=false,L=\hbox{$1$},x=0.0cm,y=0.0cm]{v1}
%
\Edge[lw=0.1cm,style={color=cv0v1,},](v0)(v1)
%
\end{tikzpicture}
```
With this patch, the positions are the following, so vertical.

```
\Vertex[style={minimum size=1.0cm,draw=cv0,fill=cfv0,text=clv0,shape=circle},LabelOut=false,L=\hbox{$0$},x=2.5cm,y=5.0cm]{v0}
\Vertex[style={minimum size=1.0cm,draw=cv1,fill=cfv1,text=clv1,shape=circle},LabelOut=false,L=\hbox{$1$},x=2.5cm,y=0.0cm]{v1}
```


I will try to make `_circle_embedding` a method of `GenericGraph` and unify with `layout_circular`. It's better if such embedding is done in a single place.



---

archive/issue_comments_327529.json:
```json
{
    "body": "<a id='comment:19'></a>\nI don't now how tikz pictures are done. I'd be surprised if they are produced via matplotlib. If they are produced in some other way I guess it's not matplotlib's bug, it's Sage one. \nBut where I don't know---too many layers of classes etc for me :-)",
    "created_at": "2018-08-16T22:31:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327529",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:19'></a>
I don't now how tikz pictures are done. I'd be surprised if they are produced via matplotlib. If they are produced in some other way I guess it's not matplotlib's bug, it's Sage one. 
But where I don't know---too many layers of classes etc for me :-)



---

archive/issue_comments_327530.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/98bacd3d4f25b59e4431ae67a42fde84634711dd\">98bacd3</a></td><td><code>trac #22050: move methods to generic_graph.py and update usage</code></td></tr></table>\n",
    "created_at": "2018-08-17T11:21:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327530",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/98bacd3d4f25b59e4431ae67a42fde84634711dd">98bacd3</a></td><td><code>trac #22050: move methods to generic_graph.py and update usage</code></td></tr></table>




---

archive/issue_comments_327531.json:
```json
{
    "body": "**Changing commit** from \"[990e39bbaf4f0ab3b12fdf3c665e98a2826c89bc](https://github.com/sagemath/sagetrac-mirror/commit/990e39bbaf4f0ab3b12fdf3c665e98a2826c89bc)\" to \"[98bacd3d4f25b59e4431ae67a42fde84634711dd](https://github.com/sagemath/sagetrac-mirror/commit/98bacd3d4f25b59e4431ae67a42fde84634711dd)\".",
    "created_at": "2018-08-17T11:21:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327531",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[990e39bbaf4f0ab3b12fdf3c665e98a2826c89bc](https://github.com/sagemath/sagetrac-mirror/commit/990e39bbaf4f0ab3b12fdf3c665e98a2826c89bc)" to "[98bacd3d4f25b59e4431ae67a42fde84634711dd](https://github.com/sagemath/sagetrac-mirror/commit/98bacd3d4f25b59e4431ae67a42fde84634711dd)".



---

archive/issue_comments_327532.json:
```json
{
    "body": "<a id='comment:21'></a>\nI have moved the methods to `generic_graph.py` and update usage everywhere. It was used many many times...\n\nI will check if I can understand the issue with tikz / matplotlib when we don't round `sin(pi)`.",
    "created_at": "2018-08-17T11:25:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327532",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:21'></a>
I have moved the methods to `generic_graph.py` and update usage everywhere. It was used many many times...

I will check if I can understand the issue with tikz / matplotlib when we don't round `sin(pi)`.



---

archive/issue_comments_327533.json:
```json
{
    "body": "<a id='comment:22'></a>\nI'm also unable to guess what's going on with `plot`/`show`. Way to complicated for me.\n\n\nIn `GraphLatex`, the method `tkz_picture` computes `xmin`, `xmax`, `ymin`, `ymax` positions, and then the positions of the vertices are scaled to fill the specified image size (5*5 by default).\n\nWhen `xmin == xmax`, then vertices are placed at the middle of the x range, so by default 2.5.\n\nBut when we have `G._pos = {0: (6.123233995736766e-17, 1.0), 1: (-1.8369701987210297e-16, -1.0)}`, `xmax - xmin = 2.4492935982947064e-16` and so the vertices are spread in the x axis. Vertex 0 will be at `(5.0, 1.0)` and vertex 1 at `(0.0, -1.0)`.\n\nSo I think that the `round(cos(...), 10)` is needed.\n\n\nQuestion: some code is duplicated in `tkz_picture` (certainly a copy/paste error). Should I open a new ticket to remove it or can I do it here ?",
    "created_at": "2018-08-17T13:35:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327533",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:22'></a>
I'm also unable to guess what's going on with `plot`/`show`. Way to complicated for me.


In `GraphLatex`, the method `tkz_picture` computes `xmin`, `xmax`, `ymin`, `ymax` positions, and then the positions of the vertices are scaled to fill the specified image size (5*5 by default).

When `xmin == xmax`, then vertices are placed at the middle of the x range, so by default 2.5.

But when we have `G._pos = {0: (6.123233995736766e-17, 1.0), 1: (-1.8369701987210297e-16, -1.0)}`, `xmax - xmin = 2.4492935982947064e-16` and so the vertices are spread in the x axis. Vertex 0 will be at `(5.0, 1.0)` and vertex 1 at `(0.0, -1.0)`.

So I think that the `round(cos(...), 10)` is needed.


Question: some code is duplicated in `tkz_picture` (certainly a copy/paste error). Should I open a new ticket to remove it or can I do it here ?



---

archive/issue_comments_327534.json:
```json
{
    "body": "<a id='comment:23'></a>\nI opened #26106 to remove the duplicated code in `tkz_picture`.",
    "created_at": "2018-08-22T10:05:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327534",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:23'></a>
I opened #26106 to remove the duplicated code in `tkz_picture`.



---

archive/issue_events_267692.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-08-22T10:05:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22050#event-267692"
}
```



---

archive/issue_comments_327535.json:
```json
{
    "body": "**Changing commit** from \"[98bacd3d4f25b59e4431ae67a42fde84634711dd](https://github.com/sagemath/sagetrac-mirror/commit/98bacd3d4f25b59e4431ae67a42fde84634711dd)\" to \"[1f33553e55ea8acedfd5ea836735abc33accf7de](https://github.com/sagemath/sagetrac-mirror/commit/1f33553e55ea8acedfd5ea836735abc33accf7de)\".",
    "created_at": "2018-09-02T12:00:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327535",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[98bacd3d4f25b59e4431ae67a42fde84634711dd](https://github.com/sagemath/sagetrac-mirror/commit/98bacd3d4f25b59e4431ae67a42fde84634711dd)" to "[1f33553e55ea8acedfd5ea836735abc33accf7de](https://github.com/sagemath/sagetrac-mirror/commit/1f33553e55ea8acedfd5ea836735abc33accf7de)".



---

archive/issue_comments_327536.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f33553e55ea8acedfd5ea836735abc33accf7de\">1f33553</a></td><td><code>trac #: rebase on 8.4.beta3</code></td></tr></table>\n",
    "created_at": "2018-09-02T12:00:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327536",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f33553e55ea8acedfd5ea836735abc33accf7de">1f33553</a></td><td><code>trac #: rebase on 8.4.beta3</code></td></tr></table>




---

archive/issue_comments_327537.json:
```json
{
    "body": "<a id='comment:25'></a>\nSuccessfully tested over beta7 (just in case).",
    "created_at": "2018-10-04T15:13:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327537",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:25'></a>
Successfully tested over beta7 (just in case).



---

archive/issue_comments_327538.json:
```json
{
    "body": "<a id='comment:26'></a>\nWe should fix pyflakes warnings (from the patchbot)",
    "created_at": "2018-10-04T17:26:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327538",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:26'></a>
We should fix pyflakes warnings (from the patchbot)



---

archive/issue_comments_327539.json:
```json
{
    "body": "**Changing commit** from \"[1f33553e55ea8acedfd5ea836735abc33accf7de](https://github.com/sagemath/sagetrac-mirror/commit/1f33553e55ea8acedfd5ea836735abc33accf7de)\" to \"[9b3ffc60828e3993a2ad286d442916cf6ef68d78](https://github.com/sagemath/sagetrac-mirror/commit/9b3ffc60828e3993a2ad286d442916cf6ef68d78)\".",
    "created_at": "2018-10-04T17:54:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327539",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[1f33553e55ea8acedfd5ea836735abc33accf7de](https://github.com/sagemath/sagetrac-mirror/commit/1f33553e55ea8acedfd5ea836735abc33accf7de)" to "[9b3ffc60828e3993a2ad286d442916cf6ef68d78](https://github.com/sagemath/sagetrac-mirror/commit/9b3ffc60828e3993a2ad286d442916cf6ef68d78)".



---

archive/issue_comments_327540.json:
```json
{
    "body": "<a id='comment:27'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1649785ce3366354b2efdc2364e72a90b8d73f21\">1649785</a></td><td><code>trac #22050: Merged with 8.4.beta7</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b3ffc60828e3993a2ad286d442916cf6ef68d78\">9b3ffc6</a></td><td><code>trac #22050: pyflakes in families.py</code></td></tr></table>\n",
    "created_at": "2018-10-04T17:54:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327540",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:27'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1649785ce3366354b2efdc2364e72a90b8d73f21">1649785</a></td><td><code>trac #22050: Merged with 8.4.beta7</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b3ffc60828e3993a2ad286d442916cf6ef68d78">9b3ffc6</a></td><td><code>trac #22050: pyflakes in families.py</code></td></tr></table>




---

archive/issue_comments_327541.json:
```json
{
    "body": "<a id='comment:28'></a>\nI fixed the pyflakes warning in `families.py`.\nWarning in `generic_graph.py` are addressed in #26289.",
    "created_at": "2018-10-04T17:56:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327541",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:28'></a>
I fixed the pyflakes warning in `families.py`.
Warning in `generic_graph.py` are addressed in #26289.



---

archive/issue_comments_327542.json:
```json
{
    "body": "**Reviewer:** Dima Pasechnik",
    "created_at": "2018-10-04T18:24:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327542",
    "user": "https://github.com/dimpase"
}
```

**Reviewer:** Dima Pasechnik



---

archive/issue_comments_327543.json:
```json
{
    "body": "<a id='comment:29'></a>\nOK, it's certainly a shame we could not get to the bottom of the matter, but it's still an improvement.",
    "created_at": "2018-10-04T18:24:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327543",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:29'></a>
OK, it's certainly a shame we could not get to the bottom of the matter, but it's still an improvement.



---

archive/issue_events_267693.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-10-04T18:24:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22050#event-267693"
}
```



---

archive/issue_events_267694.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-10-04T18:24:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22050#event-267694"
}
```



---

archive/issue_comments_327544.json:
```json
{
    "body": "**Changing branch** from \"[public/22050_use_circle_embedding](https://github.com/sagemath/sagetrac-mirror/tree/public/22050_use_circle_embedding)\" to \"[9b3ffc60828e3993a2ad286d442916cf6ef68d78](https://github.com/sagemath/sagetrac-mirror/commit/9b3ffc60828e3993a2ad286d442916cf6ef68d78)\".",
    "created_at": "2018-10-05T16:56:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-327544",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/22050_use_circle_embedding](https://github.com/sagemath/sagetrac-mirror/tree/public/22050_use_circle_embedding)" to "[9b3ffc60828e3993a2ad286d442916cf6ef68d78](https://github.com/sagemath/sagetrac-mirror/commit/9b3ffc60828e3993a2ad286d442916cf6ef68d78)".



---

archive/issue_events_267695.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-10-05T16:56:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22050#event-267695"
}
```



---

archive/issue_events_267696.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "c818b8b2a932ef661f737f0cce01a5f2ae91d6de",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-10-05T16:56:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22050#event-267696"
}
```
