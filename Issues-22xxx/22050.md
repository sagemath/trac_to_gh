# Issue 22050: Complete graph on 2 vertices doesn't show any edges

archive/issues_021813.json:
```json
{
    "assignees": [],
    "body": "\n```\ng = graphs.CompleteGraph(2)\ng.show()\n```\non the sage cell server http://sagecell.sagemath.org/ (running 'SageMath version 7.5.beta1, Release Date: 2016-10-31') and on Version 7.3 on my machine, running Ubuntu on X1 Carbon, produces a picture with no edges.  Other sizes of complete graphs seem to work fine.\n\nMore similar errors are all seemingly related to `matplotlib` being unable to draw not quite vertical line: same error in plotting\n`graphs.PathGraph(2,'circle')`, `graphs.StarGraph(1)`, `graphs.CircularLadderGraph(2)`,\n`graphs.StarGraph(2)`\n\nCC:  @dcoudert\n\nKeywords: **graph theory, complete graph**\n\nBranch/Commit: **[`9b3ffc6`](https://github.com/sagemath/sagetrac-mirror/commit/9b3ffc60828e3993a2ad286d442916cf6ef68d78)**\n\nReviewer: **Dima Pasechnik**\n\nAuthor: **David Coudert**\n\nComponent: **graph theory**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/22050_\n\n",
    "closed_at": "2018-10-05T16:56:46Z",
    "created_at": "2016-12-12T17:17:43Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Complete graph on 2 vertices doesn't show any edges",
    "type": "issue",
    "updated_at": "2018-10-05T16:56:46Z",
    "url": "https://github.com/sagemath/sage/issues/22050",
    "user": "https://github.com/katestange"
}
```

```
g = graphs.CompleteGraph(2)
g.show()
```
on the sage cell server http://sagecell.sagemath.org/ (running 'SageMath version 7.5.beta1, Release Date: 2016-10-31') and on Version 7.3 on my machine, running Ubuntu on X1 Carbon, produces a picture with no edges.  Other sizes of complete graphs seem to work fine.

More similar errors are all seemingly related to `matplotlib` being unable to draw not quite vertical line: same error in plotting
`graphs.PathGraph(2,'circle')`, `graphs.StarGraph(1)`, `graphs.CircularLadderGraph(2)`,
`graphs.StarGraph(2)`

CC:  @dcoudert

Keywords: **graph theory, complete graph**

Branch/Commit: **[`9b3ffc6`](https://github.com/sagemath/sagetrac-mirror/commit/9b3ffc60828e3993a2ad286d442916cf6ef68d78)**

Reviewer: **Dima Pasechnik**

Author: **David Coudert**

Component: **graph theory**

_Issue created by migration from https://trac.sagemath.org/ticket/22050_





---

archive/issue_events_310222.json:
```json
{
    "actor": "https://github.com/katestange",
    "created_at": "2016-12-12T17:17:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "eeeeee",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22050#event-310222"
}
```



---

archive/issue_events_310223.json:
```json
{
    "actor": "https://github.com/katestange",
    "created_at": "2016-12-12T17:17:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22050#event-310223"
}
```



---

archive/issue_events_310224.json:
```json
{
    "actor": "https://github.com/katestange",
    "created_at": "2016-12-12T17:17:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22050#event-310224"
}
```



---

archive/issue_comments_324928.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nThis happens with some other graphs, too, for example `graphs.CycleGraph(2)`.  In these cases, the layout is specified in the constructor and has positions extremely close to 0:\n\n```\nsage: C2 = graphs.CycleGraph(2)\nsage: C2.get_pos()\n{0: (6.123233995736766e-17, 1.0), 1: (-1.8369701987210297e-16, -1.0)}\nC2.show()\n```\n\nIf you manually set positions close to zero, the same phenomenon of invisible lines appears:\n\n```\nh = Graph([(0,1)])\nh.set_pos({0:(1e-3, 1), 1:(-1e-3,-1)})\nh.show()\n```\n\nThe same thing happens if the line is very nearly horizontal.",
    "created_at": "2017-01-30T18:54:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324928",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

<div id="comment:1" align="right">comment:1</div>

This happens with some other graphs, too, for example `graphs.CycleGraph(2)`.  In these cases, the layout is specified in the constructor and has positions extremely close to 0:

```
sage: C2 = graphs.CycleGraph(2)
sage: C2.get_pos()
{0: (6.123233995736766e-17, 1.0), 1: (-1.8369701987210297e-16, -1.0)}
C2.show()
```

If you manually set positions close to zero, the same phenomenon of invisible lines appears:

```
h = Graph([(0,1)])
h.set_pos({0:(1e-3, 1), 1:(-1e-3,-1)})
h.show()
```

The same thing happens if the line is very nearly horizontal.



---

archive/issue_comments_324929.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nThis also happens with other graphics, e.g. a simple line:\n\n```\nsage: l = line2d([(1, 1e-6), (-1,-1e-6)])\nsage: l.set_aspect_ratio(1.0)\nsage: l.axes(False) \t\nsage: l\n```\n\nIn several of the output formats, e.g. pgf and png, I do not see this line (but I do see it if I save to a postscript file).  So I believe this is an issue with the plotting functions and not graph theory.",
    "created_at": "2017-02-13T20:21:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324929",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

<div id="comment:2" align="right">comment:2</div>

This also happens with other graphics, e.g. a simple line:

```
sage: l = line2d([(1, 1e-6), (-1,-1e-6)])
sage: l.set_aspect_ratio(1.0)
sage: l.axes(False) 	
sage: l
```

In several of the output formats, e.g. pgf and png, I do not see this line (but I do see it if I save to a postscript file).  So I believe this is an issue with the plotting functions and not graph theory.



---

archive/issue_comments_324930.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nIn Sage 8.3 I get correct `CycleGraph(2)`-drawing, but still wrong `CompleteGraph(2)`-drawing.\n\nAnd indeed in the latter `get_pos()` returns\n\n```\n{0: (6.123233995736766e-17, 1.0), 1: (-1.8369701987210297e-16, -1.0)}\n```\nso this is basically very similar bug, fixed for `CycleGraph(2)` in #24512.",
    "created_at": "2018-08-14T08:38:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324930",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:3" align="right">comment:3</div>

In Sage 8.3 I get correct `CycleGraph(2)`-drawing, but still wrong `CompleteGraph(2)`-drawing.

And indeed in the latter `get_pos()` returns

```
{0: (6.123233995736766e-17, 1.0), 1: (-1.8369701987210297e-16, -1.0)}
```
so this is basically very similar bug, fixed for `CycleGraph(2)` in #24512.



---

archive/issue_comments_324931.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nSame issue with `graphs.PathGraph(2,'circle')`, `graphs.StarGraph(1)`, `graphs.CircularLadderGraph(2)` and\n`graphs.StarGraph(2)`- it attempts to plot the vertical,\nbut not quite, line...\n\nAnd for some reason `graphs.CircularLadderGraph(1)` throws an error, should there be a check?",
    "created_at": "2018-08-14T10:10:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324931",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:4" align="right">comment:4</div>

Same issue with `graphs.PathGraph(2,'circle')`, `graphs.StarGraph(1)`, `graphs.CircularLadderGraph(2)` and
`graphs.StarGraph(2)`- it attempts to plot the vertical,
but not quite, line...

And for some reason `graphs.CircularLadderGraph(1)` throws an error, should there be a check?



---

archive/issue_comments_324932.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,3 +4,7 @@\n g.show()\n ```\n on the sage cell server http://sagecell.sagemath.org/ (running 'SageMath version 7.5.beta1, Release Date: 2016-10-31') and on Version 7.3 on my machine, running Ubuntu on X1 Carbon, produces a picture with no edges.  Other sizes of complete graphs seem to work fine.\n+\n+More similar errors are all seemingly related to `matplotlib` being unable to draw not quite vertical line: same error in plotting\n+`graphs.PathGraph(2,'circle')`, `graphs.StarGraph(1)`, `graphs.CircularLadderGraph(2)`,\n+`graphs.StarGraph(2)`\n``````\n",
    "created_at": "2018-08-14T10:10:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324932",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,3 +4,7 @@
 g.show()
 ```
 on the sage cell server http://sagecell.sagemath.org/ (running 'SageMath version 7.5.beta1, Release Date: 2016-10-31') and on Version 7.3 on my machine, running Ubuntu on X1 Carbon, produces a picture with no edges.  Other sizes of complete graphs seem to work fine.
+
+More similar errors are all seemingly related to `matplotlib` being unable to draw not quite vertical line: same error in plotting
+`graphs.PathGraph(2,'circle')`, `graphs.StarGraph(1)`, `graphs.CircularLadderGraph(2)`,
+`graphs.StarGraph(2)`
``````




---

archive/issue_comments_324933.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThese methods should use method `_circular_embedding` from file `graph_plot.py`, and we should put in it the corrections that we did in #24512 for `CycleGraph`.\nNote that I have recently corrected method `_line_embedding` in #25403.\n\nThe embedding of the `CircularLadderGraph` could be simplified to:\n\n```\nfrom sage.graphs.graph_plot import _circle_embedding\n_circle_embedding(G, list(range(n)), radius=1)\n_circle_embedding(G, list(range(n, 2*n)), radius=2)\n```\n\nThe error in `graphs.CircularLadderGraph(1)` is due to methods `add_cycle` and `add_path` that do not check if the input list of vertices are empty, of length 1, etc.",
    "created_at": "2018-08-14T11:27:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324933",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:5" align="right">comment:5</div>

These methods should use method `_circular_embedding` from file `graph_plot.py`, and we should put in it the corrections that we did in #24512 for `CycleGraph`.
Note that I have recently corrected method `_line_embedding` in #25403.

The embedding of the `CircularLadderGraph` could be simplified to:

```
from sage.graphs.graph_plot import _circle_embedding
_circle_embedding(G, list(range(n)), radius=1)
_circle_embedding(G, list(range(n, 2*n)), radius=2)
```

The error in `graphs.CircularLadderGraph(1)` is due to methods `add_cycle` and `add_path` that do not check if the input list of vertices are empty, of length 1, etc.



---

archive/issue_comments_324934.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nHow to know which sin/cos functions are used ? In a sage session sin(pi) gives 0. Inside `_circular_embedding`, sin(pi) gives `1.2246467991473532e-16`, sin(2*pi) gives -2.44929359829e-16, sin(3*pi) gives 3.67394039744e-16, etc. Similar issues with cos(pi/2).",
    "created_at": "2018-08-14T16:49:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324934",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:6" align="right">comment:6</div>

How to know which sin/cos functions are used ? In a sage session sin(pi) gives 0. Inside `_circular_embedding`, sin(pi) gives `1.2246467991473532e-16`, sin(2*pi) gives -2.44929359829e-16, sin(3*pi) gives 3.67394039744e-16, etc. Similar issues with cos(pi/2).



---

archive/issue_comments_324935.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nwell, the problem might be somewhere else...\n\n```\nsage: pi\npi\nsage: float(pi)\n3.141592653589793\nsage: sin(float(pi))\n1.2246467991473532e-16\n```",
    "created_at": "2018-08-14T17:32:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324935",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:7" align="right">comment:7</div>

well, the problem might be somewhere else...

```
sage: pi
pi
sage: float(pi)
3.141592653589793
sage: sin(float(pi))
1.2246467991473532e-16
```



---

archive/issue_comments_324936.json:
```json
{
    "body": "Branch: **[public/22050_use_circle_embedding](https://github.com/sagemath/sagetrac-mirror/tree/public/22050_use_circle_embedding)**",
    "created_at": "2018-08-15T12:18:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324936",
    "user": "https://github.com/dcoudert"
}
```

Branch: **[public/22050_use_circle_embedding](https://github.com/sagemath/sagetrac-mirror/tree/public/22050_use_circle_embedding)**



---

archive/issue_comments_324937.json:
```json
{
    "body": "Commit: **[`1c4ea29`](https://github.com/sagemath/sagetrac-mirror/commit/1c4ea2904f2b58ef8a5c29d9e9e04d04c5e62ae0)**",
    "created_at": "2018-08-15T12:18:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324937",
    "user": "https://github.com/dcoudert"
}
```

Commit: **[`1c4ea29`](https://github.com/sagemath/sagetrac-mirror/commit/1c4ea2904f2b58ef8a5c29d9e9e04d04c5e62ae0)**



---

archive/issue_comments_324938.json:
```json
{
    "body": "Changed author from **katestange** to **David Coudert**",
    "created_at": "2018-08-15T12:18:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324938",
    "user": "https://github.com/dcoudert"
}
```

Changed author from **katestange** to **David Coudert**



---

archive/issue_events_310225.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-08-15T12:18:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22050#event-310225"
}
```



---

archive/issue_comments_324939.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI did the following:\n- add rounding inside `_circle_embedding` so that `sin(pi)` is 0 and not `1.2246467991473532e-16`.\n- add a parameter `angle` to `_circle_embedding`\n- patch `add_circle` to avoid adding a loop when the list of vertices has a single node\n- use `_circle_embedding` in many methods\n \n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/adea1f157cd7c533f9f857fcf26256c1cdef01b9\"><code>adea1f1</code></a></td><td><code>trac #22050: round cos and sin in _circle_embedding</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c45f9eb09c63a1ca1ebea083773ea93132baeaef\"><code>c45f9eb</code></a></td><td><code>trac #22050: adds parameter angle to _circle_embedding</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/259136cc6fc41c341681496adeaedbb0340075ff\"><code>259136c</code></a></td><td><code>trac #22050: use _circle_embedding for cycle, path, complete and star graphs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f56b3bd729f5c3ce02cd5bc1e3f6d394484382ca\"><code>f56b3bd</code></a></td><td><code>trac #22050: use _circle_embedding for CircularLadderGraph</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d0d06372319e7278d32c54a7b1cad56599d39448\"><code>d0d0637</code></a></td><td><code>trac #22050: fix add_path, add_cycle, add_clique</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de55548e27d7150c52984efe85bbc3cd20cb9378\"><code>de55548</code></a></td><td><code>trac #22050: fix layout when n==2 in CircularLadderGraph</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e365a500c96adddedcc98feab5610345b5b747da\"><code>e365a50</code></a></td><td><code>trac #22050: use _circle_embedding in FriendshipGraph</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/58860b0620415ac9e6adcaf847773eecbf4ef75b\"><code>58860b0</code></a></td><td><code>trac #22050: use _circle_embedding in GeneralizedPetersenGraph</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1c4ea2904f2b58ef8a5c29d9e9e04d04c5e62ae0\"><code>1c4ea29</code></a></td><td><code>trac #22050: more use of _circle_embedding</code></td></tr></table>\n",
    "created_at": "2018-08-15T12:18:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324939",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:8" align="right">comment:8</div>

I did the following:
- add rounding inside `_circle_embedding` so that `sin(pi)` is 0 and not `1.2246467991473532e-16`.
- add a parameter `angle` to `_circle_embedding`
- patch `add_circle` to avoid adding a loop when the list of vertices has a single node
- use `_circle_embedding` in many methods
 
---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/adea1f157cd7c533f9f857fcf26256c1cdef01b9"><code>adea1f1</code></a></td><td><code>trac #22050: round cos and sin in _circle_embedding</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c45f9eb09c63a1ca1ebea083773ea93132baeaef"><code>c45f9eb</code></a></td><td><code>trac #22050: adds parameter angle to _circle_embedding</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/259136cc6fc41c341681496adeaedbb0340075ff"><code>259136c</code></a></td><td><code>trac #22050: use _circle_embedding for cycle, path, complete and star graphs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f56b3bd729f5c3ce02cd5bc1e3f6d394484382ca"><code>f56b3bd</code></a></td><td><code>trac #22050: use _circle_embedding for CircularLadderGraph</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d0d06372319e7278d32c54a7b1cad56599d39448"><code>d0d0637</code></a></td><td><code>trac #22050: fix add_path, add_cycle, add_clique</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de55548e27d7150c52984efe85bbc3cd20cb9378"><code>de55548</code></a></td><td><code>trac #22050: fix layout when n==2 in CircularLadderGraph</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e365a500c96adddedcc98feab5610345b5b747da"><code>e365a50</code></a></td><td><code>trac #22050: use _circle_embedding in FriendshipGraph</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/58860b0620415ac9e6adcaf847773eecbf4ef75b"><code>58860b0</code></a></td><td><code>trac #22050: use _circle_embedding in GeneralizedPetersenGraph</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1c4ea2904f2b58ef8a5c29d9e9e04d04c5e62ae0"><code>1c4ea29</code></a></td><td><code>trac #22050: more use of _circle_embedding</code></td></tr></table>




---

archive/issue_comments_324940.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nWhile we are at it, why are `_circle_embedding` and `_line_embedding` not member functions of the `GraphPlot` class, but these ugly side-effect beasts?\nShouldn't they be moved into `GraphPlot` ?",
    "created_at": "2018-08-15T21:42:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324940",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:9" align="right">comment:9</div>

While we are at it, why are `_circle_embedding` and `_line_embedding` not member functions of the `GraphPlot` class, but these ugly side-effect beasts?
Shouldn't they be moved into `GraphPlot` ?



---

archive/issue_comments_324941.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a8683bb75616f17fa2da449673ab4bd460b2f3a3\"><code>a8683bb</code></a></td><td><code>trac #22050: Merged with 8.4.beta1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/990e39bbaf4f0ab3b12fdf3c665e98a2826c89bc\"><code>990e39b</code></a></td><td><code>trac #22050: fix doctests</code></td></tr></table>\n",
    "created_at": "2018-08-16T10:08:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324941",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a8683bb75616f17fa2da449673ab4bd460b2f3a3"><code>a8683bb</code></a></td><td><code>trac #22050: Merged with 8.4.beta1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/990e39bbaf4f0ab3b12fdf3c665e98a2826c89bc"><code>990e39b</code></a></td><td><code>trac #22050: fix doctests</code></td></tr></table>




---

archive/issue_comments_324942.json:
```json
{
    "body": "Changed commit from **[`1c4ea29`](https://github.com/sagemath/sagetrac-mirror/commit/1c4ea2904f2b58ef8a5c29d9e9e04d04c5e62ae0)** to **[`990e39b`](https://github.com/sagemath/sagetrac-mirror/commit/990e39bbaf4f0ab3b12fdf3c665e98a2826c89bc)**",
    "created_at": "2018-08-16T10:08:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324942",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1c4ea29`](https://github.com/sagemath/sagetrac-mirror/commit/1c4ea2904f2b58ef8a5c29d9e9e04d04c5e62ae0)** to **[`990e39b`](https://github.com/sagemath/sagetrac-mirror/commit/990e39bbaf4f0ab3b12fdf3c665e98a2826c89bc)**



---

archive/issue_comments_324943.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nIf these methods are moved to `GraphPlot`, how can we use them to set the embedding of parts of a graph ? For instance for the `BarbellGraph` ?\n\nI just discovered another method producing a circular embedding: `layout_circular` in `generic_graph.py`. The difference is that it returns a dictionary, but clearly it should at least use `_circular_embedding` or be combined with it.\nI could for instance add a `return_dict` parameter to `_circular_embedding` to return a new dictionary instead of filling `_pos`, or add parameters to `layout_circular` to get the functionality of `_circular_embedding`...\n\nMore generally, we could move methods for graph layout and visualization out of `generic_graph.py` and gather them in a file for 2d and/or 3d plotting. That could ease our life for maintaining / simplifying / improving the code. For sure in another ticket.",
    "created_at": "2018-08-16T10:32:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324943",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:11" align="right">comment:11</div>

If these methods are moved to `GraphPlot`, how can we use them to set the embedding of parts of a graph ? For instance for the `BarbellGraph` ?

I just discovered another method producing a circular embedding: `layout_circular` in `generic_graph.py`. The difference is that it returns a dictionary, but clearly it should at least use `_circular_embedding` or be combined with it.
I could for instance add a `return_dict` parameter to `_circular_embedding` to return a new dictionary instead of filling `_pos`, or add parameters to `layout_circular` to get the functionality of `_circular_embedding`...

More generally, we could move methods for graph layout and visualization out of `generic_graph.py` and gather them in a file for 2d and/or 3d plotting. That could ease our life for maintaining / simplifying / improving the code. For sure in another ticket.



---

archive/issue_comments_324944.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\none can use set_pos() on a graph, why not _circular_embedding(), if moved to the same class as set_pos()  ?",
    "created_at": "2018-08-16T10:44:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324944",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:12" align="right">comment:12</div>

one can use set_pos() on a graph, why not _circular_embedding(), if moved to the same class as set_pos()  ?



---

archive/issue_comments_324945.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nWe can of course make it a method of `GenericGraph`.",
    "created_at": "2018-08-16T10:55:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324945",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:13" align="right">comment:13</div>

We can of course make it a method of `GenericGraph`.



---

archive/issue_comments_324946.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@dcoudert](#comment:13):\n> We can of course make it a method of `GenericGraph`.\n\nperhaps, just add them as options for set_pos() ?",
    "created_at": "2018-08-16T11:35:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324946",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@dcoudert](#comment:13):
> We can of course make it a method of `GenericGraph`.

perhaps, just add them as options for set_pos() ?



---

archive/issue_comments_324947.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\none way or another, these `_circular_` and _line_embedding are ugly hacks, done without regard for the pre-existing design.",
    "created_at": "2018-08-16T11:37:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324947",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:15" align="right">comment:15</div>

one way or another, these `_circular_` and _line_embedding are ugly hacks, done without regard for the pre-existing design.



---

archive/issue_comments_324948.json:
```json
{
    "body": "Replying to [ticket:22050 katestange]:\n> More similar errors are all seemingly related to `matplotlib` being unable to draw not quite vertical line\n\nDid you ever try to find out why this is the case? It's obvious that `matplotlib` is to blame here. Fixing the positions of vertices in Sage is a work-around but not a structural fix.",
    "created_at": "2018-08-16T11:52:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324948",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [ticket:22050 katestange]:
> More similar errors are all seemingly related to `matplotlib` being unable to draw not quite vertical line

Did you ever try to find out why this is the case? It's obvious that `matplotlib` is to blame here. Fixing the positions of vertices in Sage is a work-around but not a structural fix.



---

archive/issue_comments_324949.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nIt would be cleaner if `_circle_embedding` would be a method of graphs (as opposed to a stand-alone function). Also conceptually, it feels like it should be method.",
    "created_at": "2018-08-16T11:57:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324949",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:17" align="right">comment:17</div>

It would be cleaner if `_circle_embedding` would be a method of graphs (as opposed to a stand-alone function). Also conceptually, it feels like it should be method.



---

archive/issue_comments_324950.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\n@dimpase: I searched ticket and discovered that `_line_embedding` was introduced in #12980 and `_circle_embedding` in #12942 while `layout_circular` was here before #7004... So you are fully right.\n\n@jdemeyer: no, I have not investigated matplotlib yet. We should do it, but I'm no expert in matplotlib. Also, the I have not checked the `tikz` part yet, but without this patch you can see that there is a problem with the position of the vertices in `_latex_` (values of x and y in `\\Vertex` lines).\n\n```\nsage: print(graphs.CompleteGraph(2)._latex_())\n\\begin{tikzpicture}\n\\definecolor{cv0}{rgb}{0.0,0.0,0.0}\n\\definecolor{cfv0}{rgb}{1.0,1.0,1.0}\n\\definecolor{clv0}{rgb}{0.0,0.0,0.0}\n\\definecolor{cv1}{rgb}{0.0,0.0,0.0}\n\\definecolor{cfv1}{rgb}{1.0,1.0,1.0}\n\\definecolor{clv1}{rgb}{0.0,0.0,0.0}\n\\definecolor{cv0v1}{rgb}{0.0,0.0,0.0}\n%\n\\Vertex[style={minimum size=1.0cm,draw=cv0,fill=cfv0,text=clv0,shape=circle},LabelOut=false,L=\\hbox{$0$},x=5.0cm,y=5.0cm]{v0}\n\\Vertex[style={minimum size=1.0cm,draw=cv1,fill=cfv1,text=clv1,shape=circle},LabelOut=false,L=\\hbox{$1$},x=0.0cm,y=0.0cm]{v1}\n%\n\\Edge[lw=0.1cm,style={color=cv0v1,},](v0)(v1)\n%\n\\end{tikzpicture}\n```\nWith this patch, the positions are the following, so vertical.\n\n```\n\\Vertex[style={minimum size=1.0cm,draw=cv0,fill=cfv0,text=clv0,shape=circle},LabelOut=false,L=\\hbox{$0$},x=2.5cm,y=5.0cm]{v0}\n\\Vertex[style={minimum size=1.0cm,draw=cv1,fill=cfv1,text=clv1,shape=circle},LabelOut=false,L=\\hbox{$1$},x=2.5cm,y=0.0cm]{v1}\n```\n\n\nI will try to make `_circle_embedding` a method of `GenericGraph` and unify with `layout_circular`. It's better if such embedding is done in a single place.",
    "created_at": "2018-08-16T12:10:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324950",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:18" align="right">comment:18</div>

@dimpase: I searched ticket and discovered that `_line_embedding` was introduced in #12980 and `_circle_embedding` in #12942 while `layout_circular` was here before #7004... So you are fully right.

@jdemeyer: no, I have not investigated matplotlib yet. We should do it, but I'm no expert in matplotlib. Also, the I have not checked the `tikz` part yet, but without this patch you can see that there is a problem with the position of the vertices in `_latex_` (values of x and y in `\Vertex` lines).

```
sage: print(graphs.CompleteGraph(2)._latex_())
\begin{tikzpicture}
\definecolor{cv0}{rgb}{0.0,0.0,0.0}
\definecolor{cfv0}{rgb}{1.0,1.0,1.0}
\definecolor{clv0}{rgb}{0.0,0.0,0.0}
\definecolor{cv1}{rgb}{0.0,0.0,0.0}
\definecolor{cfv1}{rgb}{1.0,1.0,1.0}
\definecolor{clv1}{rgb}{0.0,0.0,0.0}
\definecolor{cv0v1}{rgb}{0.0,0.0,0.0}
%
\Vertex[style={minimum size=1.0cm,draw=cv0,fill=cfv0,text=clv0,shape=circle},LabelOut=false,L=\hbox{$0$},x=5.0cm,y=5.0cm]{v0}
\Vertex[style={minimum size=1.0cm,draw=cv1,fill=cfv1,text=clv1,shape=circle},LabelOut=false,L=\hbox{$1$},x=0.0cm,y=0.0cm]{v1}
%
\Edge[lw=0.1cm,style={color=cv0v1,},](v0)(v1)
%
\end{tikzpicture}
```
With this patch, the positions are the following, so vertical.

```
\Vertex[style={minimum size=1.0cm,draw=cv0,fill=cfv0,text=clv0,shape=circle},LabelOut=false,L=\hbox{$0$},x=2.5cm,y=5.0cm]{v0}
\Vertex[style={minimum size=1.0cm,draw=cv1,fill=cfv1,text=clv1,shape=circle},LabelOut=false,L=\hbox{$1$},x=2.5cm,y=0.0cm]{v1}
```


I will try to make `_circle_embedding` a method of `GenericGraph` and unify with `layout_circular`. It's better if such embedding is done in a single place.



---

archive/issue_comments_324951.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI don't now how tikz pictures are done. I'd be surprised if they are produced via matplotlib. If they are produced in some other way I guess it's not matplotlib's bug, it's Sage one. \nBut where I don't know---too many layers of classes etc for me :-)",
    "created_at": "2018-08-16T22:31:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324951",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:19" align="right">comment:19</div>

I don't now how tikz pictures are done. I'd be surprised if they are produced via matplotlib. If they are produced in some other way I guess it's not matplotlib's bug, it's Sage one. 
But where I don't know---too many layers of classes etc for me :-)



---

archive/issue_comments_324952.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/98bacd3d4f25b59e4431ae67a42fde84634711dd\"><code>98bacd3</code></a></td><td><code>trac #22050: move methods to generic_graph.py and update usage</code></td></tr></table>\n",
    "created_at": "2018-08-17T11:21:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324952",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/98bacd3d4f25b59e4431ae67a42fde84634711dd"><code>98bacd3</code></a></td><td><code>trac #22050: move methods to generic_graph.py and update usage</code></td></tr></table>




---

archive/issue_comments_324953.json:
```json
{
    "body": "Changed commit from **[`990e39b`](https://github.com/sagemath/sagetrac-mirror/commit/990e39bbaf4f0ab3b12fdf3c665e98a2826c89bc)** to **[`98bacd3`](https://github.com/sagemath/sagetrac-mirror/commit/98bacd3d4f25b59e4431ae67a42fde84634711dd)**",
    "created_at": "2018-08-17T11:21:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324953",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`990e39b`](https://github.com/sagemath/sagetrac-mirror/commit/990e39bbaf4f0ab3b12fdf3c665e98a2826c89bc)** to **[`98bacd3`](https://github.com/sagemath/sagetrac-mirror/commit/98bacd3d4f25b59e4431ae67a42fde84634711dd)**



---

archive/issue_comments_324954.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI have moved the methods to `generic_graph.py` and update usage everywhere. It was used many many times...\n\nI will check if I can understand the issue with tikz / matplotlib when we don't round `sin(pi)`.",
    "created_at": "2018-08-17T11:25:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324954",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:21" align="right">comment:21</div>

I have moved the methods to `generic_graph.py` and update usage everywhere. It was used many many times...

I will check if I can understand the issue with tikz / matplotlib when we don't round `sin(pi)`.



---

archive/issue_comments_324955.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI'm also unable to guess what's going on with `plot`/`show`. Way to complicated for me.\n\n\nIn `GraphLatex`, the method `tkz_picture` computes `xmin`, `xmax`, `ymin`, `ymax` positions, and then the positions of the vertices are scaled to fill the specified image size (5*5 by default).\n\nWhen `xmin == xmax`, then vertices are placed at the middle of the x range, so by default 2.5.\n\nBut when we have `G._pos = {0: (6.123233995736766e-17, 1.0), 1: (-1.8369701987210297e-16, -1.0)}`, `xmax - xmin = 2.4492935982947064e-16` and so the vertices are spread in the x axis. Vertex 0 will be at `(5.0, 1.0)` and vertex 1 at `(0.0, -1.0)`.\n\nSo I think that the `round(cos(...), 10)` is needed.\n\n\nQuestion: some code is duplicated in `tkz_picture` (certainly a copy/paste error). Should I open a new ticket to remove it or can I do it here ?",
    "created_at": "2018-08-17T13:35:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324955",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:22" align="right">comment:22</div>

I'm also unable to guess what's going on with `plot`/`show`. Way to complicated for me.


In `GraphLatex`, the method `tkz_picture` computes `xmin`, `xmax`, `ymin`, `ymax` positions, and then the positions of the vertices are scaled to fill the specified image size (5*5 by default).

When `xmin == xmax`, then vertices are placed at the middle of the x range, so by default 2.5.

But when we have `G._pos = {0: (6.123233995736766e-17, 1.0), 1: (-1.8369701987210297e-16, -1.0)}`, `xmax - xmin = 2.4492935982947064e-16` and so the vertices are spread in the x axis. Vertex 0 will be at `(5.0, 1.0)` and vertex 1 at `(0.0, -1.0)`.

So I think that the `round(cos(...), 10)` is needed.


Question: some code is duplicated in `tkz_picture` (certainly a copy/paste error). Should I open a new ticket to remove it or can I do it here ?



---

archive/issue_comments_324956.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nI opened #26106 to remove the duplicated code in `tkz_picture`.",
    "created_at": "2018-08-22T10:05:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324956",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:23" align="right">comment:23</div>

I opened #26106 to remove the duplicated code in `tkz_picture`.



---

archive/issue_events_310226.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-08-22T10:05:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22050#event-310226"
}
```



---

archive/issue_comments_324957.json:
```json
{
    "body": "Changed commit from **[`98bacd3`](https://github.com/sagemath/sagetrac-mirror/commit/98bacd3d4f25b59e4431ae67a42fde84634711dd)** to **[`1f33553`](https://github.com/sagemath/sagetrac-mirror/commit/1f33553e55ea8acedfd5ea836735abc33accf7de)**",
    "created_at": "2018-09-02T12:00:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324957",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`98bacd3`](https://github.com/sagemath/sagetrac-mirror/commit/98bacd3d4f25b59e4431ae67a42fde84634711dd)** to **[`1f33553`](https://github.com/sagemath/sagetrac-mirror/commit/1f33553e55ea8acedfd5ea836735abc33accf7de)**



---

archive/issue_comments_324958.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f33553e55ea8acedfd5ea836735abc33accf7de\"><code>1f33553</code></a></td><td><code>trac #: rebase on 8.4.beta3</code></td></tr></table>\n",
    "created_at": "2018-09-02T12:00:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324958",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f33553e55ea8acedfd5ea836735abc33accf7de"><code>1f33553</code></a></td><td><code>trac #: rebase on 8.4.beta3</code></td></tr></table>




---

archive/issue_comments_324959.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nSuccessfully tested over beta7 (just in case).",
    "created_at": "2018-10-04T15:13:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324959",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:25" align="right">comment:25</div>

Successfully tested over beta7 (just in case).



---

archive/issue_comments_324960.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nWe should fix pyflakes warnings (from the patchbot)",
    "created_at": "2018-10-04T17:26:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324960",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:26" align="right">comment:26</div>

We should fix pyflakes warnings (from the patchbot)



---

archive/issue_comments_324961.json:
```json
{
    "body": "Changed commit from **[`1f33553`](https://github.com/sagemath/sagetrac-mirror/commit/1f33553e55ea8acedfd5ea836735abc33accf7de)** to **[`9b3ffc6`](https://github.com/sagemath/sagetrac-mirror/commit/9b3ffc60828e3993a2ad286d442916cf6ef68d78)**",
    "created_at": "2018-10-04T17:54:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324961",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1f33553`](https://github.com/sagemath/sagetrac-mirror/commit/1f33553e55ea8acedfd5ea836735abc33accf7de)** to **[`9b3ffc6`](https://github.com/sagemath/sagetrac-mirror/commit/9b3ffc60828e3993a2ad286d442916cf6ef68d78)**



---

archive/issue_comments_324962.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1649785ce3366354b2efdc2364e72a90b8d73f21\"><code>1649785</code></a></td><td><code>trac #22050: Merged with 8.4.beta7</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b3ffc60828e3993a2ad286d442916cf6ef68d78\"><code>9b3ffc6</code></a></td><td><code>trac #22050: pyflakes in families.py</code></td></tr></table>\n",
    "created_at": "2018-10-04T17:54:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324962",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1649785ce3366354b2efdc2364e72a90b8d73f21"><code>1649785</code></a></td><td><code>trac #22050: Merged with 8.4.beta7</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b3ffc60828e3993a2ad286d442916cf6ef68d78"><code>9b3ffc6</code></a></td><td><code>trac #22050: pyflakes in families.py</code></td></tr></table>




---

archive/issue_comments_324963.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI fixed the pyflakes warning in `families.py`.\nWarning in `generic_graph.py` are addressed in #26289.",
    "created_at": "2018-10-04T17:56:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324963",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:28" align="right">comment:28</div>

I fixed the pyflakes warning in `families.py`.
Warning in `generic_graph.py` are addressed in #26289.



---

archive/issue_comments_324964.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2018-10-04T18:24:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324964",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_comments_324965.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nOK, it's certainly a shame we could not get to the bottom of the matter, but it's still an improvement.",
    "created_at": "2018-10-04T18:24:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324965",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:29" align="right">comment:29</div>

OK, it's certainly a shame we could not get to the bottom of the matter, but it's still an improvement.



---

archive/issue_events_310227.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-10-04T18:24:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22050#event-310227"
}
```



---

archive/issue_events_310228.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-10-04T18:24:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22050#event-310228"
}
```



---

archive/issue_comments_324966.json:
```json
{
    "body": "Changed branch from **[public/22050_use_circle_embedding](https://github.com/sagemath/sagetrac-mirror/tree/public/22050_use_circle_embedding)** to **[`9b3ffc6`](https://github.com/sagemath/sagetrac-mirror/commit/9b3ffc60828e3993a2ad286d442916cf6ef68d78)**",
    "created_at": "2018-10-05T16:56:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22050#issuecomment-324966",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/22050_use_circle_embedding](https://github.com/sagemath/sagetrac-mirror/tree/public/22050_use_circle_embedding)** to **[`9b3ffc6`](https://github.com/sagemath/sagetrac-mirror/commit/9b3ffc60828e3993a2ad286d442916cf6ef68d78)**



---

archive/issue_events_310229.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-10-05T16:56:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22050#event-310229"
}
```



---

archive/issue_events_310230.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "c818b8b2a932ef661f737f0cce01a5f2ae91d6de",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-10-05T16:56:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/22050",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22050#event-310230"
}
```
