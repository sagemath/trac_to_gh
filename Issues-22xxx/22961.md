# Issue 22961: wrong answers from codesize_upper_bound()

archive/issues_022724.json:
```json
{
    "body": "with the default method, `codesize_upper_bound()` erroneously uses the bound only valid for linear codes.\n\n```\nsage: codes.bounds.codesize_upper_bound(19,10,2,algorithm=\"LP\") # OK\n20\nsage: codes.bounds.codesize_upper_bound(19,10,2,algorithm=\"gap\") # OK\n20\nsage: codes.bounds.codesize_upper_bound(19,10,2) # Not OK\n8\n```\nsee [sage-support](https://groups.google.com/d/msg/sage-support/ZXtAaLSoL38/HfSQ_59zDAAJ)\n\nCC:  @johanrosenkilde dlucas\n\nBranch/Commit: e258a2053f99656bc3ee079f796758039d994750\n\nReviewer: Johan Rosenkilde\n\nAuthor: Dima Pasechnik\n\nDependencies: #22796\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/22961\n\n",
    "closed_at": "2017-05-20T20:07:47Z",
    "created_at": "2017-05-08T23:31:05Z",
    "labels": [
        "component: coding theory",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "wrong answers from codesize_upper_bound()",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22961",
    "user": "https://github.com/dimpase"
}
```
with the default method, `codesize_upper_bound()` erroneously uses the bound only valid for linear codes.

```
sage: codes.bounds.codesize_upper_bound(19,10,2,algorithm="LP") # OK
20
sage: codes.bounds.codesize_upper_bound(19,10,2,algorithm="gap") # OK
20
sage: codes.bounds.codesize_upper_bound(19,10,2) # Not OK
8
```
see [sage-support](https://groups.google.com/d/msg/sage-support/ZXtAaLSoL38/HfSQ_59zDAAJ)

CC:  @johanrosenkilde dlucas

Branch/Commit: e258a2053f99656bc3ee079f796758039d994750

Reviewer: Johan Rosenkilde

Author: Dima Pasechnik

Dependencies: #22796

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/22961





---

archive/issue_comments_432076.json:
```json
{
    "body": "Changing commit from \"\" to \"69a1ae8bee93bae886058f6df3abb056d876439a\"",
    "created_at": "2017-05-09T09:10:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432076",
    "user": "https://github.com/dimpase"
}
```

Changing commit from "" to "69a1ae8bee93bae886058f6df3abb056d876439a"



---

archive/issue_comments_432077.json:
```json
{
    "body": "Changing branch from \"\" to \"u/dimpase/codesizefix\"",
    "created_at": "2017-05-09T09:10:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432077",
    "user": "https://github.com/dimpase"
}
```

Changing branch from "" to "u/dimpase/codesizefix"



---

archive/issue_comments_432078.json:
```json
{
    "body": "Changing author from \"\" to \"Dima Pasechnik\"",
    "created_at": "2017-05-09T09:10:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432078",
    "user": "https://github.com/dimpase"
}
```

Changing author from "" to "Dima Pasechnik"



---

archive/issue_comments_432079.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                                                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------|\n|[69a1ae8](https://github.com/sagemath/sagetrac-mirror/commit/69a1ae8bee93bae886058f6df3abb056d876439a)|`fixed the wrong bound, and made sure docstrings are correctly formatted`|",
    "created_at": "2017-05-09T09:10:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432079",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                                                         |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------|
|[69a1ae8](https://github.com/sagemath/sagetrac-mirror/commit/69a1ae8bee93bae886058f6df3abb056d876439a)|`fixed the wrong bound, and made sure docstrings are correctly formatted`|



---

archive/issue_comments_432080.json:
```json
{
    "body": "Changing commit from \"69a1ae8bee93bae886058f6df3abb056d876439a\" to \"3b80b3e310132ab06a1c71d1098a718ed198e284\"",
    "created_at": "2017-05-09T11:59:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432080",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "69a1ae8bee93bae886058f6df3abb056d876439a" to "3b80b3e310132ab06a1c71d1098a718ed198e284"



---

archive/issue_comments_432081.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|\n|[4b90c16](https://github.com/sagemath/sagetrac-mirror/commit/4b90c163b2d85c5fd6a661ef8308471ddf2cd6bd)|`Remove deprecated_callable_import`|\n|[aa16210](https://github.com/sagemath/sagetrac-mirror/commit/aa162101242443f01be604e0c0d135de3caad614)|`Merge branch 'u/jdemeyer/deprecate_deprecated_callable_import' of trac.sagemath.org:sage into dev`|\n|[73b06fe](https://github.com/sagemath/sagetrac-mirror/commit/73b06fee4a529bb35be1e5bf232e49b98180de72)|`Merge branch 'u/dimpase/codesizefix' of trac.sagemath.org:sage into dev`|\n|[3b80b3e](https://github.com/sagemath/sagetrac-mirror/commit/3b80b3e310132ab06a1c71d1098a718ed198e284)|`fixed non-ascii and other typos`|",
    "created_at": "2017-05-09T11:59:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432081",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|
|[4b90c16](https://github.com/sagemath/sagetrac-mirror/commit/4b90c163b2d85c5fd6a661ef8308471ddf2cd6bd)|`Remove deprecated_callable_import`|
|[aa16210](https://github.com/sagemath/sagetrac-mirror/commit/aa162101242443f01be604e0c0d135de3caad614)|`Merge branch 'u/jdemeyer/deprecate_deprecated_callable_import' of trac.sagemath.org:sage into dev`|
|[73b06fe](https://github.com/sagemath/sagetrac-mirror/commit/73b06fee4a529bb35be1e5bf232e49b98180de72)|`Merge branch 'u/dimpase/codesizefix' of trac.sagemath.org:sage into dev`|
|[3b80b3e](https://github.com/sagemath/sagetrac-mirror/commit/3b80b3e310132ab06a1c71d1098a718ed198e284)|`fixed non-ascii and other typos`|



---

archive/issue_comments_432082.json:
```json
{
    "body": "<a id='comment:3'></a>\nnow the doctests pick up an error in `codes.bounds.griesmer_upper_bound`.\n(related to the new meaning of / and %, I guess)",
    "created_at": "2017-05-09T12:02:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432082",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:3'></a>
now the doctests pick up an error in `codes.bounds.griesmer_upper_bound`.
(related to the new meaning of / and %, I guess)



---

archive/issue_comments_432083.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#22796\"",
    "created_at": "2017-05-09T12:02:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432083",
    "user": "https://github.com/dimpase"
}
```

Changing dependencies from "" to "#22796"



---

archive/issue_comments_432084.json:
```json
{
    "body": "Changing commit from \"3b80b3e310132ab06a1c71d1098a718ed198e284\" to \"b411d02a4bdd9d3a9cc22f75c8c0e6f97954d6a1\"",
    "created_at": "2017-05-09T21:49:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432084",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "3b80b3e310132ab06a1c71d1098a718ed198e284" to "b411d02a4bdd9d3a9cc22f75c8c0e6f97954d6a1"



---

archive/issue_comments_432085.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[b411d02](https://github.com/sagemath/sagetrac-mirror/commit/b411d02a4bdd9d3a9cc22f75c8c0e6f97954d6a1)|`cleanup of Griesmer bound, docs and examples`|",
    "created_at": "2017-05-09T21:49:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432085",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[b411d02](https://github.com/sagemath/sagetrac-mirror/commit/b411d02a4bdd9d3a9cc22f75c8c0e6f97954d6a1)|`cleanup of Griesmer bound, docs and examples`|



---

archive/issue_comments_432086.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[179ac5e](https://github.com/sagemath/sagetrac-mirror/commit/179ac5e247e0eb8a090d0cf8cd22b203a8982f12)|`cleanup of Griesmer bound, docs and examples`|",
    "created_at": "2017-05-10T09:10:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432086",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[179ac5e](https://github.com/sagemath/sagetrac-mirror/commit/179ac5e247e0eb8a090d0cf8cd22b203a8982f12)|`cleanup of Griesmer bound, docs and examples`|



---

archive/issue_comments_432087.json:
```json
{
    "body": "Changing commit from \"b411d02a4bdd9d3a9cc22f75c8c0e6f97954d6a1\" to \"179ac5e247e0eb8a090d0cf8cd22b203a8982f12\"",
    "created_at": "2017-05-10T09:10:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432087",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b411d02a4bdd9d3a9cc22f75c8c0e6f97954d6a1" to "179ac5e247e0eb8a090d0cf8cd22b203a8982f12"



---

archive/issue_comments_432088.json:
```json
{
    "body": "<a id='comment:6'></a>\nOnly the changes on `src/sage/coding/code_bounds.py` have to be reviewed.\n\nApart from the bugfix, I've streamlined the code of Griesmer bound, and added some more sanity checks, docs and doctests. (previously the loop in Griesmer bound did not terminate on weird inputs, etc).",
    "created_at": "2017-05-10T09:14:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432088",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:6'></a>
Only the changes on `src/sage/coding/code_bounds.py` have to be reviewed.

Apart from the bugfix, I've streamlined the code of Griesmer bound, and added some more sanity checks, docs and doctests. (previously the loop in Griesmer bound did not terminate on weird inputs, etc).



---

archive/issue_comments_432089.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-05-10T09:14:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432089",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_432090.json:
```json
{
    "body": "Changing branch from \"u/dimpase/codesizefix\" to \"u/jsrn/codesizefix\"",
    "created_at": "2017-05-11T12:49:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432090",
    "user": "https://github.com/johanrosenkilde"
}
```

Changing branch from "u/dimpase/codesizefix" to "u/jsrn/codesizefix"



---

archive/issue_comments_432091.json:
```json
{
    "body": "<a id='comment:8'></a>\nHi Dima,\n\nI agree with your fixes. I took the liberty to slightly extend the scope of this ticket even more:\n\n* Inspired by your parameter checks in `codesize_upper_bound` and `griesmer_upper_bound`, I added such a check on all the relevant functions, which throws a `ValueError` on failure.\n\n* I fixed grammar, markup and some semantics in a number of doc-strings (I went\n  through them all, but I might of course have missed some errors).\n\n* I removed the 6 year old argument deprecation warning on some functions.\n\nCould you review my changes?\n\nFurther, I'm actually motivated to take this opportunity to fix the other annoying thing that was brought up on sage-support: the `n, q, d` vs. `n, d, q` argument order. Let's say we agreed on `n, d, q` order - then we could in this ticket modify the relevant functions thusly:\n\n```\ndef gilbert_lower_bound(n,d,q, old_params=True):\n   r\"\"\" ... \"\"\"\n   if old_params:\n      deprecation(\"The old parameter order `n, q, d` is deprecated and will be changed to `n, d, q`. To use the new parameter order and remove this warning, use `sage.codes.bounds.gilbert_lower_bound(n, d, q, old_params=False)`.\")\n      d,q = q,d\n   (...)\n```\n\nAfter the deprecation period is over, we can remove the `if`-statement.\n\nI can do the change if you agree. Also, do we agree that `n, d, q` is better than `n, q, d`? It seems the former is also used in the Delsarte bounds.\n\nBest,\nJohan\n\n---\nNew commits:\n|                                                                                                                                          |                                                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|\n|[224b1be](https://github.com/sagemath/sagetrac-mirror/commit/224b1be1b5480867849c6bb44f3e52394df1a94e)|`Remove rename_keyword deprecation warning (6 years old)`|\n|[1ee9d38](https://github.com/sagemath/sagetrac-mirror/commit/1ee9d38a5fc003d6cad6c9faf54cbf936f6954a8)|`Basic parameter sanity check on more bounds`|\n|[4b0a57e](https://github.com/sagemath/sagetrac-mirror/commit/4b0a57e3495b937e78c4cf60df1271c6dc024d0c)|`More doc-string fixes`|",
    "created_at": "2017-05-11T12:58:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432091",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:8'></a>
Hi Dima,

I agree with your fixes. I took the liberty to slightly extend the scope of this ticket even more:

* Inspired by your parameter checks in `codesize_upper_bound` and `griesmer_upper_bound`, I added such a check on all the relevant functions, which throws a `ValueError` on failure.

* I fixed grammar, markup and some semantics in a number of doc-strings (I went
  through them all, but I might of course have missed some errors).

* I removed the 6 year old argument deprecation warning on some functions.

Could you review my changes?

Further, I'm actually motivated to take this opportunity to fix the other annoying thing that was brought up on sage-support: the `n, q, d` vs. `n, d, q` argument order. Let's say we agreed on `n, d, q` order - then we could in this ticket modify the relevant functions thusly:

```
def gilbert_lower_bound(n,d,q, old_params=True):
   r""" ... """
   if old_params:
      deprecation("The old parameter order `n, q, d` is deprecated and will be changed to `n, d, q`. To use the new parameter order and remove this warning, use `sage.codes.bounds.gilbert_lower_bound(n, d, q, old_params=False)`.")
      d,q = q,d
   (...)
```

After the deprecation period is over, we can remove the `if`-statement.

I can do the change if you agree. Also, do we agree that `n, d, q` is better than `n, q, d`? It seems the former is also used in the Delsarte bounds.

Best,
Johan

---
New commits:
|                                                                                                                                          |                                                         |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|
|[224b1be](https://github.com/sagemath/sagetrac-mirror/commit/224b1be1b5480867849c6bb44f3e52394df1a94e)|`Remove rename_keyword deprecation warning (6 years old)`|
|[1ee9d38](https://github.com/sagemath/sagetrac-mirror/commit/1ee9d38a5fc003d6cad6c9faf54cbf936f6954a8)|`Basic parameter sanity check on more bounds`|
|[4b0a57e](https://github.com/sagemath/sagetrac-mirror/commit/4b0a57e3495b937e78c4cf60df1271c6dc024d0c)|`More doc-string fixes`|



---

archive/issue_comments_432092.json:
```json
{
    "body": "Changing commit from \"179ac5e247e0eb8a090d0cf8cd22b203a8982f12\" to \"4b0a57e3495b937e78c4cf60df1271c6dc024d0c\"",
    "created_at": "2017-05-11T12:58:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432092",
    "user": "https://github.com/johanrosenkilde"
}
```

Changing commit from "179ac5e247e0eb8a090d0cf8cd22b203a8982f12" to "4b0a57e3495b937e78c4cf60df1271c6dc024d0c"



---

archive/issue_comments_432093.json:
```json
{
    "body": "<a id='comment:9'></a>\nThanks for looking into this. I think that the check on the parameters of `codesize_upper_bound()` introduced in [1ee9d38](https://github.com/sagemath/sagetrac-mirror/commit/1ee9d38a5fc003d6cad6c9faf54cbf936f6954a8) is too hard. Indeed, some of these bounds do not need `q` being a prime power. (This must also be reflected in the top-level documentation in the file; I suppose I overlooked this at some point in the past).\n\nE.g. Delsarte's bound does not need it; `q` is merely the size of the alphabet in this context. It remains to be seen which other bounds do not need this; Singleton bound for sure does not. I can't tell immediately about everything else.\n\nI will add an extra parameter to `_check_n_q_d(n, q, d)` so that the check on `q` being a prime power can be disabled, and will use it sparingly.",
    "created_at": "2017-05-11T16:32:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432093",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>
Thanks for looking into this. I think that the check on the parameters of `codesize_upper_bound()` introduced in [1ee9d38](https://github.com/sagemath/sagetrac-mirror/commit/1ee9d38a5fc003d6cad6c9faf54cbf936f6954a8) is too hard. Indeed, some of these bounds do not need `q` being a prime power. (This must also be reflected in the top-level documentation in the file; I suppose I overlooked this at some point in the past).

E.g. Delsarte's bound does not need it; `q` is merely the size of the alphabet in this context. It remains to be seen which other bounds do not need this; Singleton bound for sure does not. I can't tell immediately about everything else.

I will add an extra parameter to `_check_n_q_d(n, q, d)` so that the check on `q` being a prime power can be disabled, and will use it sparingly.



---

archive/issue_comments_432094.json:
```json
{
    "body": "<a id='comment:10'></a>\nGood point. For the other bounds, what I know is:\n\n* Hamming bound holds for any alphabet size.\n* I think Elias holds for any size, but it is presented in e.g. Roth's Introduction to Coding Theory as an asymptotic bound. I don't know if there are caveats when using it for finite values of n and d.\n* MRRW bound is like Elias, I think.\n* Gilbert-Varshamov holds only for fields.\n* Griesmer holds only for fields, I believe.\n\nBest,\nJohan",
    "created_at": "2017-05-12T09:02:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432094",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:10'></a>
Good point. For the other bounds, what I know is:

* Hamming bound holds for any alphabet size.
* I think Elias holds for any size, but it is presented in e.g. Roth's Introduction to Coding Theory as an asymptotic bound. I don't know if there are caveats when using it for finite values of n and d.
* MRRW bound is like Elias, I think.
* Gilbert-Varshamov holds only for fields.
* Griesmer holds only for fields, I believe.

Best,
Johan



---

archive/issue_comments_432095.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [jsrn](#comment%3A10):\n> Good point. For the other bounds, what I know is:\n> \n> * Hamming bound holds for any alphabet size.\n> * I think Elias holds for any size, but it is presented in e.g. Roth's Introduction to Coding Theory as an asymptotic bound. I don't know if there are caveats when using it for finite values of n and d.\n\n\nyes, this looks correct to me, although indeed it's mostly used to bound the \ninformation ratio asymptotically.\n\n> * MRRW bound is like Elias, I think.\n> * Gilbert-Varshamov holds only for fields.\n\n\nfrom the proof given in \nhttps://en.wikipedia.org/wiki/Gilbert%E2%80%93Varshamov_bound\nI don't see why it needs to be over a field.\nThere is also a section named `An improvement in the prime power case`.\n(I agree it's not well-written, in the beginning they start talking about \ncode over a field, only to have that section later on :-))\n\n\n> * Griesmer holds only for fields, I believe.\n \nyes.",
    "created_at": "2017-05-12T10:47:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432095",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:11'></a>
Replying to [jsrn](#comment%3A10):
> Good point. For the other bounds, what I know is:
> 
> * Hamming bound holds for any alphabet size.
> * I think Elias holds for any size, but it is presented in e.g. Roth's Introduction to Coding Theory as an asymptotic bound. I don't know if there are caveats when using it for finite values of n and d.


yes, this looks correct to me, although indeed it's mostly used to bound the 
information ratio asymptotically.

> * MRRW bound is like Elias, I think.
> * Gilbert-Varshamov holds only for fields.


from the proof given in 
https://en.wikipedia.org/wiki/Gilbert%E2%80%93Varshamov_bound
I don't see why it needs to be over a field.
There is also a section named `An improvement in the prime power case`.
(I agree it's not well-written, in the beginning they start talking about 
code over a field, only to have that section later on :-))


> * Griesmer holds only for fields, I believe.
 
yes.



---

archive/issue_comments_432096.json:
```json
{
    "body": "Changing branch from \"u/jsrn/codesizefix\" to \"u/dimpase/codesizefix\"",
    "created_at": "2017-05-12T10:49:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432096",
    "user": "https://github.com/dimpase"
}
```

Changing branch from "u/jsrn/codesizefix" to "u/dimpase/codesizefix"



---

archive/issue_comments_432097.json:
```json
{
    "body": "<a id='comment:12'></a>\nhere are the changes in line with the latest comments.\n\n---\nNew commits:\n|                                                                                                                                          |                                                                                                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------|\n|[af37ca3](https://github.com/sagemath/sagetrac-mirror/commit/af37ca378a933e5f200f197a6a0a4779c0c40c2f)|`Merge branch 'u/jdemeyer/deprecate_deprecated_callable_import' of trac.sagemath.org:sage into codesizefix`|\n|[bb33393](https://github.com/sagemath/sagetrac-mirror/commit/bb3339309628164909c5b336232bb11ba9556686)|`Merge branch 'u/dimpase/codesizefix' of trac.sagemath.org:sage into codesizefix`|\n|[5d2ee22](https://github.com/sagemath/sagetrac-mirror/commit/5d2ee2225a70f07872b0122136eddeeb918c44a5)|`Merge branch 'u/jsrn/codesizefix' of trac.sagemath.org:sage into codesizefix`|\n|[e793a92](https://github.com/sagemath/sagetrac-mirror/commit/e793a923f9dc7deaf85f325eb6f3e9c90b82011f)|`added field_based and used it whenever needed`|",
    "created_at": "2017-05-12T10:49:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432097",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:12'></a>
here are the changes in line with the latest comments.

---
New commits:
|                                                                                                                                          |                                                                                                           |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------|
|[af37ca3](https://github.com/sagemath/sagetrac-mirror/commit/af37ca378a933e5f200f197a6a0a4779c0c40c2f)|`Merge branch 'u/jdemeyer/deprecate_deprecated_callable_import' of trac.sagemath.org:sage into codesizefix`|
|[bb33393](https://github.com/sagemath/sagetrac-mirror/commit/bb3339309628164909c5b336232bb11ba9556686)|`Merge branch 'u/dimpase/codesizefix' of trac.sagemath.org:sage into codesizefix`|
|[5d2ee22](https://github.com/sagemath/sagetrac-mirror/commit/5d2ee2225a70f07872b0122136eddeeb918c44a5)|`Merge branch 'u/jsrn/codesizefix' of trac.sagemath.org:sage into codesizefix`|
|[e793a92](https://github.com/sagemath/sagetrac-mirror/commit/e793a923f9dc7deaf85f325eb6f3e9c90b82011f)|`added field_based and used it whenever needed`|



---

archive/issue_comments_432098.json:
```json
{
    "body": "Changing commit from \"4b0a57e3495b937e78c4cf60df1271c6dc024d0c\" to \"e793a923f9dc7deaf85f325eb6f3e9c90b82011f\"",
    "created_at": "2017-05-12T10:49:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432098",
    "user": "https://github.com/dimpase"
}
```

Changing commit from "4b0a57e3495b937e78c4cf60df1271c6dc024d0c" to "e793a923f9dc7deaf85f325eb6f3e9c90b82011f"



---

archive/issue_comments_432099.json:
```json
{
    "body": "Changing commit from \"e793a923f9dc7deaf85f325eb6f3e9c90b82011f\" to \"228451d2512401669b68961aa0995c17b573ca52\"",
    "created_at": "2017-05-12T23:31:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432099",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e793a923f9dc7deaf85f325eb6f3e9c90b82011f" to "228451d2512401669b68961aa0995c17b573ca52"



---

archive/issue_comments_432100.json:
```json
{
    "body": "<a id='comment:13'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|\n|[228451d](https://github.com/sagemath/sagetrac-mirror/commit/228451d2512401669b68961aa0995c17b573ca52)|`adjusted the top docs to talk about codes not only over fields`|",
    "created_at": "2017-05-12T23:31:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432100",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|
|[228451d](https://github.com/sagemath/sagetrac-mirror/commit/228451d2512401669b68961aa0995c17b573ca52)|`adjusted the top docs to talk about codes not only over fields`|



---

archive/issue_comments_432101.json:
```json
{
    "body": "Changing commit from \"228451d2512401669b68961aa0995c17b573ca52\" to \"e398f4c010ac0f3f7ae28626227d67300f656f11\"",
    "created_at": "2017-05-13T20:02:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432101",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "228451d2512401669b68961aa0995c17b573ca52" to "e398f4c010ac0f3f7ae28626227d67300f656f11"



---

archive/issue_comments_432102.json:
```json
{
    "body": "<a id='comment:14'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------|\n|[18e9a46](https://github.com/sagemath/sagetrac-mirror/commit/18e9a467945579b5fc907de02a46bef4eb888f0f)|`Merge branch 'u/jdemeyer/deprecate_deprecated_callable_import' of trac.sagemath.org:sage into devbeta6`|\n|[e398f4c](https://github.com/sagemath/sagetrac-mirror/commit/e398f4c010ac0f3f7ae28626227d67300f656f11)|`Merge branch 'u/dimpase/codesizefix' of trac.sagemath.org:sage into devbeta6`|",
    "created_at": "2017-05-13T20:02:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432102",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------|
|[18e9a46](https://github.com/sagemath/sagetrac-mirror/commit/18e9a467945579b5fc907de02a46bef4eb888f0f)|`Merge branch 'u/jdemeyer/deprecate_deprecated_callable_import' of trac.sagemath.org:sage into devbeta6`|
|[e398f4c](https://github.com/sagemath/sagetrac-mirror/commit/e398f4c010ac0f3f7ae28626227d67300f656f11)|`Merge branch 'u/dimpase/codesizefix' of trac.sagemath.org:sage into devbeta6`|



---

archive/issue_comments_432103.json:
```json
{
    "body": "<a id='comment:15'></a>\nrebased over latest beta(6).",
    "created_at": "2017-05-13T20:03:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432103",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:15'></a>
rebased over latest beta(6).



---

archive/issue_comments_432104.json:
```json
{
    "body": "Changing commit from \"e398f4c010ac0f3f7ae28626227d67300f656f11\" to \"e258a2053f99656bc3ee079f796758039d994750\"",
    "created_at": "2017-05-14T17:47:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432104",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e398f4c010ac0f3f7ae28626227d67300f656f11" to "e258a2053f99656bc3ee079f796758039d994750"



---

archive/issue_comments_432105.json:
```json
{
    "body": "<a id='comment:16'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|\n|[e258a20](https://github.com/sagemath/sagetrac-mirror/commit/e258a2053f99656bc3ee079f796758039d994750)|`remove obsolete test`|",
    "created_at": "2017-05-14T17:47:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432105",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
|[e258a20](https://github.com/sagemath/sagetrac-mirror/commit/e258a2053f99656bc3ee079f796758039d994750)|`remove obsolete test`|



---

archive/issue_comments_432106.json:
```json
{
    "body": "<a id='comment:17'></a>\nSorry, I've been away for a few days. I'll get back to this soon once I've popped my email stack...",
    "created_at": "2017-05-17T08:18:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432106",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:17'></a>
Sorry, I've been away for a few days. I'll get back to this soon once I've popped my email stack...



---

archive/issue_comments_432107.json:
```json
{
    "body": "<a id='comment:18'></a>\nIt looks good and all tests pass. You removed a number of the \"meaningless parameters are rejected\" test blocks that I added. Not that I really mind, but why did you do that?",
    "created_at": "2017-05-19T12:41:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432107",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:18'></a>
It looks good and all tests pass. You removed a number of the "meaningless parameters are rejected" test blocks that I added. Not that I really mind, but why did you do that?



---

archive/issue_comments_432108.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-05-19T12:41:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432108",
    "user": "https://github.com/johanrosenkilde"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_432109.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Johan Rosenkilde\"",
    "created_at": "2017-05-19T12:41:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432109",
    "user": "https://github.com/johanrosenkilde"
}
```

Changing reviewer from "" to "Johan Rosenkilde"



---

archive/issue_comments_432110.json:
```json
{
    "body": "<a id='comment:19'></a>\nThanks. I removed these tests, as they tested the same parameter-checking function all over again, something that looked excessive to me.",
    "created_at": "2017-05-19T14:22:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432110",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:19'></a>
Thanks. I removed these tests, as they tested the same parameter-checking function all over again, something that looked excessive to me.



---

archive/issue_comments_432111.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [dimpase](#comment%3A19):\n> Thanks. I removed these tests, as they tested the same parameter-checking function all over again, something that looked excessive to me.\n\n\nOK, that's a fair argument. My motivation for having them was thinking of the doc-tests as black-box testing, i.e. if you didn't know that the functions were actually each implemented with exactly the same check, you would put a test for each of them. Now, if someone comes along and completely reimplements one of the functions, he might inadvertently remove the `_check`-call, and now - oops - no test.\n\nI won't insist on putting them back however.",
    "created_at": "2017-05-19T14:38:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432111",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:20'></a>
Replying to [dimpase](#comment%3A19):
> Thanks. I removed these tests, as they tested the same parameter-checking function all over again, something that looked excessive to me.


OK, that's a fair argument. My motivation for having them was thinking of the doc-tests as black-box testing, i.e. if you didn't know that the functions were actually each implemented with exactly the same check, you would put a test for each of them. Now, if someone comes along and completely reimplements one of the functions, he might inadvertently remove the `_check`-call, and now - oops - no test.

I won't insist on putting them back however.



---

archive/issue_events_067689.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-05-20T20:07:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22961#event-67689"
}
```



---

archive/issue_comments_432112.json:
```json
{
    "body": "Changing branch from \"u/dimpase/codesizefix\" to \"e258a2053f99656bc3ee079f796758039d994750\"",
    "created_at": "2017-05-20T20:07:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432112",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/dimpase/codesizefix" to "e258a2053f99656bc3ee079f796758039d994750"



---

archive/issue_comments_432113.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-05-20T20:07:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22961#issuecomment-432113",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
