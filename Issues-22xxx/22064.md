# Issue 22064: LaurentPolynomial: use __call__ in subs

archive/issues_021827.json:
```json
{
    "body": "At the moment, `subs` of a (multivariate) laurent polynomial implements its own subs, whereas polynomials, etc. use the more efficient `__call__` for doing so.\n\n\nBranch/Commit: 5497d90224bd37b0df8af588d011b0eef90868a3\n\nReviewer: Clemens Heuberger, Daniel Krenn\n\nAuthor: Clemens Heuberger, Daniel Krenn\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/22064\n\n",
    "closed_at": "2017-01-21T16:35:05Z",
    "created_at": "2016-12-16T08:00:07Z",
    "labels": [
        "component: algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.5",
    "title": "LaurentPolynomial: use __call__ in subs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22064",
    "user": "https://github.com/dkrenn"
}
```
At the moment, `subs` of a (multivariate) laurent polynomial implements its own subs, whereas polynomials, etc. use the more efficient `__call__` for doing so.


Branch/Commit: 5497d90224bd37b0df8af588d011b0eef90868a3

Reviewer: Clemens Heuberger, Daniel Krenn

Author: Clemens Heuberger, Daniel Krenn

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/22064





---

archive/issue_comments_402628.json:
```json
{
    "body": "Changing branch from \"\" to \"u/dkrenn/laurent-subs\"",
    "created_at": "2016-12-16T08:00:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22064#issuecomment-402628",
    "user": "https://github.com/dkrenn"
}
```

Changing branch from "" to "u/dkrenn/laurent-subs"



---

archive/issue_comments_402629.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2016-12-16T08:05:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22064#issuecomment-402629",
    "user": "https://github.com/dkrenn"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_402630.json:
```json
{
    "body": "Changing commit from \"\" to \"9389e62cf4fd8835d21fe6ce8e74d53aac301541\"",
    "created_at": "2016-12-16T08:05:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22064#issuecomment-402630",
    "user": "https://github.com/dkrenn"
}
```

Changing commit from "" to "9389e62cf4fd8835d21fe6ce8e74d53aac301541"



---

archive/issue_comments_402631.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,2 @@\n-At the moment, `subs` of a LaurentPolynomial implements its own subs, whereas polynomials, etc. use the more efficient `__call__` for doing so.\n+At the moment, `subs` of a (multivariate) laurent polynomial implements its own subs, whereas polynomials, etc. use the more efficient `__call__` for doing so.\n \n``````\n",
    "created_at": "2016-12-16T08:05:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22064#issuecomment-402631",
    "user": "https://github.com/dkrenn"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,2 @@
-At the moment, `subs` of a LaurentPolynomial implements its own subs, whereas polynomials, etc. use the more efficient `__call__` for doing so.
+At the moment, `subs` of a (multivariate) laurent polynomial implements its own subs, whereas polynomials, etc. use the more efficient `__call__` for doing so.
 
``````




---

archive/issue_comments_402632.json:
```json
{
    "body": "<a id='comment:2'></a>\nThe provided branch implements using __call__ and it is indeed more efficient: much less evaluation time is needed, in particular when having laurent polynomials with many terms.\n\nThe (minor) drawback\n\n```\nsage: L.<a,b> = LaurentPolynomialRing(ZZ)\nsage: (b^2/a + b/a^2).subs({a: SR('aa'), b: SR('bb')})\n(aa*bb^2 + bb)/aa^2\n```\n\n---\nNew commits:\n|                                                                                                                                          |                                           |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|\n|[9389e62](https://github.com/sagemath/sagetrac-mirror/commit/9389e62cf4fd8835d21fe6ce8e74d53aac301541)|`use __call__ in subs to be more efficient`|",
    "created_at": "2016-12-16T08:05:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22064#issuecomment-402632",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:2'></a>
The provided branch implements using __call__ and it is indeed more efficient: much less evaluation time is needed, in particular when having laurent polynomials with many terms.

The (minor) drawback

```
sage: L.<a,b> = LaurentPolynomialRing(ZZ)
sage: (b^2/a + b/a^2).subs({a: SR('aa'), b: SR('bb')})
(aa*bb^2 + bb)/aa^2
```

---
New commits:
|                                                                                                                                          |                                           |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
|[9389e62](https://github.com/sagemath/sagetrac-mirror/commit/9389e62cf4fd8835d21fe6ce8e74d53aac301541)|`use __call__ in subs to be more efficient`|



---

archive/issue_comments_402633.json:
```json
{
    "body": "Changing author from \"\" to \"Daniel Krenn\"",
    "created_at": "2016-12-16T08:05:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22064#issuecomment-402633",
    "user": "https://github.com/dkrenn"
}
```

Changing author from "" to "Daniel Krenn"



---

archive/issue_comments_402634.json:
```json
{
    "body": "<a id='comment:3'></a>\nThere is a failing doctest detected by the patchbot.\nWhy is the status \"needs_info\"?",
    "created_at": "2016-12-19T14:09:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22064#issuecomment-402634",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:3'></a>
There is a failing doctest detected by the patchbot.
Why is the status "needs_info"?



---

archive/issue_comments_402635.json:
```json
{
    "body": "Changing commit from \"9389e62cf4fd8835d21fe6ce8e74d53aac301541\" to \"f7e9540498ea6fb4bc102440d828ec508c7b1dfc\"",
    "created_at": "2016-12-22T08:24:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22064#issuecomment-402635",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9389e62cf4fd8835d21fe6ce8e74d53aac301541" to "f7e9540498ea6fb4bc102440d828ec508c7b1dfc"



---

archive/issue_comments_402636.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|\n|[f7e9540](https://github.com/sagemath/sagetrac-mirror/commit/f7e9540498ea6fb4bc102440d828ec508c7b1dfc)|`fix doctest (conversion to symbolic)`|",
    "created_at": "2016-12-22T08:24:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22064#issuecomment-402636",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|
|[f7e9540](https://github.com/sagemath/sagetrac-mirror/commit/f7e9540498ea6fb4bc102440d828ec508c7b1dfc)|`fix doctest (conversion to symbolic)`|



---

archive/issue_comments_402637.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [cheuberg](#comment%3A3):\n> There is a failing doctest detected by the patchbot.\n> Why is the status \"needs_info\"?\n\n\nDoctest now fixed; this was exaxtly the (minor) drawback mentioned above. Now set to needs_review.",
    "created_at": "2016-12-22T08:27:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22064#issuecomment-402637",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:5'></a>
Replying to [cheuberg](#comment%3A3):
> There is a failing doctest detected by the patchbot.
> Why is the status "needs_info"?


Doctest now fixed; this was exaxtly the (minor) drawback mentioned above. Now set to needs_review.



---

archive/issue_comments_402638.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2016-12-22T08:27:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22064#issuecomment-402638",
    "user": "https://github.com/dkrenn"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_402639.json:
```json
{
    "body": "Changing branch from \"u/dkrenn/laurent-subs\" to \"u/cheuberg/laurent-subs\"",
    "created_at": "2017-01-05T15:31:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22064#issuecomment-402639",
    "user": "https://github.com/cheuberg"
}
```

Changing branch from "u/dkrenn/laurent-subs" to "u/cheuberg/laurent-subs"



---

archive/issue_comments_402640.json:
```json
{
    "body": "Changing commit from \"f7e9540498ea6fb4bc102440d828ec508c7b1dfc\" to \"5497d90224bd37b0df8af588d011b0eef90868a3\"",
    "created_at": "2017-01-05T15:32:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22064#issuecomment-402640",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f7e9540498ea6fb4bc102440d828ec508c7b1dfc" to "5497d90224bd37b0df8af588d011b0eef90868a3"



---

archive/issue_comments_402641.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|\n|[845382e](https://github.com/sagemath/sagetrac-mirror/commit/845382e30a830dd7a363f7f344abcf1e225d95e6)|`Trac #22064: Improve docstring`|\n|[4a2704c](https://github.com/sagemath/sagetrac-mirror/commit/4a2704c84155404bab5114ed6229d1d14edfec71)|`Trac #22064: PEP8`|\n|[5497d90](https://github.com/sagemath/sagetrac-mirror/commit/5497d90224bd37b0df8af588d011b0eef90868a3)|`Trac #22064: Fix ReSt error`|",
    "created_at": "2017-01-05T15:32:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22064#issuecomment-402641",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|
|[845382e](https://github.com/sagemath/sagetrac-mirror/commit/845382e30a830dd7a363f7f344abcf1e225d95e6)|`Trac #22064: Improve docstring`|
|[4a2704c](https://github.com/sagemath/sagetrac-mirror/commit/4a2704c84155404bab5114ed6229d1d14edfec71)|`Trac #22064: PEP8`|
|[5497d90](https://github.com/sagemath/sagetrac-mirror/commit/5497d90224bd37b0df8af588d011b0eef90868a3)|`Trac #22064: Fix ReSt error`|



---

archive/issue_comments_402642.json:
```json
{
    "body": "<a id='comment:8'></a>\nLGTM.\n\nI rewrote the docstring, please cross-review.",
    "created_at": "2017-01-05T15:33:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22064#issuecomment-402642",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:8'></a>
LGTM.

I rewrote the docstring, please cross-review.



---

archive/issue_comments_402643.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Clemens Heuberger\"",
    "created_at": "2017-01-05T15:33:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22064#issuecomment-402643",
    "user": "https://github.com/cheuberg"
}
```

Changing reviewer from "" to "Clemens Heuberger"



---

archive/issue_comments_402644.json:
```json
{
    "body": "<a id='comment:9'></a>\nCross-reviewing done, LGTM.",
    "created_at": "2017-01-05T18:54:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22064#issuecomment-402644",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:9'></a>
Cross-reviewing done, LGTM.



---

archive/issue_comments_402645.json:
```json
{
    "body": "Changing reviewer from \"Clemens Heuberger\" to \"Clemens Heuberger, Daniel Krenn\"",
    "created_at": "2017-01-05T18:54:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22064#issuecomment-402645",
    "user": "https://github.com/dkrenn"
}
```

Changing reviewer from "Clemens Heuberger" to "Clemens Heuberger, Daniel Krenn"



---

archive/issue_comments_402646.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-01-05T18:54:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22064#issuecomment-402646",
    "user": "https://github.com/dkrenn"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_402647.json:
```json
{
    "body": "Changing author from \"Daniel Krenn\" to \"Clemens Heuberger, Daniel Krenn\"",
    "created_at": "2017-01-05T18:55:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22064#issuecomment-402647",
    "user": "https://github.com/dkrenn"
}
```

Changing author from "Daniel Krenn" to "Clemens Heuberger, Daniel Krenn"



---

archive/issue_comments_402648.json:
```json
{
    "body": "<a id='comment:11'></a>\n...and I would be fine with \"Authors: Daniel Krenn\", \"Reviewers: Clemens Heuberger\" as well, if you have any opinion on this...",
    "created_at": "2017-01-05T18:57:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22064#issuecomment-402648",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:11'></a>
...and I would be fine with "Authors: Daniel Krenn", "Reviewers: Clemens Heuberger" as well, if you have any opinion on this...



---

archive/issue_comments_402649.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-01-21T16:35:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22064#issuecomment-402649",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_402650.json:
```json
{
    "body": "Changing branch from \"u/cheuberg/laurent-subs\" to \"5497d90224bd37b0df8af588d011b0eef90868a3\"",
    "created_at": "2017-01-21T16:35:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22064",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22064#issuecomment-402650",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/cheuberg/laurent-subs" to "5497d90224bd37b0df8af588d011b0eef90868a3"



---

archive/issue_events_073825.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-21T16:35:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22064",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22064#event-73825"
}
```
