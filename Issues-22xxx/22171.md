# Issue 22171: Motzkin Word Class

archive/issues_021934.json:
```json
{
    "assignees": [],
    "body": "Combinatorial class of Motzkin words (a sequence of up down and horizontal steps such that every down step has a corresponding up step preceding it)\n\n**CC:**  @egunawan @jessicapalencia @mantepse @tscrim\n\n**Keywords:** Motzkin Word, days82, Motzkin path, Motzkin number\n\n**Branch:** [u/mantepse/22171](https://github.com/sagemath/sagetrac-mirror/tree/u/mantepse/22171)\n\n**Commit:** [441aa07c2a1affd5d8ad51dbaed8af65362966a6](https://github.com/sagemath/sagetrac-mirror/commit/441aa07c2a1affd5d8ad51dbaed8af65362966a6)\n\n**Author:** Judith Braunsteiner\n\nIssue created by migration from https://trac.sagemath.org/ticket/22171\n\n",
    "created_at": "2017-01-11T15:12:56Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Motzkin Word Class",
    "type": "issue",
    "updated_at": "2020-07-15T17:52:34Z",
    "url": "https://github.com/sagemath/sage/issues/22171",
    "user": "https://github.com/sagetrac-JBraunsteiner"
}
```
Combinatorial class of Motzkin words (a sequence of up down and horizontal steps such that every down step has a corresponding up step preceding it)

**CC:**  @egunawan @jessicapalencia @mantepse @tscrim

**Keywords:** Motzkin Word, days82, Motzkin path, Motzkin number

**Branch:** [u/mantepse/22171](https://github.com/sagemath/sagetrac-mirror/tree/u/mantepse/22171)

**Commit:** [441aa07c2a1affd5d8ad51dbaed8af65362966a6](https://github.com/sagemath/sagetrac-mirror/commit/441aa07c2a1affd5d8ad51dbaed8af65362966a6)

**Author:** Judith Braunsteiner

Issue created by migration from https://trac.sagemath.org/ticket/22171





---

archive/issue_events_269188.json:
```json
{
    "actor": "https://github.com/sagetrac-JBraunsteiner",
    "created_at": "2017-01-11T15:12:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22171",
    "milestone_number": null,
    "milestone_title": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22171#event-269188"
}
```



---

archive/issue_events_269189.json:
```json
{
    "actor": "https://github.com/sagetrac-JBraunsteiner",
    "created_at": "2017-01-11T15:12:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22171",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "08517b",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22171#event-269189"
}
```



---

archive/issue_events_269190.json:
```json
{
    "actor": "https://github.com/sagetrac-JBraunsteiner",
    "created_at": "2017-01-11T15:12:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22171",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22171#event-269190"
}
```



---

archive/issue_comments_329944.json:
```json
{
    "body": "<a id='comment:1'></a>\nI am working on this currently at Sage Days 82.",
    "created_at": "2017-01-11T15:13:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22171#issuecomment-329944",
    "user": "https://github.com/sagetrac-JBraunsteiner"
}
```

<a id='comment:1'></a>
I am working on this currently at Sage Days 82.



---

archive/issue_comments_329945.json:
```json
{
    "body": "**Changing keywords** from \"Motzkin Word, days82\" to \"Motzkin Word, days82, Motzkin path, Motzkin number\".",
    "created_at": "2017-01-12T11:57:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22171#issuecomment-329945",
    "user": "https://github.com/egunawan"
}
```

**Changing keywords** from "Motzkin Word, days82" to "Motzkin Word, days82, Motzkin path, Motzkin number".



---

archive/issue_comments_329946.json:
```json
{
    "body": "**Commit:** [441aa07c2a1affd5d8ad51dbaed8af65362966a6](https://github.com/sagemath/sagetrac-mirror/commit/441aa07c2a1affd5d8ad51dbaed8af65362966a6)",
    "created_at": "2017-01-12T20:11:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22171#issuecomment-329946",
    "user": "https://github.com/sagetrac-JBraunsteiner"
}
```

**Commit:** [441aa07c2a1affd5d8ad51dbaed8af65362966a6](https://github.com/sagemath/sagetrac-mirror/commit/441aa07c2a1affd5d8ad51dbaed8af65362966a6)



---

archive/issue_comments_329947.json:
```json
{
    "body": "**Branch:** [u/JBraunsteiner/22171](https://github.com/sagemath/sagetrac-mirror/tree/u/JBraunsteiner/22171)",
    "created_at": "2017-01-12T20:11:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22171#issuecomment-329947",
    "user": "https://github.com/sagetrac-JBraunsteiner"
}
```

**Branch:** [u/JBraunsteiner/22171](https://github.com/sagemath/sagetrac-mirror/tree/u/JBraunsteiner/22171)



---

archive/issue_comments_329948.json:
```json
{
    "body": "<a id='comment:4'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a2f335424a9f5d83b66ef1a960c64cb030e47b1f\">a2f3354</a></td><td><code>added new motzkinword file</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fee78cb11ebd6506bd91ff9e4a475a761f0eae0b\">fee78cb</a></td><td><code>motzkin_word.py was modified (very first steps implemented)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d502fac8aba2cdf8b26e6fe3ca8d6af0a7da3c5d\">d502fac</a></td><td><code>motzkin_word.py added first version of iterator</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/239d78af48df86a8e9d680390562fefdd1c07b48\">239d78a</a></td><td><code>added motzkin_word to all</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c5aaffc1f0eecd649898f5f05251929d471542c\">8c5aaff</a></td><td><code>Changes in Motzkin_Word</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/522fbad2ffc9e29da8f0e187a4e616f08526f0c9\">522fbad</a></td><td><code>some functions added to motzkinword</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8d39c55effd116496299e7a019d870ee65c8666\">e8d39c5</a></td><td><code>just before deleting MotzkinWord_size</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/441aa07c2a1affd5d8ad51dbaed8af65362966a6\">441aa07</a></td><td><code>Making MotzkinWord finally working!!</code></td></tr></table>\n",
    "created_at": "2017-01-12T20:11:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22171#issuecomment-329948",
    "user": "https://github.com/sagetrac-JBraunsteiner"
}
```

<a id='comment:4'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a2f335424a9f5d83b66ef1a960c64cb030e47b1f">a2f3354</a></td><td><code>added new motzkinword file</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fee78cb11ebd6506bd91ff9e4a475a761f0eae0b">fee78cb</a></td><td><code>motzkin_word.py was modified (very first steps implemented)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d502fac8aba2cdf8b26e6fe3ca8d6af0a7da3c5d">d502fac</a></td><td><code>motzkin_word.py added first version of iterator</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/239d78af48df86a8e9d680390562fefdd1c07b48">239d78a</a></td><td><code>added motzkin_word to all</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c5aaffc1f0eecd649898f5f05251929d471542c">8c5aaff</a></td><td><code>Changes in Motzkin_Word</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/522fbad2ffc9e29da8f0e187a4e616f08526f0c9">522fbad</a></td><td><code>some functions added to motzkinword</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8d39c55effd116496299e7a019d870ee65c8666">e8d39c5</a></td><td><code>just before deleting MotzkinWord_size</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/441aa07c2a1affd5d8ad51dbaed8af65362966a6">441aa07</a></td><td><code>Making MotzkinWord finally working!!</code></td></tr></table>




---

archive/issue_comments_329949.json:
```json
{
    "body": "<a id='comment:5'></a>\nThere are some alternating sign matrices in `__classcall_private__` which do not belong!",
    "created_at": "2017-01-13T05:54:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22171#issuecomment-329949",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:5'></a>
There are some alternating sign matrices in `__classcall_private__` which do not belong!



---

archive/issue_comments_329950.json:
```json
{
    "body": "<a id='comment:6'></a>\nAnd some `DyckWord` :-)",
    "created_at": "2017-01-13T05:55:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22171#issuecomment-329950",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:6'></a>
And some `DyckWord` :-)



---

archive/issue_comments_329951.json:
```json
{
    "body": "<a id='comment:7'></a>\nThat's a great start!\n\n* parallel to `DyckWords`, it may make sense to introduce constants `up_step_symbol`, `level_step_symbol`, `down_step_symbol`.\n\n* `return len([x for x in self._word if x == -1])` could be replaced with `self._word.count(down_step_symbol)`, etc.\n\n* `MotzkinWord` should accept a `DyckWord` as input, replacing `dyck_word.close_symbol`s with `down_step_symbol`.\n\n* the implementations of `height` and `heights` in `dyck_word.py` look simpler and faster.\n\n* rename `ends_at_horizontal_axis` to `is_complete`.\n\n* several other methods from `dyck_word.py`make sense for Motzkin paths.  Maybe you can simply copy-paste: `number_of_initial_rises`, `associated_parenthesis`, `peaks`, `valleys`,...",
    "created_at": "2017-01-13T14:55:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22171#issuecomment-329951",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:7'></a>
That's a great start!

* parallel to `DyckWords`, it may make sense to introduce constants `up_step_symbol`, `level_step_symbol`, `down_step_symbol`.

* `return len([x for x in self._word if x == -1])` could be replaced with `self._word.count(down_step_symbol)`, etc.

* `MotzkinWord` should accept a `DyckWord` as input, replacing `dyck_word.close_symbol`s with `down_step_symbol`.

* the implementations of `height` and `heights` in `dyck_word.py` look simpler and faster.

* rename `ends_at_horizontal_axis` to `is_complete`.

* several other methods from `dyck_word.py`make sense for Motzkin paths.  Maybe you can simply copy-paste: `number_of_initial_rises`, `associated_parenthesis`, `peaks`, `valleys`,...



---

archive/issue_comments_329952.json:
```json
{
    "body": "<a id='comment:8'></a>\nwhat is the status here? is anyone working on this?",
    "created_at": "2017-11-18T16:53:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22171#issuecomment-329952",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<a id='comment:8'></a>
what is the status here? is anyone working on this?



---

archive/issue_comments_329953.json:
```json
{
    "body": "<a id='comment:9'></a>\nI don't think anyone is currently. In addition to Martin's comments, I would also make `MotzkinWord` a subclass of `ClonableArray` (maybe even `ClonableIntArray`). Other than that, I think it mostly needs a few more doctests.",
    "created_at": "2017-11-18T20:59:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22171#issuecomment-329953",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'></a>
I don't think anyone is currently. In addition to Martin's comments, I would also make `MotzkinWord` a subclass of `ClonableArray` (maybe even `ClonableIntArray`). Other than that, I think it mostly needs a few more doctests.



---

archive/issue_comments_329954.json:
```json
{
    "body": "**Changing branch** from \"[u/JBraunsteiner/22171](https://github.com/sagemath/sagetrac-mirror/tree/u/JBraunsteiner/22171)\" to \"[u/mantepse/22171](https://github.com/sagemath/sagetrac-mirror/tree/u/mantepse/22171)\".",
    "created_at": "2020-07-15T17:52:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22171",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22171#issuecomment-329954",
    "user": "https://github.com/mantepse"
}
```

**Changing branch** from "[u/JBraunsteiner/22171](https://github.com/sagemath/sagetrac-mirror/tree/u/JBraunsteiner/22171)" to "[u/mantepse/22171](https://github.com/sagemath/sagetrac-mirror/tree/u/mantepse/22171)".
