# Issue 22802: Symbolic to  SymPy convertion for generic function

archive/issues_022565.json:
```json
{
    "body": "Implement generic function coversion from Symbolic to SymPy\n\n\n```\nsage: a = function('A')(x,y)\n\nsage: type(A)\n<class 'sage.symbolic.function_factory.NewSymbolicFunction'>\n\nsage: type(a)\n<type 'sage.symbolic.expression.Expression'>\n\nsage: a._sympy_()\n---------------------------------------------------------------------------\nNotImplementedError                       Traceback (most recent call last)\n<ipython-input-101-eeb95aeda6e6> in <module>()\n----> 1 a._sympy_()\n\n```\n\n\n**CC:**  @egourgoulhon @rwst\n\n**Keywords:** sympy\n\n**Branch/Commit:** [5a53e124d4bdf29e7d95fab9b2c5ae3f880a3083](https://github.com/sagemath/sagetrac-mirror/commit/5a53e124d4bdf29e7d95fab9b2c5ae3f880a3083)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Marco Mancini\n\n**Dependencies:** #23496\n\nIssue created by migration from https://trac.sagemath.org/ticket/22802\n\n",
    "closed_at": "2017-09-10T22:05:42Z",
    "created_at": "2017-04-13T09:40:37Z",
    "labels": [
        "component: symbolics",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Symbolic to  SymPy convertion for generic function",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22802",
    "user": "https://github.com/man74cio"
}
```
Implement generic function coversion from Symbolic to SymPy


```
sage: a = function('A')(x,y)

sage: type(A)
<class 'sage.symbolic.function_factory.NewSymbolicFunction'>

sage: type(a)
<type 'sage.symbolic.expression.Expression'>

sage: a._sympy_()
---------------------------------------------------------------------------
NotImplementedError                       Traceback (most recent call last)
<ipython-input-101-eeb95aeda6e6> in <module>()
----> 1 a._sympy_()

```


**CC:**  @egourgoulhon @rwst

**Keywords:** sympy

**Branch/Commit:** [5a53e124d4bdf29e7d95fab9b2c5ae3f880a3083](https://github.com/sagemath/sagetrac-mirror/commit/5a53e124d4bdf29e7d95fab9b2c5ae3f880a3083)

**Reviewer:** Travis Scrimshaw

**Author:** Marco Mancini

**Dependencies:** #23496

Issue created by migration from https://trac.sagemath.org/ticket/22802





---

archive/issue_comments_407571.json:
```json
{
    "body": "**Branch:** [public/22802](https://github.com/sagemath/sagetrac-mirror/tree/public/22802)",
    "created_at": "2017-04-13T11:33:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407571",
    "user": "https://github.com/man74cio"
}
```

**Branch:** [public/22802](https://github.com/sagemath/sagetrac-mirror/tree/public/22802)



---

archive/issue_comments_407572.json:
```json
{
    "body": "**Commit:** [89e6ef4aea6f5af63a9ae40a998413dfc0bb39b5](https://github.com/sagemath/sagetrac-mirror/commit/89e6ef4aea6f5af63a9ae40a998413dfc0bb39b5)",
    "created_at": "2017-04-13T11:33:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407572",
    "user": "https://github.com/man74cio"
}
```

**Commit:** [89e6ef4aea6f5af63a9ae40a998413dfc0bb39b5](https://github.com/sagemath/sagetrac-mirror/commit/89e6ef4aea6f5af63a9ae40a998413dfc0bb39b5)



---

archive/issue_comments_407573.json:
```json
{
    "body": "**Changing commit** from \"[89e6ef4aea6f5af63a9ae40a998413dfc0bb39b5](https://github.com/sagemath/sagetrac-mirror/commit/89e6ef4aea6f5af63a9ae40a998413dfc0bb39b5)\" to \"[3da57124a6e7cd88ba7928c0a5bdf67603f321c6](https://github.com/sagemath/sagetrac-mirror/commit/3da57124a6e7cd88ba7928c0a5bdf67603f321c6)\".",
    "created_at": "2017-04-13T12:32:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407573",
    "user": "https://github.com/man74cio"
}
```

**Changing commit** from "[89e6ef4aea6f5af63a9ae40a998413dfc0bb39b5](https://github.com/sagemath/sagetrac-mirror/commit/89e6ef4aea6f5af63a9ae40a998413dfc0bb39b5)" to "[3da57124a6e7cd88ba7928c0a5bdf67603f321c6](https://github.com/sagemath/sagetrac-mirror/commit/3da57124a6e7cd88ba7928c0a5bdf67603f321c6)".



---

archive/issue_comments_407574.json:
```json
{
    "body": "**Changing branch** from \"[public/22802](https://github.com/sagemath/sagetrac-mirror/tree/public/22802)\" to \"[public/22802_sympy_abstact_function](https://github.com/sagemath/sagetrac-mirror/tree/public/22802_sympy_abstact_function)\".",
    "created_at": "2017-04-13T12:32:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407574",
    "user": "https://github.com/man74cio"
}
```

**Changing branch** from "[public/22802](https://github.com/sagemath/sagetrac-mirror/tree/public/22802)" to "[public/22802_sympy_abstact_function](https://github.com/sagemath/sagetrac-mirror/tree/public/22802_sympy_abstact_function)".



---

archive/issue_comments_407575.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b494a4f646383de66c0836b404f60134f88b0497\">b494a4f</a></td><td><code>Added sympy symbolic method for manifolds.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3da57124a6e7cd88ba7928c0a5bdf67603f321c6\">3da5712</a></td><td><code>merged with develop</code></td></tr></table>\n",
    "created_at": "2017-04-13T12:32:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407575",
    "user": "https://github.com/man74cio"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b494a4f646383de66c0836b404f60134f88b0497">b494a4f</a></td><td><code>Added sympy symbolic method for manifolds.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3da57124a6e7cd88ba7928c0a5bdf67603f321c6">3da5712</a></td><td><code>merged with develop</code></td></tr></table>




---

archive/issue_comments_407576.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** New commits:",
    "created_at": "2017-04-13T12:56:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407576",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** New commits:



---

archive/issue_comments_407577.json:
```json
{
    "body": "**Changing commit** from \"[3da57124a6e7cd88ba7928c0a5bdf67603f321c6](https://github.com/sagemath/sagetrac-mirror/commit/3da57124a6e7cd88ba7928c0a5bdf67603f321c6)\" to \"[89e6ef4aea6f5af63a9ae40a998413dfc0bb39b5](https://github.com/sagemath/sagetrac-mirror/commit/89e6ef4aea6f5af63a9ae40a998413dfc0bb39b5)\".",
    "created_at": "2017-04-13T12:56:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407577",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[3da57124a6e7cd88ba7928c0a5bdf67603f321c6](https://github.com/sagemath/sagetrac-mirror/commit/3da57124a6e7cd88ba7928c0a5bdf67603f321c6)" to "[89e6ef4aea6f5af63a9ae40a998413dfc0bb39b5](https://github.com/sagemath/sagetrac-mirror/commit/89e6ef4aea6f5af63a9ae40a998413dfc0bb39b5)".



---

archive/issue_comments_407578.json:
```json
{
    "body": "**Changing commit** from \"[89e6ef4aea6f5af63a9ae40a998413dfc0bb39b5](https://github.com/sagemath/sagetrac-mirror/commit/89e6ef4aea6f5af63a9ae40a998413dfc0bb39b5)\" to \"[ff2c44d15474c3d27a3fb4ac82831d8d31f5cfe7](https://github.com/sagemath/sagetrac-mirror/commit/ff2c44d15474c3d27a3fb4ac82831d8d31f5cfe7)\".",
    "created_at": "2017-04-14T14:22:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407578",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[89e6ef4aea6f5af63a9ae40a998413dfc0bb39b5](https://github.com/sagemath/sagetrac-mirror/commit/89e6ef4aea6f5af63a9ae40a998413dfc0bb39b5)" to "[ff2c44d15474c3d27a3fb4ac82831d8d31f5cfe7](https://github.com/sagemath/sagetrac-mirror/commit/ff2c44d15474c3d27a3fb4ac82831d8d31f5cfe7)".



---

archive/issue_comments_407579.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff2c44d15474c3d27a3fb4ac82831d8d31f5cfe7\">ff2c44d</a></td><td><code>Small change towards symbolic=>sympy conversion of generic functions</code></td></tr></table>\n",
    "created_at": "2017-04-14T14:22:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407579",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff2c44d15474c3d27a3fb4ac82831d8d31f5cfe7">ff2c44d</a></td><td><code>Small change towards symbolic=>sympy conversion of generic functions</code></td></tr></table>




---

archive/issue_comments_407580.json:
```json
{
    "body": "<a id='comment:6'></a>\nIs this ready for review (other than removing the commented out debugging code)?",
    "created_at": "2017-06-08T22:45:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407580",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>
Is this ready for review (other than removing the commented out debugging code)?



---

archive/issue_comments_407581.json:
```json
{
    "body": "<a id='comment:7'></a>\nNo, the work is still not finished : composed functions are not coverted.",
    "created_at": "2017-06-09T08:34:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407581",
    "user": "https://github.com/man74cio"
}
```

<a id='comment:7'></a>
No, the work is still not finished : composed functions are not coverted.



---

archive/issue_comments_407582.json:
```json
{
    "body": "<a id='comment:8'></a>\nThe inverse transformation was submitted to sympy in the pull request:\n\n\"sympy to sage conversion : Abstract function.\"\nhttps://github.com/sympy/sympy/pull/12826",
    "created_at": "2017-06-28T11:00:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407582",
    "user": "https://github.com/man74cio"
}
```

<a id='comment:8'></a>
The inverse transformation was submitted to sympy in the pull request:

"sympy to sage conversion : Abstract function."
https://github.com/sympy/sympy/pull/12826



---

archive/issue_comments_407583.json:
```json
{
    "body": "<a id='comment:9'></a>\n@man74cio: Thanks for the link to that sympy's thread, this is good news! how is that patch incorporated into 'sage's sympy'?\n\nPlease note that there is i think some conflict of commit ff2c44d here, with the branch in #20204.",
    "created_at": "2017-07-01T06:41:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407583",
    "user": "https://github.com/mforets"
}
```

<a id='comment:9'></a>
@man74cio: Thanks for the link to that sympy's thread, this is good news! how is that patch incorporated into 'sage's sympy'?

Please note that there is i think some conflict of commit ff2c44d here, with the branch in #20204.



---

archive/issue_comments_407584.json:
```json
{
    "body": "<a id='comment:10'></a>\nWe can do either a patch ticket (i.e., adding it to `build/pkgs/sympy/patches/`) or wait for SymPy to accept the PR, then do an upgrade ticket here.",
    "created_at": "2017-07-01T06:55:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407584",
    "user": "https://github.com/rwst"
}
```

<a id='comment:10'></a>
We can do either a patch ticket (i.e., adding it to `build/pkgs/sympy/patches/`) or wait for SymPy to accept the PR, then do an upgrade ticket here.



---

archive/issue_comments_407585.json:
```json
{
    "body": "<a id='comment:11'></a>\nThe PR on sympy si passed , I added tests and resolved some problems.\nAdd the page will be a great thing but I don't know if it is necessary for the moment.\n\nConcerning the conflicts with #20204 : I did not see this ticket before, but yes, some problems could arrive.",
    "created_at": "2017-07-12T13:47:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407585",
    "user": "https://github.com/man74cio"
}
```

<a id='comment:11'></a>
The PR on sympy si passed , I added tests and resolved some problems.
Add the page will be a great thing but I don't know if it is necessary for the moment.

Concerning the conflicts with #20204 : I did not see this ticket before, but yes, some problems could arrive.



---

archive/issue_comments_407586.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df4dc4cad47cc4fdeb5ded6f159c459407ab5937\">df4dc4c</a></td><td><code>symbolic=>sympy conversion for derivation of generic functions</code></td></tr></table>\n",
    "created_at": "2017-07-18T14:21:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407586",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df4dc4cad47cc4fdeb5ded6f159c459407ab5937">df4dc4c</a></td><td><code>symbolic=>sympy conversion for derivation of generic functions</code></td></tr></table>




---

archive/issue_comments_407587.json:
```json
{
    "body": "**Changing commit** from \"[ff2c44d15474c3d27a3fb4ac82831d8d31f5cfe7](https://github.com/sagemath/sagetrac-mirror/commit/ff2c44d15474c3d27a3fb4ac82831d8d31f5cfe7)\" to \"[df4dc4cad47cc4fdeb5ded6f159c459407ab5937](https://github.com/sagemath/sagetrac-mirror/commit/df4dc4cad47cc4fdeb5ded6f159c459407ab5937)\".",
    "created_at": "2017-07-18T14:21:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407587",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ff2c44d15474c3d27a3fb4ac82831d8d31f5cfe7](https://github.com/sagemath/sagetrac-mirror/commit/ff2c44d15474c3d27a3fb4ac82831d8d31f5cfe7)" to "[df4dc4cad47cc4fdeb5ded6f159c459407ab5937](https://github.com/sagemath/sagetrac-mirror/commit/df4dc4cad47cc4fdeb5ded6f159c459407ab5937)".



---

archive/issue_comments_407588.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2017-07-18T19:38:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407588",
    "user": "https://github.com/man74cio"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_407589.json:
```json
{
    "body": "<a id='comment:13'></a>\nThe conversion of generic functions (also derivatives and composed functions) between sage and sympy works fine.\nFor the full operabilty changes in sympy (https://github.com/sympy/sympy/pull/12826) are needed",
    "created_at": "2017-07-18T19:38:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407589",
    "user": "https://github.com/man74cio"
}
```

<a id='comment:13'></a>
The conversion of generic functions (also derivatives and composed functions) between sage and sympy works fine.
For the full operabilty changes in sympy (https://github.com/sympy/sympy/pull/12826) are needed



---

archive/issue_comments_407590.json:
```json
{
    "body": "<a id='comment:14'></a>\nIf you need upstream changes, you will have to add the corresponding patch to our version of sympy. For better granularity, it might be better to do the patching on a separate ticket.",
    "created_at": "2017-07-18T23:55:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407590",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:14'></a>
If you need upstream changes, you will have to add the corresponding patch to our version of sympy. For better granularity, it might be better to do the patching on a separate ticket.



---

archive/issue_comments_407591.json:
```json
{
    "body": "<a id='comment:15'></a>\nHow can I patch the sage version of sympy it is not versioned in git. Have you some doc?",
    "created_at": "2017-07-19T05:36:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407591",
    "user": "https://github.com/man74cio"
}
```

<a id='comment:15'></a>
How can I patch the sage version of sympy it is not versioned in git. Have you some doc?



---

archive/issue_comments_407592.json:
```json
{
    "body": "<a id='comment:16'></a>\nYou create a patch from the git commit. I think the command is something like `git diff -p <commit>`, but it should be easy enough to find examples via Google. From there, you simply add the patch to the `$SAGE_ROOT/build/pkgs/sympy/patches` folder, bump the corresponding `package-version.txt` to `1.0.p3`, and commit. To test, you should simply need to run `make build` and then test as usual.",
    "created_at": "2017-07-19T11:35:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407592",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:16'></a>
You create a patch from the git commit. I think the command is something like `git diff -p <commit>`, but it should be easy enough to find examples via Google. From there, you simply add the patch to the `$SAGE_ROOT/build/pkgs/sympy/patches` folder, bump the corresponding `package-version.txt` to `1.0.p3`, and commit. To test, you should simply need to run `make build` and then test as usual.



---

archive/issue_comments_407593.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb1959816b5f3a0d10f2ecac0da1ab04f7d3c0a6\">eb19598</a></td><td><code>added patch for sympy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6eaf35d6d6769ae053f8627e09c8c0cd42acbdf0\">6eaf35d</a></td><td><code>Better sympy patch taken from #12826 PR in sympy</code></td></tr></table>\n",
    "created_at": "2017-07-20T11:29:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407593",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb1959816b5f3a0d10f2ecac0da1ab04f7d3c0a6">eb19598</a></td><td><code>added patch for sympy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6eaf35d6d6769ae053f8627e09c8c0cd42acbdf0">6eaf35d</a></td><td><code>Better sympy patch taken from #12826 PR in sympy</code></td></tr></table>




---

archive/issue_comments_407594.json:
```json
{
    "body": "**Changing commit** from \"[df4dc4cad47cc4fdeb5ded6f159c459407ab5937](https://github.com/sagemath/sagetrac-mirror/commit/df4dc4cad47cc4fdeb5ded6f159c459407ab5937)\" to \"[6eaf35d6d6769ae053f8627e09c8c0cd42acbdf0](https://github.com/sagemath/sagetrac-mirror/commit/6eaf35d6d6769ae053f8627e09c8c0cd42acbdf0)\".",
    "created_at": "2017-07-20T11:29:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407594",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[df4dc4cad47cc4fdeb5ded6f159c459407ab5937](https://github.com/sagemath/sagetrac-mirror/commit/df4dc4cad47cc4fdeb5ded6f159c459407ab5937)" to "[6eaf35d6d6769ae053f8627e09c8c0cd42acbdf0](https://github.com/sagemath/sagetrac-mirror/commit/6eaf35d6d6769ae053f8627e09c8c0cd42acbdf0)".



---

archive/issue_comments_407595.json:
```json
{
    "body": "<a id='comment:18'></a>\nHello,\nI don't know if the procedure is correct:\nin $SYMPY \n\n```\ngit diff -p 6929ca35a33ba7813cd6d5828d96bc339ea06cb6 > 02_undeffun_sage.patch\n```\nthen \n\n```\nmv 02_undeffun_sage.patch $SAGE_ROOT/build/pkgs/sympy/patches/\ncat 1.0.p2 > $SAGE_ROOT/build/pkgs/sympy/package-version.txt\n```\n\nThe test are ok. \nI had to modify again sympy : now if the function is known in sympy (like fresneln in calculus.py tests) but not in sage, then the `AttributeError` is raised from sympy and catched in sage as before.",
    "created_at": "2017-07-20T11:39:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407595",
    "user": "https://github.com/man74cio"
}
```

<a id='comment:18'></a>
Hello,
I don't know if the procedure is correct:
in $SYMPY 

```
git diff -p 6929ca35a33ba7813cd6d5828d96bc339ea06cb6 > 02_undeffun_sage.patch
```
then 

```
mv 02_undeffun_sage.patch $SAGE_ROOT/build/pkgs/sympy/patches/
cat 1.0.p2 > $SAGE_ROOT/build/pkgs/sympy/package-version.txt
```

The test are ok. 
I had to modify again sympy : now if the function is known in sympy (like fresneln in calculus.py tests) but not in sage, then the `AttributeError` is raised from sympy and catched in sage as before.



---

archive/issue_comments_407596.json:
```json
{
    "body": "<a id='comment:19'></a>\nIt looks okay to me, but I would prefer the sympy patch to go on a separate ticket that this ticket will then depend on. You can just cherry-pick (and squash if desired) your last two commits into a new branch and then merge that branch into this one here.",
    "created_at": "2017-07-20T13:34:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407596",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:19'></a>
It looks okay to me, but I would prefer the sympy patch to go on a separate ticket that this ticket will then depend on. You can just cherry-pick (and squash if desired) your last two commits into a new branch and then merge that branch into this one here.



---

archive/issue_comments_407597.json:
```json
{
    "body": "**Dependencies:** 23496",
    "created_at": "2017-07-20T20:03:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407597",
    "user": "https://github.com/man74cio"
}
```

**Dependencies:** 23496



---

archive/issue_comments_407598.json:
```json
{
    "body": "<a id='comment:20'></a>\nChanges done as required.\nI hope it is ok.",
    "created_at": "2017-07-20T20:03:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407598",
    "user": "https://github.com/man74cio"
}
```

<a id='comment:20'></a>
Changes done as required.
I hope it is ok.



---

archive/issue_comments_407599.json:
```json
{
    "body": "**Changing dependencies** from \"23496\" to \"#23496\".",
    "created_at": "2017-07-20T20:05:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407599",
    "user": "https://github.com/man74cio"
}
```

**Changing dependencies** from "23496" to "#23496".



---

archive/issue_comments_407600.json:
```json
{
    "body": "<a id='comment:22'></a>\nLGTM (with manually increased my sympy patch level for testing, but that is a change that needs to be done on #23496).",
    "created_at": "2017-07-24T00:06:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407600",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:22'></a>
LGTM (with manually increased my sympy patch level for testing, but that is a change that needs to be done on #23496).



---

archive/issue_comments_407601.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2017-07-24T00:06:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407601",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_407602.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2017-07-24T00:06:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407602",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_407603.json:
```json
{
    "body": "<a id='comment:23'></a>\n**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b764ebe0dbe0fcf4f2758ca4e87bebff9116db94\">b764ebe</a></td><td><code>Better sympy patch taken from #12826 PR in sympy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d16a70b2daf9e123f2bf180547f38a4a10c2306\">9d16a70</a></td><td><code>Lost package-version.txt modifications : restored</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5d6b6733ea408b4a73860578e8b482d6dfea2c7\">d5d6b67</a></td><td><code>Corrected error on patcj version</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/462bd681d32ee87a3813caa79e43842a4477d2e7\">462bd68</a></td><td><code>test is not corrected at this point</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/daa2f2cc0a70480553db6a01fd9b28552e63920e\">daa2f2c</a></td><td><code>Error on sympy branch corrected with a new patch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/487242514e520b0c73e24628ac2269df7cd2c0c0\">4872425</a></td><td><code>forgetten to delete gg in doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b6fec4d1609eff56d31bf1b7f779ed05aa7503a7\">b6fec4d</a></td><td><code>merge with sympy patch</code></td></tr></table>\n",
    "created_at": "2017-07-26T12:05:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407603",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>
**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b764ebe0dbe0fcf4f2758ca4e87bebff9116db94">b764ebe</a></td><td><code>Better sympy patch taken from #12826 PR in sympy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d16a70b2daf9e123f2bf180547f38a4a10c2306">9d16a70</a></td><td><code>Lost package-version.txt modifications : restored</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5d6b6733ea408b4a73860578e8b482d6dfea2c7">d5d6b67</a></td><td><code>Corrected error on patcj version</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/462bd681d32ee87a3813caa79e43842a4477d2e7">462bd68</a></td><td><code>test is not corrected at this point</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/daa2f2cc0a70480553db6a01fd9b28552e63920e">daa2f2c</a></td><td><code>Error on sympy branch corrected with a new patch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/487242514e520b0c73e24628ac2269df7cd2c0c0">4872425</a></td><td><code>forgetten to delete gg in doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b6fec4d1609eff56d31bf1b7f779ed05aa7503a7">b6fec4d</a></td><td><code>merge with sympy patch</code></td></tr></table>




---

archive/issue_comments_407604.json:
```json
{
    "body": "**Changing commit** from \"[6eaf35d6d6769ae053f8627e09c8c0cd42acbdf0](https://github.com/sagemath/sagetrac-mirror/commit/6eaf35d6d6769ae053f8627e09c8c0cd42acbdf0)\" to \"[b6fec4d1609eff56d31bf1b7f779ed05aa7503a7](https://github.com/sagemath/sagetrac-mirror/commit/b6fec4d1609eff56d31bf1b7f779ed05aa7503a7)\".",
    "created_at": "2017-07-26T12:05:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407604",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6eaf35d6d6769ae053f8627e09c8c0cd42acbdf0](https://github.com/sagemath/sagetrac-mirror/commit/6eaf35d6d6769ae053f8627e09c8c0cd42acbdf0)" to "[b6fec4d1609eff56d31bf1b7f779ed05aa7503a7](https://github.com/sagemath/sagetrac-mirror/commit/b6fec4d1609eff56d31bf1b7f779ed05aa7503a7)".



---

archive/issue_comments_407605.json:
```json
{
    "body": "**Changing status** from positive_review to needs_review.",
    "created_at": "2017-07-26T12:05:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407605",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing status** from positive_review to needs_review.



---

archive/issue_comments_407606.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/721eed7a72e7d86189fa6200bed75ef1c11af4a3\">721eed7</a></td><td><code>removed whitespace</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e46345b0c23138d017ce6f50f44d144179c9c668\">e46345b</a></td><td><code>changed sympy patch version</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/46ebd728aac486a5dd675f5d228d90001c421635\">46ebd72</a></td><td><code>Merge branch 'public/23496_patch_sympy_abstact_function' of git://trac.sagemath.org/sage into public/23496_patch_sympy_abstact_function</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/068d495bb14e3702a8bd9d598dc812c4f12542cb\">068d495</a></td><td><code>Merge branch 'public/22802_sympy_abstact_function' of git://trac.sagemath.org/sage into public/22802_sympy_abstact_function</code></td></tr></table>\n",
    "created_at": "2017-07-31T02:57:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407606",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/721eed7a72e7d86189fa6200bed75ef1c11af4a3">721eed7</a></td><td><code>removed whitespace</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e46345b0c23138d017ce6f50f44d144179c9c668">e46345b</a></td><td><code>changed sympy patch version</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/46ebd728aac486a5dd675f5d228d90001c421635">46ebd72</a></td><td><code>Merge branch 'public/23496_patch_sympy_abstact_function' of git://trac.sagemath.org/sage into public/23496_patch_sympy_abstact_function</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/068d495bb14e3702a8bd9d598dc812c4f12542cb">068d495</a></td><td><code>Merge branch 'public/22802_sympy_abstact_function' of git://trac.sagemath.org/sage into public/22802_sympy_abstact_function</code></td></tr></table>




---

archive/issue_comments_407607.json:
```json
{
    "body": "**Changing commit** from \"[b6fec4d1609eff56d31bf1b7f779ed05aa7503a7](https://github.com/sagemath/sagetrac-mirror/commit/b6fec4d1609eff56d31bf1b7f779ed05aa7503a7)\" to \"[068d495bb14e3702a8bd9d598dc812c4f12542cb](https://github.com/sagemath/sagetrac-mirror/commit/068d495bb14e3702a8bd9d598dc812c4f12542cb)\".",
    "created_at": "2017-07-31T02:57:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407607",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b6fec4d1609eff56d31bf1b7f779ed05aa7503a7](https://github.com/sagemath/sagetrac-mirror/commit/b6fec4d1609eff56d31bf1b7f779ed05aa7503a7)" to "[068d495bb14e3702a8bd9d598dc812c4f12542cb](https://github.com/sagemath/sagetrac-mirror/commit/068d495bb14e3702a8bd9d598dc812c4f12542cb)".



---

archive/issue_comments_407608.json:
```json
{
    "body": "<a id='comment:25'></a>\nJust a merge in of the latest #23496. Tests still pass, LGTM, thanks.",
    "created_at": "2017-07-31T02:58:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407608",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:25'></a>
Just a merge in of the latest #23496. Tests still pass, LGTM, thanks.



---

archive/issue_comments_407609.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2017-07-31T02:58:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407609",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_407610.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2017-08-30T20:04:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407610",
    "user": "https://github.com/mforets"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_407611.json:
```json
{
    "body": "<a id='comment:26'></a>\nwhile this is \"on-hold\", could `derivative` be revised? the docstring has some defects right now:\n\n- no `INPUT`\n- extra spaces that are not conventional in sage library code\n- what is `convertion ::` ?\n\nand why should the debug lines `# print(...)` be kept?",
    "created_at": "2017-08-30T20:04:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407611",
    "user": "https://github.com/mforets"
}
```

<a id='comment:26'></a>
while this is "on-hold", could `derivative` be revised? the docstring has some defects right now:

- no `INPUT`
- extra spaces that are not conventional in sage library code
- what is `convertion ::` ?

and why should the debug lines `# print(...)` be kept?



---

archive/issue_comments_407612.json:
```json
{
    "body": "**Changing commit** from \"[068d495bb14e3702a8bd9d598dc812c4f12542cb](https://github.com/sagemath/sagetrac-mirror/commit/068d495bb14e3702a8bd9d598dc812c4f12542cb)\" to \"[078532f03b0720617ba5a25b965ec5d6805eb541](https://github.com/sagemath/sagetrac-mirror/commit/078532f03b0720617ba5a25b965ec5d6805eb541)\".",
    "created_at": "2017-08-31T09:22:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407612",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[068d495bb14e3702a8bd9d598dc812c4f12542cb](https://github.com/sagemath/sagetrac-mirror/commit/068d495bb14e3702a8bd9d598dc812c4f12542cb)" to "[078532f03b0720617ba5a25b965ec5d6805eb541](https://github.com/sagemath/sagetrac-mirror/commit/078532f03b0720617ba5a25b965ec5d6805eb541)".



---

archive/issue_comments_407613.json:
```json
{
    "body": "<a id='comment:27'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/078532f03b0720617ba5a25b965ec5d6805eb541\">078532f</a></td><td><code>docstring modifications</code></td></tr></table>\n",
    "created_at": "2017-08-31T09:22:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407613",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/078532f03b0720617ba5a25b965ec5d6805eb541">078532f</a></td><td><code>docstring modifications</code></td></tr></table>




---

archive/issue_comments_407614.json:
```json
{
    "body": "<a id='comment:28'></a>\nChanged name because typo error",
    "created_at": "2017-09-04T08:52:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407614",
    "user": "https://github.com/man74cio"
}
```

<a id='comment:28'></a>
Changed name because typo error



---

archive/issue_comments_407615.json:
```json
{
    "body": "**Changing commit** from \"[078532f03b0720617ba5a25b965ec5d6805eb541](https://github.com/sagemath/sagetrac-mirror/commit/078532f03b0720617ba5a25b965ec5d6805eb541)\" to \"\".",
    "created_at": "2017-09-04T08:52:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407615",
    "user": "https://github.com/man74cio"
}
```

**Changing commit** from "[078532f03b0720617ba5a25b965ec5d6805eb541](https://github.com/sagemath/sagetrac-mirror/commit/078532f03b0720617ba5a25b965ec5d6805eb541)" to "".



---

archive/issue_comments_407616.json:
```json
{
    "body": "**Changing branch** from \"[public/22802_sympy_abstact_function](https://github.com/sagemath/sagetrac-mirror/tree/public/22802_sympy_abstact_function)\" to \"[public/22802_sympy_abstract_function](https://github.com/sagemath/sagetrac-mirror/tree/public/22802_sympy_abstract_function)\".",
    "created_at": "2017-09-04T08:52:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407616",
    "user": "https://github.com/man74cio"
}
```

**Changing branch** from "[public/22802_sympy_abstact_function](https://github.com/sagemath/sagetrac-mirror/tree/public/22802_sympy_abstact_function)" to "[public/22802_sympy_abstract_function](https://github.com/sagemath/sagetrac-mirror/tree/public/22802_sympy_abstract_function)".



---

archive/issue_comments_407617.json:
```json
{
    "body": "**Commit:** [078532f03b0720617ba5a25b965ec5d6805eb541](https://github.com/sagemath/sagetrac-mirror/commit/078532f03b0720617ba5a25b965ec5d6805eb541)",
    "created_at": "2017-09-04T08:54:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407617",
    "user": "https://github.com/man74cio"
}
```

**Commit:** [078532f03b0720617ba5a25b965ec5d6805eb541](https://github.com/sagemath/sagetrac-mirror/commit/078532f03b0720617ba5a25b965ec5d6805eb541)



---

archive/issue_comments_407618.json:
```json
{
    "body": "**Changing branch** from \"[public/22802_sympy_abstract_function](https://github.com/sagemath/sagetrac-mirror/tree/public/22802_sympy_abstract_function)\" to \"[public/22802_sympy_abstact_function](https://github.com/sagemath/sagetrac-mirror/tree/public/22802_sympy_abstact_function)\".",
    "created_at": "2017-09-04T08:54:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407618",
    "user": "https://github.com/man74cio"
}
```

**Changing branch** from "[public/22802_sympy_abstract_function](https://github.com/sagemath/sagetrac-mirror/tree/public/22802_sympy_abstract_function)" to "[public/22802_sympy_abstact_function](https://github.com/sagemath/sagetrac-mirror/tree/public/22802_sympy_abstact_function)".



---

archive/issue_comments_407619.json:
```json
{
    "body": "<a id='comment:29'></a>\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/721eed7a72e7d86189fa6200bed75ef1c11af4a3\">721eed7</a></td><td><code>removed whitespace</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e46345b0c23138d017ce6f50f44d144179c9c668\">e46345b</a></td><td><code>changed sympy patch version</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/46ebd728aac486a5dd675f5d228d90001c421635\">46ebd72</a></td><td><code>Merge branch 'public/23496_patch_sympy_abstact_function' of git://trac.sagemath.org/sage into public/23496_patch_sympy_abstact_function</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff2c44d15474c3d27a3fb4ac82831d8d31f5cfe7\">ff2c44d</a></td><td><code>Small change towards symbolic=>sympy conversion of generic functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df4dc4cad47cc4fdeb5ded6f159c459407ab5937\">df4dc4c</a></td><td><code>symbolic=>sympy conversion for derivation of generic functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb1959816b5f3a0d10f2ecac0da1ab04f7d3c0a6\">eb19598</a></td><td><code>added patch for sympy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6eaf35d6d6769ae053f8627e09c8c0cd42acbdf0\">6eaf35d</a></td><td><code>Better sympy patch taken from #12826 PR in sympy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b6fec4d1609eff56d31bf1b7f779ed05aa7503a7\">b6fec4d</a></td><td><code>merge with sympy patch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/068d495bb14e3702a8bd9d598dc812c4f12542cb\">068d495</a></td><td><code>Merge branch 'public/22802_sympy_abstact_function' of git://trac.sagemath.org/sage into public/22802_sympy_abstact_function</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/078532f03b0720617ba5a25b965ec5d6805eb541\">078532f</a></td><td><code>docstring modifications</code></td></tr></table>\n",
    "created_at": "2017-09-04T08:54:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407619",
    "user": "https://github.com/man74cio"
}
```

<a id='comment:29'></a>
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/721eed7a72e7d86189fa6200bed75ef1c11af4a3">721eed7</a></td><td><code>removed whitespace</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e46345b0c23138d017ce6f50f44d144179c9c668">e46345b</a></td><td><code>changed sympy patch version</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/46ebd728aac486a5dd675f5d228d90001c421635">46ebd72</a></td><td><code>Merge branch 'public/23496_patch_sympy_abstact_function' of git://trac.sagemath.org/sage into public/23496_patch_sympy_abstact_function</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff2c44d15474c3d27a3fb4ac82831d8d31f5cfe7">ff2c44d</a></td><td><code>Small change towards symbolic=>sympy conversion of generic functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df4dc4cad47cc4fdeb5ded6f159c459407ab5937">df4dc4c</a></td><td><code>symbolic=>sympy conversion for derivation of generic functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb1959816b5f3a0d10f2ecac0da1ab04f7d3c0a6">eb19598</a></td><td><code>added patch for sympy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6eaf35d6d6769ae053f8627e09c8c0cd42acbdf0">6eaf35d</a></td><td><code>Better sympy patch taken from #12826 PR in sympy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b6fec4d1609eff56d31bf1b7f779ed05aa7503a7">b6fec4d</a></td><td><code>merge with sympy patch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/068d495bb14e3702a8bd9d598dc812c4f12542cb">068d495</a></td><td><code>Merge branch 'public/22802_sympy_abstact_function' of git://trac.sagemath.org/sage into public/22802_sympy_abstact_function</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/078532f03b0720617ba5a25b965ec5d6805eb541">078532f</a></td><td><code>docstring modifications</code></td></tr></table>




---

archive/issue_comments_407620.json:
```json
{
    "body": "**Changing branch** from \"[public/22802_sympy_abstact_function](https://github.com/sagemath/sagetrac-mirror/tree/public/22802_sympy_abstact_function)\" to \"[public/22802_sympy_abstract_function](https://github.com/sagemath/sagetrac-mirror/tree/public/22802_sympy_abstract_function)\".",
    "created_at": "2017-09-04T09:01:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407620",
    "user": "https://github.com/man74cio"
}
```

**Changing branch** from "[public/22802_sympy_abstact_function](https://github.com/sagemath/sagetrac-mirror/tree/public/22802_sympy_abstact_function)" to "[public/22802_sympy_abstract_function](https://github.com/sagemath/sagetrac-mirror/tree/public/22802_sympy_abstract_function)".



---

archive/issue_comments_407621.json:
```json
{
    "body": "**Changing commit** from \"[078532f03b0720617ba5a25b965ec5d6805eb541](https://github.com/sagemath/sagetrac-mirror/commit/078532f03b0720617ba5a25b965ec5d6805eb541)\" to \"\".",
    "created_at": "2017-09-04T09:01:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407621",
    "user": "https://github.com/man74cio"
}
```

**Changing commit** from "[078532f03b0720617ba5a25b965ec5d6805eb541](https://github.com/sagemath/sagetrac-mirror/commit/078532f03b0720617ba5a25b965ec5d6805eb541)" to "".



---

archive/issue_comments_407622.json:
```json
{
    "body": "<a id='comment:31'></a>\n**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/721eed7a72e7d86189fa6200bed75ef1c11af4a3\">721eed7</a></td><td><code>removed whitespace</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e46345b0c23138d017ce6f50f44d144179c9c668\">e46345b</a></td><td><code>changed sympy patch version</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/46ebd728aac486a5dd675f5d228d90001c421635\">46ebd72</a></td><td><code>Merge branch 'public/23496_patch_sympy_abstact_function' of git://trac.sagemath.org/sage into public/23496_patch_sympy_abstact_function</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff2c44d15474c3d27a3fb4ac82831d8d31f5cfe7\">ff2c44d</a></td><td><code>Small change towards symbolic=>sympy conversion of generic functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df4dc4cad47cc4fdeb5ded6f159c459407ab5937\">df4dc4c</a></td><td><code>symbolic=>sympy conversion for derivation of generic functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb1959816b5f3a0d10f2ecac0da1ab04f7d3c0a6\">eb19598</a></td><td><code>added patch for sympy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6eaf35d6d6769ae053f8627e09c8c0cd42acbdf0\">6eaf35d</a></td><td><code>Better sympy patch taken from #12826 PR in sympy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b6fec4d1609eff56d31bf1b7f779ed05aa7503a7\">b6fec4d</a></td><td><code>merge with sympy patch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/068d495bb14e3702a8bd9d598dc812c4f12542cb\">068d495</a></td><td><code>Merge branch 'public/22802_sympy_abstact_function' of git://trac.sagemath.org/sage into public/22802_sympy_abstact_function</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/078532f03b0720617ba5a25b965ec5d6805eb541\">078532f</a></td><td><code>docstring modifications</code></td></tr></table>\n",
    "created_at": "2017-09-04T09:01:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407622",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>
**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/721eed7a72e7d86189fa6200bed75ef1c11af4a3">721eed7</a></td><td><code>removed whitespace</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e46345b0c23138d017ce6f50f44d144179c9c668">e46345b</a></td><td><code>changed sympy patch version</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/46ebd728aac486a5dd675f5d228d90001c421635">46ebd72</a></td><td><code>Merge branch 'public/23496_patch_sympy_abstact_function' of git://trac.sagemath.org/sage into public/23496_patch_sympy_abstact_function</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff2c44d15474c3d27a3fb4ac82831d8d31f5cfe7">ff2c44d</a></td><td><code>Small change towards symbolic=>sympy conversion of generic functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df4dc4cad47cc4fdeb5ded6f159c459407ab5937">df4dc4c</a></td><td><code>symbolic=>sympy conversion for derivation of generic functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb1959816b5f3a0d10f2ecac0da1ab04f7d3c0a6">eb19598</a></td><td><code>added patch for sympy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6eaf35d6d6769ae053f8627e09c8c0cd42acbdf0">6eaf35d</a></td><td><code>Better sympy patch taken from #12826 PR in sympy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b6fec4d1609eff56d31bf1b7f779ed05aa7503a7">b6fec4d</a></td><td><code>merge with sympy patch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/068d495bb14e3702a8bd9d598dc812c4f12542cb">068d495</a></td><td><code>Merge branch 'public/22802_sympy_abstact_function' of git://trac.sagemath.org/sage into public/22802_sympy_abstact_function</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/078532f03b0720617ba5a25b965ec5d6805eb541">078532f</a></td><td><code>docstring modifications</code></td></tr></table>




---

archive/issue_comments_407623.json:
```json
{
    "body": "**Commit:** [078532f03b0720617ba5a25b965ec5d6805eb541](https://github.com/sagemath/sagetrac-mirror/commit/078532f03b0720617ba5a25b965ec5d6805eb541)",
    "created_at": "2017-09-04T09:01:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407623",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [078532f03b0720617ba5a25b965ec5d6805eb541](https://github.com/sagemath/sagetrac-mirror/commit/078532f03b0720617ba5a25b965ec5d6805eb541)



---

archive/issue_comments_407624.json:
```json
{
    "body": "<a id='comment:32'></a>\nThe name of the branch was corrected",
    "created_at": "2017-09-04T09:02:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407624",
    "user": "https://github.com/man74cio"
}
```

<a id='comment:32'></a>
The name of the branch was corrected



---

archive/issue_comments_407625.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2017-09-05T09:00:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407625",
    "user": "https://github.com/man74cio"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_407626.json:
```json
{
    "body": "<a id='comment:34'></a>\ncould you please merge again with #23496 ? i haven't checked in detail, but there seem to be differences in the `composition` function,\n\nhttps://git.sagemath.org/sage.git/diff?id=eedf6da36d74e1dd3cc996201a4160d101c3b0a6\n\nand\n\nhttps://git.sagemath.org/sage.git/diff?id2=037272ccbac814ddcacd7f0df60cc68d357d3fa0&id=bc21300122019b04a30dba02aaa2cd728ff7453f\n\nof course in case of conflict we want to keep the changes introduced by #23496.",
    "created_at": "2017-09-05T09:07:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407626",
    "user": "https://github.com/mforets"
}
```

<a id='comment:34'></a>
could you please merge again with #23496 ? i haven't checked in detail, but there seem to be differences in the `composition` function,

https://git.sagemath.org/sage.git/diff?id=eedf6da36d74e1dd3cc996201a4160d101c3b0a6

and

https://git.sagemath.org/sage.git/diff?id2=037272ccbac814ddcacd7f0df60cc68d357d3fa0&id=bc21300122019b04a30dba02aaa2cd728ff7453f

of course in case of conflict we want to keep the changes introduced by #23496.



---

archive/issue_comments_407627.json:
```json
{
    "body": "**Changing commit** from \"[078532f03b0720617ba5a25b965ec5d6805eb541](https://github.com/sagemath/sagetrac-mirror/commit/078532f03b0720617ba5a25b965ec5d6805eb541)\" to \"[0be1d909ba8dda133a45e08a4470951e0935092f](https://github.com/sagemath/sagetrac-mirror/commit/0be1d909ba8dda133a45e08a4470951e0935092f)\".",
    "created_at": "2017-09-05T11:15:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407627",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[078532f03b0720617ba5a25b965ec5d6805eb541](https://github.com/sagemath/sagetrac-mirror/commit/078532f03b0720617ba5a25b965ec5d6805eb541)" to "[0be1d909ba8dda133a45e08a4470951e0935092f](https://github.com/sagemath/sagetrac-mirror/commit/0be1d909ba8dda133a45e08a4470951e0935092f)".



---

archive/issue_comments_407628.json:
```json
{
    "body": "<a id='comment:35'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/67f7f4693f271e068e0e073b70909d5013608cf0\">67f7f46</a></td><td><code>integrated modifications to composition. But an error remains in french_book.recequadiff tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b5227d6a85a540663aa138e8304a9055ba110fd\">1b5227d</a></td><td><code>Error in french_book.recequadiff tests corrected</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/018d753eedd53686dfd4f086dfb7c20dda02b7e0\">018d753</a></td><td><code>Merge branch 'develop' into t/23496/public/23496_patch_sympy_abstact_function</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94af74bb32f09a0b2d08b50e2ef34f22e8212d9f\">94af74b</a></td><td><code>#23496 : (temp) revert order in rsolve recequadiff.tex test</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d76caea0b97af8769edf9a1064db9f7486232b1d\">d76caea</a></td><td><code>#23496 : add message for change in doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bc21300122019b04a30dba02aaa2cd728ff7453f\">bc21300</a></td><td><code>#23496 : fix a `_sympy_init_` doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0be1d909ba8dda133a45e08a4470951e0935092f\">0be1d90</a></td><td><code>Merge branch 'public/23496_patch_sympy_abstract_function' into 22802_sympy_abstract_function</code></td></tr></table>\n",
    "created_at": "2017-09-05T11:15:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407628",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/67f7f4693f271e068e0e073b70909d5013608cf0">67f7f46</a></td><td><code>integrated modifications to composition. But an error remains in french_book.recequadiff tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b5227d6a85a540663aa138e8304a9055ba110fd">1b5227d</a></td><td><code>Error in french_book.recequadiff tests corrected</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/018d753eedd53686dfd4f086dfb7c20dda02b7e0">018d753</a></td><td><code>Merge branch 'develop' into t/23496/public/23496_patch_sympy_abstact_function</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94af74bb32f09a0b2d08b50e2ef34f22e8212d9f">94af74b</a></td><td><code>#23496 : (temp) revert order in rsolve recequadiff.tex test</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d76caea0b97af8769edf9a1064db9f7486232b1d">d76caea</a></td><td><code>#23496 : add message for change in doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bc21300122019b04a30dba02aaa2cd728ff7453f">bc21300</a></td><td><code>#23496 : fix a `_sympy_init_` doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0be1d909ba8dda133a45e08a4470951e0935092f">0be1d90</a></td><td><code>Merge branch 'public/23496_patch_sympy_abstract_function' into 22802_sympy_abstract_function</code></td></tr></table>




---

archive/issue_comments_407629.json:
```json
{
    "body": "**Changing commit** from \"[0be1d909ba8dda133a45e08a4470951e0935092f](https://github.com/sagemath/sagetrac-mirror/commit/0be1d909ba8dda133a45e08a4470951e0935092f)\" to \"[137d715abc54a1be4c53bcb329a91d848960a832](https://github.com/sagemath/sagetrac-mirror/commit/137d715abc54a1be4c53bcb329a91d848960a832)\".",
    "created_at": "2017-09-07T00:46:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407629",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[0be1d909ba8dda133a45e08a4470951e0935092f](https://github.com/sagemath/sagetrac-mirror/commit/0be1d909ba8dda133a45e08a4470951e0935092f)" to "[137d715abc54a1be4c53bcb329a91d848960a832](https://github.com/sagemath/sagetrac-mirror/commit/137d715abc54a1be4c53bcb329a91d848960a832)".



---

archive/issue_comments_407630.json:
```json
{
    "body": "<a id='comment:36'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a6cb0ae5ac351b1d2d946698ce668e511d4d176\">7a6cb0a</a></td><td><code>Merge branch 'public/22802_sympy_abstract_function' of git://trac.sagemath.org/sage into public/22802_sympy_abstract_function</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/137d715abc54a1be4c53bcb329a91d848960a832\">137d715</a></td><td><code>Trivial reviwer changes.</code></td></tr></table>\n",
    "created_at": "2017-09-07T00:46:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407630",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a6cb0ae5ac351b1d2d946698ce668e511d4d176">7a6cb0a</a></td><td><code>Merge branch 'public/22802_sympy_abstract_function' of git://trac.sagemath.org/sage into public/22802_sympy_abstract_function</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/137d715abc54a1be4c53bcb329a91d848960a832">137d715</a></td><td><code>Trivial reviwer changes.</code></td></tr></table>




---

archive/issue_comments_407631.json:
```json
{
    "body": "<a id='comment:37'></a>\nI did some trivial reviewer changes, but I am getting the same two real failures as on the patchbot:\n\n```\nsage -t src/sage/symbolic/expression_conversions.py\n**********************************************************************\nFile \"src/sage/symbolic/expression_conversions.py\", line 792, in sage.symbolic.expression_conversions.SympyConverter.derivative\nFailed example:\n    df_sympy = df_sage._sympy_(); df_sympy\nException raised:\n    Traceback (most recent call last):\n      File \"/home/travis/sage-build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 515, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/travis/sage-build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 885, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.symbolic.expression_conversions.SympyConverter.derivative[4]>\", line 1, in <module>\n        df_sympy = df_sage._sympy_(); df_sympy\n      File \"sage/symbolic/expression.pyx\", line 1445, in sage.symbolic.expression.Expression._sympy_ (/home/travis/sage-build/src/build/cythonized/sage/symbolic/expression.cpp:11785)\n        return sympy(self)\n      File \"/home/travis/sage-build/local/lib/python2.7/site-packages/sage/symbolic/expression_conversions.py\", line 222, in __call__\n        return self.derivative(ex, operator)\n      File \"/home/travis/sage-build/local/lib/python2.7/site-packages/sage/symbolic/expression_conversions.py\", line 815, in derivative\n        return f_sympy.diff(*sympy_arg)\n    AttributeError: 'NoneType' object has no attribute 'diff'\n**********************************************************************\nFile \"src/sage/symbolic/expression_conversions.py\", line 794, in sage.symbolic.expression_conversions.SympyConverter.derivative\nFailed example:\n    df_sympy == f_sympy.diff(x, 2, y, 1)\nException raised:\n    Traceback (most recent call last):\n      File \"/home/travis/sage-build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 515, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/travis/sage-build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 885, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.symbolic.expression_conversions.SympyConverter.derivative[5]>\", line 1, in <module>\n        df_sympy == f_sympy.diff(x, Integer(2), y, Integer(1))\n    NameError: name 'df_sympy' is not defined\n**********************************************************************\n1 item had failures:\n   2 of   7 in sage.symbolic.expression_conversions.SympyConverter.derivative\n    [489 tests, 2 failures, 2.37 s]\n----------------------------------------------------------------------\nsage -t src/sage/symbolic/expression_conversions.py  # 2 doctests failed\n----------------------------------------------------------------------\n```",
    "created_at": "2017-09-07T00:56:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407631",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:37'></a>
I did some trivial reviewer changes, but I am getting the same two real failures as on the patchbot:

```
sage -t src/sage/symbolic/expression_conversions.py
**********************************************************************
File "src/sage/symbolic/expression_conversions.py", line 792, in sage.symbolic.expression_conversions.SympyConverter.derivative
Failed example:
    df_sympy = df_sage._sympy_(); df_sympy
Exception raised:
    Traceback (most recent call last):
      File "/home/travis/sage-build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 515, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/travis/sage-build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 885, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.symbolic.expression_conversions.SympyConverter.derivative[4]>", line 1, in <module>
        df_sympy = df_sage._sympy_(); df_sympy
      File "sage/symbolic/expression.pyx", line 1445, in sage.symbolic.expression.Expression._sympy_ (/home/travis/sage-build/src/build/cythonized/sage/symbolic/expression.cpp:11785)
        return sympy(self)
      File "/home/travis/sage-build/local/lib/python2.7/site-packages/sage/symbolic/expression_conversions.py", line 222, in __call__
        return self.derivative(ex, operator)
      File "/home/travis/sage-build/local/lib/python2.7/site-packages/sage/symbolic/expression_conversions.py", line 815, in derivative
        return f_sympy.diff(*sympy_arg)
    AttributeError: 'NoneType' object has no attribute 'diff'
**********************************************************************
File "src/sage/symbolic/expression_conversions.py", line 794, in sage.symbolic.expression_conversions.SympyConverter.derivative
Failed example:
    df_sympy == f_sympy.diff(x, 2, y, 1)
Exception raised:
    Traceback (most recent call last):
      File "/home/travis/sage-build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 515, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/travis/sage-build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 885, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.symbolic.expression_conversions.SympyConverter.derivative[5]>", line 1, in <module>
        df_sympy == f_sympy.diff(x, Integer(2), y, Integer(1))
    NameError: name 'df_sympy' is not defined
**********************************************************************
1 item had failures:
   2 of   7 in sage.symbolic.expression_conversions.SympyConverter.derivative
    [489 tests, 2 failures, 2.37 s]
----------------------------------------------------------------------
sage -t src/sage/symbolic/expression_conversions.py  # 2 doctests failed
----------------------------------------------------------------------
```



---

archive/issue_comments_407632.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2017-09-07T00:56:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407632",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_events_067069.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-09-07T00:56:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "milestone": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22802#event-67069"
}
```



---

archive/issue_comments_407633.json:
```json
{
    "body": "**Changing commit** from \"[137d715abc54a1be4c53bcb329a91d848960a832](https://github.com/sagemath/sagetrac-mirror/commit/137d715abc54a1be4c53bcb329a91d848960a832)\" to \"[5a53e124d4bdf29e7d95fab9b2c5ae3f880a3083](https://github.com/sagemath/sagetrac-mirror/commit/5a53e124d4bdf29e7d95fab9b2c5ae3f880a3083)\".",
    "created_at": "2017-09-07T14:19:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407633",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[137d715abc54a1be4c53bcb329a91d848960a832](https://github.com/sagemath/sagetrac-mirror/commit/137d715abc54a1be4c53bcb329a91d848960a832)" to "[5a53e124d4bdf29e7d95fab9b2c5ae3f880a3083](https://github.com/sagemath/sagetrac-mirror/commit/5a53e124d4bdf29e7d95fab9b2c5ae3f880a3083)".



---

archive/issue_comments_407634.json:
```json
{
    "body": "<a id='comment:38'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5a53e124d4bdf29e7d95fab9b2c5ae3f880a3083\">5a53e12</a></td><td><code>Problem SympyConverter.composition: returned to previous implementation</code></td></tr></table>\n",
    "created_at": "2017-09-07T14:19:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407634",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5a53e124d4bdf29e7d95fab9b2c5ae3f880a3083">5a53e12</a></td><td><code>Problem SympyConverter.composition: returned to previous implementation</code></td></tr></table>




---

archive/issue_comments_407635.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2017-09-07T15:39:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407635",
    "user": "https://github.com/man74cio"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_407636.json:
```json
{
    "body": "<a id='comment:40'></a>\nI do not get any of the errors reported by the patchbot. Positive review.",
    "created_at": "2017-09-08T22:30:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407636",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:40'></a>
I do not get any of the errors reported by the patchbot. Positive review.



---

archive/issue_comments_407637.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2017-09-08T22:30:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407637",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_407638.json:
```json
{
    "body": "<a id='comment:41'></a>\nthere is at least a merge conflict with its dependency, introduced in \u200b5a53e12",
    "created_at": "2017-09-09T07:16:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407638",
    "user": "https://github.com/mforets"
}
```

<a id='comment:41'></a>
there is at least a merge conflict with its dependency, introduced in 5a53e12



---

archive/issue_comments_407639.json:
```json
{
    "body": "<a id='comment:42'></a>\nThis is already based on the branch on #23496.",
    "created_at": "2017-09-09T14:43:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407639",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:42'></a>
This is already based on the branch on #23496.



---

archive/issue_comments_407640.json:
```json
{
    "body": "<a id='comment:43'></a>\nthe branches do have different code for `composition` (since commit \u200b5a53e12 came after the merge). \n\nanyway, sorry for my confusion. i didn't realize that it will just overwrite the code in the dependency, but without merge conflict,\n\n```\n$ git checkout t/22802/public/22802_sympy_abstract_function\nSwitched to branch 't/22802/public/22802_sympy_abstract_function'\nYour branch is up-to-date with 'trac/public/22802_sympy_abstract_function'.\n$ git merge t/23496/public/23496_patch_sympy_abstract_function\nAlready up-to-date. \n```",
    "created_at": "2017-09-09T15:12:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407640",
    "user": "https://github.com/mforets"
}
```

<a id='comment:43'></a>
the branches do have different code for `composition` (since commit 5a53e12 came after the merge). 

anyway, sorry for my confusion. i didn't realize that it will just overwrite the code in the dependency, but without merge conflict,

```
$ git checkout t/22802/public/22802_sympy_abstract_function
Switched to branch 't/22802/public/22802_sympy_abstract_function'
Your branch is up-to-date with 'trac/public/22802_sympy_abstract_function'.
$ git merge t/23496/public/23496_patch_sympy_abstract_function
Already up-to-date. 
```



---

archive/issue_comments_407641.json:
```json
{
    "body": "<a id='comment:44'></a>\nI had remove the changes in composition because it caused problems in this branch and it was not influent in #23496",
    "created_at": "2017-09-09T15:30:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407641",
    "user": "https://github.com/man74cio"
}
```

<a id='comment:44'></a>
I had remove the changes in composition because it caused problems in this branch and it was not influent in #23496



---

archive/issue_comments_407642.json:
```json
{
    "body": "**Changing branch** from \"[public/22802_sympy_abstract_function](https://github.com/sagemath/sagetrac-mirror/tree/public/22802_sympy_abstract_function)\" to \"[5a53e124d4bdf29e7d95fab9b2c5ae3f880a3083](https://github.com/sagemath/sagetrac-mirror/commit/5a53e124d4bdf29e7d95fab9b2c5ae3f880a3083)\".",
    "created_at": "2017-09-10T22:05:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22802#issuecomment-407642",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/22802_sympy_abstract_function](https://github.com/sagemath/sagetrac-mirror/tree/public/22802_sympy_abstract_function)" to "[5a53e124d4bdf29e7d95fab9b2c5ae3f880a3083](https://github.com/sagemath/sagetrac-mirror/commit/5a53e124d4bdf29e7d95fab9b2c5ae3f880a3083)".



---

archive/issue_events_067070.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-09-10T22:05:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22802",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22802#event-67070"
}
```
