# Issue 22225: LatticePoset: add quotient lattice

archive/issues_021988.json:
```json
{
    "assignees": [],
    "body": "This patch will add a function to compute the quotient lattice.\n\nAlso contains a parameter name change for `sublattices_lattice()`.\n\n\nCC:  @mantepse\n\nBranch/Commit: **[eed7b74](https://github.com/sagemath/sagetrac-mirror/commit/eed7b7464b6d78badc5c73bf2676abeee401917d)**\n\nReviewer: **Martin Rubey**\n\nAuthor: **Jori M\u00e4ntysalo, Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/22225_\n\n",
    "closed_at": "2017-02-14T18:58:55Z",
    "created_at": "2017-01-21T19:00:03Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "LatticePoset: add quotient lattice",
    "type": "issue",
    "updated_at": "2017-02-14T18:58:55Z",
    "url": "https://github.com/sagemath/sage/issues/22225",
    "user": "https://github.com/jm58660"
}
```
This patch will add a function to compute the quotient lattice.

Also contains a parameter name change for `sublattices_lattice()`.


CC:  @mantepse

Branch/Commit: **[eed7b74](https://github.com/sagemath/sagetrac-mirror/commit/eed7b7464b6d78badc5c73bf2676abeee401917d)**

Reviewer: **Martin Rubey**

Author: **Jori MÃ¤ntysalo, Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/22225_





---

archive/issue_events_293232.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-01-21T19:00:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "milestone_number": null,
    "milestone_title": "sage-7.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22225#event-293232"
}
```



---

archive/issue_events_293233.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-01-21T19:00:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22225#event-293233"
}
```



---

archive/issue_events_293234.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-01-21T19:00:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22225#event-293234"
}
```



---

archive/issue_events_293235.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-01-21T19:00:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22225#event-293235"
}
```



---

archive/issue_comments_331151.json:
```json
{
    "body": "Branch: **[u/jmantysalo/quotient-lattice](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/quotient-lattice)**",
    "created_at": "2017-01-21T19:01:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331151",
    "user": "https://github.com/jm58660"
}
```

Branch: **[u/jmantysalo/quotient-lattice](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/quotient-lattice)**



---

archive/issue_comments_331152.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nMartin, you reviewed #20058 and so may be interested in this too. The code should work, but I am currently compiling it on a slow machine.\n\nWhat you think about function name, parameter names and examples? I am not very satisfied, but don't know what would be better.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/403214b37d2ba32b0d4bb78640560c7af15fb756\">403214b</a></td><td><code>Add quotient().</code></td></tr></table>\n",
    "created_at": "2017-01-21T19:04:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331152",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:2" align="right">Comment 2</div>

Martin, you reviewed #20058 and so may be interested in this too. The code should work, but I am currently compiling it on a slow machine.

What you think about function name, parameter names and examples? I am not very satisfied, but don't know what would be better.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/403214b37d2ba32b0d4bb78640560c7af15fb756">403214b</a></td><td><code>Add quotient().</code></td></tr></table>




---

archive/issue_comments_331153.json:
```json
{
    "body": "Commit: **[403214b](https://github.com/sagemath/sagetrac-mirror/commit/403214b37d2ba32b0d4bb78640560c7af15fb756)**",
    "created_at": "2017-01-21T19:04:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331153",
    "user": "https://github.com/jm58660"
}
```

Commit: **[403214b](https://github.com/sagemath/sagetrac-mirror/commit/403214b37d2ba32b0d4bb78640560c7af15fb756)**



---

archive/issue_comments_331154.json:
```json
{
    "body": "Changed commit from **[403214b](https://github.com/sagemath/sagetrac-mirror/commit/403214b37d2ba32b0d4bb78640560c7af15fb756)** to **[0cb8975](https://github.com/sagemath/sagetrac-mirror/commit/0cb8975a897e8a96380d7470cbd8883205a4c47c)**",
    "created_at": "2017-01-22T06:37:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331154",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[403214b](https://github.com/sagemath/sagetrac-mirror/commit/403214b37d2ba32b0d4bb78640560c7af15fb756)** to **[0cb8975](https://github.com/sagemath/sagetrac-mirror/commit/0cb8975a897e8a96380d7470cbd8883205a4c47c)**



---

archive/issue_comments_331155.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0cb8975a897e8a96380d7470cbd8883205a4c47c\">0cb8975</a></td><td><code>Doctest error.</code></td></tr></table>\n",
    "created_at": "2017-01-22T06:37:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331155",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3" align="right">Comment 3</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0cb8975a897e8a96380d7470cbd8883205a4c47c">0cb8975</a></td><td><code>Doctest error.</code></td></tr></table>




---

archive/issue_events_293236.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-01-22T07:41:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22225#event-293236"
}
```



---

archive/issue_comments_331156.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\n* I think you should specify the possibilities for `element_constructor` in the docstring.\n\n* it might be nice to show an example using the `FiniteLatticePoset.congruence` method.\n\n* why aren't you satisfied with the names?",
    "created_at": "2017-01-22T08:23:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331156",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:5" align="right">Comment 5</div>

* I think you should specify the possibilities for `element_constructor` in the docstring.

* it might be nice to show an example using the `FiniteLatticePoset.congruence` method.

* why aren't you satisfied with the names?



---

archive/issue_comments_331157.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nReplying to [@mantepse](#comment%3A5):\n> * I think you should specify the possibilities for `element_constructor` in the docstring.\n\nTrue. I'll do.\n\n> * it might be nice to show an example using the `FiniteLatticePoset.congruence` method.\n\n?? All examples are done with that. Actually this `quotient()` function makes no sense alone.\n\n> * why aren't you satisfied with the names?\n\nShould `element_constructor` be `element_labels`? Should I have `C` or `T` (from `\\Theta`) as first parameter? `'integer'` or `'integers'`? I feel that there is no natural and clear naming. Might be because I don't write in my native language.",
    "created_at": "2017-01-22T08:33:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331157",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:6" align="right">Comment 6</div>

Replying to [@mantepse](#comment%3A5):
> * I think you should specify the possibilities for `element_constructor` in the docstring.

True. I'll do.

> * it might be nice to show an example using the `FiniteLatticePoset.congruence` method.

?? All examples are done with that. Actually this `quotient()` function makes no sense alone.

> * why aren't you satisfied with the names?

Should `element_constructor` be `element_labels`? Should I have `C` or `T` (from `\Theta`) as first parameter? `'integer'` or `'integers'`? I feel that there is no natural and clear naming. Might be because I don't write in my native language.



---

archive/issue_comments_331158.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nReplying to [@jm58660](#comment%3A6):\n> Replying to [@mantepse](#comment%3A5):\n\n> > * it might be nice to show an example using the `FiniteLatticePoset.congruence` method.\n\n> \n> ?? All examples are done with that. Actually this `quotient()` function makes no sense alone.\n\nI'm sorry, I must have been blind.  Please excuse me.",
    "created_at": "2017-01-22T09:09:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331158",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:7" align="right">Comment 7</div>

Replying to [@jm58660](#comment%3A6):
> Replying to [@mantepse](#comment%3A5):

> > * it might be nice to show an example using the `FiniteLatticePoset.congruence` method.

> 
> ?? All examples are done with that. Actually this `quotient()` function makes no sense alone.

I'm sorry, I must have been blind.  Please excuse me.



---

archive/issue_comments_331159.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f62781ed2f27c0c5f9416abe0b094c6bcd16f1cd\">f62781e</a></td><td><code>Reformat INPUT.</code></td></tr></table>\n",
    "created_at": "2017-01-22T09:47:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331159",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8" align="right">Comment 8</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f62781ed2f27c0c5f9416abe0b094c6bcd16f1cd">f62781e</a></td><td><code>Reformat INPUT.</code></td></tr></table>




---

archive/issue_comments_331160.json:
```json
{
    "body": "Changed commit from **[0cb8975](https://github.com/sagemath/sagetrac-mirror/commit/0cb8975a897e8a96380d7470cbd8883205a4c47c)** to **[f62781e](https://github.com/sagemath/sagetrac-mirror/commit/f62781ed2f27c0c5f9416abe0b094c6bcd16f1cd)**",
    "created_at": "2017-01-22T09:47:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331160",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0cb8975](https://github.com/sagemath/sagetrac-mirror/commit/0cb8975a897e8a96380d7470cbd8883205a4c47c)** to **[f62781e](https://github.com/sagemath/sagetrac-mirror/commit/f62781ed2f27c0c5f9416abe0b094c6bcd16f1cd)**



---

archive/issue_comments_331161.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nIs it \"quotient by congruence\" or \"quotient of congruence\" or something else?",
    "created_at": "2017-01-22T09:55:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331161",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:9" align="right">Comment 9</div>

Is it "quotient by congruence" or "quotient of congruence" or something else?



---

archive/issue_comments_331162.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nMore comments for this one?",
    "created_at": "2017-01-29T14:04:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331162",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:10" align="right">Comment 10</div>

More comments for this one?



---

archive/issue_comments_331163.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nI would change the docstring to\n\n```\n        Return the quotient lattice by ``congruence``.\n\n        Let `L` be a lattice and `\\Theta` be a congruence of `L` with\n        congurence classes `\\Theta_1, \\Theta_2, \\ldots`. The quotient\n        lattice `L/\\Theta` is the lattice with elements\n        `\\{\\Theta_1, \\Theta_2, \\ldots\\}` and meet and join given by the\n        original lattice. Explicitly, if `e_1 \\in \\Theta_1` and\n        `e_2 \\in \\Theta_2`, such that `e_1 \\vee e_2 \\in \\Theta_3` then\n        `\\Theta_1 \\vee \\Theta_2 = \\Theta_3` in `L/\\Theta` and similarly\n        for meets.\n\n        INPUT:\n\n        - ``congruence`` -- list of lists; a congruence\n\n        - ``element_constructor`` -- string; the elements of the resulting\n          lattice and can be one of the following:\n\n          * ``'tuple'`` - elements are tuples of elements of the original\n            lattice\n          * ``'lattice'`` - elements are sublattices of the original lattice\n          * ``'integer'`` - elements are labeled by integers\n\n        .. WARNING::\n\n            ``congruence`` is expected to be a valid congruence of the\n            lattice. This is *not* checked.\n```\nI would also change `element_constructor` to `element_labels` as the former suggests it allows a function valid input.",
    "created_at": "2017-01-29T14:35:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331163",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:11" align="right">Comment 11</div>

I would change the docstring to

```
        Return the quotient lattice by ``congruence``.

        Let `L` be a lattice and `\Theta` be a congruence of `L` with
        congurence classes `\Theta_1, \Theta_2, \ldots`. The quotient
        lattice `L/\Theta` is the lattice with elements
        `\{\Theta_1, \Theta_2, \ldots\}` and meet and join given by the
        original lattice. Explicitly, if `e_1 \in \Theta_1` and
        `e_2 \in \Theta_2`, such that `e_1 \vee e_2 \in \Theta_3` then
        `\Theta_1 \vee \Theta_2 = \Theta_3` in `L/\Theta` and similarly
        for meets.

        INPUT:

        - ``congruence`` -- list of lists; a congruence

        - ``element_constructor`` -- string; the elements of the resulting
          lattice and can be one of the following:

          * ``'tuple'`` - elements are tuples of elements of the original
            lattice
          * ``'lattice'`` - elements are sublattices of the original lattice
          * ``'integer'`` - elements are labeled by integers

        .. WARNING::

            ``congruence`` is expected to be a valid congruence of the
            lattice. This is *not* checked.
```
I would also change `element_constructor` to `element_labels` as the former suggests it allows a function valid input.



---

archive/issue_comments_331164.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nI would like to have as few `WARNING`s as possible. Can we avoid that by requiring the input to be of type SetPartition? And/or `rename()` the set partition given by `congruence()`? Then the user would really need to break things to get an error.\n\nOr do we break something if we just put extra value `._congruence_base_lattice` pointing to the lattice to a `SetPartition`-object? Of course that would cost some extra bytes for every congruence.",
    "created_at": "2017-01-30T06:58:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331164",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:12" align="right">Comment 12</div>

I would like to have as few `WARNING`s as possible. Can we avoid that by requiring the input to be of type SetPartition? And/or `rename()` the set partition given by `congruence()`? Then the user would really need to break things to get an error.

Or do we break something if we just put extra value `._congruence_base_lattice` pointing to the lattice to a `SetPartition`-object? Of course that would cost some extra bytes for every congruence.



---

archive/issue_comments_331165.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nReplying to [@jm58660](#comment%3A12):\n> I would like to have as few `WARNING`s as possible.\n\nThen you need to check that your input is a valid congruence.\n\n> Can we avoid that by requiring the input to be of type SetPartition? And/or `rename()` the set partition given by `congruence()`? Then the user would really need to break things to get an error.\n\nI don't see anything in the code that assumes it is an instance of `SetPartition`. So I don't understand what you're trying to get at here. Although I suspect it is not the issue.\n\n> Or do we break something if we just put extra value `._congruence_base_lattice` pointing to the lattice to a `SetPartition`-object? Of course that would cost some extra bytes for every congruence.\n\nI'm not sure what you mean here.",
    "created_at": "2017-01-30T15:37:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331165",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:13" align="right">Comment 13</div>

Replying to [@jm58660](#comment%3A12):
> I would like to have as few `WARNING`s as possible.

Then you need to check that your input is a valid congruence.

> Can we avoid that by requiring the input to be of type SetPartition? And/or `rename()` the set partition given by `congruence()`? Then the user would really need to break things to get an error.

I don't see anything in the code that assumes it is an instance of `SetPartition`. So I don't understand what you're trying to get at here. Although I suspect it is not the issue.

> Or do we break something if we just put extra value `._congruence_base_lattice` pointing to the lattice to a `SetPartition`-object? Of course that would cost some extra bytes for every congruence.

I'm not sure what you mean here.



---

archive/issue_comments_331166.json:
```json
{
    "body": "Changed commit from **[f62781e](https://github.com/sagemath/sagetrac-mirror/commit/f62781ed2f27c0c5f9416abe0b094c6bcd16f1cd)** to **[d417c51](https://github.com/sagemath/sagetrac-mirror/commit/d417c514e963de8b96611a6f5fcd606c4a099f25)**",
    "created_at": "2017-01-30T19:18:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331166",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f62781e](https://github.com/sagemath/sagetrac-mirror/commit/f62781ed2f27c0c5f9416abe0b094c6bcd16f1cd)** to **[d417c51](https://github.com/sagemath/sagetrac-mirror/commit/d417c514e963de8b96611a6f5fcd606c4a099f25)**



---

archive/issue_comments_331167.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d417c514e963de8b96611a6f5fcd606c4a099f25\">d417c51</a></td><td><code>Example for a check.</code></td></tr></table>\n",
    "created_at": "2017-01-30T19:18:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331167",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14" align="right">Comment 14</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d417c514e963de8b96611a6f5fcd606c4a099f25">d417c51</a></td><td><code>Example for a check.</code></td></tr></table>




---

archive/issue_comments_331168.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nReplying to [@tscrim](#comment%3A13):\n> I'm not sure what you mean here.\n\nI made a PoC, see the code.\n\nAs currently `LatticePoset` is never deallocated, it does not hurt more to have an extra pointer for it. But of course this will still eat some bytes.",
    "created_at": "2017-01-30T19:20:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331168",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:15" align="right">Comment 15</div>

Replying to [@tscrim](#comment%3A13):
> I'm not sure what you mean here.

I made a PoC, see the code.

As currently `LatticePoset` is never deallocated, it does not hurt more to have an extra pointer for it. But of course this will still eat some bytes.



---

archive/issue_comments_331169.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nThat is going to fail in an extremely subtle way if the user passes in something constructed from `congruence` and then the \"same\" set partition constructed directly. It is also completely unnecessary by how you are handling the input.\n\nIf you want a check, then you need to check that it satisfies the properties of being a congruence (I would also then add an extra argument `check=True` to have the option of turning this off). Otherwise it needs to be a `.. WARNING::`.",
    "created_at": "2017-01-31T15:07:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331169",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:16" align="right">Comment 16</div>

That is going to fail in an extremely subtle way if the user passes in something constructed from `congruence` and then the "same" set partition constructed directly. It is also completely unnecessary by how you are handling the input.

If you want a check, then you need to check that it satisfies the properties of being a congruence (I would also then add an extra argument `check=True` to have the option of turning this off). Otherwise it needs to be a `.. WARNING::`.



---

archive/issue_comments_331170.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nReplying to [@tscrim](#comment%3A16):\n> That is going to fail in an extremely subtle way if the user passes in something constructed from `congruence` and then the \"same\" set partition constructed directly.\n\n?? With this PoC:\n\n```\nsage: L1 = Posets.BooleanLattice(3)\nsage: L2 = L1.relabel(lambda x: 7-x)\nsage: c = L1.congruence([[0, 1]])\nsage: L2.quotient(c)\n\n. . . ValueError: AAARghsss!\n```\n\nBut OK, I'll change the docstring.",
    "created_at": "2017-02-01T20:34:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331170",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:17" align="right">Comment 17</div>

Replying to [@tscrim](#comment%3A16):
> That is going to fail in an extremely subtle way if the user passes in something constructed from `congruence` and then the "same" set partition constructed directly.

?? With this PoC:

```
sage: L1 = Posets.BooleanLattice(3)
sage: L2 = L1.relabel(lambda x: 7-x)
sage: c = L1.congruence([[0, 1]])
sage: L2.quotient(c)

. . . ValueError: AAARghsss!
```

But OK, I'll change the docstring.



---

archive/issue_comments_331171.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nThe problem is if they pass in the \"same\" set partition for the congruence but not created by `L1.congruence`:\n\n```\nsage: L1 = Posets.BooleanLattice(3)\nsage: c = L1.congruence([[0, 1]]); c\n{{0, 1}, {2, 3}, {4, 5}, {6, 7}}\nsage: L1.quotient(c)\nFinite lattice containing 4 elements\nsage: c2 = SetPartition([[0,1], [2,3], [4,5], [6,7]])\nsage: c == c2\nTrue\nsage: L1.quotient(c2)\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n...\nAttributeError: 'SetPartitions_all_with_category.element_class' object has no attribute '_congruence_base_lattice'\n```",
    "created_at": "2017-02-02T00:31:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331171",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:18" align="right">Comment 18</div>

The problem is if they pass in the "same" set partition for the congruence but not created by `L1.congruence`:

```
sage: L1 = Posets.BooleanLattice(3)
sage: c = L1.congruence([[0, 1]]); c
{{0, 1}, {2, 3}, {4, 5}, {6, 7}}
sage: L1.quotient(c)
Finite lattice containing 4 elements
sage: c2 = SetPartition([[0,1], [2,3], [4,5], [6,7]])
sage: c == c2
True
sage: L1.quotient(c2)
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
...
AttributeError: 'SetPartitions_all_with_category.element_class' object has no attribute '_congruence_base_lattice'
```



---

archive/issue_comments_331172.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nReplying to [@tscrim](#comment%3A18):\n> The problem is if they pass in the \"same\" set partition for the congruence but not created by `L1.congruence`:\n> \n> ```\n> sage: c == c2\n> True\n> ```\n\nOK, I understand. So to avoid warning we should have a specific class (inherited from `SetPartition`), but that's too much. If we only change `name` on result from `congruence` it would help too little.\n\nI'll do docstring modification.",
    "created_at": "2017-02-02T04:49:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331172",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:19" align="right">Comment 19</div>

Replying to [@tscrim](#comment%3A18):
> The problem is if they pass in the "same" set partition for the congruence but not created by `L1.congruence`:
> 
> ```
> sage: c == c2
> True
> ```

OK, I understand. So to avoid warning we should have a specific class (inherited from `SetPartition`), but that's too much. If we only change `name` on result from `congruence` it would help too little.

I'll do docstring modification.



---

archive/issue_comments_331173.json:
```json
{
    "body": "Changed commit from **[d417c51](https://github.com/sagemath/sagetrac-mirror/commit/d417c514e963de8b96611a6f5fcd606c4a099f25)** to **[6c56122](https://github.com/sagemath/sagetrac-mirror/commit/6c561226d8ada45f52a07e8f1402f981d8690852)**",
    "created_at": "2017-02-02T08:36:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331173",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d417c51](https://github.com/sagemath/sagetrac-mirror/commit/d417c514e963de8b96611a6f5fcd606c4a099f25)** to **[6c56122](https://github.com/sagemath/sagetrac-mirror/commit/6c561226d8ada45f52a07e8f1402f981d8690852)**



---

archive/issue_comments_331174.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c561226d8ada45f52a07e8f1402f981d8690852\">6c56122</a></td><td><code>Docstring: Add warning section.</code></td></tr></table>\n",
    "created_at": "2017-02-02T08:36:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331174",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20" align="right">Comment 20</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c561226d8ada45f52a07e8f1402f981d8690852">6c56122</a></td><td><code>Docstring: Add warning section.</code></td></tr></table>




---

archive/issue_comments_331175.json:
```json
{
    "body": "Changed author from **Jori M\u00e4ntysalo** to **Jori M\u00e4ntysalo, Travis Scrimshaw**",
    "created_at": "2017-02-02T08:50:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331175",
    "user": "https://github.com/jm58660"
}
```

Changed author from **Jori MÃ¤ntysalo** to **Jori MÃ¤ntysalo, Travis Scrimshaw**



---

archive/issue_events_293237.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-02-02T08:50:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22225#event-293237"
}
```



---

archive/issue_events_293238.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-02-02T08:50:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22225#event-293238"
}
```



---

archive/issue_comments_331176.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nAdded Travis to author, as I took the docstring from him.\n\nReplying to [@tscrim](#comment%3A11):\n\n> I would also change `element_constructor` to `element_labels` as the former suggests it allows a function valid input.\n\nHmm... `vertical_composition` has `labels`, `sublattices_lattice` has `element_constructor`. On posets `disjoint_union` etc. has `labels`. OTOH `with_bounds` have `labels` with different meaning. Only `antichains` and `chains` use `element_constructor`.\n\nBut yes, I think `labels` is best one. Martin, comments on this?",
    "created_at": "2017-02-02T08:50:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331176",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:21" align="right">Comment 21</div>

Added Travis to author, as I took the docstring from him.

Replying to [@tscrim](#comment%3A11):

> I would also change `element_constructor` to `element_labels` as the former suggests it allows a function valid input.

Hmm... `vertical_composition` has `labels`, `sublattices_lattice` has `element_constructor`. On posets `disjoint_union` etc. has `labels`. OTOH `with_bounds` have `labels` with different meaning. Only `antichains` and `chains` use `element_constructor`.

But yes, I think `labels` is best one. Martin, comments on this?



---

archive/issue_comments_331177.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nI second `labels`.",
    "created_at": "2017-02-02T15:31:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331177",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:22" align="right">Comment 22</div>

I second `labels`.



---

archive/issue_comments_331178.json:
```json
{
    "body": "Changed commit from **[6c56122](https://github.com/sagemath/sagetrac-mirror/commit/6c561226d8ada45f52a07e8f1402f981d8690852)** to **[1041862](https://github.com/sagemath/sagetrac-mirror/commit/10418620250740695ceb43893c2c74ab1460fb48)**",
    "created_at": "2017-02-03T07:32:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331178",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6c56122](https://github.com/sagemath/sagetrac-mirror/commit/6c561226d8ada45f52a07e8f1402f981d8690852)** to **[1041862](https://github.com/sagemath/sagetrac-mirror/commit/10418620250740695ceb43893c2c74ab1460fb48)**



---

archive/issue_comments_331179.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/10418620250740695ceb43893c2c74ab1460fb48\">1041862</a></td><td><code>Change parameter name.</code></td></tr></table>\n",
    "created_at": "2017-02-03T07:32:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331179",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23" align="right">Comment 23</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/10418620250740695ceb43893c2c74ab1460fb48">1041862</a></td><td><code>Change parameter name.</code></td></tr></table>




---

archive/issue_comments_331180.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,4 @@\n This patch will add a function to compute the quotient lattice.\n \n+Also contains a parameter name change for `sublattices_lattice()`.\n+\n``````\n",
    "created_at": "2017-02-03T07:34:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331180",
    "user": "https://github.com/jm58660"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,4 @@
 This patch will add a function to compute the quotient lattice.
 
+Also contains a parameter name change for `sublattices_lattice()`.
+
``````




---

archive/issue_events_293239.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-02-03T07:34:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22225#event-293239"
}
```



---

archive/issue_events_293240.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-02-03T07:34:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22225#event-293240"
}
```



---

archive/issue_comments_331181.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nMaybe we can go with this.",
    "created_at": "2017-02-03T07:34:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331181",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:24" align="right">Comment 24</div>

Maybe we can go with this.



---

archive/issue_comments_331182.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nI have no time to check this properly, but I think `labels` is good - that's also what `GenericGraph.disjoint_union` uses.",
    "created_at": "2017-02-05T21:03:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331182",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:25" align="right">Comment 25</div>

I have no time to check this properly, but I think `labels` is good - that's also what `GenericGraph.disjoint_union` uses.



---

archive/issue_comments_331183.json:
```json
{
    "body": "Changed commit from **[1041862](https://github.com/sagemath/sagetrac-mirror/commit/10418620250740695ceb43893c2c74ab1460fb48)** to **[2e5cc67](https://github.com/sagemath/sagetrac-mirror/commit/2e5cc67970d0b44bf57cd8d2ee18479184ca1fbe)**",
    "created_at": "2017-02-11T05:59:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331183",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1041862](https://github.com/sagemath/sagetrac-mirror/commit/10418620250740695ceb43893c2c74ab1460fb48)** to **[2e5cc67](https://github.com/sagemath/sagetrac-mirror/commit/2e5cc67970d0b44bf57cd8d2ee18479184ca1fbe)**



---

archive/issue_comments_331184.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e5cc67970d0b44bf57cd8d2ee18479184ca1fbe\">2e5cc67</a></td><td><code>Resolved merge conflict.</code></td></tr></table>\n",
    "created_at": "2017-02-11T05:59:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331184",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26" align="right">Comment 26</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e5cc67970d0b44bf57cd8d2ee18479184ca1fbe">2e5cc67</a></td><td><code>Resolved merge conflict.</code></td></tr></table>




---

archive/issue_comments_331185.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nThere was a merge conflict because of added `import six`. Should work now.\n\nI think that we are now close to have all basic functionality relating to lattice congruences. Subdirect decomposition should be easy after this and some other tickets are closed.",
    "created_at": "2017-02-11T06:05:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331185",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:27" align="right">Comment 27</div>

There was a merge conflict because of added `import six`. Should work now.

I think that we are now close to have all basic functionality relating to lattice congruences. Subdirect decomposition should be easy after this and some other tickets are closed.



---

archive/issue_comments_331186.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nI suspect the doctest in `src/sage/misc/rest_index_of_methods.py` will (still) fail. The number 55 just needs to be bumped slightly.",
    "created_at": "2017-02-11T15:17:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331186",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:28" align="right">Comment 28</div>

I suspect the doctest in `src/sage/misc/rest_index_of_methods.py` will (still) fail. The number 55 just needs to be bumped slightly.



---

archive/issue_comments_331187.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d0c148a6d9eb7eb00a9ff99f85c16de959ab401\">2d0c148</a></td><td><code>Increase limit for Sphinx hack.</code></td></tr></table>\n",
    "created_at": "2017-02-12T06:25:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331187",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29" align="right">Comment 29</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d0c148a6d9eb7eb00a9ff99f85c16de959ab401">2d0c148</a></td><td><code>Increase limit for Sphinx hack.</code></td></tr></table>




---

archive/issue_comments_331188.json:
```json
{
    "body": "Changed commit from **[2e5cc67](https://github.com/sagemath/sagetrac-mirror/commit/2e5cc67970d0b44bf57cd8d2ee18479184ca1fbe)** to **[2d0c148](https://github.com/sagemath/sagetrac-mirror/commit/2d0c148a6d9eb7eb00a9ff99f85c16de959ab401)**",
    "created_at": "2017-02-12T06:25:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331188",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2e5cc67](https://github.com/sagemath/sagetrac-mirror/commit/2e5cc67970d0b44bf57cd8d2ee18479184ca1fbe)** to **[2d0c148](https://github.com/sagemath/sagetrac-mirror/commit/2d0c148a6d9eb7eb00a9ff99f85c16de959ab401)**



---

archive/issue_comments_331189.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nReplying to [@tscrim](#comment%3A28):\n> I suspect the doctest in `src/sage/misc/rest_index_of_methods.py` will (still) fail. The number 55 just needs to be bumped slightly.\n\nOK, I increased it from 55 to 65.",
    "created_at": "2017-02-12T06:27:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331189",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:30" align="right">Comment 30</div>

Replying to [@tscrim](#comment%3A28):
> I suspect the doctest in `src/sage/misc/rest_index_of_methods.py` will (still) fail. The number 55 just needs to be bumped slightly.

OK, I increased it from 55 to 65.



---

archive/issue_comments_331190.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nA typo in the docstring: \"congurence\" should be \"congruence\".",
    "created_at": "2017-02-12T10:59:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331190",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:31" align="right">Comment 31</div>

A typo in the docstring: "congurence" should be "congruence".



---

archive/issue_comments_331191.json:
```json
{
    "body": "Changed commit from **[2d0c148](https://github.com/sagemath/sagetrac-mirror/commit/2d0c148a6d9eb7eb00a9ff99f85c16de959ab401)** to **[eed7b74](https://github.com/sagemath/sagetrac-mirror/commit/eed7b7464b6d78badc5c73bf2676abeee401917d)**",
    "created_at": "2017-02-12T11:36:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331191",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2d0c148](https://github.com/sagemath/sagetrac-mirror/commit/2d0c148a6d9eb7eb00a9ff99f85c16de959ab401)** to **[eed7b74](https://github.com/sagemath/sagetrac-mirror/commit/eed7b7464b6d78badc5c73bf2676abeee401917d)**



---

archive/issue_comments_331192.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eed7b7464b6d78badc5c73bf2676abeee401917d\">eed7b74</a></td><td><code>Typo correction.</code></td></tr></table>\n",
    "created_at": "2017-02-12T11:36:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331192",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32" align="right">Comment 32</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eed7b7464b6d78badc5c73bf2676abeee401917d">eed7b74</a></td><td><code>Typo correction.</code></td></tr></table>




---

archive/issue_comments_331193.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\nReplying to [@mantepse](#comment%3A31):\n> A typo in the docstring: \"congurence\" should be \"congruence\".\n\nCorrected.",
    "created_at": "2017-02-12T11:56:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331193",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:33" align="right">Comment 33</div>

Replying to [@mantepse](#comment%3A31):
> A typo in the docstring: "congurence" should be "congruence".

Corrected.



---

archive/issue_comments_331194.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\nLooks good.  Here is a test you might enjoy:\n\n```\nsage: n=6\nsage: d = {pi: pi.inverse().descents(from_zero=False) for pi in Permutations(n)}\nsage: C = [[pi for pi in d if d[pi]==des] for des in d.values()]\nsage: L = LatticePoset(Posets.SymmetricGroupWeakOrderPoset(n))\nsage: M = L.quotient(L.congruence(C))\nsage: M.is_isomorphic(Posets.BooleanLattice(n-1))\nTrue\n```\n\nUnfortunately, this won't work out of the box, because `Posets.SymmetricGroupWeakOrderPoset(n)` creates strange labels.  Also it should be possible to replace `L.congruence(C)` with just `SetPartition(C)`, but there is a bug (#22361).\n\nAnyway, I think this is great!",
    "created_at": "2017-02-12T14:06:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331194",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:34" align="right">Comment 34</div>

Looks good.  Here is a test you might enjoy:

```
sage: n=6
sage: d = {pi: pi.inverse().descents(from_zero=False) for pi in Permutations(n)}
sage: C = [[pi for pi in d if d[pi]==des] for des in d.values()]
sage: L = LatticePoset(Posets.SymmetricGroupWeakOrderPoset(n))
sage: M = L.quotient(L.congruence(C))
sage: M.is_isomorphic(Posets.BooleanLattice(n-1))
True
```

Unfortunately, this won't work out of the box, because `Posets.SymmetricGroupWeakOrderPoset(n)` creates strange labels.  Also it should be possible to replace `L.congruence(C)` with just `SetPartition(C)`, but there is a bug (#22361).

Anyway, I think this is great!



---

archive/issue_comments_331195.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\n(I cannot build the documentation here in reasonable time, because my computer is too small. Can I set it to positive review anyway?)",
    "created_at": "2017-02-12T14:07:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331195",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:35" align="right">Comment 35</div>

(I cannot build the documentation here in reasonable time, because my computer is too small. Can I set it to positive review anyway?)



---

archive/issue_comments_331196.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\nReplying to [@mantepse](#comment%3A35):\n> (I cannot build the documentation here in reasonable time, because my computer is too small. Can I set it to positive review anyway?)\n\nIf you are unsure, you can check patchbot log, see docbuild-module. As the last version was OK, and I only changed one typo, I think you can set this to positive review.",
    "created_at": "2017-02-12T14:21:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331196",
    "user": "https://github.com/jm58660"
}
```

<div id="comment:36" align="right">Comment 36</div>

Replying to [@mantepse](#comment%3A35):
> (I cannot build the documentation here in reasonable time, because my computer is too small. Can I set it to positive review anyway?)

If you are unsure, you can check patchbot log, see docbuild-module. As the last version was OK, and I only changed one typo, I think you can set this to positive review.



---

archive/issue_events_293241.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2017-02-12T14:37:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22225#event-293241"
}
```



---

archive/issue_events_293242.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2017-02-12T14:37:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22225#event-293242"
}
```



---

archive/issue_comments_331197.json:
```json
{
    "body": "Reviewer: **Martin Rubey**",
    "created_at": "2017-02-12T18:53:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331197",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Martin Rubey**



---

archive/issue_events_293243.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-02-14T18:58:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22225#event-293243"
}
```



---

archive/issue_events_293244.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "9ae9aef66b9818a007b0913e42beb68204212bb6",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-02-14T18:58:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22225#event-293244"
}
```



---

archive/issue_comments_331198.json:
```json
{
    "body": "Changed branch from **[u/jmantysalo/quotient-lattice](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/quotient-lattice)** to **[eed7b74](https://github.com/sagemath/sagetrac-mirror/commit/eed7b7464b6d78badc5c73bf2676abeee401917d)**",
    "created_at": "2017-02-14T18:58:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331198",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jmantysalo/quotient-lattice](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/quotient-lattice)** to **[eed7b74](https://github.com/sagemath/sagetrac-mirror/commit/eed7b7464b6d78badc5c73bf2676abeee401917d)**
