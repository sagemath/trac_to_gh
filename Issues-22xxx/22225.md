# Issue 22225: LatticePoset: add quotient lattice

archive/issues_021988.json:
```json
{
    "assignees": [],
    "body": "This patch will add a function to compute the quotient lattice.\n\nAlso contains a parameter name change for `sublattices_lattice()`.\n\n\n**CC:**  @mantepse\n\n**Branch/Commit:** [eed7b7464b6d78badc5c73bf2676abeee401917d](https://github.com/sagemath/sagetrac-mirror/commit/eed7b7464b6d78badc5c73bf2676abeee401917d)\n\n**Reviewer:** Martin Rubey\n\n**Author:** Jori M\u00e4ntysalo, Travis Scrimshaw\n\nIssue created by migration from https://trac.sagemath.org/ticket/22225\n\n",
    "closed_at": "2017-02-14T18:58:55Z",
    "created_at": "2017-01-21T19:00:03Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "LatticePoset: add quotient lattice",
    "type": "issue",
    "updated_at": "2017-02-14T18:58:55Z",
    "url": "https://github.com/sagemath/sage/issues/22225",
    "user": "https://github.com/jm58660"
}
```
This patch will add a function to compute the quotient lattice.

Also contains a parameter name change for `sublattices_lattice()`.


**CC:**  @mantepse

**Branch/Commit:** [eed7b7464b6d78badc5c73bf2676abeee401917d](https://github.com/sagemath/sagetrac-mirror/commit/eed7b7464b6d78badc5c73bf2676abeee401917d)

**Reviewer:** Martin Rubey

**Author:** Jori Mäntysalo, Travis Scrimshaw

Issue created by migration from https://trac.sagemath.org/ticket/22225





---

archive/issue_comments_331038.json:
```json
{
    "body": "**Branch:** [u/jmantysalo/quotient-lattice](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/quotient-lattice)",
    "created_at": "2017-01-21T19:01:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331038",
    "user": "https://github.com/jm58660"
}
```

**Branch:** [u/jmantysalo/quotient-lattice](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/quotient-lattice)



---

archive/issue_comments_331039.json:
```json
{
    "body": "<a id='comment:2'></a>\nMartin, you reviewed #20058 and so may be interested in this too. The code should work, but I am currently compiling it on a slow machine.\n\nWhat you think about function name, parameter names and examples? I am not very satisfied, but don't know what would be better.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/403214b37d2ba32b0d4bb78640560c7af15fb756\">403214b</a></td><td><code>Add quotient().</code></td></tr></table>\n",
    "created_at": "2017-01-21T19:04:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331039",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:2'></a>
Martin, you reviewed #20058 and so may be interested in this too. The code should work, but I am currently compiling it on a slow machine.

What you think about function name, parameter names and examples? I am not very satisfied, but don't know what would be better.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/403214b37d2ba32b0d4bb78640560c7af15fb756">403214b</a></td><td><code>Add quotient().</code></td></tr></table>




---

archive/issue_comments_331040.json:
```json
{
    "body": "**Commit:** [403214b37d2ba32b0d4bb78640560c7af15fb756](https://github.com/sagemath/sagetrac-mirror/commit/403214b37d2ba32b0d4bb78640560c7af15fb756)",
    "created_at": "2017-01-21T19:04:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331040",
    "user": "https://github.com/jm58660"
}
```

**Commit:** [403214b37d2ba32b0d4bb78640560c7af15fb756](https://github.com/sagemath/sagetrac-mirror/commit/403214b37d2ba32b0d4bb78640560c7af15fb756)



---

archive/issue_comments_331041.json:
```json
{
    "body": "**Changing commit** from \"[403214b37d2ba32b0d4bb78640560c7af15fb756](https://github.com/sagemath/sagetrac-mirror/commit/403214b37d2ba32b0d4bb78640560c7af15fb756)\" to \"[0cb8975a897e8a96380d7470cbd8883205a4c47c](https://github.com/sagemath/sagetrac-mirror/commit/0cb8975a897e8a96380d7470cbd8883205a4c47c)\".",
    "created_at": "2017-01-22T06:37:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331041",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[403214b37d2ba32b0d4bb78640560c7af15fb756](https://github.com/sagemath/sagetrac-mirror/commit/403214b37d2ba32b0d4bb78640560c7af15fb756)" to "[0cb8975a897e8a96380d7470cbd8883205a4c47c](https://github.com/sagemath/sagetrac-mirror/commit/0cb8975a897e8a96380d7470cbd8883205a4c47c)".



---

archive/issue_comments_331042.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0cb8975a897e8a96380d7470cbd8883205a4c47c\">0cb8975</a></td><td><code>Doctest error.</code></td></tr></table>\n",
    "created_at": "2017-01-22T06:37:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331042",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0cb8975a897e8a96380d7470cbd8883205a4c47c">0cb8975</a></td><td><code>Doctest error.</code></td></tr></table>




---

archive/issue_events_198709.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-01-22T07:41:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22225#event-198709"
}
```



---

archive/issue_comments_331043.json:
```json
{
    "body": "<a id='comment:5'></a>\n* I think you should specify the possibilities for `element_constructor` in the docstring.\n\n* it might be nice to show an example using the `FiniteLatticePoset.congruence` method.\n\n* why aren't you satisfied with the names?",
    "created_at": "2017-01-22T08:23:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331043",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:5'></a>
* I think you should specify the possibilities for `element_constructor` in the docstring.

* it might be nice to show an example using the `FiniteLatticePoset.congruence` method.

* why aren't you satisfied with the names?



---

archive/issue_comments_331044.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [@mantepse](#comment%3A5):\n> * I think you should specify the possibilities for `element_constructor` in the docstring.\n\nTrue. I'll do.\n\n> * it might be nice to show an example using the `FiniteLatticePoset.congruence` method.\n\n?? All examples are done with that. Actually this `quotient()` function makes no sense alone.\n\n> * why aren't you satisfied with the names?\n\nShould `element_constructor` be `element_labels`? Should I have `C` or `T` (from `\\Theta`) as first parameter? `'integer'` or `'integers'`? I feel that there is no natural and clear naming. Might be because I don't write in my native language.",
    "created_at": "2017-01-22T08:33:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331044",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:6'></a>
Replying to [@mantepse](#comment%3A5):
> * I think you should specify the possibilities for `element_constructor` in the docstring.

True. I'll do.

> * it might be nice to show an example using the `FiniteLatticePoset.congruence` method.

?? All examples are done with that. Actually this `quotient()` function makes no sense alone.

> * why aren't you satisfied with the names?

Should `element_constructor` be `element_labels`? Should I have `C` or `T` (from `\Theta`) as first parameter? `'integer'` or `'integers'`? I feel that there is no natural and clear naming. Might be because I don't write in my native language.



---

archive/issue_comments_331045.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [@jm58660](#comment%3A6):\n> Replying to [@mantepse](#comment%3A5):\n\n> > * it might be nice to show an example using the `FiniteLatticePoset.congruence` method.\n\n> \n> ?? All examples are done with that. Actually this `quotient()` function makes no sense alone.\n\nI'm sorry, I must have been blind.  Please excuse me.",
    "created_at": "2017-01-22T09:09:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331045",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:7'></a>
Replying to [@jm58660](#comment%3A6):
> Replying to [@mantepse](#comment%3A5):

> > * it might be nice to show an example using the `FiniteLatticePoset.congruence` method.

> 
> ?? All examples are done with that. Actually this `quotient()` function makes no sense alone.

I'm sorry, I must have been blind.  Please excuse me.



---

archive/issue_comments_331046.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f62781ed2f27c0c5f9416abe0b094c6bcd16f1cd\">f62781e</a></td><td><code>Reformat INPUT.</code></td></tr></table>\n",
    "created_at": "2017-01-22T09:47:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331046",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f62781ed2f27c0c5f9416abe0b094c6bcd16f1cd">f62781e</a></td><td><code>Reformat INPUT.</code></td></tr></table>




---

archive/issue_comments_331047.json:
```json
{
    "body": "**Changing commit** from \"[0cb8975a897e8a96380d7470cbd8883205a4c47c](https://github.com/sagemath/sagetrac-mirror/commit/0cb8975a897e8a96380d7470cbd8883205a4c47c)\" to \"[f62781ed2f27c0c5f9416abe0b094c6bcd16f1cd](https://github.com/sagemath/sagetrac-mirror/commit/f62781ed2f27c0c5f9416abe0b094c6bcd16f1cd)\".",
    "created_at": "2017-01-22T09:47:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331047",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[0cb8975a897e8a96380d7470cbd8883205a4c47c](https://github.com/sagemath/sagetrac-mirror/commit/0cb8975a897e8a96380d7470cbd8883205a4c47c)" to "[f62781ed2f27c0c5f9416abe0b094c6bcd16f1cd](https://github.com/sagemath/sagetrac-mirror/commit/f62781ed2f27c0c5f9416abe0b094c6bcd16f1cd)".



---

archive/issue_comments_331048.json:
```json
{
    "body": "<a id='comment:9'></a>\nIs it \"quotient by congruence\" or \"quotient of congruence\" or something else?",
    "created_at": "2017-01-22T09:55:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331048",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:9'></a>
Is it "quotient by congruence" or "quotient of congruence" or something else?



---

archive/issue_comments_331049.json:
```json
{
    "body": "<a id='comment:10'></a>\nMore comments for this one?",
    "created_at": "2017-01-29T14:04:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331049",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:10'></a>
More comments for this one?



---

archive/issue_comments_331050.json:
```json
{
    "body": "<a id='comment:11'></a>\nI would change the docstring to\n\n```\n        Return the quotient lattice by ``congruence``.\n\n        Let `L` be a lattice and `\\Theta` be a congruence of `L` with\n        congurence classes `\\Theta_1, \\Theta_2, \\ldots`. The quotient\n        lattice `L/\\Theta` is the lattice with elements\n        `\\{\\Theta_1, \\Theta_2, \\ldots\\}` and meet and join given by the\n        original lattice. Explicitly, if `e_1 \\in \\Theta_1` and\n        `e_2 \\in \\Theta_2`, such that `e_1 \\vee e_2 \\in \\Theta_3` then\n        `\\Theta_1 \\vee \\Theta_2 = \\Theta_3` in `L/\\Theta` and similarly\n        for meets.\n\n        INPUT:\n\n        - ``congruence`` -- list of lists; a congruence\n\n        - ``element_constructor`` -- string; the elements of the resulting\n          lattice and can be one of the following:\n\n          * ``'tuple'`` - elements are tuples of elements of the original\n            lattice\n          * ``'lattice'`` - elements are sublattices of the original lattice\n          * ``'integer'`` - elements are labeled by integers\n\n        .. WARNING::\n\n            ``congruence`` is expected to be a valid congruence of the\n            lattice. This is *not* checked.\n```\nI would also change `element_constructor` to `element_labels` as the former suggests it allows a function valid input.",
    "created_at": "2017-01-29T14:35:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331050",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:11'></a>
I would change the docstring to

```
        Return the quotient lattice by ``congruence``.

        Let `L` be a lattice and `\Theta` be a congruence of `L` with
        congurence classes `\Theta_1, \Theta_2, \ldots`. The quotient
        lattice `L/\Theta` is the lattice with elements
        `\{\Theta_1, \Theta_2, \ldots\}` and meet and join given by the
        original lattice. Explicitly, if `e_1 \in \Theta_1` and
        `e_2 \in \Theta_2`, such that `e_1 \vee e_2 \in \Theta_3` then
        `\Theta_1 \vee \Theta_2 = \Theta_3` in `L/\Theta` and similarly
        for meets.

        INPUT:

        - ``congruence`` -- list of lists; a congruence

        - ``element_constructor`` -- string; the elements of the resulting
          lattice and can be one of the following:

          * ``'tuple'`` - elements are tuples of elements of the original
            lattice
          * ``'lattice'`` - elements are sublattices of the original lattice
          * ``'integer'`` - elements are labeled by integers

        .. WARNING::

            ``congruence`` is expected to be a valid congruence of the
            lattice. This is *not* checked.
```
I would also change `element_constructor` to `element_labels` as the former suggests it allows a function valid input.



---

archive/issue_comments_331051.json:
```json
{
    "body": "<a id='comment:12'></a>\nI would like to have as few `WARNING`s as possible. Can we avoid that by requiring the input to be of type SetPartition? And/or `rename()` the set partition given by `congruence()`? Then the user would really need to break things to get an error.\n\nOr do we break something if we just put extra value `._congruence_base_lattice` pointing to the lattice to a `SetPartition`-object? Of course that would cost some extra bytes for every congruence.",
    "created_at": "2017-01-30T06:58:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331051",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:12'></a>
I would like to have as few `WARNING`s as possible. Can we avoid that by requiring the input to be of type SetPartition? And/or `rename()` the set partition given by `congruence()`? Then the user would really need to break things to get an error.

Or do we break something if we just put extra value `._congruence_base_lattice` pointing to the lattice to a `SetPartition`-object? Of course that would cost some extra bytes for every congruence.



---

archive/issue_comments_331052.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [@jm58660](#comment%3A12):\n> I would like to have as few `WARNING`s as possible.\n\nThen you need to check that your input is a valid congruence.\n\n> Can we avoid that by requiring the input to be of type SetPartition? And/or `rename()` the set partition given by `congruence()`? Then the user would really need to break things to get an error.\n\nI don't see anything in the code that assumes it is an instance of `SetPartition`. So I don't understand what you're trying to get at here. Although I suspect it is not the issue.\n\n> Or do we break something if we just put extra value `._congruence_base_lattice` pointing to the lattice to a `SetPartition`-object? Of course that would cost some extra bytes for every congruence.\n\nI'm not sure what you mean here.",
    "created_at": "2017-01-30T15:37:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331052",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:13'></a>
Replying to [@jm58660](#comment%3A12):
> I would like to have as few `WARNING`s as possible.

Then you need to check that your input is a valid congruence.

> Can we avoid that by requiring the input to be of type SetPartition? And/or `rename()` the set partition given by `congruence()`? Then the user would really need to break things to get an error.

I don't see anything in the code that assumes it is an instance of `SetPartition`. So I don't understand what you're trying to get at here. Although I suspect it is not the issue.

> Or do we break something if we just put extra value `._congruence_base_lattice` pointing to the lattice to a `SetPartition`-object? Of course that would cost some extra bytes for every congruence.

I'm not sure what you mean here.



---

archive/issue_comments_331053.json:
```json
{
    "body": "**Changing commit** from \"[f62781ed2f27c0c5f9416abe0b094c6bcd16f1cd](https://github.com/sagemath/sagetrac-mirror/commit/f62781ed2f27c0c5f9416abe0b094c6bcd16f1cd)\" to \"[d417c514e963de8b96611a6f5fcd606c4a099f25](https://github.com/sagemath/sagetrac-mirror/commit/d417c514e963de8b96611a6f5fcd606c4a099f25)\".",
    "created_at": "2017-01-30T19:18:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331053",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[f62781ed2f27c0c5f9416abe0b094c6bcd16f1cd](https://github.com/sagemath/sagetrac-mirror/commit/f62781ed2f27c0c5f9416abe0b094c6bcd16f1cd)" to "[d417c514e963de8b96611a6f5fcd606c4a099f25](https://github.com/sagemath/sagetrac-mirror/commit/d417c514e963de8b96611a6f5fcd606c4a099f25)".



---

archive/issue_comments_331054.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d417c514e963de8b96611a6f5fcd606c4a099f25\">d417c51</a></td><td><code>Example for a check.</code></td></tr></table>\n",
    "created_at": "2017-01-30T19:18:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331054",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d417c514e963de8b96611a6f5fcd606c4a099f25">d417c51</a></td><td><code>Example for a check.</code></td></tr></table>




---

archive/issue_comments_331055.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [@tscrim](#comment%3A13):\n> I'm not sure what you mean here.\n\nI made a PoC, see the code.\n\nAs currently `LatticePoset` is never deallocated, it does not hurt more to have an extra pointer for it. But of course this will still eat some bytes.",
    "created_at": "2017-01-30T19:20:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331055",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:15'></a>
Replying to [@tscrim](#comment%3A13):
> I'm not sure what you mean here.

I made a PoC, see the code.

As currently `LatticePoset` is never deallocated, it does not hurt more to have an extra pointer for it. But of course this will still eat some bytes.



---

archive/issue_comments_331056.json:
```json
{
    "body": "<a id='comment:16'></a>\nThat is going to fail in an extremely subtle way if the user passes in something constructed from `congruence` and then the \"same\" set partition constructed directly. It is also completely unnecessary by how you are handling the input.\n\nIf you want a check, then you need to check that it satisfies the properties of being a congruence (I would also then add an extra argument `check=True` to have the option of turning this off). Otherwise it needs to be a `.. WARNING::`.",
    "created_at": "2017-01-31T15:07:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331056",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:16'></a>
That is going to fail in an extremely subtle way if the user passes in something constructed from `congruence` and then the "same" set partition constructed directly. It is also completely unnecessary by how you are handling the input.

If you want a check, then you need to check that it satisfies the properties of being a congruence (I would also then add an extra argument `check=True` to have the option of turning this off). Otherwise it needs to be a `.. WARNING::`.



---

archive/issue_comments_331057.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [@tscrim](#comment%3A16):\n> That is going to fail in an extremely subtle way if the user passes in something constructed from `congruence` and then the \"same\" set partition constructed directly.\n\n?? With this PoC:\n\n```\nsage: L1 = Posets.BooleanLattice(3)\nsage: L2 = L1.relabel(lambda x: 7-x)\nsage: c = L1.congruence([[0, 1]])\nsage: L2.quotient(c)\n\n. . . ValueError: AAARghsss!\n```\n\nBut OK, I'll change the docstring.",
    "created_at": "2017-02-01T20:34:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331057",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:17'></a>
Replying to [@tscrim](#comment%3A16):
> That is going to fail in an extremely subtle way if the user passes in something constructed from `congruence` and then the "same" set partition constructed directly.

?? With this PoC:

```
sage: L1 = Posets.BooleanLattice(3)
sage: L2 = L1.relabel(lambda x: 7-x)
sage: c = L1.congruence([[0, 1]])
sage: L2.quotient(c)

. . . ValueError: AAARghsss!
```

But OK, I'll change the docstring.



---

archive/issue_comments_331058.json:
```json
{
    "body": "<a id='comment:18'></a>\nThe problem is if they pass in the \"same\" set partition for the congruence but not created by `L1.congruence`:\n\n```\nsage: L1 = Posets.BooleanLattice(3)\nsage: c = L1.congruence([[0, 1]]); c\n{{0, 1}, {2, 3}, {4, 5}, {6, 7}}\nsage: L1.quotient(c)\nFinite lattice containing 4 elements\nsage: c2 = SetPartition([[0,1], [2,3], [4,5], [6,7]])\nsage: c == c2\nTrue\nsage: L1.quotient(c2)\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n...\nAttributeError: 'SetPartitions_all_with_category.element_class' object has no attribute '_congruence_base_lattice'\n```",
    "created_at": "2017-02-02T00:31:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331058",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:18'></a>
The problem is if they pass in the "same" set partition for the congruence but not created by `L1.congruence`:

```
sage: L1 = Posets.BooleanLattice(3)
sage: c = L1.congruence([[0, 1]]); c
{{0, 1}, {2, 3}, {4, 5}, {6, 7}}
sage: L1.quotient(c)
Finite lattice containing 4 elements
sage: c2 = SetPartition([[0,1], [2,3], [4,5], [6,7]])
sage: c == c2
True
sage: L1.quotient(c2)
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
...
AttributeError: 'SetPartitions_all_with_category.element_class' object has no attribute '_congruence_base_lattice'
```



---

archive/issue_comments_331059.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [@tscrim](#comment%3A18):\n> The problem is if they pass in the \"same\" set partition for the congruence but not created by `L1.congruence`:\n> \n> ```\n> sage: c == c2\n> True\n> ```\n\nOK, I understand. So to avoid warning we should have a specific class (inherited from `SetPartition`), but that's too much. If we only change `name` on result from `congruence` it would help too little.\n\nI'll do docstring modification.",
    "created_at": "2017-02-02T04:49:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331059",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:19'></a>
Replying to [@tscrim](#comment%3A18):
> The problem is if they pass in the "same" set partition for the congruence but not created by `L1.congruence`:
> 
> ```
> sage: c == c2
> True
> ```

OK, I understand. So to avoid warning we should have a specific class (inherited from `SetPartition`), but that's too much. If we only change `name` on result from `congruence` it would help too little.

I'll do docstring modification.



---

archive/issue_comments_331060.json:
```json
{
    "body": "**Changing commit** from \"[d417c514e963de8b96611a6f5fcd606c4a099f25](https://github.com/sagemath/sagetrac-mirror/commit/d417c514e963de8b96611a6f5fcd606c4a099f25)\" to \"[6c561226d8ada45f52a07e8f1402f981d8690852](https://github.com/sagemath/sagetrac-mirror/commit/6c561226d8ada45f52a07e8f1402f981d8690852)\".",
    "created_at": "2017-02-02T08:36:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331060",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[d417c514e963de8b96611a6f5fcd606c4a099f25](https://github.com/sagemath/sagetrac-mirror/commit/d417c514e963de8b96611a6f5fcd606c4a099f25)" to "[6c561226d8ada45f52a07e8f1402f981d8690852](https://github.com/sagemath/sagetrac-mirror/commit/6c561226d8ada45f52a07e8f1402f981d8690852)".



---

archive/issue_comments_331061.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c561226d8ada45f52a07e8f1402f981d8690852\">6c56122</a></td><td><code>Docstring: Add warning section.</code></td></tr></table>\n",
    "created_at": "2017-02-02T08:36:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331061",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c561226d8ada45f52a07e8f1402f981d8690852">6c56122</a></td><td><code>Docstring: Add warning section.</code></td></tr></table>




---

archive/issue_comments_331062.json:
```json
{
    "body": "**Changing author** from \"Jori M\u00e4ntysalo\" to \"Jori M\u00e4ntysalo, Travis Scrimshaw\".",
    "created_at": "2017-02-02T08:50:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331062",
    "user": "https://github.com/jm58660"
}
```

**Changing author** from "Jori Mäntysalo" to "Jori Mäntysalo, Travis Scrimshaw".



---

archive/issue_events_198710.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-02-02T08:50:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22225#event-198710"
}
```



---

archive/issue_events_198711.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-02-02T08:50:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22225#event-198711"
}
```



---

archive/issue_comments_331063.json:
```json
{
    "body": "<a id='comment:21'></a>\nAdded Travis to author, as I took the docstring from him.\n\nReplying to [@tscrim](#comment%3A11):\n\n> I would also change `element_constructor` to `element_labels` as the former suggests it allows a function valid input.\n\nHmm... `vertical_composition` has `labels`, `sublattices_lattice` has `element_constructor`. On posets `disjoint_union` etc. has `labels`. OTOH `with_bounds` have `labels` with different meaning. Only `antichains` and `chains` use `element_constructor`.\n\nBut yes, I think `labels` is best one. Martin, comments on this?",
    "created_at": "2017-02-02T08:50:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331063",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:21'></a>
Added Travis to author, as I took the docstring from him.

Replying to [@tscrim](#comment%3A11):

> I would also change `element_constructor` to `element_labels` as the former suggests it allows a function valid input.

Hmm... `vertical_composition` has `labels`, `sublattices_lattice` has `element_constructor`. On posets `disjoint_union` etc. has `labels`. OTOH `with_bounds` have `labels` with different meaning. Only `antichains` and `chains` use `element_constructor`.

But yes, I think `labels` is best one. Martin, comments on this?



---

archive/issue_comments_331064.json:
```json
{
    "body": "<a id='comment:22'></a>\nI second `labels`.",
    "created_at": "2017-02-02T15:31:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331064",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:22'></a>
I second `labels`.



---

archive/issue_comments_331065.json:
```json
{
    "body": "**Changing commit** from \"[6c561226d8ada45f52a07e8f1402f981d8690852](https://github.com/sagemath/sagetrac-mirror/commit/6c561226d8ada45f52a07e8f1402f981d8690852)\" to \"[10418620250740695ceb43893c2c74ab1460fb48](https://github.com/sagemath/sagetrac-mirror/commit/10418620250740695ceb43893c2c74ab1460fb48)\".",
    "created_at": "2017-02-03T07:32:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331065",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[6c561226d8ada45f52a07e8f1402f981d8690852](https://github.com/sagemath/sagetrac-mirror/commit/6c561226d8ada45f52a07e8f1402f981d8690852)" to "[10418620250740695ceb43893c2c74ab1460fb48](https://github.com/sagemath/sagetrac-mirror/commit/10418620250740695ceb43893c2c74ab1460fb48)".



---

archive/issue_comments_331066.json:
```json
{
    "body": "<a id='comment:23'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/10418620250740695ceb43893c2c74ab1460fb48\">1041862</a></td><td><code>Change parameter name.</code></td></tr></table>\n",
    "created_at": "2017-02-03T07:32:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331066",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:23'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/10418620250740695ceb43893c2c74ab1460fb48">1041862</a></td><td><code>Change parameter name.</code></td></tr></table>




---

archive/issue_comments_331067.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,2 +1,4 @@\n This patch will add a function to compute the quotient lattice.\n \n+Also contains a parameter name change for `sublattices_lattice()`.\n+\n``````\n",
    "created_at": "2017-02-03T07:34:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331067",
    "user": "https://github.com/jm58660"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,2 +1,4 @@
 This patch will add a function to compute the quotient lattice.
 
+Also contains a parameter name change for `sublattices_lattice()`.
+
``````




---

archive/issue_events_198712.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-02-03T07:34:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22225#event-198712"
}
```



---

archive/issue_events_198713.json:
```json
{
    "actor": "https://github.com/jm58660",
    "created_at": "2017-02-03T07:34:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22225#event-198713"
}
```



---

archive/issue_comments_331068.json:
```json
{
    "body": "<a id='comment:24'></a>\nMaybe we can go with this.",
    "created_at": "2017-02-03T07:34:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331068",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:24'></a>
Maybe we can go with this.



---

archive/issue_comments_331069.json:
```json
{
    "body": "<a id='comment:25'></a>\nI have no time to check this properly, but I think `labels` is good - that's also what `GenericGraph.disjoint_union` uses.",
    "created_at": "2017-02-05T21:03:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331069",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:25'></a>
I have no time to check this properly, but I think `labels` is good - that's also what `GenericGraph.disjoint_union` uses.



---

archive/issue_comments_331070.json:
```json
{
    "body": "**Changing commit** from \"[10418620250740695ceb43893c2c74ab1460fb48](https://github.com/sagemath/sagetrac-mirror/commit/10418620250740695ceb43893c2c74ab1460fb48)\" to \"[2e5cc67970d0b44bf57cd8d2ee18479184ca1fbe](https://github.com/sagemath/sagetrac-mirror/commit/2e5cc67970d0b44bf57cd8d2ee18479184ca1fbe)\".",
    "created_at": "2017-02-11T05:59:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331070",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[10418620250740695ceb43893c2c74ab1460fb48](https://github.com/sagemath/sagetrac-mirror/commit/10418620250740695ceb43893c2c74ab1460fb48)" to "[2e5cc67970d0b44bf57cd8d2ee18479184ca1fbe](https://github.com/sagemath/sagetrac-mirror/commit/2e5cc67970d0b44bf57cd8d2ee18479184ca1fbe)".



---

archive/issue_comments_331071.json:
```json
{
    "body": "<a id='comment:26'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e5cc67970d0b44bf57cd8d2ee18479184ca1fbe\">2e5cc67</a></td><td><code>Resolved merge conflict.</code></td></tr></table>\n",
    "created_at": "2017-02-11T05:59:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331071",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:26'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e5cc67970d0b44bf57cd8d2ee18479184ca1fbe">2e5cc67</a></td><td><code>Resolved merge conflict.</code></td></tr></table>




---

archive/issue_comments_331072.json:
```json
{
    "body": "<a id='comment:27'></a>\nThere was a merge conflict because of added `import six`. Should work now.\n\nI think that we are now close to have all basic functionality relating to lattice congruences. Subdirect decomposition should be easy after this and some other tickets are closed.",
    "created_at": "2017-02-11T06:05:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331072",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:27'></a>
There was a merge conflict because of added `import six`. Should work now.

I think that we are now close to have all basic functionality relating to lattice congruences. Subdirect decomposition should be easy after this and some other tickets are closed.



---

archive/issue_comments_331073.json:
```json
{
    "body": "<a id='comment:28'></a>\nI suspect the doctest in `src/sage/misc/rest_index_of_methods.py` will (still) fail. The number 55 just needs to be bumped slightly.",
    "created_at": "2017-02-11T15:17:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331073",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:28'></a>
I suspect the doctest in `src/sage/misc/rest_index_of_methods.py` will (still) fail. The number 55 just needs to be bumped slightly.



---

archive/issue_comments_331074.json:
```json
{
    "body": "<a id='comment:29'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d0c148a6d9eb7eb00a9ff99f85c16de959ab401\">2d0c148</a></td><td><code>Increase limit for Sphinx hack.</code></td></tr></table>\n",
    "created_at": "2017-02-12T06:25:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331074",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:29'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d0c148a6d9eb7eb00a9ff99f85c16de959ab401">2d0c148</a></td><td><code>Increase limit for Sphinx hack.</code></td></tr></table>




---

archive/issue_comments_331075.json:
```json
{
    "body": "**Changing commit** from \"[2e5cc67970d0b44bf57cd8d2ee18479184ca1fbe](https://github.com/sagemath/sagetrac-mirror/commit/2e5cc67970d0b44bf57cd8d2ee18479184ca1fbe)\" to \"[2d0c148a6d9eb7eb00a9ff99f85c16de959ab401](https://github.com/sagemath/sagetrac-mirror/commit/2d0c148a6d9eb7eb00a9ff99f85c16de959ab401)\".",
    "created_at": "2017-02-12T06:25:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331075",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[2e5cc67970d0b44bf57cd8d2ee18479184ca1fbe](https://github.com/sagemath/sagetrac-mirror/commit/2e5cc67970d0b44bf57cd8d2ee18479184ca1fbe)" to "[2d0c148a6d9eb7eb00a9ff99f85c16de959ab401](https://github.com/sagemath/sagetrac-mirror/commit/2d0c148a6d9eb7eb00a9ff99f85c16de959ab401)".



---

archive/issue_comments_331076.json:
```json
{
    "body": "<a id='comment:30'></a>\nReplying to [@tscrim](#comment%3A28):\n> I suspect the doctest in `src/sage/misc/rest_index_of_methods.py` will (still) fail. The number 55 just needs to be bumped slightly.\n\nOK, I increased it from 55 to 65.",
    "created_at": "2017-02-12T06:27:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331076",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:30'></a>
Replying to [@tscrim](#comment%3A28):
> I suspect the doctest in `src/sage/misc/rest_index_of_methods.py` will (still) fail. The number 55 just needs to be bumped slightly.

OK, I increased it from 55 to 65.



---

archive/issue_comments_331077.json:
```json
{
    "body": "<a id='comment:31'></a>\nA typo in the docstring: \"congurence\" should be \"congruence\".",
    "created_at": "2017-02-12T10:59:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331077",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:31'></a>
A typo in the docstring: "congurence" should be "congruence".



---

archive/issue_comments_331078.json:
```json
{
    "body": "**Changing commit** from \"[2d0c148a6d9eb7eb00a9ff99f85c16de959ab401](https://github.com/sagemath/sagetrac-mirror/commit/2d0c148a6d9eb7eb00a9ff99f85c16de959ab401)\" to \"[eed7b7464b6d78badc5c73bf2676abeee401917d](https://github.com/sagemath/sagetrac-mirror/commit/eed7b7464b6d78badc5c73bf2676abeee401917d)\".",
    "created_at": "2017-02-12T11:36:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331078",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[2d0c148a6d9eb7eb00a9ff99f85c16de959ab401](https://github.com/sagemath/sagetrac-mirror/commit/2d0c148a6d9eb7eb00a9ff99f85c16de959ab401)" to "[eed7b7464b6d78badc5c73bf2676abeee401917d](https://github.com/sagemath/sagetrac-mirror/commit/eed7b7464b6d78badc5c73bf2676abeee401917d)".



---

archive/issue_comments_331079.json:
```json
{
    "body": "<a id='comment:32'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eed7b7464b6d78badc5c73bf2676abeee401917d\">eed7b74</a></td><td><code>Typo correction.</code></td></tr></table>\n",
    "created_at": "2017-02-12T11:36:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331079",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:32'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eed7b7464b6d78badc5c73bf2676abeee401917d">eed7b74</a></td><td><code>Typo correction.</code></td></tr></table>




---

archive/issue_comments_331080.json:
```json
{
    "body": "<a id='comment:33'></a>\nReplying to [@mantepse](#comment%3A31):\n> A typo in the docstring: \"congurence\" should be \"congruence\".\n\nCorrected.",
    "created_at": "2017-02-12T11:56:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331080",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:33'></a>
Replying to [@mantepse](#comment%3A31):
> A typo in the docstring: "congurence" should be "congruence".

Corrected.



---

archive/issue_comments_331081.json:
```json
{
    "body": "<a id='comment:34'></a>\nLooks good.  Here is a test you might enjoy:\n\n```\nsage: n=6\nsage: d = {pi: pi.inverse().descents(from_zero=False) for pi in Permutations(n)}\nsage: C = [[pi for pi in d if d[pi]==des] for des in d.values()]\nsage: L = LatticePoset(Posets.SymmetricGroupWeakOrderPoset(n))\nsage: M = L.quotient(L.congruence(C))\nsage: M.is_isomorphic(Posets.BooleanLattice(n-1))\nTrue\n```\n\nUnfortunately, this won't work out of the box, because `Posets.SymmetricGroupWeakOrderPoset(n)` creates strange labels.  Also it should be possible to replace `L.congruence(C)` with just `SetPartition(C)`, but there is a bug (#22361).\n\nAnyway, I think this is great!",
    "created_at": "2017-02-12T14:06:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331081",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:34'></a>
Looks good.  Here is a test you might enjoy:

```
sage: n=6
sage: d = {pi: pi.inverse().descents(from_zero=False) for pi in Permutations(n)}
sage: C = [[pi for pi in d if d[pi]==des] for des in d.values()]
sage: L = LatticePoset(Posets.SymmetricGroupWeakOrderPoset(n))
sage: M = L.quotient(L.congruence(C))
sage: M.is_isomorphic(Posets.BooleanLattice(n-1))
True
```

Unfortunately, this won't work out of the box, because `Posets.SymmetricGroupWeakOrderPoset(n)` creates strange labels.  Also it should be possible to replace `L.congruence(C)` with just `SetPartition(C)`, but there is a bug (#22361).

Anyway, I think this is great!



---

archive/issue_comments_331082.json:
```json
{
    "body": "<a id='comment:35'></a>\n(I cannot build the documentation here in reasonable time, because my computer is too small. Can I set it to positive review anyway?)",
    "created_at": "2017-02-12T14:07:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331082",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:35'></a>
(I cannot build the documentation here in reasonable time, because my computer is too small. Can I set it to positive review anyway?)



---

archive/issue_comments_331083.json:
```json
{
    "body": "<a id='comment:36'></a>\nReplying to [@mantepse](#comment%3A35):\n> (I cannot build the documentation here in reasonable time, because my computer is too small. Can I set it to positive review anyway?)\n\nIf you are unsure, you can check patchbot log, see docbuild-module. As the last version was OK, and I only changed one typo, I think you can set this to positive review.",
    "created_at": "2017-02-12T14:21:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331083",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:36'></a>
Replying to [@mantepse](#comment%3A35):
> (I cannot build the documentation here in reasonable time, because my computer is too small. Can I set it to positive review anyway?)

If you are unsure, you can check patchbot log, see docbuild-module. As the last version was OK, and I only changed one typo, I think you can set this to positive review.



---

archive/issue_events_198714.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2017-02-12T14:37:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22225#event-198714"
}
```



---

archive/issue_events_198715.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2017-02-12T14:37:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22225#event-198715"
}
```



---

archive/issue_comments_331084.json:
```json
{
    "body": "**Reviewer:** Martin Rubey",
    "created_at": "2017-02-12T18:53:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331084",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Martin Rubey



---

archive/issue_events_198716.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-02-14T18:58:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22225#event-198716"
}
```



---

archive/issue_events_198717.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "9ae9aef66b9818a007b0913e42beb68204212bb6",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-02-14T18:58:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22225#event-198717"
}
```



---

archive/issue_comments_331085.json:
```json
{
    "body": "**Changing branch** from \"[u/jmantysalo/quotient-lattice](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/quotient-lattice)\" to \"[eed7b7464b6d78badc5c73bf2676abeee401917d](https://github.com/sagemath/sagetrac-mirror/commit/eed7b7464b6d78badc5c73bf2676abeee401917d)\".",
    "created_at": "2017-02-14T18:58:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22225#issuecomment-331085",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jmantysalo/quotient-lattice](https://github.com/sagemath/sagetrac-mirror/tree/u/jmantysalo/quotient-lattice)" to "[eed7b7464b6d78badc5c73bf2676abeee401917d](https://github.com/sagemath/sagetrac-mirror/commit/eed7b7464b6d78badc5c73bf2676abeee401917d)".
