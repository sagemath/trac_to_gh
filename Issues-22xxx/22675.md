# Issue 22675: Upgrade PARI to version 2.9.2

archive/issues_022438.json:
```json
{
    "body": "PARI just released version 2.9.2. This will likely fix #22279.\n\nAlso a new patch is added to fix #22635.\n\n**Tarball**: https://pari.math.u-bordeaux.fr/pub/pari/unix/pari-2.9.2.tar.gz\n\n**CC:**  @embray @kiwifb @videlec @defeo\n\n**Branch/Commit:** [543c4a1889f21b35483b0bf45e7dbcdb6ce25582](https://github.com/sagemath/sagetrac-mirror/commit/543c4a1889f21b35483b0bf45e7dbcdb6ce25582)\n\n**Reviewer:** Vincent Delecroix\n\n**Author:** Jeroen Demeyer\n\n**Dependencies:** #22633\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/22675\n\n",
    "closed_at": "2017-04-23T12:58:02Z",
    "created_at": "2017-03-23T10:55:04Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "Upgrade PARI to version 2.9.2",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22675",
    "user": "https://github.com/jdemeyer"
}
```
PARI just released version 2.9.2. This will likely fix #22279.

Also a new patch is added to fix #22635.

**Tarball**: https://pari.math.u-bordeaux.fr/pub/pari/unix/pari-2.9.2.tar.gz

**CC:**  @embray @kiwifb @videlec @defeo

**Branch/Commit:** [543c4a1889f21b35483b0bf45e7dbcdb6ce25582](https://github.com/sagemath/sagetrac-mirror/commit/543c4a1889f21b35483b0bf45e7dbcdb6ce25582)

**Reviewer:** Vincent Delecroix

**Author:** Jeroen Demeyer

**Dependencies:** #22633

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/22675





---

archive/issue_comments_425005.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n PARI just made a prerelease for version 2.9.2. When it is released, we should use this version in Sage. This will likely fix #22279.\n+\n+**Tarball**: https://pari.math.u-bordeaux.fr/pub/pari/snapshots/pari-2.9.2-pre1.tar.gz\n``````\n",
    "created_at": "2017-03-23T11:07:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22675#issuecomment-425005",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 PARI just made a prerelease for version 2.9.2. When it is released, we should use this version in Sage. This will likely fix #22279.
+
+**Tarball**: https://pari.math.u-bordeaux.fr/pub/pari/snapshots/pari-2.9.2-pre1.tar.gz
``````




---

archive/issue_comments_425006.json:
```json
{
    "body": "**Branch:** [u/jdemeyer/upgrade_pari_to_version_2_9_2](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/upgrade_pari_to_version_2_9_2)",
    "created_at": "2017-03-23T20:34:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22675#issuecomment-425006",
    "user": "https://github.com/jdemeyer"
}
```

**Branch:** [u/jdemeyer/upgrade_pari_to_version_2_9_2](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/upgrade_pari_to_version_2_9_2)



---

archive/issue_comments_425007.json:
```json
{
    "body": "<a id='comment:3'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d30f4d249c400e4830a877595f7281ce61f3f164\">d30f4d2</a></td><td><code>Upgrade PARI to version 2.9.2</code></td></tr></table>\n",
    "created_at": "2017-03-25T09:02:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22675#issuecomment-425007",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:3'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d30f4d249c400e4830a877595f7281ce61f3f164">d30f4d2</a></td><td><code>Upgrade PARI to version 2.9.2</code></td></tr></table>




---

archive/issue_comments_425008.json:
```json
{
    "body": "**Commit:** [d30f4d249c400e4830a877595f7281ce61f3f164](https://github.com/sagemath/sagetrac-mirror/commit/d30f4d249c400e4830a877595f7281ce61f3f164)",
    "created_at": "2017-03-25T09:02:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22675#issuecomment-425008",
    "user": "https://github.com/kiwifb"
}
```

**Commit:** [d30f4d249c400e4830a877595f7281ce61f3f164](https://github.com/sagemath/sagetrac-mirror/commit/d30f4d249c400e4830a877595f7281ce61f3f164)



---

archive/issue_comments_425009.json:
```json
{
    "body": "<a id='comment:4'></a>\nI'm not sure but this might also fix #22635 if that gets incorporated into the final release.\n\nThe fix to #22633 is still held up for some reason, even though it has nothing directly to do with the concerns about emscripten.",
    "created_at": "2017-04-03T10:51:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22675#issuecomment-425009",
    "user": "https://github.com/embray"
}
```

<a id='comment:4'></a>
I'm not sure but this might also fix #22635 if that gets incorporated into the final release.

The fix to #22633 is still held up for some reason, even though it has nothing directly to do with the concerns about emscripten.



---

archive/issue_comments_425010.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [embray](#comment%3A4):\n> The fix to #22633 is still held up for some reason, even though it has nothing directly to do with the concerns about emscripten.\n\n\n#22633 will certainly not be fixed in 2.9.2 because my `PROT_NONE` patches are not in 2.9.2 either.",
    "created_at": "2017-04-03T10:56:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22675#issuecomment-425010",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>
Replying to [embray](#comment%3A4):
> The fix to #22633 is still held up for some reason, even though it has nothing directly to do with the concerns about emscripten.


#22633 will certainly not be fixed in 2.9.2 because my `PROT_NONE` patches are not in 2.9.2 either.



---

archive/issue_comments_425011.json:
```json
{
    "body": "<a id='comment:6'></a>\nOkay, I thought that might be the case since there was still some question about it.",
    "created_at": "2017-04-03T11:02:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22675#issuecomment-425011",
    "user": "https://github.com/embray"
}
```

<a id='comment:6'></a>
Okay, I thought that might be the case since there was still some question about it.



---

archive/issue_comments_425012.json:
```json
{
    "body": "**Dependencies:** #22633",
    "created_at": "2017-04-06T08:18:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22675#issuecomment-425012",
    "user": "https://github.com/jdemeyer"
}
```

**Dependencies:** #22633



---

archive/issue_comments_425013.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n-PARI just made a prerelease for version 2.9.2. When it is released, we should use this version in Sage. This will likely fix #22279.\n+PARI just released version 2.9.2. This will likely fix #22279.\n \n-**Tarball**: https://pari.math.u-bordeaux.fr/pub/pari/snapshots/pari-2.9.2-pre1.tar.gz\n+Also a new patch is added to fix #22635.\n+\n+**Tarball**: https://pari.math.u-bordeaux.fr/pub/pari/unix/pari-2.9.2.tar.gz\n``````\n",
    "created_at": "2017-04-06T08:21:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22675#issuecomment-425013",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
-PARI just made a prerelease for version 2.9.2. When it is released, we should use this version in Sage. This will likely fix #22279.
+PARI just released version 2.9.2. This will likely fix #22279.
 
-**Tarball**: https://pari.math.u-bordeaux.fr/pub/pari/snapshots/pari-2.9.2-pre1.tar.gz
+Also a new patch is added to fix #22635.
+
+**Tarball**: https://pari.math.u-bordeaux.fr/pub/pari/unix/pari-2.9.2.tar.gz
``````




---

archive/issue_comments_425014.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/343f241bdd3a262cbff496ca9ec6ad6dfd8fbb4a\">343f241</a></td><td><code>mmap() PARI stack with MAP_NORESERVE (for Cygwin)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/543c4a1889f21b35483b0bf45e7dbcdb6ce25582\">543c4a1</a></td><td><code>Upgrade PARI to version 2.9.2</code></td></tr></table>\n",
    "created_at": "2017-04-06T08:25:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22675#issuecomment-425014",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/343f241bdd3a262cbff496ca9ec6ad6dfd8fbb4a">343f241</a></td><td><code>mmap() PARI stack with MAP_NORESERVE (for Cygwin)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/543c4a1889f21b35483b0bf45e7dbcdb6ce25582">543c4a1</a></td><td><code>Upgrade PARI to version 2.9.2</code></td></tr></table>




---

archive/issue_comments_425015.json:
```json
{
    "body": "**Changing commit** from \"[d30f4d249c400e4830a877595f7281ce61f3f164](https://github.com/sagemath/sagetrac-mirror/commit/d30f4d249c400e4830a877595f7281ce61f3f164)\" to \"[543c4a1889f21b35483b0bf45e7dbcdb6ce25582](https://github.com/sagemath/sagetrac-mirror/commit/543c4a1889f21b35483b0bf45e7dbcdb6ce25582)\".",
    "created_at": "2017-04-06T08:25:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22675#issuecomment-425015",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d30f4d249c400e4830a877595f7281ce61f3f164](https://github.com/sagemath/sagetrac-mirror/commit/d30f4d249c400e4830a877595f7281ce61f3f164)" to "[543c4a1889f21b35483b0bf45e7dbcdb6ce25582](https://github.com/sagemath/sagetrac-mirror/commit/543c4a1889f21b35483b0bf45e7dbcdb6ce25582)".



---

archive/issue_comments_425016.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2017-04-06T11:03:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22675#issuecomment-425016",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_425017.json:
```json
{
    "body": "<a id='comment:11'></a>\nPing...",
    "created_at": "2017-04-19T08:10:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22675#issuecomment-425017",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'></a>
Ping...



---

archive/issue_comments_425018.json:
```json
{
    "body": "<a id='comment:12'></a>\nApparently `prot_none_4.patch` is accepted upstream (seems to be `d42061c`). Are you sure it will be in a stable release?",
    "created_at": "2017-04-19T08:17:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22675#issuecomment-425018",
    "user": "https://github.com/videlec"
}
```

<a id='comment:12'></a>
Apparently `prot_none_4.patch` is accepted upstream (seems to be `d42061c`). Are you sure it will be in a stable release?



---

archive/issue_comments_425019.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [vdelecroix](#comment%3A12):\n> Apparently `prot_none_4.patch` is accepted upstream (seems to be `d42061c`). Are you sure it will be in a stable release?\n\n\n1. This ticket here does not deal with `prot_none_4.patch` so why does it matter?\n\n2. I cannot read the mind of the PARI developers, but I guess it will be in PARI 2.10",
    "created_at": "2017-04-19T08:41:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22675#issuecomment-425019",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'></a>
Replying to [vdelecroix](#comment%3A12):
> Apparently `prot_none_4.patch` is accepted upstream (seems to be `d42061c`). Are you sure it will be in a stable release?


1. This ticket here does not deal with `prot_none_4.patch` so why does it matter?

2. I cannot read the mind of the PARI developers, but I guess it will be in PARI 2.10



---

archive/issue_comments_425020.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [jdemeyer](#comment%3A13):\n> Replying to [vdelecroix](#comment%3A12):\n> > Apparently `prot_none_4.patch` is accepted upstream (seems to be `d42061c`). Are you sure it will be in a stable release?\n\n> \n> 1. This ticket here does not deal with `prot_none_4.patch` so why does it matter?\n\n\n`prot_none_4.patch` included with commit `343f241` is part of the branch.\n\n> 2. I cannot read the mind of the PARI developers, but I guess it will be in PARI 2.10\n\n\nOf course not. But you can care about the future of your patches and ask to have it backported in stable releases.",
    "created_at": "2017-04-19T08:52:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22675#issuecomment-425020",
    "user": "https://github.com/videlec"
}
```

<a id='comment:14'></a>
Replying to [jdemeyer](#comment%3A13):
> Replying to [vdelecroix](#comment%3A12):
> > Apparently `prot_none_4.patch` is accepted upstream (seems to be `d42061c`). Are you sure it will be in a stable release?

> 
> 1. This ticket here does not deal with `prot_none_4.patch` so why does it matter?


`prot_none_4.patch` included with commit `343f241` is part of the branch.

> 2. I cannot read the mind of the PARI developers, but I guess it will be in PARI 2.10


Of course not. But you can care about the future of your patches and ask to have it backported in stable releases.



---

archive/issue_comments_425021.json:
```json
{
    "body": "<a id='comment:15'></a>\nIt is always a mess to attribute commit to dependencies... how am I supposed to deal with that?",
    "created_at": "2017-04-19T08:53:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22675#issuecomment-425021",
    "user": "https://github.com/videlec"
}
```

<a id='comment:15'></a>
It is always a mess to attribute commit to dependencies... how am I supposed to deal with that?



---

archive/issue_comments_425022.json:
```json
{
    "body": "<a id='comment:16'></a>\nNow, waiting for the testsuite...",
    "created_at": "2017-04-19T08:59:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22675#issuecomment-425022",
    "user": "https://github.com/videlec"
}
```

<a id='comment:16'></a>
Now, waiting for the testsuite...



---

archive/issue_comments_425023.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [vdelecroix](#comment%3A15):\n> It is always a mess to attribute commit to dependencies... how am I supposed to deal with that?\n\n\nI don't know what you are seeing. There is only one commit and it does not involve `prot_none_4.patch`.",
    "created_at": "2017-04-19T09:24:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22675#issuecomment-425023",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'></a>
Replying to [vdelecroix](#comment%3A15):
> It is always a mess to attribute commit to dependencies... how am I supposed to deal with that?


I don't know what you are seeing. There is only one commit and it does not involve `prot_none_4.patch`.



---

archive/issue_comments_425024.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [jdemeyer](#comment%3A17):\n> Replying to [vdelecroix](#comment%3A15):\n> > It is always a mess to attribute commit to dependencies... how am I supposed to deal with that?\n\n> \n> I don't know what you are seeing. There is only one commit and it does not involve `prot_none_4.patch`.\n\n\nThere are two commits on `u/jdemeyer/upgrade_pari_to_version_2_9_2` on top of 8.0.beta1",
    "created_at": "2017-04-19T11:52:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22675#issuecomment-425024",
    "user": "https://github.com/videlec"
}
```

<a id='comment:18'></a>
Replying to [jdemeyer](#comment%3A17):
> Replying to [vdelecroix](#comment%3A15):
> > It is always a mess to attribute commit to dependencies... how am I supposed to deal with that?

> 
> I don't know what you are seeing. There is only one commit and it does not involve `prot_none_4.patch`.


There are two commits on `u/jdemeyer/upgrade_pari_to_version_2_9_2` on top of 8.0.beta1



---

archive/issue_comments_425025.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [vdelecroix](#comment%3A18):\n> There are two commits on `u/jdemeyer/upgrade_pari_to_version_2_9_2` on top of 8.0.beta1\n\n\nRight. I understand what you mean now. I usually look at the branch on Trac and that shows only one commit.\n\nAnyway, this review is only about https://git.sagemath.org/sage.git/commit/?h=543c4a1889f21b35483b0bf45e7dbcdb6ce25582",
    "created_at": "2017-04-19T12:36:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22675#issuecomment-425025",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'></a>
Replying to [vdelecroix](#comment%3A18):
> There are two commits on `u/jdemeyer/upgrade_pari_to_version_2_9_2` on top of 8.0.beta1


Right. I understand what you mean now. I usually look at the branch on Trac and that shows only one commit.

Anyway, this review is only about https://git.sagemath.org/sage.git/commit/?h=543c4a1889f21b35483b0bf45e7dbcdb6ce25582



---

archive/issue_comments_425026.json:
```json
{
    "body": "**Reviewer:** Vincent Delecroix",
    "created_at": "2017-04-20T06:12:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22675#issuecomment-425026",
    "user": "https://github.com/videlec"
}
```

**Reviewer:** Vincent Delecroix



---

archive/issue_comments_425027.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2017-04-20T06:12:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22675#issuecomment-425027",
    "user": "https://github.com/videlec"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_425028.json:
```json
{
    "body": "**Changing branch** from \"[u/jdemeyer/upgrade_pari_to_version_2_9_2](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/upgrade_pari_to_version_2_9_2)\" to \"[543c4a1889f21b35483b0bf45e7dbcdb6ce25582](https://github.com/sagemath/sagetrac-mirror/commit/543c4a1889f21b35483b0bf45e7dbcdb6ce25582)\".",
    "created_at": "2017-04-23T12:58:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22675#issuecomment-425028",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jdemeyer/upgrade_pari_to_version_2_9_2](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/upgrade_pari_to_version_2_9_2)" to "[543c4a1889f21b35483b0bf45e7dbcdb6ce25582](https://github.com/sagemath/sagetrac-mirror/commit/543c4a1889f21b35483b0bf45e7dbcdb6ce25582)".



---

archive/issue_comments_425029.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2017-04-23T12:58:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22675#issuecomment-425029",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_events_067217.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-04-23T12:58:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22675",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22675#event-67217"
}
```
