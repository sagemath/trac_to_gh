# Issue 22801: SymPy as optional symbolic method for manifolds

archive/issues_022564.json:
```json
{
    "assignees": [],
    "body": "The symbolic method used for manifolds and differentiable manifolds is \"symbolic\", the default in [SageMath](../wiki/SageMath).\nIn this ticket we introduce the use of SymPy as an option when the Chart in the manifold is created.\n\nAt this point there is a dependence on Sympy ticket:\n\"sympy to sage conversion : Abstract function.\"\nhttps://github.com/sympy/sympy/pull/12826\n\nDepends on #22802\nDepends on #24006\nDepends on #20204\nDepends on #24232\n\nCC:  @egourgoulhon\n\nComponent: **geometry**\n\nAuthor: **Marco Mancini**\n\nBranch/Commit: **[`87877f0`](https://github.com/sagemath/sagetrac-mirror/commit/87877f05a3908e13507afdc281289853a7e1e946)**\n\nReviewer: **Eric Gourgoulhon, Ralf Stephan, Richard Lozes**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/22801_\n\n",
    "closed_at": "2017-12-13T17:38:43Z",
    "created_at": "2017-04-13T09:13:12Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20geometry",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "SymPy as optional symbolic method for manifolds",
    "type": "issue",
    "updated_at": "2017-12-13T17:38:43Z",
    "url": "https://github.com/sagemath/sage/issues/22801",
    "user": "https://github.com/man74cio"
}
```
The symbolic method used for manifolds and differentiable manifolds is "symbolic", the default in [SageMath](../wiki/SageMath).
In this ticket we introduce the use of SymPy as an option when the Chart in the manifold is created.

At this point there is a dependence on Sympy ticket:
"sympy to sage conversion : Abstract function."
https://github.com/sympy/sympy/pull/12826

Depends on #22802
Depends on #24006
Depends on #20204
Depends on #24232

CC:  @egourgoulhon

Component: **geometry**

Author: **Marco Mancini**

Branch/Commit: **[`87877f0`](https://github.com/sagemath/sagetrac-mirror/commit/87877f05a3908e13507afdc281289853a7e1e946)**

Reviewer: **Eric Gourgoulhon, Ralf Stephan, Richard Lozes**

_Issue created by migration from https://trac.sagemath.org/ticket/22801_





---

archive/issue_events_315416.json:
```json
{
    "actor": "https://github.com/man74cio",
    "created_at": "2017-04-13T09:13:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315416"
}
```



---

archive/issue_events_315417.json:
```json
{
    "actor": "https://github.com/man74cio",
    "created_at": "2017-04-13T09:13:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20symbolics",
    "label_color": "0000ff",
    "label_name": "c: symbolics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315417"
}
```



---

archive/issue_events_315418.json:
```json
{
    "actor": "https://github.com/man74cio",
    "created_at": "2017-04-13T09:13:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315418"
}
```



---

archive/issue_events_315419.json:
```json
{
    "actor": "https://github.com/man74cio",
    "created_at": "2017-04-13T09:13:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315419"
}
```



---

archive/issue_comments_339581.json:
```json
{
    "body": "Dependencies: **#22802**",
    "created_at": "2017-04-13T09:44:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339581",
    "user": "https://github.com/man74cio"
}
```

Dependencies: **#22802**



---

archive/issue_comments_339582.json:
```json
{
    "body": "Branch: **[22801-manifold-sympy](https://github.com/sagemath/sagetrac-mirror/tree/22801-manifold-sympy)**",
    "created_at": "2017-04-13T11:29:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339582",
    "user": "https://github.com/man74cio"
}
```

Branch: **[22801-manifold-sympy](https://github.com/sagemath/sagetrac-mirror/tree/22801-manifold-sympy)**



---

archive/issue_comments_339583.json:
```json
{
    "body": "Commit: **[`3da5712`](https://github.com/sagemath/sagetrac-mirror/commit/3da57124a6e7cd88ba7928c0a5bdf67603f321c6)**",
    "created_at": "2017-04-13T11:31:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339583",
    "user": "https://github.com/man74cio"
}
```

Commit: **[`3da5712`](https://github.com/sagemath/sagetrac-mirror/commit/3da57124a6e7cd88ba7928c0a5bdf67603f321c6)**



---

archive/issue_comments_339584.json:
```json
{
    "body": "Changed branch from **[22801-manifold-sympy](https://github.com/sagemath/sagetrac-mirror/tree/22801-manifold-sympy)** to **[public/22801-manifold-sympy](https://github.com/sagemath/sagetrac-mirror/tree/public/22801-manifold-sympy)**",
    "created_at": "2017-04-13T11:31:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339584",
    "user": "https://github.com/man74cio"
}
```

Changed branch from **[22801-manifold-sympy](https://github.com/sagemath/sagetrac-mirror/tree/22801-manifold-sympy)** to **[public/22801-manifold-sympy](https://github.com/sagemath/sagetrac-mirror/tree/public/22801-manifold-sympy)**



---

archive/issue_comments_339585.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b494a4f646383de66c0836b404f60134f88b0497\"><code>b494a4f</code></a></td><td><code>Added sympy symbolic method for manifolds.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3da57124a6e7cd88ba7928c0a5bdf67603f321c6\"><code>3da5712</code></a></td><td><code>merged with develop</code></td></tr></table>\n",
    "created_at": "2017-04-13T11:31:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339585",
    "user": "https://github.com/man74cio"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b494a4f646383de66c0836b404f60134f88b0497"><code>b494a4f</code></a></td><td><code>Added sympy symbolic method for manifolds.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3da57124a6e7cd88ba7928c0a5bdf67603f321c6"><code>3da5712</code></a></td><td><code>merged with develop</code></td></tr></table>




---

archive/issue_events_315420.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-05-12T08:11:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20symbolics",
    "label_color": "0000ff",
    "label_name": "c: symbolics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315420"
}
```



---

archive/issue_events_315421.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-05-12T08:11:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "c: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315421"
}
```



---

archive/issue_comments_339586.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3be45473000c9141d38710f71ea99373b3c747c0\"><code>3be4547</code></a></td><td><code>created the class ChartFunction which will replace the CoordFunction. also the singleton to manage symbolic method was created</code></td></tr></table>\n",
    "created_at": "2017-06-01T15:38:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339586",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3be45473000c9141d38710f71ea99373b3c747c0"><code>3be4547</code></a></td><td><code>created the class ChartFunction which will replace the CoordFunction. also the singleton to manage symbolic method was created</code></td></tr></table>




---

archive/issue_comments_339587.json:
```json
{
    "body": "Changed commit from **[`3da5712`](https://github.com/sagemath/sagetrac-mirror/commit/3da57124a6e7cd88ba7928c0a5bdf67603f321c6)** to **[`3be4547`](https://github.com/sagemath/sagetrac-mirror/commit/3be45473000c9141d38710f71ea99373b3c747c0)**",
    "created_at": "2017-06-01T15:38:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339587",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3da5712`](https://github.com/sagemath/sagetrac-mirror/commit/3da57124a6e7cd88ba7928c0a5bdf67603f321c6)** to **[`3be4547`](https://github.com/sagemath/sagetrac-mirror/commit/3be45473000c9141d38710f71ea99373b3c747c0)**



---

archive/issue_comments_339588.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/01bc6644d4d2647c465920591ff496108f9bcf67\"><code>01bc664</code></a></td><td><code>Merge branch 'public/22801-manifold-sympy' of git://trac.sagemath.org/sage into public/22801-manifold-sympy</code></td></tr></table>\n",
    "created_at": "2017-06-01T16:09:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339588",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/01bc6644d4d2647c465920591ff496108f9bcf67"><code>01bc664</code></a></td><td><code>Merge branch 'public/22801-manifold-sympy' of git://trac.sagemath.org/sage into public/22801-manifold-sympy</code></td></tr></table>




---

archive/issue_comments_339589.json:
```json
{
    "body": "Changed commit from **[`3be4547`](https://github.com/sagemath/sagetrac-mirror/commit/3be45473000c9141d38710f71ea99373b3c747c0)** to **[`01bc664`](https://github.com/sagemath/sagetrac-mirror/commit/01bc6644d4d2647c465920591ff496108f9bcf67)**",
    "created_at": "2017-06-01T16:09:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339589",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3be4547`](https://github.com/sagemath/sagetrac-mirror/commit/3be45473000c9141d38710f71ea99373b3c747c0)** to **[`01bc664`](https://github.com/sagemath/sagetrac-mirror/commit/01bc6644d4d2647c465920591ff496108f9bcf67)**



---

archive/issue_comments_339590.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b07e5fb080271ce765a1f5d27d6b60089e091989\"><code>b07e5fb</code></a></td><td><code>ChartFunction pass almost all tests</code></td></tr></table>\n",
    "created_at": "2017-06-08T13:41:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339590",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b07e5fb080271ce765a1f5d27d6b60089e091989"><code>b07e5fb</code></a></td><td><code>ChartFunction pass almost all tests</code></td></tr></table>




---

archive/issue_comments_339591.json:
```json
{
    "body": "Changed commit from **[`01bc664`](https://github.com/sagemath/sagetrac-mirror/commit/01bc6644d4d2647c465920591ff496108f9bcf67)** to **[`b07e5fb`](https://github.com/sagemath/sagetrac-mirror/commit/b07e5fb080271ce765a1f5d27d6b60089e091989)**",
    "created_at": "2017-06-08T13:41:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339591",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`01bc664`](https://github.com/sagemath/sagetrac-mirror/commit/01bc6644d4d2647c465920591ff496108f9bcf67)** to **[`b07e5fb`](https://github.com/sagemath/sagetrac-mirror/commit/b07e5fb080271ce765a1f5d27d6b60089e091989)**



---

archive/issue_comments_339592.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a1a1f20b1a764d8e867776ffc392bced24dc79e\"><code>9a1a1f2</code></a></td><td><code>added all test for sympy in chart_func</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4998a56d67d052edb8466c77796e987500a242e9\"><code>4998a56</code></a></td><td><code>Changes in chart_func are propagated on all manifolds files.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e2dc01b1e300fe35e9eb5a96f9fb338558b63e4\"><code>1e2dc01</code></a></td><td><code>Propagated changes in manifolds/differentiable and added many tests.</code></td></tr></table>\n",
    "created_at": "2017-06-27T14:03:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339592",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a1a1f20b1a764d8e867776ffc392bced24dc79e"><code>9a1a1f2</code></a></td><td><code>added all test for sympy in chart_func</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4998a56d67d052edb8466c77796e987500a242e9"><code>4998a56</code></a></td><td><code>Changes in chart_func are propagated on all manifolds files.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e2dc01b1e300fe35e9eb5a96f9fb338558b63e4"><code>1e2dc01</code></a></td><td><code>Propagated changes in manifolds/differentiable and added many tests.</code></td></tr></table>




---

archive/issue_comments_339593.json:
```json
{
    "body": "Changed commit from **[`b07e5fb`](https://github.com/sagemath/sagetrac-mirror/commit/b07e5fb080271ce765a1f5d27d6b60089e091989)** to **[`1e2dc01`](https://github.com/sagemath/sagetrac-mirror/commit/1e2dc01b1e300fe35e9eb5a96f9fb338558b63e4)**",
    "created_at": "2017-06-27T14:03:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339593",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b07e5fb`](https://github.com/sagemath/sagetrac-mirror/commit/b07e5fb080271ce765a1f5d27d6b60089e091989)** to **[`1e2dc01`](https://github.com/sagemath/sagetrac-mirror/commit/1e2dc01b1e300fe35e9eb5a96f9fb338558b63e4)**



---

archive/issue_comments_339594.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,6 @@\n The symbolic method used for manifolds and differentiable manifolds is \"symbolic\", the default in [SageMath](../wiki/SageMath).\n In this ticket we introduce the use of SymPy as an option when the Chart in the manifold is created.\n+\n+At this point there is a dependence on Sympy ticket:\n+\"sympy to sage conversion : Abstract function.\"\n+https://github.com/sympy/sympy/pull/12826\n``````\n",
    "created_at": "2017-06-28T11:02:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339594",
    "user": "https://github.com/man74cio"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,6 @@
 The symbolic method used for manifolds and differentiable manifolds is "symbolic", the default in [SageMath](../wiki/SageMath).
 In this ticket we introduce the use of SymPy as an option when the Chart in the manifold is created.
+
+At this point there is a dependence on Sympy ticket:
+"sympy to sage conversion : Abstract function."
+https://github.com/sympy/sympy/pull/12826
``````




---

archive/issue_comments_339595.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7fcf258a2ca94c6138a721bd816ddb0a98e11cb2\"><code>7fcf258</code></a></td><td><code>passing all test if src/sage/symbolic/expression_conversions.py and changed as in #22802</code></td></tr></table>\n",
    "created_at": "2017-07-19T12:20:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339595",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7fcf258a2ca94c6138a721bd816ddb0a98e11cb2"><code>7fcf258</code></a></td><td><code>passing all test if src/sage/symbolic/expression_conversions.py and changed as in #22802</code></td></tr></table>




---

archive/issue_comments_339596.json:
```json
{
    "body": "Changed commit from **[`1e2dc01`](https://github.com/sagemath/sagetrac-mirror/commit/1e2dc01b1e300fe35e9eb5a96f9fb338558b63e4)** to **[`7fcf258`](https://github.com/sagemath/sagetrac-mirror/commit/7fcf258a2ca94c6138a721bd816ddb0a98e11cb2)**",
    "created_at": "2017-07-19T12:20:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339596",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1e2dc01`](https://github.com/sagemath/sagetrac-mirror/commit/1e2dc01b1e300fe35e9eb5a96f9fb338558b63e4)** to **[`7fcf258`](https://github.com/sagemath/sagetrac-mirror/commit/7fcf258a2ca94c6138a721bd816ddb0a98e11cb2)**



---

archive/issue_comments_339597.json:
```json
{
    "body": "Changed commit from **[`7fcf258`](https://github.com/sagemath/sagetrac-mirror/commit/7fcf258a2ca94c6138a721bd816ddb0a98e11cb2)** to **[`66f73df`](https://github.com/sagemath/sagetrac-mirror/commit/66f73dfedce548c8bc61b14ba5f671d5111ac480)**",
    "created_at": "2017-09-08T14:30:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339597",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7fcf258`](https://github.com/sagemath/sagetrac-mirror/commit/7fcf258a2ca94c6138a721bd816ddb0a98e11cb2)** to **[`66f73df`](https://github.com/sagemath/sagetrac-mirror/commit/66f73dfedce548c8bc61b14ba5f671d5111ac480)**



---

archive/issue_comments_339598.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/068d495bb14e3702a8bd9d598dc812c4f12542cb\"><code>068d495</code></a></td><td><code>Merge branch 'public/22802_sympy_abstact_function' of git://trac.sagemath.org/sage into public/22802_sympy_abstact_function</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/078532f03b0720617ba5a25b965ec5d6805eb541\"><code>078532f</code></a></td><td><code>docstring modifications</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/67f7f4693f271e068e0e073b70909d5013608cf0\"><code>67f7f46</code></a></td><td><code>integrated modifications to composition. But an error remains in french_book.recequadiff tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b5227d6a85a540663aa138e8304a9055ba110fd\"><code>1b5227d</code></a></td><td><code>Error in french_book.recequadiff tests corrected</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/018d753eedd53686dfd4f086dfb7c20dda02b7e0\"><code>018d753</code></a></td><td><code>Merge branch 'develop' into t/23496/public/23496_patch_sympy_abstact_function</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94af74bb32f09a0b2d08b50e2ef34f22e8212d9f\"><code>94af74b</code></a></td><td><code>#23496 : (temp) revert order in rsolve recequadiff.tex test</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d76caea0b97af8769edf9a1064db9f7486232b1d\"><code>d76caea</code></a></td><td><code>#23496 : add message for change in doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bc21300122019b04a30dba02aaa2cd728ff7453f\"><code>bc21300</code></a></td><td><code>#23496 : fix a `_sympy_init_` doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0be1d909ba8dda133a45e08a4470951e0935092f\"><code>0be1d90</code></a></td><td><code>Merge branch 'public/23496_patch_sympy_abstract_function' into 22802_sympy_abstract_function</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/66f73dfedce548c8bc61b14ba5f671d5111ac480\"><code>66f73df</code></a></td><td><code>Merge branch 'public/22802_sympy_abstract_function' of git://trac.sagemath.org/sage into public/22801-manifold-sympy</code></td></tr></table>\n",
    "created_at": "2017-09-08T14:30:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339598",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/068d495bb14e3702a8bd9d598dc812c4f12542cb"><code>068d495</code></a></td><td><code>Merge branch 'public/22802_sympy_abstact_function' of git://trac.sagemath.org/sage into public/22802_sympy_abstact_function</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/078532f03b0720617ba5a25b965ec5d6805eb541"><code>078532f</code></a></td><td><code>docstring modifications</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/67f7f4693f271e068e0e073b70909d5013608cf0"><code>67f7f46</code></a></td><td><code>integrated modifications to composition. But an error remains in french_book.recequadiff tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b5227d6a85a540663aa138e8304a9055ba110fd"><code>1b5227d</code></a></td><td><code>Error in french_book.recequadiff tests corrected</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/018d753eedd53686dfd4f086dfb7c20dda02b7e0"><code>018d753</code></a></td><td><code>Merge branch 'develop' into t/23496/public/23496_patch_sympy_abstact_function</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94af74bb32f09a0b2d08b50e2ef34f22e8212d9f"><code>94af74b</code></a></td><td><code>#23496 : (temp) revert order in rsolve recequadiff.tex test</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d76caea0b97af8769edf9a1064db9f7486232b1d"><code>d76caea</code></a></td><td><code>#23496 : add message for change in doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bc21300122019b04a30dba02aaa2cd728ff7453f"><code>bc21300</code></a></td><td><code>#23496 : fix a `_sympy_init_` doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0be1d909ba8dda133a45e08a4470951e0935092f"><code>0be1d90</code></a></td><td><code>Merge branch 'public/23496_patch_sympy_abstract_function' into 22802_sympy_abstract_function</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/66f73dfedce548c8bc61b14ba5f671d5111ac480"><code>66f73df</code></a></td><td><code>Merge branch 'public/22802_sympy_abstract_function' of git://trac.sagemath.org/sage into public/22801-manifold-sympy</code></td></tr></table>




---

archive/issue_comments_339599.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fdb396baa4a2c5027c7a890b22de675949512669\"><code>fdb396b</code></a></td><td><code>Minor changes in chart_func</code></td></tr></table>\n",
    "created_at": "2017-09-13T09:28:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339599",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fdb396baa4a2c5027c7a890b22de675949512669"><code>fdb396b</code></a></td><td><code>Minor changes in chart_func</code></td></tr></table>




---

archive/issue_comments_339600.json:
```json
{
    "body": "Changed commit from **[`66f73df`](https://github.com/sagemath/sagetrac-mirror/commit/66f73dfedce548c8bc61b14ba5f671d5111ac480)** to **[`fdb396b`](https://github.com/sagemath/sagetrac-mirror/commit/fdb396baa4a2c5027c7a890b22de675949512669)**",
    "created_at": "2017-09-13T09:28:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339600",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`66f73df`](https://github.com/sagemath/sagetrac-mirror/commit/66f73dfedce548c8bc61b14ba5f671d5111ac480)** to **[`fdb396b`](https://github.com/sagemath/sagetrac-mirror/commit/fdb396baa4a2c5027c7a890b22de675949512669)**



---

archive/issue_comments_339601.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8f20b54684118bf5c274c540893d397e45d3171f\"><code>8f20b54</code></a></td><td><code>Merge branch 'develop' into public/22801-manifold-sympy</code></td></tr></table>\n",
    "created_at": "2017-09-13T12:08:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339601",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8f20b54684118bf5c274c540893d397e45d3171f"><code>8f20b54</code></a></td><td><code>Merge branch 'develop' into public/22801-manifold-sympy</code></td></tr></table>




---

archive/issue_comments_339602.json:
```json
{
    "body": "Changed commit from **[`fdb396b`](https://github.com/sagemath/sagetrac-mirror/commit/fdb396baa4a2c5027c7a890b22de675949512669)** to **[`8f20b54`](https://github.com/sagemath/sagetrac-mirror/commit/8f20b54684118bf5c274c540893d397e45d3171f)**",
    "created_at": "2017-09-13T12:08:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339602",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fdb396b`](https://github.com/sagemath/sagetrac-mirror/commit/fdb396baa4a2c5027c7a890b22de675949512669)** to **[`8f20b54`](https://github.com/sagemath/sagetrac-mirror/commit/8f20b54684118bf5c274c540893d397e45d3171f)**



---

archive/issue_events_315422.json:
```json
{
    "actor": "https://github.com/man74cio",
    "created_at": "2017-09-13T12:16:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315422"
}
```



---

archive/issue_comments_339603.json:
```json
{
    "body": "Reviewer: **Eric Gourgoulhon**",
    "created_at": "2017-09-13T12:16:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339603",
    "user": "https://github.com/man74cio"
}
```

Reviewer: **Eric Gourgoulhon**



---

archive/issue_comments_339604.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/102a3e124d9c5e6a766cae6352ab1956191dc2c9\"><code>102a3e1</code></a></td><td><code>error in docstring</code></td></tr></table>\n",
    "created_at": "2017-09-14T11:18:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339604",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/102a3e124d9c5e6a766cae6352ab1956191dc2c9"><code>102a3e1</code></a></td><td><code>error in docstring</code></td></tr></table>




---

archive/issue_comments_339605.json:
```json
{
    "body": "Changed commit from **[`8f20b54`](https://github.com/sagemath/sagetrac-mirror/commit/8f20b54684118bf5c274c540893d397e45d3171f)** to **[`102a3e1`](https://github.com/sagemath/sagetrac-mirror/commit/102a3e124d9c5e6a766cae6352ab1956191dc2c9)**",
    "created_at": "2017-09-14T11:18:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339605",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8f20b54`](https://github.com/sagemath/sagetrac-mirror/commit/8f20b54684118bf5c274c540893d397e45d3171f)** to **[`102a3e1`](https://github.com/sagemath/sagetrac-mirror/commit/102a3e124d9c5e6a766cae6352ab1956191dc2c9)**



---

archive/issue_comments_339606.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nThere are a few things that need fixing.\n\n- Not all methods have docstrings/tests\n- There are a number of tests where the line before is informational, but it needs a blankline, e.g.:\n\n  ```diff\n  @@ -1641,6 +1641,19 @@ class TopologicalManifold(ManifoldSubset):\n               F: U --> R\n                  (x, y, z) |--> cos(y)*sin(x) + z\n   \n  +\n  +        Same tests with ``sympy``::\n  +            sage: c_xyz.set_calculus_method('sympy')\n  +            sage: f = U.scalar_field(sin(x)*cos(y) + z, name='F'); f\n  +            Scalar field F on the Open subset U of the 3-dimensional topological manifold M\n  +            sage: f.display()\n  +            F: U --> R\n  +               (x, y, z) |--> cos(y)*sin(x) + z\n  +\n  +            sage: type(f.coord_function(c_xyz).expr())\n  +               <class 'sympy.core.add.Add'>\n  +\n  +\n```\n- IMO, you are too liberal with your blanklines spacing things out that makes the code a little uneven to read.",
    "created_at": "2017-09-15T20:48:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339606",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:17" align="right">comment:17</div>

There are a few things that need fixing.

- Not all methods have docstrings/tests
- There are a number of tests where the line before is informational, but it needs a blankline, e.g.:

  ```diff
  @@ -1641,6 +1641,19 @@ class TopologicalManifold(ManifoldSubset):
               F: U --> R
                  (x, y, z) |--> cos(y)*sin(x) + z
   
  +
  +        Same tests with ``sympy``::
  +            sage: c_xyz.set_calculus_method('sympy')
  +            sage: f = U.scalar_field(sin(x)*cos(y) + z, name='F'); f
  +            Scalar field F on the Open subset U of the 3-dimensional topological manifold M
  +            sage: f.display()
  +            F: U --> R
  +               (x, y, z) |--> cos(y)*sin(x) + z
  +
  +            sage: type(f.coord_function(c_xyz).expr())
  +               <class 'sympy.core.add.Add'>
  +
  +
```
- IMO, you are too liberal with your blanklines spacing things out that makes the code a little uneven to read.



---

archive/issue_events_315423.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-09-15T20:48:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315423"
}
```



---

archive/issue_events_315424.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2017-09-15T20:48:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315424"
}
```



---

archive/issue_comments_339607.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4800d97f9dca68300c1799541b4b208a5b43d023\"><code>4800d97</code></a></td><td><code>Added better (I hope) docstring</code></td></tr></table>\n",
    "created_at": "2017-09-21T13:39:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339607",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4800d97f9dca68300c1799541b4b208a5b43d023"><code>4800d97</code></a></td><td><code>Added better (I hope) docstring</code></td></tr></table>




---

archive/issue_comments_339608.json:
```json
{
    "body": "Changed commit from **[`102a3e1`](https://github.com/sagemath/sagetrac-mirror/commit/102a3e124d9c5e6a766cae6352ab1956191dc2c9)** to **[`4800d97`](https://github.com/sagemath/sagetrac-mirror/commit/4800d97f9dca68300c1799541b4b208a5b43d023)**",
    "created_at": "2017-09-21T13:39:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339608",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`102a3e1`](https://github.com/sagemath/sagetrac-mirror/commit/102a3e124d9c5e6a766cae6352ab1956191dc2c9)** to **[`4800d97`](https://github.com/sagemath/sagetrac-mirror/commit/4800d97f9dca68300c1799541b4b208a5b43d023)**



---

archive/issue_events_315425.json:
```json
{
    "actor": "https://github.com/man74cio",
    "created_at": "2017-09-21T13:40:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315425"
}
```



---

archive/issue_events_315426.json:
```json
{
    "actor": "https://github.com/man74cio",
    "created_at": "2017-09-21T13:40:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315426"
}
```



---

archive/issue_comments_339609.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI hope that now the docstring is better (and less liberal)",
    "created_at": "2017-09-21T13:40:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339609",
    "user": "https://github.com/man74cio"
}
```

<div id="comment:19" align="right">comment:19</div>

I hope that now the docstring is better (and less liberal)



---

archive/issue_comments_339610.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@man74cio](#comment%3A19):\n> I hope that now the docstring is better (and less liberal) \n\nThanks a lot for these improvements! I'll have a look at the code next week. Just a quick comment: as revealed by the patchbot, there are still some coverage issue, as well as a problem with `sage/manifolds/chart_func.py` when building the documentation. There are also some doctest failures.",
    "created_at": "2017-09-21T19:35:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339610",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@man74cio](#comment%3A19):
> I hope that now the docstring is better (and less liberal) 

Thanks a lot for these improvements! I'll have a look at the code next week. Just a quick comment: as revealed by the patchbot, there are still some coverage issue, as well as a problem with `sage/manifolds/chart_func.py` when building the documentation. There are also some doctest failures.



---

archive/issue_comments_339611.json:
```json
{
    "body": "Changed commit from **[`4800d97`](https://github.com/sagemath/sagetrac-mirror/commit/4800d97f9dca68300c1799541b4b208a5b43d023)** to **[`ae47c5d`](https://github.com/sagemath/sagetrac-mirror/commit/ae47c5d7311287403f0ba44e943cc322c33da315)**",
    "created_at": "2017-09-22T14:36:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339611",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4800d97`](https://github.com/sagemath/sagetrac-mirror/commit/4800d97f9dca68300c1799541b4b208a5b43d023)** to **[`ae47c5d`](https://github.com/sagemath/sagetrac-mirror/commit/ae47c5d7311287403f0ba44e943cc322c33da315)**



---

archive/issue_comments_339612.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ae47c5d7311287403f0ba44e943cc322c33da315\"><code>ae47c5d</code></a></td><td><code>Again changes in docstring</code></td></tr></table>\n",
    "created_at": "2017-09-22T14:36:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339612",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ae47c5d7311287403f0ba44e943cc322c33da315"><code>ae47c5d</code></a></td><td><code>Again changes in docstring</code></td></tr></table>




---

archive/issue_comments_339613.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nAccording to the patchbots, there are still failing doctests in `tensorfield.py` and the doc does not build.",
    "created_at": "2017-10-02T09:17:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339613",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:22" align="right">comment:22</div>

According to the patchbots, there are still failing doctests in `tensorfield.py` and the doc does not build.



---

archive/issue_events_315427.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2017-10-02T09:17:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315427"
}
```



---

archive/issue_events_315428.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2017-10-02T09:17:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315428"
}
```



---

archive/issue_comments_339614.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/611f5de331fef531e0ac7effd6a88fa70f743103\"><code>611f5de</code></a></td><td><code>docstring: again problems with sympy</code></td></tr></table>\n",
    "created_at": "2017-10-02T19:52:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339614",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/611f5de331fef531e0ac7effd6a88fa70f743103"><code>611f5de</code></a></td><td><code>docstring: again problems with sympy</code></td></tr></table>




---

archive/issue_comments_339615.json:
```json
{
    "body": "Changed commit from **[`ae47c5d`](https://github.com/sagemath/sagetrac-mirror/commit/ae47c5d7311287403f0ba44e943cc322c33da315)** to **[`611f5de`](https://github.com/sagemath/sagetrac-mirror/commit/611f5de331fef531e0ac7effd6a88fa70f743103)**",
    "created_at": "2017-10-02T19:52:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339615",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ae47c5d`](https://github.com/sagemath/sagetrac-mirror/commit/ae47c5d7311287403f0ba44e943cc322c33da315)** to **[`611f5de`](https://github.com/sagemath/sagetrac-mirror/commit/611f5de331fef531e0ac7effd6a88fa70f743103)**



---

archive/issue_events_315429.json:
```json
{
    "actor": "https://github.com/man74cio",
    "created_at": "2017-10-02T19:54:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315429"
}
```



---

archive/issue_events_315430.json:
```json
{
    "actor": "https://github.com/man74cio",
    "created_at": "2017-10-02T19:54:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315430"
}
```



---

archive/issue_comments_339616.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nThe last commit fixes the doc build, but not the doctest failures in `tensorfield.py`.",
    "created_at": "2017-10-03T16:20:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339616",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:25" align="right">comment:25</div>

The last commit fixes the doc build, but not the doctest failures in `tensorfield.py`.



---

archive/issue_events_315431.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2017-10-03T16:20:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315431"
}
```



---

archive/issue_events_315432.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2017-10-03T16:20:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315432"
}
```



---

archive/issue_comments_339617.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd82a154e88edc0be9246337c7146e7088ab8b77\"><code>dd82a15</code></a></td><td><code>chart_func : changing again display depending on calculus method</code></td></tr></table>\n",
    "created_at": "2017-10-04T14:19:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339617",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd82a154e88edc0be9246337c7146e7088ab8b77"><code>dd82a15</code></a></td><td><code>chart_func : changing again display depending on calculus method</code></td></tr></table>




---

archive/issue_comments_339618.json:
```json
{
    "body": "Changed commit from **[`611f5de`](https://github.com/sagemath/sagetrac-mirror/commit/611f5de331fef531e0ac7effd6a88fa70f743103)** to **[`dd82a15`](https://github.com/sagemath/sagetrac-mirror/commit/dd82a154e88edc0be9246337c7146e7088ab8b77)**",
    "created_at": "2017-10-04T14:19:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339618",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`611f5de`](https://github.com/sagemath/sagetrac-mirror/commit/611f5de331fef531e0ac7effd6a88fa70f743103)** to **[`dd82a15`](https://github.com/sagemath/sagetrac-mirror/commit/dd82a154e88edc0be9246337c7146e7088ab8b77)**



---

archive/issue_comments_339619.json:
```json
{
    "body": "Changed commit from **[`dd82a15`](https://github.com/sagemath/sagetrac-mirror/commit/dd82a154e88edc0be9246337c7146e7088ab8b77)** to **[`c1d9e4f`](https://github.com/sagemath/sagetrac-mirror/commit/c1d9e4fec66987ea82a7b22d298839979ed15ac0)**",
    "created_at": "2017-10-05T06:59:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339619",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`dd82a15`](https://github.com/sagemath/sagetrac-mirror/commit/dd82a154e88edc0be9246337c7146e7088ab8b77)** to **[`c1d9e4f`](https://github.com/sagemath/sagetrac-mirror/commit/c1d9e4fec66987ea82a7b22d298839979ed15ac0)**



---

archive/issue_comments_339620.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c1d9e4fec66987ea82a7b22d298839979ed15ac0\"><code>c1d9e4f</code></a></td><td><code>chart_func : changing again display depending on calculus method. All test passed</code></td></tr></table>\n",
    "created_at": "2017-10-05T06:59:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339620",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c1d9e4fec66987ea82a7b22d298839979ed15ac0"><code>c1d9e4f</code></a></td><td><code>chart_func : changing again display depending on calculus method. All test passed</code></td></tr></table>




---

archive/issue_comments_339621.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nDisplay for ``ChartFunction`` has been changed: now the result is different for  ``Sympy`` and ``SR``. All test results have been modified.",
    "created_at": "2017-10-05T07:02:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339621",
    "user": "https://github.com/man74cio"
}
```

<div id="comment:28" align="right">comment:28</div>

Display for ``ChartFunction`` has been changed: now the result is different for  ``Sympy`` and ``SR``. All test results have been modified.



---

archive/issue_events_315433.json:
```json
{
    "actor": "https://github.com/man74cio",
    "created_at": "2017-10-05T07:02:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315433"
}
```



---

archive/issue_events_315434.json:
```json
{
    "actor": "https://github.com/man74cio",
    "created_at": "2017-10-05T07:02:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315434"
}
```



---

archive/issue_comments_339622.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fb0fb7e66395268a1c3e7d9abbf8b5613bf813bf\"><code>fb0fb7e</code></a></td><td><code>SymPy on manifolds: first reviewer tweaks (more to come)</code></td></tr></table>\n",
    "created_at": "2017-10-06T16:29:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339622",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fb0fb7e66395268a1c3e7d9abbf8b5613bf813bf"><code>fb0fb7e</code></a></td><td><code>SymPy on manifolds: first reviewer tweaks (more to come)</code></td></tr></table>




---

archive/issue_comments_339623.json:
```json
{
    "body": "Changed commit from **[`c1d9e4f`](https://github.com/sagemath/sagetrac-mirror/commit/c1d9e4fec66987ea82a7b22d298839979ed15ac0)** to **[`fb0fb7e`](https://github.com/sagemath/sagetrac-mirror/commit/fb0fb7e66395268a1c3e7d9abbf8b5613bf813bf)**",
    "created_at": "2017-10-06T16:29:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339623",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c1d9e4f`](https://github.com/sagemath/sagetrac-mirror/commit/c1d9e4fec66987ea82a7b22d298839979ed15ac0)** to **[`fb0fb7e`](https://github.com/sagemath/sagetrac-mirror/commit/fb0fb7e66395268a1c3e7d9abbf8b5613bf813bf)**



---

archive/issue_comments_339624.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@sagetrac-git](#comment%3A29):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fb0fb7e66395268a1c3e7d9abbf8b5613bf813bf\"><code>fb0fb7e</code></a></td><td><code>SymPy on manifolds: first reviewer tweaks (more to come)</code></td></tr></table>\n\nI see in the difference the following one:\n\n```\n@@ -231,7 +225,7 @@ class DiffForm(TensorField):\n         sage: a.display(eU)\n         a = x*(y**2 + 2) dx/\\dy\n         sage: a.display(eV)\n-        a = (-u**3/16 + u**2*v/16 + u*v**2/16 - u/2 - v**3/16 - v/2) du/\\dv\n+        a = (-u**3/16 + u*v**2/16 - u/2 - v**3/16 + v*(u**2 - 8)/16) du/\\dv\n```\n\nI found is surprising : do you know where this difference comes from?",
    "created_at": "2017-10-06T20:38:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339624",
    "user": "https://github.com/man74cio"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@sagetrac-git](#comment%3A29):
> Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fb0fb7e66395268a1c3e7d9abbf8b5613bf813bf"><code>fb0fb7e</code></a></td><td><code>SymPy on manifolds: first reviewer tweaks (more to come)</code></td></tr></table>

I see in the difference the following one:

```
@@ -231,7 +225,7 @@ class DiffForm(TensorField):
         sage: a.display(eU)
         a = x*(y**2 + 2) dx/\dy
         sage: a.display(eV)
-        a = (-u**3/16 + u**2*v/16 + u*v**2/16 - u/2 - v**3/16 - v/2) du/\dv
+        a = (-u**3/16 + u*v**2/16 - u/2 - v**3/16 + v*(u**2 - 8)/16) du/\dv
```

I found is surprising : do you know where this difference comes from?



---

archive/issue_comments_339625.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@man74cio](#comment%3A30):\n> \n> I see in the difference the following one:\n> \n> ```\n> @@ -231,7 +225,7 @@ class DiffForm(TensorField):\n>          sage: a.display(eU)\n>          a = x*(y**2 + 2) dx/\\dy\n>          sage: a.display(eV)\n> -        a = (-u**3/16 + u**2*v/16 + u*v**2/16 - u/2 - v**3/16 - v/2) du/\\dv\n> +        a = (-u**3/16 + u*v**2/16 - u/2 - v**3/16 + v*(u**2 - 8)/16) du/\\dv\n> ```\n> \n> I found is surprising : do you know where this difference comes from? \n\nIt is due to a different setting: in the previous version, the transition map `xy_to_uv` was redefined, thereby causing a different handling of computations between `SR` and `sympy`. Note that the two expressions of `a` are mathematically equivalent, which is satisfactory.",
    "created_at": "2017-10-07T12:12:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339625",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@man74cio](#comment%3A30):
> 
> I see in the difference the following one:
> 
> ```
> @@ -231,7 +225,7 @@ class DiffForm(TensorField):
>          sage: a.display(eU)
>          a = x*(y**2 + 2) dx/\dy
>          sage: a.display(eV)
> -        a = (-u**3/16 + u**2*v/16 + u*v**2/16 - u/2 - v**3/16 - v/2) du/\dv
> +        a = (-u**3/16 + u*v**2/16 - u/2 - v**3/16 + v*(u**2 - 8)/16) du/\dv
> ```
> 
> I found is surprising : do you know where this difference comes from? 

It is due to a different setting: in the previous version, the transition map `xy_to_uv` was redefined, thereby causing a different handling of computations between `SR` and `sympy`. Note that the two expressions of `a` are mathematically equivalent, which is satisfactory.



---

archive/issue_comments_339626.json:
```json
{
    "body": "Changed commit from **[`fb0fb7e`](https://github.com/sagemath/sagetrac-mirror/commit/fb0fb7e66395268a1c3e7d9abbf8b5613bf813bf)** to **[`f985a2f`](https://github.com/sagemath/sagetrac-mirror/commit/f985a2f3fed328b8b008f53afb080691d32c64b7)**",
    "created_at": "2017-10-08T21:25:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339626",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fb0fb7e`](https://github.com/sagemath/sagetrac-mirror/commit/fb0fb7e66395268a1c3e7d9abbf8b5613bf813bf)** to **[`f985a2f`](https://github.com/sagemath/sagetrac-mirror/commit/f985a2f3fed328b8b008f53afb080691d32c64b7)**



---

archive/issue_comments_339627.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f985a2f3fed328b8b008f53afb080691d32c64b7\"><code>f985a2f</code></a></td><td><code>SymPy on manifolds: second reviewer tweaks (a slight more to come)</code></td></tr></table>\n",
    "created_at": "2017-10-08T21:25:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339627",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f985a2f3fed328b8b008f53afb080691d32c64b7"><code>f985a2f</code></a></td><td><code>SymPy on manifolds: second reviewer tweaks (a slight more to come)</code></td></tr></table>




---

archive/issue_comments_339628.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nThe above commit contains some polishing of the code (mostly layout) and improvements in the documentation. In particular, it restores the section the rubric *Differences between chart fucntions and callable symbolic expressions* of the previous class `CoordFunctionSymb`. \n\nTwo questions: \n\n- Why is there an argument `expression` in method `ChartFunction._simplify`? I mean, if `expression` is not `self.expr(method=calc_method)`, why not calling directly the `simplify` method of `CalculusMethod` on it?\n\n- In the docstring of `ChartFunctionRing._coerce_map_from_`, there is a TODO section with *There is a problem with coercion with rationals*. What is that?",
    "created_at": "2017-10-08T21:39:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339628",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:33" align="right">comment:33</div>

The above commit contains some polishing of the code (mostly layout) and improvements in the documentation. In particular, it restores the section the rubric *Differences between chart fucntions and callable symbolic expressions* of the previous class `CoordFunctionSymb`. 

Two questions: 

- Why is there an argument `expression` in method `ChartFunction._simplify`? I mean, if `expression` is not `self.expr(method=calc_method)`, why not calling directly the `simplify` method of `CalculusMethod` on it?

- In the docstring of `ChartFunctionRing._coerce_map_from_`, there is a TODO section with *There is a problem with coercion with rationals*. What is that?



---

archive/issue_comments_339629.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@egourgoulhon](#comment%3A33):\n> The above commit contains some polishing of the code (mostly layout) and improvements in the documentation. In particular, it restores the section the rubric *Differences between chart fucntions and callable symbolic expressions* of the previous class `CoordFunctionSymb`. \n\nThanks\n\n> \n> Two questions: \n> \n> - Why is there an argument `expression` in method `ChartFunction._simplify`? I mean, if `expression` is not `self.expr(method=calc_method)`, why not calling directly the `simplify` method of `CalculusMethod` on it?\n\nAt a particular moment during development I introduced it but I don't remember its functionality. As it is used only internally to `ChartFunction` I will remove this argument. \n \n> - In the docstring of `ChartFunctionRing._coerce_map_from_`, there is a TODO section with *There is a problem with coercion with rationals*. What is that?\n\nLook at this example:\n\n```\nM = Manifold(2, 'M', structure='topological')\nX.<x,y> = M.chart()\nf = X.function(x^2+3*y+1)\ng = f+1/2\n\nTypeError                                 Traceback (most recent call last)\n<ipython-input-5-83503284e242> in <module>()\n----> 1 g=f+Integer(1)/Integer(2)\n\n/home/mmancini/Sage-last/sage/src/sage/structure/element.pyx in sage.structure.element.Element.__add__ (build/cythonized/sage/structure/element.c:10823)()\n   1240         # Left and right are Sage elements => use coercion model\n   1241         if BOTH_ARE_ELEMENT(cl):\n-> 1242             return coercion_model.bin_op(left, right, add)\n   1243 \n   1244         try:\n\n...\n...\n...\n```",
    "created_at": "2017-10-09T08:56:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339629",
    "user": "https://github.com/man74cio"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@egourgoulhon](#comment%3A33):
> The above commit contains some polishing of the code (mostly layout) and improvements in the documentation. In particular, it restores the section the rubric *Differences between chart fucntions and callable symbolic expressions* of the previous class `CoordFunctionSymb`. 

Thanks

> 
> Two questions: 
> 
> - Why is there an argument `expression` in method `ChartFunction._simplify`? I mean, if `expression` is not `self.expr(method=calc_method)`, why not calling directly the `simplify` method of `CalculusMethod` on it?

At a particular moment during development I introduced it but I don't remember its functionality. As it is used only internally to `ChartFunction` I will remove this argument. 
 
> - In the docstring of `ChartFunctionRing._coerce_map_from_`, there is a TODO section with *There is a problem with coercion with rationals*. What is that?

Look at this example:

```
M = Manifold(2, 'M', structure='topological')
X.<x,y> = M.chart()
f = X.function(x^2+3*y+1)
g = f+1/2

TypeError                                 Traceback (most recent call last)
<ipython-input-5-83503284e242> in <module>()
----> 1 g=f+Integer(1)/Integer(2)

/home/mmancini/Sage-last/sage/src/sage/structure/element.pyx in sage.structure.element.Element.__add__ (build/cythonized/sage/structure/element.c:10823)()
   1240         # Left and right are Sage elements => use coercion model
   1241         if BOTH_ARE_ELEMENT(cl):
-> 1242             return coercion_model.bin_op(left, right, add)
   1243 
   1244         try:

...
...
...
```



---

archive/issue_comments_339630.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c8b3bdcd62d9a864ecf3236524c8b22902cc1d3f\"><code>c8b3bdc</code></a></td><td><code>ChartFunction: modification of _symplify</code></td></tr></table>\n",
    "created_at": "2017-10-09T09:22:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339630",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c8b3bdcd62d9a864ecf3236524c8b22902cc1d3f"><code>c8b3bdc</code></a></td><td><code>ChartFunction: modification of _symplify</code></td></tr></table>




---

archive/issue_comments_339631.json:
```json
{
    "body": "Changed commit from **[`f985a2f`](https://github.com/sagemath/sagetrac-mirror/commit/f985a2f3fed328b8b008f53afb080691d32c64b7)** to **[`c8b3bdc`](https://github.com/sagemath/sagetrac-mirror/commit/c8b3bdcd62d9a864ecf3236524c8b22902cc1d3f)**",
    "created_at": "2017-10-09T09:22:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339631",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f985a2f`](https://github.com/sagemath/sagetrac-mirror/commit/f985a2f3fed328b8b008f53afb080691d32c64b7)** to **[`c8b3bdc`](https://github.com/sagemath/sagetrac-mirror/commit/c8b3bdcd62d9a864ecf3236524c8b22902cc1d3f)**



---

archive/issue_comments_339632.json:
```json
{
    "body": "Changed commit from **[`c8b3bdc`](https://github.com/sagemath/sagetrac-mirror/commit/c8b3bdcd62d9a864ecf3236524c8b22902cc1d3f)** to **[`e1052fa`](https://github.com/sagemath/sagetrac-mirror/commit/e1052fab39827595b670bb4d4b5651102781fb3b)**",
    "created_at": "2017-10-09T15:53:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339632",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c8b3bdc`](https://github.com/sagemath/sagetrac-mirror/commit/c8b3bdcd62d9a864ecf3236524c8b22902cc1d3f)** to **[`e1052fa`](https://github.com/sagemath/sagetrac-mirror/commit/e1052fab39827595b670bb4d4b5651102781fb3b)**



---

archive/issue_comments_339633.json:
```json
{
    "body": "<div id=\"comment:36\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e1052fab39827595b670bb4d4b5651102781fb3b\"><code>e1052fa</code></a></td><td><code>Use of SymPy subs when relevant in ChartFunction.__call__</code></td></tr></table>\n",
    "created_at": "2017-10-09T15:53:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339633",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e1052fab39827595b670bb4d4b5651102781fb3b"><code>e1052fa</code></a></td><td><code>Use of SymPy subs when relevant in ChartFunction.__call__</code></td></tr></table>




---

archive/issue_comments_339634.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nThe above commit\n\n- makes `_simplify` a mere shortcut to `CalculusMethod.simplify` in `ChartFunction`\n- introduces the data member `._chart` in class `ChartFunction`\n- uses SymPy substitutions (instead of forcing a conversion to `SR`) in `ChartFunction.__call__` when dealing with SymPy expressions\n- makes sure that `simplify_chain_real_sympy` returns a SymPy object\n- fixes the issue of coercion of `QQ` to `ChartFunctionRing`",
    "created_at": "2017-10-09T19:15:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339634",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:37" align="right">comment:37</div>

The above commit

- makes `_simplify` a mere shortcut to `CalculusMethod.simplify` in `ChartFunction`
- introduces the data member `._chart` in class `ChartFunction`
- uses SymPy substitutions (instead of forcing a conversion to `SR`) in `ChartFunction.__call__` when dealing with SymPy expressions
- makes sure that `simplify_chain_real_sympy` returns a SymPy object
- fixes the issue of coercion of `QQ` to `ChartFunctionRing`



---

archive/issue_comments_339635.json:
```json
{
    "body": "Changed commit from **[`e1052fa`](https://github.com/sagemath/sagetrac-mirror/commit/e1052fab39827595b670bb4d4b5651102781fb3b)** to **[`124c582`](https://github.com/sagemath/sagetrac-mirror/commit/124c582421b49afc38cdd565d0057031c347b044)**",
    "created_at": "2017-10-09T21:23:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339635",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e1052fa`](https://github.com/sagemath/sagetrac-mirror/commit/e1052fab39827595b670bb4d4b5651102781fb3b)** to **[`124c582`](https://github.com/sagemath/sagetrac-mirror/commit/124c582421b49afc38cdd565d0057031c347b044)**



---

archive/issue_comments_339636.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/124c582421b49afc38cdd565d0057031c347b044\"><code>124c582</code></a></td><td><code>Improve SymPy documentation in sage/manifolds/scalarfield.py</code></td></tr></table>\n",
    "created_at": "2017-10-09T21:23:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339636",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/124c582421b49afc38cdd565d0057031c347b044"><code>124c582</code></a></td><td><code>Improve SymPy documentation in sage/manifolds/scalarfield.py</code></td></tr></table>




---

archive/issue_comments_339637.json:
```json
{
    "body": "Changed commit from **[`124c582`](https://github.com/sagemath/sagetrac-mirror/commit/124c582421b49afc38cdd565d0057031c347b044)** to **[`eea0070`](https://github.com/sagemath/sagetrac-mirror/commit/eea0070a852b76cee592047307bb273172e2dc71)**",
    "created_at": "2017-10-10T13:36:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339637",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`124c582`](https://github.com/sagemath/sagetrac-mirror/commit/124c582421b49afc38cdd565d0057031c347b044)** to **[`eea0070`](https://github.com/sagemath/sagetrac-mirror/commit/eea0070a852b76cee592047307bb273172e2dc71)**



---

archive/issue_comments_339638.json:
```json
{
    "body": "<div id=\"comment:39\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eea0070a852b76cee592047307bb273172e2dc71\"><code>eea0070</code></a></td><td><code>Change in SymPy conversion function of CalculusMethod + use of SymPy variable in ChartFunction.diff when relevant</code></td></tr></table>\n",
    "created_at": "2017-10-10T13:36:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339638",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eea0070a852b76cee592047307bb273172e2dc71"><code>eea0070</code></a></td><td><code>Change in SymPy conversion function of CalculusMethod + use of SymPy variable in ChartFunction.diff when relevant</code></td></tr></table>




---

archive/issue_comments_339639.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/07bef4df2312f4413a05e2808d3ddf33b80e1195\"><code>07bef4d</code></a></td><td><code>Changing docstring for test results in Sympy</code></td></tr></table>\n",
    "created_at": "2017-10-11T14:09:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339639",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/07bef4df2312f4413a05e2808d3ddf33b80e1195"><code>07bef4d</code></a></td><td><code>Changing docstring for test results in Sympy</code></td></tr></table>




---

archive/issue_comments_339640.json:
```json
{
    "body": "Changed commit from **[`eea0070`](https://github.com/sagemath/sagetrac-mirror/commit/eea0070a852b76cee592047307bb273172e2dc71)** to **[`07bef4d`](https://github.com/sagemath/sagetrac-mirror/commit/07bef4df2312f4413a05e2808d3ddf33b80e1195)**",
    "created_at": "2017-10-11T14:09:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339640",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`eea0070`](https://github.com/sagemath/sagetrac-mirror/commit/eea0070a852b76cee592047307bb273172e2dc71)** to **[`07bef4d`](https://github.com/sagemath/sagetrac-mirror/commit/07bef4df2312f4413a05e2808d3ddf33b80e1195)**



---

archive/issue_comments_339641.json:
```json
{
    "body": "<div id=\"comment:41\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e5ea40e52531f2b1d063df2000b786ebc005dde3\"><code>e5ea40e</code></a></td><td><code>- Small error in inverse calculation resolved</code></td></tr></table>\n",
    "created_at": "2017-10-16T09:37:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339641",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:41"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e5ea40e52531f2b1d063df2000b786ebc005dde3"><code>e5ea40e</code></a></td><td><code>- Small error in inverse calculation resolved</code></td></tr></table>




---

archive/issue_comments_339642.json:
```json
{
    "body": "Changed commit from **[`07bef4d`](https://github.com/sagemath/sagetrac-mirror/commit/07bef4df2312f4413a05e2808d3ddf33b80e1195)** to **[`e5ea40e`](https://github.com/sagemath/sagetrac-mirror/commit/e5ea40e52531f2b1d063df2000b786ebc005dde3)**",
    "created_at": "2017-10-16T09:37:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339642",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`07bef4d`](https://github.com/sagemath/sagetrac-mirror/commit/07bef4df2312f4413a05e2808d3ddf33b80e1195)** to **[`e5ea40e`](https://github.com/sagemath/sagetrac-mirror/commit/e5ea40e52531f2b1d063df2000b786ebc005dde3)**



---

archive/issue_comments_339643.json:
```json
{
    "body": "Changed commit from **[`e5ea40e`](https://github.com/sagemath/sagetrac-mirror/commit/e5ea40e52531f2b1d063df2000b786ebc005dde3)** to **[`80f6785`](https://github.com/sagemath/sagetrac-mirror/commit/80f67852937d2a2ebffaaf7d0b8318dd9e5847b9)**",
    "created_at": "2017-10-17T15:30:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339643",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e5ea40e`](https://github.com/sagemath/sagetrac-mirror/commit/e5ea40e52531f2b1d063df2000b786ebc005dde3)** to **[`80f6785`](https://github.com/sagemath/sagetrac-mirror/commit/80f67852937d2a2ebffaaf7d0b8318dd9e5847b9)**



---

archive/issue_comments_339644.json:
```json
{
    "body": "<div id=\"comment:42\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/946295436e135f8ed5c36ea177e97c9d57f4ef98\"><code>9462954</code></a></td><td><code>23990: Convert symbolic relations to SymPy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/07f474458ffef1fc032721ae7e34720820bed1a9\"><code>07f4744</code></a></td><td><code>23990: handle unequality</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0ed659fbff057912ecb93a97cec6b75f4cecd63a\"><code>0ed659f</code></a></td><td><code>23990: do not evaluate</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5f023eafe9cfb18a38d372fcec486c2c65d15ccc\"><code>5f023ea</code></a></td><td><code>23990: convert relations from SymPy to Sage, with test</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f596bbdcb041c95cd846c02fea49bb38b467816\"><code>0f596bb</code></a></td><td><code>23990: fix patch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/479e206216ca370a9986d5e9098a912cb7656a9f\"><code>479e206</code></a></td><td><code>23990: sympy patchlevel bump</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e362ee1b623af7aa878676b20c2609c434be321\"><code>3e362ee</code></a></td><td><code>24006: SymPy --> Sage conversion completely inside Sage</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8dd5f88303b980b6796e07e2a7958030263cbd74\"><code>8dd5f88</code></a></td><td><code>24006: add missing file, fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e0310ddb4ea6740140706362a31ce0ba1fd436c8\"><code>e0310dd</code></a></td><td><code>Merge branch 'u/rws/24006' of git://trac.sagemath.org/sage into public/22801-manifold-sympy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80f67852937d2a2ebffaaf7d0b8318dd9e5847b9\"><code>80f6785</code></a></td><td><code>Resolved the problem of simplification in S2 Chart.set_inverse function</code></td></tr></table>\n",
    "created_at": "2017-10-17T15:30:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339644",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:42"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/946295436e135f8ed5c36ea177e97c9d57f4ef98"><code>9462954</code></a></td><td><code>23990: Convert symbolic relations to SymPy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/07f474458ffef1fc032721ae7e34720820bed1a9"><code>07f4744</code></a></td><td><code>23990: handle unequality</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0ed659fbff057912ecb93a97cec6b75f4cecd63a"><code>0ed659f</code></a></td><td><code>23990: do not evaluate</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5f023eafe9cfb18a38d372fcec486c2c65d15ccc"><code>5f023ea</code></a></td><td><code>23990: convert relations from SymPy to Sage, with test</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f596bbdcb041c95cd846c02fea49bb38b467816"><code>0f596bb</code></a></td><td><code>23990: fix patch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/479e206216ca370a9986d5e9098a912cb7656a9f"><code>479e206</code></a></td><td><code>23990: sympy patchlevel bump</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e362ee1b623af7aa878676b20c2609c434be321"><code>3e362ee</code></a></td><td><code>24006: SymPy --> Sage conversion completely inside Sage</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8dd5f88303b980b6796e07e2a7958030263cbd74"><code>8dd5f88</code></a></td><td><code>24006: add missing file, fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e0310ddb4ea6740140706362a31ce0ba1fd436c8"><code>e0310dd</code></a></td><td><code>Merge branch 'u/rws/24006' of git://trac.sagemath.org/sage into public/22801-manifold-sympy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80f67852937d2a2ebffaaf7d0b8318dd9e5847b9"><code>80f6785</code></a></td><td><code>Resolved the problem of simplification in S2 Chart.set_inverse function</code></td></tr></table>




---

archive/issue_comments_339645.json:
```json
{
    "body": "Changed dependencies from **#22802** to **#22802 #24006**",
    "created_at": "2017-10-17T15:30:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339645",
    "user": "https://github.com/man74cio"
}
```

Changed dependencies from **#22802** to **#22802 #24006**



---

archive/issue_comments_339646.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nBetter base everything on #20204 as it contains all SymPy Interface improvements, ie abstract functions.",
    "created_at": "2017-10-17T16:38:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339646",
    "user": "https://github.com/rwst"
}
```

<div id="comment:44" align="right">comment:44</div>

Better base everything on #20204 as it contains all SymPy Interface improvements, ie abstract functions.



---

archive/issue_comments_339647.json:
```json
{
    "body": "Changed commit from **[`80f6785`](https://github.com/sagemath/sagetrac-mirror/commit/80f67852937d2a2ebffaaf7d0b8318dd9e5847b9)** to **[`952970d`](https://github.com/sagemath/sagetrac-mirror/commit/952970d2b293ad801ced530645a77cea7dc6d9bc)**",
    "created_at": "2017-10-17T17:34:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339647",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`80f6785`](https://github.com/sagemath/sagetrac-mirror/commit/80f67852937d2a2ebffaaf7d0b8318dd9e5847b9)** to **[`952970d`](https://github.com/sagemath/sagetrac-mirror/commit/952970d2b293ad801ced530645a77cea7dc6d9bc)**



---

archive/issue_comments_339648.json:
```json
{
    "body": "<div id=\"comment:45\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a68d57ffcd1199f336184fca569b9deff0d5177b\"><code>a68d57f</code></a></td><td><code>23923: Interface cases function with SymPy's piecewise</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b80d98c2415f106f9f90270f1b0a7f9f240b76f4\"><code>b80d98c</code></a></td><td><code>23923: fix typo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2afa0ee105e99e3b7c8185c8d7b4721a9b4d7c86\"><code>2afa0ee</code></a></td><td><code>22566: interface SymPy's ceiling()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9494f6cc69630d3af9567c1179e56a0a62af736d\"><code>9494f6c</code></a></td><td><code>22566: add test</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8215d37edd3eabc1eb881800e44210f2f77d64bc\"><code>8215d37</code></a></td><td><code>Merge branch 'develop' into tmp05</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7899ea992d19f75e38e7db5526bb5c311d09d79a\"><code>7899ea9</code></a></td><td><code>20204: convert SymPy abstract functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b261ec3e671179d04d1922d15d9116e4f6e1d47f\"><code>b261ec3</code></a></td><td><code>23923: fix doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5010acf00b2811420ba1a725deb2351f77eb0c01\"><code>5010acf</code></a></td><td><code>Merge branch 'u/rws/23923' of git://trac.sagemath.org/sage into t/20204/20204</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/952970d2b293ad801ced530645a77cea7dc6d9bc\"><code>952970d</code></a></td><td><code>Merge branch 'u/rws/20204' of git://trac.sagemath.org/sage into public/22801-manifold-sympy</code></td></tr></table>\n",
    "created_at": "2017-10-17T17:34:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339648",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:45"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a68d57ffcd1199f336184fca569b9deff0d5177b"><code>a68d57f</code></a></td><td><code>23923: Interface cases function with SymPy's piecewise</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b80d98c2415f106f9f90270f1b0a7f9f240b76f4"><code>b80d98c</code></a></td><td><code>23923: fix typo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2afa0ee105e99e3b7c8185c8d7b4721a9b4d7c86"><code>2afa0ee</code></a></td><td><code>22566: interface SymPy's ceiling()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9494f6cc69630d3af9567c1179e56a0a62af736d"><code>9494f6c</code></a></td><td><code>22566: add test</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8215d37edd3eabc1eb881800e44210f2f77d64bc"><code>8215d37</code></a></td><td><code>Merge branch 'develop' into tmp05</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7899ea992d19f75e38e7db5526bb5c311d09d79a"><code>7899ea9</code></a></td><td><code>20204: convert SymPy abstract functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b261ec3e671179d04d1922d15d9116e4f6e1d47f"><code>b261ec3</code></a></td><td><code>23923: fix doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5010acf00b2811420ba1a725deb2351f77eb0c01"><code>5010acf</code></a></td><td><code>Merge branch 'u/rws/23923' of git://trac.sagemath.org/sage into t/20204/20204</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/952970d2b293ad801ced530645a77cea7dc6d9bc"><code>952970d</code></a></td><td><code>Merge branch 'u/rws/20204' of git://trac.sagemath.org/sage into public/22801-manifold-sympy</code></td></tr></table>




---

archive/issue_comments_339649.json:
```json
{
    "body": "Changed dependencies from **#22802 #24006** to **#22802 #24006 #20204**",
    "created_at": "2017-10-18T07:59:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339649",
    "user": "https://github.com/man74cio"
}
```

Changed dependencies from **#22802 #24006** to **#22802 #24006 #20204**



---

archive/issue_comments_339650.json:
```json
{
    "body": "Changed commit from **[`952970d`](https://github.com/sagemath/sagetrac-mirror/commit/952970d2b293ad801ced530645a77cea7dc6d9bc)** to **[`1ff225c`](https://github.com/sagemath/sagetrac-mirror/commit/1ff225cce1ffa1f84664bc58002099b883a2fef5)**",
    "created_at": "2017-10-18T14:18:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339650",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`952970d`](https://github.com/sagemath/sagetrac-mirror/commit/952970d2b293ad801ced530645a77cea7dc6d9bc)** to **[`1ff225c`](https://github.com/sagemath/sagetrac-mirror/commit/1ff225cce1ffa1f84664bc58002099b883a2fef5)**



---

archive/issue_comments_339651.json:
```json
{
    "body": "<div id=\"comment:47\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ff225cce1ffa1f84664bc58002099b883a2fef5\"><code>1ff225c</code></a></td><td><code>Added Subs._sage_. Now differentiation in manifold work. A problem in dispaly in diff_form.py appeared</code></td></tr></table>\n",
    "created_at": "2017-10-18T14:18:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339651",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:47"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ff225cce1ffa1f84664bc58002099b883a2fef5"><code>1ff225c</code></a></td><td><code>Added Subs._sage_. Now differentiation in manifold work. A problem in dispaly in diff_form.py appeared</code></td></tr></table>




---

archive/issue_events_315435.json:
```json
{
    "actor": "https://github.com/man74cio",
    "created_at": "2017-10-20T19:07:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315435"
}
```



---

archive/issue_events_315436.json:
```json
{
    "actor": "https://github.com/man74cio",
    "created_at": "2017-10-20T19:07:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315436"
}
```



---

archive/issue_comments_339652.json:
```json
{
    "body": "Changed commit from **[`1ff225c`](https://github.com/sagemath/sagetrac-mirror/commit/1ff225cce1ffa1f84664bc58002099b883a2fef5)** to **[`ff540a3`](https://github.com/sagemath/sagetrac-mirror/commit/ff540a3994578046e4f2e3c46f81de5902bb02fd)**",
    "created_at": "2017-10-20T19:16:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339652",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1ff225c`](https://github.com/sagemath/sagetrac-mirror/commit/1ff225cce1ffa1f84664bc58002099b883a2fef5)** to **[`ff540a3`](https://github.com/sagemath/sagetrac-mirror/commit/ff540a3994578046e4f2e3c46f81de5902bb02fd)**



---

archive/issue_comments_339653.json:
```json
{
    "body": "<div id=\"comment:49\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff540a3994578046e4f2e3c46f81de5902bb02fd\"><code>ff540a3</code></a></td><td><code>Corrected error in ChartFunction._lmul_ , _rmul_. Still a problem with sympy _eq_</code></td></tr></table>\n",
    "created_at": "2017-10-20T19:16:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339653",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:49"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff540a3994578046e4f2e3c46f81de5902bb02fd"><code>ff540a3</code></a></td><td><code>Corrected error in ChartFunction._lmul_ , _rmul_. Still a problem with sympy _eq_</code></td></tr></table>




---

archive/issue_comments_339654.json:
```json
{
    "body": "Changed commit from **[`ff540a3`](https://github.com/sagemath/sagetrac-mirror/commit/ff540a3994578046e4f2e3c46f81de5902bb02fd)** to **[`d0cbda9`](https://github.com/sagemath/sagetrac-mirror/commit/d0cbda9771f7a2f084331fa5c2101496ad1f4f4c)**",
    "created_at": "2017-10-23T11:19:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339654",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ff540a3`](https://github.com/sagemath/sagetrac-mirror/commit/ff540a3994578046e4f2e3c46f81de5902bb02fd)** to **[`d0cbda9`](https://github.com/sagemath/sagetrac-mirror/commit/d0cbda9771f7a2f084331fa5c2101496ad1f4f4c)**



---

archive/issue_comments_339655.json:
```json
{
    "body": "<div id=\"comment:50\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9962353a21af15373379519b7db28ccb6158aac5\"><code>9962353</code></a></td><td><code>Changed `__eq__` for chartfunction in sympy case</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14b1c523c468bfb304191edfe6e85a5c94e916f5\"><code>14b1c52</code></a></td><td><code>20204: more doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df57f9e22358ec2acaca0bcdd27a7e011365e03e\"><code>df57f9e</code></a></td><td><code>Merge branch 'u/rws/20204' of git://trac.sagemath.org/sage into public/22801-manifold-sympy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9169924ca14501168066f1a2ed9d03bcc887db34\"><code>9169924</code></a></td><td><code>Merge branch 'develop' into t/24006/24006</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d43419f73f455259896cbd9aeff86bbaa5d764c7\"><code>d43419f</code></a></td><td><code>24006: bump sympy patchlevel</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d0cbda9771f7a2f084331fa5c2101496ad1f4f4c\"><code>d0cbda9</code></a></td><td><code>Merge branch 'u/rws/24006' of git://trac.sagemath.org/sage into public/22801-manifold-sympy</code></td></tr></table>\n",
    "created_at": "2017-10-23T11:19:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339655",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:50"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9962353a21af15373379519b7db28ccb6158aac5"><code>9962353</code></a></td><td><code>Changed `__eq__` for chartfunction in sympy case</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14b1c523c468bfb304191edfe6e85a5c94e916f5"><code>14b1c52</code></a></td><td><code>20204: more doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df57f9e22358ec2acaca0bcdd27a7e011365e03e"><code>df57f9e</code></a></td><td><code>Merge branch 'u/rws/20204' of git://trac.sagemath.org/sage into public/22801-manifold-sympy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9169924ca14501168066f1a2ed9d03bcc887db34"><code>9169924</code></a></td><td><code>Merge branch 'develop' into t/24006/24006</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d43419f73f455259896cbd9aeff86bbaa5d764c7"><code>d43419f</code></a></td><td><code>24006: bump sympy patchlevel</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d0cbda9771f7a2f084331fa5c2101496ad1f4f4c"><code>d0cbda9</code></a></td><td><code>Merge branch 'u/rws/24006' of git://trac.sagemath.org/sage into public/22801-manifold-sympy</code></td></tr></table>




---

archive/issue_events_315437.json:
```json
{
    "actor": "https://github.com/man74cio",
    "created_at": "2017-10-23T11:20:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315437"
}
```



---

archive/issue_events_315438.json:
```json
{
    "actor": "https://github.com/man74cio",
    "created_at": "2017-10-23T11:20:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315438"
}
```



---

archive/issue_comments_339656.json:
```json
{
    "body": "Changed reviewer from **Eric Gourgoulhon** to **Eric Gourgoulhon, Ralf Stephan**",
    "created_at": "2017-10-24T06:31:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339656",
    "user": "https://github.com/rwst"
}
```

Changed reviewer from **Eric Gourgoulhon** to **Eric Gourgoulhon, Ralf Stephan**



---

archive/issue_events_315439.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-24T06:31:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315439"
}
```



---

archive/issue_events_315440.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-24T06:31:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315440"
}
```



---

archive/issue_comments_339657.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nI cannot confirm the one patchbot failure. Most of this was reviewed by Eric, and the rest by me, LGTM.",
    "created_at": "2017-10-24T06:31:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339657",
    "user": "https://github.com/rwst"
}
```

<div id="comment:52" align="right">comment:52</div>

I cannot confirm the one patchbot failure. Most of this was reviewed by Eric, and the rest by me, LGTM.



---

archive/issue_events_315441.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-24T06:31:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315441"
}
```



---

archive/issue_events_315442.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-10-24T06:31:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315442"
}
```



---

archive/issue_events_315443.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2017-10-24T08:57:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315443"
}
```



---

archive/issue_events_315444.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2017-10-24T08:57:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315444"
}
```



---

archive/issue_comments_339658.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nThank you Ralf but I would like to check a few more things before the final positive review",
    "created_at": "2017-10-24T12:05:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339658",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:54" align="right">comment:54</div>

Thank you Ralf but I would like to check a few more things before the final positive review



---

archive/issue_comments_339659.json:
```json
{
    "body": "Changed commit from **[`d0cbda9`](https://github.com/sagemath/sagetrac-mirror/commit/d0cbda9771f7a2f084331fa5c2101496ad1f4f4c)** to **[`b1f6587`](https://github.com/sagemath/sagetrac-mirror/commit/b1f6587e44043135087d8da33da7ce1ce6cfb1f9)**",
    "created_at": "2017-10-26T12:35:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339659",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d0cbda9`](https://github.com/sagemath/sagetrac-mirror/commit/d0cbda9771f7a2f084331fa5c2101496ad1f4f4c)** to **[`b1f6587`](https://github.com/sagemath/sagetrac-mirror/commit/b1f6587e44043135087d8da33da7ce1ce6cfb1f9)**



---

archive/issue_comments_339660.json:
```json
{
    "body": "<div id=\"comment:55\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b1f6587e44043135087d8da33da7ce1ce6cfb1f9\"><code>b1f6587</code></a></td><td><code>Allow for SymPy computation of metric determinant</code></td></tr></table>\n",
    "created_at": "2017-10-26T12:35:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339660",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:55"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b1f6587e44043135087d8da33da7ce1ce6cfb1f9"><code>b1f6587</code></a></td><td><code>Allow for SymPy computation of metric determinant</code></td></tr></table>




---

archive/issue_comments_339661.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nThe above commit fixes the computation of metric determinants when sympy is the calculus method. With it, most of the manifold tutorial passes with all calculations performed with SymPy: http://nbviewer.jupyter.org/github/sagemanifolds/SageManifolds/blob/master/Worksheets/v1.1/SM_tutorial_sympy.ipynb.\n\nI have still to check a few extra things to complete the review.",
    "created_at": "2017-10-26T12:43:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339661",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:56" align="right">comment:56</div>

The above commit fixes the computation of metric determinants when sympy is the calculus method. With it, most of the manifold tutorial passes with all calculations performed with SymPy: http://nbviewer.jupyter.org/github/sagemanifolds/SageManifolds/blob/master/Worksheets/v1.1/SM_tutorial_sympy.ipynb.

I have still to check a few extra things to complete the review.



---

archive/issue_comments_339662.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nGrep finds a few mentions of 'manifolds.coord_func' in commentary:\n\ndifferentiable/scalarfield.py:    :class:`~sage.manifolds.coord_func.CoordFunction`::\ndifferentiable/affine_connection.py:    :class:`~sage.manifolds.coord_func.CoordFunction` (of the subclass\ndifferentiable/affine_connection.py:    :class:`~sage.manifolds.coord_func_symb.CoordFunctionSymb` in the current\ndifferentiable/affine_connection.py:          :class:`~sage.manifolds.coord_func.CoordFunction`\ndifferentiable/chart.py:          (cf. :class:`~sage.manifolds.coord_func.CoordFunction`)\ndifferentiable/chart.py:          (cf. :class:`~sage.manifolds.coord_func.CoordFunction`)\ndifferentiable/diff_map.py:          :class:`~sage.manifolds.coord_func.CoordFunction`",
    "created_at": "2017-10-26T18:59:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339662",
    "user": "https://github.com/rll2021"
}
```

<div id="comment:57" align="right">comment:57</div>

Grep finds a few mentions of 'manifolds.coord_func' in commentary:

differentiable/scalarfield.py:    :class:`~sage.manifolds.coord_func.CoordFunction`::
differentiable/affine_connection.py:    :class:`~sage.manifolds.coord_func.CoordFunction` (of the subclass
differentiable/affine_connection.py:    :class:`~sage.manifolds.coord_func_symb.CoordFunctionSymb` in the current
differentiable/affine_connection.py:          :class:`~sage.manifolds.coord_func.CoordFunction`
differentiable/chart.py:          (cf. :class:`~sage.manifolds.coord_func.CoordFunction`)
differentiable/chart.py:          (cf. :class:`~sage.manifolds.coord_func.CoordFunction`)
differentiable/diff_map.py:          :class:`~sage.manifolds.coord_func.CoordFunction`



---

archive/issue_comments_339663.json:
```json
{
    "body": "<div id=\"comment:58\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5e2da17ca685852b6d0802cd4705a1e70fe2e123\"><code>5e2da17</code></a></td><td><code>Purged references to sage.manifolds.coord_func.CoordFunction</code></td></tr></table>\n",
    "created_at": "2017-10-27T09:52:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339663",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:58"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5e2da17ca685852b6d0802cd4705a1e70fe2e123"><code>5e2da17</code></a></td><td><code>Purged references to sage.manifolds.coord_func.CoordFunction</code></td></tr></table>




---

archive/issue_comments_339664.json:
```json
{
    "body": "Changed commit from **[`b1f6587`](https://github.com/sagemath/sagetrac-mirror/commit/b1f6587e44043135087d8da33da7ce1ce6cfb1f9)** to **[`5e2da17`](https://github.com/sagemath/sagetrac-mirror/commit/5e2da17ca685852b6d0802cd4705a1e70fe2e123)**",
    "created_at": "2017-10-27T09:52:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339664",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b1f6587`](https://github.com/sagemath/sagetrac-mirror/commit/b1f6587e44043135087d8da33da7ce1ce6cfb1f9)** to **[`5e2da17`](https://github.com/sagemath/sagetrac-mirror/commit/5e2da17ca685852b6d0802cd4705a1e70fe2e123)**



---

archive/issue_comments_339665.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nReplying to [@rll2021](#comment%3A57):\n\nI removed the old references, thanks\n\n> Grep finds a few mentions of 'manifolds.coord_func' in commentary:\n> \n> differentiable/scalarfield.py:    :class:`~sage.manifolds.coord_func.CoordFunction`::\n> differentiable/affine_connection.py:    :class:`~sage.manifolds.coord_func.CoordFunction` (of the subclass\n> differentiable/affine_connection.py:    :class:`~sage.manifolds.coord_func_symb.CoordFunctionSymb` in the current\n> differentiable/affine_connection.py:          :class:`~sage.manifolds.coord_func.CoordFunction`\n> differentiable/chart.py:          (cf. :class:`~sage.manifolds.coord_func.CoordFunction`)\n> differentiable/chart.py:          (cf. :class:`~sage.manifolds.coord_func.CoordFunction`)\n> differentiable/diff_map.py:          :class:`~sage.manifolds.coord_func.CoordFunction`\n\n>",
    "created_at": "2017-10-27T09:53:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339665",
    "user": "https://github.com/man74cio"
}
```

<div id="comment:59" align="right">comment:59</div>

Replying to [@rll2021](#comment%3A57):

I removed the old references, thanks

> Grep finds a few mentions of 'manifolds.coord_func' in commentary:
> 
> differentiable/scalarfield.py:    :class:`~sage.manifolds.coord_func.CoordFunction`::
> differentiable/affine_connection.py:    :class:`~sage.manifolds.coord_func.CoordFunction` (of the subclass
> differentiable/affine_connection.py:    :class:`~sage.manifolds.coord_func_symb.CoordFunctionSymb` in the current
> differentiable/affine_connection.py:          :class:`~sage.manifolds.coord_func.CoordFunction`
> differentiable/chart.py:          (cf. :class:`~sage.manifolds.coord_func.CoordFunction`)
> differentiable/chart.py:          (cf. :class:`~sage.manifolds.coord_func.CoordFunction`)
> differentiable/diff_map.py:          :class:`~sage.manifolds.coord_func.CoordFunction`

>



---

archive/issue_comments_339666.json:
```json
{
    "body": "<div id=\"comment:60\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/92e508b9550df9924c8db0a2a2641609dd8a2999\"><code>92e508b</code></a></td><td><code>Fix LaTeX display of continuous maps with SymPy expressions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/31f56d2a81e97f1244cc038db3618e26003713e4\"><code>31f56d2</code></a></td><td><code>Allow arithmetics of Components with SymPy numbers</code></td></tr></table>\n",
    "created_at": "2017-10-27T22:16:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339666",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:60"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/92e508b9550df9924c8db0a2a2641609dd8a2999"><code>92e508b</code></a></td><td><code>Fix LaTeX display of continuous maps with SymPy expressions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/31f56d2a81e97f1244cc038db3618e26003713e4"><code>31f56d2</code></a></td><td><code>Allow arithmetics of Components with SymPy numbers</code></td></tr></table>




---

archive/issue_comments_339667.json:
```json
{
    "body": "Changed commit from **[`5e2da17`](https://github.com/sagemath/sagetrac-mirror/commit/5e2da17ca685852b6d0802cd4705a1e70fe2e123)** to **[`31f56d2`](https://github.com/sagemath/sagetrac-mirror/commit/31f56d2a81e97f1244cc038db3618e26003713e4)**",
    "created_at": "2017-10-27T22:16:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339667",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5e2da17`](https://github.com/sagemath/sagetrac-mirror/commit/5e2da17ca685852b6d0802cd4705a1e70fe2e123)** to **[`31f56d2`](https://github.com/sagemath/sagetrac-mirror/commit/31f56d2a81e97f1244cc038db3618e26003713e4)**



---

archive/issue_comments_339668.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nWith the above two commits, all the S<sup>2</sup> notebook passes with SymPy:\nhttp://nbviewer.jupyter.org/github/sagemanifolds/SageManifolds/blob/master/Worksheets/v1.1/SM_sphere_S2_sympy.ipynb\nexcept for the 3D graphics of the tangent vector field to the loxodrome (commented cell 193); this is because Sage's matrix constructor (`sage.matrix.constructor.prepare`) cannot take SymPy numbers (`sympy.core.numbers.Float`) as elements: it generates the error\n\n```\nTypeError: unable to find a common ring for all elements\n``` \nThe need for such a matrix arises from a change of basis in some tangent space to the sphere, where all tensor components are expressed in terms of SymPy floats (because of the sampling for the drawing). Probably some workaround can be found.\n\nBesides, I am still checking a few other things...",
    "created_at": "2017-10-27T22:34:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339668",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:61" align="right">comment:61</div>

With the above two commits, all the S<sup>2</sup> notebook passes with SymPy:
http://nbviewer.jupyter.org/github/sagemanifolds/SageManifolds/blob/master/Worksheets/v1.1/SM_sphere_S2_sympy.ipynb
except for the 3D graphics of the tangent vector field to the loxodrome (commented cell 193); this is because Sage's matrix constructor (`sage.matrix.constructor.prepare`) cannot take SymPy numbers (`sympy.core.numbers.Float`) as elements: it generates the error

```
TypeError: unable to find a common ring for all elements
``` 
The need for such a matrix arises from a change of basis in some tangent space to the sphere, where all tensor components are expressed in terms of SymPy floats (because of the sampling for the drawing). Probably some workaround can be found.

Besides, I am still checking a few other things...



---

archive/issue_comments_339669.json:
```json
{
    "body": "<div id=\"comment:62\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/426f98c66cff2a79268e385d4239a02ff05e9ec3\"><code>426f98c</code></a></td><td><code>Another series of reviewer tweaks for SymPy calculus on manifolds</code></td></tr></table>\n",
    "created_at": "2017-10-28T16:52:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339669",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:62"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/426f98c66cff2a79268e385d4239a02ff05e9ec3"><code>426f98c</code></a></td><td><code>Another series of reviewer tweaks for SymPy calculus on manifolds</code></td></tr></table>




---

archive/issue_comments_339670.json:
```json
{
    "body": "Changed commit from **[`31f56d2`](https://github.com/sagemath/sagetrac-mirror/commit/31f56d2a81e97f1244cc038db3618e26003713e4)** to **[`426f98c`](https://github.com/sagemath/sagetrac-mirror/commit/426f98c66cff2a79268e385d4239a02ff05e9ec3)**",
    "created_at": "2017-10-28T16:52:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339670",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`31f56d2`](https://github.com/sagemath/sagetrac-mirror/commit/31f56d2a81e97f1244cc038db3618e26003713e4)** to **[`426f98c`](https://github.com/sagemath/sagetrac-mirror/commit/426f98c66cff2a79268e385d4239a02ff05e9ec3)**



---

archive/issue_comments_339671.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nThe above commit mostly improves the documentation. In particular, it adds the missing item `calc_method` in some `INPUT` sections and slightly improves some doctests.",
    "created_at": "2017-10-28T17:02:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339671",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:63" align="right">comment:63</div>

The above commit mostly improves the documentation. In particular, it adds the missing item `calc_method` in some `INPUT` sections and slightly improves some doctests.



---

archive/issue_comments_339672.json:
```json
{
    "body": "<div id=\"comment:64\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ffa9c486af89941311b8f922a4a0893107e176b\"><code>8ffa9c4</code></a></td><td><code>Improve documentation for SymPy calculus on manifolds</code></td></tr></table>\n",
    "created_at": "2017-10-29T22:26:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339672",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:64"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ffa9c486af89941311b8f922a4a0893107e176b"><code>8ffa9c4</code></a></td><td><code>Improve documentation for SymPy calculus on manifolds</code></td></tr></table>




---

archive/issue_comments_339673.json:
```json
{
    "body": "Changed commit from **[`426f98c`](https://github.com/sagemath/sagetrac-mirror/commit/426f98c66cff2a79268e385d4239a02ff05e9ec3)** to **[`8ffa9c4`](https://github.com/sagemath/sagetrac-mirror/commit/8ffa9c486af89941311b8f922a4a0893107e176b)**",
    "created_at": "2017-10-29T22:26:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339673",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`426f98c`](https://github.com/sagemath/sagetrac-mirror/commit/426f98c66cff2a79268e385d4239a02ff05e9ec3)** to **[`8ffa9c4`](https://github.com/sagemath/sagetrac-mirror/commit/8ffa9c486af89941311b8f922a4a0893107e176b)**



---

archive/issue_comments_339674.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nI am almost done checking the documentation; shall finish tomorrow...",
    "created_at": "2017-10-29T22:30:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339674",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:65" align="right">comment:65</div>

I am almost done checking the documentation; shall finish tomorrow...



---

archive/issue_comments_339675.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nOn my 3-manifold, I observe the following timings:\n\n\\# One thread takes 317s in Sage, 9311s in SymPy!\\\\\n\nnabla = g.connection()\n\n\\# One thread takes 95s in Sage, 1134s in SymPy!\\\\\n\nLBpsi = nabla(nabla(psi).up(g)).trace(); LBpsi;\n\n\\# One thread takes 872s in Sage, 36221s in SymPy!\\\\\n\nRic_g = g.ricci_scalar()\n\n\\# One thread takes 482s in Sage, 24220s in SymPy!\\\\\n\nCot_g = g.cotton(); Cot_g.parent(); Cot_g.display()\n\nI suggest we take a deeper look *after* getting the functionality released.",
    "created_at": "2017-10-30T15:32:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339675",
    "user": "https://github.com/rll2021"
}
```

<div id="comment:66" align="right">comment:66</div>

On my 3-manifold, I observe the following timings:

\# One thread takes 317s in Sage, 9311s in SymPy!\\

nabla = g.connection()

\# One thread takes 95s in Sage, 1134s in SymPy!\\

LBpsi = nabla(nabla(psi).up(g)).trace(); LBpsi;

\# One thread takes 872s in Sage, 36221s in SymPy!\\

Ric_g = g.ricci_scalar()

\# One thread takes 482s in Sage, 24220s in SymPy!\\

Cot_g = g.cotton(); Cot_g.parent(); Cot_g.display()

I suggest we take a deeper look *after* getting the functionality released.



---

archive/issue_comments_339676.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nReplying to [@rll2021](#comment%3A66):\n\nI also noticed that SymPy is slower than Sage's symbolic (in particular in the tutorial and S<sup>2</sup> notebooks mentioned in [comment:56](#comment%3A56) and [comment:61](#comment%3A61)).\n\n> \n> I suggest we take a deeper look *after* getting the functionality released.\n\nI agree.",
    "created_at": "2017-10-30T16:12:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339676",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:67" align="right">comment:67</div>

Replying to [@rll2021](#comment%3A66):

I also noticed that SymPy is slower than Sage's symbolic (in particular in the tutorial and S<sup>2</sup> notebooks mentioned in [comment:56](#comment%3A56) and [comment:61](#comment%3A61)).

> 
> I suggest we take a deeper look *after* getting the functionality released.

I agree.



---

archive/issue_comments_339677.json:
```json
{
    "body": "Attachment: **[22801_4threads.failure.gz](https://github.com/sagemath/sage/files/ticket22801/22801_4threads.failure.gz)**",
    "created_at": "2017-10-30T22:19:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339677",
    "user": "https://github.com/rll2021"
}
```

Attachment: **[22801_4threads.failure.gz](https://github.com/sagemath/sage/files/ticket22801/22801_4threads.failure.gz)**



---

archive/issue_comments_339678.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nThe above attached notebook shows a failure when run with the multiprocessing directive \n\n```\nParallelism().set(nproc=4)\n```\nwhile computing the Laplace-Beltrami operator acting on a scalar field\n\n```\nnabla(nabla(psi).up(g)).trace()\n``` \ndefined on a manifold having the 'sympy' option set\n\n```\nM.set_calculus_method('sympy')\n```\nWhen multiprocessing is turned off (nproc=1), this notebook completes without error.\n\nI will try to find a quicker-running example.",
    "created_at": "2017-10-30T22:29:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339678",
    "user": "https://github.com/rll2021"
}
```

<div id="comment:68" align="right">comment:68</div>

The above attached notebook shows a failure when run with the multiprocessing directive 

```
Parallelism().set(nproc=4)
```
while computing the Laplace-Beltrami operator acting on a scalar field

```
nabla(nabla(psi).up(g)).trace()
``` 
defined on a manifold having the 'sympy' option set

```
M.set_calculus_method('sympy')
```
When multiprocessing is turned off (nproc=1), this notebook completes without error.

I will try to find a quicker-running example.



---

archive/issue_comments_339679.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nReplying to [@rll2021](#comment%3A68):\n> The above attached notebook shows a failure when run with the multiprocessing directive \n\nCan you resend the notebook? When I try to open it, I get the error\n\n```\nUnreadable Notebook: /home/eric/sage/8.1.beta8/22801_4threads_failure.ipynb NotJSONError(\"Notebook does not appear to be JSON:u'\\\\n{{{id=44|\\\\n# trac 22801 on top of .....\",)\n```",
    "created_at": "2017-10-31T09:51:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339679",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:69" align="right">comment:69</div>

Replying to [@rll2021](#comment%3A68):
> The above attached notebook shows a failure when run with the multiprocessing directive 

Can you resend the notebook? When I try to open it, I get the error

```
Unreadable Notebook: /home/eric/sage/8.1.beta8/22801_4threads_failure.ipynb NotJSONError("Notebook does not appear to be JSON:u'\\n{{{id=44|\\n# trac 22801 on top of .....",)
```



---

archive/issue_comments_339680.json:
```json
{
    "body": "Changed commit from **[`8ffa9c4`](https://github.com/sagemath/sagetrac-mirror/commit/8ffa9c486af89941311b8f922a4a0893107e176b)** to **[`7a49a78`](https://github.com/sagemath/sagetrac-mirror/commit/7a49a7814eb436ca991f7dd02ad64ac03f38de77)**",
    "created_at": "2017-10-31T12:12:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339680",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8ffa9c4`](https://github.com/sagemath/sagetrac-mirror/commit/8ffa9c486af89941311b8f922a4a0893107e176b)** to **[`7a49a78`](https://github.com/sagemath/sagetrac-mirror/commit/7a49a7814eb436ca991f7dd02ad64ac03f38de77)**



---

archive/issue_comments_339681.json:
```json
{
    "body": "<div id=\"comment:70\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a49a7814eb436ca991f7dd02ad64ac03f38de77\"><code>7a49a78</code></a></td><td><code>Some tweak of documention of tensor fields with SymPy</code></td></tr></table>\n",
    "created_at": "2017-10-31T12:12:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339681",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:70"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a49a7814eb436ca991f7dd02ad64ac03f38de77"><code>7a49a78</code></a></td><td><code>Some tweak of documention of tensor fields with SymPy</code></td></tr></table>




---

archive/issue_comments_339682.json:
```json
{
    "body": "Changed reviewer from **Eric Gourgoulhon, Ralf Stephan** to **Eric Gourgoulhon, Ralf Stephan, Richard Lozes**",
    "created_at": "2017-10-31T12:19:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339682",
    "user": "https://github.com/egourgoulhon"
}
```

Changed reviewer from **Eric Gourgoulhon, Ralf Stephan** to **Eric Gourgoulhon, Ralf Stephan, Richard Lozes**



---

archive/issue_comments_339683.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nI've finished to review the ticket. Marco, Ralf or Richard, if you agree with my changes, please set the ticket back to positive review (the parallelization issue raised in [comment:68](#comment%3A68), if confirmed, could be dealt with in a separate ticket).\n\nThank you very much Marco for your work on this; it will be great to have the SymPy functionaly for manifolds in Sage 8.1!",
    "created_at": "2017-10-31T12:19:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339683",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:71" align="right">comment:71</div>

I've finished to review the ticket. Marco, Ralf or Richard, if you agree with my changes, please set the ticket back to positive review (the parallelization issue raised in [comment:68](#comment%3A68), if confirmed, could be dealt with in a separate ticket).

Thank you very much Marco for your work on this; it will be great to have the SymPy functionaly for manifolds in Sage 8.1!



---

archive/issue_comments_339684.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nI will abstain, having not read through all the changes. \nI can say that I am able to successfully build and run all the doctests (ptestlong).",
    "created_at": "2017-10-31T15:08:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339684",
    "user": "https://github.com/rll2021"
}
```

<div id="comment:72" align="right">comment:72</div>

I will abstain, having not read through all the changes. 
I can say that I am able to successfully build and run all the doctests (ptestlong).



---

archive/issue_comments_339685.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\nThanks to all for the review. \nI am going to treat the issue of parallelization (comment:68) which it seems not connencted to sympy.",
    "created_at": "2017-11-02T08:49:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339685",
    "user": "https://github.com/man74cio"
}
```

<div id="comment:73" align="right">comment:73</div>

Thanks to all for the review. 
I am going to treat the issue of parallelization (comment:68) which it seems not connencted to sympy.



---

archive/issue_events_315445.json:
```json
{
    "actor": "https://github.com/man74cio",
    "created_at": "2017-11-02T09:42:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315445"
}
```



---

archive/issue_events_315446.json:
```json
{
    "actor": "https://github.com/man74cio",
    "created_at": "2017-11-02T09:42:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315446"
}
```



---

archive/issue_comments_339686.json:
```json
{
    "body": "Attachment: **[22801_proc _gt_1.sws.gz](https://github.com/sagemath/sage/files/ticket22801/6ab7b02965bc6b5415f9eed82c7e2afb.gz)**\n\nShowing failure with computations using sympy and parallelism (proc>1)",
    "created_at": "2017-11-02T17:39:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339686",
    "user": "https://github.com/rll2021"
}
```

Attachment: **[22801_proc _gt_1.sws.gz](https://github.com/sagemath/sage/files/ticket22801/6ab7b02965bc6b5415f9eed82c7e2afb.gz)**

Showing failure with computations using sympy and parallelism (proc>1)



---

archive/issue_comments_339687.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nReplying to [@egourgoulhon](#comment%3A69):\n> Replying to [@rll2021](#comment%3A68):\n> > The above attached notebook shows a failure when run with the multiprocessing directive \n\n> \n> Can you resend the notebook? When I try to open it, I get the error\n> \n> ```\n> Unreadable Notebook: /home/eric/sage/8.1.beta8/22801_4threads_failure.ipynb NotJSONError(\"Notebook does not appear to be JSON:u'\\\\n{{{id=44|\\\\n# trac 22801 on top of .....\",)\n> ```\n\nSorry - Please see second attachment. I will still try to find a simpler case.",
    "created_at": "2017-11-02T17:41:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339687",
    "user": "https://github.com/rll2021"
}
```

<div id="comment:75" align="right">comment:75</div>

Replying to [@egourgoulhon](#comment%3A69):
> Replying to [@rll2021](#comment%3A68):
> > The above attached notebook shows a failure when run with the multiprocessing directive 

> 
> Can you resend the notebook? When I try to open it, I get the error
> 
> ```
> Unreadable Notebook: /home/eric/sage/8.1.beta8/22801_4threads_failure.ipynb NotJSONError("Notebook does not appear to be JSON:u'\\n{{{id=44|\\n# trac 22801 on top of .....",)
> ```

Sorry - Please see second attachment. I will still try to find a simpler case.



---

archive/issue_events_315447.json:
```json
{
    "actor": "https://github.com/rll2021",
    "created_at": "2017-11-02T21:22:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315447"
}
```



---

archive/issue_events_315448.json:
```json
{
    "actor": "https://github.com/rll2021",
    "created_at": "2017-11-02T21:22:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315448"
}
```



---

archive/issue_comments_339688.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">comment:76</div>\n\n1) Please remove redundant word \"curve\" which occurs within the documentation of curve.py and integrated_curve.py.\n2) Are we letting the TODO's remain undone for this release?\n3) In vectorfield_module.py, two occurrences each of \"from the North pole\" and \"from the South pole\" were changed to \"from North pole\" and \"from South pole\", respectively, resulting in non-standard English.",
    "created_at": "2017-11-02T21:22:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339688",
    "user": "https://github.com/rll2021"
}
```

<div id="comment:76" align="right">comment:76</div>

1) Please remove redundant word "curve" which occurs within the documentation of curve.py and integrated_curve.py.
2) Are we letting the TODO's remain undone for this release?
3) In vectorfield_module.py, two occurrences each of "from the North pole" and "from the South pole" were changed to "from North pole" and "from South pole", respectively, resulting in non-standard English.



---

archive/issue_comments_339689.json:
```json
{
    "body": "Changed commit from **[`7a49a78`](https://github.com/sagemath/sagetrac-mirror/commit/7a49a7814eb436ca991f7dd02ad64ac03f38de77)** to **[`ce4acb4`](https://github.com/sagemath/sagetrac-mirror/commit/ce4acb44667b5e772bb4bd027ac507e63530b4b6)**",
    "created_at": "2017-11-03T09:28:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339689",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7a49a78`](https://github.com/sagemath/sagetrac-mirror/commit/7a49a7814eb436ca991f7dd02ad64ac03f38de77)** to **[`ce4acb4`](https://github.com/sagemath/sagetrac-mirror/commit/ce4acb44667b5e772bb4bd027ac507e63530b4b6)**



---

archive/issue_comments_339690.json:
```json
{
    "body": "<div id=\"comment:77\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce4acb44667b5e772bb4bd027ac507e63530b4b6\"><code>ce4acb4</code></a></td><td><code>Correct some typo in doc and renable trigonometric simplifications in SymPy calculus on manifolds</code></td></tr></table>\n",
    "created_at": "2017-11-03T09:28:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339690",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:77"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce4acb44667b5e772bb4bd027ac507e63530b4b6"><code>ce4acb4</code></a></td><td><code>Correct some typo in doc and renable trigonometric simplifications in SymPy calculus on manifolds</code></td></tr></table>




---

archive/issue_comments_339691.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">comment:78</div>\n\nReplying to [@rll2021](#comment%3A75):\n> \n> Sorry - Please see second attachment. I will still try to find a simpler case.\n\nSorry I still cannot read this file: when I run `sage -n sagenb` and try to open it, I get \"500: internal server error\".",
    "created_at": "2017-11-03T09:30:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339691",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:78" align="right">comment:78</div>

Replying to [@rll2021](#comment%3A75):
> 
> Sorry - Please see second attachment. I will still try to find a simpler case.

Sorry I still cannot read this file: when I run `sage -n sagenb` and try to open it, I get "500: internal server error".



---

archive/issue_comments_339692.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">comment:79</div>\n\nReplying to [@rll2021](#comment%3A76):\n> 1) Please remove redundant word \"curve\" which occurs within the documentation of curve.py and integrated_curve.py.\n\nDone in the above commit.\n\n> 2) Are we letting the TODO's remain undone for this release?\n\nIMHO yes, because they require substantial work and do not hinder the functionality implemented here.\n\n> 3) In vectorfield_module.py, two occurrences each of \"from the North pole\" and \"from the South pole\" were changed to \"from North pole\" and \"from South pole\", respectively, resulting in non-standard English.\n\nCorrected in the above commit; thanks.\n\nBesides the above typos, the last commit restores the trig simplification that was commented out in `simplify_chain_generic_sympy` and `simplify_chain_real_sympy`. On general grounds, the SymPy simplification chain should be improved in another ticket.",
    "created_at": "2017-11-03T09:38:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339692",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:79" align="right">comment:79</div>

Replying to [@rll2021](#comment%3A76):
> 1) Please remove redundant word "curve" which occurs within the documentation of curve.py and integrated_curve.py.

Done in the above commit.

> 2) Are we letting the TODO's remain undone for this release?

IMHO yes, because they require substantial work and do not hinder the functionality implemented here.

> 3) In vectorfield_module.py, two occurrences each of "from the North pole" and "from the South pole" were changed to "from North pole" and "from South pole", respectively, resulting in non-standard English.

Corrected in the above commit; thanks.

Besides the above typos, the last commit restores the trig simplification that was commented out in `simplify_chain_generic_sympy` and `simplify_chain_real_sympy`. On general grounds, the SymPy simplification chain should be improved in another ticket.



---

archive/issue_events_315449.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2017-11-03T09:38:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315449"
}
```



---

archive/issue_events_315450.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2017-11-03T09:38:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315450"
}
```



---

archive/issue_comments_339693.json:
```json
{
    "body": "<div id=\"comment:81\" align=\"right\">comment:81</div>\n\nFinished review of all changed code and docs. \nI concur with status of positive_review.",
    "created_at": "2017-11-04T01:42:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339693",
    "user": "https://github.com/rll2021"
}
```

<div id="comment:81" align="right">comment:81</div>

Finished review of all changed code and docs. 
I concur with status of positive_review.



---

archive/issue_comments_339694.json:
```json
{
    "body": "<div id=\"comment:82\" align=\"right\">comment:82</div>\n\nAttachment: **[22801_proc_eq_1.sws.gz](https://github.com/sagemath/sage/files/ticket22801/22801_proc_eq_1.sws.gz)**\n\nReplying to [@egourgoulhon](#comment%3A78):\n> Replying to [@rll2021](#comment%3A75):\n> > \n> > Sorry - Please see second attachment. I will still try to find a simpler case.\n\n> \n> Sorry I still cannot read this file: when I run `sage -n sagenb` and try to open it, I get \"500: internal server error\".\n\nI have just uploaded another copy, with a new name, after stripping the output and a few commented-out cells. It should open with the standard upload link in the Sage Notebook. It should run as is, and it should fail after changing Parallelism().set(nproc=1) from 1 to 2.",
    "created_at": "2017-11-04T01:54:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339694",
    "user": "https://github.com/rll2021"
}
```

<div id="comment:82" align="right">comment:82</div>

Attachment: **[22801_proc_eq_1.sws.gz](https://github.com/sagemath/sage/files/ticket22801/22801_proc_eq_1.sws.gz)**

Replying to [@egourgoulhon](#comment%3A78):
> Replying to [@rll2021](#comment%3A75):
> > 
> > Sorry - Please see second attachment. I will still try to find a simpler case.

> 
> Sorry I still cannot read this file: when I run `sage -n sagenb` and try to open it, I get "500: internal server error".

I have just uploaded another copy, with a new name, after stripping the output and a few commented-out cells. It should open with the standard upload link in the Sage Notebook. It should run as is, and it should fail after changing Parallelism().set(nproc=1) from 1 to 2.



---

archive/issue_comments_339695.json:
```json
{
    "body": "<div id=\"comment:83\" align=\"right\">comment:83</div>\n\nI have the same error,\nlooking into the file I don't see any sage command.",
    "created_at": "2017-11-04T05:53:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339695",
    "user": "https://github.com/man74cio"
}
```

<div id="comment:83" align="right">comment:83</div>

I have the same error,
looking into the file I don't see any sage command.



---

archive/issue_comments_339696.json:
```json
{
    "body": "<div id=\"comment:84\" align=\"right\">comment:84</div>\n\nReplying to [@rll2021](#comment%3A82):\n> \n> I have just uploaded another copy, with a new name, after stripping the output and a few commented-out cells. It should open with the standard upload link in the Sage Notebook. It should run as is, and it should fail after changing Parallelism().set(nproc=1) from 1 to 2.\n\nThis time, I can open the worksheet. Thank you. I am just running it.",
    "created_at": "2017-11-04T08:21:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339696",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:84" align="right">comment:84</div>

Replying to [@rll2021](#comment%3A82):
> 
> I have just uploaded another copy, with a new name, after stripping the output and a few commented-out cells. It should open with the standard upload link in the Sage Notebook. It should run as is, and it should fail after changing Parallelism().set(nproc=1) from 1 to 2.

This time, I can open the worksheet. Thank you. I am just running it.



---

archive/issue_events_315451.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-11-04T23:31:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315451"
}
```



---

archive/issue_events_315452.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-11-04T23:31:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315452"
}
```



---

archive/issue_comments_339697.json:
```json
{
    "body": "<div id=\"comment:85\" align=\"right\">comment:85</div>\n\nMerge conflict with #24062",
    "created_at": "2017-11-04T23:31:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339697",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:85" align="right">comment:85</div>

Merge conflict with #24062



---

archive/issue_comments_339698.json:
```json
{
    "body": "<div id=\"comment:86\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9c4119a3feda956846bd1fa78256830aef4739f8\"><code>9c4119a</code></a></td><td><code>16801: Conversion of psi(x,y) to/from SymPy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5c60e3418468f8b5325f06997646fb4f9bf6ced\"><code>d5c60e3</code></a></td><td><code>24062: pkg version/chksum</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1cbc23e8c18d4d93a19c225bf79cc85e3f37fd01\"><code>1cbc23e</code></a></td><td><code>24062: remove obsolote patches; adapt remaining</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94f359f5a48696e2b98c346e3f120e9481d89a7c\"><code>94f359f</code></a></td><td><code>24062: doctest fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e5de46981dbe0b23ce7dbbd1509c53c49ad19663\"><code>e5de469</code></a></td><td><code>Merge branch 'u/rws/24062' of git://trac.sagemath.org/sage into public/22801-manifold-sympy</code></td></tr></table>\n",
    "created_at": "2017-11-06T10:15:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339698",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:86"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9c4119a3feda956846bd1fa78256830aef4739f8"><code>9c4119a</code></a></td><td><code>16801: Conversion of psi(x,y) to/from SymPy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5c60e3418468f8b5325f06997646fb4f9bf6ced"><code>d5c60e3</code></a></td><td><code>24062: pkg version/chksum</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1cbc23e8c18d4d93a19c225bf79cc85e3f37fd01"><code>1cbc23e</code></a></td><td><code>24062: remove obsolote patches; adapt remaining</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94f359f5a48696e2b98c346e3f120e9481d89a7c"><code>94f359f</code></a></td><td><code>24062: doctest fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e5de46981dbe0b23ce7dbbd1509c53c49ad19663"><code>e5de469</code></a></td><td><code>Merge branch 'u/rws/24062' of git://trac.sagemath.org/sage into public/22801-manifold-sympy</code></td></tr></table>




---

archive/issue_comments_339699.json:
```json
{
    "body": "Changed commit from **[`ce4acb4`](https://github.com/sagemath/sagetrac-mirror/commit/ce4acb44667b5e772bb4bd027ac507e63530b4b6)** to **[`e5de469`](https://github.com/sagemath/sagetrac-mirror/commit/e5de46981dbe0b23ce7dbbd1509c53c49ad19663)**",
    "created_at": "2017-11-06T10:15:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339699",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ce4acb4`](https://github.com/sagemath/sagetrac-mirror/commit/ce4acb44667b5e772bb4bd027ac507e63530b4b6)** to **[`e5de469`](https://github.com/sagemath/sagetrac-mirror/commit/e5de46981dbe0b23ce7dbbd1509c53c49ad19663)**



---

archive/issue_events_315453.json:
```json
{
    "actor": "https://github.com/man74cio",
    "created_at": "2017-11-06T10:16:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315453"
}
```



---

archive/issue_events_315454.json:
```json
{
    "actor": "https://github.com/man74cio",
    "created_at": "2017-11-06T10:16:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315454"
}
```



---

archive/issue_comments_339700.json:
```json
{
    "body": "<div id=\"comment:87\" align=\"right\">comment:87</div>\n\nThe merge with #24062 done in the last commit. \nNo problem for me",
    "created_at": "2017-11-06T10:16:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339700",
    "user": "https://github.com/man74cio"
}
```

<div id="comment:87" align="right">comment:87</div>

The merge with #24062 done in the last commit. 
No problem for me



---

archive/issue_events_315455.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-11-06T14:48:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315455"
}
```



---

archive/issue_events_315456.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2017-11-06T14:48:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315456"
}
```



---

archive/issue_events_315457.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2017-11-12T13:45:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315457"
}
```



---

archive/issue_events_315458.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2017-11-12T13:45:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315458"
}
```



---

archive/issue_comments_339701.json:
```json
{
    "body": "Changed commit from **[`e5de469`](https://github.com/sagemath/sagetrac-mirror/commit/e5de46981dbe0b23ce7dbbd1509c53c49ad19663)** to **[`1f55769`](https://github.com/sagemath/sagetrac-mirror/commit/1f557696bf5045d4b6b9c73004715385b19e69ca)**",
    "created_at": "2017-11-12T13:45:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339701",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e5de469`](https://github.com/sagemath/sagetrac-mirror/commit/e5de46981dbe0b23ce7dbbd1509c53c49ad19663)** to **[`1f55769`](https://github.com/sagemath/sagetrac-mirror/commit/1f557696bf5045d4b6b9c73004715385b19e69ca)**



---

archive/issue_comments_339702.json:
```json
{
    "body": "<div id=\"comment:89\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6eb6bdefa0cae2a02e421f2e62713d22643e01ba\"><code>6eb6bde</code></a></td><td><code>Improve simplifications in calculus on manifolds when derivatives of symbolic functions are involved</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f557696bf5045d4b6b9c73004715385b19e69ca\"><code>1f55769</code></a></td><td><code>Merge branch of #22801 into that of #24199</code></td></tr></table>\n",
    "created_at": "2017-11-12T13:45:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339702",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:89"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6eb6bdefa0cae2a02e421f2e62713d22643e01ba"><code>6eb6bde</code></a></td><td><code>Improve simplifications in calculus on manifolds when derivatives of symbolic functions are involved</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f557696bf5045d4b6b9c73004715385b19e69ca"><code>1f55769</code></a></td><td><code>Merge branch of #22801 into that of #24199</code></td></tr></table>




---

archive/issue_events_315459.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2017-11-12T13:47:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315459"
}
```



---

archive/issue_events_315460.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2017-11-12T13:47:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315460"
}
```



---

archive/issue_comments_339703.json:
```json
{
    "body": "Changed dependencies from **#22802 #24006 #20204** to **#22802 #24006 #20204 #24199**",
    "created_at": "2017-11-12T13:47:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339703",
    "user": "https://github.com/egourgoulhon"
}
```

Changed dependencies from **#22802 #24006 #20204** to **#22802 #24006 #20204 #24199**



---

archive/issue_comments_339704.json:
```json
{
    "body": "<div id=\"comment:90\" align=\"right\">comment:90</div>\n\nThe above commit simply fixes a conflict with #24199. So I am setting the ticket back to \"positive review\".",
    "created_at": "2017-11-12T13:47:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339704",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:90" align="right">comment:90</div>

The above commit simply fixes a conflict with #24199. So I am setting the ticket back to "positive review".



---

archive/issue_comments_339705.json:
```json
{
    "body": "Changed dependencies from **#22802 #24006 #20204 #24199** to **#22802 #24006 #20204 #24232**",
    "created_at": "2017-11-19T10:32:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339705",
    "user": "https://github.com/egourgoulhon"
}
```

Changed dependencies from **#22802 #24006 #20204 #24199** to **#22802 #24006 #20204 #24232**



---

archive/issue_comments_339706.json:
```json
{
    "body": "<div id=\"comment:92\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e5baa5a956794176c965cd5555c83e79d37b20b\"><code>7e5baa5</code></a></td><td><code>Reimplement simplifications in calculus on manifolds via the expression tree</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/61d97c242aaa27f446d58af4e15fbe6d16dfe3f8\"><code>61d97c2</code></a></td><td><code>Remove unnecessary `__init__` and slightly change in the treatment of 1/sqrt(...)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec105bbb42a97c9ac2bff745112688c655a0ecb4\"><code>ec105bb</code></a></td><td><code>Use of wildcards for pattern search in simplifications regarding calculus on manifolds</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/87877f05a3908e13507afdc281289853a7e1e946\"><code>87877f0</code></a></td><td><code>Solve merge conflict of #22801 in the dependency #24232</code></td></tr></table>\n",
    "created_at": "2017-11-23T16:01:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339706",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:92"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e5baa5a956794176c965cd5555c83e79d37b20b"><code>7e5baa5</code></a></td><td><code>Reimplement simplifications in calculus on manifolds via the expression tree</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/61d97c242aaa27f446d58af4e15fbe6d16dfe3f8"><code>61d97c2</code></a></td><td><code>Remove unnecessary `__init__` and slightly change in the treatment of 1/sqrt(...)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec105bbb42a97c9ac2bff745112688c655a0ecb4"><code>ec105bb</code></a></td><td><code>Use of wildcards for pattern search in simplifications regarding calculus on manifolds</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/87877f05a3908e13507afdc281289853a7e1e946"><code>87877f0</code></a></td><td><code>Solve merge conflict of #22801 in the dependency #24232</code></td></tr></table>




---

archive/issue_events_315461.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2017-11-23T16:01:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315461"
}
```



---

archive/issue_events_315462.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2017-11-23T16:01:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315462"
}
```



---

archive/issue_comments_339707.json:
```json
{
    "body": "Changed commit from **[`1f55769`](https://github.com/sagemath/sagetrac-mirror/commit/1f557696bf5045d4b6b9c73004715385b19e69ca)** to **[`87877f0`](https://github.com/sagemath/sagetrac-mirror/commit/87877f05a3908e13507afdc281289853a7e1e946)**",
    "created_at": "2017-11-23T16:01:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339707",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1f55769`](https://github.com/sagemath/sagetrac-mirror/commit/1f557696bf5045d4b6b9c73004715385b19e69ca)** to **[`87877f0`](https://github.com/sagemath/sagetrac-mirror/commit/87877f05a3908e13507afdc281289853a7e1e946)**



---

archive/issue_events_315463.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2017-11-23T16:03:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315463"
}
```



---

archive/issue_events_315464.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2017-11-23T16:03:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315464"
}
```



---

archive/issue_comments_339708.json:
```json
{
    "body": "<div id=\"comment:93\" align=\"right\">comment:93</div>\n\nThe above commit simply solves a new merge conflict that appeared after the replacement of #24199 by #24232 in the dependencies.",
    "created_at": "2017-11-23T16:03:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339708",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:93" align="right">comment:93</div>

The above commit simply solves a new merge conflict that appeared after the replacement of #24199 by #24232 in the dependencies.



---

archive/issue_comments_339709.json:
```json
{
    "body": "<div id=\"comment:94\" align=\"right\">comment:94</div>\n\nSee the following bug report, in case\nhttps://groups.google.com/d/msg/sage-devel/3sN7gVTdNuY/U9v70LoDAwAJ\n\nBy the way, I wonder why you prefer using pexpect interface to maxima, instead of much faster maxima_calcuclus loadable library interface?",
    "created_at": "2017-11-26T10:22:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339709",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:94" align="right">comment:94</div>

See the following bug report, in case
https://groups.google.com/d/msg/sage-devel/3sN7gVTdNuY/U9v70LoDAwAJ

By the way, I wonder why you prefer using pexpect interface to maxima, instead of much faster maxima_calcuclus loadable library interface?



---

archive/issue_comments_339710.json:
```json
{
    "body": "<div id=\"comment:95\" align=\"right\">comment:95</div>\n\nReplying to [@dimpase](#comment%3A94):\n> See the following bug report, in case\n> https://groups.google.com/d/msg/sage-devel/3sN7gVTdNuY/U9v70LoDAwAJ\n> \n\nAs you pointed out in https://groups.google.com/d/msg/sage-devel/3sN7gVTdNuY/U9v70LoDAwAJ , this bug is not related to this ticket.\n\n> By the way, I wonder why you prefer using pexpect interface to maxima, instead of much faster maxima_calcuclus loadable library interface?\n\nCertainly by lack of knowledge... Thanks for your feedback! Can you elaborate a little bit though? Do you mean it is bad to use `expr._maxima_()` for `expr` in `SR`?",
    "created_at": "2017-11-26T14:19:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339710",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:95" align="right">comment:95</div>

Replying to [@dimpase](#comment%3A94):
> See the following bug report, in case
> https://groups.google.com/d/msg/sage-devel/3sN7gVTdNuY/U9v70LoDAwAJ
> 

As you pointed out in https://groups.google.com/d/msg/sage-devel/3sN7gVTdNuY/U9v70LoDAwAJ , this bug is not related to this ticket.

> By the way, I wonder why you prefer using pexpect interface to maxima, instead of much faster maxima_calcuclus loadable library interface?

Certainly by lack of knowledge... Thanks for your feedback! Can you elaborate a little bit though? Do you mean it is bad to use `expr._maxima_()` for `expr` in `SR`?



---

archive/issue_comments_339711.json:
```json
{
    "body": "<div id=\"comment:96\" align=\"right\">comment:96</div>\n\nReplying to [@egourgoulhon](#comment%3A95):\n> Certainly by lack of knowledge... Thanks for your feedback! Can you elaborate a little bit though? Do you mean it is bad to use `expr._maxima_()` for `expr` in `SR`?\n\nThis uses `sage/interfaces/interfaces.py` which is pexpect. The libmaxima functionality can be found in `sage/interfaces/maxima_lib.py`.",
    "created_at": "2017-11-26T14:28:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339711",
    "user": "https://github.com/rwst"
}
```

<div id="comment:96" align="right">comment:96</div>

Replying to [@egourgoulhon](#comment%3A95):
> Certainly by lack of knowledge... Thanks for your feedback! Can you elaborate a little bit though? Do you mean it is bad to use `expr._maxima_()` for `expr` in `SR`?

This uses `sage/interfaces/interfaces.py` which is pexpect. The libmaxima functionality can be found in `sage/interfaces/maxima_lib.py`.



---

archive/issue_comments_339712.json:
```json
{
    "body": "<div id=\"comment:97\" align=\"right\">comment:97</div>\n\nI wonder why `_maxima_lib_()` is used only in few places in the library code, as opposed to `_maxima_()`. Should one open a ticket to modify all these places? \n\nCertainly `maxima_lib` is more robust and ought to be faster on large data of certain type, at least. It runs Maxima in a Python extension module rather than talks to Maxima run as an external process.",
    "created_at": "2017-11-26T15:46:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339712",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:97" align="right">comment:97</div>

I wonder why `_maxima_lib_()` is used only in few places in the library code, as opposed to `_maxima_()`. Should one open a ticket to modify all these places? 

Certainly `maxima_lib` is more robust and ought to be faster on large data of certain type, at least. It runs Maxima in a Python extension module rather than talks to Maxima run as an external process.



---

archive/issue_comments_339713.json:
```json
{
    "body": "<div id=\"comment:98\" align=\"right\">comment:98</div>\n\nReplying to [@dimpase](#comment%3A97):\n> I wonder why `_maxima_lib_()` is used only in few places in the library code, as opposed to `_maxima_()`. Should one open a ticket to modify all these places? \n> \n\nFrom what you say about `maxima_lib`, I would say yes. In particular, `_maxima_()` is used in various methods of `sage.symbolic.expression.Expression`, like `simplify()`, `simplify_factorial()` and `simplify_trig()`.",
    "created_at": "2017-11-26T16:36:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339713",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:98" align="right">comment:98</div>

Replying to [@dimpase](#comment%3A97):
> I wonder why `_maxima_lib_()` is used only in few places in the library code, as opposed to `_maxima_()`. Should one open a ticket to modify all these places? 
> 

From what you say about `maxima_lib`, I would say yes. In particular, `_maxima_()` is used in various methods of `sage.symbolic.expression.Expression`, like `simplify()`, `simplify_factorial()` and `simplify_trig()`.



---

archive/issue_comments_339714.json:
```json
{
    "body": "<div id=\"comment:99\" align=\"right\">comment:99</div>\n\nSee #17753 and https://trac.sagemath.org/wiki/symbolics/maxima for a summary.",
    "created_at": "2017-11-26T16:43:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339714",
    "user": "https://github.com/rwst"
}
```

<div id="comment:99" align="right">comment:99</div>

See #17753 and https://trac.sagemath.org/wiki/symbolics/maxima for a summary.



---

archive/issue_comments_339715.json:
```json
{
    "body": "<div id=\"comment:100\" align=\"right\">comment:100</div>\n\nIn the code at https://groups.google.com/d/msg/sage-devel/3sN7gVTdNuY/U9v70LoDAwAJ, if we change the computation method from 'SR' to 'sympy', the same Maxima/ECL bug occurs when computing g.inverse(), where 'g' is the Riemannian metric. Why does the code call the same simplification logic, disregarding the computation method setting as 'sympy'?",
    "created_at": "2017-11-28T02:45:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339715",
    "user": "https://github.com/rll2021"
}
```

<div id="comment:100" align="right">comment:100</div>

In the code at https://groups.google.com/d/msg/sage-devel/3sN7gVTdNuY/U9v70LoDAwAJ, if we change the computation method from 'SR' to 'sympy', the same Maxima/ECL bug occurs when computing g.inverse(), where 'g' is the Riemannian metric. Why does the code call the same simplification logic, disregarding the computation method setting as 'sympy'?



---

archive/issue_comments_339716.json:
```json
{
    "body": "<div id=\"comment:101\" align=\"right\">comment:101</div>\n\nPlease open a new ticket.",
    "created_at": "2017-11-28T06:51:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339716",
    "user": "https://github.com/rwst"
}
```

<div id="comment:101" align="right">comment:101</div>

Please open a new ticket.



---

archive/issue_comments_339717.json:
```json
{
    "body": "<div id=\"comment:102\" align=\"right\">comment:102</div>\n\nReplying to [@rwst](#comment%3A101):\n> Please open a new ticket.\n\nThis is #24290. It was on the todo list anyway (cf. the TODO statement in line 794 of https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/manifolds/utilities.py?id=780e1a477fe81c46d32286174fcb58d53e8cbe4c ).",
    "created_at": "2017-11-28T08:43:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339717",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:102" align="right">comment:102</div>

Replying to [@rwst](#comment%3A101):
> Please open a new ticket.

This is #24290. It was on the todo list anyway (cf. the TODO statement in line 794 of https://github.com/sagemath/sagetrac-mirror/blob/develop/src/sage/manifolds/utilities.py?id=780e1a477fe81c46d32286174fcb58d53e8cbe4c ).



---

archive/issue_events_315465.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-12-13T17:38:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315465"
}
```



---

archive/issue_events_315466.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e2e850f9ca979fb02309dde3aa48833af771d4fe",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-12-13T17:38:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22801#event-315466"
}
```



---

archive/issue_comments_339718.json:
```json
{
    "body": "Changed branch from **[public/22801-manifold-sympy](https://github.com/sagemath/sagetrac-mirror/tree/public/22801-manifold-sympy)** to **[`87877f0`](https://github.com/sagemath/sagetrac-mirror/commit/87877f05a3908e13507afdc281289853a7e1e946)**",
    "created_at": "2017-12-13T17:38:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/22801",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22801#issuecomment-339718",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/22801-manifold-sympy](https://github.com/sagemath/sagetrac-mirror/tree/public/22801-manifold-sympy)** to **[`87877f0`](https://github.com/sagemath/sagetrac-mirror/commit/87877f05a3908e13507afdc281289853a7e1e946)**
