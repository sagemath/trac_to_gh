# Issue 22953: Add "sage --python3" command

archive/issues_022716.json:
```json
{
    "body": "Add \"sage --python3\" to run Sage's Python 3 interpreter.\n\n**CC:**  @fchapoton\n\n**Keywords:** python3\n\n**Branch/Commit:** [253502169a1efb5b7e2b30ba5ebace8432920fb3](https://github.com/sagemath/sagetrac-mirror/commit/253502169a1efb5b7e2b30ba5ebace8432920fb3)\n\n**Reviewer:** Fr\u00e9d\u00e9ric Chapoton\n\n**Author:** John Palmieri\n\nIssue created by migration from https://trac.sagemath.org/ticket/22953\n\n",
    "closed_at": "2017-05-14T08:19:55Z",
    "created_at": "2017-05-05T20:06:53Z",
    "labels": [
        "component: scripts",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.0",
    "title": "Add \"sage --python3\" command",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/22953",
    "user": "https://github.com/jhpalmieri"
}
```
Add "sage --python3" to run Sage's Python 3 interpreter.

**CC:**  @fchapoton

**Keywords:** python3

**Branch/Commit:** [253502169a1efb5b7e2b30ba5ebace8432920fb3](https://github.com/sagemath/sagetrac-mirror/commit/253502169a1efb5b7e2b30ba5ebace8432920fb3)

**Reviewer:** Frédéric Chapoton

**Author:** John Palmieri

Issue created by migration from https://trac.sagemath.org/ticket/22953





---

archive/issue_comments_345372.json:
```json
{
    "body": "**Branch:** [u/jhpalmieri/python3-cmd](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/python3-cmd)",
    "created_at": "2017-05-05T20:07:31Z",
    "issue": "https://github.com/sagemath/sage/issues/22953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22953#issuecomment-345372",
    "user": "https://github.com/jhpalmieri"
}
```

**Branch:** [u/jhpalmieri/python3-cmd](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/python3-cmd)



---

archive/issue_comments_345373.json:
```json
{
    "body": "**Commit:** [253502169a1efb5b7e2b30ba5ebace8432920fb3](https://github.com/sagemath/sagetrac-mirror/commit/253502169a1efb5b7e2b30ba5ebace8432920fb3)",
    "created_at": "2017-05-05T20:07:44Z",
    "issue": "https://github.com/sagemath/sage/issues/22953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22953#issuecomment-345373",
    "user": "https://github.com/jhpalmieri"
}
```

**Commit:** [253502169a1efb5b7e2b30ba5ebace8432920fb3](https://github.com/sagemath/sagetrac-mirror/commit/253502169a1efb5b7e2b30ba5ebace8432920fb3)



---

archive/issue_events_204553.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2017-05-05T20:07:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22953",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22953#event-204553"
}
```



---

archive/issue_comments_345374.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/253502169a1efb5b7e2b30ba5ebace8432920fb3\">2535021</a></td><td><code>trac 22953: implement \"sage --python3\"</code></td></tr></table>\n",
    "created_at": "2017-05-05T20:07:44Z",
    "issue": "https://github.com/sagemath/sage/issues/22953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22953#issuecomment-345374",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/253502169a1efb5b7e2b30ba5ebace8432920fb3">2535021</a></td><td><code>trac 22953: implement "sage --python3"</code></td></tr></table>




---

archive/issue_comments_345375.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"python3\".",
    "created_at": "2017-05-05T20:24:46Z",
    "issue": "https://github.com/sagemath/sage/issues/22953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22953#issuecomment-345375",
    "user": "https://github.com/jhpalmieri"
}
```

**Changing keywords** from "" to "python3".



---

archive/issue_comments_345376.json:
```json
{
    "body": "**Reviewer:** Fr\u00e9d\u00e9ric Chapoton",
    "created_at": "2017-05-09T19:00:40Z",
    "issue": "https://github.com/sagemath/sage/issues/22953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22953#issuecomment-345376",
    "user": "https://github.com/fchapoton"
}
```

**Reviewer:** Frédéric Chapoton



---

archive/issue_events_204554.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-05-09T19:00:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22953",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22953#event-204554"
}
```



---

archive/issue_events_204555.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-05-09T19:00:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/22953",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22953#event-204555"
}
```



---

archive/issue_comments_345377.json:
```json
{
    "body": "<a id='comment:4'></a>\nok, looks good to me",
    "created_at": "2017-05-09T19:00:40Z",
    "issue": "https://github.com/sagemath/sage/issues/22953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22953#issuecomment-345377",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
ok, looks good to me



---

archive/issue_comments_345378.json:
```json
{
    "body": "<a id='comment:5'></a>\nMaybe we could do the same for ipython3, which is quite convenient to have.",
    "created_at": "2017-05-11T14:54:14Z",
    "issue": "https://github.com/sagemath/sage/issues/22953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22953#issuecomment-345378",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
Maybe we could do the same for ipython3, which is quite convenient to have.



---

archive/issue_comments_345379.json:
```json
{
    "body": "<a id='comment:6'></a>\nAs far as I can tell, ipython3 is only installed if `SAGE_PYTHON3=yes`. (This is up to IPython's installation, not a Sage decision.) We could make these changes, in any case, either here or on a new ticket:\n\n```diff\ndiff --git a/src/bin/sage b/src/bin/sage\nindex 2091144..206bbeb 100755\n--- a/src/bin/sage\n+++ b/src/bin/sage\n@@ -100,6 +100,9 @@ usage_advanced() {\n     echo \"  -gp [...]           -- run Sage's PARI/GP calculator with given arguments\"\n     echo \"  -ipython [...]      -- run Sage's IPython using the default environment (not\"\n     echo \"                         Sage), passing additional options to IPython\"\n+    echo \"  -ipython3 [...]     -- run Sage's IPython3 (if available) using the default\"\n+    echo \"                         environment (not Sage), passing additional options\"\n+    echo \"                         to IPython3\"\n     echo \"  -kash [...]         -- run Sage's Kash with given arguments\"\n     command -v kash &>/dev/null || \\\n     echo \"                         (not installed currently, run sage -i kash)\"\n@@ -593,6 +596,11 @@ if [ \"$1\" = '-ipython' -o \"$1\" = '--ipython' ]; then\n     exec ipython \"$@\"\n fi\n \n+if [ \"$1\" = '-ipython3' -o \"$1\" = '--ipython3' ]; then\n+    shift\n+    exec ipython3 \"$@\"\n+fi\n+\n if [ \"$1\" = '-git' -o \"$1\" = '--git' ]; then\n     shift\n     exec git \"$@\"\ndiff --git a/src/doc/en/reference/repl/options.rst b/src/doc/en/reference/repl/options.rst\nindex e87c58a..6878504 100644\n--- a/src/doc/en/reference/repl/options.rst\n+++ b/src/doc/en/reference/repl/options.rst\n@@ -67,6 +67,10 @@ Command-line options for Sage\n - ``--gp [...]`` -- run Sage's PARI/GP calculator with the given arguments\n - ``--ipython [...]`` -- run Sage's IPython using the default\n   environment (not Sage), passing additional options to IPython\n+- ``--ipython3 [...]`` -- run Sage's IPython3 using the default\n+  environment (not Sage), passing additional options to IPython3. Note\n+  that IPython3 is only installed if Sage is built with the\n+  environment variable :envvar:`SAGE_PYTHON3` set to \"yes\".\n - ``--kash [...]`` -- run Sage's Kash with the given arguments\n - ``--M2 [...]`` -- run Sage's Macaulay2 with the given arguments\n - ``--maxima [...]`` -- run Sage's Maxima with the given arguments\n```",
    "created_at": "2017-05-11T17:32:13Z",
    "issue": "https://github.com/sagemath/sage/issues/22953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22953#issuecomment-345379",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:6'></a>
As far as I can tell, ipython3 is only installed if `SAGE_PYTHON3=yes`. (This is up to IPython's installation, not a Sage decision.) We could make these changes, in any case, either here or on a new ticket:

```diff
diff --git a/src/bin/sage b/src/bin/sage
index 2091144..206bbeb 100755
--- a/src/bin/sage
+++ b/src/bin/sage
@@ -100,6 +100,9 @@ usage_advanced() {
     echo "  -gp [...]           -- run Sage's PARI/GP calculator with given arguments"
     echo "  -ipython [...]      -- run Sage's IPython using the default environment (not"
     echo "                         Sage), passing additional options to IPython"
+    echo "  -ipython3 [...]     -- run Sage's IPython3 (if available) using the default"
+    echo "                         environment (not Sage), passing additional options"
+    echo "                         to IPython3"
     echo "  -kash [...]         -- run Sage's Kash with given arguments"
     command -v kash &>/dev/null || \
     echo "                         (not installed currently, run sage -i kash)"
@@ -593,6 +596,11 @@ if [ "$1" = '-ipython' -o "$1" = '--ipython' ]; then
     exec ipython "$@"
 fi
 
+if [ "$1" = '-ipython3' -o "$1" = '--ipython3' ]; then
+    shift
+    exec ipython3 "$@"
+fi
+
 if [ "$1" = '-git' -o "$1" = '--git' ]; then
     shift
     exec git "$@"
diff --git a/src/doc/en/reference/repl/options.rst b/src/doc/en/reference/repl/options.rst
index e87c58a..6878504 100644
--- a/src/doc/en/reference/repl/options.rst
+++ b/src/doc/en/reference/repl/options.rst
@@ -67,6 +67,10 @@ Command-line options for Sage
 - ``--gp [...]`` -- run Sage's PARI/GP calculator with the given arguments
 - ``--ipython [...]`` -- run Sage's IPython using the default
   environment (not Sage), passing additional options to IPython
+- ``--ipython3 [...]`` -- run Sage's IPython3 using the default
+  environment (not Sage), passing additional options to IPython3. Note
+  that IPython3 is only installed if Sage is built with the
+  environment variable :envvar:`SAGE_PYTHON3` set to "yes".
 - ``--kash [...]`` -- run Sage's Kash with the given arguments
 - ``--M2 [...]`` -- run Sage's Macaulay2 with the given arguments
 - ``--maxima [...]`` -- run Sage's Maxima with the given arguments
```



---

archive/issue_events_204556.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-05-14T08:19:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/22953",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22953#event-204556"
}
```



---

archive/issue_events_204557.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "140c85c9816d861385313b12fb8a4a55b24694e8",
    "created_at": "2017-05-14T08:19:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/22953",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/22953#event-204557"
}
```



---

archive/issue_comments_345380.json:
```json
{
    "body": "**Changing branch** from \"[u/jhpalmieri/python3-cmd](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/python3-cmd)\" to \"[253502169a1efb5b7e2b30ba5ebace8432920fb3](https://github.com/sagemath/sagetrac-mirror/commit/253502169a1efb5b7e2b30ba5ebace8432920fb3)\".",
    "created_at": "2017-05-14T08:19:55Z",
    "issue": "https://github.com/sagemath/sage/issues/22953",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/22953#issuecomment-345380",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/jhpalmieri/python3-cmd](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/python3-cmd)" to "[253502169a1efb5b7e2b30ba5ebace8432920fb3](https://github.com/sagemath/sagetrac-mirror/commit/253502169a1efb5b7e2b30ba5ebace8432920fb3)".
