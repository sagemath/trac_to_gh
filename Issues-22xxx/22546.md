# Issue 22546: Improve combinatorial_automorphism_group in polyhedra class

archive/issues_022309.json:
```json
{
    "body": "Currently, the `combinatorial_automorphism_group` method in the polyhedron class returns a group isomorphic to the automorphism group of the vertex-edge graph of the polyhedron. I propose to changes two the method:\n\n (1) don't return a permutation group on the number `1, 2,.. self.n_vertices()`, but rather a permutation group on the actual objects (vertices of the polyhedron)\n\n (2) wide the functionality to not only return the automorphism group of the vertex-edge graph, but also of the vertex-facet graph.\n\nThe second improvement has the advantage that the automorphism group of the vertex-facet graph is the same as the automorphism of the face lattice. \n\nSince the vertex-facet graph is also used in the related `.is_combinatorially_isomorphic` method (see #22500) and it might be useful on its own, it is now a seperate function.\n\n\n\nCC:  @jplab\n\nKeywords: polyhedron, days84\n\nBranch/Commit: 128d28e8b4c59f227b18147866d40aa00ed74f87\n\nReviewer: Jean-Philippe Labb\u00e9\n\nAuthor: Moritz Firsching\n\nDependencies: #22500\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/22546\n\n",
    "closed_at": "2017-04-06T18:59:11Z",
    "created_at": "2017-03-07T22:10:28Z",
    "labels": [
        "component: geometry"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.6",
    "title": "Improve combinatorial_automorphism_group in polyhedra class",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22546",
    "user": "https://github.com/mo271"
}
```
Currently, the `combinatorial_automorphism_group` method in the polyhedron class returns a group isomorphic to the automorphism group of the vertex-edge graph of the polyhedron. I propose to changes two the method:

 (1) don't return a permutation group on the number `1, 2,.. self.n_vertices()`, but rather a permutation group on the actual objects (vertices of the polyhedron)

 (2) wide the functionality to not only return the automorphism group of the vertex-edge graph, but also of the vertex-facet graph.

The second improvement has the advantage that the automorphism group of the vertex-facet graph is the same as the automorphism of the face lattice. 

Since the vertex-facet graph is also used in the related `.is_combinatorially_isomorphic` method (see #22500) and it might be useful on its own, it is now a seperate function.



CC:  @jplab

Keywords: polyhedron, days84

Branch/Commit: 128d28e8b4c59f227b18147866d40aa00ed74f87

Reviewer: Jean-Philippe Labbé

Author: Moritz Firsching

Dependencies: #22500

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/22546





---

archive/issue_comments_418772.json:
```json
{
    "body": "Changing branch from \"\" to \"u/moritz/combinatorial_automorphism_group\"",
    "created_at": "2017-03-07T22:53:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418772",
    "user": "https://github.com/mo271"
}
```

Changing branch from "" to "u/moritz/combinatorial_automorphism_group"



---

archive/issue_comments_418773.json:
```json
{
    "body": "Changing commit from \"\" to \"aa80ed3a21abac2b2d6b0be19c60a3d665f61e63\"",
    "created_at": "2017-03-07T22:55:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418773",
    "user": "https://github.com/mo271"
}
```

Changing commit from "" to "aa80ed3a21abac2b2d6b0be19c60a3d665f61e63"



---

archive/issue_comments_418774.json:
```json
{
    "body": "Changing dependencies from \"\" to \"https://trac.sagemath.org/ticket/22500\"",
    "created_at": "2017-03-07T22:55:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418774",
    "user": "https://github.com/mo271"
}
```

Changing dependencies from "" to "https://trac.sagemath.org/ticket/22500"



---

archive/issue_comments_418775.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------|\n|[508bc6b](https://git.sagemath.org/sage.git/commit?id=508bc6be8582cd08da99074fcf7119ef90c793ae)|`initial version`|\n|[ca97480](https://git.sagemath.org/sage.git/commit?id=ca97480c2cbb8eb4455336bdbce86455f90445bc)|`pep8 errors fixed`|\n|[03dbd96](https://git.sagemath.org/sage.git/commit?id=03dbd96a6431214c68df02beeec0ca3b0e3d967f)|`better assertins, improved docstrings`|\n|[5a2307d](https://git.sagemath.org/sage.git/commit?id=5a2307d1656ec16e3cdf96a01cbe12c18bbc5d4c)|`reference added`|\n|[0a29d25](https://git.sagemath.org/sage.git/commit?id=0a29d259a6d815c3a2a9d7ad9faf718598072ea3)|`whitespace`|\n|[f0ec516](https://git.sagemath.org/sage.git/commit?id=f0ec516d8d4557c4f507e9c862a8ccbb621b9ea5)|`little improvements, change 'algo' to 'algorithm'`|\n|[aa80ed3](https://git.sagemath.org/sage.git/commit?id=aa80ed3a21abac2b2d6b0be19c60a3d665f61e63)|`new version of combinatorial_automorphism_group of polyhedra`|",
    "created_at": "2017-03-07T22:55:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418775",
    "user": "https://github.com/mo271"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------|
|[508bc6b](https://git.sagemath.org/sage.git/commit?id=508bc6be8582cd08da99074fcf7119ef90c793ae)|`initial version`|
|[ca97480](https://git.sagemath.org/sage.git/commit?id=ca97480c2cbb8eb4455336bdbce86455f90445bc)|`pep8 errors fixed`|
|[03dbd96](https://git.sagemath.org/sage.git/commit?id=03dbd96a6431214c68df02beeec0ca3b0e3d967f)|`better assertins, improved docstrings`|
|[5a2307d](https://git.sagemath.org/sage.git/commit?id=5a2307d1656ec16e3cdf96a01cbe12c18bbc5d4c)|`reference added`|
|[0a29d25](https://git.sagemath.org/sage.git/commit?id=0a29d259a6d815c3a2a9d7ad9faf718598072ea3)|`whitespace`|
|[f0ec516](https://git.sagemath.org/sage.git/commit?id=f0ec516d8d4557c4f507e9c862a8ccbb621b9ea5)|`little improvements, change 'algo' to 'algorithm'`|
|[aa80ed3](https://git.sagemath.org/sage.git/commit?id=aa80ed3a21abac2b2d6b0be19c60a3d665f61e63)|`new version of combinatorial_automorphism_group of polyhedra`|



---

archive/issue_comments_418776.json:
```json
{
    "body": "<a id='comment:3'></a>\nThis addition does everything I propose to do and illustrate the differences with examples.",
    "created_at": "2017-03-07T22:57:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418776",
    "user": "https://github.com/mo271"
}
```

<a id='comment:3'></a>
This addition does everything I propose to do and illustrate the differences with examples.



---

archive/issue_comments_418777.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-03-07T22:57:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418777",
    "user": "https://github.com/mo271"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_418778.json:
```json
{
    "body": "Changing dependencies from \"https://trac.sagemath.org/ticket/22500\" to \"#22500\"",
    "created_at": "2017-03-08T22:45:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418778",
    "user": "https://github.com/jplab"
}
```

Changing dependencies from "https://trac.sagemath.org/ticket/22500" to "#22500"



---

archive/issue_comments_418779.json:
```json
{
    "body": "<a id='comment:5'></a>\n- Aren't the vertices actually numbered from `0` up to `n-1`?\n\n```\nsage: p = polytopes.associahedron(['A',2])\nsage: p.faces(0)\n(<0>, <1>, <2>, <3>, <4>)\n```\n\n- typo in the ticket description `returns the a group isomorphic`\n\n- in the docstring, I am not sure that `whether to the graph` is proper english\n\n- Why `_vertex_facet_graph` starts with a underscore?",
    "created_at": "2017-03-10T18:17:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418779",
    "user": "https://github.com/videlec"
}
```

<a id='comment:5'></a>
- Aren't the vertices actually numbered from `0` up to `n-1`?

```
sage: p = polytopes.associahedron(['A',2])
sage: p.faces(0)
(<0>, <1>, <2>, <3>, <4>)
```

- typo in the ticket description `returns the a group isomorphic`

- in the docstring, I am not sure that `whether to the graph` is proper english

- Why `_vertex_facet_graph` starts with a underscore?



---

archive/issue_comments_418780.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2017-03-10T18:17:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418780",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_418781.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2017-03-12T16:29:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418781",
    "user": "https://github.com/mo271"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_418782.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Currently, the `combinatorial_automorphism_group` method in the polyhedron class returns the a group isomorphic to the automorphism group of the vertex-edge graph of the polyhedron. I propose to changes two the method:\n+Currently, the `combinatorial_automorphism_group` method in the polyhedron class returns a group isomorphic to the automorphism group of the vertex-edge graph of the polyhedron. I propose to changes two the method:\n \n  (1) don't return a permutation group on the number `1, 2,.. self.n_vertices()`, but rather a permutation group on the actual objects (vertices of the polyhedron)\n \n``````\n",
    "created_at": "2017-03-12T16:29:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418782",
    "user": "https://github.com/mo271"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Currently, the `combinatorial_automorphism_group` method in the polyhedron class returns the a group isomorphic to the automorphism group of the vertex-edge graph of the polyhedron. I propose to changes two the method:
+Currently, the `combinatorial_automorphism_group` method in the polyhedron class returns a group isomorphic to the automorphism group of the vertex-edge graph of the polyhedron. I propose to changes two the method:
 
  (1) don't return a permutation group on the number `1, 2,.. self.n_vertices()`, but rather a permutation group on the actual objects (vertices of the polyhedron)
 
``````




---

archive/issue_comments_418783.json:
```json
{
    "body": "<a id='comment:6'></a>\nThanks for the comments, Vincent!\n\n- about the numbering: yes the vertices have their labeling from `0` to `n-1`, and also the facets of dimension `P.dim()-1` have their labeling. From this it is not quite clear to me, what the best labeling for the nodes in the vertex_facet_graph would be. if `labels=True`, we get consistent result with the `.graph` method:\n\n```\nsage: p = polytopes.associahedron(['A',2])\nsage: p.graph().vertices()\n\n[A vertex at (-1, 0),\n A vertex at (-1, 1),\n A vertex at (0, -1),\n A vertex at (1, -1),\n A vertex at (1, 1)]\nsage: p.vertex_facet_graph().vertices()\n\n[An inequality (-1, 0) x + 1 >= 0,\n An inequality (0, -1) x + 1 >= 0,\n An inequality (0, 1) x + 1 >= 0,\n An inequality (1, 0) x + 1 >= 0,\n An inequality (1, 1) x + 1 >= 0,\n A vertex at (-1, 0),\n A vertex at (-1, 1),\n A vertex at (0, -1),\n A vertex at (1, -1),\n A vertex at (1, 1)]\n```\n  The reason to have the options `labels=False` is basically only for internal use by the .is_combinatorially_isomorphic method. \n\n- typo in the description fixed\n- changed  the sentence to \"decide how the nodes of the graph are labelled. Either with the original vertices/facets  of the Polyhedron or with integers.\"\n- I have no strong opinion if this method should be public or start with an underscore, I guess there are reasons for both. (Now I removed the underscore).",
    "created_at": "2017-03-12T16:29:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418783",
    "user": "https://github.com/mo271"
}
```

<a id='comment:6'></a>
Thanks for the comments, Vincent!

- about the numbering: yes the vertices have their labeling from `0` to `n-1`, and also the facets of dimension `P.dim()-1` have their labeling. From this it is not quite clear to me, what the best labeling for the nodes in the vertex_facet_graph would be. if `labels=True`, we get consistent result with the `.graph` method:

```
sage: p = polytopes.associahedron(['A',2])
sage: p.graph().vertices()

[A vertex at (-1, 0),
 A vertex at (-1, 1),
 A vertex at (0, -1),
 A vertex at (1, -1),
 A vertex at (1, 1)]
sage: p.vertex_facet_graph().vertices()

[An inequality (-1, 0) x + 1 >= 0,
 An inequality (0, -1) x + 1 >= 0,
 An inequality (0, 1) x + 1 >= 0,
 An inequality (1, 0) x + 1 >= 0,
 An inequality (1, 1) x + 1 >= 0,
 A vertex at (-1, 0),
 A vertex at (-1, 1),
 A vertex at (0, -1),
 A vertex at (1, -1),
 A vertex at (1, 1)]
```
  The reason to have the options `labels=False` is basically only for internal use by the .is_combinatorially_isomorphic method. 

- typo in the description fixed
- changed  the sentence to "decide how the nodes of the graph are labelled. Either with the original vertices/facets  of the Polyhedron or with integers."
- I have no strong opinion if this method should be public or start with an underscore, I guess there are reasons for both. (Now I removed the underscore).



---

archive/issue_comments_418784.json:
```json
{
    "body": "Changing commit from \"aa80ed3a21abac2b2d6b0be19c60a3d665f61e63\" to \"a56630bd6db8e1a407c8ced18ece71b9ccc8ca47\"",
    "created_at": "2017-03-12T16:30:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418784",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "aa80ed3a21abac2b2d6b0be19c60a3d665f61e63" to "a56630bd6db8e1a407c8ced18ece71b9ccc8ca47"



---

archive/issue_comments_418785.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------|\n|[a56630b](https://git.sagemath.org/sage.git/commit/?id=a56630bd6db8e1a407c8ced18ece71b9ccc8ca47)|`make method cached and public; better wording for the INPUT docstring`|",
    "created_at": "2017-03-12T16:30:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418785",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------|
|[a56630b](https://git.sagemath.org/sage.git/commit/?id=a56630bd6db8e1a407c8ced18ece71b9ccc8ca47)|`make method cached and public; better wording for the INPUT docstring`|



---

archive/issue_comments_418786.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-03-12T16:31:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418786",
    "user": "https://github.com/mo271"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_418787.json:
```json
{
    "body": "<a id='comment:9'></a>\nIs the description of the ticket missing a sentence at the end?",
    "created_at": "2017-03-15T16:05:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418787",
    "user": "https://github.com/jplab"
}
```

<a id='comment:9'></a>
Is the description of the ticket missing a sentence at the end?



---

archive/issue_comments_418788.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-03-15T16:10:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418788",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_418789.json:
```json
{
    "body": "<a id='comment:10'></a>\n- There is a space missing here:\n\n```\nsage: O=polytopes.octahedron(); O\n```\n\n- There is an indentation too much it seems in the OUTPUT field of `combinatorial_automorphism_group`",
    "created_at": "2017-03-15T16:10:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418789",
    "user": "https://github.com/jplab"
}
```

<a id='comment:10'></a>
- There is a space missing here:

```
sage: O=polytopes.octahedron(); O
```

- There is an indentation too much it seems in the OUTPUT field of `combinatorial_automorphism_group`



---

archive/issue_comments_418790.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,6 +6,6 @@\n \n The second improvement has the advantage that the automorphism group of the vertex-facet graph is the same as the automorphism of the face lattice. \n \n-Since the vertex-facet graph is also used in the related `.is_combinatorially_isomorphic` method (see #22500) \n+Since the vertex-facet graph is also used in the related `.is_combinatorially_isomorphic` method (see #22500) and it might be useful on its own, it is now a seperate function.\n \n \n``````\n",
    "created_at": "2017-03-16T18:24:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418790",
    "user": "https://github.com/mo271"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,6 +6,6 @@
 
 The second improvement has the advantage that the automorphism group of the vertex-facet graph is the same as the automorphism of the face lattice. 
 
-Since the vertex-facet graph is also used in the related `.is_combinatorially_isomorphic` method (see #22500) 
+Since the vertex-facet graph is also used in the related `.is_combinatorially_isomorphic` method (see #22500) and it might be useful on its own, it is now a seperate function.
 
 
``````




---

archive/issue_comments_418791.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------|\n|[9843c05](https://git.sagemath.org/sage.git/commit/?id=9843c058e1b55fba9c4d97a157c5d2a2d57d2c6b)|`new version of combinatorial_automorphism_group of polyhedra`|\n|[950f824](https://git.sagemath.org/sage.git/commit/?id=950f824a843614914af6b68abfb92d13c1653d67)|`make method cached and public; better wording for the INPUT docstring`|\n|[e72d2cb](https://git.sagemath.org/sage.git/commit/?id=e72d2cb6a2dd4ef12152069baaad3eb134348708)|`immprovements in docstring, including SEEALSOs`|",
    "created_at": "2017-03-16T20:17:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418791",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------|
|[9843c05](https://git.sagemath.org/sage.git/commit/?id=9843c058e1b55fba9c4d97a157c5d2a2d57d2c6b)|`new version of combinatorial_automorphism_group of polyhedra`|
|[950f824](https://git.sagemath.org/sage.git/commit/?id=950f824a843614914af6b68abfb92d13c1653d67)|`make method cached and public; better wording for the INPUT docstring`|
|[e72d2cb](https://git.sagemath.org/sage.git/commit/?id=e72d2cb6a2dd4ef12152069baaad3eb134348708)|`immprovements in docstring, including SEEALSOs`|



---

archive/issue_comments_418792.json:
```json
{
    "body": "Changing commit from \"a56630bd6db8e1a407c8ced18ece71b9ccc8ca47\" to \"e72d2cb6a2dd4ef12152069baaad3eb134348708\"",
    "created_at": "2017-03-16T20:17:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418792",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a56630bd6db8e1a407c8ced18ece71b9ccc8ca47" to "e72d2cb6a2dd4ef12152069baaad3eb134348708"



---

archive/issue_comments_418793.json:
```json
{
    "body": "<a id='comment:13'></a>\nThanks for looking at the ticket, JP! I fixed up the things you mentioned and added some little improvements in the docstring. Also I rebased on the current rc0.",
    "created_at": "2017-03-16T20:19:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418793",
    "user": "https://github.com/mo271"
}
```

<a id='comment:13'></a>
Thanks for looking at the ticket, JP! I fixed up the things you mentioned and added some little improvements in the docstring. Also I rebased on the current rc0.



---

archive/issue_comments_418794.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-03-16T20:19:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418794",
    "user": "https://github.com/mo271"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_418795.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-03-29T11:37:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418795",
    "user": "https://github.com/mo271"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_418796.json:
```json
{
    "body": "Changing commit from \"e72d2cb6a2dd4ef12152069baaad3eb134348708\" to \"7fe551fc631fed57c62eeaead5c28a92dd7f87a3\"",
    "created_at": "2017-03-29T12:07:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418796",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e72d2cb6a2dd4ef12152069baaad3eb134348708" to "7fe551fc631fed57c62eeaead5c28a92dd7f87a3"



---

archive/issue_comments_418797.json:
```json
{
    "body": "<a id='comment:15'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------|\n|[e07a18c](https://git.sagemath.org/sage.git/commit/?id=e07a18c5bc43fe67ed4f1da5b8d8e7448e796547)|`new version of combinatorial_automorphism_group of polyhedra`|\n|[c303ed7](https://git.sagemath.org/sage.git/commit/?id=c303ed7ea4f1f9527f604005bc07b20566ed3bb1)|`make method cached and public; better wording for the INPUT docstring`|\n|[6b938f8](https://git.sagemath.org/sage.git/commit/?id=6b938f885c7fd16a93dbd5d8ebca465699bfa8c5)|`immprovements in docstring, including SEEALSOs`|\n|[7fe551f](https://git.sagemath.org/sage.git/commit/?id=7fe551fc631fed57c62eeaead5c28a92dd7f87a3)|`rebased`|",
    "created_at": "2017-03-29T12:07:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418797",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------|
|[e07a18c](https://git.sagemath.org/sage.git/commit/?id=e07a18c5bc43fe67ed4f1da5b8d8e7448e796547)|`new version of combinatorial_automorphism_group of polyhedra`|
|[c303ed7](https://git.sagemath.org/sage.git/commit/?id=c303ed7ea4f1f9527f604005bc07b20566ed3bb1)|`make method cached and public; better wording for the INPUT docstring`|
|[6b938f8](https://git.sagemath.org/sage.git/commit/?id=6b938f885c7fd16a93dbd5d8ebca465699bfa8c5)|`immprovements in docstring, including SEEALSOs`|
|[7fe551f](https://git.sagemath.org/sage.git/commit/?id=7fe551fc631fed57c62eeaead5c28a92dd7f87a3)|`rebased`|



---

archive/issue_comments_418798.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-03-29T12:08:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418798",
    "user": "https://github.com/mo271"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_418799.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-03-30T09:04:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418799",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_418800.json:
```json
{
    "body": "<a id='comment:17'></a>\nThere are failed doctests. See the bot shortlog,\n\n```\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/base.py\", line 498, in sage.geometry.polyhedron.base.Polyhedron_base.vertex_facet_graph\nFailed example:\n    G.vertices()\nExpected:\n    [An inequality (-1, 0, 0) x + 1 >= 0,\n     An inequality (0, -1, 0) x + 1 >= 0,\n     An inequality (0, 0, -1) x + 1 >= 0,\n     An inequality (0, 0, 1) x + 1 >= 0,\n     An inequality (0, 1, 0) x + 1 >= 0,\n     An inequality (1, 0, 0) x + 1 >= 0,\n     A vertex at (-1, -1, -1),\n     A vertex at (-1, -1, 1),\n     A vertex at (-1, 1, -1),\n     A vertex at (-1, 1, 1),\n     A vertex at (1, -1, -1),\n     A vertex at (1, -1, 1),\n     A vertex at (1, 1, -1),\n     A vertex at (1, 1, 1)]\nGot:\n    [A vertex at (-1, -1, -1),\n     A vertex at (-1, -1, 1),\n     A vertex at (-1, 1, -1),\n     A vertex at (-1, 1, 1),\n     A vertex at (1, -1, -1),\n     A vertex at (1, -1, 1),\n     A vertex at (1, 1, -1),\n     A vertex at (1, 1, 1),\n     An inequality (-1, 0, 0) x + 1 >= 0,\n     An inequality (0, -1, 0) x + 1 >= 0,\n     An inequality (0, 0, -1) x + 1 >= 0,\n     An inequality (0, 0, 1) x + 1 >= 0,\n     An inequality (0, 1, 0) x + 1 >= 0,\n     An inequality (1, 0, 0) x + 1 >= 0]\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/base.py\", line 4909, in sage.geometry.polyhedron.base.Polyhedron_base.combinatorial_automorphism_group\nFailed example:\n    quadrangle.combinatorial_automorphism_group()\nExpected:\n    Permutation Group with generators [(An inequality (0,1) x + 0 >= 0,An inequality (1,0) x + 0 >= 0)(An inequality (1,-1) x + 1 >= 0,An inequality (-3,1) x + 3 >= 0)(A vertex at (0,1),A vertex at (1,0)), (An inequality (0,1) x + 0 >= 0,An inequality (1,-1) x + 1 >= 0)(A vertex at (0,0),A vertex at (0,1))(A vertex at (1,0),A vertex at (2,3))]\nGot:\n    Permutation Group with generators [(A vertex at (0,1),A vertex at (1,0))(An inequality (0,1) x + 0 >= 0,An inequality (1,0) x + 0 >= 0)(An inequality (1,-1) x + 1 >= 0,An inequality (-3,1) x + 3 >= 0), (A vertex at (0,0),A vertex at (0,1))(A vertex at (1,0),A vertex at (2,3))(An inequality (0,1) x + 0 >= 0,An inequality (1,-1) x + 1 >= 0)]\n**********************************************************************\n```",
    "created_at": "2017-03-30T09:04:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418800",
    "user": "https://github.com/jplab"
}
```

<a id='comment:17'></a>
There are failed doctests. See the bot shortlog,

```
**********************************************************************
File "src/sage/geometry/polyhedron/base.py", line 498, in sage.geometry.polyhedron.base.Polyhedron_base.vertex_facet_graph
Failed example:
    G.vertices()
Expected:
    [An inequality (-1, 0, 0) x + 1 >= 0,
     An inequality (0, -1, 0) x + 1 >= 0,
     An inequality (0, 0, -1) x + 1 >= 0,
     An inequality (0, 0, 1) x + 1 >= 0,
     An inequality (0, 1, 0) x + 1 >= 0,
     An inequality (1, 0, 0) x + 1 >= 0,
     A vertex at (-1, -1, -1),
     A vertex at (-1, -1, 1),
     A vertex at (-1, 1, -1),
     A vertex at (-1, 1, 1),
     A vertex at (1, -1, -1),
     A vertex at (1, -1, 1),
     A vertex at (1, 1, -1),
     A vertex at (1, 1, 1)]
Got:
    [A vertex at (-1, -1, -1),
     A vertex at (-1, -1, 1),
     A vertex at (-1, 1, -1),
     A vertex at (-1, 1, 1),
     A vertex at (1, -1, -1),
     A vertex at (1, -1, 1),
     A vertex at (1, 1, -1),
     A vertex at (1, 1, 1),
     An inequality (-1, 0, 0) x + 1 >= 0,
     An inequality (0, -1, 0) x + 1 >= 0,
     An inequality (0, 0, -1) x + 1 >= 0,
     An inequality (0, 0, 1) x + 1 >= 0,
     An inequality (0, 1, 0) x + 1 >= 0,
     An inequality (1, 0, 0) x + 1 >= 0]
**********************************************************************
File "src/sage/geometry/polyhedron/base.py", line 4909, in sage.geometry.polyhedron.base.Polyhedron_base.combinatorial_automorphism_group
Failed example:
    quadrangle.combinatorial_automorphism_group()
Expected:
    Permutation Group with generators [(An inequality (0,1) x + 0 >= 0,An inequality (1,0) x + 0 >= 0)(An inequality (1,-1) x + 1 >= 0,An inequality (-3,1) x + 3 >= 0)(A vertex at (0,1),A vertex at (1,0)), (An inequality (0,1) x + 0 >= 0,An inequality (1,-1) x + 1 >= 0)(A vertex at (0,0),A vertex at (0,1))(A vertex at (1,0),A vertex at (2,3))]
Got:
    Permutation Group with generators [(A vertex at (0,1),A vertex at (1,0))(An inequality (0,1) x + 0 >= 0,An inequality (1,0) x + 0 >= 0)(An inequality (1,-1) x + 1 >= 0,An inequality (-3,1) x + 3 >= 0), (A vertex at (0,0),A vertex at (0,1))(A vertex at (1,0),A vertex at (2,3))(An inequality (0,1) x + 0 >= 0,An inequality (1,-1) x + 1 >= 0)]
**********************************************************************
```



---

archive/issue_comments_418801.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jean-Philippe Labb\u00e9\"",
    "created_at": "2017-03-30T09:05:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418801",
    "user": "https://github.com/jplab"
}
```

Changing reviewer from "" to "Jean-Philippe Labbé"



---

archive/issue_comments_418802.json:
```json
{
    "body": "Changing commit from \"7fe551fc631fed57c62eeaead5c28a92dd7f87a3\" to \"128d28e8b4c59f227b18147866d40aa00ed74f87\"",
    "created_at": "2017-04-02T21:56:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418802",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7fe551fc631fed57c62eeaead5c28a92dd7f87a3" to "128d28e8b4c59f227b18147866d40aa00ed74f87"



---

archive/issue_comments_418803.json:
```json
{
    "body": "<a id='comment:19'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|\n|[128d28e](https://git.sagemath.org/sage.git/commit/?id=128d28e8b4c59f227b18147866d40aa00ed74f87)|`fixed dependency on order in doctests`|",
    "created_at": "2017-04-02T21:56:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418803",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
|[128d28e](https://git.sagemath.org/sage.git/commit/?id=128d28e8b4c59f227b18147866d40aa00ed74f87)|`fixed dependency on order in doctests`|



---

archive/issue_comments_418804.json:
```json
{
    "body": "<a id='comment:20'></a>\nThis should fix the problem.",
    "created_at": "2017-04-02T21:58:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418804",
    "user": "https://github.com/mo271"
}
```

<a id='comment:20'></a>
This should fix the problem.



---

archive/issue_comments_418805.json:
```json
{
    "body": "<a id='comment:21'></a>\nLooks good to me.",
    "created_at": "2017-04-04T07:47:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418805",
    "user": "https://github.com/jplab"
}
```

<a id='comment:21'></a>
Looks good to me.



---

archive/issue_comments_418806.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2017-04-04T07:47:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418806",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_events_058898.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-04-06T18:59:11Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22546#event-58898"
}
```



---

archive/issue_comments_418807.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-04-06T18:59:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418807",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_418808.json:
```json
{
    "body": "Changing branch from \"u/moritz/combinatorial_automorphism_group\" to \"128d28e8b4c59f227b18147866d40aa00ed74f87\"",
    "created_at": "2017-04-06T18:59:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22546#issuecomment-418808",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/moritz/combinatorial_automorphism_group" to "128d28e8b4c59f227b18147866d40aa00ed74f87"
