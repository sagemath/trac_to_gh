# Issue 32739: Minimum and short vectors for ``IntegralLattice``

Issue created by migration from https://trac.sagemath.org/ticket/32976

Original creator: sbrandhorst

Original creation time: 2021-12-04 18:37:24

CC:  slelievre tscrim

Add a function that returns the minimum and short vectors for an integral lattice.


---

Comment by sbrandhorst created at 2021-12-04 18:50:41

Changing component from PLEASE CHANGE to quadratic forms.


---

Comment by sbrandhorst created at 2021-12-06 08:51:23

New commits:


---

Comment by sbrandhorst created at 2021-12-06 08:51:23

Changing status from new to needs_review.


---

Comment by slelievre created at 2021-12-14 05:58:52

Changing status from needs_review to needs_work.


---

Comment by slelievre created at 2021-12-14 05:58:52

In `quadratic_form`:

```diff
-        Examples::
+        EXAMPLES::
```


In `minimum` and `maximum`:

```diff
-        .. Math::
+        .. MATH::
```


In `maximum`, use one blank line, not two,
between `math` block and `EXAMPLES` block.


---

Comment by git created at 2021-12-14 07:38:55

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by sbrandhorst created at 2021-12-14 07:39:08

Changing status from needs_work to needs_review.


---

Comment by sbrandhorst created at 2021-12-27 10:35:48

As far as I can tell the failure a single patchbot is unrelated to this ticket.


---

Comment by lorenz created at 2021-12-28 14:06:31

Replying to [comment:8 sbrandhorst]:
> As far as I can tell the failure a single patchbot is unrelated to this ticket.

Yup, that's #33057.


---

Comment by sbrandhorst created at 2022-01-05 13:10:52

May I ask for a review, Samuel?


---

Comment by tscrim created at 2022-02-02 00:17:23

Some trivial things:

- No period/full-stop or capital letters for error messages to follow Python conventions.
- It would be good to have a space around the `*` to better follow PEP8.
- Remove one of the blanklines before `EXAMPLES::` in `maximum`.
- It is usually marginally faster to do `if x:` (resp. `if not x:`) compared to `if x != 0:` (reps. `if x == 0:`. Although this can degrade readability slightly. Feel free to ignore this if you prefer as this is more idiosyncratic.
- In `short_vectors()` you could do `e = +-2` if desired.

Otherwise LGTM.


---

Comment by git created at 2022-02-07 07:21:13

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by sbrandhorst created at 2022-02-07 07:24:48

Thank you for your comments. In the `LLL` method, I convert to pari and then go to gp for the computation in `qflllgram_indefgoon`. However, the function `qflllgram_indefgoon` is shipped with pari too (at least I see it in the pari source code). Unfortunately, `pari.qflllgram_indefgoon` does not seem to exist. Any Idea? Can I add it somewhere?


---

Comment by tscrim created at 2022-02-08 01:47:56

You can call it by passing things directly to pari, but you will most likely have to do something with [cypari](https://cypari2.readthedocs.io/en/latest/index.html) to make the interface know about that function. I am not such an expert on that though. Did you want to do that on this ticket or postpone it to a followup?


---

Comment by sbrandhorst created at 2022-02-08 07:28:10

o.k. that seems non-trivial. So let's stick with what we have.


---

Comment by tscrim created at 2022-02-08 10:24:19

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2022-02-08 10:24:19

I don’t know how difficult it actually is to do it. I just don’t know how. It might be good to look at the list of cypari2 devs and ask one of them directly.


---

Comment by vbraun created at 2022-02-13 10:17:33

Resolution: fixed
