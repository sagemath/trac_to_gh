# Issue 21926: giac has undeclared dependency on libpng

Issue created by migration from Trac.

Original creator: jdemeyer

Original creation time: 2017-01-10 09:49:49

CC:  frederichan




---

Comment by jdemeyer created at 2017-01-10 09:54:25

New commits:


---

Comment by jdemeyer created at 2017-01-10 10:06:29

Changing status from new to needs_review.


---

Comment by jpflori created at 2017-01-10 10:09:51

Does GIAC use -lpng1x rather than -lpng?
Or should we patch?


---

Comment by frederichan created at 2017-01-10 10:30:12

during the spkg built my Makefile have this:

```
LIBS = -lrt -lpthread -ldl -lpng -lm -lmpfi -lmpfr -lgmp 
LIBTERMCAP = -ltermcap
```



---

Comment by jdemeyer created at 2017-01-10 13:41:01

We probably should patch. But that's not an issue for this ticket.


---

Comment by jpflori created at 2017-01-10 13:45:26

Ok so let's already merge this.


---

Comment by jpflori created at 2017-01-10 13:45:26

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2017-01-11 08:47:42

Changing keywords from "" to "atelierpari2017".


---

Comment by jpflori created at 2017-01-12 13:05:53

FYI, on OS X, configure finds the system libpng, looks for a main symbol in it which is not existent there, and just compiles without png support.


---

Comment by frederichan created at 2017-01-16 09:39:58

Replying to [comment:9 jpflori]:
> FYI, on OS X, configure finds the system libpng, looks for a main symbol in it which is not existent there, and just compiles without png support.
Up to now I think that it is not a problem to don't have png in giac from sage. giacpy or pynac are not using it.


---

Comment by vbraun created at 2017-01-18 20:40:11

Resolution: fixed


---

Comment by tmonteil created at 2017-03-10 19:40:29

Replying to [comment:10 frederichan]:
> Up to now I think that it is not a problem to don't have png in giac from sage. giacpy or pynac are not using it.

For what it worth, for [Sage Debian Live](https://sagedebianlive.metelu.net/), i compile giac (from within Sage) with xcas support, by installing the system's fltk, remove the `--disable` flag and the `nofltk-check.patch`, so i guess for such a graphical use, png support could be useful.

What would be a correct patch (so that i can add it to SDL until it get fixed) ?
