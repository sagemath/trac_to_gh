# Issue 31731: Some E701, E702 #1

Issue created by migration from https://trac.sagemath.org/ticket/31968

Original creator: @kliem

Original creation time: 2021-06-12 21:46:18

CC:  slelievre

Keywords: pycodestyle




---

Comment by @kliem created at 2021-06-12 21:47:56

Changing status from new to needs_review.


---

Comment by @kliem created at 2021-06-12 21:47:56

New commits:


---

Comment by nbruin created at 2021-06-13 01:21:30

See [PEP-8 Preamble Advice](https://www.python.org/dev/peps/pep-0008/#a-foolish-consistency-is-the-hobgoblin-of-little-minds). I don't think you want to go second-guessing the intent of the original author just because a linter complains about the code. Discussing code style is between the author and the reviewer. Once the code's been accepted into Sage, I think it's unwise to go and touch lines unless there's a semantic reason to do so (i.e., a bug fix or a type/formatting in documentation). Touching code just to satisfy a linter generates unnecessary churn and merge conflicts. So: -1 on these purely style-changing tickets from me.


---

Comment by @kliem created at 2021-06-13 05:49:29

Replying to [comment:3 nbruin]:
> See [PEP-8 Preamble Advice](https://www.python.org/dev/peps/pep-0008/#a-foolish-consistency-is-the-hobgoblin-of-little-minds).

I don't see how it applies here. PEP 8 is older than the code in question. There are certainly PEP 8 standards that need to be ignored at times, because they make the code less readable. I don't see how it is the case for "multiple statements on one line"

> I don't think you want to go second-guessing the intent of the original author just because a linter complains about the code. Discussing code style is between the author and the reviewer. Once the code's been accepted into Sage, I think it's unwise to go and touch lines unless there's a semantic reason to do so (i.e., a bug fix or a type/formatting in documentation). Touching code just to satisfy a linter generates unnecessary churn and merge conflicts. So: -1 on these purely style-changing tickets from me.

So you are basically proposing removing the lint badge again? Because when it's always red, there is no reason of having it. I don't think a lot of people pay attention to it and read the details, when it always fails.


---

Comment by git created at 2021-06-13 06:07:40

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by nbruin created at 2021-06-13 07:21:51

Replying to [comment:4 gh-kliem]:
> So you are basically proposing removing the lint badge again? Because when it's always red, there is no reason of having it. I don't think a lot of people pay attention to it and read the details, when it always fails.

Yes, that would be my preference. I think it would be more useful if the lint warnings were filtered to lines that are actually affected by the proposed commits. If we get a red lint-badge just from a guideline violation somewhere in a file that's touched (or even anywhere in sage? I haven't checked) then I think that's too coarse-grained to be useful; particularly because I'm not convinced that the arbitrary conventions that this particular linter imposes are actually beneficial/superior to whatever the conventions followed by the current code.


---

Comment by slelievre created at 2021-06-13 12:52:09

Might conflict #31286.


---

Comment by slelievre created at 2021-06-13 12:58:49

Ticket #31966 would be a better place for this general discussion.

Ticket #31794 tries to make the lint badge more useful.


---

Comment by @kliem created at 2021-06-13 17:24:26

Replying to [comment:7 slelievre]:
> Might conflict #31286.

I hope not. All of those tickets are cherry-picked from the branch on #31966, which is based on #31286. So I didn't have to redo those changes to make things pass.


---

Comment by slelievre created at 2021-06-13 21:39:09

Such code style tickets can be an opportunity
to visit some files one might not visit otherwise,
and notice other needed changes.

I'm happy with the changes you propose.
I'm adding a commit to fix imports, docstrings,
and a few typos, can you cross-review that?

If that's too unrelated and you'd rather keep
this focused, revert the branch field to your branch.
----
New commits:


---

Comment by @kliem created at 2021-06-14 08:11:25

LGTM.


---

Comment by @kliem created at 2021-06-14 08:11:25

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2021-06-29 17:40:07

Resolution: fixed
