# Issue 33199: Documentation addition for Gessel-Reutenauer symmetric function

Issue created by migration from https://trac.sagemath.org/ticket/33436

Original creator: tkarn

Original creation time: 2022-03-01 17:27:51

CC:  tscrim

Keywords: gessel reutenauer documentation

Add keywords to the documentation for `gessel_reutenauer`.


---

Comment by tkarn created at 2022-03-01 17:28:01

Set assignee to tkarn.


---

Comment by tkarn created at 2022-03-04 02:13:14

New commits:


---

Comment by tscrim created at 2022-03-04 06:49:52

Let me know when its ready for review.


---

Comment by git created at 2022-03-07 17:28:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-03-07 17:44:07

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tkarn created at 2022-03-07 17:51:34

Thanks, Travis. Running `make doc-clean` followed by `make doc-html` fails to build the updated documentation. Is there something you can see in my changes that might cause this? The relevant portion of the error message is 


```
[sagemath_doc_html-none] [combinat ] building [inventory]: targets for 369 source files that are out of date
[sagemath_doc_html-none] [combinat ] updating environment: [new config] 369 added, 0 changed, 0 removed
[sagemath_doc_html-none] [combinat ] /Users/trevorkarn/Applications/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/combinat/sf/sfa.py:docstring of sage.combinat.sf.sfa.SymmetricFunctionsBases.ParentMethods.higher_lie_character:97: WARNING: Duplicate explicit target name: "gr1993".
[sagemath_doc_html-none] [combinat ] /Users/trevorkarn/Applications/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/combinat/sf/sfa.py:docstring of sage.combinat.sf.sfa.SymmetricFunctionsBases.ParentMethods.higher_lie_character:97: WARNING: duplicate citation GR1993, other instance in /Users/trevorkarn/Applications/sage/src/doc/en/reference/combinat/sage/combinat/sf/sfa.rst
[sagemath_doc_html-none] [combinat ] The inventory files are in local/share/doc/sage/inventory/en/reference/combinat.
[sagemath_doc_html-none] Error building the documentation.
[sagemath_doc_html-none] Traceback (most recent call last):
[sagemath_doc_html-none]   File "/usr/local/Cellar/python@3.9/3.9.9/Frameworks/Python.framework/Versions/3.9/lib/python3.9/runpy.py", line 197, in _run_module_as_main
[sagemath_doc_html-none]     return _run_code(code, main_globals, None,
[sagemath_doc_html-none]   File "/usr/local/Cellar/python@3.9/3.9.9/Frameworks/Python.framework/Versions/3.9/lib/python3.9/runpy.py", line 87, in _run_code
[sagemath_doc_html-none]     exec(code, run_globals)
[sagemath_doc_html-none]   File "/Users/trevorkarn/Applications/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage_docbuild/__main__.py", line 2, in <module>
[sagemath_doc_html-none]     main()
[sagemath_doc_html-none]   File "/Users/trevorkarn/Applications/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage_docbuild/__init__.py", line 1775, in main
[sagemath_doc_html-none]     builder()
[sagemath_doc_html-none]   File "/Users/trevorkarn/Applications/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage_docbuild/__init__.py", line 823, in _wrapper
[sagemath_doc_html-none]     getattr(DocBuilder, build_type)(self, *args, **kwds)
[sagemath_doc_html-none]   File "/Users/trevorkarn/Applications/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage_docbuild/__init__.py", line 137, in f
[sagemath_doc_html-none]     runsphinx()
[sagemath_doc_html-none]   File "/Users/trevorkarn/Applications/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage_docbuild/sphinxbuild.py", line 323, in runsphinx
[sagemath_doc_html-none]     sys.stderr.raise_errors()
[sagemath_doc_html-none]   File "/Users/trevorkarn/Applications/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage_docbuild/sphinxbuild.py", line 258, in raise_errors
[sagemath_doc_html-none]     raise OSError(self._error)
[sagemath_doc_html-none] OSError: /Users/trevorkarn/Applications/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/combinat/sf/sfa.py:docstring of sage.combinat.sf.sfa.SymmetricFunctionsBases.ParentMethods.higher_lie_character:97: WARNING: Duplicate explicit target name: "gr1993".
[sagemath_doc_html-none] 
[sagemath_doc_html-none]     Note: incremental documentation builds sometimes cause spurious
[sagemath_doc_html-none]     error messages. To be certain that these are real errors, run
[sagemath_doc_html-none]     "make doc-clean" first and try again.
[sagemath_doc_html-none] make[4]: *** [doc-inventory--reference-combinat] Error 1
[sagemath_doc_html-none] make[3]: *** [doc-inventory-reference] Error 2
make[2]: *** [sagemath_doc_html-SAGE_DOCS-no-deps] Error 2
make[1]: *** [/Users/trevorkarn/Applications/sage/local/var/lib/sage/installed/sagemath_doc_html-none] Error 2

real	13m45.383s
user	10m7.426s
sys	1m0.112s
***************************************************************
Error building Sage.

The following package(s) may have failed to build (not necessarily
during this run of 'make doc-html'):
```


the line 


```
[sagemath_doc_html-none] [combinat ] /Users/trevorkarn/Applications/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/combinat/sf/sfa.py:docstring of sage.combinat.sf.sfa.SymmetricFunctionsBases.ParentMethods.higher_lie_character:97: WARNING: duplicate citation GR1993, other instance in /Users/trevorkarn/Applications/sage/src/doc/en/reference/combinat/sage/combinat/sf/sfa.rst
```


is especially confusing to me, because the file sfa.rst is pretty small and doesn't seem to reference [GR1993] at all. The entire content of the file is below:


```
.. nodoctest

.. _sage.combinat.sf.sfa:

Symmetric Functions
===================

.. This file has been autogenerated.


.. automodule:: sage.combinat.sf.sfa
   :members:
   :undoc-members:
   :show-inheritance:
```



---

Comment by tscrim created at 2022-03-08 01:04:07

It is a very technical issue, but I do understand it. For aliases, the documentation is included twice. Since `gessel_reutenauer` defines its own references, the reference gets defined twice, leading to the error. If you move these references (their definitions) to the master reference file and then only link them in `gessel_reutenauer`, the problem will disappear.


---

Comment by git created at 2022-03-08 14:54:02

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tkarn created at 2022-03-08 14:54:31

Replying to [comment:7 tscrim]:
> It is a very technical issue, but I do understand it. For aliases, the documentation is included twice. Since `gessel_reutenauer` defines its own references, the reference gets defined twice, leading to the error. If you move these references (their definitions) to the master reference file and then only link them in `gessel_reutenauer`, the problem will disappear.

That worked, thanks!!


---

Comment by tkarn created at 2022-03-08 14:54:46

Changing status from new to needs_review.


---

Comment by tscrim created at 2022-03-08 23:56:35

I had to make one trivial change in order for the doc to build for me.


---

Comment by tscrim created at 2022-03-08 23:57:30

Since this change is fundamentally trivial and the doc builds for me, I am allowing myself to set a positive review.
----
New commits:


---

Comment by tscrim created at 2022-03-08 23:57:30

Changing status from needs_review to positive_review.


---

Comment by git created at 2022-03-08 23:58:03

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:


---

Comment by git created at 2022-03-08 23:58:03

Changing status from positive_review to needs_review.


---

Comment by tscrim created at 2022-03-08 23:58:16

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2022-03-08 23:58:16

I need to actually push my change...


---

Comment by vbraun created at 2022-03-12 15:11:06

Resolution: fixed
