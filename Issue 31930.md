# Issue 31930: fricas gets daemonized and eats up the CPU when Sage terminal is closed

Issue created by migration from https://trac.sagemath.org/ticket/32167

Original creator: tmonteil

Original creation time: 2021-07-09 11:15:11

Here are the steps to reproduce:

- start Sage in a terminal
- run a Sage command involving fricas, e.g.
   `sage: integrate(sin(x),x,0,1,algorithm='fricas')`
- in another terminal, track the evolution of fricas process : 
   `ps -eo pid,ppid,pcpu,comm | grep FRICAS`
- if you quit Sage with `exit` or `CTRL+D`, you get a message `Exiting FriCAS with PID ...` and fricas process terminates, great.
- if instead you close the terminal running Sage, you see that the fricas process gets daemonized (its parent becomes `PID 1`), and its CPU usage inreases and heats your computer.




---

Comment by mantepse created at 2021-07-09 20:18:40

Changing keywords from "" to "FriCAS".


---

Comment by mantepse created at 2021-07-09 20:24:05

I cannot reproduce this :-(

Does this always happen on your computer?


---

Comment by tmonteil created at 2021-07-10 10:07:35

Replying to [comment:2 mantepse]:
> I cannot reproduce this :-(
> 
> Does this always happen on your computer?

I can reproduce it consistently, with the procedure above. I am using Debian buster GNU/Linux 64bits.

However, i am on the commit 7eeb80c9e1b4e656e0616d157fbc16b31f94ba52 which installs fricas 1.3.7.p1.


---

Comment by mantepse created at 2021-07-20 14:12:26

I see this behaviour now, too :-(
