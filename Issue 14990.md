# Issue 14990: cython debug information directory (patch)

Issue created by migration from https://trac.sagemath.org/ticket/15227

Original creator: felixs

Original creation time: 2013-09-25 06:40:39

Keywords: cython debug gdb

There is no way to specify the location where cython writes its debug information (`--gdb` option). This is required whenever cython is executed from a different directory because of other hardwired paths that cannot be overridden (yet).


---

Comment by felixs created at 2013-09-25 06:41:16

merged upstream


---

Comment by felixs created at 2013-09-25 06:41:16

Changing status from new to needs_review.


---

Comment by felixs created at 2013-09-25 06:42:09

Changing component from packages: standard to cython.


---

Comment by ncohen created at 2013-10-27 11:31:00

?... Is this patch waiting for a review then `O_o`

Nathann


---

Comment by felixs created at 2013-10-27 11:51:41

Replying to [comment:3 ncohen]:
> ?... Is this patch waiting for a review

this or a newer version of cython packaged.

> then `O_o`

what does "`O_o`" mean?

thanks
felix


---

Comment by ncohen created at 2013-10-27 12:16:39

Ahahahah.. Sorry I had misunderstood something about this ticket. And `O_o` represents two eyes, one of which is smaller than the other one. 

This is amazement : `O_O`

This is doubt : `O_o`

This is extreme doubt : `O_o_O_o_O`

Thuuuuuus I am looking at your patch right now and trying to understand how the new spkg system works. And so far it's muuuuuuuuuuuuuch better `:-P`

...

Okay okay. Looks like it works, even though I can see this when I reinstall cython :


```
patching file Cython/Compiler/CmdLine.py
Hunk #2 succeeded at 112 (offset -13 lines).
```


By the way, is there a command I can run to test this `--gdb-output` option ?

Nathann


---

Comment by felixs created at 2013-10-27 12:41:49

> Thuuuuuus I am looking at your patch right now and trying to understand how the new spkg system works. And so far it's muuuuuuuuuuuuuch better `:-P`

i didn't use any such system. please excuse if i missed something.


> By the way, is there a command I can run to test this `--gdb-output` option ?

the patch was successful, if `cython --help | grep outdir` returns 0. also you can check this

```
echo "print 42" > file.pyc
cython --gdb file.pyc
cython --gdb-outdir somethingelse
diff -f cython_debug somethingelse/cython_debug # should return zero.
```


thanks


---

Comment by ncohen created at 2013-10-27 13:01:29

Changing status from needs_review to positive_review.


---

Comment by ncohen created at 2013-10-27 13:01:29

> i didn't use any such system. please excuse if i missed something.

?

NOnonono I mean that I had not looked at any spkg since the .spkg files. Now the Sage part of the code is in build/pkgs and the sources are stored in upstream, and it is muuuuuch easier to patch spkgs ! I could even write a `.cc` file I need for Sage which can't be written in Cython directly `:-)`

> the patch was successful, if `cython --help | grep outdir` returns 0. also you can check this
> {{{
> echo "print 42" > file.pyc
> cython --gdb file.pyc
> cython --gdb-outdir somethingelse
> diff -f cython_debug somethingelse/cython_debug # should return zero.
> }}}

I replaced that by calls to `sage -cython` but it all works indeed. Though diff complains that there is no newline at the end of the files the md5sum are the same and the files are created where they should anyway.

Good to go ! And thanks for this occasion to look at the new spkg system, without .spkg files `:-P`

Nathann


---

Comment by vbraun created at 2013-12-21 12:16:05

Resolution: fixed
