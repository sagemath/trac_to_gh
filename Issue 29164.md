# Issue 29164: Add documentation of tox and GitHub actions workflow to developer's manual

archive/issues_029164.json:
```json
{
    "body": "CC:  @dimpase @jhpalmieri @videlec @tscrim @orlitzky @kiwifb @slel\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/29401\n\n",
    "created_at": "2020-03-24T21:26:27Z",
    "labels": [
        "documentation",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "Add documentation of tox and GitHub actions workflow to developer's manual",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29164",
    "user": "@mkoeppe"
}
```
CC:  @dimpase @jhpalmieri @videlec @tscrim @orlitzky @kiwifb @slel



Issue created by migration from https://trac.sagemath.org/ticket/29401





---

archive/issue_comments_412906.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-26T00:57:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412906",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_412907.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-03-26T00:59:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412907",
    "user": "@mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_412908.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-03-26T03:50:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412908",
    "user": "@dimpase"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_412909.json:
```json
{
    "body": "doc does not build.\n\nin `portability_testing.rst` warning:\nCould not lex literal_block as \"shell-session\". \n\nperhaps it needs tagging as yaml, somehow",
    "created_at": "2020-03-26T03:50:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412909",
    "user": "@dimpase"
}
```

doc does not build.

in `portability_testing.rst` warning:
Could not lex literal_block as "shell-session". 

perhaps it needs tagging as yaml, somehow



---

archive/issue_comments_412910.json:
```json
{
    "body": "\n```diff\n--- a/src/doc/en/developer/portability_testing.rst\n+++ b/src/doc/en/developer/portability_testing.rst\n@@ -9,7 +9,7 @@ Testing on multiple platforms\n =============================\n \n Sage is intended to build and run on a variety of platforms,\n-including all major Linux distributions, as well as macOS, and\n+including all major Linux distributions, as well as MacOS, and\n Windows (with Cygwin).\n \n There is considerable variation between these platforms.\n@@ -142,7 +142,9 @@ Using Sage's database of distribution prerequisites\n \n The source code of the Sage distribution contains a database of\n package names in various distributions' package managers.  For\n-example, the file ``build/pkgs/debian.txt`` contains the following::\n+example, the file ``build/pkgs/debian.txt`` contains the following\n+\n+.. code-block:: yaml\n \n   # This file, build/pkgs/debian.txt, contains names of Debian/Ubuntu packages\n   # needed for installation of Sage from source.\n```\n\nplease apply this patch - then you can set it to positive review.",
    "created_at": "2020-03-26T04:07:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412910",
    "user": "@dimpase"
}
```


```diff
--- a/src/doc/en/developer/portability_testing.rst
+++ b/src/doc/en/developer/portability_testing.rst
@@ -9,7 +9,7 @@ Testing on multiple platforms
 =============================
 
 Sage is intended to build and run on a variety of platforms,
-including all major Linux distributions, as well as macOS, and
+including all major Linux distributions, as well as MacOS, and
 Windows (with Cygwin).
 
 There is considerable variation between these platforms.
@@ -142,7 +142,9 @@ Using Sage's database of distribution prerequisites
 
 The source code of the Sage distribution contains a database of
 package names in various distributions' package managers.  For
-example, the file ``build/pkgs/debian.txt`` contains the following::
+example, the file ``build/pkgs/debian.txt`` contains the following
+
+.. code-block:: yaml
 
   # This file, build/pkgs/debian.txt, contains names of Debian/Ubuntu packages
   # needed for installation of Sage from source.
```

please apply this patch - then you can set it to positive review.



---

archive/issue_comments_412911.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-03-26T04:07:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412911",
    "user": "@dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_412912.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-26T15:18:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412912",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_412913.json:
```json
{
    "body": "I'd add a link to https://wiki.sagemath.org/patchbot in the Sage patchbots section, and there are more typos and formatting issues. Let me post another patch...",
    "created_at": "2020-03-26T15:40:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412913",
    "user": "@dimpase"
}
```

I'd add a link to https://wiki.sagemath.org/patchbot in the Sage patchbots section, and there are more typos and formatting issues. Let me post another patch...



---

archive/issue_comments_412914.json:
```json
{
    "body": "reviewer patch 2",
    "created_at": "2020-03-26T16:01:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412914",
    "user": "@dimpase"
}
```

reviewer patch 2



---

archive/issue_comments_412915.json:
```json
{
    "body": "Attachment [moar.diff](tarball://root/attachments/some-uuid/ticket29401/moar.diff) by @dimpase created at 2020-03-26 16:02:00\n\nplease apply this, too",
    "created_at": "2020-03-26T16:02:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412915",
    "user": "@dimpase"
}
```

Attachment [moar.diff](tarball://root/attachments/some-uuid/ticket29401/moar.diff) by @dimpase created at 2020-03-26 16:02:00

please apply this, too



---

archive/issue_comments_412916.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-26T18:02:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412916",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_412917.json:
```json
{
    "body": "Thank you!",
    "created_at": "2020-03-26T18:02:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412917",
    "user": "@mkoeppe"
}
```

Thank you!



---

archive/issue_comments_412918.json:
```json
{
    "body": "Trivial request:\n\n```diff\ndiff --git a/src/doc/en/developer/portability_testing.rst b/src/doc/en/developer/portability_testing.rst\nindex 20737e3ce1..16ea65340c 100644\n--- a/src/doc/en/developer/portability_testing.rst\n+++ b/src/doc/en/developer/portability_testing.rst\n@@ -12,7 +12,7 @@ Sage is intended to build and run on a variety of platforms,\n including all major Linux distributions, as well as MacOS, and\n Windows (with Cygwin).\n \n-There is considerable variation between these platforms.\n+There is considerable variation among these platforms.\n To ensure that Sage continues to build correctly on users'\n machines, it is crucial to test changes to Sage, in particular\n when external packages are added or upgraded, on a wide\n```\n\nSome people may also complain that some of the lines are longer than 80 characters. I don't care much about this.\n\nI just tried out the instructions for Docker. When I was just starting, `apt-get install ...` wasn't working: I needed to run `apt-get update` first (as in https://stackoverflow.com/questions/27273412/cannot-install-packages-inside-docker-ubuntu-image). Should this command be added?\n\nIn the \"Generating Dockerfiles\" section: am I understanding that you don't need to create a new git worktree with this approach? That's not completely clear as written.",
    "created_at": "2020-03-26T21:11:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412918",
    "user": "@jhpalmieri"
}
```

Trivial request:

```diff
diff --git a/src/doc/en/developer/portability_testing.rst b/src/doc/en/developer/portability_testing.rst
index 20737e3ce1..16ea65340c 100644
--- a/src/doc/en/developer/portability_testing.rst
+++ b/src/doc/en/developer/portability_testing.rst
@@ -12,7 +12,7 @@ Sage is intended to build and run on a variety of platforms,
 including all major Linux distributions, as well as MacOS, and
 Windows (with Cygwin).
 
-There is considerable variation between these platforms.
+There is considerable variation among these platforms.
 To ensure that Sage continues to build correctly on users'
 machines, it is crucial to test changes to Sage, in particular
 when external packages are added or upgraded, on a wide
```

Some people may also complain that some of the lines are longer than 80 characters. I don't care much about this.

I just tried out the instructions for Docker. When I was just starting, `apt-get install ...` wasn't working: I needed to run `apt-get update` first (as in https://stackoverflow.com/questions/27273412/cannot-install-packages-inside-docker-ubuntu-image). Should this command be added?

In the "Generating Dockerfiles" section: am I understanding that you don't need to create a new git worktree with this approach? That's not completely clear as written.



---

archive/issue_comments_412919.json:
```json
{
    "body": "Also in the \"Generating Dockerfiles\" section: I tried\n\n```\n$ build/bin/write-dockerfile.sh debian \"@(standard|optional)\" > ../Dockerfile\n$ docker build . -f ../Dockerfile ...\n```\n\nso as not to pollute my Sage directory with untracked files, but it didn't work:\n\n```\nERRO[0000] Can't add file /Users/palmieri/Desktop/Sage_stuff/git/sage/.git/TEMP/rebase-apply/0001 to tar: io: read/write on closed pipe \nERRO[0000] Can't close tar writer: io: read/write on closed pipe \nSending build context to Docker daemon  37.89kB\nerror during connect: Post http://%2Fvar%2Frun%2Fdocker.sock/v1.40/build?buildargs=%7B%22BASE_IMAGE%22%3A%22ubuntu-latest-sage%22%2C%22NUMPROC%22%3A%224%22%7D&cachefrom=%5B%5D&cgroupparent=&cpuperiod=0&cpuquota=0&cpusetcpus=&cpusetmems=&cpushares=0&dockerfile=.dockerfile.13cd21991950b4666007&labels=%7B%7D&memory=0&memswap=0&networkmode=default&rm=1&shmsize=0&target=&ulimits=null&version=1: archive/tar: write too long\n```\n\nGiving an absolute path didn't help. \n\nAlso, once I get this going, where does the build take place? That is, can I look at the log files without running a second iteration of docker?",
    "created_at": "2020-03-26T21:21:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412919",
    "user": "@jhpalmieri"
}
```

Also in the "Generating Dockerfiles" section: I tried

```
$ build/bin/write-dockerfile.sh debian "@(standard|optional)" > ../Dockerfile
$ docker build . -f ../Dockerfile ...
```

so as not to pollute my Sage directory with untracked files, but it didn't work:

```
ERRO[0000] Can't add file /Users/palmieri/Desktop/Sage_stuff/git/sage/.git/TEMP/rebase-apply/0001 to tar: io: read/write on closed pipe 
ERRO[0000] Can't close tar writer: io: read/write on closed pipe 
Sending build context to Docker daemon  37.89kB
error during connect: Post http://%2Fvar%2Frun%2Fdocker.sock/v1.40/build?buildargs=%7B%22BASE_IMAGE%22%3A%22ubuntu-latest-sage%22%2C%22NUMPROC%22%3A%224%22%7D&cachefrom=%5B%5D&cgroupparent=&cpuperiod=0&cpuquota=0&cpusetcpus=&cpusetmems=&cpushares=0&dockerfile=.dockerfile.13cd21991950b4666007&labels=%7B%7D&memory=0&memswap=0&networkmode=default&rm=1&shmsize=0&target=&ulimits=null&version=1: archive/tar: write too long
```

Giving an absolute path didn't help. 

Also, once I get this going, where does the build take place? That is, can I look at the log files without running a second iteration of docker?



---

archive/issue_comments_412920.json:
```json
{
    "body": "Docker contexts are tricky!",
    "created_at": "2020-03-26T21:22:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412920",
    "user": "@mkoeppe"
}
```

Docker contexts are tricky!



---

archive/issue_comments_412921.json:
```json
{
    "body": "It's easiest to put the Dockerfile somewhere in the tree.",
    "created_at": "2020-03-26T21:24:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412921",
    "user": "@mkoeppe"
}
```

It's easiest to put the Dockerfile somewhere in the tree.



---

archive/issue_comments_412922.json:
```json
{
    "body": "Thanks for the feedback. I'll revise the writing to address your questions",
    "created_at": "2020-03-26T21:25:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412922",
    "user": "@mkoeppe"
}
```

Thanks for the feedback. I'll revise the writing to address your questions



---

archive/issue_comments_412923.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-26T21:27:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412923",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_412924.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-26T23:03:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412924",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_412925.json:
```json
{
    "body": "Ready for reading",
    "created_at": "2020-03-26T23:47:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412925",
    "user": "@mkoeppe"
}
```

Ready for reading



---

archive/issue_comments_412926.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-27T00:05:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412926",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_412927.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-27T01:21:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412927",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_412928.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-27T02:37:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412928",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_412929.json:
```json
{
    "body": "please mention that docker examples in the manual are run on MacOS.\n----\nNew commits:",
    "created_at": "2020-03-27T02:58:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412929",
    "user": "@dimpase"
}
```

please mention that docker examples in the manual are run on MacOS.
----
New commits:



---

archive/issue_comments_412930.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-27T02:58:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412930",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_412931.json:
```json
{
    "body": "I'm curious: at the beginning, why do `make configure` before starting docker?",
    "created_at": "2020-03-27T03:00:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412931",
    "user": "@jhpalmieri"
}
```

I'm curious: at the beginning, why do `make configure` before starting docker?



---

archive/issue_comments_412932.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-27T03:13:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412932",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_412933.json:
```json
{
    "body": "Replying to [comment:26 jhpalmieri]:\n> I'm curious: at the beginning, why do `make configure` before starting docker?\n\nIn the initial examples I am avoiding a discussion of bootstrapping on the container -- because this needs more packages",
    "created_at": "2020-03-27T03:14:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412933",
    "user": "@mkoeppe"
}
```

Replying to [comment:26 jhpalmieri]:
> I'm curious: at the beginning, why do `make configure` before starting docker?

In the initial examples I am avoiding a discussion of bootstrapping on the container -- because this needs more packages



---

archive/issue_comments_412934.json:
```json
{
    "body": "Replying to [comment:24 dimpase]:\n> please mention that docker examples in the manual are run on MacOS.\n\nDone, please take a look",
    "created_at": "2020-03-27T03:14:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412934",
    "user": "@mkoeppe"
}
```

Replying to [comment:24 dimpase]:
> please mention that docker examples in the manual are run on MacOS.

Done, please take a look



---

archive/issue_comments_412935.json:
```json
{
    "body": "Lists of packages to install are also in Installation manual. Please at least mention this (ideally, add a cross-link)",
    "created_at": "2020-03-27T03:42:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412935",
    "user": "@dimpase"
}
```

Lists of packages to install are also in Installation manual. Please at least mention this (ideally, add a cross-link)



---

archive/issue_comments_412936.json:
```json
{
    "body": "`docker run` does not quite work as shown (I'm trying this on a Debian host). I have\n\n```\n$ docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\nubuntylatest        latest              ee59e71b3721        13 minutes ago      1.53GB\n```\n\nbut\n\n``` \n$ docker run -it   --mount type=bind,source=$(pwd),target=/sage ubuntuminimal\nUnable to find image 'ubuntuminimal:latest' locally\ndocker: Error response from daemon: pull access denied for ubuntuminimal, repository does not exist or may require 'docker login': denied: requested access to the resource is denied.\nSee 'docker run --help'.\n```\n\nI have to use containter ID:\n\n```\n$ docker run -it   --mount type=bind,source=$(pwd),target=/sage ee59e71b3721\nroot@6b44c73a10bb:/# \n```\n",
    "created_at": "2020-03-27T04:11:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412936",
    "user": "@dimpase"
}
```

`docker run` does not quite work as shown (I'm trying this on a Debian host). I have

```
$ docker images
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
ubuntylatest        latest              ee59e71b3721        13 minutes ago      1.53GB
```

but

``` 
$ docker run -it   --mount type=bind,source=$(pwd),target=/sage ubuntuminimal
Unable to find image 'ubuntuminimal:latest' locally
docker: Error response from daemon: pull access denied for ubuntuminimal, repository does not exist or may require 'docker login': denied: requested access to the resource is denied.
See 'docker run --help'.
```

I have to use containter ID:

```
$ docker run -it   --mount type=bind,source=$(pwd),target=/sage ee59e71b3721
root@6b44c73a10bb:/# 
```




---

archive/issue_comments_412937.json:
```json
{
    "body": "You have a typo there: ubuntylatest vs. ubuntuminimal",
    "created_at": "2020-03-27T04:18:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412937",
    "user": "@mkoeppe"
}
```

You have a typo there: ubuntylatest vs. ubuntuminimal



---

archive/issue_comments_412938.json:
```json
{
    "body": "Replying to [comment:34 mkoeppe]:\n> You have a typo there: ubuntylatest vs. ubuntuminimal\noops, indeed, sorry for noise.",
    "created_at": "2020-03-27T05:02:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412938",
    "user": "@dimpase"
}
```

Replying to [comment:34 mkoeppe]:
> You have a typo there: ubuntylatest vs. ubuntuminimal
oops, indeed, sorry for noise.



---

archive/issue_comments_412939.json:
```json
{
    "body": "perhaps, add a link to https://docs.docker.com/get-started/part3/ where you talk about sharing of images, and just send people over to \"docker docs\"",
    "created_at": "2020-03-27T09:17:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412939",
    "user": "@dimpase"
}
```

perhaps, add a link to https://docs.docker.com/get-started/part3/ where you talk about sharing of images, and just send people over to "docker docs"



---

archive/issue_comments_412940.json:
```json
{
    "body": "please add few lines about tox in general before `Symbolic names of system configurations`, otherwise the jump into tox details is way too steep.",
    "created_at": "2020-03-27T09:40:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412940",
    "user": "@dimpase"
}
```

please add few lines about tox in general before `Symbolic names of system configurations`, otherwise the jump into tox details is way too steep.



---

archive/issue_comments_412941.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-27T14:25:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412941",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_412942.json:
```json
{
    "body": "typos, please apply\n\n```diff\n--- a/src/doc/en/developer/portability_testing.rst\n+++ b/src/doc/en/developer/portability_testing.rst\n@@ -293,9 +293,9 @@ The image ``ubuntu-latest-minimal-17`` can be run in as many\n containers as we want and can also be shared with other users or\n developers so that they can run it in a container on their machine.\n (See the Docker documentation on how to `share images on Docker Hub\n-<https://docs.docker.com/get-started/part3/>` or to `save images to a\n+<https://docs.docker.com/get-started/part3/>`_ or to `save images to a\n tar archive\n-<https://docs.docker.com/engine/reference/commandline/save/>`.)\n+<https://docs.docker.com/engine/reference/commandline/save/>`_.)\n \n This facilitates collaboration on fixing portability bugs of the Sage\n distribution.  After reproducing a portability bug on a container,\n```\n",
    "created_at": "2020-03-28T03:42:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412942",
    "user": "@dimpase"
}
```

typos, please apply

```diff
--- a/src/doc/en/developer/portability_testing.rst
+++ b/src/doc/en/developer/portability_testing.rst
@@ -293,9 +293,9 @@ The image ``ubuntu-latest-minimal-17`` can be run in as many
 containers as we want and can also be shared with other users or
 developers so that they can run it in a container on their machine.
 (See the Docker documentation on how to `share images on Docker Hub
-<https://docs.docker.com/get-started/part3/>` or to `save images to a
+<https://docs.docker.com/get-started/part3/>`_ or to `save images to a
 tar archive
-<https://docs.docker.com/engine/reference/commandline/save/>`.)
+<https://docs.docker.com/engine/reference/commandline/save/>`_.)
 
 This facilitates collaboration on fixing portability bugs of the Sage
 distribution.  After reproducing a portability bug on a container,
```




---

archive/issue_comments_412943.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-28T03:46:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412943",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_412944.json:
```json
{
    "body": "more missing `_` (hopefully all now):\n\n```diff\n--- a/src/doc/en/developer/portability_testing.rst\n+++ b/src/doc/en/developer/portability_testing.rst\n@@ -51,13 +51,13 @@ using a Docker client on your Linux, Mac, or Windows box, as well as\n on various cloud services.\n \n To get started, you need to install a `Docker client\n-<https://docs.docker.com/install/>`.  The clients are available for\n+<https://docs.docker.com/install/>`_.  The clients are available for\n Linux, Mac, and Windows.  The clients for the latter are known as\n \"Docker Desktop\".\n \n All examples in this section were obtained using Docker Desktop for\n Mac; but the `command-line user interface\n-<https://docs.docker.com/engine/reference/commandline/cli/>` for the\n+<https://docs.docker.com/engine/reference/commandline/cli/>`_ for the\n other platforms is identical.\n \n All major Linux distributions provide ready-to-use Docker images,\n@@ -574,7 +574,7 @@ automating testing, Sage defines symbolic names composed of several\n Automatic Docker-based build testing using tox\n ----------------------------------------------\n \n-`tox <https://tox.readthedocs.io/en/latest/>` is a Python package that\n+`tox <https://tox.readthedocs.io/en/latest/>`_ is a Python package that\n is widely used for automating tests of Python projects.\n \n Install ``tox`` for use with your system Python, for example using::\n```\n",
    "created_at": "2020-03-28T03:57:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412944",
    "user": "@dimpase"
}
```

more missing `_` (hopefully all now):

```diff
--- a/src/doc/en/developer/portability_testing.rst
+++ b/src/doc/en/developer/portability_testing.rst
@@ -51,13 +51,13 @@ using a Docker client on your Linux, Mac, or Windows box, as well as
 on various cloud services.
 
 To get started, you need to install a `Docker client
-<https://docs.docker.com/install/>`.  The clients are available for
+<https://docs.docker.com/install/>`_.  The clients are available for
 Linux, Mac, and Windows.  The clients for the latter are known as
 "Docker Desktop".
 
 All examples in this section were obtained using Docker Desktop for
 Mac; but the `command-line user interface
-<https://docs.docker.com/engine/reference/commandline/cli/>` for the
+<https://docs.docker.com/engine/reference/commandline/cli/>`_ for the
 other platforms is identical.
 
 All major Linux distributions provide ready-to-use Docker images,
@@ -574,7 +574,7 @@ automating testing, Sage defines symbolic names composed of several
 Automatic Docker-based build testing using tox
 ----------------------------------------------
 
-`tox <https://tox.readthedocs.io/en/latest/>` is a Python package that
+`tox <https://tox.readthedocs.io/en/latest/>`_ is a Python package that
 is widely used for automating tests of Python projects.
 
 Install ``tox`` for use with your system Python, for example using::
```




---

archive/issue_comments_412945.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-28T05:00:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412945",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_412946.json:
```json
{
    "body": "Thank you!",
    "created_at": "2020-03-28T05:01:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412946",
    "user": "@mkoeppe"
}
```

Thank you!



---

archive/issue_comments_412947.json:
```json
{
    "body": "Any more corrections or suggestions for this new section in the manual?",
    "created_at": "2020-03-28T16:09:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412947",
    "user": "@mkoeppe"
}
```

Any more corrections or suggestions for this new section in the manual?



---

archive/issue_comments_412948.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2020-03-29T03:02:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412948",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_412949.json:
```json
{
    "body": "Rebased on 9.1.beta9, needs review",
    "created_at": "2020-03-29T03:02:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412949",
    "user": "@mkoeppe"
}
```

Rebased on 9.1.beta9, needs review



---

archive/issue_comments_412950.json:
```json
{
    "body": "unfinished edit here at line 570, ending with `several`",
    "created_at": "2020-03-29T03:28:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412950",
    "user": "@dimpase"
}
```

unfinished edit here at line 570, ending with `several`



---

archive/issue_comments_412951.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-29T03:36:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412951",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_412952.json:
```json
{
    "body": "make this a proper list:\n\n\n```diff\n--- a/src/doc/en/developer/portability_testing.rst\n+++ b/src/doc/en/developer/portability_testing.rst\n@@ -854,13 +854,12 @@ workflow have finished.  Each job generates one tarball.\n during the build.\n \n The following procedure seems to work well for testing branches during\n-development.  Create a branch from a recent beta release that contains\n-the default GitHub Actions configuration; name it ``TESTER``, say.\n-Edit ``$SAGE_ROOT/.github/workflows/tox.yml`` to include the system\n-configurations that you wish to test.  Commit and push the branch to\n-your GitHub fork of sage.  Next, push your development branch to your\n-GitHub repository and create a pull request against the ``TESTER``\n-branch.  This will trigger the GitHub Actions workflow.\n+development:\n+\n+- Create a branch from a recent beta release that contains the default GitHub Actions configuration; name it ``TESTER``, say.\n+- Edit ``$SAGE_ROOT/.github/workflows/tox.yml`` to include the system configurations that you wish to test.\n+- Commit and push the branch to your GitHub fork of sage.\n+- Push your development branch to your GitHub repository and create a pull request against the ``TESTER`` branch. This will trigger the GitHub Actions workflow.\n```\n\n\nalso, there are few lines in the file after this, which do not go into the output.\nPerhaps, just remove them.",
    "created_at": "2020-03-29T04:09:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412952",
    "user": "@dimpase"
}
```

make this a proper list:


```diff
--- a/src/doc/en/developer/portability_testing.rst
+++ b/src/doc/en/developer/portability_testing.rst
@@ -854,13 +854,12 @@ workflow have finished.  Each job generates one tarball.
 during the build.
 
 The following procedure seems to work well for testing branches during
-development.  Create a branch from a recent beta release that contains
-the default GitHub Actions configuration; name it ``TESTER``, say.
-Edit ``$SAGE_ROOT/.github/workflows/tox.yml`` to include the system
-configurations that you wish to test.  Commit and push the branch to
-your GitHub fork of sage.  Next, push your development branch to your
-GitHub repository and create a pull request against the ``TESTER``
-branch.  This will trigger the GitHub Actions workflow.
+development:
+
+- Create a branch from a recent beta release that contains the default GitHub Actions configuration; name it ``TESTER``, say.
+- Edit ``$SAGE_ROOT/.github/workflows/tox.yml`` to include the system configurations that you wish to test.
+- Commit and push the branch to your GitHub fork of sage.
+- Push your development branch to your GitHub repository and create a pull request against the ``TESTER`` branch. This will trigger the GitHub Actions workflow.
```


also, there are few lines in the file after this, which do not go into the output.
Perhaps, just remove them.



---

archive/issue_comments_412953.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-29T04:27:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412953",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_412954.json:
```json
{
    "body": "OK. Squash these many  commits, I guess, too.",
    "created_at": "2020-03-29T08:57:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412954",
    "user": "@dimpase"
}
```

OK. Squash these many  commits, I guess, too.



---

archive/issue_comments_412955.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-03-29T08:57:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412955",
    "user": "@dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_412956.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2020-03-29T14:38:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412956",
    "user": "git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_412957.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:",
    "created_at": "2020-03-29T14:38:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412957",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:



---

archive/issue_comments_412958.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-03-29T14:38:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412958",
    "user": "@mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_412959.json:
```json
{
    "body": "Thank you!",
    "created_at": "2020-03-29T14:38:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412959",
    "user": "@mkoeppe"
}
```

Thank you!



---

archive/issue_comments_412960.json:
```json
{
    "body": "Looks like `@`vbraun has merged the unsquashed branch already. Resetting to that.",
    "created_at": "2020-03-30T20:48:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412960",
    "user": "@mkoeppe"
}
```

Looks like `@`vbraun has merged the unsquashed branch already. Resetting to that.



---

archive/issue_comments_412961.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. Last 10 new commits:",
    "created_at": "2020-03-30T20:49:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412961",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. Last 10 new commits:



---

archive/issue_comments_412962.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2020-03-30T20:49:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412962",
    "user": "git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_412963.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-03-30T20:49:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412963",
    "user": "@mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_412964.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-04-05T08:30:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29164",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29164#issuecomment-412964",
    "user": "@vbraun"
}
```

Resolution: fixed
