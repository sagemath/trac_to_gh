# Issue 21241: py3 get rid of xrange inside modular

archive/issues_021241.json:
```json
{
    "body": "as a step to py3\n\nusing six.moves.range\n\nchanges only in python files, not cython files\n\nIssue created by migration from https://trac.sagemath.org/ticket/21478\n\n",
    "created_at": "2016-09-12T15:17:40Z",
    "labels": [
        "python3",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.4",
    "title": "py3 get rid of xrange inside modular",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21241",
    "user": "chapoton"
}
```
as a step to py3

using six.moves.range

changes only in python files, not cython files

Issue created by migration from https://trac.sagemath.org/ticket/21478





---

archive/issue_comments_294561.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-09-12T15:18:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21241#issuecomment-294561",
    "user": "chapoton"
}
```

New commits:



---

archive/issue_comments_294562.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-09-12T15:18:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21241#issuecomment-294562",
    "user": "chapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_294563.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-09-13T13:43:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21241#issuecomment-294563",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_294564.json:
```json
{
    "body": "It seems that this triggers the switch of all doctests to using xrange for range.. I have tried to change the imports in modular, but this does not yet solve the issue.",
    "created_at": "2016-09-13T13:45:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21241#issuecomment-294564",
    "user": "chapoton"
}
```

It seems that this triggers the switch of all doctests to using xrange for range.. I have tried to change the imports in modular, but this does not yet solve the issue.



---

archive/issue_comments_294565.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-09-13T13:45:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21241#issuecomment-294565",
    "user": "chapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_294566.json:
```json
{
    "body": "My guess is that somewhere in the doctest framework, someone does a far too gratuitous import from one of the modular files (i.e., a `from sage.modular.FOO import *`).",
    "created_at": "2016-09-13T15:23:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21241#issuecomment-294566",
    "user": "tscrim"
}
```

My guess is that somewhere in the doctest framework, someone does a far too gratuitous import from one of the modular files (i.e., a `from sage.modular.FOO import *`).



---

archive/issue_comments_294567.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-09-13T18:34:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21241#issuecomment-294567",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_294568.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-09-14T11:55:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21241#issuecomment-294568",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_294569.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-09-16T06:44:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21241#issuecomment-294569",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_294570.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-09-20T16:34:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21241#issuecomment-294570",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_294571.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-09-20T19:01:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21241#issuecomment-294571",
    "user": "chapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_294572.json:
```json
{
    "body": "let us wait for another patchbot report.",
    "created_at": "2016-09-20T19:01:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21241#issuecomment-294572",
    "user": "chapoton"
}
```

let us wait for another patchbot report.



---

archive/issue_comments_294573.json:
```json
{
    "body": "Got a headache from `len(exps[:-1])`.\n\nCan you explain what `d` vs. `rank` means at `dimension formula (=%s)!\\n\"%(d,`?",
    "created_at": "2016-09-22T12:33:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21241#issuecomment-294573",
    "user": "jmantysalo"
}
```

Got a headache from `len(exps[:-1])`.

Can you explain what `d` vs. `rank` means at `dimension formula (=%s)!\n"%(d,`?



---

archive/issue_comments_294574.json:
```json
{
    "body": "Replying to [comment:11 jmantysalo]:\n> Got a headache from `len(exps[:-1])`.\n\nsorry for you. But what do you mean ?\n\n> Can you explain what `d` vs. `rank` means at `dimension formula (=%s)!\\n\"%(d,`?\n\nwell, d was undefined variable (as pyflakes said) so I took the opportunity to replace it by the only logical possible thing.",
    "created_at": "2016-09-22T12:40:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21241#issuecomment-294574",
    "user": "chapoton"
}
```

Replying to [comment:11 jmantysalo]:
> Got a headache from `len(exps[:-1])`.

sorry for you. But what do you mean ?

> Can you explain what `d` vs. `rank` means at `dimension formula (=%s)!\n"%(d,`?

well, d was undefined variable (as pyflakes said) so I took the opportunity to replace it by the only logical possible thing.



---

archive/issue_comments_294575.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-09-22T12:48:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21241#issuecomment-294575",
    "user": "jmantysalo"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_294576.json:
```json
{
    "body": "Replying to [comment:12 chapoton]:\n> Replying to [comment:11 jmantysalo]:\n> > Got a headache from `len(exps[:-1])`.\n> \n> sorry for you. But what do you mean ?\n\nIt creates a temporary list. Why not `len(exps)-1`? But of not your fault, so no blocker for positive review.\n\n> > Can you explain what `d` vs. `rank` means at `dimension formula (=%s)!\\n\"%(d,`?\n> \n> well, d was undefined variable (as pyflakes said) so I took the opportunity to replace it by the only logical possible thing.\n\nOK then.",
    "created_at": "2016-09-22T12:48:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21241#issuecomment-294576",
    "user": "jmantysalo"
}
```

Replying to [comment:12 chapoton]:
> Replying to [comment:11 jmantysalo]:
> > Got a headache from `len(exps[:-1])`.
> 
> sorry for you. But what do you mean ?

It creates a temporary list. Why not `len(exps)-1`? But of not your fault, so no blocker for positive review.

> > Can you explain what `d` vs. `rank` means at `dimension formula (=%s)!\n"%(d,`?
> 
> well, d was undefined variable (as pyflakes said) so I took the opportunity to replace it by the only logical possible thing.

OK then.



---

archive/issue_comments_294577.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-10-03T17:42:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21241#issuecomment-294577",
    "user": "vbraun"
}
```

Resolution: fixed
