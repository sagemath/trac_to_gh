# Issue 21241: py3 get rid of xrange inside modular

Issue created by migration from Trac.

Original creator: chapoton

Original creation time: 2016-09-12 15:17:40

as a step to py3

using six.moves.range

changes only in python files, not cython files


---

Comment by chapoton created at 2016-09-12 15:18:06

New commits:


---

Comment by chapoton created at 2016-09-12 15:18:06

Changing status from new to needs_review.


---

Comment by git created at 2016-09-13 13:43:20

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2016-09-13 13:45:12

It seems that this triggers the switch of all doctests to using xrange for range.. I have tried to change the imports in modular, but this does not yet solve the issue.


---

Comment by chapoton created at 2016-09-13 13:45:12

Changing status from needs_review to needs_work.


---

Comment by tscrim created at 2016-09-13 15:23:57

My guess is that somewhere in the doctest framework, someone does a far too gratuitous import from one of the modular files (i.e., a `from sage.modular.FOO import *`).


---

Comment by git created at 2016-09-13 18:34:57

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2016-09-14 11:55:02

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2016-09-16 06:44:55

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2016-09-20 16:34:47

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2016-09-20 19:01:24

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2016-09-20 19:01:24

let us wait for another patchbot report.


---

Comment by jmantysalo created at 2016-09-22 12:33:13

Got a headache from `len(exps[:-1])`.

Can you explain what `d` vs. `rank` means at `dimension formula (=%s)!\n"%(d,`?


---

Comment by chapoton created at 2016-09-22 12:40:10

Replying to [comment:11 jmantysalo]:
> Got a headache from `len(exps[:-1])`.

sorry for you. But what do you mean ?

> Can you explain what `d` vs. `rank` means at `dimension formula (=%s)!\n"%(d,`?

well, d was undefined variable (as pyflakes said) so I took the opportunity to replace it by the only logical possible thing.


---

Comment by jmantysalo created at 2016-09-22 12:48:44

Changing status from needs_review to positive_review.


---

Comment by jmantysalo created at 2016-09-22 12:48:44

Replying to [comment:12 chapoton]:
> Replying to [comment:11 jmantysalo]:
> > Got a headache from `len(exps[:-1])`.
> 
> sorry for you. But what do you mean ?

It creates a temporary list. Why not `len(exps)-1`? But of not your fault, so no blocker for positive review.

> > Can you explain what `d` vs. `rank` means at `dimension formula (=%s)!\n"%(d,`?
> 
> well, d was undefined variable (as pyflakes said) so I took the opportunity to replace it by the only logical possible thing.

OK then.


---

Comment by vbraun created at 2016-10-03 17:42:02

Resolution: fixed
