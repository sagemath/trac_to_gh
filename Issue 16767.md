# Issue 16767: Adding height() function to Poset

Issue created by migration from https://trac.sagemath.org/ticket/17004

Original creator: jmantysalo

Original creation time: 2014-09-18 07:29:48

Height of a poset is defined as a length of the longest chain. It can be done for example like this:


```
def height(P):
    if P.cardinality() == 0:
        return 0
    H=P.hasse_diagram().to_undirected()
    m=0
    for s in H.connected_components():
        m=max(H.subgraph(s).diameter(),m)
    return m+1
```



---

Comment by jmantysalo created at 2014-09-18 08:19:10

This was trivial, thanks to (again) ncohen: height of poset P is just P.rank()+1.


---

Comment by jmantysalo created at 2014-09-18 08:32:14

Changing status from new to needs_review.


---

Comment by ncohen created at 2014-09-18 09:31:44

When a ticket is in wontfix, set it to positive review.

Nathann


---

Comment by ncohen created at 2014-09-18 09:31:44

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2014-09-18 16:55:41

I believe this is useful to have because I wouldn't think of using `rank` for a non-ranked poset (although it might be somewhat naive of me) and height is common terminology.

In your code for optimization purposes, you would be better served by plugging in `P.rank() + 1`, but from a user-interface/teaching perpective, it would be good to have a height method.


---

Comment by tscrim created at 2014-09-18 16:55:41

Changing status from positive_review to needs_work.


---

Comment by jmantysalo created at 2014-09-18 17:21:35

At least Sage documentation should contain a phrase "height of poset" somewhere. It can be added to docs of .rank(), or made as new function. I'll start discussion on devel-list.


---

Comment by tscrim created at 2014-09-18 17:38:49

This isn't a controversial issue (at this point), so a sage-devel discussion is overkill IMO.


---

Comment by jmantysalo created at 2014-09-20 17:46:41

Here it is. Haven't been any discussion on devel-list yet.
----
New commits:


---

Comment by jmantysalo created at 2014-09-20 17:46:41

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2014-09-20 17:55:31

Two typos, you're missing a "the" in front of `height` and `lenght`. Although I'd format the one-liner as you did in the header:

```
Return the height (the length of longest chain) of the poset.
```

but I don't really care that much. Once the typos are fixed or the formatting change is made, you can set this to positive review.


---

Comment by git created at 2014-09-20 20:19:32

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jmantysalo created at 2014-09-20 20:22:47

Corrected. Still thinking: should we say "number of elements in the longest chain" to be exact?


---

Comment by tscrim created at 2014-09-20 20:25:34

Ack, you're right. The length is the rank, the number of elements is the height. *facepalm*


---

Comment by git created at 2014-09-20 20:30:27

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jmantysalo created at 2014-09-20 20:31:57

Now I guess this is done. Left for checking. (I'm always unsure about a/an vs. the -thing; finnish differs quite a much from english.)


---

Comment by tscrim created at 2014-09-20 20:42:06

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2014-09-20 20:42:06

I don't know any Finnish whatsoever, so you have me beat.


---

Comment by vbraun created at 2014-09-20 22:11:13

Conflicts with #17013


---

Comment by vbraun created at 2014-09-20 22:11:22

Changing status from positive_review to needs_work.


---

Comment by tscrim created at 2014-09-20 23:25:45

Are you sure about that Volker? #17013 doesn't modify the same files and is about a different part of Sage.


---

Comment by vbraun created at 2014-09-20 23:30:25

Sorry, meant #16892


---

Comment by tscrim created at 2014-09-20 23:34:21

Jori, will you handle the merge or do you want me to do it?


---

Comment by jmantysalo created at 2014-09-21 05:12:40

Travis, I guess you can do it much faster. So go ahead.

Does this mean that adding, for example, wrapper function `.is_connected()` will also conflict?


---

Comment by tscrim created at 2014-09-21 06:05:20

Replying to [comment:24 jmantysalo]:
> Travis, I guess you can do it much faster. So go ahead.

I'll do it tomorrow (it's 11 PM in California right now).

> Does this mean that adding, for example, wrapper function `.is_connected()` will also conflict?

Not necessarily (chances are probably not), although if you want to be absolutely sure you can base that off this branch.


---

Comment by tscrim created at 2014-09-21 17:26:48

New commits:


---

Comment by tscrim created at 2014-09-21 17:26:48

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2014-09-25 12:05:47

Resolution: fixed
