# Issue 16767: Adding height() function to Poset

archive/issues_016767.json:
```json
{
    "body": "Height of a poset is defined as a length of the longest chain. It can be done for example like this:\n\n\n```\ndef height(P):\n    if P.cardinality() == 0:\n        return 0\n    H=P.hasse_diagram().to_undirected()\n    m=0\n    for s in H.connected_components():\n        m=max(H.subgraph(s).diameter(),m)\n    return m+1\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/17004\n\n",
    "created_at": "2014-09-18T07:29:48Z",
    "labels": [
        "combinatorics",
        "minor",
        "enhancement"
    ],
    "title": "Adding height() function to Poset",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16767",
    "user": "jmantysalo"
}
```
Height of a poset is defined as a length of the longest chain. It can be done for example like this:


```
def height(P):
    if P.cardinality() == 0:
        return 0
    H=P.hasse_diagram().to_undirected()
    m=0
    for s in H.connected_components():
        m=max(H.subgraph(s).diameter(),m)
    return m+1
```


Issue created by migration from https://trac.sagemath.org/ticket/17004





---

archive/issue_comments_221742.json:
```json
{
    "body": "This was trivial, thanks to (again) ncohen: height of poset P is just P.rank()+1.",
    "created_at": "2014-09-18T08:19:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16767#issuecomment-221742",
    "user": "jmantysalo"
}
```

This was trivial, thanks to (again) ncohen: height of poset P is just P.rank()+1.



---

archive/issue_comments_221743.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-09-18T08:32:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16767#issuecomment-221743",
    "user": "jmantysalo"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_221744.json:
```json
{
    "body": "When a ticket is in wontfix, set it to positive review.\n\nNathann",
    "created_at": "2014-09-18T09:31:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16767#issuecomment-221744",
    "user": "ncohen"
}
```

When a ticket is in wontfix, set it to positive review.

Nathann



---

archive/issue_comments_221745.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-09-18T09:31:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16767#issuecomment-221745",
    "user": "ncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_221746.json:
```json
{
    "body": "I believe this is useful to have because I wouldn't think of using `rank` for a non-ranked poset (although it might be somewhat naive of me) and height is common terminology.\n\nIn your code for optimization purposes, you would be better served by plugging in `P.rank() + 1`, but from a user-interface/teaching perpective, it would be good to have a height method.",
    "created_at": "2014-09-18T16:55:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16767#issuecomment-221746",
    "user": "tscrim"
}
```

I believe this is useful to have because I wouldn't think of using `rank` for a non-ranked poset (although it might be somewhat naive of me) and height is common terminology.

In your code for optimization purposes, you would be better served by plugging in `P.rank() + 1`, but from a user-interface/teaching perpective, it would be good to have a height method.



---

archive/issue_comments_221747.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-09-18T16:55:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16767#issuecomment-221747",
    "user": "tscrim"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_221748.json:
```json
{
    "body": "At least Sage documentation should contain a phrase \"height of poset\" somewhere. It can be added to docs of .rank(), or made as new function. I'll start discussion on devel-list.",
    "created_at": "2014-09-18T17:21:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16767#issuecomment-221748",
    "user": "jmantysalo"
}
```

At least Sage documentation should contain a phrase "height of poset" somewhere. It can be added to docs of .rank(), or made as new function. I'll start discussion on devel-list.



---

archive/issue_comments_221749.json:
```json
{
    "body": "This isn't a controversial issue (at this point), so a sage-devel discussion is overkill IMO.",
    "created_at": "2014-09-18T17:38:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16767#issuecomment-221749",
    "user": "tscrim"
}
```

This isn't a controversial issue (at this point), so a sage-devel discussion is overkill IMO.



---

archive/issue_comments_221750.json:
```json
{
    "body": "Here it is. Haven't been any discussion on devel-list yet.\n----\nNew commits:",
    "created_at": "2014-09-20T17:46:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16767#issuecomment-221750",
    "user": "jmantysalo"
}
```

Here it is. Haven't been any discussion on devel-list yet.
----
New commits:



---

archive/issue_comments_221751.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-09-20T17:46:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16767#issuecomment-221751",
    "user": "jmantysalo"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_221752.json:
```json
{
    "body": "Two typos, you're missing a \"the\" in front of `height` and `lenght`. Although I'd format the one-liner as you did in the header:\n\n```\nReturn the height (the length of longest chain) of the poset.\n```\n\nbut I don't really care that much. Once the typos are fixed or the formatting change is made, you can set this to positive review.",
    "created_at": "2014-09-20T17:55:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16767#issuecomment-221752",
    "user": "tscrim"
}
```

Two typos, you're missing a "the" in front of `height` and `lenght`. Although I'd format the one-liner as you did in the header:

```
Return the height (the length of longest chain) of the poset.
```

but I don't really care that much. Once the typos are fixed or the formatting change is made, you can set this to positive review.



---

archive/issue_comments_221753.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-09-20T20:19:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16767#issuecomment-221753",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_221754.json:
```json
{
    "body": "Corrected. Still thinking: should we say \"number of elements in the longest chain\" to be exact?",
    "created_at": "2014-09-20T20:22:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16767#issuecomment-221754",
    "user": "jmantysalo"
}
```

Corrected. Still thinking: should we say "number of elements in the longest chain" to be exact?



---

archive/issue_comments_221755.json:
```json
{
    "body": "Ack, you're right. The length is the rank, the number of elements is the height. *facepalm*",
    "created_at": "2014-09-20T20:25:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16767#issuecomment-221755",
    "user": "tscrim"
}
```

Ack, you're right. The length is the rank, the number of elements is the height. *facepalm*



---

archive/issue_comments_221756.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-09-20T20:30:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16767#issuecomment-221756",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_221757.json:
```json
{
    "body": "Now I guess this is done. Left for checking. (I'm always unsure about a/an vs. the -thing; finnish differs quite a much from english.)",
    "created_at": "2014-09-20T20:31:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16767#issuecomment-221757",
    "user": "jmantysalo"
}
```

Now I guess this is done. Left for checking. (I'm always unsure about a/an vs. the -thing; finnish differs quite a much from english.)



---

archive/issue_comments_221758.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-09-20T20:42:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16767#issuecomment-221758",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_221759.json:
```json
{
    "body": "I don't know any Finnish whatsoever, so you have me beat.",
    "created_at": "2014-09-20T20:42:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16767#issuecomment-221759",
    "user": "tscrim"
}
```

I don't know any Finnish whatsoever, so you have me beat.



---

archive/issue_comments_221760.json:
```json
{
    "body": "Conflicts with #17013",
    "created_at": "2014-09-20T22:11:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16767#issuecomment-221760",
    "user": "vbraun"
}
```

Conflicts with #17013



---

archive/issue_comments_221761.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-09-20T22:11:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16767#issuecomment-221761",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_221762.json:
```json
{
    "body": "Are you sure about that Volker? #17013 doesn't modify the same files and is about a different part of Sage.",
    "created_at": "2014-09-20T23:25:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16767#issuecomment-221762",
    "user": "tscrim"
}
```

Are you sure about that Volker? #17013 doesn't modify the same files and is about a different part of Sage.



---

archive/issue_comments_221763.json:
```json
{
    "body": "Sorry, meant #16892",
    "created_at": "2014-09-20T23:30:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16767#issuecomment-221763",
    "user": "vbraun"
}
```

Sorry, meant #16892



---

archive/issue_comments_221764.json:
```json
{
    "body": "Jori, will you handle the merge or do you want me to do it?",
    "created_at": "2014-09-20T23:34:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16767#issuecomment-221764",
    "user": "tscrim"
}
```

Jori, will you handle the merge or do you want me to do it?



---

archive/issue_comments_221765.json:
```json
{
    "body": "Travis, I guess you can do it much faster. So go ahead.\n\nDoes this mean that adding, for example, wrapper function `.is_connected()` will also conflict?",
    "created_at": "2014-09-21T05:12:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16767#issuecomment-221765",
    "user": "jmantysalo"
}
```

Travis, I guess you can do it much faster. So go ahead.

Does this mean that adding, for example, wrapper function `.is_connected()` will also conflict?



---

archive/issue_comments_221766.json:
```json
{
    "body": "Replying to [comment:24 jmantysalo]:\n> Travis, I guess you can do it much faster. So go ahead.\n\nI'll do it tomorrow (it's 11 PM in California right now).\n\n> Does this mean that adding, for example, wrapper function `.is_connected()` will also conflict?\n\nNot necessarily (chances are probably not), although if you want to be absolutely sure you can base that off this branch.",
    "created_at": "2014-09-21T06:05:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16767#issuecomment-221766",
    "user": "tscrim"
}
```

Replying to [comment:24 jmantysalo]:
> Travis, I guess you can do it much faster. So go ahead.

I'll do it tomorrow (it's 11 PM in California right now).

> Does this mean that adding, for example, wrapper function `.is_connected()` will also conflict?

Not necessarily (chances are probably not), although if you want to be absolutely sure you can base that off this branch.



---

archive/issue_comments_221767.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-09-21T17:26:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16767#issuecomment-221767",
    "user": "tscrim"
}
```

New commits:



---

archive/issue_comments_221768.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2014-09-21T17:26:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16767#issuecomment-221768",
    "user": "tscrim"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_221769.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-09-25T12:05:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16767",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16767#issuecomment-221769",
    "user": "vbraun"
}
```

Resolution: fixed
