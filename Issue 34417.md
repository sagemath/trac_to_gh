# Issue 34417: Pickling frobenius endomorphism is broken

Issue created by migration from https://trac.sagemath.org/ticket/34654

Original creator: caruso

Original creation time: 2022-10-13 09:14:30

CC:  antoine-leudiere

Keywords: frobenius


```
sage: K = Frac(GF(5)['T'])
sage: phi = K.frobenius_endomorphism()
sage: phi
Frobenius endomorphism x |--> x^5 of Fraction Field of Univariate Polynomial Ring in T over Finite Field of size 5
sage: loads(dumps(phi))
Identity endomorphism of Fraction Field of Univariate Polynomial Ring in T over Finite Field of size 5
```



---

Comment by caruso created at 2022-10-13 09:58:51

New commits:


---

Comment by caruso created at 2022-10-13 09:58:51

Changing status from new to needs_review.


---

Comment by slabbe created at 2022-10-20 08:38:38

Changing status from needs_review to needs_work.


---

Comment by slabbe created at 2022-10-20 08:38:38

I suggest the following modifications:

- replace "prime" by "p" to match the attribute names
- improve the one sentence doc of both functions, in particuler "_extra_slots" does not mean anything and needs to be explained what it does


---

Comment by git created at 2022-10-20 08:39:29

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by slabbe created at 2022-10-20 08:43:51

I see the following failures on the patchbot report:

```
----------------------------------------------------------------------
sage -t --long --random-seed=98983843038100135194336768131633033400 src/sage/rings/polynomial/ore_function_field.py  # 9 doctests failed
sage -t --long --random-seed=98983843038100135194336768131633033400 src/sage/rings/finite_rings/hom_finite_field.pyx  # 5 doctests failed
sage -t --long --random-seed=98983843038100135194336768131633033400 src/sage/rings/polynomial/ore_polynomial_ring.py  # 3 doctests failed
sage -t --long --random-seed=98983843038100135194336768131633033400 src/sage/rings/polynomial/skew_polynomial_ring.py  # 10 doctests failed
----------------------------------------------------------------------
```


and few more on the other one:

```
----------------------------------------------------------------------
sage -t --long --warn-long 67.9 --random-seed=83963079143685479769442176755507876843 src/sage/schemes/toric/sheaf/klyachko.py  # 1 doctest failed
sage -t --long --warn-long 67.9 --random-seed=83963079143685479769442176755507876843 src/sage/interfaces/expect.py  # 2 doctests failed
sage -t --long --warn-long 67.9 --random-seed=83963079143685479769442176755507876843 src/sage/rings/polynomial/ore_function_field.py  # 9 doctests failed
sage -t --long --warn-long 67.9 --random-seed=83963079143685479769442176755507876843 src/sage/rings/finite_rings/hom_finite_field.pyx  # 5 doctests failed
sage -t --long --warn-long 67.9 --random-seed=83963079143685479769442176755507876843 src/sage/rings/polynomial/ore_polynomial_ring.py  # 3 doctests failed
sage -t --long --warn-long 67.9 --random-seed=83963079143685479769442176755507876843 src/sage/rings/polynomial/skew_polynomial_ring.py  # 10 doctests failed
----------------------------------------------------------------------
```



---

Comment by git created at 2022-10-20 09:02:24

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by caruso created at 2022-10-20 09:04:43

Changing status from needs_work to needs_review.


---

Comment by caruso created at 2022-10-20 09:04:43

Seems to be fixed.


---

Comment by git created at 2022-10-20 09:17:40

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by klee created at 2022-11-04 01:47:08

LGTM.


---

Comment by klee created at 2022-11-04 01:47:08

Changing priority from major to minor.


---

Comment by klee created at 2022-11-04 01:47:08

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2022-11-07 20:25:35

Resolution: fixed
