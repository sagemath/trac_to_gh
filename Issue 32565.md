# Issue 32565: Clean the use of weights in graph.py

Issue created by migration from https://trac.sagemath.org/ticket/32802

Original creator: dcoudert

Original creation time: 2021-10-30 13:29:26

part of #13112 and follow-up of #32723.

Here we clean methods:
- `eccentricity`
- `radius`
- `diameter`



---

Comment by dcoudert created at 2021-10-30 13:31:16

Changing status from new to needs_review.


---

Comment by dcoudert created at 2021-10-30 13:31:16

New commits:


---

Comment by dcoudert created at 2021-12-04 11:30:06

The error reported by the patchbot in `src/sage/schemes/toric/sheaf/klyachko.py` has already been reported in #32773.


---

Comment by vdelecroix created at 2021-12-29 10:06:35

Could you replace `w_func` by `weight_function` in

```
         if algorithm == 'DHV':
+            by_weight, w_func = self._get_weight_function(by_weight=by_weight,
+                                                          weight_function=weight_function,
+                                                          check_weight=check_weight)
```



---

Comment by git created at 2021-12-29 18:52:11

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2021-12-29 18:53:53

It's nicer this way


---

Comment by vdelecroix created at 2021-12-30 10:38:32

Thanks.

BTW, why is it called `_get_weight_function` and not simply `_weight_function`?


---

Comment by vdelecroix created at 2021-12-30 10:38:42

Changing status from needs_review to positive_review.


---

Comment by dcoudert created at 2021-12-30 10:55:13

> BTW, why is it called `_get_weight_function` and not simply `_weight_function`?
I had to find a name... it can be changed for something shorter, but only after we are done with the cleaning of the usage of weights in the graph module (#13112).

Thanks for the review.


---

Comment by vbraun created at 2022-01-31 23:31:15

Resolution: fixed
