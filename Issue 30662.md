# Issue 30662: igraph, python-igraph: Update to 0.8.3

archive/issues_030662.json:
```json
{
    "body": "CC:  @kiwifb @dcoudert @dimpase @slel @isuruf\n\n(from #30611)\n\nIssue created by migration from https://trac.sagemath.org/ticket/30899\n\n",
    "created_at": "2020-11-12T00:33:31Z",
    "labels": [
        "component: packages: optional"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "igraph, python-igraph: Update to 0.8.3",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30662",
    "user": "https://github.com/mkoeppe"
}
```
CC:  @kiwifb @dcoudert @dimpase @slel @isuruf

(from #30611)

Issue created by migration from https://trac.sagemath.org/ticket/30899





---

archive/issue_comments_437742.json:
```json
{
    "body": "source at https://github.com/igraph/igraph/releases/download/0.8.3/igraph-0.8.3.tar.gz",
    "created_at": "2020-11-13T13:53:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437742",
    "user": "https://github.com/dimpase"
}
```

source at https://github.com/igraph/igraph/releases/download/0.8.3/igraph-0.8.3.tar.gz



---

archive/issue_comments_437743.json:
```json
{
    "body": "This version of igraph is also in homebrew https://formulae.brew.sh/formula/igraph. I don't think we are currently checking whether graph is a system package or not.\n\nWe also need python_igraph (https://igraph.org/python/), right ?",
    "created_at": "2020-11-13T18:03:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437743",
    "user": "https://github.com/dcoudert"
}
```

This version of igraph is also in homebrew https://formulae.brew.sh/formula/igraph. I don't think we are currently checking whether graph is a system package or not.

We also need python_igraph (https://igraph.org/python/), right ?



---

archive/issue_comments_437744.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2020-11-16T19:24:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437744",
    "user": "https://github.com/dcoudert"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_437745.json:
```json
{
    "body": "I tried to update to 0.8.3 on macOS 10.15.7. Compilation went well, but I have the following issues:\n\n```\nsapristi:sage dcoudert$ ./sage\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 SageMath version 9.3.beta1, Release Date: 2020-11-07               \u2502\n\u2502 Using Python 3.9.0. Type \"help()\" for help.                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Warning: this is a prerelease version, and it may be unstable.     \u2503\n\u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251b\nsage: import igraph                                                                                                                 \n---------------------------------------------------------------------------\nModuleNotFoundError                       Traceback (most recent call last)\n<ipython-input-1-73ffca960e68> in <module>\n----> 1 import igraph\n\n~/sage/local/lib/python3.9/site-packages/igraph/__init__.py in <module>\n     33 # W0401: wildcard import\n     34 from igraph._igraph import *\n---> 35 from igraph.clustering import *\n     36 from igraph.cut import *\n     37 from igraph.configuration import Configuration\n\n~/sage/local/lib/python3.9/site-packages/igraph/clustering.py in <module>\n     36 from igraph.drawing.colors import ClusterColoringPalette\n     37 from igraph.statistics import Histogram\n---> 38 from igraph.summary import _get_wrapper_for_width\n     39 from igraph.utils import str_to_orientation\n     40 \n\n~/sage/local/lib/python3.9/site-packages/igraph/summary.py in <module>\n      9 from itertools import islice\n     10 from math import ceil\n---> 11 from texttable import Texttable\n     12 from textwrap import TextWrapper\n     13 \n\nModuleNotFoundError: No module named 'texttable'\n```\n\nand\n\n```\nsage: from sage.features import PythonModule                                                                                        \nsage: F = PythonModule(\"igraph\", spkg=\"python_igraph\", url=\"http://igraph.org\")                                                     \nsage: F.is_present()                                                                                                                \nFeatureTestResult('igraph', False)\n```\n\nI don't know what to do\n----\nNew commits:",
    "created_at": "2020-11-16T19:24:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437745",
    "user": "https://github.com/dcoudert"
}
```

I tried to update to 0.8.3 on macOS 10.15.7. Compilation went well, but I have the following issues:

```
sapristi:sage dcoudert$ ./sage
┌────────────────────────────────────────────────────────────────────┐
│ SageMath version 9.3.beta1, Release Date: 2020-11-07               │
│ Using Python 3.9.0. Type "help()" for help.                        │
└────────────────────────────────────────────────────────────────────┘
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Warning: this is a prerelease version, and it may be unstable.     ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
sage: import igraph                                                                                                                 
---------------------------------------------------------------------------
ModuleNotFoundError                       Traceback (most recent call last)
<ipython-input-1-73ffca960e68> in <module>
----> 1 import igraph

~/sage/local/lib/python3.9/site-packages/igraph/__init__.py in <module>
     33 # W0401: wildcard import
     34 from igraph._igraph import *
---> 35 from igraph.clustering import *
     36 from igraph.cut import *
     37 from igraph.configuration import Configuration

~/sage/local/lib/python3.9/site-packages/igraph/clustering.py in <module>
     36 from igraph.drawing.colors import ClusterColoringPalette
     37 from igraph.statistics import Histogram
---> 38 from igraph.summary import _get_wrapper_for_width
     39 from igraph.utils import str_to_orientation
     40 

~/sage/local/lib/python3.9/site-packages/igraph/summary.py in <module>
      9 from itertools import islice
     10 from math import ceil
---> 11 from texttable import Texttable
     12 from textwrap import TextWrapper
     13 

ModuleNotFoundError: No module named 'texttable'
```

and

```
sage: from sage.features import PythonModule                                                                                        
sage: F = PythonModule("igraph", spkg="python_igraph", url="http://igraph.org")                                                     
sage: F.is_present()                                                                                                                
FeatureTestResult('igraph', False)
```

I don't know what to do
----
New commits:



---

archive/issue_comments_437746.json:
```json
{
    "body": "`python-igraph` has new dependencies that need to be added. `pycairo` and `texttable`\n\nhttps://pypi.org/project/texttable/\n\nhttps://pypi.org/project/pycairo/\n\nWe may be able to do without pycairo (which in turns will require cairo either as a spkg or system package, may be it is already required, that need to be checked).",
    "created_at": "2020-11-16T19:45:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437746",
    "user": "https://github.com/kiwifb"
}
```

`python-igraph` has new dependencies that need to be added. `pycairo` and `texttable`

https://pypi.org/project/texttable/

https://pypi.org/project/pycairo/

We may be able to do without pycairo (which in turns will require cairo either as a spkg or system package, may be it is already required, that need to be checked).



---

archive/issue_comments_437747.json:
```json
{
    "body": "Indeed python-igraph used to vendor `texttable` but this was changed:\n\nhttps://github.com/igraph/python-igraph/commit/60194fbb7ff3dbd05c140493e116673834318fc2\n\nCareful, it's `texttable`, not `textable` (both exist on PyPI).\n\nhttps://pypi.org/project/texttable/",
    "created_at": "2020-11-17T00:51:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437747",
    "user": "https://github.com/slel"
}
```

Indeed python-igraph used to vendor `texttable` but this was changed:

https://github.com/igraph/python-igraph/commit/60194fbb7ff3dbd05c140493e116673834318fc2

Careful, it's `texttable`, not `textable` (both exist on PyPI).

https://pypi.org/project/texttable/



---

archive/issue_comments_437748.json:
```json
{
    "body": "as far as cairo and pycairo are concerned, we can add them, why not?",
    "created_at": "2020-11-17T08:25:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437748",
    "user": "https://github.com/dimpase"
}
```

as far as cairo and pycairo are concerned, we can add them, why not?



---

archive/issue_comments_437749.json:
```json
{
    "body": "cairo is potentially opening a nest of dependencies, so if skipping it was possible, I think that would be preferable.",
    "created_at": "2020-11-17T08:33:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437749",
    "user": "https://github.com/kiwifb"
}
```

cairo is potentially opening a nest of dependencies, so if skipping it was possible, I think that would be preferable.



---

archive/issue_comments_437750.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-11-17T13:56:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437750",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_437751.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2020-11-17T13:57:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437751",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_437752.json:
```json
{
    "body": "I added texttable and it seems ok now on my side. Not sure I did it the right way...",
    "created_at": "2020-11-17T13:57:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437752",
    "user": "https://github.com/dcoudert"
}
```

I added texttable and it seems ok now on my side. Not sure I did it the right way...



---

archive/issue_comments_437753.json:
```json
{
    "body": "`checksums.ini` needs `upstream_url` (see #30895)\n\n`spkg-check.in` looks incomplete.\n\nThe error handling in `spkg-install.in` can be removed - the function `sdh_pip_install` already takes care of it",
    "created_at": "2020-11-17T16:49:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437753",
    "user": "https://github.com/mkoeppe"
}
```

`checksums.ini` needs `upstream_url` (see #30895)

`spkg-check.in` looks incomplete.

The error handling in `spkg-install.in` can be removed - the function `sdh_pip_install` already takes care of it



---

archive/issue_comments_437754.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-11-17T16:53:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437754",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_437755.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-11-17T17:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437755",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_437756.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-11-17T17:05:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437756",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_437757.json:
```json
{
    "body": "What else should be done if we want to use a local installation of igraph (e.g., homebrew) ?",
    "created_at": "2020-11-17T17:08:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437757",
    "user": "https://github.com/dcoudert"
}
```

What else should be done if we want to use a local installation of igraph (e.g., homebrew) ?



---

archive/issue_comments_437758.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-11-17T17:11:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437758",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_437759.json:
```json
{
    "body": "Add system package information in `distros/` (see https://repology.org/project/igraph/versions) and add spkg-configure.m4",
    "created_at": "2020-11-17T17:20:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437759",
    "user": "https://github.com/mkoeppe"
}
```

Add system package information in `distros/` (see https://repology.org/project/igraph/versions) and add spkg-configure.m4



---

archive/issue_comments_437760.json:
```json
{
    "body": "`python_igraph` by default vendors `libigraph`, to avoid it one needs to follow\nhttps://github.com/igraph/python-igraph#linking-to-an-existing-igraph-installation\n\nBut I don't know how this can be done with our `sdh_pip_install`, which does not accept arguments other than `.`.",
    "created_at": "2020-11-17T17:49:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437760",
    "user": "https://github.com/dimpase"
}
```

`python_igraph` by default vendors `libigraph`, to avoid it one needs to follow
https://github.com/igraph/python-igraph#linking-to-an-existing-igraph-installation

But I don't know how this can be done with our `sdh_pip_install`, which does not accept arguments other than `.`.



---

archive/issue_comments_437761.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2020-11-17T17:49:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437761",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_437762.json:
```json
{
    "body": "You can use the same method that we use in `numpy`: Use `setup.py bdist_wheel` and then `sdh_store_and_pip_install_wheel`.",
    "created_at": "2020-11-17T18:10:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437762",
    "user": "https://github.com/mkoeppe"
}
```

You can use the same method that we use in `numpy`: Use `setup.py bdist_wheel` and then `sdh_store_and_pip_install_wheel`.



---

archive/issue_comments_437763.json:
```json
{
    "body": "Unless someone wants to give it a try now, I propose to postpone the use of system package to another ticket.",
    "created_at": "2020-11-18T18:27:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437763",
    "user": "https://github.com/dcoudert"
}
```

Unless someone wants to give it a try now, I propose to postpone the use of system package to another ticket.



---

archive/issue_comments_437764.json:
```json
{
    "body": "Replying to [comment:21 dcoudert]:\n> Unless someone wants to give it a try now, I propose to postpone the use of system package to another ticket.\n\nThe tricky part is to take care of comment:20 - I'll write the spkg-configure for igraph once this is done, but 1st things 1st.",
    "created_at": "2020-11-18T18:36:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437764",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:21 dcoudert]:
> Unless someone wants to give it a try now, I propose to postpone the use of system package to another ticket.

The tricky part is to take care of comment:20 - I'll write the spkg-configure for igraph once this is done, but 1st things 1st.



---

archive/issue_comments_437765.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-11-18T19:30:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437765",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_437766.json:
```json
{
    "body": "igraph does not build on macOS 10.5 with Xcode 12.\n\n```\n[igraph-0.8.3] /bin/bash ../libtool  --tag=CC   --mode=compile clang -DHAVE_CONFIG_H -I. -I..   -O3 -DIGRAPH_VERIFY_FINALLY_STACK=0 -I../include -I../include -I../src/CHOLMOD/Include -I../src/CHOLMOD/Include -I../src/AMD/Include -I../src/AMD/Include -I../src/COLAMD/Include -I../src/COLAMD/Include -I../src/SuiteSparse_config -I../src/SuiteSparse_config -DNPARTITION -DNTIMER -DNCAMD -Wall  -I../src/prpack -DPRPACK_IGRAPH_SUPPORT -I/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include -O3 -c -o AMD/Source/libigraph_la-amd_1.lo `test -f 'AMD/Source/amd_1.c' || echo './'`AMD/Source/amd_1.c\n[igraph-0.8.3] In file included from CHOLMOD/Supernodal/cholmod_super_numeric.c:80:\n[igraph-0.8.3] CHOLMOD/Supernodal/t_cholmod_super_numeric.c:510:17: error: implicit declaration of function 'dsyrk_' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\n[igraph-0.8.3]                 BLAS_dsyrk (\"L\", \"N\",\n[igraph-0.8.3]                 ^\n[igraph-0.8.3] ../src/CHOLMOD/Include/cholmod_blas.h:331:2: note: expanded from macro 'BLAS_dsyrk'\n[igraph-0.8.3]         BLAS_DSYRK (uplo, trans, &N, &K, alpha, A, &LDA, beta, C, &LDC) ; \\\n[igraph-0.8.3]         ^\n[igraph-0.8.3] ../src/CHOLMOD/Include/cholmod_blas.h:132:20: note: expanded from macro 'BLAS_DSYRK'\n[igraph-0.8.3] #define BLAS_DSYRK igraphdsyrk_\n[igraph-0.8.3]                    ^\n[igraph-0.8.3] ./igraph_lapack_internal.h:86:29: note: expanded from macro 'igraphdsyrk_'\n[igraph-0.8.3]     #define igraphdsyrk_    dsyrk_\n[igraph-0.8.3]                             ^\n```\n\nno surprise, it's very old code they vendor for no good reason, too. I'll open an issue with upstream.\nThe following fixes the problem\n\n```diff\n--- a/build/pkgs/igraph/spkg-install.in\n+++ b/build/pkgs/igraph/spkg-install.in\n@@ -4,6 +4,7 @@ You need libxml2 to run igraph. On Ubuntu and Debian Linux, installing the build\n     exit 1\n fi\n \n+export CFLAGS=\"$CFLAGS -Wno-strict-prototypes -Wno-implicit-function-declaration\"\n cd src\n sdh_configure --with-external-blas --with-external-lapack --with-external-glpk\n sdh_make\n```\n",
    "created_at": "2020-11-18T20:19:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437766",
    "user": "https://github.com/dimpase"
}
```

igraph does not build on macOS 10.5 with Xcode 12.

```
[igraph-0.8.3] /bin/bash ../libtool  --tag=CC   --mode=compile clang -DHAVE_CONFIG_H -I. -I..   -O3 -DIGRAPH_VERIFY_FINALLY_STACK=0 -I../include -I../include -I../src/CHOLMOD/Include -I../src/CHOLMOD/Include -I../src/AMD/Include -I../src/AMD/Include -I../src/COLAMD/Include -I../src/COLAMD/Include -I../src/SuiteSparse_config -I../src/SuiteSparse_config -DNPARTITION -DNTIMER -DNCAMD -Wall  -I../src/prpack -DPRPACK_IGRAPH_SUPPORT -I/Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk/usr/include -O3 -c -o AMD/Source/libigraph_la-amd_1.lo `test -f 'AMD/Source/amd_1.c' || echo './'`AMD/Source/amd_1.c
[igraph-0.8.3] In file included from CHOLMOD/Supernodal/cholmod_super_numeric.c:80:
[igraph-0.8.3] CHOLMOD/Supernodal/t_cholmod_super_numeric.c:510:17: error: implicit declaration of function 'dsyrk_' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
[igraph-0.8.3]                 BLAS_dsyrk ("L", "N",
[igraph-0.8.3]                 ^
[igraph-0.8.3] ../src/CHOLMOD/Include/cholmod_blas.h:331:2: note: expanded from macro 'BLAS_dsyrk'
[igraph-0.8.3]         BLAS_DSYRK (uplo, trans, &N, &K, alpha, A, &LDA, beta, C, &LDC) ; \
[igraph-0.8.3]         ^
[igraph-0.8.3] ../src/CHOLMOD/Include/cholmod_blas.h:132:20: note: expanded from macro 'BLAS_DSYRK'
[igraph-0.8.3] #define BLAS_DSYRK igraphdsyrk_
[igraph-0.8.3]                    ^
[igraph-0.8.3] ./igraph_lapack_internal.h:86:29: note: expanded from macro 'igraphdsyrk_'
[igraph-0.8.3]     #define igraphdsyrk_    dsyrk_
[igraph-0.8.3]                             ^
```

no surprise, it's very old code they vendor for no good reason, too. I'll open an issue with upstream.
The following fixes the problem

```diff
--- a/build/pkgs/igraph/spkg-install.in
+++ b/build/pkgs/igraph/spkg-install.in
@@ -4,6 +4,7 @@ You need libxml2 to run igraph. On Ubuntu and Debian Linux, installing the build
     exit 1
 fi
 
+export CFLAGS="$CFLAGS -Wno-strict-prototypes -Wno-implicit-function-declaration"
 cd src
 sdh_configure --with-external-blas --with-external-lapack --with-external-glpk
 sdh_make
```




---

archive/issue_comments_437767.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-11-18T20:30:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437767",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_437768.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-11-18T21:25:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437768",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_437769.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2020-11-18T21:26:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437769",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_437770.json:
```json
{
    "body": "\n```\n+upstream_url=https://github.com/foutaise/texttable/archive/vVERSION.tar.gz\n```\n\nbetter to use pypi.io URLs",
    "created_at": "2020-11-18T21:54:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437770",
    "user": "https://github.com/mkoeppe"
}
```


```
+upstream_url=https://github.com/foutaise/texttable/archive/vVERSION.tar.gz
```

better to use pypi.io URLs



---

archive/issue_comments_437771.json:
```json
{
    "body": "Replying to [comment:28 mkoeppe]:\n> {{{\n> +upstream_url=https://github.com/foutaise/texttable/archive/vVERSION.tar.gz\n> }}}\n> better to use pypi.io URLs \n\nI don't know where to get a nice url there. there are links to pypi.org there with ugly hashes.",
    "created_at": "2020-11-18T22:39:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437771",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:28 mkoeppe]:
> {{{
> +upstream_url=https://github.com/foutaise/texttable/archive/vVERSION.tar.gz
> }}}
> better to use pypi.io URLs 

I don't know where to get a nice url there. there are links to pypi.org there with ugly hashes.



---

archive/issue_comments_437772.json:
```json
{
    "body": "It should be of the following form (try it)\n[https://pypi.io/packages/source/t/texttable/texttable-VERSION.tar.gz](https://pypi.io/packages/source/t/texttable/texttable-VERSION.tar.gz)",
    "created_at": "2020-11-18T22:43:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437772",
    "user": "https://github.com/kiwifb"
}
```

It should be of the following form (try it)
[https://pypi.io/packages/source/t/texttable/texttable-VERSION.tar.gz](https://pypi.io/packages/source/t/texttable/texttable-VERSION.tar.gz)



---

archive/issue_comments_437773.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-11-18T23:29:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437773",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_437774.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-11-18T23:34:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437774",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_437775.json:
```json
{
    "body": "The distros files are missing the extension \".txt\"",
    "created_at": "2020-11-19T02:12:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437775",
    "user": "https://github.com/mkoeppe"
}
```

The distros files are missing the extension ".txt"



---

archive/issue_comments_437776.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-11-19T02:12:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437776",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_437777.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-11-19T08:05:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437777",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_437778.json:
```json
{
    "body": "I renamed the files.\n\nI have a doubt for `gentoo.txt`: on page https://repology.org/project/igraph/versions it's written `dev-libs/igraph` but our file contains only `igraph`. Should I change to `dev-libs/igraph` ?",
    "created_at": "2020-11-19T08:08:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437778",
    "user": "https://github.com/dcoudert"
}
```

I renamed the files.

I have a doubt for `gentoo.txt`: on page https://repology.org/project/igraph/versions it's written `dev-libs/igraph` but our file contains only `igraph`. Should I change to `dev-libs/igraph` ?



---

archive/issue_comments_437779.json:
```json
{
    "body": "Replying to [comment:36 dcoudert]:\n> I renamed the files.\n> \n> I have a doubt for `gentoo.txt`: on page https://repology.org/project/igraph/versions it's written `dev-libs/igraph` but our file contains only `igraph`. Should I change to `dev-libs/igraph` ?\n> \n\n`igraph` would be fine. `dev-libs/igraph` would be useful to lift ambiguities if there were several igraph packages across different categories. That being said you should check what was done for other packages. If we have a convention of using the \"long\" package name you should follow it.",
    "created_at": "2020-11-19T08:15:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437779",
    "user": "https://github.com/kiwifb"
}
```

Replying to [comment:36 dcoudert]:
> I renamed the files.
> 
> I have a doubt for `gentoo.txt`: on page https://repology.org/project/igraph/versions it's written `dev-libs/igraph` but our file contains only `igraph`. Should I change to `dev-libs/igraph` ?
> 

`igraph` would be fine. `dev-libs/igraph` would be useful to lift ambiguities if there were several igraph packages across different categories. That being said you should check what was done for other packages. If we have a convention of using the "long" package name you should follow it.



---

archive/issue_comments_437780.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-11-19T08:21:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437780",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_437781.json:
```json
{
    "body": "the convention is `dev-libs/igraph`. I also added a file for freebsd ports.",
    "created_at": "2020-11-19T08:22:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437781",
    "user": "https://github.com/dcoudert"
}
```

the convention is `dev-libs/igraph`. I also added a file for freebsd ports.



---

archive/issue_comments_437782.json:
```json
{
    "body": "OK, needs final review?",
    "created_at": "2020-11-19T09:00:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437782",
    "user": "https://github.com/dimpase"
}
```

OK, needs final review?



---

archive/issue_comments_437783.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-11-19T09:00:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437783",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_437784.json:
```json
{
    "body": "python-igraph is on pypi https://pypi.org/project/python-igraph/ so we should use it as upstream instead of \n\n```\nupstream_url=https://github.com/igraph/python-igraph/releases/download/VERSION/python-igraph-VERSION.tar.gz\n```\n\ngithub generated tarballs sometimes have issues.",
    "created_at": "2020-11-19T09:10:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437784",
    "user": "https://github.com/kiwifb"
}
```

python-igraph is on pypi https://pypi.org/project/python-igraph/ so we should use it as upstream instead of 

```
upstream_url=https://github.com/igraph/python-igraph/releases/download/VERSION/python-igraph-VERSION.tar.gz
```

github generated tarballs sometimes have issues.



---

archive/issue_comments_437785.json:
```json
{
    "body": "I am not sure about using `sage-python23` , aren't we phasing that out to use plain `python3` or `python`?",
    "created_at": "2020-11-19T09:15:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437785",
    "user": "https://github.com/kiwifb"
}
```

I am not sure about using `sage-python23` , aren't we phasing that out to use plain `python3` or `python`?



---

archive/issue_comments_437786.json:
```json
{
    "body": "Replying to [comment:42 fbissey]:\n> I am not sure about using `sage-python23` , aren't we phasing that out to use plain `python3` or `python`?\n\nI copied this from numpy's spkg-install. I suppose here should be a ticket that does away with sage-python23 at some point.",
    "created_at": "2020-11-19T09:36:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437786",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:42 fbissey]:
> I am not sure about using `sage-python23` , aren't we phasing that out to use plain `python3` or `python`?

I copied this from numpy's spkg-install. I suppose here should be a ticket that does away with sage-python23 at some point.



---

archive/issue_comments_437787.json:
```json
{
    "body": "Replying to [comment:41 fbissey]:\n> python-igraph is on pypi https://pypi.org/project/python-igraph/ so we should use it as upstream instead of \n> {{{\n> upstream_url=https://github.com/igraph/python-igraph/releases/download/VERSION/python-igraph-VERSION.tar.gz\n> }}}\n> github generated tarballs sometimes have issues.\n\nthis tarball is not github-generated, it's a manually uploaded one. cf\nhttps://github.com/igraph/igraph/releases/tag/0.8.3",
    "created_at": "2020-11-19T09:39:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437787",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:41 fbissey]:
> python-igraph is on pypi https://pypi.org/project/python-igraph/ so we should use it as upstream instead of 
> {{{
> upstream_url=https://github.com/igraph/python-igraph/releases/download/VERSION/python-igraph-VERSION.tar.gz
> }}}
> github generated tarballs sometimes have issues.

this tarball is not github-generated, it's a manually uploaded one. cf
https://github.com/igraph/igraph/releases/tag/0.8.3



---

archive/issue_comments_437788.json:
```json
{
    "body": "Replying to [comment:44 dimpase]:\n> Replying to [comment:41 fbissey]:\n> > python-igraph is on pypi https://pypi.org/project/python-igraph/ so we should use it as upstream instead of \n> > {{{\n> > upstream_url=https://github.com/igraph/python-igraph/releases/download/VERSION/python-igraph-VERSION.tar.gz\n> > }}}\n> > github generated tarballs sometimes have issues.\n> \n> this tarball is not github-generated, it's a manually uploaded one. cf\n> https://github.com/igraph/igraph/releases/tag/0.8.3\n\nthat's definitely a good thing. I won't insist on pypi.",
    "created_at": "2020-11-19T09:41:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437788",
    "user": "https://github.com/kiwifb"
}
```

Replying to [comment:44 dimpase]:
> Replying to [comment:41 fbissey]:
> > python-igraph is on pypi https://pypi.org/project/python-igraph/ so we should use it as upstream instead of 
> > {{{
> > upstream_url=https://github.com/igraph/python-igraph/releases/download/VERSION/python-igraph-VERSION.tar.gz
> > }}}
> > github generated tarballs sometimes have issues.
> 
> this tarball is not github-generated, it's a manually uploaded one. cf
> https://github.com/igraph/igraph/releases/tag/0.8.3

that's definitely a good thing. I won't insist on pypi.



---

archive/issue_comments_437789.json:
```json
{
    "body": "I tried with a homebrew install of igraph and then `sage -I python_igraph` and it's working well. I don't know for other systems.",
    "created_at": "2020-11-19T11:19:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437789",
    "user": "https://github.com/dcoudert"
}
```

I tried with a homebrew install of igraph and then `sage -I python_igraph` and it's working well. I don't know for other systems.



---

archive/issue_comments_437790.json:
```json
{
    "body": "Replying to [comment:42 fbissey]:\n> I am not sure about using `sage-python23` , aren't we\n> phasing that out to use plain `python3` or `python`?\n\nYes, see #30731.",
    "created_at": "2020-11-19T11:26:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437790",
    "user": "https://github.com/slel"
}
```

Replying to [comment:42 fbissey]:
> I am not sure about using `sage-python23` , aren't we
> phasing that out to use plain `python3` or `python`?

Yes, see #30731.



---

archive/issue_comments_437791.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-11-19T12:28:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437791",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_437792.json:
```json
{
    "body": "build/pkgs/python_igraph/spkg-install.in also has sage-python23",
    "created_at": "2020-11-19T12:31:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437792",
    "user": "https://github.com/dimpase"
}
```

build/pkgs/python_igraph/spkg-install.in also has sage-python23



---

archive/issue_comments_437793.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-11-19T12:33:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437793",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_437794.json:
```json
{
    "body": "I don't like these sage-python23 -> python3 changes.\nI don't see why this python3 is guaranteed to be the correct python.\n\nIn fact, no package at the moment uses `python3` to run `setup.py`, while about a dozen\npackages use `sage-python23`.\nI really think until #30731 is done, we should continue using `sage-python23`.\nSorry I didn't check earlier.",
    "created_at": "2020-11-19T12:54:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437794",
    "user": "https://github.com/dimpase"
}
```

I don't like these sage-python23 -> python3 changes.
I don't see why this python3 is guaranteed to be the correct python.

In fact, no package at the moment uses `python3` to run `setup.py`, while about a dozen
packages use `sage-python23`.
I really think until #30731 is done, we should continue using `sage-python23`.
Sorry I didn't check earlier.



---

archive/issue_comments_437795.json:
```json
{
    "body": "I don't know how to remove the 2 lasts commits (I'm still at git beginner level...). Otherwise I can push a revert commit.",
    "created_at": "2020-11-19T12:58:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437795",
    "user": "https://github.com/dcoudert"
}
```

I don't know how to remove the 2 lasts commits (I'm still at git beginner level...). Otherwise I can push a revert commit.



---

archive/issue_comments_437796.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-11-19T14:52:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437796",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_437797.json:
```json
{
    "body": "OK, I was able to remove the last 2 commits (and so revert to sage-python23). I had to do a forced push.",
    "created_at": "2020-11-19T14:54:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437797",
    "user": "https://github.com/dcoudert"
}
```

OK, I was able to remove the last 2 commits (and so revert to sage-python23). I had to do a forced push.



---

archive/issue_comments_437798.json:
```json
{
    "body": "Replying to [comment:51 dimpase]:\n> I don't like these sage-python23 -> python3 changes.\n\nWe will switch over in #30371 - and I agree that it is better for uniformity if we don't do this package by package.\n\n> I don't see why this python3 is guaranteed to be the correct python.\n\nIt is actually guaranteed by our installation. \n- When there is a suitable system python3.x, then Sage creates a venv over it and installs a `python3` symlink in `$SAGE_LOCAL/bin` (which is in `$PATH` and not shadowed by what is in front of it), so `python3` works. \n- When there is no suitable system python3.x, then Sage builds one and installs a binary in `$SAGE_LOCAL/bin`, so `python3` also works.\n(Side note: After #22731/#30013, the above is still true, but with `$SAGE_VENV/bin` instead of `$SAGE_LOCAL/bin`.)",
    "created_at": "2020-11-19T17:25:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437798",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:51 dimpase]:
> I don't like these sage-python23 -> python3 changes.

We will switch over in #30371 - and I agree that it is better for uniformity if we don't do this package by package.

> I don't see why this python3 is guaranteed to be the correct python.

It is actually guaranteed by our installation. 
- When there is a suitable system python3.x, then Sage creates a venv over it and installs a `python3` symlink in `$SAGE_LOCAL/bin` (which is in `$PATH` and not shadowed by what is in front of it), so `python3` works. 
- When there is no suitable system python3.x, then Sage builds one and installs a binary in `$SAGE_LOCAL/bin`, so `python3` also works.
(Side note: After #22731/#30013, the above is still true, but with `$SAGE_VENV/bin` instead of `$SAGE_LOCAL/bin`.)



---

archive/issue_comments_437799.json:
```json
{
    "body": "lgtm",
    "created_at": "2020-11-19T20:23:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437799",
    "user": "https://github.com/dimpase"
}
```

lgtm



---

archive/issue_comments_437800.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-11-19T20:23:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437800",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_437801.json:
```json
{
    "body": "Looks good. Given that this is an optional package, we can defer the actual portability tests to the automatic run of the GH Actions when it is merged into a beta release.",
    "created_at": "2020-11-19T21:02:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437801",
    "user": "https://github.com/mkoeppe"
}
```

Looks good. Given that this is an optional package, we can defer the actual portability tests to the automatic run of the GH Actions when it is merged into a beta release.



---

archive/issue_comments_437802.json:
```json
{
    "body": "I've opened https://github.com/igraph/igraph/issues/1547 in regard of XCode 12 issue (solved with CFLAGS here).",
    "created_at": "2020-11-20T12:52:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437802",
    "user": "https://github.com/dimpase"
}
```

I've opened https://github.com/igraph/igraph/issues/1547 in regard of XCode 12 issue (solved with CFLAGS here).



---

archive/issue_events_080676.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-11-22T15:05:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30662#event-80676"
}
```



---

archive/issue_comments_437803.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-11-22T15:05:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437803",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_437804.json:
```json
{
    "body": "Follow up in #27921, running the libxml2 check via a script package",
    "created_at": "2020-12-03T05:13:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437804",
    "user": "https://github.com/mkoeppe"
}
```

Follow up in #27921, running the libxml2 check via a script package



---

archive/issue_comments_437805.json:
```json
{
    "body": "Volker, the upstream tarball for `python_igraph` seems to be missing on the mirrors. Note that `make download` has been repaired - so it should be easy to check if anything is missing",
    "created_at": "2020-12-07T00:13:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30662",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30662#issuecomment-437805",
    "user": "https://github.com/mkoeppe"
}
```

Volker, the upstream tarball for `python_igraph` seems to be missing on the mirrors. Note that `make download` has been repaired - so it should be easy to check if anything is missing
