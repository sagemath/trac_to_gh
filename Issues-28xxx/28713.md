# Issue 28713: Scalar Fields: Base Field and Complexification

archive/issues_028476.json:
```json
{
    "assignees": [],
    "body": "Scalar fields on manifolds with real base space can, under certain circumstances, map into the complex numbers. In this case, the display command still outputs `M --> R` which is at least misleading.\n\nCC:  @egourgoulhon\n\nKeywords: **manifolds, scalar fields**\n\nComponent: **geometry**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/28713_\n\n",
    "created_at": "2019-11-09T11:38:17Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20geometry",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Scalar Fields: Base Field and Complexification",
    "type": "issue",
    "updated_at": "2022-08-31T05:25:02Z",
    "url": "https://github.com/sagemath/sage/issues/28713",
    "user": "https://github.com/DeRhamSource"
}
```
Scalar fields on manifolds with real base space can, under certain circumstances, map into the complex numbers. In this case, the display command still outputs `M --> R` which is at least misleading.

CC:  @egourgoulhon

Keywords: **manifolds, scalar fields**

Component: **geometry**

_Issue created by migration from https://trac.sagemath.org/ticket/28713_





---

archive/issue_events_394364.json:
```json
{
    "actor": "https://github.com/DeRhamSource",
    "created_at": "2019-11-09T11:38:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "milestone_number": null,
    "milestone_title": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28713#event-394364"
}
```



---

archive/issue_events_394365.json:
```json
{
    "actor": "https://github.com/DeRhamSource",
    "created_at": "2019-11-09T11:38:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28713#event-394365"
}
```



---

archive/issue_comments_447950.json:
```json
{
    "body": "Changed keywords from none to **manifolds, scalar fields**",
    "created_at": "2019-11-09T11:42:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28713#issuecomment-447950",
    "user": "https://github.com/DeRhamSource"
}
```

Changed keywords from none to **manifolds, scalar fields**



---

archive/issue_events_394366.json:
```json
{
    "actor": "https://github.com/DeRhamSource",
    "created_at": "2019-11-09T11:42:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28713#event-394366"
}
```



---

archive/issue_events_394367.json:
```json
{
    "actor": "https://github.com/DeRhamSource",
    "created_at": "2019-11-09T11:42:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "c: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28713#event-394367"
}
```



---

archive/issue_comments_447951.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+Scalar fields on manifolds with real base space can, under certain circumstances, map into the complex numbers. In this case, the display command still outputs `M --> R` which is not only misleading but a bug.\n``````\n",
    "created_at": "2019-11-09T11:42:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28713#issuecomment-447951",
    "user": "https://github.com/DeRhamSource"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+Scalar fields on manifolds with real base space can, under certain circumstances, map into the complex numbers. In this case, the display command still outputs `M --> R` which is not only misleading but a bug.
``````




---

archive/issue_comments_447952.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Scalar fields on manifolds with real base space can, under certain circumstances, map into the complex numbers. In this case, the display command still outputs `M --> R` which is not only misleading but a bug.\n+Scalar fields on manifolds with real base space can, under certain circumstances, map into the complex numbers. In this case, the display command still outputs `M --> R` which is at least misleading.\n``````\n",
    "created_at": "2019-11-09T11:43:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28713#issuecomment-447952",
    "user": "https://github.com/DeRhamSource"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-Scalar fields on manifolds with real base space can, under certain circumstances, map into the complex numbers. In this case, the display command still outputs `M --> R` which is not only misleading but a bug.
+Scalar fields on manifolds with real base space can, under certain circumstances, map into the complex numbers. In this case, the display command still outputs `M --> R` which is at least misleading.
``````




---

archive/issue_comments_447953.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nWell, I guess this depends on what is meant by *scalar field*. In the current context, a scalar field is a function taking values in the base field of the manifold. So, if *M* is a manifold over **R**, a function *M -->* **C** is not a scalar field. In the current manifold implementation, scalar fields (in the above meaning) play a crucial role, since their algebra is the base ring for the modules of vector fields and tensor fields. In particular, for parallelizable real manifolds, the dimensionality of these modules depends crucially on the codomain of scalar fields being **R** and not **C**. For these reasons, I would lean towards introducing a new structure for complex-valued functions, leaving the current implementation of scalar fields untouched.",
    "created_at": "2019-11-09T15:31:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28713#issuecomment-447953",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:3" align="right">comment:3</div>

Well, I guess this depends on what is meant by *scalar field*. In the current context, a scalar field is a function taking values in the base field of the manifold. So, if *M* is a manifold over **R**, a function *M -->* **C** is not a scalar field. In the current manifold implementation, scalar fields (in the above meaning) play a crucial role, since their algebra is the base ring for the modules of vector fields and tensor fields. In particular, for parallelizable real manifolds, the dimensionality of these modules depends crucially on the codomain of scalar fields being **R** and not **C**. For these reasons, I would lean towards introducing a new structure for complex-valued functions, leaving the current implementation of scalar fields untouched.



---

archive/issue_comments_447954.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nPS: speaking about complexification, there were some thoughts expressed in #18786 (unfortunately not developed further).",
    "created_at": "2019-11-09T15:33:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28713#issuecomment-447954",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:4" align="right">comment:4</div>

PS: speaking about complexification, there were some thoughts expressed in #18786 (unfortunately not developed further).



---

archive/issue_comments_447955.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nA complexification of the tangent and cotangent space would be very useful. Namely, if you consider a complex manifold `M` of dimension n to be a real manifold of dimension 2n. Then, one obtains natural coordinates given by complexification, `z_k = x_k + i*y_k` and `\\bar{z}_k = x_k - i*y_k`, which are very useful for complex vector bundles and complex differential forms.\n\nSince the whole framework bases on symbolic expressions, there is no barrier of introducing the aforementioned coordinates as chart coordinates (I've made an example for characteristic classes where I did this. Perhaps you should take a detailed look an that after I'll have uploaded it). But somehow, this feels like an abuse.",
    "created_at": "2019-11-10T11:14:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28713#issuecomment-447955",
    "user": "https://github.com/DeRhamSource"
}
```

<div id="comment:5" align="right">comment:5</div>

A complexification of the tangent and cotangent space would be very useful. Namely, if you consider a complex manifold `M` of dimension n to be a real manifold of dimension 2n. Then, one obtains natural coordinates given by complexification, `z_k = x_k + i*y_k` and `\bar{z}_k = x_k - i*y_k`, which are very useful for complex vector bundles and complex differential forms.

Since the whole framework bases on symbolic expressions, there is no barrier of introducing the aforementioned coordinates as chart coordinates (I've made an example for characteristic classes where I did this. Perhaps you should take a detailed look an that after I'll have uploaded it). But somehow, this feels like an abuse.



---

archive/issue_comments_447956.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@DeRhamSource](#comment:5):\n> \n> Since the whole framework bases on symbolic expressions, there is no barrier of introducing the aforementioned coordinates as chart coordinates (I've made an example for characteristic classes where I did this. Perhaps you should take a detailed look an that after I'll have uploaded it). But somehow, this feels like an abuse.\n\n\nYes there is no barrier at the moment and actually we already played this game in the past, see cell [36] of [this notebook](https://nbviewer.jupyter.org/github/sagemanifolds/SageManifolds/blob/master/Worksheets/v1.3/SM_Simon-Mars_Kerr.ipynb), which introduces a self-dual complex 2-form.",
    "created_at": "2019-11-10T11:30:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28713#issuecomment-447956",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@DeRhamSource](#comment:5):
> 
> Since the whole framework bases on symbolic expressions, there is no barrier of introducing the aforementioned coordinates as chart coordinates (I've made an example for characteristic classes where I did this. Perhaps you should take a detailed look an that after I'll have uploaded it). But somehow, this feels like an abuse.


Yes there is no barrier at the moment and actually we already played this game in the past, see cell [36] of [this notebook](https://nbviewer.jupyter.org/github/sagemanifolds/SageManifolds/blob/master/Worksheets/v1.3/SM_Simon-Mars_Kerr.ipynb), which introduces a self-dual complex 2-form.



---

archive/issue_comments_447957.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nMy idea so far: Checking the symbolic expressions of scalar fields via the method `is_real` and from that deduce the destination domain.",
    "created_at": "2019-11-10T13:20:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28713#issuecomment-447957",
    "user": "https://github.com/DeRhamSource"
}
```

<div id="comment:7" align="right">comment:7</div>

My idea so far: Checking the symbolic expressions of scalar fields via the method `is_real` and from that deduce the destination domain.



---

archive/issue_comments_447958.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@DeRhamSource](#comment:7):\n> My idea so far: Checking the symbolic expressions of scalar fields via the method `is_real` and from that deduce the destination domain.\n\nYes, sounds reasonable at this stage.",
    "created_at": "2019-11-17T11:31:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28713#issuecomment-447958",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@DeRhamSource](#comment:7):
> My idea so far: Checking the symbolic expressions of scalar fields via the method `is_real` and from that deduce the destination domain.

Yes, sounds reasonable at this stage.



---

archive/issue_events_394368.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-06T14:10:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "milestone_number": null,
    "milestone_title": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28713#event-394368"
}
```



---

archive/issue_events_394369.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-06T14:10:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28713#event-394369"
}
```



---

archive/issue_comments_447959.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nTicket retargeted after milestone closed",
    "created_at": "2020-01-06T14:10:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28713#issuecomment-447959",
    "user": "https://github.com/embray"
}
```

<div id="comment:9" align="right">comment:9</div>

Ticket retargeted after milestone closed



---

archive/issue_comments_447960.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nBatch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28713#issuecomment-447960",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:10" align="right">comment:10</div>

Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_events_394370.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28713#event-394370"
}
```



---

archive/issue_events_394371.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28713#event-394371"
}
```



---

archive/issue_events_394372.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-29T16:37:33Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28713#event-394372"
}
```



---

archive/issue_events_394373.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-29T16:37:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28713#event-394373"
}
```



---

archive/issue_events_394374.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28713#event-394374"
}
```



---

archive/issue_events_394375.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28713#event-394375"
}
```



---

archive/issue_comments_447961.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28713#issuecomment-447961",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:12" align="right">comment:12</div>

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_394376.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:43:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28713#event-394376"
}
```



---

archive/issue_events_394377.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:43:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28713#event-394377"
}
```



---

archive/issue_events_394378.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:41:23Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28713#event-394378"
}
```



---

archive/issue_events_394379.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:41:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28713#event-394379"
}
```



---

archive/issue_events_394380.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-01T21:16:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28713#event-394380"
}
```



---

archive/issue_events_394381.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-01T21:16:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28713#event-394381"
}
```



---

archive/issue_events_394382.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T05:25:02Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28713#event-394382"
}
```



---

archive/issue_events_394383.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T05:25:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28713",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28713#event-394383"
}
```
