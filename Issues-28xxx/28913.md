# Issue 28913: integrate(..., algorithm="giac"): Incorrect conversion to Sage

archive/issues_028676.json:
```json
{
    "body": "Seen in [this ask.sagemath question](https://ask.sagemath.org/question/49192/possible-bug-in-sage-giac-integration-interface-needs-confirmation/):\n\n```\nsage: Ex=(1-2*x^(1/3))^(3/4)/x\nsage: integrate(Ex, x, algorithm=\"giac\")\n---------------------------------------------------------------------------\nSyntaxError                               Traceback (most recent call last)\n/usr/local/sage-P3-2/local/lib/python3.7/site-packages/sage/interfaces/giac.py in _sage_(self, locals)\n   1100                 return symbolic_expression_from_string(result, lsymbols,\n-> 1101                     accept_sequence=True)\n   1102 \n\n/usr/local/sage-P3-2/local/lib/python3.7/site-packages/sage/calculus/calculus.py in symbolic_expression_from_string(s, syms, accept_sequence)\n   2384             _augmented_syms = syms\n-> 2385             return parse_func(s)\n   2386         finally:\n\n/usr/local/sage-P3-2/local/lib/python3.7/site-packages/sage/misc/parser.pyx in sage.misc.parser.Parser.parse_sequence (build/cythonized/sage/misc/parser.c:5479)()\n    538 \n--> 539     cpdef parse_sequence(self, s):\n    540         \"\"\"\n\n/usr/local/sage-P3-2/local/lib/python3.7/site-packages/sage/misc/parser.pyx in sage.misc.parser.Parser.parse_sequence (build/cythonized/sage/misc/parser.c:5369)()\n    556         if tokens.next() != EOS:\n--> 557             self.parse_error(tokens)\n    558         if len(all) == 1 and isinstance(all, list):\n\n/usr/local/sage-P3-2/local/lib/python3.7/site-packages/sage/misc/parser.pyx in sage.misc.parser.Parser.parse_error (build/cythonized/sage/misc/parser.c:9742)()\n   1007     cdef parse_error(self, Tokenizer tokens, msg=\"Malformed expression\"):\n-> 1008         raise SyntaxError(msg, tokens.s, tokens.pos)\n   1009 \n\nSyntaxError: Malformed expression\n\nDuring handling of the above exception, another exception occurred:\n\nNotImplementedError                       Traceback (most recent call last)\n<ipython-input-22-617e71e52902> in <module>()\n----> 1 integrate(Ex, x, algorithm=\"giac\")\n\n/usr/local/sage-P3-2/local/lib/python3.7/site-packages/sage/misc/functional.py in integral(x, *args, **kwds)\n    751     \"\"\"\n    752     if hasattr(x, 'integral'):\n--> 753         return x.integral(*args, **kwds)\n    754     else:\n    755         from sage.symbolic.ring import SR\n\n/usr/local/sage-P3-2/local/lib/python3.7/site-packages/sage/symbolic/expression.pyx in sage.symbolic.expression.Expression.integral (build/cythonized/sage/symbolic/expression.cpp:64575)()\n  12389                     R = ring.SR\n  12390             return R(integral(f, v, a, b, **kwds))\n> 12391         return integral(self, *args, **kwds)\n  12392 \n  12393     integrate = integral\n\n/usr/local/sage-P3-2/local/lib/python3.7/site-packages/sage/symbolic/integration/integral.py in integrate(expression, v, a, b, algorithm, hold)\n    925         if not integrator:\n    926             raise ValueError(\"Unknown algorithm: %s\" % algorithm)\n--> 927         return integrator(expression, v, a, b)\n    928     if a is None:\n    929         return indefinite_integral(expression, v, hold=hold)\n\n/usr/local/sage-P3-2/local/lib/python3.7/site-packages/sage/symbolic/integration/external.py in giac_integrator(expression, v, a, b)\n    430         return expression.integrate(v, a, b, hold=True)\n    431     else:\n--> 432         return result._sage_()\n\n/usr/local/sage-P3-2/local/lib/python3.7/site-packages/sage/interfaces/giac.py in _sage_(self, locals)\n   1102 \n   1103             except Exception:\n-> 1104                 raise NotImplementedError(\"Unable to parse Giac output: %s\" % result)\n   1105         else:\n   1106             return [entry.sage() for entry in self]\n\nNotImplementedError: Unable to parse Giac output: Evaluation time: 2.82\n12*(1/4*ln(abs((-2*x^(1/3)+1)^(1/4)-1))-1/4*ln((-2*x^(1/3)+1)^(1/4)+1)+1/2*atan((-2*x^(1/3)+1)^(1/4))+1/3*((-2*x^(1/3)+1)^(1/4))^3)\n```\n\nHowever, the following workaround works:\n\n```\nsage: from giacpy_sage import *\n// Giac share root-directory:/usr/local/sage-P3-2/local/share/giac/\n// Giac share root-directory:/usr/local/sage-P3-2/local/share/giac/\nHelp file /usr/local/sage-P3-2/local/share/giac/doc/fr/aide_cas not found\nAdded 0 synonyms\nsage: libgiac.integrate(Ex,x).sage()\n4*(-2*x^(1/3) + 1)^(3/4) + 6*arctan((-2*x^(1/3) + 1)^(1/4)) - 3*log((-2*x^(1/3) + 1)^(1/4) + 1) + 3*log(abs((-2*x^(1/3) + 1)^(1/4) - 1))\n```\n\nThis seems to point to the (unwelcome) timing information added by Giac *before* its results... It's probably more of a booboo than a (real|hard) bug, but might defeat a whole problem if this error is raised before other algorithms has had a chance to report their results.\n\nI'm not sure that this should be reported upstream (it should if there is no way to cleanly suppress the timing information).\n\n`Cc`ing the participants to #27958, which introduced this particular wolf in the general Sage integration sheepshed...\n\n**CC:**  @fchapoton @mwageringel jakobkroeker @kcrisman @pjbruin @rwst @seblabbe @slel tmonteil @videlec @vinklein @zimmermann6 @mforets @mezzarobba\n\n**Keywords:** symbolics giac integration\n\n**Branch:** [297033a040583cc934757c4c94376d5146054265](https://github.com/sagemath/sagetrac-mirror/commit/297033a040583cc934757c4c94376d5146054265)\n\n**Reviewer:** Thierry Monteil\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/28913\n\n",
    "closed_at": "2020-05-26T21:44:13Z",
    "created_at": "2019-12-26T18:01:18Z",
    "labels": [
        "component: calculus",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "integrate(..., algorithm=\"giac\"): Incorrect conversion to Sage",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28913",
    "user": "https://github.com/EmmanuelCharpentier"
}
```
Seen in [this ask.sagemath question](https://ask.sagemath.org/question/49192/possible-bug-in-sage-giac-integration-interface-needs-confirmation/):

```
sage: Ex=(1-2*x^(1/3))^(3/4)/x
sage: integrate(Ex, x, algorithm="giac")
---------------------------------------------------------------------------
SyntaxError                               Traceback (most recent call last)
/usr/local/sage-P3-2/local/lib/python3.7/site-packages/sage/interfaces/giac.py in _sage_(self, locals)
   1100                 return symbolic_expression_from_string(result, lsymbols,
-> 1101                     accept_sequence=True)
   1102 

/usr/local/sage-P3-2/local/lib/python3.7/site-packages/sage/calculus/calculus.py in symbolic_expression_from_string(s, syms, accept_sequence)
   2384             _augmented_syms = syms
-> 2385             return parse_func(s)
   2386         finally:

/usr/local/sage-P3-2/local/lib/python3.7/site-packages/sage/misc/parser.pyx in sage.misc.parser.Parser.parse_sequence (build/cythonized/sage/misc/parser.c:5479)()
    538 
--> 539     cpdef parse_sequence(self, s):
    540         """

/usr/local/sage-P3-2/local/lib/python3.7/site-packages/sage/misc/parser.pyx in sage.misc.parser.Parser.parse_sequence (build/cythonized/sage/misc/parser.c:5369)()
    556         if tokens.next() != EOS:
--> 557             self.parse_error(tokens)
    558         if len(all) == 1 and isinstance(all, list):

/usr/local/sage-P3-2/local/lib/python3.7/site-packages/sage/misc/parser.pyx in sage.misc.parser.Parser.parse_error (build/cythonized/sage/misc/parser.c:9742)()
   1007     cdef parse_error(self, Tokenizer tokens, msg="Malformed expression"):
-> 1008         raise SyntaxError(msg, tokens.s, tokens.pos)
   1009 

SyntaxError: Malformed expression

During handling of the above exception, another exception occurred:

NotImplementedError                       Traceback (most recent call last)
<ipython-input-22-617e71e52902> in <module>()
----> 1 integrate(Ex, x, algorithm="giac")

/usr/local/sage-P3-2/local/lib/python3.7/site-packages/sage/misc/functional.py in integral(x, *args, **kwds)
    751     """
    752     if hasattr(x, 'integral'):
--> 753         return x.integral(*args, **kwds)
    754     else:
    755         from sage.symbolic.ring import SR

/usr/local/sage-P3-2/local/lib/python3.7/site-packages/sage/symbolic/expression.pyx in sage.symbolic.expression.Expression.integral (build/cythonized/sage/symbolic/expression.cpp:64575)()
  12389                     R = ring.SR
  12390             return R(integral(f, v, a, b, **kwds))
> 12391         return integral(self, *args, **kwds)
  12392 
  12393     integrate = integral

/usr/local/sage-P3-2/local/lib/python3.7/site-packages/sage/symbolic/integration/integral.py in integrate(expression, v, a, b, algorithm, hold)
    925         if not integrator:
    926             raise ValueError("Unknown algorithm: %s" % algorithm)
--> 927         return integrator(expression, v, a, b)
    928     if a is None:
    929         return indefinite_integral(expression, v, hold=hold)

/usr/local/sage-P3-2/local/lib/python3.7/site-packages/sage/symbolic/integration/external.py in giac_integrator(expression, v, a, b)
    430         return expression.integrate(v, a, b, hold=True)
    431     else:
--> 432         return result._sage_()

/usr/local/sage-P3-2/local/lib/python3.7/site-packages/sage/interfaces/giac.py in _sage_(self, locals)
   1102 
   1103             except Exception:
-> 1104                 raise NotImplementedError("Unable to parse Giac output: %s" % result)
   1105         else:
   1106             return [entry.sage() for entry in self]

NotImplementedError: Unable to parse Giac output: Evaluation time: 2.82
12*(1/4*ln(abs((-2*x^(1/3)+1)^(1/4)-1))-1/4*ln((-2*x^(1/3)+1)^(1/4)+1)+1/2*atan((-2*x^(1/3)+1)^(1/4))+1/3*((-2*x^(1/3)+1)^(1/4))^3)
```

However, the following workaround works:

```
sage: from giacpy_sage import *
// Giac share root-directory:/usr/local/sage-P3-2/local/share/giac/
// Giac share root-directory:/usr/local/sage-P3-2/local/share/giac/
Help file /usr/local/sage-P3-2/local/share/giac/doc/fr/aide_cas not found
Added 0 synonyms
sage: libgiac.integrate(Ex,x).sage()
4*(-2*x^(1/3) + 1)^(3/4) + 6*arctan((-2*x^(1/3) + 1)^(1/4)) - 3*log((-2*x^(1/3) + 1)^(1/4) + 1) + 3*log(abs((-2*x^(1/3) + 1)^(1/4) - 1))
```

This seems to point to the (unwelcome) timing information added by Giac *before* its results... It's probably more of a booboo than a (real|hard) bug, but might defeat a whole problem if this error is raised before other algorithms has had a chance to report their results.

I'm not sure that this should be reported upstream (it should if there is no way to cleanly suppress the timing information).

`Cc`ing the participants to #27958, which introduced this particular wolf in the general Sage integration sheepshed...

**CC:**  @fchapoton @mwageringel jakobkroeker @kcrisman @pjbruin @rwst @seblabbe @slel tmonteil @videlec @vinklein @zimmermann6 @mforets @mezzarobba

**Keywords:** symbolics giac integration

**Branch:** [297033a040583cc934757c4c94376d5146054265](https://github.com/sagemath/sagetrac-mirror/commit/297033a040583cc934757c4c94376d5146054265)

**Reviewer:** Thierry Monteil

**Author:** Frédéric Chapoton

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/28913





---

archive/issue_comments_562846.json:
```json
{
    "body": "<a id='comment:1'></a>\nForgot Frederic Chapoton in the `Cc` list...",
    "created_at": "2019-12-26T18:02:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28913#issuecomment-562846",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:1'></a>
Forgot Frederic Chapoton in the `Cc` list...



---

archive/issue_comments_562847.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"symbolics giac integration\".",
    "created_at": "2019-12-26T18:16:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28913#issuecomment-562847",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

**Changing keywords** from "" to "symbolics giac integration".



---

archive/issue_comments_562848.json:
```json
{
    "body": "<a id='comment:3'></a>\nI think it would make sense to use giacpy_sage for this in general, rather than the pexpect interface. Perhaps giacpy_sage could be turned into a standard package.",
    "created_at": "2019-12-27T12:40:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28913#issuecomment-562848",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:3'></a>
I think it would make sense to use giacpy_sage for this in general, rather than the pexpect interface. Perhaps giacpy_sage could be turned into a standard package.



---

archive/issue_comments_562849.json:
```json
{
    "body": "<a id='comment:4'></a>\nReplying to [gh-mwageringel](#comment%3A3):\n> I think it would make sense to use giacpy_sage for this in general, rather than the pexpect interface. Perhaps giacpy_sage could be turned into a standard package.\n\n\nI opened #28918 for that. See also #16688.",
    "created_at": "2019-12-28T06:29:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28913#issuecomment-562849",
    "user": "https://github.com/slel"
}
```

<a id='comment:4'></a>
Replying to [gh-mwageringel](#comment%3A3):
> I think it would make sense to use giacpy_sage for this in general, rather than the pexpect interface. Perhaps giacpy_sage could be turned into a standard package.


I opened #28918 for that. See also #16688.



---

archive/issue_comments_562850.json:
```json
{
    "body": "<a id='comment:5'></a>\nTicket retargeted after milestone closed",
    "created_at": "2020-01-06T14:10:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28913#issuecomment-562850",
    "user": "https://github.com/embray"
}
```

<a id='comment:5'></a>
Ticket retargeted after milestone closed



---

archive/issue_events_082613.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-06T14:10:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28913",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28913#event-82613"
}
```



---

archive/issue_comments_562851.json:
```json
{
    "body": "<a id='comment:6'></a>\nIs the following\n\n```\nsage: integrate(sqrt(x + sqrt(x)), x, algorithm='giac')\n```\nan other instance of the problem described in this ticket? See https://ask.sagemath.org/question/50885/is-there-a-way-to-integrate-sqrtxsqrtx-in-sage/\n\nThe result is:\n\n```\nTraceback (most recent call last):\n...\nAttributeError: \n...\nDuring handling of the above exception, another exception occurred:\n...\nRuntimeError: An error occurred running a Giac command:\nINPUT:\nsage2\nOUTPUT:\nWarning, choosing root of [1,0,0,%%%{4,[1]%%%},%%%{4,[2]%%%}+%%%{-1,[1]%%%}] at parameters values [-97]\nWarning, need to choose a branch for the root of a polynomial with parameters. This might be wrong.\nThe choice was done assuming [x]=[9]\nWarning, need to choose a branch for the root of a polynomial with parameters. This might be wrong.\nThe choice was done assuming [x]=[54]\n  ***   bug in PARI/GP (Bus Error), please report.sym2poly exception caught Error in PARI subsystem Error: Bad Argument Value\nWarning, need to choose a branch for the root of a polynomial with parameters. This might be wrong.\nThe choice was done assuming [x]=[64]\n\n  ***   bug in PARI/GP (Segmentation Fault), please report.sym2poly exception caught Error in PARI subsystem Error: Bad Argument Value\n\n  ***   bug in PARI/GP (Segmentation Fault), please report.sym2poly exception caught Error in PARI subsystem Error: Bad Argument Value\n\n  ***   Warning: normalizing a polynomial with 0 leading term.\n  ***   Warning: normalizing a polynomial with 0 leading term.\nWarning, choosing root of [1,0,0,%%%{4,[1]%%%},%%%{4,[2]%%%}+%%%{-1,[1]%%%}] at parameters values [6.38357630698]\n  ***   Warning: normalizing a polynomial with 0 leading term.\n  ***   Warning: normalizing a polynomial with 0 leading term.\nWarning, choosing root of [1,0,0,%%%{4,[1]%%%},%%%{4,[2]%%%}+%%%{-1,[1]%%%}] at parameters values [82.1195442914]\n2*(2*((1/6*sqrt(x)+1/24)*sqrt(x)-1/16)*sqrt(x+sqrt(x))-1/16*ln(sqrt(4*sqrt(x)+1-4*sqrt(x)*cos((pi*sign(im(sqrt(x)))*sign(x+re(sqrt(x)))-pi*sign(im(sqrt(x)))-2*atan(im(sqrt(x))/(x+re(sqrt(x)))))/2)+rootof([[-4,-4,0],[1,0,0,4*x,4*x^2-x]])*cos(1/2*(atan(im(sqrt(x))/(x+re(sqrt(x))))+(1-sign(x+re(sqrt(x))))*sign(im(sqrt(x)))*pi/2)))))\n```",
    "created_at": "2020-04-21T12:20:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28913#issuecomment-562851",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:6'></a>
Is the following

```
sage: integrate(sqrt(x + sqrt(x)), x, algorithm='giac')
```
an other instance of the problem described in this ticket? See https://ask.sagemath.org/question/50885/is-there-a-way-to-integrate-sqrtxsqrtx-in-sage/

The result is:

```
Traceback (most recent call last):
...
AttributeError: 
...
During handling of the above exception, another exception occurred:
...
RuntimeError: An error occurred running a Giac command:
INPUT:
sage2
OUTPUT:
Warning, choosing root of [1,0,0,%%%{4,[1]%%%},%%%{4,[2]%%%}+%%%{-1,[1]%%%}] at parameters values [-97]
Warning, need to choose a branch for the root of a polynomial with parameters. This might be wrong.
The choice was done assuming [x]=[9]
Warning, need to choose a branch for the root of a polynomial with parameters. This might be wrong.
The choice was done assuming [x]=[54]
  ***   bug in PARI/GP (Bus Error), please report.sym2poly exception caught Error in PARI subsystem Error: Bad Argument Value
Warning, need to choose a branch for the root of a polynomial with parameters. This might be wrong.
The choice was done assuming [x]=[64]

  ***   bug in PARI/GP (Segmentation Fault), please report.sym2poly exception caught Error in PARI subsystem Error: Bad Argument Value

  ***   bug in PARI/GP (Segmentation Fault), please report.sym2poly exception caught Error in PARI subsystem Error: Bad Argument Value

  ***   Warning: normalizing a polynomial with 0 leading term.
  ***   Warning: normalizing a polynomial with 0 leading term.
Warning, choosing root of [1,0,0,%%%{4,[1]%%%},%%%{4,[2]%%%}+%%%{-1,[1]%%%}] at parameters values [6.38357630698]
  ***   Warning: normalizing a polynomial with 0 leading term.
  ***   Warning: normalizing a polynomial with 0 leading term.
Warning, choosing root of [1,0,0,%%%{4,[1]%%%},%%%{4,[2]%%%}+%%%{-1,[1]%%%}] at parameters values [82.1195442914]
2*(2*((1/6*sqrt(x)+1/24)*sqrt(x)-1/16)*sqrt(x+sqrt(x))-1/16*ln(sqrt(4*sqrt(x)+1-4*sqrt(x)*cos((pi*sign(im(sqrt(x)))*sign(x+re(sqrt(x)))-pi*sign(im(sqrt(x)))-2*atan(im(sqrt(x))/(x+re(sqrt(x)))))/2)+rootof([[-4,-4,0],[1,0,0,4*x,4*x^2-x]])*cos(1/2*(atan(im(sqrt(x))/(x+re(sqrt(x))))+(1-sign(x+re(sqrt(x))))*sign(im(sqrt(x)))*pi/2)))))
```



---

archive/issue_events_082614.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-07T02:29:39Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28913",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28913#event-82614"
}
```



---

archive/issue_events_082615.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-07T02:29:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28913",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28913#event-82615"
}
```



---

archive/issue_comments_562852.json:
```json
{
    "body": "**Branch:** [u/chapoton/28913](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/28913)",
    "created_at": "2020-05-16T11:09:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28913#issuecomment-562852",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/28913](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/28913)



---

archive/issue_comments_562853.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2020-05-16T11:09:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28913#issuecomment-562853",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_562854.json:
```json
{
    "body": "<a id='comment:8'></a>\nhere is a bandaid. A better would be to go through #28918\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/203f9eb6b8624111047656a4ffd805aa53809b73\">203f9eb</a></td><td><code>bandaid for giac pexpect unwanted timing display</code></td></tr></table>\n",
    "created_at": "2020-05-16T11:09:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28913#issuecomment-562854",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
here is a bandaid. A better would be to go through #28918

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/203f9eb6b8624111047656a4ffd805aa53809b73">203f9eb</a></td><td><code>bandaid for giac pexpect unwanted timing display</code></td></tr></table>




---

archive/issue_comments_562855.json:
```json
{
    "body": "**Commit:** [203f9eb6b8624111047656a4ffd805aa53809b73](https://github.com/sagemath/sagetrac-mirror/commit/203f9eb6b8624111047656a4ffd805aa53809b73)",
    "created_at": "2020-05-16T11:09:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28913#issuecomment-562855",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [203f9eb6b8624111047656a4ffd805aa53809b73](https://github.com/sagemath/sagetrac-mirror/commit/203f9eb6b8624111047656a4ffd805aa53809b73)



---

archive/issue_comments_562856.json:
```json
{
    "body": "**Author:** Fr\u00e9d\u00e9ric Chapoton",
    "created_at": "2020-05-16T11:09:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28913#issuecomment-562856",
    "user": "https://github.com/fchapoton"
}
```

**Author:** Frédéric Chapoton



---

archive/issue_comments_562857.json:
```json
{
    "body": "<a id='comment:9'></a>\ngreen bot, please review",
    "created_at": "2020-05-16T17:24:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28913#issuecomment-562857",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>
green bot, please review



---

archive/issue_comments_562858.json:
```json
{
    "body": "<a id='comment:10'></a>\nThe fix looks good. How wbout adding a direct doctest in `SAGE_ROOT/src/sage/symbolic/integration/integral.py` pointing to this ticket ?",
    "created_at": "2020-05-16T18:59:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28913#issuecomment-562858",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:10'></a>
The fix looks good. How wbout adding a direct doctest in `SAGE_ROOT/src/sage/symbolic/integration/integral.py` pointing to this ticket ?



---

archive/issue_comments_562859.json:
```json
{
    "body": "**Changing commit** from \"[203f9eb6b8624111047656a4ffd805aa53809b73](https://github.com/sagemath/sagetrac-mirror/commit/203f9eb6b8624111047656a4ffd805aa53809b73)\" to \"[297033a040583cc934757c4c94376d5146054265](https://github.com/sagemath/sagetrac-mirror/commit/297033a040583cc934757c4c94376d5146054265)\".",
    "created_at": "2020-05-17T05:54:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28913#issuecomment-562859",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[203f9eb6b8624111047656a4ffd805aa53809b73](https://github.com/sagemath/sagetrac-mirror/commit/203f9eb6b8624111047656a4ffd805aa53809b73)" to "[297033a040583cc934757c4c94376d5146054265](https://github.com/sagemath/sagetrac-mirror/commit/297033a040583cc934757c4c94376d5146054265)".



---

archive/issue_comments_562860.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/297033a040583cc934757c4c94376d5146054265\">297033a</a></td><td><code>trac 28913 adding yet another doctest</code></td></tr></table>\n",
    "created_at": "2020-05-17T05:54:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28913#issuecomment-562860",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/297033a040583cc934757c4c94376d5146054265">297033a</a></td><td><code>trac 28913 adding yet another doctest</code></td></tr></table>




---

archive/issue_comments_562861.json:
```json
{
    "body": "<a id='comment:12'></a>\nDoctest ajout\u00e9",
    "created_at": "2020-05-17T05:56:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28913#issuecomment-562861",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:12'></a>
Doctest ajouté



---

archive/issue_comments_562862.json:
```json
{
    "body": "<a id='comment:13'></a>\nbot is morally green, please review",
    "created_at": "2020-05-17T09:11:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28913#issuecomment-562862",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>
bot is morally green, please review



---

archive/issue_comments_562863.json:
```json
{
    "body": "**Reviewer:** Thierry Monteil",
    "created_at": "2020-05-17T10:53:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28913#issuecomment-562863",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

**Reviewer:** Thierry Monteil



---

archive/issue_comments_562864.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2020-05-17T10:53:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28913#issuecomment-562864",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_562865.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2020-05-26T21:44:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28913#issuecomment-562865",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_comments_562866.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/28913](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/28913)\" to \"[297033a040583cc934757c4c94376d5146054265](https://github.com/sagemath/sagetrac-mirror/commit/297033a040583cc934757c4c94376d5146054265)\".",
    "created_at": "2020-05-26T21:44:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28913#issuecomment-562866",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/28913](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/28913)" to "[297033a040583cc934757c4c94376d5146054265](https://github.com/sagemath/sagetrac-mirror/commit/297033a040583cc934757c4c94376d5146054265)".



---

archive/issue_events_082616.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-05-26T21:44:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28913",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28913#event-82616"
}
```



---

archive/issue_comments_562867.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [slabbe](#comment%3A6):\n> Is the following\n> \n> ```\n> sage: integrate(sqrt(x + sqrt(x)), x, algorithm='giac')\n> ```\n> an other instance of the problem described in this ticket? \n\n\nAnswer is no. I created #29966 for the other issue mentioned in comment 6.",
    "created_at": "2020-06-24T20:18:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28913#issuecomment-562867",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:16'></a>
Replying to [slabbe](#comment%3A6):
> Is the following
> 
> ```
> sage: integrate(sqrt(x + sqrt(x)), x, algorithm='giac')
> ```
> an other instance of the problem described in this ticket? 


Answer is no. I created #29966 for the other issue mentioned in comment 6.



---

archive/issue_comments_562868.json:
```json
{
    "body": "**Changing commit** from \"[297033a040583cc934757c4c94376d5146054265](https://github.com/sagemath/sagetrac-mirror/commit/297033a040583cc934757c4c94376d5146054265)\" to \"\".",
    "created_at": "2020-06-24T20:18:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28913",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28913#issuecomment-562868",
    "user": "https://github.com/seblabbe"
}
```

**Changing commit** from "[297033a040583cc934757c4c94376d5146054265](https://github.com/sagemath/sagetrac-mirror/commit/297033a040583cc934757c4c94376d5146054265)" to "".
