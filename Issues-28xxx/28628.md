# Issue 28628: Tensor Fields: set_restriction Behaviour

archive/issues_028391.json:
```json
{
    "assignees": [],
    "body": "The following code leads to an error:\n\n```\nsage: M = Manifold(2, 'M')\nsage: X.<x,y> = M.chart()\nsage: eX = X.frame()\nsage: a = M.one_form()\nsage: b = M.one_form()\nsage: a[eX,:] = x*y, x+y\nsage: b.set_restriction(a)\nsage: b.display()\n\nValueError   Traceback (most recent call last)\n...\n\nValueError: no basis could be found for computing the components in the Coordinate frame (M, (d/dx,d/dy))\n```\n\nMathematically, this should not happen.\n\nA method `copy_from` is added, and in case of the same domain, the `copy_from` method is invoked, when `set_restriction` is used.\n\nThis ticket is part of the metaticket #28519.\n\n\nCC:  @egourgoulhon\n\nKeywords: **tensor**\n\nBranch/Commit: **[`9299f89`](https://github.com/sagemath/sagetrac-mirror/commit/9299f894a11b02671472d356d51605d1e5277cf3)**\n\nReviewer: **Eric Gourgoulhon**\n\nAuthor: **Michael Jung**\n\nComponent: **geometry**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/28628_\n\n",
    "closed_at": "2019-10-28T23:51:23Z",
    "created_at": "2019-10-18T12:29:32Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20geometry",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/c%3A%20manifolds"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Tensor Fields: set_restriction Behaviour",
    "type": "issue",
    "updated_at": "2019-10-28T23:51:23Z",
    "url": "https://github.com/sagemath/sage/issues/28628",
    "user": "https://github.com/DeRhamSource"
}
```
The following code leads to an error:

```
sage: M = Manifold(2, 'M')
sage: X.<x,y> = M.chart()
sage: eX = X.frame()
sage: a = M.one_form()
sage: b = M.one_form()
sage: a[eX,:] = x*y, x+y
sage: b.set_restriction(a)
sage: b.display()

ValueError   Traceback (most recent call last)
...

ValueError: no basis could be found for computing the components in the Coordinate frame (M, (d/dx,d/dy))
```

Mathematically, this should not happen.

A method `copy_from` is added, and in case of the same domain, the `copy_from` method is invoked, when `set_restriction` is used.

This ticket is part of the metaticket #28519.


CC:  @egourgoulhon

Keywords: **tensor**

Branch/Commit: **[`9299f89`](https://github.com/sagemath/sagetrac-mirror/commit/9299f894a11b02671472d356d51605d1e5277cf3)**

Reviewer: **Eric Gourgoulhon**

Author: **Michael Jung**

Component: **geometry**

_Issue created by migration from https://trac.sagemath.org/ticket/28628_





---

archive/issue_events_390203.json:
```json
{
    "actor": "https://github.com/DeRhamSource",
    "created_at": "2019-10-18T12:29:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "milestone_number": null,
    "milestone_title": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28628#event-390203"
}
```



---

archive/issue_events_390204.json:
```json
{
    "actor": "https://github.com/DeRhamSource",
    "created_at": "2019-10-18T12:29:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28628#event-390204"
}
```



---

archive/issue_comments_446406.json:
```json
{
    "body": "Branch: **[u/gh-DeRhamSource/tensor_fields__set_restriction_behaviour](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-DeRhamSource/tensor_fields__set_restriction_behaviour)**",
    "created_at": "2019-10-18T13:55:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446406",
    "user": "https://github.com/DeRhamSource"
}
```

Branch: **[u/gh-DeRhamSource/tensor_fields__set_restriction_behaviour](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-DeRhamSource/tensor_fields__set_restriction_behaviour)**



---

archive/issue_comments_446407.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,22 @@\n+The following code leads to an error:\n \n+```\n+sage: M = Manifold(2, 'M')\n+sage: X.<x,y> = M.chart()\n+sage: eX = X.frame()\n+sage: a = M.one_form()\n+sage: b = M.one_form()\n+sage: a[eX,:] = x*y, x+y\n+sage: b.set_restriction(a)\n+sage: b.display()\n+\n+ValueError   Traceback (most recent call last)\n+...\n+\n+ValueError: no basis could be found for computing the components in the Coordinate frame (M, (d/dx,d/dy))\n+```\n+\n+Mathematically, this should not happen.\n+\n+A method `copy_from` is added, and in case of the same domain, the `copy_from` method is invoked, when `set_restriction` is used.\n+\n``````\n",
    "created_at": "2019-10-18T13:58:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446407",
    "user": "https://github.com/DeRhamSource"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,22 @@
+The following code leads to an error:
 
+```
+sage: M = Manifold(2, 'M')
+sage: X.<x,y> = M.chart()
+sage: eX = X.frame()
+sage: a = M.one_form()
+sage: b = M.one_form()
+sage: a[eX,:] = x*y, x+y
+sage: b.set_restriction(a)
+sage: b.display()
+
+ValueError   Traceback (most recent call last)
+...
+
+ValueError: no basis could be found for computing the components in the Coordinate frame (M, (d/dx,d/dy))
+```
+
+Mathematically, this should not happen.
+
+A method `copy_from` is added, and in case of the same domain, the `copy_from` method is invoked, when `set_restriction` is used.
+
``````




---

archive/issue_comments_446408.json:
```json
{
    "body": "Commit: **[`e30ec5b`](https://github.com/sagemath/sagetrac-mirror/commit/e30ec5b88f8c3144c08e731d85c4c79e58595cc4)**",
    "created_at": "2019-10-18T13:58:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446408",
    "user": "https://github.com/DeRhamSource"
}
```

Commit: **[`e30ec5b`](https://github.com/sagemath/sagetrac-mirror/commit/e30ec5b88f8c3144c08e731d85c4c79e58595cc4)**



---

archive/issue_comments_446409.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e30ec5b88f8c3144c08e731d85c4c79e58595cc4\"><code>e30ec5b</code></a></td><td><code>'set_restriction' modified and 'copy_from' method added</code></td></tr></table>\n",
    "created_at": "2019-10-18T13:58:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446409",
    "user": "https://github.com/DeRhamSource"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e30ec5b88f8c3144c08e731d85c4c79e58595cc4"><code>e30ec5b</code></a></td><td><code>'set_restriction' modified and 'copy_from' method added</code></td></tr></table>




---

archive/issue_events_390205.json:
```json
{
    "actor": "https://github.com/DeRhamSource",
    "created_at": "2019-10-18T13:58:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28628#event-390205"
}
```



---

archive/issue_events_390206.json:
```json
{
    "actor": "https://github.com/DeRhamSource",
    "created_at": "2019-10-18T13:58:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28628#event-390206"
}
```



---

archive/issue_events_390207.json:
```json
{
    "actor": "https://github.com/DeRhamSource",
    "created_at": "2019-10-18T13:58:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20manifolds",
    "label_color": "0000ff",
    "label_name": "c: manifolds",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28628#event-390207"
}
```



---

archive/issue_comments_446410.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/88c31f99d477220b17dea0795deea481b9660f49\"><code>88c31f9</code></a></td><td><code>Clear components when 'copy_from' is invoked</code></td></tr></table>\n",
    "created_at": "2019-10-18T14:01:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446410",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/88c31f99d477220b17dea0795deea481b9660f49"><code>88c31f9</code></a></td><td><code>Clear components when 'copy_from' is invoked</code></td></tr></table>




---

archive/issue_comments_446411.json:
```json
{
    "body": "Changed commit from **[`e30ec5b`](https://github.com/sagemath/sagetrac-mirror/commit/e30ec5b88f8c3144c08e731d85c4c79e58595cc4)** to **[`88c31f9`](https://github.com/sagemath/sagetrac-mirror/commit/88c31f99d477220b17dea0795deea481b9660f49)**",
    "created_at": "2019-10-18T14:01:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446411",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e30ec5b`](https://github.com/sagemath/sagetrac-mirror/commit/e30ec5b88f8c3144c08e731d85c4c79e58595cc4)** to **[`88c31f9`](https://github.com/sagemath/sagetrac-mirror/commit/88c31f99d477220b17dea0795deea481b9660f49)**



---

archive/issue_events_390208.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2019-10-18T15:30:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28628#event-390208"
}
```



---

archive/issue_events_390209.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2019-10-18T15:30:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28628#event-390209"
}
```



---

archive/issue_comments_446412.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThanks for opening the ticket and implementing the fix (the introduction of `copy_from` seems a good idea). However I don't think that you should add the optional argument `del_restrictions` in `TensorField._del_derived`. At first glance, this makes this method on the same footing than `TensorFieldParal._del_derived`, which has such an argument. However, `TensorField` and `TensorFieldParal` are not symmetrical as far as restrictions are concerned (see Sec. 3.5 of [these notes](https://doi.org/10.5802/ccirm.26)):\n- for a `TensorFieldParal`, the primary data are the components w.r.t. to vector frames on its domain, stored in the dict `_components`; the restrictions are derived quantities, which can be reconstructed at any time from  `_components`\n- for a `TensorField`, the primary data are the restrictions to subdomains; they are not derived quantities; deleting them in `_del_derived()` would erase essential piece of information on the tensor field",
    "created_at": "2019-10-18T15:30:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446412",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:4" align="right">comment:4</div>

Thanks for opening the ticket and implementing the fix (the introduction of `copy_from` seems a good idea). However I don't think that you should add the optional argument `del_restrictions` in `TensorField._del_derived`. At first glance, this makes this method on the same footing than `TensorFieldParal._del_derived`, which has such an argument. However, `TensorField` and `TensorFieldParal` are not symmetrical as far as restrictions are concerned (see Sec. 3.5 of [these notes](https://doi.org/10.5802/ccirm.26)):
- for a `TensorFieldParal`, the primary data are the components w.r.t. to vector frames on its domain, stored in the dict `_components`; the restrictions are derived quantities, which can be reconstructed at any time from  `_components`
- for a `TensorField`, the primary data are the restrictions to subdomains; they are not derived quantities; deleting them in `_del_derived()` would erase essential piece of information on the tensor field



---

archive/issue_events_390210.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2019-10-18T15:30:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "c: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28628#event-390210"
}
```



---

archive/issue_comments_446413.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nActually, I'm aware of that and definitely see your point. Though, as one can see in `add_expr_by_continuation` (and now `copy_from`), this behaviour is wanted at some point, even for `TensorField` objects. For that reason, I put `del_restrictions=False` as default, so that the previous code is not affected at all.\n\nIf you don't want to have this snippet in `_del_derived`, where it would make sense in my opinion, I'd suggest a new method `_del_restrictions` for it is used quite often. This simplifies future modifications on this matter (if needed).\n\nWhat do you say?",
    "created_at": "2019-10-18T15:45:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446413",
    "user": "https://github.com/DeRhamSource"
}
```

<div id="comment:5" align="right">comment:5</div>

Actually, I'm aware of that and definitely see your point. Though, as one can see in `add_expr_by_continuation` (and now `copy_from`), this behaviour is wanted at some point, even for `TensorField` objects. For that reason, I put `del_restrictions=False` as default, so that the previous code is not affected at all.

If you don't want to have this snippet in `_del_derived`, where it would make sense in my opinion, I'd suggest a new method `_del_restrictions` for it is used quite often. This simplifies future modifications on this matter (if needed).

What do you say?



---

archive/issue_comments_446414.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nAh! For `add_expr_by_continuation` you want exactly the behaviour you explained, of course. Sorry! However, imho the modifications above make things easier and the code more elegant and consistent.",
    "created_at": "2019-10-18T15:54:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446414",
    "user": "https://github.com/DeRhamSource"
}
```

<div id="comment:6" align="right">comment:6</div>

Ah! For `add_expr_by_continuation` you want exactly the behaviour you explained, of course. Sorry! However, imho the modifications above make things easier and the code more elegant and consistent.



---

archive/issue_comments_446415.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -20,3 +20,5 @@\n \n A method `copy_from` is added, and in case of the same domain, the `copy_from` method is invoked, when `set_restriction` is used.\n \n+This ticket is part of the metaticket #28519.\n+\n``````\n",
    "created_at": "2019-10-18T16:26:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446415",
    "user": "https://github.com/DeRhamSource"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -20,3 +20,5 @@
 
 A method `copy_from` is added, and in case of the same domain, the `copy_from` method is invoked, when `set_restriction` is used.
 
+This ticket is part of the metaticket #28519.
+
``````




---

archive/issue_comments_446416.json:
```json
{
    "body": "Changed commit from **[`88c31f9`](https://github.com/sagemath/sagetrac-mirror/commit/88c31f99d477220b17dea0795deea481b9660f49)** to **[`672d268`](https://github.com/sagemath/sagetrac-mirror/commit/672d2683ddbde940b528bdeb578d7d3c09892a1f)**",
    "created_at": "2019-10-18T17:12:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446416",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`88c31f9`](https://github.com/sagemath/sagetrac-mirror/commit/88c31f99d477220b17dea0795deea481b9660f49)** to **[`672d268`](https://github.com/sagemath/sagetrac-mirror/commit/672d2683ddbde940b528bdeb578d7d3c09892a1f)**



---

archive/issue_comments_446417.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/672d2683ddbde940b528bdeb578d7d3c09892a1f\"><code>672d268</code></a></td><td><code>Reorganization of restriction deletion</code></td></tr></table>\n",
    "created_at": "2019-10-18T17:12:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446417",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/672d2683ddbde940b528bdeb578d7d3c09892a1f"><code>672d268</code></a></td><td><code>Reorganization of restriction deletion</code></td></tr></table>




---

archive/issue_comments_446418.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nIs this better?",
    "created_at": "2019-10-18T17:13:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446418",
    "user": "https://github.com/DeRhamSource"
}
```

<div id="comment:9" align="right">comment:9</div>

Is this better?



---

archive/issue_events_390211.json:
```json
{
    "actor": "https://github.com/DeRhamSource",
    "created_at": "2019-10-18T17:13:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28628#event-390211"
}
```



---

archive/issue_events_390212.json:
```json
{
    "actor": "https://github.com/DeRhamSource",
    "created_at": "2019-10-18T17:13:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28628#event-390212"
}
```



---

archive/issue_comments_446419.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@DeRhamSource](#comment:9):\n> Is this better?\n\nMuch better! ;-)\n\nA question though: what's the point of \n\n```\n    TensorField.copy_from(self, other)\n``` \nin `TensorFieldParal.copy_from()` ?\nActually, the action of `TensorField.copy_from` amounts to copying the restrictions, but the restrictions are deleted by the subsequent call:\n\n```\n    FreeModuleTensor.copy_from(self, other)\n```\ndue to \n\n```        \n    self._del_derived()\n```\nin `FreeModuleTensor.copy_from()`. \n\nIn view of this, I would simply delete `TensorFieldParal.copy_from()`, so that `copy_from()` in `TensorFieldParal` is inherited from `FreeModuleTensor`.",
    "created_at": "2019-10-18T19:56:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446419",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@DeRhamSource](#comment:9):
> Is this better?

Much better! ;-)

A question though: what's the point of 

```
    TensorField.copy_from(self, other)
``` 
in `TensorFieldParal.copy_from()` ?
Actually, the action of `TensorField.copy_from` amounts to copying the restrictions, but the restrictions are deleted by the subsequent call:

```
    FreeModuleTensor.copy_from(self, other)
```
due to 

```        
    self._del_derived()
```
in `FreeModuleTensor.copy_from()`. 

In view of this, I would simply delete `TensorFieldParal.copy_from()`, so that `copy_from()` in `TensorFieldParal` is inherited from `FreeModuleTensor`.



---

archive/issue_comments_446420.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@egourgoulhon](#comment:10):\n> \n> Much better! ;-)\n> \n> A question though: what's the point of \n> \n> ```\n>     TensorField.copy_from(self, other)\n> ``` \n> in `TensorFieldParal.copy_from()` ?\n> Actually, the action of `TensorField.copy_from` amounts to copying the restrictions, but the restrictions are deleted by the subsequent call:\n> \n> ```\n>     FreeModuleTensor.copy_from(self, other)\n> ```\n> due to \n> \n> ```        \n>     self._del_derived()\n> ```\n> in `FreeModuleTensor.copy_from()`. \n\nAh! Yes! The order should be switched then, right?\n\nA copy of the restrictions even for `TensorFieldParal` would be convenient, wouldn't it?",
    "created_at": "2019-10-18T22:15:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446420",
    "user": "https://github.com/DeRhamSource"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@egourgoulhon](#comment:10):
> 
> Much better! ;-)
> 
> A question though: what's the point of 
> 
> ```
>     TensorField.copy_from(self, other)
> ``` 
> in `TensorFieldParal.copy_from()` ?
> Actually, the action of `TensorField.copy_from` amounts to copying the restrictions, but the restrictions are deleted by the subsequent call:
> 
> ```
>     FreeModuleTensor.copy_from(self, other)
> ```
> due to 
> 
> ```        
>     self._del_derived()
> ```
> in `FreeModuleTensor.copy_from()`. 

Ah! Yes! The order should be switched then, right?

A copy of the restrictions even for `TensorFieldParal` would be convenient, wouldn't it?



---

archive/issue_comments_446421.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@DeRhamSource](#comment:11):\n> \n> Ah! Yes! The order should be switched then, right?\n> \n\nYes if you would like to maintain `TensorFieldParal.copy_from()` with the copies of the restrictions.\n> A copy of the restrictions even for `TensorFieldParal` would be convenient, wouldn't it?\n\nI am not so sure: for `TensorFieldParal`, restrictions are derived quantities, which can be easily reconstructed at any time if necessary. Not copying them makes `copy_from()` faster. If we have `a.copy_from(b)` with restrictions of `b` having been constructed for whatever reasons, it could be that in the future use of `a`, no restriction will be invoked. So I would vote for removing `copy_from()` from `TensorFieldParal` class, keeping it only in `FreeModuleTensor`. This makes the code shorter and clearer: `copy_from()` does not copy the derived quantities, whatever their nature.",
    "created_at": "2019-10-19T20:35:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446421",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@DeRhamSource](#comment:11):
> 
> Ah! Yes! The order should be switched then, right?
> 

Yes if you would like to maintain `TensorFieldParal.copy_from()` with the copies of the restrictions.
> A copy of the restrictions even for `TensorFieldParal` would be convenient, wouldn't it?

I am not so sure: for `TensorFieldParal`, restrictions are derived quantities, which can be easily reconstructed at any time if necessary. Not copying them makes `copy_from()` faster. If we have `a.copy_from(b)` with restrictions of `b` having been constructed for whatever reasons, it could be that in the future use of `a`, no restriction will be invoked. So I would vote for removing `copy_from()` from `TensorFieldParal` class, keeping it only in `FreeModuleTensor`. This makes the code shorter and clearer: `copy_from()` does not copy the derived quantities, whatever their nature.



---

archive/issue_comments_446422.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nOkay, that sounds reasonable. I will work on this tomorrow.\n\nBy the way, characteristic classes are almost finished. They come with a *very* rudimentary version of bundle connections. But I have already plans for full bundle connection support. Though, this has to wait since my master thesis deadline runs out soon.\n\nBest wishes,\nMichael",
    "created_at": "2019-10-20T23:32:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446422",
    "user": "https://github.com/DeRhamSource"
}
```

<div id="comment:13" align="right">comment:13</div>

Okay, that sounds reasonable. I will work on this tomorrow.

By the way, characteristic classes are almost finished. They come with a *very* rudimentary version of bundle connections. But I have already plans for full bundle connection support. Though, this has to wait since my master thesis deadline runs out soon.

Best wishes,
Michael



---

archive/issue_comments_446423.json:
```json
{
    "body": "Changed commit from **[`672d268`](https://github.com/sagemath/sagetrac-mirror/commit/672d2683ddbde940b528bdeb578d7d3c09892a1f)** to **[`c790d13`](https://github.com/sagemath/sagetrac-mirror/commit/c790d130e6d99868425ae59198fbe8be1c09769c)**",
    "created_at": "2019-10-21T08:42:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446423",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`672d268`](https://github.com/sagemath/sagetrac-mirror/commit/672d2683ddbde940b528bdeb578d7d3c09892a1f)** to **[`c790d13`](https://github.com/sagemath/sagetrac-mirror/commit/c790d130e6d99868425ae59198fbe8be1c09769c)**



---

archive/issue_comments_446424.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c790d130e6d99868425ae59198fbe8be1c09769c\"><code>c790d13</code></a></td><td><code>'copy_from' removed</code></td></tr></table>\n",
    "created_at": "2019-10-21T08:42:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446424",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c790d130e6d99868425ae59198fbe8be1c09769c"><code>c790d13</code></a></td><td><code>'copy_from' removed</code></td></tr></table>




---

archive/issue_comments_446425.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nDone.",
    "created_at": "2019-10-21T08:44:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446425",
    "user": "https://github.com/DeRhamSource"
}
```

<div id="comment:15" align="right">comment:15</div>

Done.



---

archive/issue_comments_446426.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@DeRhamSource](#comment:15):\n> Done.\n\nThanks.",
    "created_at": "2019-10-21T10:17:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446426",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@DeRhamSource](#comment:15):
> Done.

Thanks.



---

archive/issue_comments_446427.json:
```json
{
    "body": "Reviewer: **Eric Gourgoulhon**",
    "created_at": "2019-10-21T10:18:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446427",
    "user": "https://github.com/egourgoulhon"
}
```

Reviewer: **Eric Gourgoulhon**



---

archive/issue_comments_446428.json:
```json
{
    "body": "Changed keywords from none to **tensor**",
    "created_at": "2019-10-21T10:18:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446428",
    "user": "https://github.com/egourgoulhon"
}
```

Changed keywords from none to **tensor**



---

archive/issue_events_390213.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2019-10-21T10:18:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28628#event-390213"
}
```



---

archive/issue_events_390214.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2019-10-21T10:18:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28628#event-390214"
}
```



---

archive/issue_comments_446429.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nauthor name missing",
    "created_at": "2019-10-21T19:00:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446429",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:18" align="right">comment:18</div>

author name missing



---

archive/issue_events_390215.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-10-21T22:45:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28628#event-390215"
}
```



---

archive/issue_events_390216.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-10-21T22:45:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28628#event-390216"
}
```



---

archive/issue_comments_446430.json:
```json
{
    "body": "Author: **Michael Jung**",
    "created_at": "2019-10-22T05:56:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446430",
    "user": "https://github.com/DeRhamSource"
}
```

Author: **Michael Jung**



---

archive/issue_events_390217.json:
```json
{
    "actor": "https://github.com/DeRhamSource",
    "created_at": "2019-10-22T05:56:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28628#event-390217"
}
```



---

archive/issue_events_390218.json:
```json
{
    "actor": "https://github.com/DeRhamSource",
    "created_at": "2019-10-22T05:56:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28628#event-390218"
}
```



---

archive/issue_comments_446431.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nMerge conflict",
    "created_at": "2019-10-23T22:59:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446431",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:21" align="right">comment:21</div>

Merge conflict



---

archive/issue_events_390219.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-10-23T22:59:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28628#event-390219"
}
```



---

archive/issue_events_390220.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-10-23T22:59:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28628#event-390220"
}
```



---

archive/issue_comments_446432.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@vbraun](#comment:21):\n> Merge conflict\n\nI guess this is a conflict with one of the recently merged manifold tickets, #28600 or #28159 (more probably the latter). The easiest way to solve it would be to wait for the 9.0.beta3 release...",
    "created_at": "2019-10-24T06:25:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446432",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@vbraun](#comment:21):
> Merge conflict

I guess this is a conflict with one of the recently merged manifold tickets, #28600 or #28159 (more probably the latter). The easiest way to solve it would be to wait for the 9.0.beta3 release...



---

archive/issue_comments_446433.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nNo, the affected files are untouched in #28600 and #28159. I rather think it's connected to #28562?\n\nWhich code lines cause a merge conflict anyway?",
    "created_at": "2019-10-24T09:50:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446433",
    "user": "https://github.com/DeRhamSource"
}
```

<div id="comment:23" align="right">comment:23</div>

No, the affected files are untouched in #28600 and #28159. I rather think it's connected to #28562?

Which code lines cause a merge conflict anyway?



---

archive/issue_comments_446434.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@DeRhamSource](#comment:23):\n> No, the affected files are untouched in #28600 and #28159. I rather think it's connected to #28562?\n\nI don't think so, since #28562 is not merged yet. Note that #28159 is touching `tensorfield.py`, as the current ticket.                                    \n\n> \n> Which code lines cause a merge conflict anyway?\n\nIt will be easy to see them when the develop branch is released (as 9.0.beta3).",
    "created_at": "2019-10-24T10:02:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446434",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@DeRhamSource](#comment:23):
> No, the affected files are untouched in #28600 and #28159. I rather think it's connected to #28562?

I don't think so, since #28562 is not merged yet. Note that #28159 is touching `tensorfield.py`, as the current ticket.                                    

> 
> Which code lines cause a merge conflict anyway?

It will be easy to see them when the develop branch is released (as 9.0.beta3).



---

archive/issue_comments_446435.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nWell, okay. But this is just one line with a typo in a very different line. However, I think you're right.",
    "created_at": "2019-10-24T10:10:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446435",
    "user": "https://github.com/DeRhamSource"
}
```

<div id="comment:25" align="right">comment:25</div>

Well, okay. But this is just one line with a typo in a very different line. However, I think you're right.



---

archive/issue_comments_446436.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4c1de40377772f4e390b373013096c117e2f0007\"><code>4c1de40</code></a></td><td><code>Merge branch 'develop' into t/28628/tensor_fields__set_restriction_behaviour</code></td></tr></table>\n",
    "created_at": "2019-10-27T13:34:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446436",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4c1de40377772f4e390b373013096c117e2f0007"><code>4c1de40</code></a></td><td><code>Merge branch 'develop' into t/28628/tensor_fields__set_restriction_behaviour</code></td></tr></table>




---

archive/issue_comments_446437.json:
```json
{
    "body": "Changed commit from **[`c790d13`](https://github.com/sagemath/sagetrac-mirror/commit/c790d130e6d99868425ae59198fbe8be1c09769c)** to **[`4c1de40`](https://github.com/sagemath/sagetrac-mirror/commit/4c1de40377772f4e390b373013096c117e2f0007)**",
    "created_at": "2019-10-27T13:34:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446437",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c790d13`](https://github.com/sagemath/sagetrac-mirror/commit/c790d130e6d99868425ae59198fbe8be1c09769c)** to **[`4c1de40`](https://github.com/sagemath/sagetrac-mirror/commit/4c1de40377772f4e390b373013096c117e2f0007)**



---

archive/issue_events_390221.json:
```json
{
    "actor": "https://github.com/DeRhamSource",
    "created_at": "2019-10-27T13:34:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28628#event-390221"
}
```



---

archive/issue_events_390222.json:
```json
{
    "actor": "https://github.com/DeRhamSource",
    "created_at": "2019-10-27T13:34:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28628#event-390222"
}
```



---

archive/issue_events_390223.json:
```json
{
    "actor": "https://github.com/DeRhamSource",
    "created_at": "2019-10-27T13:35:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28628#event-390223"
}
```



---

archive/issue_events_390224.json:
```json
{
    "actor": "https://github.com/DeRhamSource",
    "created_at": "2019-10-27T13:35:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28628#event-390224"
}
```



---

archive/issue_comments_446438.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nMerge still fails. Is it possible to see the conflict files/lines?",
    "created_at": "2019-10-27T13:37:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446438",
    "user": "https://github.com/DeRhamSource"
}
```

<div id="comment:29" align="right">comment:29</div>

Merge still fails. Is it possible to see the conflict files/lines?



---

archive/issue_comments_446439.json:
```json
{
    "body": "Changed commit from **[`4c1de40`](https://github.com/sagemath/sagetrac-mirror/commit/4c1de40377772f4e390b373013096c117e2f0007)** to **[`9299f89`](https://github.com/sagemath/sagetrac-mirror/commit/9299f894a11b02671472d356d51605d1e5277cf3)**",
    "created_at": "2019-10-27T13:40:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446439",
    "user": "https://github.com/egourgoulhon"
}
```

Changed commit from **[`4c1de40`](https://github.com/sagemath/sagetrac-mirror/commit/4c1de40377772f4e390b373013096c117e2f0007)** to **[`9299f89`](https://github.com/sagemath/sagetrac-mirror/commit/9299f894a11b02671472d356d51605d1e5277cf3)**



---

archive/issue_comments_446440.json:
```json
{
    "body": "Changed branch from **[u/gh-DeRhamSource/tensor_fields__set_restriction_behaviour](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-DeRhamSource/tensor_fields__set_restriction_behaviour)** to **[public/manifolds/set_restriction-28628](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/set_restriction-28628)**",
    "created_at": "2019-10-27T13:40:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446440",
    "user": "https://github.com/egourgoulhon"
}
```

Changed branch from **[u/gh-DeRhamSource/tensor_fields__set_restriction_behaviour](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-DeRhamSource/tensor_fields__set_restriction_behaviour)** to **[public/manifolds/set_restriction-28628](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/set_restriction-28628)**



---

archive/issue_comments_446441.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nThe merge conflict with Sage 9.0.beta3 is solved in the above branch. I have also added the copy of the attribute `_is_zero` in `copy_from()`, as well as some autorship lines. Do you agree?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c3666e87c701ca98df1bfb071e331669dfa1dd68\"><code>c3666e8</code></a></td><td><code>Resolve merge conflict of #28628 in Sage 9.0.beta3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9299f894a11b02671472d356d51605d1e5277cf3\"><code>9299f89</code></a></td><td><code>Copy _is_zero in copy_from</code></td></tr></table>\n",
    "created_at": "2019-10-27T13:40:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446441",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:30" align="right">comment:30</div>

The merge conflict with Sage 9.0.beta3 is solved in the above branch. I have also added the copy of the attribute `_is_zero` in `copy_from()`, as well as some autorship lines. Do you agree?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c3666e87c701ca98df1bfb071e331669dfa1dd68"><code>c3666e8</code></a></td><td><code>Resolve merge conflict of #28628 in Sage 9.0.beta3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9299f894a11b02671472d356d51605d1e5277cf3"><code>9299f89</code></a></td><td><code>Copy _is_zero in copy_from</code></td></tr></table>




---

archive/issue_events_390225.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2019-10-27T13:41:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28628#event-390225"
}
```



---

archive/issue_events_390226.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2019-10-27T13:41:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28628#event-390226"
}
```



---

archive/issue_comments_446442.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nYes! Thank you very much! :)",
    "created_at": "2019-10-27T13:43:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446442",
    "user": "https://github.com/DeRhamSource"
}
```

<div id="comment:32" align="right">comment:32</div>

Yes! Thank you very much! :)



---

archive/issue_comments_446443.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@DeRhamSource](#comment:29):\n> Merge still fails. Is it possible to see the conflict files/lines?\n\nSorry I haven't seen your message before pushing the new branch; it seems we were working on solving the conflict at the same time ;-). \n\nThe general method I am using to see the conflicting files/lines is the following one:\n- start from a clean develop branch (i.e. 9.0.beta3 in the present case)\n- do \n\n  ```\n  git checkout -b set_restriction-28628\n  git pull trac u/gh-DeRhamSource/tensor_fields__set_restriction_behaviour\n  ```\nThis generates an error message, stating that there is a conflict in `tensorfield.py`.\nEdit the latter to fix the conflict and do `git add tensorfield.py`, then `git commit`, etc.",
    "created_at": "2019-10-27T13:57:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446443",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@DeRhamSource](#comment:29):
> Merge still fails. Is it possible to see the conflict files/lines?

Sorry I haven't seen your message before pushing the new branch; it seems we were working on solving the conflict at the same time ;-). 

The general method I am using to see the conflicting files/lines is the following one:
- start from a clean develop branch (i.e. 9.0.beta3 in the present case)
- do 

  ```
  git checkout -b set_restriction-28628
  git pull trac u/gh-DeRhamSource/tensor_fields__set_restriction_behaviour
  ```
This generates an error message, stating that there is a conflict in `tensorfield.py`.
Edit the latter to fix the conflict and do `git add tensorfield.py`, then `git commit`, etc.



---

archive/issue_comments_446444.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nThat's a good hint for the future. I just thought, you were fast! :D\n\nHowever, you solved the merge conflict and I'd say, we take your branch, now.",
    "created_at": "2019-10-27T14:00:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446444",
    "user": "https://github.com/DeRhamSource"
}
```

<div id="comment:34" align="right">comment:34</div>

That's a good hint for the future. I just thought, you were fast! :D

However, you solved the merge conflict and I'd say, we take your branch, now.



---

archive/issue_comments_446445.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@DeRhamSource](#comment:34):\n> That's a good hint for the future. \n\nIt seems there is a merge conflict between 9.0.beta3 and #28564; so if you want to practice...",
    "created_at": "2019-10-27T14:07:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446445",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@DeRhamSource](#comment:34):
> That's a good hint for the future. 

It seems there is a merge conflict between 9.0.beta3 and #28564; so if you want to practice...



---

archive/issue_comments_446446.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nThe last patchbot is full green.",
    "created_at": "2019-10-27T18:54:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446446",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:36" align="right">comment:36</div>

The last patchbot is full green.



---

archive/issue_events_390227.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2019-10-27T18:54:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28628#event-390227"
}
```



---

archive/issue_events_390228.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2019-10-27T18:54:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28628#event-390228"
}
```



---

archive/issue_events_390229.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-10-28T23:51:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28628#event-390229"
}
```



---

archive/issue_events_390230.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "3ac27639accc52bdfde4b752be16594ee92c6650",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-10-28T23:51:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28628#event-390230"
}
```



---

archive/issue_comments_446447.json:
```json
{
    "body": "Changed branch from **[public/manifolds/set_restriction-28628](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/set_restriction-28628)** to **[`9299f89`](https://github.com/sagemath/sagetrac-mirror/commit/9299f894a11b02671472d356d51605d1e5277cf3)**",
    "created_at": "2019-10-28T23:51:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28628",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28628#issuecomment-446447",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/manifolds/set_restriction-28628](https://github.com/sagemath/sagetrac-mirror/tree/public/manifolds/set_restriction-28628)** to **[`9299f89`](https://github.com/sagemath/sagetrac-mirror/commit/9299f894a11b02671472d356d51605d1e5277cf3)**
