# Issue 28905: spkg-configure for cddlib

archive/issues_028668.json:
```json
{
    "body": "Provide `spkg-configure.m4` to use libcdd/cdd from the system. \n\nThis ticket is limited to systems that install headers into `/usr/include` rather than `/usr/include/cdd` (Debian) or `/usr/include/cddlib` (Fedora).\n\nFollow-up: #29413 (Upgrade cddlib, fix cddlib header search for packages latte_int, gfan, topcom)\n\n\n**CC:**  @saraedum @orlitzky\n\n**Branch/Commit:** [de9fb2ee41fb6a083addd6a74b6b2da7504dd9b0](https://github.com/sagemath/sagetrac-mirror/commit/de9fb2ee41fb6a083addd6a74b6b2da7504dd9b0)\n\n**Reviewer:** Matthias Koeppe\n\n**Author:** Dima Pasechnik, Michael Orlitzky\n\nIssue created by migration from https://trac.sagemath.org/ticket/28905\n\n",
    "closed_at": "2020-04-05T08:30:50Z",
    "created_at": "2019-12-21T02:44:23Z",
    "labels": [
        "component: build: configure",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.1",
    "title": "spkg-configure for cddlib",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/28905",
    "user": "https://github.com/dimpase"
}
```
Provide `spkg-configure.m4` to use libcdd/cdd from the system. 

This ticket is limited to systems that install headers into `/usr/include` rather than `/usr/include/cdd` (Debian) or `/usr/include/cddlib` (Fedora).

Follow-up: #29413 (Upgrade cddlib, fix cddlib header search for packages latte_int, gfan, topcom)


**CC:**  @saraedum @orlitzky

**Branch/Commit:** [de9fb2ee41fb6a083addd6a74b6b2da7504dd9b0](https://github.com/sagemath/sagetrac-mirror/commit/de9fb2ee41fb6a083addd6a74b6b2da7504dd9b0)

**Reviewer:** Matthias Koeppe

**Author:** Dima Pasechnik, Michael Orlitzky

Issue created by migration from https://trac.sagemath.org/ticket/28905





---

archive/issue_events_256614.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-12-21T02:46:01Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "rename": {
        "from": "spkg-configure for libcdd",
        "to": "spkg-configure for cddlib"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28905#event-256614"
}
```



---

archive/issue_comments_454037.json:
```json
{
    "body": "<a id='comment:2'></a>\nSee also https://github.com/cddlib/cddlib/issues/26 \"Consider installing headers in `${prefix}/include/cdd/` instead of `${prefix}/include`\"",
    "created_at": "2019-12-25T15:32:41Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454037",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
See also https://github.com/cddlib/cddlib/issues/26 "Consider installing headers in `${prefix}/include/cdd/` instead of `${prefix}/include`"



---

archive/issue_comments_454038.json:
```json
{
    "body": "<a id='comment:4'></a>\nSorry, I fail to understand the description of this ticket. What are you trying to achieve here exactly? Would be nice if you could elaborate a bit.",
    "created_at": "2019-12-26T13:05:29Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454038",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:4'></a>
Sorry, I fail to understand the description of this ticket. What are you trying to achieve here exactly? Would be nice if you could elaborate a bit.



---

archive/issue_comments_454039.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,6 @@\n+provide `spkg-configure.m4` to use libcdd/cdd from the system. \n+There should not be a problem with headers, after all we can install links to `$SAGE_LOCAL/include/`.\n+\n Debian has libcdd-dev (library) and libcdd-tools (executables) packages.\n \n The obstacles: installs headers in `usr/include/cdd` (and not in `/usr/include`,\n``````\n",
    "created_at": "2019-12-26T13:50:03Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454039",
    "user": "https://github.com/dimpase"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,6 @@
+provide `spkg-configure.m4` to use libcdd/cdd from the system. 
+There should not be a problem with headers, after all we can install links to `$SAGE_LOCAL/include/`.
+
 Debian has libcdd-dev (library) and libcdd-tools (executables) packages.
 
 The obstacles: installs headers in `usr/include/cdd` (and not in `/usr/include`,
``````




---

archive/issue_comments_454040.json:
```json
{
    "body": "<a id='comment:5'></a>\nThe goal is to use libcdd/cdd from the system (as in all tickets from #27330).\nThere should not be a problem with headers, after all we can install links to `$SAGE_LOCAL/include/`. I don't know which cdd executables are used in Sagemath.\nAgain,for these we can install links in `SAGE_LOCAL/bin/`.",
    "created_at": "2019-12-26T13:50:03Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454040",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:5'></a>
The goal is to use libcdd/cdd from the system (as in all tickets from #27330).
There should not be a problem with headers, after all we can install links to `$SAGE_LOCAL/include/`. I don't know which cdd executables are used in Sagemath.
Again,for these we can install links in `SAGE_LOCAL/bin/`.



---

archive/issue_events_256615.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-12-26T13:50:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "milestone": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28905#event-256615"
}
```



---

archive/issue_events_256616.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-12-26T13:50:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28905#event-256616"
}
```



---

archive/issue_comments_454041.json:
```json
{
    "body": "<a id='comment:6'></a>\nAm I right that the only parts of cdd(lib) currently used in Sage are executables `cddexec*` ? If so, it would be trivial to provide `spkg-configure.m4`.",
    "created_at": "2019-12-27T12:55:31Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454041",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:6'></a>
Am I right that the only parts of cdd(lib) currently used in Sage are executables `cddexec*` ? If so, it would be trivial to provide `spkg-configure.m4`.



---

archive/issue_comments_454042.json:
```json
{
    "body": "**Commit:** [5b8ca8f75540804a6b9ce53f539bb0b86e3173a6](https://github.com/sagemath/sagetrac-mirror/commit/5b8ca8f75540804a6b9ce53f539bb0b86e3173a6)",
    "created_at": "2019-12-27T13:21:25Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454042",
    "user": "https://github.com/dimpase"
}
```

**Commit:** [5b8ca8f75540804a6b9ce53f539bb0b86e3173a6](https://github.com/sagemath/sagetrac-mirror/commit/5b8ca8f75540804a6b9ce53f539bb0b86e3173a6)



---

archive/issue_comments_454043.json:
```json
{
    "body": "**Branch:** [u/dimpase/packages/cddlibconfig](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/cddlibconfig)",
    "created_at": "2019-12-27T13:21:25Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454043",
    "user": "https://github.com/dimpase"
}
```

**Branch:** [u/dimpase/packages/cddlibconfig](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/cddlibconfig)



---

archive/issue_comments_454044.json:
```json
{
    "body": "**Author:** Dima Pasechnik",
    "created_at": "2019-12-27T13:21:25Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454044",
    "user": "https://github.com/dimpase"
}
```

**Author:** Dima Pasechnik



---

archive/issue_comments_454045.json:
```json
{
    "body": "<a id='comment:7'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b8ca8f75540804a6b9ce53f539bb0b86e3173a6\">5b8ca8f</a></td><td><code>spkg-configure for cddlib</code></td></tr></table>\n",
    "created_at": "2019-12-27T13:21:25Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454045",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b8ca8f75540804a6b9ce53f539bb0b86e3173a6">5b8ca8f</a></td><td><code>spkg-configure for cddlib</code></td></tr></table>




---

archive/issue_comments_454046.json:
```json
{
    "body": "<a id='comment:8'></a>\ncddlib is used as a library in gfan and latte. So one needs a check for headers and libraries.",
    "created_at": "2019-12-28T06:21:34Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454046",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:8'></a>
cddlib is used as a library in gfan and latte. So one needs a check for headers and libraries.



---

archive/issue_comments_454047.json:
```json
{
    "body": "<a id='comment:9'></a>\nI did some work on this but the version of cddlib in Gentoo is too old to detect, so now I have to go fix that first.",
    "created_at": "2020-01-12T05:18:11Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454047",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:9'></a>
I did some work on this but the version of cddlib in Gentoo is too old to detect, so now I have to go fix that first.



---

archive/issue_comments_454048.json:
```json
{
    "body": "**Changing branch** from \"[u/dimpase/packages/cddlibconfig](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/cddlibconfig)\" to \"[u/mjo/ticket/28905](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/28905)\".",
    "created_at": "2020-01-12T05:18:11Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454048",
    "user": "https://github.com/orlitzky"
}
```

**Changing branch** from "[u/dimpase/packages/cddlibconfig](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/cddlibconfig)" to "[u/mjo/ticket/28905](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/28905)".



---

archive/issue_comments_454049.json:
```json
{
    "body": "**Changing commit** from \"[5b8ca8f75540804a6b9ce53f539bb0b86e3173a6](https://github.com/sagemath/sagetrac-mirror/commit/5b8ca8f75540804a6b9ce53f539bb0b86e3173a6)\" to \"[61117fd8a9fb77f3bd494ca4281dad2b24ab3cd3](https://github.com/sagemath/sagetrac-mirror/commit/61117fd8a9fb77f3bd494ca4281dad2b24ab3cd3)\".",
    "created_at": "2020-01-12T05:18:11Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454049",
    "user": "https://github.com/orlitzky"
}
```

**Changing commit** from "[5b8ca8f75540804a6b9ce53f539bb0b86e3173a6](https://github.com/sagemath/sagetrac-mirror/commit/5b8ca8f75540804a6b9ce53f539bb0b86e3173a6)" to "[61117fd8a9fb77f3bd494ca4281dad2b24ab3cd3](https://github.com/sagemath/sagetrac-mirror/commit/61117fd8a9fb77f3bd494ca4281dad2b24ab3cd3)".



---

archive/issue_comments_454050.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [mjo](#comment%3A9):\n> I did some work on this but the version of cddlib in Gentoo is too old to detect, so now I have to go fix that first.\n\nYes the version from the main tree is too old. I have a newer suitable version in the sage-on-gentoo overlay.",
    "created_at": "2020-01-12T09:16:41Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454050",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:10'></a>
Replying to [mjo](#comment%3A9):
> I did some work on this but the version of cddlib in Gentoo is too old to detect, so now I have to go fix that first.

Yes the version from the main tree is too old. I have a newer suitable version in the sage-on-gentoo overlay.



---

archive/issue_comments_454051.json:
```json
{
    "body": "<a id='comment:11'></a>\nIs there a branch to test?",
    "created_at": "2020-01-18T02:48:57Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454051",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'></a>
Is there a branch to test?



---

archive/issue_comments_454052.json:
```json
{
    "body": "<a id='comment:12'></a>\nYeah, the one up there works for me. We did get cddlib upgraded in Gentoo and my branch detects it.",
    "created_at": "2020-01-18T02:51:45Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454052",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:12'></a>
Yeah, the one up there works for me. We did get cddlib upgraded in Gentoo and my branch detects it.



---

archive/issue_events_256617.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2020-01-18T02:51:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28905#event-256617"
}
```



---

archive/issue_comments_454053.json:
```json
{
    "body": "<a id='comment:13'></a>\nAre there Dockerfiles or Docker images available that allow testing of the Gentoo Sage distribution?\nOff-topic for this ticket - but I would like to add a continuous integration test for https://github.com/mkoeppe/sage-numerical-backends-coin",
    "created_at": "2020-01-18T02:55:15Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454053",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>
Are there Dockerfiles or Docker images available that allow testing of the Gentoo Sage distribution?
Off-topic for this ticket - but I would like to add a continuous integration test for https://github.com/mkoeppe/sage-numerical-backends-coin



---

archive/issue_comments_454054.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [mkoeppe](#comment%3A13):\n> Are there Dockerfiles or Docker images available that allow testing of the Gentoo Sage distribution?\n> Off-topic for this ticket - but I would like to add a continuous integration test for https://github.com/mkoeppe/sage-numerical-backends-coin\n\ncoinor is too old in Gentoo. I tried to do an upgrade privately sometime last year. Unfortunately I lost the ebuilds in a mishap (and they weren't on vcs yet when it happened). I couldn't get it to work with sage which was annoying.",
    "created_at": "2020-01-18T02:59:28Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454054",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:14'></a>
Replying to [mkoeppe](#comment%3A13):
> Are there Dockerfiles or Docker images available that allow testing of the Gentoo Sage distribution?
> Off-topic for this ticket - but I would like to add a continuous integration test for https://github.com/mkoeppe/sage-numerical-backends-coin

coinor is too old in Gentoo. I tried to do an upgrade privately sometime last year. Unfortunately I lost the ebuilds in a mishap (and they weren't on vcs yet when it happened). I couldn't get it to work with sage which was annoying.



---

archive/issue_comments_454055.json:
```json
{
    "body": "<a id='comment:15'></a>\nI primarily want to test with Gentoo's sage, not Gentoo's coinor. I can bring my own coinor from coinbrew.",
    "created_at": "2020-01-18T03:01:05Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454055",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>
I primarily want to test with Gentoo's sage, not Gentoo's coinor. I can bring my own coinor from coinbrew.



---

archive/issue_comments_454056.json:
```json
{
    "body": "<a id='comment:16'></a>\nFYI - https://github.com/mkoeppe/sage-numerical-backends-coin/blob/master/tox.ini",
    "created_at": "2020-01-18T03:02:03Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454056",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>
FYI - https://github.com/mkoeppe/sage-numerical-backends-coin/blob/master/tox.ini



---

archive/issue_comments_454057.json:
```json
{
    "body": "<a id='comment:17'></a>\nWell I don't produce any docker images and I don't know if someone else did. Would be neat.",
    "created_at": "2020-01-18T03:04:35Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454057",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:17'></a>
Well I don't produce any docker images and I don't know if someone else did. Would be neat.



---

archive/issue_comments_454058.json:
```json
{
    "body": "<a id='comment:18'></a>\nThe closest thing to a Docker image we have are the KVM images that the openstack project maintains:\n\n  http://gentoo.osuosl.org/experimental/amd64/openstack/\n\nIn theory you can boot one of those up, configure the sage-on-gentoo overlay,\n\n  https://github.com/cschwan/sage-on-gentoo\n\nand then `emerge sage`. But each of those steps is tricky if you've never done it.\n\nI'm slowly working on moving things from the overlay to the main gentoo repository, so that one day you can \"emerge sage\" without the overlay. (Basically, I'm just taking Francois's work and committing it to the main repository.)\n\nThis goes hand-in-hand with the spkg-configure work because in the past, while sage-on-gentoo provides the most stable and usable sage, it doesn't help me rebuild sage.git for testing tickets. But now whenever a package gets an spkg-configure.m4, adding that package to gentoo both (1) speeds up the sage.git build, and (2) brings the overlay one step closer to the main repository.",
    "created_at": "2020-01-18T03:25:21Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454058",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:18'></a>
The closest thing to a Docker image we have are the KVM images that the openstack project maintains:

  http://gentoo.osuosl.org/experimental/amd64/openstack/

In theory you can boot one of those up, configure the sage-on-gentoo overlay,

  https://github.com/cschwan/sage-on-gentoo

and then `emerge sage`. But each of those steps is tricky if you've never done it.

I'm slowly working on moving things from the overlay to the main gentoo repository, so that one day you can "emerge sage" without the overlay. (Basically, I'm just taking Francois's work and committing it to the main repository.)

This goes hand-in-hand with the spkg-configure work because in the past, while sage-on-gentoo provides the most stable and usable sage, it doesn't help me rebuild sage.git for testing tickets. But now whenever a package gets an spkg-configure.m4, adding that package to gentoo both (1) speeds up the sage.git build, and (2) brings the overlay one step closer to the main repository.



---

archive/issue_comments_454059.json:
```json
{
    "body": "<a id='comment:19'></a>\nThanks. For now I'm trying to bootstrap gentoo prefix on top of Ubuntu on Docker.",
    "created_at": "2020-01-18T04:01:39Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454059",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:19'></a>
Thanks. For now I'm trying to bootstrap gentoo prefix on top of Ubuntu on Docker.



---

archive/issue_comments_454060.json:
```json
{
    "body": "<a id='comment:20'></a>\n@ mjo you do know that the overlay has a \"vbraun\" branch where sgae-9999 checkouts Volker's merging branch do you? Pointing to some other branch is not that hard but I have never tried to test ticket that way. I mostly work on my vbraun branch so I know when something is being merged that causes problems.\n\n@ mkoeppe for info sage-on-gentoo has a tester on prefix on top of ubuntu. So at least we know it works - mostly. There a few unidentified issue in doctesting going on at the moment https://github.com/cschwan/sage-on-gentoo/issues/560",
    "created_at": "2020-01-18T04:19:18Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454060",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:20'></a>
@ mjo you do know that the overlay has a "vbraun" branch where sgae-9999 checkouts Volker's merging branch do you? Pointing to some other branch is not that hard but I have never tried to test ticket that way. I mostly work on my vbraun branch so I know when something is being merged that causes problems.

@ mkoeppe for info sage-on-gentoo has a tester on prefix on top of ubuntu. So at least we know it works - mostly. There a few unidentified issue in doctesting going on at the moment https://github.com/cschwan/sage-on-gentoo/issues/560



---

archive/issue_comments_454061.json:
```json
{
    "body": "<a id='comment:21'></a>\na tester = a person who tests it?",
    "created_at": "2020-01-18T04:29:53Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454061",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>
a tester = a person who tests it?



---

archive/issue_comments_454062.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [mkoeppe](#comment%3A21):\n> a tester = a person who tests it?\n\nYes.",
    "created_at": "2020-01-18T04:30:30Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454062",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:22'></a>
Replying to [mkoeppe](#comment%3A21):
> a tester = a person who tests it?

Yes.



---

archive/attachments_022010.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "Dockerfile-sage_gentoo",
    "asset_url": "tarball://root/attachments/ticket28905/Dockerfile-sage_gentoo",
    "created_at": "2020-01-18T04:33:58Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket28905/Dockerfile-sage_gentoo",
    "user": "https://github.com/mkoeppe"
}
```



---

archive/issue_comments_454063.json:
```json
{
    "body": "**Attachment:** [Dockerfile-sage_gentoo](https://github.com/sagemath/sage/files/ticket28905/Dockerfile-sage_gentoo)",
    "created_at": "2020-01-18T04:33:58Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454063",
    "user": "https://github.com/mkoeppe"
}
```

**Attachment:** [Dockerfile-sage_gentoo](https://github.com/sagemath/sage/files/ticket28905/Dockerfile-sage_gentoo)



---

archive/issue_comments_454064.json:
```json
{
    "body": "<a id='comment:23'></a>\nAnyway, this is how far I got in case someone would like to take a look.\nSorry for hijacking the ticket.",
    "created_at": "2020-01-18T04:34:56Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454064",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:23'></a>
Anyway, this is how far I got in case someone would like to take a look.
Sorry for hijacking the ticket.



---

archive/issue_comments_454065.json:
```json
{
    "body": "<a id='comment:24'></a>\nthis branch does not go far enough: on Debian the headers are in `/usr/include/cdd/`, and\non Fedora they are in `/usr/include/cddlib/`.\n\nI think Singular is able to use cddlib headers from any of these locations.\n\nI think libcdd* ought to be tested too.",
    "created_at": "2020-01-18T09:23:36Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454065",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:24'></a>
this branch does not go far enough: on Debian the headers are in `/usr/include/cdd/`, and
on Fedora they are in `/usr/include/cddlib/`.

I think Singular is able to use cddlib headers from any of these locations.

I think libcdd* ought to be tested too.



---

archive/issue_comments_454066.json:
```json
{
    "body": "<a id='comment:25'></a>\nStill hoping for upstream to make a decision on the canonical install location of the headers.",
    "created_at": "2020-01-18T15:07:59Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454066",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'></a>
Still hoping for upstream to make a decision on the canonical install location of the headers.



---

archive/issue_events_256618.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-20T14:54:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28905#event-256618"
}
```



---

archive/issue_events_256619.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-20T14:54:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28905#event-256619"
}
```



---

archive/issue_comments_454067.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [dimpase](#comment%3A24):\n> this branch does not go far enough: on Debian the headers are in `/usr/include/cdd/`, and\n> on Fedora they are in `/usr/include/cddlib/`.\n> \n\nI left a comment about this in the macro before I got sidetracked. It looks to me like the sage lattE and gfan spkgs only look for the cddlib headers in the standard locations, so the system cddlib will only be usable if the headers are in the standard location. Is that wrong?",
    "created_at": "2020-01-20T15:39:38Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454067",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:27'></a>
Replying to [dimpase](#comment%3A24):
> this branch does not go far enough: on Debian the headers are in `/usr/include/cdd/`, and
> on Fedora they are in `/usr/include/cddlib/`.
> 

I left a comment about this in the macro before I got sidetracked. It looks to me like the sage lattE and gfan spkgs only look for the cddlib headers in the standard locations, so the system cddlib will only be usable if the headers are in the standard location. Is that wrong?



---

archive/issue_comments_454068.json:
```json
{
    "body": "<a id='comment:28'></a>\n`spkg-confugure.m4` can figure out the prefix, AC_SUBST it into an env.var., which can be used to modify CFLAGS/CXXFLAGS in spkg-install scripts of lattE etc.",
    "created_at": "2020-01-20T15:56:40Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454068",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:28'></a>
`spkg-confugure.m4` can figure out the prefix, AC_SUBST it into an env.var., which can be used to modify CFLAGS/CXXFLAGS in spkg-install scripts of lattE etc.



---

archive/issue_comments_454069.json:
```json
{
    "body": "<a id='comment:29'></a>\nReplying to [dimpase](#comment%3A28):\n> `spkg-confugure.m4` can figure out the prefix, AC_SUBST it into an env.var., which can be used to modify CFLAGS/CXXFLAGS in spkg-install scripts of lattE etc.\n\nWell, sure, but that's a lot more involved. Checking only the standard locations is correct unless we modify those spkgs, right?",
    "created_at": "2020-01-20T15:59:01Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454069",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:29'></a>
Replying to [dimpase](#comment%3A28):
> `spkg-confugure.m4` can figure out the prefix, AC_SUBST it into an env.var., which can be used to modify CFLAGS/CXXFLAGS in spkg-install scripts of lattE etc.

Well, sure, but that's a lot more involved. Checking only the standard locations is correct unless we modify those spkgs, right?



---

archive/issue_comments_454070.json:
```json
{
    "body": "<a id='comment:30'></a>\nwell, Singular goes out of its way to figure out the header location of cddlib. Indeed,\nfrom the log:\n\n```\nchecking whether to check for gfanlib... yes\nchecking setoper.h usability... yes\nchecking setoper.h presence... yes\nchecking for setoper.h... yes\nchecking cdd/setoper.h usability... no\nchecking cdd/setoper.h presence... no\nchecking for cdd/setoper.h... no\nchecking cddlib/setoper.h usability... no\nchecking cddlib/setoper.h presence... no\nchecking for cddlib/setoper.h... no\nchecking whether libcddgmp is usable... checking for dd_free_global_constants... yes\n```",
    "created_at": "2020-01-20T16:03:19Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454070",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:30'></a>
well, Singular goes out of its way to figure out the header location of cddlib. Indeed,
from the log:

```
checking whether to check for gfanlib... yes
checking setoper.h usability... yes
checking setoper.h presence... yes
checking for setoper.h... yes
checking cdd/setoper.h usability... no
checking cdd/setoper.h presence... no
checking for cdd/setoper.h... no
checking cddlib/setoper.h usability... no
checking cddlib/setoper.h presence... no
checking for cddlib/setoper.h... no
checking whether libcddgmp is usable... checking for dd_free_global_constants... yes
```



---

archive/issue_comments_454071.json:
```json
{
    "body": "<a id='comment:31'></a>\nI think the best solution is to:\n\n1. Merge this now, since it's correct with respect to the rest of the (current) tree.\n2. Report the fact that the headers can be installed in non-standard locations to lattE/gfan upstream.\n3. (a) If those packages make the header search more robust, great; we upgrade the spkgs and we're done. (b) If they say they won't, then we hack something together as in [#28905 comment:29](https://github.com/sagemath/sage/issues/28905#comment:29).\n4. We update the spkg-configure.m4 for cddlib to look in the non-standard locations as well.\n5. If cddlib upstream ever moves the headers, we can (at our leisure) simplify all of the checks.",
    "created_at": "2020-01-31T16:31:05Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454071",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:31'></a>
I think the best solution is to:

1. Merge this now, since it's correct with respect to the rest of the (current) tree.
2. Report the fact that the headers can be installed in non-standard locations to lattE/gfan upstream.
3. (a) If those packages make the header search more robust, great; we upgrade the spkgs and we're done. (b) If they say they won't, then we hack something together as in [#28905 comment:29](https://github.com/sagemath/sage/issues/28905#comment:29).
4. We update the spkg-configure.m4 for cddlib to look in the non-standard locations as well.
5. If cddlib upstream ever moves the headers, we can (at our leisure) simplify all of the checks.



---

archive/issue_comments_454072.json:
```json
{
    "body": "<a id='comment:32'></a>\nI am happy to accept a PR at cddlib upstream to install the headers into `cdd/` on [GitHub](../wikis/GitHub) btw.",
    "created_at": "2020-02-06T22:25:22Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454072",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:32'></a>
I am happy to accept a PR at cddlib upstream to install the headers into `cdd/` on [GitHub](../wikis/GitHub) btw.



---

archive/issue_comments_454073.json:
```json
{
    "body": "<a id='comment:33'></a>\nThe next release of cddlib will use the `cddlib` prefix for its headers. But for now, our latte and gfan packages only look for the bare `cdd.h`, so that's what we need to check for. Can we merge this now, and then update things as they change?",
    "created_at": "2020-03-26T18:18:05Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454073",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:33'></a>
The next release of cddlib will use the `cddlib` prefix for its headers. But for now, our latte and gfan packages only look for the bare `cdd.h`, so that's what we need to check for. Can we merge this now, and then update things as they change?



---

archive/issue_events_256620.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2020-03-26T18:18:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28905#event-256620"
}
```



---

archive/issue_events_256621.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2020-03-26T18:18:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28905#event-256621"
}
```



---

archive/issue_comments_454074.json:
```json
{
    "body": "<a id='comment:34'></a>\nCould you update the comment in the added file regarding the header file locations?",
    "created_at": "2020-03-26T19:36:36Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454074",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:34'></a>
Could you update the comment in the added file regarding the header file locations?



---

archive/issue_comments_454075.json:
```json
{
    "body": "<a id='comment:35'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8508639ec8ed26effd1e285791b37cdfc54a9fb1\">8508639</a></td><td><code>spkg-configure for cddlib</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27d5c6b13e79f4ea04126253d3107068bbd5f2ba\">27d5c6b</a></td><td><code>Trac #28905: add header/library checks for cddlib.</code></td></tr></table>\n",
    "created_at": "2020-03-26T20:56:38Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454075",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:35'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8508639ec8ed26effd1e285791b37cdfc54a9fb1">8508639</a></td><td><code>spkg-configure for cddlib</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27d5c6b13e79f4ea04126253d3107068bbd5f2ba">27d5c6b</a></td><td><code>Trac #28905: add header/library checks for cddlib.</code></td></tr></table>




---

archive/issue_comments_454076.json:
```json
{
    "body": "**Changing commit** from \"[61117fd8a9fb77f3bd494ca4281dad2b24ab3cd3](https://github.com/sagemath/sagetrac-mirror/commit/61117fd8a9fb77f3bd494ca4281dad2b24ab3cd3)\" to \"[27d5c6b13e79f4ea04126253d3107068bbd5f2ba](https://github.com/sagemath/sagetrac-mirror/commit/27d5c6b13e79f4ea04126253d3107068bbd5f2ba)\".",
    "created_at": "2020-03-26T20:56:38Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454076",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[61117fd8a9fb77f3bd494ca4281dad2b24ab3cd3](https://github.com/sagemath/sagetrac-mirror/commit/61117fd8a9fb77f3bd494ca4281dad2b24ab3cd3)" to "[27d5c6b13e79f4ea04126253d3107068bbd5f2ba](https://github.com/sagemath/sagetrac-mirror/commit/27d5c6b13e79f4ea04126253d3107068bbd5f2ba)".



---

archive/issue_comments_454077.json:
```json
{
    "body": "<a id='comment:36'></a>\nSure, I added a real commit message too.",
    "created_at": "2020-03-26T20:57:25Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454077",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:36'></a>
Sure, I added a real commit message too.



---

archive/issue_comments_454078.json:
```json
{
    "body": "**Changing author** from \"Dima Pasechnik\" to \"Dima Pasechnik, Michael Orlitzky\".",
    "created_at": "2020-03-26T20:57:53Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454078",
    "user": "https://github.com/orlitzky"
}
```

**Changing author** from "Dima Pasechnik" to "Dima Pasechnik, Michael Orlitzky".



---

archive/issue_comments_454079.json:
```json
{
    "body": "**Changing branch** from \"[u/mjo/ticket/28905](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/28905)\" to \"[u/mkoeppe/ticket/28905](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/ticket/28905)\".",
    "created_at": "2020-03-26T21:02:46Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454079",
    "user": "https://github.com/mkoeppe"
}
```

**Changing branch** from "[u/mjo/ticket/28905](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/28905)" to "[u/mkoeppe/ticket/28905](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/ticket/28905)".



---

archive/issue_comments_454080.json:
```json
{
    "body": "<a id='comment:39'></a>\nRebased to  9.1.beta8\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/082be67ddfe993b1b115dabf86417972a9c312b3\">082be67</a></td><td><code>spkg-configure for cddlib</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/16b78ac93c0f5fcd19a3964a27ad5b7842e637e3\">16b78ac</a></td><td><code>Trac #28905: add header/library checks for cddlib.</code></td></tr></table>\n",
    "created_at": "2020-03-26T21:03:05Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454080",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:39'></a>
Rebased to  9.1.beta8

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/082be67ddfe993b1b115dabf86417972a9c312b3">082be67</a></td><td><code>spkg-configure for cddlib</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/16b78ac93c0f5fcd19a3964a27ad5b7842e637e3">16b78ac</a></td><td><code>Trac #28905: add header/library checks for cddlib.</code></td></tr></table>




---

archive/issue_comments_454081.json:
```json
{
    "body": "**Changing commit** from \"[27d5c6b13e79f4ea04126253d3107068bbd5f2ba](https://github.com/sagemath/sagetrac-mirror/commit/27d5c6b13e79f4ea04126253d3107068bbd5f2ba)\" to \"[16b78ac93c0f5fcd19a3964a27ad5b7842e637e3](https://github.com/sagemath/sagetrac-mirror/commit/16b78ac93c0f5fcd19a3964a27ad5b7842e637e3)\".",
    "created_at": "2020-03-26T21:03:05Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454081",
    "user": "https://github.com/mkoeppe"
}
```

**Changing commit** from "[27d5c6b13e79f4ea04126253d3107068bbd5f2ba](https://github.com/sagemath/sagetrac-mirror/commit/27d5c6b13e79f4ea04126253d3107068bbd5f2ba)" to "[16b78ac93c0f5fcd19a3964a27ad5b7842e637e3](https://github.com/sagemath/sagetrac-mirror/commit/16b78ac93c0f5fcd19a3964a27ad5b7842e637e3)".



---

archive/issue_comments_454082.json:
```json
{
    "body": "<a id='comment:40'></a>\nsorry, I messed this one up",
    "created_at": "2020-03-26T21:05:28Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454082",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:40'></a>
sorry, I messed this one up



---

archive/issue_comments_454083.json:
```json
{
    "body": "<a id='comment:41'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8508639ec8ed26effd1e285791b37cdfc54a9fb1\">8508639</a></td><td><code>spkg-configure for cddlib</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27d5c6b13e79f4ea04126253d3107068bbd5f2ba\">27d5c6b</a></td><td><code>Trac #28905: add header/library checks for cddlib.</code></td></tr></table>\n",
    "created_at": "2020-03-26T21:06:09Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454083",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:41'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8508639ec8ed26effd1e285791b37cdfc54a9fb1">8508639</a></td><td><code>spkg-configure for cddlib</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27d5c6b13e79f4ea04126253d3107068bbd5f2ba">27d5c6b</a></td><td><code>Trac #28905: add header/library checks for cddlib.</code></td></tr></table>




---

archive/issue_comments_454084.json:
```json
{
    "body": "**Changing commit** from \"[16b78ac93c0f5fcd19a3964a27ad5b7842e637e3](https://github.com/sagemath/sagetrac-mirror/commit/16b78ac93c0f5fcd19a3964a27ad5b7842e637e3)\" to \"[27d5c6b13e79f4ea04126253d3107068bbd5f2ba](https://github.com/sagemath/sagetrac-mirror/commit/27d5c6b13e79f4ea04126253d3107068bbd5f2ba)\".",
    "created_at": "2020-03-26T21:06:09Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454084",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[16b78ac93c0f5fcd19a3964a27ad5b7842e637e3](https://github.com/sagemath/sagetrac-mirror/commit/16b78ac93c0f5fcd19a3964a27ad5b7842e637e3)" to "[27d5c6b13e79f4ea04126253d3107068bbd5f2ba](https://github.com/sagemath/sagetrac-mirror/commit/27d5c6b13e79f4ea04126253d3107068bbd5f2ba)".



---

archive/issue_comments_454085.json:
```json
{
    "body": "<a id='comment:42'></a>\nSet it back to your commit",
    "created_at": "2020-03-26T21:06:35Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454085",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:42'></a>
Set it back to your commit



---

archive/issue_comments_454086.json:
```json
{
    "body": "<a id='comment:43'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f04c3b5dfa137a3e430f2fd6103ef53ae61b319\">0f04c3b</a></td><td><code>build/pkgs/cddlib/distros/*.txt: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de9fb2ee41fb6a083addd6a74b6b2da7504dd9b0\">de9fb2e</a></td><td><code>build/pkgs/cddlib: Add upstream_url</code></td></tr></table>\n",
    "created_at": "2020-03-26T21:13:40Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454086",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:43'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f04c3b5dfa137a3e430f2fd6103ef53ae61b319">0f04c3b</a></td><td><code>build/pkgs/cddlib/distros/*.txt: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de9fb2ee41fb6a083addd6a74b6b2da7504dd9b0">de9fb2e</a></td><td><code>build/pkgs/cddlib: Add upstream_url</code></td></tr></table>




---

archive/issue_comments_454087.json:
```json
{
    "body": "**Changing commit** from \"[27d5c6b13e79f4ea04126253d3107068bbd5f2ba](https://github.com/sagemath/sagetrac-mirror/commit/27d5c6b13e79f4ea04126253d3107068bbd5f2ba)\" to \"[de9fb2ee41fb6a083addd6a74b6b2da7504dd9b0](https://github.com/sagemath/sagetrac-mirror/commit/de9fb2ee41fb6a083addd6a74b6b2da7504dd9b0)\".",
    "created_at": "2020-03-26T21:13:40Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454087",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[27d5c6b13e79f4ea04126253d3107068bbd5f2ba](https://github.com/sagemath/sagetrac-mirror/commit/27d5c6b13e79f4ea04126253d3107068bbd5f2ba)" to "[de9fb2ee41fb6a083addd6a74b6b2da7504dd9b0](https://github.com/sagemath/sagetrac-mirror/commit/de9fb2ee41fb6a083addd6a74b6b2da7504dd9b0)".



---

archive/issue_comments_454088.json:
```json
{
    "body": "<a id='comment:44'></a>\nTesting at https://github.com/mkoeppe/sage/actions/runs/64126739",
    "created_at": "2020-03-26T21:18:07Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454088",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:44'></a>
Testing at https://github.com/mkoeppe/sage/actions/runs/64126739



---

archive/issue_comments_454089.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -5,3 +5,5 @@\n \n The obstacles: installs headers in `usr/include/cdd` (and not in `/usr/include`,\n and part of executables into `/usr/lib/cdd-tools/`\n+\n+Follow-up: #29413 (Upgrade cddlib, fix cddlib header search for packages latte_int, gfan, topcom)\n``````\n",
    "created_at": "2020-03-27T12:36:13Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454089",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -5,3 +5,5 @@
 
 The obstacles: installs headers in `usr/include/cdd` (and not in `/usr/include`,
 and part of executables into `/usr/lib/cdd-tools/`
+
+Follow-up: #29413 (Upgrade cddlib, fix cddlib header search for packages latte_int, gfan, topcom)
``````




---

archive/issue_comments_454090.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,9 +1,6 @@\n-provide `spkg-configure.m4` to use libcdd/cdd from the system. \n-There should not be a problem with headers, after all we can install links to `$SAGE_LOCAL/include/`.\n+Provide `spkg-configure.m4` to use libcdd/cdd from the system. \n \n-Debian has libcdd-dev (library) and libcdd-tools (executables) packages.\n-\n-The obstacles: installs headers in `usr/include/cdd` (and not in `/usr/include`,\n-and part of executables into `/usr/lib/cdd-tools/`\n+This ticket is limited to systems that install headers into `/usr/include` rather than `/usr/include/cdd` (Debian) or `/usr/include/cddlib` (Fedora).\n \n Follow-up: #29413 (Upgrade cddlib, fix cddlib header search for packages latte_int, gfan, topcom)\n+\n``````\n",
    "created_at": "2020-03-27T12:53:30Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454090",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,9 +1,6 @@
-provide `spkg-configure.m4` to use libcdd/cdd from the system. 
-There should not be a problem with headers, after all we can install links to `$SAGE_LOCAL/include/`.
+Provide `spkg-configure.m4` to use libcdd/cdd from the system. 
 
-Debian has libcdd-dev (library) and libcdd-tools (executables) packages.
-
-The obstacles: installs headers in `usr/include/cdd` (and not in `/usr/include`,
-and part of executables into `/usr/lib/cdd-tools/`
+This ticket is limited to systems that install headers into `/usr/include` rather than `/usr/include/cdd` (Debian) or `/usr/include/cddlib` (Fedora).
 
 Follow-up: #29413 (Upgrade cddlib, fix cddlib header search for packages latte_int, gfan, topcom)
+
``````




---

archive/issue_comments_454091.json:
```json
{
    "body": "**Reviewer:** Matthias Koeppe",
    "created_at": "2020-03-27T12:53:30Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454091",
    "user": "https://github.com/mkoeppe"
}
```

**Reviewer:** Matthias Koeppe



---

archive/issue_comments_454092.json:
```json
{
    "body": "<a id='comment:46'></a>\nDetects cddlib correctly on `archlinux-latest-standard` (https://github.com/mkoeppe/sage/runs/537774833).\n\nWe don't have a test for Gentoo (#29105, hint hint), but I assume you have tested it there.\n\nAs expected, not detected on debian and fedora. I have created follow-up ticket #29413 for that and edited the ticket description.",
    "created_at": "2020-03-27T12:53:30Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454092",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:46'></a>
Detects cddlib correctly on `archlinux-latest-standard` (https://github.com/mkoeppe/sage/runs/537774833).

We don't have a test for Gentoo (#29105, hint hint), but I assume you have tested it there.

As expected, not detected on debian and fedora. I have created follow-up ticket #29413 for that and edited the ticket description.



---

archive/issue_events_256622.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-27T12:53:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28905#event-256622"
}
```



---

archive/issue_events_256623.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-03-27T12:53:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28905#event-256623"
}
```



---

archive/issue_comments_454093.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/ticket/28905](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/ticket/28905)\" to \"[de9fb2ee41fb6a083addd6a74b6b2da7504dd9b0](https://github.com/sagemath/sagetrac-mirror/commit/de9fb2ee41fb6a083addd6a74b6b2da7504dd9b0)\".",
    "created_at": "2020-04-05T08:30:50Z",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28905#issuecomment-454093",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mkoeppe/ticket/28905](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/ticket/28905)" to "[de9fb2ee41fb6a083addd6a74b6b2da7504dd9b0](https://github.com/sagemath/sagetrac-mirror/commit/de9fb2ee41fb6a083addd6a74b6b2da7504dd9b0)".



---

archive/issue_events_256624.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-04-05T08:30:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28905#event-256624"
}
```



---

archive/issue_events_256625.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "5aa7277403bae129e6854acc5ff983eeb0d1be90",
    "created_at": "2020-04-05T08:30:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28905",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28905#event-256625"
}
```
