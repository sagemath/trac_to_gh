# Issue 28778: Generalize pushout of number fields with compatible embeddings

archive/issues_028541.json:
```json
{
    "assignees": [],
    "body": "The pushout of two algebraic number fields with a coerce embedding in `AA` (the real algebraic fields) is implemented as being `AA`. As a consequence, it is possible to add elements from different number fields\n\n```\nsage: K.<a> = NumberField(x^3 - 2, embedding=AA(2)**(1/3))\nsage: L.<b> = NumberField(x^2 - 3, embedding=AA(3)**(1/2))\nsage: a + b\n2.991971857463751?\n```\nThough, the pushout is not implemented for fields with coerce embedding in `QQbar` (algebraic field).\n\n```\nsage: K.<a> = NumberField(x^3 - 2, embedding=QQbar(2)**(1/3) * QQbar.zeta(3))\nsage: L.<b> = NumberField(x^3 - 3, embedding=QQbar(3)**(1/3) * QQbar.zeta(3)**2)\nsage: a + b\nTraceback (most recent call last):\n...\nTypeError: unsupported operand parent(s) for +\n```\nThis ticket implements it.\n\n**Keywords:** number fields, coercion, pushout, composite field\n\n**Branch/Commit:** [8e7025115e4d2d203d67779d559ad3072c06073d](https://github.com/sagemath/sagetrac-mirror/commit/8e7025115e4d2d203d67779d559ad3072c06073d)\n\n**Reviewer:** Vincent Delecroix, Matthias Koeppe\n\n**Author:** Jonathan Kliem\n\nIssue created by migration from https://trac.sagemath.org/ticket/28778\n\n",
    "closed_at": "2020-07-25T22:51:26Z",
    "created_at": "2019-11-20T14:02:50Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20number%20fields",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Generalize pushout of number fields with compatible embeddings",
    "type": "issue",
    "updated_at": "2020-07-25T22:51:26Z",
    "url": "https://github.com/sagemath/sage/issues/28778",
    "user": "https://github.com/kliem"
}
```
The pushout of two algebraic number fields with a coerce embedding in `AA` (the real algebraic fields) is implemented as being `AA`. As a consequence, it is possible to add elements from different number fields

```
sage: K.<a> = NumberField(x^3 - 2, embedding=AA(2)**(1/3))
sage: L.<b> = NumberField(x^2 - 3, embedding=AA(3)**(1/2))
sage: a + b
2.991971857463751?
```
Though, the pushout is not implemented for fields with coerce embedding in `QQbar` (algebraic field).

```
sage: K.<a> = NumberField(x^3 - 2, embedding=QQbar(2)**(1/3) * QQbar.zeta(3))
sage: L.<b> = NumberField(x^3 - 3, embedding=QQbar(3)**(1/3) * QQbar.zeta(3)**2)
sage: a + b
Traceback (most recent call last):
...
TypeError: unsupported operand parent(s) for +
```
This ticket implements it.

**Keywords:** number fields, coercion, pushout, composite field

**Branch/Commit:** [8e7025115e4d2d203d67779d559ad3072c06073d](https://github.com/sagemath/sagetrac-mirror/commit/8e7025115e4d2d203d67779d559ad3072c06073d)

**Reviewer:** Vincent Delecroix, Matthias Koeppe

**Author:** Jonathan Kliem

Issue created by migration from https://trac.sagemath.org/ticket/28778





---

archive/issue_events_346433.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-20T14:02:50Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346433"
}
```



---

archive/issue_events_346434.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-20T14:02:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20number%20fields",
    "label_color": "08517b",
    "label_name": "component: number fields",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346434"
}
```



---

archive/issue_events_346435.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-20T14:02:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346435"
}
```



---

archive/issue_comments_451636.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aac8e0a623d2de23db244d95dd59bf725a4a0cd2\">aac8e0a</a></td><td><code>implement pushout for generic number fields with compatible embeddings</code></td></tr></table>\n",
    "created_at": "2019-11-20T14:03:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451636",
    "user": "https://github.com/kliem"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aac8e0a623d2de23db244d95dd59bf725a4a0cd2">aac8e0a</a></td><td><code>implement pushout for generic number fields with compatible embeddings</code></td></tr></table>




---

archive/issue_events_346436.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-20T14:03:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346436"
}
```



---

archive/issue_comments_451637.json:
```json
{
    "body": "**Commit:** [aac8e0a623d2de23db244d95dd59bf725a4a0cd2](https://github.com/sagemath/sagetrac-mirror/commit/aac8e0a623d2de23db244d95dd59bf725a4a0cd2)",
    "created_at": "2019-11-20T14:03:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451637",
    "user": "https://github.com/kliem"
}
```

**Commit:** [aac8e0a623d2de23db244d95dd59bf725a4a0cd2](https://github.com/sagemath/sagetrac-mirror/commit/aac8e0a623d2de23db244d95dd59bf725a4a0cd2)



---

archive/issue_comments_451638.json:
```json
{
    "body": "**Branch:** [public/28778](https://github.com/sagemath/sagetrac-mirror/tree/public/28778)",
    "created_at": "2019-11-20T14:03:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451638",
    "user": "https://github.com/kliem"
}
```

**Branch:** [public/28778](https://github.com/sagemath/sagetrac-mirror/tree/public/28778)



---

archive/issue_events_346437.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-11-20T14:37:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346437"
}
```



---

archive/issue_events_346438.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-11-20T14:37:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "008080",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346438"
}
```



---

archive/issue_comments_451639.json:
```json
{
    "body": "<a id='comment:2'></a>\nA pushout is already available\n\n```\nsage: K.<a> = NumberField(x^2 - 2, embedding=AA(2).sqrt())\nsage: L.<b> = NumberField(x^2 - 3, embedding=AA(3).sqrt())\nsage: a+b\n3.146264369941973?\nsage: K._pushout_(L)\nAlgebraic Real Field\n```\n(was implemented in #20746)\n\nGoing via composite field is very fragile (order dependent, non canonical, expensive, etc).",
    "created_at": "2019-11-20T14:37:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451639",
    "user": "https://github.com/videlec"
}
```

<a id='comment:2'></a>
A pushout is already available

```
sage: K.<a> = NumberField(x^2 - 2, embedding=AA(2).sqrt())
sage: L.<b> = NumberField(x^2 - 3, embedding=AA(3).sqrt())
sage: a+b
3.146264369941973?
sage: K._pushout_(L)
Algebraic Real Field
```
(was implemented in #20746)

Going via composite field is very fragile (order dependent, non canonical, expensive, etc).



---

archive/issue_comments_451640.json:
```json
{
    "body": "<a id='comment:3'></a>\nThanks for pointing this out. I was aware of this method, but not that you had the discussion before.\n\nNevertheless, one could just devote this ticket here to implementing the case, where the fields are embedded into `QQbar`.\n\nI figured this would be useful for rings in general.",
    "created_at": "2019-11-20T15:52:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451640",
    "user": "https://github.com/kliem"
}
```

<a id='comment:3'></a>
Thanks for pointing this out. I was aware of this method, but not that you had the discussion before.

Nevertheless, one could just devote this ticket here to implementing the case, where the fields are embedded into `QQbar`.

I figured this would be useful for rings in general.



---

archive/issue_comments_451641.json:
```json
{
    "body": "<a id='comment:4'></a>\nReplying to [@kliem](#comment%3A3):\n> Nevertheless, one could just devote this ticket here to implementing the case, where the fields are embedded into `QQbar`.\n> \n> I figured this would be useful for rings in general.\n\nAssuming this also makes coercion between `AA` and number fields embedded in `QQbar` possible, this would then help solve #28489 as far as I can see (possibly after #28774).",
    "created_at": "2019-11-20T21:51:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451641",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:4'></a>
Replying to [@kliem](#comment%3A3):
> Nevertheless, one could just devote this ticket here to implementing the case, where the fields are embedded into `QQbar`.
> 
> I figured this would be useful for rings in general.

Assuming this also makes coercion between `AA` and number fields embedded in `QQbar` possible, this would then help solve #28489 as far as I can see (possibly after #28774).



---

archive/issue_events_346439.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-11-20T23:33:31Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "rename": {
        "from": "Implement pushout for generic number fields with compatible embeddings",
        "to": "Generalize pushout of number fields with compatible embeddings"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346439"
}
```



---

archive/issue_events_346440.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-11-20T23:33:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "008080",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346440"
}
```



---

archive/issue_events_346441.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-11-20T23:33:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346441"
}
```



---

archive/issue_comments_451642.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,15 +1,19 @@\n-For generic number fields, there is a method `composite_fields` that\n-preserves there embeddings, if they exists:\n+The pushout of two algebraic number fields with a coerce embedding in `AA` (the real algebraic fields) is implemented as being `AA`. As a consequence, it is possible to add elements from different number fields\n \n ```\n-sage: z = QQ['z'].0\n-sage: K2 = NumberField(z^2 - 2,'s', embedding=AA(2).sqrt())\n-sage: K3 = NumberField(z^2 - 3,'t', embedding=AA(3).sqrt())\n-sage: K2.composite_fields(K3)\n-[Number Field in st with defining polynomial z^4 - 10*z^2 + 1 with st = 0.3178372451957823?]\n+sage: K.<a> = NumberField(x^3 - 2, embedding=AA(2)**(1/3))\n+sage: L.<b> = NumberField(x^2 - 3, embedding=AA(3)**(1/2))\n+sage: a + b\n+2.991971857463751?\n ```\n+Though, the pushout is not implemented for fields with coerce embedding in `QQbar` (algebraic field).\n \n-This ticket implements the method `_pushout_` to return this composite field, if:\n-- it exists,\n-- is unique,\n-- and both fields have compatible embeddings (e.g. the pushout of the fields embedded to exists).\n+```\n+sage: K.<a> = NumberField(x^3 - 2, embedding=QQbar(2)**(1/3) * QQbar.zeta(3))\n+sage: L.<b> = NumberField(x^3 - 3, embedding=QQbar(3)**(1/3) * QQbar.zeta(3)**2)\n+sage: a + b\n+Traceback (most recent call last):\n+...\n+TypeError: unsupported operand parent(s) for +\n+```\n+This ticket implements it.\n``````\n",
    "created_at": "2019-11-20T23:33:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451642",
    "user": "https://github.com/videlec"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,15 +1,19 @@
-For generic number fields, there is a method `composite_fields` that
-preserves there embeddings, if they exists:
+The pushout of two algebraic number fields with a coerce embedding in `AA` (the real algebraic fields) is implemented as being `AA`. As a consequence, it is possible to add elements from different number fields
 
 ```
-sage: z = QQ['z'].0
-sage: K2 = NumberField(z^2 - 2,'s', embedding=AA(2).sqrt())
-sage: K3 = NumberField(z^2 - 3,'t', embedding=AA(3).sqrt())
-sage: K2.composite_fields(K3)
-[Number Field in st with defining polynomial z^4 - 10*z^2 + 1 with st = 0.3178372451957823?]
+sage: K.<a> = NumberField(x^3 - 2, embedding=AA(2)**(1/3))
+sage: L.<b> = NumberField(x^2 - 3, embedding=AA(3)**(1/2))
+sage: a + b
+2.991971857463751?
 ```
+Though, the pushout is not implemented for fields with coerce embedding in `QQbar` (algebraic field).
 
-This ticket implements the method `_pushout_` to return this composite field, if:
-- it exists,
-- is unique,
-- and both fields have compatible embeddings (e.g. the pushout of the fields embedded to exists).
+```
+sage: K.<a> = NumberField(x^3 - 2, embedding=QQbar(2)**(1/3) * QQbar.zeta(3))
+sage: L.<b> = NumberField(x^3 - 3, embedding=QQbar(3)**(1/3) * QQbar.zeta(3)**2)
+sage: a + b
+Traceback (most recent call last):
+...
+TypeError: unsupported operand parent(s) for +
+```
+This ticket implements it.
``````




---

archive/issue_comments_451643.json:
```json
{
    "body": "<a id='comment:5'></a>\ndescription updated then",
    "created_at": "2019-11-20T23:33:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451643",
    "user": "https://github.com/videlec"
}
```

<a id='comment:5'></a>
description updated then



---

archive/issue_comments_451644.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d3258e66d6b976b401e66c9894c4194a0399e661\">d3258e6</a></td><td><code>pushout for number fields with compatible embeddings</code></td></tr></table>\n",
    "created_at": "2019-11-21T11:17:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451644",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d3258e66d6b976b401e66c9894c4194a0399e661">d3258e6</a></td><td><code>pushout for number fields with compatible embeddings</code></td></tr></table>




---

archive/issue_comments_451645.json:
```json
{
    "body": "**Changing commit** from \"[aac8e0a623d2de23db244d95dd59bf725a4a0cd2](https://github.com/sagemath/sagetrac-mirror/commit/aac8e0a623d2de23db244d95dd59bf725a4a0cd2)\" to \"[d3258e66d6b976b401e66c9894c4194a0399e661](https://github.com/sagemath/sagetrac-mirror/commit/d3258e66d6b976b401e66c9894c4194a0399e661)\".",
    "created_at": "2019-11-21T11:17:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451645",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[aac8e0a623d2de23db244d95dd59bf725a4a0cd2](https://github.com/sagemath/sagetrac-mirror/commit/aac8e0a623d2de23db244d95dd59bf725a4a0cd2)" to "[d3258e66d6b976b401e66c9894c4194a0399e661](https://github.com/sagemath/sagetrac-mirror/commit/d3258e66d6b976b401e66c9894c4194a0399e661)".



---

archive/issue_comments_451646.json:
```json
{
    "body": "<a id='comment:7'></a>\nI also fixed a bug of the previous construction. It did try to coerce number fields embedded into `RLF` into `AA`, which did not work (the attribute `_embedded_real` is set to `True` in that case).\n\nThere is a failing doctest now in `sage/rings/qqbar.py` line 167, for which I need some help.\n\nThe test wants to make sure, that `QQ[I]` and `QQbar` cannot be implicitly coerced, as `QQ[I]` does not come with an embedding.\n\nThis makes sense, however this is not the way it is implemented:\n\n```\nsage: QQ[I]\nNumber Field in I with defining polynomial x^2 + 1 with I = 1*I\n```\nSo `QQ[I]` does come with an embedding to `QQbar` and therefore I think my construction is correct in using this embedding.\nUnlike this example\n\n```\nsage: K.<a> = NumberField(x^2 + 1); K\nNumber Field in a with defining polynomial x^2 + 1\n```\nwhere my construction does not give a pushout.",
    "created_at": "2019-11-21T11:30:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451646",
    "user": "https://github.com/kliem"
}
```

<a id='comment:7'></a>
I also fixed a bug of the previous construction. It did try to coerce number fields embedded into `RLF` into `AA`, which did not work (the attribute `_embedded_real` is set to `True` in that case).

There is a failing doctest now in `sage/rings/qqbar.py` line 167, for which I need some help.

The test wants to make sure, that `QQ[I]` and `QQbar` cannot be implicitly coerced, as `QQ[I]` does not come with an embedding.

This makes sense, however this is not the way it is implemented:

```
sage: QQ[I]
Number Field in I with defining polynomial x^2 + 1 with I = 1*I
```
So `QQ[I]` does come with an embedding to `QQbar` and therefore I think my construction is correct in using this embedding.
Unlike this example

```
sage: K.<a> = NumberField(x^2 + 1); K
Number Field in a with defining polynomial x^2 + 1
```
where my construction does not give a pushout.



---

archive/issue_events_346442.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-21T11:30:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346442"
}
```



---

archive/issue_events_346443.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-21T11:30:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346443"
}
```



---

archive/issue_comments_451647.json:
```json
{
    "body": "<a id='comment:8'></a>\nTo be more precise, as it is `QQ[I]` comes with an embedding to complex lazy field:\n\n```\nsage: coercion_model.explain(QQ[I], CLF)\nCoercion on left operand via\n    Generic morphism:\n      From: Number Field in I with defining polynomial x^2 + 1 with I = 1*I\n      To:   Complex Lazy Field\n      Defn: I -> 1*I\nArithmetic performed after coercions.\nResult lives in Complex Lazy Field\nComplex Lazy Field\n```\nand there is a coercion from `QQbar` to `CLF`\n\n```\nsage: coercion_model.explain(QQbar, CLF)\nCoercion on left operand via\n    Generic morphism:\n      From: Algebraic Field\n      To:   Complex Lazy Field\nArithmetic performed after coercions.\nResult lives in Complex Lazy Field\nComplex Lazy Field\n```\nI find it very confusing, that there is a doctest fixing that there shall be no coercion of `QQ[I]` and `CLF`. If this is the way we want it to be, there should not be coercion of `QQ[I]` and `CLF` in the first place.\n\nThe same holds for `QQ[sqrt(2)]` btw. There is no embedding of `QQ[sqrt(2), sqrt(3)]` to `RLF`, but probably not by design but only because relative number fields do not support embeddings.",
    "created_at": "2019-11-21T14:38:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451647",
    "user": "https://github.com/kliem"
}
```

<a id='comment:8'></a>
To be more precise, as it is `QQ[I]` comes with an embedding to complex lazy field:

```
sage: coercion_model.explain(QQ[I], CLF)
Coercion on left operand via
    Generic morphism:
      From: Number Field in I with defining polynomial x^2 + 1 with I = 1*I
      To:   Complex Lazy Field
      Defn: I -> 1*I
Arithmetic performed after coercions.
Result lives in Complex Lazy Field
Complex Lazy Field
```
and there is a coercion from `QQbar` to `CLF`

```
sage: coercion_model.explain(QQbar, CLF)
Coercion on left operand via
    Generic morphism:
      From: Algebraic Field
      To:   Complex Lazy Field
Arithmetic performed after coercions.
Result lives in Complex Lazy Field
Complex Lazy Field
```
I find it very confusing, that there is a doctest fixing that there shall be no coercion of `QQ[I]` and `CLF`. If this is the way we want it to be, there should not be coercion of `QQ[I]` and `CLF` in the first place.

The same holds for `QQ[sqrt(2)]` btw. There is no embedding of `QQ[sqrt(2), sqrt(3)]` to `RLF`, but probably not by design but only because relative number fields do not support embeddings.



---

archive/issue_comments_451648.json:
```json
{
    "body": "<a id='comment:9'></a>\nPlease tell me, if I should post a query on sage-devel instead.",
    "created_at": "2019-11-21T14:39:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451648",
    "user": "https://github.com/kliem"
}
```

<a id='comment:9'></a>
Please tell me, if I should post a query on sage-devel instead.



---

archive/issue_events_346444.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-21T14:39:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346444"
}
```



---

archive/issue_events_346445.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-21T14:39:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "008080",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346445"
}
```



---

archive/issue_comments_451649.json:
```json
{
    "body": "**Changing branch** from \"[public/28778](https://github.com/sagemath/sagetrac-mirror/tree/public/28778)\" to \"[public/28778-bis](https://github.com/sagemath/sagetrac-mirror/tree/public/28778-bis)\".",
    "created_at": "2019-11-22T17:30:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451649",
    "user": "https://github.com/kliem"
}
```

**Changing branch** from "[public/28778](https://github.com/sagemath/sagetrac-mirror/tree/public/28778)" to "[public/28778-bis](https://github.com/sagemath/sagetrac-mirror/tree/public/28778-bis)".



---

archive/issue_events_346446.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-22T17:30:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "008080",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346446"
}
```



---

archive/issue_events_346447.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-22T17:30:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346447"
}
```



---

archive/issue_comments_451650.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -16,4 +16,4 @@\n ...\n TypeError: unsupported operand parent(s) for +\n ```\n-This ticket implements it.\n+This ticket implements it and the case that both are embedded into the same field.\n``````\n",
    "created_at": "2019-11-22T17:30:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451650",
    "user": "https://github.com/kliem"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -16,4 +16,4 @@
 ...
 TypeError: unsupported operand parent(s) for +
 ```
-This ticket implements it.
+This ticket implements it and the case that both are embedded into the same field.
``````




---

archive/issue_comments_451651.json:
```json
{
    "body": "<a id='comment:10'></a>\nOk, I just went back to just doing `QQbar` and added the case that both are embedded into the same field.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4b2cf10f5e5ad6b88825ad7ab7ba82a3400a854\">b4b2cf1</a></td><td><code>pushout for number fields with compatible embeddings</code></td></tr></table>\n",
    "created_at": "2019-11-22T17:30:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451651",
    "user": "https://github.com/kliem"
}
```

<a id='comment:10'></a>
Ok, I just went back to just doing `QQbar` and added the case that both are embedded into the same field.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4b2cf10f5e5ad6b88825ad7ab7ba82a3400a854">b4b2cf1</a></td><td><code>pushout for number fields with compatible embeddings</code></td></tr></table>




---

archive/issue_comments_451652.json:
```json
{
    "body": "**Changing commit** from \"[d3258e66d6b976b401e66c9894c4194a0399e661](https://github.com/sagemath/sagetrac-mirror/commit/d3258e66d6b976b401e66c9894c4194a0399e661)\" to \"[b4b2cf10f5e5ad6b88825ad7ab7ba82a3400a854](https://github.com/sagemath/sagetrac-mirror/commit/b4b2cf10f5e5ad6b88825ad7ab7ba82a3400a854)\".",
    "created_at": "2019-11-22T17:30:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451652",
    "user": "https://github.com/kliem"
}
```

**Changing commit** from "[d3258e66d6b976b401e66c9894c4194a0399e661](https://github.com/sagemath/sagetrac-mirror/commit/d3258e66d6b976b401e66c9894c4194a0399e661)" to "[b4b2cf10f5e5ad6b88825ad7ab7ba82a3400a854](https://github.com/sagemath/sagetrac-mirror/commit/b4b2cf10f5e5ad6b88825ad7ab7ba82a3400a854)".



---

archive/issue_comments_451653.json:
```json
{
    "body": "<a id='comment:11'></a>\nYour example\n\n```\nsage: K.<sqrt2_plus_sqrt3> = NumberField(x^4 - 10*x^2 + 1)\nsage: K2.<sqrt2> = NumberField(x^2-2, embedding=(sqrt2_plus_sqrt3^3 - 9*sqrt2_plus_sqrt3)/2)\nsage: K3.<sqrt3> = NumberField(x^2-3, embedding=-(sqrt2_plus_sqrt3^3 - 11*sqrt2_plus_sqrt3)/2)\nsage: sqrt2 + sqrt3\nsqrt2_plus_sqrt3\n```\nis working without any modification to the `_pushout_` method. You should simply remove what you wrote for number fields unless there is a real application for it.",
    "created_at": "2019-11-22T23:16:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451653",
    "user": "https://github.com/videlec"
}
```

<a id='comment:11'></a>
Your example

```
sage: K.<sqrt2_plus_sqrt3> = NumberField(x^4 - 10*x^2 + 1)
sage: K2.<sqrt2> = NumberField(x^2-2, embedding=(sqrt2_plus_sqrt3^3 - 9*sqrt2_plus_sqrt3)/2)
sage: K3.<sqrt3> = NumberField(x^2-3, embedding=-(sqrt2_plus_sqrt3^3 - 11*sqrt2_plus_sqrt3)/2)
sage: sqrt2 + sqrt3
sqrt2_plus_sqrt3
```
is working without any modification to the `_pushout_` method. You should simply remove what you wrote for number fields unless there is a real application for it.



---

archive/issue_events_346448.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-11-22T23:16:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346448"
}
```



---

archive/issue_events_346449.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-11-22T23:16:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346449"
}
```



---

archive/issue_comments_451654.json:
```json
{
    "body": "**Changing commit** from \"[b4b2cf10f5e5ad6b88825ad7ab7ba82a3400a854](https://github.com/sagemath/sagetrac-mirror/commit/b4b2cf10f5e5ad6b88825ad7ab7ba82a3400a854)\" to \"[d46d6bbbe80fdbf6bd367e2f0793b9482f644bd4](https://github.com/sagemath/sagetrac-mirror/commit/d46d6bbbe80fdbf6bd367e2f0793b9482f644bd4)\".",
    "created_at": "2019-11-23T07:07:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451654",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[b4b2cf10f5e5ad6b88825ad7ab7ba82a3400a854](https://github.com/sagemath/sagetrac-mirror/commit/b4b2cf10f5e5ad6b88825ad7ab7ba82a3400a854)" to "[d46d6bbbe80fdbf6bd367e2f0793b9482f644bd4](https://github.com/sagemath/sagetrac-mirror/commit/d46d6bbbe80fdbf6bd367e2f0793b9482f644bd4)".



---

archive/issue_comments_451655.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d46d6bbbe80fdbf6bd367e2f0793b9482f644bd4\">d46d6bb</a></td><td><code>remove unneeded test</code></td></tr></table>\n",
    "created_at": "2019-11-23T07:07:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451655",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d46d6bbbe80fdbf6bd367e2f0793b9482f644bd4">d46d6bb</a></td><td><code>remove unneeded test</code></td></tr></table>




---

archive/issue_events_346450.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-23T07:20:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346450"
}
```



---

archive/issue_events_346451.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-23T07:20:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346451"
}
```



---

archive/issue_comments_451656.json:
```json
{
    "body": "<a id='comment:14'></a>\nOk. I see.\n\nThis example is handled by the `_pushout_` method now, but I don't think it hurts. I wasn't aware that a canonical coercion is already discovered. Nice.\n\nI could also just handle `AA` and `QQbar`, if this seems more reasonable.",
    "created_at": "2019-11-23T07:20:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451656",
    "user": "https://github.com/kliem"
}
```

<a id='comment:14'></a>
Ok. I see.

This example is handled by the `_pushout_` method now, but I don't think it hurts. I wasn't aware that a canonical coercion is already discovered. Nice.

I could also just handle `AA` and `QQbar`, if this seems more reasonable.



---

archive/issue_comments_451657.json:
```json
{
    "body": "**Changing commit** from \"[d46d6bbbe80fdbf6bd367e2f0793b9482f644bd4](https://github.com/sagemath/sagetrac-mirror/commit/d46d6bbbe80fdbf6bd367e2f0793b9482f644bd4)\" to \"[9a1bce35034c4292eee9ecb8a56a19ce8bc75f94](https://github.com/sagemath/sagetrac-mirror/commit/9a1bce35034c4292eee9ecb8a56a19ce8bc75f94)\".",
    "created_at": "2019-11-23T16:40:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451657",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[d46d6bbbe80fdbf6bd367e2f0793b9482f644bd4](https://github.com/sagemath/sagetrac-mirror/commit/d46d6bbbe80fdbf6bd367e2f0793b9482f644bd4)" to "[9a1bce35034c4292eee9ecb8a56a19ce8bc75f94](https://github.com/sagemath/sagetrac-mirror/commit/9a1bce35034c4292eee9ecb8a56a19ce8bc75f94)".



---

archive/issue_comments_451658.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a1bce35034c4292eee9ecb8a56a19ce8bc75f94\">9a1bce3</a></td><td><code>small mistake in docstests</code></td></tr></table>\n",
    "created_at": "2019-11-23T16:40:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451658",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a1bce35034c4292eee9ecb8a56a19ce8bc75f94">9a1bce3</a></td><td><code>small mistake in docstests</code></td></tr></table>




---

archive/issue_events_346452.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-11-25T15:19:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346452"
}
```



---

archive/issue_events_346453.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-11-25T15:19:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346453"
}
```



---

archive/issue_comments_451659.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [@kliem](#comment%3A14):\n> Ok. I see.\n> \n> This example is handled by the `_pushout_` method now, but I don't think it hurts. I wasn't aware that a canonical coercion is already discovered. Nice.\n> \n> I could also just handle `AA` and `QQbar`, if this seems more reasonable.\n\nYes, it would be better.",
    "created_at": "2019-11-25T15:19:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451659",
    "user": "https://github.com/videlec"
}
```

<a id='comment:16'></a>
Replying to [@kliem](#comment%3A14):
> Ok. I see.
> 
> This example is handled by the `_pushout_` method now, but I don't think it hurts. I wasn't aware that a canonical coercion is already discovered. Nice.
> 
> I could also just handle `AA` and `QQbar`, if this seems more reasonable.

Yes, it would be better.



---

archive/issue_comments_451660.json:
```json
{
    "body": "**Changing commit** from \"[9a1bce35034c4292eee9ecb8a56a19ce8bc75f94](https://github.com/sagemath/sagetrac-mirror/commit/9a1bce35034c4292eee9ecb8a56a19ce8bc75f94)\" to \"[8e7025115e4d2d203d67779d559ad3072c06073d](https://github.com/sagemath/sagetrac-mirror/commit/8e7025115e4d2d203d67779d559ad3072c06073d)\".",
    "created_at": "2019-11-25T16:10:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451660",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[9a1bce35034c4292eee9ecb8a56a19ce8bc75f94](https://github.com/sagemath/sagetrac-mirror/commit/9a1bce35034c4292eee9ecb8a56a19ce8bc75f94)" to "[8e7025115e4d2d203d67779d559ad3072c06073d](https://github.com/sagemath/sagetrac-mirror/commit/8e7025115e4d2d203d67779d559ad3072c06073d)".



---

archive/issue_comments_451661.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e7025115e4d2d203d67779d559ad3072c06073d\">8e70251</a></td><td><code>defining the pushout for number fields just for AA and QQbar</code></td></tr></table>\n",
    "created_at": "2019-11-25T16:10:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451661",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:17'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e7025115e4d2d203d67779d559ad3072c06073d">8e70251</a></td><td><code>defining the pushout for number fields just for AA and QQbar</code></td></tr></table>




---

archive/issue_events_346454.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-25T16:11:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346454"
}
```



---

archive/issue_events_346455.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-25T16:11:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346455"
}
```



---

archive/issue_comments_451662.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -16,4 +16,4 @@\n ...\n TypeError: unsupported operand parent(s) for +\n ```\n-This ticket implements it and the case that both are embedded into the same field.\n+This ticket implements it.\n``````\n",
    "created_at": "2019-11-25T16:11:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451662",
    "user": "https://github.com/kliem"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -16,4 +16,4 @@
 ...
 TypeError: unsupported operand parent(s) for +
 ```
-This ticket implements it and the case that both are embedded into the same field.
+This ticket implements it.
``````




---

archive/issue_events_346456.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-06T14:10:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "milestone_number": null,
    "milestone_title": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346456"
}
```



---

archive/issue_events_346457.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-06T14:10:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346457"
}
```



---

archive/issue_comments_451663.json:
```json
{
    "body": "<a id='comment:19'></a>\nTicket retargeted after milestone closed",
    "created_at": "2020-01-06T14:10:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451663",
    "user": "https://github.com/embray"
}
```

<a id='comment:19'></a>
Ticket retargeted after milestone closed



---

archive/issue_events_346458.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346458"
}
```



---

archive/issue_events_346459.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346459"
}
```



---

archive/issue_comments_451664.json:
```json
{
    "body": "<a id='comment:20'></a>\nBatch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451664",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'></a>
Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_comments_451665.json:
```json
{
    "body": "<a id='comment:21'></a>\nMaybe we could be more greedy with something like\n\n```\nif codomain_self is not self or codomain_other is not other:\n    try:\n        return coercion_model.common_parent(codomain_self, codomain_other)\n    except TypeError:\n        pass\n```",
    "created_at": "2020-04-23T16:53:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451665",
    "user": "https://github.com/videlec"
}
```

<a id='comment:21'></a>
Maybe we could be more greedy with something like

```
if codomain_self is not self or codomain_other is not other:
    try:
        return coercion_model.common_parent(codomain_self, codomain_other)
    except TypeError:
        pass
```



---

archive/issue_comments_451666.json:
```json
{
    "body": "<a id='comment:22'></a>\nLooks like a good improvement as is.\n\nFeel free to open the suggestion from comment 21 as another ticket.",
    "created_at": "2020-07-18T19:23:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451666",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'></a>
Looks like a good improvement as is.

Feel free to open the suggestion from comment 21 as another ticket.



---

archive/issue_events_346460.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-18T19:23:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346460"
}
```



---

archive/issue_events_346461.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-18T19:23:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346461"
}
```



---

archive/issue_comments_451667.json:
```json
{
    "body": "**Reviewer:** Vincent Delecroix, Matthias Koeppe",
    "created_at": "2020-07-18T19:23:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451667",
    "user": "https://github.com/mkoeppe"
}
```

**Reviewer:** Vincent Delecroix, Matthias Koeppe



---

archive/issue_comments_451668.json:
```json
{
    "body": "<a id='comment:23'></a>\nThank you.",
    "created_at": "2020-07-18T19:41:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451668",
    "user": "https://github.com/kliem"
}
```

<a id='comment:23'></a>
Thank you.



---

archive/issue_comments_451669.json:
```json
{
    "body": "**Changing branch** from \"[public/28778-bis](https://github.com/sagemath/sagetrac-mirror/tree/public/28778-bis)\" to \"[8e7025115e4d2d203d67779d559ad3072c06073d](https://github.com/sagemath/sagetrac-mirror/commit/8e7025115e4d2d203d67779d559ad3072c06073d)\".",
    "created_at": "2020-07-25T22:51:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-451669",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/28778-bis](https://github.com/sagemath/sagetrac-mirror/tree/public/28778-bis)" to "[8e7025115e4d2d203d67779d559ad3072c06073d](https://github.com/sagemath/sagetrac-mirror/commit/8e7025115e4d2d203d67779d559ad3072c06073d)".



---

archive/issue_events_346462.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-25T22:51:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346462"
}
```



---

archive/issue_events_346463.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "8dd15d342442e8be442614e90186e67d7755ebd5",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-07-25T22:51:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-346463"
}
```
