# Issue 28778: Generalize pushout of number fields with compatible embeddings

archive/issues_028541.json:
```json
{
    "assignees": [],
    "body": "The pushout of two algebraic number fields with a coerce embedding in `AA` (the real algebraic fields) is implemented as being `AA`. As a consequence, it is possible to add elements from different number fields\n\n```\nsage: K.<a> = NumberField(x^3 - 2, embedding=AA(2)**(1/3))\nsage: L.<b> = NumberField(x^2 - 3, embedding=AA(3)**(1/2))\nsage: a + b\n2.991971857463751?\n```\nThough, the pushout is not implemented for fields with coerce embedding in `QQbar` (algebraic field).\n\n```\nsage: K.<a> = NumberField(x^3 - 2, embedding=QQbar(2)**(1/3) * QQbar.zeta(3))\nsage: L.<b> = NumberField(x^3 - 3, embedding=QQbar(3)**(1/3) * QQbar.zeta(3)**2)\nsage: a + b\nTraceback (most recent call last):\n...\nTypeError: unsupported operand parent(s) for +\n```\nThis ticket implements it.\n\nKeywords: **pushout, composite field**\n\nBranch/Commit: **[`8e70251`](https://github.com/sagemath/sagetrac-mirror/commit/8e7025115e4d2d203d67779d559ad3072c06073d)**\n\nReviewer: **Vincent Delecroix, Matthias Koeppe**\n\nAuthor: **Jonathan Kliem**\n\nComponent: **number fields**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/28778_\n\n",
    "closed_at": "2020-07-25T22:51:26Z",
    "created_at": "2019-11-20T14:02:50Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20number%20fields",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/c%3A%20number%20fields",
        "https://github.com/sagemath/sage/labels/c%3A%20coercion"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Generalize pushout of number fields with compatible embeddings",
    "type": "issue",
    "updated_at": "2020-07-25T22:51:26Z",
    "url": "https://github.com/sagemath/sage/issues/28778",
    "user": "https://github.com/kliem"
}
```
The pushout of two algebraic number fields with a coerce embedding in `AA` (the real algebraic fields) is implemented as being `AA`. As a consequence, it is possible to add elements from different number fields

```
sage: K.<a> = NumberField(x^3 - 2, embedding=AA(2)**(1/3))
sage: L.<b> = NumberField(x^2 - 3, embedding=AA(3)**(1/2))
sage: a + b
2.991971857463751?
```
Though, the pushout is not implemented for fields with coerce embedding in `QQbar` (algebraic field).

```
sage: K.<a> = NumberField(x^3 - 2, embedding=QQbar(2)**(1/3) * QQbar.zeta(3))
sage: L.<b> = NumberField(x^3 - 3, embedding=QQbar(3)**(1/3) * QQbar.zeta(3)**2)
sage: a + b
Traceback (most recent call last):
...
TypeError: unsupported operand parent(s) for +
```
This ticket implements it.

Keywords: **pushout, composite field**

Branch/Commit: **[`8e70251`](https://github.com/sagemath/sagetrac-mirror/commit/8e7025115e4d2d203d67779d559ad3072c06073d)**

Reviewer: **Vincent Delecroix, Matthias Koeppe**

Author: **Jonathan Kliem**

Component: **number fields**

_Issue created by migration from https://trac.sagemath.org/ticket/28778_





---

archive/issue_events_392302.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-20T14:02:50Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "milestone_number": null,
    "milestone_title": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392302"
}
```



---

archive/issue_events_392303.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-20T14:02:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20number%20fields",
    "label_color": "0000ff",
    "label_name": "c: number fields",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392303"
}
```



---

archive/issue_events_392304.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-20T14:02:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392304"
}
```



---

archive/issue_events_392305.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-20T14:02:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392305"
}
```



---

archive/issue_events_392306.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-20T14:02:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20number%20fields",
    "label_color": "0000ff",
    "label_name": "c: number fields",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392306"
}
```



---

archive/issue_events_392307.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-20T14:02:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20coercion",
    "label_color": "0000ff",
    "label_name": "c: coercion",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392307"
}
```



---

archive/issue_comments_448795.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aac8e0a623d2de23db244d95dd59bf725a4a0cd2\"><code>aac8e0a</code></a></td><td><code>implement pushout for generic number fields with compatible embeddings</code></td></tr></table>\n",
    "created_at": "2019-11-20T14:03:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448795",
    "user": "https://github.com/kliem"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aac8e0a623d2de23db244d95dd59bf725a4a0cd2"><code>aac8e0a</code></a></td><td><code>implement pushout for generic number fields with compatible embeddings</code></td></tr></table>




---

archive/issue_events_392308.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-20T14:03:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392308"
}
```



---

archive/issue_comments_448796.json:
```json
{
    "body": "Commit: **[`aac8e0a`](https://github.com/sagemath/sagetrac-mirror/commit/aac8e0a623d2de23db244d95dd59bf725a4a0cd2)**",
    "created_at": "2019-11-20T14:03:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448796",
    "user": "https://github.com/kliem"
}
```

Commit: **[`aac8e0a`](https://github.com/sagemath/sagetrac-mirror/commit/aac8e0a623d2de23db244d95dd59bf725a4a0cd2)**



---

archive/issue_comments_448797.json:
```json
{
    "body": "Branch: **[public/28778](https://github.com/sagemath/sagetrac-mirror/tree/public/28778)**",
    "created_at": "2019-11-20T14:03:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448797",
    "user": "https://github.com/kliem"
}
```

Branch: **[public/28778](https://github.com/sagemath/sagetrac-mirror/tree/public/28778)**



---

archive/issue_events_392309.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-11-20T14:37:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392309"
}
```



---

archive/issue_events_392310.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-11-20T14:37:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392310"
}
```



---

archive/issue_comments_448798.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nA pushout is already available\n\n```\nsage: K.<a> = NumberField(x^2 - 2, embedding=AA(2).sqrt())\nsage: L.<b> = NumberField(x^2 - 3, embedding=AA(3).sqrt())\nsage: a+b\n3.146264369941973?\nsage: K._pushout_(L)\nAlgebraic Real Field\n```\n(was implemented in #20746)\n\nGoing via composite field is very fragile (order dependent, non canonical, expensive, etc).",
    "created_at": "2019-11-20T14:37:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448798",
    "user": "https://github.com/videlec"
}
```

<div id="comment:2" align="right">comment:2</div>

A pushout is already available

```
sage: K.<a> = NumberField(x^2 - 2, embedding=AA(2).sqrt())
sage: L.<b> = NumberField(x^2 - 3, embedding=AA(3).sqrt())
sage: a+b
3.146264369941973?
sage: K._pushout_(L)
Algebraic Real Field
```
(was implemented in #20746)

Going via composite field is very fragile (order dependent, non canonical, expensive, etc).



---

archive/issue_comments_448799.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThanks for pointing this out. I was aware of this method, but not that you had the discussion before.\n\nNevertheless, one could just devote this ticket here to implementing the case, where the fields are embedded into `QQbar`.\n\nI figured this would be useful for rings in general.",
    "created_at": "2019-11-20T15:52:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448799",
    "user": "https://github.com/kliem"
}
```

<div id="comment:3" align="right">comment:3</div>

Thanks for pointing this out. I was aware of this method, but not that you had the discussion before.

Nevertheless, one could just devote this ticket here to implementing the case, where the fields are embedded into `QQbar`.

I figured this would be useful for rings in general.



---

archive/issue_comments_448800.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@kliem](#comment:3):\n> Nevertheless, one could just devote this ticket here to implementing the case, where the fields are embedded into `QQbar`.\n> \n> I figured this would be useful for rings in general.\n\nAssuming this also makes coercion between `AA` and number fields embedded in `QQbar` possible, this would then help solve #28489 as far as I can see (possibly after #28774).",
    "created_at": "2019-11-20T21:51:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448800",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@kliem](#comment:3):
> Nevertheless, one could just devote this ticket here to implementing the case, where the fields are embedded into `QQbar`.
> 
> I figured this would be useful for rings in general.

Assuming this also makes coercion between `AA` and number fields embedded in `QQbar` possible, this would then help solve #28489 as far as I can see (possibly after #28774).



---

archive/issue_events_392311.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-11-20T23:33:31Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "title_is": "Generalize pushout of number fields with compatible embeddings",
    "title_was": "Implement pushout for generic number fields with compatible embeddings",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392311"
}
```



---

archive/issue_events_392312.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-11-20T23:33:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392312"
}
```



---

archive/issue_events_392313.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-11-20T23:33:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392313"
}
```



---

archive/issue_comments_448801.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,15 +1,19 @@\n-For generic number fields, there is a method `composite_fields` that\n-preserves there embeddings, if they exists:\n+The pushout of two algebraic number fields with a coerce embedding in `AA` (the real algebraic fields) is implemented as being `AA`. As a consequence, it is possible to add elements from different number fields\n \n ```\n-sage: z = QQ['z'].0\n-sage: K2 = NumberField(z^2 - 2,'s', embedding=AA(2).sqrt())\n-sage: K3 = NumberField(z^2 - 3,'t', embedding=AA(3).sqrt())\n-sage: K2.composite_fields(K3)\n-[Number Field in st with defining polynomial z^4 - 10*z^2 + 1 with st = 0.3178372451957823?]\n+sage: K.<a> = NumberField(x^3 - 2, embedding=AA(2)**(1/3))\n+sage: L.<b> = NumberField(x^2 - 3, embedding=AA(3)**(1/2))\n+sage: a + b\n+2.991971857463751?\n ```\n+Though, the pushout is not implemented for fields with coerce embedding in `QQbar` (algebraic field).\n \n-This ticket implements the method `_pushout_` to return this composite field, if:\n-- it exists,\n-- is unique,\n-- and both fields have compatible embeddings (e.g. the pushout of the fields embedded to exists).\n+```\n+sage: K.<a> = NumberField(x^3 - 2, embedding=QQbar(2)**(1/3) * QQbar.zeta(3))\n+sage: L.<b> = NumberField(x^3 - 3, embedding=QQbar(3)**(1/3) * QQbar.zeta(3)**2)\n+sage: a + b\n+Traceback (most recent call last):\n+...\n+TypeError: unsupported operand parent(s) for +\n+```\n+This ticket implements it.\n``````\n",
    "created_at": "2019-11-20T23:33:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448801",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,15 +1,19 @@
-For generic number fields, there is a method `composite_fields` that
-preserves there embeddings, if they exists:
+The pushout of two algebraic number fields with a coerce embedding in `AA` (the real algebraic fields) is implemented as being `AA`. As a consequence, it is possible to add elements from different number fields
 
 ```
-sage: z = QQ['z'].0
-sage: K2 = NumberField(z^2 - 2,'s', embedding=AA(2).sqrt())
-sage: K3 = NumberField(z^2 - 3,'t', embedding=AA(3).sqrt())
-sage: K2.composite_fields(K3)
-[Number Field in st with defining polynomial z^4 - 10*z^2 + 1 with st = 0.3178372451957823?]
+sage: K.<a> = NumberField(x^3 - 2, embedding=AA(2)**(1/3))
+sage: L.<b> = NumberField(x^2 - 3, embedding=AA(3)**(1/2))
+sage: a + b
+2.991971857463751?
 ```
+Though, the pushout is not implemented for fields with coerce embedding in `QQbar` (algebraic field).
 
-This ticket implements the method `_pushout_` to return this composite field, if:
-- it exists,
-- is unique,
-- and both fields have compatible embeddings (e.g. the pushout of the fields embedded to exists).
+```
+sage: K.<a> = NumberField(x^3 - 2, embedding=QQbar(2)**(1/3) * QQbar.zeta(3))
+sage: L.<b> = NumberField(x^3 - 3, embedding=QQbar(3)**(1/3) * QQbar.zeta(3)**2)
+sage: a + b
+Traceback (most recent call last):
+...
+TypeError: unsupported operand parent(s) for +
+```
+This ticket implements it.
``````




---

archive/issue_comments_448802.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\ndescription updated then",
    "created_at": "2019-11-20T23:33:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448802",
    "user": "https://github.com/videlec"
}
```

<div id="comment:5" align="right">comment:5</div>

description updated then



---

archive/issue_comments_448803.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d3258e66d6b976b401e66c9894c4194a0399e661\"><code>d3258e6</code></a></td><td><code>pushout for number fields with compatible embeddings</code></td></tr></table>\n",
    "created_at": "2019-11-21T11:17:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448803",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d3258e66d6b976b401e66c9894c4194a0399e661"><code>d3258e6</code></a></td><td><code>pushout for number fields with compatible embeddings</code></td></tr></table>




---

archive/issue_comments_448804.json:
```json
{
    "body": "Changed commit from **[`aac8e0a`](https://github.com/sagemath/sagetrac-mirror/commit/aac8e0a623d2de23db244d95dd59bf725a4a0cd2)** to **[`d3258e6`](https://github.com/sagemath/sagetrac-mirror/commit/d3258e66d6b976b401e66c9894c4194a0399e661)**",
    "created_at": "2019-11-21T11:17:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448804",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`aac8e0a`](https://github.com/sagemath/sagetrac-mirror/commit/aac8e0a623d2de23db244d95dd59bf725a4a0cd2)** to **[`d3258e6`](https://github.com/sagemath/sagetrac-mirror/commit/d3258e66d6b976b401e66c9894c4194a0399e661)**



---

archive/issue_comments_448805.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI also fixed a bug of the previous construction. It did try to coerce number fields embedded into `RLF` into `AA`, which did not work (the attribute `_embedded_real` is set to `True` in that case).\n\nThere is a failing doctest now in `sage/rings/qqbar.py` line 167, for which I need some help.\n\nThe test wants to make sure, that `QQ[I]` and `QQbar` cannot be implicitly coerced, as `QQ[I]` does not come with an embedding.\n\nThis makes sense, however this is not the way it is implemented:\n\n```\nsage: QQ[I]\nNumber Field in I with defining polynomial x^2 + 1 with I = 1*I\n```\nSo `QQ[I]` does come with an embedding to `QQbar` and therefore I think my construction is correct in using this embedding.\nUnlike this example\n\n```\nsage: K.<a> = NumberField(x^2 + 1); K\nNumber Field in a with defining polynomial x^2 + 1\n```\nwhere my construction does not give a pushout.",
    "created_at": "2019-11-21T11:30:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448805",
    "user": "https://github.com/kliem"
}
```

<div id="comment:7" align="right">comment:7</div>

I also fixed a bug of the previous construction. It did try to coerce number fields embedded into `RLF` into `AA`, which did not work (the attribute `_embedded_real` is set to `True` in that case).

There is a failing doctest now in `sage/rings/qqbar.py` line 167, for which I need some help.

The test wants to make sure, that `QQ[I]` and `QQbar` cannot be implicitly coerced, as `QQ[I]` does not come with an embedding.

This makes sense, however this is not the way it is implemented:

```
sage: QQ[I]
Number Field in I with defining polynomial x^2 + 1 with I = 1*I
```
So `QQ[I]` does come with an embedding to `QQbar` and therefore I think my construction is correct in using this embedding.
Unlike this example

```
sage: K.<a> = NumberField(x^2 + 1); K
Number Field in a with defining polynomial x^2 + 1
```
where my construction does not give a pushout.



---

archive/issue_events_392314.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-21T11:30:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392314"
}
```



---

archive/issue_events_392315.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-21T11:30:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392315"
}
```



---

archive/issue_comments_448806.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nTo be more precise, as it is `QQ[I]` comes with an embedding to complex lazy field:\n\n```\nsage: coercion_model.explain(QQ[I], CLF)\nCoercion on left operand via\n    Generic morphism:\n      From: Number Field in I with defining polynomial x^2 + 1 with I = 1*I\n      To:   Complex Lazy Field\n      Defn: I -> 1*I\nArithmetic performed after coercions.\nResult lives in Complex Lazy Field\nComplex Lazy Field\n```\nand there is a coercion from `QQbar` to `CLF`\n\n```\nsage: coercion_model.explain(QQbar, CLF)\nCoercion on left operand via\n    Generic morphism:\n      From: Algebraic Field\n      To:   Complex Lazy Field\nArithmetic performed after coercions.\nResult lives in Complex Lazy Field\nComplex Lazy Field\n```\nI find it very confusing, that there is a doctest fixing that there shall be no coercion of `QQ[I]` and `CLF`. If this is the way we want it to be, there should not be coercion of `QQ[I]` and `CLF` in the first place.\n\nThe same holds for `QQ[sqrt(2)]` btw. There is no embedding of `QQ[sqrt(2), sqrt(3)]` to `RLF`, but probably not by design but only because relative number fields do not support embeddings.",
    "created_at": "2019-11-21T14:38:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448806",
    "user": "https://github.com/kliem"
}
```

<div id="comment:8" align="right">comment:8</div>

To be more precise, as it is `QQ[I]` comes with an embedding to complex lazy field:

```
sage: coercion_model.explain(QQ[I], CLF)
Coercion on left operand via
    Generic morphism:
      From: Number Field in I with defining polynomial x^2 + 1 with I = 1*I
      To:   Complex Lazy Field
      Defn: I -> 1*I
Arithmetic performed after coercions.
Result lives in Complex Lazy Field
Complex Lazy Field
```
and there is a coercion from `QQbar` to `CLF`

```
sage: coercion_model.explain(QQbar, CLF)
Coercion on left operand via
    Generic morphism:
      From: Algebraic Field
      To:   Complex Lazy Field
Arithmetic performed after coercions.
Result lives in Complex Lazy Field
Complex Lazy Field
```
I find it very confusing, that there is a doctest fixing that there shall be no coercion of `QQ[I]` and `CLF`. If this is the way we want it to be, there should not be coercion of `QQ[I]` and `CLF` in the first place.

The same holds for `QQ[sqrt(2)]` btw. There is no embedding of `QQ[sqrt(2), sqrt(3)]` to `RLF`, but probably not by design but only because relative number fields do not support embeddings.



---

archive/issue_comments_448807.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nPlease tell me, if I should post a query on sage-devel instead.",
    "created_at": "2019-11-21T14:39:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448807",
    "user": "https://github.com/kliem"
}
```

<div id="comment:9" align="right">comment:9</div>

Please tell me, if I should post a query on sage-devel instead.



---

archive/issue_events_392316.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-21T14:39:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392316"
}
```



---

archive/issue_events_392317.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-21T14:39:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392317"
}
```



---

archive/issue_comments_448808.json:
```json
{
    "body": "Changed branch from **[public/28778](https://github.com/sagemath/sagetrac-mirror/tree/public/28778)** to **[public/28778-bis](https://github.com/sagemath/sagetrac-mirror/tree/public/28778-bis)**",
    "created_at": "2019-11-22T17:30:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448808",
    "user": "https://github.com/kliem"
}
```

Changed branch from **[public/28778](https://github.com/sagemath/sagetrac-mirror/tree/public/28778)** to **[public/28778-bis](https://github.com/sagemath/sagetrac-mirror/tree/public/28778-bis)**



---

archive/issue_events_392318.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-22T17:30:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392318"
}
```



---

archive/issue_events_392319.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-22T17:30:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392319"
}
```



---

archive/issue_comments_448809.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,4 +16,4 @@\n ...\n TypeError: unsupported operand parent(s) for +\n ```\n-This ticket implements it.\n+This ticket implements it and the case that both are embedded into the same field.\n``````\n",
    "created_at": "2019-11-22T17:30:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448809",
    "user": "https://github.com/kliem"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,4 +16,4 @@
 ...
 TypeError: unsupported operand parent(s) for +
 ```
-This ticket implements it.
+This ticket implements it and the case that both are embedded into the same field.
``````




---

archive/issue_comments_448810.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nOk, I just went back to just doing `QQbar` and added the case that both are embedded into the same field.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4b2cf10f5e5ad6b88825ad7ab7ba82a3400a854\"><code>b4b2cf1</code></a></td><td><code>pushout for number fields with compatible embeddings</code></td></tr></table>\n",
    "created_at": "2019-11-22T17:30:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448810",
    "user": "https://github.com/kliem"
}
```

<div id="comment:10" align="right">comment:10</div>

Ok, I just went back to just doing `QQbar` and added the case that both are embedded into the same field.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4b2cf10f5e5ad6b88825ad7ab7ba82a3400a854"><code>b4b2cf1</code></a></td><td><code>pushout for number fields with compatible embeddings</code></td></tr></table>




---

archive/issue_comments_448811.json:
```json
{
    "body": "Changed commit from **[`d3258e6`](https://github.com/sagemath/sagetrac-mirror/commit/d3258e66d6b976b401e66c9894c4194a0399e661)** to **[`b4b2cf1`](https://github.com/sagemath/sagetrac-mirror/commit/b4b2cf10f5e5ad6b88825ad7ab7ba82a3400a854)**",
    "created_at": "2019-11-22T17:30:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448811",
    "user": "https://github.com/kliem"
}
```

Changed commit from **[`d3258e6`](https://github.com/sagemath/sagetrac-mirror/commit/d3258e66d6b976b401e66c9894c4194a0399e661)** to **[`b4b2cf1`](https://github.com/sagemath/sagetrac-mirror/commit/b4b2cf10f5e5ad6b88825ad7ab7ba82a3400a854)**



---

archive/issue_comments_448812.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nYour example\n\n```\nsage: K.<sqrt2_plus_sqrt3> = NumberField(x^4 - 10*x^2 + 1)\nsage: K2.<sqrt2> = NumberField(x^2-2, embedding=(sqrt2_plus_sqrt3^3 - 9*sqrt2_plus_sqrt3)/2)\nsage: K3.<sqrt3> = NumberField(x^2-3, embedding=-(sqrt2_plus_sqrt3^3 - 11*sqrt2_plus_sqrt3)/2)\nsage: sqrt2 + sqrt3\nsqrt2_plus_sqrt3\n```\nis working without any modification to the `_pushout_` method. You should simply remove what you wrote for number fields unless there is a real application for it.",
    "created_at": "2019-11-22T23:16:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448812",
    "user": "https://github.com/videlec"
}
```

<div id="comment:11" align="right">comment:11</div>

Your example

```
sage: K.<sqrt2_plus_sqrt3> = NumberField(x^4 - 10*x^2 + 1)
sage: K2.<sqrt2> = NumberField(x^2-2, embedding=(sqrt2_plus_sqrt3^3 - 9*sqrt2_plus_sqrt3)/2)
sage: K3.<sqrt3> = NumberField(x^2-3, embedding=-(sqrt2_plus_sqrt3^3 - 11*sqrt2_plus_sqrt3)/2)
sage: sqrt2 + sqrt3
sqrt2_plus_sqrt3
```
is working without any modification to the `_pushout_` method. You should simply remove what you wrote for number fields unless there is a real application for it.



---

archive/issue_events_392320.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-11-22T23:16:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392320"
}
```



---

archive/issue_events_392321.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-11-22T23:16:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392321"
}
```



---

archive/issue_comments_448813.json:
```json
{
    "body": "Changed commit from **[`b4b2cf1`](https://github.com/sagemath/sagetrac-mirror/commit/b4b2cf10f5e5ad6b88825ad7ab7ba82a3400a854)** to **[`d46d6bb`](https://github.com/sagemath/sagetrac-mirror/commit/d46d6bbbe80fdbf6bd367e2f0793b9482f644bd4)**",
    "created_at": "2019-11-23T07:07:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448813",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b4b2cf1`](https://github.com/sagemath/sagetrac-mirror/commit/b4b2cf10f5e5ad6b88825ad7ab7ba82a3400a854)** to **[`d46d6bb`](https://github.com/sagemath/sagetrac-mirror/commit/d46d6bbbe80fdbf6bd367e2f0793b9482f644bd4)**



---

archive/issue_comments_448814.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d46d6bbbe80fdbf6bd367e2f0793b9482f644bd4\"><code>d46d6bb</code></a></td><td><code>remove unneeded test</code></td></tr></table>\n",
    "created_at": "2019-11-23T07:07:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448814",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d46d6bbbe80fdbf6bd367e2f0793b9482f644bd4"><code>d46d6bb</code></a></td><td><code>remove unneeded test</code></td></tr></table>




---

archive/issue_events_392322.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-23T07:20:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392322"
}
```



---

archive/issue_events_392323.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-23T07:20:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392323"
}
```



---

archive/issue_comments_448815.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nOk. I see.\n\nThis example is handled by the `_pushout_` method now, but I don't think it hurts. I wasn't aware that a canonical coercion is already discovered. Nice.\n\nI could also just handle `AA` and `QQbar`, if this seems more reasonable.",
    "created_at": "2019-11-23T07:20:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448815",
    "user": "https://github.com/kliem"
}
```

<div id="comment:14" align="right">comment:14</div>

Ok. I see.

This example is handled by the `_pushout_` method now, but I don't think it hurts. I wasn't aware that a canonical coercion is already discovered. Nice.

I could also just handle `AA` and `QQbar`, if this seems more reasonable.



---

archive/issue_comments_448816.json:
```json
{
    "body": "Changed commit from **[`d46d6bb`](https://github.com/sagemath/sagetrac-mirror/commit/d46d6bbbe80fdbf6bd367e2f0793b9482f644bd4)** to **[`9a1bce3`](https://github.com/sagemath/sagetrac-mirror/commit/9a1bce35034c4292eee9ecb8a56a19ce8bc75f94)**",
    "created_at": "2019-11-23T16:40:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448816",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d46d6bb`](https://github.com/sagemath/sagetrac-mirror/commit/d46d6bbbe80fdbf6bd367e2f0793b9482f644bd4)** to **[`9a1bce3`](https://github.com/sagemath/sagetrac-mirror/commit/9a1bce35034c4292eee9ecb8a56a19ce8bc75f94)**



---

archive/issue_comments_448817.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a1bce35034c4292eee9ecb8a56a19ce8bc75f94\"><code>9a1bce3</code></a></td><td><code>small mistake in docstests</code></td></tr></table>\n",
    "created_at": "2019-11-23T16:40:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448817",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a1bce35034c4292eee9ecb8a56a19ce8bc75f94"><code>9a1bce3</code></a></td><td><code>small mistake in docstests</code></td></tr></table>




---

archive/issue_events_392324.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-11-25T15:19:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392324"
}
```



---

archive/issue_events_392325.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-11-25T15:19:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392325"
}
```



---

archive/issue_comments_448818.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@kliem](#comment:14):\n> Ok. I see.\n> \n> This example is handled by the `_pushout_` method now, but I don't think it hurts. I wasn't aware that a canonical coercion is already discovered. Nice.\n> \n> I could also just handle `AA` and `QQbar`, if this seems more reasonable.\n\nYes, it would be better.",
    "created_at": "2019-11-25T15:19:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448818",
    "user": "https://github.com/videlec"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@kliem](#comment:14):
> Ok. I see.
> 
> This example is handled by the `_pushout_` method now, but I don't think it hurts. I wasn't aware that a canonical coercion is already discovered. Nice.
> 
> I could also just handle `AA` and `QQbar`, if this seems more reasonable.

Yes, it would be better.



---

archive/issue_comments_448819.json:
```json
{
    "body": "Changed commit from **[`9a1bce3`](https://github.com/sagemath/sagetrac-mirror/commit/9a1bce35034c4292eee9ecb8a56a19ce8bc75f94)** to **[`8e70251`](https://github.com/sagemath/sagetrac-mirror/commit/8e7025115e4d2d203d67779d559ad3072c06073d)**",
    "created_at": "2019-11-25T16:10:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448819",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9a1bce3`](https://github.com/sagemath/sagetrac-mirror/commit/9a1bce35034c4292eee9ecb8a56a19ce8bc75f94)** to **[`8e70251`](https://github.com/sagemath/sagetrac-mirror/commit/8e7025115e4d2d203d67779d559ad3072c06073d)**



---

archive/issue_comments_448820.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e7025115e4d2d203d67779d559ad3072c06073d\"><code>8e70251</code></a></td><td><code>defining the pushout for number fields just for AA and QQbar</code></td></tr></table>\n",
    "created_at": "2019-11-25T16:10:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448820",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e7025115e4d2d203d67779d559ad3072c06073d"><code>8e70251</code></a></td><td><code>defining the pushout for number fields just for AA and QQbar</code></td></tr></table>




---

archive/issue_events_392326.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-25T16:11:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392326"
}
```



---

archive/issue_events_392327.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-11-25T16:11:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392327"
}
```



---

archive/issue_comments_448821.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,4 +16,4 @@\n ...\n TypeError: unsupported operand parent(s) for +\n ```\n-This ticket implements it and the case that both are embedded into the same field.\n+This ticket implements it.\n``````\n",
    "created_at": "2019-11-25T16:11:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448821",
    "user": "https://github.com/kliem"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,4 +16,4 @@
 ...
 TypeError: unsupported operand parent(s) for +
 ```
-This ticket implements it and the case that both are embedded into the same field.
+This ticket implements it.
``````




---

archive/issue_events_392328.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-06T14:10:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "milestone_number": null,
    "milestone_title": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392328"
}
```



---

archive/issue_events_392329.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-06T14:10:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392329"
}
```



---

archive/issue_comments_448822.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nTicket retargeted after milestone closed",
    "created_at": "2020-01-06T14:10:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448822",
    "user": "https://github.com/embray"
}
```

<div id="comment:19" align="right">comment:19</div>

Ticket retargeted after milestone closed



---

archive/issue_events_392330.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392330"
}
```



---

archive/issue_events_392331.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392331"
}
```



---

archive/issue_comments_448823.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nBatch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448823",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:20" align="right">comment:20</div>

Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_comments_448824.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nMaybe we could be more greedy with something like\n\n```\nif codomain_self is not self or codomain_other is not other:\n    try:\n        return coercion_model.common_parent(codomain_self, codomain_other)\n    except TypeError:\n        pass\n```",
    "created_at": "2020-04-23T16:53:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448824",
    "user": "https://github.com/videlec"
}
```

<div id="comment:21" align="right">comment:21</div>

Maybe we could be more greedy with something like

```
if codomain_self is not self or codomain_other is not other:
    try:
        return coercion_model.common_parent(codomain_self, codomain_other)
    except TypeError:
        pass
```



---

archive/issue_comments_448825.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nLooks like a good improvement as is.\n\nFeel free to open the suggestion from comment 21 as another ticket.",
    "created_at": "2020-07-18T19:23:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448825",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:22" align="right">comment:22</div>

Looks like a good improvement as is.

Feel free to open the suggestion from comment 21 as another ticket.



---

archive/issue_events_392332.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-18T19:23:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392332"
}
```



---

archive/issue_events_392333.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-18T19:23:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392333"
}
```



---

archive/issue_comments_448826.json:
```json
{
    "body": "Reviewer: **Vincent Delecroix, Matthias Koeppe**",
    "created_at": "2020-07-18T19:23:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448826",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Vincent Delecroix, Matthias Koeppe**



---

archive/issue_comments_448827.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nThank you.",
    "created_at": "2020-07-18T19:41:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448827",
    "user": "https://github.com/kliem"
}
```

<div id="comment:23" align="right">comment:23</div>

Thank you.



---

archive/issue_comments_448828.json:
```json
{
    "body": "Changed branch from **[public/28778-bis](https://github.com/sagemath/sagetrac-mirror/tree/public/28778-bis)** to **[`8e70251`](https://github.com/sagemath/sagetrac-mirror/commit/8e7025115e4d2d203d67779d559ad3072c06073d)**",
    "created_at": "2020-07-25T22:51:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28778#issuecomment-448828",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/28778-bis](https://github.com/sagemath/sagetrac-mirror/tree/public/28778-bis)** to **[`8e70251`](https://github.com/sagemath/sagetrac-mirror/commit/8e7025115e4d2d203d67779d559ad3072c06073d)**



---

archive/issue_events_392334.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-07-25T22:51:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392334"
}
```



---

archive/issue_events_392335.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "8dd15d342442e8be442614e90186e67d7755ebd5",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-07-25T22:51:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28778",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28778#event-392335"
}
```
