# Issue 28572: conversion of quotient rings to macaulay2

archive/issues_028335.json:
```json
{
    "body": "Currently, conversion of quotient rings to M2 is not supported; we add this functionality:\n\n```\nsage: R.<x,y> = PolynomialRing(QQ)\nsage: I = R.ideal([x^2 - y])\nsage: macaulay2(R.quotient_ring(I))\n```\n\nThis also improves the conversion of ideals by moving the `MPolynomialIdeal_macaulay2_repr._macaulay2_` to `Ideal_generic._macaulay2_init_`; for example, the following now work but didn't before (see the doctests for examples):\n- ideals in univariate polynomial rings\n\n```\nsage: R.<x> = PolynomialRing(ZZ)\nsage: macaulay2(R.ideal(x^2))\n```\n- ideals in PIDs\n\n```\nsage: macaulay2(ideal(5))\n```\n\n\nNote that quotient rings in M2 inherit variable names from the ambient ring, so we mimic this behaviour in Sage::\n\n```\nsage: R = macaulay2(\"ZZ/7[x,y]\")\nsage: I = macaulay2(\"ideal (x^3 - y^2)\")\nsage: (R/I).gens()\n{x, y}\nsage: (R/I).sage().gens()\n(x, y)\n```\n\nWe also implement conversion of polynomials from quotient rings from/to M2:\n\n```\nsage: x, y = (R/I).gens()\nsage: f = (x^3 + 2*y^2*x)^7; f\n    18    14\n2x*y   + y\nsage: f.sage()\n2*x*y^18 + y^14\nsage: _.parent()\nQuotient of Multivariate Polynomial Ring in x, y over Finite Field of size 7 by the ideal (x^3 - y^2)\nsage: macaulay2(f.sage())\n    18    14\n2x*y   + y\n```\n\n\n\n**CC:**  @dimpase @mwageringel @antonleykin\n\n**Keywords:** IMA Coding Sprint, macaulay2, interfaces\n\n**Branch/Commit:** [3f4f6f577654bb038692a140df4dc9ca9be03219](https://github.com/sagemath/sagetrac-mirror/commit/3f4f6f577654bb038692a140df4dc9ca9be03219)\n\n**Reviewer:** Markus Wageringel, Dima Pasechnik\n\n**Author:** Franco Saliola\n\n**Dependencies:** #28567, #28571, #28074, #28591\n\nIssue created by migration from https://trac.sagemath.org/ticket/28572\n\n",
    "closed_at": "2019-10-29T23:41:57Z",
    "created_at": "2019-10-07T17:19:43Z",
    "labels": [
        "component: interfaces: optional",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.0",
    "title": "conversion of quotient rings to macaulay2",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28572",
    "user": "https://github.com/saliola"
}
```
Currently, conversion of quotient rings to M2 is not supported; we add this functionality:

```
sage: R.<x,y> = PolynomialRing(QQ)
sage: I = R.ideal([x^2 - y])
sage: macaulay2(R.quotient_ring(I))
```

This also improves the conversion of ideals by moving the `MPolynomialIdeal_macaulay2_repr._macaulay2_` to `Ideal_generic._macaulay2_init_`; for example, the following now work but didn't before (see the doctests for examples):
- ideals in univariate polynomial rings

```
sage: R.<x> = PolynomialRing(ZZ)
sage: macaulay2(R.ideal(x^2))
```
- ideals in PIDs

```
sage: macaulay2(ideal(5))
```


Note that quotient rings in M2 inherit variable names from the ambient ring, so we mimic this behaviour in Sage::

```
sage: R = macaulay2("ZZ/7[x,y]")
sage: I = macaulay2("ideal (x^3 - y^2)")
sage: (R/I).gens()
{x, y}
sage: (R/I).sage().gens()
(x, y)
```

We also implement conversion of polynomials from quotient rings from/to M2:

```
sage: x, y = (R/I).gens()
sage: f = (x^3 + 2*y^2*x)^7; f
    18    14
2x*y   + y
sage: f.sage()
2*x*y^18 + y^14
sage: _.parent()
Quotient of Multivariate Polynomial Ring in x, y over Finite Field of size 7 by the ideal (x^3 - y^2)
sage: macaulay2(f.sage())
    18    14
2x*y   + y
```



**CC:**  @dimpase @mwageringel @antonleykin

**Keywords:** IMA Coding Sprint, macaulay2, interfaces

**Branch/Commit:** [3f4f6f577654bb038692a140df4dc9ca9be03219](https://github.com/sagemath/sagetrac-mirror/commit/3f4f6f577654bb038692a140df4dc9ca9be03219)

**Reviewer:** Markus Wageringel, Dima Pasechnik

**Author:** Franco Saliola

**Dependencies:** #28567, #28571, #28074, #28591

Issue created by migration from https://trac.sagemath.org/ticket/28572





---

archive/issue_comments_529295.json:
```json
{
    "body": "**Commit:** [6e734c6da9c92f986ff3e7a9017221065057e8ac](https://github.com/sagemath/sagetrac-mirror/commit/6e734c6da9c92f986ff3e7a9017221065057e8ac)",
    "created_at": "2019-10-07T17:23:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529295",
    "user": "https://github.com/saliola"
}
```

**Commit:** [6e734c6da9c92f986ff3e7a9017221065057e8ac](https://github.com/sagemath/sagetrac-mirror/commit/6e734c6da9c92f986ff3e7a9017221065057e8ac)



---

archive/issue_comments_529296.json:
```json
{
    "body": "**Changing dependencies** from \"28571, 28074\" to \"#28571, #28074\".",
    "created_at": "2019-10-07T17:23:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529296",
    "user": "https://github.com/saliola"
}
```

**Changing dependencies** from "28571, 28074" to "#28571, #28074".



---

archive/issue_comments_529297.json:
```json
{
    "body": "**Branch:** [public/interfaces/m2/m2_quotient_rings](https://github.com/sagemath/sagetrac-mirror/tree/public/interfaces/m2/m2_quotient_rings)",
    "created_at": "2019-10-07T17:23:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529297",
    "user": "https://github.com/saliola"
}
```

**Branch:** [public/interfaces/m2/m2_quotient_rings](https://github.com/sagemath/sagetrac-mirror/tree/public/interfaces/m2/m2_quotient_rings)



---

archive/issue_comments_529298.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2019-10-07T17:23:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529298",
    "user": "https://github.com/saliola"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_529299.json:
```json
{
    "body": "**Changing commit** from \"[6e734c6da9c92f986ff3e7a9017221065057e8ac](https://github.com/sagemath/sagetrac-mirror/commit/6e734c6da9c92f986ff3e7a9017221065057e8ac)\" to \"[6a537c88b1e9480cf387d69542a268e1909e39de](https://github.com/sagemath/sagetrac-mirror/commit/6a537c88b1e9480cf387d69542a268e1909e39de)\".",
    "created_at": "2019-10-07T19:34:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529299",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6e734c6da9c92f986ff3e7a9017221065057e8ac](https://github.com/sagemath/sagetrac-mirror/commit/6e734c6da9c92f986ff3e7a9017221065057e8ac)" to "[6a537c88b1e9480cf387d69542a268e1909e39de](https://github.com/sagemath/sagetrac-mirror/commit/6a537c88b1e9480cf387d69542a268e1909e39de)".



---

archive/issue_comments_529300.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6a537c88b1e9480cf387d69542a268e1909e39de\">6a537c8</a></td><td><code>28572: fix conversion of quotient rings from Macaulay2 to Sage</code></td></tr></table>\n",
    "created_at": "2019-10-07T19:34:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529300",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6a537c88b1e9480cf387d69542a268e1909e39de">6a537c8</a></td><td><code>28572: fix conversion of quotient rings from Macaulay2 to Sage</code></td></tr></table>




---

archive/issue_comments_529301.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5ddbe5c5017d78bc2faa240954d3e561400864da\">5ddbe5c</a></td><td><code>mark m2 doctests as optional</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4b256a1d5a0e8eea859831e5e0bcbe7759bac2cb\">4b256a1</a></td><td><code>add _macaulay2_init_ method to QuotientRingElement</code></td></tr></table>\n",
    "created_at": "2019-10-07T20:02:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529301",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5ddbe5c5017d78bc2faa240954d3e561400864da">5ddbe5c</a></td><td><code>mark m2 doctests as optional</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4b256a1d5a0e8eea859831e5e0bcbe7759bac2cb">4b256a1</a></td><td><code>add _macaulay2_init_ method to QuotientRingElement</code></td></tr></table>




---

archive/issue_comments_529302.json:
```json
{
    "body": "**Changing commit** from \"[6a537c88b1e9480cf387d69542a268e1909e39de](https://github.com/sagemath/sagetrac-mirror/commit/6a537c88b1e9480cf387d69542a268e1909e39de)\" to \"[4b256a1d5a0e8eea859831e5e0bcbe7759bac2cb](https://github.com/sagemath/sagetrac-mirror/commit/4b256a1d5a0e8eea859831e5e0bcbe7759bac2cb)\".",
    "created_at": "2019-10-07T20:02:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529302",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6a537c88b1e9480cf387d69542a268e1909e39de](https://github.com/sagemath/sagetrac-mirror/commit/6a537c88b1e9480cf387d69542a268e1909e39de)" to "[4b256a1d5a0e8eea859831e5e0bcbe7759bac2cb](https://github.com/sagemath/sagetrac-mirror/commit/4b256a1d5a0e8eea859831e5e0bcbe7759bac2cb)".



---

archive/issue_comments_529303.json:
```json
{
    "body": "**Changing commit** from \"[4b256a1d5a0e8eea859831e5e0bcbe7759bac2cb](https://github.com/sagemath/sagetrac-mirror/commit/4b256a1d5a0e8eea859831e5e0bcbe7759bac2cb)\" to \"[d1566e572f380d5c00d9a024b90b01621216048c](https://github.com/sagemath/sagetrac-mirror/commit/d1566e572f380d5c00d9a024b90b01621216048c)\".",
    "created_at": "2019-10-07T20:20:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529303",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4b256a1d5a0e8eea859831e5e0bcbe7759bac2cb](https://github.com/sagemath/sagetrac-mirror/commit/4b256a1d5a0e8eea859831e5e0bcbe7759bac2cb)" to "[d1566e572f380d5c00d9a024b90b01621216048c](https://github.com/sagemath/sagetrac-mirror/commit/d1566e572f380d5c00d9a024b90b01621216048c)".



---

archive/issue_comments_529304.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1566e572f380d5c00d9a024b90b01621216048c\">d1566e5</a></td><td><code>correct inaccuracy in doctest description</code></td></tr></table>\n",
    "created_at": "2019-10-07T20:20:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529304",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1566e572f380d5c00d9a024b90b01621216048c">d1566e5</a></td><td><code>correct inaccuracy in doctest description</code></td></tr></table>




---

archive/issue_comments_529305.json:
```json
{
    "body": "**Changing commit** from \"[d1566e572f380d5c00d9a024b90b01621216048c](https://github.com/sagemath/sagetrac-mirror/commit/d1566e572f380d5c00d9a024b90b01621216048c)\" to \"[bd06a80b806ab7c38ad45a55024cf59b9f7e8f40](https://github.com/sagemath/sagetrac-mirror/commit/bd06a80b806ab7c38ad45a55024cf59b9f7e8f40)\".",
    "created_at": "2019-10-07T21:01:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529305",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d1566e572f380d5c00d9a024b90b01621216048c](https://github.com/sagemath/sagetrac-mirror/commit/d1566e572f380d5c00d9a024b90b01621216048c)" to "[bd06a80b806ab7c38ad45a55024cf59b9f7e8f40](https://github.com/sagemath/sagetrac-mirror/commit/bd06a80b806ab7c38ad45a55024cf59b9f7e8f40)".



---

archive/issue_comments_529306.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd06a80b806ab7c38ad45a55024cf59b9f7e8f40\">bd06a80</a></td><td><code>properly handle conversion of quotient ring elements & inherit variable names when converting from M2 quotient rings</code></td></tr></table>\n",
    "created_at": "2019-10-07T21:01:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529306",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd06a80b806ab7c38ad45a55024cf59b9f7e8f40">bd06a80</a></td><td><code>properly handle conversion of quotient ring elements & inherit variable names when converting from M2 quotient rings</code></td></tr></table>




---

archive/issue_comments_529307.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -19,3 +19,32 @@\n sage: macaulay2(ideal(5))\n ```\n \n+\n+Note that quotient rings in M2 inherit variable names from the ambient ring, so we mimic this behaviour in Sage::\n+\n+```\n+sage: R = macaulay2(\"ZZ/7[x,y]\")\n+sage: I = macaulay2(\"ideal (x^3 - y^2)\")\n+sage: (R/I).gens()\n+{x, y}\n+sage: (R/I).sage().gens()\n+(x, y)\n+```\n+\n+We also implement conversion of polynomials from quotient rings from/to M2:\n+\n+```\n+sage: x, y = (R/I).gens()\n+sage: f = (x^3 + 2*y^2*x)^7; f\n+    18    14\n+2x*y   + y\n+sage: f.sage()\n+2*x*y^18 + y^14\n+sage: _.parent()\n+Quotient of Multivariate Polynomial Ring in x, y over Finite Field of size 7 by the ideal (x^3 - y^2)\n+sage: macaulay2(f.sage())\n+    18    14\n+2x*y   + y\n+```\n+\n+\n``````\n",
    "created_at": "2019-10-07T21:10:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529307",
    "user": "https://github.com/saliola"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -19,3 +19,32 @@
 sage: macaulay2(ideal(5))
 ```
 
+
+Note that quotient rings in M2 inherit variable names from the ambient ring, so we mimic this behaviour in Sage::
+
+```
+sage: R = macaulay2("ZZ/7[x,y]")
+sage: I = macaulay2("ideal (x^3 - y^2)")
+sage: (R/I).gens()
+{x, y}
+sage: (R/I).sage().gens()
+(x, y)
+```
+
+We also implement conversion of polynomials from quotient rings from/to M2:
+
+```
+sage: x, y = (R/I).gens()
+sage: f = (x^3 + 2*y^2*x)^7; f
+    18    14
+2x*y   + y
+sage: f.sage()
+2*x*y^18 + y^14
+sage: _.parent()
+Quotient of Multivariate Polynomial Ring in x, y over Finite Field of size 7 by the ideal (x^3 - y^2)
+sage: macaulay2(f.sage())
+    18    14
+2x*y   + y
+```
+
+
``````




---

archive/issue_comments_529308.json:
```json
{
    "body": "**Changing commit** from \"[bd06a80b806ab7c38ad45a55024cf59b9f7e8f40](https://github.com/sagemath/sagetrac-mirror/commit/bd06a80b806ab7c38ad45a55024cf59b9f7e8f40)\" to \"[ec1773ed4debbc9627287962630c7a04e85cdb7a](https://github.com/sagemath/sagetrac-mirror/commit/ec1773ed4debbc9627287962630c7a04e85cdb7a)\".",
    "created_at": "2019-10-07T22:29:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529308",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[bd06a80b806ab7c38ad45a55024cf59b9f7e8f40](https://github.com/sagemath/sagetrac-mirror/commit/bd06a80b806ab7c38ad45a55024cf59b9f7e8f40)" to "[ec1773ed4debbc9627287962630c7a04e85cdb7a](https://github.com/sagemath/sagetrac-mirror/commit/ec1773ed4debbc9627287962630c7a04e85cdb7a)".



---

archive/issue_comments_529309.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec1773ed4debbc9627287962630c7a04e85cdb7a\">ec1773e</a></td><td><code>disable caching of M2 conversion of polynomials in quotient rings (change _macaulay2_init_ to _macaulay2_)</code></td></tr></table>\n",
    "created_at": "2019-10-07T22:29:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529309",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec1773ed4debbc9627287962630c7a04e85cdb7a">ec1773e</a></td><td><code>disable caching of M2 conversion of polynomials in quotient rings (change _macaulay2_init_ to _macaulay2_)</code></td></tr></table>




---

archive/issue_comments_529310.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25afa2f9be52e07bbd222dce0ff125fc8f6b8643\">25afa2f</a></td><td><code>simplify doctest</code></td></tr></table>\n",
    "created_at": "2019-10-07T22:31:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529310",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25afa2f9be52e07bbd222dce0ff125fc8f6b8643">25afa2f</a></td><td><code>simplify doctest</code></td></tr></table>




---

archive/issue_comments_529311.json:
```json
{
    "body": "**Changing commit** from \"[ec1773ed4debbc9627287962630c7a04e85cdb7a](https://github.com/sagemath/sagetrac-mirror/commit/ec1773ed4debbc9627287962630c7a04e85cdb7a)\" to \"[25afa2f9be52e07bbd222dce0ff125fc8f6b8643](https://github.com/sagemath/sagetrac-mirror/commit/25afa2f9be52e07bbd222dce0ff125fc8f6b8643)\".",
    "created_at": "2019-10-07T22:31:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529311",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ec1773ed4debbc9627287962630c7a04e85cdb7a](https://github.com/sagemath/sagetrac-mirror/commit/ec1773ed4debbc9627287962630c7a04e85cdb7a)" to "[25afa2f9be52e07bbd222dce0ff125fc8f6b8643](https://github.com/sagemath/sagetrac-mirror/commit/25afa2f9be52e07bbd222dce0ff125fc8f6b8643)".



---

archive/issue_comments_529312.json:
```json
{
    "body": "**Changing commit** from \"[25afa2f9be52e07bbd222dce0ff125fc8f6b8643](https://github.com/sagemath/sagetrac-mirror/commit/25afa2f9be52e07bbd222dce0ff125fc8f6b8643)\" to \"[19d9995883416aa73f370904c8cc2d474c5a170b](https://github.com/sagemath/sagetrac-mirror/commit/19d9995883416aa73f370904c8cc2d474c5a170b)\".",
    "created_at": "2019-10-08T00:25:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529312",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[25afa2f9be52e07bbd222dce0ff125fc8f6b8643](https://github.com/sagemath/sagetrac-mirror/commit/25afa2f9be52e07bbd222dce0ff125fc8f6b8643)" to "[19d9995883416aa73f370904c8cc2d474c5a170b](https://github.com/sagemath/sagetrac-mirror/commit/19d9995883416aa73f370904c8cc2d474c5a170b)".



---

archive/issue_comments_529313.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/19d9995883416aa73f370904c8cc2d474c5a170b\">19d9995</a></td><td><code>28572: remove unnecessary doctests</code></td></tr></table>\n",
    "created_at": "2019-10-08T00:25:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529313",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/19d9995883416aa73f370904c8cc2d474c5a170b">19d9995</a></td><td><code>28572: remove unnecessary doctests</code></td></tr></table>




---

archive/issue_comments_529314.json:
```json
{
    "body": "<a id='comment:10'></a>\nThe following does not work yet (not even with #28574):\n\n```\nsage: R = QQ['x,y'].quotient('x^2-y')['z,t']\nsage: f = R.base_ring()('x')^2 - R('z^2')\nsage: macaulay2(f)  # fails\n```\nThis fails because the variable names in the quotient ring are named `xbar,ybar` in Sage, but `x,y` in Macaulay2. The conversion routine for polynomials does not currently take this into account when the base ring is a quotient ring.\n\nOther than that, everything looks good to me up until here.",
    "created_at": "2019-10-08T01:46:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529314",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:10'></a>
The following does not work yet (not even with #28574):

```
sage: R = QQ['x,y'].quotient('x^2-y')['z,t']
sage: f = R.base_ring()('x')^2 - R('z^2')
sage: macaulay2(f)  # fails
```
This fails because the variable names in the quotient ring are named `xbar,ybar` in Sage, but `x,y` in Macaulay2. The conversion routine for polynomials does not currently take this into account when the base ring is a quotient ring.

Other than that, everything looks good to me up until here.



---

archive/issue_comments_529315.json:
```json
{
    "body": "**Changing dependencies** from \"#28571, #28074\" to \"#28567, #28571, #28074\".",
    "created_at": "2019-10-10T16:09:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529315",
    "user": "https://github.com/saliola"
}
```

**Changing dependencies** from "#28571, #28074" to "#28567, #28571, #28074".



---

archive/issue_comments_529316.json:
```json
{
    "body": "**Changing commit** from \"[19d9995883416aa73f370904c8cc2d474c5a170b](https://github.com/sagemath/sagetrac-mirror/commit/19d9995883416aa73f370904c8cc2d474c5a170b)\" to \"[15d35e3ae6392e1fdfbdf15cb3160de34c51a27b](https://github.com/sagemath/sagetrac-mirror/commit/15d35e3ae6392e1fdfbdf15cb3160de34c51a27b)\".",
    "created_at": "2019-10-10T16:22:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529316",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[19d9995883416aa73f370904c8cc2d474c5a170b](https://github.com/sagemath/sagetrac-mirror/commit/19d9995883416aa73f370904c8cc2d474c5a170b)" to "[15d35e3ae6392e1fdfbdf15cb3160de34c51a27b](https://github.com/sagemath/sagetrac-mirror/commit/15d35e3ae6392e1fdfbdf15cb3160de34c51a27b)".



---

archive/issue_comments_529317.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0d908887b2b61f69d86d31a8c348b33c0b822ee9\">0d90888</a></td><td><code>f4 and mgb opts for M2 gb computations</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/59b3215321353ed165a573fc16462dd055fd1bb2\">59b3215</a></td><td><code>add documentation and minor fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ad24c3f6850e4f739a68d63a1341a11916a0127\">1ad24c3</a></td><td><code>pass F4 and MGB to M2 as strings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7038ba2e92d2dd64fbc601677730baa0b1cf2bcd\">7038ba2</a></td><td><code>28567: run Macaulay2 f4 and mgb doctests over a finite field</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/00c028f94219dd8f5fbc68f566027ae1e80f2051\">00c028f</a></td><td><code>28567: add missing optional doctest flag</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/15d35e3ae6392e1fdfbdf15cb3160de34c51a27b\">15d35e3</a></td><td><code>Merge remote-tracking branch 'origin/public/interfaces/m2/f4etc' into public/interfaces/m2/m2_quotient_rings</code></td></tr></table>\n",
    "created_at": "2019-10-10T16:22:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529317",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0d908887b2b61f69d86d31a8c348b33c0b822ee9">0d90888</a></td><td><code>f4 and mgb opts for M2 gb computations</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/59b3215321353ed165a573fc16462dd055fd1bb2">59b3215</a></td><td><code>add documentation and minor fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ad24c3f6850e4f739a68d63a1341a11916a0127">1ad24c3</a></td><td><code>pass F4 and MGB to M2 as strings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7038ba2e92d2dd64fbc601677730baa0b1cf2bcd">7038ba2</a></td><td><code>28567: run Macaulay2 f4 and mgb doctests over a finite field</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/00c028f94219dd8f5fbc68f566027ae1e80f2051">00c028f</a></td><td><code>28567: add missing optional doctest flag</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/15d35e3ae6392e1fdfbdf15cb3160de34c51a27b">15d35e3</a></td><td><code>Merge remote-tracking branch 'origin/public/interfaces/m2/f4etc' into public/interfaces/m2/m2_quotient_rings</code></td></tr></table>




---

archive/issue_comments_529318.json:
```json
{
    "body": "<a id='comment:13'></a>\nI added a dependency to #28567 because this did not merge cleanly on top of it (and I merged it into this branch).",
    "created_at": "2019-10-10T16:26:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529318",
    "user": "https://github.com/saliola"
}
```

<a id='comment:13'></a>
I added a dependency to #28567 because this did not merge cleanly on top of it (and I merged it into this branch).



---

archive/issue_comments_529319.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2019-10-10T19:07:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529319",
    "user": "https://github.com/mwageringel"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_529320.json:
```json
{
    "body": "<a id='comment:14'></a>\nOk.",
    "created_at": "2019-10-10T19:07:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529320",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:14'></a>
Ok.



---

archive/issue_comments_529321.json:
```json
{
    "body": "**Reviewer:** Markus Wageringel",
    "created_at": "2019-10-10T19:07:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529321",
    "user": "https://github.com/mwageringel"
}
```

**Reviewer:** Markus Wageringel



---

archive/issue_comments_529322.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2019-10-15T22:45:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529322",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_529323.json:
```json
{
    "body": "<a id='comment:15'></a>\nMerge conflict (please merge in next beta)",
    "created_at": "2019-10-15T22:45:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529323",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:15'></a>
Merge conflict (please merge in next beta)



---

archive/issue_comments_529324.json:
```json
{
    "body": "**Changing dependencies** from \"#28567, #28571, #28074\" to \"#28567, #28571, #28074, #28591\".",
    "created_at": "2019-10-22T18:07:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529324",
    "user": "https://github.com/dimpase"
}
```

**Changing dependencies** from "#28567, #28571, #28074" to "#28567, #28571, #28074, #28591".



---

archive/issue_comments_529325.json:
```json
{
    "body": "<a id='comment:17'></a>\nrebased on top of the branch of #28591\n\n---\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e40eb601a4fc4c040b7bc4c06136d455dea4f9de\">e40eb60</a></td><td><code>make tests more foolproof.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/61ca2db5603288411223dabd6cd0ab5f6f04be6e\">61ca2db</a></td><td><code>conversion of quotient rings to macaulay2 & improvements to conversion of ideals</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/84702b476dbf3c5e7005c4ae53a285cda3b6cf14\">84702b4</a></td><td><code>28572: fix conversion of quotient rings from Macaulay2 to Sage</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4db4a3cf7fda101cd605a4f8c9dd7956d8e29ef1\">4db4a3c</a></td><td><code>mark m2 doctests as optional</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80b99b9cb23101609fc02b4702e07b32dd6d17b2\">80b99b9</a></td><td><code>add _macaulay2_init_ method to QuotientRingElement</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c185cff3c74d11392953b3484252e5ea3c58e69a\">c185cff</a></td><td><code>correct inaccuracy in doctest description</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca619b8afcf0c118dfcb5031e5f0d6f48ec43ba6\">ca619b8</a></td><td><code>properly handle conversion of quotient ring elements & inherit variable names when converting from M2 quotient rings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a0e906c26d7af942f08271227701b2ba58f5770\">3a0e906</a></td><td><code>disable caching of M2 conversion of polynomials in quotient rings (change _macaulay2_init_ to _macaulay2_)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/117ab9fdfd44f046b8578e6fa89165a627e50209\">117ab9f</a></td><td><code>simplify doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f4f6f577654bb038692a140df4dc9ca9be03219\">3f4f6f5</a></td><td><code>28572: remove unnecessary doctests</code></td></tr></table>\n",
    "created_at": "2019-10-22T21:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529325",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:17'></a>
rebased on top of the branch of #28591

---
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e40eb601a4fc4c040b7bc4c06136d455dea4f9de">e40eb60</a></td><td><code>make tests more foolproof.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/61ca2db5603288411223dabd6cd0ab5f6f04be6e">61ca2db</a></td><td><code>conversion of quotient rings to macaulay2 & improvements to conversion of ideals</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/84702b476dbf3c5e7005c4ae53a285cda3b6cf14">84702b4</a></td><td><code>28572: fix conversion of quotient rings from Macaulay2 to Sage</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4db4a3cf7fda101cd605a4f8c9dd7956d8e29ef1">4db4a3c</a></td><td><code>mark m2 doctests as optional</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80b99b9cb23101609fc02b4702e07b32dd6d17b2">80b99b9</a></td><td><code>add _macaulay2_init_ method to QuotientRingElement</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c185cff3c74d11392953b3484252e5ea3c58e69a">c185cff</a></td><td><code>correct inaccuracy in doctest description</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca619b8afcf0c118dfcb5031e5f0d6f48ec43ba6">ca619b8</a></td><td><code>properly handle conversion of quotient ring elements & inherit variable names when converting from M2 quotient rings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a0e906c26d7af942f08271227701b2ba58f5770">3a0e906</a></td><td><code>disable caching of M2 conversion of polynomials in quotient rings (change _macaulay2_init_ to _macaulay2_)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/117ab9fdfd44f046b8578e6fa89165a627e50209">117ab9f</a></td><td><code>simplify doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f4f6f577654bb038692a140df4dc9ca9be03219">3f4f6f5</a></td><td><code>28572: remove unnecessary doctests</code></td></tr></table>




---

archive/issue_comments_529326.json:
```json
{
    "body": "**Changing branch** from \"[public/interfaces/m2/m2_quotient_rings](https://github.com/sagemath/sagetrac-mirror/tree/public/interfaces/m2/m2_quotient_rings)\" to \"[u/dimpase/interfaces/m2/m2_quotient_rings](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/interfaces/m2/m2_quotient_rings)\".",
    "created_at": "2019-10-22T21:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529326",
    "user": "https://github.com/dimpase"
}
```

**Changing branch** from "[public/interfaces/m2/m2_quotient_rings](https://github.com/sagemath/sagetrac-mirror/tree/public/interfaces/m2/m2_quotient_rings)" to "[u/dimpase/interfaces/m2/m2_quotient_rings](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/interfaces/m2/m2_quotient_rings)".



---

archive/issue_comments_529327.json:
```json
{
    "body": "**Changing commit** from \"[15d35e3ae6392e1fdfbdf15cb3160de34c51a27b](https://github.com/sagemath/sagetrac-mirror/commit/15d35e3ae6392e1fdfbdf15cb3160de34c51a27b)\" to \"[3f4f6f577654bb038692a140df4dc9ca9be03219](https://github.com/sagemath/sagetrac-mirror/commit/3f4f6f577654bb038692a140df4dc9ca9be03219)\".",
    "created_at": "2019-10-22T21:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529327",
    "user": "https://github.com/dimpase"
}
```

**Changing commit** from "[15d35e3ae6392e1fdfbdf15cb3160de34c51a27b](https://github.com/sagemath/sagetrac-mirror/commit/15d35e3ae6392e1fdfbdf15cb3160de34c51a27b)" to "[3f4f6f577654bb038692a140df4dc9ca9be03219](https://github.com/sagemath/sagetrac-mirror/commit/3f4f6f577654bb038692a140df4dc9ca9be03219)".



---

archive/issue_comments_529328.json:
```json
{
    "body": "**Changing reviewer** from \"Markus Wageringel\" to \"Markus Wageringel, Dima Pasechnik\".",
    "created_at": "2019-10-22T21:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529328",
    "user": "https://github.com/dimpase"
}
```

**Changing reviewer** from "Markus Wageringel" to "Markus Wageringel, Dima Pasechnik".



---

archive/issue_comments_529329.json:
```json
{
    "body": "**Changing status** from needs_work to positive_review.",
    "created_at": "2019-10-22T21:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529329",
    "user": "https://github.com/dimpase"
}
```

**Changing status** from needs_work to positive_review.



---

archive/issue_events_081434.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-10-29T23:41:57Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28572#event-81434"
}
```



---

archive/issue_comments_529330.json:
```json
{
    "body": "**Changing branch** from \"[u/dimpase/interfaces/m2/m2_quotient_rings](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/interfaces/m2/m2_quotient_rings)\" to \"[3f4f6f577654bb038692a140df4dc9ca9be03219](https://github.com/sagemath/sagetrac-mirror/commit/3f4f6f577654bb038692a140df4dc9ca9be03219)\".",
    "created_at": "2019-10-29T23:41:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28572",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28572#issuecomment-529330",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/dimpase/interfaces/m2/m2_quotient_rings](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/interfaces/m2/m2_quotient_rings)" to "[3f4f6f577654bb038692a140df4dc9ca9be03219](https://github.com/sagemath/sagetrac-mirror/commit/3f4f6f577654bb038692a140df4dc9ca9be03219)".
