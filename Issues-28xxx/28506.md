# Issue 28506: Direct sum of polyhedron is broken, so is minkowski difference and face truncation

archive/issues_028269.json:
```json
{
    "assignees": [],
    "body": "The following returns a `TypeError`:\n\n```\nsage: s2 = polytopes.simplex(2)\nsage: s3 = polytopes.simplex(3)\nsage: t = s2.direct_sum(s3)\n```\n\nH-Polyhedra might have non-integral vertices and it is hard to tell from the H-Representation, whether this this is the case.\n\nWe fix `direct_sum`, `minkowski_difference` and `face_truncation` to try the quotient ring, if the given base ring does not work.\n\nCC:  @LaisRast @kliem\n\nKeywords: **polytopes**\n\nBranch/Commit: **[`6756d8a`](https://github.com/sagemath/sagetrac-mirror/commit/6756d8a870674020479fcceef4a8d450fb87ea4f)**\n\nReviewer: **Jean-Philippe Labb\u00e9**\n\nAuthor: **Jonathan Kliem**\n\nComponent: **geometry**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/28506_\n\n",
    "closed_at": "2019-11-07T23:30:10Z",
    "created_at": "2019-09-16T11:57:17Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20geometry",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Direct sum of polyhedron is broken, so is minkowski difference and face truncation",
    "type": "issue",
    "updated_at": "2019-11-07T23:30:10Z",
    "url": "https://github.com/sagemath/sage/issues/28506",
    "user": "https://github.com/jplab"
}
```
The following returns a `TypeError`:

```
sage: s2 = polytopes.simplex(2)
sage: s3 = polytopes.simplex(3)
sage: t = s2.direct_sum(s3)
```

H-Polyhedra might have non-integral vertices and it is hard to tell from the H-Representation, whether this this is the case.

We fix `direct_sum`, `minkowski_difference` and `face_truncation` to try the quotient ring, if the given base ring does not work.

CC:  @LaisRast @kliem

Keywords: **polytopes**

Branch/Commit: **[`6756d8a`](https://github.com/sagemath/sagetrac-mirror/commit/6756d8a870674020479fcceef4a8d450fb87ea4f)**

Reviewer: **Jean-Philippe Labbé**

Author: **Jonathan Kliem**

Component: **geometry**

_Issue created by migration from https://trac.sagemath.org/ticket/28506_





---

archive/issue_events_393260.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-09-16T11:57:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "c: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-393260"
}
```



---

archive/issue_events_393261.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-09-16T11:57:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-393261"
}
```



---

archive/issue_events_393262.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-09-16T11:57:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-393262"
}
```



---

archive/issue_events_393263.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-09-16T11:57:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-393263"
}
```



---

archive/issue_comments_444290.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nI'll fix it. Should be fast.\n\nAs far as I know, it's difficult to determine, whether this operation can be done with ring `ZZ`. So there are basically two options:\n\n- try the operation with coerced base rings and go to quotient field, if it fails (this is how `intersection` handles it)\n- just go to field in all cases.\n\nWhat do you think is better?",
    "created_at": "2019-09-16T13:10:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444290",
    "user": "https://github.com/kliem"
}
```

<div id="comment:1" align="right">comment:1</div>

I'll fix it. Should be fast.

As far as I know, it's difficult to determine, whether this operation can be done with ring `ZZ`. So there are basically two options:

- try the operation with coerced base rings and go to quotient field, if it fails (this is how `intersection` handles it)
- just go to field in all cases.

What do you think is better?



---

archive/issue_comments_444291.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\n`minkowski_difference` fails for the same reason. This fails, as coercing base rings may not suffice:\n\n```\nsage: Q = Polyhedron([[1,0],[0,1]])\nsage: S = Polyhedron([[0,0],[1,2]])\nsage: S.minkowski_difference(Q)\n```\n\nSame for `face_truncation` (also there is no example of linear coefficients in the docstring):\n\n```\nsage: P = polytopes.permutahedron(3)\nsage: P.face_truncation(P.faces(0)[0], linear_coefficients=[0,1,2], cut_frac=1)\n```",
    "created_at": "2019-09-16T13:28:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444291",
    "user": "https://github.com/kliem"
}
```

<div id="comment:2" align="right">comment:2</div>

`minkowski_difference` fails for the same reason. This fails, as coercing base rings may not suffice:

```
sage: Q = Polyhedron([[1,0],[0,1]])
sage: S = Polyhedron([[0,0],[1,2]])
sage: S.minkowski_difference(Q)
```

Same for `face_truncation` (also there is no example of linear coefficients in the docstring):

```
sage: P = polytopes.permutahedron(3)
sage: P.face_truncation(P.faces(0)[0], linear_coefficients=[0,1,2], cut_frac=1)
```



---

archive/issue_comments_444292.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI did both approaches. The approach that always takes the fraction is pushed into `public/28506-bis`.\n\nI guess there are pros and cons of both methods. I think most important cons are:\n- `try ... except` might take more much more time (I assume it can theoretically compute almost everything)\n- `try ... except` is a bad approach, if there was ever a thing as a lazy polyhedron (but then again, its a bad idea to set up a lazy Polyhedron in `ZZ` from inequalities and don't check, whether this works)\n- always taking fraction field changes the behavior of the methods (and it looks awful for Minkowski decomposition)\n \n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fa1a517823f48f6853f578ab94eacb7678d06ec9\"><code>fa1a517</code></a></td><td><code>added doctests that 28506 is fixed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e86ea8b2bbd1fdd017aa22a9318d3f08c3c3cfe6\"><code>e86ea8b</code></a></td><td><code>fixed 28506 by trying fraction field at failure</code></td></tr></table>\n",
    "created_at": "2019-09-16T15:47:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444292",
    "user": "https://github.com/kliem"
}
```

<div id="comment:3" align="right">comment:3</div>

I did both approaches. The approach that always takes the fraction is pushed into `public/28506-bis`.

I guess there are pros and cons of both methods. I think most important cons are:
- `try ... except` might take more much more time (I assume it can theoretically compute almost everything)
- `try ... except` is a bad approach, if there was ever a thing as a lazy polyhedron (but then again, its a bad idea to set up a lazy Polyhedron in `ZZ` from inequalities and don't check, whether this works)
- always taking fraction field changes the behavior of the methods (and it looks awful for Minkowski decomposition)
 
---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fa1a517823f48f6853f578ab94eacb7678d06ec9"><code>fa1a517</code></a></td><td><code>added doctests that 28506 is fixed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e86ea8b2bbd1fdd017aa22a9318d3f08c3c3cfe6"><code>e86ea8b</code></a></td><td><code>fixed 28506 by trying fraction field at failure</code></td></tr></table>




---

archive/issue_comments_444293.json:
```json
{
    "body": "Author: **Jonathan Kliem**",
    "created_at": "2019-09-16T15:47:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444293",
    "user": "https://github.com/kliem"
}
```

Author: **Jonathan Kliem**



---

archive/issue_events_393264.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-09-16T15:47:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-393264"
}
```



---

archive/issue_comments_444294.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,3 +6,6 @@\n sage: t = s2.direct_sum(s3)\n ```\n \n+H-Polyhedra might have non-integral vertices and it is hard to tell from the H-Representation, whether this this is the case.\n+\n+We fix `direct_sum`, `minkowski_difference` and `face_truncation` to try the quotient ring, if the given base ring does not work.\n``````\n",
    "created_at": "2019-09-16T15:47:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444294",
    "user": "https://github.com/kliem"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,3 +6,6 @@
 sage: t = s2.direct_sum(s3)
 ```
 
+H-Polyhedra might have non-integral vertices and it is hard to tell from the H-Representation, whether this this is the case.
+
+We fix `direct_sum`, `minkowski_difference` and `face_truncation` to try the quotient ring, if the given base ring does not work.
``````




---

archive/issue_comments_444295.json:
```json
{
    "body": "Branch: **[public/28506](https://github.com/sagemath/sagetrac-mirror/tree/public/28506)**",
    "created_at": "2019-09-16T15:47:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444295",
    "user": "https://github.com/kliem"
}
```

Branch: **[public/28506](https://github.com/sagemath/sagetrac-mirror/tree/public/28506)**



---

archive/issue_comments_444296.json:
```json
{
    "body": "Commit: **[`e86ea8b`](https://github.com/sagemath/sagetrac-mirror/commit/e86ea8b2bbd1fdd017aa22a9318d3f08c3c3cfe6)**",
    "created_at": "2019-09-16T15:47:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444296",
    "user": "https://github.com/kliem"
}
```

Commit: **[`e86ea8b`](https://github.com/sagemath/sagetrac-mirror/commit/e86ea8b2bbd1fdd017aa22a9318d3f08c3c3cfe6)**



---

archive/issue_events_393265.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-09-16T15:47:34Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "title_is": "Direct sum of polyhedron is broken, so is minkowski difference and face truncation",
    "title_was": "Direct sum of polyhedron is broken",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-393265"
}
```



---

archive/issue_comments_444297.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nBtw, the constructor sets up all H-Polyhedra with base ring as field unless one specifies a specific base ring.\n\nActually, I think this is the better approach, as construction should be done with a parent, for which they are well-defined, e.g.:\n\n- intersection of Polyhedra in `ZZ^2` are only well-defined in `QQ^2`, it's strange if some constructions have parent `ZZ^2`, while others have parent `QQ^2`\n- `face_truncation` for Polyhedra over `ZZ` is only well-defined if we lift them up to `QQ`",
    "created_at": "2019-09-16T16:02:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444297",
    "user": "https://github.com/kliem"
}
```

<div id="comment:4" align="right">comment:4</div>

Btw, the constructor sets up all H-Polyhedra with base ring as field unless one specifies a specific base ring.

Actually, I think this is the better approach, as construction should be done with a parent, for which they are well-defined, e.g.:

- intersection of Polyhedra in `ZZ^2` are only well-defined in `QQ^2`, it's strange if some constructions have parent `ZZ^2`, while others have parent `QQ^2`
- `face_truncation` for Polyhedra over `ZZ` is only well-defined if we lift them up to `QQ`



---

archive/issue_comments_444298.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nOne comment:\n\nThe tests should actually return something, so I would remove `t = ` and let the output get printed.\n\nI am still a bit puzzled as to why it did not work for direct sum. What was going on there?",
    "created_at": "2019-09-20T08:44:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444298",
    "user": "https://github.com/jplab"
}
```

<div id="comment:5" align="right">comment:5</div>

One comment:

The tests should actually return something, so I would remove `t = ` and let the output get printed.

I am still a bit puzzled as to why it did not work for direct sum. What was going on there?



---

archive/issue_comments_444299.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@jplab](#comment:5):\n> One comment:\n> \n> The tests should actually return something, so I would remove `t = ` and let the output get printed.\n\nOk. Will do it.\n> \n> I am still a bit puzzled as to why it did not work for direct sum. What was going on there?\n\n```\nsage: s2 = polytopes.simplex(2)\nsage: s2.base_ring()\nInteger Ring\nsage: s = polytopes.simplex(2)\nsage: s.base_ring()\nInteger Ring\nsage: s = s.change_ring(QQ)\nsage: t = s.direct_sum(s)\nsage: t.vertices()\n(A vertex at (0, 0, 1, 0, 0, 0),\n A vertex at (0, 1, 0, 0, 0, 0),\n A vertex at (1, 0, 0, 0, 0, 0),\n A vertex at (1/3, 1/3, 1/3, -1/3, -1/3, 2/3),\n A vertex at (1/3, 1/3, 1/3, -1/3, 2/3, -1/3),\n A vertex at (1/3, 1/3, 1/3, 2/3, -1/3, -1/3))\n```\n\nDoes this answer your question? As mentioned, direct sum (as well as intersection, minkowski difference and face truncation) are only defined for polytopes/polyhedra over a field.\n\nIn the same way, that `sage: 6/2` returns a rational, I think those operations should return a polytope with base ring constructed by first coercing and then taking the fraction field.",
    "created_at": "2019-09-20T09:29:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444299",
    "user": "https://github.com/kliem"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@jplab](#comment:5):
> One comment:
> 
> The tests should actually return something, so I would remove `t = ` and let the output get printed.

Ok. Will do it.
> 
> I am still a bit puzzled as to why it did not work for direct sum. What was going on there?

```
sage: s2 = polytopes.simplex(2)
sage: s2.base_ring()
Integer Ring
sage: s = polytopes.simplex(2)
sage: s.base_ring()
Integer Ring
sage: s = s.change_ring(QQ)
sage: t = s.direct_sum(s)
sage: t.vertices()
(A vertex at (0, 0, 1, 0, 0, 0),
 A vertex at (0, 1, 0, 0, 0, 0),
 A vertex at (1, 0, 0, 0, 0, 0),
 A vertex at (1/3, 1/3, 1/3, -1/3, -1/3, 2/3),
 A vertex at (1/3, 1/3, 1/3, -1/3, 2/3, -1/3),
 A vertex at (1/3, 1/3, 1/3, 2/3, -1/3, -1/3))
```

Does this answer your question? As mentioned, direct sum (as well as intersection, minkowski difference and face truncation) are only defined for polytopes/polyhedra over a field.

In the same way, that `sage: 6/2` returns a rational, I think those operations should return a polytope with base ring constructed by first coercing and then taking the fraction field.



---

archive/issue_comments_444300.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nAs mentioned. I think this approach is actually more suitable and at some point, we should change `intersection` accordingly.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/20ad51f952b05e8ec8888e54501365f72ca527a4\"><code>20ad51f</code></a></td><td><code>fixed 28506 by always taking fraction field</code></td></tr></table>\n",
    "created_at": "2019-09-20T09:29:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444300",
    "user": "https://github.com/kliem"
}
```

<div id="comment:7" align="right">comment:7</div>

As mentioned. I think this approach is actually more suitable and at some point, we should change `intersection` accordingly.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/20ad51f952b05e8ec8888e54501365f72ca527a4"><code>20ad51f</code></a></td><td><code>fixed 28506 by always taking fraction field</code></td></tr></table>




---

archive/issue_comments_444301.json:
```json
{
    "body": "Changed commit from **[`e86ea8b`](https://github.com/sagemath/sagetrac-mirror/commit/e86ea8b2bbd1fdd017aa22a9318d3f08c3c3cfe6)** to **[`20ad51f`](https://github.com/sagemath/sagetrac-mirror/commit/20ad51f952b05e8ec8888e54501365f72ca527a4)**",
    "created_at": "2019-09-20T09:29:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444301",
    "user": "https://github.com/kliem"
}
```

Changed commit from **[`e86ea8b`](https://github.com/sagemath/sagetrac-mirror/commit/e86ea8b2bbd1fdd017aa22a9318d3f08c3c3cfe6)** to **[`20ad51f`](https://github.com/sagemath/sagetrac-mirror/commit/20ad51f952b05e8ec8888e54501365f72ca527a4)**



---

archive/issue_comments_444302.json:
```json
{
    "body": "Changed branch from **[public/28506](https://github.com/sagemath/sagetrac-mirror/tree/public/28506)** to **[public/28506-bis](https://github.com/sagemath/sagetrac-mirror/tree/public/28506-bis)**",
    "created_at": "2019-09-20T09:29:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444302",
    "user": "https://github.com/kliem"
}
```

Changed branch from **[public/28506](https://github.com/sagemath/sagetrac-mirror/tree/public/28506)** to **[public/28506-bis](https://github.com/sagemath/sagetrac-mirror/tree/public/28506-bis)**



---

archive/issue_comments_444303.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@kliem](#comment:6):\n> Replying to [@jplab](#comment:5):\n> > One comment:\n> > \n> > The tests should actually return something, so I would remove `t = ` and let the output get printed.\n\n> \n> Ok. Will do it.\n> > \n> > I am still a bit puzzled as to why it did not work for direct sum. What was going on there?\n\n> \n> ```\n> sage: s2 = polytopes.simplex(2)\n> sage: s2.base_ring()\n> Integer Ring\n> sage: s = polytopes.simplex(2)\n> sage: s.base_ring()\n> Integer Ring\n> sage: s = s.change_ring(QQ)\n> sage: t = s.direct_sum(s)\n> sage: t.vertices()\n> (A vertex at (0, 0, 1, 0, 0, 0),\n>  A vertex at (0, 1, 0, 0, 0, 0),\n>  A vertex at (1, 0, 0, 0, 0, 0),\n>  A vertex at (1/3, 1/3, 1/3, -1/3, -1/3, 2/3),\n>  A vertex at (1/3, 1/3, 1/3, -1/3, 2/3, -1/3),\n>  A vertex at (1/3, 1/3, 1/3, 2/3, -1/3, -1/3))\n> ```\n> \n> Does this answer your question? As mentioned, direct sum (as well as intersection, minkowski difference and face truncation) are only defined for polytopes/polyhedra over a field.\n\nYes, this examples clarifies it. It should probably go right among the first examples to illustrate the construction.\n\nI was extremely confused, but now it makes sense. The problem is when we translate one of them to have center be the origin... \n\n> \n> In the same way, that `sage: 6/2` returns a rational, I think those operations should return a polytope with base ring constructed by first coercing and then taking the fraction field.\n\nYes, sounds reasonable.",
    "created_at": "2019-09-20T14:07:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444303",
    "user": "https://github.com/jplab"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@kliem](#comment:6):
> Replying to [@jplab](#comment:5):
> > One comment:
> > 
> > The tests should actually return something, so I would remove `t = ` and let the output get printed.

> 
> Ok. Will do it.
> > 
> > I am still a bit puzzled as to why it did not work for direct sum. What was going on there?

> 
> ```
> sage: s2 = polytopes.simplex(2)
> sage: s2.base_ring()
> Integer Ring
> sage: s = polytopes.simplex(2)
> sage: s.base_ring()
> Integer Ring
> sage: s = s.change_ring(QQ)
> sage: t = s.direct_sum(s)
> sage: t.vertices()
> (A vertex at (0, 0, 1, 0, 0, 0),
>  A vertex at (0, 1, 0, 0, 0, 0),
>  A vertex at (1, 0, 0, 0, 0, 0),
>  A vertex at (1/3, 1/3, 1/3, -1/3, -1/3, 2/3),
>  A vertex at (1/3, 1/3, 1/3, -1/3, 2/3, -1/3),
>  A vertex at (1/3, 1/3, 1/3, 2/3, -1/3, -1/3))
> ```
> 
> Does this answer your question? As mentioned, direct sum (as well as intersection, minkowski difference and face truncation) are only defined for polytopes/polyhedra over a field.

Yes, this examples clarifies it. It should probably go right among the first examples to illustrate the construction.

I was extremely confused, but now it makes sense. The problem is when we translate one of them to have center be the origin... 

> 
> In the same way, that `sage: 6/2` returns a rational, I think those operations should return a polytope with base ring constructed by first coercing and then taking the fraction field.

Yes, sounds reasonable.



---

archive/issue_comments_444304.json:
```json
{
    "body": "Changed commit from **[`20ad51f`](https://github.com/sagemath/sagetrac-mirror/commit/20ad51f952b05e8ec8888e54501365f72ca527a4)** to **[`ce30313`](https://github.com/sagemath/sagetrac-mirror/commit/ce30313f34389112c87c250181e16c3c9f211917)**",
    "created_at": "2019-09-20T19:16:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444304",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`20ad51f`](https://github.com/sagemath/sagetrac-mirror/commit/20ad51f952b05e8ec8888e54501365f72ca527a4)** to **[`ce30313`](https://github.com/sagemath/sagetrac-mirror/commit/ce30313f34389112c87c250181e16c3c9f211917)**



---

archive/issue_comments_444305.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce30313f34389112c87c250181e16c3c9f211917\"><code>ce30313</code></a></td><td><code>added output to doctest</code></td></tr></table>\n",
    "created_at": "2019-09-20T19:16:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444305",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce30313f34389112c87c250181e16c3c9f211917"><code>ce30313</code></a></td><td><code>added output to doctest</code></td></tr></table>




---

archive/issue_comments_444306.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@jplab](#comment:8):\n> Replying to [@kliem](#comment:6):\n> > Replying to [@jplab](#comment:5):\n> > > One comment:\n> > > \n> > > The tests should actually return something, so I would remove `t = ` and let the output get printed.\n\n> > \n> > Ok. Will do it.\n> > > \n> > > I am still a bit puzzled as to why it did not work for direct sum. What was going on there?\n\n> > \n> > ```\n> > sage: s2 = polytopes.simplex(2)\n> > sage: s2.base_ring()\n> > Integer Ring\n> > sage: s = polytopes.simplex(2)\n> > sage: s.base_ring()\n> > Integer Ring\n> > sage: s = s.change_ring(QQ)\n> > sage: t = s.direct_sum(s)\n> > sage: t.vertices()\n> > (A vertex at (0, 0, 1, 0, 0, 0),\n> >  A vertex at (0, 1, 0, 0, 0, 0),\n> >  A vertex at (1, 0, 0, 0, 0, 0),\n> >  A vertex at (1/3, 1/3, 1/3, -1/3, -1/3, 2/3),\n> >  A vertex at (1/3, 1/3, 1/3, -1/3, 2/3, -1/3),\n> >  A vertex at (1/3, 1/3, 1/3, 2/3, -1/3, -1/3))\n> > ```\n> > \n> > Does this answer your question? As mentioned, direct sum (as well as intersection, minkowski difference and face truncation) are only defined for polytopes/polyhedra over a field.\n\n> \n> Yes, this examples clarifies it. It should probably go right among the first examples to illustrate the construction.\n\nI could of course do it. But doesn't the existing example already illustrate this?\n\n> \n> I was extremely confused, but now it makes sense. The problem is when we translate one of them to have center be the origin... \n> \n> > \n> > In the same way, that `sage: 6/2` returns a rational, I think those operations should return a polytope with base ring constructed by first coercing and then taking the fraction field.\n\n> \n> Yes, sounds reasonable.",
    "created_at": "2019-09-20T19:17:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444306",
    "user": "https://github.com/kliem"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@jplab](#comment:8):
> Replying to [@kliem](#comment:6):
> > Replying to [@jplab](#comment:5):
> > > One comment:
> > > 
> > > The tests should actually return something, so I would remove `t = ` and let the output get printed.

> > 
> > Ok. Will do it.
> > > 
> > > I am still a bit puzzled as to why it did not work for direct sum. What was going on there?

> > 
> > ```
> > sage: s2 = polytopes.simplex(2)
> > sage: s2.base_ring()
> > Integer Ring
> > sage: s = polytopes.simplex(2)
> > sage: s.base_ring()
> > Integer Ring
> > sage: s = s.change_ring(QQ)
> > sage: t = s.direct_sum(s)
> > sage: t.vertices()
> > (A vertex at (0, 0, 1, 0, 0, 0),
> >  A vertex at (0, 1, 0, 0, 0, 0),
> >  A vertex at (1, 0, 0, 0, 0, 0),
> >  A vertex at (1/3, 1/3, 1/3, -1/3, -1/3, 2/3),
> >  A vertex at (1/3, 1/3, 1/3, -1/3, 2/3, -1/3),
> >  A vertex at (1/3, 1/3, 1/3, 2/3, -1/3, -1/3))
> > ```
> > 
> > Does this answer your question? As mentioned, direct sum (as well as intersection, minkowski difference and face truncation) are only defined for polytopes/polyhedra over a field.

> 
> Yes, this examples clarifies it. It should probably go right among the first examples to illustrate the construction.

I could of course do it. But doesn't the existing example already illustrate this?

> 
> I was extremely confused, but now it makes sense. The problem is when we translate one of them to have center be the origin... 
> 
> > 
> > In the same way, that `sage: 6/2` returns a rational, I think those operations should return a polytope with base ring constructed by first coercing and then taking the fraction field.

> 
> Yes, sounds reasonable.



---

archive/issue_comments_444307.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7080349f1d4255d8211657689181cc13b9096977\"><code>7080349</code></a></td><td><code>fixed minkowski decomposition</code></td></tr></table>\n",
    "created_at": "2019-09-20T19:31:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444307",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7080349f1d4255d8211657689181cc13b9096977"><code>7080349</code></a></td><td><code>fixed minkowski decomposition</code></td></tr></table>




---

archive/issue_comments_444308.json:
```json
{
    "body": "Changed commit from **[`ce30313`](https://github.com/sagemath/sagetrac-mirror/commit/ce30313f34389112c87c250181e16c3c9f211917)** to **[`7080349`](https://github.com/sagemath/sagetrac-mirror/commit/7080349f1d4255d8211657689181cc13b9096977)**",
    "created_at": "2019-09-20T19:31:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444308",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ce30313`](https://github.com/sagemath/sagetrac-mirror/commit/ce30313f34389112c87c250181e16c3c9f211917)** to **[`7080349`](https://github.com/sagemath/sagetrac-mirror/commit/7080349f1d4255d8211657689181cc13b9096977)**



---

archive/issue_comments_444309.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@kliem](#comment:10):\n> I could of course do it. But doesn't the existing example already illustrate this?\n> \n\nTrue.",
    "created_at": "2019-09-23T07:25:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444309",
    "user": "https://github.com/jplab"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@kliem](#comment:10):
> I could of course do it. But doesn't the existing example already illustrate this?
> 

True.



---

archive/issue_comments_444310.json:
```json
{
    "body": "Reviewer: **Jean-Philippe Labb\u00e9**",
    "created_at": "2019-10-14T09:37:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444310",
    "user": "https://github.com/jplab"
}
```

Reviewer: **Jean-Philippe Labbé**



---

archive/issue_events_393266.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-10-14T09:37:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "milestone_number": null,
    "milestone_title": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-393266"
}
```



---

archive/issue_events_393267.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-10-14T09:37:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-393267"
}
```



---

archive/issue_comments_444311.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThe \"some tests::\" might be superfluous. I would remove it.",
    "created_at": "2019-10-14T09:37:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444311",
    "user": "https://github.com/jplab"
}
```

<div id="comment:13" align="right">comment:13</div>

The "some tests::" might be superfluous. I would remove it.



---

archive/issue_comments_444312.json:
```json
{
    "body": "Changed commit from **[`7080349`](https://github.com/sagemath/sagetrac-mirror/commit/7080349f1d4255d8211657689181cc13b9096977)** to **[`b1c8187`](https://github.com/sagemath/sagetrac-mirror/commit/b1c81876e5c2a7b765df8984320ca1d3514764b6)**",
    "created_at": "2019-10-14T11:23:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444312",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7080349`](https://github.com/sagemath/sagetrac-mirror/commit/7080349f1d4255d8211657689181cc13b9096977)** to **[`b1c8187`](https://github.com/sagemath/sagetrac-mirror/commit/b1c81876e5c2a7b765df8984320ca1d3514764b6)**



---

archive/issue_comments_444313.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b1c81876e5c2a7b765df8984320ca1d3514764b6\"><code>b1c8187</code></a></td><td><code>small changes in documentation</code></td></tr></table>\n",
    "created_at": "2019-10-14T11:23:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444313",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b1c81876e5c2a7b765df8984320ca1d3514764b6"><code>b1c8187</code></a></td><td><code>small changes in documentation</code></td></tr></table>




---

archive/issue_events_393268.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-10-27T15:42:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-393268"
}
```



---

archive/issue_events_393269.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-10-27T15:42:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-393269"
}
```



---

archive/issue_comments_444314.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nSome tests are failing in the thematic tutorial. See patchbots.",
    "created_at": "2019-10-27T15:42:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444314",
    "user": "https://github.com/jplab"
}
```

<div id="comment:15" align="right">comment:15</div>

Some tests are failing in the thematic tutorial. See patchbots.



---

archive/issue_events_393270.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-10-28T06:04:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-393270"
}
```



---

archive/issue_events_393271.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-10-28T06:04:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-393271"
}
```



---

archive/issue_comments_444315.json:
```json
{
    "body": "Changed commit from **[`b1c8187`](https://github.com/sagemath/sagetrac-mirror/commit/b1c81876e5c2a7b765df8984320ca1d3514764b6)** to **[`47514e7`](https://github.com/sagemath/sagetrac-mirror/commit/47514e7d31f9d22227ea16c67b18fb4330f134f4)**",
    "created_at": "2019-10-28T06:04:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444315",
    "user": "https://github.com/kliem"
}
```

Changed commit from **[`b1c8187`](https://github.com/sagemath/sagetrac-mirror/commit/b1c81876e5c2a7b765df8984320ca1d3514764b6)** to **[`47514e7`](https://github.com/sagemath/sagetrac-mirror/commit/47514e7d31f9d22227ea16c67b18fb4330f134f4)**



---

archive/issue_comments_444316.json:
```json
{
    "body": "Changed branch from **[public/28506-bis](https://github.com/sagemath/sagetrac-mirror/tree/public/28506-bis)** to **[public/28506-reb2](https://github.com/sagemath/sagetrac-mirror/tree/public/28506-reb2)**",
    "created_at": "2019-10-28T06:04:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444316",
    "user": "https://github.com/kliem"
}
```

Changed branch from **[public/28506-bis](https://github.com/sagemath/sagetrac-mirror/tree/public/28506-bis)** to **[public/28506-reb2](https://github.com/sagemath/sagetrac-mirror/tree/public/28506-reb2)**



---

archive/issue_comments_444317.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc62aa606c96ae32474f44cc5708f8a8149c9dee\"><code>fc62aa6</code></a></td><td><code>fixed trac 28506</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fa4ddc15c4aed0a8f68f9d8b41450a21e5fc37ee\"><code>fa4ddc1</code></a></td><td><code>fixed failing doctest in documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47514e7d31f9d22227ea16c67b18fb4330f134f4\"><code>47514e7</code></a></td><td><code>Fixed trac 28506</code></td></tr></table>\n",
    "created_at": "2019-10-28T06:04:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444317",
    "user": "https://github.com/kliem"
}
```

<div id="comment:16"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc62aa606c96ae32474f44cc5708f8a8149c9dee"><code>fc62aa6</code></a></td><td><code>fixed trac 28506</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fa4ddc15c4aed0a8f68f9d8b41450a21e5fc37ee"><code>fa4ddc1</code></a></td><td><code>fixed failing doctest in documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47514e7d31f9d22227ea16c67b18fb4330f134f4"><code>47514e7</code></a></td><td><code>Fixed trac 28506</code></td></tr></table>




---

archive/issue_comments_444318.json:
```json
{
    "body": "Changed commit from **[`47514e7`](https://github.com/sagemath/sagetrac-mirror/commit/47514e7d31f9d22227ea16c67b18fb4330f134f4)** to **[`6756d8a`](https://github.com/sagemath/sagetrac-mirror/commit/6756d8a870674020479fcceef4a8d450fb87ea4f)**",
    "created_at": "2019-10-28T06:05:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444318",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`47514e7`](https://github.com/sagemath/sagetrac-mirror/commit/47514e7d31f9d22227ea16c67b18fb4330f134f4)** to **[`6756d8a`](https://github.com/sagemath/sagetrac-mirror/commit/6756d8a870674020479fcceef4a8d450fb87ea4f)**



---

archive/issue_comments_444319.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6756d8a870674020479fcceef4a8d450fb87ea4f\"><code>6756d8a</code></a></td><td><code>fixed trac 28506</code></td></tr></table>\n",
    "created_at": "2019-10-28T06:05:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444319",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6756d8a870674020479fcceef4a8d450fb87ea4f"><code>6756d8a</code></a></td><td><code>fixed trac 28506</code></td></tr></table>




---

archive/issue_events_393272.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-11-01T17:04:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-393272"
}
```



---

archive/issue_events_393273.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-11-01T17:04:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-393273"
}
```



---

archive/issue_comments_444320.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nLGTM",
    "created_at": "2019-11-01T17:04:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444320",
    "user": "https://github.com/jplab"
}
```

<div id="comment:18" align="right">comment:18</div>

LGTM



---

archive/issue_events_393274.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-11-07T23:30:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-393274"
}
```



---

archive/issue_events_393275.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "3145f5344cfb030520e45fd678402caddf760a73",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-11-07T23:30:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-393275"
}
```



---

archive/issue_comments_444321.json:
```json
{
    "body": "Changed branch from **[public/28506-reb2](https://github.com/sagemath/sagetrac-mirror/tree/public/28506-reb2)** to **[`6756d8a`](https://github.com/sagemath/sagetrac-mirror/commit/6756d8a870674020479fcceef4a8d450fb87ea4f)**",
    "created_at": "2019-11-07T23:30:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-444321",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/28506-reb2](https://github.com/sagemath/sagetrac-mirror/tree/public/28506-reb2)** to **[`6756d8a`](https://github.com/sagemath/sagetrac-mirror/commit/6756d8a870674020479fcceef4a8d450fb87ea4f)**
