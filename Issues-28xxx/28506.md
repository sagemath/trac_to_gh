# Issue 28506: Direct sum of polyhedron is broken, so is minkowski difference and face truncation

archive/issues_028269.json:
```json
{
    "assignees": [],
    "body": "The following returns a `TypeError`:\n\n```\nsage: s2 = polytopes.simplex(2)\nsage: s3 = polytopes.simplex(3)\nsage: t = s2.direct_sum(s3)\n```\n\nH-Polyhedra might have non-integral vertices and it is hard to tell from the H-Representation, whether this this is the case.\n\nWe fix `direct_sum`, `minkowski_difference` and `face_truncation` to try the quotient ring, if the given base ring does not work.\n\nCC:  @LaisRast @kliem\n\nKeywords: **polytopes**\n\nBranch/Commit: **[6756d8a](https://github.com/sagemath/sagetrac-mirror/commit/6756d8a870674020479fcceef4a8d450fb87ea4f)**\n\nReviewer: **Jean-Philippe Labb\u00e9**\n\nAuthor: **Jonathan Kliem**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/28506_\n\n",
    "closed_at": "2019-11-07T23:30:10Z",
    "created_at": "2019-09-16T11:57:17Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20geometry",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Direct sum of polyhedron is broken, so is minkowski difference and face truncation",
    "type": "issue",
    "updated_at": "2019-11-07T23:30:10Z",
    "url": "https://github.com/sagemath/sage/issues/28506",
    "user": "https://github.com/jplab"
}
```
The following returns a `TypeError`:

```
sage: s2 = polytopes.simplex(2)
sage: s3 = polytopes.simplex(3)
sage: t = s2.direct_sum(s3)
```

H-Polyhedra might have non-integral vertices and it is hard to tell from the H-Representation, whether this this is the case.

We fix `direct_sum`, `minkowski_difference` and `face_truncation` to try the quotient ring, if the given base ring does not work.

CC:  @LaisRast @kliem

Keywords: **polytopes**

Branch/Commit: **[6756d8a](https://github.com/sagemath/sagetrac-mirror/commit/6756d8a870674020479fcceef4a8d450fb87ea4f)**

Reviewer: **Jean-Philippe Labbé**

Author: **Jonathan Kliem**

_Issue created by migration from https://trac.sagemath.org/ticket/28506_





---

archive/issue_events_373068.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-09-16T11:57:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "component: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-373068"
}
```



---

archive/issue_events_373069.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-09-16T11:57:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-373069"
}
```



---

archive/issue_events_373070.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-09-16T11:57:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-373070"
}
```



---

archive/issue_events_373071.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-09-16T11:57:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-373071"
}
```



---

archive/issue_comments_447311.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nI'll fix it. Should be fast.\n\nAs far as I know, it's difficult to determine, whether this operation can be done with ring `ZZ`. So there are basically two options:\n\n- try the operation with coerced base rings and go to quotient field, if it fails (this is how `intersection` handles it)\n- just go to field in all cases.\n\nWhat do you think is better?",
    "created_at": "2019-09-16T13:10:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447311",
    "user": "https://github.com/kliem"
}
```

<a id='comment:1'>Comment 1:</a>
I'll fix it. Should be fast.

As far as I know, it's difficult to determine, whether this operation can be done with ring `ZZ`. So there are basically two options:

- try the operation with coerced base rings and go to quotient field, if it fails (this is how `intersection` handles it)
- just go to field in all cases.

What do you think is better?



---

archive/issue_comments_447312.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\n`minkowski_difference` fails for the same reason. This fails, as coercing base rings may not suffice:\n\n```\nsage: Q = Polyhedron([[1,0],[0,1]])\nsage: S = Polyhedron([[0,0],[1,2]])\nsage: S.minkowski_difference(Q)\n```\n\nSame for `face_truncation` (also there is no example of linear coefficients in the docstring):\n\n```\nsage: P = polytopes.permutahedron(3)\nsage: P.face_truncation(P.faces(0)[0], linear_coefficients=[0,1,2], cut_frac=1)\n```",
    "created_at": "2019-09-16T13:28:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447312",
    "user": "https://github.com/kliem"
}
```

<a id='comment:2'>Comment 2:</a>
`minkowski_difference` fails for the same reason. This fails, as coercing base rings may not suffice:

```
sage: Q = Polyhedron([[1,0],[0,1]])
sage: S = Polyhedron([[0,0],[1,2]])
sage: S.minkowski_difference(Q)
```

Same for `face_truncation` (also there is no example of linear coefficients in the docstring):

```
sage: P = polytopes.permutahedron(3)
sage: P.face_truncation(P.faces(0)[0], linear_coefficients=[0,1,2], cut_frac=1)
```



---

archive/issue_comments_447313.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nI did both approaches. The approach that always takes the fraction is pushed into `public/28506-bis`.\n\nI guess there are pros and cons of both methods. I think most important cons are:\n- `try ... except` might take more much more time (I assume it can theoretically compute almost everything)\n- `try ... except` is a bad approach, if there was ever a thing as a lazy polyhedron (but then again, its a bad idea to set up a lazy Polyhedron in `ZZ` from inequalities and don't check, whether this works)\n- always taking fraction field changes the behavior of the methods (and it looks awful for Minkowski decomposition)\n \n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fa1a517823f48f6853f578ab94eacb7678d06ec9\">fa1a517</a></td><td><code>added doctests that 28506 is fixed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e86ea8b2bbd1fdd017aa22a9318d3f08c3c3cfe6\">e86ea8b</a></td><td><code>fixed 28506 by trying fraction field at failure</code></td></tr></table>\n",
    "created_at": "2019-09-16T15:47:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447313",
    "user": "https://github.com/kliem"
}
```

<a id='comment:3'>Comment 3:</a>
I did both approaches. The approach that always takes the fraction is pushed into `public/28506-bis`.

I guess there are pros and cons of both methods. I think most important cons are:
- `try ... except` might take more much more time (I assume it can theoretically compute almost everything)
- `try ... except` is a bad approach, if there was ever a thing as a lazy polyhedron (but then again, its a bad idea to set up a lazy Polyhedron in `ZZ` from inequalities and don't check, whether this works)
- always taking fraction field changes the behavior of the methods (and it looks awful for Minkowski decomposition)
 
---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fa1a517823f48f6853f578ab94eacb7678d06ec9">fa1a517</a></td><td><code>added doctests that 28506 is fixed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e86ea8b2bbd1fdd017aa22a9318d3f08c3c3cfe6">e86ea8b</a></td><td><code>fixed 28506 by trying fraction field at failure</code></td></tr></table>




---

archive/issue_comments_447314.json:
```json
{
    "body": "Author: **Jonathan Kliem**",
    "created_at": "2019-09-16T15:47:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447314",
    "user": "https://github.com/kliem"
}
```

Author: **Jonathan Kliem**



---

archive/issue_events_373072.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-09-16T15:47:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-373072"
}
```



---

archive/issue_comments_447315.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,3 +6,6 @@\n sage: t = s2.direct_sum(s3)\n ```\n \n+H-Polyhedra might have non-integral vertices and it is hard to tell from the H-Representation, whether this this is the case.\n+\n+We fix `direct_sum`, `minkowski_difference` and `face_truncation` to try the quotient ring, if the given base ring does not work.\n``````\n",
    "created_at": "2019-09-16T15:47:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447315",
    "user": "https://github.com/kliem"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,3 +6,6 @@
 sage: t = s2.direct_sum(s3)
 ```
 
+H-Polyhedra might have non-integral vertices and it is hard to tell from the H-Representation, whether this this is the case.
+
+We fix `direct_sum`, `minkowski_difference` and `face_truncation` to try the quotient ring, if the given base ring does not work.
``````




---

archive/issue_comments_447316.json:
```json
{
    "body": "Branch: **[public/28506](https://github.com/sagemath/sagetrac-mirror/tree/public/28506)**",
    "created_at": "2019-09-16T15:47:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447316",
    "user": "https://github.com/kliem"
}
```

Branch: **[public/28506](https://github.com/sagemath/sagetrac-mirror/tree/public/28506)**



---

archive/issue_comments_447317.json:
```json
{
    "body": "Commit: **[e86ea8b](https://github.com/sagemath/sagetrac-mirror/commit/e86ea8b2bbd1fdd017aa22a9318d3f08c3c3cfe6)**",
    "created_at": "2019-09-16T15:47:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447317",
    "user": "https://github.com/kliem"
}
```

Commit: **[e86ea8b](https://github.com/sagemath/sagetrac-mirror/commit/e86ea8b2bbd1fdd017aa22a9318d3f08c3c3cfe6)**



---

archive/issue_events_373073.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-09-16T15:47:34Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "title_is": "Direct sum of polyhedron is broken, so is minkowski difference and face truncation",
    "title_was": "Direct sum of polyhedron is broken",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-373073"
}
```



---

archive/issue_comments_447318.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nBtw, the constructor sets up all H-Polyhedra with base ring as field unless one specifies a specific base ring.\n\nActually, I think this is the better approach, as construction should be done with a parent, for which they are well-defined, e.g.:\n\n- intersection of Polyhedra in `ZZ^2` are only well-defined in `QQ^2`, it's strange if some constructions have parent `ZZ^2`, while others have parent `QQ^2`\n- `face_truncation` for Polyhedra over `ZZ` is only well-defined if we lift them up to `QQ`",
    "created_at": "2019-09-16T16:02:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447318",
    "user": "https://github.com/kliem"
}
```

<a id='comment:4'>Comment 4:</a>
Btw, the constructor sets up all H-Polyhedra with base ring as field unless one specifies a specific base ring.

Actually, I think this is the better approach, as construction should be done with a parent, for which they are well-defined, e.g.:

- intersection of Polyhedra in `ZZ^2` are only well-defined in `QQ^2`, it's strange if some constructions have parent `ZZ^2`, while others have parent `QQ^2`
- `face_truncation` for Polyhedra over `ZZ` is only well-defined if we lift them up to `QQ`



---

archive/issue_comments_447319.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nOne comment:\n\nThe tests should actually return something, so I would remove `t = ` and let the output get printed.\n\nI am still a bit puzzled as to why it did not work for direct sum. What was going on there?",
    "created_at": "2019-09-20T08:44:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447319",
    "user": "https://github.com/jplab"
}
```

<a id='comment:5'>Comment 5:</a>
One comment:

The tests should actually return something, so I would remove `t = ` and let the output get printed.

I am still a bit puzzled as to why it did not work for direct sum. What was going on there?



---

archive/issue_comments_447320.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nReplying to [@jplab](#comment%3A5):\n> One comment:\n> \n> The tests should actually return something, so I would remove `t = ` and let the output get printed.\n\nOk. Will do it.\n> \n> I am still a bit puzzled as to why it did not work for direct sum. What was going on there?\n\n```\nsage: s2 = polytopes.simplex(2)\nsage: s2.base_ring()\nInteger Ring\nsage: s = polytopes.simplex(2)\nsage: s.base_ring()\nInteger Ring\nsage: s = s.change_ring(QQ)\nsage: t = s.direct_sum(s)\nsage: t.vertices()\n(A vertex at (0, 0, 1, 0, 0, 0),\n A vertex at (0, 1, 0, 0, 0, 0),\n A vertex at (1, 0, 0, 0, 0, 0),\n A vertex at (1/3, 1/3, 1/3, -1/3, -1/3, 2/3),\n A vertex at (1/3, 1/3, 1/3, -1/3, 2/3, -1/3),\n A vertex at (1/3, 1/3, 1/3, 2/3, -1/3, -1/3))\n```\n\nDoes this answer your question? As mentioned, direct sum (as well as intersection, minkowski difference and face truncation) are only defined for polytopes/polyhedra over a field.\n\nIn the same way, that `sage: 6/2` returns a rational, I think those operations should return a polytope with base ring constructed by first coercing and then taking the fraction field.",
    "created_at": "2019-09-20T09:29:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447320",
    "user": "https://github.com/kliem"
}
```

<a id='comment:6'>Comment 6:</a>
Replying to [@jplab](#comment%3A5):
> One comment:
> 
> The tests should actually return something, so I would remove `t = ` and let the output get printed.

Ok. Will do it.
> 
> I am still a bit puzzled as to why it did not work for direct sum. What was going on there?

```
sage: s2 = polytopes.simplex(2)
sage: s2.base_ring()
Integer Ring
sage: s = polytopes.simplex(2)
sage: s.base_ring()
Integer Ring
sage: s = s.change_ring(QQ)
sage: t = s.direct_sum(s)
sage: t.vertices()
(A vertex at (0, 0, 1, 0, 0, 0),
 A vertex at (0, 1, 0, 0, 0, 0),
 A vertex at (1, 0, 0, 0, 0, 0),
 A vertex at (1/3, 1/3, 1/3, -1/3, -1/3, 2/3),
 A vertex at (1/3, 1/3, 1/3, -1/3, 2/3, -1/3),
 A vertex at (1/3, 1/3, 1/3, 2/3, -1/3, -1/3))
```

Does this answer your question? As mentioned, direct sum (as well as intersection, minkowski difference and face truncation) are only defined for polytopes/polyhedra over a field.

In the same way, that `sage: 6/2` returns a rational, I think those operations should return a polytope with base ring constructed by first coercing and then taking the fraction field.



---

archive/issue_comments_447321.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nAs mentioned. I think this approach is actually more suitable and at some point, we should change `intersection` accordingly.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/20ad51f952b05e8ec8888e54501365f72ca527a4\">20ad51f</a></td><td><code>fixed 28506 by always taking fraction field</code></td></tr></table>\n",
    "created_at": "2019-09-20T09:29:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447321",
    "user": "https://github.com/kliem"
}
```

<a id='comment:7'>Comment 7:</a>
As mentioned. I think this approach is actually more suitable and at some point, we should change `intersection` accordingly.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/20ad51f952b05e8ec8888e54501365f72ca527a4">20ad51f</a></td><td><code>fixed 28506 by always taking fraction field</code></td></tr></table>




---

archive/issue_comments_447322.json:
```json
{
    "body": "Changed commit from **[e86ea8b](https://github.com/sagemath/sagetrac-mirror/commit/e86ea8b2bbd1fdd017aa22a9318d3f08c3c3cfe6)** to **[20ad51f](https://github.com/sagemath/sagetrac-mirror/commit/20ad51f952b05e8ec8888e54501365f72ca527a4)**",
    "created_at": "2019-09-20T09:29:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447322",
    "user": "https://github.com/kliem"
}
```

Changed commit from **[e86ea8b](https://github.com/sagemath/sagetrac-mirror/commit/e86ea8b2bbd1fdd017aa22a9318d3f08c3c3cfe6)** to **[20ad51f](https://github.com/sagemath/sagetrac-mirror/commit/20ad51f952b05e8ec8888e54501365f72ca527a4)**



---

archive/issue_comments_447323.json:
```json
{
    "body": "Changed branch from **[public/28506](https://github.com/sagemath/sagetrac-mirror/tree/public/28506)** to **[public/28506-bis](https://github.com/sagemath/sagetrac-mirror/tree/public/28506-bis)**",
    "created_at": "2019-09-20T09:29:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447323",
    "user": "https://github.com/kliem"
}
```

Changed branch from **[public/28506](https://github.com/sagemath/sagetrac-mirror/tree/public/28506)** to **[public/28506-bis](https://github.com/sagemath/sagetrac-mirror/tree/public/28506-bis)**



---

archive/issue_comments_447324.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nReplying to [@kliem](#comment%3A6):\n> Replying to [@jplab](#comment%3A5):\n> > One comment:\n> > \n> > The tests should actually return something, so I would remove `t = ` and let the output get printed.\n\n> \n> Ok. Will do it.\n> > \n> > I am still a bit puzzled as to why it did not work for direct sum. What was going on there?\n\n> \n> ```\n> sage: s2 = polytopes.simplex(2)\n> sage: s2.base_ring()\n> Integer Ring\n> sage: s = polytopes.simplex(2)\n> sage: s.base_ring()\n> Integer Ring\n> sage: s = s.change_ring(QQ)\n> sage: t = s.direct_sum(s)\n> sage: t.vertices()\n> (A vertex at (0, 0, 1, 0, 0, 0),\n>  A vertex at (0, 1, 0, 0, 0, 0),\n>  A vertex at (1, 0, 0, 0, 0, 0),\n>  A vertex at (1/3, 1/3, 1/3, -1/3, -1/3, 2/3),\n>  A vertex at (1/3, 1/3, 1/3, -1/3, 2/3, -1/3),\n>  A vertex at (1/3, 1/3, 1/3, 2/3, -1/3, -1/3))\n> ```\n> \n> Does this answer your question? As mentioned, direct sum (as well as intersection, minkowski difference and face truncation) are only defined for polytopes/polyhedra over a field.\n\nYes, this examples clarifies it. It should probably go right among the first examples to illustrate the construction.\n\nI was extremely confused, but now it makes sense. The problem is when we translate one of them to have center be the origin... \n\n> \n> In the same way, that `sage: 6/2` returns a rational, I think those operations should return a polytope with base ring constructed by first coercing and then taking the fraction field.\n\nYes, sounds reasonable.",
    "created_at": "2019-09-20T14:07:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447324",
    "user": "https://github.com/jplab"
}
```

<a id='comment:8'>Comment 8:</a>
Replying to [@kliem](#comment%3A6):
> Replying to [@jplab](#comment%3A5):
> > One comment:
> > 
> > The tests should actually return something, so I would remove `t = ` and let the output get printed.

> 
> Ok. Will do it.
> > 
> > I am still a bit puzzled as to why it did not work for direct sum. What was going on there?

> 
> ```
> sage: s2 = polytopes.simplex(2)
> sage: s2.base_ring()
> Integer Ring
> sage: s = polytopes.simplex(2)
> sage: s.base_ring()
> Integer Ring
> sage: s = s.change_ring(QQ)
> sage: t = s.direct_sum(s)
> sage: t.vertices()
> (A vertex at (0, 0, 1, 0, 0, 0),
>  A vertex at (0, 1, 0, 0, 0, 0),
>  A vertex at (1, 0, 0, 0, 0, 0),
>  A vertex at (1/3, 1/3, 1/3, -1/3, -1/3, 2/3),
>  A vertex at (1/3, 1/3, 1/3, -1/3, 2/3, -1/3),
>  A vertex at (1/3, 1/3, 1/3, 2/3, -1/3, -1/3))
> ```
> 
> Does this answer your question? As mentioned, direct sum (as well as intersection, minkowski difference and face truncation) are only defined for polytopes/polyhedra over a field.

Yes, this examples clarifies it. It should probably go right among the first examples to illustrate the construction.

I was extremely confused, but now it makes sense. The problem is when we translate one of them to have center be the origin... 

> 
> In the same way, that `sage: 6/2` returns a rational, I think those operations should return a polytope with base ring constructed by first coercing and then taking the fraction field.

Yes, sounds reasonable.



---

archive/issue_comments_447325.json:
```json
{
    "body": "Changed commit from **[20ad51f](https://github.com/sagemath/sagetrac-mirror/commit/20ad51f952b05e8ec8888e54501365f72ca527a4)** to **[ce30313](https://github.com/sagemath/sagetrac-mirror/commit/ce30313f34389112c87c250181e16c3c9f211917)**",
    "created_at": "2019-09-20T19:16:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447325",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[20ad51f](https://github.com/sagemath/sagetrac-mirror/commit/20ad51f952b05e8ec8888e54501365f72ca527a4)** to **[ce30313](https://github.com/sagemath/sagetrac-mirror/commit/ce30313f34389112c87c250181e16c3c9f211917)**



---

archive/issue_comments_447326.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce30313f34389112c87c250181e16c3c9f211917\">ce30313</a></td><td><code>added output to doctest</code></td></tr></table>\n",
    "created_at": "2019-09-20T19:16:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447326",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:9'>Comment 9:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce30313f34389112c87c250181e16c3c9f211917">ce30313</a></td><td><code>added output to doctest</code></td></tr></table>




---

archive/issue_comments_447327.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nReplying to [@jplab](#comment%3A8):\n> Replying to [@kliem](#comment%3A6):\n> > Replying to [@jplab](#comment%3A5):\n> > > One comment:\n> > > \n> > > The tests should actually return something, so I would remove `t = ` and let the output get printed.\n\n> > \n> > Ok. Will do it.\n> > > \n> > > I am still a bit puzzled as to why it did not work for direct sum. What was going on there?\n\n> > \n> > ```\n> > sage: s2 = polytopes.simplex(2)\n> > sage: s2.base_ring()\n> > Integer Ring\n> > sage: s = polytopes.simplex(2)\n> > sage: s.base_ring()\n> > Integer Ring\n> > sage: s = s.change_ring(QQ)\n> > sage: t = s.direct_sum(s)\n> > sage: t.vertices()\n> > (A vertex at (0, 0, 1, 0, 0, 0),\n> >  A vertex at (0, 1, 0, 0, 0, 0),\n> >  A vertex at (1, 0, 0, 0, 0, 0),\n> >  A vertex at (1/3, 1/3, 1/3, -1/3, -1/3, 2/3),\n> >  A vertex at (1/3, 1/3, 1/3, -1/3, 2/3, -1/3),\n> >  A vertex at (1/3, 1/3, 1/3, 2/3, -1/3, -1/3))\n> > ```\n> > \n> > Does this answer your question? As mentioned, direct sum (as well as intersection, minkowski difference and face truncation) are only defined for polytopes/polyhedra over a field.\n\n> \n> Yes, this examples clarifies it. It should probably go right among the first examples to illustrate the construction.\n\nI could of course do it. But doesn't the existing example already illustrate this?\n\n> \n> I was extremely confused, but now it makes sense. The problem is when we translate one of them to have center be the origin... \n> \n> > \n> > In the same way, that `sage: 6/2` returns a rational, I think those operations should return a polytope with base ring constructed by first coercing and then taking the fraction field.\n\n> \n> Yes, sounds reasonable.",
    "created_at": "2019-09-20T19:17:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447327",
    "user": "https://github.com/kliem"
}
```

<a id='comment:10'>Comment 10:</a>
Replying to [@jplab](#comment%3A8):
> Replying to [@kliem](#comment%3A6):
> > Replying to [@jplab](#comment%3A5):
> > > One comment:
> > > 
> > > The tests should actually return something, so I would remove `t = ` and let the output get printed.

> > 
> > Ok. Will do it.
> > > 
> > > I am still a bit puzzled as to why it did not work for direct sum. What was going on there?

> > 
> > ```
> > sage: s2 = polytopes.simplex(2)
> > sage: s2.base_ring()
> > Integer Ring
> > sage: s = polytopes.simplex(2)
> > sage: s.base_ring()
> > Integer Ring
> > sage: s = s.change_ring(QQ)
> > sage: t = s.direct_sum(s)
> > sage: t.vertices()
> > (A vertex at (0, 0, 1, 0, 0, 0),
> >  A vertex at (0, 1, 0, 0, 0, 0),
> >  A vertex at (1, 0, 0, 0, 0, 0),
> >  A vertex at (1/3, 1/3, 1/3, -1/3, -1/3, 2/3),
> >  A vertex at (1/3, 1/3, 1/3, -1/3, 2/3, -1/3),
> >  A vertex at (1/3, 1/3, 1/3, 2/3, -1/3, -1/3))
> > ```
> > 
> > Does this answer your question? As mentioned, direct sum (as well as intersection, minkowski difference and face truncation) are only defined for polytopes/polyhedra over a field.

> 
> Yes, this examples clarifies it. It should probably go right among the first examples to illustrate the construction.

I could of course do it. But doesn't the existing example already illustrate this?

> 
> I was extremely confused, but now it makes sense. The problem is when we translate one of them to have center be the origin... 
> 
> > 
> > In the same way, that `sage: 6/2` returns a rational, I think those operations should return a polytope with base ring constructed by first coercing and then taking the fraction field.

> 
> Yes, sounds reasonable.



---

archive/issue_comments_447328.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7080349f1d4255d8211657689181cc13b9096977\">7080349</a></td><td><code>fixed minkowski decomposition</code></td></tr></table>\n",
    "created_at": "2019-09-20T19:31:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447328",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:11'>Comment 11:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7080349f1d4255d8211657689181cc13b9096977">7080349</a></td><td><code>fixed minkowski decomposition</code></td></tr></table>




---

archive/issue_comments_447329.json:
```json
{
    "body": "Changed commit from **[ce30313](https://github.com/sagemath/sagetrac-mirror/commit/ce30313f34389112c87c250181e16c3c9f211917)** to **[7080349](https://github.com/sagemath/sagetrac-mirror/commit/7080349f1d4255d8211657689181cc13b9096977)**",
    "created_at": "2019-09-20T19:31:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447329",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ce30313](https://github.com/sagemath/sagetrac-mirror/commit/ce30313f34389112c87c250181e16c3c9f211917)** to **[7080349](https://github.com/sagemath/sagetrac-mirror/commit/7080349f1d4255d8211657689181cc13b9096977)**



---

archive/issue_comments_447330.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nReplying to [@kliem](#comment%3A10):\n> I could of course do it. But doesn't the existing example already illustrate this?\n> \n\nTrue.",
    "created_at": "2019-09-23T07:25:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447330",
    "user": "https://github.com/jplab"
}
```

<a id='comment:12'>Comment 12:</a>
Replying to [@kliem](#comment%3A10):
> I could of course do it. But doesn't the existing example already illustrate this?
> 

True.



---

archive/issue_comments_447331.json:
```json
{
    "body": "Reviewer: **Jean-Philippe Labb\u00e9**",
    "created_at": "2019-10-14T09:37:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447331",
    "user": "https://github.com/jplab"
}
```

Reviewer: **Jean-Philippe Labbé**



---

archive/issue_events_373074.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-10-14T09:37:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "milestone_number": null,
    "milestone_title": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-373074"
}
```



---

archive/issue_events_373075.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-10-14T09:37:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-373075"
}
```



---

archive/issue_comments_447332.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nThe \"some tests::\" might be superfluous. I would remove it.",
    "created_at": "2019-10-14T09:37:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447332",
    "user": "https://github.com/jplab"
}
```

<a id='comment:13'>Comment 13:</a>
The "some tests::" might be superfluous. I would remove it.



---

archive/issue_comments_447333.json:
```json
{
    "body": "Changed commit from **[7080349](https://github.com/sagemath/sagetrac-mirror/commit/7080349f1d4255d8211657689181cc13b9096977)** to **[b1c8187](https://github.com/sagemath/sagetrac-mirror/commit/b1c81876e5c2a7b765df8984320ca1d3514764b6)**",
    "created_at": "2019-10-14T11:23:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447333",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7080349](https://github.com/sagemath/sagetrac-mirror/commit/7080349f1d4255d8211657689181cc13b9096977)** to **[b1c8187](https://github.com/sagemath/sagetrac-mirror/commit/b1c81876e5c2a7b765df8984320ca1d3514764b6)**



---

archive/issue_comments_447334.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b1c81876e5c2a7b765df8984320ca1d3514764b6\">b1c8187</a></td><td><code>small changes in documentation</code></td></tr></table>\n",
    "created_at": "2019-10-14T11:23:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447334",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:14'>Comment 14:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b1c81876e5c2a7b765df8984320ca1d3514764b6">b1c8187</a></td><td><code>small changes in documentation</code></td></tr></table>




---

archive/issue_events_373076.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-10-27T15:42:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-373076"
}
```



---

archive/issue_events_373077.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-10-27T15:42:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-373077"
}
```



---

archive/issue_comments_447335.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nSome tests are failing in the thematic tutorial. See patchbots.",
    "created_at": "2019-10-27T15:42:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447335",
    "user": "https://github.com/jplab"
}
```

<a id='comment:15'>Comment 15:</a>
Some tests are failing in the thematic tutorial. See patchbots.



---

archive/issue_events_373078.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-10-28T06:04:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-373078"
}
```



---

archive/issue_events_373079.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2019-10-28T06:04:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-373079"
}
```



---

archive/issue_comments_447336.json:
```json
{
    "body": "Changed commit from **[b1c8187](https://github.com/sagemath/sagetrac-mirror/commit/b1c81876e5c2a7b765df8984320ca1d3514764b6)** to **[47514e7](https://github.com/sagemath/sagetrac-mirror/commit/47514e7d31f9d22227ea16c67b18fb4330f134f4)**",
    "created_at": "2019-10-28T06:04:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447336",
    "user": "https://github.com/kliem"
}
```

Changed commit from **[b1c8187](https://github.com/sagemath/sagetrac-mirror/commit/b1c81876e5c2a7b765df8984320ca1d3514764b6)** to **[47514e7](https://github.com/sagemath/sagetrac-mirror/commit/47514e7d31f9d22227ea16c67b18fb4330f134f4)**



---

archive/issue_comments_447337.json:
```json
{
    "body": "Changed branch from **[public/28506-bis](https://github.com/sagemath/sagetrac-mirror/tree/public/28506-bis)** to **[public/28506-reb2](https://github.com/sagemath/sagetrac-mirror/tree/public/28506-reb2)**",
    "created_at": "2019-10-28T06:04:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447337",
    "user": "https://github.com/kliem"
}
```

Changed branch from **[public/28506-bis](https://github.com/sagemath/sagetrac-mirror/tree/public/28506-bis)** to **[public/28506-reb2](https://github.com/sagemath/sagetrac-mirror/tree/public/28506-reb2)**



---

archive/issue_comments_447338.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc62aa606c96ae32474f44cc5708f8a8149c9dee\">fc62aa6</a></td><td><code>fixed trac 28506</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fa4ddc15c4aed0a8f68f9d8b41450a21e5fc37ee\">fa4ddc1</a></td><td><code>fixed failing doctest in documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47514e7d31f9d22227ea16c67b18fb4330f134f4\">47514e7</a></td><td><code>Fixed trac 28506</code></td></tr></table>\n",
    "created_at": "2019-10-28T06:04:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447338",
    "user": "https://github.com/kliem"
}
```

<a id='comment:16'>Comment 16:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc62aa606c96ae32474f44cc5708f8a8149c9dee">fc62aa6</a></td><td><code>fixed trac 28506</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fa4ddc15c4aed0a8f68f9d8b41450a21e5fc37ee">fa4ddc1</a></td><td><code>fixed failing doctest in documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47514e7d31f9d22227ea16c67b18fb4330f134f4">47514e7</a></td><td><code>Fixed trac 28506</code></td></tr></table>




---

archive/issue_comments_447339.json:
```json
{
    "body": "Changed commit from **[47514e7](https://github.com/sagemath/sagetrac-mirror/commit/47514e7d31f9d22227ea16c67b18fb4330f134f4)** to **[6756d8a](https://github.com/sagemath/sagetrac-mirror/commit/6756d8a870674020479fcceef4a8d450fb87ea4f)**",
    "created_at": "2019-10-28T06:05:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447339",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[47514e7](https://github.com/sagemath/sagetrac-mirror/commit/47514e7d31f9d22227ea16c67b18fb4330f134f4)** to **[6756d8a](https://github.com/sagemath/sagetrac-mirror/commit/6756d8a870674020479fcceef4a8d450fb87ea4f)**



---

archive/issue_comments_447340.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6756d8a870674020479fcceef4a8d450fb87ea4f\">6756d8a</a></td><td><code>fixed trac 28506</code></td></tr></table>\n",
    "created_at": "2019-10-28T06:05:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447340",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:17'>Comment 17:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6756d8a870674020479fcceef4a8d450fb87ea4f">6756d8a</a></td><td><code>fixed trac 28506</code></td></tr></table>




---

archive/issue_events_373080.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-11-01T17:04:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-373080"
}
```



---

archive/issue_events_373081.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-11-01T17:04:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-373081"
}
```



---

archive/issue_comments_447341.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nLGTM",
    "created_at": "2019-11-01T17:04:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447341",
    "user": "https://github.com/jplab"
}
```

<a id='comment:18'>Comment 18:</a>
LGTM



---

archive/issue_events_373082.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-11-07T23:30:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-373082"
}
```



---

archive/issue_events_373083.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "3145f5344cfb030520e45fd678402caddf760a73",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-11-07T23:30:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28506#event-373083"
}
```



---

archive/issue_comments_447342.json:
```json
{
    "body": "Changed branch from **[public/28506-reb2](https://github.com/sagemath/sagetrac-mirror/tree/public/28506-reb2)** to **[6756d8a](https://github.com/sagemath/sagetrac-mirror/commit/6756d8a870674020479fcceef4a8d450fb87ea4f)**",
    "created_at": "2019-11-07T23:30:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28506",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28506#issuecomment-447342",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/28506-reb2](https://github.com/sagemath/sagetrac-mirror/tree/public/28506-reb2)** to **[6756d8a](https://github.com/sagemath/sagetrac-mirror/commit/6756d8a870674020479fcceef4a8d450fb87ea4f)**
