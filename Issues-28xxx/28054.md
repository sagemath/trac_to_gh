# Issue 28054: invariant form cannot be specified for GO/SO over a finite field

archive/issues_027817.json:
```json
{
    "body": "in `src/sage/groups/matrix_gps/orthogonal.py` one sees\n\n```\n        if invariant_form is not None:\n            if is_FiniteField(ring):\n                raise NotImplementedError(\"invariant_form for finite groups is fixed by GAP\")\n```\nbut it is not triggered on every finite field input, but only these with `e=0`.\n \n\nCC:  @soehms\n\nBranch/Commit: [39a8f64168c3e4ed867fff03ca95de48fed014f6](https://github.com/sagemath/sagetrac-mirror/commit/39a8f64168c3e4ed867fff03ca95de48fed014f6)\n\nReviewer: Dima Pasechnik, Travis Scrimshaw\n\nAuthor: Sebastian Oehms\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/28054\n\n",
    "closed_at": "2020-01-31T23:49:47Z",
    "created_at": "2019-06-25T12:19:06Z",
    "labels": [
        "component: group theory",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "invariant form cannot be specified for GO/SO over a finite field",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28054",
    "user": "https://github.com/dimpase"
}
```
in `src/sage/groups/matrix_gps/orthogonal.py` one sees

```
        if invariant_form is not None:
            if is_FiniteField(ring):
                raise NotImplementedError("invariant_form for finite groups is fixed by GAP")
```
but it is not triggered on every finite field input, but only these with `e=0`.
 

CC:  @soehms

Branch/Commit: [39a8f64168c3e4ed867fff03ca95de48fed014f6](https://github.com/sagemath/sagetrac-mirror/commit/39a8f64168c3e4ed867fff03ca95de48fed014f6)

Reviewer: Dima Pasechnik, Travis Scrimshaw

Author: Sebastian Oehms

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/28054





---

archive/issue_comments_544839.json:
```json
{
    "body": "Changing branch from \"\" to \"u/soehms/invariant_form_finite_fields_28054\"",
    "created_at": "2019-06-27T18:28:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28054#issuecomment-544839",
    "user": "https://github.com/soehms"
}
```

Changing branch from "" to "u/soehms/invariant_form_finite_fields_28054"



---

archive/issue_comments_544840.json:
```json
{
    "body": "Changing commit from \"\" to \"59b71cf28c9a286043772414260b59baa24c934f\"",
    "created_at": "2019-06-27T18:30:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28054#issuecomment-544840",
    "user": "https://github.com/soehms"
}
```

Changing commit from "" to "59b71cf28c9a286043772414260b59baa24c934f"



---

archive/issue_comments_544841.json:
```json
{
    "body": "<a id='comment:3'></a>\nwell, I simply forgot that\n\n---\nNew commits:\n|                                                                                                                                          |                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------|\n|[59b71cf](https://github.com/sagemath/sagetrac-mirror/commit/59b71cf28c9a286043772414260b59baa24c934f)|`28054: initial version`|",
    "created_at": "2019-06-27T18:30:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28054#issuecomment-544841",
    "user": "https://github.com/soehms"
}
```

<a id='comment:3'></a>
well, I simply forgot that

---
New commits:
|                                                                                                                                          |                        |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------|
|[59b71cf](https://github.com/sagemath/sagetrac-mirror/commit/59b71cf28c9a286043772414260b59baa24c934f)|`28054: initial version`|



---

archive/issue_comments_544842.json:
```json
{
    "body": "Changing author from \"\" to \"Sebastian Oehms\"",
    "created_at": "2019-06-27T18:30:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28054#issuecomment-544842",
    "user": "https://github.com/soehms"
}
```

Changing author from "" to "Sebastian Oehms"



---

archive/issue_comments_544843.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-06-27T18:30:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28054#issuecomment-544843",
    "user": "https://github.com/soehms"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_544844.json:
```json
{
    "body": "<a id='comment:4'></a>\nIt seems there is a forgotten `if is_FiniteField(ring):` in the added code, no?",
    "created_at": "2019-06-27T18:44:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28054#issuecomment-544844",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:4'></a>
It seems there is a forgotten `if is_FiniteField(ring):` in the added code, no?



---

archive/issue_comments_544845.json:
```json
{
    "body": "<a id='comment:5'></a>\nAs I understood e != 0 doesn't make sense for infinite fields. Maybe we should not allow\n\n```\nsage: G = SO(2, QQ, -1)\nsage: G.invariant_form()\n[1 0]\n[0 1]\n```",
    "created_at": "2019-06-27T19:04:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28054#issuecomment-544845",
    "user": "https://github.com/soehms"
}
```

<a id='comment:5'></a>
As I understood e != 0 doesn't make sense for infinite fields. Maybe we should not allow

```
sage: G = SO(2, QQ, -1)
sage: G.invariant_form()
[1 0]
[0 1]
```



---

archive/issue_comments_544846.json:
```json
{
    "body": "<a id='comment:6'></a>\ngetting an error message mentioning a finite field on input over an infinite field would be rather puzzling.",
    "created_at": "2019-06-27T19:35:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28054#issuecomment-544846",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:6'></a>
getting an error message mentioning a finite field on input over an infinite field would be rather puzzling.



---

archive/issue_comments_544847.json:
```json
{
    "body": "Changing commit from \"59b71cf28c9a286043772414260b59baa24c934f\" to \"38cc507bd8c69eb1377fc4f7629b2a1c3e5b3b0b\"",
    "created_at": "2019-06-27T19:45:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28054#issuecomment-544847",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "59b71cf28c9a286043772414260b59baa24c934f" to "38cc507bd8c69eb1377fc4f7629b2a1c3e5b3b0b"



---

archive/issue_comments_544848.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|\n|[38cc507](https://github.com/sagemath/sagetrac-mirror/commit/38cc507bd8c69eb1377fc4f7629b2a1c3e5b3b0b)|`28054: correction according to review`|",
    "created_at": "2019-06-27T19:45:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28054#issuecomment-544848",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
|[38cc507](https://github.com/sagemath/sagetrac-mirror/commit/38cc507bd8c69eb1377fc4f7629b2a1c3e5b3b0b)|`28054: correction according to review`|



---

archive/issue_comments_544849.json:
```json
{
    "body": "<a id='comment:8'></a>\no.k., that's a little bit worse than allowing \"rubbish in\"",
    "created_at": "2019-06-27T19:48:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28054#issuecomment-544849",
    "user": "https://github.com/soehms"
}
```

<a id='comment:8'></a>
o.k., that's a little bit worse than allowing "rubbish in"



---

archive/issue_comments_544850.json:
```json
{
    "body": "Changing commit from \"38cc507bd8c69eb1377fc4f7629b2a1c3e5b3b0b\" to \"39a8f64168c3e4ed867fff03ca95de48fed014f6\"",
    "created_at": "2019-06-28T04:28:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28054#issuecomment-544850",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "38cc507bd8c69eb1377fc4f7629b2a1c3e5b3b0b" to "39a8f64168c3e4ed867fff03ca95de48fed014f6"



---

archive/issue_comments_544851.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|\n|[39a8f64](https://github.com/sagemath/sagetrac-mirror/commit/39a8f64168c3e4ed867fff03ca95de48fed014f6)|`28054: cleanup structure`|",
    "created_at": "2019-06-28T04:28:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28054#issuecomment-544851",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|
|[39a8f64](https://github.com/sagemath/sagetrac-mirror/commit/39a8f64168c3e4ed867fff03ca95de48fed014f6)|`28054: cleanup structure`|



---

archive/issue_events_078804.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28054",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28054#event-78804"
}
```



---

archive/issue_comments_544852.json:
```json
{
    "body": "<a id='comment:10'></a>\nTicket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28054#issuecomment-544852",
    "user": "https://github.com/embray"
}
```

<a id='comment:10'></a>
Ticket retargeted after milestone closed



---

archive/issue_comments_544853.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Dima Pasechnik, Travis Scrimshaw\"",
    "created_at": "2020-01-28T00:13:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28054#issuecomment-544853",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Dima Pasechnik, Travis Scrimshaw"



---

archive/issue_comments_544854.json:
```json
{
    "body": "<a id='comment:11'></a>\nLGTM. Dima, I am assuming you have no additional comments. Please correct me if I am wrong.",
    "created_at": "2020-01-28T00:13:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28054#issuecomment-544854",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:11'></a>
LGTM. Dima, I am assuming you have no additional comments. Please correct me if I am wrong.



---

archive/issue_comments_544855.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-01-28T00:13:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28054#issuecomment-544855",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_078805.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-01-31T23:49:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28054",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28054#event-78805"
}
```



---

archive/issue_comments_544856.json:
```json
{
    "body": "Changing branch from \"u/soehms/invariant_form_finite_fields_28054\" to \"39a8f64168c3e4ed867fff03ca95de48fed014f6\"",
    "created_at": "2020-01-31T23:49:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28054#issuecomment-544856",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/soehms/invariant_form_finite_fields_28054" to "39a8f64168c3e4ed867fff03ca95de48fed014f6"



---

archive/issue_comments_544857.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-01-31T23:49:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28054",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28054#issuecomment-544857",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
