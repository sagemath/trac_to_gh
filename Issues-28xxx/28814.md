# Issue 28814: Conversion of scientific notation floats/RDF,etc... incorrect in Mathematica interface

archive/issues_028577.json:
```json
{
    "body": "Exploration of a problem reported in an [ask.sagemath question](https://ask.sagemath.org/question/48908/how-to-avoid-scientific-notation-of-numbers-in-the-mathematica-interface/).\n\nThe conversion of large or small floating point constants (needing scientific notation) to mathematica is incorrect:\n\n```\n# Reference\nsage: 3.5.log().n()\n1.25276296849537\n# This works\nsage: mathematica.N(mathematica.Log(3.5)).sage()\n1.252762968495368\n# Scale up works in Sage:\nsage: 3.5e6.log().n()\n15.0682735264596\n# Doesn't work when translated to to mathematica\nsage: mathematica.N(mathematica.Log(3.5e6)).sage()\nlog(3.5*e6)\n# Possible cause : confusion with SR\nsage: mathematica.N(mathematica.Log(3.5e6)).sage().parent()\nSymbolic Ring\n# Ditto for small values. OK in Sage\nsage: sin(1e-8).n()\n1.00000000000000e-8\n# Fails when converted to mathematica:\nsage: mathematica.N(mathematica.Sin(1e-8)).sage()\n-1.0*sin(-1.0*e + 8.0)\n# Same possible cause\nsage: mathematica.N(mathematica.Sin(1e-8)).sage().parent()\nSymbolic Ring\n```\n\nThe reverse conversion (Mathematica --> Sage) works...\n\n```\nsage: mathematica.N(mathematica.Exp(500))\n1.4035922178528375*^217\nsage: mathematica.N(mathematica.Exp(500)).sage()\n1.4035922178528375e+217\nsage: mathematica.N(mathematica.Exp(-500))\n7.124576406741286*^-218\nsage: mathematica.N(mathematica.Exp(-500)).sage()\n7.124576406741286e-218\n```\n\n...as long as Sage is able to express it:\n\n```\nsage: mathematica.N(mathematica.Exp(1000))\n1.970071114017*^434\nsage: mathematica.N(mathematica.Exp(1000)).sage()\n+infinity\nsage: mathematica.N(mathematica.Exp(-1000))\n5.0759588975495*^-435\nsage: mathematica.N(mathematica.Exp(-1000)).sage()\n0.0\n```\n\nThe latter quantities over/underflow the default Sage floating point systems...\n\n\nCC:  @yuan-zhou\n\nKeywords: mathematica conversions\n\nBranch/Commit: 37c5e193d9229517fd24be077f2e6cf2fc82b9b2\n\nReviewer: Dima Pasechnik\n\nAuthor: Markus Wageringel\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/28814\n\n",
    "closed_at": "2020-09-15T22:00:52Z",
    "created_at": "2019-11-28T14:10:12Z",
    "labels": [
        "component: interfaces",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "Conversion of scientific notation floats/RDF,etc... incorrect in Mathematica interface",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28814",
    "user": "https://github.com/EmmanuelCharpentier"
}
```
Exploration of a problem reported in an [ask.sagemath question](https://ask.sagemath.org/question/48908/how-to-avoid-scientific-notation-of-numbers-in-the-mathematica-interface/).

The conversion of large or small floating point constants (needing scientific notation) to mathematica is incorrect:

```
# Reference
sage: 3.5.log().n()
1.25276296849537
# This works
sage: mathematica.N(mathematica.Log(3.5)).sage()
1.252762968495368
# Scale up works in Sage:
sage: 3.5e6.log().n()
15.0682735264596
# Doesn't work when translated to to mathematica
sage: mathematica.N(mathematica.Log(3.5e6)).sage()
log(3.5*e6)
# Possible cause : confusion with SR
sage: mathematica.N(mathematica.Log(3.5e6)).sage().parent()
Symbolic Ring
# Ditto for small values. OK in Sage
sage: sin(1e-8).n()
1.00000000000000e-8
# Fails when converted to mathematica:
sage: mathematica.N(mathematica.Sin(1e-8)).sage()
-1.0*sin(-1.0*e + 8.0)
# Same possible cause
sage: mathematica.N(mathematica.Sin(1e-8)).sage().parent()
Symbolic Ring
```

The reverse conversion (Mathematica --> Sage) works...

```
sage: mathematica.N(mathematica.Exp(500))
1.4035922178528375*^217
sage: mathematica.N(mathematica.Exp(500)).sage()
1.4035922178528375e+217
sage: mathematica.N(mathematica.Exp(-500))
7.124576406741286*^-218
sage: mathematica.N(mathematica.Exp(-500)).sage()
7.124576406741286e-218
```

...as long as Sage is able to express it:

```
sage: mathematica.N(mathematica.Exp(1000))
1.970071114017*^434
sage: mathematica.N(mathematica.Exp(1000)).sage()
+infinity
sage: mathematica.N(mathematica.Exp(-1000))
5.0759588975495*^-435
sage: mathematica.N(mathematica.Exp(-1000)).sage()
0.0
```

The latter quantities over/underflow the default Sage floating point systems...


CC:  @yuan-zhou

Keywords: mathematica conversions

Branch/Commit: 37c5e193d9229517fd24be077f2e6cf2fc82b9b2

Reviewer: Dima Pasechnik

Author: Markus Wageringel

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/28814





---

archive/issue_events_082248.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "rename": {
        "from": "Conversion of scientific notation floats/RDF,etc... incorrect",
        "to": "Conversion of scientific notation floats/RDF,etc... incorrect in Mathematica interface"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28814#event-82248"
}
```



---

archive/issue_comments_560461.json:
```json
{
    "body": "<a id='comment:1'></a>\nAnother workaround to avoid scientific notation:\n\n```\nsage: mathematica.Log(3.5e6.str(no_sci=2)).sage()\n15.068273526459642\n```\nThe overflows might be difficult to avoid since that is a problem of `SR`, and the symbolic ring is the closest thing in Sage that Mathematica expressions can convert to.",
    "created_at": "2019-11-28T21:06:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560461",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:1'></a>
Another workaround to avoid scientific notation:

```
sage: mathematica.Log(3.5e6.str(no_sci=2)).sage()
15.068273526459642
```
The overflows might be difficult to avoid since that is a problem of `SR`, and the symbolic ring is the closest thing in Sage that Mathematica expressions can convert to.



---

archive/issue_events_082249.json:
```json
{
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "label": "component: interfaces",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28814#event-82249"
}
```



---

archive/issue_events_082250.json:
```json
{
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "label": "component: interfaces: optional",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28814#event-82250"
}
```



---

archive/issue_events_082251.json:
```json
{
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "label": "component: interfaces: optional",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28814#event-82251"
}
```



---

archive/issue_events_082252.json:
```json
{
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "label": "component: interfaces",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28814#event-82252"
}
```



---

archive/issue_comments_560462.json:
```json
{
    "body": "<a id='comment:2'></a>\nThe Mathematica interface is standard (as is Maple's). What is optional is having Mathematica (or Maple) installed...",
    "created_at": "2019-11-28T21:13:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560462",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:2'></a>
The Mathematica interface is standard (as is Maple's). What is optional is having Mathematica (or Maple) installed...



---

archive/issue_comments_560463.json:
```json
{
    "body": "Set assignee to @williamstein.",
    "created_at": "2019-11-28T21:13:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560463",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Set assignee to @williamstein.



---

archive/issue_comments_560464.json:
```json
{
    "body": "<a id='comment:3'></a>\nSorry, I must have inavertently assigned this ticket to \"was\".",
    "created_at": "2019-11-28T21:16:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560464",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:3'></a>
Sorry, I must have inavertently assigned this ticket to "was".



---

archive/issue_comments_560465.json:
```json
{
    "body": "Remove assignee @williamstein.",
    "created_at": "2019-11-28T21:16:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560465",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Remove assignee @williamstein.



---

archive/issue_comments_560466.json:
```json
{
    "body": "<a id='comment:4'></a>\nReplying to [gh-mwageringel](#comment%3A1):\n> Another workaround to avoid scientific notation:\n> \n> ```\n> sage: mathematica.Log(3.5e6.str(no_sci=2)).sage()\n> 15.068273526459642\n> ```\n\n\nThanks ! I was unaware of this one...\n\n> The overflows might be difficult to avoid since that is a problem of `SR`, and the symbolic ring is the closest thing in Sage that Mathematica expressions can convert to.\n\n\nIndeed. That's a consequence of [IEE 754](https://fr.wikipedia.org/wiki/IEEE_754). Do we need Mathematica's large-absolute-magnitude floats ?",
    "created_at": "2019-11-28T21:18:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560466",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:4'></a>
Replying to [gh-mwageringel](#comment%3A1):
> Another workaround to avoid scientific notation:
> 
> ```
> sage: mathematica.Log(3.5e6.str(no_sci=2)).sage()
> 15.068273526459642
> ```


Thanks ! I was unaware of this one...

> The overflows might be difficult to avoid since that is a problem of `SR`, and the symbolic ring is the closest thing in Sage that Mathematica expressions can convert to.


Indeed. That's a consequence of [IEE 754](https://fr.wikipedia.org/wiki/IEEE_754). Do we need Mathematica's large-absolute-magnitude floats ?



---

archive/issue_comments_560467.json:
```json
{
    "body": "Changing commit from \"\" to \"af20e1f8b94d3fdfc8943260e93934fe8bea21c1\"",
    "created_at": "2019-12-21T16:57:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560467",
    "user": "https://github.com/mwageringel"
}
```

Changing commit from "" to "af20e1f8b94d3fdfc8943260e93934fe8bea21c1"



---

archive/issue_comments_560468.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2019-12-21T16:57:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560468",
    "user": "https://github.com/mwageringel"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_560469.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [charpent](#comment%3A4):\n> > The overflows might be difficult to avoid since that is a problem of `SR`, and the symbolic ring is the closest thing in Sage that Mathematica expressions can convert to.\n\n> \n> Indeed. That's a consequence of [IEE 754](https://fr.wikipedia.org/wiki/IEEE_754). Do we need Mathematica's large-absolute-magnitude floats ?\n\n\nActually I was wrong about `SR` \u2013 it does support arbitrary precision floating point numbers. The conversion from Mathematica to Sage treats them as elements of `RDF` before embedding them in `SR`, though. Here is a branch where they are converted to elements of `RealField` instead which automatically chooses a suitable precision.\n\nMoreover, I implemented the conversions from Sage to Mathematica for elements of `RDF`, `CDF`, `RealField` and `ComplexField` in order to handle the scientific notation.\n\n---\n\nThese changes have the potential for some numerical noise. The function `symbolic_expression_from_string` is also used by `SR` to create expressions from strings, so floating point numbers parsed from strings are now backed by `RealField` elements instead of `RDF`. This is also why some tests in sandpiles fail with the current branch.\n\n```\nsage: SR('.3333333333333333333333333333333333333')  # before: internally an element of RDF\n0.3333333333333333\nsage: SR('.3333333333333333333333333333333333333')  # after: now internally an element of RealField\n0.333333333333333333333333333333333333\nsage: SR(.3333333333333333333333333333333333333)    # unaffected by these changes\n0.333333333333333333333333333333333333\n```\n\nIs it ok to change this? It seems desirable to preserve the precision here, but I am not sure if this might have other negative consequences.\n\n---\nNew commits:\n|                                                                                                                                          |                                                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|\n|[af20e1f](https://github.com/sagemath/sagetrac-mirror/commit/af20e1f8b94d3fdfc8943260e93934fe8bea21c1)|`28814: fix Mathematica-conversion of floating-point numbers`|",
    "created_at": "2019-12-21T16:57:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560469",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:5'></a>
Replying to [charpent](#comment%3A4):
> > The overflows might be difficult to avoid since that is a problem of `SR`, and the symbolic ring is the closest thing in Sage that Mathematica expressions can convert to.

> 
> Indeed. That's a consequence of [IEE 754](https://fr.wikipedia.org/wiki/IEEE_754). Do we need Mathematica's large-absolute-magnitude floats ?


Actually I was wrong about `SR` – it does support arbitrary precision floating point numbers. The conversion from Mathematica to Sage treats them as elements of `RDF` before embedding them in `SR`, though. Here is a branch where they are converted to elements of `RealField` instead which automatically chooses a suitable precision.

Moreover, I implemented the conversions from Sage to Mathematica for elements of `RDF`, `CDF`, `RealField` and `ComplexField` in order to handle the scientific notation.

---

These changes have the potential for some numerical noise. The function `symbolic_expression_from_string` is also used by `SR` to create expressions from strings, so floating point numbers parsed from strings are now backed by `RealField` elements instead of `RDF`. This is also why some tests in sandpiles fail with the current branch.

```
sage: SR('.3333333333333333333333333333333333333')  # before: internally an element of RDF
0.3333333333333333
sage: SR('.3333333333333333333333333333333333333')  # after: now internally an element of RealField
0.333333333333333333333333333333333333
sage: SR(.3333333333333333333333333333333333333)    # unaffected by these changes
0.333333333333333333333333333333333333
```

Is it ok to change this? It seems desirable to preserve the precision here, but I am not sure if this might have other negative consequences.

---
New commits:
|                                                                                                                                          |                                                             |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|
|[af20e1f](https://github.com/sagemath/sagetrac-mirror/commit/af20e1f8b94d3fdfc8943260e93934fe8bea21c1)|`28814: fix Mathematica-conversion of floating-point numbers`|



---

archive/issue_comments_560470.json:
```json
{
    "body": "Changing branch from \"\" to \"public/28814\"",
    "created_at": "2019-12-21T16:57:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560470",
    "user": "https://github.com/mwageringel"
}
```

Changing branch from "" to "public/28814"



---

archive/issue_events_082253.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2019-12-21T16:57:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28814#event-82253"
}
```



---

archive/issue_comments_560471.json:
```json
{
    "body": "Changing commit from \"af20e1f8b94d3fdfc8943260e93934fe8bea21c1\" to \"0c2b2696fe173db5fdb9a3110ead0b95c200859f\"",
    "created_at": "2020-02-03T20:03:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560471",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "af20e1f8b94d3fdfc8943260e93934fe8bea21c1" to "0c2b2696fe173db5fdb9a3110ead0b95c200859f"



---

archive/issue_comments_560472.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|\n|[6e82b76](https://github.com/sagemath/sagetrac-mirror/commit/6e82b76814e91b97dc280c5c18c17385becd6e31)|`28814: fix Mathematica-conversion of floating-point numbers`|\n|[0c2b269](https://github.com/sagemath/sagetrac-mirror/commit/0c2b2696fe173db5fdb9a3110ead0b95c200859f)|`28814: fix mathematica doctests in sandpiles`|",
    "created_at": "2020-02-03T20:03:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560472",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|
|[6e82b76](https://github.com/sagemath/sagetrac-mirror/commit/6e82b76814e91b97dc280c5c18c17385becd6e31)|`28814: fix Mathematica-conversion of floating-point numbers`|
|[0c2b269](https://github.com/sagemath/sagetrac-mirror/commit/0c2b2696fe173db5fdb9a3110ead0b95c200859f)|`28814: fix mathematica doctests in sandpiles`|



---

archive/issue_comments_560473.json:
```json
{
    "body": "<a id='comment:8'></a>\nI have fixed the remaining doctest failures, so this could be reviewed.",
    "created_at": "2020-02-03T20:04:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560473",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:8'></a>
I have fixed the remaining doctest failures, so this could be reviewed.



---

archive/issue_comments_560474.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2020-02-03T20:04:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560474",
    "user": "https://github.com/mwageringel"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_560475.json:
```json
{
    "body": "Changing author from \"\" to \"Markus Wageringel\"",
    "created_at": "2020-02-04T21:23:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560475",
    "user": "https://github.com/mwageringel"
}
```

Changing author from "" to "Markus Wageringel"



---

archive/issue_events_082254.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T04:28:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28814#event-82254"
}
```



---

archive/issue_events_082255.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T04:28:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28814#event-82255"
}
```



---

archive/issue_comments_560476.json:
```json
{
    "body": "<a id='comment:10'></a>\nMoving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.",
    "created_at": "2020-05-01T04:28:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560476",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>
Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.



---

archive/issue_comments_560477.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Dima Pasechnik\"",
    "created_at": "2020-09-08T10:40:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560477",
    "user": "https://github.com/dimpase"
}
```

Changing reviewer from "" to "Dima Pasechnik"



---

archive/issue_comments_560478.json:
```json
{
    "body": "<a id='comment:12'></a>\nTested with Mathematica 12 that comes free on Raspberry Pi 4.\nThere the equivalent of `math` command is `wolfram`, so I created  a symbolic link named `math` in my PATH to point to `wolfram`.  :-)\n\n```\n$ uname -a\nLinux raspberrypi 5.4.51-v7l+ #1333 SMP Mon Aug 10 16:51:40 BST 2020 armv7l GNU/Linux\n$ ls -l `which math`\nlrwxrwxrwx 1 pi pi 16 Sep  8 11:22 /home/pi/bin/math -> /usr/bin/wolfram\n```",
    "created_at": "2020-09-08T10:40:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560478",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:12'></a>
Tested with Mathematica 12 that comes free on Raspberry Pi 4.
There the equivalent of `math` command is `wolfram`, so I created  a symbolic link named `math` in my PATH to point to `wolfram`.  :-)

```
$ uname -a
Linux raspberrypi 5.4.51-v7l+ #1333 SMP Mon Aug 10 16:51:40 BST 2020 armv7l GNU/Linux
$ ls -l `which math`
lrwxrwxrwx 1 pi pi 16 Sep  8 11:22 /home/pi/bin/math -> /usr/bin/wolfram
```



---

archive/issue_comments_560479.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-09-08T10:40:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560479",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_560480.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2020-09-08T17:07:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560480",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_560481.json:
```json
{
    "body": "Changing commit from \"0c2b2696fe173db5fdb9a3110ead0b95c200859f\" to \"37c5e193d9229517fd24be077f2e6cf2fc82b9b2\"",
    "created_at": "2020-09-08T17:07:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560481",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0c2b2696fe173db5fdb9a3110ead0b95c200859f" to "37c5e193d9229517fd24be077f2e6cf2fc82b9b2"



---

archive/issue_comments_560482.json:
```json
{
    "body": "<a id='comment:13'></a>\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n|                                                                                                                                           |                                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|\n|[b6cd28b](https://github.com/sagemath/sagetrac-mirror/commit/b6cd28b3b4909ed8ba4a109d9931b0d7657bad2f)|`28814: Merge tag '9.2.beta12' into #28814`|\n|[37c5e19](https://github.com/sagemath/sagetrac-mirror/commit/37c5e193d9229517fd24be077f2e6cf2fc82b9b2)|`28814: fix libgiac doctest`|",
    "created_at": "2020-09-08T17:07:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560482",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
|                                                                                                                                           |                                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
|[b6cd28b](https://github.com/sagemath/sagetrac-mirror/commit/b6cd28b3b4909ed8ba4a109d9931b0d7657bad2f)|`28814: Merge tag '9.2.beta12' into #28814`|
|[37c5e19](https://github.com/sagemath/sagetrac-mirror/commit/37c5e193d9229517fd24be077f2e6cf2fc82b9b2)|`28814: fix libgiac doctest`|



---

archive/issue_comments_560483.json:
```json
{
    "body": "<a id='comment:14'></a>\nSorry, there was a failing doctest in the file `src/sage/libs/giac/giac.pyx` which has recently been added. The failure was due to the fact that, after this ticket, `SR('1.3')` is equivalent to `SR(RR('1.3'))` rather than `SR(RDF('1.3'))`.\n\nNice to see that this work with a Raspberry Pi. On Linux, the `math` and `wolfram` scripts appear to be equal. I cannot find any documentation about `math`, so perhaps we should just replace it by `wolfram` \u2013 though, I am not sure about the situation on other platforms.",
    "created_at": "2020-09-08T17:08:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560483",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:14'></a>
Sorry, there was a failing doctest in the file `src/sage/libs/giac/giac.pyx` which has recently been added. The failure was due to the fact that, after this ticket, `SR('1.3')` is equivalent to `SR(RR('1.3'))` rather than `SR(RDF('1.3'))`.

Nice to see that this work with a Raspberry Pi. On Linux, the `math` and `wolfram` scripts appear to be equal. I cannot find any documentation about `math`, so perhaps we should just replace it by `wolfram` – though, I am not sure about the situation on other platforms.



---

archive/issue_comments_560484.json:
```json
{
    "body": "Changing stopgaps from \"Cast those inconvenient quantities to rationals\" to \"\"",
    "created_at": "2020-09-08T17:08:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560484",
    "user": "https://github.com/mwageringel"
}
```

Changing stopgaps from "Cast those inconvenient quantities to rationals" to ""



---

archive/issue_comments_560485.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [dimpase](#comment%3A12):\n> Tested with Mathematica 12 that comes free on Raspberry Pi 4.\n> There the equivalent of `math` command is `wolfram`, so I created  a symbolic link named `math` in my PATH to point to `wolfram`.  :-)\n> \n> \n> ```\n> $ uname -a\n> Linux raspberrypi 5.4.51-v7l+ #1333 SMP Mon Aug 10 16:51:40 BST 2020 armv7l GNU/Linux\n> $ ls -l `which math`\n> lrwxrwxrwx 1 pi pi 16 Sep  8 11:22 /home/pi/bin/math -> /usr/bin/wolfram\n> ```\n\n\nImagine a Beowulf cluster of these!",
    "created_at": "2020-09-08T17:34:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560485",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>
Replying to [dimpase](#comment%3A12):
> Tested with Mathematica 12 that comes free on Raspberry Pi 4.
> There the equivalent of `math` command is `wolfram`, so I created  a symbolic link named `math` in my PATH to point to `wolfram`.  :-)
> 
> 
> ```
> $ uname -a
> Linux raspberrypi 5.4.51-v7l+ #1333 SMP Mon Aug 10 16:51:40 BST 2020 armv7l GNU/Linux
> $ ls -l `which math`
> lrwxrwxrwx 1 pi pi 16 Sep  8 11:22 /home/pi/bin/math -> /usr/bin/wolfram
> ```


Imagine a Beowulf cluster of these!



---

archive/issue_comments_560486.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [gh-mwageringel](#comment%3A14):\n> Sorry, there was a failing doctest in the file `src/sage/libs/giac/giac.pyx` which has recently been added. The failure was due to the fact that, after this ticket, `SR('1.3')` is equivalent to `SR(RR('1.3'))` rather than `SR(RDF('1.3'))`.\n> \n> Nice to see that this work with a Raspberry Pi. On Linux, the `math` and `wolfram` scripts appear to be equal. I cannot find any documentation about `math`, so perhaps we should just replace it by `wolfram` \u2013 though, I am not sure about the situation on other platforms.\n\n\n`math` was the name  until some versions ago, then in version 11 (or maybe earlier) one got both wolfram and math.\n\nPerhaps, add a runtime check for the correct name?",
    "created_at": "2020-09-08T18:20:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560486",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:16'></a>
Replying to [gh-mwageringel](#comment%3A14):
> Sorry, there was a failing doctest in the file `src/sage/libs/giac/giac.pyx` which has recently been added. The failure was due to the fact that, after this ticket, `SR('1.3')` is equivalent to `SR(RR('1.3'))` rather than `SR(RDF('1.3'))`.
> 
> Nice to see that this work with a Raspberry Pi. On Linux, the `math` and `wolfram` scripts appear to be equal. I cannot find any documentation about `math`, so perhaps we should just replace it by `wolfram` – though, I am not sure about the situation on other platforms.


`math` was the name  until some versions ago, then in version 11 (or maybe earlier) one got both wolfram and math.

Perhaps, add a runtime check for the correct name?



---

archive/issue_comments_560487.json:
```json
{
    "body": "<a id='comment:17'></a>\nOn macOS, neither is provided; one needs to use `/Applications/Mathematica.app/Contents//MacOS/WolframKernel`",
    "created_at": "2020-09-08T18:24:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560487",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>
On macOS, neither is provided; one needs to use `/Applications/Mathematica.app/Contents//MacOS/WolframKernel`



---

archive/issue_comments_560488.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [gh-mwageringel](#comment%3A14):\n> Sorry, there was a failing doctest in the file `src/sage/libs/giac/giac.pyx` which has recently been added. The failure was due to the fact that, after this ticket, `SR('1.3')` is equivalent to `SR(RR('1.3'))` rather than `SR(RDF('1.3'))`.\n\n\nOK, this works.",
    "created_at": "2020-09-08T18:40:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560488",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:18'></a>
Replying to [gh-mwageringel](#comment%3A14):
> Sorry, there was a failing doctest in the file `src/sage/libs/giac/giac.pyx` which has recently been added. The failure was due to the fact that, after this ticket, `SR('1.3')` is equivalent to `SR(RR('1.3'))` rather than `SR(RDF('1.3'))`.


OK, this works.



---

archive/issue_comments_560489.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-09-08T18:40:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560489",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_560490.json:
```json
{
    "body": "<a id='comment:19'></a>\nThank you.",
    "created_at": "2020-09-08T19:02:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560490",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:19'></a>
Thank you.



---

archive/issue_events_082256.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-09-15T22:00:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28814#event-82256"
}
```



---

archive/issue_comments_560491.json:
```json
{
    "body": "Changing branch from \"public/28814\" to \"37c5e193d9229517fd24be077f2e6cf2fc82b9b2\"",
    "created_at": "2020-09-15T22:00:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560491",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/28814" to "37c5e193d9229517fd24be077f2e6cf2fc82b9b2"



---

archive/issue_comments_560492.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-09-15T22:00:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28814#issuecomment-560492",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
