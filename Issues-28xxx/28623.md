# Issue 28623: Upgrade Arb to 2.18.1

archive/issues_028386.json:
```json
{
    "assignees": [],
    "body": "http://arblib.org/history.html#history\n\nadds support for FLINT 2.6 (#29719)\n\ntarball: See checksums.ini [upstream_url]\n\n\nCC:  @mezzarobba @videlec @kiwifb @antonio-rojas\n\nBranch/Commit: **[`0c9c4ed`](https://github.com/sagemath/sagetrac-mirror/commit/0c9c4ed35c2eaf34ae0d19387c07b7f460e4abce)**\n\nReviewer: **Dima Pasechnik, Matthias Koeppe**\n\nAuthor: **Matthias Koeppe, Dima Pasechnik**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/28623_\n\n",
    "closed_at": "2020-12-13T20:31:13Z",
    "created_at": "2019-10-17T18:09:54Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade Arb to 2.18.1",
    "type": "issue",
    "updated_at": "2020-12-13T20:31:13Z",
    "url": "https://github.com/sagemath/sage/issues/28623",
    "user": "https://github.com/fredrik-johansson"
}
```
http://arblib.org/history.html#history

adds support for FLINT 2.6 (#29719)

tarball: See checksums.ini [upstream_url]


CC:  @mezzarobba @videlec @kiwifb @antonio-rojas

Branch/Commit: **[`0c9c4ed`](https://github.com/sagemath/sagetrac-mirror/commit/0c9c4ed35c2eaf34ae0d19387c07b7f460e4abce)**

Reviewer: **Dima Pasechnik, Matthias Koeppe**

Author: **Matthias Koeppe, Dima Pasechnik**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/28623_





---

archive/issue_events_393071.json:
```json
{
    "actor": "https://github.com/fredrik-johansson",
    "created_at": "2019-10-17T18:09:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "milestone_number": null,
    "milestone_title": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393071"
}
```



---

archive/issue_events_393072.json:
```json
{
    "actor": "https://github.com/fredrik-johansson",
    "created_at": "2019-10-17T18:09:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393072"
}
```



---

archive/issue_events_393073.json:
```json
{
    "actor": "https://github.com/fredrik-johansson",
    "created_at": "2019-10-17T18:09:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393073"
}
```



---

archive/issue_events_393074.json:
```json
{
    "actor": "https://github.com/fredrik-johansson",
    "created_at": "2019-10-17T18:09:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393074"
}
```



---

archive/issue_comments_446426.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nTicket retargeted after milestone closed",
    "created_at": "2020-01-06T14:10:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446426",
    "user": "https://github.com/embray"
}
```

<div id="comment:2" align="right">comment:2</div>

Ticket retargeted after milestone closed



---

archive/issue_events_393075.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-06T14:10:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "milestone_number": null,
    "milestone_title": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393075"
}
```



---

archive/issue_events_393076.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-06T14:10:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393076"
}
```



---

archive/issue_events_393077.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-24T02:06:29Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393077"
}
```



---

archive/issue_events_393078.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-24T02:06:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393078"
}
```



---

archive/issue_events_393079.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-14T21:44:16Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "title_is": "Upgrade Arb to 2.18.0",
    "title_was": "Upgrade Arb to 2.17.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393079"
}
```



---

archive/issue_comments_446427.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,4 @@\n-https://github.com/fredrik-johansson/arb/releases/tag/2.17.0\n+http://arblib.org/history.html#history\n+\n+adds support for FLINT 2.6 (#29719)\n+\n``````\n",
    "created_at": "2020-06-14T21:44:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446427",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,4 @@
-https://github.com/fredrik-johansson/arb/releases/tag/2.17.0
+http://arblib.org/history.html#history
+
+adds support for FLINT 2.6 (#29719)
+
``````




---

archive/issue_comments_446428.json:
```json
{
    "body": "Branch: **[u/mkoeppe/upgrade_arb_to_2_18_0](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_arb_to_2_18_0)**",
    "created_at": "2020-06-14T22:21:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446428",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/upgrade_arb_to_2_18_0](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_arb_to_2_18_0)**



---

archive/issue_comments_446429.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2020-06-14T22:22:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446429",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_446430.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9be33a0df6f1652e6f65d15a38d3e3fe84a4def\"><code>f9be33a</code></a></td><td><code>build/pkgs/arb: Update to 2.18.0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7a25cb0d7c775a182f63e5fd5aeb18807fabd61\"><code>e7a25cb</code></a></td><td><code>build/pkgs/arb/patches/silence-stderr-exponent-too-large.patch: Remove</code></td></tr></table>\n",
    "created_at": "2020-06-14T22:22:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446430",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9be33a0df6f1652e6f65d15a38d3e3fe84a4def"><code>f9be33a</code></a></td><td><code>build/pkgs/arb: Update to 2.18.0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7a25cb0d7c775a182f63e5fd5aeb18807fabd61"><code>e7a25cb</code></a></td><td><code>build/pkgs/arb/patches/silence-stderr-exponent-too-large.patch: Remove</code></td></tr></table>




---

archive/issue_comments_446431.json:
```json
{
    "body": "Commit: **[`e7a25cb`](https://github.com/sagemath/sagetrac-mirror/commit/e7a25cb0d7c775a182f63e5fd5aeb18807fabd61)**",
    "created_at": "2020-06-14T22:22:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446431",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`e7a25cb`](https://github.com/sagemath/sagetrac-mirror/commit/e7a25cb0d7c775a182f63e5fd5aeb18807fabd61)**



---

archive/issue_comments_446432.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,3 +2,5 @@\n \n adds support for FLINT 2.6 (#29719)\n \n+tarball: See checksums.ini [upstream_url]\n+\n``````\n",
    "created_at": "2020-06-14T22:30:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446432",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,3 +2,5 @@
 
 adds support for FLINT 2.6 (#29719)
 
+tarball: See checksums.ini [upstream_url]
+
``````




---

archive/issue_events_393080.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-14T22:40:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393080"
}
```



---

archive/issue_comments_446433.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nHave you run the testsuite? I just tried to do the update for sage in nixpkgs. We're still on sage 8.9, but I expect the failures would be the same with the current develop branch as the tests are still the same. Most of the test failures are due to precision improvements, but two (the `nan`s) look like regressions:\n\n```\nsage -t --long /nix/store/6dnh3dcsfmj8akrifqy95wd57sfnprp6-sage-src-8.9/src/sage/rings/complex_arb.pyx\n**********************************************************************\nFile \"/nix/store/6dnh3dcsfmj8akrifqy95wd57sfnprp6-sage-src-8.9/src/sage/rings/complex_arb.pyx\", line 4510, in sage.rings.complex_arb.ComplexBall.elliptic_pi\nFailed example:\n    CBF(2,3).elliptic_pi(CBF(1,1))\nExpected:\n    [0.27029997361983 +/- ...e-15] + [0.715676058329095 +/- ...e-16]*I\nGot:\n    [0.2702999736198 +/- 4.51e-14] + [0.7156760583291 +/- 1.78e-14]*I\n**********************************************************************\nFile \"/nix/store/6dnh3dcsfmj8akrifqy95wd57sfnprp6-sage-src-8.9/src/sage/rings/complex_arb.pyx\", line 4618, in sage.rings.complex_arb.ComplexBall.elliptic_pi_inc\nFailed example:\n    n.elliptic_pi_inc(CBF.pi()/2, m)\nExpected:\n    [0.8934793755173 +/- ...e-14] + [0.95707868710750 +/- ...e-15]*I\nGot:\n    nan + nan*I\n**********************************************************************\nFile \"/nix/store/6dnh3dcsfmj8akrifqy95wd57sfnprp6-sage-src-8.9/src/sage/rings/complex_arb.pyx\", line 4620, in sage.rings.complex_arb.ComplexBall.elliptic_pi_inc\nFailed example:\n    n.elliptic_pi(m)\nExpected:\n    [0.89347937551733 +/- ...e-15] + [0.95707868710750 +/- ...e-15]*I\nGot:\n    [0.8934793755173 +/- 4.27e-14] + [0.9570786871075 +/- 9.91e-15]*I\n**********************************************************************\nFile \"/nix/store/6dnh3dcsfmj8akrifqy95wd57sfnprp6-sage-src-8.9/src/sage/rings/complex_arb.pyx\", line 4625, in sage.rings.complex_arb.ComplexBall.elliptic_pi_inc\nFailed example:\n    n.elliptic_pi_inc(CBF.pi()/2, m)\nExpected:\n    [0.2969588746419 +/- ...e-14] + [1.3188795332738 +/- ...e-14]*I\nGot:\n    nan + nan*I\n**********************************************************************\nFile \"/nix/store/6dnh3dcsfmj8akrifqy95wd57sfnprp6-sage-src-8.9/src/sage/rings/complex_arb.pyx\", line 4627, in sage.rings.complex_arb.ComplexBall.elliptic_pi_inc\nFailed example:\n    n.elliptic_pi(m)\nExpected:\n    [0.29695887464189 +/- ...e-15] + [1.31887953327376 +/- ...e-15]*I\nGot:\n    [0.2969588746419 +/- 3.79e-14] + [1.3188795332738 +/- 7.19e-14]*I\n**********************************************************************\nFile \"/nix/store/6dnh3dcsfmj8akrifqy95wd57sfnprp6-sage-src-8.9/src/sage/rings/complex_arb.pyx\", line 4703, in sage.rings.complex_arb.ComplexBall.elliptic_rj\nFailed example:\n    CBF(0,1).elliptic_rj(CBF(-1/2,1), CBF(-1,-1), CBF(2))\nExpected:\n    [1.004386756285733 +/- ...e-16] + [-0.2451626834391645 +/- ...e-17]*I\nGot:\n    [1.00438675628573 +/- 6.85e-15] + [-0.24516268343916 +/- 8.11e-15]*I\n**********************************************************************\n3 items had failures:\n   1 of   2 in sage.rings.complex_arb.ComplexBall.elliptic_pi\n   4 of  10 in sage.rings.complex_arb.ComplexBall.elliptic_pi_inc\n   1 of   2 in sage.rings.complex_arb.ComplexBall.elliptic_rj\n    [637 tests, 6 failures, 7.92 s]\n```\n\n```\nFile \"/nix/store/6dnh3dcsfmj8akrifqy95wd57sfnprp6-sage-src-8.9/src/sage/rings/real_arb.pyx\", line 295, in sage.rings.real_arb.arb_to_mpfi\nFailed example:\n    RIF(RBF(2)**(2**100)) # indirect doctest\nExpected:\n    Traceback (most recent call last):\n    ...\n    ArithmeticError: Error converting arb to mpfi. Overflow?\nGot:\n    [5.8756537891115869e1388255822130839282 .. +infinity]\n**********************************************************************\nFile \"/nix/store/6dnh3dcsfmj8akrifqy95wd57sfnprp6-sage-src-8.9/src/sage/rings/real_arb.pyx\", line 1657, in sage.rings.real_arb.RealBall.mid\nFailed example:\n    b.mid()\nExpected:\n    Traceback (most recent call last):\n    ...\n    RuntimeError: unable to convert to MPFR (exponent out of range?)\nGot:\n    +infinity\n**********************************************************************\n2 items had failures:\n   1 of   7 in sage.rings.real_arb.RealBall.mid\n   1 of   2 in sage.rings.real_arb.arb_to_mpfi\n    [539 tests, 2 failures, 0.71 s]\n```",
    "created_at": "2020-06-15T19:58:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446433",
    "user": "https://github.com/timokau"
}
```

<div id="comment:9" align="right">comment:9</div>

Have you run the testsuite? I just tried to do the update for sage in nixpkgs. We're still on sage 8.9, but I expect the failures would be the same with the current develop branch as the tests are still the same. Most of the test failures are due to precision improvements, but two (the `nan`s) look like regressions:

```
sage -t --long /nix/store/6dnh3dcsfmj8akrifqy95wd57sfnprp6-sage-src-8.9/src/sage/rings/complex_arb.pyx
**********************************************************************
File "/nix/store/6dnh3dcsfmj8akrifqy95wd57sfnprp6-sage-src-8.9/src/sage/rings/complex_arb.pyx", line 4510, in sage.rings.complex_arb.ComplexBall.elliptic_pi
Failed example:
    CBF(2,3).elliptic_pi(CBF(1,1))
Expected:
    [0.27029997361983 +/- ...e-15] + [0.715676058329095 +/- ...e-16]*I
Got:
    [0.2702999736198 +/- 4.51e-14] + [0.7156760583291 +/- 1.78e-14]*I
**********************************************************************
File "/nix/store/6dnh3dcsfmj8akrifqy95wd57sfnprp6-sage-src-8.9/src/sage/rings/complex_arb.pyx", line 4618, in sage.rings.complex_arb.ComplexBall.elliptic_pi_inc
Failed example:
    n.elliptic_pi_inc(CBF.pi()/2, m)
Expected:
    [0.8934793755173 +/- ...e-14] + [0.95707868710750 +/- ...e-15]*I
Got:
    nan + nan*I
**********************************************************************
File "/nix/store/6dnh3dcsfmj8akrifqy95wd57sfnprp6-sage-src-8.9/src/sage/rings/complex_arb.pyx", line 4620, in sage.rings.complex_arb.ComplexBall.elliptic_pi_inc
Failed example:
    n.elliptic_pi(m)
Expected:
    [0.89347937551733 +/- ...e-15] + [0.95707868710750 +/- ...e-15]*I
Got:
    [0.8934793755173 +/- 4.27e-14] + [0.9570786871075 +/- 9.91e-15]*I
**********************************************************************
File "/nix/store/6dnh3dcsfmj8akrifqy95wd57sfnprp6-sage-src-8.9/src/sage/rings/complex_arb.pyx", line 4625, in sage.rings.complex_arb.ComplexBall.elliptic_pi_inc
Failed example:
    n.elliptic_pi_inc(CBF.pi()/2, m)
Expected:
    [0.2969588746419 +/- ...e-14] + [1.3188795332738 +/- ...e-14]*I
Got:
    nan + nan*I
**********************************************************************
File "/nix/store/6dnh3dcsfmj8akrifqy95wd57sfnprp6-sage-src-8.9/src/sage/rings/complex_arb.pyx", line 4627, in sage.rings.complex_arb.ComplexBall.elliptic_pi_inc
Failed example:
    n.elliptic_pi(m)
Expected:
    [0.29695887464189 +/- ...e-15] + [1.31887953327376 +/- ...e-15]*I
Got:
    [0.2969588746419 +/- 3.79e-14] + [1.3188795332738 +/- 7.19e-14]*I
**********************************************************************
File "/nix/store/6dnh3dcsfmj8akrifqy95wd57sfnprp6-sage-src-8.9/src/sage/rings/complex_arb.pyx", line 4703, in sage.rings.complex_arb.ComplexBall.elliptic_rj
Failed example:
    CBF(0,1).elliptic_rj(CBF(-1/2,1), CBF(-1,-1), CBF(2))
Expected:
    [1.004386756285733 +/- ...e-16] + [-0.2451626834391645 +/- ...e-17]*I
Got:
    [1.00438675628573 +/- 6.85e-15] + [-0.24516268343916 +/- 8.11e-15]*I
**********************************************************************
3 items had failures:
   1 of   2 in sage.rings.complex_arb.ComplexBall.elliptic_pi
   4 of  10 in sage.rings.complex_arb.ComplexBall.elliptic_pi_inc
   1 of   2 in sage.rings.complex_arb.ComplexBall.elliptic_rj
    [637 tests, 6 failures, 7.92 s]
```

```
File "/nix/store/6dnh3dcsfmj8akrifqy95wd57sfnprp6-sage-src-8.9/src/sage/rings/real_arb.pyx", line 295, in sage.rings.real_arb.arb_to_mpfi
Failed example:
    RIF(RBF(2)**(2**100)) # indirect doctest
Expected:
    Traceback (most recent call last):
    ...
    ArithmeticError: Error converting arb to mpfi. Overflow?
Got:
    [5.8756537891115869e1388255822130839282 .. +infinity]
**********************************************************************
File "/nix/store/6dnh3dcsfmj8akrifqy95wd57sfnprp6-sage-src-8.9/src/sage/rings/real_arb.pyx", line 1657, in sage.rings.real_arb.RealBall.mid
Failed example:
    b.mid()
Expected:
    Traceback (most recent call last):
    ...
    RuntimeError: unable to convert to MPFR (exponent out of range?)
Got:
    +infinity
**********************************************************************
2 items had failures:
   1 of   7 in sage.rings.real_arb.RealBall.mid
   1 of   2 in sage.rings.real_arb.arb_to_mpfi
    [539 tests, 2 failures, 0.71 s]
```



---

archive/issue_events_393081.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-15T20:52:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393081"
}
```



---

archive/issue_events_393082.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-15T20:52:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393082"
}
```



---

archive/issue_comments_446434.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI don't see these arb errors if I update flint to 2.6 in lockstep with arb.",
    "created_at": "2020-06-16T07:38:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446434",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:11" align="right">comment:11</div>

I don't see these arb errors if I update flint to 2.6 in lockstep with arb.



---

archive/issue_comments_446435.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2020-06-16T07:38:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446435",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_events_393083.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-06-16T07:38:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393083"
}
```



---

archive/issue_events_393084.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-06-16T07:38:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393084"
}
```



---

archive/issue_comments_446436.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI get the same errors if I update flint as well, but if you're not seeing them that could also be caused by some other dependency / version difference of sage on nix.",
    "created_at": "2020-06-16T14:00:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446436",
    "user": "https://github.com/timokau"
}
```

<div id="comment:12" align="right">comment:12</div>

I get the same errors if I update flint as well, but if you're not seeing them that could also be caused by some other dependency / version difference of sage on nix.



---

archive/issue_comments_446437.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nour flint 2.6.0 update ticket has patches, did you use them?",
    "created_at": "2020-06-16T14:05:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446437",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:13" align="right">comment:13</div>

our flint 2.6.0 update ticket has patches, did you use them?



---

archive/issue_comments_446438.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@dimpase](#comment:11):\n> I don't see these arb errors if I update flint to 2.6 in lockstep with arb.\n\nPerhaps then this ticket should depend on the FLINT ticket, not the other way around; or we should close this one and use #29719 for both updates.",
    "created_at": "2020-06-16T14:16:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446438",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@dimpase](#comment:11):
> I don't see these arb errors if I update flint to 2.6 in lockstep with arb.

Perhaps then this ticket should depend on the FLINT ticket, not the other way around; or we should close this one and use #29719 for both updates.



---

archive/issue_comments_446439.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@dimpase](#comment:13):\n> our flint 2.6.0 update ticket has patches, did you use them?\n\nNo, but I don't see any relevant patches either. Only `0001-Makefile.in-macos-Do-not-make-DESTDIR-part-of-instal.patch` was added, which is both MacOS and buildsystem specific.",
    "created_at": "2020-06-16T14:17:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446439",
    "user": "https://github.com/timokau"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@dimpase](#comment:13):
> our flint 2.6.0 update ticket has patches, did you use them?

No, but I don't see any relevant patches either. Only `0001-Makefile.in-macos-Do-not-make-DESTDIR-part-of-instal.patch` was added, which is both MacOS and buildsystem specific.



---

archive/issue_comments_446440.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nsome needed for doctests patches for arb are on #29719. Sorry for mess.",
    "created_at": "2020-06-22T09:03:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446440",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:16" align="right">comment:16</div>

some needed for doctests patches for arb are on #29719. Sorry for mess.



---

archive/issue_comments_446441.json:
```json
{
    "body": "Dependencies: **#29719**",
    "created_at": "2020-06-22T09:03:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446441",
    "user": "https://github.com/dimpase"
}
```

Dependencies: **#29719**



---

archive/issue_events_393085.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-06-22T20:26:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393085"
}
```



---

archive/issue_events_393086.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-06-22T20:26:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393086"
}
```



---

archive/issue_events_393087.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-06-23T09:16:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393087"
}
```



---

archive/issue_events_393088.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-06-23T09:16:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393088"
}
```



---

archive/issue_events_393089.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-06-23T09:16:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393089"
}
```



---

archive/issue_events_393090.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-06-23T09:16:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393090"
}
```



---

archive/issue_events_393091.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-06-23T09:16:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393091"
}
```



---

archive/issue_events_393092.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-06-23T09:17:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393092"
}
```



---

archive/issue_events_393093.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-06-23T09:17:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393093"
}
```



---

archive/issue_comments_446442.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nfurther work on this to happen on #29719.",
    "created_at": "2020-06-23T09:17:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446442",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:19" align="right">comment:19</div>

further work on this to happen on #29719.



---

archive/issue_events_393094.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-06-25T08:24:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/duplicate",
    "label_color": "a6a6a6",
    "label_name": "duplicate",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393094"
}
```



---

archive/issue_events_393095.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-06-25T08:24:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393095"
}
```



---

archive/issue_events_393096.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-06-25T08:24:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393096"
}
```



---

archive/issue_comments_446443.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\n#29719 no longer updates arb",
    "created_at": "2020-06-26T22:02:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446443",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:21" align="right">comment:21</div>

#29719 no longer updates arb



---

archive/issue_events_393097.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-26T22:02:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/duplicate",
    "label_color": "a6a6a6",
    "label_name": "duplicate",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393097"
}
```



---

archive/issue_events_393098.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-06-26T22:02:22Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393098"
}
```



---

archive/issue_comments_446444.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThe failures reported in comment 9 have been reproduced in the Sage distribution, see #29719.",
    "created_at": "2020-06-26T22:05:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446444",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:22" align="right">comment:22</div>

The failures reported in comment 9 have been reproduced in the Sage distribution, see #29719.



---

archive/issue_comments_446445.json:
```json
{
    "body": "Changed author from **Matthias Koeppe** to **Matthias Koeppe, ...**",
    "created_at": "2020-06-26T22:08:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446445",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Matthias Koeppe** to **Matthias Koeppe, ...**



---

archive/issue_comments_446446.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nThis ticket needs some help from someone who is familiar with these tests",
    "created_at": "2020-06-26T22:08:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446446",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:24" align="right">comment:24</div>

This ticket needs some help from someone who is familiar with these tests



---

archive/issue_comments_446447.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nHello everyone,\n\nLittle time for Sage development these days, sorry!\n\nReplying to [@timokau](#comment:9):\n> \n> ```\n> **********************************************************************\n> File \"/nix/store/6dnh3dcsfmj8akrifqy95wd57sfnprp6-sage-src-8.9/src/sage/rings/complex_arb.pyx\", line 4510, in sage.rings.complex_arb.ComplexBall.elliptic_pi\n> Failed example:\n>     CBF(2,3).elliptic_pi(CBF(1,1))\n> Expected:\n>     [0.27029997361983 +/- ...e-15] + [0.715676058329095 +/- ...e-16]*I\n> Got:\n>     [0.2702999736198 +/- 4.51e-14] + [0.7156760583291 +/- 1.78e-14]*I\n> ```\n\nThis output change and all similar ones (slight increases in radius) are benign. The expected output could be replaced by something like\n\n```\n    [0.2702999736198...] + [0.715676058329...]*I\n```\nto stay compatible with both versions of arb.\n\nThe following two changes are in fact welcome improvements:\n\n> ```\n> File \"/nix/store/6dnh3dcsfmj8akrifqy95wd57sfnprp6-sage-src-8.9/src/sage/rings/real_arb.pyx\", line 295, in sage.rings.real_arb.arb_to_mpfi\n> Failed example:\n>     RIF(RBF(2)**(2**100)) # indirect doctest\n> Expected:\n>     Traceback (most recent call last):\n>     ...\n>     ArithmeticError: Error converting arb to mpfi. Overflow?\n> Got:\n>     [5.8756537891115869e1388255822130839282 .. +infinity]\n> **********************************************************************\n> File \"/nix/store/6dnh3dcsfmj8akrifqy95wd57sfnprp6-sage-src-8.9/src/sage/rings/real_arb.pyx\", line 1657, in sage.rings.real_arb.RealBall.mid\n> Failed example:\n>     b.mid()\n> Expected:\n>     Traceback (most recent call last):\n>     ...\n>     RuntimeError: unable to convert to MPFR (exponent out of range?)\n> Got:\n>     +infinity\n> **********************************************************************\n> 2 items had failures:\n>    1 of   7 in sage.rings.real_arb.RealBall.mid\n>    1 of   2 in sage.rings.real_arb.arb_to_mpfi\n>     [539 tests, 2 failures, 0.71 s]\n> ```\n\nI'm not sure about the remaining two failures. Maybe Fredrik can comment.\n\n> ```\n> **********************************************************************\n> File \"/nix/store/6dnh3dcsfmj8akrifqy95wd57sfnprp6-sage-src-8.9/src/sage/rings/complex_arb.pyx\", line 4618, in sage.rings.complex_arb.ComplexBall.elliptic_pi_inc\n> Failed example:\n>     n.elliptic_pi_inc(CBF.pi()/2, m)\n> Expected:\n>     [0.8934793755173 +/- ...e-14] + [0.95707868710750 +/- ...e-15]*I\n> Got:\n>     nan + nan*I\n> **********************************************************************\n> ```\n\n> ```\n> **********************************************************************\n> File \"/nix/store/6dnh3dcsfmj8akrifqy95wd57sfnprp6-sage-src-8.9/src/sage/rings/complex_arb.pyx\", line 4625, in sage.rings.complex_arb.ComplexBall.elliptic_pi_inc\n> Failed example:\n>     n.elliptic_pi_inc(CBF.pi()/2, m)\n> Expected:\n>     [0.2969588746419 +/- ...e-14] + [1.3188795332738 +/- ...e-14]*I\n> Got:\n>     nan + nan*I\n> **********************************************************************\n> ```",
    "created_at": "2020-06-27T07:01:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446447",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:25" align="right">comment:25</div>

Hello everyone,

Little time for Sage development these days, sorry!

Replying to [@timokau](#comment:9):
> 
> ```
> **********************************************************************
> File "/nix/store/6dnh3dcsfmj8akrifqy95wd57sfnprp6-sage-src-8.9/src/sage/rings/complex_arb.pyx", line 4510, in sage.rings.complex_arb.ComplexBall.elliptic_pi
> Failed example:
>     CBF(2,3).elliptic_pi(CBF(1,1))
> Expected:
>     [0.27029997361983 +/- ...e-15] + [0.715676058329095 +/- ...e-16]*I
> Got:
>     [0.2702999736198 +/- 4.51e-14] + [0.7156760583291 +/- 1.78e-14]*I
> ```

This output change and all similar ones (slight increases in radius) are benign. The expected output could be replaced by something like

```
    [0.2702999736198...] + [0.715676058329...]*I
```
to stay compatible with both versions of arb.

The following two changes are in fact welcome improvements:

> ```
> File "/nix/store/6dnh3dcsfmj8akrifqy95wd57sfnprp6-sage-src-8.9/src/sage/rings/real_arb.pyx", line 295, in sage.rings.real_arb.arb_to_mpfi
> Failed example:
>     RIF(RBF(2)**(2**100)) # indirect doctest
> Expected:
>     Traceback (most recent call last):
>     ...
>     ArithmeticError: Error converting arb to mpfi. Overflow?
> Got:
>     [5.8756537891115869e1388255822130839282 .. +infinity]
> **********************************************************************
> File "/nix/store/6dnh3dcsfmj8akrifqy95wd57sfnprp6-sage-src-8.9/src/sage/rings/real_arb.pyx", line 1657, in sage.rings.real_arb.RealBall.mid
> Failed example:
>     b.mid()
> Expected:
>     Traceback (most recent call last):
>     ...
>     RuntimeError: unable to convert to MPFR (exponent out of range?)
> Got:
>     +infinity
> **********************************************************************
> 2 items had failures:
>    1 of   7 in sage.rings.real_arb.RealBall.mid
>    1 of   2 in sage.rings.real_arb.arb_to_mpfi
>     [539 tests, 2 failures, 0.71 s]
> ```

I'm not sure about the remaining two failures. Maybe Fredrik can comment.

> ```
> **********************************************************************
> File "/nix/store/6dnh3dcsfmj8akrifqy95wd57sfnprp6-sage-src-8.9/src/sage/rings/complex_arb.pyx", line 4618, in sage.rings.complex_arb.ComplexBall.elliptic_pi_inc
> Failed example:
>     n.elliptic_pi_inc(CBF.pi()/2, m)
> Expected:
>     [0.8934793755173 +/- ...e-14] + [0.95707868710750 +/- ...e-15]*I
> Got:
>     nan + nan*I
> **********************************************************************
> ```

> ```
> **********************************************************************
> File "/nix/store/6dnh3dcsfmj8akrifqy95wd57sfnprp6-sage-src-8.9/src/sage/rings/complex_arb.pyx", line 4625, in sage.rings.complex_arb.ComplexBall.elliptic_pi_inc
> Failed example:
>     n.elliptic_pi_inc(CBF.pi()/2, m)
> Expected:
>     [0.2969588746419 +/- ...e-14] + [1.3188795332738 +/- ...e-14]*I
> Got:
>     nan + nan*I
> **********************************************************************
> ```



---

archive/issue_comments_446448.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nAs I already commented in #29719:\n\n\n\nThe slight regressions in accuracy for elliptic_pi, elliptic_pi_inc and elliptic_rj are due to using a different algorithm to compute the R_J function for certain complex parameters. The new algorithm is a bit slower and less accurate, but unlike the old algorithm always gives the right branch. These doctest results just need to be updated.\n\nUnfortunately, the new algorithm doesn't work when phi is an inexact multiple of pi/2, leading to the NaN values. There is a workaround: acb_elliptic_pi_inc takes a pi flag to multiply the argument by pi exactly, so if you add a pi flag to the Sage wrapper and pass in phi=0.5 with pi=True in the doctest, it should give the expected result.\n\nIt's theoretically possible to fix these regressions, and I will open an Arb issue for it, but I'm not keen to spend time on it any time soon.\n\nThe other two examples look correct: converting an Arb number to an MPFR now rounds according to MPFR semantics (including rounding to infinity) instead of abort()ing when the exponents are out of range for MPFR.",
    "created_at": "2020-06-27T09:42:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446448",
    "user": "https://github.com/fredrik-johansson"
}
```

<div id="comment:26" align="right">comment:26</div>

As I already commented in #29719:



The slight regressions in accuracy for elliptic_pi, elliptic_pi_inc and elliptic_rj are due to using a different algorithm to compute the R_J function for certain complex parameters. The new algorithm is a bit slower and less accurate, but unlike the old algorithm always gives the right branch. These doctest results just need to be updated.

Unfortunately, the new algorithm doesn't work when phi is an inexact multiple of pi/2, leading to the NaN values. There is a workaround: acb_elliptic_pi_inc takes a pi flag to multiply the argument by pi exactly, so if you add a pi flag to the Sage wrapper and pass in phi=0.5 with pi=True in the doctest, it should give the expected result.

It's theoretically possible to fix these regressions, and I will open an Arb issue for it, but I'm not keen to spend time on it any time soon.

The other two examples look correct: converting an Arb number to an MPFR now rounds according to MPFR semantics (including rounding to infinity) instead of abort()ing when the exponents are out of range for MPFR.



---

archive/issue_events_393099.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-13T17:11:30Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393099"
}
```



---

archive/issue_events_393100.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-13T17:11:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393100"
}
```



---

archive/issue_comments_446449.json:
```json
{
    "body": "Changed dependencies from **#29719** to **#29719, #30486**",
    "created_at": "2020-09-02T05:07:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446449",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#29719** to **#29719, #30486**



---

archive/issue_comments_446450.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/upgrade_arb_to_2_18_0](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_arb_to_2_18_0)** to **[u/dimpase/upgrade_arb_to_2_18_0](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/upgrade_arb_to_2_18_0)**",
    "created_at": "2020-09-18T16:26:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446450",
    "user": "https://github.com/dimpase"
}
```

Changed branch from **[u/mkoeppe/upgrade_arb_to_2_18_0](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_arb_to_2_18_0)** to **[u/dimpase/upgrade_arb_to_2_18_0](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/upgrade_arb_to_2_18_0)**



---

archive/issue_comments_446451.json:
```json
{
    "body": "Changed commit from **[`e7a25cb`](https://github.com/sagemath/sagetrac-mirror/commit/e7a25cb0d7c775a182f63e5fd5aeb18807fabd61)** to **[`387ba00`](https://github.com/sagemath/sagetrac-mirror/commit/387ba00399b6d7f5dde07359afbb352f7237c179)**",
    "created_at": "2020-09-18T16:26:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446451",
    "user": "https://github.com/dimpase"
}
```

Changed commit from **[`e7a25cb`](https://github.com/sagemath/sagetrac-mirror/commit/e7a25cb0d7c775a182f63e5fd5aeb18807fabd61)** to **[`387ba00`](https://github.com/sagemath/sagetrac-mirror/commit/387ba00399b6d7f5dde07359afbb352f7237c179)**



---

archive/issue_comments_446452.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nrebased over updated #29719\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48f70d036f98f63e865063d45a4ea2d6cf9eecb4\"><code>48f70d0</code></a></td><td><code>update flint to 2.6.0 (alpha version), remove patches</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0055c562fb18cbc1e619718dada624f67e956b55\"><code>0055c56</code></a></td><td><code>backport flint compat patch from arb's trunk</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7559750a88a185c085ec724d8854251645c4b615\"><code>7559750</code></a></td><td><code>skip square-freeness test for polynomials non-fields</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d2e055a1096d5e259fbe704a6c6f5469de1c665c\"><code>d2e055a</code></a></td><td><code>fix and make robust related doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1dfd3c25437e08607dcf8376f912738c1dfb41aa\"><code>1dfd3c2</code></a></td><td><code>build/pkgs/flint: Add DESTDIR patch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c84f9f1b45291cc7555fe604910590387cfce9d8\"><code>c84f9f1</code></a></td><td><code>build/pkgs/arb: Bump patch level</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/add7970dd19e7ea0bc5eb3f6fe68d5d3fd62609e\"><code>add7970</code></a></td><td><code>build/pkgs/flint: Update to 2.6.1, drop upstreamed patch</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7916a33e7a78dab0d3b204e3af81438c5522e1ac\"><code>7916a33</code></a></td><td><code>build/pkgs/arb: Update to 2.18.0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/387ba00399b6d7f5dde07359afbb352f7237c179\"><code>387ba00</code></a></td><td><code>build/pkgs/arb/patches/silence-stderr-exponent-too-large.patch: Remove</code></td></tr></table>\n",
    "created_at": "2020-09-18T16:26:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446452",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:29" align="right">comment:29</div>

rebased over updated #29719

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48f70d036f98f63e865063d45a4ea2d6cf9eecb4"><code>48f70d0</code></a></td><td><code>update flint to 2.6.0 (alpha version), remove patches</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0055c562fb18cbc1e619718dada624f67e956b55"><code>0055c56</code></a></td><td><code>backport flint compat patch from arb's trunk</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7559750a88a185c085ec724d8854251645c4b615"><code>7559750</code></a></td><td><code>skip square-freeness test for polynomials non-fields</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d2e055a1096d5e259fbe704a6c6f5469de1c665c"><code>d2e055a</code></a></td><td><code>fix and make robust related doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1dfd3c25437e08607dcf8376f912738c1dfb41aa"><code>1dfd3c2</code></a></td><td><code>build/pkgs/flint: Add DESTDIR patch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c84f9f1b45291cc7555fe604910590387cfce9d8"><code>c84f9f1</code></a></td><td><code>build/pkgs/arb: Bump patch level</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/add7970dd19e7ea0bc5eb3f6fe68d5d3fd62609e"><code>add7970</code></a></td><td><code>build/pkgs/flint: Update to 2.6.1, drop upstreamed patch</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7916a33e7a78dab0d3b204e3af81438c5522e1ac"><code>7916a33</code></a></td><td><code>build/pkgs/arb: Update to 2.18.0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/387ba00399b6d7f5dde07359afbb352f7237c179"><code>387ba00</code></a></td><td><code>build/pkgs/arb/patches/silence-stderr-exponent-too-large.patch: Remove</code></td></tr></table>




---

archive/issue_comments_446453.json:
```json
{
    "body": "Changed commit from **[`387ba00`](https://github.com/sagemath/sagetrac-mirror/commit/387ba00399b6d7f5dde07359afbb352f7237c179)** to **[`758db64`](https://github.com/sagemath/sagetrac-mirror/commit/758db64d4d987bfb3efea7b592bb0b492ea58e4b)**",
    "created_at": "2020-09-18T16:31:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446453",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`387ba00`](https://github.com/sagemath/sagetrac-mirror/commit/387ba00399b6d7f5dde07359afbb352f7237c179)** to **[`758db64`](https://github.com/sagemath/sagetrac-mirror/commit/758db64d4d987bfb3efea7b592bb0b492ea58e4b)**



---

archive/issue_comments_446454.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/758db64d4d987bfb3efea7b592bb0b492ea58e4b\"><code>758db64</code></a></td><td><code>build/pkgs/arb/patches/[flint.. silence-stderr-exponent-too-large].patch: Remove</code></td></tr></table>\n",
    "created_at": "2020-09-18T16:31:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446454",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/758db64d4d987bfb3efea7b592bb0b492ea58e4b"><code>758db64</code></a></td><td><code>build/pkgs/arb/patches/[flint.. silence-stderr-exponent-too-large].patch: Remove</code></td></tr></table>




---

archive/issue_comments_446455.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nit appears to work in Homebrew with XCode 12 on top of Homebrew's Flint 2.6.3.",
    "created_at": "2020-09-18T16:46:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446455",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:31" align="right">comment:31</div>

it appears to work in Homebrew with XCode 12 on top of Homebrew's Flint 2.6.3.



---

archive/issue_comments_446456.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\n2.18.1 is available",
    "created_at": "2020-09-23T20:54:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446456",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:32" align="right">comment:32</div>

2.18.1 is available



---

archive/issue_comments_446457.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/97e0b45fb0e08830cbc3c368e09558f0707e71e7\"><code>97e0b45</code></a></td><td><code>update to 2.18.1</code></td></tr></table>\n",
    "created_at": "2020-09-24T13:38:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446457",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/97e0b45fb0e08830cbc3c368e09558f0707e71e7"><code>97e0b45</code></a></td><td><code>update to 2.18.1</code></td></tr></table>




---

archive/issue_comments_446458.json:
```json
{
    "body": "Changed commit from **[`758db64`](https://github.com/sagemath/sagetrac-mirror/commit/758db64d4d987bfb3efea7b592bb0b492ea58e4b)** to **[`97e0b45`](https://github.com/sagemath/sagetrac-mirror/commit/97e0b45fb0e08830cbc3c368e09558f0707e71e7)**",
    "created_at": "2020-09-24T13:38:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446458",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`758db64`](https://github.com/sagemath/sagetrac-mirror/commit/758db64d4d987bfb3efea7b592bb0b492ea58e4b)** to **[`97e0b45`](https://github.com/sagemath/sagetrac-mirror/commit/97e0b45fb0e08830cbc3c368e09558f0707e71e7)**



---

archive/issue_events_393101.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-24T15:14:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393101"
}
```



---

archive/issue_events_393102.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-24T15:14:33Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "title_is": "Upgrade Arb to 2.18.1",
    "title_was": "Upgrade Arb to 2.18.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393102"
}
```



---

archive/issue_comments_446459.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nPerhaps we need to merge it in 9.2, after all, see #30757",
    "created_at": "2020-10-14T22:09:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446459",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:35" align="right">comment:35</div>

Perhaps we need to merge it in 9.2, after all, see #30757



---

archive/issue_comments_446460.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\ndoes it work with Flint version < 2.6, or we need this update too?",
    "created_at": "2020-10-15T10:37:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446460",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:36" align="right">comment:36</div>

does it work with Flint version < 2.6, or we need this update too?



---

archive/issue_comments_446461.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nI think arb 2.18.x is prepared to work with both old and new flint. But I have not tested it recently. \n\nWe should separate this ticket from the flint upgrade",
    "created_at": "2020-10-15T16:16:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446461",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:37" align="right">comment:37</div>

I think arb 2.18.x is prepared to work with both old and new flint. But I have not tested it recently. 

We should separate this ticket from the flint upgrade



---

archive/issue_comments_446462.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nI am currently using flint-2.5.2 and arb-2.18.1 in Gentoo and it works and doctest fine.",
    "created_at": "2020-10-15T19:48:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446462",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:38" align="right">comment:38</div>

I am currently using flint-2.5.2 and arb-2.18.1 in Gentoo and it works and doctest fine.



---

archive/issue_events_393103.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-16T01:06:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393103"
}
```



---

archive/issue_events_393104.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-16T01:06:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393104"
}
```



---

archive/issue_comments_446463.json:
```json
{
    "body": "Work Issues: **rebase away from the flint upgrade ticket**",
    "created_at": "2020-10-16T01:06:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446463",
    "user": "https://github.com/mkoeppe"
}
```

Work Issues: **rebase away from the flint upgrade ticket**



---

archive/issue_comments_446464.json:
```json
{
    "body": "Changed dependencies from **#29719, #30486** to **#29719, #30486, #30757**",
    "created_at": "2020-10-16T11:45:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446464",
    "user": "https://github.com/dimpase"
}
```

Changed dependencies from **#29719, #30486** to **#29719, #30486, #30757**



---

archive/issue_comments_446465.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nI guess the correct base for this should be #30757 - as it adds a patch to arb.",
    "created_at": "2020-10-16T11:45:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446465",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:40" align="right">comment:40</div>

I guess the correct base for this should be #30757 - as it adds a patch to arb.



---

archive/issue_comments_446466.json:
```json
{
    "body": "Changed commit from **[`97e0b45`](https://github.com/sagemath/sagetrac-mirror/commit/97e0b45fb0e08830cbc3c368e09558f0707e71e7)** to **[`d6838a1`](https://github.com/sagemath/sagetrac-mirror/commit/d6838a115cf59ce8d4070f2bd18c3b9bc2caa5ab)**",
    "created_at": "2020-10-20T08:51:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446466",
    "user": "https://github.com/dimpase"
}
```

Changed commit from **[`97e0b45`](https://github.com/sagemath/sagetrac-mirror/commit/97e0b45fb0e08830cbc3c368e09558f0707e71e7)** to **[`d6838a1`](https://github.com/sagemath/sagetrac-mirror/commit/d6838a115cf59ce8d4070f2bd18c3b9bc2caa5ab)**



---

archive/issue_comments_446467.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nto be tested abit\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/034b59479dea98e76c0d33704f0b6ca0fbdd3e64\"><code>034b594</code></a></td><td><code>build/pkgs/arb/patches/[flint.. silence-stderr-exponent-too-large].patch: Remove</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/44302b93b82fff6a082114754f14a54909fa60fc\"><code>44302b9</code></a></td><td><code>update to 2.18.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d6838a115cf59ce8d4070f2bd18c3b9bc2caa5ab\"><code>d6838a1</code></a></td><td><code>remove old workaround</code></td></tr></table>\n",
    "created_at": "2020-10-20T08:51:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446467",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:41" align="right">comment:41</div>

to be tested abit

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/034b59479dea98e76c0d33704f0b6ca0fbdd3e64"><code>034b594</code></a></td><td><code>build/pkgs/arb/patches/[flint.. silence-stderr-exponent-too-large].patch: Remove</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/44302b93b82fff6a082114754f14a54909fa60fc"><code>44302b9</code></a></td><td><code>update to 2.18.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d6838a115cf59ce8d4070f2bd18c3b9bc2caa5ab"><code>d6838a1</code></a></td><td><code>remove old workaround</code></td></tr></table>




---

archive/issue_comments_446468.json:
```json
{
    "body": "Changed branch from **[u/dimpase/upgrade_arb_to_2_18_0](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/upgrade_arb_to_2_18_0)** to **[u/dimpase/upgrade_arb_to_2_18_1](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/upgrade_arb_to_2_18_1)**",
    "created_at": "2020-10-20T08:51:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446468",
    "user": "https://github.com/dimpase"
}
```

Changed branch from **[u/dimpase/upgrade_arb_to_2_18_0](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/upgrade_arb_to_2_18_0)** to **[u/dimpase/upgrade_arb_to_2_18_1](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/upgrade_arb_to_2_18_1)**



---

archive/issue_comments_446469.json:
```json
{
    "body": "Changed dependencies from **#29719, #30486, #30757** to none",
    "created_at": "2020-10-20T08:51:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446469",
    "user": "https://github.com/dimpase"
}
```

Changed dependencies from **#29719, #30486, #30757** to none



---

archive/issue_events_393105.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-10-20T11:24:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393105"
}
```



---

archive/issue_events_393106.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-10-20T11:24:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393106"
}
```



---

archive/issue_comments_446470.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nthe new branch works well with Flint 2.5.3 (only tested on Fedora 30 so far)",
    "created_at": "2020-10-20T11:24:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446470",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:42" align="right">comment:42</div>

the new branch works well with Flint 2.5.3 (only tested on Fedora 30 so far)



---

archive/issue_comments_446471.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nShould we also put here the doctest patches from the Flint 2.6.3 update ticket? - this would allow using system Flint 2.6.3",
    "created_at": "2020-10-20T13:58:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446471",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:43" align="right">comment:43</div>

Should we also put here the doctest patches from the Flint 2.6.3 update ticket? - this would allow using system Flint 2.6.3



---

archive/issue_comments_446472.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nYes, good idea",
    "created_at": "2020-10-20T14:21:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446472",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:44" align="right">comment:44</div>

Yes, good idea



---

archive/issue_comments_446473.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nI am testing this, and having a problem: Maxima ghost processes are taking over the machine:\n\n```\n12028 dimpase   20   0  367444 302324  14884 R  42.5   1.8  11:14.59 maxima                                                                                                                                \n 7306 dimpase   20   0  491620 426668  15028 R  42.2   2.6  17:44.48 maxima                                                                                                                                \n11596 dimpase   20   0  385528 311008  15000 R  41.9   1.9  11:54.40 maxima                                                                                                                                \n13577 dimpase   20   0  312752 233244  14956 R  41.9   1.4   7:22.41 maxima                                                                                                                                \n14138 dimpase   20   0  296276 231528  14980 R  41.9   1.4   6:21.78 maxima                                                                                                                                \n14806 dimpase   20   0  255672 190624  14884 R  41.5   1.2   2:50.26 maxima                                                                                                                                \n 8230 dimpase   20   0  490176 425464  14964 R  41.2   2.6  17:20.55 maxima                                                                                                                                \n13635 dimpase   20   0  314196 237876  14988 R  40.9   1.5   7:40.07 maxima                                                                                                                                \n 6978 dimpase   20   0  490944 426156  15152 R  40.2   2.6  18:02.45 maxima                                                                                                                                \n 8635 dimpase   20   0  490852 425820  14960 R  38.9   2.6  16:51.44 maxima                                                                                                                                \n15220 dimpase   20   0  255628 190808  14916 R  38.9   1.2   1:58.04 maxima                                                                                                                                \n 8050 dimpase   20   0  490176 425796  15296 R  38.5   2.6  17:17.71 maxima                                                                                                                                \n15286 dimpase   20   0  238476 173380  14912 R  38.5   1.1   1:21.26 maxima                                                                                                                                \n 8678 dimpase   20   0  489920 425044  15036 R  38.2   2.6  16:54.90 maxima                                                                                                                                \n14490 dimpase   20   0  295088 230148  14972 R  38.2   1.4   5:27.37 maxima                                                                                                                                \n13789 dimpase   20   0  312752 232936  14864 R  37.9   1.4   7:22.27 maxima                                                                                                                                \n14116 dimpase   20   0  295600 230720  15040 R  37.2   1.4   6:22.48 maxima                                                                                                                                \n14453 dimpase   20   0  296020 231248  14956 R  37.2   1.4   5:27.63 maxima                                                                                                                                \n15412 dimpase   20   0  220812 156160  15112 R  36.9   1.0   0:54.24 maxima                                                                                                                                \n15971 dimpase   20   0 1418768 244428  43224 R   4.3   1.5   0:00.78 python3                                                                                                                               \n15891 dimpase   20   0 1332768 204008  14336 R   3.3   1.2   0:04.51 python3                                                                                                                               \n15908 dimpase   20   0 1477908 293144  57444 R   3.3   1.8   0:05.13 python3                                                                                                                               \n15937 dimpase   20   0 1672080 289956  26744 R   3.3   1.8   0:03.49 python3                                                                                                                               \n15938 dimpase   20   0 1389976 241124  28616 R   3.3   1.5   0:03.50 python3                                                                                                                               \n15951 dimpase   20   0 1726520 315200  37664 R   3.3   1.9   0:02.40 python3                                                                                                                               \n15953 dimpase   20   0 1333964 220592  30044 R   3.3   1.3   0:02.36 python3                                                                                                                               \n15959 dimpase   20   0 1380784 226536  22884 R   3.3   1.4   0:01.63 python3                                                                                                                               \n15963 dimpase   20   0 1380456 231188  27976 R   3.3   1.4   0:01.31 python3                                                                                                                               \n15976 dimpase   20   0 1338012 213532  18876 R   3.3   1.3   0:00.59 python3                                                                                                                               \n15969 dimpase   20   0 1342848 219184  28928 R   3.0   1.3   0:00.86 python3                                                                                                                               \n15973 dimpase   20   0 1341560 221264  23480 R   3.0   1.4   0:00.69 python3                 \n```",
    "created_at": "2020-10-20T17:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446473",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:45" align="right">comment:45</div>

I am testing this, and having a problem: Maxima ghost processes are taking over the machine:

```
12028 dimpase   20   0  367444 302324  14884 R  42.5   1.8  11:14.59 maxima                                                                                                                                
 7306 dimpase   20   0  491620 426668  15028 R  42.2   2.6  17:44.48 maxima                                                                                                                                
11596 dimpase   20   0  385528 311008  15000 R  41.9   1.9  11:54.40 maxima                                                                                                                                
13577 dimpase   20   0  312752 233244  14956 R  41.9   1.4   7:22.41 maxima                                                                                                                                
14138 dimpase   20   0  296276 231528  14980 R  41.9   1.4   6:21.78 maxima                                                                                                                                
14806 dimpase   20   0  255672 190624  14884 R  41.5   1.2   2:50.26 maxima                                                                                                                                
 8230 dimpase   20   0  490176 425464  14964 R  41.2   2.6  17:20.55 maxima                                                                                                                                
13635 dimpase   20   0  314196 237876  14988 R  40.9   1.5   7:40.07 maxima                                                                                                                                
 6978 dimpase   20   0  490944 426156  15152 R  40.2   2.6  18:02.45 maxima                                                                                                                                
 8635 dimpase   20   0  490852 425820  14960 R  38.9   2.6  16:51.44 maxima                                                                                                                                
15220 dimpase   20   0  255628 190808  14916 R  38.9   1.2   1:58.04 maxima                                                                                                                                
 8050 dimpase   20   0  490176 425796  15296 R  38.5   2.6  17:17.71 maxima                                                                                                                                
15286 dimpase   20   0  238476 173380  14912 R  38.5   1.1   1:21.26 maxima                                                                                                                                
 8678 dimpase   20   0  489920 425044  15036 R  38.2   2.6  16:54.90 maxima                                                                                                                                
14490 dimpase   20   0  295088 230148  14972 R  38.2   1.4   5:27.37 maxima                                                                                                                                
13789 dimpase   20   0  312752 232936  14864 R  37.9   1.4   7:22.27 maxima                                                                                                                                
14116 dimpase   20   0  295600 230720  15040 R  37.2   1.4   6:22.48 maxima                                                                                                                                
14453 dimpase   20   0  296020 231248  14956 R  37.2   1.4   5:27.63 maxima                                                                                                                                
15412 dimpase   20   0  220812 156160  15112 R  36.9   1.0   0:54.24 maxima                                                                                                                                
15971 dimpase   20   0 1418768 244428  43224 R   4.3   1.5   0:00.78 python3                                                                                                                               
15891 dimpase   20   0 1332768 204008  14336 R   3.3   1.2   0:04.51 python3                                                                                                                               
15908 dimpase   20   0 1477908 293144  57444 R   3.3   1.8   0:05.13 python3                                                                                                                               
15937 dimpase   20   0 1672080 289956  26744 R   3.3   1.8   0:03.49 python3                                                                                                                               
15938 dimpase   20   0 1389976 241124  28616 R   3.3   1.5   0:03.50 python3                                                                                                                               
15951 dimpase   20   0 1726520 315200  37664 R   3.3   1.9   0:02.40 python3                                                                                                                               
15953 dimpase   20   0 1333964 220592  30044 R   3.3   1.3   0:02.36 python3                                                                                                                               
15959 dimpase   20   0 1380784 226536  22884 R   3.3   1.4   0:01.63 python3                                                                                                                               
15963 dimpase   20   0 1380456 231188  27976 R   3.3   1.4   0:01.31 python3                                                                                                                               
15976 dimpase   20   0 1338012 213532  18876 R   3.3   1.3   0:00.59 python3                                                                                                                               
15969 dimpase   20   0 1342848 219184  28928 R   3.0   1.3   0:00.86 python3                                                                                                                               
15973 dimpase   20   0 1341560 221264  23480 R   3.0   1.4   0:00.69 python3                 
```



---

archive/issue_comments_446474.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nThis is also a bit weird:\n\n```\n$ find . -name sage-cleaner \n./src/bin/sage-cleaner\n./local/bin/sage-cleaner\n./build/pkgs/sagelib/src/build/scripts-3.7/sage-cleaner\n```\n\nOK, I'll try a build from scratch.",
    "created_at": "2020-10-20T17:40:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446474",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:46" align="right">comment:46</div>

This is also a bit weird:

```
$ find . -name sage-cleaner 
./src/bin/sage-cleaner
./local/bin/sage-cleaner
./build/pkgs/sagelib/src/build/scripts-3.7/sage-cleaner
```

OK, I'll try a build from scratch.



---

archive/issue_comments_446475.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nReplying to [@dimpase](#comment:46):\n> This is also a bit weird:\n> \n> ```\n> $ find . -name sage-cleaner \n> ./src/bin/sage-cleaner\n> ./local/bin/sage-cleaner\n> ./build/pkgs/sagelib/src/build/scripts-3.7/sage-cleaner\n> ```\n\nThis is normal",
    "created_at": "2020-10-20T17:42:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446475",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:47" align="right">comment:47</div>

Replying to [@dimpase](#comment:46):
> This is also a bit weird:
> 
> ```
> $ find . -name sage-cleaner 
> ./src/bin/sage-cleaner
> ./local/bin/sage-cleaner
> ./build/pkgs/sagelib/src/build/scripts-3.7/sage-cleaner
> ```

This is normal



---

archive/issue_comments_446476.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nthe same picture after `make distclean && make -j11 ptest`. Half a dozen  Maxima processes running for 30 minutes or more. There is a `sage-cleaner` running (strangely, the one in `src/bin`, not in `local/bin`, apparently missing these Maxima zombies.",
    "created_at": "2020-10-20T19:13:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446476",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:48" align="right">comment:48</div>

the same picture after `make distclean && make -j11 ptest`. Half a dozen  Maxima processes running for 30 minutes or more. There is a `sage-cleaner` running (strangely, the one in `src/bin`, not in `local/bin`, apparently missing these Maxima zombies.



---

archive/issue_comments_446477.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\n\n```\n$ ps -def | grep sage-clean\ndimpase  15068 15000  0 11:33 pts/2    00:00:00 /bin/sh /home/scratch2/dimpase/sage/sage-clang/src/bin/sage-python /home/scratch2/dimpase/sage/sage-clang/src/bin/sage-cleaner\ndimpase  15070 15068  0 11:33 pts/2    00:00:00 /home/scratch2/dimpase/sage/sage-clang/local/bin/python3 /home/scratch2/dimpase/sage/sage-clang/src/bin/sage-cleaner\ndimpase  27819 22676  0 20:14 pts/14   00:00:00 grep --color=auto sage-clean\n```\n\nwhy is anything running from `src/bin/` at all?",
    "created_at": "2020-10-20T19:17:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446477",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:49" align="right">comment:49</div>


```
$ ps -def | grep sage-clean
dimpase  15068 15000  0 11:33 pts/2    00:00:00 /bin/sh /home/scratch2/dimpase/sage/sage-clang/src/bin/sage-python /home/scratch2/dimpase/sage/sage-clang/src/bin/sage-cleaner
dimpase  15070 15068  0 11:33 pts/2    00:00:00 /home/scratch2/dimpase/sage/sage-clang/local/bin/python3 /home/scratch2/dimpase/sage/sage-clang/src/bin/sage-cleaner
dimpase  27819 22676  0 20:14 pts/14   00:00:00 grep --color=auto sage-clean
```

why is anything running from `src/bin/` at all?



---

archive/issue_comments_446478.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nThat's what I have in the patch of ./sage -sh: (or buildsh, no difference)\n\n```\n$ echo $PATH\n/home/scratch2/dimpase/sage/sage-clang/build/bin:/home/scratch2/dimpase/sage/sage-clang/src/bin:/home/scratch2/dimpase/sage/sage-clang/local/bin:/home/scratch2/dimpase/miniconda3/condabin:/users/dimpase/perl5/bin:/users/dimpase/bin:/usr/libexec/python3-sphinx:/usr/lib64/qt-3.3/bin:/usr/share/Modules/bin:/usr/lib64/ccache:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/users/dimpase/.cabal/bin:/auto/users/dimpase/bin\n```",
    "created_at": "2020-10-20T19:22:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446478",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:50" align="right">comment:50</div>

That's what I have in the patch of ./sage -sh: (or buildsh, no difference)

```
$ echo $PATH
/home/scratch2/dimpase/sage/sage-clang/build/bin:/home/scratch2/dimpase/sage/sage-clang/src/bin:/home/scratch2/dimpase/sage/sage-clang/local/bin:/home/scratch2/dimpase/miniconda3/condabin:/users/dimpase/perl5/bin:/users/dimpase/bin:/usr/libexec/python3-sphinx:/usr/lib64/qt-3.3/bin:/usr/share/Modules/bin:/usr/lib64/ccache:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/users/dimpase/.cabal/bin:/auto/users/dimpase/bin
```



---

archive/issue_comments_446479.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nReplying to [@dimpase](#comment:49):\n> \n> ```\n> $ ps -def | grep sage-clean\n> dimpase  15068 15000  0 11:33 pts/2    00:00:00 /bin/sh /home/scratch2/dimpase/sage/sage-clang/src/bin/sage-python /home/scratch2/dimpase/sage/sage-clang/src/bin/sage-cleaner\n> dimpase  15070 15068  0 11:33 pts/2    00:00:00 /home/scratch2/dimpase/sage/sage-clang/local/bin/python3 /home/scratch2/dimpase/sage/sage-clang/src/bin/sage-cleaner\n> dimpase  27819 22676  0 20:14 pts/14   00:00:00 grep --color=auto sage-clean\n> ```\n> \n> why is anything running from `src/bin/` at all?\n\nThe scripts in $SAGE_SRC/bin are preferred over the installed scripts in $SAGE_LOCAL/bin - see `sage-env`:\n\n```\nexport PATH=\"$SAGE_ROOT/build/bin:$SAGE_SRC/bin:$SAGE_LOCAL/bin:$PATH\"\n```",
    "created_at": "2020-10-20T19:47:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446479",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:51" align="right">comment:51</div>

Replying to [@dimpase](#comment:49):
> 
> ```
> $ ps -def | grep sage-clean
> dimpase  15068 15000  0 11:33 pts/2    00:00:00 /bin/sh /home/scratch2/dimpase/sage/sage-clang/src/bin/sage-python /home/scratch2/dimpase/sage/sage-clang/src/bin/sage-cleaner
> dimpase  15070 15068  0 11:33 pts/2    00:00:00 /home/scratch2/dimpase/sage/sage-clang/local/bin/python3 /home/scratch2/dimpase/sage/sage-clang/src/bin/sage-cleaner
> dimpase  27819 22676  0 20:14 pts/14   00:00:00 grep --color=auto sage-clean
> ```
> 
> why is anything running from `src/bin/` at all?

The scripts in $SAGE_SRC/bin are preferred over the installed scripts in $SAGE_LOCAL/bin - see `sage-env`:

```
export PATH="$SAGE_ROOT/build/bin:$SAGE_SRC/bin:$SAGE_LOCAL/bin:$PATH"
```



---

archive/issue_comments_446480.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nthat's how it looks some time into make ptest\n\n```\n2901 dimpase   20   0  296788 231908  14816 R  32.6   1.4   6:51.62 maxima                                                          \n 3620 dimpase   20   0  271848 206812  14892 R  32.6   1.3   4:43.95 maxima                                                          \n14383 dimpase   20   0 1010928 935392  14828 R  32.6   5.7  60:34.33 maxima                                                          \n28253 dimpase   20   0  579776 502700  15112 R  32.6   3.1  27:05.16 maxima                                                          \n 3993 dimpase   20   0  237584 172452  14872 S  32.2   1.1   2:05.58 maxima                                                          \n 9113 dimpase   20   0 1172372   1.0g  14936 R  32.2   6.7  78:25.36 maxima                                                          \n  920 dimpase   20   0  366420 301280  14892 R  31.9   1.8  10:21.38 maxima                                                          \n 2791 dimpase   20   0  297044 232316  14972 R  31.9   1.4   7:07.70 maxima                                                          \n 7627 dimpase   20   0 1207188   1.1g  15220 R  31.9   6.9  81:05.87 maxima                                                          \n13239 dimpase   20   0 1082952 984.0m  15912 R  31.9   6.2  69:10.38 maxima                                                          \n27668 dimpase   20   0  694396 629220  14808 R  31.9   3.8  31:36.46 maxima                                                          \n29342 dimpase   20   0  544960 475212  15076 R  31.9   2.9  24:28.83 maxima                                                          \n  764 dimpase   20   0  367444 302668  14964 R  31.6   1.8  11:30.94 maxima                                                          \n 2675 dimpase   20   0  296788 232196  15120 R  31.6   1.4   6:50.34 maxima                                                          \n 4535 dimpase   20   0  202472 137496  15056 R  31.6   0.8   0:28.07 maxima                                                          \n 8979 dimpase   20   0 1153008   1.0g  14772 R  31.6   6.6  76:06.60 maxima                                                          \n15549 dimpase   20   0  994964 926360  15244 R  31.6   5.7  59:28.08 maxima                                                          \n 3229 dimpase   20   0  296020 231336  15036 R  31.2   1.4   5:44.30 maxima                                                          \n 3569 dimpase   20   0  296020 231256  14960 R  31.2   1.4   4:49.63 maxima                                                          \n29192 dimpase   20   0  545636 474636  15208 R  31.2   2.9  24:24.71 maxima                                                          \n32520 dimpase   20   0  385784 316468  14908 R  31.2   1.9  12:32.67 maxima                                                          \n27629 dimpase   20   0  694396 629536  15144 R  30.9   3.8  31:25.58 maxima                                                          \n 4458 dimpase   20   0  237288 172552  14992 R  30.6   1.1   1:02.70 maxima                                                          \n 4414 dimpase   20   0  237288 172572  14996 R  30.2   1.1   1:02.69 maxima                                                          \n 4638 dimpase   20   0 1517256 299848  58604 R   2.7   1.8   0:03.71 python3                                                         \n 4654 dimpase   20   0 1511288 293552  50604 R   2.3   1.8   0:03.54 python3                                                         \n 4882 dimpase   20   0 1335900 202072  12196 R   2.3   1.2   0:00.63 python3                                                         \n 5156 dimpase   20   0   14652   9852   5216 R   2.3   0.1   0:00.08 python3                                                         \n 4679 dimpase   20   0 1473088 303752  70860 R   2.0   1.9   0:03.21 python3                                                         \n 4714 dimpase   20   0 1362904 251744  39536 R   2.0   1.5   0:02.18 python3                                                         \n```\n\nAny idea as to what causes sage-cleaner to leave these maxima processes running?\nE.g. here is one long-running one:\n\n```\n01:21:52 /home/scratch2/dimpase/sage/sage-clang/local/lib/maxima/5.44.0/binary-ecl/maxima --frame-stack 4096 --lisp-stack 65536 -- -p /home/scratch2/dimpase/sage/sage-clang/local/lib64/python3.7/site-packages/sage/interfaces/sage-maxima.lisp\n```\n\nThis is Fedora 30, and so ECL is built with system (threaded) libgc version 7.6.4 and libatomic_ops, if it matters, don't know.",
    "created_at": "2020-10-20T20:15:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446480",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:52" align="right">comment:52</div>

that's how it looks some time into make ptest

```
2901 dimpase   20   0  296788 231908  14816 R  32.6   1.4   6:51.62 maxima                                                          
 3620 dimpase   20   0  271848 206812  14892 R  32.6   1.3   4:43.95 maxima                                                          
14383 dimpase   20   0 1010928 935392  14828 R  32.6   5.7  60:34.33 maxima                                                          
28253 dimpase   20   0  579776 502700  15112 R  32.6   3.1  27:05.16 maxima                                                          
 3993 dimpase   20   0  237584 172452  14872 S  32.2   1.1   2:05.58 maxima                                                          
 9113 dimpase   20   0 1172372   1.0g  14936 R  32.2   6.7  78:25.36 maxima                                                          
  920 dimpase   20   0  366420 301280  14892 R  31.9   1.8  10:21.38 maxima                                                          
 2791 dimpase   20   0  297044 232316  14972 R  31.9   1.4   7:07.70 maxima                                                          
 7627 dimpase   20   0 1207188   1.1g  15220 R  31.9   6.9  81:05.87 maxima                                                          
13239 dimpase   20   0 1082952 984.0m  15912 R  31.9   6.2  69:10.38 maxima                                                          
27668 dimpase   20   0  694396 629220  14808 R  31.9   3.8  31:36.46 maxima                                                          
29342 dimpase   20   0  544960 475212  15076 R  31.9   2.9  24:28.83 maxima                                                          
  764 dimpase   20   0  367444 302668  14964 R  31.6   1.8  11:30.94 maxima                                                          
 2675 dimpase   20   0  296788 232196  15120 R  31.6   1.4   6:50.34 maxima                                                          
 4535 dimpase   20   0  202472 137496  15056 R  31.6   0.8   0:28.07 maxima                                                          
 8979 dimpase   20   0 1153008   1.0g  14772 R  31.6   6.6  76:06.60 maxima                                                          
15549 dimpase   20   0  994964 926360  15244 R  31.6   5.7  59:28.08 maxima                                                          
 3229 dimpase   20   0  296020 231336  15036 R  31.2   1.4   5:44.30 maxima                                                          
 3569 dimpase   20   0  296020 231256  14960 R  31.2   1.4   4:49.63 maxima                                                          
29192 dimpase   20   0  545636 474636  15208 R  31.2   2.9  24:24.71 maxima                                                          
32520 dimpase   20   0  385784 316468  14908 R  31.2   1.9  12:32.67 maxima                                                          
27629 dimpase   20   0  694396 629536  15144 R  30.9   3.8  31:25.58 maxima                                                          
 4458 dimpase   20   0  237288 172552  14992 R  30.6   1.1   1:02.70 maxima                                                          
 4414 dimpase   20   0  237288 172572  14996 R  30.2   1.1   1:02.69 maxima                                                          
 4638 dimpase   20   0 1517256 299848  58604 R   2.7   1.8   0:03.71 python3                                                         
 4654 dimpase   20   0 1511288 293552  50604 R   2.3   1.8   0:03.54 python3                                                         
 4882 dimpase   20   0 1335900 202072  12196 R   2.3   1.2   0:00.63 python3                                                         
 5156 dimpase   20   0   14652   9852   5216 R   2.3   0.1   0:00.08 python3                                                         
 4679 dimpase   20   0 1473088 303752  70860 R   2.0   1.9   0:03.21 python3                                                         
 4714 dimpase   20   0 1362904 251744  39536 R   2.0   1.5   0:02.18 python3                                                         
```

Any idea as to what causes sage-cleaner to leave these maxima processes running?
E.g. here is one long-running one:

```
01:21:52 /home/scratch2/dimpase/sage/sage-clang/local/lib/maxima/5.44.0/binary-ecl/maxima --frame-stack 4096 --lisp-stack 65536 -- -p /home/scratch2/dimpase/sage/sage-clang/local/lib64/python3.7/site-packages/sage/interfaces/sage-maxima.lisp
```

This is Fedora 30, and so ECL is built with system (threaded) libgc version 7.6.4 and libatomic_ops, if it matters, don't know.



---

archive/issue_comments_446481.json:
```json
{
    "body": "Changed branch from **[u/dimpase/upgrade_arb_to_2_18_1](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/upgrade_arb_to_2_18_1)** to **[u/mkoeppe/upgrade_arb_to_2_18_1](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_arb_to_2_18_1)**",
    "created_at": "2020-11-25T00:50:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446481",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/dimpase/upgrade_arb_to_2_18_1](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/upgrade_arb_to_2_18_1)** to **[u/mkoeppe/upgrade_arb_to_2_18_1](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_arb_to_2_18_1)**



---

archive/issue_comments_446482.json:
```json
{
    "body": "Changed author from **Matthias Koeppe, ...** to **Matthias Koeppe, Dima Pasechnik**",
    "created_at": "2020-11-25T00:51:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446482",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Matthias Koeppe, ...** to **Matthias Koeppe, Dima Pasechnik**



---

archive/issue_comments_446483.json:
```json
{
    "body": "Changed reviewer from **Dima Pasechnik** to **Dima Pasechnik, ...**",
    "created_at": "2020-11-25T00:51:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446483",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Dima Pasechnik** to **Dima Pasechnik, ...**



---

archive/issue_comments_446484.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/upgrade_arb_to_2_18_1](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_arb_to_2_18_1)** to **[u/dimpase/upgrade_arb_to_2_18_1](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/upgrade_arb_to_2_18_1)**",
    "created_at": "2020-11-25T00:51:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446484",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/mkoeppe/upgrade_arb_to_2_18_1](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_arb_to_2_18_1)** to **[u/dimpase/upgrade_arb_to_2_18_1](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/upgrade_arb_to_2_18_1)**



---

archive/issue_comments_446485.json:
```json
{
    "body": "Changed work issues from **rebase away from the flint upgrade ticket** to none",
    "created_at": "2020-11-25T00:51:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446485",
    "user": "https://github.com/mkoeppe"
}
```

Changed work issues from **rebase away from the flint upgrade ticket** to none



---

archive/issue_comments_446486.json:
```json
{
    "body": "Changed branch from **[u/dimpase/upgrade_arb_to_2_18_1](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/upgrade_arb_to_2_18_1)** to **[u/mkoeppe/upgrade_arb_to_2_18_1](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_arb_to_2_18_1)**",
    "created_at": "2020-11-25T00:52:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446486",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/dimpase/upgrade_arb_to_2_18_1](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/upgrade_arb_to_2_18_1)** to **[u/mkoeppe/upgrade_arb_to_2_18_1](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_arb_to_2_18_1)**



---

archive/issue_comments_446487.json:
```json
{
    "body": "Changed commit from **[`d6838a1`](https://github.com/sagemath/sagetrac-mirror/commit/d6838a115cf59ce8d4070f2bd18c3b9bc2caa5ab)** to **[`9515c6d`](https://github.com/sagemath/sagetrac-mirror/commit/9515c6d543c12a16ae2dcdcf0dd5d2676d38d3f5)**",
    "created_at": "2020-11-25T19:13:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446487",
    "user": "https://github.com/dimpase"
}
```

Changed commit from **[`d6838a1`](https://github.com/sagemath/sagetrac-mirror/commit/d6838a115cf59ce8d4070f2bd18c3b9bc2caa5ab)** to **[`9515c6d`](https://github.com/sagemath/sagetrac-mirror/commit/9515c6d543c12a16ae2dcdcf0dd5d2676d38d3f5)**



---

archive/issue_comments_446488.json:
```json
{
    "body": "Changed reviewer from **Dima Pasechnik, ...** to **Dima Pasechnik**",
    "created_at": "2020-11-25T19:13:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446488",
    "user": "https://github.com/dimpase"
}
```

Changed reviewer from **Dima Pasechnik, ...** to **Dima Pasechnik**



---

archive/issue_events_393107.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-11-25T19:13:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393107"
}
```



---

archive/issue_events_393108.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-11-25T19:13:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393108"
}
```



---

archive/issue_comments_446489.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nit all works just fine.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a99383f11e15f25a9e0684f6269d85e2f593fa1\"><code>0a99383</code></a></td><td><code>build/pkgs/arb/patches/[flint.. silence-stderr-exponent-too-large].patch: Remove</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e4005b156f75633fb75c28bccbe4d9848fac5b5c\"><code>e4005b1</code></a></td><td><code>update to 2.18.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9515c6d543c12a16ae2dcdcf0dd5d2676d38d3f5\"><code>9515c6d</code></a></td><td><code>remove old workaround</code></td></tr></table>\n",
    "created_at": "2020-11-25T19:13:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446489",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:56" align="right">comment:56</div>

it all works just fine.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a99383f11e15f25a9e0684f6269d85e2f593fa1"><code>0a99383</code></a></td><td><code>build/pkgs/arb/patches/[flint.. silence-stderr-exponent-too-large].patch: Remove</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e4005b156f75633fb75c28bccbe4d9848fac5b5c"><code>e4005b1</code></a></td><td><code>update to 2.18.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9515c6d543c12a16ae2dcdcf0dd5d2676d38d3f5"><code>9515c6d</code></a></td><td><code>remove old workaround</code></td></tr></table>




---

archive/issue_events_393109.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-12-04T23:57:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393109"
}
```



---

archive/issue_events_393110.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-12-04T23:57:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393110"
}
```



---

archive/issue_comments_446490.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nOn 32-bit:\n\n```\n**********************************************************************\nFile \"src/sage/rings/real_arb.pyx\", line 300, in sage.rings.real_arb.arb_to_mpfi\nFailed example:\n    RIF(RBF(2)**(2**100)) # arb218 # indirect doctest\nExpected:\n    [5.8756537891115869e1388255822130839282 .. +infinity]\nGot:\n    [2.0985787164673874e323228496 .. +infinity]\n**********************************************************************\n1 item had failures:\n   1 of   2 in sage.rings.real_arb.arb_to_mpfi\n    [546 tests, 1 failure, 0.37 s]\n----------------------------------------------------------------------\nsage -t --long --random-seed=0 src/sage/rings/real_arb.pyx  # 1 doctest failed\n----------------------------------------------------------------------\n```",
    "created_at": "2020-12-04T23:57:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446490",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:57" align="right">comment:57</div>

On 32-bit:

```
**********************************************************************
File "src/sage/rings/real_arb.pyx", line 300, in sage.rings.real_arb.arb_to_mpfi
Failed example:
    RIF(RBF(2)**(2**100)) # arb218 # indirect doctest
Expected:
    [5.8756537891115869e1388255822130839282 .. +infinity]
Got:
    [2.0985787164673874e323228496 .. +infinity]
**********************************************************************
1 item had failures:
   1 of   2 in sage.rings.real_arb.arb_to_mpfi
    [546 tests, 1 failure, 0.37 s]
----------------------------------------------------------------------
sage -t --long --random-seed=0 src/sage/rings/real_arb.pyx  # 1 doctest failed
----------------------------------------------------------------------
```



---

archive/issue_comments_446491.json:
```json
{
    "body": "<div id=\"comment:58\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/62fee73d2e3c0fb9b533db1163ef1746d870f854\"><code>62fee73</code></a></td><td><code>build/pkgs/arb/patches/[flint.. silence-stderr-exponent-too-large].patch: Remove</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bf63df750501efdc5b8064dccc3a73d799501e33\"><code>bf63df7</code></a></td><td><code>update to 2.18.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/11206565962670f5a5663242165459b40d7968e7\"><code>1120656</code></a></td><td><code>remove old workaround</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0ce02a265480cbef1289d6fb877d6530ef26f741\"><code>0ce02a2</code></a></td><td><code>add 64/32-bit tags and results</code></td></tr></table>\n",
    "created_at": "2020-12-07T15:38:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446491",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:58"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/62fee73d2e3c0fb9b533db1163ef1746d870f854"><code>62fee73</code></a></td><td><code>build/pkgs/arb/patches/[flint.. silence-stderr-exponent-too-large].patch: Remove</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bf63df750501efdc5b8064dccc3a73d799501e33"><code>bf63df7</code></a></td><td><code>update to 2.18.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/11206565962670f5a5663242165459b40d7968e7"><code>1120656</code></a></td><td><code>remove old workaround</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0ce02a265480cbef1289d6fb877d6530ef26f741"><code>0ce02a2</code></a></td><td><code>add 64/32-bit tags and results</code></td></tr></table>




---

archive/issue_comments_446492.json:
```json
{
    "body": "Changed commit from **[`9515c6d`](https://github.com/sagemath/sagetrac-mirror/commit/9515c6d543c12a16ae2dcdcf0dd5d2676d38d3f5)** to **[`0ce02a2`](https://github.com/sagemath/sagetrac-mirror/commit/0ce02a265480cbef1289d6fb877d6530ef26f741)**",
    "created_at": "2020-12-07T15:38:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446492",
    "user": "https://github.com/dimpase"
}
```

Changed commit from **[`9515c6d`](https://github.com/sagemath/sagetrac-mirror/commit/9515c6d543c12a16ae2dcdcf0dd5d2676d38d3f5)** to **[`0ce02a2`](https://github.com/sagemath/sagetrac-mirror/commit/0ce02a265480cbef1289d6fb877d6530ef26f741)**



---

archive/issue_events_393111.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-12-07T15:38:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393111"
}
```



---

archive/issue_events_393112.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-12-07T15:38:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393112"
}
```



---

archive/issue_comments_446493.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/upgrade_arb_to_2_18_1](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_arb_to_2_18_1)** to **[u/dimpase/upgrade_arb_to_2_18_1](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/upgrade_arb_to_2_18_1)**",
    "created_at": "2020-12-07T15:38:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446493",
    "user": "https://github.com/dimpase"
}
```

Changed branch from **[u/mkoeppe/upgrade_arb_to_2_18_1](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_arb_to_2_18_1)** to **[u/dimpase/upgrade_arb_to_2_18_1](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/upgrade_arb_to_2_18_1)**



---

archive/issue_comments_446494.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nrebased over the latest beta and added tags. Please test on 32 bits in particular",
    "created_at": "2020-12-07T15:38:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446494",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:59" align="right">comment:59</div>

rebased over the latest beta and added tags. Please test on 32 bits in particular



---

archive/issue_comments_446495.json:
```json
{
    "body": "<div id=\"comment:60\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e5e12d183234193eb4a2f667ce5916bf8a1fe76\"><code>4e5e12d</code></a></td><td><code>add missing dots</code></td></tr></table>\n",
    "created_at": "2020-12-07T21:14:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446495",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:60"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e5e12d183234193eb4a2f667ce5916bf8a1fe76"><code>4e5e12d</code></a></td><td><code>add missing dots</code></td></tr></table>




---

archive/issue_comments_446496.json:
```json
{
    "body": "Changed commit from **[`0ce02a2`](https://github.com/sagemath/sagetrac-mirror/commit/0ce02a265480cbef1289d6fb877d6530ef26f741)** to **[`4e5e12d`](https://github.com/sagemath/sagetrac-mirror/commit/4e5e12d183234193eb4a2f667ce5916bf8a1fe76)**",
    "created_at": "2020-12-07T21:14:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446496",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`0ce02a2`](https://github.com/sagemath/sagetrac-mirror/commit/0ce02a265480cbef1289d6fb877d6530ef26f741)** to **[`4e5e12d`](https://github.com/sagemath/sagetrac-mirror/commit/4e5e12d183234193eb4a2f667ce5916bf8a1fe76)**



---

archive/issue_comments_446497.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\npasses all the tests on 32-bit now",
    "created_at": "2020-12-07T21:15:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446497",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:61" align="right">comment:61</div>

passes all the tests on 32-bit now



---

archive/issue_comments_446498.json:
```json
{
    "body": "<div id=\"comment:62\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c9c4ed35c2eaf34ae0d19387c07b7f460e4abce\"><code>0c9c4ed</code></a></td><td><code>correct the tags placement, add dots</code></td></tr></table>\n",
    "created_at": "2020-12-07T23:08:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446498",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:62"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c9c4ed35c2eaf34ae0d19387c07b7f460e4abce"><code>0c9c4ed</code></a></td><td><code>correct the tags placement, add dots</code></td></tr></table>




---

archive/issue_comments_446499.json:
```json
{
    "body": "Changed commit from **[`4e5e12d`](https://github.com/sagemath/sagetrac-mirror/commit/4e5e12d183234193eb4a2f667ce5916bf8a1fe76)** to **[`0c9c4ed`](https://github.com/sagemath/sagetrac-mirror/commit/0c9c4ed35c2eaf34ae0d19387c07b7f460e4abce)**",
    "created_at": "2020-12-07T23:08:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446499",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4e5e12d`](https://github.com/sagemath/sagetrac-mirror/commit/4e5e12d183234193eb4a2f667ce5916bf8a1fe76)** to **[`0c9c4ed`](https://github.com/sagemath/sagetrac-mirror/commit/0c9c4ed35c2eaf34ae0d19387c07b7f460e4abce)**



---

archive/issue_comments_446500.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nduh, now it's finally right, passes both on 32 and 64 bits.",
    "created_at": "2020-12-07T23:15:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446500",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:63" align="right">comment:63</div>

duh, now it's finally right, passes both on 32 and 64 bits.



---

archive/issue_comments_446501.json:
```json
{
    "body": "Changed reviewer from **Dima Pasechnik** to **Dima Pasechnik, Matthias Koeppe**",
    "created_at": "2020-12-08T01:29:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446501",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Dima Pasechnik** to **Dima Pasechnik, Matthias Koeppe**



---

archive/issue_events_393113.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-08T01:29:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393113"
}
```



---

archive/issue_events_393114.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-12-08T01:29:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393114"
}
```



---

archive/issue_comments_446502.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nLGTM",
    "created_at": "2020-12-08T01:29:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446502",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:64" align="right">comment:64</div>

LGTM



---

archive/issue_events_393115.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-12-13T20:31:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393115"
}
```



---

archive/issue_events_393116.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "790c30db3337e2ed6df8510dbf820bdd29887f08",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-12-13T20:31:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28623#event-393116"
}
```



---

archive/issue_comments_446503.json:
```json
{
    "body": "Changed branch from **[u/dimpase/upgrade_arb_to_2_18_1](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/upgrade_arb_to_2_18_1)** to **[`0c9c4ed`](https://github.com/sagemath/sagetrac-mirror/commit/0c9c4ed35c2eaf34ae0d19387c07b7f460e4abce)**",
    "created_at": "2020-12-13T20:31:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28623#issuecomment-446503",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/dimpase/upgrade_arb_to_2_18_1](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/upgrade_arb_to_2_18_1)** to **[`0c9c4ed`](https://github.com/sagemath/sagetrac-mirror/commit/0c9c4ed35c2eaf34ae0d19387c07b7f460e4abce)**
