# Issue 28101: update giac to 1.5.0-63

archive/issues_027864.json:
```json
{
    "body": "update giac to the latest version - probably related to the problem on #27385\n\nfrom the source at www-fourier.ujf-grenoble.fr/~parisse/debian/dists/stable/main/source/giac_1.5.0-63.*\n\nproduced tarball: http://users.ox.ac.uk/~coml0531/sage/giac-1.5.0.63.tar.bz2\n\nCC:  @embray @kiwifb parisse\n\nBranch/Commit: 132f5606bae42317f6643737f47700e4031f22d5\n\nUpstream: Fixed upstream, in a later stable release.\n\nReviewer: Fran\u00e7ois Bissey\n\nAuthor: Dima Pasechnik\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/28101\n\n",
    "closed_at": "2019-07-18T21:02:35Z",
    "created_at": "2019-07-03T06:57:18Z",
    "labels": [
        "component: packages: standard",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.9",
    "title": "update giac to 1.5.0-63",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28101",
    "user": "https://github.com/dimpase"
}
```
update giac to the latest version - probably related to the problem on #27385

from the source at www-fourier.ujf-grenoble.fr/~parisse/debian/dists/stable/main/source/giac_1.5.0-63.*

produced tarball: http://users.ox.ac.uk/~coml0531/sage/giac-1.5.0.63.tar.bz2

CC:  @embray @kiwifb parisse

Branch/Commit: 132f5606bae42317f6643737f47700e4031f22d5

Upstream: Fixed upstream, in a later stable release.

Reviewer: François Bissey

Author: Dima Pasechnik

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/28101





---

archive/issue_comments_544389.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n update giac to the latest version - probably related to the problem on #27385\n+\n+The source tarball: http://www-fourier.ujf-grenoble.fr/~parisse/debian/dists/stable/main/source/giac_1.5.0-61.tar.gz\n \n Comment: 1\n \n``````\n",
    "created_at": "2019-07-03T22:35:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544389",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
 update giac to the latest version - probably related to the problem on #27385
+
+The source tarball: http://www-fourier.ujf-grenoble.fr/~parisse/debian/dists/stable/main/source/giac_1.5.0-61.tar.gz
 
 Comment: 1
 
``````




---

archive/issue_comments_544390.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n+update giac to the latest version - probably related to the problem on #27385\n \n+from the source at www-fourier.ujf-grenoble.fr/~parisse/debian/dists/stable/main/source/giac_1.5.0-61.*\n+\n+produced tarball: http://users.ox.ac.uk/~coml0531/sage/giac-1.5.0.61.tar.bz2\n \n Comment: 1\n \n``````\n",
    "created_at": "2019-07-03T23:42:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544390",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,8 @@
+update giac to the latest version - probably related to the problem on #27385
 
+from the source at www-fourier.ujf-grenoble.fr/~parisse/debian/dists/stable/main/source/giac_1.5.0-61.*
+
+produced tarball: http://users.ox.ac.uk/~coml0531/sage/giac-1.5.0.61.tar.bz2
 
 Comment: 1
 
``````




---

archive/issue_comments_544391.json:
```json
{
    "body": "Changing commit from \"\" to \"277e1d9c0bfda86ed92be31d5f9641a420825475\"",
    "created_at": "2019-07-03T23:47:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544391",
    "user": "https://github.com/dimpase"
}
```

Changing commit from "" to "277e1d9c0bfda86ed92be31d5f9641a420825475"



---

archive/issue_comments_544392.json:
```json
{
    "body": "Changing branch from \"\" to \"u/dimpase/packages/giac15061\"",
    "created_at": "2019-07-03T23:47:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544392",
    "user": "https://github.com/dimpase"
}
```

Changing branch from "" to "u/dimpase/packages/giac15061"



---

archive/issue_comments_544393.json:
```json
{
    "body": "Changing author from \"\" to \"Dima Pasechnik\"",
    "created_at": "2019-07-03T23:47:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544393",
    "user": "https://github.com/dimpase"
}
```

Changing author from "" to "Dima Pasechnik"



---

archive/issue_comments_544394.json:
```json
{
    "body": "<a id='comment:3'></a>New commits:",
    "created_at": "2019-07-03T23:47:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544394",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:3'></a>New commits:



---

archive/issue_comments_544395.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-07-04T06:01:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544395",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_544396.json:
```json
{
    "body": "<a id='comment:5'></a>I meant to post something about that. \n\nThis release in particular breaks the building of `giacpy_sage` the following patch https://github.com/cschwan/sage-on-gentoo/blob/master/sci-mathematics/giac/files/giac-1.5.0.61-tex_header.patch fixes it. You are welcome to forward it upstream. Note that this is the only instance of `#include <tex.h>` all the others (and there is number of them) are `\"tex.h\"`. I don't think that's particularly good style but it works.\n\nFor a few releases of `giac` a `giacpy_sage` doctest has been broken.\n\n```\nsage -t --long /usr/lib64/python2.7/site-packages/sage/libs/giac.py\n**********************************************************************\nFile \"/usr/lib64/python2.7/site-packages/sage/libs/giac.py\", line 209, in sage.libs.giac.?\nFailed example:\n    B1 = gb_giac(I.gens(),1e-16) # optional - giacpy_sage, long time (1s)\nExpected:\n    Running a probabilistic check for the reconstructed Groebner basis.\n    If successfull, error probability is less than 1e-16 ...\nGot:\n    0.338649 adding reconstructed ideal generators 18 (reconpart 0.233766 prev 0 augment 0.2 recon_count 8 th 1 recon_n2 18 V[i] 77)\n    0.339567 # new ideal generators 23\n    0.567448 adding reconstructed ideal generators 36 (reconpart 0.467532 prev 0.233766 augment 0.2 recon_count 17 th 1 recon_n2 36 V[i] 77)\n    0.57095 # new ideal generators 41\n    0.725683 adding reconstructed ideal generators 52 (reconpart 0.675325 prev 0.467532 augment 0.2 recon_count 11 th 1 recon_n2 52 V[i] 77)\n    0.729126 # new ideal generators 57\n    Running a probabilistic check for the reconstructed Groebner basis. If successfull, error probability is less than 1e-16 and is estimated to be less than 10^-63. Use proba_epsilon:=0 to certify (this takes more time).\n    // Groebner basis computation time 0.680109 Memory 212.216M\n**********************************************************************\n```\nJust a lot more verbose.",
    "created_at": "2019-07-04T07:15:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544396",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:5'></a>I meant to post something about that. 

This release in particular breaks the building of `giacpy_sage` the following patch https://github.com/cschwan/sage-on-gentoo/blob/master/sci-mathematics/giac/files/giac-1.5.0.61-tex_header.patch fixes it. You are welcome to forward it upstream. Note that this is the only instance of `#include <tex.h>` all the others (and there is number of them) are `"tex.h"`. I don't think that's particularly good style but it works.

For a few releases of `giac` a `giacpy_sage` doctest has been broken.

```
sage -t --long /usr/lib64/python2.7/site-packages/sage/libs/giac.py
**********************************************************************
File "/usr/lib64/python2.7/site-packages/sage/libs/giac.py", line 209, in sage.libs.giac.?
Failed example:
    B1 = gb_giac(I.gens(),1e-16) # optional - giacpy_sage, long time (1s)
Expected:
    Running a probabilistic check for the reconstructed Groebner basis.
    If successfull, error probability is less than 1e-16 ...
Got:
    0.338649 adding reconstructed ideal generators 18 (reconpart 0.233766 prev 0 augment 0.2 recon_count 8 th 1 recon_n2 18 V[i] 77)
    0.339567 # new ideal generators 23
    0.567448 adding reconstructed ideal generators 36 (reconpart 0.467532 prev 0.233766 augment 0.2 recon_count 17 th 1 recon_n2 36 V[i] 77)
    0.57095 # new ideal generators 41
    0.725683 adding reconstructed ideal generators 52 (reconpart 0.675325 prev 0.467532 augment 0.2 recon_count 11 th 1 recon_n2 52 V[i] 77)
    0.729126 # new ideal generators 57
    Running a probabilistic check for the reconstructed Groebner basis. If successfull, error probability is less than 1e-16 and is estimated to be less than 10^-63. Use proba_epsilon:=0 to certify (this takes more time).
    // Groebner basis computation time 0.680109 Memory 212.216M
**********************************************************************
```
Just a lot more verbose.



---

archive/issue_comments_544397.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-07-04T07:15:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544397",
    "user": "https://github.com/kiwifb"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_544398.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-04T08:45:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544398",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_544399.json:
```json
{
    "body": "Changing commit from \"277e1d9c0bfda86ed92be31d5f9641a420825475\" to \"1fda15e3882261d366bcc8eb2940130c77727962\"",
    "created_at": "2019-07-04T08:45:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544399",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "277e1d9c0bfda86ed92be31d5f9641a420825475" to "1fda15e3882261d366bcc8eb2940130c77727962"



---

archive/issue_comments_544400.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-07-04T08:45:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544400",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_544401.json:
```json
{
    "body": "Changing upstream from \"N/A\" to \"Reported upstream. No feedback yet.\"",
    "created_at": "2019-07-04T08:45:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544401",
    "user": "https://github.com/dimpase"
}
```

Changing upstream from "N/A" to "Reported upstream. No feedback yet."



---

archive/issue_comments_544402.json:
```json
{
    "body": "<a id='comment:8'></a>What about the `giacpy_sage` doctest?",
    "created_at": "2019-07-04T08:47:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544402",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:8'></a>What about the `giacpy_sage` doctest?



---

archive/issue_comments_544403.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-07-04T08:47:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544403",
    "user": "https://github.com/kiwifb"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_544404.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-04T09:20:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544404",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_544405.json:
```json
{
    "body": "Changing commit from \"1fda15e3882261d366bcc8eb2940130c77727962\" to \"0be07f536d21b0c1cc2cabb72ce9fab398a8a6ee\"",
    "created_at": "2019-07-04T09:20:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544405",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1fda15e3882261d366bcc8eb2940130c77727962" to "0be07f536d21b0c1cc2cabb72ce9fab398a8a6ee"



---

archive/issue_comments_544406.json:
```json
{
    "body": "<a id='comment:10'></a>OK, done (I forgot it's a long test that's broken...)",
    "created_at": "2019-07-04T09:22:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544406",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:10'></a>OK, done (I forgot it's a long test that's broken...)



---

archive/issue_comments_544407.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-07-04T09:22:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544407",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_544408.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-07-04T09:27:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544408",
    "user": "https://github.com/kiwifb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_544409.json:
```json
{
    "body": "<a id='comment:11'></a>LGTM now.",
    "created_at": "2019-07-04T09:27:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544409",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:11'></a>LGTM now.



---

archive/issue_comments_544410.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Fran\u00e7ois Bissey\"",
    "created_at": "2019-07-04T09:27:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544410",
    "user": "https://github.com/kiwifb"
}
```

Changing reviewer from "" to "François Bissey"



---

archive/issue_comments_544411.json:
```json
{
    "body": "<a id='comment:12'></a>I can confirm that this update seems to solve the problem I described in #27385 on Linux. If I understand correctly, this should also solve the problem on Cygwin. If so, the `cygwin-icas.patch` should be deleted, should it not?",
    "created_at": "2019-07-04T10:29:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544411",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:12'></a>I can confirm that this update seems to solve the problem I described in #27385 on Linux. If I understand correctly, this should also solve the problem on Cygwin. If so, the `cygwin-icas.patch` should be deleted, should it not?



---

archive/issue_comments_544412.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2019-07-04T10:29:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544412",
    "user": "https://github.com/mwageringel"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_544413.json:
```json
{
    "body": "Changing status from needs_info to positive_review.",
    "created_at": "2019-07-04T10:32:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544413",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_info to positive_review.



---

archive/issue_comments_544414.json:
```json
{
    "body": "<a id='comment:13'></a>Unless it is tested on Cygwin, I won't rush. It's never late to delete a Cygwin-specific patch on another ticket.",
    "created_at": "2019-07-04T10:32:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544414",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:13'></a>Unless it is tested on Cygwin, I won't rush. It's never late to delete a Cygwin-specific patch on another ticket.



---

archive/issue_comments_544415.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2019-07-04T10:35:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544415",
    "user": "https://github.com/embray"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_544416.json:
```json
{
    "body": "<a id='comment:14'></a>It would be nice for me to be able to see *exactly* what changed in the new giac version specifically to fix this problem, so that I can confirm that the problem as I understood it does appear fixed.  Unfortunately that's difficult without a publicly viewable change history...",
    "created_at": "2019-07-04T10:35:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544416",
    "user": "https://github.com/embray"
}
```

<a id='comment:14'></a>It would be nice for me to be able to see *exactly* what changed in the new giac version specifically to fix this problem, so that I can confirm that the problem as I understood it does appear fixed.  Unfortunately that's difficult without a publicly viewable change history...



---

archive/issue_comments_544417.json:
```json
{
    "body": "<a id='comment:15'></a>Replying to [comment:14 embray]:\n> It would be nice for me to be able to see *exactly* what changed in the new giac version specifically to fix this problem, so that I can confirm that the problem as I understood it does appear fixed.  Unfortunately that's difficult without a publicly viewable change history...\n\n\nThe history is embedded in geogebra SVN, cf e.g. [history/trac](https://dev.geogebra.org/trac/search?q=giac&noquickjump=1&blog=on&changeset=on&milestone=on&ticket=on&wiki=on)\n\nPerhaps Bernard can point at the right ticket on geogebra's trac.",
    "created_at": "2019-07-04T11:17:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544417",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:15'></a>Replying to [comment:14 embray]:
> It would be nice for me to be able to see *exactly* what changed in the new giac version specifically to fix this problem, so that I can confirm that the problem as I understood it does appear fixed.  Unfortunately that's difficult without a publicly viewable change history...


The history is embedded in geogebra SVN, cf e.g. [history/trac](https://dev.geogebra.org/trac/search?q=giac&noquickjump=1&blog=on&changeset=on&milestone=on&ticket=on&wiki=on)

Perhaps Bernard can point at the right ticket on geogebra's trac.



---

archive/issue_comments_544418.json:
```json
{
    "body": "<a id='comment:16'></a>This change is not in SVN geogebra, because it's UI code (Xcas code), not Giac code.\nI have added if (status!=1) in the non-FLTK code, like in the FLTK code\n\n```c++\n#ifdef HAVE_LIBFLTK\n\tif (status!=1)\n\t  xcas::Xcas_debugguer(status,contextptr);\n#else\n\t// FIXME Debugguer without FLTK\n\tif (status!=1)\n\t  giac::thread_eval_status(1,contextptr);\n#endif\n```\n\nIt would be a good idea to check the resulting binary anyway.\nBTW, I will probably update giac to 1.5.0-63 next week, with a small header fix reported by dimpase.",
    "created_at": "2019-07-04T12:01:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544418",
    "user": "https://trac.sagemath.org/admin/accounts/users/parisse"
}
```

<a id='comment:16'></a>This change is not in SVN geogebra, because it's UI code (Xcas code), not Giac code.
I have added if (status!=1) in the non-FLTK code, like in the FLTK code

```c++
#ifdef HAVE_LIBFLTK
	if (status!=1)
	  xcas::Xcas_debugguer(status,contextptr);
#else
	// FIXME Debugguer without FLTK
	if (status!=1)
	  giac::thread_eval_status(1,contextptr);
#endif
```

It would be a good idea to check the resulting binary anyway.
BTW, I will probably update giac to 1.5.0-63 next week, with a small header fix reported by dimpase.



---

archive/issue_comments_544419.json:
```json
{
    "body": "Changing upstream from \"Reported upstream. No feedback yet.\" to \"Fixed upstream, in a later stable release.\"",
    "created_at": "2019-07-04T12:04:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544419",
    "user": "https://github.com/dimpase"
}
```

Changing upstream from "Reported upstream. No feedback yet." to "Fixed upstream, in a later stable release."



---

archive/issue_comments_544420.json:
```json
{
    "body": "<a id='comment:18'></a>Replying to [comment:16 parisse]:\n> This change is not in SVN geogebra, because it's UI code (Xcas code), not Giac code.\n\n\nIs there a VCS repo somewhere with these Xcas changes? Without such a repo it's quite hard to follow up the changes.",
    "created_at": "2019-07-04T12:07:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544420",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:18'></a>Replying to [comment:16 parisse]:
> This change is not in SVN geogebra, because it's UI code (Xcas code), not Giac code.


Is there a VCS repo somewhere with these Xcas changes? Without such a repo it's quite hard to follow up the changes.



---

archive/issue_comments_544421.json:
```json
{
    "body": "<a id='comment:19'></a>No, because Xcas GUI code is not used by other projects. \nGeogebra has it's own version of a very simple commandline interface (for testing purpose), maybe it would be sufficient for sage as well or any adaptation:\nhttps://dev.geogebra.org/trac/browser/trunk/geogebra/giac/src/minigiac/cpp",
    "created_at": "2019-07-04T12:58:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544421",
    "user": "https://trac.sagemath.org/admin/accounts/users/parisse"
}
```

<a id='comment:19'></a>No, because Xcas GUI code is not used by other projects. 
Geogebra has it's own version of a very simple commandline interface (for testing purpose), maybe it would be sufficient for sage as well or any adaptation:
https://dev.geogebra.org/trac/browser/trunk/geogebra/giac/src/minigiac/cpp



---

archive/issue_comments_544422.json:
```json
{
    "body": "<a id='comment:20'></a>Replying to [comment:19 parisse]:\n> No, because Xcas GUI code is not used by other projects.\n\n\nThe current thread is about an issue in Xcas that affects Sagemath. It is a proof that Xcas *is* used in other projects. If Xcas was on a public VCS then it's very likely that one could merely look up the relevant change there, instead of having this discussion.",
    "created_at": "2019-07-04T13:24:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544422",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:20'></a>Replying to [comment:19 parisse]:
> No, because Xcas GUI code is not used by other projects.


The current thread is about an issue in Xcas that affects Sagemath. It is a proof that Xcas *is* used in other projects. If Xcas was on a public VCS then it's very likely that one could merely look up the relevant change there, instead of having this discussion.



---

archive/issue_comments_544423.json:
```json
{
    "body": "<a id='comment:21'></a>Replying to [comment:20 dimpase]:\n> Replying to [comment:19 parisse]:\n> > No, because Xcas GUI code is not used by other projects.\n\n> \n> The current thread is about an issue in Xcas that affects Sagemath. It is a proof that Xcas *is* used in other projects.\n\n\nI think Bernard's point here (which I agree with, if I understand correctly) is that the original bug I found was caused by multi-threaded evaluation code that is needed by Xcas (so that giac commands can be evaluated in a thread without blocking the UI), but that is not needed by non-GUI interfaces.\n\nThe problem is that the threaded eval code had a bug, but it also wasn't even needed in the context where Sage was using it, so I just disabled use of the threaded-eval in the case where it was affecting me.\n\nThe code in comment:16 does appear to be addressing the bug I described in #27385#comment:14\n\n(I still think the code should be using proper condition primitives but that's a bigger change; the above fix will definitely reduce the likelihood of a problem here).",
    "created_at": "2019-07-04T13:55:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544423",
    "user": "https://github.com/embray"
}
```

<a id='comment:21'></a>Replying to [comment:20 dimpase]:
> Replying to [comment:19 parisse]:
> > No, because Xcas GUI code is not used by other projects.

> 
> The current thread is about an issue in Xcas that affects Sagemath. It is a proof that Xcas *is* used in other projects.


I think Bernard's point here (which I agree with, if I understand correctly) is that the original bug I found was caused by multi-threaded evaluation code that is needed by Xcas (so that giac commands can be evaluated in a thread without blocking the UI), but that is not needed by non-GUI interfaces.

The problem is that the threaded eval code had a bug, but it also wasn't even needed in the context where Sage was using it, so I just disabled use of the threaded-eval in the case where it was affecting me.

The code in comment:16 does appear to be addressing the bug I described in #27385#comment:14

(I still think the code should be using proper condition primitives but that's a bigger change; the above fix will definitely reduce the likelihood of a problem here).



---

archive/issue_comments_544424.json:
```json
{
    "body": "<a id='comment:22'></a>Yes, I believe it would be simpler and more robust if Sage interface was with a Sage specific giac commandline program (like the one Geogebra is using for regression testing), and not with Xcas's icas that is designed and tested to run with FLTK.",
    "created_at": "2019-07-04T14:31:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544424",
    "user": "https://trac.sagemath.org/admin/accounts/users/parisse"
}
```

<a id='comment:22'></a>Yes, I believe it would be simpler and more robust if Sage interface was with a Sage specific giac commandline program (like the one Geogebra is using for regression testing), and not with Xcas's icas that is designed and tested to run with FLTK.



---

archive/issue_comments_544425.json:
```json
{
    "body": "<a id='comment:23'></a>1.5.0-63 has been out for a few days and has the header fix.",
    "created_at": "2019-07-15T21:24:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544425",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:23'></a>1.5.0-63 has been out for a few days and has the header fix.



---

archive/issue_comments_544426.json:
```json
{
    "body": "Changing commit from \"0be07f536d21b0c1cc2cabb72ce9fab398a8a6ee\" to \"132f5606bae42317f6643737f47700e4031f22d5\"",
    "created_at": "2019-07-15T21:57:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544426",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0be07f536d21b0c1cc2cabb72ce9fab398a8a6ee" to "132f5606bae42317f6643737f47700e4031f22d5"



---

archive/issue_comments_544427.json:
```json
{
    "body": "<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-15T21:57:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544427",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_544428.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n+update giac to the latest version - probably related to the problem on #27385\n \n+from the source at www-fourier.ujf-grenoble.fr/~parisse/debian/dists/stable/main/source/giac_1.5.0-63.*\n+\n+produced tarball: http://users.ox.ac.uk/~coml0531/sage/giac-1.5.0.63.tar.bz2\n \n Comment: 1\n \n``````\n",
    "created_at": "2019-07-15T21:58:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544428",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,8 @@
+update giac to the latest version - probably related to the problem on #27385
 
+from the source at www-fourier.ujf-grenoble.fr/~parisse/debian/dists/stable/main/source/giac_1.5.0-63.*
+
+produced tarball: http://users.ox.ac.uk/~coml0531/sage/giac-1.5.0.63.tar.bz2
 
 Comment: 1
 
``````




---

archive/issue_comments_544429.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2019-07-15T21:58:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544429",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_544430.json:
```json
{
    "body": "<a id='comment:27'></a>Completely happy with this.",
    "created_at": "2019-07-15T23:22:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544430",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:27'></a>Completely happy with this.



---

archive/issue_comments_544431.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-07-15T23:22:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544431",
    "user": "https://github.com/kiwifb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_544432.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-07-18T21:02:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544432",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_544433.json:
```json
{
    "body": "Changing branch from \"u/dimpase/packages/giac15061\" to \"132f5606bae42317f6643737f47700e4031f22d5\"",
    "created_at": "2019-07-18T21:02:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28101#issuecomment-544433",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/dimpase/packages/giac15061" to "132f5606bae42317f6643737f47700e4031f22d5"



---

archive/issue_events_069700.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-18T21:02:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28101",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28101#event-69700"
}
```
