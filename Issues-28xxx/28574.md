# Issue 28574: conversion of nested polynomial rings to Macaulay2

archive/issues_028337.json:
```json
{
    "body": "This ticket implements conversion to and from Macaulay2 of polynomial rings over arbitrary base rings \u2013 nested polynomial rings in particular \u2013 as well as their elements.\n\nThis ticket also implements `_macaulay2_()` for polydicts. This is used in elements of nested polynomial rings, for example.\n\nIt also fixes an issue where constant polynomials are accidentally converted to elements of the base ring in Macaulay2, not to elements of the polynomial ring.\n\nWe add a special case in the conversion of Galois fields, since in Macaulay2 it is more natural to define finite fields as `ZZ/p` rather than `GF p`. This has a positive effect on performance, and simplifies the construction of Macaulay2 polynomial rings.\n\nCC:  @saliola @dimpase @antonleykin\n\nKeywords: macaulay2, IMA Coding Sprint\n\nBranch/Commit: ac2ff35e8bf3e9865f617234405b3acb7318bc34\n\nReviewer: Franco Saliola, Dima Pasechnik\n\nAuthor: Markus Wageringel\n\nDependencies: #28566, #28571, #28572, #28074\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/28574\n\n",
    "closed_at": "2019-11-07T23:30:08Z",
    "created_at": "2019-10-07T23:29:04Z",
    "labels": [
        "component: interfaces: optional"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.0",
    "title": "conversion of nested polynomial rings to Macaulay2",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28574",
    "user": "https://github.com/mwageringel"
}
```
This ticket implements conversion to and from Macaulay2 of polynomial rings over arbitrary base rings – nested polynomial rings in particular – as well as their elements.

This ticket also implements `_macaulay2_()` for polydicts. This is used in elements of nested polynomial rings, for example.

It also fixes an issue where constant polynomials are accidentally converted to elements of the base ring in Macaulay2, not to elements of the polynomial ring.

We add a special case in the conversion of Galois fields, since in Macaulay2 it is more natural to define finite fields as `ZZ/p` rather than `GF p`. This has a positive effect on performance, and simplifies the construction of Macaulay2 polynomial rings.

CC:  @saliola @dimpase @antonleykin

Keywords: macaulay2, IMA Coding Sprint

Branch/Commit: ac2ff35e8bf3e9865f617234405b3acb7318bc34

Reviewer: Franco Saliola, Dima Pasechnik

Author: Markus Wageringel

Dependencies: #28566, #28571, #28572, #28074

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/28574





---

archive/issue_comments_547623.json:
```json
{
    "body": "Changing branch from \"\" to \"u/gh-mwageringel/28574\"",
    "created_at": "2019-10-07T23:44:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547623",
    "user": "https://github.com/mwageringel"
}
```

Changing branch from "" to "u/gh-mwageringel/28574"



---

archive/issue_comments_547624.json:
```json
{
    "body": "Changing commit from \"\" to \"49d5c0bce87a54d6c266b62d0945b6a071af0e1d\"",
    "created_at": "2019-10-07T23:44:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547624",
    "user": "https://github.com/mwageringel"
}
```

Changing commit from "" to "49d5c0bce87a54d6c266b62d0945b6a071af0e1d"



---

archive/issue_comments_547625.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#28571, #28074\"",
    "created_at": "2019-10-07T23:44:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547625",
    "user": "https://github.com/mwageringel"
}
```

Changing dependencies from "" to "#28571, #28074"



---

archive/issue_comments_547626.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-10-07T23:44:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547626",
    "user": "https://github.com/mwageringel"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_547627.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|\n|[5709e61](https://github.com/sagemath/sagetrac-mirror/commit/5709e615c731313dedbaa23ec09d07a9b7bf5cf7)|`28074: refactor caching of Macaulay2 polynomial rings`|\n|[c2d89a0](https://github.com/sagemath/sagetrac-mirror/commit/c2d89a00dbc3a65f6cbe109341fa4e38db484124)|`Merge tag '9.0.beta0'`|\n|[2823dc0](https://github.com/sagemath/sagetrac-mirror/commit/2823dc0abc2ed82b731922ef0492dc37406aba9a)|`pass macaulay2 as argument to _macaulay2_init_()`|\n|[af595de](https://github.com/sagemath/sagetrac-mirror/commit/af595de95923d7ac4cdae95a70d81013c968eb70)|`28574: construct Macaulay2 polynomial rings over arbitrary base rings`|\n|[e854720](https://github.com/sagemath/sagetrac-mirror/commit/e854720d2c6ed10e051fa3e83aea0775b0c68acb)|`28574: fix conversion of polynomials to M2`|\n|[49d5c0b](https://github.com/sagemath/sagetrac-mirror/commit/49d5c0bce87a54d6c266b62d0945b6a071af0e1d)|`28574: convert elements of nested polynomial rings from M2 to sage`|",
    "created_at": "2019-10-07T23:44:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547627",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                                       |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|
|[5709e61](https://github.com/sagemath/sagetrac-mirror/commit/5709e615c731313dedbaa23ec09d07a9b7bf5cf7)|`28074: refactor caching of Macaulay2 polynomial rings`|
|[c2d89a0](https://github.com/sagemath/sagetrac-mirror/commit/c2d89a00dbc3a65f6cbe109341fa4e38db484124)|`Merge tag '9.0.beta0'`|
|[2823dc0](https://github.com/sagemath/sagetrac-mirror/commit/2823dc0abc2ed82b731922ef0492dc37406aba9a)|`pass macaulay2 as argument to _macaulay2_init_()`|
|[af595de](https://github.com/sagemath/sagetrac-mirror/commit/af595de95923d7ac4cdae95a70d81013c968eb70)|`28574: construct Macaulay2 polynomial rings over arbitrary base rings`|
|[e854720](https://github.com/sagemath/sagetrac-mirror/commit/e854720d2c6ed10e051fa3e83aea0775b0c68acb)|`28574: fix conversion of polynomials to M2`|
|[49d5c0b](https://github.com/sagemath/sagetrac-mirror/commit/49d5c0bce87a54d6c266b62d0945b6a071af0e1d)|`28574: convert elements of nested polynomial rings from M2 to sage`|



---

archive/issue_comments_547628.json:
```json
{
    "body": "Changing author from \"\" to \"Markus Wageringel\"",
    "created_at": "2019-10-07T23:44:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547628",
    "user": "https://github.com/mwageringel"
}
```

Changing author from "" to "Markus Wageringel"



---

archive/issue_comments_547629.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,7 @@\n+This ticket implements conversion to and from Macaulay2 of polynomial rings over arbitrary base rings \u2013 nested polynomial rings in particular \u2013 as well as their elements.\n \n+This ticket also implements `_macaulay2_()` for polydicts. This is used in elements of nested polynomial rings, for example.\n+\n+It also fixes an issue where constant polynomials are accidentally converted to elements of the base ring in Macaulay2, not to elements of the polynomial ring.\n+\n+We add a special case in the conversion of Galois fields, since in Macaulay2 it is more natural to define finite fields as `ZZ/p` rather than `GF p`. This has a positive effect on performance, and simplifies the construction of Macaulay2 polynomial rings.\n``````\n",
    "created_at": "2019-10-07T23:45:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547629",
    "user": "https://github.com/mwageringel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,7 @@
+This ticket implements conversion to and from Macaulay2 of polynomial rings over arbitrary base rings – nested polynomial rings in particular – as well as their elements.
 
+This ticket also implements `_macaulay2_()` for polydicts. This is used in elements of nested polynomial rings, for example.
+
+It also fixes an issue where constant polynomials are accidentally converted to elements of the base ring in Macaulay2, not to elements of the polynomial ring.
+
+We add a special case in the conversion of Galois fields, since in Macaulay2 it is more natural to define finite fields as `ZZ/p` rather than `GF p`. This has a positive effect on performance, and simplifies the construction of Macaulay2 polynomial rings.
``````




---

archive/issue_comments_547630.json:
```json
{
    "body": "Changing branch from \"u/gh-mwageringel/28574\" to \"public/interfaces/m2/28574\"",
    "created_at": "2019-10-08T16:54:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547630",
    "user": "https://github.com/saliola"
}
```

Changing branch from "u/gh-mwageringel/28574" to "public/interfaces/m2/28574"



---

archive/issue_comments_547631.json:
```json
{
    "body": "Changing commit from \"49d5c0bce87a54d6c266b62d0945b6a071af0e1d\" to \"23b2bf42efba80f94705317bb4454ecad4f0a100\"",
    "created_at": "2019-10-08T16:54:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547631",
    "user": "https://github.com/saliola"
}
```

Changing commit from "49d5c0bce87a54d6c266b62d0945b6a071af0e1d" to "23b2bf42efba80f94705317bb4454ecad4f0a100"



---

archive/issue_comments_547632.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-10-08T16:54:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547632",
    "user": "https://github.com/saliola"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_547633.json:
```json
{
    "body": "<a id='comment:4'></a>\nreviewer name missing",
    "created_at": "2019-10-09T07:58:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547633",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
reviewer name missing



---

archive/issue_comments_547634.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Franco Saliola\"",
    "created_at": "2019-10-09T14:41:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547634",
    "user": "https://github.com/mwageringel"
}
```

Changing reviewer from "" to "Franco Saliola"



---

archive/issue_comments_547635.json:
```json
{
    "body": "<a id='comment:5'></a>\nThanks.",
    "created_at": "2019-10-09T14:41:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547635",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:5'></a>
Thanks.



---

archive/issue_comments_547636.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2019-10-10T16:44:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547636",
    "user": "https://github.com/saliola"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_547637.json:
```json
{
    "body": "Changing work_issues from \"\" to \"Fix merge conflicts with #28566\"",
    "created_at": "2019-10-10T16:44:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547637",
    "user": "https://github.com/saliola"
}
```

Changing work_issues from "" to "Fix merge conflicts with #28566"



---

archive/issue_comments_547638.json:
```json
{
    "body": "Changing dependencies from \"#28571, #28074\" to \"#28566, #28571, #28074\"",
    "created_at": "2019-10-10T16:44:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547638",
    "user": "https://github.com/saliola"
}
```

Changing dependencies from "#28571, #28074" to "#28566, #28571, #28074"



---

archive/issue_comments_547639.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|\n|[03d1460](https://github.com/sagemath/sagetrac-mirror/commit/03d146043f751ee4133d705eb5d5ee073a159e3b)|`28566: implement _matrix_() in Macaulay2 interface`|\n|[5308c90](https://github.com/sagemath/sagetrac-mirror/commit/5308c90506c4c78fa680ed81197effc296d8eb2b)|`28566: implement conversion of vectors in Macaulay2 interface`|\n|[602f6eb](https://github.com/sagemath/sagetrac-mirror/commit/602f6eb2663bb4a3cce1da4d9f69ac5eceda8e05)|`28566: preserve variable name in Macaulay2 Galois fields`|\n|[ce24186](https://github.com/sagemath/sagetrac-mirror/commit/ce24186223fc5340a15d06b0a708a2f8ddb6e0f8)|`simplify some doctests`|\n|[21025bd](https://github.com/sagemath/sagetrac-mirror/commit/21025bd8c1b49daacee50d6a892df97dadf0f93f)|`28566: use ring-preserving constructor for Macaulay2 matrix/vector`|\n|[0c1e001](https://github.com/sagemath/sagetrac-mirror/commit/0c1e00102c1a72d28f91bed9862b9f11dc3bbfc4)|`Merge remote-tracking branch 'origin/public/interfaces/m2/28566' into public/interfaces/m2/28574`|\n|[72abe24](https://github.com/sagemath/sagetrac-mirror/commit/72abe24a480ccddf6e24e348dcf215180ff7b146)|`finish merging`|",
    "created_at": "2019-10-10T18:57:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547639",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|
|[03d1460](https://github.com/sagemath/sagetrac-mirror/commit/03d146043f751ee4133d705eb5d5ee073a159e3b)|`28566: implement _matrix_() in Macaulay2 interface`|
|[5308c90](https://github.com/sagemath/sagetrac-mirror/commit/5308c90506c4c78fa680ed81197effc296d8eb2b)|`28566: implement conversion of vectors in Macaulay2 interface`|
|[602f6eb](https://github.com/sagemath/sagetrac-mirror/commit/602f6eb2663bb4a3cce1da4d9f69ac5eceda8e05)|`28566: preserve variable name in Macaulay2 Galois fields`|
|[ce24186](https://github.com/sagemath/sagetrac-mirror/commit/ce24186223fc5340a15d06b0a708a2f8ddb6e0f8)|`simplify some doctests`|
|[21025bd](https://github.com/sagemath/sagetrac-mirror/commit/21025bd8c1b49daacee50d6a892df97dadf0f93f)|`28566: use ring-preserving constructor for Macaulay2 matrix/vector`|
|[0c1e001](https://github.com/sagemath/sagetrac-mirror/commit/0c1e00102c1a72d28f91bed9862b9f11dc3bbfc4)|`Merge remote-tracking branch 'origin/public/interfaces/m2/28566' into public/interfaces/m2/28574`|
|[72abe24](https://github.com/sagemath/sagetrac-mirror/commit/72abe24a480ccddf6e24e348dcf215180ff7b146)|`finish merging`|



---

archive/issue_comments_547640.json:
```json
{
    "body": "Changing commit from \"23b2bf42efba80f94705317bb4454ecad4f0a100\" to \"72abe24a480ccddf6e24e348dcf215180ff7b146\"",
    "created_at": "2019-10-10T18:57:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547640",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "23b2bf42efba80f94705317bb4454ecad4f0a100" to "72abe24a480ccddf6e24e348dcf215180ff7b146"



---

archive/issue_comments_547641.json:
```json
{
    "body": "Changing commit from \"72abe24a480ccddf6e24e348dcf215180ff7b146\" to \"a312b15dd85d4911b05059abc14c56ac65d52ef0\"",
    "created_at": "2019-10-10T19:01:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547641",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "72abe24a480ccddf6e24e348dcf215180ff7b146" to "a312b15dd85d4911b05059abc14c56ac65d52ef0"



---

archive/issue_comments_547642.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n|                                                                                                                                           |                                                                                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------|\n|[ec1773e](https://github.com/sagemath/sagetrac-mirror/commit/ec1773ed4debbc9627287962630c7a04e85cdb7a)|`disable caching of M2 conversion of polynomials in quotient rings (change _macaulay2_init_ to _macaulay2_)`|\n|[25afa2f](https://github.com/sagemath/sagetrac-mirror/commit/25afa2f9be52e07bbd222dce0ff125fc8f6b8643)|`simplify doctest`|\n|[19d9995](https://github.com/sagemath/sagetrac-mirror/commit/19d9995883416aa73f370904c8cc2d474c5a170b)|`28572: remove unnecessary doctests`|\n|[0d90888](https://github.com/sagemath/sagetrac-mirror/commit/0d908887b2b61f69d86d31a8c348b33c0b822ee9)|`f4 and mgb opts for M2 gb computations`|\n|[59b3215](https://github.com/sagemath/sagetrac-mirror/commit/59b3215321353ed165a573fc16462dd055fd1bb2)|`add documentation and minor fixes`|\n|[1ad24c3](https://github.com/sagemath/sagetrac-mirror/commit/1ad24c3f6850e4f739a68d63a1341a11916a0127)|`pass F4 and MGB to M2 as strings`|\n|[7038ba2](https://github.com/sagemath/sagetrac-mirror/commit/7038ba2e92d2dd64fbc601677730baa0b1cf2bcd)|`28567: run Macaulay2 f4 and mgb doctests over a finite field`|\n|[00c028f](https://github.com/sagemath/sagetrac-mirror/commit/00c028f94219dd8f5fbc68f566027ae1e80f2051)|`28567: add missing optional doctest flag`|\n|[15d35e3](https://github.com/sagemath/sagetrac-mirror/commit/15d35e3ae6392e1fdfbdf15cb3160de34c51a27b)|`Merge remote-tracking branch 'origin/public/interfaces/m2/f4etc' into public/interfaces/m2/m2_quotient_rings`|\n|[a312b15](https://github.com/sagemath/sagetrac-mirror/commit/a312b15dd85d4911b05059abc14c56ac65d52ef0)|`Merge branch 'public/interfaces/m2/m2_quotient_rings' into public/interfaces/m2/28574`|",
    "created_at": "2019-10-10T19:01:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547642",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
|                                                                                                                                           |                                                                                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------|
|[ec1773e](https://github.com/sagemath/sagetrac-mirror/commit/ec1773ed4debbc9627287962630c7a04e85cdb7a)|`disable caching of M2 conversion of polynomials in quotient rings (change _macaulay2_init_ to _macaulay2_)`|
|[25afa2f](https://github.com/sagemath/sagetrac-mirror/commit/25afa2f9be52e07bbd222dce0ff125fc8f6b8643)|`simplify doctest`|
|[19d9995](https://github.com/sagemath/sagetrac-mirror/commit/19d9995883416aa73f370904c8cc2d474c5a170b)|`28572: remove unnecessary doctests`|
|[0d90888](https://github.com/sagemath/sagetrac-mirror/commit/0d908887b2b61f69d86d31a8c348b33c0b822ee9)|`f4 and mgb opts for M2 gb computations`|
|[59b3215](https://github.com/sagemath/sagetrac-mirror/commit/59b3215321353ed165a573fc16462dd055fd1bb2)|`add documentation and minor fixes`|
|[1ad24c3](https://github.com/sagemath/sagetrac-mirror/commit/1ad24c3f6850e4f739a68d63a1341a11916a0127)|`pass F4 and MGB to M2 as strings`|
|[7038ba2](https://github.com/sagemath/sagetrac-mirror/commit/7038ba2e92d2dd64fbc601677730baa0b1cf2bcd)|`28567: run Macaulay2 f4 and mgb doctests over a finite field`|
|[00c028f](https://github.com/sagemath/sagetrac-mirror/commit/00c028f94219dd8f5fbc68f566027ae1e80f2051)|`28567: add missing optional doctest flag`|
|[15d35e3](https://github.com/sagemath/sagetrac-mirror/commit/15d35e3ae6392e1fdfbdf15cb3160de34c51a27b)|`Merge remote-tracking branch 'origin/public/interfaces/m2/f4etc' into public/interfaces/m2/m2_quotient_rings`|
|[a312b15](https://github.com/sagemath/sagetrac-mirror/commit/a312b15dd85d4911b05059abc14c56ac65d52ef0)|`Merge branch 'public/interfaces/m2/m2_quotient_rings' into public/interfaces/m2/28574`|



---

archive/issue_comments_547643.json:
```json
{
    "body": "Changing dependencies from \"#28566, #28571, #28074\" to \"#28566, #28571, #28572, #28074\"",
    "created_at": "2019-10-10T19:02:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547643",
    "user": "https://github.com/saliola"
}
```

Changing dependencies from "#28566, #28571, #28074" to "#28566, #28571, #28572, #28074"



---

archive/issue_comments_547644.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-10-10T19:02:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547644",
    "user": "https://github.com/saliola"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_547645.json:
```json
{
    "body": "Changing work_issues from \"Fix merge conflicts with #28566\" to \"\"",
    "created_at": "2019-10-10T19:02:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547645",
    "user": "https://github.com/saliola"
}
```

Changing work_issues from "Fix merge conflicts with #28566" to ""



---

archive/issue_comments_547646.json:
```json
{
    "body": "<a id='comment:10'></a>\nIn order to make this ticket merge cleanly with some of the other M2 tickets summarized at #28573, I set dependencies and merged the appropriate branches. Provided the dependencies are respected, everything should merge cleanly now.",
    "created_at": "2019-10-10T19:04:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547646",
    "user": "https://github.com/saliola"
}
```

<a id='comment:10'></a>
In order to make this ticket merge cleanly with some of the other M2 tickets summarized at #28573, I set dependencies and merged the appropriate branches. Provided the dependencies are respected, everything should merge cleanly now.



---

archive/issue_comments_547647.json:
```json
{
    "body": "<a id='comment:11'></a>\nI am happy with this ticket. Markus, if you accept the proposed merging, then you can set this to positive review.",
    "created_at": "2019-10-10T21:05:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547647",
    "user": "https://github.com/saliola"
}
```

<a id='comment:11'></a>
I am happy with this ticket. Markus, if you accept the proposed merging, then you can set this to positive review.



---

archive/issue_comments_547648.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-10-25T10:38:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547648",
    "user": "https://github.com/mwageringel"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_547649.json:
```json
{
    "body": "Changing work_issues from \"\" to \"rebase on #28572\"",
    "created_at": "2019-10-25T10:38:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547649",
    "user": "https://github.com/mwageringel"
}
```

Changing work_issues from "" to "rebase on #28572"



---

archive/issue_comments_547650.json:
```json
{
    "body": "<a id='comment:13'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:\n|                                                                                                                                           |                                                                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------|\n|[61ca2db](https://github.com/sagemath/sagetrac-mirror/commit/61ca2db5603288411223dabd6cd0ab5f6f04be6e)|`conversion of quotient rings to macaulay2 & improvements to conversion of ideals`|\n|[84702b4](https://github.com/sagemath/sagetrac-mirror/commit/84702b476dbf3c5e7005c4ae53a285cda3b6cf14)|`28572: fix conversion of quotient rings from Macaulay2 to Sage`|\n|[4db4a3c](https://github.com/sagemath/sagetrac-mirror/commit/4db4a3cf7fda101cd605a4f8c9dd7956d8e29ef1)|`mark m2 doctests as optional`|\n|[80b99b9](https://github.com/sagemath/sagetrac-mirror/commit/80b99b9cb23101609fc02b4702e07b32dd6d17b2)|`add _macaulay2_init_ method to QuotientRingElement`|\n|[c185cff](https://github.com/sagemath/sagetrac-mirror/commit/c185cff3c74d11392953b3484252e5ea3c58e69a)|`correct inaccuracy in doctest description`|\n|[ca619b8](https://github.com/sagemath/sagetrac-mirror/commit/ca619b8afcf0c118dfcb5031e5f0d6f48ec43ba6)|`properly handle conversion of quotient ring elements & inherit variable names when converting from M2 quotient rings`|\n|[3a0e906](https://github.com/sagemath/sagetrac-mirror/commit/3a0e906c26d7af942f08271227701b2ba58f5770)|`disable caching of M2 conversion of polynomials in quotient rings (change _macaulay2_init_ to _macaulay2_)`|\n|[117ab9f](https://github.com/sagemath/sagetrac-mirror/commit/117ab9fdfd44f046b8578e6fa89165a627e50209)|`simplify doctest`|\n|[3f4f6f5](https://github.com/sagemath/sagetrac-mirror/commit/3f4f6f577654bb038692a140df4dc9ca9be03219)|`28572: remove unnecessary doctests`|\n|[ac2ff35](https://github.com/sagemath/sagetrac-mirror/commit/ac2ff35e8bf3e9865f617234405b3acb7318bc34)|`28574: Merge #28572 into 'public/interfaces/m2/28574'`|",
    "created_at": "2019-10-31T15:37:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547650",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
|                                                                                                                                           |                                                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------|
|[61ca2db](https://github.com/sagemath/sagetrac-mirror/commit/61ca2db5603288411223dabd6cd0ab5f6f04be6e)|`conversion of quotient rings to macaulay2 & improvements to conversion of ideals`|
|[84702b4](https://github.com/sagemath/sagetrac-mirror/commit/84702b476dbf3c5e7005c4ae53a285cda3b6cf14)|`28572: fix conversion of quotient rings from Macaulay2 to Sage`|
|[4db4a3c](https://github.com/sagemath/sagetrac-mirror/commit/4db4a3cf7fda101cd605a4f8c9dd7956d8e29ef1)|`mark m2 doctests as optional`|
|[80b99b9](https://github.com/sagemath/sagetrac-mirror/commit/80b99b9cb23101609fc02b4702e07b32dd6d17b2)|`add _macaulay2_init_ method to QuotientRingElement`|
|[c185cff](https://github.com/sagemath/sagetrac-mirror/commit/c185cff3c74d11392953b3484252e5ea3c58e69a)|`correct inaccuracy in doctest description`|
|[ca619b8](https://github.com/sagemath/sagetrac-mirror/commit/ca619b8afcf0c118dfcb5031e5f0d6f48ec43ba6)|`properly handle conversion of quotient ring elements & inherit variable names when converting from M2 quotient rings`|
|[3a0e906](https://github.com/sagemath/sagetrac-mirror/commit/3a0e906c26d7af942f08271227701b2ba58f5770)|`disable caching of M2 conversion of polynomials in quotient rings (change _macaulay2_init_ to _macaulay2_)`|
|[117ab9f](https://github.com/sagemath/sagetrac-mirror/commit/117ab9fdfd44f046b8578e6fa89165a627e50209)|`simplify doctest`|
|[3f4f6f5](https://github.com/sagemath/sagetrac-mirror/commit/3f4f6f577654bb038692a140df4dc9ca9be03219)|`28572: remove unnecessary doctests`|
|[ac2ff35](https://github.com/sagemath/sagetrac-mirror/commit/ac2ff35e8bf3e9865f617234405b3acb7318bc34)|`28574: Merge #28572 into 'public/interfaces/m2/28574'`|



---

archive/issue_comments_547651.json:
```json
{
    "body": "Changing commit from \"a312b15dd85d4911b05059abc14c56ac65d52ef0\" to \"ac2ff35e8bf3e9865f617234405b3acb7318bc34\"",
    "created_at": "2019-10-31T15:37:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547651",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a312b15dd85d4911b05059abc14c56ac65d52ef0" to "ac2ff35e8bf3e9865f617234405b3acb7318bc34"



---

archive/issue_comments_547652.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-10-31T15:43:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547652",
    "user": "https://github.com/mwageringel"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_547653.json:
```json
{
    "body": "<a id='comment:14'></a>\nI have replaced the last merge commit by a new merge with #28572 and still all tests pass on my end.\n\nFranco, please review the merging, though maybe wait for the next beta to see if it merges cleanly.",
    "created_at": "2019-10-31T15:43:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547653",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:14'></a>
I have replaced the last merge commit by a new merge with #28572 and still all tests pass on my end.

Franco, please review the merging, though maybe wait for the next beta to see if it merges cleanly.



---

archive/issue_comments_547654.json:
```json
{
    "body": "Changing work_issues from \"rebase on #28572\" to \"\"",
    "created_at": "2019-10-31T15:43:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547654",
    "user": "https://github.com/mwageringel"
}
```

Changing work_issues from "rebase on #28572" to ""



---

archive/issue_comments_547655.json:
```json
{
    "body": "Changing reviewer from \"Franco Saliola\" to \"Franco Saliola, Dima Pasechnik\"",
    "created_at": "2019-11-04T16:53:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547655",
    "user": "https://github.com/dimpase"
}
```

Changing reviewer from "Franco Saliola" to "Franco Saliola, Dima Pasechnik"



---

archive/issue_comments_547656.json:
```json
{
    "body": "<a id='comment:15'></a>\nseems to be merging just fine (with 9.0.beta4)",
    "created_at": "2019-11-04T16:53:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547656",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:15'></a>
seems to be merging just fine (with 9.0.beta4)



---

archive/issue_comments_547657.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-11-04T16:53:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547657",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_088994.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-11-07T23:30:08Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28574#event-88994"
}
```



---

archive/issue_comments_547658.json:
```json
{
    "body": "Changing branch from \"public/interfaces/m2/28574\" to \"ac2ff35e8bf3e9865f617234405b3acb7318bc34\"",
    "created_at": "2019-11-07T23:30:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547658",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/interfaces/m2/28574" to "ac2ff35e8bf3e9865f617234405b3acb7318bc34"



---

archive/issue_comments_547659.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-11-07T23:30:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28574",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28574#issuecomment-547659",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
