# Issue 28886: Update FP(Y)LLL

archive/issues_028649.json:
```json
{
    "assignees": [],
    "body": "Update FP(y)LLL to newest upstream releases\n\n- https://github.com/fplll/fplll/releases/download/5.3.2/fplll-5.3.2.tar.gz\n- https://github.com/fplll/fpylll/releases/download/0.5.1dev/fpylll-0.5.1dev.tar.gz\n\nBranch/Commit: **[8dfc58c](https://github.com/sagemath/sagetrac-mirror/commit/8dfc58ca566b16b68eba5a174d714ec7bba32add)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Martin Albrecht**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/28886_\n\n",
    "closed_at": "2020-01-11T17:45:25Z",
    "created_at": "2019-12-15T12:19:31Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Update FP(Y)LLL",
    "type": "issue",
    "updated_at": "2020-01-11T17:45:25Z",
    "url": "https://github.com/sagemath/sage/issues/28886",
    "user": "https://github.com/malb"
}
```
Update FP(y)LLL to newest upstream releases

- https://github.com/fplll/fplll/releases/download/5.3.2/fplll-5.3.2.tar.gz
- https://github.com/fplll/fpylll/releases/download/0.5.1dev/fpylll-0.5.1dev.tar.gz

Branch/Commit: **[8dfc58c](https://github.com/sagemath/sagetrac-mirror/commit/8dfc58ca566b16b68eba5a174d714ec7bba32add)**

Reviewer: **Travis Scrimshaw**

Author: **Martin Albrecht**

_Issue created by migration from https://trac.sagemath.org/ticket/28886_





---

archive/issue_events_365429.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2019-12-15T12:19:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28886#event-365429"
}
```



---

archive/issue_events_365430.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2019-12-15T12:19:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28886#event-365430"
}
```



---

archive/issue_comments_453815.json:
```json
{
    "body": "Branch: **[u/malb/update_fp_y_lll](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/update_fp_y_lll)**",
    "created_at": "2019-12-15T14:24:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28886#issuecomment-453815",
    "user": "https://github.com/malb"
}
```

Branch: **[u/malb/update_fp_y_lll](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/update_fp_y_lll)**



---

archive/issue_events_365431.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2019-12-15T14:26:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "component: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28886#event-365431"
}
```



---

archive/issue_events_365432.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2019-12-15T14:26:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "milestone_number": null,
    "milestone_title": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28886#event-365432"
}
```



---

archive/issue_events_365433.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2019-12-15T14:26:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28886#event-365433"
}
```



---

archive/issue_comments_453816.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,4 @@\n+Update FP(y)LLL to newest upstream releases\n \n+- https://github.com/fplll/fplll/releases/download/5.3.1/fplll-5.3.1.tar.gz\n+- https://github.com/fplll/fpylll/releases/download/0.5.1dev/fpylll-0.5.1dev.tar.gz\n``````\n",
    "created_at": "2019-12-15T14:26:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28886#issuecomment-453816",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,4 @@
+Update FP(y)LLL to newest upstream releases
 
+- https://github.com/fplll/fplll/releases/download/5.3.1/fplll-5.3.1.tar.gz
+- https://github.com/fplll/fpylll/releases/download/0.5.1dev/fpylll-0.5.1dev.tar.gz
``````




---

archive/issue_comments_453817.json:
```json
{
    "body": "Commit: **[0593646](https://github.com/sagemath/sagetrac-mirror/commit/05936462ca51aad623bd0dc12a041829fd198c7a)**",
    "created_at": "2019-12-15T14:26:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28886#issuecomment-453817",
    "user": "https://github.com/malb"
}
```

Commit: **[0593646](https://github.com/sagemath/sagetrac-mirror/commit/05936462ca51aad623bd0dc12a041829fd198c7a)**



---

archive/issue_comments_453818.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/05936462ca51aad623bd0dc12a041829fd198c7a\">0593646</a></td><td><code>update FPLLL to 5.3.1 and FPYLLL to 0.5.1dev</code></td></tr></table>\n",
    "created_at": "2019-12-15T14:26:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28886#issuecomment-453818",
    "user": "https://github.com/malb"
}
```

<a id='comment:2'>Comment 2:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/05936462ca51aad623bd0dc12a041829fd198c7a">0593646</a></td><td><code>update FPLLL to 5.3.1 and FPYLLL to 0.5.1dev</code></td></tr></table>




---

archive/issue_events_365434.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2019-12-15T14:26:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28886#event-365434"
}
```



---

archive/issue_comments_453819.json:
```json
{
    "body": "Author: **Martin Albrecht**",
    "created_at": "2019-12-15T14:26:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28886#issuecomment-453819",
    "user": "https://github.com/malb"
}
```

Author: **Martin Albrecht**



---

archive/issue_events_365435.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2019-12-15T14:26:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28886#event-365435"
}
```



---

archive/issue_comments_453820.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2019-12-15T21:00:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28886#issuecomment-453820",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_453821.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nLGTM.\n\n(Do you want this to be in 9.1 instead of 9.0? There might be some time to still sneak it in.)",
    "created_at": "2019-12-15T21:00:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28886#issuecomment-453821",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:3'>Comment 3:</a>
LGTM.

(Do you want this to be in 9.1 instead of 9.0? There might be some time to still sneak it in.)



---

archive/issue_events_365436.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-12-15T21:00:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28886#event-365436"
}
```



---

archive/issue_events_365437.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-12-15T21:00:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28886#event-365437"
}
```



---

archive/issue_comments_453822.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nI'd love to see this in 9.0 but I figured that's already on beta9.",
    "created_at": "2019-12-16T09:13:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28886#issuecomment-453822",
    "user": "https://github.com/malb"
}
```

<a id='comment:4'>Comment 4:</a>
I'd love to see this in 9.0 but I figured that's already on beta9.



---

archive/issue_comments_453823.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nThen we'll set it to 9.0 and see if it gets in. Worst case is it doesn't, but since there no point in intentionally delaying it, we might as well set 9.0 as the target.",
    "created_at": "2019-12-16T12:44:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28886#issuecomment-453823",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:5'>Comment 5:</a>
Then we'll set it to 9.0 and see if it gets in. Worst case is it doesn't, but since there no point in intentionally delaying it, we might as well set 9.0 as the target.



---

archive/issue_events_365438.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-12-16T12:44:30Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28886#event-365438"
}
```



---

archive/issue_events_365439.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-12-16T12:44:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "milestone_number": null,
    "milestone_title": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28886#event-365439"
}
```



---

archive/issue_comments_453824.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nThanks, make sense.",
    "created_at": "2019-12-16T22:17:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28886#issuecomment-453824",
    "user": "https://github.com/malb"
}
```

<a id='comment:6'>Comment 6:</a>
Thanks, make sense.



---

archive/issue_comments_453825.json:
```json
{
    "body": "Changed branch from **[u/malb/update_fp_y_lll](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/update_fp_y_lll)** to **[0593646](https://github.com/sagemath/sagetrac-mirror/commit/05936462ca51aad623bd0dc12a041829fd198c7a)**",
    "created_at": "2019-12-17T22:46:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28886#issuecomment-453825",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/malb/update_fp_y_lll](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/update_fp_y_lll)** to **[0593646](https://github.com/sagemath/sagetrac-mirror/commit/05936462ca51aad623bd0dc12a041829fd198c7a)**



---

archive/issue_events_365440.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-12-17T22:46:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28886#event-365440"
}
```



---

archive/issue_events_365441.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-12-17T22:46:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28886#event-365441"
}
```



---

archive/issue_comments_453826.json:
```json
{
    "body": "Changed branch from **[0593646](https://github.com/sagemath/sagetrac-mirror/commit/05936462ca51aad623bd0dc12a041829fd198c7a)** to **[u/malb/update_fp_y_lll](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/update_fp_y_lll)**",
    "created_at": "2019-12-24T00:20:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28886#issuecomment-453826",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[0593646](https://github.com/sagemath/sagetrac-mirror/commit/05936462ca51aad623bd0dc12a041829fd198c7a)** to **[u/malb/update_fp_y_lll](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/update_fp_y_lll)**



---

archive/issue_comments_453827.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nOn a Debian 9 x86_64 buildbot this causes\n\n```\n[...] \nsage: A = random_matrix(ZZ, 4, 4) ## line 4357 ##\nsage: B = random_matrix(ZZ, 2, 3) ## line 4358 ##\nsage: B._solve_iml(A) ## line 4359 ##\nsage: A._solve_iml(B, right=False) ## line 4363 ##\nsage: A._solve_iml(B, right=True) ## line 4367 ##\nsage: A = random_matrix(ZZ, 2000, 2000) ## line 4374 ##\nsage: B = random_matrix(ZZ, 2000, 2000) ## line 4375 ##\nsage: t0 = walltime() ## line 4376 ##\nsage: alarm(2); A._solve_iml(B)  # long time ## line 4377 ##\n**********************************************************************\nTraceback (most recent call last):\n  File \"/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 2504, in __call__\n    doctests, extras = self._run(runner, options, results)\n  File \"/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 2553, in _run\n    result = runner.run(test)\n  File \"/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 897, in run\n    return self._run(test, compileflags, out)\n  File \"/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 710, in _run\n    got = got.decode('utf-8')\n  File \"/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/encodings/utf_8.py\", line 16, in decode\n    return codecs.utf_8_decode(input, errors, True)\nMemoryError\n**********************************************************************\nFile \"src/sage/modules/free_module_integer.py\", line 702, in sage.modules.free_module_integer.FreeModule_submodule_with_basis_integer.voronoi_cell\nFailed example:\n    V.volume()           # long time\nException raised:\n    Traceback (most recent call last):\n      File \"/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 681, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1123, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.modules.free_module_integer.FreeModule_submodule_with_basis_integer.voronoi_cell[6]>\", line 1, in <module>\n        V.volume()           # long time\n      File \"sage/misc/cachefunc.pyx\", line 1948, in sage.misc.cachefunc.CachedMethodCaller.__call__ (build/cythonized/sage/misc/cachefunc.c:10273)\n        w = self._instance_call(*args, **kwds)\n      File \"sage/misc/cachefunc.pyx\", line 1824, in sage.misc.cachefunc.CachedMethodCaller._instance_call (build/cythonized/sage/misc/cachefunc.c:9758)\n        return self.f(self._instance, *args, **kwds)\n      File \"/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/site-packages/sage/geometry/polyhedron/base.py\", line 6498, in volume\n        triangulation = self.triangulate(engine=engine, **kwds)\n      File \"/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/site-packages/sage/geometry/polyhedron/base.py\", line 3630, in triangulate\n        return pc.triangulate()\n      File \"/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/site-packages/sage/geometry/triangulation/point_configuration.py\", line 1088, in triangulate\n        return self.placing_triangulation()\n      File \"/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/site-packages/sage/geometry/triangulation/point_configuration.py\", line 2021, in placing_triangulation\n        simplices = [frozenset(self.contained_simplex(large=True))]\n      File \"/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/site-packages/sage/geometry/triangulation/point_configuration.py\", line 1922, in contained_simplex\n        ker = matrix(edges).right_kernel().matrix()\n      File \"sage/matrix/matrix2.pyx\", line 4216, in sage.matrix.matrix2.Matrix.right_kernel (build/cythonized/sage/matrix/matrix2.c:29513)\n        M = self.right_kernel_matrix(*args, **kwds)\n      File \"sage/matrix/matrix2.pyx\", line 3820, in sage.matrix.matrix2.Matrix.right_kernel_matrix (build/cythonized/sage/matrix/matrix2.c:28153)\n        format, M = self._right_kernel_matrix(algorithm=algorithm, proof=proof)\n      File \"sage/matrix/matrix_rational_dense.pyx\", line 1408, in sage.matrix.matrix_rational_dense.Matrix_rational_dense._right_kernel_matrix (build/cythonized/sage/matrix/matrix_rational_dense.c:13855)\n        K = A._rational_kernel_iml().transpose().change_ring(QQ)\n      File \"sage/matrix/matrix_integer_dense.pyx\", line 3892, in sage.matrix.matrix_integer_dense.Matrix_integer_dense._rational_kernel_iml (build/cythonized/sage/matrix/matrix_integer_dense.c:31814)\n        sig_on()\n    SignalError: Segmentation fault\n**********************************************************************\n1 item had failures:\n   1 of  12 in sage.modules.free_module_integer.FreeModule_submodule_with_basis_integer.voronoi_cell\n    [97 tests, 1 failure, 27.71 s]\n----------------------------------------------------------------------\nsage -t --long src/sage/matrix/matrix_integer_dense.pyx  # MemoryError in doctesting framework\nsage -t --long src/sage/modules/free_module_integer.py  # 1 doctest failed\n----------------------------------------------------------------------\n```\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/05936462ca51aad623bd0dc12a041829fd198c7a\">0593646</a></td><td><code>update FPLLL to 5.3.1 and FPYLLL to 0.5.1dev</code></td></tr></table>\n",
    "created_at": "2019-12-24T00:20:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28886#issuecomment-453827",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:8'>Comment 8:</a>
On a Debian 9 x86_64 buildbot this causes

```
[...] 
sage: A = random_matrix(ZZ, 4, 4) ## line 4357 ##
sage: B = random_matrix(ZZ, 2, 3) ## line 4358 ##
sage: B._solve_iml(A) ## line 4359 ##
sage: A._solve_iml(B, right=False) ## line 4363 ##
sage: A._solve_iml(B, right=True) ## line 4367 ##
sage: A = random_matrix(ZZ, 2000, 2000) ## line 4374 ##
sage: B = random_matrix(ZZ, 2000, 2000) ## line 4375 ##
sage: t0 = walltime() ## line 4376 ##
sage: alarm(2); A._solve_iml(B)  # long time ## line 4377 ##
**********************************************************************
Traceback (most recent call last):
  File "/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 2504, in __call__
    doctests, extras = self._run(runner, options, results)
  File "/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 2553, in _run
    result = runner.run(test)
  File "/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 897, in run
    return self._run(test, compileflags, out)
  File "/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 710, in _run
    got = got.decode('utf-8')
  File "/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/encodings/utf_8.py", line 16, in decode
    return codecs.utf_8_decode(input, errors, True)
MemoryError
**********************************************************************
File "src/sage/modules/free_module_integer.py", line 702, in sage.modules.free_module_integer.FreeModule_submodule_with_basis_integer.voronoi_cell
Failed example:
    V.volume()           # long time
Exception raised:
    Traceback (most recent call last):
      File "/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 681, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1123, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.modules.free_module_integer.FreeModule_submodule_with_basis_integer.voronoi_cell[6]>", line 1, in <module>
        V.volume()           # long time
      File "sage/misc/cachefunc.pyx", line 1948, in sage.misc.cachefunc.CachedMethodCaller.__call__ (build/cythonized/sage/misc/cachefunc.c:10273)
        w = self._instance_call(*args, **kwds)
      File "sage/misc/cachefunc.pyx", line 1824, in sage.misc.cachefunc.CachedMethodCaller._instance_call (build/cythonized/sage/misc/cachefunc.c:9758)
        return self.f(self._instance, *args, **kwds)
      File "/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/site-packages/sage/geometry/polyhedron/base.py", line 6498, in volume
        triangulation = self.triangulate(engine=engine, **kwds)
      File "/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/site-packages/sage/geometry/polyhedron/base.py", line 3630, in triangulate
        return pc.triangulate()
      File "/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/site-packages/sage/geometry/triangulation/point_configuration.py", line 1088, in triangulate
        return self.placing_triangulation()
      File "/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/site-packages/sage/geometry/triangulation/point_configuration.py", line 2021, in placing_triangulation
        simplices = [frozenset(self.contained_simplex(large=True))]
      File "/var/lib/buildbot/slave/sage2_git/build/local/lib/python2.7/site-packages/sage/geometry/triangulation/point_configuration.py", line 1922, in contained_simplex
        ker = matrix(edges).right_kernel().matrix()
      File "sage/matrix/matrix2.pyx", line 4216, in sage.matrix.matrix2.Matrix.right_kernel (build/cythonized/sage/matrix/matrix2.c:29513)
        M = self.right_kernel_matrix(*args, **kwds)
      File "sage/matrix/matrix2.pyx", line 3820, in sage.matrix.matrix2.Matrix.right_kernel_matrix (build/cythonized/sage/matrix/matrix2.c:28153)
        format, M = self._right_kernel_matrix(algorithm=algorithm, proof=proof)
      File "sage/matrix/matrix_rational_dense.pyx", line 1408, in sage.matrix.matrix_rational_dense.Matrix_rational_dense._right_kernel_matrix (build/cythonized/sage/matrix/matrix_rational_dense.c:13855)
        K = A._rational_kernel_iml().transpose().change_ring(QQ)
      File "sage/matrix/matrix_integer_dense.pyx", line 3892, in sage.matrix.matrix_integer_dense.Matrix_integer_dense._rational_kernel_iml (build/cythonized/sage/matrix/matrix_integer_dense.c:31814)
        sig_on()
    SignalError: Segmentation fault
**********************************************************************
1 item had failures:
   1 of  12 in sage.modules.free_module_integer.FreeModule_submodule_with_basis_integer.voronoi_cell
    [97 tests, 1 failure, 27.71 s]
----------------------------------------------------------------------
sage -t --long src/sage/matrix/matrix_integer_dense.pyx  # MemoryError in doctesting framework
sage -t --long src/sage/modules/free_module_integer.py  # 1 doctest failed
----------------------------------------------------------------------
```

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/05936462ca51aad623bd0dc12a041829fd198c7a">0593646</a></td><td><code>update FPLLL to 5.3.1 and FPYLLL to 0.5.1dev</code></td></tr></table>




---

archive/issue_comments_453828.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nI can reproduce it locally now.",
    "created_at": "2019-12-24T09:45:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28886#issuecomment-453828",
    "user": "https://github.com/malb"
}
```

<a id='comment:9'>Comment 9:</a>
I can reproduce it locally now.



---

archive/issue_comments_453829.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nThe failures are in `_solve_imp` and `_solve_flint` when interrupted by using `alarm(2)`, so perhaps FPLLL screws with the signal handler, somehow? Not clear what in FPLLL would, though. From the REPL it works:\n\n```\nsage:             sage: A = random_matrix(ZZ, 2000, 2000)\n....:             sage: B = random_matrix(ZZ, 2000, 2000)\n....:             sage: t0 = walltime()\n....:             sage: alarm(2); A._solve_iml(B)  # long time\n....:             \n---------------------------------------------------------------------------\nAlarmInterrupt                            Traceback (most recent call last)\n<ipython-input-2-92190be6680a> in <module>()\n      2 B = random_matrix(ZZ, Integer(2000), Integer(2000))\n      3 t0 = walltime()\n----> 4 alarm(Integer(2)); A._solve_iml(B)  # long time\n\n/home/malb/software/sage-fplll/local/lib/python3.7/site-packages/sage/matrix/matrix_integer_dense.pyx in sage.matrix.matrix_integer_dense.Matrix_integer_dense._solve_iml (build/cythonized/sage/matrix/matrix_integer_dense.c:35877)()\n   4447         try:\n   4448             verbose('Calling solver n = %s, m = %s'%(n,m))\n-> 4449             sig_on()\n   4450             nonsingSolvLlhsMM(solu_pos, n, m, mself, mB, mp_N, mp_D)\n   4451             sig_off()\n\nAlarmInterrupt: \n```\n\nAny ideas?",
    "created_at": "2019-12-26T14:20:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28886#issuecomment-453829",
    "user": "https://github.com/malb"
}
```

<a id='comment:10'>Comment 10:</a>
The failures are in `_solve_imp` and `_solve_flint` when interrupted by using `alarm(2)`, so perhaps FPLLL screws with the signal handler, somehow? Not clear what in FPLLL would, though. From the REPL it works:

```
sage:             sage: A = random_matrix(ZZ, 2000, 2000)
....:             sage: B = random_matrix(ZZ, 2000, 2000)
....:             sage: t0 = walltime()
....:             sage: alarm(2); A._solve_iml(B)  # long time
....:             
---------------------------------------------------------------------------
AlarmInterrupt                            Traceback (most recent call last)
<ipython-input-2-92190be6680a> in <module>()
      2 B = random_matrix(ZZ, Integer(2000), Integer(2000))
      3 t0 = walltime()
----> 4 alarm(Integer(2)); A._solve_iml(B)  # long time

/home/malb/software/sage-fplll/local/lib/python3.7/site-packages/sage/matrix/matrix_integer_dense.pyx in sage.matrix.matrix_integer_dense.Matrix_integer_dense._solve_iml (build/cythonized/sage/matrix/matrix_integer_dense.c:35877)()
   4447         try:
   4448             verbose('Calling solver n = %s, m = %s'%(n,m))
-> 4449             sig_on()
   4450             nonsingSolvLlhsMM(solu_pos, n, m, mself, mB, mp_N, mp_D)
   4451             sig_off()

AlarmInterrupt: 
```

Any ideas?



---

archive/issue_events_365442.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-06T14:10:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "milestone_number": null,
    "milestone_title": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28886#event-365442"
}
```



---

archive/issue_events_365443.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-06T14:10:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28886#event-365443"
}
```



---

archive/issue_comments_453830.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nTicket retargeted after milestone closed",
    "created_at": "2020-01-06T14:10:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28886#issuecomment-453830",
    "user": "https://github.com/embray"
}
```

<a id='comment:11'>Comment 11:</a>
Ticket retargeted after milestone closed



---

archive/issue_comments_453831.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c0e6646512e67aa73fccdfcb71c9b3256b71ca3\">6c0e664</a></td><td><code>Merge branch 'master' into t/28886/update_fp_y_lll</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8dfc58ca566b16b68eba5a174d714ec7bba32add\">8dfc58c</a></td><td><code>update to fplll 5.3.2</code></td></tr></table>\n",
    "created_at": "2020-01-09T20:24:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28886#issuecomment-453831",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:12'>Comment 12:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c0e6646512e67aa73fccdfcb71c9b3256b71ca3">6c0e664</a></td><td><code>Merge branch 'master' into t/28886/update_fp_y_lll</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8dfc58ca566b16b68eba5a174d714ec7bba32add">8dfc58c</a></td><td><code>update to fplll 5.3.2</code></td></tr></table>




---

archive/issue_comments_453832.json:
```json
{
    "body": "Changed commit from **[0593646](https://github.com/sagemath/sagetrac-mirror/commit/05936462ca51aad623bd0dc12a041829fd198c7a)** to **[8dfc58c](https://github.com/sagemath/sagetrac-mirror/commit/8dfc58ca566b16b68eba5a174d714ec7bba32add)**",
    "created_at": "2020-01-09T20:24:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28886#issuecomment-453832",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0593646](https://github.com/sagemath/sagetrac-mirror/commit/05936462ca51aad623bd0dc12a041829fd198c7a)** to **[8dfc58c](https://github.com/sagemath/sagetrac-mirror/commit/8dfc58ca566b16b68eba5a174d714ec7bba32add)**



---

archive/issue_events_365444.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2020-01-09T20:25:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28886#event-365444"
}
```



---

archive/issue_comments_453833.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n Update FP(y)LLL to newest upstream releases\n \n-- https://github.com/fplll/fplll/releases/download/5.3.1/fplll-5.3.1.tar.gz\n+- https://github.com/fplll/fplll/releases/download/5.3.2/fplll-5.3.2.tar.gz\n - https://github.com/fplll/fpylll/releases/download/0.5.1dev/fpylll-0.5.1dev.tar.gz\n``````\n",
    "created_at": "2020-01-09T20:25:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28886#issuecomment-453833",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 Update FP(y)LLL to newest upstream releases
 
-- https://github.com/fplll/fplll/releases/download/5.3.1/fplll-5.3.1.tar.gz
+- https://github.com/fplll/fplll/releases/download/5.3.2/fplll-5.3.2.tar.gz
 - https://github.com/fplll/fpylll/releases/download/0.5.1dev/fpylll-0.5.1dev.tar.gz
``````




---

archive/issue_comments_453834.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nUpdated FPLLL to (seemingly) fix the issue identified.",
    "created_at": "2020-01-09T20:25:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28886#issuecomment-453834",
    "user": "https://github.com/malb"
}
```

<a id='comment:13'>Comment 13:</a>
Updated FPLLL to (seemingly) fix the issue identified.



---

archive/issue_comments_453835.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nThen positive review.",
    "created_at": "2020-01-09T21:30:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28886#issuecomment-453835",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:14'>Comment 14:</a>
Then positive review.



---

archive/issue_events_365445.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2020-01-09T21:30:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28886#event-365445"
}
```



---

archive/issue_events_365446.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2020-01-09T21:30:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28886#event-365446"
}
```



---

archive/issue_comments_453836.json:
```json
{
    "body": "Changed branch from **[u/malb/update_fp_y_lll](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/update_fp_y_lll)** to **[8dfc58c](https://github.com/sagemath/sagetrac-mirror/commit/8dfc58ca566b16b68eba5a174d714ec7bba32add)**",
    "created_at": "2020-01-11T17:45:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28886#issuecomment-453836",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/malb/update_fp_y_lll](https://github.com/sagemath/sagetrac-mirror/tree/u/malb/update_fp_y_lll)** to **[8dfc58c](https://github.com/sagemath/sagetrac-mirror/commit/8dfc58ca566b16b68eba5a174d714ec7bba32add)**



---

archive/issue_events_365447.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-01-11T17:45:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28886#event-365447"
}
```



---

archive/issue_events_365448.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "708ab81536f4f203a400d65346d2efafae5e2dd2",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-01-11T17:45:25Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28886",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28886#event-365448"
}
```
