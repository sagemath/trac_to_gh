# Issue 28052: Incorporating a function for Tautological Implication in the Logic Module

archive/issues_027815.json:
```json
{
    "assignees": [
        "https://github.com/Medha210699"
    ],
    "body": "This ticket defines a method `is_consequence` for the class `BooleanFormula`. This method provides the same functionality as the function `valid_consequence` (which is now deprecated): the method returns `True` if `self` is a tautological consequence of the given formula(s).\n\n```\n\nsage: f = propcalc.formula(\"a\")\nsage: g = propcalc.formula(\"a|b\")\nsage: f.is_consequence(g)\nFalse\nsage: g.is_consequence(f)\nTrue\n```\nIn addition, the function call `is_consequence(conclusion,hypotheses)` is defined to be a synonym for `conclusion.is_consequence(hypotheses)` and is therefore a drop-in replacement for the deprecated function `valid_consequence`.\n\nKeywords: **logic, symbolics, propositional formula**\n\nBranch/Commit: **[`bbec2e6`](https://github.com/sagemath/sagetrac-mirror/commit/bbec2e651fa66d96103da21115039dfa01e76e24)**\n\nReviewer: **Dave Morris, Travis Scrimshaw**\n\nAuthor: **Medha Sharma, Dave Morris**\n\nComponent: **symbolics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/28052_\n\n",
    "closed_at": "2020-03-25T22:48:27Z",
    "created_at": "2019-06-25T11:56:39Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20symbolics",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Incorporating a function for Tautological Implication in the Logic Module",
    "type": "issue",
    "updated_at": "2020-03-25T22:48:27Z",
    "url": "https://github.com/sagemath/sage/issues/28052",
    "user": "https://github.com/Medha210699"
}
```
This ticket defines a method `is_consequence` for the class `BooleanFormula`. This method provides the same functionality as the function `valid_consequence` (which is now deprecated): the method returns `True` if `self` is a tautological consequence of the given formula(s).

```

sage: f = propcalc.formula("a")
sage: g = propcalc.formula("a|b")
sage: f.is_consequence(g)
False
sage: g.is_consequence(f)
True
```
In addition, the function call `is_consequence(conclusion,hypotheses)` is defined to be a synonym for `conclusion.is_consequence(hypotheses)` and is therefore a drop-in replacement for the deprecated function `valid_consequence`.

Keywords: **logic, symbolics, propositional formula**

Branch/Commit: **[`bbec2e6`](https://github.com/sagemath/sagetrac-mirror/commit/bbec2e651fa66d96103da21115039dfa01e76e24)**

Reviewer: **Dave Morris, Travis Scrimshaw**

Author: **Medha Sharma, Dave Morris**

Component: **symbolics**

_Issue created by migration from https://trac.sagemath.org/ticket/28052_





---

archive/issue_events_386559.json:
```json
{
    "actor": "https://github.com/Medha210699",
    "created_at": "2019-06-25T11:56:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386559"
}
```



---

archive/issue_events_386560.json:
```json
{
    "actor": "https://github.com/Medha210699",
    "created_at": "2019-06-25T11:56:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20symbolics",
    "label_color": "0000ff",
    "label_name": "c: symbolics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386560"
}
```



---

archive/issue_events_386561.json:
```json
{
    "actor": "https://github.com/Medha210699",
    "created_at": "2019-06-25T11:56:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386561"
}
```



---

archive/issue_events_386562.json:
```json
{
    "actor": "https://github.com/Medha210699",
    "created_at": "2019-06-25T11:56:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386562"
}
```



---

archive/issue_events_386563.json:
```json
{
    "actor": "https://github.com/Medha210699",
    "created_at": "2019-06-25T12:02:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386563"
}
```



---

archive/issue_comments_436346.json:
```json
{
    "body": "Author: **Medha Sharma**",
    "created_at": "2019-06-25T12:02:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28052#issuecomment-436346",
    "user": "https://github.com/Medha210699"
}
```

Author: **Medha Sharma**



---

archive/issue_comments_436347.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-This ticket aims at implementing a boolean function which returns True if some formula, say f, tautologically implies another formula, say g.hat \n+This ticket aims at implementing a boolean function which returns True if some formula, say f, tautologically implies another formula, say g.\n Refer to the below example for understanding how the function will work.\n \n ```\n``````\n",
    "created_at": "2019-06-25T12:08:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28052#issuecomment-436347",
    "user": "https://github.com/Medha210699"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-This ticket aims at implementing a boolean function which returns True if some formula, say f, tautologically implies another formula, say g.hat 
+This ticket aims at implementing a boolean function which returns True if some formula, say f, tautologically implies another formula, say g.
 Refer to the below example for understanding how the function will work.
 
 ```
``````




---

archive/issue_comments_436348.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nA ticket should be set in needs review when it provides source code ready to be integrated into Sage.",
    "created_at": "2019-06-25T19:13:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28052#issuecomment-436348",
    "user": "https://github.com/videlec"
}
```

<div id="comment:3" align="right">comment:3</div>

A ticket should be set in needs review when it provides source code ready to be integrated into Sage.



---

archive/issue_events_386564.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-06-25T19:13:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386564"
}
```



---

archive/issue_events_386565.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-06-25T19:13:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386565"
}
```



---

archive/issue_events_386566.json:
```json
{
    "actor": "https://github.com/Medha210699",
    "created_at": "2019-06-27T11:30:56Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "subject": "https://github.com/Medha210699",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386566"
}
```



---

archive/issue_comments_436349.json:
```json
{
    "body": "Branch: **[u/Medha210699/incorporating_a_function_for_tautological_implication_in_the_logic_module](https://github.com/sagemath/sagetrac-mirror/tree/u/Medha210699/incorporating_a_function_for_tautological_implication_in_the_logic_module)**",
    "created_at": "2019-06-27T11:35:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28052#issuecomment-436349",
    "user": "https://github.com/Medha210699"
}
```

Branch: **[u/Medha210699/incorporating_a_function_for_tautological_implication_in_the_logic_module](https://github.com/sagemath/sagetrac-mirror/tree/u/Medha210699/incorporating_a_function_for_tautological_implication_in_the_logic_module)**



---

archive/issue_comments_436350.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nTicket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28052#issuecomment-436350",
    "user": "https://github.com/embray"
}
```

<div id="comment:6" align="right">comment:6</div>

Ticket retargeted after milestone closed



---

archive/issue_events_386567.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386567"
}
```



---

archive/issue_events_386568.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386568"
}
```



---

archive/issue_events_386569.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2020-03-11T05:49:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386569"
}
```



---

archive/issue_events_386570.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2020-03-11T05:49:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386570"
}
```



---

archive/issue_comments_436351.json:
```json
{
    "body": "Reviewer: **Dave Morris**",
    "created_at": "2020-03-11T05:49:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28052#issuecomment-436351",
    "user": "https://github.com/DaveWitteMorris"
}
```

Reviewer: **Dave Morris**



---

archive/issue_comments_436352.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI recommend closing this ticket as \"invalid/wontfix\", because the functionality is already available by using `sage.logic.propcalc.valid_consequence`.\n\n```\nsage: from sage.logic.propcalc import valid_consequence\nsage: f = propcalc.formula(\"a\")\nsage: g = propcalc.formula(\"a|b\")\nsage: valid_consequence(g,f) # is g a tautological consequence of f ?\nTrue\nsage: valid_consequence(f,g) # is f a tautological consequence of g ?\nFalse\n```",
    "created_at": "2020-03-11T05:49:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28052#issuecomment-436352",
    "user": "https://github.com/DaveWitteMorris"
}
```

<div id="comment:7" align="right">comment:7</div>

I recommend closing this ticket as "invalid/wontfix", because the functionality is already available by using `sage.logic.propcalc.valid_consequence`.

```
sage: from sage.logic.propcalc import valid_consequence
sage: f = propcalc.formula("a")
sage: g = propcalc.formula("a|b")
sage: valid_consequence(g,f) # is g a tautological consequence of f ?
True
sage: valid_consequence(f,g) # is f a tautological consequence of g ?
False
```



---

archive/issue_events_386571.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2020-03-11T05:49:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386571"
}
```



---

archive/issue_events_386572.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2020-03-11T05:49:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386572"
}
```



---

archive/issue_events_386573.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2020-03-11T05:49:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386573"
}
```



---

archive/issue_events_386574.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2020-03-11T05:49:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386574"
}
```



---

archive/issue_events_386575.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2020-03-11T05:49:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "c6c6c6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386575"
}
```



---

archive/issue_comments_436353.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nPerhaps it would be good to add a method `valid_consequence` that redirects to this function to make it more discoverable?",
    "created_at": "2020-03-13T00:19:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28052#issuecomment-436353",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:8" align="right">comment:8</div>

Perhaps it would be good to add a method `valid_consequence` that redirects to this function to make it more discoverable?



---

archive/issue_events_386576.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2020-03-13T01:20:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386576"
}
```



---

archive/issue_events_386577.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2020-03-13T01:20:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386577"
}
```



---

archive/issue_comments_436354.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThanks, that seems like a good idea. I'll do it soon, but probably not today. Probably it makes the most sense to move the definition into a method, and then (for backward compatibility) define a stand-alone function that calls the method. Perhaps the stand-alone should be deprecated?",
    "created_at": "2020-03-13T01:20:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28052#issuecomment-436354",
    "user": "https://github.com/DaveWitteMorris"
}
```

<div id="comment:9" align="right">comment:9</div>

Thanks, that seems like a good idea. I'll do it soon, but probably not today. Probably it makes the most sense to move the definition into a method, and then (for backward compatibility) define a stand-alone function that calls the method. Perhaps the stand-alone should be deprecated?



---

archive/issue_comments_436355.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI don't use this, so I don't have an option. I think it is okay to have a method redirect to a function (or vice versa; they are equivalent in my mind up to putting the definition in the method to make it easier to see via `?` on the command-line). There might be some reason for having the actual computation done in a function (which could be in a separate file). Actually, the easiest thing to do would be to simply make the function into a (bounded) method of the appropriate class. I think you just need:\n\n```python\ndef foo(x, y):\n    return -y\nclass Bar:\n    foo = foo\n```\n\n```\nsage: b = Bar()\nsage: b.foo(2)\n-2\n```\nThis would mean everything in the doc, etc. is properly linked without redundancy. This would be my recommendation.",
    "created_at": "2020-03-13T01:46:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28052#issuecomment-436355",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:10" align="right">comment:10</div>

I don't use this, so I don't have an option. I think it is okay to have a method redirect to a function (or vice versa; they are equivalent in my mind up to putting the definition in the method to make it easier to see via `?` on the command-line). There might be some reason for having the actual computation done in a function (which could be in a separate file). Actually, the easiest thing to do would be to simply make the function into a (bounded) method of the appropriate class. I think you just need:

```python
def foo(x, y):
    return -y
class Bar:
    foo = foo
```

```
sage: b = Bar()
sage: b.foo(2)
-2
```
This would mean everything in the doc, etc. is properly linked without redundancy. This would be my recommendation.



---

archive/issue_comments_436356.json:
```json
{
    "body": "Changed branch from **[u/Medha210699/incorporating_a_function_for_tautological_implication_in_the_logic_module](https://github.com/sagemath/sagetrac-mirror/tree/u/Medha210699/incorporating_a_function_for_tautological_implication_in_the_logic_module)** to **[public/28052](https://github.com/sagemath/sagetrac-mirror/tree/public/28052)**",
    "created_at": "2020-03-19T03:06:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28052#issuecomment-436356",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changed branch from **[u/Medha210699/incorporating_a_function_for_tautological_implication_in_the_logic_module](https://github.com/sagemath/sagetrac-mirror/tree/u/Medha210699/incorporating_a_function_for_tautological_implication_in_the_logic_module)** to **[public/28052](https://github.com/sagemath/sagetrac-mirror/tree/public/28052)**



---

archive/issue_events_386578.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2020-03-19T03:48:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386578"
}
```



---

archive/issue_comments_436357.json:
```json
{
    "body": "Commit: **[`e9d0529`](https://github.com/sagemath/sagetrac-mirror/commit/e9d0529487a0433b37528fd34cc69f1086bbc7cc)**",
    "created_at": "2020-03-19T03:48:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28052#issuecomment-436357",
    "user": "https://github.com/DaveWitteMorris"
}
```

Commit: **[`e9d0529`](https://github.com/sagemath/sagetrac-mirror/commit/e9d0529487a0433b37528fd34cc69f1086bbc7cc)**



---

archive/issue_comments_436358.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nThanks for telling me about `foo = foo`. I was going to do something more complicated.\n1. I defined a method of the class `BooleanFormula` by moving the code for `valid_consequence` from `propcalc.py` into `boolformula.py`.\n2. I named the method `is_consequence` (and also defined a standalone function of this same name), to be consistent with the methods `is_satisfiable`, `is_contradiction`, etc., but retained `valid_consequence` as a deprecated function for backwards compatibility (in the file `propcalc.py`).\n3. I refactored the code for the `is_consequence` method, added coverage of the case where there are no hypotheses, and added more doctests.\n4. I made some other minor tweaks to `propcalc.py` and `boolformula.py`, such as changing \"http\" to \"https\".\n5. I revised the description of this ticket. \nShould some of this be on a separate ticket?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e9d0529487a0433b37528fd34cc69f1086bbc7cc\"><code>e9d0529</code></a></td><td><code>move function to method of BooleanFormula</code></td></tr></table>\n",
    "created_at": "2020-03-19T03:48:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28052#issuecomment-436358",
    "user": "https://github.com/DaveWitteMorris"
}
```

<div id="comment:12" align="right">comment:12</div>

Thanks for telling me about `foo = foo`. I was going to do something more complicated.
1. I defined a method of the class `BooleanFormula` by moving the code for `valid_consequence` from `propcalc.py` into `boolformula.py`.
2. I named the method `is_consequence` (and also defined a standalone function of this same name), to be consistent with the methods `is_satisfiable`, `is_contradiction`, etc., but retained `valid_consequence` as a deprecated function for backwards compatibility (in the file `propcalc.py`).
3. I refactored the code for the `is_consequence` method, added coverage of the case where there are no hypotheses, and added more doctests.
4. I made some other minor tweaks to `propcalc.py` and `boolformula.py`, such as changing "http" to "https".
5. I revised the description of this ticket. 
Should some of this be on a separate ticket?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e9d0529487a0433b37528fd34cc69f1086bbc7cc"><code>e9d0529</code></a></td><td><code>move function to method of BooleanFormula</code></td></tr></table>




---

archive/issue_comments_436359.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,13 +1,12 @@\n-This ticket aims at implementing a boolean function which returns True if some formula, say f, tautologically implies another formula, say g.\n-Refer to the below example for understanding how the function will work.\n+This ticket defines a method `is_consequence` for the class `BooleanFormula`. This method provides the same functionality as the function `valid_consequence` (which is now deprecated): the method returns `True` if `self` is a tautological consequence of the given formula(s).\n \n ```\n \n sage: f = propcalc.formula(\"a\")\n sage: g = propcalc.formula(\"a|b\")\n-sage: f.TautologicallyImplies(g)\n+sage: f.is_consequence(g)\n+False\n+sage: g.is_consequence(f)\n True\n-sage: g.TautologicallyImplies(f)\n-False\n-\n ```\n+In addition, the function call `is_consequence(conclusion,hypotheses)` is defined to be a synonym for `conclusion.is_consequence(hypotheses)` and is therefore a drop-in replacement for the deprecated function `valid_consequence`.\n``````\n",
    "created_at": "2020-03-19T03:48:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28052#issuecomment-436359",
    "user": "https://github.com/DaveWitteMorris"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,13 +1,12 @@
-This ticket aims at implementing a boolean function which returns True if some formula, say f, tautologically implies another formula, say g.
-Refer to the below example for understanding how the function will work.
+This ticket defines a method `is_consequence` for the class `BooleanFormula`. This method provides the same functionality as the function `valid_consequence` (which is now deprecated): the method returns `True` if `self` is a tautological consequence of the given formula(s).
 
 ```
 
 sage: f = propcalc.formula("a")
 sage: g = propcalc.formula("a|b")
-sage: f.TautologicallyImplies(g)
+sage: f.is_consequence(g)
+False
+sage: g.is_consequence(f)
 True
-sage: g.TautologicallyImplies(f)
-False
-
 ```
+In addition, the function call `is_consequence(conclusion,hypotheses)` is defined to be a synonym for `conclusion.is_consequence(hypotheses)` and is therefore a drop-in replacement for the deprecated function `valid_consequence`.
``````




---

archive/issue_events_386579.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2020-03-19T03:48:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386579"
}
```



---

archive/issue_events_386580.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2020-03-19T03:48:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386580"
}
```



---

archive/issue_comments_436360.json:
```json
{
    "body": "Changed author from **Medha Sharma** to **Medha Sharma, Dave Morris**",
    "created_at": "2020-03-19T03:48:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28052#issuecomment-436360",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changed author from **Medha Sharma** to **Medha Sharma, Dave Morris**



---

archive/issue_comments_436361.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nMerge conflict.",
    "created_at": "2020-03-19T04:42:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28052#issuecomment-436361",
    "user": "https://github.com/DaveWitteMorris"
}
```

<div id="comment:14" align="right">comment:14</div>

Merge conflict.



---

archive/issue_events_386581.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2020-03-19T04:42:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386581"
}
```



---

archive/issue_events_386582.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2020-03-19T04:42:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386582"
}
```



---

archive/issue_comments_436362.json:
```json
{
    "body": "Changed commit from **[`e9d0529`](https://github.com/sagemath/sagetrac-mirror/commit/e9d0529487a0433b37528fd34cc69f1086bbc7cc)** to **[`6c0e20a`](https://github.com/sagemath/sagetrac-mirror/commit/6c0e20af35c1cb7e295dd94bbc7c29899debbe66)**",
    "created_at": "2020-03-19T05:25:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28052#issuecomment-436362",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e9d0529`](https://github.com/sagemath/sagetrac-mirror/commit/e9d0529487a0433b37528fd34cc69f1086bbc7cc)** to **[`6c0e20a`](https://github.com/sagemath/sagetrac-mirror/commit/6c0e20af35c1cb7e295dd94bbc7c29899debbe66)**



---

archive/issue_comments_436363.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7dc3dcdea64108456a820bbbc80548c979e5b6df\"><code>7dc3dcd</code></a></td><td><code>fix conflict with #28053</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c0e20af35c1cb7e295dd94bbc7c29899debbe66\"><code>6c0e20a</code></a></td><td><code>merge with 9.1b8</code></td></tr></table>\n",
    "created_at": "2020-03-19T05:25:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28052#issuecomment-436363",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7dc3dcdea64108456a820bbbc80548c979e5b6df"><code>7dc3dcd</code></a></td><td><code>fix conflict with #28053</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c0e20af35c1cb7e295dd94bbc7c29899debbe66"><code>6c0e20a</code></a></td><td><code>merge with 9.1b8</code></td></tr></table>




---

archive/issue_events_386583.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2020-03-19T05:27:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386583"
}
```



---

archive/issue_events_386584.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2020-03-19T05:27:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386584"
}
```



---

archive/issue_comments_436364.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nFixed the merge conflict with #28053 and merged 9.1b8. I hope the patchbots will be happy now.",
    "created_at": "2020-03-19T05:27:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28052#issuecomment-436364",
    "user": "https://github.com/DaveWitteMorris"
}
```

<div id="comment:16" align="right">comment:16</div>

Fixed the merge conflict with #28053 and merged 9.1b8. I hope the patchbots will be happy now.



---

archive/issue_comments_436365.json:
```json
{
    "body": "Changed reviewer from **Dave Morris** to **Dave Morris, Travis Scrimshaw**",
    "created_at": "2020-03-19T07:28:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28052#issuecomment-436365",
    "user": "https://github.com/tscrim"
}
```

Changed reviewer from **Dave Morris** to **Dave Morris, Travis Scrimshaw**



---

archive/issue_comments_436366.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nSome little comments:\n\n```diff\n-if not(hypotheses):\n+if not hypotheses:\n```\n\nRemove ``self`` as an `INPUT:`.\n\nBeyond that, LGTM.",
    "created_at": "2020-03-19T07:28:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28052#issuecomment-436366",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:17" align="right">comment:17</div>

Some little comments:

```diff
-if not(hypotheses):
+if not hypotheses:
```

Remove ``self`` as an `INPUT:`.

Beyond that, LGTM.



---

archive/issue_comments_436367.json:
```json
{
    "body": "Changed commit from **[`6c0e20a`](https://github.com/sagemath/sagetrac-mirror/commit/6c0e20af35c1cb7e295dd94bbc7c29899debbe66)** to **[`bbec2e6`](https://github.com/sagemath/sagetrac-mirror/commit/bbec2e651fa66d96103da21115039dfa01e76e24)**",
    "created_at": "2020-03-19T17:56:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28052#issuecomment-436367",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6c0e20a`](https://github.com/sagemath/sagetrac-mirror/commit/6c0e20af35c1cb7e295dd94bbc7c29899debbe66)** to **[`bbec2e6`](https://github.com/sagemath/sagetrac-mirror/commit/bbec2e651fa66d96103da21115039dfa01e76e24)**



---

archive/issue_comments_436368.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bbec2e651fa66d96103da21115039dfa01e76e24\"><code>bbec2e6</code></a></td><td><code>minor corrections pointed out by reviewer</code></td></tr></table>\n",
    "created_at": "2020-03-19T17:56:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28052#issuecomment-436368",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bbec2e651fa66d96103da21115039dfa01e76e24"><code>bbec2e6</code></a></td><td><code>minor corrections pointed out by reviewer</code></td></tr></table>




---

archive/issue_comments_436369.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nThanks for the corrections.",
    "created_at": "2020-03-19T18:00:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28052#issuecomment-436369",
    "user": "https://github.com/DaveWitteMorris"
}
```

<div id="comment:19" align="right">comment:19</div>

Thanks for the corrections.



---

archive/issue_events_386585.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2020-03-19T22:00:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386585"
}
```



---

archive/issue_events_386586.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2020-03-19T22:00:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386586"
}
```



---

archive/issue_comments_436370.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThank you. LGTM.",
    "created_at": "2020-03-19T22:00:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28052#issuecomment-436370",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:20" align="right">comment:20</div>

Thank you. LGTM.



---

archive/issue_events_386587.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-03-25T22:48:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386587"
}
```



---

archive/issue_events_386588.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "d2405f29638ef67cbd848d3268c0269dea936777",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-03-25T22:48:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28052#event-386588"
}
```



---

archive/issue_comments_436371.json:
```json
{
    "body": "Changed branch from **[public/28052](https://github.com/sagemath/sagetrac-mirror/tree/public/28052)** to **[`bbec2e6`](https://github.com/sagemath/sagetrac-mirror/commit/bbec2e651fa66d96103da21115039dfa01e76e24)**",
    "created_at": "2020-03-25T22:48:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28052#issuecomment-436371",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/28052](https://github.com/sagemath/sagetrac-mirror/tree/public/28052)** to **[`bbec2e6`](https://github.com/sagemath/sagetrac-mirror/commit/bbec2e651fa66d96103da21115039dfa01e76e24)**
