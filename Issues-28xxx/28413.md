# Issue 28413: Add .h_star_vector to compact rational polytopes

archive/issues_028176.json:
```json
{
    "assignees": [],
    "body": "Since #25091 is merged, we can compute a few more things with normaliz. One important object is the so-called `h^*`-vector, see https://en.wikipedia.org/wiki/Ehrhart_polynomial#Ehrhart_series for details.\n\nThis ticket implements this method. Currently, one has to do the following:\n\n```\nsage: C = polytopes.hypercube(3, backend=\"normaliz\")\nsage: C.ehrhart_series().numerator().coefficients()\n[1, 23, 23, 1]\n```\n\nwhich would now become:\n\n```\nsage: C.h_star_vector()\n```\n\nand return an error if the backend is not `'normaliz'`...\n\nSee the related SageAsk question: https://ask.sagemath.org/question/32505/can-sage-compute-the-h-vector-of-a-polytope/\n\nEventually, it would be nice to also make this possible for polymake too (it would be interesting to know if they use `'normaliz'` for that).\n\nDepends on #28247\n\nCC:  @sophiasage @fchapoton @w-bruns @videlec @mkoeppe\n\nKeywords: **polytopes, normaliz**\n\nBranch/Commit: **[`48d2a6f`](https://github.com/sagemath/sagetrac-mirror/commit/48d2a6f740428ae4b4c5dc9d431fa73976bd0687)**\n\nReviewer: **Jean-Philippe Labb\u00e9**\n\nAuthor: **Sophia Elia**\n\nComponent: **geometry**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/28413_\n\n",
    "closed_at": "2020-03-01T23:46:04Z",
    "created_at": "2019-08-27T14:19:11Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20geometry",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add .h_star_vector to compact rational polytopes",
    "type": "issue",
    "updated_at": "2021-04-27T08:25:13Z",
    "url": "https://github.com/sagemath/sage/issues/28413",
    "user": "https://github.com/jplab"
}
```
Since #25091 is merged, we can compute a few more things with normaliz. One important object is the so-called `h^*`-vector, see https://en.wikipedia.org/wiki/Ehrhart_polynomial#Ehrhart_series for details.

This ticket implements this method. Currently, one has to do the following:

```
sage: C = polytopes.hypercube(3, backend="normaliz")
sage: C.ehrhart_series().numerator().coefficients()
[1, 23, 23, 1]
```

which would now become:

```
sage: C.h_star_vector()
```

and return an error if the backend is not `'normaliz'`...

See the related SageAsk question: https://ask.sagemath.org/question/32505/can-sage-compute-the-h-vector-of-a-polytope/

Eventually, it would be nice to also make this possible for polymake too (it would be interesting to know if they use `'normaliz'` for that).

Depends on #28247

CC:  @sophiasage @fchapoton @w-bruns @videlec @mkoeppe

Keywords: **polytopes, normaliz**

Branch/Commit: **[`48d2a6f`](https://github.com/sagemath/sagetrac-mirror/commit/48d2a6f740428ae4b4c5dc9d431fa73976bd0687)**

Reviewer: **Jean-Philippe Labb√©**

Author: **Sophia Elia**

Component: **geometry**

_Issue created by migration from https://trac.sagemath.org/ticket/28413_





---

archive/issue_events_389893.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-08-27T14:19:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "c: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28413#event-389893"
}
```



---

archive/issue_events_389894.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-08-27T14:19:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28413#event-389894"
}
```



---

archive/issue_events_389895.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-08-27T14:19:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28413#event-389895"
}
```



---

archive/issue_events_389896.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-08-27T14:19:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28413#event-389896"
}
```



---

archive/issue_comments_442573.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nFor the h<sup>*</sup>-vector o be well-defined, the polytope should have integral vertices. Otherwise there is no canonical choice for the denominator and, hence, the numerator of the Ehrhart series (as a rational function).\n\nAt least one should check that the denominator is a power of 1-t.",
    "created_at": "2019-08-27T14:31:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442573",
    "user": "https://github.com/w-bruns"
}
```

<div id="comment:1" align="right">comment:1</div>

For the h<sup>*</sup>-vector o be well-defined, the polytope should have integral vertices. Otherwise there is no canonical choice for the denominator and, hence, the numerator of the Ehrhart series (as a rational function).

At least one should check that the denominator is a power of 1-t.



---

archive/issue_comments_442574.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nReplying to [@w-bruns](#comment:1):\n> For the h<sup>*</sup>-vector o be well-defined, the polytope should have integral vertices. Otherwise there is no canonical choice for the denominator and, hence, the numerator of the Ehrhart series (as a rational function).\n> \n> At least one should check that the denominator is a power of 1-t.\n\nOkay! great, good to know. We'll put this check into the function.",
    "created_at": "2019-08-27T15:10:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442574",
    "user": "https://github.com/jplab"
}
```

<div id="comment:2" align="right">comment:2</div>

Replying to [@w-bruns](#comment:1):
> For the h<sup>*</sup>-vector o be well-defined, the polytope should have integral vertices. Otherwise there is no canonical choice for the denominator and, hence, the numerator of the Ehrhart series (as a rational function).
> 
> At least one should check that the denominator is a power of 1-t.

Okay! great, good to know. We'll put this check into the function.



---

archive/issue_comments_442575.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8606b7e70f94b1c0abbd7af5350ba38d7b17e88a\">8606b7e</a></td><td><code>first changes for h-star function</code></td></tr></table>\n",
    "created_at": "2019-09-10T07:32:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442575",
    "user": "https://github.com/sophiasage"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8606b7e70f94b1c0abbd7af5350ba38d7b17e88a">8606b7e</a></td><td><code>first changes for h-star function</code></td></tr></table>




---

archive/issue_comments_442576.json:
```json
{
    "body": "Branch: **[public/28413](https://github.com/sagemath/sagetrac-mirror/tree/public/28413)**",
    "created_at": "2019-09-10T07:32:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442576",
    "user": "https://github.com/sophiasage"
}
```

Branch: **[public/28413](https://github.com/sagemath/sagetrac-mirror/tree/public/28413)**



---

archive/issue_comments_442577.json:
```json
{
    "body": "Commit: **[`8606b7e`](https://github.com/sagemath/sagetrac-mirror/commit/8606b7e70f94b1c0abbd7af5350ba38d7b17e88a)**",
    "created_at": "2019-09-10T07:32:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442577",
    "user": "https://github.com/sophiasage"
}
```

Commit: **[`8606b7e`](https://github.com/sagemath/sagetrac-mirror/commit/8606b7e70f94b1c0abbd7af5350ba38d7b17e88a)**



---

archive/issue_comments_442578.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nA few comments:\n\n```diff\n\n+ - ``self`` -- A lattice polytope with ``backend`` = 'normaliz'.\n```\n\nI would put the backend comment in a NOTE environment, although I am not completely sure. It would be to be checked in the guidelines.\n\nJust a suggestion:\n\n```diff\n- The h*-vector as a list.\n+ A list whose entries give the h*-vector.\n```\n\n- `simplicies` -> `simplices`\n\nIn the examples, you are only testing one of the 4 and not the four of them.\n\nThe method `_h_star_vector_normaliz(self)` in base should return a `TypeError` (as the volume_normaliz for example) and the function in backend_normaliz should be appended with `_normaliz`.\n\nI would also add a less trivial example, like the 0,1 cube and perhaps hypersimplex? This would be good to get sanity checks. Further, I would include an example that uses a different backend to show even further that it requires normaliz...\n\nOtherwise, looks good!",
    "created_at": "2019-09-11T15:25:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442578",
    "user": "https://github.com/jplab"
}
```

<div id="comment:4" align="right">comment:4</div>

A few comments:

```diff

+ - ``self`` -- A lattice polytope with ``backend`` = 'normaliz'.
```

I would put the backend comment in a NOTE environment, although I am not completely sure. It would be to be checked in the guidelines.

Just a suggestion:

```diff
- The h*-vector as a list.
+ A list whose entries give the h*-vector.
```

- `simplicies` -> `simplices`

In the examples, you are only testing one of the 4 and not the four of them.

The method `_h_star_vector_normaliz(self)` in base should return a `TypeError` (as the volume_normaliz for example) and the function in backend_normaliz should be appended with `_normaliz`.

I would also add a less trivial example, like the 0,1 cube and perhaps hypersimplex? This would be good to get sanity checks. Further, I would include an example that uses a different backend to show even further that it requires normaliz...

Otherwise, looks good!



---

archive/issue_comments_442579.json:
```json
{
    "body": "Changed commit from **[`8606b7e`](https://github.com/sagemath/sagetrac-mirror/commit/8606b7e70f94b1c0abbd7af5350ba38d7b17e88a)** to **[`b9df545`](https://github.com/sagemath/sagetrac-mirror/commit/b9df5455594bf14929f7e7eb32ac12373048431a)**",
    "created_at": "2020-01-20T14:20:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442579",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8606b7e`](https://github.com/sagemath/sagetrac-mirror/commit/8606b7e70f94b1c0abbd7af5350ba38d7b17e88a)** to **[`b9df545`](https://github.com/sagemath/sagetrac-mirror/commit/b9df5455594bf14929f7e7eb32ac12373048431a)**



---

archive/issue_comments_442580.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b9df5455594bf14929f7e7eb32ac12373048431a\">b9df545</a></td><td><code>addressing comments</code></td></tr></table>\n",
    "created_at": "2020-01-20T14:20:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442580",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b9df5455594bf14929f7e7eb32ac12373048431a">b9df545</a></td><td><code>addressing comments</code></td></tr></table>




---

archive/issue_comments_442581.json:
```json
{
    "body": "Dependencies: **#28247**",
    "created_at": "2020-01-20T14:23:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442581",
    "user": "https://github.com/sophiasage"
}
```

Dependencies: **#28247**



---

archive/issue_events_389897.json:
```json
{
    "actor": "https://github.com/sophiasage",
    "created_at": "2020-01-24T08:19:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28413#event-389897"
}
```



---

archive/issue_comments_442582.json:
```json
{
    "body": "Author: **Sophia Elia**",
    "created_at": "2020-01-24T09:36:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442582",
    "user": "https://github.com/jplab"
}
```

Author: **Sophia Elia**



---

archive/issue_comments_442583.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nIt seems there is a merge conflict... Rebase?\n\nIn the `h_star_vector` function, I would not say\n\n```diff\n+        - ``self`` -- A lattice polytope with ``backend`` = 'normaliz'.\n```\n\nbut use a NOTE to say that the backend should be normaliz.\n\nOnce we have the ticket #28880 and follow-up related to double description in normaliz, it will be possible to ignore the backend and simply obtain the relevant information in order to obtain the h_star_vector using normaliz.\n\nThe syntax for math printing should be corrected in:\n\n```diff\n+        The h*-vector of a unimodular simplex S (a simplex with \n-        volume = $\\frac{1}{dim(S)!} ) is always 1. Here we test this on \n-        simplicies up to dimension 4:\n+        volume = `\\frac{1}{(\\dim S)!}`) is always 1. Here we test this on \n+        simplices up to dimension 4::\n```\n\nOnly one of the simplices is tested below:\n\n```diff\n+            sage: s1 = polytopes.simplex(1,backend = 'normaliz')\n+            sage: s2 = polytopes.simplex(2,backend = 'normaliz')\n+            sage: s3 = polytopes.simplex(3,backend = 'normaliz')\n+            sage: s4 = polytopes.simplex(4,backend = 'normaliz')\n+            sage: s3.h_star_vector()\n+            [1]        \n```\n\nWhy not something like:\n\n```\nsage: [polytopes.simplex(i,backend='normaliz').h_star_vector() for i in [1,2,3,4]]\nsage: [[1], [1], [1], [1]]\n```\n\nThe function `_h_star_vector` in `backend_normaliz.py` should be renamed `_h_star_vector_normaliz` and the function `_h_star_vector_normaliz` in `base.py` should return `raise TypeError(\"the backend should be normaliz\")`.\n\nI would also add some more examples that involve known examples where values can be relevant to check the validity.",
    "created_at": "2020-01-24T10:18:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442583",
    "user": "https://github.com/jplab"
}
```

<div id="comment:9" align="right">comment:9</div>

It seems there is a merge conflict... Rebase?

In the `h_star_vector` function, I would not say

```diff
+        - ``self`` -- A lattice polytope with ``backend`` = 'normaliz'.
```

but use a NOTE to say that the backend should be normaliz.

Once we have the ticket #28880 and follow-up related to double description in normaliz, it will be possible to ignore the backend and simply obtain the relevant information in order to obtain the h_star_vector using normaliz.

The syntax for math printing should be corrected in:

```diff
+        The h*-vector of a unimodular simplex S (a simplex with 
-        volume = $\frac{1}{dim(S)!} ) is always 1. Here we test this on 
-        simplicies up to dimension 4:
+        volume = `\frac{1}{(\dim S)!}`) is always 1. Here we test this on 
+        simplices up to dimension 4::
```

Only one of the simplices is tested below:

```diff
+            sage: s1 = polytopes.simplex(1,backend = 'normaliz')
+            sage: s2 = polytopes.simplex(2,backend = 'normaliz')
+            sage: s3 = polytopes.simplex(3,backend = 'normaliz')
+            sage: s4 = polytopes.simplex(4,backend = 'normaliz')
+            sage: s3.h_star_vector()
+            [1]        
```

Why not something like:

```
sage: [polytopes.simplex(i,backend='normaliz').h_star_vector() for i in [1,2,3,4]]
sage: [[1], [1], [1], [1]]
```

The function `_h_star_vector` in `backend_normaliz.py` should be renamed `_h_star_vector_normaliz` and the function `_h_star_vector_normaliz` in `base.py` should return `raise TypeError("the backend should be normaliz")`.

I would also add some more examples that involve known examples where values can be relevant to check the validity.



---

archive/issue_comments_442584.json:
```json
{
    "body": "Reviewer: **Jean-Philippe Labb\u00e9**",
    "created_at": "2020-01-24T10:18:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442584",
    "user": "https://github.com/jplab"
}
```

Reviewer: **Jean-Philippe Labb√©**



---

archive/issue_events_389898.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2020-01-24T10:18:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28413#event-389898"
}
```



---

archive/issue_events_389899.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2020-01-24T10:18:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28413#event-389899"
}
```



---

archive/issue_comments_442585.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI addressed many of these comments in the commit b9df545.",
    "created_at": "2020-01-24T10:23:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442585",
    "user": "https://github.com/sophiasage"
}
```

<div id="comment:10" align="right">comment:10</div>

I addressed many of these comments in the commit b9df545.



---

archive/issue_comments_442586.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI see. Great!\n\nI only looked at the first commit and started writing. Since there's a merge conflict, I couldn't see the final product.\n\nOk, so now it would need a rebase in any case.",
    "created_at": "2020-01-25T11:50:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442586",
    "user": "https://github.com/jplab"
}
```

<div id="comment:11" align="right">comment:11</div>

I see. Great!

I only looked at the first commit and started writing. Since there's a merge conflict, I couldn't see the final product.

Ok, so now it would need a rebase in any case.



---

archive/issue_comments_442587.json:
```json
{
    "body": "Changed commit from **[`b9df545`](https://github.com/sagemath/sagetrac-mirror/commit/b9df5455594bf14929f7e7eb32ac12373048431a)** to **[`73973be`](https://github.com/sagemath/sagetrac-mirror/commit/73973be3a3896e60448cb02a63e9b0ed9a990cab)**",
    "created_at": "2020-01-31T14:57:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442587",
    "user": "https://github.com/sophiasage"
}
```

Changed commit from **[`b9df545`](https://github.com/sagemath/sagetrac-mirror/commit/b9df5455594bf14929f7e7eb32ac12373048431a)** to **[`73973be`](https://github.com/sagemath/sagetrac-mirror/commit/73973be3a3896e60448cb02a63e9b0ed9a990cab)**



---

archive/issue_comments_442588.json:
```json
{
    "body": "Changed branch from **[public/28413](https://github.com/sagemath/sagetrac-mirror/tree/public/28413)** to **[public/28413rebase](https://github.com/sagemath/sagetrac-mirror/tree/public/28413rebase)**",
    "created_at": "2020-01-31T14:57:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442588",
    "user": "https://github.com/sophiasage"
}
```

Changed branch from **[public/28413](https://github.com/sagemath/sagetrac-mirror/tree/public/28413)** to **[public/28413rebase](https://github.com/sagemath/sagetrac-mirror/tree/public/28413rebase)**



---

archive/issue_comments_442589.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/60eafd11bcd86ff150af84ee5a9e25287bfd9a47\">60eafd1</a></td><td><code>idk</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/73973be3a3896e60448cb02a63e9b0ed9a990cab\">73973be</a></td><td><code>addressing comments</code></td></tr></table>\n",
    "created_at": "2020-01-31T14:57:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442589",
    "user": "https://github.com/sophiasage"
}
```

<div id="comment:12"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/60eafd11bcd86ff150af84ee5a9e25287bfd9a47">60eafd1</a></td><td><code>idk</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/73973be3a3896e60448cb02a63e9b0ed9a990cab">73973be</a></td><td><code>addressing comments</code></td></tr></table>




---

archive/issue_comments_442590.json:
```json
{
    "body": "Changed commit from **[`73973be`](https://github.com/sagemath/sagetrac-mirror/commit/73973be3a3896e60448cb02a63e9b0ed9a990cab)** to **[`ab006df`](https://github.com/sagemath/sagetrac-mirror/commit/ab006dff035943b51b472557b346a966c01cf2a5)**",
    "created_at": "2020-01-31T15:07:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442590",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`73973be`](https://github.com/sagemath/sagetrac-mirror/commit/73973be3a3896e60448cb02a63e9b0ed9a990cab)** to **[`ab006df`](https://github.com/sagemath/sagetrac-mirror/commit/ab006dff035943b51b472557b346a966c01cf2a5)**



---

archive/issue_comments_442591.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ab006dff035943b51b472557b346a966c01cf2a5\">ab006df</a></td><td><code>removing ehrhart_quasipolynomial</code></td></tr></table>\n",
    "created_at": "2020-01-31T15:07:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442591",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ab006dff035943b51b472557b346a966c01cf2a5">ab006df</a></td><td><code>removing ehrhart_quasipolynomial</code></td></tr></table>




---

archive/issue_comments_442592.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nYou should also add a line in the tutorials to link to this function.",
    "created_at": "2020-02-04T14:46:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442592",
    "user": "https://github.com/jplab"
}
```

<div id="comment:14" align="right">comment:14</div>

You should also add a line in the tutorials to link to this function.



---

archive/issue_events_389900.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2020-02-14T09:25:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28413#event-389900"
}
```



---

archive/issue_events_389901.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2020-02-14T09:25:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28413#event-389901"
}
```



---

archive/issue_comments_442593.json:
```json
{
    "body": "Changed commit from **[`ab006df`](https://github.com/sagemath/sagetrac-mirror/commit/ab006dff035943b51b472557b346a966c01cf2a5)** to **[`a7f14ce`](https://github.com/sagemath/sagetrac-mirror/commit/a7f14cecab3d5c4c12f1aa235b65b140b4b1152c)**",
    "created_at": "2020-02-14T12:08:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442593",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ab006df`](https://github.com/sagemath/sagetrac-mirror/commit/ab006dff035943b51b472557b346a966c01cf2a5)** to **[`a7f14ce`](https://github.com/sagemath/sagetrac-mirror/commit/a7f14cecab3d5c4c12f1aa235b65b140b4b1152c)**



---

archive/issue_comments_442594.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8f13cac3ff9477b39e9d79c099690eb019f050bd\">8f13cac</a></td><td><code>Merge branch '28247' into 28413</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4cc423189ff499dfe56f9e48f80d845f643296e2\">4cc4231</a></td><td><code>added lines to tutorial and a test</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a7f14cecab3d5c4c12f1aa235b65b140b4b1152c\">a7f14ce</a></td><td><code>Merge branch 'public/28247' of trac.sagemath.org:sage into 28413</code></td></tr></table>\n",
    "created_at": "2020-02-14T12:08:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442594",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8f13cac3ff9477b39e9d79c099690eb019f050bd">8f13cac</a></td><td><code>Merge branch '28247' into 28413</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4cc423189ff499dfe56f9e48f80d845f643296e2">4cc4231</a></td><td><code>added lines to tutorial and a test</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a7f14cecab3d5c4c12f1aa235b65b140b4b1152c">a7f14ce</a></td><td><code>Merge branch 'public/28247' of trac.sagemath.org:sage into 28413</code></td></tr></table>




---

archive/issue_events_389902.json:
```json
{
    "actor": "https://github.com/sophiasage",
    "created_at": "2020-02-14T12:09:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28413#event-389902"
}
```



---

archive/issue_events_389903.json:
```json
{
    "actor": "https://github.com/sophiasage",
    "created_at": "2020-02-14T12:09:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28413#event-389903"
}
```



---

archive/issue_events_389904.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2020-02-15T12:26:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28413#event-389904"
}
```



---

archive/issue_events_389905.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2020-02-15T12:26:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28413#event-389905"
}
```



---

archive/issue_comments_442595.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\n- There are no doctests in the function `_h_star_vector_normaliz` in `backend_normaliz.py`.\n\n  - The documentation does not build:\n   \n   [dochtml] docstring of sage.geometry.polyhedron.base.Polyhedron_base.h_star_vector:22: WARNING: Inline interpreted text or phrase reference start-string without end-string.\n\n   this is caused by the missing space:\n\n```diff\n        OUTPUT:\n\n        The h*-vector as a list.\n\n-        ..NOTE:\n+        .. NOTE:\n\n        The ``backend`` of ``self`` should be ``'normaliz'``.\n```\n\n\nI also suggest to remove the two backticks around the word backend in the docstrings as it is not a parameter of the functions.",
    "created_at": "2020-02-15T12:26:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442595",
    "user": "https://github.com/jplab"
}
```

<div id="comment:18" align="right">comment:18</div>

- There are no doctests in the function `_h_star_vector_normaliz` in `backend_normaliz.py`.

  - The documentation does not build:
   
   [dochtml] docstring of sage.geometry.polyhedron.base.Polyhedron_base.h_star_vector:22: WARNING: Inline interpreted text or phrase reference start-string without end-string.

   this is caused by the missing space:

```diff
        OUTPUT:

        The h*-vector as a list.

-        ..NOTE:
+        .. NOTE:

        The ``backend`` of ``self`` should be ``'normaliz'``.
```


I also suggest to remove the two backticks around the word backend in the docstrings as it is not a parameter of the functions.



---

archive/issue_comments_442596.json:
```json
{
    "body": "Changed commit from **[`a7f14ce`](https://github.com/sagemath/sagetrac-mirror/commit/a7f14cecab3d5c4c12f1aa235b65b140b4b1152c)** to **[`8b8d53d`](https://github.com/sagemath/sagetrac-mirror/commit/8b8d53d9dcd8baaf194d2d5e6c8e5e45249c6830)**",
    "created_at": "2020-02-28T10:06:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442596",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a7f14ce`](https://github.com/sagemath/sagetrac-mirror/commit/a7f14cecab3d5c4c12f1aa235b65b140b4b1152c)** to **[`8b8d53d`](https://github.com/sagemath/sagetrac-mirror/commit/8b8d53d9dcd8baaf194d2d5e6c8e5e45249c6830)**



---

archive/issue_comments_442597.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b8d53d9dcd8baaf194d2d5e6c8e5e45249c6830\">8b8d53d</a></td><td><code>added tests to backend_normaliz and fixed other comments</code></td></tr></table>\n",
    "created_at": "2020-02-28T10:06:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442597",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b8d53d9dcd8baaf194d2d5e6c8e5e45249c6830">8b8d53d</a></td><td><code>added tests to backend_normaliz and fixed other comments</code></td></tr></table>




---

archive/issue_events_389906.json:
```json
{
    "actor": "https://github.com/sophiasage",
    "created_at": "2020-02-28T10:07:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28413#event-389906"
}
```



---

archive/issue_events_389907.json:
```json
{
    "actor": "https://github.com/sophiasage",
    "created_at": "2020-02-28T10:07:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28413#event-389907"
}
```



---

archive/issue_comments_442598.json:
```json
{
    "body": "Changed commit from **[`8b8d53d`](https://github.com/sagemath/sagetrac-mirror/commit/8b8d53d9dcd8baaf194d2d5e6c8e5e45249c6830)** to **[`48d2a6f`](https://github.com/sagemath/sagetrac-mirror/commit/48d2a6f740428ae4b4c5dc9d431fa73976bd0687)**",
    "created_at": "2020-02-28T12:40:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442598",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8b8d53d`](https://github.com/sagemath/sagetrac-mirror/commit/8b8d53d9dcd8baaf194d2d5e6c8e5e45249c6830)** to **[`48d2a6f`](https://github.com/sagemath/sagetrac-mirror/commit/48d2a6f740428ae4b4c5dc9d431fa73976bd0687)**



---

archive/issue_comments_442599.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48d2a6f740428ae4b4c5dc9d431fa73976bd0687\">48d2a6f</a></td><td><code>fix documentation</code></td></tr></table>\n",
    "created_at": "2020-02-28T12:40:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442599",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48d2a6f740428ae4b4c5dc9d431fa73976bd0687">48d2a6f</a></td><td><code>fix documentation</code></td></tr></table>




---

archive/issue_comments_442600.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nLooks good to me now. Tests are passing and the documentation now seems to builds too.",
    "created_at": "2020-02-28T22:55:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442600",
    "user": "https://github.com/jplab"
}
```

<div id="comment:22" align="right">comment:22</div>

Looks good to me now. Tests are passing and the documentation now seems to builds too.



---

archive/issue_events_389908.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2020-02-28T22:55:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28413#event-389908"
}
```



---

archive/issue_events_389909.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2020-02-28T22:55:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28413#event-389909"
}
```



---

archive/issue_comments_442601.json:
```json
{
    "body": "Changed branch from **[public/28413rebase](https://github.com/sagemath/sagetrac-mirror/tree/public/28413rebase)** to **[`48d2a6f`](https://github.com/sagemath/sagetrac-mirror/commit/48d2a6f740428ae4b4c5dc9d431fa73976bd0687)**",
    "created_at": "2020-03-01T23:46:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28413#issuecomment-442601",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/28413rebase](https://github.com/sagemath/sagetrac-mirror/tree/public/28413rebase)** to **[`48d2a6f`](https://github.com/sagemath/sagetrac-mirror/commit/48d2a6f740428ae4b4c5dc9d431fa73976bd0687)**



---

archive/issue_events_389910.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-03-01T23:46:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28413#event-389910"
}
```



---

archive/issue_events_389911.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "10f1a2aa6813be40aba0af9c739fe280bc585b36",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-03-01T23:46:04Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28413",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28413#event-389911"
}
```
