# Issue 28149: Implement compact real forms for matrix Lie algebras

archive/issues_027912.json:
```json
{
    "body": "Because they are interesting and are useful.\n\nCC:  @bsalisbury1 @fchapoton\n\nKeywords: lie algebras, fpsac2019\n\nBranch/Commit: [4adf53b410b178cfc39b24678af9f579a8b2dc40](https://github.com/sagemath/sagetrac-mirror/commit/4adf53b410b178cfc39b24678af9f579a8b2dc40)\n\nReviewer: Ben Salisbury, Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Travis Scrimshaw\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/28149\n\n",
    "closed_at": "2019-07-20T09:10:48Z",
    "created_at": "2019-07-09T22:20:52Z",
    "labels": [
        "component: algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.9",
    "title": "Implement compact real forms for matrix Lie algebras",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28149",
    "user": "https://github.com/tscrim"
}
```
Because they are interesting and are useful.

CC:  @bsalisbury1 @fchapoton

Keywords: lie algebras, fpsac2019

Branch/Commit: [4adf53b410b178cfc39b24678af9f579a8b2dc40](https://github.com/sagemath/sagetrac-mirror/commit/4adf53b410b178cfc39b24678af9f579a8b2dc40)

Reviewer: Ben Salisbury, Frédéric Chapoton

Author: Travis Scrimshaw

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/28149





---

archive/issue_comments_546717.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-07-09T22:21:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546717",
    "user": "https://github.com/tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_546718.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                                                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------|\n|[1fb62d7](https://github.com/sagemath/sagetrac-mirror/commit/1fb62d7693b3d3a4084be40c6f9a36ce6af9e85c)|`Implementation of compact real forms for classical matrix Lie algebras.`|",
    "created_at": "2019-07-09T22:21:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546718",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                                                         |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------|
|[1fb62d7](https://github.com/sagemath/sagetrac-mirror/commit/1fb62d7693b3d3a4084be40c6f9a36ce6af9e85c)|`Implementation of compact real forms for classical matrix Lie algebras.`|



---

archive/issue_comments_546719.json:
```json
{
    "body": "Commit: [1fb62d7693b3d3a4084be40c6f9a36ce6af9e85c](https://github.com/sagemath/sagetrac-mirror/commit/1fb62d7693b3d3a4084be40c6f9a36ce6af9e85c)",
    "created_at": "2019-07-09T22:21:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546719",
    "user": "https://github.com/tscrim"
}
```

Commit: [1fb62d7693b3d3a4084be40c6f9a36ce6af9e85c](https://github.com/sagemath/sagetrac-mirror/commit/1fb62d7693b3d3a4084be40c6f9a36ce6af9e85c)



---

archive/issue_comments_546720.json:
```json
{
    "body": "Branch: [public/lie_algebras/compact_real_form-28149](https://github.com/sagemath/sagetrac-mirror/tree/public/lie_algebras/compact_real_form-28149)",
    "created_at": "2019-07-09T22:21:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546720",
    "user": "https://github.com/tscrim"
}
```

Branch: [public/lie_algebras/compact_real_form-28149](https://github.com/sagemath/sagetrac-mirror/tree/public/lie_algebras/compact_real_form-28149)



---

archive/issue_comments_546721.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|\n|[23f0930](https://github.com/sagemath/sagetrac-mirror/commit/23f093076a47c77127c326a697c2db4dec3b1b23)|`Added su to Lie algebra examples.`|",
    "created_at": "2019-07-10T07:12:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546721",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|
|[23f0930](https://github.com/sagemath/sagetrac-mirror/commit/23f093076a47c77127c326a697c2db4dec3b1b23)|`Added su to Lie algebra examples.`|



---

archive/issue_comments_546722.json:
```json
{
    "body": "Changing commit from \"[1fb62d7693b3d3a4084be40c6f9a36ce6af9e85c](https://github.com/sagemath/sagetrac-mirror/commit/1fb62d7693b3d3a4084be40c6f9a36ce6af9e85c)\" to \"[23f093076a47c77127c326a697c2db4dec3b1b23](https://github.com/sagemath/sagetrac-mirror/commit/23f093076a47c77127c326a697c2db4dec3b1b23)\"",
    "created_at": "2019-07-10T07:12:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546722",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[1fb62d7693b3d3a4084be40c6f9a36ce6af9e85c](https://github.com/sagemath/sagetrac-mirror/commit/1fb62d7693b3d3a4084be40c6f9a36ce6af9e85c)" to "[23f093076a47c77127c326a697c2db4dec3b1b23](https://github.com/sagemath/sagetrac-mirror/commit/23f093076a47c77127c326a697c2db4dec3b1b23)"



---

archive/issue_comments_546723.json:
```json
{
    "body": "Changing commit from \"[23f093076a47c77127c326a697c2db4dec3b1b23](https://github.com/sagemath/sagetrac-mirror/commit/23f093076a47c77127c326a697c2db4dec3b1b23)\" to \"[e72b7c92e88f16212f8f7bb347ea2e4ca37e3b75](https://github.com/sagemath/sagetrac-mirror/commit/e72b7c92e88f16212f8f7bb347ea2e4ca37e3b75)\"",
    "created_at": "2019-07-10T08:00:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546723",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[23f093076a47c77127c326a697c2db4dec3b1b23](https://github.com/sagemath/sagetrac-mirror/commit/23f093076a47c77127c326a697c2db4dec3b1b23)" to "[e72b7c92e88f16212f8f7bb347ea2e4ca37e3b75](https://github.com/sagemath/sagetrac-mirror/commit/e72b7c92e88f16212f8f7bb347ea2e4ca37e3b75)"



---

archive/issue_comments_546724.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|\n|[e72b7c9](https://github.com/sagemath/sagetrac-mirror/commit/e72b7c92e88f16212f8f7bb347ea2e4ca37e3b75)|`Doing some more documentation and small fixes.`|",
    "created_at": "2019-07-10T08:00:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546724",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------|
|[e72b7c9](https://github.com/sagemath/sagetrac-mirror/commit/e72b7c92e88f16212f8f7bb347ea2e4ca37e3b75)|`Doing some more documentation and small fixes.`|



---

archive/issue_comments_546725.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------|\n|[0bea719](https://github.com/sagemath/sagetrac-mirror/commit/0bea719109fea6083d74477cc631855fc1d34f73)|`Merge branch 'develop' into t/28149/public/lie_algebras/compact_real_form-28149`|\n|[429e156](https://github.com/sagemath/sagetrac-mirror/commit/429e156c0180e7dc87a7d9ef4b76ca53cdb45466)|`editorial changes`|",
    "created_at": "2019-07-10T21:36:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546725",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------|
|[0bea719](https://github.com/sagemath/sagetrac-mirror/commit/0bea719109fea6083d74477cc631855fc1d34f73)|`Merge branch 'develop' into t/28149/public/lie_algebras/compact_real_form-28149`|
|[429e156](https://github.com/sagemath/sagetrac-mirror/commit/429e156c0180e7dc87a7d9ef4b76ca53cdb45466)|`editorial changes`|



---

archive/issue_comments_546726.json:
```json
{
    "body": "Changing commit from \"[e72b7c92e88f16212f8f7bb347ea2e4ca37e3b75](https://github.com/sagemath/sagetrac-mirror/commit/e72b7c92e88f16212f8f7bb347ea2e4ca37e3b75)\" to \"[429e156c0180e7dc87a7d9ef4b76ca53cdb45466](https://github.com/sagemath/sagetrac-mirror/commit/429e156c0180e7dc87a7d9ef4b76ca53cdb45466)\"",
    "created_at": "2019-07-10T21:36:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546726",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[e72b7c92e88f16212f8f7bb347ea2e4ca37e3b75](https://github.com/sagemath/sagetrac-mirror/commit/e72b7c92e88f16212f8f7bb347ea2e4ca37e3b75)" to "[429e156c0180e7dc87a7d9ef4b76ca53cdb45466](https://github.com/sagemath/sagetrac-mirror/commit/429e156c0180e7dc87a7d9ef4b76ca53cdb45466)"



---

archive/issue_comments_546727.json:
```json
{
    "body": "Reviewer: Ben Salisbury",
    "created_at": "2019-07-10T21:38:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546727",
    "user": "https://github.com/bsalisbury1"
}
```

Reviewer: Ben Salisbury



---

archive/issue_comments_546728.json:
```json
{
    "body": "<a id='comment:6'></a>\nHi Travis,\n\nI made some small changes to the documentation.  If you are okay with these changes, you may set this to positive review on my behalf.\n\n~Ben",
    "created_at": "2019-07-10T21:38:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546728",
    "user": "https://github.com/bsalisbury1"
}
```

<a id='comment:6'></a>
Hi Travis,

I made some small changes to the documentation.  If you are okay with these changes, you may set this to positive review on my behalf.

~Ben



---

archive/issue_comments_546729.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-07-10T21:44:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546729",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_546730.json:
```json
{
    "body": "<a id='comment:7'></a>\nThank you!",
    "created_at": "2019-07-10T21:44:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546730",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>
Thank you!



---

archive/issue_comments_546731.json:
```json
{
    "body": "<a id='comment:8'></a>\nOn Python 3:\n\n```\nsage -t --long src/sage/algebras/lie_algebras/classical_lie_algebra.py\n**********************************************************************\nFile \"src/sage/algebras/lie_algebras/classical_lie_algebra.py\", line 1202, in sage.algebras.lie_algebras.classical_lie_algebra.MatrixCompactRealForm.Element._richcmp_\nFailed example:\n    sorted(L.basis())\nException raised:\n    Traceback (most recent call last):\n      File \"/var/lib/buildbot/slave/sage3_git/build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 681, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/var/lib/buildbot/slave/sage3_git/build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1105, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.algebras.lie_algebras.classical_lie_algebra.MatrixCompactRealForm.Element._richcmp_[1]>\", line 1, in <module>\n        sorted(L.basis())\n      File \"sage/structure/element.pyx\", line 1091, in sage.structure.element.Element.__richcmp__ (build/cythonized/sage/structure/element.c:9923)\n        return (<Element>self)._richcmp_(other, op)\n      File \"sage/structure/element.pyx\", line 1095, in sage.structure.element.Element._richcmp_ (build/cythonized/sage/structure/element.c:10030)\n        cpdef _richcmp_(left, right, int op):\n      File \"/var/lib/buildbot/slave/sage3_git/build/local/lib/python3.7/site-packages/sage/algebras/lie_algebras/classical_lie_algebra.py\", line 1208, in _richcmp_\n        return richcmp((self._real, self._imag), (other._real, other._imag), op)\n      File \"sage/structure/richcmp.pxd\", line 6, in sage.structure.richcmp.richcmp (build/cythonized/sage/structure/richcmp.c:3043)\n        cpdef inline richcmp(x, y, int op):\n      File \"sage/structure/richcmp.pxd\", line 50, in sage.structure.richcmp.richcmp (build/cythonized/sage/structure/richcmp.c:2939)\n        return PyObject_RichCompare(x, y, op)\n      File \"sage/structure/element.pyx\", line 1091, in sage.structure.element.Element.__richcmp__ (build/cythonized/sage/structure/element.c:9923)\n        return (<Element>self)._richcmp_(other, op)\n      File \"sage/matrix/matrix_sparse.pyx\", line 373, in sage.matrix.matrix_sparse.Matrix_sparse._richcmp_ (build/cythonized/sage/matrix/matrix_sparse.c:5799)\n        return richcmp(self._dict(), right._dict(), op)\n      File \"sage/structure/richcmp.pxd\", line 50, in sage.structure.richcmp.richcmp (build/cythonized/sage/matrix/matrix_sparse.c:14822)\n        return PyObject_RichCompare(x, y, op)\n    TypeError: '<' not supported between instances of 'dict' and 'dict'\n**********************************************************************\n1 item had failures:\n   1 of   3 in sage.algebras.lie_algebras.classical_lie_algebra.MatrixCompactRealForm.Element._richcmp_\n    [210 tests, 1 failure, 47.86 s]\n```",
    "created_at": "2019-07-12T19:05:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546731",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:8'></a>
On Python 3:

```
sage -t --long src/sage/algebras/lie_algebras/classical_lie_algebra.py
**********************************************************************
File "src/sage/algebras/lie_algebras/classical_lie_algebra.py", line 1202, in sage.algebras.lie_algebras.classical_lie_algebra.MatrixCompactRealForm.Element._richcmp_
Failed example:
    sorted(L.basis())
Exception raised:
    Traceback (most recent call last):
      File "/var/lib/buildbot/slave/sage3_git/build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 681, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/var/lib/buildbot/slave/sage3_git/build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1105, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.algebras.lie_algebras.classical_lie_algebra.MatrixCompactRealForm.Element._richcmp_[1]>", line 1, in <module>
        sorted(L.basis())
      File "sage/structure/element.pyx", line 1091, in sage.structure.element.Element.__richcmp__ (build/cythonized/sage/structure/element.c:9923)
        return (<Element>self)._richcmp_(other, op)
      File "sage/structure/element.pyx", line 1095, in sage.structure.element.Element._richcmp_ (build/cythonized/sage/structure/element.c:10030)
        cpdef _richcmp_(left, right, int op):
      File "/var/lib/buildbot/slave/sage3_git/build/local/lib/python3.7/site-packages/sage/algebras/lie_algebras/classical_lie_algebra.py", line 1208, in _richcmp_
        return richcmp((self._real, self._imag), (other._real, other._imag), op)
      File "sage/structure/richcmp.pxd", line 6, in sage.structure.richcmp.richcmp (build/cythonized/sage/structure/richcmp.c:3043)
        cpdef inline richcmp(x, y, int op):
      File "sage/structure/richcmp.pxd", line 50, in sage.structure.richcmp.richcmp (build/cythonized/sage/structure/richcmp.c:2939)
        return PyObject_RichCompare(x, y, op)
      File "sage/structure/element.pyx", line 1091, in sage.structure.element.Element.__richcmp__ (build/cythonized/sage/structure/element.c:9923)
        return (<Element>self)._richcmp_(other, op)
      File "sage/matrix/matrix_sparse.pyx", line 373, in sage.matrix.matrix_sparse.Matrix_sparse._richcmp_ (build/cythonized/sage/matrix/matrix_sparse.c:5799)
        return richcmp(self._dict(), right._dict(), op)
      File "sage/structure/richcmp.pxd", line 50, in sage.structure.richcmp.richcmp (build/cythonized/sage/matrix/matrix_sparse.c:14822)
        return PyObject_RichCompare(x, y, op)
    TypeError: '<' not supported between instances of 'dict' and 'dict'
**********************************************************************
1 item had failures:
   1 of   3 in sage.algebras.lie_algebras.classical_lie_algebra.MatrixCompactRealForm.Element._richcmp_
    [210 tests, 1 failure, 47.86 s]
```



---

archive/issue_comments_546732.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2019-07-12T19:05:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546732",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_546733.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------|\n|[bf3c240](https://github.com/sagemath/sagetrac-mirror/commit/bf3c240e84afd7c53672afa7401d7e20e2d72d9f)|`More explicit comparisons for sparse matrices (for Python3).`|",
    "created_at": "2019-07-13T16:00:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546733",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------|
|[bf3c240](https://github.com/sagemath/sagetrac-mirror/commit/bf3c240e84afd7c53672afa7401d7e20e2d72d9f)|`More explicit comparisons for sparse matrices (for Python3).`|



---

archive/issue_comments_546734.json:
```json
{
    "body": "Changing commit from \"[429e156c0180e7dc87a7d9ef4b76ca53cdb45466](https://github.com/sagemath/sagetrac-mirror/commit/429e156c0180e7dc87a7d9ef4b76ca53cdb45466)\" to \"[bf3c240e84afd7c53672afa7401d7e20e2d72d9f](https://github.com/sagemath/sagetrac-mirror/commit/bf3c240e84afd7c53672afa7401d7e20e2d72d9f)\"",
    "created_at": "2019-07-13T16:00:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546734",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[429e156c0180e7dc87a7d9ef4b76ca53cdb45466](https://github.com/sagemath/sagetrac-mirror/commit/429e156c0180e7dc87a7d9ef4b76ca53cdb45466)" to "[bf3c240e84afd7c53672afa7401d7e20e2d72d9f](https://github.com/sagemath/sagetrac-mirror/commit/bf3c240e84afd7c53672afa7401d7e20e2d72d9f)"



---

archive/issue_comments_546735.json:
```json
{
    "body": "<a id='comment:10'></a>\nThe root cause is that `dict`'s are incomparable on Python3, which means sparse matrices are incomparable, unlike dense matrices. So I changed how comparisons are done for sparse matrices, which is why I put you in cc Fr\u00e9d\u00e9ric.",
    "created_at": "2019-07-13T16:01:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546735",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'></a>
The root cause is that `dict`'s are incomparable on Python3, which means sparse matrices are incomparable, unlike dense matrices. So I changed how comparisons are done for sparse matrices, which is why I put you in cc Frédéric.



---

archive/issue_comments_546736.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-07-13T16:01:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546736",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_546737.json:
```json
{
    "body": "Changing commit from \"[bf3c240e84afd7c53672afa7401d7e20e2d72d9f](https://github.com/sagemath/sagetrac-mirror/commit/bf3c240e84afd7c53672afa7401d7e20e2d72d9f)\" to \"[8afd478fbbcac4e7763a4f2e73ce2a0c8571cb2e](https://github.com/sagemath/sagetrac-mirror/commit/8afd478fbbcac4e7763a4f2e73ce2a0c8571cb2e)\"",
    "created_at": "2019-07-17T15:17:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546737",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[bf3c240e84afd7c53672afa7401d7e20e2d72d9f](https://github.com/sagemath/sagetrac-mirror/commit/bf3c240e84afd7c53672afa7401d7e20e2d72d9f)" to "[8afd478fbbcac4e7763a4f2e73ce2a0c8571cb2e](https://github.com/sagemath/sagetrac-mirror/commit/8afd478fbbcac4e7763a4f2e73ce2a0c8571cb2e)"



---

archive/issue_comments_546738.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|\n|[8afd478](https://github.com/sagemath/sagetrac-mirror/commit/8afd478fbbcac4e7763a4f2e73ce2a0c8571cb2e)|`Fixing last doctest.`|",
    "created_at": "2019-07-17T15:17:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546738",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
|[8afd478](https://github.com/sagemath/sagetrac-mirror/commit/8afd478fbbcac4e7763a4f2e73ce2a0c8571cb2e)|`Fixing last doctest.`|



---

archive/issue_comments_546739.json:
```json
{
    "body": "<a id='comment:12'></a>\n(Now) Passes all doctests. Can someone review the last two changes? Should be quick.",
    "created_at": "2019-07-17T15:19:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546739",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>
(Now) Passes all doctests. Can someone review the last two changes? Should be quick.



---

archive/issue_comments_546740.json:
```json
{
    "body": "<a id='comment:13'></a>\n* some pyflakes warnings, see last patchbot (only 2 fixable ones)\n\n* typo \"tranposes\"\n\n* here the brackets can be removed, I think: \n`+        names = tuple(['CR%s'%s for s in range(dim)])`\n\nOtherwise, looks good. You can set to positive once the above is fixed.",
    "created_at": "2019-07-17T19:16:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546740",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>
* some pyflakes warnings, see last patchbot (only 2 fixable ones)

* typo "tranposes"

* here the brackets can be removed, I think: 
`+        names = tuple(['CR%s'%s for s in range(dim)])`

Otherwise, looks good. You can set to positive once the above is fixed.



---

archive/issue_comments_546741.json:
```json
{
    "body": "Changing reviewer from \"Ben Salisbury\" to \"Ben Salisbury, Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2019-07-17T19:20:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546741",
    "user": "https://github.com/fchapoton"
}
```

Changing reviewer from "Ben Salisbury" to "Ben Salisbury, Frédéric Chapoton"



---

archive/issue_comments_546742.json:
```json
{
    "body": "Changing commit from \"[8afd478fbbcac4e7763a4f2e73ce2a0c8571cb2e](https://github.com/sagemath/sagetrac-mirror/commit/8afd478fbbcac4e7763a4f2e73ce2a0c8571cb2e)\" to \"[4adf53b410b178cfc39b24678af9f579a8b2dc40](https://github.com/sagemath/sagetrac-mirror/commit/4adf53b410b178cfc39b24678af9f579a8b2dc40)\"",
    "created_at": "2019-07-17T20:10:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546742",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[8afd478fbbcac4e7763a4f2e73ce2a0c8571cb2e](https://github.com/sagemath/sagetrac-mirror/commit/8afd478fbbcac4e7763a4f2e73ce2a0c8571cb2e)" to "[4adf53b410b178cfc39b24678af9f579a8b2dc40](https://github.com/sagemath/sagetrac-mirror/commit/4adf53b410b178cfc39b24678af9f579a8b2dc40)"



---

archive/issue_comments_546743.json:
```json
{
    "body": "<a id='comment:15'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|\n|[4adf53b](https://github.com/sagemath/sagetrac-mirror/commit/4adf53b410b178cfc39b24678af9f579a8b2dc40)|`Final tidbits from Frederic.`|",
    "created_at": "2019-07-17T20:10:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546743",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|
|[4adf53b](https://github.com/sagemath/sagetrac-mirror/commit/4adf53b410b178cfc39b24678af9f579a8b2dc40)|`Final tidbits from Frederic.`|



---

archive/issue_comments_546744.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-07-17T20:11:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546744",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_546745.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [chapoton](#comment%3A13):\n> * some pyflakes warnings, see last patchbot (only 2 fixable ones)\n\n\nFixed.\n\n> * typo \"tranposes\"\n\n\nFixed.\n\n> * here the brackets can be removed, I think: \n> `+        names = tuple(['CR%s'%s for s in range(dim)])`\n\n\nIt is actually slightly faster to have the brackets. I think internally Python has some optimization for constructing tuples from lists.\n\n> Otherwise, looks good. You can set to positive once the above is fixed.\n\n\nThank you. I am allowing myself to set this to a positive review.",
    "created_at": "2019-07-17T20:11:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546745",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:16'></a>
Replying to [chapoton](#comment%3A13):
> * some pyflakes warnings, see last patchbot (only 2 fixable ones)


Fixed.

> * typo "tranposes"


Fixed.

> * here the brackets can be removed, I think: 
> `+        names = tuple(['CR%s'%s for s in range(dim)])`


It is actually slightly faster to have the brackets. I think internally Python has some optimization for constructing tuples from lists.

> Otherwise, looks good. You can set to positive once the above is fixed.


Thank you. I am allowing myself to set this to a positive review.



---

archive/issue_events_079192.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-20T09:10:48Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28149#event-79192"
}
```



---

archive/issue_comments_546746.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-07-20T09:10:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546746",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_546747.json:
```json
{
    "body": "Changing branch from \"[public/lie_algebras/compact_real_form-28149](https://github.com/sagemath/sagetrac-mirror/tree/public/lie_algebras/compact_real_form-28149)\" to \"[4adf53b410b178cfc39b24678af9f579a8b2dc40](https://github.com/sagemath/sagetrac-mirror/commit/4adf53b410b178cfc39b24678af9f579a8b2dc40)\"",
    "created_at": "2019-07-20T09:10:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28149",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28149#issuecomment-546747",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "[public/lie_algebras/compact_real_form-28149](https://github.com/sagemath/sagetrac-mirror/tree/public/lie_algebras/compact_real_form-28149)" to "[4adf53b410b178cfc39b24678af9f579a8b2dc40](https://github.com/sagemath/sagetrac-mirror/commit/4adf53b410b178cfc39b24678af9f579a8b2dc40)"
