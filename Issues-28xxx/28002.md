# Issue 28002: py3: last test in tests/cmdline.py

archive/issues_027765.json:
```json
{
    "assignees": [],
    "body": "The fix is to ignore deprecation warnings about `collections.abc`. This already done in `src/sage/all.py`. At some point, this should be fixed throughout the Sage library, but that's for another ticket.\n\n\nBranch/Commit: **[`8712a2f`](https://github.com/sagemath/sagetrac-mirror/commit/8712a2fab3fbab9944a4a08fc670515bd0b39ff2)**\n\nReviewer: **Fr\u00e9d\u00e9ric Chapoton**\n\nAuthor: **John Palmieri**\n\nComponent: **python3**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/28002_\n\n",
    "closed_at": "2019-06-28T04:30:04Z",
    "created_at": "2019-06-17T03:35:00Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20python3",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "py3: last test in tests/cmdline.py",
    "type": "issue",
    "updated_at": "2019-07-03T11:34:48Z",
    "url": "https://github.com/sagemath/sage/issues/28002",
    "user": "https://github.com/jhpalmieri"
}
```
The fix is to ignore deprecation warnings about `collections.abc`. This already done in `src/sage/all.py`. At some point, this should be fixed throughout the Sage library, but that's for another ticket.


Branch/Commit: **[`8712a2f`](https://github.com/sagemath/sagetrac-mirror/commit/8712a2fab3fbab9944a4a08fc670515bd0b39ff2)**

Reviewer: **Frédéric Chapoton**

Author: **John Palmieri**

Component: **python3**

_Issue created by migration from https://trac.sagemath.org/ticket/28002_





---

archive/issue_events_384015.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2019-06-17T03:35:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28002",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28002#event-384015"
}
```



---

archive/issue_events_384016.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2019-06-17T03:35:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28002",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20python3",
    "label_color": "000080",
    "label_name": "c: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28002#event-384016"
}
```



---

archive/issue_events_384017.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2019-06-17T03:35:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28002",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28002#event-384017"
}
```



---

archive/issue_events_384018.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2019-06-17T03:35:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28002",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28002#event-384018"
}
```



---

archive/issue_comments_435773.json:
```json
{
    "body": "Branch: **[u/jhpalmieri/cmdline-py3](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/cmdline-py3)**",
    "created_at": "2019-06-17T03:35:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28002#issuecomment-435773",
    "user": "https://github.com/jhpalmieri"
}
```

Branch: **[u/jhpalmieri/cmdline-py3](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/cmdline-py3)**



---

archive/issue_comments_435774.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8712a2fab3fbab9944a4a08fc670515bd0b39ff2\"><code>8712a2f</code></a></td><td><code>trac 28002: in sage-startuptime.py, ignore collections.abc deprecation</code></td></tr></table>\n",
    "created_at": "2019-06-17T03:42:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28002#issuecomment-435774",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8712a2fab3fbab9944a4a08fc670515bd0b39ff2"><code>8712a2f</code></a></td><td><code>trac 28002: in sage-startuptime.py, ignore collections.abc deprecation</code></td></tr></table>




---

archive/issue_events_384019.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2019-06-17T03:42:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28002",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28002#event-384019"
}
```



---

archive/issue_comments_435775.json:
```json
{
    "body": "Commit: **[`8712a2f`](https://github.com/sagemath/sagetrac-mirror/commit/8712a2fab3fbab9944a4a08fc670515bd0b39ff2)**",
    "created_at": "2019-06-17T03:42:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28002#issuecomment-435775",
    "user": "https://github.com/jhpalmieri"
}
```

Commit: **[`8712a2f`](https://github.com/sagemath/sagetrac-mirror/commit/8712a2fab3fbab9944a4a08fc670515bd0b39ff2)**



---

archive/issue_comments_435776.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nRegarding imports of `collections.abc` and the deprecation warning: it seems to come as much from places like `matplotlib` than from the actual Sage library. So maybe the problem will get fixed as we update the various Sage packages.",
    "created_at": "2019-06-17T03:49:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28002#issuecomment-435776",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:3" align="right">comment:3</div>

Regarding imports of `collections.abc` and the deprecation warning: it seems to come as much from places like `matplotlib` than from the actual Sage library. So maybe the problem will get fixed as we update the various Sage packages.



---

archive/issue_events_384020.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-06-17T09:54:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28002",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28002#event-384020"
}
```



---

archive/issue_events_384021.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-06-17T09:54:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28002",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28002#event-384021"
}
```



---

archive/issue_comments_435777.json:
```json
{
    "body": "Reviewer: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2019-06-17T09:54:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28002#issuecomment-435777",
    "user": "https://github.com/fchapoton"
}
```

Reviewer: **Frédéric Chapoton**



---

archive/issue_comments_435778.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nok, thx. Is there a way to make sure that sage itself is not responsible for any of these warnings ?",
    "created_at": "2019-06-17T09:54:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28002#issuecomment-435778",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:4" align="right">comment:4</div>

ok, thx. Is there a way to make sure that sage itself is not responsible for any of these warnings ?



---

archive/issue_comments_435779.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nBoth\n\n```\ngrep -R \"import collections.*abc\" src/sage src/sage_setup src/doc\n```\nand\n\n```\ngrep -R \"from collections.*import.*abc\" src/sage src/sage_setup src/doc\n```\ncome up empty. I tried turning off the warnings in `src/sage/all.py`, and when I ran a few doctests, I got a warning from `matplotlib`. I don't know what else to try to do to check.",
    "created_at": "2019-06-17T17:40:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28002#issuecomment-435779",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:5" align="right">comment:5</div>

Both

```
grep -R "import collections.*abc" src/sage src/sage_setup src/doc
```
and

```
grep -R "from collections.*import.*abc" src/sage src/sage_setup src/doc
```
come up empty. I tried turning off the warnings in `src/sage/all.py`, and when I ran a few doctests, I got a warning from `matplotlib`. I don't know what else to try to do to check.



---

archive/issue_comments_435780.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nOk, then we will see later when we upgrade matplotlib.\n\nBy the way, do you know \"git grep\" ? Useful tool, in my opinion. Only search in the files under git control.",
    "created_at": "2019-06-17T18:04:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28002#issuecomment-435780",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:6" align="right">comment:6</div>

Ok, then we will see later when we upgrade matplotlib.

By the way, do you know "git grep" ? Useful tool, in my opinion. Only search in the files under git control.



---

archive/issue_comments_435781.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@fchapoton](#comment:6):\n> Ok, then we will see later when we upgrade matplotlib.\n> \n> By the way, do you know \"git grep\" ? Useful tool, in my opinion. Only search in the files under git control.\n\nNo, I didn't know, thanks for pointing it out.",
    "created_at": "2019-06-17T19:06:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28002#issuecomment-435781",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@fchapoton](#comment:6):
> Ok, then we will see later when we upgrade matplotlib.
> 
> By the way, do you know "git grep" ? Useful tool, in my opinion. Only search in the files under git control.

No, I didn't know, thanks for pointing it out.



---

archive/issue_comments_435782.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nSee also #28012.",
    "created_at": "2019-06-19T00:22:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28002#issuecomment-435782",
    "user": "https://github.com/slel"
}
```

<div id="comment:8" align="right">comment:8</div>

See also #28012.



---

archive/issue_events_384022.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-06-28T04:30:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28002",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28002#event-384022"
}
```



---

archive/issue_events_384023.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "60680449ca8b6588b2f12abff5ff9bd5f3936cac",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-06-28T04:30:04Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28002",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28002#event-384023"
}
```



---

archive/issue_comments_435783.json:
```json
{
    "body": "Changed branch from **[u/jhpalmieri/cmdline-py3](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/cmdline-py3)** to **[`8712a2f`](https://github.com/sagemath/sagetrac-mirror/commit/8712a2fab3fbab9944a4a08fc670515bd0b39ff2)**",
    "created_at": "2019-06-28T04:30:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28002#issuecomment-435783",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jhpalmieri/cmdline-py3](https://github.com/sagemath/sagetrac-mirror/tree/u/jhpalmieri/cmdline-py3)** to **[`8712a2f`](https://github.com/sagemath/sagetrac-mirror/commit/8712a2fab3fbab9944a4a08fc670515bd0b39ff2)**



---

archive/issue_comments_435784.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nNot in Sage 8.8.  Let's please to try keep tickets' milestones related to the release in which we actually intend to include them, and in particular the release in which they were *actually* included, especially when closing tickets.",
    "created_at": "2019-07-03T11:34:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28002",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28002#issuecomment-435784",
    "user": "https://github.com/embray"
}
```

<div id="comment:10" align="right">comment:10</div>

Not in Sage 8.8.  Let's please to try keep tickets' milestones related to the release in which we actually intend to include them, and in particular the release in which they were *actually* included, especially when closing tickets.



---

archive/issue_events_384024.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:34:48Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28002",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28002#event-384024"
}
```



---

archive/issue_events_384025.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:34:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28002",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28002#event-384025"
}
```
