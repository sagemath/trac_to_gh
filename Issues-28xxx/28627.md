# Issue 28627: Lazy OEIS sequences

archive/issues_028390.json:
```json
{
    "body": "We make the `OEISSequences` be (uniquely) defined as long as their ID (A-number) is known, and connect to the internet as late as possible.\n\n\nCC:  @fchapoton @mo271 @videlec @seblabbe\n\nBranch/Commit: ecd06dd657ce0f97145af394fb2724565751f0fc\n\nReviewer: S\u00e9bastien Labb\u00e9\n\nAuthor: Thierry Monteil\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/28627\n\n",
    "closed_at": "2019-11-30T13:36:34Z",
    "created_at": "2019-10-18T10:45:52Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.0",
    "title": "Lazy OEIS sequences",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28627",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```
We make the `OEISSequences` be (uniquely) defined as long as their ID (A-number) is known, and connect to the internet as late as possible.


CC:  @fchapoton @mo271 @videlec @seblabbe

Branch/Commit: ecd06dd657ce0f97145af394fb2724565751f0fc

Reviewer: Sébastien Labbé

Author: Thierry Monteil

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/28627





---

archive/issue_comments_555684.json:
```json
{
    "body": "Changing branch from \"\" to \"u/tmonteil/lazy_oeis_sequences\"",
    "created_at": "2019-10-18T15:05:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28627#issuecomment-555684",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing branch from "" to "u/tmonteil/lazy_oeis_sequences"



---

archive/issue_comments_555685.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-10-18T15:07:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28627#issuecomment-555685",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_555686.json:
```json
{
    "body": "Changing commit from \"\" to \"446af9801c51e8b9d20cd5176bad6d9d494e57ce\"",
    "created_at": "2019-10-18T15:07:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28627#issuecomment-555686",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing commit from "" to "446af9801c51e8b9d20cd5176bad6d9d494e57ce"



---

archive/issue_comments_555687.json:
```json
{
    "body": "<a id='comment:2'></a>New commits:",
    "created_at": "2019-10-18T15:07:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28627#issuecomment-555687",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:2'></a>New commits:



---

archive/issue_comments_555688.json:
```json
{
    "body": "<a id='comment:3'></a>I tried to cut the changes into meaningful commits, however the block\n\n```\n+        TESTS::\n+\n+        sage: s = oeis._imaginary_sequence(ident='A004238')\n+        sage: s\n+        A004238: The characteristic sequence of 42 plus one, starting from 38.\n+        sage: s.online_update()                         # optional -- internet\n+        sage: s                                         # optional -- internet\n+        A004238: a(n) = 100*log(n) rounded to nearest integer.\n```\n\nshould appear in the second commit, not the first, since at this stage `ident` parameter is not defined for imaginary sequences.\n\nYou should test the whole branch, the commits are made to ease human review.",
    "created_at": "2019-10-18T15:19:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28627#issuecomment-555688",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:3'></a>I tried to cut the changes into meaningful commits, however the block

```
+        TESTS::
+
+        sage: s = oeis._imaginary_sequence(ident='A004238')
+        sage: s
+        A004238: The characteristic sequence of 42 plus one, starting from 38.
+        sage: s.online_update()                         # optional -- internet
+        sage: s                                         # optional -- internet
+        A004238: a(n) = 100*log(n) rounded to nearest integer.
```

should appear in the second commit, not the first, since at this stage `ident` parameter is not defined for imaginary sequences.

You should test the whole branch, the commits are made to ease human review.



---

archive/issue_comments_555689.json:
```json
{
    "body": "<a id='comment:4'></a>Patchbot complains about doctest coverage regression.",
    "created_at": "2019-10-18T17:08:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28627#issuecomment-555689",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:4'></a>Patchbot complains about doctest coverage regression.



---

archive/issue_comments_555690.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-10-18T17:08:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28627#issuecomment-555690",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_555691.json:
```json
{
    "body": "Changing commit from \"446af9801c51e8b9d20cd5176bad6d9d494e57ce\" to \"ecd06dd657ce0f97145af394fb2724565751f0fc\"",
    "created_at": "2019-10-18T17:33:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28627#issuecomment-555691",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "446af9801c51e8b9d20cd5176bad6d9d494e57ce" to "ecd06dd657ce0f97145af394fb2724565751f0fc"



---

archive/issue_comments_555692.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-10-18T17:33:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28627#issuecomment-555692",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_555693.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-10-18T17:34:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28627#issuecomment-555693",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_555694.json:
```json
{
    "body": "<a id='comment:7'></a>If some of the people who already handled oeis code could have a look, it will allow to move forward.",
    "created_at": "2019-11-24T12:54:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28627#issuecomment-555694",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:7'></a>If some of the people who already handled oeis code could have a look, it will allow to move forward.



---

archive/issue_comments_555695.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-11-27T15:37:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28627#issuecomment-555695",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_555696.json:
```json
{
    "body": "<a id='comment:8'></a>Works for me. All tests passed related to oeis.",
    "created_at": "2019-11-27T15:37:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28627#issuecomment-555696",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:8'></a>Works for me. All tests passed related to oeis.



---

archive/issue_comments_555697.json:
```json
{
    "body": "Changing reviewer from \"\" to \"S\u00e9bastien Labb\u00e9\"",
    "created_at": "2019-11-27T15:37:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28627#issuecomment-555697",
    "user": "https://github.com/seblabbe"
}
```

Changing reviewer from "" to "Sébastien Labbé"



---

archive/issue_comments_555698.json:
```json
{
    "body": "Changing branch from \"u/tmonteil/lazy_oeis_sequences\" to \"ecd06dd657ce0f97145af394fb2724565751f0fc\"",
    "created_at": "2019-11-30T13:36:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28627#issuecomment-555698",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/tmonteil/lazy_oeis_sequences" to "ecd06dd657ce0f97145af394fb2724565751f0fc"



---

archive/issue_comments_555699.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-11-30T13:36:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28627#issuecomment-555699",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_072055.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-11-30T13:36:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28627#event-72055"
}
```
