# Issue 28627: Lazy OEIS sequences

archive/issues_028390.json:
```json
{
    "body": "We make the `OEISSequences` be (uniquely) defined as long as their ID (A-number) is known, and connect to the internet as late as possible.\n\n\nCC:  @fchapoton @mo271 @videlec @seblabbe\n\nBranch/Commit: ecd06dd657ce0f97145af394fb2724565751f0fc\n\nReviewer: S\u00e9bastien Labb\u00e9\n\nAuthor: Thierry Monteil\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/28627\n\n",
    "closed_at": "2019-11-30T13:36:34Z",
    "created_at": "2019-10-18T10:45:52Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.0",
    "title": "Lazy OEIS sequences",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28627",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```
We make the `OEISSequences` be (uniquely) defined as long as their ID (A-number) is known, and connect to the internet as late as possible.


CC:  @fchapoton @mo271 @videlec @seblabbe

Branch/Commit: ecd06dd657ce0f97145af394fb2724565751f0fc

Reviewer: Sébastien Labbé

Author: Thierry Monteil

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/28627





---

archive/issue_comments_426858.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-10-18T15:07:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28627#issuecomment-426858",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_426859.json:
```json
{
    "body": "<a id='comment:2'></a>New commits:",
    "created_at": "2019-10-18T15:07:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28627#issuecomment-426859",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:2'></a>New commits:



---

archive/issue_comments_426860.json:
```json
{
    "body": "<a id='comment:3'></a>I tried to cut the changes into meaningful commits, however the block\n\n```\n+        TESTS::\n+\n+        sage: s = oeis._imaginary_sequence(ident='A004238')\n+        sage: s\n+        A004238: The characteristic sequence of 42 plus one, starting from 38.\n+        sage: s.online_update()                         # optional -- internet\n+        sage: s                                         # optional -- internet\n+        A004238: a(n) = 100*log(n) rounded to nearest integer.\n```\n\nshould appear in the second commit, not the first, since at this stage `ident` parameter is not defined for imaginary sequences.\n\nYou should test the whole branch, the commits are made to ease human review.",
    "created_at": "2019-10-18T15:19:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28627#issuecomment-426860",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:3'></a>I tried to cut the changes into meaningful commits, however the block

```
+        TESTS::
+
+        sage: s = oeis._imaginary_sequence(ident='A004238')
+        sage: s
+        A004238: The characteristic sequence of 42 plus one, starting from 38.
+        sage: s.online_update()                         # optional -- internet
+        sage: s                                         # optional -- internet
+        A004238: a(n) = 100*log(n) rounded to nearest integer.
```

should appear in the second commit, not the first, since at this stage `ident` parameter is not defined for imaginary sequences.

You should test the whole branch, the commits are made to ease human review.



---

archive/issue_comments_426861.json:
```json
{
    "body": "<a id='comment:4'></a>Patchbot complains about doctest coverage regression.",
    "created_at": "2019-10-18T17:08:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28627#issuecomment-426861",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:4'></a>Patchbot complains about doctest coverage regression.



---

archive/issue_comments_426862.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-10-18T17:08:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28627#issuecomment-426862",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_426863.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-10-18T17:33:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28627#issuecomment-426863",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_426864.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-10-18T17:34:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28627#issuecomment-426864",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_426865.json:
```json
{
    "body": "<a id='comment:7'></a>If some of the people who already handled oeis code could have a look, it will allow to move forward.",
    "created_at": "2019-11-24T12:54:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28627#issuecomment-426865",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:7'></a>If some of the people who already handled oeis code could have a look, it will allow to move forward.



---

archive/issue_comments_426866.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-11-27T15:37:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28627#issuecomment-426866",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_426867.json:
```json
{
    "body": "<a id='comment:8'></a>Works for me. All tests passed related to oeis.",
    "created_at": "2019-11-27T15:37:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28627#issuecomment-426867",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:8'></a>Works for me. All tests passed related to oeis.



---

archive/issue_comments_426868.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-11-30T13:36:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28627#issuecomment-426868",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_072055.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-11-30T13:36:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28627",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28627#event-72055"
}
```
