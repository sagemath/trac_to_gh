# Issue 28519: Metaticket - Tensor Fields, Scalar Fields and Mixed Forms

archive/issues_028282.json:
```json
{
    "body": "There are too many changes going on at once, so that a merge in the end might be difficult. In order to avoid such difficulties and to keep an overview of things that are happening (for me and others), I use this ticket from now on as a metaticket, where all latest changes are merged together. Cross ticket references are possible.\n\nThis metaticket is mainly devoted to the topic of immutability of algebra elements (see discussion below).\n\nThis ticket is related to manifolds and therefore part of the permanent metaticket #18528.\n\n**Things going on:**\n\n- #28554: Scalar Field Restrictions\n- #28562: Better Zero Treatment\n- #28564: Consistent Naming for Tensor and Scalar Fields\n- #28579: Wedge Product with Scalar Fields\n- #28578: Mixed Forms Code Improvements \n- #28628: Restriction Behaviour of Tensor Fields\n\n**CC:**  @tscrim @egourgoulhon\n\n**Keywords:** manifolds, tensor fields, mixed forms, scalar fields\n\n**Author:** Michael Jung\n\n**Dependencies:** #28554, #28562, #28564, #28579, #28578\n\n**Resolution:** worksforme\n\nIssue created by migration from https://trac.sagemath.org/ticket/28519\n\n",
    "closed_at": "2019-11-27T08:25:42Z",
    "created_at": "2019-09-19T09:39:33Z",
    "labels": [
        "component: geometry"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Metaticket - Tensor Fields, Scalar Fields and Mixed Forms",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28519",
    "user": "https://github.com/DeRhamSource"
}
```
There are too many changes going on at once, so that a merge in the end might be difficult. In order to avoid such difficulties and to keep an overview of things that are happening (for me and others), I use this ticket from now on as a metaticket, where all latest changes are merged together. Cross ticket references are possible.

This metaticket is mainly devoted to the topic of immutability of algebra elements (see discussion below).

This ticket is related to manifolds and therefore part of the permanent metaticket #18528.

**Things going on:**

- #28554: Scalar Field Restrictions
- #28562: Better Zero Treatment
- #28564: Consistent Naming for Tensor and Scalar Fields
- #28579: Wedge Product with Scalar Fields
- #28578: Mixed Forms Code Improvements 
- #28628: Restriction Behaviour of Tensor Fields

**CC:**  @tscrim @egourgoulhon

**Keywords:** manifolds, tensor fields, mixed forms, scalar fields

**Author:** Michael Jung

**Dependencies:** #28554, #28562, #28564, #28579, #28578

**Resolution:** worksforme

Issue created by migration from https://trac.sagemath.org/ticket/28519





---

archive/issue_comments_554589.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"manifolds, mixed forms\".",
    "created_at": "2019-09-22T10:31:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554589",
    "user": "https://github.com/DeRhamSource"
}
```


**Changing keywords** from "" to "manifolds, mixed forms".



---

archive/issue_comments_554590.json:
```json
{
    "body": "**Author:** Michael Jung",
    "created_at": "2019-09-22T10:31:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554590",
    "user": "https://github.com/DeRhamSource"
}
```


**Author:** Michael Jung



---

archive/issue_comments_554591.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,8 @@\n-\n+- readability of code improved in ``mixed_form.py`` and ``mixed_form_algebra.py``\n+- now, mixed form components are declared as copies\n+- more consistency between scalar fields and tensor fields:\n+  - a copy of scalar fields took the name from the original, a copy of tensor fields did not; now, a copy takes the name in any case\n+  - method ``set_restriction`` added to scalar fields\n+- scalar field expressions can be fragmented in one top chart domain, so the display method was misleading in this case; this will be fixed\n+- now, multiplication of named scalar fields `f` and `g` leads to `f \\cdot g` in LaTeX code\n+- other minor improvements (see commit [soon...])\n``````\n",
    "created_at": "2019-09-22T10:31:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554591",
    "user": "https://github.com/DeRhamSource"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,8 @@
-
+- readability of code improved in ``mixed_form.py`` and ``mixed_form_algebra.py``
+- now, mixed form components are declared as copies
+- more consistency between scalar fields and tensor fields:
+  - a copy of scalar fields took the name from the original, a copy of tensor fields did not; now, a copy takes the name in any case
+  - method ``set_restriction`` added to scalar fields
+- scalar field expressions can be fragmented in one top chart domain, so the display method was misleading in this case; this will be fixed
+- now, multiplication of named scalar fields `f` and `g` leads to `f \cdot g` in LaTeX code
+- other minor improvements (see commit [soon...])
``````




---

archive/issue_events_080897.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "rename": {
        "from": "Mixed Forms Improvements",
        "to": "Differential and Mixed Forms Improvements"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28519#event-80897"
}
```




---

archive/issue_comments_554592.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,8 +1,8 @@\n-- readability of code improved in ``mixed_form.py`` and ``mixed_form_algebra.py``\n+- readability of code improved in `mixed_form.py` and ``mixed_form_algebra.py`\n - now, mixed form components are declared as copies\n - more consistency between scalar fields and tensor fields:\n   - a copy of scalar fields took the name from the original, a copy of tensor fields did not; now, a copy takes the name in any case\n-  - method ``set_restriction`` added to scalar fields\n+  - method `set_restriction` added to scalar fields\n - scalar field expressions can be fragmented in one top chart domain, so the display method was misleading in this case; this will be fixed\n - now, multiplication of named scalar fields `f` and `g` leads to `f \\cdot g` in LaTeX code\n - other minor improvements (see commit [soon...])\n``````\n",
    "created_at": "2019-09-22T10:31:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554592",
    "user": "https://github.com/DeRhamSource"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -1,8 +1,8 @@
-- readability of code improved in ``mixed_form.py`` and ``mixed_form_algebra.py``
+- readability of code improved in `mixed_form.py` and ``mixed_form_algebra.py`
 - now, mixed form components are declared as copies
 - more consistency between scalar fields and tensor fields:
   - a copy of scalar fields took the name from the original, a copy of tensor fields did not; now, a copy takes the name in any case
-  - method ``set_restriction`` added to scalar fields
+  - method `set_restriction` added to scalar fields
 - scalar field expressions can be fragmented in one top chart domain, so the display method was misleading in this case; this will be fixed
 - now, multiplication of named scalar fields `f` and `g` leads to `f \cdot g` in LaTeX code
 - other minor improvements (see commit [soon...])
``````




---

archive/issue_comments_554593.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-- readability of code improved in `mixed_form.py` and ``mixed_form_algebra.py`\n+- readability of code improved in `mixed_form.py` and `mixed_form_algebra.py`\n - now, mixed form components are declared as copies\n - more consistency between scalar fields and tensor fields:\n   - a copy of scalar fields took the name from the original, a copy of tensor fields did not; now, a copy takes the name in any case\n``````\n",
    "created_at": "2019-09-22T10:32:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554593",
    "user": "https://github.com/DeRhamSource"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-- readability of code improved in `mixed_form.py` and ``mixed_form_algebra.py`
+- readability of code improved in `mixed_form.py` and `mixed_form_algebra.py`
 - now, mixed form components are declared as copies
 - more consistency between scalar fields and tensor fields:
   - a copy of scalar fields took the name from the original, a copy of tensor fields did not; now, a copy takes the name in any case
``````




---

archive/issue_comments_554594.json:
```json
{
    "body": "<a id='comment:4'></a>\nOpinions and feedback to the upcoming changes are welcome. :)",
    "created_at": "2019-09-22T11:01:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554594",
    "user": "https://github.com/DeRhamSource"
}
```


<a id='comment:4'></a>
Opinions and feedback to the upcoming changes are welcome. :)



---

archive/issue_comments_554595.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,6 +3,6 @@\n - more consistency between scalar fields and tensor fields:\n   - a copy of scalar fields took the name from the original, a copy of tensor fields did not; now, a copy takes the name in any case\n   - method `set_restriction` added to scalar fields\n-- scalar field expressions can be fragmented in one top chart domain, so the display method was misleading in this case; this will be fixed\n+- scalar field can be partially defined in one top chart domains, so the display method was misleading in this case; this will be fixed\n - now, multiplication of named scalar fields `f` and `g` leads to `f \\cdot g` in LaTeX code\n - other minor improvements (see commit [soon...])\n``````\n",
    "created_at": "2019-09-22T15:12:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554595",
    "user": "https://github.com/DeRhamSource"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -3,6 +3,6 @@
 - more consistency between scalar fields and tensor fields:
   - a copy of scalar fields took the name from the original, a copy of tensor fields did not; now, a copy takes the name in any case
   - method `set_restriction` added to scalar fields
-- scalar field expressions can be fragmented in one top chart domain, so the display method was misleading in this case; this will be fixed
+- scalar field can be partially defined in one top chart domains, so the display method was misleading in this case; this will be fixed
 - now, multiplication of named scalar fields `f` and `g` leads to `f \cdot g` in LaTeX code
 - other minor improvements (see commit [soon...])
``````




---

archive/issue_comments_554596.json:
```json
{
    "body": "**Branch:** [u/gh-DeRhamSource/mixed_forms_improvements](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-DeRhamSource/mixed_forms_improvements)",
    "created_at": "2019-09-23T00:08:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554596",
    "user": "https://github.com/DeRhamSource"
}
```


**Branch:** [u/gh-DeRhamSource/mixed_forms_improvements](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-DeRhamSource/mixed_forms_improvements)



---

archive/issue_comments_554597.json:
```json
{
    "body": "<a id='comment:7'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/786c32297948142bc75ba0927a41d2520a634576\">786c322</a></td><td><code>Mixed Form Improvements</code></td></tr></table>\n",
    "created_at": "2019-09-23T00:17:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554597",
    "user": "https://github.com/DeRhamSource"
}
```


<a id='comment:7'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/786c32297948142bc75ba0927a41d2520a634576">786c322</a></td><td><code>Mixed Form Improvements</code></td></tr></table>




---

archive/issue_comments_554598.json:
```json
{
    "body": "**Commit:** [786c32297948142bc75ba0927a41d2520a634576](https://github.com/sagemath/sagetrac-mirror/commit/786c32297948142bc75ba0927a41d2520a634576)",
    "created_at": "2019-09-23T00:17:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554598",
    "user": "https://github.com/DeRhamSource"
}
```


**Commit:** [786c32297948142bc75ba0927a41d2520a634576](https://github.com/sagemath/sagetrac-mirror/commit/786c32297948142bc75ba0927a41d2520a634576)



---

archive/issue_comments_554599.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2019-09-23T00:17:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554599",
    "user": "https://github.com/DeRhamSource"
}
```


**Changing status** from new to needs_review.



---

archive/issue_comments_554600.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,8 +1,18 @@\n+**Mixed Forms** \n+\n - readability of code improved in `mixed_form.py` and `mixed_form_algebra.py`\n - now, mixed form components are declared as copies\n+- `set_form_name()` method is added\n+\n+**Scalar Fields**\n+\n+- scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the ``display`` method shows *all* the known expressions. For each such expression, the chart on greatest domain, where this is expression is known, is displayed.\n+- now, multiplication of named scalar fields `f` and `g` leads to `f \\cdot g` in LaTeX code\n+- division by zero in `_div_()` is now checked via `is_trivial_zero()`\n+\n+**Various**\n+\n - more consistency between scalar fields and tensor fields:\n   - a copy of scalar fields took the name from the original, a copy of tensor fields did not; now, a copy takes the name in any case\n-  - method `set_restriction` added to scalar fields\n-- scalar field can be partially defined in one top chart domains, so the display method was misleading in this case; this will be fixed\n-- now, multiplication of named scalar fields `f` and `g` leads to `f \\cdot g` in LaTeX code\n-- other minor improvements (see commit [soon...])\n+  - method `set_restriction()` added to scalar fields\n+- minor code rearrangements, i.e. for code reuse or consistency\n``````\n",
    "created_at": "2019-09-23T07:28:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554600",
    "user": "https://github.com/DeRhamSource"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -1,8 +1,18 @@
+**Mixed Forms** 
+
 - readability of code improved in `mixed_form.py` and `mixed_form_algebra.py`
 - now, mixed form components are declared as copies
+- `set_form_name()` method is added
+
+**Scalar Fields**
+
+- scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the ``display`` method shows *all* the known expressions. For each such expression, the chart on greatest domain, where this is expression is known, is displayed.
+- now, multiplication of named scalar fields `f` and `g` leads to `f \cdot g` in LaTeX code
+- division by zero in `_div_()` is now checked via `is_trivial_zero()`
+
+**Various**
+
 - more consistency between scalar fields and tensor fields:
   - a copy of scalar fields took the name from the original, a copy of tensor fields did not; now, a copy takes the name in any case
-  - method `set_restriction` added to scalar fields
-- scalar field can be partially defined in one top chart domains, so the display method was misleading in this case; this will be fixed
-- now, multiplication of named scalar fields `f` and `g` leads to `f \cdot g` in LaTeX code
-- other minor improvements (see commit [soon...])
+  - method `set_restriction()` added to scalar fields
+- minor code rearrangements, i.e. for code reuse or consistency
``````




---

archive/issue_comments_554601.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,7 +6,7 @@\n \n **Scalar Fields**\n \n-- scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the ``display`` method shows *all* the known expressions. For each such expression, the chart on greatest domain, where this is expression is known, is displayed.\n+- scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the `display()` method shows *all* the known expressions. For each such expression, the chart on greatest domain, where this is expression is known, is displayed.\n - now, multiplication of named scalar fields `f` and `g` leads to `f \\cdot g` in LaTeX code\n - division by zero in `_div_()` is now checked via `is_trivial_zero()`\n \n``````\n",
    "created_at": "2019-09-23T07:28:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554601",
    "user": "https://github.com/DeRhamSource"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -6,7 +6,7 @@
 
 **Scalar Fields**
 
-- scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the ``display`` method shows *all* the known expressions. For each such expression, the chart on greatest domain, where this is expression is known, is displayed.
+- scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the `display()` method shows *all* the known expressions. For each such expression, the chart on greatest domain, where this is expression is known, is displayed.
 - now, multiplication of named scalar fields `f` and `g` leads to `f \cdot g` in LaTeX code
 - division by zero in `_div_()` is now checked via `is_trivial_zero()`
 
``````




---

archive/issue_comments_554602.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,7 +6,7 @@\n \n **Scalar Fields**\n \n-- scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the `display()` method shows *all* the known expressions. For each such expression, the chart on greatest domain, where this is expression is known, is displayed.\n+- scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the `display()` method shows *all* the known expressions. For each such expression, the greatest domain, where this is expression is known, is displayed.\n - now, multiplication of named scalar fields `f` and `g` leads to `f \\cdot g` in LaTeX code\n - division by zero in `_div_()` is now checked via `is_trivial_zero()`\n \n``````\n",
    "created_at": "2019-09-23T07:29:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554602",
    "user": "https://github.com/DeRhamSource"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -6,7 +6,7 @@
 
 **Scalar Fields**
 
-- scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the `display()` method shows *all* the known expressions. For each such expression, the chart on greatest domain, where this is expression is known, is displayed.
+- scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the `display()` method shows *all* the known expressions. For each such expression, the greatest domain, where this is expression is known, is displayed.
 - now, multiplication of named scalar fields `f` and `g` leads to `f \cdot g` in LaTeX code
 - division by zero in `_div_()` is now checked via `is_trivial_zero()`
 
``````




---

archive/issue_comments_554603.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,10 +3,12 @@\n - readability of code improved in `mixed_form.py` and `mixed_form_algebra.py`\n - now, mixed form components are declared as copies\n - `set_form_name()` method is added\n+- now, the `display()` method displays only names\n+- `display_expansion()` method is added; `display_expansion()` shows the expansion in a particular frame and chart\n \n **Scalar Fields**\n \n-- scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the `display()` method shows *all* the known expressions. For each such expression, the greatest domain, where this is expression is known, is displayed.\n+- scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the `display()` method shows *all* the known expressions. For each such expression, the greatest domain, where this expression is known, is displayed.\n - now, multiplication of named scalar fields `f` and `g` leads to `f \\cdot g` in LaTeX code\n - division by zero in `_div_()` is now checked via `is_trivial_zero()`\n \n``````\n",
    "created_at": "2019-09-23T07:37:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554603",
    "user": "https://github.com/DeRhamSource"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -3,10 +3,12 @@
 - readability of code improved in `mixed_form.py` and `mixed_form_algebra.py`
 - now, mixed form components are declared as copies
 - `set_form_name()` method is added
+- now, the `display()` method displays only names
+- `display_expansion()` method is added; `display_expansion()` shows the expansion in a particular frame and chart
 
 **Scalar Fields**
 
-- scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the `display()` method shows *all* the known expressions. For each such expression, the greatest domain, where this is expression is known, is displayed.
+- scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the `display()` method shows *all* the known expressions. For each such expression, the greatest domain, where this expression is known, is displayed.
 - now, multiplication of named scalar fields `f` and `g` leads to `f \cdot g` in LaTeX code
 - division by zero in `_div_()` is now checked via `is_trivial_zero()`
 
``````




---

archive/issue_comments_554604.json:
```json
{
    "body": "**Changing commit** from \"[786c32297948142bc75ba0927a41d2520a634576](https://github.com/sagemath/sagetrac-mirror/commit/786c32297948142bc75ba0927a41d2520a634576)\" to \"[cfba1a2983e3a8319926eaa417200422c8d3499c](https://github.com/sagemath/sagetrac-mirror/commit/cfba1a2983e3a8319926eaa417200422c8d3499c)\".",
    "created_at": "2019-09-23T13:04:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554604",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[786c32297948142bc75ba0927a41d2520a634576](https://github.com/sagemath/sagetrac-mirror/commit/786c32297948142bc75ba0927a41d2520a634576)" to "[cfba1a2983e3a8319926eaa417200422c8d3499c](https://github.com/sagemath/sagetrac-mirror/commit/cfba1a2983e3a8319926eaa417200422c8d3499c)".



---

archive/issue_comments_554605.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cfba1a2983e3a8319926eaa417200422c8d3499c\">cfba1a2</a></td><td><code>Built fixes and cosmetic details</code></td></tr></table>\n",
    "created_at": "2019-09-23T13:04:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554605",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cfba1a2983e3a8319926eaa417200422c8d3499c">cfba1a2</a></td><td><code>Built fixes and cosmetic details</code></td></tr></table>




---

archive/issue_comments_554606.json:
```json
{
    "body": "**Reviewer:** Eric Gourgoulhon, Travis Scrimshaw",
    "created_at": "2019-09-23T13:04:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554606",
    "user": "https://github.com/DeRhamSource"
}
```


**Reviewer:** Eric Gourgoulhon, Travis Scrimshaw



---

archive/issue_comments_554607.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a403ca6ee12b5dafb0935bfe4a8e3cc9c0081682\">a403ca6</a></td><td><code>Fixed mistakes</code></td></tr></table>\n",
    "created_at": "2019-09-23T13:24:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554607",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a403ca6ee12b5dafb0935bfe4a8e3cc9c0081682">a403ca6</a></td><td><code>Fixed mistakes</code></td></tr></table>




---

archive/issue_comments_554608.json:
```json
{
    "body": "**Changing commit** from \"[cfba1a2983e3a8319926eaa417200422c8d3499c](https://github.com/sagemath/sagetrac-mirror/commit/cfba1a2983e3a8319926eaa417200422c8d3499c)\" to \"[a403ca6ee12b5dafb0935bfe4a8e3cc9c0081682](https://github.com/sagemath/sagetrac-mirror/commit/a403ca6ee12b5dafb0935bfe4a8e3cc9c0081682)\".",
    "created_at": "2019-09-23T13:24:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554608",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[cfba1a2983e3a8319926eaa417200422c8d3499c](https://github.com/sagemath/sagetrac-mirror/commit/cfba1a2983e3a8319926eaa417200422c8d3499c)" to "[a403ca6ee12b5dafb0935bfe4a8e3cc9c0081682](https://github.com/sagemath/sagetrac-mirror/commit/a403ca6ee12b5dafb0935bfe4a8e3cc9c0081682)".



---

archive/issue_comments_554609.json:
```json
{
    "body": "**Changing commit** from \"[a403ca6ee12b5dafb0935bfe4a8e3cc9c0081682](https://github.com/sagemath/sagetrac-mirror/commit/a403ca6ee12b5dafb0935bfe4a8e3cc9c0081682)\" to \"[d96b3c4ddd4320b25871e83dc10a9a53edf1ae78](https://github.com/sagemath/sagetrac-mirror/commit/d96b3c4ddd4320b25871e83dc10a9a53edf1ae78)\".",
    "created_at": "2019-09-23T13:34:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554609",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[a403ca6ee12b5dafb0935bfe4a8e3cc9c0081682](https://github.com/sagemath/sagetrac-mirror/commit/a403ca6ee12b5dafb0935bfe4a8e3cc9c0081682)" to "[d96b3c4ddd4320b25871e83dc10a9a53edf1ae78](https://github.com/sagemath/sagetrac-mirror/commit/d96b3c4ddd4320b25871e83dc10a9a53edf1ae78)".



---

archive/issue_comments_554610.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d96b3c4ddd4320b25871e83dc10a9a53edf1ae78\">d96b3c4</a></td><td><code>set_name method in MixedForm</code></td></tr></table>\n",
    "created_at": "2019-09-23T13:34:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554610",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d96b3c4ddd4320b25871e83dc10a9a53edf1ae78">d96b3c4</a></td><td><code>set_name method in MixedForm</code></td></tr></table>




---

archive/issue_comments_554611.json:
```json
{
    "body": "<a id='comment:16'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd036e43e574ed7514a58ebe27e3dc25c7da43de\">fd036e4</a></td><td><code>division by zero checked via is_trivial_zero for scalar fields</code></td></tr></table>\n",
    "created_at": "2019-09-23T13:39:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554611",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:16'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd036e43e574ed7514a58ebe27e3dc25c7da43de">fd036e4</a></td><td><code>division by zero checked via is_trivial_zero for scalar fields</code></td></tr></table>




---

archive/issue_comments_554612.json:
```json
{
    "body": "**Changing commit** from \"[d96b3c4ddd4320b25871e83dc10a9a53edf1ae78](https://github.com/sagemath/sagetrac-mirror/commit/d96b3c4ddd4320b25871e83dc10a9a53edf1ae78)\" to \"[fd036e43e574ed7514a58ebe27e3dc25c7da43de](https://github.com/sagemath/sagetrac-mirror/commit/fd036e43e574ed7514a58ebe27e3dc25c7da43de)\".",
    "created_at": "2019-09-23T13:39:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554612",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[d96b3c4ddd4320b25871e83dc10a9a53edf1ae78](https://github.com/sagemath/sagetrac-mirror/commit/d96b3c4ddd4320b25871e83dc10a9a53edf1ae78)" to "[fd036e43e574ed7514a58ebe27e3dc25c7da43de](https://github.com/sagemath/sagetrac-mirror/commit/fd036e43e574ed7514a58ebe27e3dc25c7da43de)".



---

archive/issue_comments_554613.json:
```json
{
    "body": "**Changing commit** from \"[fd036e43e574ed7514a58ebe27e3dc25c7da43de](https://github.com/sagemath/sagetrac-mirror/commit/fd036e43e574ed7514a58ebe27e3dc25c7da43de)\" to \"[20f5ebf8dea618583e0778373acf0cd26fff063b](https://github.com/sagemath/sagetrac-mirror/commit/20f5ebf8dea618583e0778373acf0cd26fff063b)\".",
    "created_at": "2019-09-23T14:08:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554613",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[fd036e43e574ed7514a58ebe27e3dc25c7da43de](https://github.com/sagemath/sagetrac-mirror/commit/fd036e43e574ed7514a58ebe27e3dc25c7da43de)" to "[20f5ebf8dea618583e0778373acf0cd26fff063b](https://github.com/sagemath/sagetrac-mirror/commit/20f5ebf8dea618583e0778373acf0cd26fff063b)".



---

archive/issue_comments_554614.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/20f5ebf8dea618583e0778373acf0cd26fff063b\">20f5ebf</a></td><td><code>minor doctest fix</code></td></tr></table>\n",
    "created_at": "2019-09-23T14:08:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554614",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:17'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/20f5ebf8dea618583e0778373acf0cd26fff063b">20f5ebf</a></td><td><code>minor doctest fix</code></td></tr></table>




---

archive/issue_comments_554615.json:
```json
{
    "body": "**Changing commit** from \"[20f5ebf8dea618583e0778373acf0cd26fff063b](https://github.com/sagemath/sagetrac-mirror/commit/20f5ebf8dea618583e0778373acf0cd26fff063b)\" to \"[d4819b7fab58c740bc2934d1810c21cdde239837](https://github.com/sagemath/sagetrac-mirror/commit/d4819b7fab58c740bc2934d1810c21cdde239837)\".",
    "created_at": "2019-09-23T14:51:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554615",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[20f5ebf8dea618583e0778373acf0cd26fff063b](https://github.com/sagemath/sagetrac-mirror/commit/20f5ebf8dea618583e0778373acf0cd26fff063b)" to "[d4819b7fab58c740bc2934d1810c21cdde239837](https://github.com/sagemath/sagetrac-mirror/commit/d4819b7fab58c740bc2934d1810c21cdde239837)".



---

archive/issue_comments_554616.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d4819b7fab58c740bc2934d1810c21cdde239837\">d4819b7</a></td><td><code>whitespace in doctest for scalar fields</code></td></tr></table>\n",
    "created_at": "2019-09-23T14:51:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554616",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d4819b7fab58c740bc2934d1810c21cdde239837">d4819b7</a></td><td><code>whitespace in doctest for scalar fields</code></td></tr></table>




---

archive/issue_comments_554617.json:
```json
{
    "body": "**Changing commit** from \"[d4819b7fab58c740bc2934d1810c21cdde239837](https://github.com/sagemath/sagetrac-mirror/commit/d4819b7fab58c740bc2934d1810c21cdde239837)\" to \"[706437f4fe4abaed3c282d380e41388e8891cb70](https://github.com/sagemath/sagetrac-mirror/commit/706437f4fe4abaed3c282d380e41388e8891cb70)\".",
    "created_at": "2019-09-23T14:52:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554617",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[d4819b7fab58c740bc2934d1810c21cdde239837](https://github.com/sagemath/sagetrac-mirror/commit/d4819b7fab58c740bc2934d1810c21cdde239837)" to "[706437f4fe4abaed3c282d380e41388e8891cb70](https://github.com/sagemath/sagetrac-mirror/commit/706437f4fe4abaed3c282d380e41388e8891cb70)".



---

archive/issue_comments_554618.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/706437f4fe4abaed3c282d380e41388e8891cb70\">706437f</a></td><td><code>Whitespace</code></td></tr></table>\n",
    "created_at": "2019-09-23T14:52:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554618",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:19'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/706437f4fe4abaed3c282d380e41388e8891cb70">706437f</a></td><td><code>Whitespace</code></td></tr></table>




---

archive/issue_comments_554619.json:
```json
{
    "body": "**Changing commit** from \"[706437f4fe4abaed3c282d380e41388e8891cb70](https://github.com/sagemath/sagetrac-mirror/commit/706437f4fe4abaed3c282d380e41388e8891cb70)\" to \"\".",
    "created_at": "2019-09-23T20:38:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554619",
    "user": "https://github.com/DeRhamSource"
}
```


**Changing commit** from "[706437f4fe4abaed3c282d380e41388e8891cb70](https://github.com/sagemath/sagetrac-mirror/commit/706437f4fe4abaed3c282d380e41388e8891cb70)" to "".



---

archive/issue_comments_554620.json:
```json
{
    "body": "**Changing branch** from \"[u/gh-DeRhamSource/mixed_forms_improvements](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-DeRhamSource/mixed_forms_improvements)\" to \"[u/gh-DeRhamSource/mixed_forms_improved](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-DeRhamSource/mixed_forms_improved)\".",
    "created_at": "2019-09-23T20:38:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554620",
    "user": "https://github.com/DeRhamSource"
}
```


**Changing branch** from "[u/gh-DeRhamSource/mixed_forms_improvements](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-DeRhamSource/mixed_forms_improvements)" to "[u/gh-DeRhamSource/mixed_forms_improved](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-DeRhamSource/mixed_forms_improved)".



---

archive/issue_comments_554621.json:
```json
{
    "body": "**Commit:** [a2a42e4a9062dce876b3e154c461f8b5d07444d7](https://github.com/sagemath/sagetrac-mirror/commit/a2a42e4a9062dce876b3e154c461f8b5d07444d7)",
    "created_at": "2019-09-23T20:38:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554621",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Commit:** [a2a42e4a9062dce876b3e154c461f8b5d07444d7](https://github.com/sagemath/sagetrac-mirror/commit/a2a42e4a9062dce876b3e154c461f8b5d07444d7)



---

archive/issue_comments_554622.json:
```json
{
    "body": "<a id='comment:21'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a2a42e4a9062dce876b3e154c461f8b5d07444d7\">a2a42e4</a></td><td><code>Mixed Form Improvements</code></td></tr></table>\n",
    "created_at": "2019-09-23T20:38:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554622",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:21'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a2a42e4a9062dce876b3e154c461f8b5d07444d7">a2a42e4</a></td><td><code>Mixed Form Improvements</code></td></tr></table>




---

archive/issue_comments_554623.json:
```json
{
    "body": "<a id='comment:22'></a>\nSorry for the mess. In the new branch, the commits are cleared and squashed.\n\nI'm looking forward to your review. :)",
    "created_at": "2019-09-23T20:47:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554623",
    "user": "https://github.com/DeRhamSource"
}
```


<a id='comment:22'></a>
Sorry for the mess. In the new branch, the commits are cleared and squashed.

I'm looking forward to your review. :)



---

archive/issue_comments_554624.json:
```json
{
    "body": "**Changing commit** from \"[a2a42e4a9062dce876b3e154c461f8b5d07444d7](https://github.com/sagemath/sagetrac-mirror/commit/a2a42e4a9062dce876b3e154c461f8b5d07444d7)\" to \"[cd475911fcd15ca8423dc3ecc6d157e730d2d162](https://github.com/sagemath/sagetrac-mirror/commit/cd475911fcd15ca8423dc3ecc6d157e730d2d162)\".",
    "created_at": "2019-09-25T08:19:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554624",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[a2a42e4a9062dce876b3e154c461f8b5d07444d7](https://github.com/sagemath/sagetrac-mirror/commit/a2a42e4a9062dce876b3e154c461f8b5d07444d7)" to "[cd475911fcd15ca8423dc3ecc6d157e730d2d162](https://github.com/sagemath/sagetrac-mirror/commit/cd475911fcd15ca8423dc3ecc6d157e730d2d162)".



---

archive/issue_comments_554625.json:
```json
{
    "body": "<a id='comment:23'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a0b74844cb3e859ef6a0e74168eee9835b8b4dfd\">a0b7484</a></td><td><code>Redundant code removed + one/zero cases in wedge</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cd475911fcd15ca8423dc3ecc6d157e730d2d162\">cd47591</a></td><td><code>Tensorfield addition simplified in case zero</code></td></tr></table>\n",
    "created_at": "2019-09-25T08:19:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554625",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:23'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a0b74844cb3e859ef6a0e74168eee9835b8b4dfd">a0b7484</a></td><td><code>Redundant code removed + one/zero cases in wedge</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cd475911fcd15ca8423dc3ecc6d157e730d2d162">cd47591</a></td><td><code>Tensorfield addition simplified in case zero</code></td></tr></table>




---

archive/issue_comments_554626.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7d10da93ff7b239c42d2dcb5d96e81cd9e11971a\">7d10da9</a></td><td><code>Typo fixed</code></td></tr></table>\n",
    "created_at": "2019-09-25T08:22:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554626",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7d10da93ff7b239c42d2dcb5d96e81cd9e11971a">7d10da9</a></td><td><code>Typo fixed</code></td></tr></table>




---

archive/issue_comments_554627.json:
```json
{
    "body": "**Changing commit** from \"[cd475911fcd15ca8423dc3ecc6d157e730d2d162](https://github.com/sagemath/sagetrac-mirror/commit/cd475911fcd15ca8423dc3ecc6d157e730d2d162)\" to \"[7d10da93ff7b239c42d2dcb5d96e81cd9e11971a](https://github.com/sagemath/sagetrac-mirror/commit/7d10da93ff7b239c42d2dcb5d96e81cd9e11971a)\".",
    "created_at": "2019-09-25T08:22:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554627",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[cd475911fcd15ca8423dc3ecc6d157e730d2d162](https://github.com/sagemath/sagetrac-mirror/commit/cd475911fcd15ca8423dc3ecc6d157e730d2d162)" to "[7d10da93ff7b239c42d2dcb5d96e81cd9e11971a](https://github.com/sagemath/sagetrac-mirror/commit/7d10da93ff7b239c42d2dcb5d96e81cd9e11971a)".



---

archive/issue_comments_554628.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -12,6 +12,11 @@\n - now, multiplication of named scalar fields `f` and `g` leads to `f \\cdot g` in LaTeX code\n - division by zero in `_div_()` is now checked via `is_trivial_zero()`\n \n+** Differential Forms / Tensor Fields**\n+\n+- wedge product computation in case `zero` simplified\n+- tensor field addition in case `zero` simplified\n+\n **Various**\n \n - more consistency between scalar fields and tensor fields:\n``````\n",
    "created_at": "2019-09-25T08:26:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554628",
    "user": "https://github.com/DeRhamSource"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -12,6 +12,11 @@
 - now, multiplication of named scalar fields `f` and `g` leads to `f \cdot g` in LaTeX code
 - division by zero in `_div_()` is now checked via `is_trivial_zero()`
 
+** Differential Forms / Tensor Fields**
+
+- wedge product computation in case `zero` simplified
+- tensor field addition in case `zero` simplified
+
 **Various**
 
 - more consistency between scalar fields and tensor fields:
``````




---

archive/issue_comments_554629.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -22,4 +22,5 @@\n - more consistency between scalar fields and tensor fields:\n   - a copy of scalar fields took the name from the original, a copy of tensor fields did not; now, a copy takes the name in any case\n   - method `set_restriction()` added to scalar fields\n+  - coercion via restriction rearranged in scalar fields following tensor fields\n - minor code rearrangements, i.e. for code reuse or consistency\n``````\n",
    "created_at": "2019-09-25T08:36:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554629",
    "user": "https://github.com/DeRhamSource"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -22,4 +22,5 @@
 - more consistency between scalar fields and tensor fields:
   - a copy of scalar fields took the name from the original, a copy of tensor fields did not; now, a copy takes the name in any case
   - method `set_restriction()` added to scalar fields
+  - coercion via restriction rearranged in scalar fields following tensor fields
 - minor code rearrangements, i.e. for code reuse or consistency
``````




---

archive/issue_comments_554630.json:
```json
{
    "body": "**Changing commit** from \"[7d10da93ff7b239c42d2dcb5d96e81cd9e11971a](https://github.com/sagemath/sagetrac-mirror/commit/7d10da93ff7b239c42d2dcb5d96e81cd9e11971a)\" to \"[a9dab55d91ca1e690ec7032009101889d6f8f70f](https://github.com/sagemath/sagetrac-mirror/commit/a9dab55d91ca1e690ec7032009101889d6f8f70f)\".",
    "created_at": "2019-09-25T15:15:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554630",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[7d10da93ff7b239c42d2dcb5d96e81cd9e11971a](https://github.com/sagemath/sagetrac-mirror/commit/7d10da93ff7b239c42d2dcb5d96e81cd9e11971a)" to "[a9dab55d91ca1e690ec7032009101889d6f8f70f](https://github.com/sagemath/sagetrac-mirror/commit/a9dab55d91ca1e690ec7032009101889d6f8f70f)".



---

archive/issue_comments_554631.json:
```json
{
    "body": "<a id='comment:27'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a9dab55d91ca1e690ec7032009101889d6f8f70f\">a9dab55</a></td><td><code>Better copy than sorry</code></td></tr></table>\n",
    "created_at": "2019-09-25T15:15:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554631",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:27'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a9dab55d91ca1e690ec7032009101889d6f8f70f">a9dab55</a></td><td><code>Better copy than sorry</code></td></tr></table>




---

archive/issue_comments_554632.json:
```json
{
    "body": "<a id='comment:28'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf12def3b962118ecc4c3e7d6e2825f0a0b68a43\">cf12def</a></td><td><code>Better copy than sorry 2 and '__pos__()' / '__neg__()' for mixed forms</code></td></tr></table>\n",
    "created_at": "2019-09-25T15:37:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554632",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:28'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf12def3b962118ecc4c3e7d6e2825f0a0b68a43">cf12def</a></td><td><code>Better copy than sorry 2 and '__pos__()' / '__neg__()' for mixed forms</code></td></tr></table>




---

archive/issue_comments_554633.json:
```json
{
    "body": "**Changing commit** from \"[a9dab55d91ca1e690ec7032009101889d6f8f70f](https://github.com/sagemath/sagetrac-mirror/commit/a9dab55d91ca1e690ec7032009101889d6f8f70f)\" to \"[cf12def3b962118ecc4c3e7d6e2825f0a0b68a43](https://github.com/sagemath/sagetrac-mirror/commit/cf12def3b962118ecc4c3e7d6e2825f0a0b68a43)\".",
    "created_at": "2019-09-25T15:37:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554633",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[a9dab55d91ca1e690ec7032009101889d6f8f70f](https://github.com/sagemath/sagetrac-mirror/commit/a9dab55d91ca1e690ec7032009101889d6f8f70f)" to "[cf12def3b962118ecc4c3e7d6e2825f0a0b68a43](https://github.com/sagemath/sagetrac-mirror/commit/cf12def3b962118ecc4c3e7d6e2825f0a0b68a43)".



---

archive/issue_comments_554634.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2019-09-25T15:50:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554634",
    "user": "https://github.com/DeRhamSource"
}
```


**Changing status** from needs_review to needs_work.



---

archive/issue_comments_554635.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -8,14 +8,14 @@\n \n **Scalar Fields**\n \n-- scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the `display()` method shows *all* the known expressions. For each such expression, the greatest domain, where this expression is known, is displayed.\n+- scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the `display()` method shows *all* known expressions. For each such expression, the greatest domain, where this expression is known, is displayed.\n - now, multiplication of named scalar fields `f` and `g` leads to `f \\cdot g` in LaTeX code\n - division by zero in `_div_()` is now checked via `is_trivial_zero()`\n \n ** Differential Forms / Tensor Fields**\n \n-- wedge product computation in case `zero` simplified\n-- tensor field addition in case `zero` simplified\n+- tensor algebra computations for the case `zero` simplified: in order to make computations faster, an attribute `_is_field` is added (similar to scalar fields)\n+- multiplication of tensor fields `a` with scalar fields `f` yields name `f*a` and latex name `f \\cdot a`\n \n **Various**\n \n@@ -24,3 +24,4 @@\n   - method `set_restriction()` added to scalar fields\n   - coercion via restriction rearranged in scalar fields following tensor fields\n - minor code rearrangements, i.e. for code reuse or consistency\n+- copies take the attribute `_is_field` from original in method `copy` (both for tensor fields and scalar fields) to ensure zero treatment\n``````\n",
    "created_at": "2019-09-25T21:58:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554635",
    "user": "https://github.com/DeRhamSource"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -8,14 +8,14 @@
 
 **Scalar Fields**
 
-- scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the `display()` method shows *all* the known expressions. For each such expression, the greatest domain, where this expression is known, is displayed.
+- scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the `display()` method shows *all* known expressions. For each such expression, the greatest domain, where this expression is known, is displayed.
 - now, multiplication of named scalar fields `f` and `g` leads to `f \cdot g` in LaTeX code
 - division by zero in `_div_()` is now checked via `is_trivial_zero()`
 
 ** Differential Forms / Tensor Fields**
 
-- wedge product computation in case `zero` simplified
-- tensor field addition in case `zero` simplified
+- tensor algebra computations for the case `zero` simplified: in order to make computations faster, an attribute `_is_field` is added (similar to scalar fields)
+- multiplication of tensor fields `a` with scalar fields `f` yields name `f*a` and latex name `f \cdot a`
 
 **Various**
 
@@ -24,3 +24,4 @@
   - method `set_restriction()` added to scalar fields
   - coercion via restriction rearranged in scalar fields following tensor fields
 - minor code rearrangements, i.e. for code reuse or consistency
+- copies take the attribute `_is_field` from original in method `copy` (both for tensor fields and scalar fields) to ensure zero treatment
``````




---

archive/issue_comments_554636.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -14,7 +14,7 @@\n \n ** Differential Forms / Tensor Fields**\n \n-- tensor algebra computations for the case `zero` simplified: in order to make computations faster, an attribute `_is_field` is added (similar to scalar fields)\n+- tensor algebra computations for the case `zero` simplified: in order to make computations faster, an attribute `_is_zero` is added (similar to scalar fields)\n - multiplication of tensor fields `a` with scalar fields `f` yields name `f*a` and latex name `f \\cdot a`\n \n **Various**\n@@ -24,4 +24,4 @@\n   - method `set_restriction()` added to scalar fields\n   - coercion via restriction rearranged in scalar fields following tensor fields\n - minor code rearrangements, i.e. for code reuse or consistency\n-- copies take the attribute `_is_field` from original in method `copy` (both for tensor fields and scalar fields) to ensure zero treatment\n+- `copy()` now inherits the attribute `_is_zero` from the original (both for tensor fields and scalar fields) to ensure better zero treatment\n``````\n",
    "created_at": "2019-09-27T08:27:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554636",
    "user": "https://github.com/DeRhamSource"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -14,7 +14,7 @@
 
 ** Differential Forms / Tensor Fields**
 
-- tensor algebra computations for the case `zero` simplified: in order to make computations faster, an attribute `_is_field` is added (similar to scalar fields)
+- tensor algebra computations for the case `zero` simplified: in order to make computations faster, an attribute `_is_zero` is added (similar to scalar fields)
 - multiplication of tensor fields `a` with scalar fields `f` yields name `f*a` and latex name `f \cdot a`
 
 **Various**
@@ -24,4 +24,4 @@
   - method `set_restriction()` added to scalar fields
   - coercion via restriction rearranged in scalar fields following tensor fields
 - minor code rearrangements, i.e. for code reuse or consistency
-- copies take the attribute `_is_field` from original in method `copy` (both for tensor fields and scalar fields) to ensure zero treatment
+- `copy()` now inherits the attribute `_is_zero` from the original (both for tensor fields and scalar fields) to ensure better zero treatment
``````




---

archive/issue_comments_554637.json:
```json
{
    "body": "**Changing commit** from \"[cf12def3b962118ecc4c3e7d6e2825f0a0b68a43](https://github.com/sagemath/sagetrac-mirror/commit/cf12def3b962118ecc4c3e7d6e2825f0a0b68a43)\" to \"[d16dbd94dfaaa2c07182ac5032d6cd81f50da3b9](https://github.com/sagemath/sagetrac-mirror/commit/d16dbd94dfaaa2c07182ac5032d6cd81f50da3b9)\".",
    "created_at": "2019-09-27T08:38:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554637",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[cf12def3b962118ecc4c3e7d6e2825f0a0b68a43](https://github.com/sagemath/sagetrac-mirror/commit/cf12def3b962118ecc4c3e7d6e2825f0a0b68a43)" to "[d16dbd94dfaaa2c07182ac5032d6cd81f50da3b9](https://github.com/sagemath/sagetrac-mirror/commit/d16dbd94dfaaa2c07182ac5032d6cd81f50da3b9)".



---

archive/issue_comments_554638.json:
```json
{
    "body": "<a id='comment:32'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d16dbd94dfaaa2c07182ac5032d6cd81f50da3b9\">d16dbd9</a></td><td><code>Scal mul names + '_is_zero' attr added and used</code></td></tr></table>\n",
    "created_at": "2019-09-27T08:38:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554638",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:32'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d16dbd94dfaaa2c07182ac5032d6cd81f50da3b9">d16dbd9</a></td><td><code>Scal mul names + '_is_zero' attr added and used</code></td></tr></table>




---

archive/issue_comments_554639.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2019-09-27T08:42:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554639",
    "user": "https://github.com/DeRhamSource"
}
```


**Changing status** from needs_work to needs_review.



---

archive/issue_comments_554640.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -14,7 +14,9 @@\n \n ** Differential Forms / Tensor Fields**\n \n-- tensor algebra computations for the case `zero` simplified: in order to make computations faster, an attribute `_is_zero` is added (similar to scalar fields)\n+- tensor algebra computations improved:\n+  - in order to make computations faster, an attribute `_is_zero` is added and checked (similar to scalar fields)\n+  - wedge product of differential forms with self leads to zero right away in case of odd order\n - multiplication of tensor fields `a` with scalar fields `f` yields name `f*a` and latex name `f \\cdot a`\n \n **Various**\n``````\n",
    "created_at": "2019-09-27T08:42:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554640",
    "user": "https://github.com/DeRhamSource"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -14,7 +14,9 @@
 
 ** Differential Forms / Tensor Fields**
 
-- tensor algebra computations for the case `zero` simplified: in order to make computations faster, an attribute `_is_zero` is added (similar to scalar fields)
+- tensor algebra computations improved:
+  - in order to make computations faster, an attribute `_is_zero` is added and checked (similar to scalar fields)
+  - wedge product of differential forms with self leads to zero right away in case of odd order
 - multiplication of tensor fields `a` with scalar fields `f` yields name `f*a` and latex name `f \cdot a`
 
 **Various**
``````




---

archive/issue_comments_554641.json:
```json
{
    "body": "<a id='comment:34'></a>\nThanks for these improvements in the code.\n\nA quick question: what is the motivation for returning a copy of the zero element of the parent instead of the zero element itself? Returning the zero element is certainly faster. In which case wouldn't it be safe? Moreover in some cases (scalar fields) the zero element is updated when a new chart is added, which is not the case of the copy.",
    "created_at": "2019-09-27T20:11:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554641",
    "user": "https://github.com/egourgoulhon"
}
```


<a id='comment:34'></a>
Thanks for these improvements in the code.

A quick question: what is the motivation for returning a copy of the zero element of the parent instead of the zero element itself? Returning the zero element is certainly faster. In which case wouldn't it be safe? Moreover in some cases (scalar fields) the zero element is updated when a new chart is added, which is not the case of the copy.



---

archive/issue_comments_554642.json:
```json
{
    "body": "<a id='comment:35'></a>\nThanks for your reply.\n\n> A quick question: what is the motivation for returning a copy of the zero element of the parent instead of the zero element itself? Returning the zero element is certainly faster. In which case wouldn't it be safe?\n\n\nThe method `zero()` of the parent is cached. It might happen that this zero element could be manipulated after some computation returning zero (due to some user written algorithm). I tried to avoid that. Do you think this scenario is too unlikely? If so, we can give up the copies.\n\n> Moreover in some cases (scalar fields) the zero element is updated when a new chart is added, which is not the case of the copy.\n\n\nOh, I was not aware of that. However, a result of an algebraic operation has *always* been a very new instance, which knows only about the current charts and frames. The user should always be aware of that. At this stage, there is no difference to the previous code and it sounds fairly consistent to me.\n\nWhat do you think, which way is most convenient and user friendly?\n\nBest regards,\nMichael",
    "created_at": "2019-09-28T20:35:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554642",
    "user": "https://github.com/DeRhamSource"
}
```


<a id='comment:35'></a>
Thanks for your reply.

> A quick question: what is the motivation for returning a copy of the zero element of the parent instead of the zero element itself? Returning the zero element is certainly faster. In which case wouldn't it be safe?


The method `zero()` of the parent is cached. It might happen that this zero element could be manipulated after some computation returning zero (due to some user written algorithm). I tried to avoid that. Do you think this scenario is too unlikely? If so, we can give up the copies.

> Moreover in some cases (scalar fields) the zero element is updated when a new chart is added, which is not the case of the copy.


Oh, I was not aware of that. However, a result of an algebraic operation has *always* been a very new instance, which knows only about the current charts and frames. The user should always be aware of that. At this stage, there is no difference to the previous code and it sounds fairly consistent to me.

What do you think, which way is most convenient and user friendly?

Best regards,
Michael



---

archive/issue_comments_554643.json:
```json
{
    "body": "<a id='comment:36'></a>\nReplying to [gh-DeRhamSource](#comment%3A35):\n> \n> The method `zero()` of the parent is cached. It might happen that this zero element could be manipulated after some computation returning zero (due to some user written algorithm). I tried to avoid that. Do you think this scenario is too unlikely? If so, we can give up the copies.\n\n>\n> ...\n\n>\n> Oh, I was not aware of that. However, a result of an algebraic operation has *always* been a very new instance, which knows only about the current charts and frames. The user should always be aware of that. At this stage, there is no difference to the previous code and it sounds fairly consistent to me.\n> \n> What do you think, which way is most convenient and user friendly?\n> \n\n\nThe more I think about it, the more I'm inclined to agree with you. Travis, do you have any thought about this?\n\nAnother remark: some of the proposed changes regarding scalar fields are actually not improvements but feature changes:\n\n- the method `display()` without any argument currently displays the scalar field in all the top charts where the expression is known; you propose to change it to enforce the display in the greatest (sub)charts where the expression can be computed, even if they are not top charts. I'm not sure to agree with that: in the current setting, the output of `display()` is sufficient to fully characterize the scalar field (no loss of information); the extension you propose adds extra computations and results in longer outputs, which can be cumbersome for complicated scalar fields. If the user would like to know the expression of the scalar field in such a subchart, he/her can get it anyway, by passing the chart as the argument of `display()`. \n- regarding the multiplication of scalar fields `f` and `g`, the LaTeX output is changed from `f g` to `f\\cdot g`. Is this for aesthetic reasons only? Personaly I would prefer `f g`, which sounds more standard notation. Maybe the opinion of a third person (Travis?) would be helpful here.",
    "created_at": "2019-10-01T07:39:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554643",
    "user": "https://github.com/egourgoulhon"
}
```


<a id='comment:36'></a>
Replying to [gh-DeRhamSource](#comment%3A35):
> 
> The method `zero()` of the parent is cached. It might happen that this zero element could be manipulated after some computation returning zero (due to some user written algorithm). I tried to avoid that. Do you think this scenario is too unlikely? If so, we can give up the copies.

>
> ...

>
> Oh, I was not aware of that. However, a result of an algebraic operation has *always* been a very new instance, which knows only about the current charts and frames. The user should always be aware of that. At this stage, there is no difference to the previous code and it sounds fairly consistent to me.
> 
> What do you think, which way is most convenient and user friendly?
> 


The more I think about it, the more I'm inclined to agree with you. Travis, do you have any thought about this?

Another remark: some of the proposed changes regarding scalar fields are actually not improvements but feature changes:

- the method `display()` without any argument currently displays the scalar field in all the top charts where the expression is known; you propose to change it to enforce the display in the greatest (sub)charts where the expression can be computed, even if they are not top charts. I'm not sure to agree with that: in the current setting, the output of `display()` is sufficient to fully characterize the scalar field (no loss of information); the extension you propose adds extra computations and results in longer outputs, which can be cumbersome for complicated scalar fields. If the user would like to know the expression of the scalar field in such a subchart, he/her can get it anyway, by passing the chart as the argument of `display()`. 
- regarding the multiplication of scalar fields `f` and `g`, the LaTeX output is changed from `f g` to `f\cdot g`. Is this for aesthetic reasons only? Personaly I would prefer `f g`, which sounds more standard notation. Maybe the opinion of a third person (Travis?) would be helpful here.



---

archive/issue_comments_554644.json:
```json
{
    "body": "<a id='comment:37'></a>\nReplying to [egourgoulhon](#comment%3A36):\n> Another remark: some of the proposed changes regarding scalar fields are actually not improvements but feature changes:\n> \n> - the method `display()` without any argument currently displays the scalar field in all the top charts where the expression is known; you propose to change it to enforce the display in the greatest (sub)charts where the expression can be computed, even if they are not top charts. I'm not sure to agree with that: in the current setting, the output of `display()` is sufficient to fully characterize the scalar field (no loss of information); the extension you propose adds extra computations and results in longer outputs, which can be cumbersome for complicated scalar fields. If the user would like to know the expression of the scalar field in such a subchart, he/her can get it anyway, by passing the chart as the argument of `display()`. \n\n\nI tend not to agree. Take for instance the real line with standard \"top\" chart `x` and a continuous scalar field `f` like `f(x)=0 for x<-1`, `f(x)=x+1 for -1<=x<0`, `f(x)=1-x for 0<=x<1` and `f(x)=0 for x>=1`. Indeed, this scalar field is continuous. However, it has no single expression in the top chart, but four different expressions in four subcharts. At this stage, the `display()` command does not present it properly. Therefore, there is a loss of information about the scalar field, which should not happen. Or did I get something wrong?\n\n\n> - regarding the multiplication of scalar fields `f` and `g`, the LaTeX output is changed from `f g` to `f\\cdot g`. Is this for aesthetic reasons only? Personaly I would prefer `f g`, which sounds more standard notation. Maybe the opinion of a third person (Travis?) would be helpful here.\n\n\nIn general, I agree with you. When I write things down, I don't use the multiplication symbol, too. But in this case (imao), I would prefer it in order to avoid potential misunderstandings in the naming and to clarify multiplications by a scalar field -- especially when formulas get long. In addition, the multiplication symbol is more \"formal\", you know? But yes, it is just an aesthetical aspect. \n\nGreetings,\nMichael",
    "created_at": "2019-10-01T09:28:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554644",
    "user": "https://github.com/DeRhamSource"
}
```


<a id='comment:37'></a>
Replying to [egourgoulhon](#comment%3A36):
> Another remark: some of the proposed changes regarding scalar fields are actually not improvements but feature changes:
> 
> - the method `display()` without any argument currently displays the scalar field in all the top charts where the expression is known; you propose to change it to enforce the display in the greatest (sub)charts where the expression can be computed, even if they are not top charts. I'm not sure to agree with that: in the current setting, the output of `display()` is sufficient to fully characterize the scalar field (no loss of information); the extension you propose adds extra computations and results in longer outputs, which can be cumbersome for complicated scalar fields. If the user would like to know the expression of the scalar field in such a subchart, he/her can get it anyway, by passing the chart as the argument of `display()`. 


I tend not to agree. Take for instance the real line with standard "top" chart `x` and a continuous scalar field `f` like `f(x)=0 for x<-1`, `f(x)=x+1 for -1<=x<0`, `f(x)=1-x for 0<=x<1` and `f(x)=0 for x>=1`. Indeed, this scalar field is continuous. However, it has no single expression in the top chart, but four different expressions in four subcharts. At this stage, the `display()` command does not present it properly. Therefore, there is a loss of information about the scalar field, which should not happen. Or did I get something wrong?


> - regarding the multiplication of scalar fields `f` and `g`, the LaTeX output is changed from `f g` to `f\cdot g`. Is this for aesthetic reasons only? Personaly I would prefer `f g`, which sounds more standard notation. Maybe the opinion of a third person (Travis?) would be helpful here.


In general, I agree with you. When I write things down, I don't use the multiplication symbol, too. But in this case (imao), I would prefer it in order to avoid potential misunderstandings in the naming and to clarify multiplications by a scalar field -- especially when formulas get long. In addition, the multiplication symbol is more "formal", you know? But yes, it is just an aesthetical aspect. 

Greetings,
Michael



---

archive/issue_comments_554645.json:
```json
{
    "body": "<a id='comment:38'></a>\nReplying to [egourgoulhon](#comment%3A36):\n> Replying to [gh-DeRhamSource](#comment%3A35):\n> > \n> > The method `zero()` of the parent is cached. It might happen that this zero element could be manipulated after some computation returning zero (due to some user written algorithm). I tried to avoid that. Do you think this scenario is too unlikely? If so, we can give up the copies.\n\n> >\n> > ...\n\n> >\n> > Oh, I was not aware of that. However, a result of an algebraic operation has *always* been a very new instance, which knows only about the current charts and frames. The user should always be aware of that. At this stage, there is no difference to the previous code and it sounds fairly consistent to me.\n> > \n> > What do you think, which way is most convenient and user friendly?\n> > \n\n> \n> The more I think about it, the more I'm inclined to agree with you. Travis, do you have any thought about this?\n\n\nIn nearly every instance in Sage, elements are considered immutable and (algebraic) operations do produce new elements (but sometimes share information because they are treated as immutable objects and some of their parts do not change with such operations). Really there should not be any functional difference between the result of `P.zero()` and creating a new zero instance, and the cached object should be better as it should retain more intermediate computations (say, its values on different charts). If a computation is actually changing some fundamental data, then that is a bug. So I strongly believe you should be using `P.zero()` instead of creating a new zero instance.",
    "created_at": "2019-10-02T01:22:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554645",
    "user": "https://github.com/tscrim"
}
```


<a id='comment:38'></a>
Replying to [egourgoulhon](#comment%3A36):
> Replying to [gh-DeRhamSource](#comment%3A35):
> > 
> > The method `zero()` of the parent is cached. It might happen that this zero element could be manipulated after some computation returning zero (due to some user written algorithm). I tried to avoid that. Do you think this scenario is too unlikely? If so, we can give up the copies.

> >
> > ...

> >
> > Oh, I was not aware of that. However, a result of an algebraic operation has *always* been a very new instance, which knows only about the current charts and frames. The user should always be aware of that. At this stage, there is no difference to the previous code and it sounds fairly consistent to me.
> > 
> > What do you think, which way is most convenient and user friendly?
> > 

> 
> The more I think about it, the more I'm inclined to agree with you. Travis, do you have any thought about this?


In nearly every instance in Sage, elements are considered immutable and (algebraic) operations do produce new elements (but sometimes share information because they are treated as immutable objects and some of their parts do not change with such operations). Really there should not be any functional difference between the result of `P.zero()` and creating a new zero instance, and the cached object should be better as it should retain more intermediate computations (say, its values on different charts). If a computation is actually changing some fundamental data, then that is a bug. So I strongly believe you should be using `P.zero()` instead of creating a new zero instance.



---

archive/issue_comments_554646.json:
```json
{
    "body": "<a id='comment:39'></a>\nReplying to [tscrim](#comment%3A38):\n> In nearly every instance in Sage, elements are considered immutable and (algebraic) operations do produce new elements (but sometimes share information because they are treated as immutable objects and some of their parts do not change with such operations). Really there should not be any functional difference between the result of `P.zero()` and creating a new zero instance, and the cached object should be better as it should retain more intermediate computations (say, its values on different charts). If a computation is actually changing some fundamental data, then that is a bug. So I strongly believe you should be using `P.zero()` instead of creating a new zero instance.\n\n\nAnd what about keeping an instance of zero internally, changing it internally, and returning a copy of it via `zero()`? Then, the zero is safe, anyway.\n\nHowever, my thoughts on this were the following: Assume someone is filling up a mixed form with zeroes and uses the `set_restriction` method, which invokes all `set_restriction` methods of its components, to get a new form (just for convenience because most of the components of the resulting mixed form shall be zero in the end). Then, this has an effect on the cached zero elements. Because of that, I decided to copy all the components of the mixed form before declaring them. For consistency reasons I changed everything up like it is now.\n\nDo you have a better suggestion for this kind of situation? And how would you manage it: Copies or no copies for mixed forms?",
    "created_at": "2019-10-02T09:10:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554646",
    "user": "https://github.com/DeRhamSource"
}
```


<a id='comment:39'></a>
Replying to [tscrim](#comment%3A38):
> In nearly every instance in Sage, elements are considered immutable and (algebraic) operations do produce new elements (but sometimes share information because they are treated as immutable objects and some of their parts do not change with such operations). Really there should not be any functional difference between the result of `P.zero()` and creating a new zero instance, and the cached object should be better as it should retain more intermediate computations (say, its values on different charts). If a computation is actually changing some fundamental data, then that is a bug. So I strongly believe you should be using `P.zero()` instead of creating a new zero instance.


And what about keeping an instance of zero internally, changing it internally, and returning a copy of it via `zero()`? Then, the zero is safe, anyway.

However, my thoughts on this were the following: Assume someone is filling up a mixed form with zeroes and uses the `set_restriction` method, which invokes all `set_restriction` methods of its components, to get a new form (just for convenience because most of the components of the resulting mixed form shall be zero in the end). Then, this has an effect on the cached zero elements. Because of that, I decided to copy all the components of the mixed form before declaring them. For consistency reasons I changed everything up like it is now.

Do you have a better suggestion for this kind of situation? And how would you manage it: Copies or no copies for mixed forms?



---

archive/issue_comments_554647.json:
```json
{
    "body": "<a id='comment:40'></a>\nReplying to [gh-DeRhamSource](#comment%3A39):\n> Replying to [tscrim](#comment%3A38):\n> > In nearly every instance in Sage, elements are considered immutable and (algebraic) operations do produce new elements (but sometimes share information because they are treated as immutable objects and some of their parts do not change with such operations). Really there should not be any functional difference between the result of `P.zero()` and creating a new zero instance, and the cached object should be better as it should retain more intermediate computations (say, its values on different charts). If a computation is actually changing some fundamental data, then that is a bug. So I strongly believe you should be using `P.zero()` instead of creating a new zero instance.\n\n> \n> And what about keeping an instance of zero internally, changing it internally, and returning a copy of it via `zero()`? Then, the zero is safe, anyway.\n\n\n-1 as that defeats the purpose.\n\n> However, my thoughts on this were the following: Assume someone is filling up a mixed form with zeroes and uses the `set_restriction` method, which invokes all `set_restriction` methods of its components, to get a new form (just for convenience because most of the components of the resulting mixed form shall be zero in the end). Then, this has an effect on the cached zero elements. Because of that, I decided to copy all the components of the mixed form before declaring them. For consistency reasons I changed everything up like it is now.\n\n\nIf that fundamentally changes the zero from what it is intended to representation, which it sounds like you are saying it does (I am a bit out of my depth mathematically here), then that is a bug with the `set_restriction` method. This might a little better/easier for me to see with a more explicit example.\n\n> Do you have a better suggestion for this kind of situation? And how would you manage it: Copies or no copies for mixed forms?\n\n\nIf there really is no other way out of this with keeping the cached behavior, then you have to manually copy the elements when creating the mixed forms.",
    "created_at": "2019-10-02T11:35:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554647",
    "user": "https://github.com/tscrim"
}
```


<a id='comment:40'></a>
Replying to [gh-DeRhamSource](#comment%3A39):
> Replying to [tscrim](#comment%3A38):
> > In nearly every instance in Sage, elements are considered immutable and (algebraic) operations do produce new elements (but sometimes share information because they are treated as immutable objects and some of their parts do not change with such operations). Really there should not be any functional difference between the result of `P.zero()` and creating a new zero instance, and the cached object should be better as it should retain more intermediate computations (say, its values on different charts). If a computation is actually changing some fundamental data, then that is a bug. So I strongly believe you should be using `P.zero()` instead of creating a new zero instance.

> 
> And what about keeping an instance of zero internally, changing it internally, and returning a copy of it via `zero()`? Then, the zero is safe, anyway.


-1 as that defeats the purpose.

> However, my thoughts on this were the following: Assume someone is filling up a mixed form with zeroes and uses the `set_restriction` method, which invokes all `set_restriction` methods of its components, to get a new form (just for convenience because most of the components of the resulting mixed form shall be zero in the end). Then, this has an effect on the cached zero elements. Because of that, I decided to copy all the components of the mixed form before declaring them. For consistency reasons I changed everything up like it is now.


If that fundamentally changes the zero from what it is intended to representation, which it sounds like you are saying it does (I am a bit out of my depth mathematically here), then that is a bug with the `set_restriction` method. This might a little better/easier for me to see with a more explicit example.

> Do you have a better suggestion for this kind of situation? And how would you manage it: Copies or no copies for mixed forms?


If there really is no other way out of this with keeping the cached behavior, then you have to manually copy the elements when creating the mixed forms.



---

archive/issue_comments_554648.json:
```json
{
    "body": "<a id='comment:41'></a>\nHere comes an examples, like it is now (without copies):\n\n```\nsage: S2 = Manifold(2, 'S^2')\nsage: U = S2.open_subset('U') ; V = S2.open_subset('V') # complement of the North and South pole, respectively\nsage: S2.declare_union(U,V)\nsage: stereoN.<x,y> = U.chart() # stereographic coordinates from the North pole\nsage: stereoS.<u,v> = V.chart() # stereographic coordinates from the South pole\nsage: xy_to_uv = stereoN.transition_map(stereoS,\n....:                                   (x/(x^2+y^2), y/(x^2+y^2)),\n....:                                   intersection_name='W',\n....:                                   restrictions1= x^2+y^2!=0,\n....:                                   restrictions2= u^2+v^2!=0)\nsage: W = U.intersection(V)\nsage: uv_to_xy = xy_to_uv.inverse()\nsage: omegaU = U.diff_form(1, name='omega')\nsage: omegaU[:] = [2,3]; omegaU.display()\nomega = 2 dx + 3 dy\nsage: FU = U.mixed_form(name='F')\nsage: FU[:] = [1,omegaU,0]\nsage: FU.display()\nF = (unnamed scalar field)  + omega + zero\nsage: F = S2.mixed_form(name='F')\nsage: F[:] = [0,0,0]\nsage: F.set_restriction(FU)\nsage: F.display()\nF = zero + zero + zero\nsage: F[1].display()\nzero = 2 dx + 3 dy\nsage: F[1] is S2.diff_form_module(1).zero()\nTrue\n```\n\nBut now, I see your point. The restriction is called `zero` and this indicates that this **is** the immutable zero element, no matter what. The user should be aware of that.\n\nBut then, the `set_restriction` method is not useful anymore. It was introduced to facilitate things -- setting the restriction of all forms in just one command (for future implementations).\n\nAny ideas how to solve this?",
    "created_at": "2019-10-02T12:03:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554648",
    "user": "https://github.com/DeRhamSource"
}
```


<a id='comment:41'></a>
Here comes an examples, like it is now (without copies):

```
sage: S2 = Manifold(2, 'S^2')
sage: U = S2.open_subset('U') ; V = S2.open_subset('V') # complement of the North and South pole, respectively
sage: S2.declare_union(U,V)
sage: stereoN.<x,y> = U.chart() # stereographic coordinates from the North pole
sage: stereoS.<u,v> = V.chart() # stereographic coordinates from the South pole
sage: xy_to_uv = stereoN.transition_map(stereoS,
....:                                   (x/(x^2+y^2), y/(x^2+y^2)),
....:                                   intersection_name='W',
....:                                   restrictions1= x^2+y^2!=0,
....:                                   restrictions2= u^2+v^2!=0)
sage: W = U.intersection(V)
sage: uv_to_xy = xy_to_uv.inverse()
sage: omegaU = U.diff_form(1, name='omega')
sage: omegaU[:] = [2,3]; omegaU.display()
omega = 2 dx + 3 dy
sage: FU = U.mixed_form(name='F')
sage: FU[:] = [1,omegaU,0]
sage: FU.display()
F = (unnamed scalar field)  + omega + zero
sage: F = S2.mixed_form(name='F')
sage: F[:] = [0,0,0]
sage: F.set_restriction(FU)
sage: F.display()
F = zero + zero + zero
sage: F[1].display()
zero = 2 dx + 3 dy
sage: F[1] is S2.diff_form_module(1).zero()
True
```

But now, I see your point. The restriction is called `zero` and this indicates that this **is** the immutable zero element, no matter what. The user should be aware of that.

But then, the `set_restriction` method is not useful anymore. It was introduced to facilitate things -- setting the restriction of all forms in just one command (for future implementations).

Any ideas how to solve this?



---

archive/issue_comments_554649.json:
```json
{
    "body": "<a id='comment:42'></a>\nBut then, one question arises for me: Due to your argument that all algebraic objects are considered immutable, the addition with zero should not return a copy, then:\n\n```\n        # Special cases:\n        if self._is_zero:\n            return other.copy()\n        if other._is_zero:\n            return self.copy()\n```\n \nThis is a snippet from the previous code of `scalarfield.py` in the method `_add_`. This should be changed, right? In addition, returning the very same instance is faster.",
    "created_at": "2019-10-02T17:10:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554649",
    "user": "https://github.com/DeRhamSource"
}
```


<a id='comment:42'></a>
But then, one question arises for me: Due to your argument that all algebraic objects are considered immutable, the addition with zero should not return a copy, then:

```
        # Special cases:
        if self._is_zero:
            return other.copy()
        if other._is_zero:
            return self.copy()
```
 
This is a snippet from the previous code of `scalarfield.py` in the method `_add_`. This should be changed, right? In addition, returning the very same instance is faster.



---

archive/issue_comments_554650.json:
```json
{
    "body": "<a id='comment:43'></a>\nReplying to [gh-DeRhamSource](#comment%3A42):\n> But then, one question arises for me: Due to your argument that all algebraic objects are considered immutable, the addition with zero should not return a copy, then:\n> \n> ```\n>         # Special cases:\n>         if self._is_zero:\n>             return other.copy()\n>         if other._is_zero:\n>             return self.copy()\n> ```\n>  \n> This is a snippet from the previous code of `scalarfield.py` in the method `_add_`. This should be changed, right? In addition, returning the very same instance is faster. \n\n\nYes, I agree that should be changed to return same instance.\n\nHowever, I am not sure I understand why `set_restriction` is not useful anymore. What about if there are other forms?",
    "created_at": "2019-10-03T01:32:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554650",
    "user": "https://github.com/tscrim"
}
```


<a id='comment:43'></a>
Replying to [gh-DeRhamSource](#comment%3A42):
> But then, one question arises for me: Due to your argument that all algebraic objects are considered immutable, the addition with zero should not return a copy, then:
> 
> ```
>         # Special cases:
>         if self._is_zero:
>             return other.copy()
>         if other._is_zero:
>             return self.copy()
> ```
>  
> This is a snippet from the previous code of `scalarfield.py` in the method `_add_`. This should be changed, right? In addition, returning the very same instance is faster. 


Yes, I agree that should be changed to return same instance.

However, I am not sure I understand why `set_restriction` is not useful anymore. What about if there are other forms?



---

archive/issue_comments_554651.json:
```json
{
    "body": "<a id='comment:44'></a>\nReplying to [tscrim](#comment%3A43):\n> Yes, I agree that should be changed to return same instance.\n\n\nI'll change this. \n\n> However, I am not sure I understand why `set_restriction` is not useful anymore. What about if there are other forms?\n\n\nOnce a differential form is established and ready for further use, it shall be considered as immutable, right? When a mixed form is fed by these forms, `set_restriction` alters the as immutable seen forms, which should not happen due to your consideration.\n\nPerhaps it is better to implement a mixed form as an own independent algebraic object which should be initialized in a similar way as differential forms. The components must be set individually anyway. What do you think?",
    "created_at": "2019-10-03T11:13:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554651",
    "user": "https://github.com/DeRhamSource"
}
```


<a id='comment:44'></a>
Replying to [tscrim](#comment%3A43):
> Yes, I agree that should be changed to return same instance.


I'll change this. 

> However, I am not sure I understand why `set_restriction` is not useful anymore. What about if there are other forms?


Once a differential form is established and ready for further use, it shall be considered as immutable, right? When a mixed form is fed by these forms, `set_restriction` alters the as immutable seen forms, which should not happen due to your consideration.

Perhaps it is better to implement a mixed form as an own independent algebraic object which should be initialized in a similar way as differential forms. The components must be set individually anyway. What do you think?



---

archive/issue_comments_554652.json:
```json
{
    "body": "<a id='comment:45'></a>\nThanks to both of you for this interesting and constructive discussion. Sorry for the delay in replying (I was AFAK for a while).\n\nReplying to [tscrim](#comment%3A43):\n> Replying to [gh-DeRhamSource](#comment%3A42):\n> > But then, one question arises for me: Due to your argument that all algebraic objects are considered immutable, the addition with zero should not return a copy, then:\n> > \n> > ```\n> >         # Special cases:\n> >         if self._is_zero:\n> >             return other.copy()\n> >         if other._is_zero:\n> >             return self.copy()\n> > ```\n> >  \n> > This is a snippet from the previous code of `scalarfield.py` in the method `_add_`. This should be changed, right? In addition, returning the very same instance is faster. \n\n> \n> Yes, I agree that should be changed to return same instance.\n> \n\n\nThe point is that tensor field objects (including scalar fields and differential forms) are not immutable, except for the zero element. They cannot be made immutable because, in general, they cannot be fully defined at their creation: they are defined \"on the fly\" by adding some piece of information like\n\n```\nsage: s.add_expr(1+x, chart=X)\nsage: t[0,1] = 1+x\n```\nfor a scalar field `s` and a tensor field `t`.\n\nThings are different for the zero elements: they are fully defined at their creation and they should be immutable. This is not enforced though, and we have currently the following garbage in / garbage out  bugs:\n\n```\nsage: M = Manifold(2, 'M')\nsage: X.<x,y> = M.chart()\nsage: zv = M.vector_field_module().zero()\nsage: zv.display()\nzero = 0\nsage: zv[0] = 1 + x  # this should not be allowed!\nsage: zv.display()\nzero = (x + 1) d/dx\nsage: zv is M.vector_field_module().zero()  # ouch!\nTrue\nsage: zs = M.scalar_field_algebra().zero()\nsage: zs.display()\nzero: M --> R\n   (x, y) |--> 0\nsage: zs.set_expr(1 + x)  # this should not be allowed!\nsage: zs.display()\nzero: M --> R\n   (x, y) |--> x + 1\nsage: zs is M.scalar_field_algebra().zero()  # ouch!\nTrue\n```\nThe natural way to enforce the immutability of the zero element would be to subclass the element class. Unfortunately, this turns out to be impossible in Sage's !Parent/Element framework, cf. this [sage-devel discussion](https://groups.google.com/forum/#!topic/sage-devel/tZW9T-AixBQ).\n\n\n> However, I am not sure I understand why `set_restriction` is not useful anymore. What about if there are other forms?\n\n\n`set_restriction` should handle properly the zero case: if some element is a zero element, then it should replace it by an ordinary object which equals to zero and apply the restriction to it, making it no longer equal to zero.",
    "created_at": "2019-10-03T11:21:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554652",
    "user": "https://github.com/egourgoulhon"
}
```


<a id='comment:45'></a>
Thanks to both of you for this interesting and constructive discussion. Sorry for the delay in replying (I was AFAK for a while).

Replying to [tscrim](#comment%3A43):
> Replying to [gh-DeRhamSource](#comment%3A42):
> > But then, one question arises for me: Due to your argument that all algebraic objects are considered immutable, the addition with zero should not return a copy, then:
> > 
> > ```
> >         # Special cases:
> >         if self._is_zero:
> >             return other.copy()
> >         if other._is_zero:
> >             return self.copy()
> > ```
> >  
> > This is a snippet from the previous code of `scalarfield.py` in the method `_add_`. This should be changed, right? In addition, returning the very same instance is faster. 

> 
> Yes, I agree that should be changed to return same instance.
> 


The point is that tensor field objects (including scalar fields and differential forms) are not immutable, except for the zero element. They cannot be made immutable because, in general, they cannot be fully defined at their creation: they are defined "on the fly" by adding some piece of information like

```
sage: s.add_expr(1+x, chart=X)
sage: t[0,1] = 1+x
```
for a scalar field `s` and a tensor field `t`.

Things are different for the zero elements: they are fully defined at their creation and they should be immutable. This is not enforced though, and we have currently the following garbage in / garbage out  bugs:

```
sage: M = Manifold(2, 'M')
sage: X.<x,y> = M.chart()
sage: zv = M.vector_field_module().zero()
sage: zv.display()
zero = 0
sage: zv[0] = 1 + x  # this should not be allowed!
sage: zv.display()
zero = (x + 1) d/dx
sage: zv is M.vector_field_module().zero()  # ouch!
True
sage: zs = M.scalar_field_algebra().zero()
sage: zs.display()
zero: M --> R
   (x, y) |--> 0
sage: zs.set_expr(1 + x)  # this should not be allowed!
sage: zs.display()
zero: M --> R
   (x, y) |--> x + 1
sage: zs is M.scalar_field_algebra().zero()  # ouch!
True
```
The natural way to enforce the immutability of the zero element would be to subclass the element class. Unfortunately, this turns out to be impossible in Sage's !Parent/Element framework, cf. this [sage-devel discussion](https://groups.google.com/forum/#!topic/sage-devel/tZW9T-AixBQ).


> However, I am not sure I understand why `set_restriction` is not useful anymore. What about if there are other forms?


`set_restriction` should handle properly the zero case: if some element is a zero element, then it should replace it by an ordinary object which equals to zero and apply the restriction to it, making it no longer equal to zero.



---

archive/issue_comments_554653.json:
```json
{
    "body": "<a id='comment:46'></a>\nReplying to [gh-DeRhamSource](#comment%3A37):\n> Replying to [egourgoulhon](#comment%3A36):\n> > Another remark: some of the proposed changes regarding scalar fields are actually not improvements but feature changes:\n> > \n> > - the method `display()` without any argument currently displays the scalar field in all the top charts where the expression is known; you propose to change it to enforce the display in the greatest (sub)charts where the expression can be computed, even if they are not top charts. I'm not sure to agree with that: in the current setting, the output of `display()` is sufficient to fully characterize the scalar field (no loss of information); the extension you propose adds extra computations and results in longer outputs, which can be cumbersome for complicated scalar fields. If the user would like to know the expression of the scalar field in such a subchart, he/her can get it anyway, by passing the chart as the argument of `display()`. \n \n> \n> I tend not to agree. Take for instance the real line with standard \"top\" chart `x` and a continuous scalar field `f` like `f(x)=0 for x<-1`, `f(x)=x+1 for -1<=x<0`, `f(x)=1-x for 0<=x<1` and `f(x)=0 for x>=1`. Indeed, this scalar field is continuous. However, it has no single expression in the top chart, but four different expressions in four subcharts. At this stage, the `display()` command does not present it properly. Therefore, there is a loss of information about the scalar field, which should not happen. Or did I get something wrong?\n> \n\n\nIn the current implementation, your example scalar field should be defined at the level of the top chart, by something like\n\n```\nf = M.scalar_field( unit_step(x + 1)*unit_step(1 - x)*(1 - abs(x)) )\n```\nIn other words, subcharts are not intended to store key information about piecewise defined functions. Maybe the whole code could be changed to allow for this, since this is certainly more user friendly than the above `unit_step` operations. But this should be done in a different ticket.",
    "created_at": "2019-10-03T11:34:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554653",
    "user": "https://github.com/egourgoulhon"
}
```


<a id='comment:46'></a>
Replying to [gh-DeRhamSource](#comment%3A37):
> Replying to [egourgoulhon](#comment%3A36):
> > Another remark: some of the proposed changes regarding scalar fields are actually not improvements but feature changes:
> > 
> > - the method `display()` without any argument currently displays the scalar field in all the top charts where the expression is known; you propose to change it to enforce the display in the greatest (sub)charts where the expression can be computed, even if they are not top charts. I'm not sure to agree with that: in the current setting, the output of `display()` is sufficient to fully characterize the scalar field (no loss of information); the extension you propose adds extra computations and results in longer outputs, which can be cumbersome for complicated scalar fields. If the user would like to know the expression of the scalar field in such a subchart, he/her can get it anyway, by passing the chart as the argument of `display()`. 
 
> 
> I tend not to agree. Take for instance the real line with standard "top" chart `x` and a continuous scalar field `f` like `f(x)=0 for x<-1`, `f(x)=x+1 for -1<=x<0`, `f(x)=1-x for 0<=x<1` and `f(x)=0 for x>=1`. Indeed, this scalar field is continuous. However, it has no single expression in the top chart, but four different expressions in four subcharts. At this stage, the `display()` command does not present it properly. Therefore, there is a loss of information about the scalar field, which should not happen. Or did I get something wrong?
> 


In the current implementation, your example scalar field should be defined at the level of the top chart, by something like

```
f = M.scalar_field( unit_step(x + 1)*unit_step(1 - x)*(1 - abs(x)) )
```
In other words, subcharts are not intended to store key information about piecewise defined functions. Maybe the whole code could be changed to allow for this, since this is certainly more user friendly than the above `unit_step` operations. But this should be done in a different ticket.



---

archive/issue_comments_554654.json:
```json
{
    "body": "<a id='comment:47'></a>\nReplying to [egourgoulhon](#comment%3A45):\n> The natural way to enforce the immutability of the zero element would be to subclass the element class. Unfortunately, this turns out to be impossible in Sage's !Parent/Element framework, cf. this [sage-devel discussion](https://groups.google.com/forum/#!topic/sage-devel/tZW9T-AixBQ).\n> \n\nSee also [this thread](https://groups.google.com/forum/#!topic/sage-devel/F7DTZXYaw48), which might be relevant.",
    "created_at": "2019-10-03T11:41:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554654",
    "user": "https://github.com/egourgoulhon"
}
```


<a id='comment:47'></a>
Replying to [egourgoulhon](#comment%3A45):
> The natural way to enforce the immutability of the zero element would be to subclass the element class. Unfortunately, this turns out to be impossible in Sage's !Parent/Element framework, cf. this [sage-devel discussion](https://groups.google.com/forum/#!topic/sage-devel/tZW9T-AixBQ).
> 

See also [this thread](https://groups.google.com/forum/#!topic/sage-devel/F7DTZXYaw48), which might be relevant.



---

archive/issue_comments_554655.json:
```json
{
    "body": "<a id='comment:48'></a>\nReplying to [egourgoulhon](#comment%3A46):\n> In the current implementation, your example scalar field should be defined at the level of the top chart, by something like\n> \n> ```\n> f = M.scalar_field( unit_step(x + 1)*unit_step(1 - x)*(1 - abs(x)) )\n> ```\n> In other words, subcharts are not intended to store key information about piecewise defined functions. Maybe the whole code could be changed to allow for this, since this is certainly more user friendly than the above `unit_step` operations. But this should be done in a different ticket.\n\n\nCertainly, a `set_restriction` method is way more user friendly and (in my opinion) preferrable -- especially, in order to make the behaviour of scalar fields and tensor fields more consistent. Furthermore, one can use `add_expr_by_continuation` in this case more effectively. \n\nThe `display` method, as it is now in this ticket, can be very slow if the expressions are quite complicated. However, when the user wishes a short computation, he can choose a particular chart in which the caclulation should be done.\n\nThe algorithm I wrote starts from the top chart downwards and immediately stops if an expression is found. So, the computation time depends on how small the scalar field is split. Another approach would be, to display only *known* expressions and compute new expressions only if a particular chart is stated.\n\nI can open a new ticket on this issue if you wish.\n\n(EDIT: I opened a new ticket #28554 regarding this issue.)",
    "created_at": "2019-10-03T16:44:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554655",
    "user": "https://github.com/DeRhamSource"
}
```


<a id='comment:48'></a>
Replying to [egourgoulhon](#comment%3A46):
> In the current implementation, your example scalar field should be defined at the level of the top chart, by something like
> 
> ```
> f = M.scalar_field( unit_step(x + 1)*unit_step(1 - x)*(1 - abs(x)) )
> ```
> In other words, subcharts are not intended to store key information about piecewise defined functions. Maybe the whole code could be changed to allow for this, since this is certainly more user friendly than the above `unit_step` operations. But this should be done in a different ticket.


Certainly, a `set_restriction` method is way more user friendly and (in my opinion) preferrable -- especially, in order to make the behaviour of scalar fields and tensor fields more consistent. Furthermore, one can use `add_expr_by_continuation` in this case more effectively. 

The `display` method, as it is now in this ticket, can be very slow if the expressions are quite complicated. However, when the user wishes a short computation, he can choose a particular chart in which the caclulation should be done.

The algorithm I wrote starts from the top chart downwards and immediately stops if an expression is found. So, the computation time depends on how small the scalar field is split. Another approach would be, to display only *known* expressions and compute new expressions only if a particular chart is stated.

I can open a new ticket on this issue if you wish.

(EDIT: I opened a new ticket #28554 regarding this issue.)



---

archive/issue_comments_554656.json:
```json
{
    "body": "<a id='comment:49'></a>\nFor now, I see two ways to go:\n\n1) We accept that forms are not immutable. Then, copies in every corner are my preferability to avoid unwanted effects.\n\n2) We see forms as immutable **as soon as all components are set** (which seems to make sense).\n\nEither way, we should implement it consistently and make a remark or note in the documentary. What do you say?",
    "created_at": "2019-10-03T17:09:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554656",
    "user": "https://github.com/DeRhamSource"
}
```


<a id='comment:49'></a>
For now, I see two ways to go:

1) We accept that forms are not immutable. Then, copies in every corner are my preferability to avoid unwanted effects.

2) We see forms as immutable **as soon as all components are set** (which seems to make sense).

Either way, we should implement it consistently and make a remark or note in the documentary. What do you say?



---

archive/issue_comments_554657.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -8,7 +8,7 @@\n \n **Scalar Fields**\n \n-- scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the `display()` method shows *all* known expressions. For each such expression, the greatest domain, where this expression is known, is displayed.\n+- scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the `display()` method shows *all* known expressions. For each such expression, the greatest domain, where this expression is known, is displayed (redirected to #28554).\n - now, multiplication of named scalar fields `f` and `g` leads to `f \\cdot g` in LaTeX code\n - division by zero in `_div_()` is now checked via `is_trivial_zero()`\n \n``````\n",
    "created_at": "2019-10-03T17:45:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554657",
    "user": "https://github.com/DeRhamSource"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -8,7 +8,7 @@
 
 **Scalar Fields**
 
-- scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the `display()` method shows *all* known expressions. For each such expression, the greatest domain, where this expression is known, is displayed.
+- scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the `display()` method shows *all* known expressions. For each such expression, the greatest domain, where this expression is known, is displayed (redirected to #28554).
 - now, multiplication of named scalar fields `f` and `g` leads to `f \cdot g` in LaTeX code
 - division by zero in `_div_()` is now checked via `is_trivial_zero()`
 
``````




---

archive/issue_comments_554658.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -8,7 +8,7 @@\n \n **Scalar Fields**\n \n-- scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the `display()` method shows *all* known expressions. For each such expression, the greatest domain, where this expression is known, is displayed (redirected to #28554).\n+- scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the `display()` method shows *all* known expressions. For each such expression, the greatest domain, where this expression is known, is displayed (moved to #28554).\n - now, multiplication of named scalar fields `f` and `g` leads to `f \\cdot g` in LaTeX code\n - division by zero in `_div_()` is now checked via `is_trivial_zero()`\n \n``````\n",
    "created_at": "2019-10-03T17:58:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554658",
    "user": "https://github.com/DeRhamSource"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -8,7 +8,7 @@
 
 **Scalar Fields**
 
-- scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the `display()` method shows *all* known expressions. For each such expression, the greatest domain, where this expression is known, is displayed (redirected to #28554).
+- scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the `display()` method shows *all* known expressions. For each such expression, the greatest domain, where this expression is known, is displayed (moved to #28554).
 - now, multiplication of named scalar fields `f` and `g` leads to `f \cdot g` in LaTeX code
 - division by zero in `_div_()` is now checked via `is_trivial_zero()`
 
``````




---

archive/issue_comments_554659.json:
```json
{
    "body": "<a id='comment:52'></a>\nAdding extra information is not changing the element to me, it is still (suppose to be) representing the same, e.g., tensor field but with more information. Enforcing this is a near impossible task IMO, so we just assume good user input (as I think we should), which preserves the element. Since mathematically we have `x + 0 = x`, a user should not expect that mutating `x+0` is different than mutating `x`.\n\nAlso for the immutability of the zero, ever place you do something that mutates it, just add a check for the `_is_zero` and raise an error if you do mutate it since it is a special element.",
    "created_at": "2019-10-04T00:30:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554659",
    "user": "https://github.com/tscrim"
}
```


<a id='comment:52'></a>
Adding extra information is not changing the element to me, it is still (suppose to be) representing the same, e.g., tensor field but with more information. Enforcing this is a near impossible task IMO, so we just assume good user input (as I think we should), which preserves the element. Since mathematically we have `x + 0 = x`, a user should not expect that mutating `x+0` is different than mutating `x`.

Also for the immutability of the zero, ever place you do something that mutates it, just add a check for the `_is_zero` and raise an error if you do mutate it since it is a special element.



---

archive/issue_comments_554660.json:
```json
{
    "body": "<a id='comment:53'></a>\nOkay. I'm going to create a new branch. Due to our discussion, treating the components of mixed forms as immutable/fixed -- in the sense of our previous argumentation -- is an appropriate way, in my opinion.\n\nThe issues about scalar fields are mainly moved to ticket #28554. I guess, a whole new discussion arises there.\n\nDo you agree?",
    "created_at": "2019-10-04T08:38:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554660",
    "user": "https://github.com/DeRhamSource"
}
```


<a id='comment:53'></a>
Okay. I'm going to create a new branch. Due to our discussion, treating the components of mixed forms as immutable/fixed -- in the sense of our previous argumentation -- is an appropriate way, in my opinion.

The issues about scalar fields are mainly moved to ticket #28554. I guess, a whole new discussion arises there.

Do you agree?



---

archive/issue_comments_554661.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,16 +1,14 @@\n **Mixed Forms** \n \n - readability of code improved in `mixed_form.py` and `mixed_form_algebra.py`\n-- now, mixed form components are declared as copies\n-- `set_form_name()` method is added\n-- now, the `display()` method displays only names\n-- `display_expansion()` method is added; `display_expansion()` shows the expansion in a particular frame and chart\n+- now, mixed form components are seen as immutable in the sense of the discussion below; as a result, the component setup is modified\n+- now, the `display()` method shows **only** the expansion in a particular frame and chart\n \n **Scalar Fields**\n \n-- scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the `display()` method shows *all* known expressions. For each such expression, the greatest domain, where this expression is known, is displayed (moved to #28554).\n-- now, multiplication of named scalar fields `f` and `g` leads to `f \\cdot g` in LaTeX code\n-- division by zero in `_div_()` is now checked via `is_trivial_zero()`\n+- ~~scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the `display()` method shows *all* known expressions. For each such expression, the greatest domain, where this expression is known, is displayed~~ (moved to #28554).\n+- ~~now, multiplication of named scalar fields `f` and `g` leads to `f \\cdot g` in LaTeX code~~ (moved to #28554)\n+- ~~division by zero in `_div_()` is now checked via `is_trivial_zero()`~~ (moved to #28554)\n \n ** Differential Forms / Tensor Fields**\n \n@@ -22,8 +20,9 @@\n **Various**\n \n - more consistency between scalar fields and tensor fields:\n-  - a copy of scalar fields took the name from the original, a copy of tensor fields did not; now, a copy takes the name in any case\n-  - method `set_restriction()` added to scalar fields\n-  - coercion via restriction rearranged in scalar fields following tensor fields\n+  - a copy of scalar fields took the name from the original, a copy of tensor fields did not; now, a copy takes the name in any case (in moment of creation, the copy is the very same algebraic object)\n+  - ~~method `set_restriction()` added to scalar fields~~ (moved to #28554)\n+  - ~~coercion via restriction rearranged in scalar fields following tensor fields~~ (moved to #28554)\n - minor code rearrangements, i.e. for code reuse or consistency\n - `copy()` now inherits the attribute `_is_zero` from the original (both for tensor fields and scalar fields) to ensure better zero treatment\n+- manipulation of the zero element raises an error\n``````\n",
    "created_at": "2019-10-04T08:38:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554661",
    "user": "https://github.com/DeRhamSource"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -1,16 +1,14 @@
 **Mixed Forms** 
 
 - readability of code improved in `mixed_form.py` and `mixed_form_algebra.py`
-- now, mixed form components are declared as copies
-- `set_form_name()` method is added
-- now, the `display()` method displays only names
-- `display_expansion()` method is added; `display_expansion()` shows the expansion in a particular frame and chart
+- now, mixed form components are seen as immutable in the sense of the discussion below; as a result, the component setup is modified
+- now, the `display()` method shows **only** the expansion in a particular frame and chart
 
 **Scalar Fields**
 
-- scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the `display()` method shows *all* known expressions. For each such expression, the greatest domain, where this expression is known, is displayed (moved to #28554).
-- now, multiplication of named scalar fields `f` and `g` leads to `f \cdot g` in LaTeX code
-- division by zero in `_div_()` is now checked via `is_trivial_zero()`
+- ~~scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the `display()` method shows *all* known expressions. For each such expression, the greatest domain, where this expression is known, is displayed~~ (moved to #28554).
+- ~~now, multiplication of named scalar fields `f` and `g` leads to `f \cdot g` in LaTeX code~~ (moved to #28554)
+- ~~division by zero in `_div_()` is now checked via `is_trivial_zero()`~~ (moved to #28554)
 
 ** Differential Forms / Tensor Fields**
 
@@ -22,8 +20,9 @@
 **Various**
 
 - more consistency between scalar fields and tensor fields:
-  - a copy of scalar fields took the name from the original, a copy of tensor fields did not; now, a copy takes the name in any case
-  - method `set_restriction()` added to scalar fields
-  - coercion via restriction rearranged in scalar fields following tensor fields
+  - a copy of scalar fields took the name from the original, a copy of tensor fields did not; now, a copy takes the name in any case (in moment of creation, the copy is the very same algebraic object)
+  - ~~method `set_restriction()` added to scalar fields~~ (moved to #28554)
+  - ~~coercion via restriction rearranged in scalar fields following tensor fields~~ (moved to #28554)
 - minor code rearrangements, i.e. for code reuse or consistency
 - `copy()` now inherits the attribute `_is_zero` from the original (both for tensor fields and scalar fields) to ensure better zero treatment
+- manipulation of the zero element raises an error
``````




---

archive/issue_comments_554662.json:
```json
{
    "body": "<a id='comment:54'></a>\nReplying to [gh-DeRhamSource](#comment%3A48):\n> \n> I can open a new ticket on this issue if you wish.\n> \n> (EDIT: I opened a new ticket #28554 regarding this issue.)\n\n\nVery good. I've added it to the metaticket #18528 (btw, feel free to add a link in the metaticket each time you open a ticket related to manifolds).",
    "created_at": "2019-10-04T14:34:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554662",
    "user": "https://github.com/egourgoulhon"
}
```


<a id='comment:54'></a>
Replying to [gh-DeRhamSource](#comment%3A48):
> 
> I can open a new ticket on this issue if you wish.
> 
> (EDIT: I opened a new ticket #28554 regarding this issue.)


Very good. I've added it to the metaticket #18528 (btw, feel free to add a link in the metaticket each time you open a ticket related to manifolds).



---

archive/issue_comments_554663.json:
```json
{
    "body": "<a id='comment:55'></a>\nReplying to [tscrim](#comment%3A52):\n> Adding extra information is not changing the element to me, it is still (suppose to be) representing the same, e.g., tensor field but with more information. Enforcing this is a near impossible task IMO, so we just assume good user input (as I think we should), which preserves the element. Since mathematically we have `x + 0 = x`, a user should not expect that mutating `x+0` is different than mutating `x`.\n> \n\n\n+1\n\n> Also for the immutability of the zero, ever place you do something that mutates it, just add a check for the `_is_zero` and raise an error if you do mutate it since it is a special element.\n\n\n+1",
    "created_at": "2019-10-04T14:43:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554663",
    "user": "https://github.com/egourgoulhon"
}
```


<a id='comment:55'></a>
Replying to [tscrim](#comment%3A52):
> Adding extra information is not changing the element to me, it is still (suppose to be) representing the same, e.g., tensor field but with more information. Enforcing this is a near impossible task IMO, so we just assume good user input (as I think we should), which preserves the element. Since mathematically we have `x + 0 = x`, a user should not expect that mutating `x+0` is different than mutating `x`.
> 


+1

> Also for the immutability of the zero, ever place you do something that mutates it, just add a check for the `_is_zero` and raise an error if you do mutate it since it is a special element.


+1



---

archive/issue_comments_554664.json:
```json
{
    "body": "<a id='comment:56'></a>\nReplying to [gh-DeRhamSource](#comment%3A53):\n> Okay. I'm going to create a new branch. Due to our discussion, treating the components of mixed forms as immutable/fixed -- in the sense of our previous argumentation -- is an appropriate way, in my opinion.\n> \n> The issues about scalar fields are mainly moved to ticket #28554. I guess, a whole new discussion arises there.\n> \n> Do you agree?\n\n\nYes, it is usually good to split different issues in various tickets.",
    "created_at": "2019-10-04T14:47:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554664",
    "user": "https://github.com/egourgoulhon"
}
```


<a id='comment:56'></a>
Replying to [gh-DeRhamSource](#comment%3A53):
> Okay. I'm going to create a new branch. Due to our discussion, treating the components of mixed forms as immutable/fixed -- in the sense of our previous argumentation -- is an appropriate way, in my opinion.
> 
> The issues about scalar fields are mainly moved to ticket #28554. I guess, a whole new discussion arises there.
> 
> Do you agree?


Yes, it is usually good to split different issues in various tickets.



---

archive/issue_comments_554665.json:
```json
{
    "body": "<a id='comment:57'></a>\nReplying to [gh-DeRhamSource](#comment%3A49):\n\n> Either way, we should implement it consistently and make a remark or note in the documentary. What do you say?\n\n\n+1 for consistency and documentation. It's true that scalar fields and tensor fields (including differential forms) have been implemented in separate stages (cf. #18528) and have been subsequently modified in possible different ways. This results in some inconsistencies in the user interface. For instance:\n\n- tensor fields have a method `set_restriction()`, while scalar fields do not (as you noticed)\n- scalar fields have a fast method `is_trivial_zero()`, while tensor fields do not\n\nThanks for having a look into this.",
    "created_at": "2019-10-04T14:59:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554665",
    "user": "https://github.com/egourgoulhon"
}
```


<a id='comment:57'></a>
Replying to [gh-DeRhamSource](#comment%3A49):

> Either way, we should implement it consistently and make a remark or note in the documentary. What do you say?


+1 for consistency and documentation. It's true that scalar fields and tensor fields (including differential forms) have been implemented in separate stages (cf. #18528) and have been subsequently modified in possible different ways. This results in some inconsistencies in the user interface. For instance:

- tensor fields have a method `set_restriction()`, while scalar fields do not (as you noticed)
- scalar fields have a fast method `is_trivial_zero()`, while tensor fields do not

Thanks for having a look into this.



---

archive/issue_comments_554666.json:
```json
{
    "body": "<a id='comment:58'></a>\nReplying to [tscrim](#comment%3A52):\n> Also for the immutability of the zero, ever place you do something that mutates it, just add a check for the `_is_zero` and raise an error if you do mutate it since it is a special element.\n\n\nThe `_is_zero` attribute changes whenever a component is changed or `bool` is used. So, I'd prefer something like\n\n```\nif self is self._parent_zero:\n    raise AssertionError(\"...\")\n```\n\nDo you agree? I would do the same thing for the one element of scalar fields.",
    "created_at": "2019-10-04T15:10:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554666",
    "user": "https://github.com/DeRhamSource"
}
```


<a id='comment:58'></a>
Replying to [tscrim](#comment%3A52):
> Also for the immutability of the zero, ever place you do something that mutates it, just add a check for the `_is_zero` and raise an error if you do mutate it since it is a special element.


The `_is_zero` attribute changes whenever a component is changed or `bool` is used. So, I'd prefer something like

```
if self is self._parent_zero:
    raise AssertionError("...")
```

Do you agree? I would do the same thing for the one element of scalar fields.



---

archive/issue_comments_554667.json:
```json
{
    "body": "<a id='comment:59'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c95acea6b60d6d60d4956b912e61d6189b6f9a18\">c95acea</a></td><td><code>Better zero treatment for tensor fields</code></td></tr></table>\n",
    "created_at": "2019-10-04T23:19:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554667",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:59'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c95acea6b60d6d60d4956b912e61d6189b6f9a18">c95acea</a></td><td><code>Better zero treatment for tensor fields</code></td></tr></table>




---

archive/issue_comments_554668.json:
```json
{
    "body": "**Changing commit** from \"[d16dbd94dfaaa2c07182ac5032d6cd81f50da3b9](https://github.com/sagemath/sagetrac-mirror/commit/d16dbd94dfaaa2c07182ac5032d6cd81f50da3b9)\" to \"[c95acea6b60d6d60d4956b912e61d6189b6f9a18](https://github.com/sagemath/sagetrac-mirror/commit/c95acea6b60d6d60d4956b912e61d6189b6f9a18)\".",
    "created_at": "2019-10-04T23:19:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554668",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[d16dbd94dfaaa2c07182ac5032d6cd81f50da3b9](https://github.com/sagemath/sagetrac-mirror/commit/d16dbd94dfaaa2c07182ac5032d6cd81f50da3b9)" to "[c95acea6b60d6d60d4956b912e61d6189b6f9a18](https://github.com/sagemath/sagetrac-mirror/commit/c95acea6b60d6d60d4956b912e61d6189b6f9a18)".



---

archive/issue_comments_554669.json:
```json
{
    "body": "<a id='comment:60'></a>\nReplying to [gh-DeRhamSource](#comment%3A58):\n> Replying to [tscrim](#comment%3A52):\n> > Also for the immutability of the zero, ever place you do something that mutates it, just add a check for the `_is_zero` and raise an error if you do mutate it since it is a special element.\n\n> \n> The `_is_zero` attribute changes whenever a component is changed or `bool` is used. So, I'd prefer something like\n> \n> ```\n> if self is self._parent_zero:\n>     raise AssertionError(\"...\")\n> ```\n> \n> Do you agree? I would do the same thing for the one element of scalar fields.\n\n\nNah. Certainly, this will not work! The zero element is altered by using the component manipulation methods. This will raise an immediate error. By the way, the same problem will arise when we use the `_is_zero` attribute and add a new chart.\n\nMaybe, the zero element should be altered internally via the `_comp` attribute and any invokation of `add_comp`, `set_comp` etc. should be forbidden for this element. What do you say?",
    "created_at": "2019-10-05T09:45:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554669",
    "user": "https://github.com/DeRhamSource"
}
```


<a id='comment:60'></a>
Replying to [gh-DeRhamSource](#comment%3A58):
> Replying to [tscrim](#comment%3A52):
> > Also for the immutability of the zero, ever place you do something that mutates it, just add a check for the `_is_zero` and raise an error if you do mutate it since it is a special element.

> 
> The `_is_zero` attribute changes whenever a component is changed or `bool` is used. So, I'd prefer something like
> 
> ```
> if self is self._parent_zero:
>     raise AssertionError("...")
> ```
> 
> Do you agree? I would do the same thing for the one element of scalar fields.


Nah. Certainly, this will not work! The zero element is altered by using the component manipulation methods. This will raise an immediate error. By the way, the same problem will arise when we use the `_is_zero` attribute and add a new chart.

Maybe, the zero element should be altered internally via the `_comp` attribute and any invokation of `add_comp`, `set_comp` etc. should be forbidden for this element. What do you say?



---

archive/issue_comments_554670.json:
```json
{
    "body": "<a id='comment:61'></a>\nReplying to [gh-DeRhamSource](#comment%3A60):\n> Replying to [gh-DeRhamSource](#comment%3A58):\n> > \n> > The `_is_zero` attribute changes whenever a component is changed or `bool` is used. So, I'd prefer something like\n> > \n> > ```\n> > if self is self._parent_zero:\n> >     raise AssertionError(\"...\")\n> > ```\n> > \n> > Do you agree? I would do the same thing for the one element of scalar fields.\n\n> \n> Nah. Certainly, this will not work! The zero element is altered by using the component manipulation methods. This will raise an immediate error. By the way, the same problem will arise when we use the `_is_zero` attribute and add a new chart.\n> \n  \nI would have written\n\n```\nif self is self.parent().zero():\n    raise AssertionError(\"...\")\n```\nCan you be more specific about the fact that this would not work?",
    "created_at": "2019-10-05T10:58:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554670",
    "user": "https://github.com/egourgoulhon"
}
```


<a id='comment:61'></a>
Replying to [gh-DeRhamSource](#comment%3A60):
> Replying to [gh-DeRhamSource](#comment%3A58):
> > 
> > The `_is_zero` attribute changes whenever a component is changed or `bool` is used. So, I'd prefer something like
> > 
> > ```
> > if self is self._parent_zero:
> >     raise AssertionError("...")
> > ```
> > 
> > Do you agree? I would do the same thing for the one element of scalar fields.

> 
> Nah. Certainly, this will not work! The zero element is altered by using the component manipulation methods. This will raise an immediate error. By the way, the same problem will arise when we use the `_is_zero` attribute and add a new chart.
> 
  
I would have written

```
if self is self.parent().zero():
    raise AssertionError("...")
```
Can you be more specific about the fact that this would not work?



---

archive/issue_comments_554671.json:
```json
{
    "body": "<a id='comment:62'></a>\nReplying to [egourgoulhon](#comment%3A61):\n> I would have written\n> \n> ```\n> if self is self.parent().zero():\n>     raise AssertionError(\"...\")\n> ```\n> Can you be more specific about the fact that this would not work?\n\n\nYes. In `tensorfield_module.py` the zero element is established by:\n\n```\n        resu = self._element_constructor_(name='zero', latex_name='0')\n        for frame in self._domain._frames:\n            if self._dest_map.restrict(frame._domain) == frame._dest_map:\n                resu.add_comp(frame)\n                # (since new components are initialized to zero)\n```\n\nBut this raises an immediate error when using\n\n```\nif self is self.parent().zero():\n    raise AssertionError(\"...\")\n```\n\nin `add_comp`.\n\nOne can add the components from \"behind\". But using this method is contradictional in this case.",
    "created_at": "2019-10-05T11:17:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554671",
    "user": "https://github.com/DeRhamSource"
}
```


<a id='comment:62'></a>
Replying to [egourgoulhon](#comment%3A61):
> I would have written
> 
> ```
> if self is self.parent().zero():
>     raise AssertionError("...")
> ```
> Can you be more specific about the fact that this would not work?


Yes. In `tensorfield_module.py` the zero element is established by:

```
        resu = self._element_constructor_(name='zero', latex_name='0')
        for frame in self._domain._frames:
            if self._dest_map.restrict(frame._domain) == frame._dest_map:
                resu.add_comp(frame)
                # (since new components are initialized to zero)
```

But this raises an immediate error when using

```
if self is self.parent().zero():
    raise AssertionError("...")
```

in `add_comp`.

One can add the components from "behind". But using this method is contradictional in this case.



---

archive/issue_comments_554672.json:
```json
{
    "body": "<a id='comment:63'></a>\nAnother idea would be, to move the preexisting code to an internal method called `_add_comp` and change everything internally with it. From outside then, you have to use the old `add_comp` method which ensures correct treatment and invokes `_add_comp` after some checking.",
    "created_at": "2019-10-05T11:22:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554672",
    "user": "https://github.com/DeRhamSource"
}
```


<a id='comment:63'></a>
Another idea would be, to move the preexisting code to an internal method called `_add_comp` and change everything internally with it. From outside then, you have to use the old `add_comp` method which ensures correct treatment and invokes `_add_comp` after some checking.



---

archive/issue_comments_554673.json:
```json
{
    "body": "<a id='comment:64'></a>\nReplying to [gh-DeRhamSource](#comment%3A63):\n\nThanks for provided example, with `add_comp` called on the zero element.\n\n> Another idea would be, to move the preexisting code to an internal method called `_add_comp` and change everything internally with it. From outside then, you have to use the old `add_comp` method which ensures correct treatment and invokes `_add_comp` after some checking.\n\n\nAnother option would be to add the keyword argument `check=True` to `add_comp` and to use it as follows:\n\n```\ndef add_comp(self, basis=None, check=True):\n    if check and self is self.parent().zero():\n        raise RuntimeError(\"...\")\n    ...\n```\nThen in internal code, like in the example of[comment:62](#comment%3A62), one could call `add_comp` with `check=False`. \n\nThat said, I would propose to move the secure manipulation of the zero element to another ticket, possibly investigating further the option of introducing a specific subclass (this would avoid having `if self is self.parent().zero()` cases everywhere).",
    "created_at": "2019-10-05T13:34:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554673",
    "user": "https://github.com/egourgoulhon"
}
```


<a id='comment:64'></a>
Replying to [gh-DeRhamSource](#comment%3A63):

Thanks for provided example, with `add_comp` called on the zero element.

> Another idea would be, to move the preexisting code to an internal method called `_add_comp` and change everything internally with it. From outside then, you have to use the old `add_comp` method which ensures correct treatment and invokes `_add_comp` after some checking.


Another option would be to add the keyword argument `check=True` to `add_comp` and to use it as follows:

```
def add_comp(self, basis=None, check=True):
    if check and self is self.parent().zero():
        raise RuntimeError("...")
    ...
```
Then in internal code, like in the example of[comment:62](#comment%3A62), one could call `add_comp` with `check=False`. 

That said, I would propose to move the secure manipulation of the zero element to another ticket, possibly investigating further the option of introducing a specific subclass (this would avoid having `if self is self.parent().zero()` cases everywhere).



---

archive/issue_comments_554674.json:
```json
{
    "body": "<a id='comment:65'></a>\nReplying to [egourgoulhon](#comment%3A64):\n> Another option would be to add the keyword argument `check=True` to `add_comp` and to use it as follows:\n> \n> ```\n> def add_comp(self, basis=None, check=True):\n>     if check and self is self.parent().zero():\n>         raise RuntimeError(\"...\")\n>     ...\n> ```\n> Then in internal code, like in the example of[comment:62](#comment%3A62), one could call `add_comp` with `check=False`. \n\n\nSounds good. That would cause the fewest changes in the whole code.\n\n> That said, I would propose to move the secure manipulation of the zero element to another ticket, possibly investigating further the option of introducing a specific subclass (this would avoid having `if self is self.parent().zero()` cases everywhere).\n\n\nSounds reasonable. Do you open the ticket or should I?",
    "created_at": "2019-10-05T13:43:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554674",
    "user": "https://github.com/DeRhamSource"
}
```


<a id='comment:65'></a>
Replying to [egourgoulhon](#comment%3A64):
> Another option would be to add the keyword argument `check=True` to `add_comp` and to use it as follows:
> 
> ```
> def add_comp(self, basis=None, check=True):
>     if check and self is self.parent().zero():
>         raise RuntimeError("...")
>     ...
> ```
> Then in internal code, like in the example of[comment:62](#comment%3A62), one could call `add_comp` with `check=False`. 


Sounds good. That would cause the fewest changes in the whole code.

> That said, I would propose to move the secure manipulation of the zero element to another ticket, possibly investigating further the option of introducing a specific subclass (this would avoid having `if self is self.parent().zero()` cases everywhere).


Sounds reasonable. Do you open the ticket or should I?



---

archive/issue_comments_554675.json:
```json
{
    "body": "<a id='comment:66'></a>\nReplying to [gh-DeRhamSource](#comment%3A65):\n> \n> > That said, I would propose to move the secure manipulation of the zero element to another ticket, possibly investigating further the option of introducing a specific subclass (this would avoid having `if self is self.parent().zero()` cases everywhere).\n\n> \n> Sounds reasonable. Do you open the ticket or should I?\n\n\nPlease go on, open the ticket.",
    "created_at": "2019-10-05T14:24:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554675",
    "user": "https://github.com/egourgoulhon"
}
```


<a id='comment:66'></a>
Replying to [gh-DeRhamSource](#comment%3A65):
> 
> > That said, I would propose to move the secure manipulation of the zero element to another ticket, possibly investigating further the option of introducing a specific subclass (this would avoid having `if self is self.parent().zero()` cases everywhere).

> 
> Sounds reasonable. Do you open the ticket or should I?


Please go on, open the ticket.



---

archive/issue_comments_554676.json:
```json
{
    "body": "<a id='comment:67'></a>\nOkay, things become quite unhandy now. All changes and modifications we had talked about belong to the very same concept of immutability, so things are highly coupled and connected. That makes a merge in the end quite difficult. Perhaps, I should use this as a meta ticket, where things will be merged together in the end?",
    "created_at": "2019-10-05T19:01:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554676",
    "user": "https://github.com/DeRhamSource"
}
```


<a id='comment:67'></a>
Okay, things become quite unhandy now. All changes and modifications we had talked about belong to the very same concept of immutability, so things are highly coupled and connected. That makes a merge in the end quite difficult. Perhaps, I should use this as a meta ticket, where things will be merged together in the end?



---

archive/issue_comments_554677.json:
```json
{
    "body": "<a id='comment:68'></a>\nReplying to [gh-DeRhamSource](#comment%3A67):\n> Okay, things become quite unhandy now. All changes and modifications we had talked about belong to the very same concept of immutability, so things are highly coupled and connected. That makes a merge in the end quite difficult. Perhaps, I should use this as a meta ticket, where things will be merged together in the end?\n",
    "created_at": "2019-10-06T07:33:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554677",
    "user": "https://github.com/DeRhamSource"
}
```


<a id='comment:68'></a>
Replying to [gh-DeRhamSource](#comment%3A67):
> Okay, things become quite unhandy now. All changes and modifications we had talked about belong to the very same concept of immutability, so things are highly coupled and connected. That makes a merge in the end quite difficult. Perhaps, I should use this as a meta ticket, where things will be merged together in the end?




---

archive/issue_comments_554678.json:
```json
{
    "body": "<a id='comment:69'></a>\nReplying to [gh-DeRhamSource](#comment%3A67):\n> Okay, things become quite unhandy now. All changes and modifications we had talked about belong to the very same concept of immutability, so things are highly coupled and connected. That makes a merge in the end quite difficult. Perhaps, I should use this as a meta ticket, where things will be merged together in the end?\n\n\nYes there should be a ticket (or metaticket?) entirely devoted to (im)mutability of scalar and tensor fields on manifolds, including the treatment of the zero elements. This is beyond the scope of the current ticket, which, according to its title, is devoted to improvements in differential and mixed forms. Can you still implement some of these improvements without touching the mutability of tensor fields for the moment?",
    "created_at": "2019-10-06T09:18:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554678",
    "user": "https://github.com/egourgoulhon"
}
```


<a id='comment:69'></a>
Replying to [gh-DeRhamSource](#comment%3A67):
> Okay, things become quite unhandy now. All changes and modifications we had talked about belong to the very same concept of immutability, so things are highly coupled and connected. That makes a merge in the end quite difficult. Perhaps, I should use this as a meta ticket, where things will be merged together in the end?


Yes there should be a ticket (or metaticket?) entirely devoted to (im)mutability of scalar and tensor fields on manifolds, including the treatment of the zero elements. This is beyond the scope of the current ticket, which, according to its title, is devoted to improvements in differential and mixed forms. Can you still implement some of these improvements without touching the mutability of tensor fields for the moment?



---

archive/issue_comments_554679.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2019-10-06T09:37:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554679",
    "user": "https://github.com/DeRhamSource"
}
```


**Changing status** from needs_review to needs_work.



---

archive/issue_comments_554680.json:
```json
{
    "body": "**Changing keywords** from \"manifolds, mixed forms\" to \"manifolds, tensor fields, mixed forms, scalar fields\".",
    "created_at": "2019-10-06T09:37:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554680",
    "user": "https://github.com/DeRhamSource"
}
```


**Changing keywords** from "manifolds, mixed forms" to "manifolds, tensor fields, mixed forms, scalar fields".



---

archive/issue_events_080898.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "rename": {
        "from": "Differential and Mixed Forms Improvements",
        "to": "Metaticket - Tensor Fields, Scalar Fields and Mixed Forms"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28519#event-80898"
}
```




---

archive/issue_comments_554681.json:
```json
{
    "body": "**Changing reviewer** from \"Eric Gourgoulhon, Travis Scrimshaw\" to \"\".",
    "created_at": "2019-10-06T09:37:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554681",
    "user": "https://github.com/DeRhamSource"
}
```


**Changing reviewer** from "Eric Gourgoulhon, Travis Scrimshaw" to "".



---

archive/issue_comments_554682.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,28 +1,10 @@\n-**Mixed Forms** \n+There are too many changes going on at once, so that a merge in the end might be difficult. In order to avoid such difficulties and to keep an overview of things that are happening (for me and others), I use this ticket from now on as a metaticket, where all latest changes are merged together. Cross ticket references are possible.\n \n-- readability of code improved in `mixed_form.py` and `mixed_form_algebra.py`\n-- now, mixed form components are seen as immutable in the sense of the discussion below; as a result, the component setup is modified\n-- now, the `display()` method shows **only** the expansion in a particular frame and chart\n+This metaticket is mainly devoted to the topic of immutability of algebra elements (see discussion below).\n \n-**Scalar Fields**\n+**Things going on:**\n \n-- ~~scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the `display()` method shows *all* known expressions. For each such expression, the greatest domain, where this expression is known, is displayed~~ (moved to #28554).\n-- ~~now, multiplication of named scalar fields `f` and `g` leads to `f \\cdot g` in LaTeX code~~ (moved to #28554)\n-- ~~division by zero in `_div_()` is now checked via `is_trivial_zero()`~~ (moved to #28554)\n-\n-** Differential Forms / Tensor Fields**\n-\n-- tensor algebra computations improved:\n-  - in order to make computations faster, an attribute `_is_zero` is added and checked (similar to scalar fields)\n-  - wedge product of differential forms with self leads to zero right away in case of odd order\n-- multiplication of tensor fields `a` with scalar fields `f` yields name `f*a` and latex name `f \\cdot a`\n-\n-**Various**\n-\n-- more consistency between scalar fields and tensor fields:\n-  - a copy of scalar fields took the name from the original, a copy of tensor fields did not; now, a copy takes the name in any case (in moment of creation, the copy is the very same algebraic object)\n-  - ~~method `set_restriction()` added to scalar fields~~ (moved to #28554)\n-  - ~~coercion via restriction rearranged in scalar fields following tensor fields~~ (moved to #28554)\n-- minor code rearrangements, i.e. for code reuse or consistency\n-- `copy()` now inherits the attribute `_is_zero` from the original (both for tensor fields and scalar fields) to ensure better zero treatment\n-- manipulation of the zero element raises an error\n+- #28554: Scalar Field Restrictions\n+- Better Zero Treatment\n+- Consistent Naming for Tensor and Scalar Fields\n+- Mixed Forms as Immutable Elements\n``````\n",
    "created_at": "2019-10-06T09:37:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554682",
    "user": "https://github.com/DeRhamSource"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -1,28 +1,10 @@
-**Mixed Forms** 
+There are too many changes going on at once, so that a merge in the end might be difficult. In order to avoid such difficulties and to keep an overview of things that are happening (for me and others), I use this ticket from now on as a metaticket, where all latest changes are merged together. Cross ticket references are possible.
 
-- readability of code improved in `mixed_form.py` and `mixed_form_algebra.py`
-- now, mixed form components are seen as immutable in the sense of the discussion below; as a result, the component setup is modified
-- now, the `display()` method shows **only** the expansion in a particular frame and chart
+This metaticket is mainly devoted to the topic of immutability of algebra elements (see discussion below).
 
-**Scalar Fields**
+**Things going on:**
 
-- ~~scalar field can be partially defined in one top chart domain, so the display method was misleading in this case. This is now fixed: the `display()` method shows *all* known expressions. For each such expression, the greatest domain, where this expression is known, is displayed~~ (moved to #28554).
-- ~~now, multiplication of named scalar fields `f` and `g` leads to `f \cdot g` in LaTeX code~~ (moved to #28554)
-- ~~division by zero in `_div_()` is now checked via `is_trivial_zero()`~~ (moved to #28554)
-
-** Differential Forms / Tensor Fields**
-
-- tensor algebra computations improved:
-  - in order to make computations faster, an attribute `_is_zero` is added and checked (similar to scalar fields)
-  - wedge product of differential forms with self leads to zero right away in case of odd order
-- multiplication of tensor fields `a` with scalar fields `f` yields name `f*a` and latex name `f \cdot a`
-
-**Various**
-
-- more consistency between scalar fields and tensor fields:
-  - a copy of scalar fields took the name from the original, a copy of tensor fields did not; now, a copy takes the name in any case (in moment of creation, the copy is the very same algebraic object)
-  - ~~method `set_restriction()` added to scalar fields~~ (moved to #28554)
-  - ~~coercion via restriction rearranged in scalar fields following tensor fields~~ (moved to #28554)
-- minor code rearrangements, i.e. for code reuse or consistency
-- `copy()` now inherits the attribute `_is_zero` from the original (both for tensor fields and scalar fields) to ensure better zero treatment
-- manipulation of the zero element raises an error
+- #28554: Scalar Field Restrictions
+- Better Zero Treatment
+- Consistent Naming for Tensor and Scalar Fields
+- Mixed Forms as Immutable Elements
``````




---

archive/issue_comments_554683.json:
```json
{
    "body": "**Dependencies:** #28554",
    "created_at": "2019-10-06T09:37:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554683",
    "user": "https://github.com/DeRhamSource"
}
```


**Dependencies:** #28554



---

archive/issue_comments_554684.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -8,3 +8,4 @@\n - Better Zero Treatment\n - Consistent Naming for Tensor and Scalar Fields\n - Mixed Forms as Immutable Elements\n+- Mixed Forms adapted to aforementioned changes\n``````\n",
    "created_at": "2019-10-06T09:39:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554684",
    "user": "https://github.com/DeRhamSource"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -8,3 +8,4 @@
 - Better Zero Treatment
 - Consistent Naming for Tensor and Scalar Fields
 - Mixed Forms as Immutable Elements
+- Mixed Forms adapted to aforementioned changes
``````




---

archive/issue_comments_554685.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -5,7 +5,7 @@\n **Things going on:**\n \n - #28554: Scalar Field Restrictions\n-- Better Zero Treatment\n+- #28562: Better Zero Treatment\n - Consistent Naming for Tensor and Scalar Fields\n - Mixed Forms as Immutable Elements\n - Mixed Forms adapted to aforementioned changes\n``````\n",
    "created_at": "2019-10-06T09:59:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554685",
    "user": "https://github.com/DeRhamSource"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -5,7 +5,7 @@
 **Things going on:**
 
 - #28554: Scalar Field Restrictions
-- Better Zero Treatment
+- #28562: Better Zero Treatment
 - Consistent Naming for Tensor and Scalar Fields
 - Mixed Forms as Immutable Elements
 - Mixed Forms adapted to aforementioned changes
``````




---

archive/issue_comments_554686.json:
```json
{
    "body": "**Changing dependencies** from \"#28554\" to \"#28554, #28562\".",
    "created_at": "2019-10-06T09:59:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554686",
    "user": "https://github.com/DeRhamSource"
}
```


**Changing dependencies** from "#28554" to "#28554, #28562".



---

archive/issue_comments_554687.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,6 +6,6 @@\n \n - #28554: Scalar Field Restrictions\n - #28562: Better Zero Treatment\n-- Consistent Naming for Tensor and Scalar Fields\n+- #28564: Consistent Naming for Tensor and Scalar Fields\n - Mixed Forms as Immutable Elements\n - Mixed Forms adapted to aforementioned changes\n``````\n",
    "created_at": "2019-10-06T13:26:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554687",
    "user": "https://github.com/DeRhamSource"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -6,6 +6,6 @@
 
 - #28554: Scalar Field Restrictions
 - #28562: Better Zero Treatment
-- Consistent Naming for Tensor and Scalar Fields
+- #28564: Consistent Naming for Tensor and Scalar Fields
 - Mixed Forms as Immutable Elements
 - Mixed Forms adapted to aforementioned changes
``````




---

archive/issue_comments_554688.json:
```json
{
    "body": "**Changing dependencies** from \"#28554, #28562\" to \"#28554, #28562, #28564\".",
    "created_at": "2019-10-06T13:26:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554688",
    "user": "https://github.com/DeRhamSource"
}
```


**Changing dependencies** from "#28554, #28562" to "#28554, #28562, #28564".



---

archive/issue_comments_554689.json:
```json
{
    "body": "**Changing branch** from \"[u/gh-DeRhamSource/mixed_forms_improved](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-DeRhamSource/mixed_forms_improved)\" to \"[u/gh-DeRhamSource/mixed_forms_and_tensor_fields_metaticket](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-DeRhamSource/mixed_forms_and_tensor_fields_metaticket)\".",
    "created_at": "2019-10-06T14:52:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554689",
    "user": "https://github.com/DeRhamSource"
}
```


**Changing branch** from "[u/gh-DeRhamSource/mixed_forms_improved](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-DeRhamSource/mixed_forms_improved)" to "[u/gh-DeRhamSource/mixed_forms_and_tensor_fields_metaticket](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-DeRhamSource/mixed_forms_and_tensor_fields_metaticket)".



---

archive/issue_comments_554690.json:
```json
{
    "body": "**Changing commit** from \"[c95acea6b60d6d60d4956b912e61d6189b6f9a18](https://github.com/sagemath/sagetrac-mirror/commit/c95acea6b60d6d60d4956b912e61d6189b6f9a18)\" to \"\".",
    "created_at": "2019-10-06T14:52:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554690",
    "user": "https://github.com/DeRhamSource"
}
```


**Changing commit** from "[c95acea6b60d6d60d4956b912e61d6189b6f9a18](https://github.com/sagemath/sagetrac-mirror/commit/c95acea6b60d6d60d4956b912e61d6189b6f9a18)" to "".



---

archive/issue_comments_554691.json:
```json
{
    "body": "**Commit:** [69586cc2d5690bab66cccfb9fc81dfe998af9081](https://github.com/sagemath/sagetrac-mirror/commit/69586cc2d5690bab66cccfb9fc81dfe998af9081)",
    "created_at": "2019-10-06T15:01:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554691",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Commit:** [69586cc2d5690bab66cccfb9fc81dfe998af9081](https://github.com/sagemath/sagetrac-mirror/commit/69586cc2d5690bab66cccfb9fc81dfe998af9081)



---

archive/issue_comments_554692.json:
```json
{
    "body": "<a id='comment:76'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1d68a1f83e9fbb0135077e5e0ec60be0f5beb141\">1d68a1f</a></td><td><code>'set_restriction' added + some restriction modifications</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9f91503dce5cbe14f52a6a77a34ae5a18f722f7d\">9f91503</a></td><td><code>'_is_zero' attribute added and modified</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5094a3e802034be5916879a0225e5db2ccf9f0f8\">5094a3e</a></td><td><code>Return no copies for scalar field operations</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a7490923ec324c2608606ab927e307eb246eef78\">a749092</a></td><td><code>Merge branch 't/28562/better_zero_treatment' into t/28519/mixed_forms_and_tensor_fields_metaticket</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/99c392c7f0bec8145544a2048d00c05eb73b0e79\">99c392c</a></td><td><code>Copy and multiplication names</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/69586cc2d5690bab66cccfb9fc81dfe998af9081\">69586cc</a></td><td><code>Merge branch 't/28564/tensor_fields__consistent_naming' into t/28519/mixed_forms_and_tensor_fields_metaticket</code></td></tr></table>\n",
    "created_at": "2019-10-06T15:01:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554692",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:76'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1d68a1f83e9fbb0135077e5e0ec60be0f5beb141">1d68a1f</a></td><td><code>'set_restriction' added + some restriction modifications</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9f91503dce5cbe14f52a6a77a34ae5a18f722f7d">9f91503</a></td><td><code>'_is_zero' attribute added and modified</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5094a3e802034be5916879a0225e5db2ccf9f0f8">5094a3e</a></td><td><code>Return no copies for scalar field operations</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a7490923ec324c2608606ab927e307eb246eef78">a749092</a></td><td><code>Merge branch 't/28562/better_zero_treatment' into t/28519/mixed_forms_and_tensor_fields_metaticket</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/99c392c7f0bec8145544a2048d00c05eb73b0e79">99c392c</a></td><td><code>Copy and multiplication names</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/69586cc2d5690bab66cccfb9fc81dfe998af9081">69586cc</a></td><td><code>Merge branch 't/28564/tensor_fields__consistent_naming' into t/28519/mixed_forms_and_tensor_fields_metaticket</code></td></tr></table>




---

archive/issue_comments_554693.json:
```json
{
    "body": "<a id='comment:77'></a>\nI hope, the latest changes are now correctly splitted into the tickets and merged together appropriately. Please check.",
    "created_at": "2019-10-06T15:03:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554693",
    "user": "https://github.com/DeRhamSource"
}
```


<a id='comment:77'></a>
I hope, the latest changes are now correctly splitted into the tickets and merged together appropriately. Please check.



---

archive/issue_comments_554694.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,6 +1,8 @@\n There are too many changes going on at once, so that a merge in the end might be difficult. In order to avoid such difficulties and to keep an overview of things that are happening (for me and others), I use this ticket from now on as a metaticket, where all latest changes are merged together. Cross ticket references are possible.\n \n This metaticket is mainly devoted to the topic of immutability of algebra elements (see discussion below).\n+\n+This ticket is related to manifolds and therefore part of the permanent metaticket #18528.\n \n **Things going on:**\n \n``````\n",
    "created_at": "2019-10-07T19:30:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554694",
    "user": "https://github.com/DeRhamSource"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -1,6 +1,8 @@
 There are too many changes going on at once, so that a merge in the end might be difficult. In order to avoid such difficulties and to keep an overview of things that are happening (for me and others), I use this ticket from now on as a metaticket, where all latest changes are merged together. Cross ticket references are possible.
 
 This metaticket is mainly devoted to the topic of immutability of algebra elements (see discussion below).
+
+This ticket is related to manifolds and therefore part of the permanent metaticket #18528.
 
 **Things going on:**
 
``````




---

archive/issue_comments_554695.json:
```json
{
    "body": "**Changing commit** from \"[69586cc2d5690bab66cccfb9fc81dfe998af9081](https://github.com/sagemath/sagetrac-mirror/commit/69586cc2d5690bab66cccfb9fc81dfe998af9081)\" to \"[7ad0657129f5975a1a8d198325cdc2ed6a402f13](https://github.com/sagemath/sagetrac-mirror/commit/7ad0657129f5975a1a8d198325cdc2ed6a402f13)\".",
    "created_at": "2019-10-07T20:17:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554695",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[69586cc2d5690bab66cccfb9fc81dfe998af9081](https://github.com/sagemath/sagetrac-mirror/commit/69586cc2d5690bab66cccfb9fc81dfe998af9081)" to "[7ad0657129f5975a1a8d198325cdc2ed6a402f13](https://github.com/sagemath/sagetrac-mirror/commit/7ad0657129f5975a1a8d198325cdc2ed6a402f13)".



---

archive/issue_comments_554696.json:
```json
{
    "body": "<a id='comment:79'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b3e04682ae022ce8417f99f7d9145fb8a2782676\">b3e0468</a></td><td><code>MixedForm copies apply names</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2dc22a1f08734f60c03bffdc0f5d69922a609ac9\">2dc22a1</a></td><td><code>Merge branch 't/28564/tensor_fields__consistent_naming' into t/28519/mixed_forms_and_tensor_fields_metaticket</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca8dd881ee670e5be137bcf59af046097ffee677\">ca8dd88</a></td><td><code>Modules modified</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/892050ec841202b0348565d142ce485e237a38bc\">892050e</a></td><td><code>FreeModuleLinearGroup: one treatment</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b965873b42681feac09569dba3305534f7939c9\">1b96587</a></td><td><code>Zero treatment for FreeModules</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b9c82876013b968e37b258bb089982351a261194\">b9c8287</a></td><td><code>AutomorphismField: zero treatment + MixedForm: set_restriction and add_comp_by_continuation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94cf06ab1ab5d87fbc8efc73d2688ea1c8c91267\">94cf06a</a></td><td><code>Mixed forms adapted to zero treatment + zero treatment for scalar fields</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d949a13db29334e193ec9ff05fd7fe53deb65422\">d949a13</a></td><td><code>Minor code reduction</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d30100a5f1e4f809867dc5b564000cd2eddc9db\">5d30100</a></td><td><code>More code reduction</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ad0657129f5975a1a8d198325cdc2ed6a402f13\">7ad0657</a></td><td><code>Merge branch 't/28562/better_zero_treatment' into t/28519/mixed_forms_and_tensor_fields_metaticket</code></td></tr></table>\n",
    "created_at": "2019-10-07T20:17:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554696",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:79'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b3e04682ae022ce8417f99f7d9145fb8a2782676">b3e0468</a></td><td><code>MixedForm copies apply names</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2dc22a1f08734f60c03bffdc0f5d69922a609ac9">2dc22a1</a></td><td><code>Merge branch 't/28564/tensor_fields__consistent_naming' into t/28519/mixed_forms_and_tensor_fields_metaticket</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca8dd881ee670e5be137bcf59af046097ffee677">ca8dd88</a></td><td><code>Modules modified</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/892050ec841202b0348565d142ce485e237a38bc">892050e</a></td><td><code>FreeModuleLinearGroup: one treatment</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b965873b42681feac09569dba3305534f7939c9">1b96587</a></td><td><code>Zero treatment for FreeModules</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b9c82876013b968e37b258bb089982351a261194">b9c8287</a></td><td><code>AutomorphismField: zero treatment + MixedForm: set_restriction and add_comp_by_continuation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94cf06ab1ab5d87fbc8efc73d2688ea1c8c91267">94cf06a</a></td><td><code>Mixed forms adapted to zero treatment + zero treatment for scalar fields</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d949a13db29334e193ec9ff05fd7fe53deb65422">d949a13</a></td><td><code>Minor code reduction</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d30100a5f1e4f809867dc5b564000cd2eddc9db">5d30100</a></td><td><code>More code reduction</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ad0657129f5975a1a8d198325cdc2ed6a402f13">7ad0657</a></td><td><code>Merge branch 't/28562/better_zero_treatment' into t/28519/mixed_forms_and_tensor_fields_metaticket</code></td></tr></table>




---

archive/issue_comments_554697.json:
```json
{
    "body": "<a id='comment:80'></a>\n#28562 and #28564 updated.",
    "created_at": "2019-10-07T20:18:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554697",
    "user": "https://github.com/DeRhamSource"
}
```


<a id='comment:80'></a>
#28562 and #28564 updated.



---

archive/issue_comments_554698.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -9,5 +9,6 @@\n - #28554: Scalar Field Restrictions\n - #28562: Better Zero Treatment\n - #28564: Consistent Naming for Tensor and Scalar Fields\n+- #28579: Wedge Product with Scalar Fields\n - Mixed Forms as Immutable Elements\n - Mixed Forms adapted to aforementioned changes\n``````\n",
    "created_at": "2019-10-08T11:27:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554698",
    "user": "https://github.com/DeRhamSource"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -9,5 +9,6 @@
 - #28554: Scalar Field Restrictions
 - #28562: Better Zero Treatment
 - #28564: Consistent Naming for Tensor and Scalar Fields
+- #28579: Wedge Product with Scalar Fields
 - Mixed Forms as Immutable Elements
 - Mixed Forms adapted to aforementioned changes
``````




---

archive/issue_comments_554699.json:
```json
{
    "body": "**Changing dependencies** from \"#28554, #28562, #28564\" to \"#28554, #28562, #28564, #28579\".",
    "created_at": "2019-10-08T11:27:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554699",
    "user": "https://github.com/DeRhamSource"
}
```


**Changing dependencies** from "#28554, #28562, #28564" to "#28554, #28562, #28564, #28579".



---

archive/issue_comments_554700.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -10,5 +10,6 @@\n - #28562: Better Zero Treatment\n - #28564: Consistent Naming for Tensor and Scalar Fields\n - #28579: Wedge Product with Scalar Fields\n+- #28578: Mixed Forms Code Improvements \n - Mixed Forms as Immutable Elements\n - Mixed Forms adapted to aforementioned changes\n``````\n",
    "created_at": "2019-10-08T11:35:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554700",
    "user": "https://github.com/DeRhamSource"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -10,5 +10,6 @@
 - #28562: Better Zero Treatment
 - #28564: Consistent Naming for Tensor and Scalar Fields
 - #28579: Wedge Product with Scalar Fields
+- #28578: Mixed Forms Code Improvements 
 - Mixed Forms as Immutable Elements
 - Mixed Forms adapted to aforementioned changes
``````




---

archive/issue_comments_554701.json:
```json
{
    "body": "**Changing dependencies** from \"#28554, #28562, #28564, #28579\" to \"#28554, #28562, #28564, #28579, #28578\".",
    "created_at": "2019-10-08T11:56:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554701",
    "user": "https://github.com/DeRhamSource"
}
```


**Changing dependencies** from "#28554, #28562, #28564, #28579" to "#28554, #28562, #28564, #28579, #28578".



---

archive/issue_comments_554702.json:
```json
{
    "body": "<a id='comment:84'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/371a25532a5501ef65dcbcef3f97d52fe3fa1fea\">371a255</a></td><td><code>Zero treatment for wedge product of free alt forms</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b1ee7f03982cdd3a9879ba5100d9e0e9c410a65\">1b1ee7f</a></td><td><code>Zero/One check added</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5bcc7affe9924fc5fd1c10ff4363e6d05e025de5\">5bcc7af</a></td><td><code>Alternative solution via unsafe method</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/286553516abfc2895b4136fda99ce7fff653ff4c\">2865535</a></td><td><code>Obsolete '**kwargs' removed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/728061a6d33d052d75e393ce6f295575c67bea09\">728061a</a></td><td><code>Merge branch 'better_zero_treatment_alternative' into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/62dabd4520bc2349ef0b8336b461e1cbcce20390\">62dabd4</a></td><td><code>Wedge product compatible with scalar fields</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/16d849e038486dbb6447ed72ef1b2789fd9513e4\">16d849e</a></td><td><code>Typos fixed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3fbad716ef4ebdb64fe60fd2cd287529a88bb172\">3fbad71</a></td><td><code>Merge branch 't/28579/wedge_product_with_scalar_fields' into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c104fc844d8cd50446944d0cd1b177c369366653\">c104fc8</a></td><td><code>Scalar field zero treatment</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6d8248a6d456f7e23348c22a0f0ad5b2ef1b1c0f\">6d8248a</a></td><td><code>Merge branch 'better_zero_treatment_alternative' into mixed_forms_and_tensor_fields_metaticket</code></td></tr></table>\n",
    "created_at": "2019-10-12T18:41:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554702",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:84'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/371a25532a5501ef65dcbcef3f97d52fe3fa1fea">371a255</a></td><td><code>Zero treatment for wedge product of free alt forms</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b1ee7f03982cdd3a9879ba5100d9e0e9c410a65">1b1ee7f</a></td><td><code>Zero/One check added</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5bcc7affe9924fc5fd1c10ff4363e6d05e025de5">5bcc7af</a></td><td><code>Alternative solution via unsafe method</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/286553516abfc2895b4136fda99ce7fff653ff4c">2865535</a></td><td><code>Obsolete '**kwargs' removed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/728061a6d33d052d75e393ce6f295575c67bea09">728061a</a></td><td><code>Merge branch 'better_zero_treatment_alternative' into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/62dabd4520bc2349ef0b8336b461e1cbcce20390">62dabd4</a></td><td><code>Wedge product compatible with scalar fields</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/16d849e038486dbb6447ed72ef1b2789fd9513e4">16d849e</a></td><td><code>Typos fixed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3fbad716ef4ebdb64fe60fd2cd287529a88bb172">3fbad71</a></td><td><code>Merge branch 't/28579/wedge_product_with_scalar_fields' into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c104fc844d8cd50446944d0cd1b177c369366653">c104fc8</a></td><td><code>Scalar field zero treatment</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6d8248a6d456f7e23348c22a0f0ad5b2ef1b1c0f">6d8248a</a></td><td><code>Merge branch 'better_zero_treatment_alternative' into mixed_forms_and_tensor_fields_metaticket</code></td></tr></table>




---

archive/issue_comments_554703.json:
```json
{
    "body": "**Changing commit** from \"[7ad0657129f5975a1a8d198325cdc2ed6a402f13](https://github.com/sagemath/sagetrac-mirror/commit/7ad0657129f5975a1a8d198325cdc2ed6a402f13)\" to \"[6d8248a6d456f7e23348c22a0f0ad5b2ef1b1c0f](https://github.com/sagemath/sagetrac-mirror/commit/6d8248a6d456f7e23348c22a0f0ad5b2ef1b1c0f)\".",
    "created_at": "2019-10-12T18:41:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554703",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[7ad0657129f5975a1a8d198325cdc2ed6a402f13](https://github.com/sagemath/sagetrac-mirror/commit/7ad0657129f5975a1a8d198325cdc2ed6a402f13)" to "[6d8248a6d456f7e23348c22a0f0ad5b2ef1b1c0f](https://github.com/sagemath/sagetrac-mirror/commit/6d8248a6d456f7e23348c22a0f0ad5b2ef1b1c0f)".



---

archive/issue_comments_554704.json:
```json
{
    "body": "<a id='comment:85'></a>\n#28579 merged, #28562 overwritten.",
    "created_at": "2019-10-12T18:44:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554704",
    "user": "https://github.com/DeRhamSource"
}
```


<a id='comment:85'></a>
#28579 merged, #28562 overwritten.



---

archive/issue_comments_554705.json:
```json
{
    "body": "**Changing commit** from \"[6d8248a6d456f7e23348c22a0f0ad5b2ef1b1c0f](https://github.com/sagemath/sagetrac-mirror/commit/6d8248a6d456f7e23348c22a0f0ad5b2ef1b1c0f)\" to \"[080c68d4a794289fd8ebf7a0fed07701cda2d7bc](https://github.com/sagemath/sagetrac-mirror/commit/080c68d4a794289fd8ebf7a0fed07701cda2d7bc)\".",
    "created_at": "2019-10-12T20:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554705",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[6d8248a6d456f7e23348c22a0f0ad5b2ef1b1c0f](https://github.com/sagemath/sagetrac-mirror/commit/6d8248a6d456f7e23348c22a0f0ad5b2ef1b1c0f)" to "[080c68d4a794289fd8ebf7a0fed07701cda2d7bc](https://github.com/sagemath/sagetrac-mirror/commit/080c68d4a794289fd8ebf7a0fed07701cda2d7bc)".



---

archive/issue_comments_554706.json:
```json
{
    "body": "<a id='comment:86'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/efd8e0390aa99ee7d8c667e3120df43ee624e59a\">efd8e03</a></td><td><code>Mixed form zero treatment</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/185663b80a896c603f1ad4c92a2136e7c7e4d008\">185663b</a></td><td><code>Merge branch 't/28562/better_zero_treatment_alternative' into t/28519/mixed_forms_and_tensor_fields_metaticket</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/266b1b8d00e296800b4a5f3c28db21229c40d317\">266b1b8</a></td><td><code>Doctest improved + code improvements</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e96a1502af0267ddd9f0386b4bd6597cd2561bf\">3e96a15</a></td><td><code>Warnings deleted: Gets obsolete with #28562</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5967ee813f037f4fad3cb26c2cadb6142eb17668\">5967ee8</a></td><td><code>Changes in documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/78a81b2c3615d431deb7f038f21886ce9bbdc5fc\">78a81b2</a></td><td><code>Merge branch 't/28579/wedge_product_with_scalar_fields' into t/28578/mixed_forms_code_improvements</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/080c68d4a794289fd8ebf7a0fed07701cda2d7bc\">080c68d</a></td><td><code>Merge branch 't/28578/mixed_forms_code_improvements' into t/28519/mixed_forms_and_tensor_fields_metaticket (manually)</code></td></tr></table>\n",
    "created_at": "2019-10-12T20:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554706",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:86'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/efd8e0390aa99ee7d8c667e3120df43ee624e59a">efd8e03</a></td><td><code>Mixed form zero treatment</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/185663b80a896c603f1ad4c92a2136e7c7e4d008">185663b</a></td><td><code>Merge branch 't/28562/better_zero_treatment_alternative' into t/28519/mixed_forms_and_tensor_fields_metaticket</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/266b1b8d00e296800b4a5f3c28db21229c40d317">266b1b8</a></td><td><code>Doctest improved + code improvements</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e96a1502af0267ddd9f0386b4bd6597cd2561bf">3e96a15</a></td><td><code>Warnings deleted: Gets obsolete with #28562</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5967ee813f037f4fad3cb26c2cadb6142eb17668">5967ee8</a></td><td><code>Changes in documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/78a81b2c3615d431deb7f038f21886ce9bbdc5fc">78a81b2</a></td><td><code>Merge branch 't/28579/wedge_product_with_scalar_fields' into t/28578/mixed_forms_code_improvements</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/080c68d4a794289fd8ebf7a0fed07701cda2d7bc">080c68d</a></td><td><code>Merge branch 't/28578/mixed_forms_code_improvements' into t/28519/mixed_forms_and_tensor_fields_metaticket (manually)</code></td></tr></table>




---

archive/issue_comments_554707.json:
```json
{
    "body": "<a id='comment:87'></a>\n#28578 updated and (manually) merged.",
    "created_at": "2019-10-12T20:01:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554707",
    "user": "https://github.com/DeRhamSource"
}
```


<a id='comment:87'></a>
#28578 updated and (manually) merged.



---

archive/issue_comments_554708.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -11,5 +11,3 @@\n - #28564: Consistent Naming for Tensor and Scalar Fields\n - #28579: Wedge Product with Scalar Fields\n - #28578: Mixed Forms Code Improvements \n-- Mixed Forms as Immutable Elements\n-- Mixed Forms adapted to aforementioned changes\n``````\n",
    "created_at": "2019-10-12T20:04:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554708",
    "user": "https://github.com/DeRhamSource"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -11,5 +11,3 @@
 - #28564: Consistent Naming for Tensor and Scalar Fields
 - #28579: Wedge Product with Scalar Fields
 - #28578: Mixed Forms Code Improvements 
-- Mixed Forms as Immutable Elements
-- Mixed Forms adapted to aforementioned changes
``````




---

archive/issue_comments_554709.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -11,3 +11,4 @@\n - #28564: Consistent Naming for Tensor and Scalar Fields\n - #28579: Wedge Product with Scalar Fields\n - #28578: Mixed Forms Code Improvements \n+- #28628: Restriction Behaviour of Tensor Fields\n``````\n",
    "created_at": "2019-10-18T16:26:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554709",
    "user": "https://github.com/DeRhamSource"
}
```


**Description changed:**
``````diff
--- 
+++ 
@@ -11,3 +11,4 @@
 - #28564: Consistent Naming for Tensor and Scalar Fields
 - #28579: Wedge Product with Scalar Fields
 - #28578: Mixed Forms Code Improvements 
+- #28628: Restriction Behaviour of Tensor Fields
``````




---

archive/issue_comments_554710.json:
```json
{
    "body": "<a id='comment:90'></a>\n**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e30ec5b88f8c3144c08e731d85c4c79e58595cc4\">e30ec5b</a></td><td><code>'set_restriction' modified and 'copy_from' method added</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/88c31f99d477220b17dea0795deea481b9660f49\">88c31f9</a></td><td><code>Clear components when 'copy_from' is invoked</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/672d2683ddbde940b528bdeb578d7d3c09892a1f\">672d268</a></td><td><code>Reorganization of restriction deletion</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c790d130e6d99868425ae59198fbe8be1c09769c\">c790d13</a></td><td><code>'copy_from' removed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c3666e87c701ca98df1bfb071e331669dfa1dd68\">c3666e8</a></td><td><code>Resolve merge conflict of #28628 in Sage 9.0.beta3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9299f894a11b02671472d356d51605d1e5277cf3\">9299f89</a></td><td><code>Copy _is_zero in copy_from</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b0eda29edb6c0cc7fc95c6e2cd2ceb05875e11c3\">b0eda29</a></td><td><code>Merge branch 'public/manifolds/set_restriction-28628' of git://trac.sagemath.org/sage into t/28519/mixed_forms_and_tensor_fields_metaticket</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4c1de40377772f4e390b373013096c117e2f0007\">4c1de40</a></td><td><code>Merge branch 'develop' into t/28628/tensor_fields__set_restriction_behaviour</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b29d541dfd5620453f2942ac69b7186712a68061\">b29d541</a></td><td><code>Merge branch 'public/manifolds/set_restriction-28628' of git://trac.sagemath.org/sage into t/28628/tensor_fields__set_restriction_behaviour</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/01078129f02f457e2afc12ae26564dc8396f7ae1\">0107812</a></td><td><code>Merge branch 't/28628/tensor_fields__set_restriction_behaviour' into t/28519/mixed_forms_and_tensor_fields_metaticket</code></td></tr></table>\n",
    "created_at": "2019-10-27T13:48:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554710",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:90'></a>
**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e30ec5b88f8c3144c08e731d85c4c79e58595cc4">e30ec5b</a></td><td><code>'set_restriction' modified and 'copy_from' method added</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/88c31f99d477220b17dea0795deea481b9660f49">88c31f9</a></td><td><code>Clear components when 'copy_from' is invoked</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/672d2683ddbde940b528bdeb578d7d3c09892a1f">672d268</a></td><td><code>Reorganization of restriction deletion</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c790d130e6d99868425ae59198fbe8be1c09769c">c790d13</a></td><td><code>'copy_from' removed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c3666e87c701ca98df1bfb071e331669dfa1dd68">c3666e8</a></td><td><code>Resolve merge conflict of #28628 in Sage 9.0.beta3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9299f894a11b02671472d356d51605d1e5277cf3">9299f89</a></td><td><code>Copy _is_zero in copy_from</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b0eda29edb6c0cc7fc95c6e2cd2ceb05875e11c3">b0eda29</a></td><td><code>Merge branch 'public/manifolds/set_restriction-28628' of git://trac.sagemath.org/sage into t/28519/mixed_forms_and_tensor_fields_metaticket</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4c1de40377772f4e390b373013096c117e2f0007">4c1de40</a></td><td><code>Merge branch 'develop' into t/28628/tensor_fields__set_restriction_behaviour</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b29d541dfd5620453f2942ac69b7186712a68061">b29d541</a></td><td><code>Merge branch 'public/manifolds/set_restriction-28628' of git://trac.sagemath.org/sage into t/28628/tensor_fields__set_restriction_behaviour</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/01078129f02f457e2afc12ae26564dc8396f7ae1">0107812</a></td><td><code>Merge branch 't/28628/tensor_fields__set_restriction_behaviour' into t/28519/mixed_forms_and_tensor_fields_metaticket</code></td></tr></table>




---

archive/issue_comments_554711.json:
```json
{
    "body": "**Changing commit** from \"[080c68d4a794289fd8ebf7a0fed07701cda2d7bc](https://github.com/sagemath/sagetrac-mirror/commit/080c68d4a794289fd8ebf7a0fed07701cda2d7bc)\" to \"[01078129f02f457e2afc12ae26564dc8396f7ae1](https://github.com/sagemath/sagetrac-mirror/commit/01078129f02f457e2afc12ae26564dc8396f7ae1)\".",
    "created_at": "2019-10-27T13:48:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554711",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[080c68d4a794289fd8ebf7a0fed07701cda2d7bc](https://github.com/sagemath/sagetrac-mirror/commit/080c68d4a794289fd8ebf7a0fed07701cda2d7bc)" to "[01078129f02f457e2afc12ae26564dc8396f7ae1](https://github.com/sagemath/sagetrac-mirror/commit/01078129f02f457e2afc12ae26564dc8396f7ae1)".



---

archive/issue_comments_554712.json:
```json
{
    "body": "<a id='comment:91'></a>\n**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f85de87a572fb6dc088e47518cd0acf163cbff41\">f85de87</a></td><td><code>Merge branch 'develop' into t/28564/tensor_fields__consistent_naming</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3bf9a048531a80ec76a6006ea1c7fb88e2951f7c\">3bf9a04</a></td><td><code>Merge branch 't/28564/tensor_fields__consistent_naming' into t/28519/mixed_forms_and_tensor_fields_metaticket</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af0394ac9212cf13885ead4fc26a84aa1eb9adc9\">af0394a</a></td><td><code>Merge branch 'develop' into t/28578/mixed_forms_code_improvements</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cbb5251431bde7ad1a799391a5869971e452da64\">cbb5251</a></td><td><code>Doctests finished</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9694d1ca0d0465ce12c9649330ab90d060ddf1f9\">9694d1c</a></td><td><code>Speed up wedge using 'sum'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/afebf2f873b74941ec61fd89330a955193f19d7f\">afebf2f</a></td><td><code>Redundant zero assignment removed in 'wedge'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9163e034ebb56b88baabad42c23a073c6616fc1\">f9163e0</a></td><td><code>Merge branch 'develop' into t/28578/mixed_forms_code_improvements</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d0b3af6927198aa9480a5d672d0814eb52b8a340\">d0b3af6</a></td><td><code>Merge branch 'develop' into t/28578/mixed_forms_code_improvements</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f507b59c9b906ba467d9dd759fda5bd1cfc927c0\">f507b59</a></td><td><code>Merge branch 't/28578/mixed_forms_code_improvements' into t/28519/mixed_forms_and_tensor_fields_metaticket</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ed178166f77481ed35ea91fcca4783e7ffabcedf\">ed17816</a></td><td><code>Merge conflicts solved</code></td></tr></table>\n",
    "created_at": "2019-10-27T15:50:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554712",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:91'></a>
**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f85de87a572fb6dc088e47518cd0acf163cbff41">f85de87</a></td><td><code>Merge branch 'develop' into t/28564/tensor_fields__consistent_naming</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3bf9a048531a80ec76a6006ea1c7fb88e2951f7c">3bf9a04</a></td><td><code>Merge branch 't/28564/tensor_fields__consistent_naming' into t/28519/mixed_forms_and_tensor_fields_metaticket</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af0394ac9212cf13885ead4fc26a84aa1eb9adc9">af0394a</a></td><td><code>Merge branch 'develop' into t/28578/mixed_forms_code_improvements</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cbb5251431bde7ad1a799391a5869971e452da64">cbb5251</a></td><td><code>Doctests finished</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9694d1ca0d0465ce12c9649330ab90d060ddf1f9">9694d1c</a></td><td><code>Speed up wedge using 'sum'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/afebf2f873b74941ec61fd89330a955193f19d7f">afebf2f</a></td><td><code>Redundant zero assignment removed in 'wedge'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9163e034ebb56b88baabad42c23a073c6616fc1">f9163e0</a></td><td><code>Merge branch 'develop' into t/28578/mixed_forms_code_improvements</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d0b3af6927198aa9480a5d672d0814eb52b8a340">d0b3af6</a></td><td><code>Merge branch 'develop' into t/28578/mixed_forms_code_improvements</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f507b59c9b906ba467d9dd759fda5bd1cfc927c0">f507b59</a></td><td><code>Merge branch 't/28578/mixed_forms_code_improvements' into t/28519/mixed_forms_and_tensor_fields_metaticket</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ed178166f77481ed35ea91fcca4783e7ffabcedf">ed17816</a></td><td><code>Merge conflicts solved</code></td></tr></table>




---

archive/issue_comments_554713.json:
```json
{
    "body": "**Changing commit** from \"[01078129f02f457e2afc12ae26564dc8396f7ae1](https://github.com/sagemath/sagetrac-mirror/commit/01078129f02f457e2afc12ae26564dc8396f7ae1)\" to \"[ed178166f77481ed35ea91fcca4783e7ffabcedf](https://github.com/sagemath/sagetrac-mirror/commit/ed178166f77481ed35ea91fcca4783e7ffabcedf)\".",
    "created_at": "2019-10-27T15:50:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554713",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[01078129f02f457e2afc12ae26564dc8396f7ae1](https://github.com/sagemath/sagetrac-mirror/commit/01078129f02f457e2afc12ae26564dc8396f7ae1)" to "[ed178166f77481ed35ea91fcca4783e7ffabcedf](https://github.com/sagemath/sagetrac-mirror/commit/ed178166f77481ed35ea91fcca4783e7ffabcedf)".



---

archive/issue_comments_554714.json:
```json
{
    "body": "<a id='comment:92'></a>\nAll updated and merge conflicts solved.",
    "created_at": "2019-10-27T15:50:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554714",
    "user": "https://github.com/DeRhamSource"
}
```


<a id='comment:92'></a>
All updated and merge conflicts solved.



---

archive/issue_comments_554715.json:
```json
{
    "body": "**Changing commit** from \"[ed178166f77481ed35ea91fcca4783e7ffabcedf](https://github.com/sagemath/sagetrac-mirror/commit/ed178166f77481ed35ea91fcca4783e7ffabcedf)\" to \"[818caefdc053c3a3c3178c6076237f2f60dc178b](https://github.com/sagemath/sagetrac-mirror/commit/818caefdc053c3a3c3178c6076237f2f60dc178b)\".",
    "created_at": "2019-11-16T21:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554715",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[ed178166f77481ed35ea91fcca4783e7ffabcedf](https://github.com/sagemath/sagetrac-mirror/commit/ed178166f77481ed35ea91fcca4783e7ffabcedf)" to "[818caefdc053c3a3c3178c6076237f2f60dc178b](https://github.com/sagemath/sagetrac-mirror/commit/818caefdc053c3a3c3178c6076237f2f60dc178b)".



---

archive/issue_comments_554716.json:
```json
{
    "body": "<a id='comment:93'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a50555a3eda4647d36daf2d00f81a593b6dab507\">a50555a</a></td><td><code>Merge branch 'develop' into t/28519/mixed_forms_and_tensor_fields_metaticket</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb92e6aa9a646360ea7a33c2bc27055c7386dc08\">eb92e6a</a></td><td><code>Doctest fixed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b2eee2c3ef6f6d7613255b746e08beca7e99e23\">5b2eee2</a></td><td><code>'copy' with individual naming</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38aa7f5c8cdf9d1ac3d79238071e44cf43fe90c7\">38aa7f5</a></td><td><code>Merge branch 'develop' into t/28564/tensor_fields__consistent_naming</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d39cb5ac1387653256b7fa684465dc816ed4efe\">9d39cb5</a></td><td><code>Merge branch 'develop' into t/28564/tensor_fields__consistent_naming</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/67e5cdc2b5414bd5f1d1accfbd5d7684de21b765\">67e5cdc</a></td><td><code>Trac #28564: One line doctest error fixed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5dd53b08816502d1b1ee00f911bc80f1b426fb00\">5dd53b0</a></td><td><code>Trac #28564: raw strings for LaTeX code</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/818caefdc053c3a3c3178c6076237f2f60dc178b\">818caef</a></td><td><code>Merge branch 't/28564/tensor_fields__consistent_naming' into t/28519/mixed_forms_and_tensor_fields_metaticket</code></td></tr></table>\n",
    "created_at": "2019-11-16T21:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554716",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:93'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a50555a3eda4647d36daf2d00f81a593b6dab507">a50555a</a></td><td><code>Merge branch 'develop' into t/28519/mixed_forms_and_tensor_fields_metaticket</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb92e6aa9a646360ea7a33c2bc27055c7386dc08">eb92e6a</a></td><td><code>Doctest fixed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b2eee2c3ef6f6d7613255b746e08beca7e99e23">5b2eee2</a></td><td><code>'copy' with individual naming</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38aa7f5c8cdf9d1ac3d79238071e44cf43fe90c7">38aa7f5</a></td><td><code>Merge branch 'develop' into t/28564/tensor_fields__consistent_naming</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d39cb5ac1387653256b7fa684465dc816ed4efe">9d39cb5</a></td><td><code>Merge branch 'develop' into t/28564/tensor_fields__consistent_naming</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/67e5cdc2b5414bd5f1d1accfbd5d7684de21b765">67e5cdc</a></td><td><code>Trac #28564: One line doctest error fixed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5dd53b08816502d1b1ee00f911bc80f1b426fb00">5dd53b0</a></td><td><code>Trac #28564: raw strings for LaTeX code</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/818caefdc053c3a3c3178c6076237f2f60dc178b">818caef</a></td><td><code>Merge branch 't/28564/tensor_fields__consistent_naming' into t/28519/mixed_forms_and_tensor_fields_metaticket</code></td></tr></table>




---

archive/issue_comments_554717.json:
```json
{
    "body": "**Changing status** from needs_work to positive_review.",
    "created_at": "2019-11-25T15:19:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554717",
    "user": "https://github.com/DeRhamSource"
}
```


**Changing status** from needs_work to positive_review.



---

archive/issue_comments_554718.json:
```json
{
    "body": "<a id='comment:94'></a>\nSince all subtickets are merged, this ticket can be seen as finished and merged as-well. Please close.",
    "created_at": "2019-11-25T15:19:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554718",
    "user": "https://github.com/DeRhamSource"
}
```


<a id='comment:94'></a>
Since all subtickets are merged, this ticket can be seen as finished and merged as-well. Please close.



---

archive/issue_comments_554719.json:
```json
{
    "body": "<a id='comment:95'></a>\nReplying to [gh-DeRhamSource](#comment%3A94):\n> Since all subtickets are merged, this ticket can be seen as finished and merged as-well. Please close.\n\n\nI guess all the code is included in the previously merged tickets, so maybe you should remove the branch attached to the current ticket to avoid any confusion. Also, I think the ticket type should be set to \"task\" instead of \"enhancement\".",
    "created_at": "2019-11-25T15:26:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554719",
    "user": "https://github.com/egourgoulhon"
}
```


<a id='comment:95'></a>
Replying to [gh-DeRhamSource](#comment%3A94):
> Since all subtickets are merged, this ticket can be seen as finished and merged as-well. Please close.


I guess all the code is included in the previously merged tickets, so maybe you should remove the branch attached to the current ticket to avoid any confusion. Also, I think the ticket type should be set to "task" instead of "enhancement".



---

archive/issue_comments_554720.json:
```json
{
    "body": "**Changing commit** from \"[818caefdc053c3a3c3178c6076237f2f60dc178b](https://github.com/sagemath/sagetrac-mirror/commit/818caefdc053c3a3c3178c6076237f2f60dc178b)\" to \"\".",
    "created_at": "2019-11-25T15:46:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554720",
    "user": "https://github.com/DeRhamSource"
}
```


**Changing commit** from "[818caefdc053c3a3c3178c6076237f2f60dc178b](https://github.com/sagemath/sagetrac-mirror/commit/818caefdc053c3a3c3178c6076237f2f60dc178b)" to "".



---

archive/issue_comments_554721.json:
```json
{
    "body": "**Changing branch** from \"[u/gh-DeRhamSource/mixed_forms_and_tensor_fields_metaticket](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-DeRhamSource/mixed_forms_and_tensor_fields_metaticket)\" to \"\".",
    "created_at": "2019-11-25T15:46:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554721",
    "user": "https://github.com/DeRhamSource"
}
```


**Changing branch** from "[u/gh-DeRhamSource/mixed_forms_and_tensor_fields_metaticket](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-DeRhamSource/mixed_forms_and_tensor_fields_metaticket)" to "".



---

archive/issue_comments_554722.json:
```json
{
    "body": "**Resolution:** worksforme",
    "created_at": "2019-11-27T08:25:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554722",
    "user": "https://github.com/fchapoton"
}
```


**Resolution:** worksforme



---

archive/issue_events_080899.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-11-27T08:25:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28519#event-80899"
}
```




---

archive/issue_events_080900.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-11-27T08:25:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28519#event-80900"
}
```




---

archive/issue_comments_554723.json:
```json
{
    "body": "<a id='comment:97'></a>\nnot sure how to handle this kind of ticket. Closing as \"works for me\".",
    "created_at": "2019-11-27T08:25:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28519",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28519#issuecomment-554723",
    "user": "https://github.com/fchapoton"
}
```


<a id='comment:97'></a>
not sure how to handle this kind of ticket. Closing as "works for me".
