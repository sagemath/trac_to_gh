# Issue 28350: Abstract Linear Code No Metric Class

archive/issues_028113.json:
```json
{
    "body": "With the changes in the coding component, the classes `AbstractLinearCode` and `AbstractLinearRankMetricCode` share a lot of the same code. To avoid this and also make creating new linear codes with different metrics easier, we propose to create a new class, `AbstractLinearCodeNoMetric`, which will stand between `AbstractCode` and `AbstractLinearCode`/`AbstractLinearRankMetricCode`. This class will contain all the methods relevant for linear codes, which do not depend on a metric. In practice this is mostly methods related to generator matrix.\n\nAssignee: @emes4\n\nCC:  @dimpase @johanrosenkilde @xcaruso @adurand8\n\nKeywords: gsoc19\n\nBranch/Commit: 158d73fbc655eb05ffe09e8dc735833dbb91221b\n\nReviewer: Dima Pasechnik\n\nAuthor: Marketa Slukova, Amaury Durand\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/28350\n\n",
    "closed_at": "2020-03-05T23:23:15Z",
    "created_at": "2019-08-13T15:43:26Z",
    "labels": [
        "component: coding theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "Abstract Linear Code No Metric Class",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28350",
    "user": "https://github.com/emes4"
}
```
With the changes in the coding component, the classes `AbstractLinearCode` and `AbstractLinearRankMetricCode` share a lot of the same code. To avoid this and also make creating new linear codes with different metrics easier, we propose to create a new class, `AbstractLinearCodeNoMetric`, which will stand between `AbstractCode` and `AbstractLinearCode`/`AbstractLinearRankMetricCode`. This class will contain all the methods relevant for linear codes, which do not depend on a metric. In practice this is mostly methods related to generator matrix.

Assignee: @emes4

CC:  @dimpase @johanrosenkilde @xcaruso @adurand8

Keywords: gsoc19

Branch/Commit: 158d73fbc655eb05ffe09e8dc735833dbb91221b

Reviewer: Dima Pasechnik

Author: Marketa Slukova, Amaury Durand

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/28350





---

archive/issue_comments_543121.json:
```json
{
    "body": "Changing branch from \"\" to \"u/emes4/28073\"",
    "created_at": "2019-08-15T14:46:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543121",
    "user": "https://github.com/emes4"
}
```

Changing branch from "" to "u/emes4/28073"



---

archive/issue_comments_543122.json:
```json
{
    "body": "Changing branch from \"u/emes4/28073\" to \"u/emes4/28350\"",
    "created_at": "2019-08-15T14:47:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543122",
    "user": "https://github.com/emes4"
}
```

Changing branch from "u/emes4/28073" to "u/emes4/28350"



---

archive/issue_comments_543123.json:
```json
{
    "body": "Changing branch from \"u/emes4/28350\" to \"\"",
    "created_at": "2019-08-15T14:51:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543123",
    "user": "https://github.com/emes4"
}
```

Changing branch from "u/emes4/28350" to ""



---

archive/issue_comments_543124.json:
```json
{
    "body": "Changing commit from \"\" to \"45cf76ee5da312cf4fc2b737328daeacdd9156cf\"",
    "created_at": "2019-08-15T14:56:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543124",
    "user": "https://github.com/emes4"
}
```

Changing commit from "" to "45cf76ee5da312cf4fc2b737328daeacdd9156cf"



---

archive/issue_comments_543125.json:
```json
{
    "body": "Changing branch from \"\" to \"u/gh-emes4/coding/no_metric\"",
    "created_at": "2019-08-15T14:56:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543125",
    "user": "https://github.com/emes4"
}
```

Changing branch from "" to "u/gh-emes4/coding/no_metric"



---

archive/issue_comments_543126.json:
```json
{
    "body": "<a id='comment:4'></a>\nLast 10 new commits:\n|                                                                                                                                          |                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|\n|[40df01e](https://github.com/sagemath/sagetrac-mirror/commit/40df01e3e1bc92c4d22ae9928f39c24d64117841)|`Finished up documentation.`|\n|[01135cb](https://github.com/sagemath/sagetrac-mirror/commit/01135cbfae1ff481ba243ca05eabf229e8c1432d)|`Merge branch 'develop' of git://trac.sagemath.org/sage into t/28073/abstract_code`|\n|[ef7b797](https://github.com/sagemath/sagetrac-mirror/commit/ef7b797ac8c8e94954bac4c6359f62681700161c)|`Merge branch 'develop' of git://trac.sagemath.org/sage into t/28073/abstract_code`|\n|[9608a23](https://github.com/sagemath/sagetrac-mirror/commit/9608a237aeabcaf56416bc26475a6b3c0433e6c0)|`Documentation and example fixes.`|\n|[5230b19](https://github.com/sagemath/sagetrac-mirror/commit/5230b194366076edbad497dff8d866ba5428f7a2)|`Merge #27634`|\n|[318b444](https://github.com/sagemath/sagetrac-mirror/commit/318b4441b0e2f7ee1b1275f733e5f43b64b3669e)|`Module inheritance. Ambient_space and __call__ changes.`|\n|[3996761](https://github.com/sagemath/sagetrac-mirror/commit/3996761941a54663d70ca79111e9373cfbdbcd0f)|`Merge commit '8b01cc5df9e1508250976b08b4d2212aecb02927' of git://trac.sagemath.org/sage into t/28073/abstract_code`|\n|[a4582a3](https://github.com/sagemath/sagetrac-mirror/commit/a4582a31a040ac3dcdeb7f5d05affe5032979f72)|`Merge branch 'develop' of git://trac.sagemath.org/sage into t/28073/abstract_code`|\n|[4dbc878](https://github.com/sagemath/sagetrac-mirror/commit/4dbc8789f4ef1e173987df7ba6e13769eacff2ac)|`documentation fix`|\n|[45cf76e](https://github.com/sagemath/sagetrac-mirror/commit/45cf76ee5da312cf4fc2b737328daeacdd9156cf)|`Class linear_code_no_metric. Moved stuff from linear_code.`|",
    "created_at": "2019-08-15T14:56:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543126",
    "user": "https://github.com/emes4"
}
```

<a id='comment:4'></a>
Last 10 new commits:
|                                                                                                                                          |                            |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|
|[40df01e](https://github.com/sagemath/sagetrac-mirror/commit/40df01e3e1bc92c4d22ae9928f39c24d64117841)|`Finished up documentation.`|
|[01135cb](https://github.com/sagemath/sagetrac-mirror/commit/01135cbfae1ff481ba243ca05eabf229e8c1432d)|`Merge branch 'develop' of git://trac.sagemath.org/sage into t/28073/abstract_code`|
|[ef7b797](https://github.com/sagemath/sagetrac-mirror/commit/ef7b797ac8c8e94954bac4c6359f62681700161c)|`Merge branch 'develop' of git://trac.sagemath.org/sage into t/28073/abstract_code`|
|[9608a23](https://github.com/sagemath/sagetrac-mirror/commit/9608a237aeabcaf56416bc26475a6b3c0433e6c0)|`Documentation and example fixes.`|
|[5230b19](https://github.com/sagemath/sagetrac-mirror/commit/5230b194366076edbad497dff8d866ba5428f7a2)|`Merge #27634`|
|[318b444](https://github.com/sagemath/sagetrac-mirror/commit/318b4441b0e2f7ee1b1275f733e5f43b64b3669e)|`Module inheritance. Ambient_space and __call__ changes.`|
|[3996761](https://github.com/sagemath/sagetrac-mirror/commit/3996761941a54663d70ca79111e9373cfbdbcd0f)|`Merge commit '8b01cc5df9e1508250976b08b4d2212aecb02927' of git://trac.sagemath.org/sage into t/28073/abstract_code`|
|[a4582a3](https://github.com/sagemath/sagetrac-mirror/commit/a4582a31a040ac3dcdeb7f5d05affe5032979f72)|`Merge branch 'develop' of git://trac.sagemath.org/sage into t/28073/abstract_code`|
|[4dbc878](https://github.com/sagemath/sagetrac-mirror/commit/4dbc8789f4ef1e173987df7ba6e13769eacff2ac)|`documentation fix`|
|[45cf76e](https://github.com/sagemath/sagetrac-mirror/commit/45cf76ee5da312cf4fc2b737328daeacdd9156cf)|`Class linear_code_no_metric. Moved stuff from linear_code.`|



---

archive/issue_comments_543127.json:
```json
{
    "body": "<a id='comment:5'></a>\nI created the class `AbstractLinearCodeNoMetric` and moved stuff from `AbstractLinearCode` there, including the category theory set up. I don't understand what the `facade` does, but when I remove it, the test suite test in `LinearCode` is unhappy. \n\nThe only thing I couldn't get to work was the requirement that the dimension of the code is at most the length. The problem is that the dimension requires a generator matrix (unless it's given) and that causes some issues. I kept the check line commented out in `__init__` of `AbstractLinearCodeNoMetric`.\n\nUnlike `AbstractCode`, in `AbstractLinearCodeNoMetric`, it is required that subclasses have default encoders/decoders. This should make sense since we require a generic constructor class.",
    "created_at": "2019-08-15T14:59:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543127",
    "user": "https://github.com/emes4"
}
```

<a id='comment:5'></a>
I created the class `AbstractLinearCodeNoMetric` and moved stuff from `AbstractLinearCode` there, including the category theory set up. I don't understand what the `facade` does, but when I remove it, the test suite test in `LinearCode` is unhappy. 

The only thing I couldn't get to work was the requirement that the dimension of the code is at most the length. The problem is that the dimension requires a generator matrix (unless it's given) and that causes some issues. I kept the check line commented out in `__init__` of `AbstractLinearCodeNoMetric`.

Unlike `AbstractCode`, in `AbstractLinearCodeNoMetric`, it is required that subclasses have default encoders/decoders. This should make sense since we require a generic constructor class.



---

archive/issue_comments_543128.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-08-15T14:59:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543128",
    "user": "https://github.com/emes4"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_543129.json:
```json
{
    "body": "Set assignee to @emes4.",
    "created_at": "2019-08-15T15:00:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543129",
    "user": "https://github.com/emes4"
}
```

Set assignee to @emes4.



---

archive/issue_comments_543130.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------|\n|[01d9a3d](https://github.com/sagemath/sagetrac-mirror/commit/01d9a3d0d6af1995325233e913de98f48baf488c)|`Merge branch 'develop' of git://trac.sagemath.org/sage into t/28350/abstract_linear_code_no_metric_class`|",
    "created_at": "2019-08-19T09:19:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543130",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------|
|[01d9a3d](https://github.com/sagemath/sagetrac-mirror/commit/01d9a3d0d6af1995325233e913de98f48baf488c)|`Merge branch 'develop' of git://trac.sagemath.org/sage into t/28350/abstract_linear_code_no_metric_class`|



---

archive/issue_comments_543131.json:
```json
{
    "body": "Changing commit from \"45cf76ee5da312cf4fc2b737328daeacdd9156cf\" to \"01d9a3d0d6af1995325233e913de98f48baf488c\"",
    "created_at": "2019-08-19T09:19:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543131",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "45cf76ee5da312cf4fc2b737328daeacdd9156cf" to "01d9a3d0d6af1995325233e913de98f48baf488c"



---

archive/issue_comments_543132.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------|\n|[226ffbf](https://github.com/sagemath/sagetrac-mirror/commit/226ffbf1baf068c0b01df70543554b2be7cb9d5e)|`Added no metric to coding documentation index. Moved zero method from AbstractLinearCode. Changed base_field check.`|",
    "created_at": "2019-08-19T09:21:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543132",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------|
|[226ffbf](https://github.com/sagemath/sagetrac-mirror/commit/226ffbf1baf068c0b01df70543554b2be7cb9d5e)|`Added no metric to coding documentation index. Moved zero method from AbstractLinearCode. Changed base_field check.`|



---

archive/issue_comments_543133.json:
```json
{
    "body": "Changing commit from \"01d9a3d0d6af1995325233e913de98f48baf488c\" to \"226ffbf1baf068c0b01df70543554b2be7cb9d5e\"",
    "created_at": "2019-08-19T09:21:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543133",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "01d9a3d0d6af1995325233e913de98f48baf488c" to "226ffbf1baf068c0b01df70543554b2be7cb9d5e"



---

archive/issue_comments_543134.json:
```json
{
    "body": "<a id='comment:10'></a>\nUpdated Sage.\n\nAdded `linear_code_no_metric.py` to the index of coding module documentation.\n\nMoved `zero` method from `AbstractLinearCode`.\n\nChanged `base_field` check message.",
    "created_at": "2019-08-19T09:23:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543134",
    "user": "https://github.com/emes4"
}
```

<a id='comment:10'></a>
Updated Sage.

Added `linear_code_no_metric.py` to the index of coding module documentation.

Moved `zero` method from `AbstractLinearCode`.

Changed `base_field` check message.



---

archive/issue_comments_543135.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-09-08T14:09:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543135",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_543136.json:
```json
{
    "body": "<a id='comment:11'></a>\nwith python3:\n(i.e. doing `./configure --with-python=3` && make)\n\n```\nsage -t src/sage/coding/decoder.py\n**********************************************************************\nFile \"src/sage/coding/decoder.py\", line 197, in sage.coding.decoder.Decoder.__hash__\nFailed example:\n    hash(D) #random\nException raised:\n    Traceback (most recent call last):\n      File \"/mnt/opt/Sage/sage-dev/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 681, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/mnt/opt/Sage/sage-dev/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1123, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.coding.decoder.Decoder.__hash__[3]>\", line 1, in <module>\n        hash(D) #random\n      File \"/mnt/opt/Sage/sage-dev/local/lib/python3.7/site-packages/sage/coding/linear_code.py\", line 2632, in __hash__\n        return hash((self.code(), self.maximum_error_weight()))\n    TypeError: unhashable type: 'LinearCode_with_category'\n**********************************************************************\n```\nthis causes more errors\n\n```\nsage -t src/sage/coding/decoder.py  # 1 doctest failed\nsage -t src/sage/coding/linear_code_no_metric.py  # 2 doctests failed\nsage -t src/sage/coding/linear_code.py  # 1 doctest failed\n```",
    "created_at": "2019-09-08T14:09:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543136",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:11'></a>
with python3:
(i.e. doing `./configure --with-python=3` && make)

```
sage -t src/sage/coding/decoder.py
**********************************************************************
File "src/sage/coding/decoder.py", line 197, in sage.coding.decoder.Decoder.__hash__
Failed example:
    hash(D) #random
Exception raised:
    Traceback (most recent call last):
      File "/mnt/opt/Sage/sage-dev/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 681, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/mnt/opt/Sage/sage-dev/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1123, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.coding.decoder.Decoder.__hash__[3]>", line 1, in <module>
        hash(D) #random
      File "/mnt/opt/Sage/sage-dev/local/lib/python3.7/site-packages/sage/coding/linear_code.py", line 2632, in __hash__
        return hash((self.code(), self.maximum_error_weight()))
    TypeError: unhashable type: 'LinearCode_with_category'
**********************************************************************
```
this causes more errors

```
sage -t src/sage/coding/decoder.py  # 1 doctest failed
sage -t src/sage/coding/linear_code_no_metric.py  # 2 doctests failed
sage -t src/sage/coding/linear_code.py  # 1 doctest failed
```



---

archive/issue_comments_543137.json:
```json
{
    "body": "<a id='comment:14'></a>\nAny chance this could be brought forward - it holds up few more tickets...",
    "created_at": "2019-10-31T21:14:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543137",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:14'></a>
Any chance this could be brought forward - it holds up few more tickets...



---

archive/issue_comments_543138.json:
```json
{
    "body": "<a id='comment:15'></a>\nI unfortunately don't have any time to move on this currently :-(",
    "created_at": "2019-11-01T10:53:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543138",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:15'></a>
I unfortunately don't have any time to move on this currently :-(



---

archive/issue_comments_543139.json:
```json
{
    "body": "<a id='comment:16'></a>\nI will have a look at it this week!",
    "created_at": "2019-11-03T17:06:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543139",
    "user": "https://github.com/emes4"
}
```

<a id='comment:16'></a>
I will have a look at it this week!



---

archive/issue_comments_543140.json:
```json
{
    "body": "<a id='comment:17'></a>\nTicket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543140",
    "user": "https://github.com/embray"
}
```

<a id='comment:17'></a>
Ticket retargeted after milestone closed



---

archive/issue_events_088026.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28350#event-88026"
}
```



---

archive/issue_comments_543141.json:
```json
{
    "body": "Changing branch from \"u/gh-emes4/coding/no_metric\" to \"u/gh-Adurand8/coding/no_metric\"",
    "created_at": "2020-01-30T10:20:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543141",
    "user": "https://github.com/Adurand8"
}
```

Changing branch from "u/gh-emes4/coding/no_metric" to "u/gh-Adurand8/coding/no_metric"



---

archive/issue_comments_543142.json:
```json
{
    "body": "Changing commit from \"226ffbf1baf068c0b01df70543554b2be7cb9d5e\" to \"dbaaaa1a685e1dbaca57997ce3f0f56882382745\"",
    "created_at": "2020-01-30T10:52:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543142",
    "user": "https://github.com/xcaruso"
}
```

Changing commit from "226ffbf1baf068c0b01df70543554b2be7cb9d5e" to "dbaaaa1a685e1dbaca57997ce3f0f56882382745"



---

archive/issue_comments_543143.json:
```json
{
    "body": "<a id='comment:19'></a>\nHello,\n\nI'm not really satisfied with the names of the classes.\nInstead, I would propose the following hierarchy:\n\n```\nAbstractCode\n  AbstractLinearCode\n    AbstractLinearMetricCode\n      AbstractLinearHammingMetricCode  # if relevant\n      AbstractLinearRankMetricCode\n```\n\nAlso, through it is not directly related to this ticket, I don't understand the purpose of the class `LinearCode`...\n\n---\nNew commits:\n|                                                                                                                                          |                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|\n|[d49390e](https://github.com/sagemath/sagetrac-mirror/commit/d49390ead4598fa71dc799b9dee67ae3272c84ea)|`merged version 9.1.beta1`|\n|[80ff011](https://github.com/sagemath/sagetrac-mirror/commit/80ff011687f3aedea325082757240c6b812ec27a)|`Add function hash`|\n|[dbaaaa1](https://github.com/sagemath/sagetrac-mirror/commit/dbaaaa1a685e1dbaca57997ce3f0f56882382745)|`Merge branch 'develop' into t/28350/coding/no_metric`|",
    "created_at": "2020-01-30T10:52:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543143",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:19'></a>
Hello,

I'm not really satisfied with the names of the classes.
Instead, I would propose the following hierarchy:

```
AbstractCode
  AbstractLinearCode
    AbstractLinearMetricCode
      AbstractLinearHammingMetricCode  # if relevant
      AbstractLinearRankMetricCode
```

Also, through it is not directly related to this ticket, I don't understand the purpose of the class `LinearCode`...

---
New commits:
|                                                                                                                                          |                          |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|
|[d49390e](https://github.com/sagemath/sagetrac-mirror/commit/d49390ead4598fa71dc799b9dee67ae3272c84ea)|`merged version 9.1.beta1`|
|[80ff011](https://github.com/sagemath/sagetrac-mirror/commit/80ff011687f3aedea325082757240c6b812ec27a)|`Add function hash`|
|[dbaaaa1](https://github.com/sagemath/sagetrac-mirror/commit/dbaaaa1a685e1dbaca57997ce3f0f56882382745)|`Merge branch 'develop' into t/28350/coding/no_metric`|



---

archive/issue_comments_543144.json:
```json
{
    "body": "Changing commit from \"dbaaaa1a685e1dbaca57997ce3f0f56882382745\" to \"db3b18af01e1527f6d393405945d6d722d9c41b1\"",
    "created_at": "2020-01-30T10:54:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543144",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "dbaaaa1a685e1dbaca57997ce3f0f56882382745" to "db3b18af01e1527f6d393405945d6d722d9c41b1"



---

archive/issue_comments_543145.json:
```json
{
    "body": "<a id='comment:20'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------|\n|[db3b18a](https://github.com/sagemath/sagetrac-mirror/commit/db3b18af01e1527f6d393405945d6d722d9c41b1)|`Error commit on linear_code_no_metric in precedent commit`|",
    "created_at": "2020-01-30T10:54:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543145",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------|
|[db3b18a](https://github.com/sagemath/sagetrac-mirror/commit/db3b18af01e1527f6d393405945d6d722d9c41b1)|`Error commit on linear_code_no_metric in precedent commit`|



---

archive/issue_comments_543146.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [caruso](#comment%3A19):\n> I'm not really satisfied with the names of the classes.\n\n\nI'd propose that we complete this ticket and #28209 (which depends on this ticket) with as few chnages as posssible,\nand then go on with renaming/redesigning.",
    "created_at": "2020-01-30T11:04:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543146",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:21'></a>
Replying to [caruso](#comment%3A19):
> I'm not really satisfied with the names of the classes.


I'd propose that we complete this ticket and #28209 (which depends on this ticket) with as few chnages as posssible,
and then go on with renaming/redesigning.



---

archive/issue_comments_543147.json:
```json
{
    "body": "<a id='comment:22'></a>\ntests pass now. Is it ready for review?",
    "created_at": "2020-01-30T11:26:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543147",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:22'></a>
tests pass now. Is it ready for review?



---

archive/issue_comments_543148.json:
```json
{
    "body": "Changing author from \"Marketa Slukova\" to \"Marketa Slukova, Durand Amaury\"",
    "created_at": "2020-01-30T11:26:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543148",
    "user": "https://github.com/dimpase"
}
```

Changing author from "Marketa Slukova" to "Marketa Slukova, Durand Amaury"



---

archive/issue_comments_543149.json:
```json
{
    "body": "Changing author from \"Marketa Slukova, Durand Amaury\" to \"Marketa Slukova, Amaury Durand\"",
    "created_at": "2020-01-30T11:27:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543149",
    "user": "https://github.com/dimpase"
}
```

Changing author from "Marketa Slukova, Durand Amaury" to "Marketa Slukova, Amaury Durand"



---

archive/issue_comments_543150.json:
```json
{
    "body": "<a id='comment:24'></a>\nPing?",
    "created_at": "2020-02-13T23:16:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543150",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:24'></a>
Ping?



---

archive/issue_comments_543151.json:
```json
{
    "body": "<a id='comment:25'></a>\nDima, is there a specific reason you refrain from reviewing yourself? I'm completely swamped right now, so there's no chance I'll do it any time soon, but I remember being fairly happy about the design during GSoC.\n\n`@`caruso: Concerning your proposed naming, I guess your names are better from a completely general point of view. The current naming is for \"historic reasons\" centering on classical \"linear codes over Hamming metric\" being what everyone would expect. So in some sense the names follow the principal of least surprise by specifically pointing out in the name when it differs from the \"expected\". But I think I could easily be talked into going with your hierarchy.\n\nThe purpose of `LinearCode` btw is to act as a thin wrapper around `AbstractLinearCode` for constructing \"unstructured\" codes directly from a generator matrix. That's an essential class for users. The distinction from `AbstractLinearCode` was created as part of the encoder-framework (long story), but is a typical way to construct a class hierarchy in more strongly typed languages: if I could do so in Python, I would specify on a type level that AbstractLinearCode is not supposed to be instantiated directly.",
    "created_at": "2020-02-27T20:38:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543151",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:25'></a>
Dima, is there a specific reason you refrain from reviewing yourself? I'm completely swamped right now, so there's no chance I'll do it any time soon, but I remember being fairly happy about the design during GSoC.

`@`caruso: Concerning your proposed naming, I guess your names are better from a completely general point of view. The current naming is for "historic reasons" centering on classical "linear codes over Hamming metric" being what everyone would expect. So in some sense the names follow the principal of least surprise by specifically pointing out in the name when it differs from the "expected". But I think I could easily be talked into going with your hierarchy.

The purpose of `LinearCode` btw is to act as a thin wrapper around `AbstractLinearCode` for constructing "unstructured" codes directly from a generator matrix. That's an essential class for users. The distinction from `AbstractLinearCode` was created as part of the encoder-framework (long story), but is a typical way to construct a class hierarchy in more strongly typed languages: if I could do so in Python, I would specify on a type level that AbstractLinearCode is not supposed to be instantiated directly.



---

archive/issue_comments_543152.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2020-02-27T20:58:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543152",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_543153.json:
```json
{
    "body": "<a id='comment:26'></a>\nI was not reviewing as the ticket is set to `needs work`. So I've set it to needs review and to positive review now.",
    "created_at": "2020-02-27T20:58:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543153",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:26'></a>
I was not reviewing as the ticket is set to `needs work`. So I've set it to needs review and to positive review now.



---

archive/issue_comments_543154.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Dima Pasechnik\"",
    "created_at": "2020-02-27T20:58:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543154",
    "user": "https://github.com/dimpase"
}
```

Changing reviewer from "" to "Dima Pasechnik"



---

archive/issue_comments_543155.json:
```json
{
    "body": "<a id='comment:27'></a>\nMerge conflit",
    "created_at": "2020-02-27T23:15:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543155",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:27'></a>
Merge conflit



---

archive/issue_comments_543156.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2020-02-27T23:15:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543156",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_543157.json:
```json
{
    "body": "<a id='comment:28'></a>\nrebased\n\n---\nNew commits:\n|                                                                                                                                          |                                                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------|\n|[244f4af](https://github.com/sagemath/sagetrac-mirror/commit/244f4afc55ef67f24c5e70baa64997e71d3ec404)|`Class linear_code_no_metric. Moved stuff from linear_code.`|\n|[c716526](https://github.com/sagemath/sagetrac-mirror/commit/c7165267cd4bfc9edfd3c087a723088203b3c55e)|`Added no metric to coding documentation index. Moved zero method from AbstractLinearCode. Changed base_field check.`|\n|[0b5baa0](https://github.com/sagemath/sagetrac-mirror/commit/0b5baa0ce9058caf053c06285ce1bf6ea2a32173)|`Add function hash`|\n|[158d73f](https://github.com/sagemath/sagetrac-mirror/commit/158d73fbc655eb05ffe09e8dc735833dbb91221b)|`Error commit on linear_code_no_metric in precedent commit`|",
    "created_at": "2020-03-03T11:47:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543157",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:28'></a>
rebased

---
New commits:
|                                                                                                                                          |                                                            |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------|
|[244f4af](https://github.com/sagemath/sagetrac-mirror/commit/244f4afc55ef67f24c5e70baa64997e71d3ec404)|`Class linear_code_no_metric. Moved stuff from linear_code.`|
|[c716526](https://github.com/sagemath/sagetrac-mirror/commit/c7165267cd4bfc9edfd3c087a723088203b3c55e)|`Added no metric to coding documentation index. Moved zero method from AbstractLinearCode. Changed base_field check.`|
|[0b5baa0](https://github.com/sagemath/sagetrac-mirror/commit/0b5baa0ce9058caf053c06285ce1bf6ea2a32173)|`Add function hash`|
|[158d73f](https://github.com/sagemath/sagetrac-mirror/commit/158d73fbc655eb05ffe09e8dc735833dbb91221b)|`Error commit on linear_code_no_metric in precedent commit`|



---

archive/issue_comments_543158.json:
```json
{
    "body": "Changing commit from \"db3b18af01e1527f6d393405945d6d722d9c41b1\" to \"158d73fbc655eb05ffe09e8dc735833dbb91221b\"",
    "created_at": "2020-03-03T11:47:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543158",
    "user": "https://github.com/dimpase"
}
```

Changing commit from "db3b18af01e1527f6d393405945d6d722d9c41b1" to "158d73fbc655eb05ffe09e8dc735833dbb91221b"



---

archive/issue_comments_543159.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2020-03-03T11:47:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543159",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_543160.json:
```json
{
    "body": "Changing dependencies from \"#28073\" to \"\"",
    "created_at": "2020-03-03T11:47:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543160",
    "user": "https://github.com/dimpase"
}
```

Changing dependencies from "#28073" to ""



---

archive/issue_comments_543161.json:
```json
{
    "body": "Changing branch from \"u/gh-Adurand8/coding/no_metric\" to \"u/dimpase/coding/no_metric\"",
    "created_at": "2020-03-03T11:47:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543161",
    "user": "https://github.com/dimpase"
}
```

Changing branch from "u/gh-Adurand8/coding/no_metric" to "u/dimpase/coding/no_metric"



---

archive/issue_comments_543162.json:
```json
{
    "body": "Changing branch from \"u/dimpase/coding/no_metric\" to \"158d73fbc655eb05ffe09e8dc735833dbb91221b\"",
    "created_at": "2020-03-05T23:23:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543162",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/dimpase/coding/no_metric" to "158d73fbc655eb05ffe09e8dc735833dbb91221b"



---

archive/issue_comments_543163.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-03-05T23:23:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28350#issuecomment-543163",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_088027.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-03-05T23:23:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28350",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28350#event-88027"
}
```
