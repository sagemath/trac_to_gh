# Issue 28571: pass 'macaulay2' as argument to '_macaulay2_init_()'

archive/issues_028334.json:
```json
{
    "body": "This gives access to the Macaulay2 interpreter in the `_macaulay2_init_()` function, so it can also return `Macaulay2Elements` rather than just strings. The `_macaulay2_init_()` function is used for initializing Macaulay2 elements and is usually called by `_macaulay2_()` which then takes care of caching.\n\nThe magma interface also does this, but it had not been correctly set up until now.\n\n**CC:**  @saliola @dimpase @antonleykin\n\n**Keywords:** macaulay2, IMA Coding Sprint\n\n**Branch/Commit:** [2823dc0abc2ed82b731922ef0492dc37406aba9a](https://github.com/sagemath/sagetrac-mirror/commit/2823dc0abc2ed82b731922ef0492dc37406aba9a)\n\n**Reviewer:** Franco Saliola\n\n**Author:** Markus Wageringel\n\n**Dependencies:** #28074\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/28571\n\n",
    "closed_at": "2019-10-12T22:12:28Z",
    "created_at": "2019-10-07T16:25:17Z",
    "labels": [
        "component: interfaces: optional"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.0",
    "title": "pass 'macaulay2' as argument to '_macaulay2_init_()'",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28571",
    "user": "https://github.com/mwageringel"
}
```
This gives access to the Macaulay2 interpreter in the `_macaulay2_init_()` function, so it can also return `Macaulay2Elements` rather than just strings. The `_macaulay2_init_()` function is used for initializing Macaulay2 elements and is usually called by `_macaulay2_()` which then takes care of caching.

The magma interface also does this, but it had not been correctly set up until now.

**CC:**  @saliola @dimpase @antonleykin

**Keywords:** macaulay2, IMA Coding Sprint

**Branch/Commit:** [2823dc0abc2ed82b731922ef0492dc37406aba9a](https://github.com/sagemath/sagetrac-mirror/commit/2823dc0abc2ed82b731922ef0492dc37406aba9a)

**Reviewer:** Franco Saliola

**Author:** Markus Wageringel

**Dependencies:** #28074

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/28571





---

archive/issue_comments_555664.json:
```json
{
    "body": "**Author:** Markus Wageringel",
    "created_at": "2019-10-07T16:26:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28571#issuecomment-555664",
    "user": "https://github.com/mwageringel"
}
```

**Author:** Markus Wageringel



---

archive/issue_comments_555665.json:
```json
{
    "body": "**Commit:** [2823dc0abc2ed82b731922ef0492dc37406aba9a](https://github.com/sagemath/sagetrac-mirror/commit/2823dc0abc2ed82b731922ef0492dc37406aba9a)",
    "created_at": "2019-10-07T16:26:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28571#issuecomment-555665",
    "user": "https://github.com/mwageringel"
}
```

**Commit:** [2823dc0abc2ed82b731922ef0492dc37406aba9a](https://github.com/sagemath/sagetrac-mirror/commit/2823dc0abc2ed82b731922ef0492dc37406aba9a)



---

archive/issue_comments_555666.json:
```json
{
    "body": "**Dependencies:** #28074",
    "created_at": "2019-10-07T16:26:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28571#issuecomment-555666",
    "user": "https://github.com/mwageringel"
}
```

**Dependencies:** #28074



---

archive/issue_comments_555667.json:
```json
{
    "body": "<a id='comment:1'></a>\nI have not tested the change for Magma as I do not have access to it.\n\n---\n\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5709e615c731313dedbaa23ec09d07a9b7bf5cf7\">5709e61</a></td><td><code>28074: refactor caching of Macaulay2 polynomial rings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c2d89a00dbc3a65f6cbe109341fa4e38db484124\">c2d89a0</a></td><td><code>Merge tag '9.0.beta0'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2823dc0abc2ed82b731922ef0492dc37406aba9a\">2823dc0</a></td><td><code>pass macaulay2 as argument to _macaulay2_init_()</code></td></tr></table>\n",
    "created_at": "2019-10-07T16:26:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28571#issuecomment-555667",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:1'></a>
I have not tested the change for Magma as I do not have access to it.

---

**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5709e615c731313dedbaa23ec09d07a9b7bf5cf7">5709e61</a></td><td><code>28074: refactor caching of Macaulay2 polynomial rings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c2d89a00dbc3a65f6cbe109341fa4e38db484124">c2d89a0</a></td><td><code>Merge tag '9.0.beta0'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2823dc0abc2ed82b731922ef0492dc37406aba9a">2823dc0</a></td><td><code>pass macaulay2 as argument to _macaulay2_init_()</code></td></tr></table>




---

archive/issue_comments_555668.json:
```json
{
    "body": "**Branch:** [public/interfaces/m2/macaulay2_init](https://github.com/sagemath/sagetrac-mirror/tree/public/interfaces/m2/macaulay2_init)",
    "created_at": "2019-10-07T16:26:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28571#issuecomment-555668",
    "user": "https://github.com/mwageringel"
}
```

**Branch:** [public/interfaces/m2/macaulay2_init](https://github.com/sagemath/sagetrac-mirror/tree/public/interfaces/m2/macaulay2_init)



---

archive/issue_comments_555669.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2019-10-10T19:15:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28571#issuecomment-555669",
    "user": "https://github.com/saliola"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_555670.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2019-10-10T19:16:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28571#issuecomment-555670",
    "user": "https://github.com/saliola"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_555671.json:
```json
{
    "body": "**Reviewer:** Franco Saliola",
    "created_at": "2019-10-10T20:04:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28571#issuecomment-555671",
    "user": "https://github.com/mwageringel"
}
```

**Reviewer:** Franco Saliola



---

archive/issue_events_081095.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-10-12T22:12:28Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28571",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28571#event-81095"
}
```



---

archive/issue_comments_555672.json:
```json
{
    "body": "**Changing branch** from \"[public/interfaces/m2/macaulay2_init](https://github.com/sagemath/sagetrac-mirror/tree/public/interfaces/m2/macaulay2_init)\" to \"[2823dc0abc2ed82b731922ef0492dc37406aba9a](https://github.com/sagemath/sagetrac-mirror/commit/2823dc0abc2ed82b731922ef0492dc37406aba9a)\".",
    "created_at": "2019-10-12T22:12:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28571#issuecomment-555672",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/interfaces/m2/macaulay2_init](https://github.com/sagemath/sagetrac-mirror/tree/public/interfaces/m2/macaulay2_init)" to "[2823dc0abc2ed82b731922ef0492dc37406aba9a](https://github.com/sagemath/sagetrac-mirror/commit/2823dc0abc2ed82b731922ef0492dc37406aba9a)".



---

archive/issue_comments_555673.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2019-10-12T22:12:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28571",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28571#issuecomment-555673",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed
