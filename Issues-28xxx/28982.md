# Issue 28982: Use CombinatorialPolyhedron to obtain faces lattice of polyhedra

archive/issues_028745.json:
```json
{
    "body": "We use `CombinatorialPolyhedron` to compute the face lattice of a polyhedron.\n\nAlong the way we implement `hasse_diagram` for `CombinatorialPolyhedron` and `Polyhedron_base`.\n\nInstead of caching `face_lattice`, we cache `hasse_diagram` now.\n\nThis is much slower, but removes a memory leak. As `hasse_diagram` is hardly used with #28646, this seems to be reasonable.\n\nCaching the face lattice does create a memory leak:\n\n```\nsage: import gc\nsage: P = polytopes.cube()\nsage: P.my_face_lattice = P.face_lattice()\nsage: n = get_memory_usage()\nsage: P = polytopes.cube()\nsage: P.my_face_lattice = P.face_lattice()\nsage: _ = gc.collect()\nsage: n == get_memory_usage()\nFalse\n```\n\n**CC:**  @jplab @LaisRast\n\n**Keywords:** polyhedron, face lattice\n\n**Branch/Commit:** [6b7b5b6c17a645f55766666295a0424de8efde72](https://github.com/sagemath/sagetrac-mirror/commit/6b7b5b6c17a645f55766666295a0424de8efde72)\n\n**Reviewer:** Jean-Philippe Labb\u00e9, Matthias Koeppe\n\n**Author:** Jonathan Kliem\n\n**Dependencies:** #29583\n\nIssue created by migration from https://trac.sagemath.org/ticket/28982\n\n",
    "closed_at": "2020-09-06T21:51:47Z",
    "created_at": "2020-01-10T13:33:53Z",
    "labels": [
        "component: geometry",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "title": "Use CombinatorialPolyhedron to obtain faces lattice of polyhedra",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/28982",
    "user": "https://github.com/kliem"
}
```
We use `CombinatorialPolyhedron` to compute the face lattice of a polyhedron.

Along the way we implement `hasse_diagram` for `CombinatorialPolyhedron` and `Polyhedron_base`.

Instead of caching `face_lattice`, we cache `hasse_diagram` now.

This is much slower, but removes a memory leak. As `hasse_diagram` is hardly used with #28646, this seems to be reasonable.

Caching the face lattice does create a memory leak:

```
sage: import gc
sage: P = polytopes.cube()
sage: P.my_face_lattice = P.face_lattice()
sage: n = get_memory_usage()
sage: P = polytopes.cube()
sage: P.my_face_lattice = P.face_lattice()
sage: _ = gc.collect()
sage: n == get_memory_usage()
False
```

**CC:**  @jplab @LaisRast

**Keywords:** polyhedron, face lattice

**Branch/Commit:** [6b7b5b6c17a645f55766666295a0424de8efde72](https://github.com/sagemath/sagetrac-mirror/commit/6b7b5b6c17a645f55766666295a0424de8efde72)

**Reviewer:** Jean-Philippe Labbé, Matthias Koeppe

**Author:** Jonathan Kliem

**Dependencies:** #29583

Issue created by migration from https://trac.sagemath.org/ticket/28982





---

archive/issue_comments_455366.json:
```json
{
    "body": "**Branch:** [public/28982](https://github.com/sagemath/sagetrac-mirror/tree/public/28982)",
    "created_at": "2020-01-10T13:37:43Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455366",
    "user": "https://github.com/kliem"
}
```

**Branch:** [public/28982](https://github.com/sagemath/sagetrac-mirror/tree/public/28982)



---

archive/issue_comments_455367.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/242f34f32bede8df8fa26b141d4a596897d898a6\">242f34f</a></td><td><code>add hasse_diagram to combinatorial polyhedron</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af84439c19a3dddd30b3dd42a1f51f4430eafc40\">af84439</a></td><td><code>implemented method hasse diagram for polyhedra</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cfb153d6c9f2c110a2468a920a14f4fa3914735a\">cfb153d</a></td><td><code>use combinatorial polyhedron to obtain face lattice of polyhedron</code></td></tr></table>\n",
    "created_at": "2020-01-10T13:38:08Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455367",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/242f34f32bede8df8fa26b141d4a596897d898a6">242f34f</a></td><td><code>add hasse_diagram to combinatorial polyhedron</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af84439c19a3dddd30b3dd42a1f51f4430eafc40">af84439</a></td><td><code>implemented method hasse diagram for polyhedra</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cfb153d6c9f2c110a2468a920a14f4fa3914735a">cfb153d</a></td><td><code>use combinatorial polyhedron to obtain face lattice of polyhedron</code></td></tr></table>




---

archive/issue_comments_455368.json:
```json
{
    "body": "**Commit:** [cfb153d6c9f2c110a2468a920a14f4fa3914735a](https://github.com/sagemath/sagetrac-mirror/commit/cfb153d6c9f2c110a2468a920a14f4fa3914735a)",
    "created_at": "2020-01-10T13:38:08Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455368",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [cfb153d6c9f2c110a2468a920a14f4fa3914735a](https://github.com/sagemath/sagetrac-mirror/commit/cfb153d6c9f2c110a2468a920a14f4fa3914735a)



---

archive/issue_events_257344.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-01-10T13:38:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257344"
}
```



---

archive/issue_comments_455369.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/41254c28fc83112e7b3b001a1b12c2995613ca8f\">41254c2</a></td><td><code>fixed pyflakes warnings</code></td></tr></table>\n",
    "created_at": "2020-01-14T07:40:13Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455369",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/41254c28fc83112e7b3b001a1b12c2995613ca8f">41254c2</a></td><td><code>fixed pyflakes warnings</code></td></tr></table>




---

archive/issue_comments_455370.json:
```json
{
    "body": "**Changing commit** from \"[cfb153d6c9f2c110a2468a920a14f4fa3914735a](https://github.com/sagemath/sagetrac-mirror/commit/cfb153d6c9f2c110a2468a920a14f4fa3914735a)\" to \"[41254c28fc83112e7b3b001a1b12c2995613ca8f](https://github.com/sagemath/sagetrac-mirror/commit/41254c28fc83112e7b3b001a1b12c2995613ca8f)\".",
    "created_at": "2020-01-14T07:40:13Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455370",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[cfb153d6c9f2c110a2468a920a14f4fa3914735a](https://github.com/sagemath/sagetrac-mirror/commit/cfb153d6c9f2c110a2468a920a14f4fa3914735a)" to "[41254c28fc83112e7b3b001a1b12c2995613ca8f](https://github.com/sagemath/sagetrac-mirror/commit/41254c28fc83112e7b3b001a1b12c2995613ca8f)".



---

archive/issue_comments_455371.json:
```json
{
    "body": "<a id='comment:5'></a>\nI changed to face lattice not to be set up with linear extension anymore.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/261feff30c6fff215512bff738bc2287a42243d4\">261feff</a></td><td><code>add hasse_diagram to combinatorial polyhedron</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/721cff6ee960177aa50bd1722dfa1f5368a8e13f\">721cff6</a></td><td><code>implemented method hasse diagram for polyhedra</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0768b909ebc73ed63825126918c0a7f49e8b0248\">0768b90</a></td><td><code>use combinatorial polyhedron to obtain face lattice of polyhedron</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c82545f876bbdb772a0487e3f97ed4fc5f7b2d54\">c82545f</a></td><td><code>fixed pyflakes warnings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f249c9db8be362dbd8aa7adac95b672eddd6d3b4\">f249c9d</a></td><td><code>fixed failing doctest; face lattice can compute whether it is eulerian again</code></td></tr></table>\n",
    "created_at": "2020-02-12T14:53:48Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455371",
    "user": "https://github.com/kliem"
}
```

<a id='comment:5'></a>
I changed to face lattice not to be set up with linear extension anymore.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/261feff30c6fff215512bff738bc2287a42243d4">261feff</a></td><td><code>add hasse_diagram to combinatorial polyhedron</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/721cff6ee960177aa50bd1722dfa1f5368a8e13f">721cff6</a></td><td><code>implemented method hasse diagram for polyhedra</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0768b909ebc73ed63825126918c0a7f49e8b0248">0768b90</a></td><td><code>use combinatorial polyhedron to obtain face lattice of polyhedron</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c82545f876bbdb772a0487e3f97ed4fc5f7b2d54">c82545f</a></td><td><code>fixed pyflakes warnings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f249c9db8be362dbd8aa7adac95b672eddd6d3b4">f249c9d</a></td><td><code>fixed failing doctest; face lattice can compute whether it is eulerian again</code></td></tr></table>




---

archive/issue_comments_455372.json:
```json
{
    "body": "**Changing branch** from \"[public/28982](https://github.com/sagemath/sagetrac-mirror/tree/public/28982)\" to \"[public/28982-reb](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb)\".",
    "created_at": "2020-02-12T14:53:48Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455372",
    "user": "https://github.com/kliem"
}
```

**Changing branch** from "[public/28982](https://github.com/sagemath/sagetrac-mirror/tree/public/28982)" to "[public/28982-reb](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb)".



---

archive/issue_comments_455373.json:
```json
{
    "body": "**Changing commit** from \"[41254c28fc83112e7b3b001a1b12c2995613ca8f](https://github.com/sagemath/sagetrac-mirror/commit/41254c28fc83112e7b3b001a1b12c2995613ca8f)\" to \"[f249c9db8be362dbd8aa7adac95b672eddd6d3b4](https://github.com/sagemath/sagetrac-mirror/commit/f249c9db8be362dbd8aa7adac95b672eddd6d3b4)\".",
    "created_at": "2020-02-12T14:53:48Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455373",
    "user": "https://github.com/kliem"
}
```

**Changing commit** from "[41254c28fc83112e7b3b001a1b12c2995613ca8f](https://github.com/sagemath/sagetrac-mirror/commit/41254c28fc83112e7b3b001a1b12c2995613ca8f)" to "[f249c9db8be362dbd8aa7adac95b672eddd6d3b4](https://github.com/sagemath/sagetrac-mirror/commit/f249c9db8be362dbd8aa7adac95b672eddd6d3b4)".



---

archive/issue_comments_455374.json:
```json
{
    "body": "<a id='comment:6'></a>\nFew comments:\n\n```\n-        Test that face lattice give no memory leak::\n+        Test that computing the face lattice does not lead to a memory leak::\n```\n\n```\n-        Return the hasse diagram of ``self``.\n+        Return the hasse diagram of the face lattice of ``self``.\n```\n\nI will go more in depth soon.\n\nDoes this mean that we can remove the file `hasse_diagram.py`?",
    "created_at": "2020-02-14T11:07:27Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455374",
    "user": "https://github.com/jplab"
}
```

<a id='comment:6'></a>
Few comments:

```
-        Test that face lattice give no memory leak::
+        Test that computing the face lattice does not lead to a memory leak::
```

```
-        Return the hasse diagram of ``self``.
+        Return the hasse diagram of the face lattice of ``self``.
```

I will go more in depth soon.

Does this mean that we can remove the file `hasse_diagram.py`?



---

archive/issue_comments_455375.json:
```json
{
    "body": "**Changing commit** from \"[f249c9db8be362dbd8aa7adac95b672eddd6d3b4](https://github.com/sagemath/sagetrac-mirror/commit/f249c9db8be362dbd8aa7adac95b672eddd6d3b4)\" to \"[f44afa26835ca7a4991864766c1f1c01c9e6f399](https://github.com/sagemath/sagetrac-mirror/commit/f44afa26835ca7a4991864766c1f1c01c9e6f399)\".",
    "created_at": "2020-02-14T12:10:24Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455375",
    "user": "https://github.com/kliem"
}
```

**Changing commit** from "[f249c9db8be362dbd8aa7adac95b672eddd6d3b4](https://github.com/sagemath/sagetrac-mirror/commit/f249c9db8be362dbd8aa7adac95b672eddd6d3b4)" to "[f44afa26835ca7a4991864766c1f1c01c9e6f399](https://github.com/sagemath/sagetrac-mirror/commit/f44afa26835ca7a4991864766c1f1c01c9e6f399)".



---

archive/issue_comments_455376.json:
```json
{
    "body": "<a id='comment:7'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ef69d374c84ee644759c82db1e81e8a4ff99185d\">ef69d37</a></td><td><code>add hasse_diagram to combinatorial polyhedron</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/919af022109d85720cbdfb038e893749d6972a89\">919af02</a></td><td><code>implemented method hasse diagram for polyhedra</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f040df6ca9de3c2a43c829dcd60713b59236ba75\">f040df6</a></td><td><code>use combinatorial polyhedron to obtain face lattice of polyhedron</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9f7a42204f6080bfe1509188856a54223f3c1ef\">f9f7a42</a></td><td><code>fixed pyflakes warnings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f306cd06f8ac9b89bde7e22a969e478d00362b54\">f306cd0</a></td><td><code>fixed failing doctest; face lattice can compute whether it is eulerian again</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f44afa26835ca7a4991864766c1f1c01c9e6f399\">f44afa2</a></td><td><code>improved documentation</code></td></tr></table>\n",
    "created_at": "2020-02-14T12:10:24Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455376",
    "user": "https://github.com/kliem"
}
```

<a id='comment:7'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ef69d374c84ee644759c82db1e81e8a4ff99185d">ef69d37</a></td><td><code>add hasse_diagram to combinatorial polyhedron</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/919af022109d85720cbdfb038e893749d6972a89">919af02</a></td><td><code>implemented method hasse diagram for polyhedra</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f040df6ca9de3c2a43c829dcd60713b59236ba75">f040df6</a></td><td><code>use combinatorial polyhedron to obtain face lattice of polyhedron</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9f7a42204f6080bfe1509188856a54223f3c1ef">f9f7a42</a></td><td><code>fixed pyflakes warnings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f306cd06f8ac9b89bde7e22a969e478d00362b54">f306cd0</a></td><td><code>fixed failing doctest; face lattice can compute whether it is eulerian again</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f44afa26835ca7a4991864766c1f1c01c9e6f399">f44afa2</a></td><td><code>improved documentation</code></td></tr></table>




---

archive/issue_comments_455377.json:
```json
{
    "body": "**Changing branch** from \"[public/28982-reb](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb)\" to \"[public/28982-reb2](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb2)\".",
    "created_at": "2020-02-14T12:10:24Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455377",
    "user": "https://github.com/kliem"
}
```

**Changing branch** from "[public/28982-reb](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb)" to "[public/28982-reb2](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb2)".



---

archive/issue_comments_455378.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -5,3 +5,17 @@\n Instead of caching `face_lattice`, we cache `hasse_diagram` now.\n \n This is much slower, but removes a memory leak. As `hasse_diagram` is hardly used with #28646, this seems to be reasonable.\n+\n+Caching the face lattice does create a memory leak:\n+\n+```\n+sage: import gc\n+sage: P = polytopes.cube()\n+sage: P.my_face_lattice = P.face_lattice()\n+sage: n = get_memory_usage()\n+sage: P = polytopes.cube()\n+sage: P.my_face_lattice = P.face_lattice()\n+sage: _ = gc.collect()\n+sage: n == get_memory_usage()\n+False\n+```\n``````\n",
    "created_at": "2020-02-14T12:14:20Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455378",
    "user": "https://github.com/kliem"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -5,3 +5,17 @@
 Instead of caching `face_lattice`, we cache `hasse_diagram` now.
 
 This is much slower, but removes a memory leak. As `hasse_diagram` is hardly used with #28646, this seems to be reasonable.
+
+Caching the face lattice does create a memory leak:
+
+```
+sage: import gc
+sage: P = polytopes.cube()
+sage: P.my_face_lattice = P.face_lattice()
+sage: n = get_memory_usage()
+sage: P = polytopes.cube()
+sage: P.my_face_lattice = P.face_lattice()
+sage: _ = gc.collect()
+sage: n == get_memory_usage()
+False
+```
``````




---

archive/issue_comments_455379.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e9b3201a8b6dd36d5edf0ac54e4d554d9aaff6b4\">e9b3201</a></td><td><code>improved doctest, gc.collect should be run before the test as well</code></td></tr></table>\n",
    "created_at": "2020-02-14T12:17:11Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455379",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e9b3201a8b6dd36d5edf0ac54e4d554d9aaff6b4">e9b3201</a></td><td><code>improved doctest, gc.collect should be run before the test as well</code></td></tr></table>




---

archive/issue_comments_455380.json:
```json
{
    "body": "**Changing commit** from \"[f44afa26835ca7a4991864766c1f1c01c9e6f399](https://github.com/sagemath/sagetrac-mirror/commit/f44afa26835ca7a4991864766c1f1c01c9e6f399)\" to \"[e9b3201a8b6dd36d5edf0ac54e4d554d9aaff6b4](https://github.com/sagemath/sagetrac-mirror/commit/e9b3201a8b6dd36d5edf0ac54e4d554d9aaff6b4)\".",
    "created_at": "2020-02-14T12:17:11Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455380",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f44afa26835ca7a4991864766c1f1c01c9e6f399](https://github.com/sagemath/sagetrac-mirror/commit/f44afa26835ca7a4991864766c1f1c01c9e6f399)" to "[e9b3201a8b6dd36d5edf0ac54e4d554d9aaff6b4](https://github.com/sagemath/sagetrac-mirror/commit/e9b3201a8b6dd36d5edf0ac54e4d554d9aaff6b4)".



---

archive/issue_events_257345.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257345"
}
```



---

archive/issue_events_257346.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257346"
}
```



---

archive/issue_comments_455381.json:
```json
{
    "body": "<a id='comment:10'></a>\nBatch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455381",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>
Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_comments_455382.json:
```json
{
    "body": "**Reviewer:** Jean-Philippe Labb\u00e9",
    "created_at": "2020-04-20T09:43:55Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455382",
    "user": "https://github.com/jplab"
}
```

**Reviewer:** Jean-Philippe Labbé



---

archive/issue_events_257347.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2020-04-20T09:43:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257347"
}
```



---

archive/issue_events_257348.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2020-04-20T09:43:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257348"
}
```



---

archive/issue_comments_455383.json:
```json
{
    "body": "<a id='comment:11'></a>\nSuggestions:\n\n```diff\n+        .. NOTE::\n-            The face lattice is not cached, as long as this would create a memory leak.\n+            The face lattice is not cached, as long as this creates a memory leak, see :trac:`28982`.\n```\n\nHasse is a lastname, so you can capitalize it within the documentation.\n\nCould the function below have more information? Like which order is meant to be simulated here? Inclusion or lex on indices of vertices, etc? Just one more sentence to specify might be nice?\n\n```diff\n+    def __lt__(self, other):\n+        r\"\"\"\n+        Compare faces of the same polyhedron.\n+\n+        EXAMPLES::\n+\n+            sage: P = polytopes.simplex()\n+            sage: C = CombinatorialPolyhedron(P)\n+            sage: F1 = C.face_by_face_lattice_index(0)\n+            sage: F2 = C.face_by_face_lattice_index(1)\n+            sage: F1 < F2\n+            True\n+        \"\"\"\n+        return hash(self) < hash(other)\n```\n\nIs there a reason why the hasse diagram of the combinatorial polyhedron is not cached?",
    "created_at": "2020-04-20T09:43:55Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455383",
    "user": "https://github.com/jplab"
}
```

<a id='comment:11'></a>
Suggestions:

```diff
+        .. NOTE::
-            The face lattice is not cached, as long as this would create a memory leak.
+            The face lattice is not cached, as long as this creates a memory leak, see :trac:`28982`.
```

Hasse is a lastname, so you can capitalize it within the documentation.

Could the function below have more information? Like which order is meant to be simulated here? Inclusion or lex on indices of vertices, etc? Just one more sentence to specify might be nice?

```diff
+    def __lt__(self, other):
+        r"""
+        Compare faces of the same polyhedron.
+
+        EXAMPLES::
+
+            sage: P = polytopes.simplex()
+            sage: C = CombinatorialPolyhedron(P)
+            sage: F1 = C.face_by_face_lattice_index(0)
+            sage: F2 = C.face_by_face_lattice_index(1)
+            sage: F1 < F2
+            True
+        """
+        return hash(self) < hash(other)
```

Is there a reason why the hasse diagram of the combinatorial polyhedron is not cached?



---

archive/issue_comments_455384.json:
```json
{
    "body": "<a id='comment:12'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7093eb496300f2893730ca2d1188957b6c33623\">e7093eb</a></td><td><code>Merge branch 'public/28982-reb2' of git://trac.sagemath.org/sage into public/28982-reb3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b559ca190b5bd292476ae2b5393fe00f85c3b0a6\">b559ca1</a></td><td><code>cache hasse_diagram of combinatorial polyhedron</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2fb67468570a72febd02bb5a8f39b92e7ca59e5f\">2fb6746</a></td><td><code>improved documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/92842be2496dd8fd327f84f79a3dd3b3cf1dbfca\">92842be</a></td><td><code>explain __lt__</code></td></tr></table>\n",
    "created_at": "2020-04-20T11:17:38Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455384",
    "user": "https://github.com/kliem"
}
```

<a id='comment:12'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7093eb496300f2893730ca2d1188957b6c33623">e7093eb</a></td><td><code>Merge branch 'public/28982-reb2' of git://trac.sagemath.org/sage into public/28982-reb3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b559ca190b5bd292476ae2b5393fe00f85c3b0a6">b559ca1</a></td><td><code>cache hasse_diagram of combinatorial polyhedron</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2fb67468570a72febd02bb5a8f39b92e7ca59e5f">2fb6746</a></td><td><code>improved documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/92842be2496dd8fd327f84f79a3dd3b3cf1dbfca">92842be</a></td><td><code>explain __lt__</code></td></tr></table>




---

archive/issue_comments_455385.json:
```json
{
    "body": "**Changing branch** from \"[public/28982-reb2](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb2)\" to \"[public/28982-reb3](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb3)\".",
    "created_at": "2020-04-20T11:17:38Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455385",
    "user": "https://github.com/kliem"
}
```

**Changing branch** from "[public/28982-reb2](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb2)" to "[public/28982-reb3](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb3)".



---

archive/issue_comments_455386.json:
```json
{
    "body": "**Changing commit** from \"[e9b3201a8b6dd36d5edf0ac54e4d554d9aaff6b4](https://github.com/sagemath/sagetrac-mirror/commit/e9b3201a8b6dd36d5edf0ac54e4d554d9aaff6b4)\" to \"[92842be2496dd8fd327f84f79a3dd3b3cf1dbfca](https://github.com/sagemath/sagetrac-mirror/commit/92842be2496dd8fd327f84f79a3dd3b3cf1dbfca)\".",
    "created_at": "2020-04-20T11:17:38Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455386",
    "user": "https://github.com/kliem"
}
```

**Changing commit** from "[e9b3201a8b6dd36d5edf0ac54e4d554d9aaff6b4](https://github.com/sagemath/sagetrac-mirror/commit/e9b3201a8b6dd36d5edf0ac54e4d554d9aaff6b4)" to "[92842be2496dd8fd327f84f79a3dd3b3cf1dbfca](https://github.com/sagemath/sagetrac-mirror/commit/92842be2496dd8fd327f84f79a3dd3b3cf1dbfca)".



---

archive/issue_events_257349.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-04-20T11:17:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257349"
}
```



---

archive/issue_events_257350.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-04-20T11:17:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257350"
}
```



---

archive/issue_events_257351.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2020-04-20T14:48:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257351"
}
```



---

archive/issue_events_257352.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2020-04-20T14:48:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257352"
}
```



---

archive/issue_comments_455387.json:
```json
{
    "body": "<a id='comment:13'></a>\nGreat! Thanks for the quick changes. You forgot a capital \"H\" in the last commit. Apart from that it is good to go!\n\nonce you make this last typo change, you can set it to positive review on my behalf.",
    "created_at": "2020-04-20T14:48:32Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455387",
    "user": "https://github.com/jplab"
}
```

<a id='comment:13'></a>
Great! Thanks for the quick changes. You forgot a capital "H" in the last commit. Apart from that it is good to go!

once you make this last typo change, you can set it to positive review on my behalf.



---

archive/issue_comments_455388.json:
```json
{
    "body": "**Changing commit** from \"[92842be2496dd8fd327f84f79a3dd3b3cf1dbfca](https://github.com/sagemath/sagetrac-mirror/commit/92842be2496dd8fd327f84f79a3dd3b3cf1dbfca)\" to \"[708dd7dcf0dbc70c9c53a3c4946624a389b2580e](https://github.com/sagemath/sagetrac-mirror/commit/708dd7dcf0dbc70c9c53a3c4946624a389b2580e)\".",
    "created_at": "2020-04-20T14:50:17Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455388",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[92842be2496dd8fd327f84f79a3dd3b3cf1dbfca](https://github.com/sagemath/sagetrac-mirror/commit/92842be2496dd8fd327f84f79a3dd3b3cf1dbfca)" to "[708dd7dcf0dbc70c9c53a3c4946624a389b2580e](https://github.com/sagemath/sagetrac-mirror/commit/708dd7dcf0dbc70c9c53a3c4946624a389b2580e)".



---

archive/issue_comments_455389.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/708dd7dcf0dbc70c9c53a3c4946624a389b2580e\">708dd7d</a></td><td><code>typo</code></td></tr></table>\n",
    "created_at": "2020-04-20T14:50:17Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455389",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/708dd7dcf0dbc70c9c53a3c4946624a389b2580e">708dd7d</a></td><td><code>typo</code></td></tr></table>




---

archive/issue_comments_455390.json:
```json
{
    "body": "<a id='comment:15'></a>\nThank you.",
    "created_at": "2020-04-20T14:50:44Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455390",
    "user": "https://github.com/kliem"
}
```

<a id='comment:15'></a>
Thank you.



---

archive/issue_events_257353.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-04-20T14:50:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257353"
}
```



---

archive/issue_events_257354.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-04-20T14:50:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257354"
}
```



---

archive/issue_comments_455391.json:
```json
{
    "body": "<a id='comment:16'></a>\nMerge conflict",
    "created_at": "2020-04-22T22:42:08Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455391",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:16'></a>
Merge conflict



---

archive/issue_events_257355.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-04-22T22:42:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257355"
}
```



---

archive/issue_events_257356.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-04-22T22:42:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257356"
}
```



---

archive/issue_comments_455392.json:
```json
{
    "body": "**Changing branch** from \"[public/28982-reb3](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb3)\" to \"[public/28982-reb4](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb4)\".",
    "created_at": "2020-04-24T05:43:53Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455392",
    "user": "https://github.com/kliem"
}
```

**Changing branch** from "[public/28982-reb3](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb3)" to "[public/28982-reb4](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb4)".



---

archive/issue_comments_455393.json:
```json
{
    "body": "**Changing commit** from \"[708dd7dcf0dbc70c9c53a3c4946624a389b2580e](https://github.com/sagemath/sagetrac-mirror/commit/708dd7dcf0dbc70c9c53a3c4946624a389b2580e)\" to \"[819d5433d00510a69bc43b8138296713cd9853f5](https://github.com/sagemath/sagetrac-mirror/commit/819d5433d00510a69bc43b8138296713cd9853f5)\".",
    "created_at": "2020-04-24T05:43:53Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455393",
    "user": "https://github.com/kliem"
}
```

**Changing commit** from "[708dd7dcf0dbc70c9c53a3c4946624a389b2580e](https://github.com/sagemath/sagetrac-mirror/commit/708dd7dcf0dbc70c9c53a3c4946624a389b2580e)" to "[819d5433d00510a69bc43b8138296713cd9853f5](https://github.com/sagemath/sagetrac-mirror/commit/819d5433d00510a69bc43b8138296713cd9853f5)".



---

archive/issue_events_257357.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-04-24T05:43:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257357"
}
```



---

archive/issue_events_257358.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-04-24T05:43:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257358"
}
```



---

archive/issue_comments_455394.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7bc78d4260874e7a0755a338f48c96e39cb4726\">d7bc78d</a></td><td><code>use combinatorial polyhedron to obtain face lattice of polyhedron</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d6f874e2e9fe19158e2a45fd61151ed2f07b6817\">d6f874e</a></td><td><code>fixed pyflakes warnings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e537571f2934c5d03cc1241f4c53ec37f6e601a\">7e53757</a></td><td><code>fixed failing doctest; face lattice can compute whether it is eulerian again</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/015232c59ab2ede7a59e7d7cc1a531d60c075fc4\">015232c</a></td><td><code>improved documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/651e621aaa98e97b912075da57f4bbda3f5d9819\">651e621</a></td><td><code>improved doctest, gc.collect should be run before the test as well</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/898feee842a34650f25e17c0eee0e07f0a935930\">898feee</a></td><td><code>cache hasse_diagram of combinatorial polyhedron</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff18524385890fcbc4fa5a7147d91984ab2161ff\">ff18524</a></td><td><code>improved documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6497d62b58b97a0216897ed8b6b8497e9e20a669\">6497d62</a></td><td><code>explain __lt__</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e19d6c77bd9b2bfe14d245729c0259577f157be\">4e19d6c</a></td><td><code>typo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/819d5433d00510a69bc43b8138296713cd9853f5\">819d543</a></td><td><code>fix failing doctest</code></td></tr></table>\n",
    "created_at": "2020-04-24T05:43:53Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455394",
    "user": "https://github.com/kliem"
}
```

<a id='comment:17'></a>
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7bc78d4260874e7a0755a338f48c96e39cb4726">d7bc78d</a></td><td><code>use combinatorial polyhedron to obtain face lattice of polyhedron</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d6f874e2e9fe19158e2a45fd61151ed2f07b6817">d6f874e</a></td><td><code>fixed pyflakes warnings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e537571f2934c5d03cc1241f4c53ec37f6e601a">7e53757</a></td><td><code>fixed failing doctest; face lattice can compute whether it is eulerian again</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/015232c59ab2ede7a59e7d7cc1a531d60c075fc4">015232c</a></td><td><code>improved documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/651e621aaa98e97b912075da57f4bbda3f5d9819">651e621</a></td><td><code>improved doctest, gc.collect should be run before the test as well</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/898feee842a34650f25e17c0eee0e07f0a935930">898feee</a></td><td><code>cache hasse_diagram of combinatorial polyhedron</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff18524385890fcbc4fa5a7147d91984ab2161ff">ff18524</a></td><td><code>improved documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6497d62b58b97a0216897ed8b6b8497e9e20a669">6497d62</a></td><td><code>explain __lt__</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e19d6c77bd9b2bfe14d245729c0259577f157be">4e19d6c</a></td><td><code>typo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/819d5433d00510a69bc43b8138296713cd9853f5">819d543</a></td><td><code>fix failing doctest</code></td></tr></table>




---

archive/issue_comments_455395.json:
```json
{
    "body": "<a id='comment:18'></a>\nIt doesn't seem to build... See patchbot.",
    "created_at": "2020-04-27T13:29:22Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455395",
    "user": "https://github.com/jplab"
}
```

<a id='comment:18'></a>
It doesn't seem to build... See patchbot.



---

archive/issue_events_257359.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2020-04-27T13:29:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257359"
}
```



---

archive/issue_events_257360.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2020-04-27T13:29:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257360"
}
```



---

archive/issue_events_257361.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-04-27T13:42:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257361"
}
```



---

archive/issue_events_257362.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-04-27T13:42:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257362"
}
```



---

archive/issue_comments_455396.json:
```json
{
    "body": "**Changing branch** from \"[public/28982-reb4](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb4)\" to \"[public/28982-reb5](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb5)\".",
    "created_at": "2020-04-27T13:42:05Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455396",
    "user": "https://github.com/kliem"
}
```

**Changing branch** from "[public/28982-reb4](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb4)" to "[public/28982-reb5](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb5)".



---

archive/issue_comments_455397.json:
```json
{
    "body": "**Changing commit** from \"[819d5433d00510a69bc43b8138296713cd9853f5](https://github.com/sagemath/sagetrac-mirror/commit/819d5433d00510a69bc43b8138296713cd9853f5)\" to \"[0e865a04996fe35097ffd04fbdb879b97732e2ce](https://github.com/sagemath/sagetrac-mirror/commit/0e865a04996fe35097ffd04fbdb879b97732e2ce)\".",
    "created_at": "2020-04-27T13:42:05Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455397",
    "user": "https://github.com/kliem"
}
```

**Changing commit** from "[819d5433d00510a69bc43b8138296713cd9853f5](https://github.com/sagemath/sagetrac-mirror/commit/819d5433d00510a69bc43b8138296713cd9853f5)" to "[0e865a04996fe35097ffd04fbdb879b97732e2ce](https://github.com/sagemath/sagetrac-mirror/commit/0e865a04996fe35097ffd04fbdb879b97732e2ce)".



---

archive/issue_comments_455398.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5edeaa3c1b9f3fb8efb3796f559edc6a7a064d79\">5edeaa3</a></td><td><code>fixed pyflakes warnings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/00f234c90e0c7f3241c21e56e8878235249849ab\">00f234c</a></td><td><code>fixed failing doctest; face lattice can compute whether it is eulerian again</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ab0a78907a83dcfc1a767f4ad30bcaca4ca717af\">ab0a789</a></td><td><code>improved documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fefe3b239a952420d1da9a661785a8af74ac4bb4\">fefe3b2</a></td><td><code>improved doctest, gc.collect should be run before the test as well</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4bc4957ac07df2b9fbae47033eaafc9b68ba455e\">4bc4957</a></td><td><code>cache hasse_diagram of combinatorial polyhedron</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/381f7d9c935cef68faa849c18557306ae399761b\">381f7d9</a></td><td><code>improved documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/404efca5e0a4845e10f120b90d604df3ec0d9cb4\">404efca</a></td><td><code>explain __lt__</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/84746b16667ea8169b85e24871a869afc6522711\">84746b1</a></td><td><code>typo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/587738db19c697f53f952eabe0fe58747653fb99\">587738d</a></td><td><code>fix failing doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0e865a04996fe35097ffd04fbdb879b97732e2ce\">0e865a0</a></td><td><code>missing import</code></td></tr></table>\n",
    "created_at": "2020-04-27T13:42:05Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455398",
    "user": "https://github.com/kliem"
}
```

<a id='comment:19'></a>
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5edeaa3c1b9f3fb8efb3796f559edc6a7a064d79">5edeaa3</a></td><td><code>fixed pyflakes warnings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/00f234c90e0c7f3241c21e56e8878235249849ab">00f234c</a></td><td><code>fixed failing doctest; face lattice can compute whether it is eulerian again</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ab0a78907a83dcfc1a767f4ad30bcaca4ca717af">ab0a789</a></td><td><code>improved documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fefe3b239a952420d1da9a661785a8af74ac4bb4">fefe3b2</a></td><td><code>improved doctest, gc.collect should be run before the test as well</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4bc4957ac07df2b9fbae47033eaafc9b68ba455e">4bc4957</a></td><td><code>cache hasse_diagram of combinatorial polyhedron</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/381f7d9c935cef68faa849c18557306ae399761b">381f7d9</a></td><td><code>improved documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/404efca5e0a4845e10f120b90d604df3ec0d9cb4">404efca</a></td><td><code>explain __lt__</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/84746b16667ea8169b85e24871a869afc6522711">84746b1</a></td><td><code>typo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/587738db19c697f53f952eabe0fe58747653fb99">587738d</a></td><td><code>fix failing doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0e865a04996fe35097ffd04fbdb879b97732e2ce">0e865a0</a></td><td><code>missing import</code></td></tr></table>




---

archive/issue_events_257363.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2020-05-11T13:24:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257363"
}
```



---

archive/issue_events_257364.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2020-05-11T13:24:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257364"
}
```



---

archive/issue_comments_455399.json:
```json
{
    "body": "<a id='comment:20'></a>\nLooks good to me now.",
    "created_at": "2020-05-11T13:24:43Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455399",
    "user": "https://github.com/jplab"
}
```

<a id='comment:20'></a>
Looks good to me now.



---

archive/issue_comments_455400.json:
```json
{
    "body": "<a id='comment:21'></a>\n\n```\nsage -t --long --warn-long 36.4 src/sage/geometry/polyhedron/face.py\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/face.py\", line 454, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation\nFailed example:\n    face = p.face_lattice()[5]\nException raised:\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation[1]>\", line 1, in <module>\n        face = p.face_lattice()[Integer(5)]\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/geometry/polyhedron/base.py\", line 5873, in face_lattice\n        return FiniteLatticePoset(self.hasse_diagram())\n      File \"sage/misc/cachefunc.pyx\", line 2310, in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (build/cythonized/sage/misc/cachefunc.c:12712)\n        self.cache = f(self._instance)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/geometry/polyhedron/base.py\", line 5901, in hasse_diagram\n        return D.relabel(index_to_polyhedron_face, inplace=False, immutable=True)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py\", line 21864, in relabel\n        complete_partial_function = complete_partial_function)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py\", line 21929, in relabel\n        raise NotImplementedError(\"Non injective relabeling\")\n    NotImplementedError: Non injective relabeling\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/face.py\", line 455, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation\nFailed example:\n    face\nException raised:\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation[2]>\", line 1, in <module>\n        face\n    NameError: name 'face' is not defined\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/face.py\", line 457, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation\nFailed example:\n    face.ambient_Hrepresentation()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation[3]>\", line 1, in <module>\n        face.ambient_Hrepresentation()\n    NameError: name 'face' is not defined\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/face.py\", line 462, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation\nFailed example:\n    face.n_ambient_Hrepresentation()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation[4]>\", line 1, in <module>\n        face.n_ambient_Hrepresentation()\n    NameError: name 'face' is not defined\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/face.py\", line 481, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation\nFailed example:\n    face = p.face_lattice()[5]\nException raised:\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation[1]>\", line 1, in <module>\n        face = p.face_lattice()[Integer(5)]\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/geometry/polyhedron/base.py\", line 5873, in face_lattice\n        return FiniteLatticePoset(self.hasse_diagram())\n      File \"sage/misc/cachefunc.pyx\", line 2310, in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (build/cythonized/sage/misc/cachefunc.c:12712)\n        self.cache = f(self._instance)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/geometry/polyhedron/base.py\", line 5901, in hasse_diagram\n        return D.relabel(index_to_polyhedron_face, inplace=False, immutable=True)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py\", line 21864, in relabel\n        complete_partial_function = complete_partial_function)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py\", line 21929, in relabel\n        raise NotImplementedError(\"Non injective relabeling\")\n    NotImplementedError: Non injective relabeling\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/face.py\", line 482, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation\nFailed example:\n    face\nException raised:\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation[2]>\", line 1, in <module>\n        face\n    NameError: name 'face' is not defined\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/face.py\", line 484, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation\nFailed example:\n    face.ambient_Vrepresentation()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation[3]>\", line 1, in <module>\n        face.ambient_Vrepresentation()\n    NameError: name 'face' is not defined\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/face.py\", line 486, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation\nFailed example:\n    face.n_ambient_Vrepresentation()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation[4]>\", line 1, in <module>\n        face.n_ambient_Vrepresentation()\n    NameError: name 'face' is not defined\n**********************************************************************\n2 items had failures:\n   4 of   6 in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation\n   4 of   6 in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation\n    [119 tests, 8 failures, 0.44 s]\n```",
    "created_at": "2020-05-21T17:51:04Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455400",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:21'></a>

```
sage -t --long --warn-long 36.4 src/sage/geometry/polyhedron/face.py
**********************************************************************
File "src/sage/geometry/polyhedron/face.py", line 454, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation
Failed example:
    face = p.face_lattice()[5]
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation[1]>", line 1, in <module>
        face = p.face_lattice()[Integer(5)]
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/geometry/polyhedron/base.py", line 5873, in face_lattice
        return FiniteLatticePoset(self.hasse_diagram())
      File "sage/misc/cachefunc.pyx", line 2310, in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (build/cythonized/sage/misc/cachefunc.c:12712)
        self.cache = f(self._instance)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/geometry/polyhedron/base.py", line 5901, in hasse_diagram
        return D.relabel(index_to_polyhedron_face, inplace=False, immutable=True)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py", line 21864, in relabel
        complete_partial_function = complete_partial_function)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py", line 21929, in relabel
        raise NotImplementedError("Non injective relabeling")
    NotImplementedError: Non injective relabeling
**********************************************************************
File "src/sage/geometry/polyhedron/face.py", line 455, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation
Failed example:
    face
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation[2]>", line 1, in <module>
        face
    NameError: name 'face' is not defined
**********************************************************************
File "src/sage/geometry/polyhedron/face.py", line 457, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation
Failed example:
    face.ambient_Hrepresentation()
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation[3]>", line 1, in <module>
        face.ambient_Hrepresentation()
    NameError: name 'face' is not defined
**********************************************************************
File "src/sage/geometry/polyhedron/face.py", line 462, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation
Failed example:
    face.n_ambient_Hrepresentation()
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation[4]>", line 1, in <module>
        face.n_ambient_Hrepresentation()
    NameError: name 'face' is not defined
**********************************************************************
File "src/sage/geometry/polyhedron/face.py", line 481, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation
Failed example:
    face = p.face_lattice()[5]
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation[1]>", line 1, in <module>
        face = p.face_lattice()[Integer(5)]
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/geometry/polyhedron/base.py", line 5873, in face_lattice
        return FiniteLatticePoset(self.hasse_diagram())
      File "sage/misc/cachefunc.pyx", line 2310, in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (build/cythonized/sage/misc/cachefunc.c:12712)
        self.cache = f(self._instance)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/geometry/polyhedron/base.py", line 5901, in hasse_diagram
        return D.relabel(index_to_polyhedron_face, inplace=False, immutable=True)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py", line 21864, in relabel
        complete_partial_function = complete_partial_function)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py", line 21929, in relabel
        raise NotImplementedError("Non injective relabeling")
    NotImplementedError: Non injective relabeling
**********************************************************************
File "src/sage/geometry/polyhedron/face.py", line 482, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation
Failed example:
    face
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation[2]>", line 1, in <module>
        face
    NameError: name 'face' is not defined
**********************************************************************
File "src/sage/geometry/polyhedron/face.py", line 484, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation
Failed example:
    face.ambient_Vrepresentation()
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation[3]>", line 1, in <module>
        face.ambient_Vrepresentation()
    NameError: name 'face' is not defined
**********************************************************************
File "src/sage/geometry/polyhedron/face.py", line 486, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation
Failed example:
    face.n_ambient_Vrepresentation()
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation[4]>", line 1, in <module>
        face.n_ambient_Vrepresentation()
    NameError: name 'face' is not defined
**********************************************************************
2 items had failures:
   4 of   6 in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation
   4 of   6 in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation
    [119 tests, 8 failures, 0.44 s]
```



---

archive/issue_events_257365.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-05-21T17:51:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257365"
}
```



---

archive/issue_events_257366.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-05-21T17:51:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257366"
}
```



---

archive/issue_comments_455401.json:
```json
{
    "body": "**Dependencies:** #29583, #28894",
    "created_at": "2020-05-25T06:43:03Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455401",
    "user": "https://github.com/kliem"
}
```

**Dependencies:** #29583, #28894



---

archive/issue_comments_455402.json:
```json
{
    "body": "**Changing dependencies** from \"#29583, #28894\" to \"#29583\".",
    "created_at": "2020-05-25T07:33:38Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455402",
    "user": "https://github.com/kliem"
}
```

**Changing dependencies** from "#29583, #28894" to "#29583".



---

archive/issue_comments_455403.json:
```json
{
    "body": "**Changing branch** from \"[public/28982-reb5](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb5)\" to \"[public/28982-reb6](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb6)\".",
    "created_at": "2020-05-25T08:17:28Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455403",
    "user": "https://github.com/kliem"
}
```

**Changing branch** from "[public/28982-reb5](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb5)" to "[public/28982-reb6](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb6)".



---

archive/issue_comments_455404.json:
```json
{
    "body": "<a id='comment:24'></a>\nI rebased on top of #29583 (as there is some merge conflict).\n\nI also fixed the error in #28894, which caused the doctest failure. Now this ticket works by itself and on top of #28894. At least the following tests pass on my machine with and without #28894:\n\n```\nsage -t --long -p 8 src/doc/en/thematic_tutorials/geometry\nsage -t --long -p 8 src/sage/geometry/polyhedron/\nsage -t --long -p 8 src/sage/plot/\n```\n\n---\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cb5e58a5311a3ee2d8588e4c0341b9e0f3ee43ad\">cb5e58a</a></td><td><code>fixed pyflakes warnings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76a724754d796922c758de8e7494ada58bf07f2d\">76a7247</a></td><td><code>fixed failing doctest; face lattice can compute whether it is eulerian again</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f0c9f6fb0cb85eb5398da3c62eeb8e26b7d81fd5\">f0c9f6f</a></td><td><code>improved documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b76f65394eae9d3515ac96b67e951c0f495e7044\">b76f653</a></td><td><code>improved doctest, gc.collect should be run before the test as well</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a405173887f714b4e9919da0414aa8543dc02723\">a405173</a></td><td><code>cache hasse_diagram of combinatorial polyhedron</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d2c5332c4acf5f228f5426bc3e33d6eaf540a54c\">d2c5332</a></td><td><code>improved documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e59938a657f0135f1b82e3011218ae21245c5350\">e59938a</a></td><td><code>explain __lt__</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8fbc9c251e79f30c3983a48b2d105dd0270d783a\">8fbc9c2</a></td><td><code>typo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0fbd87d405059e50cfffea7ab0ee9baa9403d2a4\">0fbd87d</a></td><td><code>fix failing doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f4e1deccef14f7aa3dcf1e19241ac042157e4f92\">f4e1dec</a></td><td><code>missing import</code></td></tr></table>\n",
    "created_at": "2020-05-25T08:17:28Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455404",
    "user": "https://github.com/kliem"
}
```

<a id='comment:24'></a>
I rebased on top of #29583 (as there is some merge conflict).

I also fixed the error in #28894, which caused the doctest failure. Now this ticket works by itself and on top of #28894. At least the following tests pass on my machine with and without #28894:

```
sage -t --long -p 8 src/doc/en/thematic_tutorials/geometry
sage -t --long -p 8 src/sage/geometry/polyhedron/
sage -t --long -p 8 src/sage/plot/
```

---
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cb5e58a5311a3ee2d8588e4c0341b9e0f3ee43ad">cb5e58a</a></td><td><code>fixed pyflakes warnings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76a724754d796922c758de8e7494ada58bf07f2d">76a7247</a></td><td><code>fixed failing doctest; face lattice can compute whether it is eulerian again</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f0c9f6fb0cb85eb5398da3c62eeb8e26b7d81fd5">f0c9f6f</a></td><td><code>improved documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b76f65394eae9d3515ac96b67e951c0f495e7044">b76f653</a></td><td><code>improved doctest, gc.collect should be run before the test as well</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a405173887f714b4e9919da0414aa8543dc02723">a405173</a></td><td><code>cache hasse_diagram of combinatorial polyhedron</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d2c5332c4acf5f228f5426bc3e33d6eaf540a54c">d2c5332</a></td><td><code>improved documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e59938a657f0135f1b82e3011218ae21245c5350">e59938a</a></td><td><code>explain __lt__</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8fbc9c251e79f30c3983a48b2d105dd0270d783a">8fbc9c2</a></td><td><code>typo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0fbd87d405059e50cfffea7ab0ee9baa9403d2a4">0fbd87d</a></td><td><code>fix failing doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f4e1deccef14f7aa3dcf1e19241ac042157e4f92">f4e1dec</a></td><td><code>missing import</code></td></tr></table>




---

archive/issue_comments_455405.json:
```json
{
    "body": "**Changing commit** from \"[0e865a04996fe35097ffd04fbdb879b97732e2ce](https://github.com/sagemath/sagetrac-mirror/commit/0e865a04996fe35097ffd04fbdb879b97732e2ce)\" to \"[f4e1deccef14f7aa3dcf1e19241ac042157e4f92](https://github.com/sagemath/sagetrac-mirror/commit/f4e1deccef14f7aa3dcf1e19241ac042157e4f92)\".",
    "created_at": "2020-05-25T08:17:28Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455405",
    "user": "https://github.com/kliem"
}
```

**Changing commit** from "[0e865a04996fe35097ffd04fbdb879b97732e2ce](https://github.com/sagemath/sagetrac-mirror/commit/0e865a04996fe35097ffd04fbdb879b97732e2ce)" to "[f4e1deccef14f7aa3dcf1e19241ac042157e4f92](https://github.com/sagemath/sagetrac-mirror/commit/f4e1deccef14f7aa3dcf1e19241ac042157e4f92)".



---

archive/issue_events_257367.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-05-25T08:17:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257367"
}
```



---

archive/issue_events_257368.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-05-25T08:17:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257368"
}
```



---

archive/issue_comments_455406.json:
```json
{
    "body": "<a id='comment:26'></a>\nNeeds rebase (build fails).",
    "created_at": "2020-08-13T05:18:02Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455406",
    "user": "https://github.com/kliem"
}
```

<a id='comment:26'></a>
Needs rebase (build fails).



---

archive/issue_events_257369.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-08-13T05:18:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257369"
}
```



---

archive/issue_events_257370.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-08-13T05:18:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257370"
}
```



---

archive/issue_comments_455407.json:
```json
{
    "body": "**Changing branch** from \"[public/28982-reb6](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb6)\" to \"[public/28982-reb7](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb7)\".",
    "created_at": "2020-08-13T05:43:22Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455407",
    "user": "https://github.com/kliem"
}
```

**Changing branch** from "[public/28982-reb6](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb6)" to "[public/28982-reb7](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb7)".



---

archive/issue_comments_455408.json:
```json
{
    "body": "<a id='comment:27'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4596af9661a84eadd9f392843012917fba3665b6\">4596af9</a></td><td><code>Merge branch 'public/28982-reb6' of git://trac.sagemath.org/sage into public/28982-reb7</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/22974744b2b580cf94737ca9d04734d89687b73e\">2297474</a></td><td><code>import DiGraph in time</code></td></tr></table>\n",
    "created_at": "2020-08-13T05:43:22Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455408",
    "user": "https://github.com/kliem"
}
```

<a id='comment:27'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4596af9661a84eadd9f392843012917fba3665b6">4596af9</a></td><td><code>Merge branch 'public/28982-reb6' of git://trac.sagemath.org/sage into public/28982-reb7</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/22974744b2b580cf94737ca9d04734d89687b73e">2297474</a></td><td><code>import DiGraph in time</code></td></tr></table>




---

archive/issue_events_257371.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-08-13T05:43:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257371"
}
```



---

archive/issue_events_257372.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-08-13T05:43:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257372"
}
```



---

archive/issue_comments_455409.json:
```json
{
    "body": "**Changing commit** from \"[f4e1deccef14f7aa3dcf1e19241ac042157e4f92](https://github.com/sagemath/sagetrac-mirror/commit/f4e1deccef14f7aa3dcf1e19241ac042157e4f92)\" to \"[22974744b2b580cf94737ca9d04734d89687b73e](https://github.com/sagemath/sagetrac-mirror/commit/22974744b2b580cf94737ca9d04734d89687b73e)\".",
    "created_at": "2020-08-13T05:43:22Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455409",
    "user": "https://github.com/kliem"
}
```

**Changing commit** from "[f4e1deccef14f7aa3dcf1e19241ac042157e4f92](https://github.com/sagemath/sagetrac-mirror/commit/f4e1deccef14f7aa3dcf1e19241ac042157e4f92)" to "[22974744b2b580cf94737ca9d04734d89687b73e](https://github.com/sagemath/sagetrac-mirror/commit/22974744b2b580cf94737ca9d04734d89687b73e)".



---

archive/issue_comments_455410.json:
```json
{
    "body": "<a id='comment:28'></a>\n\n```\n+    if polyhedron.dimension() == 0:\n+        # In case of the 0-dimensional polyhedron,\n+        # there is a facets but no inequality.\n+        H_indices = tuple(range(n_equations))\n+\n```\nThe comment needs rewording",
    "created_at": "2020-08-27T04:16:54Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455410",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:28'></a>

```
+    if polyhedron.dimension() == 0:
+        # In case of the 0-dimensional polyhedron,
+        # there is a facets but no inequality.
+        H_indices = tuple(range(n_equations))
+
```
The comment needs rewording



---

archive/issue_events_257373.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-27T04:17:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257373"
}
```



---

archive/issue_events_257374.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-27T04:17:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257374"
}
```



---

archive/issue_comments_455411.json:
```json
{
    "body": "**Changing commit** from \"[22974744b2b580cf94737ca9d04734d89687b73e](https://github.com/sagemath/sagetrac-mirror/commit/22974744b2b580cf94737ca9d04734d89687b73e)\" to \"[92487de288ea07cc6f39df2befb5383935285537](https://github.com/sagemath/sagetrac-mirror/commit/92487de288ea07cc6f39df2befb5383935285537)\".",
    "created_at": "2020-08-27T05:37:28Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455411",
    "user": "https://github.com/kliem"
}
```

**Changing commit** from "[22974744b2b580cf94737ca9d04734d89687b73e](https://github.com/sagemath/sagetrac-mirror/commit/22974744b2b580cf94737ca9d04734d89687b73e)" to "[92487de288ea07cc6f39df2befb5383935285537](https://github.com/sagemath/sagetrac-mirror/commit/92487de288ea07cc6f39df2befb5383935285537)".



---

archive/issue_comments_455412.json:
```json
{
    "body": "**Changing branch** from \"[public/28982-reb7](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb7)\" to \"[public/28982-reb8](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb8)\".",
    "created_at": "2020-08-27T05:37:28Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455412",
    "user": "https://github.com/kliem"
}
```

**Changing branch** from "[public/28982-reb7](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb7)" to "[public/28982-reb8](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb8)".



---

archive/issue_events_257375.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-08-27T05:37:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257375"
}
```



---

archive/issue_events_257376.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-08-27T05:37:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257376"
}
```



---

archive/issue_comments_455413.json:
```json
{
    "body": "<a id='comment:30'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52b634f4f872c441004c51e68a7a45e097d7e1e0\">52b634f</a></td><td><code>Merge branch 'public/28982-reb7' of git://trac.sagemath.org/sage into public/28982-reb8</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/92487de288ea07cc6f39df2befb5383935285537\">92487de</a></td><td><code>improved comment</code></td></tr></table>\n",
    "created_at": "2020-08-27T05:37:28Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455413",
    "user": "https://github.com/kliem"
}
```

<a id='comment:30'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52b634f4f872c441004c51e68a7a45e097d7e1e0">52b634f</a></td><td><code>Merge branch 'public/28982-reb7' of git://trac.sagemath.org/sage into public/28982-reb8</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/92487de288ea07cc6f39df2befb5383935285537">92487de</a></td><td><code>improved comment</code></td></tr></table>




---

archive/issue_comments_455414.json:
```json
{
    "body": "<a id='comment:31'></a>\n\n```\n+    def __lt__(self, other):\n+        r\"\"\"\n+        Compare faces of the same polyhedron.\n+\n+        This is a helper function.\n+        In order to construct a Hasse diagram (a digraph) with combinatorial faces,\n+        we must define some order relation that is compatible with the Hasse diagram.\n+\n+        Any order relation compatible with ordering by dimension is suitable.\n+        We us :meth:`__hash__` to define the relation.\n```\n\nI don't fully understand what's happening in that hash function. If one uses the face iterator in non-dual mode, is the resulting order relation still correct?",
    "created_at": "2020-08-30T19:58:12Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455414",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:31'></a>

```
+    def __lt__(self, other):
+        r"""
+        Compare faces of the same polyhedron.
+
+        This is a helper function.
+        In order to construct a Hasse diagram (a digraph) with combinatorial faces,
+        we must define some order relation that is compatible with the Hasse diagram.
+
+        Any order relation compatible with ordering by dimension is suitable.
+        We us :meth:`__hash__` to define the relation.
```

I don't fully understand what's happening in that hash function. If one uses the face iterator in non-dual mode, is the resulting order relation still correct?



---

archive/issue_comments_455415.json:
```json
{
    "body": "**Changing reviewer** from \"Jean-Philippe Labb\u00e9\" to \"Jean-Philippe Labb\u00e9, Matthias Koeppe\".",
    "created_at": "2020-08-30T19:58:12Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455415",
    "user": "https://github.com/mkoeppe"
}
```

**Changing reviewer** from "Jean-Philippe Labbé" to "Jean-Philippe Labbé, Matthias Koeppe".



---

archive/issue_comments_455416.json:
```json
{
    "body": "<a id='comment:32'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b7b5b6c17a645f55766666295a0424de8efde72\">6b7b5b6</a></td><td><code>make hash function consistent with dual mode</code></td></tr></table>\n",
    "created_at": "2020-08-31T07:41:55Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455416",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b7b5b6c17a645f55766666295a0424de8efde72">6b7b5b6</a></td><td><code>make hash function consistent with dual mode</code></td></tr></table>




---

archive/issue_comments_455417.json:
```json
{
    "body": "**Changing commit** from \"[92487de288ea07cc6f39df2befb5383935285537](https://github.com/sagemath/sagetrac-mirror/commit/92487de288ea07cc6f39df2befb5383935285537)\" to \"[6b7b5b6c17a645f55766666295a0424de8efde72](https://github.com/sagemath/sagetrac-mirror/commit/6b7b5b6c17a645f55766666295a0424de8efde72)\".",
    "created_at": "2020-08-31T07:41:55Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455417",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[92487de288ea07cc6f39df2befb5383935285537](https://github.com/sagemath/sagetrac-mirror/commit/92487de288ea07cc6f39df2befb5383935285537)" to "[6b7b5b6c17a645f55766666295a0424de8efde72](https://github.com/sagemath/sagetrac-mirror/commit/6b7b5b6c17a645f55766666295a0424de8efde72)".



---

archive/issue_comments_455418.json:
```json
{
    "body": "<a id='comment:33'></a>\nReplying to [mkoeppe](#comment%3A31):\n> \n> ```\n> +    def __lt__(self, other):\n> +        r\"\"\"\n> +        Compare faces of the same polyhedron.\n> +\n> +        This is a helper function.\n> +        In order to construct a Hasse diagram (a digraph) with combinatorial faces,\n> +        we must define some order relation that is compatible with the Hasse diagram.\n> +\n> +        Any order relation compatible with ordering by dimension is suitable.\n> +        We us :meth:`__hash__` to define the relation.\n> ```\n> \n> I don't fully understand what's happening in that hash function. If one uses the face iterator in non-dual mode, is the resulting order relation still correct?\n\n\nYou are right.\nI'm surprised it worked that way.\nThe hash function should be consistent now. And `__lt__` returns `None` if the faces are clearly incompatible.\nWhat's nice about this hash function, if I understand it correctly, is that it allows to store faces in sets etc.",
    "created_at": "2020-08-31T07:45:28Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455418",
    "user": "https://github.com/kliem"
}
```

<a id='comment:33'></a>
Replying to [mkoeppe](#comment%3A31):
> 
> ```
> +    def __lt__(self, other):
> +        r"""
> +        Compare faces of the same polyhedron.
> +
> +        This is a helper function.
> +        In order to construct a Hasse diagram (a digraph) with combinatorial faces,
> +        we must define some order relation that is compatible with the Hasse diagram.
> +
> +        Any order relation compatible with ordering by dimension is suitable.
> +        We us :meth:`__hash__` to define the relation.
> ```
> 
> I don't fully understand what's happening in that hash function. If one uses the face iterator in non-dual mode, is the resulting order relation still correct?


You are right.
I'm surprised it worked that way.
The hash function should be consistent now. And `__lt__` returns `None` if the faces are clearly incompatible.
What's nice about this hash function, if I understand it correctly, is that it allows to store faces in sets etc.



---

archive/issue_events_257377.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-31T13:34:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257377"
}
```



---

archive/issue_events_257378.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-31T13:34:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257378"
}
```



---

archive/issue_comments_455419.json:
```json
{
    "body": "<a id='comment:35'></a>\nThank you.",
    "created_at": "2020-08-31T13:35:24Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455419",
    "user": "https://github.com/kliem"
}
```

<a id='comment:35'></a>
Thank you.



---

archive/issue_comments_455420.json:
```json
{
    "body": "**Changing branch** from \"[public/28982-reb8](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb8)\" to \"[6b7b5b6c17a645f55766666295a0424de8efde72](https://github.com/sagemath/sagetrac-mirror/commit/6b7b5b6c17a645f55766666295a0424de8efde72)\".",
    "created_at": "2020-09-06T21:51:47Z",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-455420",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/28982-reb8](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb8)" to "[6b7b5b6c17a645f55766666295a0424de8efde72](https://github.com/sagemath/sagetrac-mirror/commit/6b7b5b6c17a645f55766666295a0424de8efde72)".



---

archive/issue_events_257379.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-09-06T21:51:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257379"
}
```



---

archive/issue_events_257380.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-09-06T21:51:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-257380"
}
```
