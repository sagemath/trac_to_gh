# Issue 28982: Use CombinatorialPolyhedron to obtain faces lattice of polyhedra

archive/issues_028745.json:
```json
{
    "assignees": [],
    "body": "We use `CombinatorialPolyhedron` to compute the face lattice of a polyhedron.\n\nAlong the way we implement `hasse_diagram` for `CombinatorialPolyhedron` and `Polyhedron_base`.\n\nInstead of caching `face_lattice`, we cache `hasse_diagram` now.\n\nThis is much slower, but removes a memory leak. As `hasse_diagram` is hardly used with #28646, this seems to be reasonable.\n\nCaching the face lattice does create a memory leak:\n\n```\nsage: import gc\nsage: P = polytopes.cube()\nsage: P.my_face_lattice = P.face_lattice()\nsage: n = get_memory_usage()\nsage: P = polytopes.cube()\nsage: P.my_face_lattice = P.face_lattice()\nsage: _ = gc.collect()\nsage: n == get_memory_usage()\nFalse\n```\n\nDepends on #29583\n\nCC:  @jplab @LaisRast\n\nComponent: **geometry**\n\nKeywords: **polyhedron, face lattice**\n\nAuthor: **Jonathan Kliem**\n\nBranch/Commit: **[`6b7b5b6`](https://github.com/sagemath/sagetrac-mirror/commit/6b7b5b6c17a645f55766666295a0424de8efde72)**\n\nReviewer: **Jean-Philippe Labb\u00e9, Matthias Koeppe**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/28982_\n\n",
    "closed_at": "2020-09-06T21:51:47Z",
    "created_at": "2020-01-10T13:33:53Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20geometry",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Use CombinatorialPolyhedron to obtain faces lattice of polyhedra",
    "type": "issue",
    "updated_at": "2020-09-06T21:51:47Z",
    "url": "https://github.com/sagemath/sage/issues/28982",
    "user": "https://github.com/kliem"
}
```
We use `CombinatorialPolyhedron` to compute the face lattice of a polyhedron.

Along the way we implement `hasse_diagram` for `CombinatorialPolyhedron` and `Polyhedron_base`.

Instead of caching `face_lattice`, we cache `hasse_diagram` now.

This is much slower, but removes a memory leak. As `hasse_diagram` is hardly used with #28646, this seems to be reasonable.

Caching the face lattice does create a memory leak:

```
sage: import gc
sage: P = polytopes.cube()
sage: P.my_face_lattice = P.face_lattice()
sage: n = get_memory_usage()
sage: P = polytopes.cube()
sage: P.my_face_lattice = P.face_lattice()
sage: _ = gc.collect()
sage: n == get_memory_usage()
False
```

Depends on #29583

CC:  @jplab @LaisRast

Component: **geometry**

Keywords: **polyhedron, face lattice**

Author: **Jonathan Kliem**

Branch/Commit: **[`6b7b5b6`](https://github.com/sagemath/sagetrac-mirror/commit/6b7b5b6c17a645f55766666295a0424de8efde72)**

Reviewer: **Jean-Philippe Labb√©, Matthias Koeppe**

_Issue created by migration from https://trac.sagemath.org/ticket/28982_





---

archive/issue_events_395190.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-01-10T13:33:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395190"
}
```



---

archive/issue_events_395191.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-01-10T13:33:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "c: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395191"
}
```



---

archive/issue_events_395192.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-01-10T13:33:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395192"
}
```



---

archive/issue_events_395193.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-01-10T13:33:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395193"
}
```



---

archive/issue_comments_452548.json:
```json
{
    "body": "Branch: **[public/28982](https://github.com/sagemath/sagetrac-mirror/tree/public/28982)**",
    "created_at": "2020-01-10T13:37:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452548",
    "user": "https://github.com/kliem"
}
```

Branch: **[public/28982](https://github.com/sagemath/sagetrac-mirror/tree/public/28982)**



---

archive/issue_comments_452549.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/242f34f32bede8df8fa26b141d4a596897d898a6\"><code>242f34f</code></a></td><td><code>add hasse_diagram to combinatorial polyhedron</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/af84439c19a3dddd30b3dd42a1f51f4430eafc40\"><code>af84439</code></a></td><td><code>implemented method hasse diagram for polyhedra</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cfb153d6c9f2c110a2468a920a14f4fa3914735a\"><code>cfb153d</code></a></td><td><code>use combinatorial polyhedron to obtain face lattice of polyhedron</code></td></tr></table>\n",
    "created_at": "2020-01-10T13:38:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452549",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/242f34f32bede8df8fa26b141d4a596897d898a6"><code>242f34f</code></a></td><td><code>add hasse_diagram to combinatorial polyhedron</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/af84439c19a3dddd30b3dd42a1f51f4430eafc40"><code>af84439</code></a></td><td><code>implemented method hasse diagram for polyhedra</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cfb153d6c9f2c110a2468a920a14f4fa3914735a"><code>cfb153d</code></a></td><td><code>use combinatorial polyhedron to obtain face lattice of polyhedron</code></td></tr></table>




---

archive/issue_comments_452550.json:
```json
{
    "body": "Commit: **[`cfb153d`](https://github.com/sagemath/sagetrac-mirror/commit/cfb153d6c9f2c110a2468a920a14f4fa3914735a)**",
    "created_at": "2020-01-10T13:38:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452550",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`cfb153d`](https://github.com/sagemath/sagetrac-mirror/commit/cfb153d6c9f2c110a2468a920a14f4fa3914735a)**



---

archive/issue_events_395194.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-01-10T13:38:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395194"
}
```



---

archive/issue_comments_452551.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/41254c28fc83112e7b3b001a1b12c2995613ca8f\"><code>41254c2</code></a></td><td><code>fixed pyflakes warnings</code></td></tr></table>\n",
    "created_at": "2020-01-14T07:40:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452551",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/41254c28fc83112e7b3b001a1b12c2995613ca8f"><code>41254c2</code></a></td><td><code>fixed pyflakes warnings</code></td></tr></table>




---

archive/issue_comments_452552.json:
```json
{
    "body": "Changed commit from **[`cfb153d`](https://github.com/sagemath/sagetrac-mirror/commit/cfb153d6c9f2c110a2468a920a14f4fa3914735a)** to **[`41254c2`](https://github.com/sagemath/sagetrac-mirror/commit/41254c28fc83112e7b3b001a1b12c2995613ca8f)**",
    "created_at": "2020-01-14T07:40:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452552",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cfb153d`](https://github.com/sagemath/sagetrac-mirror/commit/cfb153d6c9f2c110a2468a920a14f4fa3914735a)** to **[`41254c2`](https://github.com/sagemath/sagetrac-mirror/commit/41254c28fc83112e7b3b001a1b12c2995613ca8f)**



---

archive/issue_comments_452553.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI changed to face lattice not to be set up with linear extension anymore.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/261feff30c6fff215512bff738bc2287a42243d4\"><code>261feff</code></a></td><td><code>add hasse_diagram to combinatorial polyhedron</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/721cff6ee960177aa50bd1722dfa1f5368a8e13f\"><code>721cff6</code></a></td><td><code>implemented method hasse diagram for polyhedra</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0768b909ebc73ed63825126918c0a7f49e8b0248\"><code>0768b90</code></a></td><td><code>use combinatorial polyhedron to obtain face lattice of polyhedron</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c82545f876bbdb772a0487e3f97ed4fc5f7b2d54\"><code>c82545f</code></a></td><td><code>fixed pyflakes warnings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f249c9db8be362dbd8aa7adac95b672eddd6d3b4\"><code>f249c9d</code></a></td><td><code>fixed failing doctest; face lattice can compute whether it is eulerian again</code></td></tr></table>\n",
    "created_at": "2020-02-12T14:53:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452553",
    "user": "https://github.com/kliem"
}
```

<div id="comment:5" align="right">comment:5</div>

I changed to face lattice not to be set up with linear extension anymore.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/261feff30c6fff215512bff738bc2287a42243d4"><code>261feff</code></a></td><td><code>add hasse_diagram to combinatorial polyhedron</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/721cff6ee960177aa50bd1722dfa1f5368a8e13f"><code>721cff6</code></a></td><td><code>implemented method hasse diagram for polyhedra</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0768b909ebc73ed63825126918c0a7f49e8b0248"><code>0768b90</code></a></td><td><code>use combinatorial polyhedron to obtain face lattice of polyhedron</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c82545f876bbdb772a0487e3f97ed4fc5f7b2d54"><code>c82545f</code></a></td><td><code>fixed pyflakes warnings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f249c9db8be362dbd8aa7adac95b672eddd6d3b4"><code>f249c9d</code></a></td><td><code>fixed failing doctest; face lattice can compute whether it is eulerian again</code></td></tr></table>




---

archive/issue_comments_452554.json:
```json
{
    "body": "Changed branch from **[public/28982](https://github.com/sagemath/sagetrac-mirror/tree/public/28982)** to **[public/28982-reb](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb)**",
    "created_at": "2020-02-12T14:53:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452554",
    "user": "https://github.com/kliem"
}
```

Changed branch from **[public/28982](https://github.com/sagemath/sagetrac-mirror/tree/public/28982)** to **[public/28982-reb](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb)**



---

archive/issue_comments_452555.json:
```json
{
    "body": "Changed commit from **[`41254c2`](https://github.com/sagemath/sagetrac-mirror/commit/41254c28fc83112e7b3b001a1b12c2995613ca8f)** to **[`f249c9d`](https://github.com/sagemath/sagetrac-mirror/commit/f249c9db8be362dbd8aa7adac95b672eddd6d3b4)**",
    "created_at": "2020-02-12T14:53:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452555",
    "user": "https://github.com/kliem"
}
```

Changed commit from **[`41254c2`](https://github.com/sagemath/sagetrac-mirror/commit/41254c28fc83112e7b3b001a1b12c2995613ca8f)** to **[`f249c9d`](https://github.com/sagemath/sagetrac-mirror/commit/f249c9db8be362dbd8aa7adac95b672eddd6d3b4)**



---

archive/issue_comments_452556.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nFew comments:\n\n```\n-        Test that face lattice give no memory leak::\n+        Test that computing the face lattice does not lead to a memory leak::\n```\n\n```\n-        Return the hasse diagram of ``self``.\n+        Return the hasse diagram of the face lattice of ``self``.\n```\n\nI will go more in depth soon.\n\nDoes this mean that we can remove the file `hasse_diagram.py`?",
    "created_at": "2020-02-14T11:07:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452556",
    "user": "https://github.com/jplab"
}
```

<div id="comment:6" align="right">comment:6</div>

Few comments:

```
-        Test that face lattice give no memory leak::
+        Test that computing the face lattice does not lead to a memory leak::
```

```
-        Return the hasse diagram of ``self``.
+        Return the hasse diagram of the face lattice of ``self``.
```

I will go more in depth soon.

Does this mean that we can remove the file `hasse_diagram.py`?



---

archive/issue_comments_452557.json:
```json
{
    "body": "Changed commit from **[`f249c9d`](https://github.com/sagemath/sagetrac-mirror/commit/f249c9db8be362dbd8aa7adac95b672eddd6d3b4)** to **[`f44afa2`](https://github.com/sagemath/sagetrac-mirror/commit/f44afa26835ca7a4991864766c1f1c01c9e6f399)**",
    "created_at": "2020-02-14T12:10:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452557",
    "user": "https://github.com/kliem"
}
```

Changed commit from **[`f249c9d`](https://github.com/sagemath/sagetrac-mirror/commit/f249c9db8be362dbd8aa7adac95b672eddd6d3b4)** to **[`f44afa2`](https://github.com/sagemath/sagetrac-mirror/commit/f44afa26835ca7a4991864766c1f1c01c9e6f399)**



---

archive/issue_comments_452558.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ef69d374c84ee644759c82db1e81e8a4ff99185d\"><code>ef69d37</code></a></td><td><code>add hasse_diagram to combinatorial polyhedron</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/919af022109d85720cbdfb038e893749d6972a89\"><code>919af02</code></a></td><td><code>implemented method hasse diagram for polyhedra</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f040df6ca9de3c2a43c829dcd60713b59236ba75\"><code>f040df6</code></a></td><td><code>use combinatorial polyhedron to obtain face lattice of polyhedron</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9f7a42204f6080bfe1509188856a54223f3c1ef\"><code>f9f7a42</code></a></td><td><code>fixed pyflakes warnings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f306cd06f8ac9b89bde7e22a969e478d00362b54\"><code>f306cd0</code></a></td><td><code>fixed failing doctest; face lattice can compute whether it is eulerian again</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f44afa26835ca7a4991864766c1f1c01c9e6f399\"><code>f44afa2</code></a></td><td><code>improved documentation</code></td></tr></table>\n",
    "created_at": "2020-02-14T12:10:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452558",
    "user": "https://github.com/kliem"
}
```

<div id="comment:7"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ef69d374c84ee644759c82db1e81e8a4ff99185d"><code>ef69d37</code></a></td><td><code>add hasse_diagram to combinatorial polyhedron</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/919af022109d85720cbdfb038e893749d6972a89"><code>919af02</code></a></td><td><code>implemented method hasse diagram for polyhedra</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f040df6ca9de3c2a43c829dcd60713b59236ba75"><code>f040df6</code></a></td><td><code>use combinatorial polyhedron to obtain face lattice of polyhedron</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9f7a42204f6080bfe1509188856a54223f3c1ef"><code>f9f7a42</code></a></td><td><code>fixed pyflakes warnings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f306cd06f8ac9b89bde7e22a969e478d00362b54"><code>f306cd0</code></a></td><td><code>fixed failing doctest; face lattice can compute whether it is eulerian again</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f44afa26835ca7a4991864766c1f1c01c9e6f399"><code>f44afa2</code></a></td><td><code>improved documentation</code></td></tr></table>




---

archive/issue_comments_452559.json:
```json
{
    "body": "Changed branch from **[public/28982-reb](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb)** to **[public/28982-reb2](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb2)**",
    "created_at": "2020-02-14T12:10:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452559",
    "user": "https://github.com/kliem"
}
```

Changed branch from **[public/28982-reb](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb)** to **[public/28982-reb2](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb2)**



---

archive/issue_comments_452560.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,3 +5,17 @@\n Instead of caching `face_lattice`, we cache `hasse_diagram` now.\n \n This is much slower, but removes a memory leak. As `hasse_diagram` is hardly used with #28646, this seems to be reasonable.\n+\n+Caching the face lattice does create a memory leak:\n+\n+```\n+sage: import gc\n+sage: P = polytopes.cube()\n+sage: P.my_face_lattice = P.face_lattice()\n+sage: n = get_memory_usage()\n+sage: P = polytopes.cube()\n+sage: P.my_face_lattice = P.face_lattice()\n+sage: _ = gc.collect()\n+sage: n == get_memory_usage()\n+False\n+```\n``````\n",
    "created_at": "2020-02-14T12:14:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452560",
    "user": "https://github.com/kliem"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,3 +5,17 @@
 Instead of caching `face_lattice`, we cache `hasse_diagram` now.
 
 This is much slower, but removes a memory leak. As `hasse_diagram` is hardly used with #28646, this seems to be reasonable.
+
+Caching the face lattice does create a memory leak:
+
+```
+sage: import gc
+sage: P = polytopes.cube()
+sage: P.my_face_lattice = P.face_lattice()
+sage: n = get_memory_usage()
+sage: P = polytopes.cube()
+sage: P.my_face_lattice = P.face_lattice()
+sage: _ = gc.collect()
+sage: n == get_memory_usage()
+False
+```
``````




---

archive/issue_comments_452561.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e9b3201a8b6dd36d5edf0ac54e4d554d9aaff6b4\"><code>e9b3201</code></a></td><td><code>improved doctest, gc.collect should be run before the test as well</code></td></tr></table>\n",
    "created_at": "2020-02-14T12:17:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452561",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e9b3201a8b6dd36d5edf0ac54e4d554d9aaff6b4"><code>e9b3201</code></a></td><td><code>improved doctest, gc.collect should be run before the test as well</code></td></tr></table>




---

archive/issue_comments_452562.json:
```json
{
    "body": "Changed commit from **[`f44afa2`](https://github.com/sagemath/sagetrac-mirror/commit/f44afa26835ca7a4991864766c1f1c01c9e6f399)** to **[`e9b3201`](https://github.com/sagemath/sagetrac-mirror/commit/e9b3201a8b6dd36d5edf0ac54e4d554d9aaff6b4)**",
    "created_at": "2020-02-14T12:17:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452562",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f44afa2`](https://github.com/sagemath/sagetrac-mirror/commit/f44afa26835ca7a4991864766c1f1c01c9e6f399)** to **[`e9b3201`](https://github.com/sagemath/sagetrac-mirror/commit/e9b3201a8b6dd36d5edf0ac54e4d554d9aaff6b4)**



---

archive/issue_events_395195.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395195"
}
```



---

archive/issue_events_395196.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395196"
}
```



---

archive/issue_comments_452563.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nBatch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452563",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:10" align="right">comment:10</div>

Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_comments_452564.json:
```json
{
    "body": "Reviewer: **Jean-Philippe Labb\u00e9**",
    "created_at": "2020-04-20T09:43:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452564",
    "user": "https://github.com/jplab"
}
```

Reviewer: **Jean-Philippe Labb√©**



---

archive/issue_events_395197.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2020-04-20T09:43:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395197"
}
```



---

archive/issue_events_395198.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2020-04-20T09:43:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395198"
}
```



---

archive/issue_comments_452565.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nSuggestions:\n\n```diff\n+        .. NOTE::\n-            The face lattice is not cached, as long as this would create a memory leak.\n+            The face lattice is not cached, as long as this creates a memory leak, see :trac:`28982`.\n```\n\nHasse is a lastname, so you can capitalize it within the documentation.\n\nCould the function below have more information? Like which order is meant to be simulated here? Inclusion or lex on indices of vertices, etc? Just one more sentence to specify might be nice?\n\n```diff\n+    def __lt__(self, other):\n+        r\"\"\"\n+        Compare faces of the same polyhedron.\n+\n+        EXAMPLES::\n+\n+            sage: P = polytopes.simplex()\n+            sage: C = CombinatorialPolyhedron(P)\n+            sage: F1 = C.face_by_face_lattice_index(0)\n+            sage: F2 = C.face_by_face_lattice_index(1)\n+            sage: F1 < F2\n+            True\n+        \"\"\"\n+        return hash(self) < hash(other)\n```\n\nIs there a reason why the hasse diagram of the combinatorial polyhedron is not cached?",
    "created_at": "2020-04-20T09:43:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452565",
    "user": "https://github.com/jplab"
}
```

<div id="comment:11" align="right">comment:11</div>

Suggestions:

```diff
+        .. NOTE::
-            The face lattice is not cached, as long as this would create a memory leak.
+            The face lattice is not cached, as long as this creates a memory leak, see :trac:`28982`.
```

Hasse is a lastname, so you can capitalize it within the documentation.

Could the function below have more information? Like which order is meant to be simulated here? Inclusion or lex on indices of vertices, etc? Just one more sentence to specify might be nice?

```diff
+    def __lt__(self, other):
+        r"""
+        Compare faces of the same polyhedron.
+
+        EXAMPLES::
+
+            sage: P = polytopes.simplex()
+            sage: C = CombinatorialPolyhedron(P)
+            sage: F1 = C.face_by_face_lattice_index(0)
+            sage: F2 = C.face_by_face_lattice_index(1)
+            sage: F1 < F2
+            True
+        """
+        return hash(self) < hash(other)
```

Is there a reason why the hasse diagram of the combinatorial polyhedron is not cached?



---

archive/issue_comments_452566.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7093eb496300f2893730ca2d1188957b6c33623\"><code>e7093eb</code></a></td><td><code>Merge branch 'public/28982-reb2' of git://trac.sagemath.org/sage into public/28982-reb3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b559ca190b5bd292476ae2b5393fe00f85c3b0a6\"><code>b559ca1</code></a></td><td><code>cache hasse_diagram of combinatorial polyhedron</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2fb67468570a72febd02bb5a8f39b92e7ca59e5f\"><code>2fb6746</code></a></td><td><code>improved documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/92842be2496dd8fd327f84f79a3dd3b3cf1dbfca\"><code>92842be</code></a></td><td><code>explain __lt__</code></td></tr></table>\n",
    "created_at": "2020-04-20T11:17:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452566",
    "user": "https://github.com/kliem"
}
```

<div id="comment:12"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7093eb496300f2893730ca2d1188957b6c33623"><code>e7093eb</code></a></td><td><code>Merge branch 'public/28982-reb2' of git://trac.sagemath.org/sage into public/28982-reb3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b559ca190b5bd292476ae2b5393fe00f85c3b0a6"><code>b559ca1</code></a></td><td><code>cache hasse_diagram of combinatorial polyhedron</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2fb67468570a72febd02bb5a8f39b92e7ca59e5f"><code>2fb6746</code></a></td><td><code>improved documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/92842be2496dd8fd327f84f79a3dd3b3cf1dbfca"><code>92842be</code></a></td><td><code>explain __lt__</code></td></tr></table>




---

archive/issue_comments_452567.json:
```json
{
    "body": "Changed branch from **[public/28982-reb2](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb2)** to **[public/28982-reb3](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb3)**",
    "created_at": "2020-04-20T11:17:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452567",
    "user": "https://github.com/kliem"
}
```

Changed branch from **[public/28982-reb2](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb2)** to **[public/28982-reb3](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb3)**



---

archive/issue_comments_452568.json:
```json
{
    "body": "Changed commit from **[`e9b3201`](https://github.com/sagemath/sagetrac-mirror/commit/e9b3201a8b6dd36d5edf0ac54e4d554d9aaff6b4)** to **[`92842be`](https://github.com/sagemath/sagetrac-mirror/commit/92842be2496dd8fd327f84f79a3dd3b3cf1dbfca)**",
    "created_at": "2020-04-20T11:17:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452568",
    "user": "https://github.com/kliem"
}
```

Changed commit from **[`e9b3201`](https://github.com/sagemath/sagetrac-mirror/commit/e9b3201a8b6dd36d5edf0ac54e4d554d9aaff6b4)** to **[`92842be`](https://github.com/sagemath/sagetrac-mirror/commit/92842be2496dd8fd327f84f79a3dd3b3cf1dbfca)**



---

archive/issue_events_395199.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-04-20T11:17:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395199"
}
```



---

archive/issue_events_395200.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-04-20T11:17:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395200"
}
```



---

archive/issue_events_395201.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2020-04-20T14:48:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395201"
}
```



---

archive/issue_events_395202.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2020-04-20T14:48:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395202"
}
```



---

archive/issue_comments_452569.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nGreat! Thanks for the quick changes. You forgot a capital \"H\" in the last commit. Apart from that it is good to go!\n\nonce you make this last typo change, you can set it to positive review on my behalf.",
    "created_at": "2020-04-20T14:48:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452569",
    "user": "https://github.com/jplab"
}
```

<div id="comment:13" align="right">comment:13</div>

Great! Thanks for the quick changes. You forgot a capital "H" in the last commit. Apart from that it is good to go!

once you make this last typo change, you can set it to positive review on my behalf.



---

archive/issue_comments_452570.json:
```json
{
    "body": "Changed commit from **[`92842be`](https://github.com/sagemath/sagetrac-mirror/commit/92842be2496dd8fd327f84f79a3dd3b3cf1dbfca)** to **[`708dd7d`](https://github.com/sagemath/sagetrac-mirror/commit/708dd7dcf0dbc70c9c53a3c4946624a389b2580e)**",
    "created_at": "2020-04-20T14:50:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452570",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`92842be`](https://github.com/sagemath/sagetrac-mirror/commit/92842be2496dd8fd327f84f79a3dd3b3cf1dbfca)** to **[`708dd7d`](https://github.com/sagemath/sagetrac-mirror/commit/708dd7dcf0dbc70c9c53a3c4946624a389b2580e)**



---

archive/issue_comments_452571.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/708dd7dcf0dbc70c9c53a3c4946624a389b2580e\"><code>708dd7d</code></a></td><td><code>typo</code></td></tr></table>\n",
    "created_at": "2020-04-20T14:50:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452571",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/708dd7dcf0dbc70c9c53a3c4946624a389b2580e"><code>708dd7d</code></a></td><td><code>typo</code></td></tr></table>




---

archive/issue_comments_452572.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nThank you.",
    "created_at": "2020-04-20T14:50:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452572",
    "user": "https://github.com/kliem"
}
```

<div id="comment:15" align="right">comment:15</div>

Thank you.



---

archive/issue_events_395203.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-04-20T14:50:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395203"
}
```



---

archive/issue_events_395204.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-04-20T14:50:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395204"
}
```



---

archive/issue_comments_452573.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nMerge conflict",
    "created_at": "2020-04-22T22:42:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452573",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:16" align="right">comment:16</div>

Merge conflict



---

archive/issue_events_395205.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-04-22T22:42:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395205"
}
```



---

archive/issue_events_395206.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-04-22T22:42:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395206"
}
```



---

archive/issue_comments_452574.json:
```json
{
    "body": "Changed branch from **[public/28982-reb3](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb3)** to **[public/28982-reb4](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb4)**",
    "created_at": "2020-04-24T05:43:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452574",
    "user": "https://github.com/kliem"
}
```

Changed branch from **[public/28982-reb3](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb3)** to **[public/28982-reb4](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb4)**



---

archive/issue_comments_452575.json:
```json
{
    "body": "Changed commit from **[`708dd7d`](https://github.com/sagemath/sagetrac-mirror/commit/708dd7dcf0dbc70c9c53a3c4946624a389b2580e)** to **[`819d543`](https://github.com/sagemath/sagetrac-mirror/commit/819d5433d00510a69bc43b8138296713cd9853f5)**",
    "created_at": "2020-04-24T05:43:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452575",
    "user": "https://github.com/kliem"
}
```

Changed commit from **[`708dd7d`](https://github.com/sagemath/sagetrac-mirror/commit/708dd7dcf0dbc70c9c53a3c4946624a389b2580e)** to **[`819d543`](https://github.com/sagemath/sagetrac-mirror/commit/819d5433d00510a69bc43b8138296713cd9853f5)**



---

archive/issue_events_395207.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-04-24T05:43:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395207"
}
```



---

archive/issue_events_395208.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-04-24T05:43:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395208"
}
```



---

archive/issue_comments_452576.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7bc78d4260874e7a0755a338f48c96e39cb4726\"><code>d7bc78d</code></a></td><td><code>use combinatorial polyhedron to obtain face lattice of polyhedron</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d6f874e2e9fe19158e2a45fd61151ed2f07b6817\"><code>d6f874e</code></a></td><td><code>fixed pyflakes warnings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e537571f2934c5d03cc1241f4c53ec37f6e601a\"><code>7e53757</code></a></td><td><code>fixed failing doctest; face lattice can compute whether it is eulerian again</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/015232c59ab2ede7a59e7d7cc1a531d60c075fc4\"><code>015232c</code></a></td><td><code>improved documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/651e621aaa98e97b912075da57f4bbda3f5d9819\"><code>651e621</code></a></td><td><code>improved doctest, gc.collect should be run before the test as well</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/898feee842a34650f25e17c0eee0e07f0a935930\"><code>898feee</code></a></td><td><code>cache hasse_diagram of combinatorial polyhedron</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff18524385890fcbc4fa5a7147d91984ab2161ff\"><code>ff18524</code></a></td><td><code>improved documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6497d62b58b97a0216897ed8b6b8497e9e20a669\"><code>6497d62</code></a></td><td><code>explain __lt__</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e19d6c77bd9b2bfe14d245729c0259577f157be\"><code>4e19d6c</code></a></td><td><code>typo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/819d5433d00510a69bc43b8138296713cd9853f5\"><code>819d543</code></a></td><td><code>fix failing doctest</code></td></tr></table>\n",
    "created_at": "2020-04-24T05:43:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452576",
    "user": "https://github.com/kliem"
}
```

<div id="comment:17"></div>

Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7bc78d4260874e7a0755a338f48c96e39cb4726"><code>d7bc78d</code></a></td><td><code>use combinatorial polyhedron to obtain face lattice of polyhedron</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d6f874e2e9fe19158e2a45fd61151ed2f07b6817"><code>d6f874e</code></a></td><td><code>fixed pyflakes warnings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e537571f2934c5d03cc1241f4c53ec37f6e601a"><code>7e53757</code></a></td><td><code>fixed failing doctest; face lattice can compute whether it is eulerian again</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/015232c59ab2ede7a59e7d7cc1a531d60c075fc4"><code>015232c</code></a></td><td><code>improved documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/651e621aaa98e97b912075da57f4bbda3f5d9819"><code>651e621</code></a></td><td><code>improved doctest, gc.collect should be run before the test as well</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/898feee842a34650f25e17c0eee0e07f0a935930"><code>898feee</code></a></td><td><code>cache hasse_diagram of combinatorial polyhedron</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff18524385890fcbc4fa5a7147d91984ab2161ff"><code>ff18524</code></a></td><td><code>improved documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6497d62b58b97a0216897ed8b6b8497e9e20a669"><code>6497d62</code></a></td><td><code>explain __lt__</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e19d6c77bd9b2bfe14d245729c0259577f157be"><code>4e19d6c</code></a></td><td><code>typo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/819d5433d00510a69bc43b8138296713cd9853f5"><code>819d543</code></a></td><td><code>fix failing doctest</code></td></tr></table>




---

archive/issue_comments_452577.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nIt doesn't seem to build... See patchbot.",
    "created_at": "2020-04-27T13:29:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452577",
    "user": "https://github.com/jplab"
}
```

<div id="comment:18" align="right">comment:18</div>

It doesn't seem to build... See patchbot.



---

archive/issue_events_395209.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2020-04-27T13:29:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395209"
}
```



---

archive/issue_events_395210.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2020-04-27T13:29:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395210"
}
```



---

archive/issue_events_395211.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-04-27T13:42:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395211"
}
```



---

archive/issue_events_395212.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-04-27T13:42:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395212"
}
```



---

archive/issue_comments_452578.json:
```json
{
    "body": "Changed branch from **[public/28982-reb4](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb4)** to **[public/28982-reb5](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb5)**",
    "created_at": "2020-04-27T13:42:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452578",
    "user": "https://github.com/kliem"
}
```

Changed branch from **[public/28982-reb4](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb4)** to **[public/28982-reb5](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb5)**



---

archive/issue_comments_452579.json:
```json
{
    "body": "Changed commit from **[`819d543`](https://github.com/sagemath/sagetrac-mirror/commit/819d5433d00510a69bc43b8138296713cd9853f5)** to **[`0e865a0`](https://github.com/sagemath/sagetrac-mirror/commit/0e865a04996fe35097ffd04fbdb879b97732e2ce)**",
    "created_at": "2020-04-27T13:42:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452579",
    "user": "https://github.com/kliem"
}
```

Changed commit from **[`819d543`](https://github.com/sagemath/sagetrac-mirror/commit/819d5433d00510a69bc43b8138296713cd9853f5)** to **[`0e865a0`](https://github.com/sagemath/sagetrac-mirror/commit/0e865a04996fe35097ffd04fbdb879b97732e2ce)**



---

archive/issue_comments_452580.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5edeaa3c1b9f3fb8efb3796f559edc6a7a064d79\"><code>5edeaa3</code></a></td><td><code>fixed pyflakes warnings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/00f234c90e0c7f3241c21e56e8878235249849ab\"><code>00f234c</code></a></td><td><code>fixed failing doctest; face lattice can compute whether it is eulerian again</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ab0a78907a83dcfc1a767f4ad30bcaca4ca717af\"><code>ab0a789</code></a></td><td><code>improved documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fefe3b239a952420d1da9a661785a8af74ac4bb4\"><code>fefe3b2</code></a></td><td><code>improved doctest, gc.collect should be run before the test as well</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4bc4957ac07df2b9fbae47033eaafc9b68ba455e\"><code>4bc4957</code></a></td><td><code>cache hasse_diagram of combinatorial polyhedron</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/381f7d9c935cef68faa849c18557306ae399761b\"><code>381f7d9</code></a></td><td><code>improved documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/404efca5e0a4845e10f120b90d604df3ec0d9cb4\"><code>404efca</code></a></td><td><code>explain __lt__</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/84746b16667ea8169b85e24871a869afc6522711\"><code>84746b1</code></a></td><td><code>typo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/587738db19c697f53f952eabe0fe58747653fb99\"><code>587738d</code></a></td><td><code>fix failing doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0e865a04996fe35097ffd04fbdb879b97732e2ce\"><code>0e865a0</code></a></td><td><code>missing import</code></td></tr></table>\n",
    "created_at": "2020-04-27T13:42:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452580",
    "user": "https://github.com/kliem"
}
```

<div id="comment:19"></div>

Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5edeaa3c1b9f3fb8efb3796f559edc6a7a064d79"><code>5edeaa3</code></a></td><td><code>fixed pyflakes warnings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/00f234c90e0c7f3241c21e56e8878235249849ab"><code>00f234c</code></a></td><td><code>fixed failing doctest; face lattice can compute whether it is eulerian again</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ab0a78907a83dcfc1a767f4ad30bcaca4ca717af"><code>ab0a789</code></a></td><td><code>improved documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fefe3b239a952420d1da9a661785a8af74ac4bb4"><code>fefe3b2</code></a></td><td><code>improved doctest, gc.collect should be run before the test as well</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4bc4957ac07df2b9fbae47033eaafc9b68ba455e"><code>4bc4957</code></a></td><td><code>cache hasse_diagram of combinatorial polyhedron</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/381f7d9c935cef68faa849c18557306ae399761b"><code>381f7d9</code></a></td><td><code>improved documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/404efca5e0a4845e10f120b90d604df3ec0d9cb4"><code>404efca</code></a></td><td><code>explain __lt__</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/84746b16667ea8169b85e24871a869afc6522711"><code>84746b1</code></a></td><td><code>typo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/587738db19c697f53f952eabe0fe58747653fb99"><code>587738d</code></a></td><td><code>fix failing doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0e865a04996fe35097ffd04fbdb879b97732e2ce"><code>0e865a0</code></a></td><td><code>missing import</code></td></tr></table>




---

archive/issue_events_395213.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2020-05-11T13:24:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395213"
}
```



---

archive/issue_events_395214.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2020-05-11T13:24:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395214"
}
```



---

archive/issue_comments_452581.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nLooks good to me now.",
    "created_at": "2020-05-11T13:24:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452581",
    "user": "https://github.com/jplab"
}
```

<div id="comment:20" align="right">comment:20</div>

Looks good to me now.



---

archive/issue_comments_452582.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\n\n```\nsage -t --long --warn-long 36.4 src/sage/geometry/polyhedron/face.py\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/face.py\", line 454, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation\nFailed example:\n    face = p.face_lattice()[5]\nException raised:\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation[1]>\", line 1, in <module>\n        face = p.face_lattice()[Integer(5)]\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/geometry/polyhedron/base.py\", line 5873, in face_lattice\n        return FiniteLatticePoset(self.hasse_diagram())\n      File \"sage/misc/cachefunc.pyx\", line 2310, in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (build/cythonized/sage/misc/cachefunc.c:12712)\n        self.cache = f(self._instance)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/geometry/polyhedron/base.py\", line 5901, in hasse_diagram\n        return D.relabel(index_to_polyhedron_face, inplace=False, immutable=True)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py\", line 21864, in relabel\n        complete_partial_function = complete_partial_function)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py\", line 21929, in relabel\n        raise NotImplementedError(\"Non injective relabeling\")\n    NotImplementedError: Non injective relabeling\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/face.py\", line 455, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation\nFailed example:\n    face\nException raised:\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation[2]>\", line 1, in <module>\n        face\n    NameError: name 'face' is not defined\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/face.py\", line 457, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation\nFailed example:\n    face.ambient_Hrepresentation()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation[3]>\", line 1, in <module>\n        face.ambient_Hrepresentation()\n    NameError: name 'face' is not defined\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/face.py\", line 462, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation\nFailed example:\n    face.n_ambient_Hrepresentation()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation[4]>\", line 1, in <module>\n        face.n_ambient_Hrepresentation()\n    NameError: name 'face' is not defined\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/face.py\", line 481, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation\nFailed example:\n    face = p.face_lattice()[5]\nException raised:\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation[1]>\", line 1, in <module>\n        face = p.face_lattice()[Integer(5)]\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/geometry/polyhedron/base.py\", line 5873, in face_lattice\n        return FiniteLatticePoset(self.hasse_diagram())\n      File \"sage/misc/cachefunc.pyx\", line 2310, in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (build/cythonized/sage/misc/cachefunc.c:12712)\n        self.cache = f(self._instance)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/geometry/polyhedron/base.py\", line 5901, in hasse_diagram\n        return D.relabel(index_to_polyhedron_face, inplace=False, immutable=True)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py\", line 21864, in relabel\n        complete_partial_function = complete_partial_function)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py\", line 21929, in relabel\n        raise NotImplementedError(\"Non injective relabeling\")\n    NotImplementedError: Non injective relabeling\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/face.py\", line 482, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation\nFailed example:\n    face\nException raised:\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation[2]>\", line 1, in <module>\n        face\n    NameError: name 'face' is not defined\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/face.py\", line 484, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation\nFailed example:\n    face.ambient_Vrepresentation()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation[3]>\", line 1, in <module>\n        face.ambient_Vrepresentation()\n    NameError: name 'face' is not defined\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/face.py\", line 486, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation\nFailed example:\n    face.n_ambient_Vrepresentation()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation[4]>\", line 1, in <module>\n        face.n_ambient_Vrepresentation()\n    NameError: name 'face' is not defined\n**********************************************************************\n2 items had failures:\n   4 of   6 in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation\n   4 of   6 in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation\n    [119 tests, 8 failures, 0.44 s]\n```",
    "created_at": "2020-05-21T17:51:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452582",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:21" align="right">comment:21</div>


```
sage -t --long --warn-long 36.4 src/sage/geometry/polyhedron/face.py
**********************************************************************
File "src/sage/geometry/polyhedron/face.py", line 454, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation
Failed example:
    face = p.face_lattice()[5]
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation[1]>", line 1, in <module>
        face = p.face_lattice()[Integer(5)]
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/geometry/polyhedron/base.py", line 5873, in face_lattice
        return FiniteLatticePoset(self.hasse_diagram())
      File "sage/misc/cachefunc.pyx", line 2310, in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (build/cythonized/sage/misc/cachefunc.c:12712)
        self.cache = f(self._instance)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/geometry/polyhedron/base.py", line 5901, in hasse_diagram
        return D.relabel(index_to_polyhedron_face, inplace=False, immutable=True)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py", line 21864, in relabel
        complete_partial_function = complete_partial_function)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py", line 21929, in relabel
        raise NotImplementedError("Non injective relabeling")
    NotImplementedError: Non injective relabeling
**********************************************************************
File "src/sage/geometry/polyhedron/face.py", line 455, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation
Failed example:
    face
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation[2]>", line 1, in <module>
        face
    NameError: name 'face' is not defined
**********************************************************************
File "src/sage/geometry/polyhedron/face.py", line 457, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation
Failed example:
    face.ambient_Hrepresentation()
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation[3]>", line 1, in <module>
        face.ambient_Hrepresentation()
    NameError: name 'face' is not defined
**********************************************************************
File "src/sage/geometry/polyhedron/face.py", line 462, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation
Failed example:
    face.n_ambient_Hrepresentation()
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation[4]>", line 1, in <module>
        face.n_ambient_Hrepresentation()
    NameError: name 'face' is not defined
**********************************************************************
File "src/sage/geometry/polyhedron/face.py", line 481, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation
Failed example:
    face = p.face_lattice()[5]
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation[1]>", line 1, in <module>
        face = p.face_lattice()[Integer(5)]
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/geometry/polyhedron/base.py", line 5873, in face_lattice
        return FiniteLatticePoset(self.hasse_diagram())
      File "sage/misc/cachefunc.pyx", line 2310, in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (build/cythonized/sage/misc/cachefunc.c:12712)
        self.cache = f(self._instance)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/geometry/polyhedron/base.py", line 5901, in hasse_diagram
        return D.relabel(index_to_polyhedron_face, inplace=False, immutable=True)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py", line 21864, in relabel
        complete_partial_function = complete_partial_function)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py", line 21929, in relabel
        raise NotImplementedError("Non injective relabeling")
    NotImplementedError: Non injective relabeling
**********************************************************************
File "src/sage/geometry/polyhedron/face.py", line 482, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation
Failed example:
    face
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation[2]>", line 1, in <module>
        face
    NameError: name 'face' is not defined
**********************************************************************
File "src/sage/geometry/polyhedron/face.py", line 484, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation
Failed example:
    face.ambient_Vrepresentation()
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation[3]>", line 1, in <module>
        face.ambient_Vrepresentation()
    NameError: name 'face' is not defined
**********************************************************************
File "src/sage/geometry/polyhedron/face.py", line 486, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation
Failed example:
    face.n_ambient_Vrepresentation()
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation[4]>", line 1, in <module>
        face.n_ambient_Vrepresentation()
    NameError: name 'face' is not defined
**********************************************************************
2 items had failures:
   4 of   6 in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation
   4 of   6 in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation
    [119 tests, 8 failures, 0.44 s]
```



---

archive/issue_events_395215.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-05-21T17:51:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395215"
}
```



---

archive/issue_events_395216.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-05-21T17:51:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395216"
}
```



---

archive/issue_comments_452583.json:
```json
{
    "body": "Dependencies: **#29583, #28894**",
    "created_at": "2020-05-25T06:43:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452583",
    "user": "https://github.com/kliem"
}
```

Dependencies: **#29583, #28894**



---

archive/issue_comments_452584.json:
```json
{
    "body": "Changed dependencies from **#29583, #28894** to **#29583**",
    "created_at": "2020-05-25T07:33:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452584",
    "user": "https://github.com/kliem"
}
```

Changed dependencies from **#29583, #28894** to **#29583**



---

archive/issue_comments_452585.json:
```json
{
    "body": "Changed branch from **[public/28982-reb5](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb5)** to **[public/28982-reb6](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb6)**",
    "created_at": "2020-05-25T08:17:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452585",
    "user": "https://github.com/kliem"
}
```

Changed branch from **[public/28982-reb5](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb5)** to **[public/28982-reb6](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb6)**



---

archive/issue_comments_452586.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nI rebased on top of #29583 (as there is some merge conflict).\n\nI also fixed the error in #28894, which caused the doctest failure. Now this ticket works by itself and on top of #28894. At least the following tests pass on my machine with and without #28894:\n\n```\nsage -t --long -p 8 src/doc/en/thematic_tutorials/geometry\nsage -t --long -p 8 src/sage/geometry/polyhedron/\nsage -t --long -p 8 src/sage/plot/\n```\n\n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cb5e58a5311a3ee2d8588e4c0341b9e0f3ee43ad\"><code>cb5e58a</code></a></td><td><code>fixed pyflakes warnings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76a724754d796922c758de8e7494ada58bf07f2d\"><code>76a7247</code></a></td><td><code>fixed failing doctest; face lattice can compute whether it is eulerian again</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f0c9f6fb0cb85eb5398da3c62eeb8e26b7d81fd5\"><code>f0c9f6f</code></a></td><td><code>improved documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b76f65394eae9d3515ac96b67e951c0f495e7044\"><code>b76f653</code></a></td><td><code>improved doctest, gc.collect should be run before the test as well</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a405173887f714b4e9919da0414aa8543dc02723\"><code>a405173</code></a></td><td><code>cache hasse_diagram of combinatorial polyhedron</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d2c5332c4acf5f228f5426bc3e33d6eaf540a54c\"><code>d2c5332</code></a></td><td><code>improved documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e59938a657f0135f1b82e3011218ae21245c5350\"><code>e59938a</code></a></td><td><code>explain __lt__</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8fbc9c251e79f30c3983a48b2d105dd0270d783a\"><code>8fbc9c2</code></a></td><td><code>typo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0fbd87d405059e50cfffea7ab0ee9baa9403d2a4\"><code>0fbd87d</code></a></td><td><code>fix failing doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f4e1deccef14f7aa3dcf1e19241ac042157e4f92\"><code>f4e1dec</code></a></td><td><code>missing import</code></td></tr></table>\n",
    "created_at": "2020-05-25T08:17:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452586",
    "user": "https://github.com/kliem"
}
```

<div id="comment:24" align="right">comment:24</div>

I rebased on top of #29583 (as there is some merge conflict).

I also fixed the error in #28894, which caused the doctest failure. Now this ticket works by itself and on top of #28894. At least the following tests pass on my machine with and without #28894:

```
sage -t --long -p 8 src/doc/en/thematic_tutorials/geometry
sage -t --long -p 8 src/sage/geometry/polyhedron/
sage -t --long -p 8 src/sage/plot/
```

---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cb5e58a5311a3ee2d8588e4c0341b9e0f3ee43ad"><code>cb5e58a</code></a></td><td><code>fixed pyflakes warnings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76a724754d796922c758de8e7494ada58bf07f2d"><code>76a7247</code></a></td><td><code>fixed failing doctest; face lattice can compute whether it is eulerian again</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f0c9f6fb0cb85eb5398da3c62eeb8e26b7d81fd5"><code>f0c9f6f</code></a></td><td><code>improved documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b76f65394eae9d3515ac96b67e951c0f495e7044"><code>b76f653</code></a></td><td><code>improved doctest, gc.collect should be run before the test as well</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a405173887f714b4e9919da0414aa8543dc02723"><code>a405173</code></a></td><td><code>cache hasse_diagram of combinatorial polyhedron</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d2c5332c4acf5f228f5426bc3e33d6eaf540a54c"><code>d2c5332</code></a></td><td><code>improved documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e59938a657f0135f1b82e3011218ae21245c5350"><code>e59938a</code></a></td><td><code>explain __lt__</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8fbc9c251e79f30c3983a48b2d105dd0270d783a"><code>8fbc9c2</code></a></td><td><code>typo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0fbd87d405059e50cfffea7ab0ee9baa9403d2a4"><code>0fbd87d</code></a></td><td><code>fix failing doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f4e1deccef14f7aa3dcf1e19241ac042157e4f92"><code>f4e1dec</code></a></td><td><code>missing import</code></td></tr></table>




---

archive/issue_comments_452587.json:
```json
{
    "body": "Changed commit from **[`0e865a0`](https://github.com/sagemath/sagetrac-mirror/commit/0e865a04996fe35097ffd04fbdb879b97732e2ce)** to **[`f4e1dec`](https://github.com/sagemath/sagetrac-mirror/commit/f4e1deccef14f7aa3dcf1e19241ac042157e4f92)**",
    "created_at": "2020-05-25T08:17:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452587",
    "user": "https://github.com/kliem"
}
```

Changed commit from **[`0e865a0`](https://github.com/sagemath/sagetrac-mirror/commit/0e865a04996fe35097ffd04fbdb879b97732e2ce)** to **[`f4e1dec`](https://github.com/sagemath/sagetrac-mirror/commit/f4e1deccef14f7aa3dcf1e19241ac042157e4f92)**



---

archive/issue_events_395217.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-05-25T08:17:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395217"
}
```



---

archive/issue_events_395218.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-05-25T08:17:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395218"
}
```



---

archive/issue_comments_452588.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nNeeds rebase (build fails).",
    "created_at": "2020-08-13T05:18:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452588",
    "user": "https://github.com/kliem"
}
```

<div id="comment:26" align="right">comment:26</div>

Needs rebase (build fails).



---

archive/issue_events_395219.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-08-13T05:18:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395219"
}
```



---

archive/issue_events_395220.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-08-13T05:18:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395220"
}
```



---

archive/issue_comments_452589.json:
```json
{
    "body": "Changed branch from **[public/28982-reb6](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb6)** to **[public/28982-reb7](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb7)**",
    "created_at": "2020-08-13T05:43:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452589",
    "user": "https://github.com/kliem"
}
```

Changed branch from **[public/28982-reb6](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb6)** to **[public/28982-reb7](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb7)**



---

archive/issue_comments_452590.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4596af9661a84eadd9f392843012917fba3665b6\"><code>4596af9</code></a></td><td><code>Merge branch 'public/28982-reb6' of git://trac.sagemath.org/sage into public/28982-reb7</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/22974744b2b580cf94737ca9d04734d89687b73e\"><code>2297474</code></a></td><td><code>import DiGraph in time</code></td></tr></table>\n",
    "created_at": "2020-08-13T05:43:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452590",
    "user": "https://github.com/kliem"
}
```

<div id="comment:27"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4596af9661a84eadd9f392843012917fba3665b6"><code>4596af9</code></a></td><td><code>Merge branch 'public/28982-reb6' of git://trac.sagemath.org/sage into public/28982-reb7</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/22974744b2b580cf94737ca9d04734d89687b73e"><code>2297474</code></a></td><td><code>import DiGraph in time</code></td></tr></table>




---

archive/issue_events_395221.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-08-13T05:43:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395221"
}
```



---

archive/issue_events_395222.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-08-13T05:43:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395222"
}
```



---

archive/issue_comments_452591.json:
```json
{
    "body": "Changed commit from **[`f4e1dec`](https://github.com/sagemath/sagetrac-mirror/commit/f4e1deccef14f7aa3dcf1e19241ac042157e4f92)** to **[`2297474`](https://github.com/sagemath/sagetrac-mirror/commit/22974744b2b580cf94737ca9d04734d89687b73e)**",
    "created_at": "2020-08-13T05:43:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452591",
    "user": "https://github.com/kliem"
}
```

Changed commit from **[`f4e1dec`](https://github.com/sagemath/sagetrac-mirror/commit/f4e1deccef14f7aa3dcf1e19241ac042157e4f92)** to **[`2297474`](https://github.com/sagemath/sagetrac-mirror/commit/22974744b2b580cf94737ca9d04734d89687b73e)**



---

archive/issue_comments_452592.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\n\n```\n+    if polyhedron.dimension() == 0:\n+        # In case of the 0-dimensional polyhedron,\n+        # there is a facets but no inequality.\n+        H_indices = tuple(range(n_equations))\n+\n```\nThe comment needs rewording",
    "created_at": "2020-08-27T04:16:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452592",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:28" align="right">comment:28</div>


```
+    if polyhedron.dimension() == 0:
+        # In case of the 0-dimensional polyhedron,
+        # there is a facets but no inequality.
+        H_indices = tuple(range(n_equations))
+
```
The comment needs rewording



---

archive/issue_events_395223.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-27T04:17:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395223"
}
```



---

archive/issue_events_395224.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-27T04:17:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395224"
}
```



---

archive/issue_comments_452593.json:
```json
{
    "body": "Changed commit from **[`2297474`](https://github.com/sagemath/sagetrac-mirror/commit/22974744b2b580cf94737ca9d04734d89687b73e)** to **[`92487de`](https://github.com/sagemath/sagetrac-mirror/commit/92487de288ea07cc6f39df2befb5383935285537)**",
    "created_at": "2020-08-27T05:37:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452593",
    "user": "https://github.com/kliem"
}
```

Changed commit from **[`2297474`](https://github.com/sagemath/sagetrac-mirror/commit/22974744b2b580cf94737ca9d04734d89687b73e)** to **[`92487de`](https://github.com/sagemath/sagetrac-mirror/commit/92487de288ea07cc6f39df2befb5383935285537)**



---

archive/issue_comments_452594.json:
```json
{
    "body": "Changed branch from **[public/28982-reb7](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb7)** to **[public/28982-reb8](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb8)**",
    "created_at": "2020-08-27T05:37:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452594",
    "user": "https://github.com/kliem"
}
```

Changed branch from **[public/28982-reb7](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb7)** to **[public/28982-reb8](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb8)**



---

archive/issue_events_395225.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-08-27T05:37:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395225"
}
```



---

archive/issue_events_395226.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-08-27T05:37:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395226"
}
```



---

archive/issue_comments_452595.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/52b634f4f872c441004c51e68a7a45e097d7e1e0\"><code>52b634f</code></a></td><td><code>Merge branch 'public/28982-reb7' of git://trac.sagemath.org/sage into public/28982-reb8</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/92487de288ea07cc6f39df2befb5383935285537\"><code>92487de</code></a></td><td><code>improved comment</code></td></tr></table>\n",
    "created_at": "2020-08-27T05:37:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452595",
    "user": "https://github.com/kliem"
}
```

<div id="comment:30"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/52b634f4f872c441004c51e68a7a45e097d7e1e0"><code>52b634f</code></a></td><td><code>Merge branch 'public/28982-reb7' of git://trac.sagemath.org/sage into public/28982-reb8</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/92487de288ea07cc6f39df2befb5383935285537"><code>92487de</code></a></td><td><code>improved comment</code></td></tr></table>




---

archive/issue_comments_452596.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\n\n```\n+    def __lt__(self, other):\n+        r\"\"\"\n+        Compare faces of the same polyhedron.\n+\n+        This is a helper function.\n+        In order to construct a Hasse diagram (a digraph) with combinatorial faces,\n+        we must define some order relation that is compatible with the Hasse diagram.\n+\n+        Any order relation compatible with ordering by dimension is suitable.\n+        We us :meth:`__hash__` to define the relation.\n```\n\nI don't fully understand what's happening in that hash function. If one uses the face iterator in non-dual mode, is the resulting order relation still correct?",
    "created_at": "2020-08-30T19:58:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452596",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:31" align="right">comment:31</div>


```
+    def __lt__(self, other):
+        r"""
+        Compare faces of the same polyhedron.
+
+        This is a helper function.
+        In order to construct a Hasse diagram (a digraph) with combinatorial faces,
+        we must define some order relation that is compatible with the Hasse diagram.
+
+        Any order relation compatible with ordering by dimension is suitable.
+        We us :meth:`__hash__` to define the relation.
```

I don't fully understand what's happening in that hash function. If one uses the face iterator in non-dual mode, is the resulting order relation still correct?



---

archive/issue_comments_452597.json:
```json
{
    "body": "Changed reviewer from **Jean-Philippe Labb\u00e9** to **Jean-Philippe Labb\u00e9, Matthias Koeppe**",
    "created_at": "2020-08-30T19:58:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452597",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Jean-Philippe Labb√©** to **Jean-Philippe Labb√©, Matthias Koeppe**



---

archive/issue_comments_452598.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b7b5b6c17a645f55766666295a0424de8efde72\"><code>6b7b5b6</code></a></td><td><code>make hash function consistent with dual mode</code></td></tr></table>\n",
    "created_at": "2020-08-31T07:41:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452598",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b7b5b6c17a645f55766666295a0424de8efde72"><code>6b7b5b6</code></a></td><td><code>make hash function consistent with dual mode</code></td></tr></table>




---

archive/issue_comments_452599.json:
```json
{
    "body": "Changed commit from **[`92487de`](https://github.com/sagemath/sagetrac-mirror/commit/92487de288ea07cc6f39df2befb5383935285537)** to **[`6b7b5b6`](https://github.com/sagemath/sagetrac-mirror/commit/6b7b5b6c17a645f55766666295a0424de8efde72)**",
    "created_at": "2020-08-31T07:41:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452599",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`92487de`](https://github.com/sagemath/sagetrac-mirror/commit/92487de288ea07cc6f39df2befb5383935285537)** to **[`6b7b5b6`](https://github.com/sagemath/sagetrac-mirror/commit/6b7b5b6c17a645f55766666295a0424de8efde72)**



---

archive/issue_comments_452600.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@mkoeppe](#comment%3A31):\n> \n> ```\n> +    def __lt__(self, other):\n> +        r\"\"\"\n> +        Compare faces of the same polyhedron.\n> +\n> +        This is a helper function.\n> +        In order to construct a Hasse diagram (a digraph) with combinatorial faces,\n> +        we must define some order relation that is compatible with the Hasse diagram.\n> +\n> +        Any order relation compatible with ordering by dimension is suitable.\n> +        We us :meth:`__hash__` to define the relation.\n> ```\n> \n> I don't fully understand what's happening in that hash function. If one uses the face iterator in non-dual mode, is the resulting order relation still correct?\n\nYou are right.\nI'm surprised it worked that way.\nThe hash function should be consistent now. And `__lt__` returns `None` if the faces are clearly incompatible.\nWhat's nice about this hash function, if I understand it correctly, is that it allows to store faces in sets etc.",
    "created_at": "2020-08-31T07:45:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452600",
    "user": "https://github.com/kliem"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@mkoeppe](#comment%3A31):
> 
> ```
> +    def __lt__(self, other):
> +        r"""
> +        Compare faces of the same polyhedron.
> +
> +        This is a helper function.
> +        In order to construct a Hasse diagram (a digraph) with combinatorial faces,
> +        we must define some order relation that is compatible with the Hasse diagram.
> +
> +        Any order relation compatible with ordering by dimension is suitable.
> +        We us :meth:`__hash__` to define the relation.
> ```
> 
> I don't fully understand what's happening in that hash function. If one uses the face iterator in non-dual mode, is the resulting order relation still correct?

You are right.
I'm surprised it worked that way.
The hash function should be consistent now. And `__lt__` returns `None` if the faces are clearly incompatible.
What's nice about this hash function, if I understand it correctly, is that it allows to store faces in sets etc.



---

archive/issue_events_395227.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-31T13:34:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395227"
}
```



---

archive/issue_events_395228.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-31T13:34:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395228"
}
```



---

archive/issue_comments_452601.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nThank you.",
    "created_at": "2020-08-31T13:35:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452601",
    "user": "https://github.com/kliem"
}
```

<div id="comment:35" align="right">comment:35</div>

Thank you.



---

archive/issue_comments_452602.json:
```json
{
    "body": "Changed branch from **[public/28982-reb8](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb8)** to **[`6b7b5b6`](https://github.com/sagemath/sagetrac-mirror/commit/6b7b5b6c17a645f55766666295a0424de8efde72)**",
    "created_at": "2020-09-06T21:51:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28982#issuecomment-452602",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/28982-reb8](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb8)** to **[`6b7b5b6`](https://github.com/sagemath/sagetrac-mirror/commit/6b7b5b6c17a645f55766666295a0424de8efde72)**



---

archive/issue_events_395229.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-09-06T21:51:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395229"
}
```



---

archive/issue_events_395230.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "4974b901128002e65f88b8cab43da8680fff572e",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-09-06T21:51:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28982",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28982#event-395230"
}
```
