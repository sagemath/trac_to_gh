# Issue 28982: Use CombinatorialPolyhedron to obtain faces lattice of polyhedra

archive/issues_028745.json:
```json
{
    "body": "We use `CombinatorialPolyhedron` to compute the face lattice of a polyhedron.\n\nAlong the way we implement `hasse_diagram` for `CombinatorialPolyhedron` and `Polyhedron_base`.\n\nInstead of caching `face_lattice`, we cache `hasse_diagram` now.\n\nThis is much slower, but removes a memory leak. As `hasse_diagram` is hardly used with #28646, this seems to be reasonable.\n\nCaching the face lattice does create a memory leak:\n\n```\nsage: import gc\nsage: P = polytopes.cube()\nsage: P.my_face_lattice = P.face_lattice()\nsage: n = get_memory_usage()\nsage: P = polytopes.cube()\nsage: P.my_face_lattice = P.face_lattice()\nsage: _ = gc.collect()\nsage: n == get_memory_usage()\nFalse\n```\n\nCC:  @jplab @laisrast\n\nKeywords: polyhedron, face lattice\n\nBranch/Commit: [6b7b5b6c17a645f55766666295a0424de8efde72](https://github.com/sagemath/sagetrac-mirror/commit/6b7b5b6c17a645f55766666295a0424de8efde72)\n\nReviewer: Jean-Philippe Labb\u00e9, Matthias Koeppe\n\nAuthor: Jonathan Kliem\n\nDependencies: #29583\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/28982\n\n",
    "closed_at": "2020-09-06T21:51:47Z",
    "created_at": "2020-01-10T13:33:53Z",
    "labels": [
        "component: geometry"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "Use CombinatorialPolyhedron to obtain faces lattice of polyhedra",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28982",
    "user": "https://github.com/kliem"
}
```
We use `CombinatorialPolyhedron` to compute the face lattice of a polyhedron.

Along the way we implement `hasse_diagram` for `CombinatorialPolyhedron` and `Polyhedron_base`.

Instead of caching `face_lattice`, we cache `hasse_diagram` now.

This is much slower, but removes a memory leak. As `hasse_diagram` is hardly used with #28646, this seems to be reasonable.

Caching the face lattice does create a memory leak:

```
sage: import gc
sage: P = polytopes.cube()
sage: P.my_face_lattice = P.face_lattice()
sage: n = get_memory_usage()
sage: P = polytopes.cube()
sage: P.my_face_lattice = P.face_lattice()
sage: _ = gc.collect()
sage: n == get_memory_usage()
False
```

CC:  @jplab @laisrast

Keywords: polyhedron, face lattice

Branch/Commit: [6b7b5b6c17a645f55766666295a0424de8efde72](https://github.com/sagemath/sagetrac-mirror/commit/6b7b5b6c17a645f55766666295a0424de8efde72)

Reviewer: Jean-Philippe Labb√©, Matthias Koeppe

Author: Jonathan Kliem

Dependencies: #29583

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/28982





---

archive/issue_comments_564315.json:
```json
{
    "body": "Branch: [public/28982](https://github.com/sagemath/sagetrac-mirror/tree/public/28982)",
    "created_at": "2020-01-10T13:37:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564315",
    "user": "https://github.com/kliem"
}
```

Branch: [public/28982](https://github.com/sagemath/sagetrac-mirror/tree/public/28982)



---

archive/issue_comments_564316.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|\n|[242f34f](https://github.com/sagemath/sagetrac-mirror/commit/242f34f32bede8df8fa26b141d4a596897d898a6)|`add hasse_diagram to combinatorial polyhedron`|\n|[af84439](https://github.com/sagemath/sagetrac-mirror/commit/af84439c19a3dddd30b3dd42a1f51f4430eafc40)|`implemented method hasse diagram for polyhedra`|\n|[cfb153d](https://github.com/sagemath/sagetrac-mirror/commit/cfb153d6c9f2c110a2468a920a14f4fa3914735a)|`use combinatorial polyhedron to obtain face lattice of polyhedron`|",
    "created_at": "2020-01-10T13:38:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564316",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|
|[242f34f](https://github.com/sagemath/sagetrac-mirror/commit/242f34f32bede8df8fa26b141d4a596897d898a6)|`add hasse_diagram to combinatorial polyhedron`|
|[af84439](https://github.com/sagemath/sagetrac-mirror/commit/af84439c19a3dddd30b3dd42a1f51f4430eafc40)|`implemented method hasse diagram for polyhedra`|
|[cfb153d](https://github.com/sagemath/sagetrac-mirror/commit/cfb153d6c9f2c110a2468a920a14f4fa3914735a)|`use combinatorial polyhedron to obtain face lattice of polyhedron`|



---

archive/issue_comments_564317.json:
```json
{
    "body": "Commit: [cfb153d6c9f2c110a2468a920a14f4fa3914735a](https://github.com/sagemath/sagetrac-mirror/commit/cfb153d6c9f2c110a2468a920a14f4fa3914735a)",
    "created_at": "2020-01-10T13:38:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564317",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Commit: [cfb153d6c9f2c110a2468a920a14f4fa3914735a](https://github.com/sagemath/sagetrac-mirror/commit/cfb153d6c9f2c110a2468a920a14f4fa3914735a)



---

archive/issue_comments_564318.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-01-10T13:38:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564318",
    "user": "https://github.com/kliem"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_564319.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|\n|[41254c2](https://github.com/sagemath/sagetrac-mirror/commit/41254c28fc83112e7b3b001a1b12c2995613ca8f)|`fixed pyflakes warnings`|",
    "created_at": "2020-01-14T07:40:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564319",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|
|[41254c2](https://github.com/sagemath/sagetrac-mirror/commit/41254c28fc83112e7b3b001a1b12c2995613ca8f)|`fixed pyflakes warnings`|



---

archive/issue_comments_564320.json:
```json
{
    "body": "Changing commit from \"[cfb153d6c9f2c110a2468a920a14f4fa3914735a](https://github.com/sagemath/sagetrac-mirror/commit/cfb153d6c9f2c110a2468a920a14f4fa3914735a)\" to \"[41254c28fc83112e7b3b001a1b12c2995613ca8f](https://github.com/sagemath/sagetrac-mirror/commit/41254c28fc83112e7b3b001a1b12c2995613ca8f)\"",
    "created_at": "2020-01-14T07:40:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564320",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[cfb153d6c9f2c110a2468a920a14f4fa3914735a](https://github.com/sagemath/sagetrac-mirror/commit/cfb153d6c9f2c110a2468a920a14f4fa3914735a)" to "[41254c28fc83112e7b3b001a1b12c2995613ca8f](https://github.com/sagemath/sagetrac-mirror/commit/41254c28fc83112e7b3b001a1b12c2995613ca8f)"



---

archive/issue_comments_564321.json:
```json
{
    "body": "<a id='comment:5'></a>\nI changed to face lattice not to be set up with linear extension anymore.\n\n---\nNew commits:\n|                                                                                                                                          |                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|\n|[261feff](https://github.com/sagemath/sagetrac-mirror/commit/261feff30c6fff215512bff738bc2287a42243d4)|`add hasse_diagram to combinatorial polyhedron`|\n|[721cff6](https://github.com/sagemath/sagetrac-mirror/commit/721cff6ee960177aa50bd1722dfa1f5368a8e13f)|`implemented method hasse diagram for polyhedra`|\n|[0768b90](https://github.com/sagemath/sagetrac-mirror/commit/0768b909ebc73ed63825126918c0a7f49e8b0248)|`use combinatorial polyhedron to obtain face lattice of polyhedron`|\n|[c82545f](https://github.com/sagemath/sagetrac-mirror/commit/c82545f876bbdb772a0487e3f97ed4fc5f7b2d54)|`fixed pyflakes warnings`|\n|[f249c9d](https://github.com/sagemath/sagetrac-mirror/commit/f249c9db8be362dbd8aa7adac95b672eddd6d3b4)|`fixed failing doctest; face lattice can compute whether it is eulerian again`|",
    "created_at": "2020-02-12T14:53:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564321",
    "user": "https://github.com/kliem"
}
```

<a id='comment:5'></a>
I changed to face lattice not to be set up with linear extension anymore.

---
New commits:
|                                                                                                                                          |                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|
|[261feff](https://github.com/sagemath/sagetrac-mirror/commit/261feff30c6fff215512bff738bc2287a42243d4)|`add hasse_diagram to combinatorial polyhedron`|
|[721cff6](https://github.com/sagemath/sagetrac-mirror/commit/721cff6ee960177aa50bd1722dfa1f5368a8e13f)|`implemented method hasse diagram for polyhedra`|
|[0768b90](https://github.com/sagemath/sagetrac-mirror/commit/0768b909ebc73ed63825126918c0a7f49e8b0248)|`use combinatorial polyhedron to obtain face lattice of polyhedron`|
|[c82545f](https://github.com/sagemath/sagetrac-mirror/commit/c82545f876bbdb772a0487e3f97ed4fc5f7b2d54)|`fixed pyflakes warnings`|
|[f249c9d](https://github.com/sagemath/sagetrac-mirror/commit/f249c9db8be362dbd8aa7adac95b672eddd6d3b4)|`fixed failing doctest; face lattice can compute whether it is eulerian again`|



---

archive/issue_comments_564322.json:
```json
{
    "body": "Changing branch from \"[public/28982](https://github.com/sagemath/sagetrac-mirror/tree/public/28982)\" to \"[public/28982-reb](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb)\"",
    "created_at": "2020-02-12T14:53:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564322",
    "user": "https://github.com/kliem"
}
```

Changing branch from "[public/28982](https://github.com/sagemath/sagetrac-mirror/tree/public/28982)" to "[public/28982-reb](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb)"



---

archive/issue_comments_564323.json:
```json
{
    "body": "Changing commit from \"[41254c28fc83112e7b3b001a1b12c2995613ca8f](https://github.com/sagemath/sagetrac-mirror/commit/41254c28fc83112e7b3b001a1b12c2995613ca8f)\" to \"[f249c9db8be362dbd8aa7adac95b672eddd6d3b4](https://github.com/sagemath/sagetrac-mirror/commit/f249c9db8be362dbd8aa7adac95b672eddd6d3b4)\"",
    "created_at": "2020-02-12T14:53:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564323",
    "user": "https://github.com/kliem"
}
```

Changing commit from "[41254c28fc83112e7b3b001a1b12c2995613ca8f](https://github.com/sagemath/sagetrac-mirror/commit/41254c28fc83112e7b3b001a1b12c2995613ca8f)" to "[f249c9db8be362dbd8aa7adac95b672eddd6d3b4](https://github.com/sagemath/sagetrac-mirror/commit/f249c9db8be362dbd8aa7adac95b672eddd6d3b4)"



---

archive/issue_comments_564324.json:
```json
{
    "body": "<a id='comment:6'></a>\nFew comments:\n\n```\n-        Test that face lattice give no memory leak::\n+        Test that computing the face lattice does not lead to a memory leak::\n```\n\n```\n-        Return the hasse diagram of ``self``.\n+        Return the hasse diagram of the face lattice of ``self``.\n```\n\nI will go more in depth soon.\n\nDoes this mean that we can remove the file `hasse_diagram.py`?",
    "created_at": "2020-02-14T11:07:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564324",
    "user": "https://github.com/jplab"
}
```

<a id='comment:6'></a>
Few comments:

```
-        Test that face lattice give no memory leak::
+        Test that computing the face lattice does not lead to a memory leak::
```

```
-        Return the hasse diagram of ``self``.
+        Return the hasse diagram of the face lattice of ``self``.
```

I will go more in depth soon.

Does this mean that we can remove the file `hasse_diagram.py`?



---

archive/issue_comments_564325.json:
```json
{
    "body": "Changing commit from \"[f249c9db8be362dbd8aa7adac95b672eddd6d3b4](https://github.com/sagemath/sagetrac-mirror/commit/f249c9db8be362dbd8aa7adac95b672eddd6d3b4)\" to \"[f44afa26835ca7a4991864766c1f1c01c9e6f399](https://github.com/sagemath/sagetrac-mirror/commit/f44afa26835ca7a4991864766c1f1c01c9e6f399)\"",
    "created_at": "2020-02-14T12:10:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564325",
    "user": "https://github.com/kliem"
}
```

Changing commit from "[f249c9db8be362dbd8aa7adac95b672eddd6d3b4](https://github.com/sagemath/sagetrac-mirror/commit/f249c9db8be362dbd8aa7adac95b672eddd6d3b4)" to "[f44afa26835ca7a4991864766c1f1c01c9e6f399](https://github.com/sagemath/sagetrac-mirror/commit/f44afa26835ca7a4991864766c1f1c01c9e6f399)"



---

archive/issue_comments_564326.json:
```json
{
    "body": "<a id='comment:7'></a>\nNew commits:\n|                                                                                                                                          |                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|\n|[ef69d37](https://github.com/sagemath/sagetrac-mirror/commit/ef69d374c84ee644759c82db1e81e8a4ff99185d)|`add hasse_diagram to combinatorial polyhedron`|\n|[919af02](https://github.com/sagemath/sagetrac-mirror/commit/919af022109d85720cbdfb038e893749d6972a89)|`implemented method hasse diagram for polyhedra`|\n|[f040df6](https://github.com/sagemath/sagetrac-mirror/commit/f040df6ca9de3c2a43c829dcd60713b59236ba75)|`use combinatorial polyhedron to obtain face lattice of polyhedron`|\n|[f9f7a42](https://github.com/sagemath/sagetrac-mirror/commit/f9f7a42204f6080bfe1509188856a54223f3c1ef)|`fixed pyflakes warnings`|\n|[f306cd0](https://github.com/sagemath/sagetrac-mirror/commit/f306cd06f8ac9b89bde7e22a969e478d00362b54)|`fixed failing doctest; face lattice can compute whether it is eulerian again`|\n|[f44afa2](https://github.com/sagemath/sagetrac-mirror/commit/f44afa26835ca7a4991864766c1f1c01c9e6f399)|`improved documentation`|",
    "created_at": "2020-02-14T12:10:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564326",
    "user": "https://github.com/kliem"
}
```

<a id='comment:7'></a>
New commits:
|                                                                                                                                          |                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|
|[ef69d37](https://github.com/sagemath/sagetrac-mirror/commit/ef69d374c84ee644759c82db1e81e8a4ff99185d)|`add hasse_diagram to combinatorial polyhedron`|
|[919af02](https://github.com/sagemath/sagetrac-mirror/commit/919af022109d85720cbdfb038e893749d6972a89)|`implemented method hasse diagram for polyhedra`|
|[f040df6](https://github.com/sagemath/sagetrac-mirror/commit/f040df6ca9de3c2a43c829dcd60713b59236ba75)|`use combinatorial polyhedron to obtain face lattice of polyhedron`|
|[f9f7a42](https://github.com/sagemath/sagetrac-mirror/commit/f9f7a42204f6080bfe1509188856a54223f3c1ef)|`fixed pyflakes warnings`|
|[f306cd0](https://github.com/sagemath/sagetrac-mirror/commit/f306cd06f8ac9b89bde7e22a969e478d00362b54)|`fixed failing doctest; face lattice can compute whether it is eulerian again`|
|[f44afa2](https://github.com/sagemath/sagetrac-mirror/commit/f44afa26835ca7a4991864766c1f1c01c9e6f399)|`improved documentation`|



---

archive/issue_comments_564327.json:
```json
{
    "body": "Changing branch from \"[public/28982-reb](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb)\" to \"[public/28982-reb2](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb2)\"",
    "created_at": "2020-02-14T12:10:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564327",
    "user": "https://github.com/kliem"
}
```

Changing branch from "[public/28982-reb](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb)" to "[public/28982-reb2](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb2)"



---

archive/issue_comments_564328.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,3 +5,17 @@\n Instead of caching `face_lattice`, we cache `hasse_diagram` now.\n \n This is much slower, but removes a memory leak. As `hasse_diagram` is hardly used with #28646, this seems to be reasonable.\n+\n+Caching the face lattice does create a memory leak:\n+\n+```\n+sage: import gc\n+sage: P = polytopes.cube()\n+sage: P.my_face_lattice = P.face_lattice()\n+sage: n = get_memory_usage()\n+sage: P = polytopes.cube()\n+sage: P.my_face_lattice = P.face_lattice()\n+sage: _ = gc.collect()\n+sage: n == get_memory_usage()\n+False\n+```\n``````\n",
    "created_at": "2020-02-14T12:14:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564328",
    "user": "https://github.com/kliem"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,3 +5,17 @@
 Instead of caching `face_lattice`, we cache `hasse_diagram` now.
 
 This is much slower, but removes a memory leak. As `hasse_diagram` is hardly used with #28646, this seems to be reasonable.
+
+Caching the face lattice does create a memory leak:
+
+```
+sage: import gc
+sage: P = polytopes.cube()
+sage: P.my_face_lattice = P.face_lattice()
+sage: n = get_memory_usage()
+sage: P = polytopes.cube()
+sage: P.my_face_lattice = P.face_lattice()
+sage: _ = gc.collect()
+sage: n == get_memory_usage()
+False
+```
``````




---

archive/issue_comments_564329.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|\n|[e9b3201](https://github.com/sagemath/sagetrac-mirror/commit/e9b3201a8b6dd36d5edf0ac54e4d554d9aaff6b4)|`improved doctest, gc.collect should be run before the test as well`|",
    "created_at": "2020-02-14T12:17:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564329",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|
|[e9b3201](https://github.com/sagemath/sagetrac-mirror/commit/e9b3201a8b6dd36d5edf0ac54e4d554d9aaff6b4)|`improved doctest, gc.collect should be run before the test as well`|



---

archive/issue_comments_564330.json:
```json
{
    "body": "Changing commit from \"[f44afa26835ca7a4991864766c1f1c01c9e6f399](https://github.com/sagemath/sagetrac-mirror/commit/f44afa26835ca7a4991864766c1f1c01c9e6f399)\" to \"[e9b3201a8b6dd36d5edf0ac54e4d554d9aaff6b4](https://github.com/sagemath/sagetrac-mirror/commit/e9b3201a8b6dd36d5edf0ac54e4d554d9aaff6b4)\"",
    "created_at": "2020-02-14T12:17:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564330",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[f44afa26835ca7a4991864766c1f1c01c9e6f399](https://github.com/sagemath/sagetrac-mirror/commit/f44afa26835ca7a4991864766c1f1c01c9e6f399)" to "[e9b3201a8b6dd36d5edf0ac54e4d554d9aaff6b4](https://github.com/sagemath/sagetrac-mirror/commit/e9b3201a8b6dd36d5edf0ac54e4d554d9aaff6b4)"



---

archive/issue_events_082860.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28982#event-82860"
}
```



---

archive/issue_comments_564331.json:
```json
{
    "body": "<a id='comment:10'></a>\nBatch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564331",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>
Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_comments_564332.json:
```json
{
    "body": "Reviewer: Jean-Philippe Labb\u00e9",
    "created_at": "2020-04-20T09:43:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564332",
    "user": "https://github.com/jplab"
}
```

Reviewer: Jean-Philippe Labb√©



---

archive/issue_comments_564333.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-04-20T09:43:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564333",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_564334.json:
```json
{
    "body": "<a id='comment:11'></a>\nSuggestions:\n\n```diff\n+        .. NOTE::\n-            The face lattice is not cached, as long as this would create a memory leak.\n+            The face lattice is not cached, as long as this creates a memory leak, see :trac:`28982`.\n```\n\nHasse is a lastname, so you can capitalize it within the documentation.\n\nCould the function below have more information? Like which order is meant to be simulated here? Inclusion or lex on indices of vertices, etc? Just one more sentence to specify might be nice?\n\n```diff\n+    def __lt__(self, other):\n+        r\"\"\"\n+        Compare faces of the same polyhedron.\n+\n+        EXAMPLES::\n+\n+            sage: P = polytopes.simplex()\n+            sage: C = CombinatorialPolyhedron(P)\n+            sage: F1 = C.face_by_face_lattice_index(0)\n+            sage: F2 = C.face_by_face_lattice_index(1)\n+            sage: F1 < F2\n+            True\n+        \"\"\"\n+        return hash(self) < hash(other)\n```\n\nIs there a reason why the hasse diagram of the combinatorial polyhedron is not cached?",
    "created_at": "2020-04-20T09:43:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564334",
    "user": "https://github.com/jplab"
}
```

<a id='comment:11'></a>
Suggestions:

```diff
+        .. NOTE::
-            The face lattice is not cached, as long as this would create a memory leak.
+            The face lattice is not cached, as long as this creates a memory leak, see :trac:`28982`.
```

Hasse is a lastname, so you can capitalize it within the documentation.

Could the function below have more information? Like which order is meant to be simulated here? Inclusion or lex on indices of vertices, etc? Just one more sentence to specify might be nice?

```diff
+    def __lt__(self, other):
+        r"""
+        Compare faces of the same polyhedron.
+
+        EXAMPLES::
+
+            sage: P = polytopes.simplex()
+            sage: C = CombinatorialPolyhedron(P)
+            sage: F1 = C.face_by_face_lattice_index(0)
+            sage: F2 = C.face_by_face_lattice_index(1)
+            sage: F1 < F2
+            True
+        """
+        return hash(self) < hash(other)
```

Is there a reason why the hasse diagram of the combinatorial polyhedron is not cached?



---

archive/issue_comments_564335.json:
```json
{
    "body": "<a id='comment:12'></a>\nNew commits:\n|                                                                                                                                          |                                                                                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|\n|[e7093eb](https://github.com/sagemath/sagetrac-mirror/commit/e7093eb496300f2893730ca2d1188957b6c33623)|`Merge branch 'public/28982-reb2' of git://trac.sagemath.org/sage into public/28982-reb3`|\n|[b559ca1](https://github.com/sagemath/sagetrac-mirror/commit/b559ca190b5bd292476ae2b5393fe00f85c3b0a6)|`cache hasse_diagram of combinatorial polyhedron`|\n|[2fb6746](https://github.com/sagemath/sagetrac-mirror/commit/2fb67468570a72febd02bb5a8f39b92e7ca59e5f)|`improved documentation`|\n|[92842be](https://github.com/sagemath/sagetrac-mirror/commit/92842be2496dd8fd327f84f79a3dd3b3cf1dbfca)|`explain __lt__`|",
    "created_at": "2020-04-20T11:17:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564335",
    "user": "https://github.com/kliem"
}
```

<a id='comment:12'></a>
New commits:
|                                                                                                                                          |                                                                                         |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|
|[e7093eb](https://github.com/sagemath/sagetrac-mirror/commit/e7093eb496300f2893730ca2d1188957b6c33623)|`Merge branch 'public/28982-reb2' of git://trac.sagemath.org/sage into public/28982-reb3`|
|[b559ca1](https://github.com/sagemath/sagetrac-mirror/commit/b559ca190b5bd292476ae2b5393fe00f85c3b0a6)|`cache hasse_diagram of combinatorial polyhedron`|
|[2fb6746](https://github.com/sagemath/sagetrac-mirror/commit/2fb67468570a72febd02bb5a8f39b92e7ca59e5f)|`improved documentation`|
|[92842be](https://github.com/sagemath/sagetrac-mirror/commit/92842be2496dd8fd327f84f79a3dd3b3cf1dbfca)|`explain __lt__`|



---

archive/issue_comments_564336.json:
```json
{
    "body": "Changing branch from \"[public/28982-reb2](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb2)\" to \"[public/28982-reb3](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb3)\"",
    "created_at": "2020-04-20T11:17:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564336",
    "user": "https://github.com/kliem"
}
```

Changing branch from "[public/28982-reb2](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb2)" to "[public/28982-reb3](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb3)"



---

archive/issue_comments_564337.json:
```json
{
    "body": "Changing commit from \"[e9b3201a8b6dd36d5edf0ac54e4d554d9aaff6b4](https://github.com/sagemath/sagetrac-mirror/commit/e9b3201a8b6dd36d5edf0ac54e4d554d9aaff6b4)\" to \"[92842be2496dd8fd327f84f79a3dd3b3cf1dbfca](https://github.com/sagemath/sagetrac-mirror/commit/92842be2496dd8fd327f84f79a3dd3b3cf1dbfca)\"",
    "created_at": "2020-04-20T11:17:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564337",
    "user": "https://github.com/kliem"
}
```

Changing commit from "[e9b3201a8b6dd36d5edf0ac54e4d554d9aaff6b4](https://github.com/sagemath/sagetrac-mirror/commit/e9b3201a8b6dd36d5edf0ac54e4d554d9aaff6b4)" to "[92842be2496dd8fd327f84f79a3dd3b3cf1dbfca](https://github.com/sagemath/sagetrac-mirror/commit/92842be2496dd8fd327f84f79a3dd3b3cf1dbfca)"



---

archive/issue_comments_564338.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-04-20T11:17:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564338",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_564339.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-04-20T14:48:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564339",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_564340.json:
```json
{
    "body": "<a id='comment:13'></a>\nGreat! Thanks for the quick changes. You forgot a capital \"H\" in the last commit. Apart from that it is good to go!\n\nonce you make this last typo change, you can set it to positive review on my behalf.",
    "created_at": "2020-04-20T14:48:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564340",
    "user": "https://github.com/jplab"
}
```

<a id='comment:13'></a>
Great! Thanks for the quick changes. You forgot a capital "H" in the last commit. Apart from that it is good to go!

once you make this last typo change, you can set it to positive review on my behalf.



---

archive/issue_comments_564341.json:
```json
{
    "body": "Changing commit from \"[92842be2496dd8fd327f84f79a3dd3b3cf1dbfca](https://github.com/sagemath/sagetrac-mirror/commit/92842be2496dd8fd327f84f79a3dd3b3cf1dbfca)\" to \"[708dd7dcf0dbc70c9c53a3c4946624a389b2580e](https://github.com/sagemath/sagetrac-mirror/commit/708dd7dcf0dbc70c9c53a3c4946624a389b2580e)\"",
    "created_at": "2020-04-20T14:50:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564341",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[92842be2496dd8fd327f84f79a3dd3b3cf1dbfca](https://github.com/sagemath/sagetrac-mirror/commit/92842be2496dd8fd327f84f79a3dd3b3cf1dbfca)" to "[708dd7dcf0dbc70c9c53a3c4946624a389b2580e](https://github.com/sagemath/sagetrac-mirror/commit/708dd7dcf0dbc70c9c53a3c4946624a389b2580e)"



---

archive/issue_comments_564342.json:
```json
{
    "body": "<a id='comment:14'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------|\n|[708dd7d](https://github.com/sagemath/sagetrac-mirror/commit/708dd7dcf0dbc70c9c53a3c4946624a389b2580e)|`typo`|",
    "created_at": "2020-04-20T14:50:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564342",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |      |
|-------------------------------------------------------------------------------------------------------------------------------------------|------|
|[708dd7d](https://github.com/sagemath/sagetrac-mirror/commit/708dd7dcf0dbc70c9c53a3c4946624a389b2580e)|`typo`|



---

archive/issue_comments_564343.json:
```json
{
    "body": "<a id='comment:15'></a>\nThank you.",
    "created_at": "2020-04-20T14:50:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564343",
    "user": "https://github.com/kliem"
}
```

<a id='comment:15'></a>
Thank you.



---

archive/issue_comments_564344.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2020-04-20T14:50:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564344",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_564345.json:
```json
{
    "body": "<a id='comment:16'></a>\nMerge conflict",
    "created_at": "2020-04-22T22:42:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564345",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:16'></a>
Merge conflict



---

archive/issue_comments_564346.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2020-04-22T22:42:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564346",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_564347.json:
```json
{
    "body": "Changing branch from \"[public/28982-reb3](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb3)\" to \"[public/28982-reb4](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb4)\"",
    "created_at": "2020-04-24T05:43:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564347",
    "user": "https://github.com/kliem"
}
```

Changing branch from "[public/28982-reb3](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb3)" to "[public/28982-reb4](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb4)"



---

archive/issue_comments_564348.json:
```json
{
    "body": "Changing commit from \"[708dd7dcf0dbc70c9c53a3c4946624a389b2580e](https://github.com/sagemath/sagetrac-mirror/commit/708dd7dcf0dbc70c9c53a3c4946624a389b2580e)\" to \"[819d5433d00510a69bc43b8138296713cd9853f5](https://github.com/sagemath/sagetrac-mirror/commit/819d5433d00510a69bc43b8138296713cd9853f5)\"",
    "created_at": "2020-04-24T05:43:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564348",
    "user": "https://github.com/kliem"
}
```

Changing commit from "[708dd7dcf0dbc70c9c53a3c4946624a389b2580e](https://github.com/sagemath/sagetrac-mirror/commit/708dd7dcf0dbc70c9c53a3c4946624a389b2580e)" to "[819d5433d00510a69bc43b8138296713cd9853f5](https://github.com/sagemath/sagetrac-mirror/commit/819d5433d00510a69bc43b8138296713cd9853f5)"



---

archive/issue_comments_564349.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-04-24T05:43:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564349",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_564350.json:
```json
{
    "body": "<a id='comment:17'></a>\nLast 10 new commits:\n|                                                                                                                                          |                                                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|\n|[d7bc78d](https://github.com/sagemath/sagetrac-mirror/commit/d7bc78d4260874e7a0755a338f48c96e39cb4726)|`use combinatorial polyhedron to obtain face lattice of polyhedron`|\n|[d6f874e](https://github.com/sagemath/sagetrac-mirror/commit/d6f874e2e9fe19158e2a45fd61151ed2f07b6817)|`fixed pyflakes warnings`|\n|[7e53757](https://github.com/sagemath/sagetrac-mirror/commit/7e537571f2934c5d03cc1241f4c53ec37f6e601a)|`fixed failing doctest; face lattice can compute whether it is eulerian again`|\n|[015232c](https://github.com/sagemath/sagetrac-mirror/commit/015232c59ab2ede7a59e7d7cc1a531d60c075fc4)|`improved documentation`|\n|[651e621](https://github.com/sagemath/sagetrac-mirror/commit/651e621aaa98e97b912075da57f4bbda3f5d9819)|`improved doctest, gc.collect should be run before the test as well`|\n|[898feee](https://github.com/sagemath/sagetrac-mirror/commit/898feee842a34650f25e17c0eee0e07f0a935930)|`cache hasse_diagram of combinatorial polyhedron`|\n|[ff18524](https://github.com/sagemath/sagetrac-mirror/commit/ff18524385890fcbc4fa5a7147d91984ab2161ff)|`improved documentation`|\n|[6497d62](https://github.com/sagemath/sagetrac-mirror/commit/6497d62b58b97a0216897ed8b6b8497e9e20a669)|`explain __lt__`|\n|[4e19d6c](https://github.com/sagemath/sagetrac-mirror/commit/4e19d6c77bd9b2bfe14d245729c0259577f157be)|`typo`|\n|[819d543](https://github.com/sagemath/sagetrac-mirror/commit/819d5433d00510a69bc43b8138296713cd9853f5)|`fix failing doctest`|",
    "created_at": "2020-04-24T05:43:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564350",
    "user": "https://github.com/kliem"
}
```

<a id='comment:17'></a>
Last 10 new commits:
|                                                                                                                                          |                                                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|
|[d7bc78d](https://github.com/sagemath/sagetrac-mirror/commit/d7bc78d4260874e7a0755a338f48c96e39cb4726)|`use combinatorial polyhedron to obtain face lattice of polyhedron`|
|[d6f874e](https://github.com/sagemath/sagetrac-mirror/commit/d6f874e2e9fe19158e2a45fd61151ed2f07b6817)|`fixed pyflakes warnings`|
|[7e53757](https://github.com/sagemath/sagetrac-mirror/commit/7e537571f2934c5d03cc1241f4c53ec37f6e601a)|`fixed failing doctest; face lattice can compute whether it is eulerian again`|
|[015232c](https://github.com/sagemath/sagetrac-mirror/commit/015232c59ab2ede7a59e7d7cc1a531d60c075fc4)|`improved documentation`|
|[651e621](https://github.com/sagemath/sagetrac-mirror/commit/651e621aaa98e97b912075da57f4bbda3f5d9819)|`improved doctest, gc.collect should be run before the test as well`|
|[898feee](https://github.com/sagemath/sagetrac-mirror/commit/898feee842a34650f25e17c0eee0e07f0a935930)|`cache hasse_diagram of combinatorial polyhedron`|
|[ff18524](https://github.com/sagemath/sagetrac-mirror/commit/ff18524385890fcbc4fa5a7147d91984ab2161ff)|`improved documentation`|
|[6497d62](https://github.com/sagemath/sagetrac-mirror/commit/6497d62b58b97a0216897ed8b6b8497e9e20a669)|`explain __lt__`|
|[4e19d6c](https://github.com/sagemath/sagetrac-mirror/commit/4e19d6c77bd9b2bfe14d245729c0259577f157be)|`typo`|
|[819d543](https://github.com/sagemath/sagetrac-mirror/commit/819d5433d00510a69bc43b8138296713cd9853f5)|`fix failing doctest`|



---

archive/issue_comments_564351.json:
```json
{
    "body": "<a id='comment:18'></a>\nIt doesn't seem to build... See patchbot.",
    "created_at": "2020-04-27T13:29:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564351",
    "user": "https://github.com/jplab"
}
```

<a id='comment:18'></a>
It doesn't seem to build... See patchbot.



---

archive/issue_comments_564352.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-04-27T13:29:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564352",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_564353.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-04-27T13:42:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564353",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_564354.json:
```json
{
    "body": "Changing branch from \"[public/28982-reb4](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb4)\" to \"[public/28982-reb5](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb5)\"",
    "created_at": "2020-04-27T13:42:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564354",
    "user": "https://github.com/kliem"
}
```

Changing branch from "[public/28982-reb4](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb4)" to "[public/28982-reb5](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb5)"



---

archive/issue_comments_564355.json:
```json
{
    "body": "Changing commit from \"[819d5433d00510a69bc43b8138296713cd9853f5](https://github.com/sagemath/sagetrac-mirror/commit/819d5433d00510a69bc43b8138296713cd9853f5)\" to \"[0e865a04996fe35097ffd04fbdb879b97732e2ce](https://github.com/sagemath/sagetrac-mirror/commit/0e865a04996fe35097ffd04fbdb879b97732e2ce)\"",
    "created_at": "2020-04-27T13:42:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564355",
    "user": "https://github.com/kliem"
}
```

Changing commit from "[819d5433d00510a69bc43b8138296713cd9853f5](https://github.com/sagemath/sagetrac-mirror/commit/819d5433d00510a69bc43b8138296713cd9853f5)" to "[0e865a04996fe35097ffd04fbdb879b97732e2ce](https://github.com/sagemath/sagetrac-mirror/commit/0e865a04996fe35097ffd04fbdb879b97732e2ce)"



---

archive/issue_comments_564356.json:
```json
{
    "body": "<a id='comment:19'></a>\nLast 10 new commits:\n|                                                                                                                                          |                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|\n|[5edeaa3](https://github.com/sagemath/sagetrac-mirror/commit/5edeaa3c1b9f3fb8efb3796f559edc6a7a064d79)|`fixed pyflakes warnings`|\n|[00f234c](https://github.com/sagemath/sagetrac-mirror/commit/00f234c90e0c7f3241c21e56e8878235249849ab)|`fixed failing doctest; face lattice can compute whether it is eulerian again`|\n|[ab0a789](https://github.com/sagemath/sagetrac-mirror/commit/ab0a78907a83dcfc1a767f4ad30bcaca4ca717af)|`improved documentation`|\n|[fefe3b2](https://github.com/sagemath/sagetrac-mirror/commit/fefe3b239a952420d1da9a661785a8af74ac4bb4)|`improved doctest, gc.collect should be run before the test as well`|\n|[4bc4957](https://github.com/sagemath/sagetrac-mirror/commit/4bc4957ac07df2b9fbae47033eaafc9b68ba455e)|`cache hasse_diagram of combinatorial polyhedron`|\n|[381f7d9](https://github.com/sagemath/sagetrac-mirror/commit/381f7d9c935cef68faa849c18557306ae399761b)|`improved documentation`|\n|[404efca](https://github.com/sagemath/sagetrac-mirror/commit/404efca5e0a4845e10f120b90d604df3ec0d9cb4)|`explain __lt__`|\n|[84746b1](https://github.com/sagemath/sagetrac-mirror/commit/84746b16667ea8169b85e24871a869afc6522711)|`typo`|\n|[587738d](https://github.com/sagemath/sagetrac-mirror/commit/587738db19c697f53f952eabe0fe58747653fb99)|`fix failing doctest`|\n|[0e865a0](https://github.com/sagemath/sagetrac-mirror/commit/0e865a04996fe35097ffd04fbdb879b97732e2ce)|`missing import`|",
    "created_at": "2020-04-27T13:42:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564356",
    "user": "https://github.com/kliem"
}
```

<a id='comment:19'></a>
Last 10 new commits:
|                                                                                                                                          |                         |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|
|[5edeaa3](https://github.com/sagemath/sagetrac-mirror/commit/5edeaa3c1b9f3fb8efb3796f559edc6a7a064d79)|`fixed pyflakes warnings`|
|[00f234c](https://github.com/sagemath/sagetrac-mirror/commit/00f234c90e0c7f3241c21e56e8878235249849ab)|`fixed failing doctest; face lattice can compute whether it is eulerian again`|
|[ab0a789](https://github.com/sagemath/sagetrac-mirror/commit/ab0a78907a83dcfc1a767f4ad30bcaca4ca717af)|`improved documentation`|
|[fefe3b2](https://github.com/sagemath/sagetrac-mirror/commit/fefe3b239a952420d1da9a661785a8af74ac4bb4)|`improved doctest, gc.collect should be run before the test as well`|
|[4bc4957](https://github.com/sagemath/sagetrac-mirror/commit/4bc4957ac07df2b9fbae47033eaafc9b68ba455e)|`cache hasse_diagram of combinatorial polyhedron`|
|[381f7d9](https://github.com/sagemath/sagetrac-mirror/commit/381f7d9c935cef68faa849c18557306ae399761b)|`improved documentation`|
|[404efca](https://github.com/sagemath/sagetrac-mirror/commit/404efca5e0a4845e10f120b90d604df3ec0d9cb4)|`explain __lt__`|
|[84746b1](https://github.com/sagemath/sagetrac-mirror/commit/84746b16667ea8169b85e24871a869afc6522711)|`typo`|
|[587738d](https://github.com/sagemath/sagetrac-mirror/commit/587738db19c697f53f952eabe0fe58747653fb99)|`fix failing doctest`|
|[0e865a0](https://github.com/sagemath/sagetrac-mirror/commit/0e865a04996fe35097ffd04fbdb879b97732e2ce)|`missing import`|



---

archive/issue_comments_564357.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-05-11T13:24:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564357",
    "user": "https://github.com/jplab"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_564358.json:
```json
{
    "body": "<a id='comment:20'></a>\nLooks good to me now.",
    "created_at": "2020-05-11T13:24:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564358",
    "user": "https://github.com/jplab"
}
```

<a id='comment:20'></a>
Looks good to me now.



---

archive/issue_comments_564359.json:
```json
{
    "body": "<a id='comment:21'></a>\n\n```\nsage -t --long --warn-long 36.4 src/sage/geometry/polyhedron/face.py\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/face.py\", line 454, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation\nFailed example:\n    face = p.face_lattice()[5]\nException raised:\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation[1]>\", line 1, in <module>\n        face = p.face_lattice()[Integer(5)]\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/geometry/polyhedron/base.py\", line 5873, in face_lattice\n        return FiniteLatticePoset(self.hasse_diagram())\n      File \"sage/misc/cachefunc.pyx\", line 2310, in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (build/cythonized/sage/misc/cachefunc.c:12712)\n        self.cache = f(self._instance)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/geometry/polyhedron/base.py\", line 5901, in hasse_diagram\n        return D.relabel(index_to_polyhedron_face, inplace=False, immutable=True)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py\", line 21864, in relabel\n        complete_partial_function = complete_partial_function)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py\", line 21929, in relabel\n        raise NotImplementedError(\"Non injective relabeling\")\n    NotImplementedError: Non injective relabeling\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/face.py\", line 455, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation\nFailed example:\n    face\nException raised:\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation[2]>\", line 1, in <module>\n        face\n    NameError: name 'face' is not defined\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/face.py\", line 457, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation\nFailed example:\n    face.ambient_Hrepresentation()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation[3]>\", line 1, in <module>\n        face.ambient_Hrepresentation()\n    NameError: name 'face' is not defined\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/face.py\", line 462, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation\nFailed example:\n    face.n_ambient_Hrepresentation()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation[4]>\", line 1, in <module>\n        face.n_ambient_Hrepresentation()\n    NameError: name 'face' is not defined\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/face.py\", line 481, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation\nFailed example:\n    face = p.face_lattice()[5]\nException raised:\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation[1]>\", line 1, in <module>\n        face = p.face_lattice()[Integer(5)]\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/geometry/polyhedron/base.py\", line 5873, in face_lattice\n        return FiniteLatticePoset(self.hasse_diagram())\n      File \"sage/misc/cachefunc.pyx\", line 2310, in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (build/cythonized/sage/misc/cachefunc.c:12712)\n        self.cache = f(self._instance)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/geometry/polyhedron/base.py\", line 5901, in hasse_diagram\n        return D.relabel(index_to_polyhedron_face, inplace=False, immutable=True)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py\", line 21864, in relabel\n        complete_partial_function = complete_partial_function)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py\", line 21929, in relabel\n        raise NotImplementedError(\"Non injective relabeling\")\n    NotImplementedError: Non injective relabeling\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/face.py\", line 482, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation\nFailed example:\n    face\nException raised:\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation[2]>\", line 1, in <module>\n        face\n    NameError: name 'face' is not defined\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/face.py\", line 484, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation\nFailed example:\n    face.ambient_Vrepresentation()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation[3]>\", line 1, in <module>\n        face.ambient_Vrepresentation()\n    NameError: name 'face' is not defined\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/face.py\", line 486, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation\nFailed example:\n    face.n_ambient_Vrepresentation()\nException raised:\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 680, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1104, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation[4]>\", line 1, in <module>\n        face.n_ambient_Vrepresentation()\n    NameError: name 'face' is not defined\n**********************************************************************\n2 items had failures:\n   4 of   6 in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation\n   4 of   6 in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation\n    [119 tests, 8 failures, 0.44 s]\n```",
    "created_at": "2020-05-21T17:51:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564359",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:21'></a>

```
sage -t --long --warn-long 36.4 src/sage/geometry/polyhedron/face.py
**********************************************************************
File "src/sage/geometry/polyhedron/face.py", line 454, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation
Failed example:
    face = p.face_lattice()[5]
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation[1]>", line 1, in <module>
        face = p.face_lattice()[Integer(5)]
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/geometry/polyhedron/base.py", line 5873, in face_lattice
        return FiniteLatticePoset(self.hasse_diagram())
      File "sage/misc/cachefunc.pyx", line 2310, in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (build/cythonized/sage/misc/cachefunc.c:12712)
        self.cache = f(self._instance)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/geometry/polyhedron/base.py", line 5901, in hasse_diagram
        return D.relabel(index_to_polyhedron_face, inplace=False, immutable=True)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py", line 21864, in relabel
        complete_partial_function = complete_partial_function)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py", line 21929, in relabel
        raise NotImplementedError("Non injective relabeling")
    NotImplementedError: Non injective relabeling
**********************************************************************
File "src/sage/geometry/polyhedron/face.py", line 455, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation
Failed example:
    face
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation[2]>", line 1, in <module>
        face
    NameError: name 'face' is not defined
**********************************************************************
File "src/sage/geometry/polyhedron/face.py", line 457, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation
Failed example:
    face.ambient_Hrepresentation()
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation[3]>", line 1, in <module>
        face.ambient_Hrepresentation()
    NameError: name 'face' is not defined
**********************************************************************
File "src/sage/geometry/polyhedron/face.py", line 462, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation
Failed example:
    face.n_ambient_Hrepresentation()
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation[4]>", line 1, in <module>
        face.n_ambient_Hrepresentation()
    NameError: name 'face' is not defined
**********************************************************************
File "src/sage/geometry/polyhedron/face.py", line 481, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation
Failed example:
    face = p.face_lattice()[5]
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation[1]>", line 1, in <module>
        face = p.face_lattice()[Integer(5)]
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/geometry/polyhedron/base.py", line 5873, in face_lattice
        return FiniteLatticePoset(self.hasse_diagram())
      File "sage/misc/cachefunc.pyx", line 2310, in sage.misc.cachefunc.CachedMethodCallerNoArgs.__call__ (build/cythonized/sage/misc/cachefunc.c:12712)
        self.cache = f(self._instance)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/geometry/polyhedron/base.py", line 5901, in hasse_diagram
        return D.relabel(index_to_polyhedron_face, inplace=False, immutable=True)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py", line 21864, in relabel
        complete_partial_function = complete_partial_function)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/graphs/generic_graph.py", line 21929, in relabel
        raise NotImplementedError("Non injective relabeling")
    NotImplementedError: Non injective relabeling
**********************************************************************
File "src/sage/geometry/polyhedron/face.py", line 482, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation
Failed example:
    face
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation[2]>", line 1, in <module>
        face
    NameError: name 'face' is not defined
**********************************************************************
File "src/sage/geometry/polyhedron/face.py", line 484, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation
Failed example:
    face.ambient_Vrepresentation()
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation[3]>", line 1, in <module>
        face.ambient_Vrepresentation()
    NameError: name 'face' is not defined
**********************************************************************
File "src/sage/geometry/polyhedron/face.py", line 486, in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation
Failed example:
    face.n_ambient_Vrepresentation()
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 680, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1104, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation[4]>", line 1, in <module>
        face.n_ambient_Vrepresentation()
    NameError: name 'face' is not defined
**********************************************************************
2 items had failures:
   4 of   6 in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Hrepresentation
   4 of   6 in sage.geometry.polyhedron.face.PolyhedronFace.n_ambient_Vrepresentation
    [119 tests, 8 failures, 0.44 s]
```



---

archive/issue_comments_564360.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2020-05-21T17:51:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564360",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_564361.json:
```json
{
    "body": "Dependencies: #29583, #28894",
    "created_at": "2020-05-25T06:43:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564361",
    "user": "https://github.com/kliem"
}
```

Dependencies: #29583, #28894



---

archive/issue_comments_564362.json:
```json
{
    "body": "Changing dependencies from \"#29583, #28894\" to \"#29583\"",
    "created_at": "2020-05-25T07:33:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564362",
    "user": "https://github.com/kliem"
}
```

Changing dependencies from "#29583, #28894" to "#29583"



---

archive/issue_comments_564363.json:
```json
{
    "body": "Changing branch from \"[public/28982-reb5](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb5)\" to \"[public/28982-reb6](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb6)\"",
    "created_at": "2020-05-25T08:17:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564363",
    "user": "https://github.com/kliem"
}
```

Changing branch from "[public/28982-reb5](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb5)" to "[public/28982-reb6](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb6)"



---

archive/issue_comments_564364.json:
```json
{
    "body": "<a id='comment:24'></a>\nI rebased on top of #29583 (as there is some merge conflict).\n\nI also fixed the error in #28894, which caused the doctest failure. Now this ticket works by itself and on top of #28894. At least the following tests pass on my machine with and without #28894:\n\n```\nsage -t --long -p 8 src/doc/en/thematic_tutorials/geometry\nsage -t --long -p 8 src/sage/geometry/polyhedron/\nsage -t --long -p 8 src/sage/plot/\n```\n\n---\nLast 10 new commits:\n|                                                                                                                                          |                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|\n|[cb5e58a](https://github.com/sagemath/sagetrac-mirror/commit/cb5e58a5311a3ee2d8588e4c0341b9e0f3ee43ad)|`fixed pyflakes warnings`|\n|[76a7247](https://github.com/sagemath/sagetrac-mirror/commit/76a724754d796922c758de8e7494ada58bf07f2d)|`fixed failing doctest; face lattice can compute whether it is eulerian again`|\n|[f0c9f6f](https://github.com/sagemath/sagetrac-mirror/commit/f0c9f6fb0cb85eb5398da3c62eeb8e26b7d81fd5)|`improved documentation`|\n|[b76f653](https://github.com/sagemath/sagetrac-mirror/commit/b76f65394eae9d3515ac96b67e951c0f495e7044)|`improved doctest, gc.collect should be run before the test as well`|\n|[a405173](https://github.com/sagemath/sagetrac-mirror/commit/a405173887f714b4e9919da0414aa8543dc02723)|`cache hasse_diagram of combinatorial polyhedron`|\n|[d2c5332](https://github.com/sagemath/sagetrac-mirror/commit/d2c5332c4acf5f228f5426bc3e33d6eaf540a54c)|`improved documentation`|\n|[e59938a](https://github.com/sagemath/sagetrac-mirror/commit/e59938a657f0135f1b82e3011218ae21245c5350)|`explain __lt__`|\n|[8fbc9c2](https://github.com/sagemath/sagetrac-mirror/commit/8fbc9c251e79f30c3983a48b2d105dd0270d783a)|`typo`|\n|[0fbd87d](https://github.com/sagemath/sagetrac-mirror/commit/0fbd87d405059e50cfffea7ab0ee9baa9403d2a4)|`fix failing doctest`|\n|[f4e1dec](https://github.com/sagemath/sagetrac-mirror/commit/f4e1deccef14f7aa3dcf1e19241ac042157e4f92)|`missing import`|",
    "created_at": "2020-05-25T08:17:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564364",
    "user": "https://github.com/kliem"
}
```

<a id='comment:24'></a>
I rebased on top of #29583 (as there is some merge conflict).

I also fixed the error in #28894, which caused the doctest failure. Now this ticket works by itself and on top of #28894. At least the following tests pass on my machine with and without #28894:

```
sage -t --long -p 8 src/doc/en/thematic_tutorials/geometry
sage -t --long -p 8 src/sage/geometry/polyhedron/
sage -t --long -p 8 src/sage/plot/
```

---
Last 10 new commits:
|                                                                                                                                          |                         |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|
|[cb5e58a](https://github.com/sagemath/sagetrac-mirror/commit/cb5e58a5311a3ee2d8588e4c0341b9e0f3ee43ad)|`fixed pyflakes warnings`|
|[76a7247](https://github.com/sagemath/sagetrac-mirror/commit/76a724754d796922c758de8e7494ada58bf07f2d)|`fixed failing doctest; face lattice can compute whether it is eulerian again`|
|[f0c9f6f](https://github.com/sagemath/sagetrac-mirror/commit/f0c9f6fb0cb85eb5398da3c62eeb8e26b7d81fd5)|`improved documentation`|
|[b76f653](https://github.com/sagemath/sagetrac-mirror/commit/b76f65394eae9d3515ac96b67e951c0f495e7044)|`improved doctest, gc.collect should be run before the test as well`|
|[a405173](https://github.com/sagemath/sagetrac-mirror/commit/a405173887f714b4e9919da0414aa8543dc02723)|`cache hasse_diagram of combinatorial polyhedron`|
|[d2c5332](https://github.com/sagemath/sagetrac-mirror/commit/d2c5332c4acf5f228f5426bc3e33d6eaf540a54c)|`improved documentation`|
|[e59938a](https://github.com/sagemath/sagetrac-mirror/commit/e59938a657f0135f1b82e3011218ae21245c5350)|`explain __lt__`|
|[8fbc9c2](https://github.com/sagemath/sagetrac-mirror/commit/8fbc9c251e79f30c3983a48b2d105dd0270d783a)|`typo`|
|[0fbd87d](https://github.com/sagemath/sagetrac-mirror/commit/0fbd87d405059e50cfffea7ab0ee9baa9403d2a4)|`fix failing doctest`|
|[f4e1dec](https://github.com/sagemath/sagetrac-mirror/commit/f4e1deccef14f7aa3dcf1e19241ac042157e4f92)|`missing import`|



---

archive/issue_comments_564365.json:
```json
{
    "body": "Changing commit from \"[0e865a04996fe35097ffd04fbdb879b97732e2ce](https://github.com/sagemath/sagetrac-mirror/commit/0e865a04996fe35097ffd04fbdb879b97732e2ce)\" to \"[f4e1deccef14f7aa3dcf1e19241ac042157e4f92](https://github.com/sagemath/sagetrac-mirror/commit/f4e1deccef14f7aa3dcf1e19241ac042157e4f92)\"",
    "created_at": "2020-05-25T08:17:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564365",
    "user": "https://github.com/kliem"
}
```

Changing commit from "[0e865a04996fe35097ffd04fbdb879b97732e2ce](https://github.com/sagemath/sagetrac-mirror/commit/0e865a04996fe35097ffd04fbdb879b97732e2ce)" to "[f4e1deccef14f7aa3dcf1e19241ac042157e4f92](https://github.com/sagemath/sagetrac-mirror/commit/f4e1deccef14f7aa3dcf1e19241ac042157e4f92)"



---

archive/issue_comments_564366.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-05-25T08:17:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564366",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_564367.json:
```json
{
    "body": "<a id='comment:26'></a>\nNeeds rebase (build fails).",
    "created_at": "2020-08-13T05:18:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564367",
    "user": "https://github.com/kliem"
}
```

<a id='comment:26'></a>
Needs rebase (build fails).



---

archive/issue_comments_564368.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-08-13T05:18:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564368",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_564369.json:
```json
{
    "body": "Changing branch from \"[public/28982-reb6](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb6)\" to \"[public/28982-reb7](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb7)\"",
    "created_at": "2020-08-13T05:43:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564369",
    "user": "https://github.com/kliem"
}
```

Changing branch from "[public/28982-reb6](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb6)" to "[public/28982-reb7](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb7)"



---

archive/issue_comments_564370.json:
```json
{
    "body": "<a id='comment:27'></a>\nNew commits:\n|                                                                                                                                          |                                                                                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|\n|[4596af9](https://github.com/sagemath/sagetrac-mirror/commit/4596af9661a84eadd9f392843012917fba3665b6)|`Merge branch 'public/28982-reb6' of git://trac.sagemath.org/sage into public/28982-reb7`|\n|[2297474](https://github.com/sagemath/sagetrac-mirror/commit/22974744b2b580cf94737ca9d04734d89687b73e)|`import DiGraph in time`|",
    "created_at": "2020-08-13T05:43:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564370",
    "user": "https://github.com/kliem"
}
```

<a id='comment:27'></a>
New commits:
|                                                                                                                                          |                                                                                         |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|
|[4596af9](https://github.com/sagemath/sagetrac-mirror/commit/4596af9661a84eadd9f392843012917fba3665b6)|`Merge branch 'public/28982-reb6' of git://trac.sagemath.org/sage into public/28982-reb7`|
|[2297474](https://github.com/sagemath/sagetrac-mirror/commit/22974744b2b580cf94737ca9d04734d89687b73e)|`import DiGraph in time`|



---

archive/issue_comments_564371.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-08-13T05:43:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564371",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_564372.json:
```json
{
    "body": "Changing commit from \"[f4e1deccef14f7aa3dcf1e19241ac042157e4f92](https://github.com/sagemath/sagetrac-mirror/commit/f4e1deccef14f7aa3dcf1e19241ac042157e4f92)\" to \"[22974744b2b580cf94737ca9d04734d89687b73e](https://github.com/sagemath/sagetrac-mirror/commit/22974744b2b580cf94737ca9d04734d89687b73e)\"",
    "created_at": "2020-08-13T05:43:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564372",
    "user": "https://github.com/kliem"
}
```

Changing commit from "[f4e1deccef14f7aa3dcf1e19241ac042157e4f92](https://github.com/sagemath/sagetrac-mirror/commit/f4e1deccef14f7aa3dcf1e19241ac042157e4f92)" to "[22974744b2b580cf94737ca9d04734d89687b73e](https://github.com/sagemath/sagetrac-mirror/commit/22974744b2b580cf94737ca9d04734d89687b73e)"



---

archive/issue_comments_564373.json:
```json
{
    "body": "<a id='comment:28'></a>\n\n```\n+    if polyhedron.dimension() == 0:\n+        # In case of the 0-dimensional polyhedron,\n+        # there is a facets but no inequality.\n+        H_indices = tuple(range(n_equations))\n+\n```\nThe comment needs rewording",
    "created_at": "2020-08-27T04:16:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564373",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:28'></a>

```
+    if polyhedron.dimension() == 0:
+        # In case of the 0-dimensional polyhedron,
+        # there is a facets but no inequality.
+        H_indices = tuple(range(n_equations))
+
```
The comment needs rewording



---

archive/issue_comments_564374.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-08-27T04:17:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564374",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_564375.json:
```json
{
    "body": "Changing commit from \"[22974744b2b580cf94737ca9d04734d89687b73e](https://github.com/sagemath/sagetrac-mirror/commit/22974744b2b580cf94737ca9d04734d89687b73e)\" to \"[92487de288ea07cc6f39df2befb5383935285537](https://github.com/sagemath/sagetrac-mirror/commit/92487de288ea07cc6f39df2befb5383935285537)\"",
    "created_at": "2020-08-27T05:37:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564375",
    "user": "https://github.com/kliem"
}
```

Changing commit from "[22974744b2b580cf94737ca9d04734d89687b73e](https://github.com/sagemath/sagetrac-mirror/commit/22974744b2b580cf94737ca9d04734d89687b73e)" to "[92487de288ea07cc6f39df2befb5383935285537](https://github.com/sagemath/sagetrac-mirror/commit/92487de288ea07cc6f39df2befb5383935285537)"



---

archive/issue_comments_564376.json:
```json
{
    "body": "Changing branch from \"[public/28982-reb7](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb7)\" to \"[public/28982-reb8](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb8)\"",
    "created_at": "2020-08-27T05:37:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564376",
    "user": "https://github.com/kliem"
}
```

Changing branch from "[public/28982-reb7](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb7)" to "[public/28982-reb8](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb8)"



---

archive/issue_comments_564377.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-08-27T05:37:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564377",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_564378.json:
```json
{
    "body": "<a id='comment:30'></a>\nNew commits:\n|                                                                                                                                          |                                                                                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|\n|[52b634f](https://github.com/sagemath/sagetrac-mirror/commit/52b634f4f872c441004c51e68a7a45e097d7e1e0)|`Merge branch 'public/28982-reb7' of git://trac.sagemath.org/sage into public/28982-reb8`|\n|[92487de](https://github.com/sagemath/sagetrac-mirror/commit/92487de288ea07cc6f39df2befb5383935285537)|`improved comment`|",
    "created_at": "2020-08-27T05:37:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564378",
    "user": "https://github.com/kliem"
}
```

<a id='comment:30'></a>
New commits:
|                                                                                                                                          |                                                                                         |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|
|[52b634f](https://github.com/sagemath/sagetrac-mirror/commit/52b634f4f872c441004c51e68a7a45e097d7e1e0)|`Merge branch 'public/28982-reb7' of git://trac.sagemath.org/sage into public/28982-reb8`|
|[92487de](https://github.com/sagemath/sagetrac-mirror/commit/92487de288ea07cc6f39df2befb5383935285537)|`improved comment`|



---

archive/issue_comments_564379.json:
```json
{
    "body": "<a id='comment:31'></a>\n\n```\n+    def __lt__(self, other):\n+        r\"\"\"\n+        Compare faces of the same polyhedron.\n+\n+        This is a helper function.\n+        In order to construct a Hasse diagram (a digraph) with combinatorial faces,\n+        we must define some order relation that is compatible with the Hasse diagram.\n+\n+        Any order relation compatible with ordering by dimension is suitable.\n+        We us :meth:`__hash__` to define the relation.\n```\n\nI don't fully understand what's happening in that hash function. If one uses the face iterator in non-dual mode, is the resulting order relation still correct?",
    "created_at": "2020-08-30T19:58:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564379",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:31'></a>

```
+    def __lt__(self, other):
+        r"""
+        Compare faces of the same polyhedron.
+
+        This is a helper function.
+        In order to construct a Hasse diagram (a digraph) with combinatorial faces,
+        we must define some order relation that is compatible with the Hasse diagram.
+
+        Any order relation compatible with ordering by dimension is suitable.
+        We us :meth:`__hash__` to define the relation.
```

I don't fully understand what's happening in that hash function. If one uses the face iterator in non-dual mode, is the resulting order relation still correct?



---

archive/issue_comments_564380.json:
```json
{
    "body": "Changing reviewer from \"Jean-Philippe Labb\u00e9\" to \"Jean-Philippe Labb\u00e9, Matthias Koeppe\"",
    "created_at": "2020-08-30T19:58:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564380",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "Jean-Philippe Labb√©" to "Jean-Philippe Labb√©, Matthias Koeppe"



---

archive/issue_comments_564381.json:
```json
{
    "body": "<a id='comment:32'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[6b7b5b6](https://github.com/sagemath/sagetrac-mirror/commit/6b7b5b6c17a645f55766666295a0424de8efde72)|`make hash function consistent with dual mode`|",
    "created_at": "2020-08-31T07:41:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564381",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[6b7b5b6](https://github.com/sagemath/sagetrac-mirror/commit/6b7b5b6c17a645f55766666295a0424de8efde72)|`make hash function consistent with dual mode`|



---

archive/issue_comments_564382.json:
```json
{
    "body": "Changing commit from \"[92487de288ea07cc6f39df2befb5383935285537](https://github.com/sagemath/sagetrac-mirror/commit/92487de288ea07cc6f39df2befb5383935285537)\" to \"[6b7b5b6c17a645f55766666295a0424de8efde72](https://github.com/sagemath/sagetrac-mirror/commit/6b7b5b6c17a645f55766666295a0424de8efde72)\"",
    "created_at": "2020-08-31T07:41:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564382",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[92487de288ea07cc6f39df2befb5383935285537](https://github.com/sagemath/sagetrac-mirror/commit/92487de288ea07cc6f39df2befb5383935285537)" to "[6b7b5b6c17a645f55766666295a0424de8efde72](https://github.com/sagemath/sagetrac-mirror/commit/6b7b5b6c17a645f55766666295a0424de8efde72)"



---

archive/issue_comments_564383.json:
```json
{
    "body": "<a id='comment:33'></a>\nReplying to [mkoeppe](#comment%3A31):\n> {{{\n> +    def __lt__(self, other):\n> +        r\"\"\"\n> +        Compare faces of the same polyhedron.\n> +\n> +        This is a helper function.\n> +        In order to construct a Hasse diagram (a digraph) with combinatorial faces,\n> +        we must define some order relation that is compatible with the Hasse diagram.\n> +\n> +        Any order relation compatible with ordering by dimension is suitable.\n> +        We us :meth:`__hash__` to define the relation.\n> }}}\n> \n> I don't fully understand what's happening in that hash function. If one uses the face iterator in non-dual mode, is the resulting order relation still correct?\n\n\nYou are right.\nI'm surprised it worked that way.\nThe hash function should be consistent now. And `__lt__` returns `None` if the faces are clearly incompatible.\nWhat's nice about this hash function, if I understand it correctly, is that it allows to store faces in sets etc.",
    "created_at": "2020-08-31T07:45:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564383",
    "user": "https://github.com/kliem"
}
```

<a id='comment:33'></a>
Replying to [mkoeppe](#comment%3A31):
> {{{
> +    def __lt__(self, other):
> +        r"""
> +        Compare faces of the same polyhedron.
> +
> +        This is a helper function.
> +        In order to construct a Hasse diagram (a digraph) with combinatorial faces,
> +        we must define some order relation that is compatible with the Hasse diagram.
> +
> +        Any order relation compatible with ordering by dimension is suitable.
> +        We us :meth:`__hash__` to define the relation.
> }}}
> 
> I don't fully understand what's happening in that hash function. If one uses the face iterator in non-dual mode, is the resulting order relation still correct?


You are right.
I'm surprised it worked that way.
The hash function should be consistent now. And `__lt__` returns `None` if the faces are clearly incompatible.
What's nice about this hash function, if I understand it correctly, is that it allows to store faces in sets etc.



---

archive/issue_comments_564384.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-08-31T13:34:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564384",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_564385.json:
```json
{
    "body": "<a id='comment:35'></a>\nThank you.",
    "created_at": "2020-08-31T13:35:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564385",
    "user": "https://github.com/kliem"
}
```

<a id='comment:35'></a>
Thank you.



---

archive/issue_comments_564386.json:
```json
{
    "body": "Changing branch from \"[public/28982-reb8](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb8)\" to \"[6b7b5b6c17a645f55766666295a0424de8efde72](https://github.com/sagemath/sagetrac-mirror/commit/6b7b5b6c17a645f55766666295a0424de8efde72)\"",
    "created_at": "2020-09-06T21:51:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564386",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "[public/28982-reb8](https://github.com/sagemath/sagetrac-mirror/tree/public/28982-reb8)" to "[6b7b5b6c17a645f55766666295a0424de8efde72](https://github.com/sagemath/sagetrac-mirror/commit/6b7b5b6c17a645f55766666295a0424de8efde72)"



---

archive/issue_comments_564387.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-09-06T21:51:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28982#issuecomment-564387",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_082861.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-09-06T21:51:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28982",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28982#event-82861"
}
```
