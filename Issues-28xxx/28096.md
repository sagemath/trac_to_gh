# Issue 28096: Cached methods with do_pickle=True fail for UniqueRepresentation objects

archive/issues_027859.json:
```json
{
    "body": "The decorator ``@`cached_method(do_pickle=True)` is used to make a method to cache the result and the cached result pickled along with the object.\n\nThis fails for objects of `UniqueRepresentation` class. It is a consequence of the defective behavior of `UniqueRepresentation` object not putting its state into the pickle.\n\nThis ticket solves the problem. A discussion on this issue was in \n\nhttps://groups.google.com/forum/#!topic/sage-devel/n7v71cnVTmk   \n\nCC:  simonking @tscrim @nbruin\n\nAuthor: Kwankyu Lee\n\nBranch: u/mkoeppe/28096\n\nStatus: needs_review\n\nCommit: ab2eb8644ba6a40079444fdab7530d0ac97fd22e\n\nIssue created by migration from https://trac.sagemath.org/ticket/28096\n\n",
    "created_at": "2019-07-02T07:25:56Z",
    "labels": [
        "component: pickling",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Cached methods with do_pickle=True fail for UniqueRepresentation objects",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28096",
    "user": "https://github.com/kwankyu"
}
```
The decorator ``@`cached_method(do_pickle=True)` is used to make a method to cache the result and the cached result pickled along with the object.

This fails for objects of `UniqueRepresentation` class. It is a consequence of the defective behavior of `UniqueRepresentation` object not putting its state into the pickle.

This ticket solves the problem. A discussion on this issue was in 

https://groups.google.com/forum/#!topic/sage-devel/n7v71cnVTmk   

CC:  simonking @tscrim @nbruin

Author: Kwankyu Lee

Branch: u/mkoeppe/28096

Status: needs_review

Commit: ab2eb8644ba6a40079444fdab7530d0ac97fd22e

Issue created by migration from https://trac.sagemath.org/ticket/28096





---

archive/issue_comments_418847.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-02T07:27:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418847",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418848.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-07-02T07:32:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418848",
    "user": "https://github.com/kwankyu"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_418849.json:
```json
{
    "body": "<a id='comment:4'></a>We can definitely not turn pickling on by default. See #15692.",
    "created_at": "2019-07-03T05:30:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418849",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:4'></a>We can definitely not turn pickling on by default. See #15692.



---

archive/issue_comments_418850.json:
```json
{
    "body": "<a id='comment:5'></a>This is not about turn pickling on by default. This turns on pickling only for ``@`cached_methods` with **`do_pickle=True`**.",
    "created_at": "2019-07-03T05:42:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418850",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:5'></a>This is not about turn pickling on by default. This turns on pickling only for ``@`cached_methods` with **`do_pickle=True`**.



---

archive/issue_comments_418851.json:
```json
{
    "body": "<a id='comment:6'></a>This ticket makes `UniqueRepresentation` objects do what other sage objects do, for pickling cached methods.",
    "created_at": "2019-07-03T06:04:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418851",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:6'></a>This ticket makes `UniqueRepresentation` objects do what other sage objects do, for pickling cached methods.



---

archive/issue_comments_418852.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-03T08:01:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418852",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418853.json:
```json
{
    "body": "<a id='comment:8'></a>To a reviewer:\n\nBefore this ticket, \n\n- the cached function attached to cached method with `do_pickle=False` (the default) is not pickled \n\n- the cached function attached to cached method with `do_pickle=True` is not pickled\n\nWith this ticket and before the last commit, \n\n- the cached function attached to cached method with `do_pickle=False` (the default) is pickled //without the cache//\n\n- the cached function attached to cached method with `do_pickle=True` is pickled with the cache\n\nAfter the last commit,\n\n- the cached function attached to cached method with `do_pickle=False` (the default) is not pickled\n\n- the cached function attached to cached method with `do_pickle=True` is pickled with the cache \n\nThis last pickling behaviour of `UniqueRepresentation` objects is somewhat halfway between the old pickling behavior of `UniqueRepresentation` objects and that of other sage objects (second behavior).\n\nThe last version seems preferable because it does not increase the size of a pickle to keep unnecessary information, namely cached function without the cache.",
    "created_at": "2019-07-03T08:21:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418853",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:8'></a>To a reviewer:

Before this ticket, 

- the cached function attached to cached method with `do_pickle=False` (the default) is not pickled 

- the cached function attached to cached method with `do_pickle=True` is not pickled

With this ticket and before the last commit, 

- the cached function attached to cached method with `do_pickle=False` (the default) is pickled //without the cache//

- the cached function attached to cached method with `do_pickle=True` is pickled with the cache

After the last commit,

- the cached function attached to cached method with `do_pickle=False` (the default) is not pickled

- the cached function attached to cached method with `do_pickle=True` is pickled with the cache 

This last pickling behaviour of `UniqueRepresentation` objects is somewhat halfway between the old pickling behavior of `UniqueRepresentation` objects and that of other sage objects (second behavior).

The last version seems preferable because it does not increase the size of a pickle to keep unnecessary information, namely cached function without the cache.



---

archive/issue_comments_418854.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-03T08:37:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418854",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418855.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-03T08:52:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418855",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418856.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-03T13:41:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418856",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418857.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,10 +1,10 @@\n-The decorator \\`\\`@\\`cahced_method(do_pickle=True)\\` is used to make a method to cache the result and the cached result pickled along with the object.\n+The decorator \\`\\`@\\`cached_method(do_pickle=True)\\` is used to make a method to cache the result and the cached result pickled along with the object.\n \n This fails for objects of \\`UniqueRepresentation\\` class. It is a consequence of the defective behavior of \\`UniqueRepresentation\\` object not putting its state into the pickle.\n \n This ticket solves the problem. A discussion on this issue was in \n \n-https://groups.google.com/forum/#!topic/sage-devel/n7v71cnVTmk\n+https://groups.google.com/forum/#!topic/sage-devel/n7v71cnVTmk   \n \n Comment: 1\n \n```\n",
    "created_at": "2019-07-22T11:01:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418857",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,10 +1,10 @@
-The decorator \`\`@\`cahced_method(do_pickle=True)\` is used to make a method to cache the result and the cached result pickled along with the object.
+The decorator \`\`@\`cached_method(do_pickle=True)\` is used to make a method to cache the result and the cached result pickled along with the object.
 
 This fails for objects of \`UniqueRepresentation\` class. It is a consequence of the defective behavior of \`UniqueRepresentation\` object not putting its state into the pickle.
 
 This ticket solves the problem. A discussion on this issue was in 
 
-https://groups.google.com/forum/#!topic/sage-devel/n7v71cnVTmk
+https://groups.google.com/forum/#!topic/sage-devel/n7v71cnVTmk   
 
 Comment: 1
 
```




---

archive/issue_comments_418858.json:
```json
{
    "body": "<a id='comment:14'></a>After a brief look at the diff, it seems to me that there are many changes that have nothing to do with the purpose of this ticket: You remove `from __future__ import absolute_import` and you have various changes of the following form:\n\n```diff\n@@ -167,9 +167,9 @@ class Manifolds(Category_over_base_ring):\n \n             TESTS::\n \n-                sage: TestSuite(Manifolds(RR).Smooth()).run()\n                 sage: Manifolds(RR).Smooth.__module__\n                 'sage.categories.manifolds'\n+                sage: TestSuite(Manifolds(RR).Smooth()).run()\n             \"\"\"\n             return self._with_axiom('Smooth')\n }}}\nWhy?",
    "created_at": "2019-08-05T08:41:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418858",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:14'></a>After a brief look at the diff, it seems to me that there are many changes that have nothing to do with the purpose of this ticket: You remove `from __future__ import absolute_import` and you have various changes of the following form:

```diff
@@ -167,9 +167,9 @@ class Manifolds(Category_over_base_ring):
 
             TESTS::
 
-                sage: TestSuite(Manifolds(RR).Smooth()).run()
                 sage: Manifolds(RR).Smooth.__module__
                 'sage.categories.manifolds'
+                sage: TestSuite(Manifolds(RR).Smooth()).run()
             """
             return self._with_axiom('Smooth')
 }}}
Why?



---

archive/issue_comments_418859.json:
```json
{
    "body": "<a id='comment:15'></a>Replying to [comment:14 SimonKing]:\n> After a brief look at the diff, it seems to me that there are many changes that have nothing to do with the purpose of this ticket: You remove `from __future__ import absolute_import` \n\n\nRight. This is nothing to do with the purpose of the ticket. You know that this import statement is not necessary any more since python 2.7. It happens that as I am writing a patch for a ticket, I encounter things to be easily fixed, like obvious typos, docstrings in bad style, unnecessary imports (like the above) and so on. Sometimes I fix them. Other times I pass them.\n\nIs this bad? Do you think I should revert these small changes not related with the purpose of the ticket before I push the commits?\n\nI think if developers do not make such spontaneous fixes, improvement of the overall quality of sage code will get slower.\n\n>> and you have various changes of the following form:\n\n> {{{\n> #!diff\n> `@``@` -167,9 +167,9 `@``@` class Manifolds(Category_over_base_ring):\n>  \n>              TESTS::\n>  \n> -                sage: TestSuite(Manifolds(RR).Smooth()).run()\n>                  sage: Manifolds(RR).Smooth.__module__\n>                  'sage.categories.manifolds'\n> +                sage: TestSuite(Manifolds(RR).Smooth()).run()\n>              \"\"\"\n>              return self._with_axiom('Smooth')\n>  }}}\n> Why?\n\n\nThis (and many others like this) was related with the ticket. Without this reordering, I got doctest failures. But strangely but happily, now with 8.9.beta5, I don't have them any more even without reordering. I will revert back these changes.",
    "created_at": "2019-08-05T11:47:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418859",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:15'></a>Replying to [comment:14 SimonKing]:
> After a brief look at the diff, it seems to me that there are many changes that have nothing to do with the purpose of this ticket: You remove `from __future__ import absolute_import` 


Right. This is nothing to do with the purpose of the ticket. You know that this import statement is not necessary any more since python 2.7. It happens that as I am writing a patch for a ticket, I encounter things to be easily fixed, like obvious typos, docstrings in bad style, unnecessary imports (like the above) and so on. Sometimes I fix them. Other times I pass them.

Is this bad? Do you think I should revert these small changes not related with the purpose of the ticket before I push the commits?

I think if developers do not make such spontaneous fixes, improvement of the overall quality of sage code will get slower.

>> and you have various changes of the following form:

> {{{
> #!diff
> `@``@` -167,9 +167,9 `@``@` class Manifolds(Category_over_base_ring):
>  
>              TESTS::
>  
> -                sage: TestSuite(Manifolds(RR).Smooth()).run()
>                  sage: Manifolds(RR).Smooth.__module__
>                  'sage.categories.manifolds'
> +                sage: TestSuite(Manifolds(RR).Smooth()).run()
>              """
>              return self._with_axiom('Smooth')
>  }}}
> Why?


This (and many others like this) was related with the ticket. Without this reordering, I got doctest failures. But strangely but happily, now with 8.9.beta5, I don't have them any more even without reordering. I will revert back these changes.



---

archive/issue_comments_418860.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-05T11:47:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418860",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418861.json:
```json
{
    "body": "<a id='comment:17'></a>Replying to [comment:15 klee]:\n> Replying to [comment:14 SimonKing]:\n> > After a brief look at the diff, it seems to me that there are many changes that have nothing to do with the purpose of this ticket: You remove `from __future__ import absolute_import` \n\n> \n> Right. This is nothing to do with the purpose of the ticket. You know that this import statement is not necessary any more since python 2.7.\n\n\nI might be wrong, but I think this is still needed in Python 2.7, as I have recently had to add the statement in one of my own projects to solve a problem that did not exist with Python 3.",
    "created_at": "2019-08-05T18:48:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418861",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:17'></a>Replying to [comment:15 klee]:
> Replying to [comment:14 SimonKing]:
> > After a brief look at the diff, it seems to me that there are many changes that have nothing to do with the purpose of this ticket: You remove `from __future__ import absolute_import` 

> 
> Right. This is nothing to do with the purpose of the ticket. You know that this import statement is not necessary any more since python 2.7.


I might be wrong, but I think this is still needed in Python 2.7, as I have recently had to add the statement in one of my own projects to solve a problem that did not exist with Python 3.



---

archive/issue_comments_418862.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-08-05T22:59:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418862",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418863.json:
```json
{
    "body": "<a id='comment:19'></a>Replying to [comment:17 gh-mwageringel]:\n> Replying to [comment:15 klee]:\n> > Replying to [comment:14 SimonKing]:\n> > > After a brief look at the diff, it seems to me that there are many changes that have nothing to do with the purpose of this ticket: You remove `from __future__ import absolute_import` \n\n> > \n> > Right. This is nothing to do with the purpose of the ticket. You know that this import statement is not necessary any more since python 2.7.\n  \n> \n> I might be wrong, but I think this is still needed in Python 2.7, as I have recently had to add the statement in one of my own projects to solve a problem that did not exist with Python 3.\n\n\nAh, I am wrong. You are right. I had somehow wrong understanding on this matter. I added back the imports.\n\nThanks!",
    "created_at": "2019-08-05T23:06:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418863",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:19'></a>Replying to [comment:17 gh-mwageringel]:
> Replying to [comment:15 klee]:
> > Replying to [comment:14 SimonKing]:
> > > After a brief look at the diff, it seems to me that there are many changes that have nothing to do with the purpose of this ticket: You remove `from __future__ import absolute_import` 

> > 
> > Right. This is nothing to do with the purpose of the ticket. You know that this import statement is not necessary any more since python 2.7.
  
> 
> I might be wrong, but I think this is still needed in Python 2.7, as I have recently had to add the statement in one of my own projects to solve a problem that did not exist with Python 3.


Ah, I am wrong. You are right. I had somehow wrong understanding on this matter. I added back the imports.

Thanks!



---

archive/issue_comments_418864.json:
```json
{
    "body": "<a id='comment:20'></a>After studying how cython objects pickling works, I am now more confident that the patch works well as promised.",
    "created_at": "2019-08-09T05:25:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418864",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:20'></a>After studying how cython objects pickling works, I am now more confident that the patch works well as promised.



---

archive/issue_comments_418865.json:
```json
{
    "body": "<a id='comment:21'></a>Before merged I would just want to see the commit history on this ticket cleaned up with a rebase: get rid of all the unnecessary merge commits, and things like \"Add back absolute_import\".  I can help with that if need be.",
    "created_at": "2019-08-13T11:03:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418865",
    "user": "https://github.com/embray"
}
```

<a id='comment:21'></a>Before merged I would just want to see the commit history on this ticket cleaned up with a rebase: get rid of all the unnecessary merge commits, and things like "Add back absolute_import".  I can help with that if need be.



---

archive/issue_comments_418866.json:
```json
{
    "body": "<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-08-13T11:48:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418866",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_418867.json:
```json
{
    "body": "<a id='comment:23'></a>This ticket deserves more attention. For your info, the branch is python3-safe.",
    "created_at": "2019-08-27T00:18:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418867",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:23'></a>This ticket deserves more attention. For your info, the branch is python3-safe.



---

archive/issue_comments_418868.json:
```json
{
    "body": "<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-09-16T07:09:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418868",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_418869.json:
```json
{
    "body": "<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-12-26T07:54:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418869",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418870.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-12-26T07:56:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418870",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_418871.json:
```json
{
    "body": "<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2019-12-26T09:26:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418871",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_418872.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-12-26T09:26:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418872",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_418873.json:
```json
{
    "body": "<a id='comment:29'></a>Ticket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418873",
    "user": "https://github.com/embray"
}
```

<a id='comment:29'></a>Ticket retargeted after milestone closed



---

archive/issue_events_069651.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-69651"
}
```



---

archive/issue_events_069652.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T04:28:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-69652"
}
```



---

archive/issue_events_069653.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T04:28:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-69653"
}
```



---

archive/issue_comments_418874.json:
```json
{
    "body": "<a id='comment:30'></a>Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.",
    "created_at": "2020-05-01T04:28:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418874",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'></a>Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.



---

archive/issue_comments_418875.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-06-18T02:29:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418875",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_418876.json:
```json
{
    "body": "<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-06-18T07:07:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418876",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_418877.json:
```json
{
    "body": "<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-18T07:18:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418877",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:33'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418878.json:
```json
{
    "body": "<a id='comment:34'></a>I am not sure if this patch would incur any bad side effects. Experts on `UniqueRepresentation` are welcome to scrutinize.",
    "created_at": "2020-06-18T07:24:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418878",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:34'></a>I am not sure if this patch would incur any bad side effects. Experts on `UniqueRepresentation` are welcome to scrutinize.



---

archive/issue_comments_418879.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-06-18T07:30:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418879",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_418880.json:
```json
{
    "body": "<a id='comment:36'></a>In particular, I do not understand Volker's comment in the discussion:\n\n> Not every circularly dependent collection of cython objects can be pickled. Cached values can make the difference between what can and cannot be pickled. So whether or not pickling works can't reliably be tested in that case.",
    "created_at": "2020-06-18T07:34:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418880",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:36'></a>In particular, I do not understand Volker's comment in the discussion:

> Not every circularly dependent collection of cython objects can be pickled. Cached values can make the difference between what can and cannot be pickled. So whether or not pickling works can't reliably be tested in that case.



---

archive/issue_events_069654.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-69654"
}
```



---

archive/issue_events_069655.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-69655"
}
```



---

archive/issue_events_069656.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-15T22:07:04Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-69656"
}
```



---

archive/issue_events_069657.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-15T22:07:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-69657"
}
```



---

archive/issue_comments_418881.json:
```json
{
    "body": "<a id='comment:39'></a>Setting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-15T22:07:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418881",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:39'></a>Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_418882.json:
```json
{
    "body": "<a id='comment:40'></a>Setting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418882",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:40'></a>Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_069658.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-69658"
}
```



---

archive/issue_events_069659.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-69659"
}
```



---

archive/issue_comments_418883.json:
```json
{
    "body": "<a id='comment:41'></a>Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.",
    "created_at": "2021-12-18T19:53:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418883",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:41'></a>Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.



---

archive/issue_events_069660.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-69660"
}
```



---

archive/issue_events_069661.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-69661"
}
```



---

archive/issue_comments_418884.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-03-21T19:25:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418884",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_418885.json:
```json
{
    "body": "<a id='comment:42'></a>needs rebase",
    "created_at": "2022-03-21T19:25:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418885",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:42'></a>needs rebase



---

archive/issue_comments_418886.json:
```json
{
    "body": "<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-03-22T08:39:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418886",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_418887.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-03-23T01:43:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418887",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_events_069662.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-17T19:59:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-69662"
}
```



---

archive/issue_events_069663.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-17T19:59:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-69663"
}
```



---

archive/issue_comments_418888.json:
```json
{
    "body": "<a id='comment:47'></a>rebased\n\n---\nNew commits:",
    "created_at": "2022-08-13T00:38:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418888",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:47'></a>rebased

---
New commits:



---

archive/issue_comments_418889.json:
```json
{
    "body": "<a id='comment:48'></a>Thank you. This is long neglected, even by me. Perhaps it may need some revision.",
    "created_at": "2022-08-13T01:09:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418889",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:48'></a>Thank you. This is long neglected, even by me. Perhaps it may need some revision.



---

archive/issue_comments_418890.json:
```json
{
    "body": "<a id='comment:49'></a>I ran into an issue with `UniqueRepresentation` in #19195, so I'm taking a look at open related tickets (#25388, #25389, #14167)",
    "created_at": "2022-08-13T01:12:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-418890",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:49'></a>I ran into an issue with `UniqueRepresentation` in #19195, so I'm taking a look at open related tickets (#25388, #25389, #14167)



---

archive/issue_events_069664.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-69664"
}
```



---

archive/issue_events_069665.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-69665"
}
```
