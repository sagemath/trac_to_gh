# Issue 28096: Cached methods with do_pickle=True fail for UniqueRepresentation objects

archive/issues_027859.json:
```json
{
    "body": "The decorator `@cached_method(do_pickle=True)` is used to make a method to cache the result and the cached result pickled along with the object.\n\nThis fails for objects of `UniqueRepresentation` class. It is a consequence of the defective behavior of `UniqueRepresentation` object not putting its state into the pickle.\n\nThis ticket solves the problem. A discussion on this issue was in \n\nhttps://groups.google.com/forum/#!topic/sage-devel/n7v71cnVTmk   \n\n**CC:**  simonking @tscrim @nbruin\n\n**Branch:** [u/mkoeppe/28096](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/28096)\n\n**Commit:** [ab2eb8644ba6a40079444fdab7530d0ac97fd22e](https://github.com/sagemath/sagetrac-mirror/commit/ab2eb8644ba6a40079444fdab7530d0ac97fd22e)\n\n**Author:** Kwankyu Lee\n\n**Status:** needs_review\n\nIssue created by migration from https://trac.sagemath.org/ticket/28096\n\n",
    "created_at": "2019-07-02T07:25:56Z",
    "labels": [
        "component: pickling",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Cached methods with do_pickle=True fail for UniqueRepresentation objects",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28096",
    "user": "https://github.com/kwankyu"
}
```
The decorator `@cached_method(do_pickle=True)` is used to make a method to cache the result and the cached result pickled along with the object.

This fails for objects of `UniqueRepresentation` class. It is a consequence of the defective behavior of `UniqueRepresentation` object not putting its state into the pickle.

This ticket solves the problem. A discussion on this issue was in 

https://groups.google.com/forum/#!topic/sage-devel/n7v71cnVTmk   

**CC:**  simonking @tscrim @nbruin

**Branch:** [u/mkoeppe/28096](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/28096)

**Commit:** [ab2eb8644ba6a40079444fdab7530d0ac97fd22e](https://github.com/sagemath/sagetrac-mirror/commit/ab2eb8644ba6a40079444fdab7530d0ac97fd22e)

**Author:** Kwankyu Lee

**Status:** needs_review

Issue created by migration from https://trac.sagemath.org/ticket/28096





---

archive/issue_comments_519633.json:
```json
{
    "body": "**Branch:** [u/klee/28096](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/28096)",
    "created_at": "2019-07-02T07:26:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519633",
    "user": "https://github.com/kwankyu"
}
```

**Branch:** [u/klee/28096](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/28096)



---

archive/issue_comments_519634.json:
```json
{
    "body": "**Author:** Kwankyu Lee",
    "created_at": "2019-07-02T07:26:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519634",
    "user": "https://github.com/kwankyu"
}
```

**Author:** Kwankyu Lee



---

archive/issue_comments_519635.json:
```json
{
    "body": "**Commit:** [f17e57ac893ad00d63f4f20d90f32bc53a676b32](https://github.com/sagemath/sagetrac-mirror/commit/f17e57ac893ad00d63f4f20d90f32bc53a676b32)",
    "created_at": "2019-07-02T07:27:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519635",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [f17e57ac893ad00d63f4f20d90f32bc53a676b32](https://github.com/sagemath/sagetrac-mirror/commit/f17e57ac893ad00d63f4f20d90f32bc53a676b32)



---

archive/issue_comments_519636.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f17e57ac893ad00d63f4f20d90f32bc53a676b32\">f17e57a</a></td><td><code>Make UniqueRepresentation do_pickle</code></td></tr></table>\n",
    "created_at": "2019-07-02T07:27:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519636",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f17e57ac893ad00d63f4f20d90f32bc53a676b32">f17e57a</a></td><td><code>Make UniqueRepresentation do_pickle</code></td></tr></table>




---

archive/issue_comments_519637.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2019-07-02T07:32:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519637",
    "user": "https://github.com/kwankyu"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_519638.json:
```json
{
    "body": "<a id='comment:4'></a>\nWe can definitely not turn pickling on by default. See #15692.",
    "created_at": "2019-07-03T05:30:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519638",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:4'></a>
We can definitely not turn pickling on by default. See #15692.



---

archive/issue_comments_519639.json:
```json
{
    "body": "<a id='comment:5'></a>\nThis is not about turn pickling on by default. This turns on pickling only for `@cached_methods` with **`do_pickle=True`**.",
    "created_at": "2019-07-03T05:42:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519639",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:5'></a>
This is not about turn pickling on by default. This turns on pickling only for `@cached_methods` with **`do_pickle=True`**.



---

archive/issue_comments_519640.json:
```json
{
    "body": "<a id='comment:6'></a>\nThis ticket makes `UniqueRepresentation` objects do what other sage objects do, for pickling cached methods.",
    "created_at": "2019-07-03T06:04:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519640",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:6'></a>
This ticket makes `UniqueRepresentation` objects do what other sage objects do, for pickling cached methods.



---

archive/issue_comments_519641.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/09fc937402ebf6e1ef8c531739662cd6e48c9753\">09fc937</a></td><td><code>Ignore cached functions with do_pickle=False</code></td></tr></table>\n",
    "created_at": "2019-07-03T08:01:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519641",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/09fc937402ebf6e1ef8c531739662cd6e48c9753">09fc937</a></td><td><code>Ignore cached functions with do_pickle=False</code></td></tr></table>




---

archive/issue_comments_519642.json:
```json
{
    "body": "**Changing commit** from \"[f17e57ac893ad00d63f4f20d90f32bc53a676b32](https://github.com/sagemath/sagetrac-mirror/commit/f17e57ac893ad00d63f4f20d90f32bc53a676b32)\" to \"[09fc937402ebf6e1ef8c531739662cd6e48c9753](https://github.com/sagemath/sagetrac-mirror/commit/09fc937402ebf6e1ef8c531739662cd6e48c9753)\".",
    "created_at": "2019-07-03T08:01:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519642",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f17e57ac893ad00d63f4f20d90f32bc53a676b32](https://github.com/sagemath/sagetrac-mirror/commit/f17e57ac893ad00d63f4f20d90f32bc53a676b32)" to "[09fc937402ebf6e1ef8c531739662cd6e48c9753](https://github.com/sagemath/sagetrac-mirror/commit/09fc937402ebf6e1ef8c531739662cd6e48c9753)".



---

archive/issue_comments_519643.json:
```json
{
    "body": "<a id='comment:8'></a>\nTo a reviewer:\n\nBefore this ticket, \n\n- the cached function attached to cached method with `do_pickle=False` (the default) is not pickled \n\n- the cached function attached to cached method with `do_pickle=True` is not pickled\n\nWith this ticket and before the last commit, \n\n- the cached function attached to cached method with `do_pickle=False` (the default) is pickled *without the cache*\n\n- the cached function attached to cached method with `do_pickle=True` is pickled with the cache\n\nAfter the last commit,\n\n- the cached function attached to cached method with `do_pickle=False` (the default) is not pickled\n\n- the cached function attached to cached method with `do_pickle=True` is pickled with the cache \n\nThis last pickling behaviour of `UniqueRepresentation` objects is somewhat halfway between the old pickling behavior of `UniqueRepresentation` objects and that of other sage objects (second behavior).\n\nThe last version seems preferable because it does not increase the size of a pickle to keep unnecessary information, namely cached function without the cache.",
    "created_at": "2019-07-03T08:21:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519643",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:8'></a>
To a reviewer:

Before this ticket, 

- the cached function attached to cached method with `do_pickle=False` (the default) is not pickled 

- the cached function attached to cached method with `do_pickle=True` is not pickled

With this ticket and before the last commit, 

- the cached function attached to cached method with `do_pickle=False` (the default) is pickled *without the cache*

- the cached function attached to cached method with `do_pickle=True` is pickled with the cache

After the last commit,

- the cached function attached to cached method with `do_pickle=False` (the default) is not pickled

- the cached function attached to cached method with `do_pickle=True` is pickled with the cache 

This last pickling behaviour of `UniqueRepresentation` objects is somewhat halfway between the old pickling behavior of `UniqueRepresentation` objects and that of other sage objects (second behavior).

The last version seems preferable because it does not increase the size of a pickle to keep unnecessary information, namely cached function without the cache.



---

archive/issue_comments_519644.json:
```json
{
    "body": "**Changing commit** from \"[09fc937402ebf6e1ef8c531739662cd6e48c9753](https://github.com/sagemath/sagetrac-mirror/commit/09fc937402ebf6e1ef8c531739662cd6e48c9753)\" to \"[c97963582ae90fe0aabbff4b8e1f3e60304f4cd4](https://github.com/sagemath/sagetrac-mirror/commit/c97963582ae90fe0aabbff4b8e1f3e60304f4cd4)\".",
    "created_at": "2019-07-03T08:37:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519644",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[09fc937402ebf6e1ef8c531739662cd6e48c9753](https://github.com/sagemath/sagetrac-mirror/commit/09fc937402ebf6e1ef8c531739662cd6e48c9753)" to "[c97963582ae90fe0aabbff4b8e1f3e60304f4cd4](https://github.com/sagemath/sagetrac-mirror/commit/c97963582ae90fe0aabbff4b8e1f3e60304f4cd4)".



---

archive/issue_comments_519645.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c97963582ae90fe0aabbff4b8e1f3e60304f4cd4\">c979635</a></td><td><code>Fix a format mistake</code></td></tr></table>\n",
    "created_at": "2019-07-03T08:37:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519645",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c97963582ae90fe0aabbff4b8e1f3e60304f4cd4">c979635</a></td><td><code>Fix a format mistake</code></td></tr></table>




---

archive/issue_comments_519646.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/983577b7158eda7d24e1267d4fc18d86b8ee509e\">983577b</a></td><td><code>Merge branch 'develop'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d6e0c799ac4c198e98e2298fd318b152d419b84\">9d6e0c7</a></td><td><code>Rename to is_pickled_with_cache</code></td></tr></table>\n",
    "created_at": "2019-07-03T08:52:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519646",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/983577b7158eda7d24e1267d4fc18d86b8ee509e">983577b</a></td><td><code>Merge branch 'develop'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d6e0c799ac4c198e98e2298fd318b152d419b84">9d6e0c7</a></td><td><code>Rename to is_pickled_with_cache</code></td></tr></table>




---

archive/issue_comments_519647.json:
```json
{
    "body": "**Changing commit** from \"[c97963582ae90fe0aabbff4b8e1f3e60304f4cd4](https://github.com/sagemath/sagetrac-mirror/commit/c97963582ae90fe0aabbff4b8e1f3e60304f4cd4)\" to \"[9d6e0c799ac4c198e98e2298fd318b152d419b84](https://github.com/sagemath/sagetrac-mirror/commit/9d6e0c799ac4c198e98e2298fd318b152d419b84)\".",
    "created_at": "2019-07-03T08:52:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519647",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c97963582ae90fe0aabbff4b8e1f3e60304f4cd4](https://github.com/sagemath/sagetrac-mirror/commit/c97963582ae90fe0aabbff4b8e1f3e60304f4cd4)" to "[9d6e0c799ac4c198e98e2298fd318b152d419b84](https://github.com/sagemath/sagetrac-mirror/commit/9d6e0c799ac4c198e98e2298fd318b152d419b84)".



---

archive/issue_comments_519648.json:
```json
{
    "body": "**Changing commit** from \"[9d6e0c799ac4c198e98e2298fd318b152d419b84](https://github.com/sagemath/sagetrac-mirror/commit/9d6e0c799ac4c198e98e2298fd318b152d419b84)\" to \"[6d47b688ba68b713ac0d0b73d80a28a7747559e7](https://github.com/sagemath/sagetrac-mirror/commit/6d47b688ba68b713ac0d0b73d80a28a7747559e7)\".",
    "created_at": "2019-07-03T13:41:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519648",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9d6e0c799ac4c198e98e2298fd318b152d419b84](https://github.com/sagemath/sagetrac-mirror/commit/9d6e0c799ac4c198e98e2298fd318b152d419b84)" to "[6d47b688ba68b713ac0d0b73d80a28a7747559e7](https://github.com/sagemath/sagetrac-mirror/commit/6d47b688ba68b713ac0d0b73d80a28a7747559e7)".



---

archive/issue_comments_519649.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6d47b688ba68b713ac0d0b73d80a28a7747559e7\">6d47b68</a></td><td><code>A little more documentation fixes</code></td></tr></table>\n",
    "created_at": "2019-07-03T13:41:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519649",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6d47b688ba68b713ac0d0b73d80a28a7747559e7">6d47b68</a></td><td><code>A little more documentation fixes</code></td></tr></table>




---

archive/issue_comments_519650.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-The decorator `@cahced_method(do_pickle=True)` is used to make a method to cache the result and the cached result pickled along with the object.\n+The decorator `@cached_method(do_pickle=True)` is used to make a method to cache the result and the cached result pickled along with the object.\n \n This fails for objects of `UniqueRepresentation` class. It is a consequence of the defective behavior of `UniqueRepresentation` object not putting its state into the pickle.\n \n``````\n",
    "created_at": "2019-07-22T11:01:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519650",
    "user": "https://github.com/kwankyu"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-The decorator `@cahced_method(do_pickle=True)` is used to make a method to cache the result and the cached result pickled along with the object.
+The decorator `@cached_method(do_pickle=True)` is used to make a method to cache the result and the cached result pickled along with the object.
 
 This fails for objects of `UniqueRepresentation` class. It is a consequence of the defective behavior of `UniqueRepresentation` object not putting its state into the pickle.
 
``````




---

archive/issue_comments_519651.json:
```json
{
    "body": "<a id='comment:14'></a>\nAfter a brief look at the diff, it seems to me that there are many changes that have nothing to do with the purpose of this ticket: You remove `from __future__ import absolute_import` and you have various changes of the following form:\n\n```diff\n@@ -167,9 +167,9 @@ class Manifolds(Category_over_base_ring):\n \n             TESTS::\n \n-                sage: TestSuite(Manifolds(RR).Smooth()).run()\n                 sage: Manifolds(RR).Smooth.__module__\n                 'sage.categories.manifolds'\n+                sage: TestSuite(Manifolds(RR).Smooth()).run()\n             \"\"\"\n             return self._with_axiom('Smooth')\n ```\nWhy?",
    "created_at": "2019-08-05T08:41:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519651",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:14'></a>
After a brief look at the diff, it seems to me that there are many changes that have nothing to do with the purpose of this ticket: You remove `from __future__ import absolute_import` and you have various changes of the following form:

```diff
@@ -167,9 +167,9 @@ class Manifolds(Category_over_base_ring):
 
             TESTS::
 
-                sage: TestSuite(Manifolds(RR).Smooth()).run()
                 sage: Manifolds(RR).Smooth.__module__
                 'sage.categories.manifolds'
+                sage: TestSuite(Manifolds(RR).Smooth()).run()
             """
             return self._with_axiom('Smooth')
 ```
Why?



---

archive/issue_comments_519652.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [SimonKing](#comment%3A14):\n> After a brief look at the diff, it seems to me that there are many changes that have nothing to do with the purpose of this ticket: You remove `from __future__ import absolute_import` \n\n\nRight. This is nothing to do with the purpose of the ticket. You know that this import statement is not necessary any more since python 2.7. It happens that as I am writing a patch for a ticket, I encounter things to be easily fixed, like obvious typos, docstrings in bad style, unnecessary imports (like the above) and so on. Sometimes I fix them. Other times I pass them.\n\nIs this bad? Do you think I should revert these small changes not related with the purpose of the ticket before I push the commits?\n\nI think if developers do not make such spontaneous fixes, improvement of the overall quality of sage code will get slower.\n\n>> and you have various changes of the following form:\n\n> {{{\n> #!diff\n> @@ -167,9 +167,9 @@ class Manifolds(Category_over_base_ring):\n>  \n>              TESTS::\n>  \n> -                sage: TestSuite(Manifolds(RR).Smooth()).run()\n>                  sage: Manifolds(RR).Smooth.__module__\n>                  'sage.categories.manifolds'\n> +                sage: TestSuite(Manifolds(RR).Smooth()).run()\n>              \"\"\"\n>              return self._with_axiom('Smooth')\n>  }}}\n> Why?\n\n\nThis (and many others like this) was related with the ticket. Without this reordering, I got doctest failures. But strangely but happily, now with 8.9.beta5, I don't have them any more even without reordering. I will revert back these changes.",
    "created_at": "2019-08-05T11:47:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519652",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:15'></a>
Replying to [SimonKing](#comment%3A14):
> After a brief look at the diff, it seems to me that there are many changes that have nothing to do with the purpose of this ticket: You remove `from __future__ import absolute_import` 


Right. This is nothing to do with the purpose of the ticket. You know that this import statement is not necessary any more since python 2.7. It happens that as I am writing a patch for a ticket, I encounter things to be easily fixed, like obvious typos, docstrings in bad style, unnecessary imports (like the above) and so on. Sometimes I fix them. Other times I pass them.

Is this bad? Do you think I should revert these small changes not related with the purpose of the ticket before I push the commits?

I think if developers do not make such spontaneous fixes, improvement of the overall quality of sage code will get slower.

>> and you have various changes of the following form:

> {{{
> #!diff
> @@ -167,9 +167,9 @@ class Manifolds(Category_over_base_ring):
>  
>              TESTS::
>  
> -                sage: TestSuite(Manifolds(RR).Smooth()).run()
>                  sage: Manifolds(RR).Smooth.__module__
>                  'sage.categories.manifolds'
> +                sage: TestSuite(Manifolds(RR).Smooth()).run()
>              """
>              return self._with_axiom('Smooth')
>  }}}
> Why?


This (and many others like this) was related with the ticket. Without this reordering, I got doctest failures. But strangely but happily, now with 8.9.beta5, I don't have them any more even without reordering. I will revert back these changes.



---

archive/issue_comments_519653.json:
```json
{
    "body": "<a id='comment:16'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c14d10bdec21045bd68c9332eb1da0ff9c7ee57e\">c14d10b</a></td><td><code>Merge branch 'develop'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd0bebb2f56c6d96e438661bed31630f2ef3d1cc\">bd0bebb</a></td><td><code>Merge branch 'develop'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bcd500ed0a00f1af7966dadd050a62e5e43b6520\">bcd500e</a></td><td><code>Revert back unnecessary changes in doctests</code></td></tr></table>\n",
    "created_at": "2019-08-05T11:47:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519653",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c14d10bdec21045bd68c9332eb1da0ff9c7ee57e">c14d10b</a></td><td><code>Merge branch 'develop'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd0bebb2f56c6d96e438661bed31630f2ef3d1cc">bd0bebb</a></td><td><code>Merge branch 'develop'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bcd500ed0a00f1af7966dadd050a62e5e43b6520">bcd500e</a></td><td><code>Revert back unnecessary changes in doctests</code></td></tr></table>




---

archive/issue_comments_519654.json:
```json
{
    "body": "**Changing commit** from \"[6d47b688ba68b713ac0d0b73d80a28a7747559e7](https://github.com/sagemath/sagetrac-mirror/commit/6d47b688ba68b713ac0d0b73d80a28a7747559e7)\" to \"[bcd500ed0a00f1af7966dadd050a62e5e43b6520](https://github.com/sagemath/sagetrac-mirror/commit/bcd500ed0a00f1af7966dadd050a62e5e43b6520)\".",
    "created_at": "2019-08-05T11:47:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519654",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6d47b688ba68b713ac0d0b73d80a28a7747559e7](https://github.com/sagemath/sagetrac-mirror/commit/6d47b688ba68b713ac0d0b73d80a28a7747559e7)" to "[bcd500ed0a00f1af7966dadd050a62e5e43b6520](https://github.com/sagemath/sagetrac-mirror/commit/bcd500ed0a00f1af7966dadd050a62e5e43b6520)".



---

archive/issue_comments_519655.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [klee](#comment%3A15):\n> Replying to [SimonKing](#comment%3A14):\n> > After a brief look at the diff, it seems to me that there are many changes that have nothing to do with the purpose of this ticket: You remove `from __future__ import absolute_import` \n\n> \n> Right. This is nothing to do with the purpose of the ticket. You know that this import statement is not necessary any more since python 2.7.\n\n\nI might be wrong, but I think this is still needed in Python 2.7, as I have recently had to add the statement in one of my own projects to solve a problem that did not exist with Python 3.",
    "created_at": "2019-08-05T18:48:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519655",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:17'></a>
Replying to [klee](#comment%3A15):
> Replying to [SimonKing](#comment%3A14):
> > After a brief look at the diff, it seems to me that there are many changes that have nothing to do with the purpose of this ticket: You remove `from __future__ import absolute_import` 

> 
> Right. This is nothing to do with the purpose of the ticket. You know that this import statement is not necessary any more since python 2.7.


I might be wrong, but I think this is still needed in Python 2.7, as I have recently had to add the statement in one of my own projects to solve a problem that did not exist with Python 3.



---

archive/issue_comments_519656.json:
```json
{
    "body": "**Changing commit** from \"[bcd500ed0a00f1af7966dadd050a62e5e43b6520](https://github.com/sagemath/sagetrac-mirror/commit/bcd500ed0a00f1af7966dadd050a62e5e43b6520)\" to \"[084a2abb8d5c7b28d952d8f39265d5086c7ee9c9](https://github.com/sagemath/sagetrac-mirror/commit/084a2abb8d5c7b28d952d8f39265d5086c7ee9c9)\".",
    "created_at": "2019-08-05T22:59:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519656",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[bcd500ed0a00f1af7966dadd050a62e5e43b6520](https://github.com/sagemath/sagetrac-mirror/commit/bcd500ed0a00f1af7966dadd050a62e5e43b6520)" to "[084a2abb8d5c7b28d952d8f39265d5086c7ee9c9](https://github.com/sagemath/sagetrac-mirror/commit/084a2abb8d5c7b28d952d8f39265d5086c7ee9c9)".



---

archive/issue_comments_519657.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/084a2abb8d5c7b28d952d8f39265d5086c7ee9c9\">084a2ab</a></td><td><code>Add back absolute_import</code></td></tr></table>\n",
    "created_at": "2019-08-05T22:59:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519657",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/084a2abb8d5c7b28d952d8f39265d5086c7ee9c9">084a2ab</a></td><td><code>Add back absolute_import</code></td></tr></table>




---

archive/issue_comments_519658.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [gh-mwageringel](#comment%3A17):\n> Replying to [klee](#comment%3A15):\n> > Replying to [SimonKing](#comment%3A14):\n> > > After a brief look at the diff, it seems to me that there are many changes that have nothing to do with the purpose of this ticket: You remove `from __future__ import absolute_import` \n\n> > \n> > Right. This is nothing to do with the purpose of the ticket. You know that this import statement is not necessary any more since python 2.7.\n  \n> \n> I might be wrong, but I think this is still needed in Python 2.7, as I have recently had to add the statement in one of my own projects to solve a problem that did not exist with Python 3.\n\n\nAh, I am wrong. You are right. I had somehow wrong understanding on this matter. I added back the imports.\n\nThanks!",
    "created_at": "2019-08-05T23:06:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519658",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:19'></a>
Replying to [gh-mwageringel](#comment%3A17):
> Replying to [klee](#comment%3A15):
> > Replying to [SimonKing](#comment%3A14):
> > > After a brief look at the diff, it seems to me that there are many changes that have nothing to do with the purpose of this ticket: You remove `from __future__ import absolute_import` 

> > 
> > Right. This is nothing to do with the purpose of the ticket. You know that this import statement is not necessary any more since python 2.7.
  
> 
> I might be wrong, but I think this is still needed in Python 2.7, as I have recently had to add the statement in one of my own projects to solve a problem that did not exist with Python 3.


Ah, I am wrong. You are right. I had somehow wrong understanding on this matter. I added back the imports.

Thanks!



---

archive/issue_comments_519659.json:
```json
{
    "body": "<a id='comment:20'></a>\nAfter studying how cython objects pickling works, I am now more confident that the patch works well as promised.",
    "created_at": "2019-08-09T05:25:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519659",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:20'></a>
After studying how cython objects pickling works, I am now more confident that the patch works well as promised.



---

archive/issue_comments_519660.json:
```json
{
    "body": "<a id='comment:21'></a>\nBefore merged I would just want to see the commit history on this ticket cleaned up with a rebase: get rid of all the unnecessary merge commits, and things like \"Add back absolute_import\".  I can help with that if need be.",
    "created_at": "2019-08-13T11:03:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519660",
    "user": "https://github.com/embray"
}
```

<a id='comment:21'></a>
Before merged I would just want to see the commit history on this ticket cleaned up with a rebase: get rid of all the unnecessary merge commits, and things like "Add back absolute_import".  I can help with that if need be.



---

archive/issue_comments_519661.json:
```json
{
    "body": "**Changing commit** from \"[084a2abb8d5c7b28d952d8f39265d5086c7ee9c9](https://github.com/sagemath/sagetrac-mirror/commit/084a2abb8d5c7b28d952d8f39265d5086c7ee9c9)\" to \"[f84fef6fbf104649f87016daa85380c2480bffbb](https://github.com/sagemath/sagetrac-mirror/commit/f84fef6fbf104649f87016daa85380c2480bffbb)\".",
    "created_at": "2019-08-13T11:48:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519661",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[084a2abb8d5c7b28d952d8f39265d5086c7ee9c9](https://github.com/sagemath/sagetrac-mirror/commit/084a2abb8d5c7b28d952d8f39265d5086c7ee9c9)" to "[f84fef6fbf104649f87016daa85380c2480bffbb](https://github.com/sagemath/sagetrac-mirror/commit/f84fef6fbf104649f87016daa85380c2480bffbb)".



---

archive/issue_comments_519662.json:
```json
{
    "body": "<a id='comment:22'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f84fef6fbf104649f87016daa85380c2480bffbb\">f84fef6</a></td><td><code>Make UniqueRepresentation do_pickle</code></td></tr></table>\n",
    "created_at": "2019-08-13T11:48:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519662",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f84fef6fbf104649f87016daa85380c2480bffbb">f84fef6</a></td><td><code>Make UniqueRepresentation do_pickle</code></td></tr></table>




---

archive/issue_comments_519663.json:
```json
{
    "body": "<a id='comment:23'></a>\nThis ticket deserves more attention. For your info, the branch is python3-safe.",
    "created_at": "2019-08-27T00:18:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519663",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:23'></a>
This ticket deserves more attention. For your info, the branch is python3-safe.



---

archive/issue_comments_519664.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/874f6c64cb0a383f8b53a309ee0bb67440cc54c8\">874f6c6</a></td><td><code>Make UniqueRepresentation do_pickle</code></td></tr></table>\n",
    "created_at": "2019-09-16T07:09:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519664",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/874f6c64cb0a383f8b53a309ee0bb67440cc54c8">874f6c6</a></td><td><code>Make UniqueRepresentation do_pickle</code></td></tr></table>




---

archive/issue_comments_519665.json:
```json
{
    "body": "**Changing commit** from \"[f84fef6fbf104649f87016daa85380c2480bffbb](https://github.com/sagemath/sagetrac-mirror/commit/f84fef6fbf104649f87016daa85380c2480bffbb)\" to \"[874f6c64cb0a383f8b53a309ee0bb67440cc54c8](https://github.com/sagemath/sagetrac-mirror/commit/874f6c64cb0a383f8b53a309ee0bb67440cc54c8)\".",
    "created_at": "2019-09-16T07:09:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519665",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f84fef6fbf104649f87016daa85380c2480bffbb](https://github.com/sagemath/sagetrac-mirror/commit/f84fef6fbf104649f87016daa85380c2480bffbb)" to "[874f6c64cb0a383f8b53a309ee0bb67440cc54c8](https://github.com/sagemath/sagetrac-mirror/commit/874f6c64cb0a383f8b53a309ee0bb67440cc54c8)".



---

archive/issue_comments_519666.json:
```json
{
    "body": "<a id='comment:25'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/056dcb36314fe782324b6c23d07c65a694a1775e\">056dcb3</a></td><td><code>Merge branch 'develop' into picklable-trac28096</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5705d479f6d08e7a1d9dcc6562fa7bc2fe52d65a\">5705d47</a></td><td><code>Merge branch 'develop' into picklable-trac28096</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1c7efa211954447fb22351a2eefcf05080edc46\">d1c7efa</a></td><td><code>Merge branch 'develop'</code></td></tr></table>\n",
    "created_at": "2019-12-26T07:54:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519666",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/056dcb36314fe782324b6c23d07c65a694a1775e">056dcb3</a></td><td><code>Merge branch 'develop' into picklable-trac28096</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5705d479f6d08e7a1d9dcc6562fa7bc2fe52d65a">5705d47</a></td><td><code>Merge branch 'develop' into picklable-trac28096</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1c7efa211954447fb22351a2eefcf05080edc46">d1c7efa</a></td><td><code>Merge branch 'develop'</code></td></tr></table>




---

archive/issue_comments_519667.json:
```json
{
    "body": "**Changing commit** from \"[874f6c64cb0a383f8b53a309ee0bb67440cc54c8](https://github.com/sagemath/sagetrac-mirror/commit/874f6c64cb0a383f8b53a309ee0bb67440cc54c8)\" to \"[d1c7efa211954447fb22351a2eefcf05080edc46](https://github.com/sagemath/sagetrac-mirror/commit/d1c7efa211954447fb22351a2eefcf05080edc46)\".",
    "created_at": "2019-12-26T07:54:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519667",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[874f6c64cb0a383f8b53a309ee0bb67440cc54c8](https://github.com/sagemath/sagetrac-mirror/commit/874f6c64cb0a383f8b53a309ee0bb67440cc54c8)" to "[d1c7efa211954447fb22351a2eefcf05080edc46](https://github.com/sagemath/sagetrac-mirror/commit/d1c7efa211954447fb22351a2eefcf05080edc46)".



---

archive/issue_comments_519668.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2019-12-26T07:56:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519668",
    "user": "https://github.com/kwankyu"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_519669.json:
```json
{
    "body": "<a id='comment:27'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0fd1acca08965aeb8a77bc4ec280d9c84df44685\">0fd1acc</a></td><td><code>Make UniqueRepresentation do_pickle</code></td></tr></table>\n",
    "created_at": "2019-12-26T09:26:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519669",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0fd1acca08965aeb8a77bc4ec280d9c84df44685">0fd1acc</a></td><td><code>Make UniqueRepresentation do_pickle</code></td></tr></table>




---

archive/issue_comments_519670.json:
```json
{
    "body": "**Changing commit** from \"[d1c7efa211954447fb22351a2eefcf05080edc46](https://github.com/sagemath/sagetrac-mirror/commit/d1c7efa211954447fb22351a2eefcf05080edc46)\" to \"[0fd1acca08965aeb8a77bc4ec280d9c84df44685](https://github.com/sagemath/sagetrac-mirror/commit/0fd1acca08965aeb8a77bc4ec280d9c84df44685)\".",
    "created_at": "2019-12-26T09:26:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519670",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d1c7efa211954447fb22351a2eefcf05080edc46](https://github.com/sagemath/sagetrac-mirror/commit/d1c7efa211954447fb22351a2eefcf05080edc46)" to "[0fd1acca08965aeb8a77bc4ec280d9c84df44685](https://github.com/sagemath/sagetrac-mirror/commit/0fd1acca08965aeb8a77bc4ec280d9c84df44685)".



---

archive/issue_comments_519671.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2019-12-26T09:26:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519671",
    "user": "https://github.com/kwankyu"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_519672.json:
```json
{
    "body": "<a id='comment:29'></a>\nTicket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519672",
    "user": "https://github.com/embray"
}
```

<a id='comment:29'></a>
Ticket retargeted after milestone closed



---

archive/issue_events_079269.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-79269"
}
```



---

archive/issue_events_079270.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T04:28:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-79270"
}
```



---

archive/issue_events_079271.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T04:28:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-79271"
}
```



---

archive/issue_comments_519673.json:
```json
{
    "body": "<a id='comment:30'></a>\nMoving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.",
    "created_at": "2020-05-01T04:28:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519673",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'></a>
Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.



---

archive/issue_comments_519674.json:
```json
{
    "body": "**Work_Issues:** needs rebase",
    "created_at": "2020-06-18T02:29:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519674",
    "user": "https://github.com/mkoeppe"
}
```

**Work_Issues:** needs rebase



---

archive/issue_comments_519675.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2020-06-18T02:29:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519675",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_519676.json:
```json
{
    "body": "**Changing commit** from \"[0fd1acca08965aeb8a77bc4ec280d9c84df44685](https://github.com/sagemath/sagetrac-mirror/commit/0fd1acca08965aeb8a77bc4ec280d9c84df44685)\" to \"[727b23f14038a0ba21020426e41501cee0dcb02f](https://github.com/sagemath/sagetrac-mirror/commit/727b23f14038a0ba21020426e41501cee0dcb02f)\".",
    "created_at": "2020-06-18T07:07:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519676",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[0fd1acca08965aeb8a77bc4ec280d9c84df44685](https://github.com/sagemath/sagetrac-mirror/commit/0fd1acca08965aeb8a77bc4ec280d9c84df44685)" to "[727b23f14038a0ba21020426e41501cee0dcb02f](https://github.com/sagemath/sagetrac-mirror/commit/727b23f14038a0ba21020426e41501cee0dcb02f)".



---

archive/issue_comments_519677.json:
```json
{
    "body": "<a id='comment:32'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/727b23f14038a0ba21020426e41501cee0dcb02f\">727b23f</a></td><td><code>Make do_pickle work for UniqueRepresentation objects</code></td></tr></table>\n",
    "created_at": "2020-06-18T07:07:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519677",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/727b23f14038a0ba21020426e41501cee0dcb02f">727b23f</a></td><td><code>Make do_pickle work for UniqueRepresentation objects</code></td></tr></table>




---

archive/issue_comments_519678.json:
```json
{
    "body": "**Changing commit** from \"[727b23f14038a0ba21020426e41501cee0dcb02f](https://github.com/sagemath/sagetrac-mirror/commit/727b23f14038a0ba21020426e41501cee0dcb02f)\" to \"[f0b387e8a76e1ad93e6d413ba1601549fd19c41a](https://github.com/sagemath/sagetrac-mirror/commit/f0b387e8a76e1ad93e6d413ba1601549fd19c41a)\".",
    "created_at": "2020-06-18T07:18:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519678",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[727b23f14038a0ba21020426e41501cee0dcb02f](https://github.com/sagemath/sagetrac-mirror/commit/727b23f14038a0ba21020426e41501cee0dcb02f)" to "[f0b387e8a76e1ad93e6d413ba1601549fd19c41a](https://github.com/sagemath/sagetrac-mirror/commit/f0b387e8a76e1ad93e6d413ba1601549fd19c41a)".



---

archive/issue_comments_519679.json:
```json
{
    "body": "<a id='comment:33'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f0b387e8a76e1ad93e6d413ba1601549fd19c41a\">f0b387e</a></td><td><code>Fix typos</code></td></tr></table>\n",
    "created_at": "2020-06-18T07:18:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519679",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:33'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f0b387e8a76e1ad93e6d413ba1601549fd19c41a">f0b387e</a></td><td><code>Fix typos</code></td></tr></table>




---

archive/issue_comments_519680.json:
```json
{
    "body": "<a id='comment:34'></a>\nI am not sure if this patch would incur any bad side effects. Experts on `UniqueRepresentation` are welcome to scrutinize.",
    "created_at": "2020-06-18T07:24:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519680",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:34'></a>
I am not sure if this patch would incur any bad side effects. Experts on `UniqueRepresentation` are welcome to scrutinize.



---

archive/issue_comments_519681.json:
```json
{
    "body": "**Changing work_issues** from \"needs rebase\" to \"\".",
    "created_at": "2020-06-18T07:30:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519681",
    "user": "https://github.com/kwankyu"
}
```

**Changing work_issues** from "needs rebase" to "".



---

archive/issue_comments_519682.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2020-06-18T07:30:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519682",
    "user": "https://github.com/kwankyu"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_519683.json:
```json
{
    "body": "<a id='comment:36'></a>\nIn particular, I do not understand Volker's comment in the discussion:\n\n> Not every circularly dependent collection of cython objects can be pickled. Cached values can make the difference between what can and cannot be pickled. So whether or not pickling works can't reliably be tested in that case.\n",
    "created_at": "2020-06-18T07:34:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519683",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:36'></a>
In particular, I do not understand Volker's comment in the discussion:

> Not every circularly dependent collection of cython objects can be pickled. Cached values can make the difference between what can and cannot be pickled. So whether or not pickling works can't reliably be tested in that case.




---

archive/issue_events_079272.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-79272"
}
```



---

archive/issue_events_079273.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-79273"
}
```



---

archive/issue_events_079274.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-15T22:07:04Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-79274"
}
```



---

archive/issue_events_079275.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-15T22:07:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-79275"
}
```



---

archive/issue_comments_519684.json:
```json
{
    "body": "<a id='comment:39'></a>\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-15T22:07:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519684",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:39'></a>
Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_519685.json:
```json
{
    "body": "<a id='comment:40'></a>\nSetting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519685",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:40'></a>
Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_079276.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-79276"
}
```



---

archive/issue_events_079277.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-79277"
}
```



---

archive/issue_comments_519686.json:
```json
{
    "body": "<a id='comment:41'></a>\nStalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.",
    "created_at": "2021-12-18T19:53:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519686",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:41'></a>
Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.



---

archive/issue_events_079278.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-79278"
}
```



---

archive/issue_events_079279.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-79279"
}
```



---

archive/issue_comments_519687.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2022-03-21T19:25:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519687",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_519688.json:
```json
{
    "body": "<a id='comment:42'></a>\nneeds rebase",
    "created_at": "2022-03-21T19:25:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519688",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:42'></a>
needs rebase



---

archive/issue_comments_519689.json:
```json
{
    "body": "<a id='comment:43'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6f14c1cfb108f6b5f2146be0678d8a4112c2b948\">6f14c1c</a></td><td><code>Make do_pickle work for UniqueRepresentation objects</code></td></tr></table>\n",
    "created_at": "2022-03-22T08:39:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519689",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:43'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6f14c1cfb108f6b5f2146be0678d8a4112c2b948">6f14c1c</a></td><td><code>Make do_pickle work for UniqueRepresentation objects</code></td></tr></table>




---

archive/issue_comments_519690.json:
```json
{
    "body": "**Changing commit** from \"[f0b387e8a76e1ad93e6d413ba1601549fd19c41a](https://github.com/sagemath/sagetrac-mirror/commit/f0b387e8a76e1ad93e6d413ba1601549fd19c41a)\" to \"[6f14c1cfb108f6b5f2146be0678d8a4112c2b948](https://github.com/sagemath/sagetrac-mirror/commit/6f14c1cfb108f6b5f2146be0678d8a4112c2b948)\".",
    "created_at": "2022-03-22T08:39:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519690",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f0b387e8a76e1ad93e6d413ba1601549fd19c41a](https://github.com/sagemath/sagetrac-mirror/commit/f0b387e8a76e1ad93e6d413ba1601549fd19c41a)" to "[6f14c1cfb108f6b5f2146be0678d8a4112c2b948](https://github.com/sagemath/sagetrac-mirror/commit/6f14c1cfb108f6b5f2146be0678d8a4112c2b948)".



---

archive/issue_comments_519691.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2022-03-23T01:43:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519691",
    "user": "https://github.com/kwankyu"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_events_079280.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-17T19:59:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-79280"
}
```



---

archive/issue_events_079281.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-17T19:59:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-79281"
}
```



---

archive/issue_comments_519692.json:
```json
{
    "body": "**Changing branch** from \"[u/klee/28096](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/28096)\" to \"[u/mkoeppe/28096](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/28096)\".",
    "created_at": "2022-08-13T00:38:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519692",
    "user": "https://github.com/mkoeppe"
}
```

**Changing branch** from "[u/klee/28096](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/28096)" to "[u/mkoeppe/28096](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/28096)".



---

archive/issue_comments_519693.json:
```json
{
    "body": "**Changing commit** from \"[6f14c1cfb108f6b5f2146be0678d8a4112c2b948](https://github.com/sagemath/sagetrac-mirror/commit/6f14c1cfb108f6b5f2146be0678d8a4112c2b948)\" to \"[ab2eb8644ba6a40079444fdab7530d0ac97fd22e](https://github.com/sagemath/sagetrac-mirror/commit/ab2eb8644ba6a40079444fdab7530d0ac97fd22e)\".",
    "created_at": "2022-08-13T00:38:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519693",
    "user": "https://github.com/mkoeppe"
}
```

**Changing commit** from "[6f14c1cfb108f6b5f2146be0678d8a4112c2b948](https://github.com/sagemath/sagetrac-mirror/commit/6f14c1cfb108f6b5f2146be0678d8a4112c2b948)" to "[ab2eb8644ba6a40079444fdab7530d0ac97fd22e](https://github.com/sagemath/sagetrac-mirror/commit/ab2eb8644ba6a40079444fdab7530d0ac97fd22e)".



---

archive/issue_comments_519694.json:
```json
{
    "body": "<a id='comment:47'></a>\nrebased\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ab2eb8644ba6a40079444fdab7530d0ac97fd22e\">ab2eb86</a></td><td><code>Make do_pickle work for UniqueRepresentation objects</code></td></tr></table>\n",
    "created_at": "2022-08-13T00:38:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519694",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:47'></a>
rebased

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ab2eb8644ba6a40079444fdab7530d0ac97fd22e">ab2eb86</a></td><td><code>Make do_pickle work for UniqueRepresentation objects</code></td></tr></table>




---

archive/issue_comments_519695.json:
```json
{
    "body": "<a id='comment:48'></a>\nThank you. This is long neglected, even by me. Perhaps it may need some revision.",
    "created_at": "2022-08-13T01:09:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519695",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:48'></a>
Thank you. This is long neglected, even by me. Perhaps it may need some revision.



---

archive/issue_comments_519696.json:
```json
{
    "body": "<a id='comment:49'></a>\nI ran into an issue with `UniqueRepresentation` in #19195, so I'm taking a look at open related tickets (#25388, #25389, #14167)",
    "created_at": "2022-08-13T01:12:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28096#issuecomment-519696",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:49'></a>
I ran into an issue with `UniqueRepresentation` in #19195, so I'm taking a look at open related tickets (#25388, #25389, #14167)



---

archive/issue_events_079282.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-79282"
}
```



---

archive/issue_events_079283.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28096",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28096#event-79283"
}
```
