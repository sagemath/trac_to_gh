# Issue 28675: Deprecate GraphicsArray import from sage.plot.graphics

archive/issues_028438.json:
```json
{
    "body": "#27865 has refactored the class `GraphicsArray`, making it a subclass of `MultiGraphics`, and has moved its definition from  `src/sage/plot/graphics.py` to `src/sage/plot/multigraphics.py`. As pointed out in https://groups.google.com/d/msg/sage-devel/eTl4DHcwnOo/uQSOtstWAwAJ, this has broken Sage's API: the import via\n\n```\nfrom sage.plot.graphics import GraphicsArray\n```\ndoes not longer work. This ticket makes it work again, but with the following deprecation notice: \n\n```\nDeprecationWarning: GraphicsArray must be imported from sage.plot.multigraphics \nand no longer from sage.plot.graphics.\nSee https://trac.sagemath.org/28675 for details.\n```\nA possible shortcoming of the approach adopted here is that the deprecation message appears only at the first use of `GraphicsArray`, not during the `import` itself. Actually, I don't know if it is possible to generate a deprecation warning during some import.  \n\n\nCC:  @williamstein @kcrisman\n\nKeywords: GraphicsArray\n\nBranch/Commit: 87bc58a608cf303db209808e6b5ae9bbddef46fb\n\nReviewer: Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Eric Gourgoulhon\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/28675\n\n",
    "closed_at": "2019-11-24T16:58:51Z",
    "created_at": "2019-10-29T23:23:26Z",
    "labels": [
        "component: graphics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.0",
    "title": "Deprecate GraphicsArray import from sage.plot.graphics",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28675",
    "user": "https://github.com/egourgoulhon"
}
```
#27865 has refactored the class `GraphicsArray`, making it a subclass of `MultiGraphics`, and has moved its definition from  `src/sage/plot/graphics.py` to `src/sage/plot/multigraphics.py`. As pointed out in https://groups.google.com/d/msg/sage-devel/eTl4DHcwnOo/uQSOtstWAwAJ, this has broken Sage's API: the import via

```
from sage.plot.graphics import GraphicsArray
```
does not longer work. This ticket makes it work again, but with the following deprecation notice: 

```
DeprecationWarning: GraphicsArray must be imported from sage.plot.multigraphics 
and no longer from sage.plot.graphics.
See https://trac.sagemath.org/28675 for details.
```
A possible shortcoming of the approach adopted here is that the deprecation message appears only at the first use of `GraphicsArray`, not during the `import` itself. Actually, I don't know if it is possible to generate a deprecation warning during some import.  


CC:  @williamstein @kcrisman

Keywords: GraphicsArray

Branch/Commit: 87bc58a608cf303db209808e6b5ae9bbddef46fb

Reviewer: Frédéric Chapoton

Author: Eric Gourgoulhon

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/28675





---

archive/issue_comments_401262.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-10-31T07:56:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28675#issuecomment-401262",
    "user": "https://github.com/egourgoulhon"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_401263.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2019-10-31T07:56:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28675#issuecomment-401263",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_401264.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-11-04T21:44:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28675#issuecomment-401264",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_401265.json:
```json
{
    "body": "<a id='comment:3'></a>The merge conflict solved above was due to the introduction of #27866 in Sage 9.0.beta4.",
    "created_at": "2019-11-04T22:03:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28675#issuecomment-401265",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:3'></a>The merge conflict solved above was due to the introduction of #27866 in Sage 9.0.beta4.



---

archive/issue_comments_401266.json:
```json
{
    "body": "<a id='comment:6'></a>I like the spirit of this.  Can you actually view this array and do the usual (old) methods with it for now?  (I regret that I cannot actually test this due to time constraints - a sad refrain the past few years.)  Anyway, if so and green patchbot, this is probably the best way to deal with this situation, unless William has other improvements he would suggest.",
    "created_at": "2019-11-06T15:58:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28675#issuecomment-401266",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:6'></a>I like the spirit of this.  Can you actually view this array and do the usual (old) methods with it for now?  (I regret that I cannot actually test this due to time constraints - a sad refrain the past few years.)  Anyway, if so and green patchbot, this is probably the best way to deal with this situation, unless William has other improvements he would suggest.



---

archive/issue_comments_401267.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:6 kcrisman]:\n> I like the spirit of this.  Can you actually view this array and do the usual (old) methods with it for now?  \n\n\nYes absolutely, since the object constructed from `sage.plot.graphics.GraphicsArray` is actually a\n`sage.plot.multigraphics.GraphicsArray`.",
    "created_at": "2019-11-06T16:09:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28675#issuecomment-401267",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:7'></a>Replying to [comment:6 kcrisman]:
> I like the spirit of this.  Can you actually view this array and do the usual (old) methods with it for now?  


Yes absolutely, since the object constructed from `sage.plot.graphics.GraphicsArray` is actually a
`sage.plot.multigraphics.GraphicsArray`.



---

archive/issue_comments_401268.json:
```json
{
    "body": "<a id='comment:8'></a>Replying to [comment:6 kcrisman]:\n> Anyway, if so and green patchbot, this is probably the best way to deal with this situation, unless William has other improvements he would suggest.\n\n\nThe patchbot is still green...",
    "created_at": "2019-11-17T11:41:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28675#issuecomment-401268",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:8'></a>Replying to [comment:6 kcrisman]:
> Anyway, if so and green patchbot, this is probably the best way to deal with this situation, unless William has other improvements he would suggest.


The patchbot is still green...



---

archive/issue_comments_401269.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-11-17T13:25:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28675#issuecomment-401269",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_401270.json:
```json
{
    "body": "<a id='comment:10'></a>Thanks!",
    "created_at": "2019-11-17T14:58:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28675#issuecomment-401270",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:10'></a>Thanks!



---

archive/issue_comments_401271.json:
```json
{
    "body": "<a id='comment:11'></a>+1 thanks chapoton!",
    "created_at": "2019-11-18T17:03:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28675#issuecomment-401271",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:11'></a>+1 thanks chapoton!



---

archive/issue_events_072217.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-11-24T16:58:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28675",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28675#event-72217"
}
```



---

archive/issue_comments_401272.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-11-24T16:58:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28675#issuecomment-401272",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
