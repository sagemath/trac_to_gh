# Issue 28891: character art and sympy-conversion of symbolic series

archive/issues_028654.json:
```json
{
    "body": "This ticket fixes the broken ascii and unicode art of symbolic series by implementing the appropriate conversions to Sympy (which are called by the generic character art methods of symbolic expressions).\n\nBefore:\n\n```\nsage: unicode_art(exp(x).series(x, 4))\n(1, +, 1*x, +, 1/2*x\u00b2, +, 1/6*x\u00b3, +, Order(x\u2074\u207e)\nsage: unicode_art(exp(x).series(x==1, 3))\n((e), +, (e)*(x, -, 1), +, (1/2*e)*(x, -, 1)\u00b2, +, Order((x, -, 1)\u00b3\u207e)\n```\n\nAfter:\n\n```\nsage: unicode_art(exp(x).series(x, 4))\n         2    3\n        x    x     \u239b 4\u239e\n1 + x + \u2500\u2500 + \u2500\u2500 + O\u239dx \u23a0\n        2    6\nsage: unicode_art(exp(x).series(x==1, 3))\n                         2\n                \u212f\u22c5(x - 1)     \u239b       3       \u239e\n\u212f + \u212f\u22c5(x - 1) + \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 + O\u239d(x - 1) ; x \u2192 1\u23a0\n                    2\n```\n\nExtra care is taken to allow series expansions at non-zero positions as above, as Sympy's function `O` takes slightly different arguments than Sage's `Order`.\n\n\nKeywords: sympy\n\nBranch/Commit: 8bdd72df1d6e8e0ce807da2deca8239e657bc559\n\nReviewer: Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Markus Wageringel\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/28891\n\n",
    "closed_at": "2019-12-17T22:46:17Z",
    "created_at": "2019-12-16T17:42:04Z",
    "labels": [
        "component: symbolics",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.0",
    "title": "character art and sympy-conversion of symbolic series",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28891",
    "user": "https://github.com/mwageringel"
}
```
This ticket fixes the broken ascii and unicode art of symbolic series by implementing the appropriate conversions to Sympy (which are called by the generic character art methods of symbolic expressions).

Before:

```
sage: unicode_art(exp(x).series(x, 4))
(1, +, 1*x, +, 1/2*x², +, 1/6*x³, +, Order(x⁴⁾)
sage: unicode_art(exp(x).series(x==1, 3))
((e), +, (e)*(x, -, 1), +, (1/2*e)*(x, -, 1)², +, Order((x, -, 1)³⁾)
```

After:

```
sage: unicode_art(exp(x).series(x, 4))
         2    3
        x    x     ⎛ 4⎞
1 + x + ── + ── + O⎝x ⎠
        2    6
sage: unicode_art(exp(x).series(x==1, 3))
                         2
                ℯ⋅(x - 1)     ⎛       3       ⎞
ℯ + ℯ⋅(x - 1) + ────────── + O⎝(x - 1) ; x → 1⎠
                    2
```

Extra care is taken to allow series expansions at non-zero positions as above, as Sympy's function `O` takes slightly different arguments than Sage's `Order`.


Keywords: sympy

Branch/Commit: 8bdd72df1d6e8e0ce807da2deca8239e657bc559

Reviewer: Frédéric Chapoton

Author: Markus Wageringel

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/28891





---

archive/issue_comments_554243.json:
```json
{
    "body": "Changing commit from \"\" to \"7818ba9b652570eff8b4254a6b36460f3efbc8c7\"",
    "created_at": "2019-12-16T17:57:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28891#issuecomment-554243",
    "user": "https://github.com/mwageringel"
}
```

Changing commit from "" to "7818ba9b652570eff8b4254a6b36460f3efbc8c7"



---

archive/issue_comments_554244.json:
```json
{
    "body": "Changing author from \"\" to \"Markus Wageringel\"",
    "created_at": "2019-12-16T17:57:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28891#issuecomment-554244",
    "user": "https://github.com/mwageringel"
}
```

Changing author from "" to "Markus Wageringel"



---

archive/issue_comments_554245.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-12-16T17:57:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28891#issuecomment-554245",
    "user": "https://github.com/mwageringel"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_554246.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                                          |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|\n|[7818ba9](https://github.com/sagemath/sagetrac-mirror/commit/7818ba9b652570eff8b4254a6b36460f3efbc8c7)|`28891: character art/sympy-conversion of symbolic series`|",
    "created_at": "2019-12-16T17:57:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28891#issuecomment-554246",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                                          |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|
|[7818ba9](https://github.com/sagemath/sagetrac-mirror/commit/7818ba9b652570eff8b4254a6b36460f3efbc8c7)|`28891: character art/sympy-conversion of symbolic series`|



---

archive/issue_comments_554247.json:
```json
{
    "body": "Changing branch from \"\" to \"u/gh-mwageringel/28891\"",
    "created_at": "2019-12-16T17:57:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28891#issuecomment-554247",
    "user": "https://github.com/mwageringel"
}
```

Changing branch from "" to "u/gh-mwageringel/28891"



---

archive/issue_comments_554248.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|\n|[90a595f](https://github.com/sagemath/sagetrac-mirror/commit/90a595f8f3dc17f0e89dfd084755010112ea4043)|`28891: character art/sympy-conversion of symbolic series`|",
    "created_at": "2019-12-16T19:35:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28891#issuecomment-554248",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|
|[90a595f](https://github.com/sagemath/sagetrac-mirror/commit/90a595f8f3dc17f0e89dfd084755010112ea4043)|`28891: character art/sympy-conversion of symbolic series`|



---

archive/issue_comments_554249.json:
```json
{
    "body": "Changing commit from \"7818ba9b652570eff8b4254a6b36460f3efbc8c7\" to \"90a595f8f3dc17f0e89dfd084755010112ea4043\"",
    "created_at": "2019-12-16T19:35:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28891#issuecomment-554249",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7818ba9b652570eff8b4254a6b36460f3efbc8c7" to "90a595f8f3dc17f0e89dfd084755010112ea4043"



---

archive/issue_comments_554250.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|\n|[8bdd72d](https://github.com/sagemath/sagetrac-mirror/commit/8bdd72df1d6e8e0ce807da2deca8239e657bc559)|`28891: character art/sympy-conversion of symbolic series`|",
    "created_at": "2019-12-16T19:40:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28891#issuecomment-554250",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------|
|[8bdd72d](https://github.com/sagemath/sagetrac-mirror/commit/8bdd72df1d6e8e0ce807da2deca8239e657bc559)|`28891: character art/sympy-conversion of symbolic series`|



---

archive/issue_comments_554251.json:
```json
{
    "body": "Changing commit from \"90a595f8f3dc17f0e89dfd084755010112ea4043\" to \"8bdd72df1d6e8e0ce807da2deca8239e657bc559\"",
    "created_at": "2019-12-16T19:40:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28891#issuecomment-554251",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "90a595f8f3dc17f0e89dfd084755010112ea4043" to "8bdd72df1d6e8e0ce807da2deca8239e657bc559"



---

archive/issue_comments_554252.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-12-16T21:21:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28891#issuecomment-554252",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_554253.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2019-12-16T21:21:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28891#issuecomment-554253",
    "user": "https://github.com/fchapoton"
}
```

Changing reviewer from "" to "Frédéric Chapoton"



---

archive/issue_comments_554254.json:
```json
{
    "body": "<a id='comment:4'></a>\nok, thx",
    "created_at": "2019-12-16T21:21:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28891#issuecomment-554254",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
ok, thx



---

archive/issue_comments_554255.json:
```json
{
    "body": "Changing branch from \"u/gh-mwageringel/28891\" to \"8bdd72df1d6e8e0ce807da2deca8239e657bc559\"",
    "created_at": "2019-12-17T22:46:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28891#issuecomment-554255",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/gh-mwageringel/28891" to "8bdd72df1d6e8e0ce807da2deca8239e657bc559"



---

archive/issue_events_090418.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-12-17T22:46:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28891",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28891#event-90418"
}
```



---

archive/issue_comments_554256.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-12-17T22:46:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28891",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28891#issuecomment-554256",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
