# Issue 28326: Restore default term state after printing environment variables

archive/issues_028089.json:
```json
{
    "body": "Terminal may be pollute color sequences in environment variables during build.\nBasically, my build log is full green.\n\nThis can be avoided by restoring default color after the dump of variables.\n\nCC:  @embray\n\nBranch/Commit: 671efa739944f9188f5187f14ce5e1656994c765\n\nReviewer: Erik Bray\n\nAuthor: Henri Derycke\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/28326\n\n",
    "closed_at": "2019-12-20T22:45:53Z",
    "created_at": "2019-08-06T12:13:25Z",
    "labels": [
        "component: build",
        "trivial"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.0",
    "title": "Restore default term state after printing environment variables",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28326",
    "user": "https://github.com/nheir"
}
```
Terminal may be pollute color sequences in environment variables during build.
Basically, my build log is full green.

This can be avoided by restoring default color after the dump of variables.

CC:  @embray

Branch/Commit: 671efa739944f9188f5187f14ce5e1656994c765

Reviewer: Erik Bray

Author: Henri Derycke

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/28326





---

archive/issue_comments_549477.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|\n|[671efa7](https://git.sagemath.org/sage.git/commit?id=671efa739944f9188f5187f14ce5e1656994c765)|`restore terminal default colors`|",
    "created_at": "2019-08-06T12:16:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-549477",
    "user": "https://github.com/nheir"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|
|[671efa7](https://git.sagemath.org/sage.git/commit?id=671efa739944f9188f5187f14ce5e1656994c765)|`restore terminal default colors`|



---

archive/issue_comments_549478.json:
```json
{
    "body": "Changing commit from \"\" to \"671efa739944f9188f5187f14ce5e1656994c765\"",
    "created_at": "2019-08-06T12:16:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-549478",
    "user": "https://github.com/nheir"
}
```

Changing commit from "" to "671efa739944f9188f5187f14ce5e1656994c765"



---

archive/issue_comments_549479.json:
```json
{
    "body": "Changing branch from \"\" to \"u/hderycke/28326_restore_term\"",
    "created_at": "2019-08-06T12:16:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-549479",
    "user": "https://github.com/nheir"
}
```

Changing branch from "" to "u/hderycke/28326_restore_term"



---

archive/issue_comments_549480.json:
```json
{
    "body": "<a id='comment:2'></a>\nwhile this work with `bash` and `zsh` on rxvt-unicode/xterm I expect it to work on any terminal on linux.\nI cannot test it on other OS.",
    "created_at": "2019-08-06T12:22:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-549480",
    "user": "https://github.com/nheir"
}
```

<a id='comment:2'></a>
while this work with `bash` and `zsh` on rxvt-unicode/xterm I expect it to work on any terminal on linux.
I cannot test it on other OS.



---

archive/issue_comments_549481.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-08-06T12:23:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-549481",
    "user": "https://github.com/nheir"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_549482.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Erik Bray\"",
    "created_at": "2019-12-16T10:24:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-549482",
    "user": "https://github.com/embray"
}
```

Changing reviewer from "" to "Erik Bray"



---

archive/issue_events_070721.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-16T10:24:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "milestone": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28326#event-70721"
}
```



---

archive/issue_comments_549483.json:
```json
{
    "body": "<a id='comment:5'></a>\nMakes sense, thanks.",
    "created_at": "2019-12-16T10:24:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-549483",
    "user": "https://github.com/embray"
}
```

<a id='comment:5'></a>
Makes sense, thanks.



---

archive/issue_comments_549484.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-12-16T10:24:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-549484",
    "user": "https://github.com/embray"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_549485.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2019-12-16T23:27:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-549485",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_549486.json:
```json
{
    "body": "<a id='comment:6'></a>\nAuthor name is missing",
    "created_at": "2019-12-16T23:27:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-549486",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:6'></a>
Author name is missing



---

archive/issue_comments_549487.json:
```json
{
    "body": "<a id='comment:7'></a>\nhderycke, is this your correct full name ?",
    "created_at": "2019-12-17T10:00:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-549487",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>
hderycke, is this your correct full name ?



---

archive/issue_comments_549488.json:
```json
{
    "body": "Changing author from \"\" to \"Henri Derycke\"",
    "created_at": "2019-12-17T10:00:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-549488",
    "user": "https://github.com/fchapoton"
}
```

Changing author from "" to "Henri Derycke"



---

archive/issue_comments_549489.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2019-12-17T12:51:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-549489",
    "user": "https://github.com/embray"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_events_070722.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-12-20T22:45:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28326#event-70722"
}
```



---

archive/issue_comments_549490.json:
```json
{
    "body": "Changing branch from \"u/hderycke/28326_restore_term\" to \"671efa739944f9188f5187f14ce5e1656994c765\"",
    "created_at": "2019-12-20T22:45:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-549490",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/hderycke/28326_restore_term" to "671efa739944f9188f5187f14ce5e1656994c765"



---

archive/issue_comments_549491.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-12-20T22:45:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-549491",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
