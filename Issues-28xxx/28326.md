# Issue 28326: Restore default term state after printing environment variables

archive/issues_028089.json:
```json
{
    "body": "Terminal may be pollute color sequences in environment variables during build.\nBasically, my build log is full green.\n\nThis can be avoided by restoring default color after the dump of variables.\n\n**CC:**  @embray\n\n**Branch/Commit:** [671efa739944f9188f5187f14ce5e1656994c765](https://github.com/sagemath/sagetrac-mirror/commit/671efa739944f9188f5187f14ce5e1656994c765)\n\n**Reviewer:** Erik Bray\n\n**Author:** Henri Derycke\n\nIssue created by migration from https://trac.sagemath.org/ticket/28326\n\n",
    "closed_at": "2019-12-20T22:45:53Z",
    "created_at": "2019-08-06T12:13:25Z",
    "labels": [
        "component: build",
        "trivial",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.0",
    "title": "Restore default term state after printing environment variables",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28326",
    "user": "https://github.com/nheir"
}
```
Terminal may be pollute color sequences in environment variables during build.
Basically, my build log is full green.

This can be avoided by restoring default color after the dump of variables.

**CC:**  @embray

**Branch/Commit:** [671efa739944f9188f5187f14ce5e1656994c765](https://github.com/sagemath/sagetrac-mirror/commit/671efa739944f9188f5187f14ce5e1656994c765)

**Reviewer:** Erik Bray

**Author:** Henri Derycke

Issue created by migration from https://trac.sagemath.org/ticket/28326





---

archive/issue_comments_524589.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/671efa739944f9188f5187f14ce5e1656994c765\">671efa7</a></td><td><code>restore terminal default colors</code></td></tr></table>\n",
    "created_at": "2019-08-06T12:16:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-524589",
    "user": "https://github.com/nheir"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/671efa739944f9188f5187f14ce5e1656994c765">671efa7</a></td><td><code>restore terminal default colors</code></td></tr></table>




---

archive/issue_comments_524590.json:
```json
{
    "body": "**Commit:** [671efa739944f9188f5187f14ce5e1656994c765](https://github.com/sagemath/sagetrac-mirror/commit/671efa739944f9188f5187f14ce5e1656994c765)",
    "created_at": "2019-08-06T12:16:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-524590",
    "user": "https://github.com/nheir"
}
```

**Commit:** [671efa739944f9188f5187f14ce5e1656994c765](https://github.com/sagemath/sagetrac-mirror/commit/671efa739944f9188f5187f14ce5e1656994c765)



---

archive/issue_comments_524591.json:
```json
{
    "body": "**Branch:** [u/hderycke/28326_restore_term](https://github.com/sagemath/sagetrac-mirror/tree/u/hderycke/28326_restore_term)",
    "created_at": "2019-08-06T12:16:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-524591",
    "user": "https://github.com/nheir"
}
```

**Branch:** [u/hderycke/28326_restore_term](https://github.com/sagemath/sagetrac-mirror/tree/u/hderycke/28326_restore_term)



---

archive/issue_comments_524592.json:
```json
{
    "body": "<a id='comment:2'></a>\nwhile this work with `bash` and `zsh` on rxvt-unicode/xterm I expect it to work on any terminal on linux.\nI cannot test it on other OS.",
    "created_at": "2019-08-06T12:22:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-524592",
    "user": "https://github.com/nheir"
}
```

<a id='comment:2'></a>
while this work with `bash` and `zsh` on rxvt-unicode/xterm I expect it to work on any terminal on linux.
I cannot test it on other OS.



---

archive/issue_comments_524593.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2019-08-06T12:23:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-524593",
    "user": "https://github.com/nheir"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_524594.json:
```json
{
    "body": "**Reviewer:** Erik Bray",
    "created_at": "2019-12-16T10:24:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-524594",
    "user": "https://github.com/embray"
}
```

**Reviewer:** Erik Bray



---

archive/issue_events_080393.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-16T10:24:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "milestone": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28326#event-80393"
}
```



---

archive/issue_comments_524595.json:
```json
{
    "body": "<a id='comment:5'></a>\nMakes sense, thanks.",
    "created_at": "2019-12-16T10:24:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-524595",
    "user": "https://github.com/embray"
}
```

<a id='comment:5'></a>
Makes sense, thanks.



---

archive/issue_comments_524596.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2019-12-16T10:24:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-524596",
    "user": "https://github.com/embray"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_524597.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2019-12-16T23:27:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-524597",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_524598.json:
```json
{
    "body": "<a id='comment:6'></a>\nAuthor name is missing",
    "created_at": "2019-12-16T23:27:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-524598",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:6'></a>
Author name is missing



---

archive/issue_comments_524599.json:
```json
{
    "body": "<a id='comment:7'></a>\nhderycke, is this your correct full name ?",
    "created_at": "2019-12-17T10:00:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-524599",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>
hderycke, is this your correct full name ?



---

archive/issue_comments_524600.json:
```json
{
    "body": "**Author:** Henri Derycke",
    "created_at": "2019-12-17T10:00:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-524600",
    "user": "https://github.com/fchapoton"
}
```

**Author:** Henri Derycke



---

archive/issue_comments_524601.json:
```json
{
    "body": "**Changing status** from needs_work to positive_review.",
    "created_at": "2019-12-17T12:51:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-524601",
    "user": "https://github.com/embray"
}
```

**Changing status** from needs_work to positive_review.



---

archive/issue_events_080394.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-12-20T22:45:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28326#event-80394"
}
```



---

archive/issue_comments_524602.json:
```json
{
    "body": "**Changing branch** from \"[u/hderycke/28326_restore_term](https://github.com/sagemath/sagetrac-mirror/tree/u/hderycke/28326_restore_term)\" to \"[671efa739944f9188f5187f14ce5e1656994c765](https://github.com/sagemath/sagetrac-mirror/commit/671efa739944f9188f5187f14ce5e1656994c765)\".",
    "created_at": "2019-12-20T22:45:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28326#issuecomment-524602",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/hderycke/28326_restore_term](https://github.com/sagemath/sagetrac-mirror/tree/u/hderycke/28326_restore_term)" to "[671efa739944f9188f5187f14ce5e1656994c765](https://github.com/sagemath/sagetrac-mirror/commit/671efa739944f9188f5187f14ce5e1656994c765)".
