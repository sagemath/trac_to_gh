# Issue 28494: Upgrade: rpy2 3.x

archive/issues_028257.json:
```json
{
    "body": "conda is already in 3.1.0\n\nCC:  @slel @EmmanuelCharpentier @timokau @antonio-rojas @fchapoton\n\nKeywords: upgrade, rpy2\n\nReviewer: Samuel Leli\u00e8vre\n\nDependencies: #28000\n\nResolution: duplicate\n\nIssue created by migration from https://trac.sagemath.org/ticket/28494\n\n",
    "closed_at": "2020-08-20T07:06:46Z",
    "created_at": "2019-09-14T16:59:04Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Upgrade: rpy2 3.x",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28494",
    "user": "https://github.com/isuruf"
}
```
conda is already in 3.1.0

CC:  @slel @EmmanuelCharpentier @timokau @antonio-rojas @fchapoton

Keywords: upgrade, rpy2

Reviewer: Samuel Lelièvre

Dependencies: #28000

Resolution: duplicate

Issue created by migration from https://trac.sagemath.org/ticket/28494





---

archive/issue_comments_552842.json:
```json
{
    "body": "<a id='comment:1'></a>Looks like rpy2 has dropped python2 support in recent versions",
    "created_at": "2019-09-14T17:03:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28494#issuecomment-552842",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:1'></a>Looks like rpy2 has dropped python2 support in recent versions



---

archive/issue_comments_552843.json:
```json
{
    "body": "<a id='comment:2'></a>I have 2.8.6 as the latest python2 supported version in sage-on-gentoo.",
    "created_at": "2019-09-14T19:17:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28494#issuecomment-552843",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:2'></a>I have 2.8.6 as the latest python2 supported version in sage-on-gentoo.



---

archive/issue_comments_552844.json:
```json
{
    "body": "Changing keywords from \"\" to \"upgrade, rpy2\".",
    "created_at": "2019-09-16T03:27:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28494#issuecomment-552844",
    "user": "https://github.com/slel"
}
```

Changing keywords from "" to "upgrade, rpy2".



---

archive/issue_events_071454.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2019-09-16T03:27:09Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28494",
    "milestone": "sage-wishlist",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28494#event-71454"
}
```



---

archive/issue_comments_552845.json:
```json
{
    "body": "<a id='comment:3'></a>We can either make this ticket \"Upgrade to rpy2 3.x\" and make it depend on the removal of py2 support (#28000),\nor make the ticket \"Upgrade to rpy2 2.8.6\" which is the latest py2-compatible (2.9 and following are not).",
    "created_at": "2019-09-16T03:27:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28494#issuecomment-552845",
    "user": "https://github.com/slel"
}
```

<a id='comment:3'></a>We can either make this ticket "Upgrade to rpy2 3.x" and make it depend on the removal of py2 support (#28000),
or make the ticket "Upgrade to rpy2 2.8.6" which is the latest py2-compatible (2.9 and following are not).



---

archive/issue_comments_552846.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#28000\"",
    "created_at": "2019-09-16T03:27:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28494#issuecomment-552846",
    "user": "https://github.com/slel"
}
```

Changing dependencies from "" to "#28000"



---

archive/issue_comments_552847.json:
```json
{
    "body": "<a id='comment:4'></a>Replying to [comment:3 slelievre]:\n> We can either make this ticket \"Upgrade to rpy2 3.x\" and make it depend on the removal of py2 support (#28000),\n> or make the ticket \"Upgrade to rpy2 2.8.6\" which is the latest py2-compatible (2.9 and following are not).\n\n\nSo the question is: when #28000 will be applied ?\n\nSubidiary question : shouldn't this be a dependency of #28000 ?",
    "created_at": "2019-09-18T13:24:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28494#issuecomment-552847",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:4'></a>Replying to [comment:3 slelievre]:
> We can either make this ticket "Upgrade to rpy2 3.x" and make it depend on the removal of py2 support (#28000),
> or make the ticket "Upgrade to rpy2 2.8.6" which is the latest py2-compatible (2.9 and following are not).


So the question is: when #28000 will be applied ?

Subidiary question : shouldn't this be a dependency of #28000 ?



---

archive/issue_comments_552848.json:
```json
{
    "body": "<a id='comment:5'></a>I am of two minds about whether waiting for #28000:\n\n* ISTR that 2.8.6 is the last version supporting Python 2. However, [Pipy](https://pypi.org/project/rpy2/#history) mentions releases version 2.9.0 to 2.9.6b0, the latter being marked as a pre-release for the 3.0.0 bersion released the day after 2.9.6b0 release...\n\n* What is the increment in functionality that upgrading 2.8.2 --> 2.8.6 gives us ?\n* How expensive (in terms of workload) it is ?\n\nIn other words, given our limited resources, isn't it better to wait for a Python-3 based Sagemath and go directly to `rpy2 3.1` ?",
    "created_at": "2019-09-23T10:41:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28494#issuecomment-552848",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:5'></a>I am of two minds about whether waiting for #28000:

* ISTR that 2.8.6 is the last version supporting Python 2. However, [Pipy](https://pypi.org/project/rpy2/#history) mentions releases version 2.9.0 to 2.9.6b0, the latter being marked as a pre-release for the 3.0.0 bersion released the day after 2.9.6b0 release...

* What is the increment in functionality that upgrading 2.8.2 --> 2.8.6 gives us ?
* How expensive (in terms of workload) it is ?

In other words, given our limited resources, isn't it better to wait for a Python-3 based Sagemath and go directly to `rpy2 3.1` ?



---

archive/issue_comments_552849.json:
```json
{
    "body": "<a id='comment:6'></a>Antonio already has a patch ready for 3.x: https://aur.archlinux.org/cgit/aur.git/tree/sagemath-rpy-3.patch?h=5649a97db5486f48139b0bd07831a4912a672720",
    "created_at": "2019-11-18T21:41:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28494#issuecomment-552849",
    "user": "https://github.com/timokau"
}
```

<a id='comment:6'></a>Antonio already has a patch ready for 3.x: https://aur.archlinux.org/cgit/aur.git/tree/sagemath-rpy-3.patch?h=5649a97db5486f48139b0bd07831a4912a672720



---

archive/issue_comments_552850.json:
```json
{
    "body": "<a id='comment:7'></a>My patch is now up for review at #28988, modified to keep 2.x compatibility so it can be merged independently of the rpy update.",
    "created_at": "2020-01-11T08:29:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28494#issuecomment-552850",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:7'></a>My patch is now up for review at #28988, modified to keep 2.x compatibility so it can be merged independently of the rpy update.



---

archive/issue_comments_552851.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-07-03T18:54:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28494#issuecomment-552851",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_events_071455.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-03T18:54:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28494",
    "milestone": "sage-wishlist",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28494#event-71455"
}
```



---

archive/issue_events_071456.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-07-03T18:54:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28494",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28494#event-71456"
}
```



---

archive/issue_comments_552852.json:
```json
{
    "body": "<a id='comment:8'></a>dup of #29441, please close",
    "created_at": "2020-07-03T18:54:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28494#issuecomment-552852",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>dup of #29441, please close



---

archive/issue_comments_552853.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-08-19T21:17:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28494#issuecomment-552853",
    "user": "https://github.com/slel"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_552854.json:
```json
{
    "body": "Changing component from build to packages: standard.",
    "created_at": "2020-08-19T21:17:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28494#issuecomment-552854",
    "user": "https://github.com/slel"
}
```

Changing component from build to packages: standard.



---

archive/issue_comments_552855.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Samuel Leli\u00e8vre\"",
    "created_at": "2020-08-19T21:17:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28494#issuecomment-552855",
    "user": "https://github.com/slel"
}
```

Changing reviewer from "" to "Samuel Lelièvre"



---

archive/issue_comments_552856.json:
```json
{
    "body": "<a id='comment:10'></a>Done at #29441.",
    "created_at": "2020-08-19T21:17:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28494#issuecomment-552856",
    "user": "https://github.com/slel"
}
```

<a id='comment:10'></a>Done at #29441.



---

archive/issue_events_071457.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-08-20T07:06:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28494",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28494#event-71457"
}
```



---

archive/issue_comments_552857.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2020-08-20T07:06:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28494",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28494#issuecomment-552857",
    "user": "https://github.com/fchapoton"
}
```

Resolution: duplicate
