# Issue 28094: support function fields in characteristic zero

archive/issues_027857.json:
```json
{
    "body": "Current function field code only works in prime characteristic.\n\nThis ticket supports function fields over QQ and NumberField's.\n\nAfter Trac #25390 is integrated, it should also support function fields over QQbar.\n\n**Keywords:** function fields\n\n**Branch/Commit:** [77dbf93d3116cf33e090d79607803d96c349e68b](https://github.com/sagemath/sagetrac-mirror/commit/77dbf93d3116cf33e090d79607803d96c349e68b)\n\n**Reviewer:** Travis Scrimshaw, Kwankyu Lee\n\n**Author:** Brent Baccala\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/28094\n\n",
    "closed_at": "2019-12-25T19:09:34Z",
    "created_at": "2019-07-01T18:14:29Z",
    "labels": [
        "component: algebraic geometry"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.0",
    "title": "support function fields in characteristic zero",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28094",
    "user": "https://github.com/BrentBaccala"
}
```
Current function field code only works in prime characteristic.

This ticket supports function fields over QQ and NumberField's.

After Trac #25390 is integrated, it should also support function fields over QQbar.

**Keywords:** function fields

**Branch/Commit:** [77dbf93d3116cf33e090d79607803d96c349e68b](https://github.com/sagemath/sagetrac-mirror/commit/77dbf93d3116cf33e090d79607803d96c349e68b)

**Reviewer:** Travis Scrimshaw, Kwankyu Lee

**Author:** Brent Baccala

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/28094





---

archive/issue_comments_545531.json:
```json
{
    "body": "Description of algorithm to decompose prime ideals in an extension",
    "created_at": "2019-10-10T01:22:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545531",
    "user": "https://github.com/BrentBaccala"
}
```

Description of algorithm to decompose prime ideals in an extension



---

archive/issue_comments_545532.json:
```json
{
    "body": "Attachment [decomposition.pdf](tarball://root/attachments/some-uuid/ticket28094/decomposition.pdf) by @BrentBaccala created at 2019-10-10 01:22:29\n\nLaTex source of decomposition.pdf",
    "created_at": "2019-10-10T01:22:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545532",
    "user": "https://github.com/BrentBaccala"
}
```

Attachment [decomposition.pdf](tarball://root/attachments/some-uuid/ticket28094/decomposition.pdf) by @BrentBaccala created at 2019-10-10 01:22:29

LaTex source of decomposition.pdf



---

archive/issue_comments_545533.json:
```json
{
    "body": "**Branch:** [public/28094](https://github.com/sagemath/sagetrac-mirror/tree/public/28094)",
    "created_at": "2019-10-10T02:02:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545533",
    "user": "https://github.com/BrentBaccala"
}
```

**Branch:** [public/28094](https://github.com/sagemath/sagetrac-mirror/tree/public/28094)



---

archive/issue_comments_545534.json:
```json
{
    "body": "<a id='comment:1'></a>\nAttachment [decomposition.tex](tarball://root/attachments/some-uuid/ticket28094/decomposition.tex) by @BrentBaccala created at 2019-10-10 02:02:08\n\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d247e7ddd39108a8f460106feb0b471b7f48244e\">d247e7d</a></td><td><code>Trac #28094: constructor creates FunctionField_integral's if conditions are right</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc0f19152179174cf44aa5c32b938d39423a81cc\">fc0f191</a></td><td><code>Trac #28094: add new decomposition method to FunctionFieldMaximalOrder_polymod</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de8ff744b5ef0659c434369a6d2ef909aa9bdb49\">de8ff74</a></td><td><code>Trac #28094: add class FunctionFieldHigherDerivation_charzero</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0ade7d081db29df0926fdbd5e2356e58c598ca1e\">0ade7d0</a></td><td><code>Trac #28094: introduce classes FunctionField_charzero,</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/efefd59dbedd83c5a6ec3b48d1e201b7b3366efb\">efefd59</a></td><td><code>Trac #28094: remove FunctionFieldCompletion_global, use</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f918fb6b14be70fa709a6f4e88cd01cde5cf38b\">2f918fb</a></td><td><code>Trac #28094: move </code></td>valuation<td><code> method to superclass so that elements</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/46f0857c5f1b543ed4419bb3dbdebeedbec43051\">46f0857</a></td><td><code>Trac #28094: move </code></td>different<td><code> method to superclass</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e52cae0bdbda461ae45679379f3ef1db0825d6ca\">e52cae0</a></td><td><code>Trac #28094: update decomposition algorithm (mostly the description)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c6898372e017de1b9c10a4ce3a46eb39fe1e8bf1\">c689837</a></td><td><code>remove QQbar from the test suite, because QQbar won't work with this</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b0862a94a9601814bd0d6fd941baae6e2cc2ed2d\">b0862a9</a></td><td><code>Merge tag '9.0.beta0' into public/28094</code></td></tr></table>\n",
    "created_at": "2019-10-10T02:02:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545534",
    "user": "https://github.com/BrentBaccala"
}
```

<a id='comment:1'></a>
Attachment [decomposition.tex](tarball://root/attachments/some-uuid/ticket28094/decomposition.tex) by @BrentBaccala created at 2019-10-10 02:02:08

**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d247e7ddd39108a8f460106feb0b471b7f48244e">d247e7d</a></td><td><code>Trac #28094: constructor creates FunctionField_integral's if conditions are right</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc0f19152179174cf44aa5c32b938d39423a81cc">fc0f191</a></td><td><code>Trac #28094: add new decomposition method to FunctionFieldMaximalOrder_polymod</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de8ff744b5ef0659c434369a6d2ef909aa9bdb49">de8ff74</a></td><td><code>Trac #28094: add class FunctionFieldHigherDerivation_charzero</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0ade7d081db29df0926fdbd5e2356e58c598ca1e">0ade7d0</a></td><td><code>Trac #28094: introduce classes FunctionField_charzero,</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/efefd59dbedd83c5a6ec3b48d1e201b7b3366efb">efefd59</a></td><td><code>Trac #28094: remove FunctionFieldCompletion_global, use</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f918fb6b14be70fa709a6f4e88cd01cde5cf38b">2f918fb</a></td><td><code>Trac #28094: move </code></td>valuation<td><code> method to superclass so that elements</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/46f0857c5f1b543ed4419bb3dbdebeedbec43051">46f0857</a></td><td><code>Trac #28094: move </code></td>different<td><code> method to superclass</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e52cae0bdbda461ae45679379f3ef1db0825d6ca">e52cae0</a></td><td><code>Trac #28094: update decomposition algorithm (mostly the description)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c6898372e017de1b9c10a4ce3a46eb39fe1e8bf1">c689837</a></td><td><code>remove QQbar from the test suite, because QQbar won't work with this</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b0862a94a9601814bd0d6fd941baae6e2cc2ed2d">b0862a9</a></td><td><code>Merge tag '9.0.beta0' into public/28094</code></td></tr></table>




---

archive/issue_events_078931.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2019-10-10T02:02:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "milestone": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28094#event-78931"
}
```



---

archive/issue_comments_545535.json:
```json
{
    "body": "**Commit:** [b0862a94a9601814bd0d6fd941baae6e2cc2ed2d](https://github.com/sagemath/sagetrac-mirror/commit/b0862a94a9601814bd0d6fd941baae6e2cc2ed2d)",
    "created_at": "2019-10-10T02:02:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545535",
    "user": "https://github.com/BrentBaccala"
}
```

**Commit:** [b0862a94a9601814bd0d6fd941baae6e2cc2ed2d](https://github.com/sagemath/sagetrac-mirror/commit/b0862a94a9601814bd0d6fd941baae6e2cc2ed2d)



---

archive/issue_comments_545536.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/865d513907819a415a2135b48d11f638aea021de\">865d513</a></td><td><code>Trac #28094: construct extension fields when forming residue fields,</code></td></tr></table>\n",
    "created_at": "2019-10-11T03:05:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545536",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/865d513907819a415a2135b48d11f638aea021de">865d513</a></td><td><code>Trac #28094: construct extension fields when forming residue fields,</code></td></tr></table>




---

archive/issue_comments_545537.json:
```json
{
    "body": "**Changing commit** from \"[b0862a94a9601814bd0d6fd941baae6e2cc2ed2d](https://github.com/sagemath/sagetrac-mirror/commit/b0862a94a9601814bd0d6fd941baae6e2cc2ed2d)\" to \"[865d513907819a415a2135b48d11f638aea021de](https://github.com/sagemath/sagetrac-mirror/commit/865d513907819a415a2135b48d11f638aea021de)\".",
    "created_at": "2019-10-11T03:05:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545537",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b0862a94a9601814bd0d6fd941baae6e2cc2ed2d](https://github.com/sagemath/sagetrac-mirror/commit/b0862a94a9601814bd0d6fd941baae6e2cc2ed2d)" to "[865d513907819a415a2135b48d11f638aea021de](https://github.com/sagemath/sagetrac-mirror/commit/865d513907819a415a2135b48d11f638aea021de)".



---

archive/issue_comments_545538.json:
```json
{
    "body": "<a id='comment:3'></a>\nCurrent status of this ticket:\n\n1. It mostly works!\n\n2. There's a new algorithm (see attached pdf and tex files) to compute decomposition of prime ideals in extension fields.  The older algorithm, which only works in characteristic p, is still used in characteristic p.\n\n3. One way of testing the new decomposition algorithm is to comment out the old algorithm.  This produces a bunch of failures in the test cases, but they all look like different ways of writing the same ideals, not actual failures.\n\n4. It needs test cases.  Lots of them.  We have almost no tests for characteristic zero.  Many of the characteristic p test cases could be adapted to characteristic zero.\n\n5. Once Trac #25390 is integrated, it should work over the algebraic field.",
    "created_at": "2019-10-11T03:08:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545538",
    "user": "https://github.com/BrentBaccala"
}
```

<a id='comment:3'></a>
Current status of this ticket:

1. It mostly works!

2. There's a new algorithm (see attached pdf and tex files) to compute decomposition of prime ideals in extension fields.  The older algorithm, which only works in characteristic p, is still used in characteristic p.

3. One way of testing the new decomposition algorithm is to comment out the old algorithm.  This produces a bunch of failures in the test cases, but they all look like different ways of writing the same ideals, not actual failures.

4. It needs test cases.  Lots of them.  We have almost no tests for characteristic zero.  Many of the characteristic p test cases could be adapted to characteristic zero.

5. Once Trac #25390 is integrated, it should work over the algebraic field.



---

archive/issue_comments_545539.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e32b3a1974ab30c396819160c7ce7e89a1c426a7\">e32b3a1</a></td><td><code>Trac #28094: wrap ring normalization code in a decorator that allows</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/478f1a9bdf14a93af9c75b5a57890fb44a9004fb\">478f1a9</a></td><td><code>Trac #28094: add some examples to showcase function fields over QQ</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5cfd3d71b98d7261efe73056e8918204ac1dd9aa\">5cfd3d7</a></td><td><code>Trac #28094: Move _inversion_isomorphism from FunctionField_global to superclass FunctionField_polymod</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e9b58faf623a5bd83a20fc8703995ffa3e8658c\">6e9b58f</a></td><td><code>Trac #28094: update a failing doctest</code></td></tr></table>\n",
    "created_at": "2019-10-11T16:38:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545539",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e32b3a1974ab30c396819160c7ce7e89a1c426a7">e32b3a1</a></td><td><code>Trac #28094: wrap ring normalization code in a decorator that allows</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/478f1a9bdf14a93af9c75b5a57890fb44a9004fb">478f1a9</a></td><td><code>Trac #28094: add some examples to showcase function fields over QQ</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5cfd3d71b98d7261efe73056e8918204ac1dd9aa">5cfd3d7</a></td><td><code>Trac #28094: Move _inversion_isomorphism from FunctionField_global to superclass FunctionField_polymod</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e9b58faf623a5bd83a20fc8703995ffa3e8658c">6e9b58f</a></td><td><code>Trac #28094: update a failing doctest</code></td></tr></table>




---

archive/issue_comments_545540.json:
```json
{
    "body": "**Changing commit** from \"[865d513907819a415a2135b48d11f638aea021de](https://github.com/sagemath/sagetrac-mirror/commit/865d513907819a415a2135b48d11f638aea021de)\" to \"[6e9b58faf623a5bd83a20fc8703995ffa3e8658c](https://github.com/sagemath/sagetrac-mirror/commit/6e9b58faf623a5bd83a20fc8703995ffa3e8658c)\".",
    "created_at": "2019-10-11T16:38:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545540",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[865d513907819a415a2135b48d11f638aea021de](https://github.com/sagemath/sagetrac-mirror/commit/865d513907819a415a2135b48d11f638aea021de)" to "[6e9b58faf623a5bd83a20fc8703995ffa3e8658c](https://github.com/sagemath/sagetrac-mirror/commit/6e9b58faf623a5bd83a20fc8703995ffa3e8658c)".



---

archive/issue_comments_545541.json:
```json
{
    "body": "**Changing commit** from \"[6e9b58faf623a5bd83a20fc8703995ffa3e8658c](https://github.com/sagemath/sagetrac-mirror/commit/6e9b58faf623a5bd83a20fc8703995ffa3e8658c)\" to \"[4e584b5c3779bf2723ab8b543d6efe762030d1ec](https://github.com/sagemath/sagetrac-mirror/commit/4e584b5c3779bf2723ab8b543d6efe762030d1ec)\".",
    "created_at": "2019-10-11T16:46:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545541",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6e9b58faf623a5bd83a20fc8703995ffa3e8658c](https://github.com/sagemath/sagetrac-mirror/commit/6e9b58faf623a5bd83a20fc8703995ffa3e8658c)" to "[4e584b5c3779bf2723ab8b543d6efe762030d1ec](https://github.com/sagemath/sagetrac-mirror/commit/4e584b5c3779bf2723ab8b543d6efe762030d1ec)".



---

archive/issue_comments_545542.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e584b5c3779bf2723ab8b543d6efe762030d1ec\">4e584b5</a></td><td><code>Trac #28094: a slight patch since QQbar isn't considered a NumberField</code></td></tr></table>\n",
    "created_at": "2019-10-11T16:46:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545542",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e584b5c3779bf2723ab8b543d6efe762030d1ec">4e584b5</a></td><td><code>Trac #28094: a slight patch since QQbar isn't considered a NumberField</code></td></tr></table>




---

archive/issue_comments_545543.json:
```json
{
    "body": "**Changing commit** from \"[4e584b5c3779bf2723ab8b543d6efe762030d1ec](https://github.com/sagemath/sagetrac-mirror/commit/4e584b5c3779bf2723ab8b543d6efe762030d1ec)\" to \"[49c3aec301f0439f18f66413f0c16d1360f32584](https://github.com/sagemath/sagetrac-mirror/commit/49c3aec301f0439f18f66413f0c16d1360f32584)\".",
    "created_at": "2019-10-24T19:53:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545543",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4e584b5c3779bf2723ab8b543d6efe762030d1ec](https://github.com/sagemath/sagetrac-mirror/commit/4e584b5c3779bf2723ab8b543d6efe762030d1ec)" to "[49c3aec301f0439f18f66413f0c16d1360f32584](https://github.com/sagemath/sagetrac-mirror/commit/49c3aec301f0439f18f66413f0c16d1360f32584)".



---

archive/issue_comments_545544.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/623ba602c679d742b3ba3a9a876e78c5c4a5c2dd\">623ba60</a></td><td><code>Trac #28094: add some doctests for function fields over QQ and NumberField's</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49c3aec301f0439f18f66413f0c16d1360f32584\">49c3aec</a></td><td><code>Trac #28094: move method </code></td>higher_derivative<td><code> to superclass FunctionFieldElement</code></td></tr></table>\n",
    "created_at": "2019-10-24T19:53:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545544",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/623ba602c679d742b3ba3a9a876e78c5c4a5c2dd">623ba60</a></td><td><code>Trac #28094: add some doctests for function fields over QQ and NumberField's</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49c3aec301f0439f18f66413f0c16d1360f32584">49c3aec</a></td><td><code>Trac #28094: move method </code></td>higher_derivative<td><code> to superclass FunctionFieldElement</code></td></tr></table>




---

archive/issue_comments_545545.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76cd59e3f6e077980248314e33de020c5647da81\">76cd59e</a></td><td><code>Trac #28094: add more doctests for characteristic zero</code></td></tr></table>\n",
    "created_at": "2019-10-24T19:54:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545545",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76cd59e3f6e077980248314e33de020c5647da81">76cd59e</a></td><td><code>Trac #28094: add more doctests for characteristic zero</code></td></tr></table>




---

archive/issue_comments_545546.json:
```json
{
    "body": "**Changing commit** from \"[49c3aec301f0439f18f66413f0c16d1360f32584](https://github.com/sagemath/sagetrac-mirror/commit/49c3aec301f0439f18f66413f0c16d1360f32584)\" to \"[76cd59e3f6e077980248314e33de020c5647da81](https://github.com/sagemath/sagetrac-mirror/commit/76cd59e3f6e077980248314e33de020c5647da81)\".",
    "created_at": "2019-10-24T19:54:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545546",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[49c3aec301f0439f18f66413f0c16d1360f32584](https://github.com/sagemath/sagetrac-mirror/commit/49c3aec301f0439f18f66413f0c16d1360f32584)" to "[76cd59e3f6e077980248314e33de020c5647da81](https://github.com/sagemath/sagetrac-mirror/commit/76cd59e3f6e077980248314e33de020c5647da81)".



---

archive/issue_comments_545547.json:
```json
{
    "body": "**Changing commit** from \"[76cd59e3f6e077980248314e33de020c5647da81](https://github.com/sagemath/sagetrac-mirror/commit/76cd59e3f6e077980248314e33de020c5647da81)\" to \"[bb6d83c7d979df945de62bdfb2d7a62b16eb5167](https://github.com/sagemath/sagetrac-mirror/commit/bb6d83c7d979df945de62bdfb2d7a62b16eb5167)\".",
    "created_at": "2019-10-27T18:09:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545547",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[76cd59e3f6e077980248314e33de020c5647da81](https://github.com/sagemath/sagetrac-mirror/commit/76cd59e3f6e077980248314e33de020c5647da81)" to "[bb6d83c7d979df945de62bdfb2d7a62b16eb5167](https://github.com/sagemath/sagetrac-mirror/commit/bb6d83c7d979df945de62bdfb2d7a62b16eb5167)".



---

archive/issue_comments_545548.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/85d564040b0e8b1d4d34381f409e6cd6873f6095\">85d5640</a></td><td><code>Trac #28094: add more characteristic zero doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bb6d83c7d979df945de62bdfb2d7a62b16eb5167\">bb6d83c</a></td><td><code>Trac #28094: documentation indicates that advanced calculations now available</code></td></tr></table>\n",
    "created_at": "2019-10-27T18:09:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545548",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/85d564040b0e8b1d4d34381f409e6cd6873f6095">85d5640</a></td><td><code>Trac #28094: add more characteristic zero doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bb6d83c7d979df945de62bdfb2d7a62b16eb5167">bb6d83c</a></td><td><code>Trac #28094: documentation indicates that advanced calculations now available</code></td></tr></table>




---

archive/issue_comments_545549.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a72c5188a801af2bc6a2225365bb5f76c5d2730f\">a72c518</a></td><td><code>Merge tag '9.0.beta3' into public/28094</code></td></tr></table>\n",
    "created_at": "2019-10-27T18:09:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545549",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a72c5188a801af2bc6a2225365bb5f76c5d2730f">a72c518</a></td><td><code>Merge tag '9.0.beta3' into public/28094</code></td></tr></table>




---

archive/issue_comments_545550.json:
```json
{
    "body": "**Changing commit** from \"[bb6d83c7d979df945de62bdfb2d7a62b16eb5167](https://github.com/sagemath/sagetrac-mirror/commit/bb6d83c7d979df945de62bdfb2d7a62b16eb5167)\" to \"[a72c5188a801af2bc6a2225365bb5f76c5d2730f](https://github.com/sagemath/sagetrac-mirror/commit/a72c5188a801af2bc6a2225365bb5f76c5d2730f)\".",
    "created_at": "2019-10-27T18:09:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545550",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[bb6d83c7d979df945de62bdfb2d7a62b16eb5167](https://github.com/sagemath/sagetrac-mirror/commit/bb6d83c7d979df945de62bdfb2d7a62b16eb5167)" to "[a72c5188a801af2bc6a2225365bb5f76c5d2730f](https://github.com/sagemath/sagetrac-mirror/commit/a72c5188a801af2bc6a2225365bb5f76c5d2730f)".



---

archive/issue_comments_545551.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,6 +1,5 @@\n Current function field code only works in prime characteristic.\n \n-First step is to support function fields over QQ and NumberField's.\n+This ticket supports function fields over QQ and NumberField's.\n \n-Next step is to support function fields over QQbar.\n-\n+After Trac #25390 is integrated, it should also support function fields over QQbar.\n``````\n",
    "created_at": "2019-10-27T18:11:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545551",
    "user": "https://github.com/BrentBaccala"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,6 +1,5 @@
 Current function field code only works in prime characteristic.
 
-First step is to support function fields over QQ and NumberField's.
+This ticket supports function fields over QQ and NumberField's.
 
-Next step is to support function fields over QQbar.
-
+After Trac #25390 is integrated, it should also support function fields over QQbar.
``````




---

archive/issue_comments_545552.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2019-10-27T18:11:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545552",
    "user": "https://github.com/BrentBaccala"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_545553.json:
```json
{
    "body": "**Changing commit** from \"[a72c5188a801af2bc6a2225365bb5f76c5d2730f](https://github.com/sagemath/sagetrac-mirror/commit/a72c5188a801af2bc6a2225365bb5f76c5d2730f)\" to \"[07b6a0c20a26c08aaf16c192830cd095128ae2a7](https://github.com/sagemath/sagetrac-mirror/commit/07b6a0c20a26c08aaf16c192830cd095128ae2a7)\".",
    "created_at": "2019-11-04T22:20:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545553",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a72c5188a801af2bc6a2225365bb5f76c5d2730f](https://github.com/sagemath/sagetrac-mirror/commit/a72c5188a801af2bc6a2225365bb5f76c5d2730f)" to "[07b6a0c20a26c08aaf16c192830cd095128ae2a7](https://github.com/sagemath/sagetrac-mirror/commit/07b6a0c20a26c08aaf16c192830cd095128ae2a7)".



---

archive/issue_comments_545554.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/07b6a0c20a26c08aaf16c192830cd095128ae2a7\">07b6a0c</a></td><td><code>Merge tag '9.0.beta4' into public/28094</code></td></tr></table>\n",
    "created_at": "2019-11-04T22:20:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545554",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/07b6a0c20a26c08aaf16c192830cd095128ae2a7">07b6a0c</a></td><td><code>Merge tag '9.0.beta4' into public/28094</code></td></tr></table>




---

archive/issue_comments_545555.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2019-11-05T01:14:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545555",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_545556.json:
```json
{
    "body": "<a id='comment:12'></a>\nSome little things from a quick read through:\n\n```diff\n         - ``separating_element`` -- separating element of the function field;\n-            the default is the generator of the rational function field\n+          the default is the generator of the rational function field\n```\n\n```diff\n-Function fields over the rational field are supported:\n+Function fields over the rational field are supported::\n```\n\n```diff\n-    G.-M.Greuel, S.Laplagne, F.Seelisch: Normalization of Rings (2009).\n+    G.-M. Greuel, S. Laplagne, F. Seelisch: Normalization of Rings (2009).\n```\n\nMissing doctests on `_singular_normal` and `FunctionFieldIdeal_global.__init__` (which should be a `TestSuite(foo).run()`).\n\nIn `FunctionFieldIdeal_global.gens_two()`, it should be `ALGORITHM:` and no indentation there, and without dollar signs.\n\nIn `FunctionFieldHigherDerivation_charzero._derive`, I don't see the point of the internal `derive` function. Also, I believe it is considered better practice to do `def derivative(f): return f.derivative()` since you are naming the function.\n\nIn `FunctionFieldMaximalOrder_global.decomposition`, the `.. TODO::` block needs to be indented. I would also do\n\n```diff\n-is done in `FunctionFieldMaximalOrder_global`'s `decomposition`\n+is done in :meth:`FunctionFieldMaximalOrder_global.decomposition()`\n```",
    "created_at": "2019-11-05T01:14:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545556",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>
Some little things from a quick read through:

```diff
         - ``separating_element`` -- separating element of the function field;
-            the default is the generator of the rational function field
+          the default is the generator of the rational function field
```

```diff
-Function fields over the rational field are supported:
+Function fields over the rational field are supported::
```

```diff
-    G.-M.Greuel, S.Laplagne, F.Seelisch: Normalization of Rings (2009).
+    G.-M. Greuel, S. Laplagne, F. Seelisch: Normalization of Rings (2009).
```

Missing doctests on `_singular_normal` and `FunctionFieldIdeal_global.__init__` (which should be a `TestSuite(foo).run()`).

In `FunctionFieldIdeal_global.gens_two()`, it should be `ALGORITHM:` and no indentation there, and without dollar signs.

In `FunctionFieldHigherDerivation_charzero._derive`, I don't see the point of the internal `derive` function. Also, I believe it is considered better practice to do `def derivative(f): return f.derivative()` since you are naming the function.

In `FunctionFieldMaximalOrder_global.decomposition`, the `.. TODO::` block needs to be indented. I would also do

```diff
-is done in `FunctionFieldMaximalOrder_global`'s `decomposition`
+is done in :meth:`FunctionFieldMaximalOrder_global.decomposition()`
```



---

archive/issue_comments_545557.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/55b65b045d435f89ffc5d150fa447438f5590a1e\">55b65b0</a></td><td><code>Trac #28094: improve _singular_normal()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f55dd243c79f198a0efa5e6d9f3069088c29d84\">0f55dd2</a></td><td><code>Trac #28094: address issues raised in tscrim's[comment:12](#comment%3A12)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c6af97a280d859d5e655ca77f389f02c517de305\">c6af97a</a></td><td><code>Trac #28094: move </code></td>places_above<td><code> from FunctionField_global to</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/71f5f18f8f56796ba929142c90300d39b6f0c5ac\">71f5f18</a></td><td><code>Trac #28094: major bug fix.  Correctly calculate residue fields</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a96e079ce57ae5f9d878f77dc2fad28349d4c0e0\">a96e079</a></td><td><code>Trac #28094: bug fix.  Correctly compute residue fields and</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5f162a448cb708fed40bebc1345fd656f918aed3\">5f162a4</a></td><td><code>Trac #28094: add a basic test case for func fields over QQbar</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9465800b60cd5a047a1f00f5d713526d7dbcc181\">9465800</a></td><td><code>Merge tag '9.0.beta7' into public/28094</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9bab18e403c62f5f66d591e11008bd6a0c134c5\">f9bab18</a></td><td><code>Trac #28094: pass list (not generator) to FiniteDimensionalAlgebra</code></td></tr></table>\n",
    "created_at": "2019-12-01T04:45:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545557",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/55b65b045d435f89ffc5d150fa447438f5590a1e">55b65b0</a></td><td><code>Trac #28094: improve _singular_normal()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f55dd243c79f198a0efa5e6d9f3069088c29d84">0f55dd2</a></td><td><code>Trac #28094: address issues raised in tscrim's[comment:12](#comment%3A12)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c6af97a280d859d5e655ca77f389f02c517de305">c6af97a</a></td><td><code>Trac #28094: move </code></td>places_above<td><code> from FunctionField_global to</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/71f5f18f8f56796ba929142c90300d39b6f0c5ac">71f5f18</a></td><td><code>Trac #28094: major bug fix.  Correctly calculate residue fields</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a96e079ce57ae5f9d878f77dc2fad28349d4c0e0">a96e079</a></td><td><code>Trac #28094: bug fix.  Correctly compute residue fields and</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5f162a448cb708fed40bebc1345fd656f918aed3">5f162a4</a></td><td><code>Trac #28094: add a basic test case for func fields over QQbar</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9465800b60cd5a047a1f00f5d713526d7dbcc181">9465800</a></td><td><code>Merge tag '9.0.beta7' into public/28094</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9bab18e403c62f5f66d591e11008bd6a0c134c5">f9bab18</a></td><td><code>Trac #28094: pass list (not generator) to FiniteDimensionalAlgebra</code></td></tr></table>




---

archive/issue_comments_545558.json:
```json
{
    "body": "**Changing commit** from \"[07b6a0c20a26c08aaf16c192830cd095128ae2a7](https://github.com/sagemath/sagetrac-mirror/commit/07b6a0c20a26c08aaf16c192830cd095128ae2a7)\" to \"[f9bab18e403c62f5f66d591e11008bd6a0c134c5](https://github.com/sagemath/sagetrac-mirror/commit/f9bab18e403c62f5f66d591e11008bd6a0c134c5)\".",
    "created_at": "2019-12-01T04:45:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545558",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[07b6a0c20a26c08aaf16c192830cd095128ae2a7](https://github.com/sagemath/sagetrac-mirror/commit/07b6a0c20a26c08aaf16c192830cd095128ae2a7)" to "[f9bab18e403c62f5f66d591e11008bd6a0c134c5](https://github.com/sagemath/sagetrac-mirror/commit/f9bab18e403c62f5f66d591e11008bd6a0c134c5)".



---

archive/issue_comments_545559.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2019-12-01T04:51:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545559",
    "user": "https://github.com/BrentBaccala"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_545560.json:
```json
{
    "body": "<a id='comment:14'></a>\nI've addressed all of the issues from[comment:12](#comment%3A12) and have fixed a serious bug that I uncovered with some more testing.\n\nI'd like to add some more test cases for function fields over `QQbar` (and likely will), but other than that I again think that this ticket is ready for review.",
    "created_at": "2019-12-01T04:51:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545560",
    "user": "https://github.com/BrentBaccala"
}
```

<a id='comment:14'></a>
I've addressed all of the issues from[comment:12](#comment%3A12) and have fixed a serious bug that I uncovered with some more testing.

I'd like to add some more test cases for function fields over `QQbar` (and likely will), but other than that I again think that this ticket is ready for review.



---

archive/issue_comments_545561.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2019-12-06T07:01:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545561",
    "user": "https://github.com/kwankyu"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_545562.json:
```json
{
    "body": "<a id='comment:15'></a>\nBefore the patch, \n\n```\nsage: K.<x> = FunctionField(GF(3))\nsage: _.<Y> = K[]\nsage: L.<y> = K.extension(Y-x)\nsage: y.zeros()\n[Place (x)]\n```\nAfter the patch, \n\n```\nsage: K.<x> = FunctionField(GF(3))\nsage: _.<Y> = K[]\nsage: L.<y> = K.extension(Y-x)\nsage: y.zeros()\n[Place (x, 0)]\n```",
    "created_at": "2019-12-06T07:01:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545562",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:15'></a>
Before the patch, 

```
sage: K.<x> = FunctionField(GF(3))
sage: _.<Y> = K[]
sage: L.<y> = K.extension(Y-x)
sage: y.zeros()
[Place (x)]
```
After the patch, 

```
sage: K.<x> = FunctionField(GF(3))
sage: _.<Y> = K[]
sage: L.<y> = K.extension(Y-x)
sage: y.zeros()
[Place (x, 0)]
```



---

archive/issue_comments_545563.json:
```json
{
    "body": "<a id='comment:16'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c831ab155ac956b14c62ac627bf06f3bc8b6501d\">c831ab1</a></td><td><code>Trac #28094: replace some code accidently dropped in 06ba5dac</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/87fe1472c7da2912d4ff68c1cc42b4fe3a8447b4\">87fe147</a></td><td><code>Trac #28094: add klee's doctest that caught the problem fixed by c831ab15</code></td></tr></table>\n",
    "created_at": "2019-12-06T21:28:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545563",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c831ab155ac956b14c62ac627bf06f3bc8b6501d">c831ab1</a></td><td><code>Trac #28094: replace some code accidently dropped in 06ba5dac</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/87fe1472c7da2912d4ff68c1cc42b4fe3a8447b4">87fe147</a></td><td><code>Trac #28094: add klee's doctest that caught the problem fixed by c831ab15</code></td></tr></table>




---

archive/issue_comments_545564.json:
```json
{
    "body": "**Changing commit** from \"[f9bab18e403c62f5f66d591e11008bd6a0c134c5](https://github.com/sagemath/sagetrac-mirror/commit/f9bab18e403c62f5f66d591e11008bd6a0c134c5)\" to \"[87fe1472c7da2912d4ff68c1cc42b4fe3a8447b4](https://github.com/sagemath/sagetrac-mirror/commit/87fe1472c7da2912d4ff68c1cc42b4fe3a8447b4)\".",
    "created_at": "2019-12-06T21:28:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545564",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f9bab18e403c62f5f66d591e11008bd6a0c134c5](https://github.com/sagemath/sagetrac-mirror/commit/f9bab18e403c62f5f66d591e11008bd6a0c134c5)" to "[87fe1472c7da2912d4ff68c1cc42b4fe3a8447b4](https://github.com/sagemath/sagetrac-mirror/commit/87fe1472c7da2912d4ff68c1cc42b4fe3a8447b4)".



---

archive/issue_comments_545565.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2019-12-06T21:30:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545565",
    "user": "https://github.com/BrentBaccala"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_545566.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [klee](#comment%3A15):\n\nLooks like I dropped some code during one of my refactoring steps.  Fixed.",
    "created_at": "2019-12-06T21:30:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545566",
    "user": "https://github.com/BrentBaccala"
}
```

<a id='comment:17'></a>
Replying to [klee](#comment%3A15):

Looks like I dropped some code during one of my refactoring steps.  Fixed.



---

archive/issue_comments_545567.json:
```json
{
    "body": "**Changing commit** from \"[87fe1472c7da2912d4ff68c1cc42b4fe3a8447b4](https://github.com/sagemath/sagetrac-mirror/commit/87fe1472c7da2912d4ff68c1cc42b4fe3a8447b4)\" to \"[492a6677006eedd3a7205add2d363f0424edfb1c](https://github.com/sagemath/sagetrac-mirror/commit/492a6677006eedd3a7205add2d363f0424edfb1c)\".",
    "created_at": "2019-12-10T05:36:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545567",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[87fe1472c7da2912d4ff68c1cc42b4fe3a8447b4](https://github.com/sagemath/sagetrac-mirror/commit/87fe1472c7da2912d4ff68c1cc42b4fe3a8447b4)" to "[492a6677006eedd3a7205add2d363f0424edfb1c](https://github.com/sagemath/sagetrac-mirror/commit/492a6677006eedd3a7205add2d363f0424edfb1c)".



---

archive/issue_comments_545568.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d36e58bc3c4773980c6ab6c21c16fd0aaba5bd2b\">d36e58b</a></td><td><code>Trac #28094: add Brent Baccala as author to some files where</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/790cf8b26d69c68b1d233a7201baed3dbacf1b20\">790cf8b</a></td><td><code>Trac #28094: update documentation to reflect improved support</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d26c7d3075da6c6e489c0879b500c5f3716ed9d\">5d26c7d</a></td><td><code>Trac #28094: change an error message to better reflect its cause</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/06f81e28e1d7c7f4babfa2db1a3d2e2725bde0a8\">06f81e2</a></td><td><code>Trac #28094: add more examples and test cases for characteristic zero</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/492a6677006eedd3a7205add2d363f0424edfb1c\">492a667</a></td><td><code>Merge tag '9.0.beta9' into public/28094</code></td></tr></table>\n",
    "created_at": "2019-12-10T05:36:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545568",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d36e58bc3c4773980c6ab6c21c16fd0aaba5bd2b">d36e58b</a></td><td><code>Trac #28094: add Brent Baccala as author to some files where</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/790cf8b26d69c68b1d233a7201baed3dbacf1b20">790cf8b</a></td><td><code>Trac #28094: update documentation to reflect improved support</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d26c7d3075da6c6e489c0879b500c5f3716ed9d">5d26c7d</a></td><td><code>Trac #28094: change an error message to better reflect its cause</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/06f81e28e1d7c7f4babfa2db1a3d2e2725bde0a8">06f81e2</a></td><td><code>Trac #28094: add more examples and test cases for characteristic zero</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/492a6677006eedd3a7205add2d363f0424edfb1c">492a667</a></td><td><code>Merge tag '9.0.beta9' into public/28094</code></td></tr></table>




---

archive/issue_comments_545569.json:
```json
{
    "body": "<a id='comment:19'></a>\nKwankyu, can you do a check of the mathematical correctness? I can recheck the code, but I doubt there will be anything more from my side.",
    "created_at": "2019-12-12T04:33:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545569",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:19'></a>
Kwankyu, can you do a check of the mathematical correctness? I can recheck the code, but I doubt there will be anything more from my side.



---

archive/issue_comments_545570.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [tscrim](#comment%3A19):\n> Kwankyu, can you do a check of the mathematical correctness? I can recheck the code, but I doubt there will be anything more from my side.\n\n\nOk. That is on my to-do list.",
    "created_at": "2019-12-12T05:14:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545570",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:20'></a>
Replying to [tscrim](#comment%3A19):
> Kwankyu, can you do a check of the mathematical correctness? I can recheck the code, but I doubt there will be anything more from my side.


Ok. That is on my to-do list.



---

archive/issue_comments_545571.json:
```json
{
    "body": "<a id='comment:21'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6760fd41d1676cbef776396b9ea28487e8524871\">6760fd4</a></td><td><code>Lots of clean-ups</code></td></tr></table>\n",
    "created_at": "2019-12-19T06:09:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545571",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6760fd41d1676cbef776396b9ea28487e8524871">6760fd4</a></td><td><code>Lots of clean-ups</code></td></tr></table>




---

archive/issue_comments_545572.json:
```json
{
    "body": "**Changing commit** from \"[492a6677006eedd3a7205add2d363f0424edfb1c](https://github.com/sagemath/sagetrac-mirror/commit/492a6677006eedd3a7205add2d363f0424edfb1c)\" to \"[6760fd41d1676cbef776396b9ea28487e8524871](https://github.com/sagemath/sagetrac-mirror/commit/6760fd41d1676cbef776396b9ea28487e8524871)\".",
    "created_at": "2019-12-19T06:09:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545572",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[492a6677006eedd3a7205add2d363f0424edfb1c](https://github.com/sagemath/sagetrac-mirror/commit/492a6677006eedd3a7205add2d363f0424edfb1c)" to "[6760fd41d1676cbef776396b9ea28487e8524871](https://github.com/sagemath/sagetrac-mirror/commit/6760fd41d1676cbef776396b9ea28487e8524871)".



---

archive/issue_comments_545573.json:
```json
{
    "body": "<a id='comment:22'></a>\nIt is a nice work.  I made lots of small changes to tidy up the overall function field code. Most of them are just for better style  and for better naming. I made also some refactoring to add more functionality to function fields of char zero.\n\nI give positive review on the base code. Please review on my part of modifications.  Then this is good to go.",
    "created_at": "2019-12-19T06:23:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545573",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:22'></a>
It is a nice work.  I made lots of small changes to tidy up the overall function field code. Most of them are just for better style  and for better naming. I made also some refactoring to add more functionality to function fields of char zero.

I give positive review on the base code. Please review on my part of modifications.  Then this is good to go.



---

archive/issue_comments_545574.json:
```json
{
    "body": "<a id='comment:23'></a>\nI observe a serious speed regression on computing maximal orders of global function fields:\n\nPreviously,\n\n```\nsage: k.<a>=GF(3^3)\n....: K.<x>=FunctionField(k); _.<s>=K[]\n....: L.<y>=K.extension(s^9 + x^72*s^3 + x^96*s + 2*x^104 + 2*x^96) \n....: \nsage: time L.maximal_order()\nCPU times: user 3.41 s, sys: 33.8 ms, total: 3.44 s\nWall time: 3.45 s\nMaximal order of Function field in y defined by y^9 + x^72*y^3 + x^96*y + 2*x^104 + 2*x^96\n```\nNow with the patch,\n\n```\nsage: k.<a>=GF(3^3)\n....: K.<x>=FunctionField(k); _.<s>=K[]\n....: L.<y>=K.extension(s^9 + x^72*s^3 + x^96*s + 2*x^104 + 2*x^96) \n....: \nsage: time L.maximal_order()\nCPU times: user 35.1 s, sys: 168 ms, total: 35.3 s\nWall time: 35.2 s\nMaximal order of Function field in y defined by y^9 + x^72*y^3 + x^96*y + 2*x^104 + 2*x^96\n```\n\nThis is actually expected because now  Singular's generic normalization algorithm is used while previously a custom implementation (in `ext/singular/function_field/core.lib`)of Leonard-Pellikaan-Singh-Swanson algorithm  specialized for finite field was used.\n\nI think we should recover the previous algorithm for global function fields.",
    "created_at": "2019-12-19T10:20:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545574",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:23'></a>
I observe a serious speed regression on computing maximal orders of global function fields:

Previously,

```
sage: k.<a>=GF(3^3)
....: K.<x>=FunctionField(k); _.<s>=K[]
....: L.<y>=K.extension(s^9 + x^72*s^3 + x^96*s + 2*x^104 + 2*x^96) 
....: 
sage: time L.maximal_order()
CPU times: user 3.41 s, sys: 33.8 ms, total: 3.44 s
Wall time: 3.45 s
Maximal order of Function field in y defined by y^9 + x^72*y^3 + x^96*y + 2*x^104 + 2*x^96
```
Now with the patch,

```
sage: k.<a>=GF(3^3)
....: K.<x>=FunctionField(k); _.<s>=K[]
....: L.<y>=K.extension(s^9 + x^72*s^3 + x^96*s + 2*x^104 + 2*x^96) 
....: 
sage: time L.maximal_order()
CPU times: user 35.1 s, sys: 168 ms, total: 35.3 s
Wall time: 35.2 s
Maximal order of Function field in y defined by y^9 + x^72*y^3 + x^96*y + 2*x^104 + 2*x^96
```

This is actually expected because now  Singular's generic normalization algorithm is used while previously a custom implementation (in `ext/singular/function_field/core.lib`)of Leonard-Pellikaan-Singh-Swanson algorithm  specialized for finite field was used.

I think we should recover the previous algorithm for global function fields.



---

archive/issue_comments_545575.json:
```json
{
    "body": "**Changing commit** from \"[6760fd41d1676cbef776396b9ea28487e8524871](https://github.com/sagemath/sagetrac-mirror/commit/6760fd41d1676cbef776396b9ea28487e8524871)\" to \"[77dbf93d3116cf33e090d79607803d96c349e68b](https://github.com/sagemath/sagetrac-mirror/commit/77dbf93d3116cf33e090d79607803d96c349e68b)\".",
    "created_at": "2019-12-19T12:03:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545575",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6760fd41d1676cbef776396b9ea28487e8524871](https://github.com/sagemath/sagetrac-mirror/commit/6760fd41d1676cbef776396b9ea28487e8524871)" to "[77dbf93d3116cf33e090d79607803d96c349e68b](https://github.com/sagemath/sagetrac-mirror/commit/77dbf93d3116cf33e090d79607803d96c349e68b)".



---

archive/issue_comments_545576.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/77dbf93d3116cf33e090d79607803d96c349e68b\">77dbf93</a></td><td><code>Recover normalization algorithm for global function fields</code></td></tr></table>\n",
    "created_at": "2019-12-19T12:03:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545576",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/77dbf93d3116cf33e090d79607803d96c349e68b">77dbf93</a></td><td><code>Recover normalization algorithm for global function fields</code></td></tr></table>




---

archive/issue_comments_545577.json:
```json
{
    "body": "<a id='comment:25'></a>\nBy the way, I get this timing on Mac pro\n\n```\nsage: k.<a>=GF(3^3)\n....: K.<x>=FunctionField(k); _.<s>=K[]\n....: L.<y>=K.extension(s^9 + x^72*s^3 + x^96*s + 2*x^104 + 2*x^96) \n....: \nsage: time L.genus() # 5.08s    \nCPU times: user 27.3 s, sys: 83.7 ms, total: 27.4 s\nWall time: 27.4 s\n12\n```\n5.08s is the timing I got more than two years ago on a slower  labtop. I wonder what have happened with sage meanwhile. Sigh..",
    "created_at": "2019-12-19T12:17:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545577",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:25'></a>
By the way, I get this timing on Mac pro

```
sage: k.<a>=GF(3^3)
....: K.<x>=FunctionField(k); _.<s>=K[]
....: L.<y>=K.extension(s^9 + x^72*s^3 + x^96*s + 2*x^104 + 2*x^96) 
....: 
sage: time L.genus() # 5.08s    
CPU times: user 27.3 s, sys: 83.7 ms, total: 27.4 s
Wall time: 27.4 s
12
```
5.08s is the timing I got more than two years ago on a slower  labtop. I wonder what have happened with sage meanwhile. Sigh..



---

archive/issue_comments_545578.json:
```json
{
    "body": "<a id='comment:26'></a>\nApproved.  We can study the performance regression on another ticket.",
    "created_at": "2019-12-20T02:36:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545578",
    "user": "https://github.com/BrentBaccala"
}
```

<a id='comment:26'></a>
Approved.  We can study the performance regression on another ticket.



---

archive/issue_comments_545579.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2019-12-20T02:36:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545579",
    "user": "https://github.com/BrentBaccala"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_545580.json:
```json
{
    "body": "<a id='comment:27'></a>\nno author name and no reviewer name !",
    "created_at": "2019-12-20T08:12:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545580",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:27'></a>
no author name and no reviewer name !



---

archive/issue_comments_545581.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw, Kwankyu Lee",
    "created_at": "2019-12-20T08:18:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545581",
    "user": "https://github.com/kwankyu"
}
```

**Reviewer:** Travis Scrimshaw, Kwankyu Lee



---

archive/issue_comments_545582.json:
```json
{
    "body": "**Author:** Brent Baccala",
    "created_at": "2019-12-20T08:18:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545582",
    "user": "https://github.com/kwankyu"
}
```

**Author:** Brent Baccala



---

archive/issue_events_078932.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-12-25T19:09:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28094#event-78932"
}
```



---

archive/issue_comments_545583.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2019-12-25T19:09:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545583",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_comments_545584.json:
```json
{
    "body": "**Changing branch** from \"[public/28094](https://github.com/sagemath/sagetrac-mirror/tree/public/28094)\" to \"[77dbf93d3116cf33e090d79607803d96c349e68b](https://github.com/sagemath/sagetrac-mirror/commit/77dbf93d3116cf33e090d79607803d96c349e68b)\".",
    "created_at": "2019-12-25T19:09:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28094",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28094#issuecomment-545584",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/28094](https://github.com/sagemath/sagetrac-mirror/tree/public/28094)" to "[77dbf93d3116cf33e090d79607803d96c349e68b](https://github.com/sagemath/sagetrac-mirror/commit/77dbf93d3116cf33e090d79607803d96c349e68b)".
