# Issue 28182: Linear algorithm for squares in words

archive/issues_027945.json:
```json
{
    "body": "This ticket implement a linear time algorithm to retrieve all the distinct squares in a word.\n\nCC:  @saliola @nadialafreniere\n\nKeywords: fpsac2019, suffix_trees\n\nBranch/Commit: 71f2ab7344a059a8c36d9049f01ad42a658cefc6\n\nReviewer: Nadia Lafreni\u00e8re, Travis Scrimshaw\n\nAuthor: \u00c9mile Nadeau\n\nDependencies: #23573\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/28182\n\n",
    "closed_at": "2019-10-31T22:40:38Z",
    "created_at": "2019-07-12T09:46:24Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.0",
    "title": "Linear algorithm for squares in words",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28182",
    "user": "https://github.com/enadeau"
}
```
This ticket implement a linear time algorithm to retrieve all the distinct squares in a word.

CC:  @saliola @nadialafreniere

Keywords: fpsac2019, suffix_trees

Branch/Commit: 71f2ab7344a059a8c36d9049f01ad42a658cefc6

Reviewer: Nadia Lafrenière, Travis Scrimshaw

Author: Émile Nadeau

Dependencies: #23573

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/28182





---

archive/issue_comments_539423.json:
```json
{
    "body": "Changing branch from \"\" to \"u/enadeau/linear_algorithm_for_squares_in_words\"",
    "created_at": "2019-07-12T12:36:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539423",
    "user": "https://github.com/enadeau"
}
```

Changing branch from "" to "u/enadeau/linear_algorithm_for_squares_in_words"



---

archive/issue_comments_539424.json:
```json
{
    "body": "Changing author from \"\" to \"\u00c9mile Nadeau\"",
    "created_at": "2019-07-12T12:40:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539424",
    "user": "https://github.com/enadeau"
}
```

Changing author from "" to "Émile Nadeau"



---

archive/issue_comments_539425.json:
```json
{
    "body": "Changing commit from \"\" to \"f6104be82a7945f6fa042b9cc9b7757f19416fca\"",
    "created_at": "2019-07-12T12:40:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539425",
    "user": "https://github.com/enadeau"
}
```

Changing commit from "" to "f6104be82a7945f6fa042b9cc9b7757f19416fca"



---

archive/issue_comments_539426.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+This ticket implement a linear time algorithm to retrieve all the distinct squares in a word.\n``````\n",
    "created_at": "2019-07-12T12:40:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539426",
    "user": "https://github.com/enadeau"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+This ticket implement a linear time algorithm to retrieve all the distinct squares in a word.
``````




---

archive/issue_comments_539427.json:
```json
{
    "body": "Changing keywords from \"\" to \"fpsac2019, suffix_trees\".",
    "created_at": "2019-07-12T12:40:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539427",
    "user": "https://github.com/enadeau"
}
```

Changing keywords from "" to "fpsac2019, suffix_trees".



---

archive/issue_comments_539428.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#23573\"",
    "created_at": "2019-07-12T12:40:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539428",
    "user": "https://github.com/enadeau"
}
```

Changing dependencies from "" to "#23573"



---

archive/issue_comments_539429.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------|\n|[2d0502a](https://github.com/sagemath/sagetrac-mirror/commit/2d0502a769bd1b31a177ad19ba95168e6ecb086d)|`add sqaures method for finite word and change algorithm for square_free`|",
    "created_at": "2019-07-12T13:20:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539429",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------|
|[2d0502a](https://github.com/sagemath/sagetrac-mirror/commit/2d0502a769bd1b31a177ad19ba95168e6ecb086d)|`add sqaures method for finite word and change algorithm for square_free`|



---

archive/issue_comments_539430.json:
```json
{
    "body": "Changing commit from \"f6104be82a7945f6fa042b9cc9b7757f19416fca\" to \"2d0502a769bd1b31a177ad19ba95168e6ecb086d\"",
    "created_at": "2019-07-12T13:20:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539430",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f6104be82a7945f6fa042b9cc9b7757f19416fca" to "2d0502a769bd1b31a177ad19ba95168e6ecb086d"



---

archive/issue_comments_539431.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------|\n|[7c5ceac](https://github.com/sagemath/sagetrac-mirror/commit/7c5ceac0f508434301badde52811f3a750f51e48)|`style improvements`|\n|[d01fb86](https://github.com/sagemath/sagetrac-mirror/commit/d01fb86ba7cdb559ca2255c12d17833d8b640441)|`replace try/except by if/else`|",
    "created_at": "2019-07-12T13:57:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539431",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------|
|[7c5ceac](https://github.com/sagemath/sagetrac-mirror/commit/7c5ceac0f508434301badde52811f3a750f51e48)|`style improvements`|
|[d01fb86](https://github.com/sagemath/sagetrac-mirror/commit/d01fb86ba7cdb559ca2255c12d17833d8b640441)|`replace try/except by if/else`|



---

archive/issue_comments_539432.json:
```json
{
    "body": "Changing commit from \"2d0502a769bd1b31a177ad19ba95168e6ecb086d\" to \"d01fb86ba7cdb559ca2255c12d17833d8b640441\"",
    "created_at": "2019-07-12T13:57:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539432",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2d0502a769bd1b31a177ad19ba95168e6ecb086d" to "d01fb86ba7cdb559ca2255c12d17833d8b640441"



---

archive/issue_comments_539433.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-07-12T14:01:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539433",
    "user": "https://github.com/enadeau"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_539434.json:
```json
{
    "body": "Changing branch from \"u/enadeau/linear_algorithm_for_squares_in_words\" to \"u/nadialafreniere/linear_algorithm_for_squares_in_words\"",
    "created_at": "2019-07-12T16:08:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539434",
    "user": "https://github.com/nadialafreniere"
}
```

Changing branch from "u/enadeau/linear_algorithm_for_squares_in_words" to "u/nadialafreniere/linear_algorithm_for_squares_in_words"



---

archive/issue_comments_539435.json:
```json
{
    "body": "Changing branch from \"u/nadialafreniere/linear_algorithm_for_squares_in_words\" to \"u/enadeau/linear_algorithm_for_squares_in_words\"",
    "created_at": "2019-07-12T16:20:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539435",
    "user": "https://github.com/enadeau"
}
```

Changing branch from "u/nadialafreniere/linear_algorithm_for_squares_in_words" to "u/enadeau/linear_algorithm_for_squares_in_words"



---

archive/issue_comments_539436.json:
```json
{
    "body": "Changing branch from \"u/enadeau/linear_algorithm_for_squares_in_words\" to \"u/nadialafreniere/linear_algorithm_for_squares_in_words\"",
    "created_at": "2019-07-14T00:25:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539436",
    "user": "https://github.com/nadialafreniere"
}
```

Changing branch from "u/enadeau/linear_algorithm_for_squares_in_words" to "u/nadialafreniere/linear_algorithm_for_squares_in_words"



---

archive/issue_comments_539437.json:
```json
{
    "body": "Changing commit from \"d01fb86ba7cdb559ca2255c12d17833d8b640441\" to \"02cf8d024771dd4c93a1bac91f7479647e2d6b4c\"",
    "created_at": "2019-07-14T00:34:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539437",
    "user": "https://github.com/nadialafreniere"
}
```

Changing commit from "d01fb86ba7cdb559ca2255c12d17833d8b640441" to "02cf8d024771dd4c93a1bac91f7479647e2d6b4c"



---

archive/issue_comments_539438.json:
```json
{
    "body": "<a id='comment:9'></a>\nThe `leftmost_covering_set` function does not work properly:\n\n```\nsage: v = Word('aaaaa')\nsage: Tv = v.suffix_tree()\nsage: Tv.leftmost_covering_set()\n[[4, 2], [], [8], [6], [4]]\n```\n\nIs that wrong? Shouldn't `i+l` be smaller than the length of the word, since it is the position where the factors are supposed to end?\nI think the errors are in the 2nd condition. Testing it with the word `'aaaaa'` on the first block (of size 1), the 2nd condition returns `[(-1, 4), (-2, 6), (-3, 8)]`, which seems a bit weird, the first entry of the tuple being the position at which the square starts.\nPlease, fix it and add a test/example to make sure this casee is covered.\nIf you fix this, I'm ok with `leftmost_covering_set`.\n\nFor `square_vocabulary`, I think you should be more explicit in the description and say what the pairs are (a //couple// containing the position at which the square starts and its length).\n\n---\nNew commits:\n|                                                                                                                                          |                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|\n|[9ff1e49](https://github.com/sagemath/sagetrac-mirror/commit/9ff1e495c03b9d1380531958839edfa42c18b1f4)|`Fixed typos and spacing`|\n|[02cf8d0](https://github.com/sagemath/sagetrac-mirror/commit/02cf8d024771dd4c93a1bac91f7479647e2d6b4c)|`Fixed some spacing`|",
    "created_at": "2019-07-14T00:34:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539438",
    "user": "https://github.com/nadialafreniere"
}
```

<a id='comment:9'></a>
The `leftmost_covering_set` function does not work properly:

```
sage: v = Word('aaaaa')
sage: Tv = v.suffix_tree()
sage: Tv.leftmost_covering_set()
[[4, 2], [], [8], [6], [4]]
```

Is that wrong? Shouldn't `i+l` be smaller than the length of the word, since it is the position where the factors are supposed to end?
I think the errors are in the 2nd condition. Testing it with the word `'aaaaa'` on the first block (of size 1), the 2nd condition returns `[(-1, 4), (-2, 6), (-3, 8)]`, which seems a bit weird, the first entry of the tuple being the position at which the square starts.
Please, fix it and add a test/example to make sure this casee is covered.
If you fix this, I'm ok with `leftmost_covering_set`.

For `square_vocabulary`, I think you should be more explicit in the description and say what the pairs are (a //couple// containing the position at which the square starts and its length).

---
New commits:
|                                                                                                                                          |                         |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|
|[9ff1e49](https://github.com/sagemath/sagetrac-mirror/commit/9ff1e495c03b9d1380531958839edfa42c18b1f4)|`Fixed typos and spacing`|
|[02cf8d0](https://github.com/sagemath/sagetrac-mirror/commit/02cf8d024771dd4c93a1bac91f7479647e2d6b4c)|`Fixed some spacing`|



---

archive/issue_comments_539439.json:
```json
{
    "body": "Changing branch from \"u/nadialafreniere/linear_algorithm_for_squares_in_words\" to \"u/enadeau/linear_algorithm_for_squares_in_words\"",
    "created_at": "2019-07-14T11:55:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539439",
    "user": "https://github.com/enadeau"
}
```

Changing branch from "u/nadialafreniere/linear_algorithm_for_squares_in_words" to "u/enadeau/linear_algorithm_for_squares_in_words"



---

archive/issue_comments_539440.json:
```json
{
    "body": "Changing commit from \"02cf8d024771dd4c93a1bac91f7479647e2d6b4c\" to \"6b4ed34871696fb5426c3177b1541c8da0038854\"",
    "created_at": "2019-07-14T12:02:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539440",
    "user": "https://github.com/enadeau"
}
```

Changing commit from "02cf8d024771dd4c93a1bac91f7479647e2d6b4c" to "6b4ed34871696fb5426c3177b1541c8da0038854"



---

archive/issue_comments_539441.json:
```json
{
    "body": "<a id='comment:11'></a>\nI've made the change to match the new signature of `suffix_walk`, see ticket:23573\n\n---\nLast 10 new commits:\n|                                                                                                                                          |                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|\n|[2c0db37](https://github.com/sagemath/sagetrac-mirror/commit/2c0db37d459bd661aa5139a3d2d87c2dba4fb7cf)|`Add class Decorated suffix tree`|\n|[dceab88](https://github.com/sagemath/sagetrac-mirror/commit/dceab883e26689bd265be51bd21bdb4c5815debb)|`doc and style improvements`|\n|[655aed1](https://github.com/sagemath/sagetrac-mirror/commit/655aed13c2d2cbb380a65e68cf53a0a6b8dfc9a8)|`add sqaures method for finite word and change algorithm for square_free`|\n|[4534ed5](https://github.com/sagemath/sagetrac-mirror/commit/4534ed54ec53cc6bc47e28516144c51803a965df)|`style improvements`|\n|[0a7bf29](https://github.com/sagemath/sagetrac-mirror/commit/0a7bf293989072b3b79e7abfbf7e78da581f5468)|`replace try/except by if/else`|\n|[28b231f](https://github.com/sagemath/sagetrac-mirror/commit/28b231f11a8f8ce60a02b50eccf02c3ae5a2bafc)|`Fixed typos and spacing`|\n|[3f8787d](https://github.com/sagemath/sagetrac-mirror/commit/3f8787d8d5196d44101e4ffb6dfdc0a8a490de7d)|`Doc improvement`|\n|[684bb4f](https://github.com/sagemath/sagetrac-mirror/commit/684bb4ffd37b3fed48faefe48b9c9b4a50e2266e)|`Fixed some spacing`|\n|[150a9e9](https://github.com/sagemath/sagetrac-mirror/commit/150a9e90ba2289b08fe196c28263244c458a6edb)|`unpack argument in suffix_walk calls`|\n|[6b4ed34](https://github.com/sagemath/sagetrac-mirror/commit/6b4ed34871696fb5426c3177b1541c8da0038854)|`Merge branch 'u/nadialafreniere/linear_algorithm_for_squares_in_words' of git://trac.sagemath.org/sage into t/28182/linear_algorithm_for_squares_in_words`|",
    "created_at": "2019-07-14T12:02:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539441",
    "user": "https://github.com/enadeau"
}
```

<a id='comment:11'></a>
I've made the change to match the new signature of `suffix_walk`, see ticket:23573

---
Last 10 new commits:
|                                                                                                                                          |                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|
|[2c0db37](https://github.com/sagemath/sagetrac-mirror/commit/2c0db37d459bd661aa5139a3d2d87c2dba4fb7cf)|`Add class Decorated suffix tree`|
|[dceab88](https://github.com/sagemath/sagetrac-mirror/commit/dceab883e26689bd265be51bd21bdb4c5815debb)|`doc and style improvements`|
|[655aed1](https://github.com/sagemath/sagetrac-mirror/commit/655aed13c2d2cbb380a65e68cf53a0a6b8dfc9a8)|`add sqaures method for finite word and change algorithm for square_free`|
|[4534ed5](https://github.com/sagemath/sagetrac-mirror/commit/4534ed54ec53cc6bc47e28516144c51803a965df)|`style improvements`|
|[0a7bf29](https://github.com/sagemath/sagetrac-mirror/commit/0a7bf293989072b3b79e7abfbf7e78da581f5468)|`replace try/except by if/else`|
|[28b231f](https://github.com/sagemath/sagetrac-mirror/commit/28b231f11a8f8ce60a02b50eccf02c3ae5a2bafc)|`Fixed typos and spacing`|
|[3f8787d](https://github.com/sagemath/sagetrac-mirror/commit/3f8787d8d5196d44101e4ffb6dfdc0a8a490de7d)|`Doc improvement`|
|[684bb4f](https://github.com/sagemath/sagetrac-mirror/commit/684bb4ffd37b3fed48faefe48b9c9b4a50e2266e)|`Fixed some spacing`|
|[150a9e9](https://github.com/sagemath/sagetrac-mirror/commit/150a9e90ba2289b08fe196c28263244c458a6edb)|`unpack argument in suffix_walk calls`|
|[6b4ed34](https://github.com/sagemath/sagetrac-mirror/commit/6b4ed34871696fb5426c3177b1541c8da0038854)|`Merge branch 'u/nadialafreniere/linear_algorithm_for_squares_in_words' of git://trac.sagemath.org/sage into t/28182/linear_algorithm_for_squares_in_words`|



---

archive/issue_comments_539442.json:
```json
{
    "body": "Changing commit from \"6b4ed34871696fb5426c3177b1541c8da0038854\" to \"630b08f176cdb79caaa5100eda92e5f4f215d21c\"",
    "created_at": "2019-07-14T12:32:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539442",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6b4ed34871696fb5426c3177b1541c8da0038854" to "630b08f176cdb79caaa5100eda92e5f4f215d21c"



---

archive/issue_comments_539443.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------|\n|[630b08f](https://github.com/sagemath/sagetrac-mirror/commit/630b08f176cdb79caaa5100eda92e5f4f215d21c)|`Move reference to the master bibliography and remove duplicate method`|",
    "created_at": "2019-07-14T12:32:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539443",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------|
|[630b08f](https://github.com/sagemath/sagetrac-mirror/commit/630b08f176cdb79caaa5100eda92e5f4f215d21c)|`Move reference to the master bibliography and remove duplicate method`|



---

archive/issue_comments_539444.json:
```json
{
    "body": "Changing commit from \"630b08f176cdb79caaa5100eda92e5f4f215d21c\" to \"02ceb2908016ee5846db63e6d259b530548501dd\"",
    "created_at": "2019-07-15T00:19:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539444",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "630b08f176cdb79caaa5100eda92e5f4f215d21c" to "02ceb2908016ee5846db63e6d259b530548501dd"



---

archive/issue_comments_539445.json:
```json
{
    "body": "<a id='comment:13'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|\n|[02ceb29](https://github.com/sagemath/sagetrac-mirror/commit/02ceb2908016ee5846db63e6d259b530548501dd)|`fixed leftmost_covering_set`|",
    "created_at": "2019-07-15T00:19:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539445",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|
|[02ceb29](https://github.com/sagemath/sagetrac-mirror/commit/02ceb2908016ee5846db63e6d259b530548501dd)|`fixed leftmost_covering_set`|



---

archive/issue_comments_539446.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-07-15T12:58:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539446",
    "user": "https://github.com/nadialafreniere"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_539447.json:
```json
{
    "body": "<a id='comment:14'></a>\nGreat! I'm happy with most of the changes and the algorithm for squares is indeed faster than the naive one.\n\nWith the naive algorithm, I had:\n\n```\nsage: w = words.ThueMorseWord()[:1000]\nsage: %timeit squares(w)\n10 loops, best of 3: 72.3 ms per loop\nsage: u = words.ThueMorseWord()[:2000]\nsage: %timeit squares(u)\n1 loop, best of 3: 283 ms per loop\n```\nwhile the new one gives\n\n```\nsage: w = words.ThueMorseWord()[:1000]\nsage: %timeit w.squares()\n10 loops, best of 3: 30.5 ms per loop\nsage: u = words.ThueMorseWord()[:2000]\nsage: %timeit u.squares()\n10 loops, best of 3: 60.8 ms per loop\n```\nwhich is much faster.\n\nI'll repeat what I suggested in[comment:9](#comment%3A9), because you seem to have forgotten to apply it:\n> For `square_vocabulary`, I think you should be more explicit in the description and say what the pairs are (a //couple// containing the position at which the square starts and its length). \n\nIf you disagree with this comment, I'd like to hear your point of view. Otherwise, please change it.",
    "created_at": "2019-07-15T12:58:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539447",
    "user": "https://github.com/nadialafreniere"
}
```

<a id='comment:14'></a>
Great! I'm happy with most of the changes and the algorithm for squares is indeed faster than the naive one.

With the naive algorithm, I had:

```
sage: w = words.ThueMorseWord()[:1000]
sage: %timeit squares(w)
10 loops, best of 3: 72.3 ms per loop
sage: u = words.ThueMorseWord()[:2000]
sage: %timeit squares(u)
1 loop, best of 3: 283 ms per loop
```
while the new one gives

```
sage: w = words.ThueMorseWord()[:1000]
sage: %timeit w.squares()
10 loops, best of 3: 30.5 ms per loop
sage: u = words.ThueMorseWord()[:2000]
sage: %timeit u.squares()
10 loops, best of 3: 60.8 ms per loop
```
which is much faster.

I'll repeat what I suggested in[comment:9](#comment%3A9), because you seem to have forgotten to apply it:
> For `square_vocabulary`, I think you should be more explicit in the description and say what the pairs are (a //couple// containing the position at which the square starts and its length). 

If you disagree with this comment, I'd like to hear your point of view. Otherwise, please change it.



---

archive/issue_comments_539448.json:
```json
{
    "body": "<a id='comment:15'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|\n|[6a1cdb7](https://github.com/sagemath/sagetrac-mirror/commit/6a1cdb7963259b0d770793d3f558942c50a594e1)|`improve square vocabulary docstring`|",
    "created_at": "2019-07-16T11:56:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539448",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|
|[6a1cdb7](https://github.com/sagemath/sagetrac-mirror/commit/6a1cdb7963259b0d770793d3f558942c50a594e1)|`improve square vocabulary docstring`|



---

archive/issue_comments_539449.json:
```json
{
    "body": "Changing commit from \"02ceb2908016ee5846db63e6d259b530548501dd\" to \"6a1cdb7963259b0d770793d3f558942c50a594e1\"",
    "created_at": "2019-07-16T11:56:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539449",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "02ceb2908016ee5846db63e6d259b530548501dd" to "6a1cdb7963259b0d770793d3f558942c50a594e1"



---

archive/issue_comments_539450.json:
```json
{
    "body": "<a id='comment:16'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[e381682](https://github.com/sagemath/sagetrac-mirror/commit/e3816821cfb56b4925d4082bc05a8f2dcbe78582)|`change python3 incompatible code`|",
    "created_at": "2019-07-16T12:06:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539450",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[e381682](https://github.com/sagemath/sagetrac-mirror/commit/e3816821cfb56b4925d4082bc05a8f2dcbe78582)|`change python3 incompatible code`|



---

archive/issue_comments_539451.json:
```json
{
    "body": "Changing commit from \"6a1cdb7963259b0d770793d3f558942c50a594e1\" to \"e3816821cfb56b4925d4082bc05a8f2dcbe78582\"",
    "created_at": "2019-07-16T12:06:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539451",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6a1cdb7963259b0d770793d3f558942c50a594e1" to "e3816821cfb56b4925d4082bc05a8f2dcbe78582"



---

archive/issue_comments_539452.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Nadia Lafreni\u00e8re\"",
    "created_at": "2019-07-16T12:08:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539452",
    "user": "https://github.com/nadialafreniere"
}
```

Changing reviewer from "" to "Nadia Lafrenière"



---

archive/issue_comments_539453.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2019-07-16T12:08:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539453",
    "user": "https://github.com/nadialafreniere"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_539454.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2019-07-16T12:16:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539454",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_539455.json:
```json
{
    "body": "<a id='comment:18'></a>\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n|                                                                                                                                           |                                                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|\n|[3500944](https://github.com/sagemath/sagetrac-mirror/commit/350094438e35bee482a91260fea9276b05a20263)|`remove tuple unpacking from function call and fix doc typos`|",
    "created_at": "2019-07-16T12:16:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539455",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
|                                                                                                                                           |                                                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|
|[3500944](https://github.com/sagemath/sagetrac-mirror/commit/350094438e35bee482a91260fea9276b05a20263)|`remove tuple unpacking from function call and fix doc typos`|



---

archive/issue_comments_539456.json:
```json
{
    "body": "Changing commit from \"e3816821cfb56b4925d4082bc05a8f2dcbe78582\" to \"350094438e35bee482a91260fea9276b05a20263\"",
    "created_at": "2019-07-16T12:16:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539456",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e3816821cfb56b4925d4082bc05a8f2dcbe78582" to "350094438e35bee482a91260fea9276b05a20263"



---

archive/issue_comments_539457.json:
```json
{
    "body": "<a id='comment:19'></a>\nI've detailed the documentation as you suggested and also fixed some other details pointed out by the patchbot.",
    "created_at": "2019-07-16T12:18:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539457",
    "user": "https://github.com/enadeau"
}
```

<a id='comment:19'></a>
I've detailed the documentation as you suggested and also fixed some other details pointed out by the patchbot.



---

archive/issue_comments_539458.json:
```json
{
    "body": "Changing branch from \"u/enadeau/linear_algorithm_for_squares_in_words\" to \"u/nadialafreniere/linear_algorithm_for_squares_in_words\"",
    "created_at": "2019-07-16T14:03:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539458",
    "user": "https://github.com/nadialafreniere"
}
```

Changing branch from "u/enadeau/linear_algorithm_for_squares_in_words" to "u/nadialafreniere/linear_algorithm_for_squares_in_words"



---

archive/issue_comments_539459.json:
```json
{
    "body": "<a id='comment:21'></a>\nNew commits:\n|                                                                                                                                          |                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------|\n|[1208932](https://github.com/sagemath/sagetrac-mirror/commit/1208932d5ac9f4b219466e6b85f21af6243aa4f9)|`Fix spacing and a typo`|",
    "created_at": "2019-07-16T14:04:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539459",
    "user": "https://github.com/nadialafreniere"
}
```

<a id='comment:21'></a>
New commits:
|                                                                                                                                          |                        |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------|
|[1208932](https://github.com/sagemath/sagetrac-mirror/commit/1208932d5ac9f4b219466e6b85f21af6243aa4f9)|`Fix spacing and a typo`|



---

archive/issue_comments_539460.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-07-16T14:04:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539460",
    "user": "https://github.com/nadialafreniere"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_539461.json:
```json
{
    "body": "Changing commit from \"350094438e35bee482a91260fea9276b05a20263\" to \"1208932d5ac9f4b219466e6b85f21af6243aa4f9\"",
    "created_at": "2019-07-16T14:04:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539461",
    "user": "https://github.com/nadialafreniere"
}
```

Changing commit from "350094438e35bee482a91260fea9276b05a20263" to "1208932d5ac9f4b219466e6b85f21af6243aa4f9"



---

archive/issue_comments_539462.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2019-07-17T09:21:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539462",
    "user": "https://github.com/enadeau"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_539463.json:
```json
{
    "body": "Changing branch from \"u/nadialafreniere/linear_algorithm_for_squares_in_words\" to \"u/enadeau/linear_algorithm_for_squares_in_words\"",
    "created_at": "2019-08-11T13:23:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539463",
    "user": "https://github.com/enadeau"
}
```

Changing branch from "u/nadialafreniere/linear_algorithm_for_squares_in_words" to "u/enadeau/linear_algorithm_for_squares_in_words"



---

archive/issue_comments_539464.json:
```json
{
    "body": "<a id='comment:24'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------|\n|[a88d06a](https://github.com/sagemath/sagetrac-mirror/commit/a88d06a27a76a8c8f0268b8c72d0429b7d7a7680)|`Fix patchbot issue`|",
    "created_at": "2019-08-14T10:23:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539464",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------|
|[a88d06a](https://github.com/sagemath/sagetrac-mirror/commit/a88d06a27a76a8c8f0268b8c72d0429b7d7a7680)|`Fix patchbot issue`|



---

archive/issue_comments_539465.json:
```json
{
    "body": "Changing commit from \"1208932d5ac9f4b219466e6b85f21af6243aa4f9\" to \"a88d06a27a76a8c8f0268b8c72d0429b7d7a7680\"",
    "created_at": "2019-08-14T10:23:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539465",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1208932d5ac9f4b219466e6b85f21af6243aa4f9" to "a88d06a27a76a8c8f0268b8c72d0429b7d7a7680"



---

archive/issue_comments_539466.json:
```json
{
    "body": "Changing commit from \"a88d06a27a76a8c8f0268b8c72d0429b7d7a7680\" to \"f17836737f467a59b6de64889508c83f57a214bf\"",
    "created_at": "2019-08-14T14:50:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539466",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a88d06a27a76a8c8f0268b8c72d0429b7d7a7680" to "f17836737f467a59b6de64889508c83f57a214bf"



---

archive/issue_comments_539467.json:
```json
{
    "body": "<a id='comment:25'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|\n|[f178367](https://github.com/sagemath/sagetrac-mirror/commit/f17836737f467a59b6de64889508c83f57a214bf)|`other pyflakes error`|",
    "created_at": "2019-08-14T14:50:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539467",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
|[f178367](https://github.com/sagemath/sagetrac-mirror/commit/f17836737f467a59b6de64889508c83f57a214bf)|`other pyflakes error`|



---

archive/issue_comments_539468.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-08-15T13:07:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539468",
    "user": "https://github.com/enadeau"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_539469.json:
```json
{
    "body": "<a id='comment:27'></a>\nGreat! I'm happy there's now a fast algorithm for computing the squares and everything looks fine.",
    "created_at": "2019-08-30T22:37:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539469",
    "user": "https://github.com/nadialafreniere"
}
```

<a id='comment:27'></a>
Great! I'm happy there's now a fast algorithm for computing the squares and everything looks fine.



---

archive/issue_comments_539470.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-08-30T22:37:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539470",
    "user": "https://github.com/nadialafreniere"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_539471.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2019-09-05T20:07:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539471",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_539472.json:
```json
{
    "body": "<a id='comment:28'></a>\nI'm getting a number of py3 failures of the sort \n\n```\n**********************************************************************\nFile \"src/sage/combinat/words/suffix_trees.py\", line 1633, in sage.combinat.words.suffix_trees.DecoratedSuffixTree._partial_labeling\nFailed example:\n    T = DecoratedSuffixTree(w)\nException raised:\n    Traceback (most recent call last):\n      File \"/var/lib/buildbot/slave/sage3_git/build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 681, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/var/lib/buildbot/slave/sage3_git/build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1123, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.combinat.words.suffix_trees.DecoratedSuffixTree._partial_labeling[2]>\", line 1, in <module>\n        T = DecoratedSuffixTree(w)\n      File \"/var/lib/buildbot/slave/sage3_git/build/local/lib/python3.7/site-packages/sage/combinat/words/suffix_trees.py\", line 1609, in __init__\n        self.labeling = self._complete_labeling()\n      File \"/var/lib/buildbot/slave/sage3_git/build/local/lib/python3.7/site-packages/sage/combinat/words/suffix_trees.py\", line 1786, in _complete_labeling\n        prelabeling = self._partial_labeling()\n      File \"/var/lib/buildbot/slave/sage3_git/build/local/lib/python3.7/site-packages/sage/combinat/words/suffix_trees.py\", line 1703, in _partial_labeling\n        treat_node(0, None)\n      File \"/var/lib/buildbot/slave/sage3_git/build/local/lib/python3.7/site-packages/sage/combinat/words/suffix_trees.py\", line 1683, in treat_node\n        if D.has_key(current_node):\n    AttributeError: 'dict' object has no attribute 'has_key'\n**********************************************************************\n```\nNote: `has_key` is removed in python 3, use `in` instead.",
    "created_at": "2019-09-05T20:07:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539472",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:28'></a>
I'm getting a number of py3 failures of the sort 

```
**********************************************************************
File "src/sage/combinat/words/suffix_trees.py", line 1633, in sage.combinat.words.suffix_trees.DecoratedSuffixTree._partial_labeling
Failed example:
    T = DecoratedSuffixTree(w)
Exception raised:
    Traceback (most recent call last):
      File "/var/lib/buildbot/slave/sage3_git/build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 681, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/var/lib/buildbot/slave/sage3_git/build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1123, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.combinat.words.suffix_trees.DecoratedSuffixTree._partial_labeling[2]>", line 1, in <module>
        T = DecoratedSuffixTree(w)
      File "/var/lib/buildbot/slave/sage3_git/build/local/lib/python3.7/site-packages/sage/combinat/words/suffix_trees.py", line 1609, in __init__
        self.labeling = self._complete_labeling()
      File "/var/lib/buildbot/slave/sage3_git/build/local/lib/python3.7/site-packages/sage/combinat/words/suffix_trees.py", line 1786, in _complete_labeling
        prelabeling = self._partial_labeling()
      File "/var/lib/buildbot/slave/sage3_git/build/local/lib/python3.7/site-packages/sage/combinat/words/suffix_trees.py", line 1703, in _partial_labeling
        treat_node(0, None)
      File "/var/lib/buildbot/slave/sage3_git/build/local/lib/python3.7/site-packages/sage/combinat/words/suffix_trees.py", line 1683, in treat_node
        if D.has_key(current_node):
    AttributeError: 'dict' object has no attribute 'has_key'
**********************************************************************
```
Note: `has_key` is removed in python 3, use `in` instead.



---

archive/issue_comments_539473.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-09-06T06:47:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539473",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_539474.json:
```json
{
    "body": "Changing reviewer from \"Nadia Lafreni\u00e8re\" to \"Nadia Lafreni\u00e8re, Travis Scrimshaw\"",
    "created_at": "2019-09-06T06:47:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539474",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "Nadia Lafrenière" to "Nadia Lafrenière, Travis Scrimshaw"



---

archive/issue_comments_539475.json:
```json
{
    "body": "Changing branch from \"u/enadeau/linear_algorithm_for_squares_in_words\" to \"u/tscrim/linear_algorithm_squares_words-28182\"",
    "created_at": "2019-09-06T06:47:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539475",
    "user": "https://github.com/tscrim"
}
```

Changing branch from "u/enadeau/linear_algorithm_for_squares_in_words" to "u/tscrim/linear_algorithm_squares_words-28182"



---

archive/issue_comments_539476.json:
```json
{
    "body": "Changing commit from \"f17836737f467a59b6de64889508c83f57a214bf\" to \"5c9e0cc3df1d6b1c0eae96be808ce2d6556e6cc3\"",
    "created_at": "2019-09-06T06:47:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539476",
    "user": "https://github.com/tscrim"
}
```

Changing commit from "f17836737f467a59b6de64889508c83f57a214bf" to "5c9e0cc3df1d6b1c0eae96be808ce2d6556e6cc3"



---

archive/issue_comments_539477.json:
```json
{
    "body": "<a id='comment:29'></a>\nThere were a few other things that also needed fixing (including a failing doctest on Python3) and that could be optimized. This now passes tests for me on Python3.\n\n---\nNew commits:\n|                                                                                                                                          |                                                                                                                                                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------|\n|[513ce00](https://github.com/sagemath/sagetrac-mirror/commit/513ce00e948e5f35c57b8296698e66e06b3baf93)|`Merge branch 'u/enadeau/linear_algorithm_for_squares_in_words' of git://trac.sagemath.org/sage into u/tscrim/linear_algorithm_squares_words-28182`|\n|[5c9e0cc](https://github.com/sagemath/sagetrac-mirror/commit/5c9e0cc3df1d6b1c0eae96be808ce2d6556e6cc3)|`Fixing Python3 stuff and other misc things.`|",
    "created_at": "2019-09-06T06:47:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539477",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:29'></a>
There were a few other things that also needed fixing (including a failing doctest on Python3) and that could be optimized. This now passes tests for me on Python3.

---
New commits:
|                                                                                                                                          |                                                                                                                                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------|
|[513ce00](https://github.com/sagemath/sagetrac-mirror/commit/513ce00e948e5f35c57b8296698e66e06b3baf93)|`Merge branch 'u/enadeau/linear_algorithm_for_squares_in_words' of git://trac.sagemath.org/sage into u/tscrim/linear_algorithm_squares_words-28182`|
|[5c9e0cc](https://github.com/sagemath/sagetrac-mirror/commit/5c9e0cc3df1d6b1c0eae96be808ce2d6556e6cc3)|`Fixing Python3 stuff and other misc things.`|



---

archive/issue_comments_539478.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-09-12T09:39:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539478",
    "user": "https://github.com/enadeau"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_539479.json:
```json
{
    "body": "<a id='comment:30'></a>\nLooks good. Thanks for your help.",
    "created_at": "2019-09-12T09:39:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539479",
    "user": "https://github.com/enadeau"
}
```

<a id='comment:30'></a>
Looks good. Thanks for your help.



---

archive/issue_comments_539480.json:
```json
{
    "body": "<a id='comment:31'></a>\nmoving milestone to 9.0 (after release of 8.9)",
    "created_at": "2019-09-30T08:12:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539480",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:31'></a>
moving milestone to 9.0 (after release of 8.9)



---

archive/issue_events_087222.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-09-30T08:12:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "milestone": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28182#event-87222"
}
```



---

archive/issue_comments_539481.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2019-10-07T22:04:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539481",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_539482.json:
```json
{
    "body": "<a id='comment:32'></a>\nGetting some random failures:\n\n```\nsage -t --long src/sage/combinat/words/finite_word.py\n**********************************************************************\nFile \"src/sage/combinat/words/finite_word.py\", line 6879, in sage.combinat.words.finite_word.FiniteWord_class.squares\nFailed example:\n    w.squares()\nExpected:\n    [word: , word: 01100110, word: 00110011, word: 00, word: 11, word: 1010]\nGot:\n    [word: , word: 00110011, word: 00, word: 01100110, word: 11, word: 1010]\n**********************************************************************\n1 item had failures:\n   1 of   5 in sage.combinat.words.finite_word.FiniteWord_class.squares\n    [1318 tests, 1 failure, 3.32 s]\n```",
    "created_at": "2019-10-07T22:04:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539482",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:32'></a>
Getting some random failures:

```
sage -t --long src/sage/combinat/words/finite_word.py
**********************************************************************
File "src/sage/combinat/words/finite_word.py", line 6879, in sage.combinat.words.finite_word.FiniteWord_class.squares
Failed example:
    w.squares()
Expected:
    [word: , word: 01100110, word: 00110011, word: 00, word: 11, word: 1010]
Got:
    [word: , word: 00110011, word: 00, word: 01100110, word: 11, word: 1010]
**********************************************************************
1 item had failures:
   1 of   5 in sage.combinat.words.finite_word.FiniteWord_class.squares
    [1318 tests, 1 failure, 3.32 s]
```



---

archive/issue_comments_539483.json:
```json
{
    "body": "<a id='comment:33'></a>\nand one missing empty line here:\n\n```\n+        EXAMPLES::\n+            sage: from sage.combinat.words.suffix_trees import DecoratedSuffixTree\n```",
    "created_at": "2019-10-08T07:18:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539483",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:33'></a>
and one missing empty line here:

```
+        EXAMPLES::
+            sage: from sage.combinat.words.suffix_trees import DecoratedSuffixTree
```



---

archive/issue_comments_539484.json:
```json
{
    "body": "Changing branch from \"u/tscrim/linear_algorithm_squares_words-28182\" to \"u/enadeau/linear_algorithm_squares_words-28182\"",
    "created_at": "2019-10-08T10:59:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539484",
    "user": "https://github.com/enadeau"
}
```

Changing branch from "u/tscrim/linear_algorithm_squares_words-28182" to "u/enadeau/linear_algorithm_squares_words-28182"



---

archive/issue_comments_539485.json:
```json
{
    "body": "Changing commit from \"5c9e0cc3df1d6b1c0eae96be808ce2d6556e6cc3\" to \"5f0f3d97d890eb17c22b96c006bb59db840a9b0e\"",
    "created_at": "2019-10-08T14:09:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539485",
    "user": "https://github.com/nadialafreniere"
}
```

Changing commit from "5c9e0cc3df1d6b1c0eae96be808ce2d6556e6cc3" to "5f0f3d97d890eb17c22b96c006bb59db840a9b0e"



---

archive/issue_comments_539486.json:
```json
{
    "body": "<a id='comment:35'></a>\nWhy don't you return the squares as a set, just like factors and palindromes? That would solve the problem of the failing doctest.",
    "created_at": "2019-10-08T14:09:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539486",
    "user": "https://github.com/nadialafreniere"
}
```

<a id='comment:35'></a>
Why don't you return the squares as a set, just like factors and palindromes? That would solve the problem of the failing doctest.



---

archive/issue_comments_539487.json:
```json
{
    "body": "<a id='comment:36'></a>\nI could change it for a `set` if we want to be consistent with the output from `factors` and `palindromes`. However, Python has no guarantee about order of the elements in a set. This means that it wouldn't fix the doctest since it is sensitive to the order the elements are printed. To fix the doctest using `sorted` is the good way to do it. Tests for `palindromes` are also written that way.\n\nDo you still think the output should be changed to a set?",
    "created_at": "2019-10-08T15:22:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539487",
    "user": "https://github.com/enadeau"
}
```

<a id='comment:36'></a>
I could change it for a `set` if we want to be consistent with the output from `factors` and `palindromes`. However, Python has no guarantee about order of the elements in a set. This means that it wouldn't fix the doctest since it is sensitive to the order the elements are printed. To fix the doctest using `sorted` is the good way to do it. Tests for `palindromes` are also written that way.

Do you still think the output should be changed to a set?



---

archive/issue_comments_539488.json:
```json
{
    "body": "<a id='comment:37'></a>\nI think consistency is something we should aim for, so that would be an improvement. But you are also right about the doctests.",
    "created_at": "2019-10-08T20:24:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539488",
    "user": "https://github.com/nadialafreniere"
}
```

<a id='comment:37'></a>
I think consistency is something we should aim for, so that would be an improvement. But you are also right about the doctests.



---

archive/issue_comments_539489.json:
```json
{
    "body": "<a id='comment:38'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|\n|[886b5ec](https://github.com/sagemath/sagetrac-mirror/commit/886b5ec2e3a71c4390cc7ce106523ff482085bd5)|`make the output of  Word.squares a set`|",
    "created_at": "2019-10-09T09:26:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539489",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:38'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|
|[886b5ec](https://github.com/sagemath/sagetrac-mirror/commit/886b5ec2e3a71c4390cc7ce106523ff482085bd5)|`make the output of  Word.squares a set`|



---

archive/issue_comments_539490.json:
```json
{
    "body": "Changing commit from \"5f0f3d97d890eb17c22b96c006bb59db840a9b0e\" to \"886b5ec2e3a71c4390cc7ce106523ff482085bd5\"",
    "created_at": "2019-10-09T09:26:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539490",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5f0f3d97d890eb17c22b96c006bb59db840a9b0e" to "886b5ec2e3a71c4390cc7ce106523ff482085bd5"



---

archive/issue_comments_539491.json:
```json
{
    "body": "<a id='comment:39'></a>\nINPUTS: should be INPUT:",
    "created_at": "2019-10-09T14:50:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539491",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:39'></a>
INPUTS: should be INPUT:



---

archive/issue_comments_539492.json:
```json
{
    "body": "<a id='comment:40'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|\n|[71f2ab7](https://github.com/sagemath/sagetrac-mirror/commit/71f2ab7344a059a8c36d9049f01ad42a658cefc6)|`change INPUTS: to INPUT:`|",
    "created_at": "2019-10-09T15:05:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539492",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|
|[71f2ab7](https://github.com/sagemath/sagetrac-mirror/commit/71f2ab7344a059a8c36d9049f01ad42a658cefc6)|`change INPUTS: to INPUT:`|



---

archive/issue_comments_539493.json:
```json
{
    "body": "Changing commit from \"886b5ec2e3a71c4390cc7ce106523ff482085bd5\" to \"71f2ab7344a059a8c36d9049f01ad42a658cefc6\"",
    "created_at": "2019-10-09T15:05:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539493",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "886b5ec2e3a71c4390cc7ce106523ff482085bd5" to "71f2ab7344a059a8c36d9049f01ad42a658cefc6"



---

archive/issue_comments_539494.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-10-10T14:32:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539494",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_539495.json:
```json
{
    "body": "<a id='comment:41'></a>\nyou should set back to needs review once you made all the required changes",
    "created_at": "2019-10-10T14:32:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539495",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:41'></a>
you should set back to needs review once you made all the required changes



---

archive/issue_comments_539496.json:
```json
{
    "body": "<a id='comment:42'></a>\nLGTM as I believe all suggestions have been addressed.",
    "created_at": "2019-10-30T04:44:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539496",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:42'></a>
LGTM as I believe all suggestions have been addressed.



---

archive/issue_comments_539497.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-10-30T04:44:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539497",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_539498.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-10-31T22:40:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539498",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_539499.json:
```json
{
    "body": "Changing branch from \"u/enadeau/linear_algorithm_squares_words-28182\" to \"71f2ab7344a059a8c36d9049f01ad42a658cefc6\"",
    "created_at": "2019-10-31T22:40:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28182#issuecomment-539499",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/enadeau/linear_algorithm_squares_words-28182" to "71f2ab7344a059a8c36d9049f01ad42a658cefc6"



---

archive/issue_events_087223.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-10-31T22:40:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28182",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28182#event-87223"
}
```
