# Issue 28422: Change keyword argument 'verbose' to 'check' in CoordChange.set_inverse() and set the default to True

archive/issues_028185.json:
```json
{
    "body": "As pointed out in this [sage-devel post](https://groups.google.com/d/msg/sage-devel/AilDfydrnSI/XhO1EbALEQAJ), the keyword `verbose=True` used to trigger the check of the inverse of a transition map in `CoordChange.set_inverse()` would be better named `check=True`. This is performed in this ticket. Moreover, `check=True` is now the default (previously, it was `verbose=False`) and the printed output of the check has been improved.  \n\nCC:  simonking @tscrim\n\nKeywords: manifolds, chart, coordinate_change\n\nBranch/Commit: a9c5ad86d706ea479d3c0525a5196d413a22c541\n\nReviewer: Travis Scrimshaw\n\nAuthor: Eric Gourgoulhon\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/28422\n\n",
    "closed_at": "2019-09-05T21:33:05Z",
    "created_at": "2019-08-29T14:09:01Z",
    "labels": [
        "component: geometry",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.9",
    "title": "Change keyword argument 'verbose' to 'check' in CoordChange.set_inverse() and set the default to True",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28422",
    "user": "https://github.com/egourgoulhon"
}
```
As pointed out in this [sage-devel post](https://groups.google.com/d/msg/sage-devel/AilDfydrnSI/XhO1EbALEQAJ), the keyword `verbose=True` used to trigger the check of the inverse of a transition map in `CoordChange.set_inverse()` would be better named `check=True`. This is performed in this ticket. Moreover, `check=True` is now the default (previously, it was `verbose=False`) and the printed output of the check has been improved.  

CC:  simonking @tscrim

Keywords: manifolds, chart, coordinate_change

Branch/Commit: a9c5ad86d706ea479d3c0525a5196d413a22c541

Reviewer: Travis Scrimshaw

Author: Eric Gourgoulhon

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/28422





---

archive/issue_comments_544321.json:
```json
{
    "body": "Changing commit from \"\" to \"26a47e058dfb941c378c3e0e17f1684611b57691\"",
    "created_at": "2019-08-29T15:31:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28422#issuecomment-544321",
    "user": "https://github.com/egourgoulhon"
}
```

Changing commit from "" to "26a47e058dfb941c378c3e0e17f1684611b57691"



---

archive/issue_comments_544322.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-08-29T15:31:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28422#issuecomment-544322",
    "user": "https://github.com/egourgoulhon"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_544323.json:
```json
{
    "body": "Changing branch from \"\" to \"public/manifolds/check_set_inverse-trac28422\"",
    "created_at": "2019-08-29T15:31:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28422#issuecomment-544323",
    "user": "https://github.com/egourgoulhon"
}
```

Changing branch from "" to "public/manifolds/check_set_inverse-trac28422"



---

archive/issue_comments_544324.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                                                                                       |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------|\n|[26a47e0](https://github.com/sagemath/sagetrac-mirror/commit/26a47e058dfb941c378c3e0e17f1684611b57691)|`Change keyword argument 'verbose' to 'check' in CoordChange.set_inverse() and set the default to True`|",
    "created_at": "2019-08-29T15:31:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28422#issuecomment-544324",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                                                                                       |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------|
|[26a47e0](https://github.com/sagemath/sagetrac-mirror/commit/26a47e058dfb941c378c3e0e17f1684611b57691)|`Change keyword argument 'verbose' to 'check' in CoordChange.set_inverse() and set the default to True`|



---

archive/issue_events_088326.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/28422",
    "rename": {
        "from": "Change keyword argument 'verbose' to 'check' in CoordChange.set_inverse(()",
        "to": "Change keyword argument 'verbose' to 'check' in CoordChange.set_inverse()"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28422#event-88326"
}
```



---

archive/issue_comments_544325.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-As pointed out in this [sage-devel post](https://groups.google.com/d/msg/sage-devel/AilDfydrnSI/XhO1EbALEQAJ), the keyword `verbose=True` used to trigger the check of the inverse of a transition map in `CoordChange.set_inverse()` would be better named `check=True`. This performed in this ticket. Moreover, `check=True` is now the default (previously, it was `verbose=False`) and the printed output of the check is improved.  \n+As pointed out in this [sage-devel post](https://groups.google.com/d/msg/sage-devel/AilDfydrnSI/XhO1EbALEQAJ), the keyword `verbose=True` used to trigger the check of the inverse of a transition map in `CoordChange.set_inverse()` would be better named `check=True`. This is performed in this ticket. Moreover, `check=True` is now the default (previously, it was `verbose=False`) and the printed output of the check has been improved.  \n``````\n",
    "created_at": "2019-08-29T15:48:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28422#issuecomment-544325",
    "user": "https://github.com/egourgoulhon"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-As pointed out in this [sage-devel post](https://groups.google.com/d/msg/sage-devel/AilDfydrnSI/XhO1EbALEQAJ), the keyword `verbose=True` used to trigger the check of the inverse of a transition map in `CoordChange.set_inverse()` would be better named `check=True`. This performed in this ticket. Moreover, `check=True` is now the default (previously, it was `verbose=False`) and the printed output of the check is improved.  
+As pointed out in this [sage-devel post](https://groups.google.com/d/msg/sage-devel/AilDfydrnSI/XhO1EbALEQAJ), the keyword `verbose=True` used to trigger the check of the inverse of a transition map in `CoordChange.set_inverse()` would be better named `check=True`. This is performed in this ticket. Moreover, `check=True` is now the default (previously, it was `verbose=False`) and the printed output of the check has been improved.  
``````




---

archive/issue_events_088327.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/28422",
    "rename": {
        "from": "Change keyword argument 'verbose' to 'check' in CoordChange.set_inverse()",
        "to": "Change keyword argument 'verbose' to 'check' in CoordChange.set_inverse() and set the default to True"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28422#event-88327"
}
```



---

archive/issue_comments_544326.json:
```json
{
    "body": "<a id='comment:4'></a>\nI think you should also have a `verbose` option whose default is `False` so it doesn't print all the information with the check (as we should assume the check pass).",
    "created_at": "2019-08-29T23:49:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28422#issuecomment-544326",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'></a>
I think you should also have a `verbose` option whose default is `False` so it doesn't print all the information with the check (as we should assume the check pass).



---

archive/issue_comments_544327.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [tscrim](#comment%3A4):\n> I think you should also have a `verbose` option whose default is `False` so it doesn't print all the information with the check (as we should assume the check pass).\n\n\nIf we restore a `verbose` option, then there is no point in having `check=True` since the printed output is the only outcome of the check. In particular, no exception is raised if the check is failed. The appreciation of whether the check is passed or not is thus left to the user. This is so because the check can fail when Sage is not capable to simplify enough the output, as with the `atan2` function considered in the `EXAMPLES` section of the documentation.",
    "created_at": "2019-08-30T08:14:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28422#issuecomment-544327",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:5'></a>
Replying to [tscrim](#comment%3A4):
> I think you should also have a `verbose` option whose default is `False` so it doesn't print all the information with the check (as we should assume the check pass).


If we restore a `verbose` option, then there is no point in having `check=True` since the printed output is the only outcome of the check. In particular, no exception is raised if the check is failed. The appreciation of whether the check is passed or not is thus left to the user. This is so because the check can fail when Sage is not capable to simplify enough the output, as with the `atan2` function considered in the `EXAMPLES` section of the documentation.



---

archive/issue_comments_544328.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [egourgoulhon](#comment%3A5):\n> \n> If we restore a `verbose` option, then there is no point in having `check=True` since the printed output is the only outcome of the check. In particular, no exception is raised if the check is failed. The appreciation of whether the check is passed or not is thus left to the user. This is so because the check can fail when Sage is not capable to simplify enough the output, as with the `atan2` function considered in the `EXAMPLES` section of the documentation.\n\n\nTaking into account the above, a possible use of a `verbose` option would the following: if `check=True`, then \n- for `verbose=True`, print the check details (as they are now)\n- for `verbose=False`, print nothing if the check is fully passed (i.e. if the variable `any_failure` defined in the code remains to `False`) and print the check details (as they are now) when some failure has occurred\n\nWould you agree with such a behavior?",
    "created_at": "2019-09-01T09:30:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28422#issuecomment-544328",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:6'></a>
Replying to [egourgoulhon](#comment%3A5):
> 
> If we restore a `verbose` option, then there is no point in having `check=True` since the printed output is the only outcome of the check. In particular, no exception is raised if the check is failed. The appreciation of whether the check is passed or not is thus left to the user. This is so because the check can fail when Sage is not capable to simplify enough the output, as with the `atan2` function considered in the `EXAMPLES` section of the documentation.


Taking into account the above, a possible use of a `verbose` option would the following: if `check=True`, then 
- for `verbose=True`, print the check details (as they are now)
- for `verbose=False`, print nothing if the check is fully passed (i.e. if the variable `any_failure` defined in the code remains to `False`) and print the check details (as they are now) when some failure has occurred

Would you agree with such a behavior?



---

archive/issue_comments_544329.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-09-01T09:48:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28422#issuecomment-544329",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_544330.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2019-09-01T09:48:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28422#issuecomment-544330",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_544331.json:
```json
{
    "body": "<a id='comment:7'></a>\nAh, I think I misread the code the first time through. I thought it always printed stuff out, but it only does it on failures. So you can disregard my comment. This is good.",
    "created_at": "2019-09-01T09:48:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28422#issuecomment-544331",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>
Ah, I think I misread the code the first time through. I thought it always printed stuff out, but it only does it on failures. So you can disregard my comment. This is good.



---

archive/issue_comments_544332.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [tscrim](#comment%3A7):\n> Ah, I think I misread the code the first time through. I thought it always printed stuff out, but it only does it on failures.\n\n\nWell actually, in the current version, with `check=True`, it always print something out, even if the check is passed (the only thing that is not printed in that case is the sentence \"NB: a failed report can reflect a mere lack of simplification\"). Personally, I don't feel uneasy with a function that is verbose when some \"interactivity\" is implicitly asked in the form \"check=True\".",
    "created_at": "2019-09-01T10:05:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28422#issuecomment-544332",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:8'></a>
Replying to [tscrim](#comment%3A7):
> Ah, I think I misread the code the first time through. I thought it always printed stuff out, but it only does it on failures.


Well actually, in the current version, with `check=True`, it always print something out, even if the check is passed (the only thing that is not printed in that case is the sentence "NB: a failed report can reflect a mere lack of simplification"). Personally, I don't feel uneasy with a function that is verbose when some "interactivity" is implicitly asked in the form "check=True".



---

archive/issue_comments_544333.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2019-09-01T10:37:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28422#issuecomment-544333",
    "user": "https://github.com/tscrim"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_544334.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [egourgoulhon](#comment%3A8):\n> Replying to [tscrim](#comment%3A7):\n> > Ah, I think I misread the code the first time through. I thought it always printed stuff out, but it only does it on failures.\n\n> \n> Well actually, in the current version, with `check=True`, it always print something out, even if the check is passed (the only thing that is not printed in that case is the sentence \"NB: a failed report can reflect a mere lack of simplification\"). Personally, I don't feel uneasy with a function that is verbose when some \"interactivity\" is implicitly asked in the form \"check=True\".\n\n\nOkay, now I am reading the code more carefully. I don't like it being overly verbose when it passes successfully. I am happy when it prints something on failure, but I don't like the noise when it passes successfully. I feel it just gets in the way. So if you feel there is a benefit to having the data every time, then you should add a `verbose` as you proposed in[comment:6](#comment%3A6).\n\nAddendum - This objection is only when it is the default behavior. If this was something a user had to ask for, then it wouldn't be a problem.",
    "created_at": "2019-09-01T10:37:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28422#issuecomment-544334",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:9'></a>
Replying to [egourgoulhon](#comment%3A8):
> Replying to [tscrim](#comment%3A7):
> > Ah, I think I misread the code the first time through. I thought it always printed stuff out, but it only does it on failures.

> 
> Well actually, in the current version, with `check=True`, it always print something out, even if the check is passed (the only thing that is not printed in that case is the sentence "NB: a failed report can reflect a mere lack of simplification"). Personally, I don't feel uneasy with a function that is verbose when some "interactivity" is implicitly asked in the form "check=True".


Okay, now I am reading the code more carefully. I don't like it being overly verbose when it passes successfully. I am happy when it prints something on failure, but I don't like the noise when it passes successfully. I feel it just gets in the way. So if you feel there is a benefit to having the data every time, then you should add a `verbose` as you proposed in[comment:6](#comment%3A6).

Addendum - This objection is only when it is the default behavior. If this was something a user had to ask for, then it wouldn't be a problem.



---

archive/issue_comments_544335.json:
```json
{
    "body": "Changing commit from \"26a47e058dfb941c378c3e0e17f1684611b57691\" to \"a9c5ad86d706ea479d3c0525a5196d413a22c541\"",
    "created_at": "2019-09-01T17:44:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28422#issuecomment-544335",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "26a47e058dfb941c378c3e0e17f1684611b57691" to "a9c5ad86d706ea479d3c0525a5196d413a22c541"



---

archive/issue_comments_544336.json:
```json
{
    "body": "<a id='comment:10'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|\n|[a9c5ad8](https://github.com/sagemath/sagetrac-mirror/commit/a9c5ad86d706ea479d3c0525a5196d413a22c541)|`Add keyword verbose in CoordChange.set_inverse()`|",
    "created_at": "2019-09-01T17:44:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28422#issuecomment-544336",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|
|[a9c5ad8](https://github.com/sagemath/sagetrac-mirror/commit/a9c5ad86d706ea479d3c0525a5196d413a22c541)|`Add keyword verbose in CoordChange.set_inverse()`|



---

archive/issue_comments_544337.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [tscrim](#comment%3A9):\n> \n> Okay, now I am reading the code more carefully. I don't like it being overly verbose when it passes successfully. I am happy when it prints something on failure, but I don't like the noise when it passes successfully. I feel it just gets in the way. So if you feel there is a benefit to having the data every time, then you should add a `verbose` as you proposed in[comment:6](#comment%3A6).\n\n\n\nOK, this is done in the above commit.\n\n> Addendum - This objection is only when it is the default behavior. If this was something a user had to ask for, then it wouldn't be a problem.\n\n\nOK I see your point.",
    "created_at": "2019-09-01T17:46:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28422#issuecomment-544337",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:11'></a>
Replying to [tscrim](#comment%3A9):
> 
> Okay, now I am reading the code more carefully. I don't like it being overly verbose when it passes successfully. I am happy when it prints something on failure, but I don't like the noise when it passes successfully. I feel it just gets in the way. So if you feel there is a benefit to having the data every time, then you should add a `verbose` as you proposed in[comment:6](#comment%3A6).



OK, this is done in the above commit.

> Addendum - This objection is only when it is the default behavior. If this was something a user had to ask for, then it wouldn't be a problem.


OK I see your point.



---

archive/issue_comments_544338.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-09-01T17:46:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28422#issuecomment-544338",
    "user": "https://github.com/egourgoulhon"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_544339.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-09-03T00:40:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28422#issuecomment-544339",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_544340.json:
```json
{
    "body": "<a id='comment:13'></a>\nThank you. LGTM (it is a bit strange that in Python invalid keywords are `TypeError`s, but that is the convention).",
    "created_at": "2019-09-03T00:40:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28422#issuecomment-544340",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:13'></a>
Thank you. LGTM (it is a bit strange that in Python invalid keywords are `TypeError`s, but that is the convention).



---

archive/issue_comments_544341.json:
```json
{
    "body": "<a id='comment:14'></a>\nThanks for the review!",
    "created_at": "2019-09-03T17:47:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28422#issuecomment-544341",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:14'></a>
Thanks for the review!



---

archive/issue_comments_544342.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-09-05T21:33:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28422#issuecomment-544342",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_544343.json:
```json
{
    "body": "Changing branch from \"public/manifolds/check_set_inverse-trac28422\" to \"a9c5ad86d706ea479d3c0525a5196d413a22c541\"",
    "created_at": "2019-09-05T21:33:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28422#issuecomment-544343",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/manifolds/check_set_inverse-trac28422" to "a9c5ad86d706ea479d3c0525a5196d413a22c541"



---

archive/issue_events_088328.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-09-05T21:33:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28422",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28422#event-88328"
}
```
