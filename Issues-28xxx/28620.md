# Issue 28620: Sage fails to compute a (simple) symbolic expression

archive/issues_028383.json:
```json
{
    "body": "CC:  @dimpase @videlec\n\nSee this [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/fxMY7yVg1xc) thread. In short:\n\n```\nsage: t=((1/10)*I/pi)^(3/2)\nsage: t\n(1/10*I/pi)^(3/2)\nsage: t^2\n```\n\nThis doesn't return(!), and seems hard to interrupt.\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/28620\n\n",
    "closed_at": "2021-01-12T20:24:21Z",
    "created_at": "2019-10-17T06:51:17Z",
    "labels": [
        "component: symbolics",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Sage fails to compute a (simple) symbolic expression",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28620",
    "user": "https://github.com/EmmanuelCharpentier"
}
```
CC:  @dimpase @videlec

See this [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/fxMY7yVg1xc) thread. In short:

```
sage: t=((1/10)*I/pi)^(3/2)
sage: t
(1/10*I/pi)^(3/2)
sage: t^2
```

This doesn't return(!), and seems hard to interrupt.


Issue created by migration from https://trac.sagemath.org/ticket/28620





---

archive/issue_comments_400373.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2019-10-17T07:09:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28620#issuecomment-400373",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_400374.json:
```json
{
    "body": "with some additional prints:\n\n```\nsage: t=((1/10)*I/pi)**3\n\nExpression._pow_ 1/10*I/pi 3\nclass NumberFieldElement.__pow__ 1/10*I 3 None\ngeneric_power_long', 1/10*I, 3\ngeneric_power_long', 1/10*I, 3\ngeneric_power_pos', 1/10*I, 3\napow = -1/100\nn = 0\nres = -1/1000*I\n\nsage: t**2\n\nExpression._pow_ -1/1000*I/pi^3 2\nclass NumberFieldElement.__pow__ -1/1000*I 2 None\ngeneric_power_long, -1/1000*I, 2\ngeneric_power_long, -1/1000*I, 2\ngeneric_power_pos, -1/1000*I, 2\napow = -1/1000000\nn = 1\n\n-1/1000000/pi^6\n\nsage: t=((1/10)*I/pi)**(3/2)\n\nExpression._pow_ 1/10*I/pi 3/2\n\nsage: t**2\n\nExpression._pow_ (1/10*I/pi)^(3/2) 2\nclass NumberFieldElement.__pow__ 1/10*I 4294967297 None\ngeneric_power_long', 1/10*I, 4294967297\ngeneric_power_long', 1/10*I, 4294967297\ngeneric_power_pos', 1/10*I, 4294967297\napow = -1/100\nn = 1073741824\nres = 1/10*I\napow = 1/10000\nn = 536870912\nres = 1/10*I\napow = 1/100000000\nn = 268435456\nres = 1/10*I\napow = 1/10000000000000000\nn = 134217728\nres = 1/10*I\napow = 1/100000000000000000000000000000000\nn = 67108864\nres = 1/10*I\n...\n```",
    "created_at": "2019-10-17T10:07:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28620#issuecomment-400374",
    "user": "https://github.com/sheerluck"
}
```

with some additional prints:

```
sage: t=((1/10)*I/pi)**3

Expression._pow_ 1/10*I/pi 3
class NumberFieldElement.__pow__ 1/10*I 3 None
generic_power_long', 1/10*I, 3
generic_power_long', 1/10*I, 3
generic_power_pos', 1/10*I, 3
apow = -1/100
n = 0
res = -1/1000*I

sage: t**2

Expression._pow_ -1/1000*I/pi^3 2
class NumberFieldElement.__pow__ -1/1000*I 2 None
generic_power_long, -1/1000*I, 2
generic_power_long, -1/1000*I, 2
generic_power_pos, -1/1000*I, 2
apow = -1/1000000
n = 1

-1/1000000/pi^6

sage: t=((1/10)*I/pi)**(3/2)

Expression._pow_ 1/10*I/pi 3/2

sage: t**2

Expression._pow_ (1/10*I/pi)^(3/2) 2
class NumberFieldElement.__pow__ 1/10*I 4294967297 None
generic_power_long', 1/10*I, 4294967297
generic_power_long', 1/10*I, 4294967297
generic_power_pos', 1/10*I, 4294967297
apow = -1/100
n = 1073741824
res = 1/10*I
apow = 1/10000
n = 536870912
res = 1/10*I
apow = 1/100000000
n = 268435456
res = 1/10*I
apow = 1/10000000000000000
n = 134217728
res = 1/10*I
apow = 1/100000000000000000000000000000000
n = 67108864
res = 1/10*I
...
```



---

archive/issue_comments_400375.json:
```json
{
    "body": "Replying to [comment:2 gh-sheerluck]:\n> with some additional prints:\n\n\nHow did you got them ? I wasn't aware of the availability of this steb-by-step tracing...\n\n> [ SNIP... ]\n\n\nIlluminating...",
    "created_at": "2019-10-17T10:12:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28620#issuecomment-400375",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Replying to [comment:2 gh-sheerluck]:
> with some additional prints:


How did you got them ? I wasn't aware of the availability of this steb-by-step tracing...

> [ SNIP... ]


Illuminating...



---

archive/issue_comments_400376.json:
```json
{
    "body": "no, it's not steb-by-step tracing, I just inserted lines in\n* symbolic/expression.pyx\n* rings/number_field/number_field_element.pyx\n* arith/power.pyx\nand just reinstalled sage (I use Gentoo Linux)",
    "created_at": "2019-10-17T11:47:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28620#issuecomment-400376",
    "user": "https://github.com/sheerluck"
}
```

no, it's not steb-by-step tracing, I just inserted lines in
* symbolic/expression.pyx
* rings/number_field/number_field_element.pyx
* arith/power.pyx
and just reinstalled sage (I use Gentoo Linux)



---

archive/issue_comments_400377.json:
```json
{
    "body": "Ticket retargeted after milestone closed",
    "created_at": "2020-01-06T14:10:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28620#issuecomment-400377",
    "user": "https://github.com/embray"
}
```

Ticket retargeted after milestone closed



---

archive/issue_events_072011.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-06T14:10:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28620#event-72011"
}
```



---

archive/issue_comments_400378.json:
```json
{
    "body": "Still unfixed in 9.1rc2",
    "created_at": "2020-05-05T19:11:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28620#issuecomment-400378",
    "user": "https://github.com/mkoeppe"
}
```

Still unfixed in 9.1rc2



---

archive/issue_events_072012.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-07T02:29:39Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28620#event-72012"
}
```



---

archive/issue_events_072013.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-07T02:29:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28620#event-72013"
}
```



---

archive/issue_events_072014.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28620#event-72014"
}
```



---

archive/issue_events_072015.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28620#event-72015"
}
```



---

archive/issue_comments_400379.json:
```json
{
    "body": "This will be fixed by the patch to pynac in #30446. When that ticket is closed, we can add this as another doctest.",
    "created_at": "2021-01-08T19:57:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28620#issuecomment-400379",
    "user": "https://github.com/DaveWitteMorris"
}
```

This will be fixed by the patch to pynac in #30446. When that ticket is closed, we can add this as another doctest.



---

archive/issue_comments_400380.json:
```json
{
    "body": "Changing priority from critical to minor.",
    "created_at": "2021-01-08T19:57:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28620#issuecomment-400380",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changing priority from critical to minor.



---

archive/issue_comments_400381.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-01-10T22:46:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28620#issuecomment-400381",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_400382.json:
```json
{
    "body": "This can be closed as a duplicate of #30446. The pull request at #30786 adds the appropriate doctest.",
    "created_at": "2021-01-10T22:46:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28620#issuecomment-400382",
    "user": "https://github.com/DaveWitteMorris"
}
```

This can be closed as a duplicate of #30446. The pull request at #30786 adds the appropriate doctest.



---

archive/issue_events_072016.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2021-01-10T22:46:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28620#event-72016"
}
```



---

archive/issue_events_072017.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2021-01-10T22:46:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28620#event-72017"
}
```



---

archive/issue_comments_400383.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-01-12T09:06:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28620#issuecomment-400383",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_400384.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2021-01-12T20:24:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28620#issuecomment-400384",
    "user": "https://github.com/fchapoton"
}
```

Resolution: duplicate



---

archive/issue_events_072018.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-01-12T20:24:21Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28620#event-72018"
}
```
