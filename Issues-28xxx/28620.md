# Issue 28620: Sage fails to compute a (simple) symbolic expression

archive/issues_028383.json:
```json
{
    "body": "See this [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/fxMY7yVg1xc) thread. In short:\n\n```\nsage: t=((1/10)*I/pi)^(3/2)\nsage: t\n(1/10*I/pi)^(3/2)\nsage: t^2\n```\n\nThis doesn't return(!), and seems hard to interrupt.\n\n\nCC:  @dimpase @videlec\n\nReviewer: Dave Morris, Dima Pasechnik\n\nDependencies: #30446\n\nResolution: duplicate\n\nIssue created by migration from https://trac.sagemath.org/ticket/28620\n\n",
    "closed_at": "2021-01-12T20:24:21Z",
    "created_at": "2019-10-17T06:51:17Z",
    "labels": [
        "component: symbolics",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Sage fails to compute a (simple) symbolic expression",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28620",
    "user": "https://github.com/EmmanuelCharpentier"
}
```
See this [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/fxMY7yVg1xc) thread. In short:

```
sage: t=((1/10)*I/pi)^(3/2)
sage: t
(1/10*I/pi)^(3/2)
sage: t^2
```

This doesn't return(!), and seems hard to interrupt.


CC:  @dimpase @videlec

Reviewer: Dave Morris, Dima Pasechnik

Dependencies: #30446

Resolution: duplicate

Issue created by migration from https://trac.sagemath.org/ticket/28620





---

archive/issue_comments_555461.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2019-10-17T07:09:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28620#issuecomment-555461",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_555462.json:
```json
{
    "body": "<a id='comment:2'></a>\nwith some additional prints:\n\n```\nsage: t=((1/10)*I/pi)**3\n\nExpression._pow_ 1/10*I/pi 3\nclass NumberFieldElement.__pow__ 1/10*I 3 None\ngeneric_power_long', 1/10*I, 3\ngeneric_power_long', 1/10*I, 3\ngeneric_power_pos', 1/10*I, 3\napow = -1/100\nn = 0\nres = -1/1000*I\n\nsage: t**2\n\nExpression._pow_ -1/1000*I/pi^3 2\nclass NumberFieldElement.__pow__ -1/1000*I 2 None\ngeneric_power_long, -1/1000*I, 2\ngeneric_power_long, -1/1000*I, 2\ngeneric_power_pos, -1/1000*I, 2\napow = -1/1000000\nn = 1\n\n-1/1000000/pi^6\n\nsage: t=((1/10)*I/pi)**(3/2)\n\nExpression._pow_ 1/10*I/pi 3/2\n\nsage: t**2\n\nExpression._pow_ (1/10*I/pi)^(3/2) 2\nclass NumberFieldElement.__pow__ 1/10*I 4294967297 None\ngeneric_power_long', 1/10*I, 4294967297\ngeneric_power_long', 1/10*I, 4294967297\ngeneric_power_pos', 1/10*I, 4294967297\napow = -1/100\nn = 1073741824\nres = 1/10*I\napow = 1/10000\nn = 536870912\nres = 1/10*I\napow = 1/100000000\nn = 268435456\nres = 1/10*I\napow = 1/10000000000000000\nn = 134217728\nres = 1/10*I\napow = 1/100000000000000000000000000000000\nn = 67108864\nres = 1/10*I\n...\n```",
    "created_at": "2019-10-17T10:07:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28620#issuecomment-555462",
    "user": "https://github.com/sheerluck"
}
```

<a id='comment:2'></a>
with some additional prints:

```
sage: t=((1/10)*I/pi)**3

Expression._pow_ 1/10*I/pi 3
class NumberFieldElement.__pow__ 1/10*I 3 None
generic_power_long', 1/10*I, 3
generic_power_long', 1/10*I, 3
generic_power_pos', 1/10*I, 3
apow = -1/100
n = 0
res = -1/1000*I

sage: t**2

Expression._pow_ -1/1000*I/pi^3 2
class NumberFieldElement.__pow__ -1/1000*I 2 None
generic_power_long, -1/1000*I, 2
generic_power_long, -1/1000*I, 2
generic_power_pos, -1/1000*I, 2
apow = -1/1000000
n = 1

-1/1000000/pi^6

sage: t=((1/10)*I/pi)**(3/2)

Expression._pow_ 1/10*I/pi 3/2

sage: t**2

Expression._pow_ (1/10*I/pi)^(3/2) 2
class NumberFieldElement.__pow__ 1/10*I 4294967297 None
generic_power_long', 1/10*I, 4294967297
generic_power_long', 1/10*I, 4294967297
generic_power_pos', 1/10*I, 4294967297
apow = -1/100
n = 1073741824
res = 1/10*I
apow = 1/10000
n = 536870912
res = 1/10*I
apow = 1/100000000
n = 268435456
res = 1/10*I
apow = 1/10000000000000000
n = 134217728
res = 1/10*I
apow = 1/100000000000000000000000000000000
n = 67108864
res = 1/10*I
...
```



---

archive/issue_comments_555463.json:
```json
{
    "body": "<a id='comment:3'></a>\nReplying to [gh-sheerluck](#comment%3A2):\n> with some additional prints:\n\n\nHow did you got them ? I wasn't aware of the availability of this steb-by-step tracing...\n\n> [ SNIP... ]\n\n\nIlluminating...",
    "created_at": "2019-10-17T10:12:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28620#issuecomment-555463",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:3'></a>
Replying to [gh-sheerluck](#comment%3A2):
> with some additional prints:


How did you got them ? I wasn't aware of the availability of this steb-by-step tracing...

> [ SNIP... ]


Illuminating...



---

archive/issue_comments_555464.json:
```json
{
    "body": "<a id='comment:4'></a>\nno, it's not steb-by-step tracing, I just inserted lines in\n* symbolic/expression.pyx\n* rings/number_field/number_field_element.pyx\n* arith/power.pyx\nand just reinstalled sage (I use Gentoo Linux)",
    "created_at": "2019-10-17T11:47:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28620#issuecomment-555464",
    "user": "https://github.com/sheerluck"
}
```

<a id='comment:4'></a>
no, it's not steb-by-step tracing, I just inserted lines in
* symbolic/expression.pyx
* rings/number_field/number_field_element.pyx
* arith/power.pyx
and just reinstalled sage (I use Gentoo Linux)



---

archive/issue_comments_555465.json:
```json
{
    "body": "<a id='comment:5'></a>\nTicket retargeted after milestone closed",
    "created_at": "2020-01-06T14:10:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28620#issuecomment-555465",
    "user": "https://github.com/embray"
}
```

<a id='comment:5'></a>
Ticket retargeted after milestone closed



---

archive/issue_events_072011.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-06T14:10:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28620#event-72011"
}
```



---

archive/issue_comments_555466.json:
```json
{
    "body": "<a id='comment:6'></a>\nStill unfixed in 9.1rc2",
    "created_at": "2020-05-05T19:11:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28620#issuecomment-555466",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
Still unfixed in 9.1rc2



---

archive/issue_events_072012.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-07T02:29:39Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28620#event-72012"
}
```



---

archive/issue_events_072013.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-07T02:29:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28620#event-72013"
}
```



---

archive/issue_events_072014.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28620#event-72014"
}
```



---

archive/issue_events_072015.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28620#event-72015"
}
```



---

archive/issue_comments_555467.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#30446\"",
    "created_at": "2021-01-08T19:57:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28620#issuecomment-555467",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changing dependencies from "" to "#30446"



---

archive/issue_comments_555468.json:
```json
{
    "body": "<a id='comment:9'></a>\nThis will be fixed by the patch to pynac in #30446. When that ticket is closed, we can add this as another doctest.",
    "created_at": "2021-01-08T19:57:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28620#issuecomment-555468",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:9'></a>
This will be fixed by the patch to pynac in #30446. When that ticket is closed, we can add this as another doctest.



---

archive/issue_comments_555469.json:
```json
{
    "body": "Changing priority from critical to minor.",
    "created_at": "2021-01-08T19:57:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28620#issuecomment-555469",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changing priority from critical to minor.



---

archive/issue_comments_555470.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-01-10T22:46:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28620#issuecomment-555470",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_555471.json:
```json
{
    "body": "<a id='comment:10'></a>\nThis can be closed as a duplicate of #30446. The pull request at #30786 adds the appropriate doctest.",
    "created_at": "2021-01-10T22:46:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28620#issuecomment-555471",
    "user": "https://github.com/DaveWitteMorris"
}
```

<a id='comment:10'></a>
This can be closed as a duplicate of #30446. The pull request at #30786 adds the appropriate doctest.



---

archive/issue_comments_555472.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Dave Morris\"",
    "created_at": "2021-01-10T22:46:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28620#issuecomment-555472",
    "user": "https://github.com/DaveWitteMorris"
}
```

Changing reviewer from "" to "Dave Morris"



---

archive/issue_events_072016.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2021-01-10T22:46:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28620#event-72016"
}
```



---

archive/issue_events_072017.json:
```json
{
    "actor": "https://github.com/DaveWitteMorris",
    "created_at": "2021-01-10T22:46:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28620#event-72017"
}
```



---

archive/issue_comments_555473.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-01-12T09:06:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28620#issuecomment-555473",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_555474.json:
```json
{
    "body": "Changing reviewer from \"Dave Morris\" to \"Dave Morris, Dima Pasechnik\"",
    "created_at": "2021-01-12T09:06:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28620#issuecomment-555474",
    "user": "https://github.com/dimpase"
}
```

Changing reviewer from "Dave Morris" to "Dave Morris, Dima Pasechnik"



---

archive/issue_comments_555475.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2021-01-12T20:24:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28620#issuecomment-555475",
    "user": "https://github.com/fchapoton"
}
```

Resolution: duplicate



---

archive/issue_events_072018.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-01-12T20:24:21Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28620",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28620#event-72018"
}
```
