# Issue 28142: Girth of directed graphs

archive/issues_027905.json:
```json
{
    "assignees": [],
    "body": "This ticket adds a BFS-based computation of girth of directed graphs (i.e., length of shortest directed cycle). The existing algorithm, which did not work properly for directed graphs of girth larger than 2, is now moved to a hidden method in `graph.py`, and the same method in `digraph.py` now works properly for the directed case. The appropriate method is then called in `generic_graph.py` after checking some border cases.\n\nBoth methods also accept a parameter `odd`, which, when set to `True`, will make the methods compute the odd girth of a graph (length of shortest odd cycle). This was not previously available for directed graphs, while for undirected graphs, a method based on the characteristic polynomial was used. This is still available (in both the directed and undirected case) by setting the appropriate `algorithm` parameter - however, the default is now to use the above BFS-based algorithm. I have run some examples and the characteristic polynomial based method was almost always slower (it was only faster for bipartite graphs, which can be quickly checked), so I decided to set the `\"bfs\"` algorithm as default, with the other options available in case there is some class of graphs where it would be advantageous to use them.\n\n**CC:**  @dcoudert\n\n**Keywords:** fpsac2019\n\n**Branch/Commit:** [41a135a7bef75e259303731e8869073711fdf00c](https://github.com/sagemath/sagetrac-mirror/commit/41a135a7bef75e259303731e8869073711fdf00c)\n\n**Reviewer:** David Coudert\n\n**Author:** Jano\u0161 Vidali\n\nIssue created by migration from https://trac.sagemath.org/ticket/28142\n\n",
    "closed_at": "2019-07-20T09:10:50Z",
    "created_at": "2019-07-09T12:32:08Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Girth of directed graphs",
    "type": "issue",
    "updated_at": "2019-07-20T09:10:50Z",
    "url": "https://github.com/sagemath/sage/issues/28142",
    "user": "https://github.com/jaanos"
}
```
This ticket adds a BFS-based computation of girth of directed graphs (i.e., length of shortest directed cycle). The existing algorithm, which did not work properly for directed graphs of girth larger than 2, is now moved to a hidden method in `graph.py`, and the same method in `digraph.py` now works properly for the directed case. The appropriate method is then called in `generic_graph.py` after checking some border cases.

Both methods also accept a parameter `odd`, which, when set to `True`, will make the methods compute the odd girth of a graph (length of shortest odd cycle). This was not previously available for directed graphs, while for undirected graphs, a method based on the characteristic polynomial was used. This is still available (in both the directed and undirected case) by setting the appropriate `algorithm` parameter - however, the default is now to use the above BFS-based algorithm. I have run some examples and the characteristic polynomial based method was almost always slower (it was only faster for bipartite graphs, which can be quickly checked), so I decided to set the `"bfs"` algorithm as default, with the other options available in case there is some class of graphs where it would be advantageous to use them.

**CC:**  @dcoudert

**Keywords:** fpsac2019

**Branch/Commit:** [41a135a7bef75e259303731e8869073711fdf00c](https://github.com/sagemath/sagetrac-mirror/commit/41a135a7bef75e259303731e8869073711fdf00c)

**Reviewer:** David Coudert

**Author:** Janoš Vidali

Issue created by migration from https://trac.sagemath.org/ticket/28142





---

archive/issue_comments_440604.json:
```json
{
    "body": "**Branch:** [u/jaanos/girth_of_directed_graphs](https://github.com/sagemath/sagetrac-mirror/tree/u/jaanos/girth_of_directed_graphs)",
    "created_at": "2019-07-09T12:35:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440604",
    "user": "https://github.com/jaanos"
}
```

**Branch:** [u/jaanos/girth_of_directed_graphs](https://github.com/sagemath/sagetrac-mirror/tree/u/jaanos/girth_of_directed_graphs)



---

archive/issue_comments_440605.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n+This ticket adds a BFS-based computation of girth of directed graphs (i.e., length of shortest directed cycle). The existing algorithm, which did not work properly for directed graphs of girth larger than 2, is now moved to a hidden method in `graph.py`, and the same method in `digraph.py` now works properly for the directed case. The appropriate method is then called in `generic_graph.py` after checking some border cases.\n \n+Both methods also accept a parameter `odd`, which, when set to `True`, will make the methods compute the odd girth of a graph (length of shortest odd cycle). This was not previously available for directed graphs, while for undirected graphs, a method based on the characteristic polynomial was used. This is still available (in both the directed and undirected case) by setting the appropriate `algorithm` parameter - however, the default is now to use the above BFS-based algorithm. I have run some examples and the characteristic polynomial based method was almost always slower (it was only faster for bipartite graphs, which can be quickly checked), so I decided to set the `\"bfs\"` algorithm as default, with the other options available in case there is some class of graphs where it would be advantageous to use them.\n``````\n",
    "created_at": "2019-07-09T12:52:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440605",
    "user": "https://github.com/jaanos"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,3 @@
+This ticket adds a BFS-based computation of girth of directed graphs (i.e., length of shortest directed cycle). The existing algorithm, which did not work properly for directed graphs of girth larger than 2, is now moved to a hidden method in `graph.py`, and the same method in `digraph.py` now works properly for the directed case. The appropriate method is then called in `generic_graph.py` after checking some border cases.
 
+Both methods also accept a parameter `odd`, which, when set to `True`, will make the methods compute the odd girth of a graph (length of shortest odd cycle). This was not previously available for directed graphs, while for undirected graphs, a method based on the characteristic polynomial was used. This is still available (in both the directed and undirected case) by setting the appropriate `algorithm` parameter - however, the default is now to use the above BFS-based algorithm. I have run some examples and the characteristic polynomial based method was almost always slower (it was only faster for bipartite graphs, which can be quickly checked), so I decided to set the `"bfs"` algorithm as default, with the other options available in case there is some class of graphs where it would be advantageous to use them.
``````




---

archive/issue_events_248486.json:
```json
{
    "actor": "https://github.com/jaanos",
    "created_at": "2019-07-09T12:52:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28142#event-248486"
}
```



---

archive/issue_comments_440606.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5663f7773fd12387687220c292c19a6190e48bde\">5663f77</a></td><td><code>Properly compute girth for directed graphs</code></td></tr></table>\n",
    "created_at": "2019-07-09T12:52:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440606",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5663f7773fd12387687220c292c19a6190e48bde">5663f77</a></td><td><code>Properly compute girth for directed graphs</code></td></tr></table>




---

archive/issue_comments_440607.json:
```json
{
    "body": "**Author:** Jano\u0161 Vidali",
    "created_at": "2019-07-09T12:52:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440607",
    "user": "https://github.com/jaanos"
}
```

**Author:** Janoš Vidali



---

archive/issue_events_248487.json:
```json
{
    "actor": "https://github.com/jaanos",
    "created_at": "2019-07-09T12:52:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
    "label_color": "08517b",
    "label_name": "component: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28142#event-248487"
}
```



---

archive/issue_comments_440608.json:
```json
{
    "body": "**Commit:** [5663f7773fd12387687220c292c19a6190e48bde](https://github.com/sagemath/sagetrac-mirror/commit/5663f7773fd12387687220c292c19a6190e48bde)",
    "created_at": "2019-07-09T12:52:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440608",
    "user": "https://github.com/jaanos"
}
```

**Commit:** [5663f7773fd12387687220c292c19a6190e48bde](https://github.com/sagemath/sagetrac-mirror/commit/5663f7773fd12387687220c292c19a6190e48bde)



---

archive/issue_comments_440609.json:
```json
{
    "body": "<a id='comment:3'></a>\nI will add the doctests in the next commit. Should I also add a `_girth_bfs` method in `generic_graphs.py` (which would raise `NotImplementedError`)?",
    "created_at": "2019-07-09T12:54:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440609",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:3'></a>
I will add the doctests in the next commit. Should I also add a `_girth_bfs` method in `generic_graphs.py` (which would raise `NotImplementedError`)?



---

archive/issue_events_248488.json:
```json
{
    "actor": "https://github.com/jaanos",
    "created_at": "2019-07-09T12:54:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "008080",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28142#event-248488"
}
```



---

archive/issue_comments_440610.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e7f1da19d1d1c3e9deecf4de5f916c90eaccb35\">3e7f1da</a></td><td><code>Bugfixes and doctests</code></td></tr></table>\n",
    "created_at": "2019-07-10T09:03:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440610",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e7f1da19d1d1c3e9deecf4de5f916c90eaccb35">3e7f1da</a></td><td><code>Bugfixes and doctests</code></td></tr></table>




---

archive/issue_comments_440611.json:
```json
{
    "body": "**Changing commit** from \"[5663f7773fd12387687220c292c19a6190e48bde](https://github.com/sagemath/sagetrac-mirror/commit/5663f7773fd12387687220c292c19a6190e48bde)\" to \"[3e7f1da19d1d1c3e9deecf4de5f916c90eaccb35](https://github.com/sagemath/sagetrac-mirror/commit/3e7f1da19d1d1c3e9deecf4de5f916c90eaccb35)\".",
    "created_at": "2019-07-10T09:03:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440611",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[5663f7773fd12387687220c292c19a6190e48bde](https://github.com/sagemath/sagetrac-mirror/commit/5663f7773fd12387687220c292c19a6190e48bde)" to "[3e7f1da19d1d1c3e9deecf4de5f916c90eaccb35](https://github.com/sagemath/sagetrac-mirror/commit/3e7f1da19d1d1c3e9deecf4de5f916c90eaccb35)".



---

archive/issue_comments_440612.json:
```json
{
    "body": "<a id='comment:5'></a>\nSome quick comments:\n\n- references must be put in file `src/doc/en/reference/references/index.rst`. Then you can cite them in the documentation of the methods using `[Har62]_` and `[Biggs93]_`.\n\n- in input blocks, the correct format is:\n\n```diff\n-        - ``odd`` -- whether to compute the odd girth (default: ``False``).\n+        - ``odd`` -- boolean (default: ``False``); whether to compute the odd girth\n```\n\n- in `generic_graph.py`, why not extending method `girth` by adding it parameter `odd` and then call the appropriate method for graph or digraph or bipartite graph or ... \n\n- Is it possible to add parameter `certificate` in these methods to return the cycle, if any ?",
    "created_at": "2019-07-10T09:10:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440612",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:5'></a>
Some quick comments:

- references must be put in file `src/doc/en/reference/references/index.rst`. Then you can cite them in the documentation of the methods using `[Har62]_` and `[Biggs93]_`.

- in input blocks, the correct format is:

```diff
-        - ``odd`` -- whether to compute the odd girth (default: ``False``).
+        - ``odd`` -- boolean (default: ``False``); whether to compute the odd girth
```

- in `generic_graph.py`, why not extending method `girth` by adding it parameter `odd` and then call the appropriate method for graph or digraph or bipartite graph or ... 

- Is it possible to add parameter `certificate` in these methods to return the cycle, if any ?



---

archive/issue_comments_440613.json:
```json
{
    "body": "<a id='comment:6'></a>\nThanks for the feedback! Will fix the references and input.\n\nRegarding the parameter: I was thinking about that, actually. I forgot about `BipartiteGraph` - I guess the way to go would be to have the algorithm for undirected graphs in `generic_graph.py`, so it would also work for bipartite graphs.\n\nRegarding the certificate, a cycle would only show that the (odd) girth is at most its length. Would that be OK?",
    "created_at": "2019-07-10T10:17:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440613",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:6'></a>
Thanks for the feedback! Will fix the references and input.

Regarding the parameter: I was thinking about that, actually. I forgot about `BipartiteGraph` - I guess the way to go would be to have the algorithm for undirected graphs in `generic_graph.py`, so it would also work for bipartite graphs.

Regarding the certificate, a cycle would only show that the (odd) girth is at most its length. Would that be OK?



---

archive/issue_comments_440614.json:
```json
{
    "body": "<a id='comment:7'></a>\n> Regarding the parameter: I was thinking about that, actually. I forgot about `BipartiteGraph` - I guess the way to go would be to have the algorithm for undirected graphs in `generic_graph.py`, so it would also work for bipartite graphs.\n\nThat would be nice.\nIn case, we also have a specific class for bipartite graphs in `bipartitie_graph.py`\n \n> Regarding the certificate, a cycle would only show that the (odd) girth is at most its length. Would that be OK?\n\nIf the method only returns an upper bound, then yes, as long as it is clearly documented. Otherwise, you can simply add a todo block letting this task for future work.",
    "created_at": "2019-07-10T10:58:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440614",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:7'></a>
> Regarding the parameter: I was thinking about that, actually. I forgot about `BipartiteGraph` - I guess the way to go would be to have the algorithm for undirected graphs in `generic_graph.py`, so it would also work for bipartite graphs.

That would be nice.
In case, we also have a specific class for bipartite graphs in `bipartitie_graph.py`
 
> Regarding the certificate, a cycle would only show that the (odd) girth is at most its length. Would that be OK?

If the method only returns an upper bound, then yes, as long as it is clearly documented. Otherwise, you can simply add a todo block letting this task for future work.



---

archive/issue_comments_440615.json:
```json
{
    "body": "**Changing commit** from \"[3e7f1da19d1d1c3e9deecf4de5f916c90eaccb35](https://github.com/sagemath/sagetrac-mirror/commit/3e7f1da19d1d1c3e9deecf4de5f916c90eaccb35)\" to \"[997bed97aab940bf5d6c0f1ba91e9f2df5b7580c](https://github.com/sagemath/sagetrac-mirror/commit/997bed97aab940bf5d6c0f1ba91e9f2df5b7580c)\".",
    "created_at": "2019-07-10T15:45:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440615",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[3e7f1da19d1d1c3e9deecf4de5f916c90eaccb35](https://github.com/sagemath/sagetrac-mirror/commit/3e7f1da19d1d1c3e9deecf4de5f916c90eaccb35)" to "[997bed97aab940bf5d6c0f1ba91e9f2df5b7580c](https://github.com/sagemath/sagetrac-mirror/commit/997bed97aab940bf5d6c0f1ba91e9f2df5b7580c)".



---

archive/issue_comments_440616.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2f1713b6c039e409ae6c68fceb5663c9ad77c67\">f2f1713</a></td><td><code>Move _girth_bfs to generic_graph.py to support BipartiteGraph</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45e50b54a76a24891dc8590d5c493b8eb4d7c034\">45e50b5</a></td><td><code>Put references in reference list, docstring fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/997bed97aab940bf5d6c0f1ba91e9f2df5b7580c\">997bed9</a></td><td><code>Add option to return certificate</code></td></tr></table>\n",
    "created_at": "2019-07-10T15:45:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440616",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2f1713b6c039e409ae6c68fceb5663c9ad77c67">f2f1713</a></td><td><code>Move _girth_bfs to generic_graph.py to support BipartiteGraph</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45e50b54a76a24891dc8590d5c493b8eb4d7c034">45e50b5</a></td><td><code>Put references in reference list, docstring fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/997bed97aab940bf5d6c0f1ba91e9f2df5b7580c">997bed9</a></td><td><code>Add option to return certificate</code></td></tr></table>




---

archive/issue_comments_440617.json:
```json
{
    "body": "<a id='comment:9'></a>\nOK, I've moved the main algorithm to `generic_graph.py`, fixed the references, and added certificates. I'm not sure any more that having a parameter `odd` on the `girth` method would be good - it is there for `_girth_bfs` since the method is used for both, but as concepts (and therefore public methods) I think it's best to keep them separate.",
    "created_at": "2019-07-10T15:49:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440617",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:9'></a>
OK, I've moved the main algorithm to `generic_graph.py`, fixed the references, and added certificates. I'm not sure any more that having a parameter `odd` on the `girth` method would be good - it is there for `_girth_bfs` since the method is used for both, but as concepts (and therefore public methods) I think it's best to keep them separate.



---

archive/issue_events_248489.json:
```json
{
    "actor": "https://github.com/jaanos",
    "created_at": "2019-07-10T15:49:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "008080",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28142#event-248489"
}
```



---

archive/issue_events_248490.json:
```json
{
    "actor": "https://github.com/jaanos",
    "created_at": "2019-07-10T15:49:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28142#event-248490"
}
```



---

archive/issue_comments_440618.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"fpsac2019\".",
    "created_at": "2019-07-11T08:48:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440618",
    "user": "https://github.com/jaanos"
}
```

**Changing keywords** from "" to "fpsac2019".



---

archive/issue_comments_440619.json:
```json
{
    "body": "**Changing branch** from \"[u/jaanos/girth_of_directed_graphs](https://github.com/sagemath/sagetrac-mirror/tree/u/jaanos/girth_of_directed_graphs)\" to \"[public/graphs/28142_odd_girth](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/28142_odd_girth)\".",
    "created_at": "2019-07-14T19:03:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440619",
    "user": "https://github.com/dcoudert"
}
```

**Changing branch** from "[u/jaanos/girth_of_directed_graphs](https://github.com/sagemath/sagetrac-mirror/tree/u/jaanos/girth_of_directed_graphs)" to "[public/graphs/28142_odd_girth](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/28142_odd_girth)".



---

archive/issue_comments_440620.json:
```json
{
    "body": "<a id='comment:11'></a>\nI took the liberty to edit your code and push it in a new branch (in `public/` so that you can modify it as well).\n\nI did various small corrections and added several doctests (for instance for small cases).\n\nPlease check that every think is fine and that the documentation builds properly and displays nicely.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f00ebbe67fa091ef03caa5d95a7cb25c3a17f179\">f00ebbe</a></td><td><code>trac #28142: Merged with 8.9.beta2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf5f63692a489963b83706a404bb3c469a6b7f05\">cf5f636</a></td><td><code>trac #28142: improve references</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd2de112df36c6d95f7d953bacabd289c4c5c5a5\">bd2de11</a></td><td><code>trac #28142: minor edit in digraph.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/65626143cbe974f3fb9adeefcbb17be6e759577e\">6562614</a></td><td><code>trac #28142: review edit in generic_graph.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/301c12a4e1f0e1086873126b67e7f99c73a29332\">301c12a</a></td><td><code>trac #28142: review edit in generic_graph.py (2)</code></td></tr></table>\n",
    "created_at": "2019-07-14T19:03:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440620",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:11'></a>
I took the liberty to edit your code and push it in a new branch (in `public/` so that you can modify it as well).

I did various small corrections and added several doctests (for instance for small cases).

Please check that every think is fine and that the documentation builds properly and displays nicely.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f00ebbe67fa091ef03caa5d95a7cb25c3a17f179">f00ebbe</a></td><td><code>trac #28142: Merged with 8.9.beta2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf5f63692a489963b83706a404bb3c469a6b7f05">cf5f636</a></td><td><code>trac #28142: improve references</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd2de112df36c6d95f7d953bacabd289c4c5c5a5">bd2de11</a></td><td><code>trac #28142: minor edit in digraph.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/65626143cbe974f3fb9adeefcbb17be6e759577e">6562614</a></td><td><code>trac #28142: review edit in generic_graph.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/301c12a4e1f0e1086873126b67e7f99c73a29332">301c12a</a></td><td><code>trac #28142: review edit in generic_graph.py (2)</code></td></tr></table>




---

archive/issue_comments_440621.json:
```json
{
    "body": "**Changing commit** from \"[997bed97aab940bf5d6c0f1ba91e9f2df5b7580c](https://github.com/sagemath/sagetrac-mirror/commit/997bed97aab940bf5d6c0f1ba91e9f2df5b7580c)\" to \"[301c12a4e1f0e1086873126b67e7f99c73a29332](https://github.com/sagemath/sagetrac-mirror/commit/301c12a4e1f0e1086873126b67e7f99c73a29332)\".",
    "created_at": "2019-07-14T19:03:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440621",
    "user": "https://github.com/dcoudert"
}
```

**Changing commit** from "[997bed97aab940bf5d6c0f1ba91e9f2df5b7580c](https://github.com/sagemath/sagetrac-mirror/commit/997bed97aab940bf5d6c0f1ba91e9f2df5b7580c)" to "[301c12a4e1f0e1086873126b67e7f99c73a29332](https://github.com/sagemath/sagetrac-mirror/commit/301c12a4e1f0e1086873126b67e7f99c73a29332)".



---

archive/issue_comments_440622.json:
```json
{
    "body": "**Reviewer:** David Coudert",
    "created_at": "2019-07-14T19:03:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440622",
    "user": "https://github.com/dcoudert"
}
```

**Reviewer:** David Coudert



---

archive/issue_comments_440623.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/03b58397b97638062f5c0ba83b04ff61082ce73d\">03b5839</a></td><td><code>\"Compute\" -> \"Return\" in method index</code></td></tr></table>\n",
    "created_at": "2019-07-15T09:56:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440623",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/03b58397b97638062f5c0ba83b04ff61082ce73d">03b5839</a></td><td><code>"Compute" -> "Return" in method index</code></td></tr></table>




---

archive/issue_comments_440624.json:
```json
{
    "body": "**Changing commit** from \"[301c12a4e1f0e1086873126b67e7f99c73a29332](https://github.com/sagemath/sagetrac-mirror/commit/301c12a4e1f0e1086873126b67e7f99c73a29332)\" to \"[03b58397b97638062f5c0ba83b04ff61082ce73d](https://github.com/sagemath/sagetrac-mirror/commit/03b58397b97638062f5c0ba83b04ff61082ce73d)\".",
    "created_at": "2019-07-15T09:56:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440624",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[301c12a4e1f0e1086873126b67e7f99c73a29332](https://github.com/sagemath/sagetrac-mirror/commit/301c12a4e1f0e1086873126b67e7f99c73a29332)" to "[03b58397b97638062f5c0ba83b04ff61082ce73d](https://github.com/sagemath/sagetrac-mirror/commit/03b58397b97638062f5c0ba83b04ff61082ce73d)".



---

archive/issue_comments_440625.json:
```json
{
    "body": "<a id='comment:13'></a>\nThanks, everything looks fine to me! I have just changed two words in the `Graph` method index.",
    "created_at": "2019-07-15T09:58:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440625",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:13'></a>
Thanks, everything looks fine to me! I have just changed two words in the `Graph` method index.



---

archive/issue_comments_440626.json:
```json
{
    "body": "<a id='comment:14'></a>\nThere is a failing doctest reported by the patchbot\n\n```\nsage -t --long src/sage/categories/category.py\n**********************************************************************\nFile \"src/sage/categories/category.py\", line 806, in sage.categories.category.Category.is_abelian.category_graph\nFailed example:\n    G.girth()\nExpected:\n    4\nGot:\n    +Infinity\n```",
    "created_at": "2019-07-15T12:49:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440626",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:14'></a>
There is a failing doctest reported by the patchbot

```
sage -t --long src/sage/categories/category.py
**********************************************************************
File "src/sage/categories/category.py", line 806, in sage.categories.category.Category.is_abelian.category_graph
Failed example:
    G.girth()
Expected:
    4
Got:
    +Infinity
```



---

archive/issue_events_248491.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-07-15T12:49:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28142#event-248491"
}
```



---

archive/issue_events_248492.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-07-15T12:49:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28142#event-248492"
}
```



---

archive/issue_comments_440627.json:
```json
{
    "body": "**Changing commit** from \"[03b58397b97638062f5c0ba83b04ff61082ce73d](https://github.com/sagemath/sagetrac-mirror/commit/03b58397b97638062f5c0ba83b04ff61082ce73d)\" to \"[71c7dce2afb1696899c4f3039727ff505a52883f](https://github.com/sagemath/sagetrac-mirror/commit/71c7dce2afb1696899c4f3039727ff505a52883f)\".",
    "created_at": "2019-07-15T13:21:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440627",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[03b58397b97638062f5c0ba83b04ff61082ce73d](https://github.com/sagemath/sagetrac-mirror/commit/03b58397b97638062f5c0ba83b04ff61082ce73d)" to "[71c7dce2afb1696899c4f3039727ff505a52883f](https://github.com/sagemath/sagetrac-mirror/commit/71c7dce2afb1696899c4f3039727ff505a52883f)".



---

archive/issue_comments_440628.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/71c7dce2afb1696899c4f3039727ff505a52883f\">71c7dce</a></td><td><code>Fix failing doctest</code></td></tr></table>\n",
    "created_at": "2019-07-15T13:21:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440628",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/71c7dce2afb1696899c4f3039727ff505a52883f">71c7dce</a></td><td><code>Fix failing doctest</code></td></tr></table>




---

archive/issue_comments_440629.json:
```json
{
    "body": "<a id='comment:16'></a>\nThe doctest generated a directed acyclic graph, so its girth is now correctly reported as infinite. I have changed the doctest to compute the girth of its underlying undirected graph.",
    "created_at": "2019-07-15T13:24:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440629",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:16'></a>
The doctest generated a directed acyclic graph, so its girth is now correctly reported as infinite. I have changed the doctest to compute the girth of its underlying undirected graph.



---

archive/issue_events_248493.json:
```json
{
    "actor": "https://github.com/jaanos",
    "created_at": "2019-07-15T13:24:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28142#event-248493"
}
```



---

archive/issue_events_248494.json:
```json
{
    "actor": "https://github.com/jaanos",
    "created_at": "2019-07-15T13:24:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28142#event-248494"
}
```



---

archive/issue_comments_440630.json:
```json
{
    "body": "<a id='comment:17'></a>\nYou should add a comment explaining that the girth of a DAG is infinite, and that the girth of the underlying undirected graph is 4 in this case.",
    "created_at": "2019-07-15T13:35:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440630",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:17'></a>
You should add a comment explaining that the girth of a DAG is infinite, and that the girth of the underlying undirected graph is 4 in this case.



---

archive/issue_comments_440631.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/41a135a7bef75e259303731e8869073711fdf00c\">41a135a</a></td><td><code>Add explanation for the girth of the category DAG</code></td></tr></table>\n",
    "created_at": "2019-07-16T11:00:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440631",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/41a135a7bef75e259303731e8869073711fdf00c">41a135a</a></td><td><code>Add explanation for the girth of the category DAG</code></td></tr></table>




---

archive/issue_comments_440632.json:
```json
{
    "body": "**Changing commit** from \"[71c7dce2afb1696899c4f3039727ff505a52883f](https://github.com/sagemath/sagetrac-mirror/commit/71c7dce2afb1696899c4f3039727ff505a52883f)\" to \"[41a135a7bef75e259303731e8869073711fdf00c](https://github.com/sagemath/sagetrac-mirror/commit/41a135a7bef75e259303731e8869073711fdf00c)\".",
    "created_at": "2019-07-16T11:00:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440632",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[71c7dce2afb1696899c4f3039727ff505a52883f](https://github.com/sagemath/sagetrac-mirror/commit/71c7dce2afb1696899c4f3039727ff505a52883f)" to "[41a135a7bef75e259303731e8869073711fdf00c](https://github.com/sagemath/sagetrac-mirror/commit/41a135a7bef75e259303731e8869073711fdf00c)".



---

archive/issue_comments_440633.json:
```json
{
    "body": "<a id='comment:19'></a>\nOK, done. I have also fixed the indenting of the `category_graph` method.",
    "created_at": "2019-07-16T11:01:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440633",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:19'></a>
OK, done. I have also fixed the indenting of the `category_graph` method.



---

archive/issue_comments_440634.json:
```json
{
    "body": "<a id='comment:20'></a>\nLGTM. Thanks.",
    "created_at": "2019-07-16T14:16:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440634",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:20'></a>
LGTM. Thanks.



---

archive/issue_events_248495.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-07-16T14:16:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28142#event-248495"
}
```



---

archive/issue_events_248496.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-07-16T14:16:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28142#event-248496"
}
```



---

archive/issue_events_248497.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-20T09:10:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28142#event-248497"
}
```



---

archive/issue_events_248498.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "10b03c4baaefa54efc796503016125f53886bbaa",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-07-20T09:10:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28142#event-248498"
}
```



---

archive/issue_comments_440635.json:
```json
{
    "body": "**Changing branch** from \"[public/graphs/28142_odd_girth](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/28142_odd_girth)\" to \"[41a135a7bef75e259303731e8869073711fdf00c](https://github.com/sagemath/sagetrac-mirror/commit/41a135a7bef75e259303731e8869073711fdf00c)\".",
    "created_at": "2019-07-20T09:10:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28142#issuecomment-440635",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/graphs/28142_odd_girth](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/28142_odd_girth)" to "[41a135a7bef75e259303731e8869073711fdf00c](https://github.com/sagemath/sagetrac-mirror/commit/41a135a7bef75e259303731e8869073711fdf00c)".
