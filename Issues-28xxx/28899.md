# Issue 28899: some details in rings/polynomial/

archive/issues_028662.json:
```json
{
    "body": "\n\n**Branch/Commit:** [9740a04f77823e3ec0307c1267894d996486c0c4](https://github.com/sagemath/sagetrac-mirror/commit/9740a04f77823e3ec0307c1267894d996486c0c4)\n\n**Reviewer:** Kwankyu Lee\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/28899\n\n",
    "closed_at": "2020-01-05T15:47:10Z",
    "created_at": "2019-12-19T10:34:43Z",
    "labels": [
        "component: algebra",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.1",
    "title": "some details in rings/polynomial/",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/28899",
    "user": "https://github.com/fchapoton"
}
```


**Branch/Commit:** [9740a04f77823e3ec0307c1267894d996486c0c4](https://github.com/sagemath/sagetrac-mirror/commit/9740a04f77823e3ec0307c1267894d996486c0c4)

**Reviewer:** Kwankyu Lee

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/28899





---

archive/issue_comments_453891.json:
```json
{
    "body": "**Branch:** [u/chapoton/28899](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/28899)",
    "created_at": "2019-12-19T10:35:00Z",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-453891",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/28899](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/28899)



---

archive/issue_events_256570.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-12-19T10:35:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28899#event-256570"
}
```



---

archive/issue_comments_453892.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cddec21670387e1bbf287c38ad408df80e4ffa70\">cddec21</a></td><td><code>some cleanup for 3 files in rings/polynomial/</code></td></tr></table>\n",
    "created_at": "2019-12-19T10:35:00Z",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-453892",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cddec21670387e1bbf287c38ad408df80e4ffa70">cddec21</a></td><td><code>some cleanup for 3 files in rings/polynomial/</code></td></tr></table>




---

archive/issue_comments_453893.json:
```json
{
    "body": "**Commit:** [cddec21670387e1bbf287c38ad408df80e4ffa70](https://github.com/sagemath/sagetrac-mirror/commit/cddec21670387e1bbf287c38ad408df80e4ffa70)",
    "created_at": "2019-12-19T10:35:00Z",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-453893",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [cddec21670387e1bbf287c38ad408df80e4ffa70](https://github.com/sagemath/sagetrac-mirror/commit/cddec21670387e1bbf287c38ad408df80e4ffa70)



---

archive/issue_comments_453894.json:
```json
{
    "body": "**Changing commit** from \"[cddec21670387e1bbf287c38ad408df80e4ffa70](https://github.com/sagemath/sagetrac-mirror/commit/cddec21670387e1bbf287c38ad408df80e4ffa70)\" to \"[396293b94578cf7c1c078ae8dbf19a336c163d8a](https://github.com/sagemath/sagetrac-mirror/commit/396293b94578cf7c1c078ae8dbf19a336c163d8a)\".",
    "created_at": "2019-12-19T14:48:00Z",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-453894",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[cddec21670387e1bbf287c38ad408df80e4ffa70](https://github.com/sagemath/sagetrac-mirror/commit/cddec21670387e1bbf287c38ad408df80e4ffa70)" to "[396293b94578cf7c1c078ae8dbf19a336c163d8a](https://github.com/sagemath/sagetrac-mirror/commit/396293b94578cf7c1c078ae8dbf19a336c163d8a)".



---

archive/issue_comments_453895.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/396293b94578cf7c1c078ae8dbf19a336c163d8a\">396293b</a></td><td><code>fix</code></td></tr></table>\n",
    "created_at": "2019-12-19T14:48:00Z",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-453895",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/396293b94578cf7c1c078ae8dbf19a336c163d8a">396293b</a></td><td><code>fix</code></td></tr></table>




---

archive/issue_comments_453896.json:
```json
{
    "body": "<a id='comment:3'></a>\nYou are adding periods at the end of the head lines of modules (while I am removing it whenever I see it in a module). The head line is used as the title of the module in Sage reference manual. Hence you are adding periods to the titles. It is against our convention and style. Look at the current inconsistency, here:\n\nhttp://doc.sagemath.org/html/en/reference/polynomial_rings/index.html",
    "created_at": "2019-12-26T09:56:04Z",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-453896",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:3'></a>
You are adding periods at the end of the head lines of modules (while I am removing it whenever I see it in a module). The head line is used as the title of the module in Sage reference manual. Hence you are adding periods to the titles. It is against our convention and style. Look at the current inconsistency, here:

http://doc.sagemath.org/html/en/reference/polynomial_rings/index.html



---

archive/issue_comments_453897.json:
```json
{
    "body": "**Changing commit** from \"[396293b94578cf7c1c078ae8dbf19a336c163d8a](https://github.com/sagemath/sagetrac-mirror/commit/396293b94578cf7c1c078ae8dbf19a336c163d8a)\" to \"[49e4e23c39cecde09f8552c9a0bfe040b0577253](https://github.com/sagemath/sagetrac-mirror/commit/49e4e23c39cecde09f8552c9a0bfe040b0577253)\".",
    "created_at": "2019-12-31T12:49:32Z",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-453897",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[396293b94578cf7c1c078ae8dbf19a336c163d8a](https://github.com/sagemath/sagetrac-mirror/commit/396293b94578cf7c1c078ae8dbf19a336c163d8a)" to "[49e4e23c39cecde09f8552c9a0bfe040b0577253](https://github.com/sagemath/sagetrac-mirror/commit/49e4e23c39cecde09f8552c9a0bfe040b0577253)".



---

archive/issue_comments_453898.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1efa796843801e66dee84cf99fc4a29893c9aa8\">a1efa79</a></td><td><code>Merge branch 'u/chapoton/28899' in 9.0.rc1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49e4e23c39cecde09f8552c9a0bfe040b0577253\">49e4e23</a></td><td><code>more polynomial fixes</code></td></tr></table>\n",
    "created_at": "2019-12-31T12:49:32Z",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-453898",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1efa796843801e66dee84cf99fc4a29893c9aa8">a1efa79</a></td><td><code>Merge branch 'u/chapoton/28899' in 9.0.rc1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49e4e23c39cecde09f8552c9a0bfe040b0577253">49e4e23</a></td><td><code>more polynomial fixes</code></td></tr></table>




---

archive/issue_comments_453899.json:
```json
{
    "body": "<a id='comment:5'></a>\nThanks for the review.\n\nI removed the period.\n\nI also fixed a few other things.",
    "created_at": "2019-12-31T12:50:28Z",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-453899",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
Thanks for the review.

I removed the period.

I also fixed a few other things.



---

archive/issue_comments_453900.json:
```json
{
    "body": "<a id='comment:6'></a>\nThis is my review:\n\n- I doubt if this\n\n```\nidx = index[l + 1]\nif (i == len(expo) - 1 or expo[i + 1][idx:] != cur_exp[idx:]): \n```\n is better than the original code\n\n```\nif (i == len(expo) - 1 or expo[i+1][index[l+1]:] != cur_exp[index[l+1]:]):  \n```\n\n On one hand, python should be clever enough to do the obvious optimization. On the other hand, computing `idx` is unnecessary if the first condition is met.\n\n- You may want to put spaces around `+` here\n\n```\n            sage: f = H([z^2+c])  \n```\n\n- You may want to make modifications here as well\n\n```\n        INPUT:\n\n        -  ``gfan_polyhedral_fan`` - output from ``gfan`` of a\n           polyhedral fan.\n        -  ``polynomial_system`` - a list of polynomials\n        -  ``poly_ring`` - the polynomial ring of the list of polynomials\n        -  ``parameters`` (optional) - a list of variables to be considered as parameters\n  ```\n\nAll other changes look good to me.",
    "created_at": "2019-12-31T15:19:52Z",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-453900",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:6'></a>
This is my review:

- I doubt if this

```
idx = index[l + 1]
if (i == len(expo) - 1 or expo[i + 1][idx:] != cur_exp[idx:]): 
```
 is better than the original code

```
if (i == len(expo) - 1 or expo[i+1][index[l+1]:] != cur_exp[index[l+1]:]):  
```

 On one hand, python should be clever enough to do the obvious optimization. On the other hand, computing `idx` is unnecessary if the first condition is met.

- You may want to put spaces around `+` here

```
            sage: f = H([z^2+c])  
```

- You may want to make modifications here as well

```
        INPUT:

        -  ``gfan_polyhedral_fan`` - output from ``gfan`` of a
           polyhedral fan.
        -  ``polynomial_system`` - a list of polynomials
        -  ``poly_ring`` - the polynomial ring of the list of polynomials
        -  ``parameters`` (optional) - a list of variables to be considered as parameters
  ```

All other changes look good to me.



---

archive/issue_comments_453901.json:
```json
{
    "body": "**Changing commit** from \"[49e4e23c39cecde09f8552c9a0bfe040b0577253](https://github.com/sagemath/sagetrac-mirror/commit/49e4e23c39cecde09f8552c9a0bfe040b0577253)\" to \"[9740a04f77823e3ec0307c1267894d996486c0c4](https://github.com/sagemath/sagetrac-mirror/commit/9740a04f77823e3ec0307c1267894d996486c0c4)\".",
    "created_at": "2020-01-01T07:38:54Z",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-453901",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[49e4e23c39cecde09f8552c9a0bfe040b0577253](https://github.com/sagemath/sagetrac-mirror/commit/49e4e23c39cecde09f8552c9a0bfe040b0577253)" to "[9740a04f77823e3ec0307c1267894d996486c0c4](https://github.com/sagemath/sagetrac-mirror/commit/9740a04f77823e3ec0307c1267894d996486c0c4)".



---

archive/issue_comments_453902.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9740a04f77823e3ec0307c1267894d996486c0c4\">9740a04</a></td><td><code>trac 28899 fix some details in polynomials</code></td></tr></table>\n",
    "created_at": "2020-01-01T07:38:54Z",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-453902",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9740a04f77823e3ec0307c1267894d996486c0c4">9740a04</a></td><td><code>trac 28899 fix some details in polynomials</code></td></tr></table>




---

archive/issue_comments_453903.json:
```json
{
    "body": "<a id='comment:8'></a>\nHere are the required changes.\n\nConcerning your first point: I moved the definition of idx up, as it was used before. Also the last test almost always use idx, except when at the last step of the englobing loop.",
    "created_at": "2020-01-01T07:41:13Z",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-453903",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
Here are the required changes.

Concerning your first point: I moved the definition of idx up, as it was used before. Also the last test almost always use idx, except when at the last step of the englobing loop.



---

archive/issue_events_256571.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2020-01-01T10:24:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28899#event-256571"
}
```



---

archive/issue_events_256572.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2020-01-01T10:24:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28899#event-256572"
}
```



---

archive/issue_comments_453904.json:
```json
{
    "body": "**Reviewer:** Kwankyu Lee",
    "created_at": "2020-01-01T10:24:51Z",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-453904",
    "user": "https://github.com/kwankyu"
}
```

**Reviewer:** Kwankyu Lee



---

archive/issue_comments_453905.json:
```json
{
    "body": "<a id='comment:9'></a>\nThanks. All looks good to me.",
    "created_at": "2020-01-01T10:24:51Z",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-453905",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:9'></a>
Thanks. All looks good to me.



---

archive/issue_comments_453906.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/28899](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/28899)\" to \"[9740a04f77823e3ec0307c1267894d996486c0c4](https://github.com/sagemath/sagetrac-mirror/commit/9740a04f77823e3ec0307c1267894d996486c0c4)\".",
    "created_at": "2020-01-05T15:47:10Z",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-453906",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/28899](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/28899)" to "[9740a04f77823e3ec0307c1267894d996486c0c4](https://github.com/sagemath/sagetrac-mirror/commit/9740a04f77823e3ec0307c1267894d996486c0c4)".



---

archive/issue_events_256573.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-01-05T15:47:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28899#event-256573"
}
```



---

archive/issue_events_256574.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "2111e0063b6d42d07a7b4b715d4612bc44f1cc64",
    "created_at": "2020-01-05T15:47:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28899#event-256574"
}
```
