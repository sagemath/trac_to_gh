# Issue 28899: some details in rings/polynomial/

archive/issues_028662.json:
```json
{
    "assignees": [],
    "body": "\n\nBranch/Commit: **[`9740a04`](https://github.com/sagemath/sagetrac-mirror/commit/9740a04f77823e3ec0307c1267894d996486c0c4)**\n\nReviewer: **Kwankyu Lee**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nComponent: **algebra**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/28899_\n\n",
    "closed_at": "2020-01-05T15:47:10Z",
    "created_at": "2019-12-19T10:34:43Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "some details in rings/polynomial/",
    "type": "issue",
    "updated_at": "2020-01-05T15:47:10Z",
    "url": "https://github.com/sagemath/sage/issues/28899",
    "user": "https://github.com/fchapoton"
}
```


Branch/Commit: **[`9740a04`](https://github.com/sagemath/sagetrac-mirror/commit/9740a04f77823e3ec0307c1267894d996486c0c4)**

Reviewer: **Kwankyu Lee**

Author: **Frédéric Chapoton**

Component: **algebra**

_Issue created by migration from https://trac.sagemath.org/ticket/28899_





---

archive/issue_events_397060.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-12-19T10:34:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28899#event-397060"
}
```



---

archive/issue_events_397061.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-12-19T10:34:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "c: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28899#event-397061"
}
```



---

archive/issue_events_397062.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-12-19T10:34:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28899#event-397062"
}
```



---

archive/issue_events_397063.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-12-19T10:34:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28899#event-397063"
}
```



---

archive/issue_comments_451196.json:
```json
{
    "body": "Branch: **[u/chapoton/28899](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/28899)**",
    "created_at": "2019-12-19T10:35:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-451196",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/28899](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/28899)**



---

archive/issue_events_397064.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-12-19T10:35:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28899#event-397064"
}
```



---

archive/issue_comments_451197.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cddec21670387e1bbf287c38ad408df80e4ffa70\">cddec21</a></td><td><code>some cleanup for 3 files in rings/polynomial/</code></td></tr></table>\n",
    "created_at": "2019-12-19T10:35:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-451197",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cddec21670387e1bbf287c38ad408df80e4ffa70">cddec21</a></td><td><code>some cleanup for 3 files in rings/polynomial/</code></td></tr></table>




---

archive/issue_comments_451198.json:
```json
{
    "body": "Commit: **[`cddec21`](https://github.com/sagemath/sagetrac-mirror/commit/cddec21670387e1bbf287c38ad408df80e4ffa70)**",
    "created_at": "2019-12-19T10:35:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-451198",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`cddec21`](https://github.com/sagemath/sagetrac-mirror/commit/cddec21670387e1bbf287c38ad408df80e4ffa70)**



---

archive/issue_comments_451199.json:
```json
{
    "body": "Changed commit from **[`cddec21`](https://github.com/sagemath/sagetrac-mirror/commit/cddec21670387e1bbf287c38ad408df80e4ffa70)** to **[`396293b`](https://github.com/sagemath/sagetrac-mirror/commit/396293b94578cf7c1c078ae8dbf19a336c163d8a)**",
    "created_at": "2019-12-19T14:48:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-451199",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cddec21`](https://github.com/sagemath/sagetrac-mirror/commit/cddec21670387e1bbf287c38ad408df80e4ffa70)** to **[`396293b`](https://github.com/sagemath/sagetrac-mirror/commit/396293b94578cf7c1c078ae8dbf19a336c163d8a)**



---

archive/issue_comments_451200.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/396293b94578cf7c1c078ae8dbf19a336c163d8a\">396293b</a></td><td><code>fix</code></td></tr></table>\n",
    "created_at": "2019-12-19T14:48:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-451200",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/396293b94578cf7c1c078ae8dbf19a336c163d8a">396293b</a></td><td><code>fix</code></td></tr></table>




---

archive/issue_comments_451201.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nYou are adding periods at the end of the head lines of modules (while I am removing it whenever I see it in a module). The head line is used as the title of the module in Sage reference manual. Hence you are adding periods to the titles. It is against our convention and style. Look at the current inconsistency, here:\n\nhttp://doc.sagemath.org/html/en/reference/polynomial_rings/index.html",
    "created_at": "2019-12-26T09:56:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-451201",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:3" align="right">comment:3</div>

You are adding periods at the end of the head lines of modules (while I am removing it whenever I see it in a module). The head line is used as the title of the module in Sage reference manual. Hence you are adding periods to the titles. It is against our convention and style. Look at the current inconsistency, here:

http://doc.sagemath.org/html/en/reference/polynomial_rings/index.html



---

archive/issue_comments_451202.json:
```json
{
    "body": "Changed commit from **[`396293b`](https://github.com/sagemath/sagetrac-mirror/commit/396293b94578cf7c1c078ae8dbf19a336c163d8a)** to **[`49e4e23`](https://github.com/sagemath/sagetrac-mirror/commit/49e4e23c39cecde09f8552c9a0bfe040b0577253)**",
    "created_at": "2019-12-31T12:49:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-451202",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`396293b`](https://github.com/sagemath/sagetrac-mirror/commit/396293b94578cf7c1c078ae8dbf19a336c163d8a)** to **[`49e4e23`](https://github.com/sagemath/sagetrac-mirror/commit/49e4e23c39cecde09f8552c9a0bfe040b0577253)**



---

archive/issue_comments_451203.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1efa796843801e66dee84cf99fc4a29893c9aa8\">a1efa79</a></td><td><code>Merge branch 'u/chapoton/28899' in 9.0.rc1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49e4e23c39cecde09f8552c9a0bfe040b0577253\">49e4e23</a></td><td><code>more polynomial fixes</code></td></tr></table>\n",
    "created_at": "2019-12-31T12:49:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-451203",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1efa796843801e66dee84cf99fc4a29893c9aa8">a1efa79</a></td><td><code>Merge branch 'u/chapoton/28899' in 9.0.rc1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49e4e23c39cecde09f8552c9a0bfe040b0577253">49e4e23</a></td><td><code>more polynomial fixes</code></td></tr></table>




---

archive/issue_comments_451204.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThanks for the review.\n\nI removed the period.\n\nI also fixed a few other things.",
    "created_at": "2019-12-31T12:50:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-451204",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:5" align="right">comment:5</div>

Thanks for the review.

I removed the period.

I also fixed a few other things.



---

archive/issue_comments_451205.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThis is my review:\n\n- I doubt if this\n\n```\nidx = index[l + 1]\nif (i == len(expo) - 1 or expo[i + 1][idx:] != cur_exp[idx:]): \n```\n is better than the original code\n\n```\nif (i == len(expo) - 1 or expo[i+1][index[l+1]:] != cur_exp[index[l+1]:]):  \n```\n\n On one hand, python should be clever enough to do the obvious optimization. On the other hand, computing `idx` is unnecessary if the first condition is met.\n\n- You may want to put spaces around `+` here\n\n```\n            sage: f = H([z^2+c])  \n```\n\n- You may want to make modifications here as well\n\n```\n        INPUT:\n\n        -  ``gfan_polyhedral_fan`` - output from ``gfan`` of a\n           polyhedral fan.\n        -  ``polynomial_system`` - a list of polynomials\n        -  ``poly_ring`` - the polynomial ring of the list of polynomials\n        -  ``parameters`` (optional) - a list of variables to be considered as parameters\n  ```\n\nAll other changes look good to me.",
    "created_at": "2019-12-31T15:19:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-451205",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:6" align="right">comment:6</div>

This is my review:

- I doubt if this

```
idx = index[l + 1]
if (i == len(expo) - 1 or expo[i + 1][idx:] != cur_exp[idx:]): 
```
 is better than the original code

```
if (i == len(expo) - 1 or expo[i+1][index[l+1]:] != cur_exp[index[l+1]:]):  
```

 On one hand, python should be clever enough to do the obvious optimization. On the other hand, computing `idx` is unnecessary if the first condition is met.

- You may want to put spaces around `+` here

```
            sage: f = H([z^2+c])  
```

- You may want to make modifications here as well

```
        INPUT:

        -  ``gfan_polyhedral_fan`` - output from ``gfan`` of a
           polyhedral fan.
        -  ``polynomial_system`` - a list of polynomials
        -  ``poly_ring`` - the polynomial ring of the list of polynomials
        -  ``parameters`` (optional) - a list of variables to be considered as parameters
  ```

All other changes look good to me.



---

archive/issue_comments_451206.json:
```json
{
    "body": "Changed commit from **[`49e4e23`](https://github.com/sagemath/sagetrac-mirror/commit/49e4e23c39cecde09f8552c9a0bfe040b0577253)** to **[`9740a04`](https://github.com/sagemath/sagetrac-mirror/commit/9740a04f77823e3ec0307c1267894d996486c0c4)**",
    "created_at": "2020-01-01T07:38:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-451206",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`49e4e23`](https://github.com/sagemath/sagetrac-mirror/commit/49e4e23c39cecde09f8552c9a0bfe040b0577253)** to **[`9740a04`](https://github.com/sagemath/sagetrac-mirror/commit/9740a04f77823e3ec0307c1267894d996486c0c4)**



---

archive/issue_comments_451207.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9740a04f77823e3ec0307c1267894d996486c0c4\">9740a04</a></td><td><code>trac 28899 fix some details in polynomials</code></td></tr></table>\n",
    "created_at": "2020-01-01T07:38:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-451207",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9740a04f77823e3ec0307c1267894d996486c0c4">9740a04</a></td><td><code>trac 28899 fix some details in polynomials</code></td></tr></table>




---

archive/issue_comments_451208.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nHere are the required changes.\n\nConcerning your first point: I moved the definition of idx up, as it was used before. Also the last test almost always use idx, except when at the last step of the englobing loop.",
    "created_at": "2020-01-01T07:41:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-451208",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:8" align="right">comment:8</div>

Here are the required changes.

Concerning your first point: I moved the definition of idx up, as it was used before. Also the last test almost always use idx, except when at the last step of the englobing loop.



---

archive/issue_events_397065.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2020-01-01T10:24:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28899#event-397065"
}
```



---

archive/issue_events_397066.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2020-01-01T10:24:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28899#event-397066"
}
```



---

archive/issue_comments_451209.json:
```json
{
    "body": "Reviewer: **Kwankyu Lee**",
    "created_at": "2020-01-01T10:24:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-451209",
    "user": "https://github.com/kwankyu"
}
```

Reviewer: **Kwankyu Lee**



---

archive/issue_comments_451210.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThanks. All looks good to me.",
    "created_at": "2020-01-01T10:24:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-451210",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:9" align="right">comment:9</div>

Thanks. All looks good to me.



---

archive/issue_comments_451211.json:
```json
{
    "body": "Changed branch from **[u/chapoton/28899](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/28899)** to **[`9740a04`](https://github.com/sagemath/sagetrac-mirror/commit/9740a04f77823e3ec0307c1267894d996486c0c4)**",
    "created_at": "2020-01-05T15:47:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28899#issuecomment-451211",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/28899](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/28899)** to **[`9740a04`](https://github.com/sagemath/sagetrac-mirror/commit/9740a04f77823e3ec0307c1267894d996486c0c4)**



---

archive/issue_events_397067.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-01-05T15:47:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28899#event-397067"
}
```



---

archive/issue_events_397068.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "2111e0063b6d42d07a7b4b715d4612bc44f1cc64",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-01-05T15:47:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28899",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28899#event-397068"
}
```
