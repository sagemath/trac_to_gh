# Issue 28899: some details in rings/polynomial/

archive/issues_028662.json:
```json
{
    "body": "\n\nBranch/Commit: 9740a04f77823e3ec0307c1267894d996486c0c4\n\nReviewer: Kwankyu Lee\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/28899\n\n",
    "closed_at": "2020-01-05T15:47:10Z",
    "created_at": "2019-12-19T10:34:43Z",
    "labels": [
        "component: algebra",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "some details in rings/polynomial/",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28899",
    "user": "https://github.com/fchapoton"
}
```


Branch/Commit: 9740a04f77823e3ec0307c1267894d996486c0c4

Reviewer: Kwankyu Lee

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/28899





---

archive/issue_comments_430904.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-12-19T10:35:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-430904",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_430905.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2019-12-19T10:35:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-430905",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_430906.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-12-19T14:48:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-430906",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_430907.json:
```json
{
    "body": "<a id='comment:3'></a>You are adding periods at the end of the head lines of modules (while I am removing it whenever I see it in a module). The head line is used as the title of the module in Sage reference manual. Hence you are adding periods to the titles. It is against our convention and style. Look at the current inconsistency, here:\n\nhttp://doc.sagemath.org/html/en/reference/polynomial_rings/index.html",
    "created_at": "2019-12-26T09:56:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-430907",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:3'></a>You are adding periods at the end of the head lines of modules (while I am removing it whenever I see it in a module). The head line is used as the title of the module in Sage reference manual. Hence you are adding periods to the titles. It is against our convention and style. Look at the current inconsistency, here:

http://doc.sagemath.org/html/en/reference/polynomial_rings/index.html



---

archive/issue_comments_430908.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-12-31T12:49:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-430908",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_430909.json:
```json
{
    "body": "<a id='comment:5'></a>Thanks for the review.\n\nI removed the period.\n\nI also fixed a few other things.",
    "created_at": "2019-12-31T12:50:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-430909",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>Thanks for the review.

I removed the period.

I also fixed a few other things.



---

archive/issue_comments_430910.json:
```json
{
    "body": "<a id='comment:6'></a>This is my review:\n\n- I doubt if this\n\n```\nidx = index[l + 1]\nif (i == len(expo) - 1 or expo[i + 1][idx:] != cur_exp[idx:]): \n```\n is better than the original code\n\n```\nif (i == len(expo) - 1 or expo[i+1][index[l+1]:] != cur_exp[index[l+1]:]):  \n```\n\n On one hand, python should be clever enough to do the obvious optimization. On the other hand, computing `idx` is unnecessary if the first condition is met.\n\n- You may want to put spaces around `+` here\n\n```\n            sage: f = H([z^2+c])  \n```\n\n- You may want to make modifications here as well\n\n```\n        INPUT:\n\n        -  ``gfan_polyhedral_fan`` - output from ``gfan`` of a\n           polyhedral fan.\n        -  ``polynomial_system`` - a list of polynomials\n        -  ``poly_ring`` - the polynomial ring of the list of polynomials\n        -  ``parameters`` (optional) - a list of variables to be considered as parameters\n }}}\n\nAll other changes look good to me.",
    "created_at": "2019-12-31T15:19:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-430910",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:6'></a>This is my review:

- I doubt if this

```
idx = index[l + 1]
if (i == len(expo) - 1 or expo[i + 1][idx:] != cur_exp[idx:]): 
```
 is better than the original code

```
if (i == len(expo) - 1 or expo[i+1][index[l+1]:] != cur_exp[index[l+1]:]):  
```

 On one hand, python should be clever enough to do the obvious optimization. On the other hand, computing `idx` is unnecessary if the first condition is met.

- You may want to put spaces around `+` here

```
            sage: f = H([z^2+c])  
```

- You may want to make modifications here as well

```
        INPUT:

        -  ``gfan_polyhedral_fan`` - output from ``gfan`` of a
           polyhedral fan.
        -  ``polynomial_system`` - a list of polynomials
        -  ``poly_ring`` - the polynomial ring of the list of polynomials
        -  ``parameters`` (optional) - a list of variables to be considered as parameters
 }}}

All other changes look good to me.



---

archive/issue_comments_430911.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-01-01T07:38:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-430911",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_430912.json:
```json
{
    "body": "<a id='comment:8'></a>Here are the required changes.\n\nConcerning your first point: I moved the definition of idx up, as it was used before. Also the last test almost always use idx, except when at the last step of the englobing loop.",
    "created_at": "2020-01-01T07:41:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-430912",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>Here are the required changes.

Concerning your first point: I moved the definition of idx up, as it was used before. Also the last test almost always use idx, except when at the last step of the englobing loop.



---

archive/issue_comments_430913.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-01-01T10:24:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-430913",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_430914.json:
```json
{
    "body": "<a id='comment:9'></a>Thanks. All looks good to me.",
    "created_at": "2020-01-01T10:24:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-430914",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:9'></a>Thanks. All looks good to me.



---

archive/issue_comments_430915.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-01-05T15:47:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-430915",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_073133.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-01-05T15:47:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28899#event-73133"
}
```
