# Issue 28899: some details in rings/polynomial/

archive/issues_028662.json:
```json
{
    "body": "\n\nBranch/Commit: 9740a04f77823e3ec0307c1267894d996486c0c4\n\nReviewer: Kwankyu Lee\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/28899\n\n",
    "closed_at": "2020-01-05T15:47:10Z",
    "created_at": "2019-12-19T10:34:43Z",
    "labels": [
        "component: algebra",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "some details in rings/polynomial/",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28899",
    "user": "https://github.com/fchapoton"
}
```


Branch/Commit: 9740a04f77823e3ec0307c1267894d996486c0c4

Reviewer: Kwankyu Lee

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/28899





---

archive/issue_comments_561395.json:
```json
{
    "body": "Changing branch from \"\" to \"u/chapoton/28899\"",
    "created_at": "2019-12-19T10:35:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-561395",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "u/chapoton/28899"



---

archive/issue_comments_561396.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-12-19T10:35:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-561396",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_561397.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                               |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|\n|[cddec21](https://git.sagemath.org/sage.git/commit?id=cddec21670387e1bbf287c38ad408df80e4ffa70)|`some cleanup for 3 files in rings/polynomial/`|",
    "created_at": "2019-12-19T10:35:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-561397",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                               |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|
|[cddec21](https://git.sagemath.org/sage.git/commit?id=cddec21670387e1bbf287c38ad408df80e4ffa70)|`some cleanup for 3 files in rings/polynomial/`|



---

archive/issue_comments_561398.json:
```json
{
    "body": "Changing commit from \"\" to \"cddec21670387e1bbf287c38ad408df80e4ffa70\"",
    "created_at": "2019-12-19T10:35:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-561398",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "cddec21670387e1bbf287c38ad408df80e4ffa70"



---

archive/issue_comments_561399.json:
```json
{
    "body": "Changing commit from \"cddec21670387e1bbf287c38ad408df80e4ffa70\" to \"396293b94578cf7c1c078ae8dbf19a336c163d8a\"",
    "created_at": "2019-12-19T14:48:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-561399",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "cddec21670387e1bbf287c38ad408df80e4ffa70" to "396293b94578cf7c1c078ae8dbf19a336c163d8a"



---

archive/issue_comments_561400.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----|\n|[396293b](https://git.sagemath.org/sage.git/commit/?id=396293b94578cf7c1c078ae8dbf19a336c163d8a)|`fix`|",
    "created_at": "2019-12-19T14:48:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-561400",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |     |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----|
|[396293b](https://git.sagemath.org/sage.git/commit/?id=396293b94578cf7c1c078ae8dbf19a336c163d8a)|`fix`|



---

archive/issue_comments_561401.json:
```json
{
    "body": "<a id='comment:3'></a>\nYou are adding periods at the end of the head lines of modules (while I am removing it whenever I see it in a module). The head line is used as the title of the module in Sage reference manual. Hence you are adding periods to the titles. It is against our convention and style. Look at the current inconsistency, here:\n\nhttp://doc.sagemath.org/html/en/reference/polynomial_rings/index.html",
    "created_at": "2019-12-26T09:56:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-561401",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:3'></a>
You are adding periods at the end of the head lines of modules (while I am removing it whenever I see it in a module). The head line is used as the title of the module in Sage reference manual. Hence you are adding periods to the titles. It is against our convention and style. Look at the current inconsistency, here:

http://doc.sagemath.org/html/en/reference/polynomial_rings/index.html



---

archive/issue_comments_561402.json:
```json
{
    "body": "Changing commit from \"396293b94578cf7c1c078ae8dbf19a336c163d8a\" to \"49e4e23c39cecde09f8552c9a0bfe040b0577253\"",
    "created_at": "2019-12-31T12:49:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-561402",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "396293b94578cf7c1c078ae8dbf19a336c163d8a" to "49e4e23c39cecde09f8552c9a0bfe040b0577253"



---

archive/issue_comments_561403.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|\n|[a1efa79](https://git.sagemath.org/sage.git/commit/?id=a1efa796843801e66dee84cf99fc4a29893c9aa8)|`Merge branch 'u/chapoton/28899' in 9.0.rc1`|\n|[49e4e23](https://git.sagemath.org/sage.git/commit/?id=49e4e23c39cecde09f8552c9a0bfe040b0577253)|`more polynomial fixes`|",
    "created_at": "2019-12-31T12:49:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-561403",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|
|[a1efa79](https://git.sagemath.org/sage.git/commit/?id=a1efa796843801e66dee84cf99fc4a29893c9aa8)|`Merge branch 'u/chapoton/28899' in 9.0.rc1`|
|[49e4e23](https://git.sagemath.org/sage.git/commit/?id=49e4e23c39cecde09f8552c9a0bfe040b0577253)|`more polynomial fixes`|



---

archive/issue_comments_561404.json:
```json
{
    "body": "<a id='comment:5'></a>\nThanks for the review.\n\nI removed the period.\n\nI also fixed a few other things.",
    "created_at": "2019-12-31T12:50:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-561404",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
Thanks for the review.

I removed the period.

I also fixed a few other things.



---

archive/issue_comments_561405.json:
```json
{
    "body": "<a id='comment:6'></a>\nThis is my review:\n\n- I doubt if this\n\n```\nidx = index[l + 1]\nif (i == len(expo) - 1 or expo[i + 1][idx:] != cur_exp[idx:]): \n```\n is better than the original code\n\n```\nif (i == len(expo) - 1 or expo[i+1][index[l+1]:] != cur_exp[index[l+1]:]):  \n```\n\n On one hand, python should be clever enough to do the obvious optimization. On the other hand, computing `idx` is unnecessary if the first condition is met.\n\n- You may want to put spaces around `+` here\n\n```\n            sage: f = H([z^2+c])  \n```\n\n- You may want to make modifications here as well\n\n```\n        INPUT:\n\n        -  ``gfan_polyhedral_fan`` - output from ``gfan`` of a\n           polyhedral fan.\n        -  ``polynomial_system`` - a list of polynomials\n        -  ``poly_ring`` - the polynomial ring of the list of polynomials\n        -  ``parameters`` (optional) - a list of variables to be considered as parameters\n }}}\n\nAll other changes look good to me.",
    "created_at": "2019-12-31T15:19:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-561405",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:6'></a>
This is my review:

- I doubt if this

```
idx = index[l + 1]
if (i == len(expo) - 1 or expo[i + 1][idx:] != cur_exp[idx:]): 
```
 is better than the original code

```
if (i == len(expo) - 1 or expo[i+1][index[l+1]:] != cur_exp[index[l+1]:]):  
```

 On one hand, python should be clever enough to do the obvious optimization. On the other hand, computing `idx` is unnecessary if the first condition is met.

- You may want to put spaces around `+` here

```
            sage: f = H([z^2+c])  
```

- You may want to make modifications here as well

```
        INPUT:

        -  ``gfan_polyhedral_fan`` - output from ``gfan`` of a
           polyhedral fan.
        -  ``polynomial_system`` - a list of polynomials
        -  ``poly_ring`` - the polynomial ring of the list of polynomials
        -  ``parameters`` (optional) - a list of variables to be considered as parameters
 }}}

All other changes look good to me.



---

archive/issue_comments_561406.json:
```json
{
    "body": "Changing commit from \"49e4e23c39cecde09f8552c9a0bfe040b0577253\" to \"9740a04f77823e3ec0307c1267894d996486c0c4\"",
    "created_at": "2020-01-01T07:38:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-561406",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "49e4e23c39cecde09f8552c9a0bfe040b0577253" to "9740a04f77823e3ec0307c1267894d996486c0c4"



---

archive/issue_comments_561407.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|\n|[9740a04](https://git.sagemath.org/sage.git/commit/?id=9740a04f77823e3ec0307c1267894d996486c0c4)|`trac 28899 fix some details in polynomials`|",
    "created_at": "2020-01-01T07:38:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-561407",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|
|[9740a04](https://git.sagemath.org/sage.git/commit/?id=9740a04f77823e3ec0307c1267894d996486c0c4)|`trac 28899 fix some details in polynomials`|



---

archive/issue_comments_561408.json:
```json
{
    "body": "<a id='comment:8'></a>\nHere are the required changes.\n\nConcerning your first point: I moved the definition of idx up, as it was used before. Also the last test almost always use idx, except when at the last step of the englobing loop.",
    "created_at": "2020-01-01T07:41:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-561408",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
Here are the required changes.

Concerning your first point: I moved the definition of idx up, as it was used before. Also the last test almost always use idx, except when at the last step of the englobing loop.



---

archive/issue_comments_561409.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-01-01T10:24:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-561409",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_561410.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Kwankyu Lee\"",
    "created_at": "2020-01-01T10:24:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-561410",
    "user": "https://github.com/kwankyu"
}
```

Changing reviewer from "" to "Kwankyu Lee"



---

archive/issue_comments_561411.json:
```json
{
    "body": "<a id='comment:9'></a>\nThanks. All looks good to me.",
    "created_at": "2020-01-01T10:24:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-561411",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:9'></a>
Thanks. All looks good to me.



---

archive/issue_comments_561412.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-01-05T15:47:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-561412",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_561413.json:
```json
{
    "body": "Changing branch from \"u/chapoton/28899\" to \"9740a04f77823e3ec0307c1267894d996486c0c4\"",
    "created_at": "2020-01-05T15:47:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28899#issuecomment-561413",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/chapoton/28899" to "9740a04f77823e3ec0307c1267894d996486c0c4"



---

archive/issue_events_073133.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-01-05T15:47:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28899",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28899#event-73133"
}
```
