# Issue 28567: allow user to specify strategy for Groebner basis computations with Macaulay2

archive/issues_028330.json:
```json
{
    "body": "The `groebner_basis` method for an ideal in a polynomial ring can be computed using the default Groebner basis command in Macaulay2. Here we extend the functionality by allowing the user to specify the strategy to be used by Macaulay2. \n\nCC:  @dimpase @mwageringel @antonleykin\n\nKeywords: IMA Coding Sprint, macaulay2, interfaces\n\nBranch/Commit: a22d20cea775dd533a51a739c8ce449b26d5aeed\n\nReviewer: Markus Wageringel, Dima Pasechnik\n\nAuthor: Dima Pasechnik, Franco Saliola\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/28567\n\n",
    "closed_at": "2019-10-20T22:19:01Z",
    "created_at": "2019-10-06T17:42:24Z",
    "labels": [
        "component: interfaces: optional"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.0",
    "title": "allow user to specify strategy for Groebner basis computations with Macaulay2",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28567",
    "user": "https://github.com/saliola"
}
```
The `groebner_basis` method for an ideal in a polynomial ring can be computed using the default Groebner basis command in Macaulay2. Here we extend the functionality by allowing the user to specify the strategy to be used by Macaulay2. 

CC:  @dimpase @mwageringel @antonleykin

Keywords: IMA Coding Sprint, macaulay2, interfaces

Branch/Commit: a22d20cea775dd533a51a739c8ce449b26d5aeed

Reviewer: Markus Wageringel, Dima Pasechnik

Author: Dima Pasechnik, Franco Saliola

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/28567





---

archive/issue_comments_555606.json:
```json
{
    "body": "Changing commit from \"\" to \"59b3215321353ed165a573fc16462dd055fd1bb2\"",
    "created_at": "2019-10-06T17:42:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28567#issuecomment-555606",
    "user": "https://github.com/saliola"
}
```

Changing commit from "" to "59b3215321353ed165a573fc16462dd055fd1bb2"



---

archive/issue_comments_555607.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|\n|[0d90888](https://github.com/sagemath/sagetrac-mirror/commit/0d908887b2b61f69d86d31a8c348b33c0b822ee9)|`f4 and mgb opts for M2 gb computations`|\n|[59b3215](https://github.com/sagemath/sagetrac-mirror/commit/59b3215321353ed165a573fc16462dd055fd1bb2)|`add documentation and minor fixes`|",
    "created_at": "2019-10-06T17:42:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28567#issuecomment-555607",
    "user": "https://github.com/saliola"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                        |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|
|[0d90888](https://github.com/sagemath/sagetrac-mirror/commit/0d908887b2b61f69d86d31a8c348b33c0b822ee9)|`f4 and mgb opts for M2 gb computations`|
|[59b3215](https://github.com/sagemath/sagetrac-mirror/commit/59b3215321353ed165a573fc16462dd055fd1bb2)|`add documentation and minor fixes`|



---

archive/issue_comments_555608.json:
```json
{
    "body": "Changing branch from \"\" to \"public/interfaces/m2/f4etc\"",
    "created_at": "2019-10-06T17:42:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28567#issuecomment-555608",
    "user": "https://github.com/saliola"
}
```

Changing branch from "" to "public/interfaces/m2/f4etc"



---

archive/issue_comments_555609.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-10-06T17:43:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28567#issuecomment-555609",
    "user": "https://github.com/saliola"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_555610.json:
```json
{
    "body": "Changing keywords from \"macaulay2, interfaces, groebner basis\" to \"IMA Coding Sprint, macaulay2, interfaces\".",
    "created_at": "2019-10-06T19:53:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28567#issuecomment-555610",
    "user": "https://github.com/saliola"
}
```

Changing keywords from "macaulay2, interfaces, groebner basis" to "IMA Coding Sprint, macaulay2, interfaces".



---

archive/issue_comments_555611.json:
```json
{
    "body": "Changing commit from \"59b3215321353ed165a573fc16462dd055fd1bb2\" to \"1ad24c3f6850e4f739a68d63a1341a11916a0127\"",
    "created_at": "2019-10-06T21:19:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28567#issuecomment-555611",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "59b3215321353ed165a573fc16462dd055fd1bb2" to "1ad24c3f6850e4f739a68d63a1341a11916a0127"



---

archive/issue_comments_555612.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[1ad24c3](https://github.com/sagemath/sagetrac-mirror/commit/1ad24c3f6850e4f739a68d63a1341a11916a0127)|`pass F4 and MGB to M2 as strings`|",
    "created_at": "2019-10-06T21:19:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28567#issuecomment-555612",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[1ad24c3](https://github.com/sagemath/sagetrac-mirror/commit/1ad24c3f6850e4f739a68d63a1341a11916a0127)|`pass F4 and MGB to M2 as strings`|



---

archive/issue_comments_555613.json:
```json
{
    "body": "Changing commit from \"1ad24c3f6850e4f739a68d63a1341a11916a0127\" to \"7038ba2e92d2dd64fbc601677730baa0b1cf2bcd\"",
    "created_at": "2019-10-06T22:12:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28567#issuecomment-555613",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1ad24c3f6850e4f739a68d63a1341a11916a0127" to "7038ba2e92d2dd64fbc601677730baa0b1cf2bcd"



---

archive/issue_comments_555614.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------|\n|[7038ba2](https://github.com/sagemath/sagetrac-mirror/commit/7038ba2e92d2dd64fbc601677730baa0b1cf2bcd)|`28567: run Macaulay2 f4 and mgb doctests over a finite field`|",
    "created_at": "2019-10-06T22:12:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28567#issuecomment-555614",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------|
|[7038ba2](https://github.com/sagemath/sagetrac-mirror/commit/7038ba2e92d2dd64fbc601677730baa0b1cf2bcd)|`28567: run Macaulay2 f4 and mgb doctests over a finite field`|



---

archive/issue_comments_555615.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Markus Wageringel\"",
    "created_at": "2019-10-06T22:15:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28567#issuecomment-555615",
    "user": "https://github.com/mwageringel"
}
```

Changing reviewer from "" to "Markus Wageringel"



---

archive/issue_comments_555616.json:
```json
{
    "body": "<a id='comment:8'></a>\nI have changed the examples in the doctests, so that the Macaulay2 `F4` and `MGB` algorithms are executed over a finite field, and also changed a small sphinx formatting problem. If you agree with my changes, you can set this to positive.",
    "created_at": "2019-10-06T22:15:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28567#issuecomment-555616",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:8'></a>
I have changed the examples in the doctests, so that the Macaulay2 `F4` and `MGB` algorithms are executed over a finite field, and also changed a small sphinx formatting problem. If you agree with my changes, you can set this to positive.



---

archive/issue_comments_555617.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|\n|[00c028f](https://github.com/sagemath/sagetrac-mirror/commit/00c028f94219dd8f5fbc68f566027ae1e80f2051)|`28567: add missing optional doctest flag`|",
    "created_at": "2019-10-08T15:25:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28567#issuecomment-555617",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------|
|[00c028f](https://github.com/sagemath/sagetrac-mirror/commit/00c028f94219dd8f5fbc68f566027ae1e80f2051)|`28567: add missing optional doctest flag`|



---

archive/issue_comments_555618.json:
```json
{
    "body": "Changing commit from \"7038ba2e92d2dd64fbc601677730baa0b1cf2bcd\" to \"00c028f94219dd8f5fbc68f566027ae1e80f2051\"",
    "created_at": "2019-10-08T15:25:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28567#issuecomment-555618",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "7038ba2e92d2dd64fbc601677730baa0b1cf2bcd" to "00c028f94219dd8f5fbc68f566027ae1e80f2051"



---

archive/issue_comments_555619.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-10-08T16:56:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28567#issuecomment-555619",
    "user": "https://github.com/saliola"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_555620.json:
```json
{
    "body": "<a id='comment:11'></a>\nThanks for the review!",
    "created_at": "2019-10-08T16:56:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28567#issuecomment-555620",
    "user": "https://github.com/saliola"
}
```

<a id='comment:11'></a>
Thanks for the review!



---

archive/issue_comments_555621.json:
```json
{
    "body": "<a id='comment:12'></a>\n\n```\n**********************************************************************\nFile \"src/sage/misc/cachefunc.pyx\", line 929, in sage.misc.cachefunc.CachedFunction._sage_src_lines_\nFailed example:\n    l in sage_getsourcelines(I.groebner_basis)[0] # indirect doctest\nExpected:\n    True\nGot:\n    False\n**********************************************************************\n1 item had failures:\n   1 of   6 in sage.misc.cachefunc.CachedFunction._sage_src_lines_\n    [825 tests, 1 failure, 10.34 s]\n----------------------------------------------------------------------\nsage -t --warn-long 45.7 src/sage/misc/cachefunc.pyx  # 1 doctest failed\n----------------------------------------------------------------------\n```",
    "created_at": "2019-10-11T22:36:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28567#issuecomment-555621",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:12'></a>

```
**********************************************************************
File "src/sage/misc/cachefunc.pyx", line 929, in sage.misc.cachefunc.CachedFunction._sage_src_lines_
Failed example:
    l in sage_getsourcelines(I.groebner_basis)[0] # indirect doctest
Expected:
    True
Got:
    False
**********************************************************************
1 item had failures:
   1 of   6 in sage.misc.cachefunc.CachedFunction._sage_src_lines_
    [825 tests, 1 failure, 10.34 s]
----------------------------------------------------------------------
sage -t --warn-long 45.7 src/sage/misc/cachefunc.pyx  # 1 doctest failed
----------------------------------------------------------------------
```



---

archive/issue_comments_555622.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2019-10-11T22:36:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28567#issuecomment-555622",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_555623.json:
```json
{
    "body": "<a id='comment:13'></a>\nOK, I'll fix this, it's easy.",
    "created_at": "2019-10-14T10:06:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28567#issuecomment-555623",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:13'></a>
OK, I'll fix this, it's easy.



---

archive/issue_comments_555624.json:
```json
{
    "body": "<a id='comment:14'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|\n|[2605f9f](https://github.com/sagemath/sagetrac-mirror/commit/2605f9f3acb8a9bb2c524c09e6ae2c371a05673b)|`f4 and mgb opts for M2 gb computations`|\n|[41ce073](https://github.com/sagemath/sagetrac-mirror/commit/41ce073ca2a222d50b92d62f84a4ecf276784bd4)|`add documentation and minor fixes`|\n|[4a3a7c0](https://github.com/sagemath/sagetrac-mirror/commit/4a3a7c0e373fdbde6e060fb27b20b1428f5cb749)|`pass F4 and MGB to M2 as strings`|\n|[48e1c87](https://github.com/sagemath/sagetrac-mirror/commit/48e1c87a4e9149de09680a5c9d4c11d9c00277bc)|`28567: run Macaulay2 f4 and mgb doctests over a finite field`|\n|[7058795](https://github.com/sagemath/sagetrac-mirror/commit/7058795f794396b578f29ae9713855aafdc43789)|`28567: add missing optional doctest flag`|\n|[a22d20c](https://github.com/sagemath/sagetrac-mirror/commit/a22d20cea775dd533a51a739c8ce449b26d5aeed)|`changed, as the source of groebner_basis changed`|",
    "created_at": "2019-10-14T10:40:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28567#issuecomment-555624",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------|
|[2605f9f](https://github.com/sagemath/sagetrac-mirror/commit/2605f9f3acb8a9bb2c524c09e6ae2c371a05673b)|`f4 and mgb opts for M2 gb computations`|
|[41ce073](https://github.com/sagemath/sagetrac-mirror/commit/41ce073ca2a222d50b92d62f84a4ecf276784bd4)|`add documentation and minor fixes`|
|[4a3a7c0](https://github.com/sagemath/sagetrac-mirror/commit/4a3a7c0e373fdbde6e060fb27b20b1428f5cb749)|`pass F4 and MGB to M2 as strings`|
|[48e1c87](https://github.com/sagemath/sagetrac-mirror/commit/48e1c87a4e9149de09680a5c9d4c11d9c00277bc)|`28567: run Macaulay2 f4 and mgb doctests over a finite field`|
|[7058795](https://github.com/sagemath/sagetrac-mirror/commit/7058795f794396b578f29ae9713855aafdc43789)|`28567: add missing optional doctest flag`|
|[a22d20c](https://github.com/sagemath/sagetrac-mirror/commit/a22d20cea775dd533a51a739c8ce449b26d5aeed)|`changed, as the source of groebner_basis changed`|



---

archive/issue_comments_555625.json:
```json
{
    "body": "Changing commit from \"00c028f94219dd8f5fbc68f566027ae1e80f2051\" to \"a22d20cea775dd533a51a739c8ce449b26d5aeed\"",
    "created_at": "2019-10-14T10:40:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28567#issuecomment-555625",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "00c028f94219dd8f5fbc68f566027ae1e80f2051" to "a22d20cea775dd533a51a739c8ce449b26d5aeed"



---

archive/issue_comments_555626.json:
```json
{
    "body": "<a id='comment:15'></a>\nmade adjustment for change in source, rebase",
    "created_at": "2019-10-14T10:44:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28567#issuecomment-555626",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:15'></a>
made adjustment for change in source, rebase



---

archive/issue_comments_555627.json:
```json
{
    "body": "Changing reviewer from \"Markus Wageringel\" to \"Markus Wageringel, Dima Pasechnik\"",
    "created_at": "2019-10-14T10:44:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28567#issuecomment-555627",
    "user": "https://github.com/dimpase"
}
```

Changing reviewer from "Markus Wageringel" to "Markus Wageringel, Dima Pasechnik"



---

archive/issue_comments_555628.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2019-10-14T10:44:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28567#issuecomment-555628",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_555629.json:
```json
{
    "body": "<a id='comment:16'></a>\nSorry about that. Sometimes it is hard to see the relevant failures in the patchbot results.",
    "created_at": "2019-10-15T01:26:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28567#issuecomment-555629",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:16'></a>
Sorry about that. Sometimes it is hard to see the relevant failures in the patchbot results.



---

archive/issue_events_081091.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-10-20T22:19:01Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28567",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28567#event-81091"
}
```



---

archive/issue_comments_555630.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-10-20T22:19:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28567#issuecomment-555630",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_555631.json:
```json
{
    "body": "Changing branch from \"public/interfaces/m2/f4etc\" to \"a22d20cea775dd533a51a739c8ce449b26d5aeed\"",
    "created_at": "2019-10-20T22:19:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28567",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28567#issuecomment-555631",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/interfaces/m2/f4etc" to "a22d20cea775dd533a51a739c8ce449b26d5aeed"
