# Issue 28504: conversion of posets to libgap

archive/issues_028267.json:
```json
{
    "assignees": [],
    "body": "using the QPA package\n\nhttps://folk.ntnu.no/oyvinso/QPA/\n\nrelated link, about possible usage\n\nhttps://github.com/gap-packages/qpa/issues/35\n\nCC:  @tscrim @jm58660\n\nComponent: **combinatorics**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nBranch: **[`9a58a21`](https://github.com/sagemath/sagetrac-mirror/commit/9a58a21ca62f1203c8e2a0923f91a76ffadd4b4a)**\n\nReviewer: **Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/28504_\n\n",
    "closed_at": "2019-10-05T07:57:48Z",
    "created_at": "2019-09-15T20:23:07Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "conversion of posets to libgap",
    "type": "issue",
    "updated_at": "2022-06-14T09:55:13Z",
    "url": "https://github.com/sagemath/sage/issues/28504",
    "user": "https://github.com/fchapoton"
}
```
using the QPA package

https://folk.ntnu.no/oyvinso/QPA/

related link, about possible usage

https://github.com/gap-packages/qpa/issues/35

CC:  @tscrim @jm58660

Component: **combinatorics**

Author: **Frédéric Chapoton**

Branch: **[`9a58a21`](https://github.com/sagemath/sagetrac-mirror/commit/9a58a21ca62f1203c8e2a0923f91a76ffadd4b4a)**

Reviewer: **Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/28504_





---

archive/issue_events_388290.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-09-15T20:23:07Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28504#event-388290"
}
```



---

archive/issue_events_388291.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-09-15T20:23:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28504#event-388291"
}
```



---

archive/issue_events_388292.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-09-15T20:23:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28504#event-388292"
}
```



---

archive/issue_events_388293.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-09-15T20:23:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28504#event-388293"
}
```



---

archive/issue_comments_444266.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/788708b0f4d7a0412ceb81c89e9f2ac9c58b8a42\"><code>788708b</code></a></td><td><code>conversions of posets to libgap (using QPA package)</code></td></tr></table>\n",
    "created_at": "2019-09-15T20:23:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28504#issuecomment-444266",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/788708b0f4d7a0412ceb81c89e9f2ac9c58b8a42"><code>788708b</code></a></td><td><code>conversions of posets to libgap (using QPA package)</code></td></tr></table>




---

archive/issue_comments_444267.json:
```json
{
    "body": "Commit: **[`788708b`](https://github.com/sagemath/sagetrac-mirror/commit/788708b0f4d7a0412ceb81c89e9f2ac9c58b8a42)**",
    "created_at": "2019-09-15T20:23:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28504#issuecomment-444267",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`788708b`](https://github.com/sagemath/sagetrac-mirror/commit/788708b0f4d7a0412ceb81c89e9f2ac9c58b8a42)**



---

archive/issue_comments_444268.json:
```json
{
    "body": "Branch: **[u/chapoton/28504](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/28504)**",
    "created_at": "2019-09-15T20:23:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28504#issuecomment-444268",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/28504](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/28504)**



---

archive/issue_events_388294.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-09-15T20:23:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28504#event-388294"
}
```



---

archive/issue_comments_444269.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2019-09-15T21:04:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28504#issuecomment-444269",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_events_388295.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-09-15T21:04:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28504#event-388295"
}
```



---

archive/issue_events_388296.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-09-15T21:04:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28504#event-388296"
}
```



---

archive/issue_comments_444270.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nLGTM.",
    "created_at": "2019-09-15T21:04:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28504#issuecomment-444270",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:2" align="right">comment:2</div>

LGTM.



---

archive/issue_comments_444271.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\none second. It seems to depend on gap_packages.",
    "created_at": "2019-09-16T07:23:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28504#issuecomment-444271",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:3" align="right">comment:3</div>

one second. It seems to depend on gap_packages.



---

archive/issue_events_388297.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-09-16T07:23:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28504#event-388297"
}
```



---

archive/issue_events_388298.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-09-16T07:23:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28504#event-388298"
}
```



---

archive/issue_comments_444272.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a58a21ca62f1203c8e2a0923f91a76ffadd4b4a\"><code>9a58a21</code></a></td><td><code>trac 28504 add the 3 missing gap_packages tags</code></td></tr></table>\n",
    "created_at": "2019-09-16T07:38:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28504#issuecomment-444272",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a58a21ca62f1203c8e2a0923f91a76ffadd4b4a"><code>9a58a21</code></a></td><td><code>trac 28504 add the 3 missing gap_packages tags</code></td></tr></table>




---

archive/issue_comments_444273.json:
```json
{
    "body": "Changed commit from **[`788708b`](https://github.com/sagemath/sagetrac-mirror/commit/788708b0f4d7a0412ceb81c89e9f2ac9c58b8a42)** to **[`9a58a21`](https://github.com/sagemath/sagetrac-mirror/commit/9a58a21ca62f1203c8e2a0923f91a76ffadd4b4a)**",
    "created_at": "2019-09-16T07:38:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28504#issuecomment-444273",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`788708b`](https://github.com/sagemath/sagetrac-mirror/commit/788708b0f4d7a0412ceb81c89e9f2ac9c58b8a42)** to **[`9a58a21`](https://github.com/sagemath/sagetrac-mirror/commit/9a58a21ca62f1203c8e2a0923f91a76ffadd4b4a)**



---

archive/issue_comments_444274.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nok, fixed. Back to needs review\n\nBy the way, conversion back from gap matrices seems not to work correctly.\n\n```\nsage: P = posets.TamariLattice(3)\nsage: libgap(P)\n<A poset on 5 points>\nsage: A = libgap(QQ).PosetAlgebra(P)\nsage: A.CoxeterMatrix().sage()\n[[0, 0, 0, -1, -1],\n [0, 0, 1, 1, 1],\n [0, 0, 0, 1, 0],\n [0, 1, 0, 0, 1],\n [-1, -1, -1, -1, -1]]\nsage: type(_)\n<class 'list'>\n```\nBut this would be for another ticket.",
    "created_at": "2019-09-16T07:41:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28504#issuecomment-444274",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:5" align="right">comment:5</div>

ok, fixed. Back to needs review

By the way, conversion back from gap matrices seems not to work correctly.

```
sage: P = posets.TamariLattice(3)
sage: libgap(P)
<A poset on 5 points>
sage: A = libgap(QQ).PosetAlgebra(P)
sage: A.CoxeterMatrix().sage()
[[0, 0, 0, -1, -1],
 [0, 0, 1, 1, 1],
 [0, 0, 0, 1, 0],
 [0, 1, 0, 0, 1],
 [-1, -1, -1, -1, -1]]
sage: type(_)
<class 'list'>
```
But this would be for another ticket.



---

archive/issue_events_388299.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-09-16T07:41:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28504#event-388299"
}
```



---

archive/issue_events_388300.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-09-16T07:41:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28504#event-388300"
}
```



---

archive/issue_comments_444275.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI agree, that should be another ticket. Although it just seems to be the transpose here. Or do you mean that gap matrices are just lists of lists, so it comes back as a list in Sage?",
    "created_at": "2019-09-16T07:54:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28504#issuecomment-444275",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:6" align="right">comment:6</div>

I agree, that should be another ticket. Although it just seems to be the transpose here. Or do you mean that gap matrices are just lists of lists, so it comes back as a list in Sage?



---

archive/issue_events_388301.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-09-16T07:54:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28504#event-388301"
}
```



---

archive/issue_events_388302.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-09-16T07:54:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28504#event-388302"
}
```



---

archive/issue_comments_444276.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nStill gap know that this is a matrix:\n\n```\nsage: M = A.CoxeterMatrix()\nsage: M.IsMatrix()\ntrue\n```",
    "created_at": "2019-09-16T07:56:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28504#issuecomment-444276",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:7" align="right">comment:7</div>

Still gap know that this is a matrix:

```
sage: M = A.CoxeterMatrix()
sage: M.IsMatrix()
true
```



---

archive/issue_comments_444277.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nIt also recognizes it for any square array:\n\n```\nsage: gap([[1,2],[3,4]]).IsMatrix()\ntrue\n```\nI suspect a decision was made at some point to not have things that pass `IsMatrix()` be matrices when given to Sage. (Maybe this is a standard Young tableaux.) However, this is probably something to ask on sage-devel.",
    "created_at": "2019-09-16T08:01:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28504#issuecomment-444277",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:8" align="right">comment:8</div>

It also recognizes it for any square array:

```
sage: gap([[1,2],[3,4]]).IsMatrix()
true
```
I suspect a decision was made at some point to not have things that pass `IsMatrix()` be matrices when given to Sage. (Maybe this is a standard Young tableaux.) However, this is probably something to ask on sage-devel.



---

archive/issue_events_388303.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-09-29T15:23:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28504#event-388303"
}
```



---

archive/issue_events_388304.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-09-29T15:23:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "milestone_number": null,
    "milestone_title": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28504#event-388304"
}
```



---

archive/issue_comments_444278.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nmoving milestone to 9.0",
    "created_at": "2019-09-29T15:23:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28504#issuecomment-444278",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:9" align="right">comment:9</div>

moving milestone to 9.0



---

archive/issue_events_388305.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-10-05T07:57:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28504#event-388305"
}
```



---

archive/issue_events_388306.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "eb769d66d4aaf938d426c90b9698552f86e9163e",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-10-05T07:57:48Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28504#event-388306"
}
```



---

archive/issue_comments_444279.json:
```json
{
    "body": "Changed branch from **[u/chapoton/28504](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/28504)** to **[`9a58a21`](https://github.com/sagemath/sagetrac-mirror/commit/9a58a21ca62f1203c8e2a0923f91a76ffadd4b4a)**",
    "created_at": "2019-10-05T07:57:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28504#issuecomment-444279",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/28504](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/28504)** to **[`9a58a21`](https://github.com/sagemath/sagetrac-mirror/commit/9a58a21ca62f1203c8e2a0923f91a76ffadd4b4a)**



---

archive/issue_comments_444280.json:
```json
{
    "body": "Changed commit from **[`9a58a21`](https://github.com/sagemath/sagetrac-mirror/commit/9a58a21ca62f1203c8e2a0923f91a76ffadd4b4a)** to none",
    "created_at": "2022-06-14T09:55:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28504#issuecomment-444280",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[`9a58a21`](https://github.com/sagemath/sagetrac-mirror/commit/9a58a21ca62f1203c8e2a0923f91a76ffadd4b4a)** to none



---

archive/issue_comments_444281.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,7 @@\n using the QPA package\n \n https://folk.ntnu.no/oyvinso/QPA/\n+\n+related link, about possible usage\n+\n+https://github.com/gap-packages/qpa/issues/35\n``````\n",
    "created_at": "2022-06-14T09:55:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28504#issuecomment-444281",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,7 @@
 using the QPA package
 
 https://folk.ntnu.no/oyvinso/QPA/
+
+related link, about possible usage
+
+https://github.com/gap-packages/qpa/issues/35
``````

