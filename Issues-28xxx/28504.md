# Issue 28504: conversion of posets to libgap

archive/issues_028267.json:
```json
{
    "body": "using the QPA package\n\nhttps://folk.ntnu.no/oyvinso/QPA/\n\nrelated link, about possible usage\n\nhttps://github.com/gap-packages/qpa/issues/35\n\n**CC:**  @tscrim @jm58660\n\n**Branch:** [9a58a21ca62f1203c8e2a0923f91a76ffadd4b4a](https://github.com/sagemath/sagetrac-mirror/commit/9a58a21ca62f1203c8e2a0923f91a76ffadd4b4a)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/28504\n\n",
    "closed_at": "2019-10-05T07:57:48Z",
    "created_at": "2019-09-15T20:23:07Z",
    "labels": [
        "component: combinatorics",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.0",
    "title": "conversion of posets to libgap",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28504",
    "user": "https://github.com/fchapoton"
}
```
using the QPA package

https://folk.ntnu.no/oyvinso/QPA/

related link, about possible usage

https://github.com/gap-packages/qpa/issues/35

**CC:**  @tscrim @jm58660

**Branch:** [9a58a21ca62f1203c8e2a0923f91a76ffadd4b4a](https://github.com/sagemath/sagetrac-mirror/commit/9a58a21ca62f1203c8e2a0923f91a76ffadd4b4a)

**Reviewer:** Travis Scrimshaw

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/28504





---

archive/issue_comments_528641.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/788708b0f4d7a0412ceb81c89e9f2ac9c58b8a42\">788708b</a></td><td><code>conversions of posets to libgap (using QPA package)</code></td></tr></table>\n",
    "created_at": "2019-09-15T20:23:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28504#issuecomment-528641",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/788708b0f4d7a0412ceb81c89e9f2ac9c58b8a42">788708b</a></td><td><code>conversions of posets to libgap (using QPA package)</code></td></tr></table>




---

archive/issue_comments_528642.json:
```json
{
    "body": "**Commit:** [788708b0f4d7a0412ceb81c89e9f2ac9c58b8a42](https://github.com/sagemath/sagetrac-mirror/commit/788708b0f4d7a0412ceb81c89e9f2ac9c58b8a42)",
    "created_at": "2019-09-15T20:23:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28504#issuecomment-528642",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [788708b0f4d7a0412ceb81c89e9f2ac9c58b8a42](https://github.com/sagemath/sagetrac-mirror/commit/788708b0f4d7a0412ceb81c89e9f2ac9c58b8a42)



---

archive/issue_comments_528643.json:
```json
{
    "body": "**Branch:** [u/chapoton/28504](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/28504)",
    "created_at": "2019-09-15T20:23:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28504#issuecomment-528643",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/28504](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/28504)



---

archive/issue_comments_528644.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2019-09-15T20:23:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28504#issuecomment-528644",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_528645.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2019-09-15T21:04:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28504#issuecomment-528645",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_528646.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2019-09-15T21:04:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28504#issuecomment-528646",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_528647.json:
```json
{
    "body": "<a id='comment:2'></a>\nLGTM.",
    "created_at": "2019-09-15T21:04:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28504#issuecomment-528647",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:2'></a>
LGTM.



---

archive/issue_comments_528648.json:
```json
{
    "body": "<a id='comment:3'></a>\none second. It seems to depend on gap_packages.",
    "created_at": "2019-09-16T07:23:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28504#issuecomment-528648",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>
one second. It seems to depend on gap_packages.



---

archive/issue_comments_528649.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2019-09-16T07:23:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28504#issuecomment-528649",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_528650.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a58a21ca62f1203c8e2a0923f91a76ffadd4b4a\">9a58a21</a></td><td><code>trac 28504 add the 3 missing gap_packages tags</code></td></tr></table>\n",
    "created_at": "2019-09-16T07:38:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28504#issuecomment-528650",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a58a21ca62f1203c8e2a0923f91a76ffadd4b4a">9a58a21</a></td><td><code>trac 28504 add the 3 missing gap_packages tags</code></td></tr></table>




---

archive/issue_comments_528651.json:
```json
{
    "body": "**Changing commit** from \"[788708b0f4d7a0412ceb81c89e9f2ac9c58b8a42](https://github.com/sagemath/sagetrac-mirror/commit/788708b0f4d7a0412ceb81c89e9f2ac9c58b8a42)\" to \"[9a58a21ca62f1203c8e2a0923f91a76ffadd4b4a](https://github.com/sagemath/sagetrac-mirror/commit/9a58a21ca62f1203c8e2a0923f91a76ffadd4b4a)\".",
    "created_at": "2019-09-16T07:38:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28504#issuecomment-528651",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[788708b0f4d7a0412ceb81c89e9f2ac9c58b8a42](https://github.com/sagemath/sagetrac-mirror/commit/788708b0f4d7a0412ceb81c89e9f2ac9c58b8a42)" to "[9a58a21ca62f1203c8e2a0923f91a76ffadd4b4a](https://github.com/sagemath/sagetrac-mirror/commit/9a58a21ca62f1203c8e2a0923f91a76ffadd4b4a)".



---

archive/issue_comments_528652.json:
```json
{
    "body": "<a id='comment:5'></a>\nok, fixed. Back to needs review\n\nBy the way, conversion back from gap matrices seems not to work correctly.\n\n```\nsage: P = posets.TamariLattice(3)\nsage: libgap(P)\n<A poset on 5 points>\nsage: A = libgap(QQ).PosetAlgebra(P)\nsage: A.CoxeterMatrix().sage()\n[[0, 0, 0, -1, -1],\n [0, 0, 1, 1, 1],\n [0, 0, 0, 1, 0],\n [0, 1, 0, 0, 1],\n [-1, -1, -1, -1, -1]]\nsage: type(_)\n<class 'list'>\n```\nBut this would be for another ticket.",
    "created_at": "2019-09-16T07:41:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28504#issuecomment-528652",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
ok, fixed. Back to needs review

By the way, conversion back from gap matrices seems not to work correctly.

```
sage: P = posets.TamariLattice(3)
sage: libgap(P)
<A poset on 5 points>
sage: A = libgap(QQ).PosetAlgebra(P)
sage: A.CoxeterMatrix().sage()
[[0, 0, 0, -1, -1],
 [0, 0, 1, 1, 1],
 [0, 0, 0, 1, 0],
 [0, 1, 0, 0, 1],
 [-1, -1, -1, -1, -1]]
sage: type(_)
<class 'list'>
```
But this would be for another ticket.



---

archive/issue_comments_528653.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2019-09-16T07:41:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28504#issuecomment-528653",
    "user": "https://github.com/fchapoton"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_528654.json:
```json
{
    "body": "<a id='comment:6'></a>\nI agree, that should be another ticket. Although it just seems to be the transpose here. Or do you mean that gap matrices are just lists of lists, so it comes back as a list in Sage?",
    "created_at": "2019-09-16T07:54:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28504#issuecomment-528654",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>
I agree, that should be another ticket. Although it just seems to be the transpose here. Or do you mean that gap matrices are just lists of lists, so it comes back as a list in Sage?



---

archive/issue_comments_528655.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2019-09-16T07:54:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28504#issuecomment-528655",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_528656.json:
```json
{
    "body": "<a id='comment:7'></a>\nStill gap know that this is a matrix:\n\n```\nsage: M = A.CoxeterMatrix()\nsage: M.IsMatrix()\ntrue\n```",
    "created_at": "2019-09-16T07:56:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28504#issuecomment-528656",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>
Still gap know that this is a matrix:

```
sage: M = A.CoxeterMatrix()
sage: M.IsMatrix()
true
```



---

archive/issue_comments_528657.json:
```json
{
    "body": "<a id='comment:8'></a>\nIt also recognizes it for any square array:\n\n```\nsage: gap([[1,2],[3,4]]).IsMatrix()\ntrue\n```\nI suspect a decision was made at some point to not have things that pass `IsMatrix()` be matrices when given to Sage. (Maybe this is a standard Young tableaux.) However, this is probably something to ask on sage-devel.",
    "created_at": "2019-09-16T08:01:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28504#issuecomment-528657",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:8'></a>
It also recognizes it for any square array:

```
sage: gap([[1,2],[3,4]]).IsMatrix()
true
```
I suspect a decision was made at some point to not have things that pass `IsMatrix()` be matrices when given to Sage. (Maybe this is a standard Young tableaux.) However, this is probably something to ask on sage-devel.



---

archive/issue_events_080539.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-09-29T15:23:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28504",
    "milestone": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28504#event-80539"
}
```



---

archive/issue_comments_528658.json:
```json
{
    "body": "<a id='comment:9'></a>\nmoving milestone to 9.0",
    "created_at": "2019-09-29T15:23:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28504#issuecomment-528658",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>
moving milestone to 9.0



---

archive/issue_events_080540.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-10-05T07:57:48Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28504",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28504#event-80540"
}
```



---

archive/issue_comments_528659.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/28504](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/28504)\" to \"[9a58a21ca62f1203c8e2a0923f91a76ffadd4b4a](https://github.com/sagemath/sagetrac-mirror/commit/9a58a21ca62f1203c8e2a0923f91a76ffadd4b4a)\".",
    "created_at": "2019-10-05T07:57:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28504#issuecomment-528659",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/28504](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/28504)" to "[9a58a21ca62f1203c8e2a0923f91a76ffadd4b4a](https://github.com/sagemath/sagetrac-mirror/commit/9a58a21ca62f1203c8e2a0923f91a76ffadd4b4a)".



---

archive/issue_comments_528660.json:
```json
{
    "body": "**Changing commit** from \"[9a58a21ca62f1203c8e2a0923f91a76ffadd4b4a](https://github.com/sagemath/sagetrac-mirror/commit/9a58a21ca62f1203c8e2a0923f91a76ffadd4b4a)\" to \"\".",
    "created_at": "2022-06-14T09:55:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28504#issuecomment-528660",
    "user": "https://github.com/fchapoton"
}
```

**Changing commit** from "[9a58a21ca62f1203c8e2a0923f91a76ffadd4b4a](https://github.com/sagemath/sagetrac-mirror/commit/9a58a21ca62f1203c8e2a0923f91a76ffadd4b4a)" to "".



---

archive/issue_comments_528661.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,7 @@\n using the QPA package\n \n https://folk.ntnu.no/oyvinso/QPA/\n+\n+related link, about possible usage\n+\n+https://github.com/gap-packages/qpa/issues/35\n``````\n",
    "created_at": "2022-06-14T09:55:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28504",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28504#issuecomment-528661",
    "user": "https://github.com/fchapoton"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,7 @@
 using the QPA package
 
 https://folk.ntnu.no/oyvinso/QPA/
+
+related link, about possible usage
+
+https://github.com/gap-packages/qpa/issues/35
``````

