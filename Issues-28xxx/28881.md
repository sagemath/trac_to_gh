# Issue 28881: refresh the shuffle algebra file

archive/issues_028644.json:
```json
{
    "assignees": [],
    "body": "fixing a very wrong coproduct\n\nenhancing the category\n\nsome pep8 changes\n\n\nCC:  @tscrim @jm58660\n\nBranch/Commit: **[3787e45](https://github.com/sagemath/sagetrac-mirror/commit/3787e452e3db8a54bb7baba27f2ff4c21acece47)**\n\nReviewer: **Travis Scrimshaw, Fr\u00e9d\u00e9ric Chapoton**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton, Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/28881_\n\n",
    "closed_at": "2019-12-17T22:46:27Z",
    "created_at": "2019-12-13T20:38:36Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "refresh the shuffle algebra file",
    "type": "issue",
    "updated_at": "2019-12-17T22:46:27Z",
    "url": "https://github.com/sagemath/sage/issues/28881",
    "user": "https://github.com/fchapoton"
}
```
fixing a very wrong coproduct

enhancing the category

some pep8 changes


CC:  @tscrim @jm58660

Branch/Commit: **[3787e45](https://github.com/sagemath/sagetrac-mirror/commit/3787e452e3db8a54bb7baba27f2ff4c21acece47)**

Reviewer: **Travis Scrimshaw, Frédéric Chapoton**

Author: **Frédéric Chapoton, Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/28881_





---

archive/issue_events_378506.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-12-13T20:38:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "milestone_number": null,
    "milestone_title": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28881#event-378506"
}
```



---

archive/issue_events_378507.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-12-13T20:38:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28881#event-378507"
}
```



---

archive/issue_events_378508.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-12-13T20:38:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28881#event-378508"
}
```



---

archive/issue_events_378509.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-12-13T20:38:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28881#event-378509"
}
```



---

archive/issue_events_378510.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-12-13T20:40:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28881#event-378510"
}
```



---

archive/issue_comments_453640.json:
```json
{
    "body": "Commit: **[3631eea](https://github.com/sagemath/sagetrac-mirror/commit/3631eea64aad0ade4ca0d733bbcbfb8b170fb3e6)**",
    "created_at": "2019-12-13T20:40:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28881#issuecomment-453640",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[3631eea](https://github.com/sagemath/sagetrac-mirror/commit/3631eea64aad0ade4ca0d733bbcbfb8b170fb3e6)**



---

archive/issue_comments_453641.json:
```json
{
    "body": "Branch: **[u/chapoton/28881](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/28881)**",
    "created_at": "2019-12-13T20:40:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28881#issuecomment-453641",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/28881](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/28881)**



---

archive/issue_comments_453642.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3631eea64aad0ade4ca0d733bbcbfb8b170fb3e6\">3631eea</a></td><td><code>refreshing the shuffle algebra file</code></td></tr></table>\n",
    "created_at": "2019-12-13T20:40:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28881#issuecomment-453642",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1" align="right">Comment 1</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3631eea64aad0ade4ca0d733bbcbfb8b170fb3e6">3631eea</a></td><td><code>refreshing the shuffle algebra file</code></td></tr></table>




---

archive/issue_events_378511.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-12-13T21:23:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28881#event-378511"
}
```



---

archive/issue_events_378512.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-12-13T21:23:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28881#event-378512"
}
```



---

archive/issue_comments_453643.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nWell, technically the shuffle algebra should be in the category of commutative Hopf algebras, so it might be better to use the category of `Bialgebras(R).Commutative()`. However, the antipode is easy to implement: reverse the order of the `n` letters times (-1)<sup>n</sup> (see [this MathOverflow post](https://mathoverflow.net/questions/63923/shuffle-hopf-algebra-how-to-prove-its-properties-in-a-slick-way)). So I would propose changing the category to `HopfAlgebras(R).Commutative()` and adding\n\n```python\ndef antipode_on_basis(self, w):\n    \"\"\"\n    Return the antipode on the basis element ``w``.\n    \"\"\"\n    mone = -self.base_ring().one()\n    return self.term(w.reversal(), mone**len(w))\n```\nalong with in the dual PBW basis\n\n```python\ndef antipode(self, elt):\n    \"\"\"\n    Return the antipode of the element ``elt``.\n    \"\"\"\n    return self(self.expansion(elt).antipode())\n```",
    "created_at": "2019-12-13T21:23:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28881#issuecomment-453643",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:2" align="right">Comment 2</div>

Well, technically the shuffle algebra should be in the category of commutative Hopf algebras, so it might be better to use the category of `Bialgebras(R).Commutative()`. However, the antipode is easy to implement: reverse the order of the `n` letters times (-1)<sup>n</sup> (see [this MathOverflow post](https://mathoverflow.net/questions/63923/shuffle-hopf-algebra-how-to-prove-its-properties-in-a-slick-way)). So I would propose changing the category to `HopfAlgebras(R).Commutative()` and adding

```python
def antipode_on_basis(self, w):
    """
    Return the antipode on the basis element ``w``.
    """
    mone = -self.base_ring().one()
    return self.term(w.reversal(), mone**len(w))
```
along with in the dual PBW basis

```python
def antipode(self, elt):
    """
    Return the antipode of the element ``elt``.
    """
    return self(self.expansion(elt).antipode())
```



---

archive/issue_comments_453644.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7056cc149c62882b2dab1f27948f66ba05a4d251\">7056cc1</a></td><td><code>more work on shuffle Hopf algebra</code></td></tr></table>\n",
    "created_at": "2019-12-14T09:02:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28881#issuecomment-453644",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3" align="right">Comment 3</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7056cc149c62882b2dab1f27948f66ba05a4d251">7056cc1</a></td><td><code>more work on shuffle Hopf algebra</code></td></tr></table>




---

archive/issue_comments_453645.json:
```json
{
    "body": "Changed commit from **[3631eea](https://github.com/sagemath/sagetrac-mirror/commit/3631eea64aad0ade4ca0d733bbcbfb8b170fb3e6)** to **[7056cc1](https://github.com/sagemath/sagetrac-mirror/commit/7056cc149c62882b2dab1f27948f66ba05a4d251)**",
    "created_at": "2019-12-14T09:02:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28881#issuecomment-453645",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3631eea](https://github.com/sagemath/sagetrac-mirror/commit/3631eea64aad0ade4ca0d733bbcbfb8b170fb3e6)** to **[7056cc1](https://github.com/sagemath/sagetrac-mirror/commit/7056cc149c62882b2dab1f27948f66ba05a4d251)**



---

archive/issue_comments_453646.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nmmm; not so easy. I am hitting problems in the testsuites.",
    "created_at": "2019-12-14T09:02:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28881#issuecomment-453646",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:4" align="right">Comment 4</div>

mmm; not so easy. I am hitting problems in the testsuites.



---

archive/issue_comments_453647.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nHmm...maybe the product and coproduct implemented are not compatible? I will check it on Monday (Australian time).",
    "created_at": "2019-12-14T09:13:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28881#issuecomment-453647",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:5" align="right">Comment 5</div>

Hmm...maybe the product and coproduct implemented are not compatible? I will check it on Monday (Australian time).



---

archive/issue_comments_453648.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0722049f68b4bd11f7d5b4c71c28dbf4ee0d442a\">0722049</a></td><td><code>some more care for shuffle counit</code></td></tr></table>\n",
    "created_at": "2019-12-14T16:13:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28881#issuecomment-453648",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6" align="right">Comment 6</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0722049f68b4bd11f7d5b4c71c28dbf4ee0d442a">0722049</a></td><td><code>some more care for shuffle counit</code></td></tr></table>




---

archive/issue_comments_453649.json:
```json
{
    "body": "Changed commit from **[7056cc1](https://github.com/sagemath/sagetrac-mirror/commit/7056cc149c62882b2dab1f27948f66ba05a4d251)** to **[0722049](https://github.com/sagemath/sagetrac-mirror/commit/0722049f68b4bd11f7d5b4c71c28dbf4ee0d442a)**",
    "created_at": "2019-12-14T16:13:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28881#issuecomment-453649",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7056cc1](https://github.com/sagemath/sagetrac-mirror/commit/7056cc149c62882b2dab1f27948f66ba05a4d251)** to **[0722049](https://github.com/sagemath/sagetrac-mirror/commit/0722049f68b4bd11f7d5b4c71c28dbf4ee0d442a)**



---

archive/issue_comments_453650.json:
```json
{
    "body": "Changed commit from **[0722049](https://github.com/sagemath/sagetrac-mirror/commit/0722049f68b4bd11f7d5b4c71c28dbf4ee0d442a)** to **[065860a](https://github.com/sagemath/sagetrac-mirror/commit/065860acee634345916225b3567a9d4c098e6585)**",
    "created_at": "2019-12-14T19:38:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28881#issuecomment-453650",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0722049](https://github.com/sagemath/sagetrac-mirror/commit/0722049f68b4bd11f7d5b4c71c28dbf4ee0d442a)** to **[065860a](https://github.com/sagemath/sagetrac-mirror/commit/065860acee634345916225b3567a9d4c098e6585)**



---

archive/issue_comments_453651.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/065860acee634345916225b3567a9d4c098e6585\">065860a</a></td><td><code>fix coproduct for shuffle algebra</code></td></tr></table>\n",
    "created_at": "2019-12-14T19:38:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28881#issuecomment-453651",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7" align="right">Comment 7</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/065860acee634345916225b3567a9d4c098e6585">065860a</a></td><td><code>fix coproduct for shuffle algebra</code></td></tr></table>




---

archive/issue_comments_453652.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nThe coproduct was indeed broken. There still remains a failure..",
    "created_at": "2019-12-14T19:39:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28881#issuecomment-453652",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:8" align="right">Comment 8</div>

The coproduct was indeed broken. There still remains a failure..



---

archive/issue_comments_453653.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nIt almost seems like the old coproduct is meant to be the inflation product. (The coproduct was added in #15212, but there is little information available there.)",
    "created_at": "2019-12-14T22:24:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28881#issuecomment-453653",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:9" align="right">Comment 9</div>

It almost seems like the old coproduct is meant to be the inflation product. (The coproduct was added in #15212, but there is little information available there.)



---

archive/issue_comments_453654.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nSo the problem seems to come from the coproduct in the dual PBW basis. It is only converting basis indices over (whereas the implementation was meant to be treating them as monomials). Here is a fix that doesn't try to be clever and just uses the coercion framework.",
    "created_at": "2019-12-15T01:26:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28881#issuecomment-453654",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:10" align="right">Comment 10</div>

So the problem seems to come from the coproduct in the dual PBW basis. It is only converting basis indices over (whereas the implementation was meant to be treating them as monomials). Here is a fix that doesn't try to be clever and just uses the coercion framework.



---

archive/issue_comments_453655.json:
```json
{
    "body": "Changed commit from **[065860a](https://github.com/sagemath/sagetrac-mirror/commit/065860acee634345916225b3567a9d4c098e6585)** to **[abccb82](https://github.com/sagemath/sagetrac-mirror/commit/abccb825b933e17c2db6c53b505746f8b60cb455)**",
    "created_at": "2019-12-15T01:42:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28881#issuecomment-453655",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[065860a](https://github.com/sagemath/sagetrac-mirror/commit/065860acee634345916225b3567a9d4c098e6585)** to **[abccb82](https://github.com/sagemath/sagetrac-mirror/commit/abccb825b933e17c2db6c53b505746f8b60cb455)**



---

archive/issue_comments_453656.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw, Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2019-12-15T01:42:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28881#issuecomment-453656",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw, Frédéric Chapoton**



---

archive/issue_comments_453657.json:
```json
{
    "body": "Changed author from **Fr\u00e9d\u00e9ric Chapoton** to **Fr\u00e9d\u00e9ric Chapoton, Travis Scrimshaw**",
    "created_at": "2019-12-15T01:42:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28881#issuecomment-453657",
    "user": "https://github.com/tscrim"
}
```

Changed author from **Frédéric Chapoton** to **Frédéric Chapoton, Travis Scrimshaw**



---

archive/issue_events_378513.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-12-15T01:42:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28881#event-378513"
}
```



---

archive/issue_events_378514.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-12-15T01:42:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28881#event-378514"
}
```



---

archive/issue_comments_453658.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nI fixed it, and I also made the shuffle algebra know it is a graded connected Hopf algebra.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d29de54117d3a61b3ff0038e5197a0f565c77635\">d29de54</a></td><td><code>Fixing dual PBW coproduct and adding grading.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d8dcee358a0b9e2b692bb272227eea45eb982f3\">9d8dcee</a></td><td><code>A few other little PEP8 tweaks.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/abccb825b933e17c2db6c53b505746f8b60cb455\">abccb82</a></td><td><code>Added connected to the category.</code></td></tr></table>\n",
    "created_at": "2019-12-15T01:42:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28881#issuecomment-453658",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:11" align="right">Comment 11</div>

I fixed it, and I also made the shuffle algebra know it is a graded connected Hopf algebra.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d29de54117d3a61b3ff0038e5197a0f565c77635">d29de54</a></td><td><code>Fixing dual PBW coproduct and adding grading.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d8dcee358a0b9e2b692bb272227eea45eb982f3">9d8dcee</a></td><td><code>A few other little PEP8 tweaks.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/abccb825b933e17c2db6c53b505746f8b60cb455">abccb82</a></td><td><code>Added connected to the category.</code></td></tr></table>




---

archive/issue_comments_453659.json:
```json
{
    "body": "Changed branch from **[u/chapoton/28881](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/28881)** to **[public/algebras/refresh_shuffle_algebras-28881](https://github.com/sagemath/sagetrac-mirror/tree/public/algebras/refresh_shuffle_algebras-28881)**",
    "created_at": "2019-12-15T01:42:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28881#issuecomment-453659",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/chapoton/28881](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/28881)** to **[public/algebras/refresh_shuffle_algebras-28881](https://github.com/sagemath/sagetrac-mirror/tree/public/algebras/refresh_shuffle_algebras-28881)**



---

archive/issue_comments_453660.json:
```json
{
    "body": "Changed commit from **[abccb82](https://github.com/sagemath/sagetrac-mirror/commit/abccb825b933e17c2db6c53b505746f8b60cb455)** to **[3787e45](https://github.com/sagemath/sagetrac-mirror/commit/3787e452e3db8a54bb7baba27f2ff4c21acece47)**",
    "created_at": "2019-12-15T07:52:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28881#issuecomment-453660",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[abccb82](https://github.com/sagemath/sagetrac-mirror/commit/abccb825b933e17c2db6c53b505746f8b60cb455)** to **[3787e45](https://github.com/sagemath/sagetrac-mirror/commit/3787e452e3db8a54bb7baba27f2ff4c21acece47)**



---

archive/issue_comments_453661.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3787e452e3db8a54bb7baba27f2ff4c21acece47\">3787e45</a></td><td><code>trac 28881 fixing the pyflakes warning</code></td></tr></table>\n",
    "created_at": "2019-12-15T07:52:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28881#issuecomment-453661",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12" align="right">Comment 12</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3787e452e3db8a54bb7baba27f2ff4c21acece47">3787e45</a></td><td><code>trac 28881 fixing the pyflakes warning</code></td></tr></table>




---

archive/issue_comments_453662.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,6 @@\n-mainly pep8 changes\n+fixing a very wrong coproduct\n+\n+enhancing the category\n+\n+some pep8 changes\n+\n``````\n",
    "created_at": "2019-12-15T07:54:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28881#issuecomment-453662",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,6 @@
-mainly pep8 changes
+fixing a very wrong coproduct
+
+enhancing the category
+
+some pep8 changes
+
``````




---

archive/issue_comments_453663.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nThanks a lot. Looks good now. I have fixed a pyflakes warning, and added some #long tags on the TestSuites.\n\nNow launching the bot.",
    "created_at": "2019-12-15T07:54:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28881#issuecomment-453663",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:13" align="right">Comment 13</div>

Thanks a lot. Looks good now. I have fixed a pyflakes warning, and added some #long tags on the TestSuites.

Now launching the bot.



---

archive/issue_comments_453664.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nWorked locally for me, so I am going to assume the patchbot comes back green. Thank you.",
    "created_at": "2019-12-15T08:05:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28881#issuecomment-453664",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:14" align="right">Comment 14</div>

Worked locally for me, so I am going to assume the patchbot comes back green. Thank you.



---

archive/issue_events_378515.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-12-15T08:05:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28881#event-378515"
}
```



---

archive/issue_events_378516.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-12-15T08:05:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28881#event-378516"
}
```



---

archive/issue_events_378517.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-12-17T22:46:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28881#event-378517"
}
```



---

archive/issue_events_378518.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "78048a233c74c0fa055a3e328298b915b5fcc0a0",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-12-17T22:46:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28881#event-378518"
}
```



---

archive/issue_comments_453665.json:
```json
{
    "body": "Changed branch from **[public/algebras/refresh_shuffle_algebras-28881](https://github.com/sagemath/sagetrac-mirror/tree/public/algebras/refresh_shuffle_algebras-28881)** to **[3787e45](https://github.com/sagemath/sagetrac-mirror/commit/3787e452e3db8a54bb7baba27f2ff4c21acece47)**",
    "created_at": "2019-12-17T22:46:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28881#issuecomment-453665",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/algebras/refresh_shuffle_algebras-28881](https://github.com/sagemath/sagetrac-mirror/tree/public/algebras/refresh_shuffle_algebras-28881)** to **[3787e45](https://github.com/sagemath/sagetrac-mirror/commit/3787e452e3db8a54bb7baba27f2ff4c21acece47)**
