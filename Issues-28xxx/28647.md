# Issue 28647: conversion of Symbolic Ring to FriCAS Expression Integer

archive/issues_028410.json:
```json
{
    "body": "This ticket modifies the FriCAS interface so that symbolic ring elements are always converted to FriCAS `Expression Integer` or `Expression Complex Integer`, depending on whether the complex unit appears.  Doing so, we fix the failure below.\n\nsee https://ask.sagemath.org/question/48431/why-this-integral-fail-using-fricas-algorithm/\n\nfor the original bug report:\n\n```\nintegrate(sqrt(2)*x^2 + 2*x,x, algorithm=\"fricas\")\n```\n\nCC:  @fchapoton\n\nKeywords: FriCAS\n\nBranch/Commit: c92aec8046b9060eb6c30d99520430ca2f96745e\n\nReviewer: Travis Scrimshaw\n\nAuthor: Martin Rubey\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/28647\n\n",
    "closed_at": "2021-06-07T21:40:24Z",
    "created_at": "2019-10-24T11:43:30Z",
    "labels": [
        "component: interfaces: optional",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.4",
    "title": "conversion of Symbolic Ring to FriCAS Expression Integer",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28647",
    "user": "https://github.com/mantepse"
}
```
This ticket modifies the FriCAS interface so that symbolic ring elements are always converted to FriCAS `Expression Integer` or `Expression Complex Integer`, depending on whether the complex unit appears.  Doing so, we fix the failure below.

see https://ask.sagemath.org/question/48431/why-this-integral-fail-using-fricas-algorithm/

for the original bug report:

```
integrate(sqrt(2)*x^2 + 2*x,x, algorithm="fricas")
```

CC:  @fchapoton

Keywords: FriCAS

Branch/Commit: c92aec8046b9060eb6c30d99520430ca2f96745e

Reviewer: Travis Scrimshaw

Author: Martin Rubey

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/28647





---

archive/issue_comments_556090.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mantepse/conversion_of_symbolic_ring_to_fricas_expression_integer\"",
    "created_at": "2019-10-24T11:44:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556090",
    "user": "https://github.com/mantepse"
}
```

Changing branch from "" to "u/mantepse/conversion_of_symbolic_ring_to_fricas_expression_integer"



---

archive/issue_comments_556091.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2019-10-24T11:47:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556091",
    "user": "https://github.com/mantepse"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_556092.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,9 @@\n+This ticket modifies the FriCAS interface so that symbolic ring elements are always converted to FriCAS `Expression Integer`.  Doing so, we fix the failure below.\n \n+see https://ask.sagemath.org/question/48431/why-this-integral-fail-using-fricas-algorithm/\n+\n+for the original bug report:\n+\n+```\n+integrate(sqrt(2)*x^2 + 2*x,x, algorithm=\"fricas\")\n+```\n``````\n",
    "created_at": "2019-10-24T11:47:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556092",
    "user": "https://github.com/mantepse"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,9 @@
+This ticket modifies the FriCAS interface so that symbolic ring elements are always converted to FriCAS `Expression Integer`.  Doing so, we fix the failure below.
 
+see https://ask.sagemath.org/question/48431/why-this-integral-fail-using-fricas-algorithm/
+
+for the original bug report:
+
+```
+integrate(sqrt(2)*x^2 + 2*x,x, algorithm="fricas")
+```
``````




---

archive/issue_comments_556093.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-10-24T11:47:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556093",
    "user": "https://github.com/mantepse"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_556094.json:
```json
{
    "body": "<a id='comment:2'></a>New commits:",
    "created_at": "2019-10-24T11:47:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556094",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:2'></a>New commits:



---

archive/issue_comments_556095.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to interfaces: optional.",
    "created_at": "2019-10-24T11:47:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556095",
    "user": "https://github.com/mantepse"
}
```

Changing component from PLEASE CHANGE to interfaces: optional.



---

archive/issue_comments_556096.json:
```json
{
    "body": "Changing commit from \"\" to \"4c672a0d25b00b0f33c873a71164d5b6e6ac5916\"",
    "created_at": "2019-10-24T11:47:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556096",
    "user": "https://github.com/mantepse"
}
```

Changing commit from "" to "4c672a0d25b00b0f33c873a71164d5b6e6ac5916"



---

archive/issue_comments_556097.json:
```json
{
    "body": "Changing author from \"\" to \"Martin Rubey\"",
    "created_at": "2019-10-24T11:47:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556097",
    "user": "https://github.com/mantepse"
}
```

Changing author from "" to "Martin Rubey"



---

archive/issue_comments_556098.json:
```json
{
    "body": "<a id='comment:3'></a>Possible collision with #28641 which refers to the same ask.sagemath.org question.",
    "created_at": "2019-10-24T12:18:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556098",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:3'></a>Possible collision with #28641 which refers to the same ask.sagemath.org question.



---

archive/issue_comments_556099.json:
```json
{
    "body": "<a id='comment:4'></a>Replying to [tmonteil](#comment%3A3):\n> Possible collision with #28641 which refers to the same ask.sagemath.org question.\n\n\nYes, but the solutions are orthogonal to each other.  In other words: after applying this branch, #28641 solves a different problem.",
    "created_at": "2019-10-24T15:06:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556099",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:4'></a>Replying to [tmonteil](#comment%3A3):
> Possible collision with #28641 which refers to the same ask.sagemath.org question.


Yes, but the solutions are orthogonal to each other.  In other words: after applying this branch, #28641 solves a different problem.



---

archive/issue_comments_556100.json:
```json
{
    "body": "<a id='comment:5'></a>some failing doctests in src/sage/functions/generalized.py and src/sage/functions/exp_integral.py",
    "created_at": "2019-10-24T15:56:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556100",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>some failing doctests in src/sage/functions/generalized.py and src/sage/functions/exp_integral.py



---

archive/issue_comments_556101.json:
```json
{
    "body": "<a id='comment:6'></a>There are unfortunately more problems.  In particular, `fricas(I)` calls `FriCASConverter.pyobject(I, I)` (as it should).  But this now returns `I` instead of `%i`.",
    "created_at": "2019-10-25T10:31:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556101",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:6'></a>There are unfortunately more problems.  In particular, `fricas(I)` calls `FriCASConverter.pyobject(I, I)` (as it should).  But this now returns `I` instead of `%i`.



---

archive/issue_comments_556102.json:
```json
{
    "body": "<a id='comment:7'></a>I'm afraid my approach won't work, because FriCAS distinguishes between `Expression Integer` and `Expression Complex Integer`.\n\nPut differently, the complex unit `I` is not an element of `Expression Integer`, but would have to be expressed as `sqrt(-1)`.  I see the following options:\n\n1. rewrite `I` as `sqrt(-1)`,\n2. always use `Expression Complex Integer`,\n3. detect whether `I` appears and distinguish accordingly,\n4. somehow let FriCAS decide\n\nI tend towards option 1., but I am not sure at all.",
    "created_at": "2019-10-25T11:39:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556102",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:7'></a>I'm afraid my approach won't work, because FriCAS distinguishes between `Expression Integer` and `Expression Complex Integer`.

Put differently, the complex unit `I` is not an element of `Expression Integer`, but would have to be expressed as `sqrt(-1)`.  I see the following options:

1. rewrite `I` as `sqrt(-1)`,
2. always use `Expression Complex Integer`,
3. detect whether `I` appears and distinguish accordingly,
4. somehow let FriCAS decide

I tend towards option 1., but I am not sure at all.



---

archive/issue_comments_556103.json:
```json
{
    "body": "<a id='comment:8'></a>help appreciated",
    "created_at": "2019-10-28T15:26:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556103",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:8'></a>help appreciated



---

archive/issue_comments_556104.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-10-28T15:26:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556104",
    "user": "https://github.com/mantepse"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_556105.json:
```json
{
    "body": "Changing commit from \"4c672a0d25b00b0f33c873a71164d5b6e6ac5916\" to \"8948d3883678895a95fcc67f72801375e3f23832\"",
    "created_at": "2019-11-16T14:35:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556105",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4c672a0d25b00b0f33c873a71164d5b6e6ac5916" to "8948d3883678895a95fcc67f72801375e3f23832"



---

archive/issue_comments_556106.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-11-16T14:35:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556106",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_556107.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-11-16T14:40:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556107",
    "user": "https://github.com/mantepse"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_556108.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-This ticket modifies the FriCAS interface so that symbolic ring elements are always converted to FriCAS `Expression Integer`.  Doing so, we fix the failure below.\n+This ticket modifies the FriCAS interface so that symbolic ring elements are always converted to FriCAS `Expression Integer` or `Expression Complex Integer`, depending on whether the complex unit appears.  Doing so, we fix the failure below.\n \n see https://ask.sagemath.org/question/48431/why-this-integral-fail-using-fricas-algorithm/\n \n``````\n",
    "created_at": "2019-11-16T14:40:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556108",
    "user": "https://github.com/mantepse"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-This ticket modifies the FriCAS interface so that symbolic ring elements are always converted to FriCAS `Expression Integer`.  Doing so, we fix the failure below.
+This ticket modifies the FriCAS interface so that symbolic ring elements are always converted to FriCAS `Expression Integer` or `Expression Complex Integer`, depending on whether the complex unit appears.  Doing so, we fix the failure below.
 
 see https://ask.sagemath.org/question/48431/why-this-integral-fail-using-fricas-algorithm/
 
``````




---

archive/issue_comments_556109.json:
```json
{
    "body": "<a id='comment:11'></a>I think I have to make an exception for the conversion of symbols, because otherwise `fricas.integrate(ex, x)` won't work anymore.",
    "created_at": "2019-11-16T14:43:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556109",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:11'></a>I think I have to make an exception for the conversion of symbols, because otherwise `fricas.integrate(ex, x)` won't work anymore.



---

archive/issue_comments_556110.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-11-16T14:43:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556110",
    "user": "https://github.com/mantepse"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_556111.json:
```json
{
    "body": "Changing commit from \"8948d3883678895a95fcc67f72801375e3f23832\" to \"d1b449088d9423f1f8faadd0d6e09a1ed873ca30\"",
    "created_at": "2019-11-20T08:12:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556111",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8948d3883678895a95fcc67f72801375e3f23832" to "d1b449088d9423f1f8faadd0d6e09a1ed873ca30"



---

archive/issue_comments_556112.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-11-20T08:12:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556112",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_556113.json:
```json
{
    "body": "Changing keywords from \"\" to \"FriCAS\".",
    "created_at": "2019-11-20T08:24:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556113",
    "user": "https://github.com/mantepse"
}
```

Changing keywords from "" to "FriCAS".



---

archive/issue_comments_556114.json:
```json
{
    "body": "Changing commit from \"d1b449088d9423f1f8faadd0d6e09a1ed873ca30\" to \"b95f2a46b2a7eecdc3c42d042fae1031b3ade548\"",
    "created_at": "2019-11-20T08:39:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556114",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d1b449088d9423f1f8faadd0d6e09a1ed873ca30" to "b95f2a46b2a7eecdc3c42d042fae1031b3ade548"



---

archive/issue_comments_556115.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-11-20T08:39:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556115",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_556116.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-11-20T08:40:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556116",
    "user": "https://github.com/mantepse"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_556117.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-11-21T09:56:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556117",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_556118.json:
```json
{
    "body": "Changing commit from \"b95f2a46b2a7eecdc3c42d042fae1031b3ade548\" to \"09bee2611190ef2d5071427ac69b6a8927e4fece\"",
    "created_at": "2019-11-21T09:56:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556118",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b95f2a46b2a7eecdc3c42d042fae1031b3ade548" to "09bee2611190ef2d5071427ac69b6a8927e4fece"



---

archive/issue_comments_556119.json:
```json
{
    "body": "<a id='comment:17'></a>Ticket retargeted after milestone closed",
    "created_at": "2020-01-06T14:10:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556119",
    "user": "https://github.com/embray"
}
```

<a id='comment:17'></a>Ticket retargeted after milestone closed



---

archive/issue_events_072135.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-06T14:10:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28647#event-72135"
}
```



---

archive/issue_events_072136.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T04:28:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28647#event-72136"
}
```



---

archive/issue_events_072137.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T04:28:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28647#event-72137"
}
```



---

archive/issue_comments_556120.json:
```json
{
    "body": "<a id='comment:18'></a>Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.",
    "created_at": "2020-05-01T04:28:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556120",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:18'></a>Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.



---

archive/issue_events_072138.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28647#event-72138"
}
```



---

archive/issue_events_072139.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28647#event-72139"
}
```



---

archive/issue_comments_556121.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-11-01T18:02:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556121",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_556122.json:
```json
{
    "body": "<a id='comment:20'></a>red branch => needs work",
    "created_at": "2020-11-01T18:02:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556122",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:20'></a>red branch => needs work



---

archive/issue_comments_556123.json:
```json
{
    "body": "Changing commit from \"09bee2611190ef2d5071427ac69b6a8927e4fece\" to \"da22da29c47948d320f6cc14a618954be8923eba\"",
    "created_at": "2020-11-01T19:13:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556123",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "09bee2611190ef2d5071427ac69b6a8927e4fece" to "da22da29c47948d320f6cc14a618954be8923eba"



---

archive/issue_comments_556124.json:
```json
{
    "body": "<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-11-01T19:13:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556124",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_556125.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-11-01T21:27:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556125",
    "user": "https://github.com/mantepse"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_556126.json:
```json
{
    "body": "<a id='comment:23'></a>Unfortunately, #18036 breaks this.",
    "created_at": "2020-11-02T14:06:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556126",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:23'></a>Unfortunately, #18036 breaks this.



---

archive/issue_comments_556127.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-11-02T14:06:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556127",
    "user": "https://github.com/mantepse"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_556128.json:
```json
{
    "body": "<a id='comment:24'></a>(and I have no idea currently how to fix this)",
    "created_at": "2020-11-02T14:20:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556128",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:24'></a>(and I have no idea currently how to fix this)



---

archive/issue_comments_556129.json:
```json
{
    "body": "<a id='comment:25'></a>Setting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556129",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'></a>Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_072140.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28647#event-72140"
}
```



---

archive/issue_events_072141.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28647#event-72141"
}
```



---

archive/issue_comments_556130.json:
```json
{
    "body": "<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-05-31T19:28:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556130",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_556131.json:
```json
{
    "body": "Changing commit from \"da22da29c47948d320f6cc14a618954be8923eba\" to \"1624c4524e64159b8b5a9d3ce788bf587fc41f3d\"",
    "created_at": "2021-05-31T19:28:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556131",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "da22da29c47948d320f6cc14a618954be8923eba" to "1624c4524e64159b8b5a9d3ce788bf587fc41f3d"



---

archive/issue_comments_556132.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-05-31T19:29:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556132",
    "user": "https://github.com/mantepse"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_556133.json:
```json
{
    "body": "<a id='comment:28'></a>I believe you can simplify\n\n```diff\n-            if (isinstance(obj, NumberFieldElement_quadratic) and\n-                obj.parent() is GaussianField()):\n+            if isinstance(obj, NumberFieldElement_gaussian):\n```\nI probably would also add a test that includes `SR(I)` (or `sqrt(-1)`) to make sure that alternative version yields what you want. Other than that, LGTM.",
    "created_at": "2021-06-01T01:16:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556133",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:28'></a>I believe you can simplify

```diff
-            if (isinstance(obj, NumberFieldElement_quadratic) and
-                obj.parent() is GaussianField()):
+            if isinstance(obj, NumberFieldElement_gaussian):
```
I probably would also add a test that includes `SR(I)` (or `sqrt(-1)`) to make sure that alternative version yields what you want. Other than that, LGTM.



---

archive/issue_comments_556134.json:
```json
{
    "body": "Changing commit from \"1624c4524e64159b8b5a9d3ce788bf587fc41f3d\" to \"0ead4585cdb61bf9e361a833bd5472f5dd18a781\"",
    "created_at": "2021-06-01T06:21:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556134",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1624c4524e64159b8b5a9d3ce788bf587fc41f3d" to "0ead4585cdb61bf9e361a833bd5472f5dd18a781"



---

archive/issue_comments_556135.json:
```json
{
    "body": "<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-01T06:21:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556135",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_556136.json:
```json
{
    "body": "<a id='comment:30'></a>Yes, you are right!  I copied these lines from the generic class `InterfaceInit`, so I applied your suggestion there, too.",
    "created_at": "2021-06-01T06:22:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556136",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:30'></a>Yes, you are right!  I copied these lines from the generic class `InterfaceInit`, so I applied your suggestion there, too.



---

archive/issue_comments_556137.json:
```json
{
    "body": "<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-01T06:30:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556137",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_556138.json:
```json
{
    "body": "Changing commit from \"0ead4585cdb61bf9e361a833bd5472f5dd18a781\" to \"c92aec8046b9060eb6c30d99520430ca2f96745e\"",
    "created_at": "2021-06-01T06:30:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556138",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0ead4585cdb61bf9e361a833bd5472f5dd18a781" to "c92aec8046b9060eb6c30d99520430ca2f96745e"



---

archive/issue_comments_556139.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-06-01T06:33:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556139",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_556140.json:
```json
{
    "body": "<a id='comment:32'></a>Thank you. LGTM.",
    "created_at": "2021-06-01T06:33:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556140",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:32'></a>Thank you. LGTM.



---

archive/issue_comments_556141.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2021-06-01T06:33:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556141",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_events_072142.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-06-07T21:40:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28647#event-72142"
}
```



---

archive/issue_comments_556142.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-06-07T21:40:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556142",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_556143.json:
```json
{
    "body": "Changing branch from \"u/mantepse/conversion_of_symbolic_ring_to_fricas_expression_integer\" to \"c92aec8046b9060eb6c30d99520430ca2f96745e\"",
    "created_at": "2021-06-07T21:40:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28647#issuecomment-556143",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mantepse/conversion_of_symbolic_ring_to_fricas_expression_integer" to "c92aec8046b9060eb6c30d99520430ca2f96745e"
