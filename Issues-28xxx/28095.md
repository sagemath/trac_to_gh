# Issue 28095: Add --enable-OPTIONALSPKG options to configure

archive/issues_027858.json:
```json
{
    "assignees": [],
    "body": "This ticket adds options such as `--enable-lrslib`, `--enable-topcom` for all optional and experimental packages to `configure`. As per `configure --help`:\n\n```\n  ...\n  --enable-lie={no|if_installed|yes}\n                          enable build and use of the experimental package lie\n                          (default: \"if_installed\")\n                          package information: ./sage -info lie\n  --disable-lie           disable build and uninstall if previously installed\n                          by Sage in PREFIX; same as --enable-lie=no\n  ...\n```\n\nSubsequent `make` will then install or uninstall these packages.\n\nThis is an interface alternative to `sage -i OPTIONALSPKG` / `make OPTIONALSPKG` and `make OPTIONALSPKG-clean`.\n\nThis will simplify installations of sage with a list of optional packages. \n\n(This was previously discussed in #21538, which did not clearly enough distinguish this proposal from the topic of using system packages, #27567.)\n\nFollow-up: \n- #29113: Reimplement `sage -i SPKG` as `configure --enable-SPKG && make build`\n\nCC:  @dimpase @embray @saraedum @jhpalmieri\n\nBranch/Commit: **[`4ed7b05`](https://github.com/sagemath/sagetrac-mirror/commit/4ed7b05cb04a291268607425408c3da0738ad94d)**\n\nReviewer: **Dima Pasechnik**\n\nAuthor: **Matthias Koeppe**\n\nComponent: **build: configure**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/28095_\n\n",
    "closed_at": "2020-01-31T23:49:45Z",
    "created_at": "2019-07-01T19:35:54Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build%3A%20configure",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add --enable-OPTIONALSPKG options to configure",
    "type": "issue",
    "updated_at": "2020-01-31T23:49:45Z",
    "url": "https://github.com/sagemath/sage/issues/28095",
    "user": "https://github.com/mkoeppe"
}
```
This ticket adds options such as `--enable-lrslib`, `--enable-topcom` for all optional and experimental packages to `configure`. As per `configure --help`:

```
  ...
  --enable-lie={no|if_installed|yes}
                          enable build and use of the experimental package lie
                          (default: "if_installed")
                          package information: ./sage -info lie
  --disable-lie           disable build and uninstall if previously installed
                          by Sage in PREFIX; same as --enable-lie=no
  ...
```

Subsequent `make` will then install or uninstall these packages.

This is an interface alternative to `sage -i OPTIONALSPKG` / `make OPTIONALSPKG` and `make OPTIONALSPKG-clean`.

This will simplify installations of sage with a list of optional packages. 

(This was previously discussed in #21538, which did not clearly enough distinguish this proposal from the topic of using system packages, #27567.)

Follow-up: 
- #29113: Reimplement `sage -i SPKG` as `configure --enable-SPKG && make build`

CC:  @dimpase @embray @saraedum @jhpalmieri

Branch/Commit: **[`4ed7b05`](https://github.com/sagemath/sagetrac-mirror/commit/4ed7b05cb04a291268607425408c3da0738ad94d)**

Reviewer: **Dima Pasechnik**

Author: **Matthias Koeppe**

Component: **build: configure**

_Issue created by migration from https://trac.sagemath.org/ticket/28095_





---

archive/issue_events_385238.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-07-01T19:35:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28095#event-385238"
}
```



---

archive/issue_events_385239.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-07-01T19:35:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build%3A%20configure",
    "label_color": "000080",
    "label_name": "c: build: configure",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28095#event-385239"
}
```



---

archive/issue_events_385240.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-07-01T19:35:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28095#event-385240"
}
```



---

archive/issue_events_385241.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-07-01T19:35:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28095#event-385241"
}
```



---

archive/issue_comments_437142.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\n+1 that's a good idea.",
    "created_at": "2019-07-02T12:03:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437142",
    "user": "https://github.com/embray"
}
```

<div id="comment:1" align="right">comment:1</div>

+1 that's a good idea.



---

archive/issue_comments_437143.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nIt seems tricky to generate AC_ARG_ENABLE macro invocations for all packages: it would have to be done during `bootstrap` (not sure if we want this), or perhaps using m4 loops (https://www.gnu.org/software/autoconf/manual/autoconf-2.62/html_node/Looping-constructs.html).",
    "created_at": "2019-07-26T16:03:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437143",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2" align="right">comment:2</div>

It seems tricky to generate AC_ARG_ENABLE macro invocations for all packages: it would have to be done during `bootstrap` (not sure if we want this), or perhaps using m4 loops (https://www.gnu.org/software/autoconf/manual/autoconf-2.62/html_node/Looping-constructs.html).



---

archive/issue_comments_437144.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nwell, we do things like collecting spkg-configure.m4 files for each package in ./bootstrap, nothing wrong with doing more at this stage...",
    "created_at": "2019-07-26T18:32:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437144",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:3" align="right">comment:3</div>

well, we do things like collecting spkg-configure.m4 files for each package in ./bootstrap, nothing wrong with doing more at this stage...



---

archive/issue_comments_437145.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nYes, you could do it during bootstrap, in principle.\n\nI have tried in the past to get m4 itself to loop over package directories and generate this stuff (as opposed to the current approach of generating bits of m4 in `./bootstrap`).  And in principle that can work, but other, higher-level tools like automake get terribly confused when you try to do too much weird stuff like this.",
    "created_at": "2019-08-13T08:51:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437145",
    "user": "https://github.com/embray"
}
```

<div id="comment:4" align="right">comment:4</div>

Yes, you could do it during bootstrap, in principle.

I have tried in the past to get m4 itself to loop over package directories and generate this stuff (as opposed to the current approach of generating bits of m4 in `./bootstrap`).  And in principle that can work, but other, higher-level tools like automake get terribly confused when you try to do too much weird stuff like this.



---

archive/issue_events_385242.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28095#event-385242"
}
```



---

archive/issue_events_385243.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28095#event-385243"
}
```



---

archive/issue_comments_437146.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nTicket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437146",
    "user": "https://github.com/embray"
}
```

<div id="comment:5" align="right">comment:5</div>

Ticket retargeted after milestone closed



---

archive/issue_comments_437147.json:
```json
{
    "body": "Branch: **[u/mkoeppe/add___enable_optionalspkg_options_to_configure](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/add___enable_optionalspkg_options_to_configure)**",
    "created_at": "2020-01-22T22:04:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437147",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/add___enable_optionalspkg_options_to_configure](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/add___enable_optionalspkg_options_to_configure)**



---

archive/issue_comments_437148.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf5607e42f491164219c464ce78c260157b403b8\">cf5607e</a></td><td><code>Add configure options '--enable-SPKG', --disable-SPKG' for optional/experimental SPKG</code></td></tr></table>\n",
    "created_at": "2020-01-22T22:08:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437148",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf5607e42f491164219c464ce78c260157b403b8">cf5607e</a></td><td><code>Add configure options '--enable-SPKG', --disable-SPKG' for optional/experimental SPKG</code></td></tr></table>




---

archive/issue_comments_437149.json:
```json
{
    "body": "Commit: **[`cf5607e`](https://github.com/sagemath/sagetrac-mirror/commit/cf5607e42f491164219c464ce78c260157b403b8)**",
    "created_at": "2020-01-22T22:08:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437149",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`cf5607e`](https://github.com/sagemath/sagetrac-mirror/commit/cf5607e42f491164219c464ce78c260157b403b8)**



---

archive/issue_comments_437150.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,15 @@\n-This ticket adds options such as `--enable-lrslib`, `--enable-topcom` for all optional and experimental packages to `configure`. \n+This ticket adds options such as `--enable-lrslib`, `--enable-topcom` for all optional and experimental packages to `configure`. As per `configure --help`:\n+\n+```\n+  ...\n+  --enable-lie={no|if_installed|yes}\n+                          enable build and use of the experimental package lie\n+                          (default: \"if_installed\")\n+                          package information: ./sage -info lie\n+  --disable-lie           disable build and uninstall if previously installed\n+                          by Sage in PREFIX; same as --enable-lie=no\n+  ...\n+```\n \n Subsequent `make` will then install these packages.\n \n``````\n",
    "created_at": "2020-01-22T22:08:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437150",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,15 @@
-This ticket adds options such as `--enable-lrslib`, `--enable-topcom` for all optional and experimental packages to `configure`. 
+This ticket adds options such as `--enable-lrslib`, `--enable-topcom` for all optional and experimental packages to `configure`. As per `configure --help`:
+
+```
+  ...
+  --enable-lie={no|if_installed|yes}
+                          enable build and use of the experimental package lie
+                          (default: "if_installed")
+                          package information: ./sage -info lie
+  --disable-lie           disable build and uninstall if previously installed
+                          by Sage in PREFIX; same as --enable-lie=no
+  ...
+```
 
 Subsequent `make` will then install these packages.
 
``````




---

archive/issue_comments_437151.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nhow is the actual installation of the enabled packages triggered?",
    "created_at": "2020-01-22T22:16:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437151",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:8" align="right">comment:8</div>

how is the actual installation of the enabled packages triggered?



---

archive/issue_comments_437152.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nOh, the ticket is not ready for review. So far there is only a sufficiently pretty interface.",
    "created_at": "2020-01-22T22:44:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437152",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9" align="right">comment:9</div>

Oh, the ticket is not ready for review. So far there is only a sufficiently pretty interface.



---

archive/issue_comments_437153.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e4675d1fa110259361002d3f629e9975adec1dc9\">e4675d1</a></td><td><code>Actually implement --enable-SPKG and --disable-SPKG</code></td></tr></table>\n",
    "created_at": "2020-01-23T01:15:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437153",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e4675d1fa110259361002d3f629e9975adec1dc9">e4675d1</a></td><td><code>Actually implement --enable-SPKG and --disable-SPKG</code></td></tr></table>




---

archive/issue_comments_437154.json:
```json
{
    "body": "Changed commit from **[`cf5607e`](https://github.com/sagemath/sagetrac-mirror/commit/cf5607e42f491164219c464ce78c260157b403b8)** to **[`e4675d1`](https://github.com/sagemath/sagetrac-mirror/commit/e4675d1fa110259361002d3f629e9975adec1dc9)**",
    "created_at": "2020-01-23T01:15:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437154",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cf5607e`](https://github.com/sagemath/sagetrac-mirror/commit/cf5607e42f491164219c464ce78c260157b403b8)** to **[`e4675d1`](https://github.com/sagemath/sagetrac-mirror/commit/e4675d1fa110259361002d3f629e9975adec1dc9)**



---

archive/issue_comments_437155.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nNow it's ready.",
    "created_at": "2020-01-23T01:18:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437155",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:12" align="right">comment:12</div>

Now it's ready.



---

archive/issue_events_385244.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-23T01:18:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28095#event-385244"
}
```



---

archive/issue_comments_437156.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2020-01-23T01:18:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437156",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_437157.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,7 +11,9 @@\n   ...\n ```\n \n-Subsequent `make` will then install these packages.\n+Subsequent `make` will then install or uninstall these packages.\n+\n+This is an interface alternative to `sage -i OPTIONALSPKG` / `make OPTIONALSPKG` and `make OPTIONALSPKG-clean`.\n \n This will simplify installations of sage with a list of optional packages. \n \n``````\n",
    "created_at": "2020-01-23T01:18:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437157",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,7 +11,9 @@
   ...
 ```
 
-Subsequent `make` will then install these packages.
+Subsequent `make` will then install or uninstall these packages.
+
+This is an interface alternative to `sage -i OPTIONALSPKG` / `make OPTIONALSPKG` and `make OPTIONALSPKG-clean`.
 
 This will simplify installations of sage with a list of optional packages. 
 
``````




---

archive/issue_comments_437158.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nAnyone interested in reviewing this?",
    "created_at": "2020-01-30T15:48:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437158",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">comment:14</div>

Anyone interested in reviewing this?



---

archive/issue_comments_437159.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -19,3 +19,5 @@\n \n (This was previously discussed in #21538, which did not clearly enough distinguish this proposal from the topic of using system packages, #27567.)\n \n+Follow-up: \n+- #29113: Reimplement `sage -i SPKG` as `configure --enable-SPKG && make build`\n``````\n",
    "created_at": "2020-01-30T17:50:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437159",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -19,3 +19,5 @@
 
 (This was previously discussed in #21538, which did not clearly enough distinguish this proposal from the topic of using system packages, #27567.)
 
+Follow-up: 
+- #29113: Reimplement `sage -i SPKG` as `configure --enable-SPKG && make build`
``````




---

archive/issue_comments_437160.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2020-01-30T18:33:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437160",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_comments_437161.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nVery nice! It works, but I don't like that ./configure does not output which packages are tagged for installation/deletion.\nCan we have a follow-up ticket on this?\nOtherwise, positive review.",
    "created_at": "2020-01-30T19:42:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437161",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:17" align="right">comment:17</div>

Very nice! It works, but I don't like that ./configure does not output which packages are tagged for installation/deletion.
Can we have a follow-up ticket on this?
Otherwise, positive review.



---

archive/issue_events_385245.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-01-30T19:42:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28095#event-385245"
}
```



---

archive/issue_events_385246.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-01-30T19:42:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28095#event-385246"
}
```



---

archive/issue_events_385247.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-01-30T19:46:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28095#event-385247"
}
```



---

archive/issue_events_385248.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-01-30T19:46:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28095#event-385248"
}
```



---

archive/issue_comments_437162.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nAlso, I don't  understand the difference between `--with-system-gmp=force` and `--enable-gmp`. These appear to conflict each other.",
    "created_at": "2020-01-30T19:46:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437162",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:18" align="right">comment:18</div>

Also, I don't  understand the difference between `--with-system-gmp=force` and `--enable-gmp`. These appear to conflict each other.



---

archive/issue_comments_437163.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@dimpase](#comment:17):\n> Very nice! It works, but I don't like that ./configure does not output which packages are tagged for installation/deletion.\n> Can we have a follow-up ticket on this?\n\nIs #28788 the right place?",
    "created_at": "2020-01-30T19:51:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437163",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@dimpase](#comment:17):
> Very nice! It works, but I don't like that ./configure does not output which packages are tagged for installation/deletion.
> Can we have a follow-up ticket on this?

Is #28788 the right place?



---

archive/issue_comments_437164.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@jhpalmieri](#comment:19):\n> Replying to [@dimpase](#comment:17):\n> > Very nice! It works, but I don't like that ./configure does not output which packages are tagged for installation/deletion.\n> > Can we have a follow-up ticket on this?\n\n> \n> Is #28788 the right place?\n\nYes.",
    "created_at": "2020-01-30T19:54:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437164",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@jhpalmieri](#comment:19):
> Replying to [@dimpase](#comment:17):
> > Very nice! It works, but I don't like that ./configure does not output which packages are tagged for installation/deletion.
> > Can we have a follow-up ticket on this?

> 
> Is #28788 the right place?

Yes.



---

archive/issue_comments_437165.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@dimpase](#comment:18):\n> Also, I don't  understand the difference between `--with-system-gmp=force` and `--enable-gmp`. These appear to conflict each other.\n\nThat's caused by another misclassification, for historical reasons, of package types (like the one for `gfortran` fixed in #29053).\n\n```\n$ cat build/pkgs/gmp/type \noptional\n$ cat build/pkgs/mpir/type \noptional\n```\nThese should actually be `standard` - they are mutually exclusive standard packages.",
    "created_at": "2020-01-30T20:01:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437165",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@dimpase](#comment:18):
> Also, I don't  understand the difference between `--with-system-gmp=force` and `--enable-gmp`. These appear to conflict each other.

That's caused by another misclassification, for historical reasons, of package types (like the one for `gfortran` fixed in #29053).

```
$ cat build/pkgs/gmp/type 
optional
$ cat build/pkgs/mpir/type 
optional
```
These should actually be `standard` - they are mutually exclusive standard packages.



---

archive/issue_comments_437166.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nFix on this ticket or follow up?",
    "created_at": "2020-01-30T20:02:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437166",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:22" align="right">comment:22</div>

Fix on this ticket or follow up?



---

archive/issue_comments_437167.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nhere, I guess.\n\nIt would be good to check that this change in the package types won't cause broken builds, with both gmp and mpir getting installed...",
    "created_at": "2020-01-30T20:10:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437167",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:23" align="right">comment:23</div>

here, I guess.

It would be good to check that this change in the package types won't cause broken builds, with both gmp and mpir getting installed...



---

archive/issue_comments_437168.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a3e0e47f3159b1410af901a4a50573cafffd2fe1\">a3e0e47</a></td><td><code>Change type of gmp, mpir to 'standard' (they are mutually exclusive standard packages)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4ed7b05cb04a291268607425408c3da0738ad94d\">4ed7b05</a></td><td><code>Fix indentation of '--with-mp=' options in configure --help</code></td></tr></table>\n",
    "created_at": "2020-01-30T20:45:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437168",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a3e0e47f3159b1410af901a4a50573cafffd2fe1">a3e0e47</a></td><td><code>Change type of gmp, mpir to 'standard' (they are mutually exclusive standard packages)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4ed7b05cb04a291268607425408c3da0738ad94d">4ed7b05</a></td><td><code>Fix indentation of '--with-mp=' options in configure --help</code></td></tr></table>




---

archive/issue_comments_437169.json:
```json
{
    "body": "Changed commit from **[`e4675d1`](https://github.com/sagemath/sagetrac-mirror/commit/e4675d1fa110259361002d3f629e9975adec1dc9)** to **[`4ed7b05`](https://github.com/sagemath/sagetrac-mirror/commit/4ed7b05cb04a291268607425408c3da0738ad94d)**",
    "created_at": "2020-01-30T20:45:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437169",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e4675d1`](https://github.com/sagemath/sagetrac-mirror/commit/e4675d1fa110259361002d3f629e9975adec1dc9)** to **[`4ed7b05`](https://github.com/sagemath/sagetrac-mirror/commit/4ed7b05cb04a291268607425408c3da0738ad94d)**



---

archive/issue_events_385249.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-30T20:46:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28095#event-385249"
}
```



---

archive/issue_events_385250.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-01-30T20:46:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28095#event-385250"
}
```



---

archive/issue_comments_437170.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nDone. Works for me",
    "created_at": "2020-01-30T20:46:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437170",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">comment:25</div>

Done. Works for me



---

archive/issue_events_385251.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-01-30T21:49:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28095#event-385251"
}
```



---

archive/issue_events_385252.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-01-30T21:49:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28095#event-385252"
}
```



---

archive/issue_comments_437171.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nThanks for reviewing!",
    "created_at": "2020-01-30T22:35:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437171",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:27" align="right">comment:27</div>

Thanks for reviewing!



---

archive/issue_comments_437172.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nInteresting, I didn't know this syntax:\n\n```\n+OPTIONAL_CLEANED_PACKAGES_CLEANS = $(OPTIONAL_CLEANED_PACKAGES:%=%-clean)\n```\n\n+1 from me.  This is an idea that had crossed my mind before but I wasn't really sure how to go about it.  Thanks!",
    "created_at": "2020-01-31T11:40:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437172",
    "user": "https://github.com/embray"
}
```

<div id="comment:28" align="right">comment:28</div>

Interesting, I didn't know this syntax:

```
+OPTIONAL_CLEANED_PACKAGES_CLEANS = $(OPTIONAL_CLEANED_PACKAGES:%=%-clean)
```

+1 from me.  This is an idea that had crossed my mind before but I wasn't really sure how to go about it.  Thanks!



---

archive/issue_comments_437173.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@mkoeppe](#comment:21):\n> Replying to [@dimpase](#comment:18):\n> > Also, I don't  understand the difference between `--with-system-gmp=force` and `--enable-gmp`. These appear to conflict each other.\n\n> That's caused by another misclassification, for historical reasons, of package types (like the one for `gfortran` fixed in #29053).\n> \n> ```\n> $ cat build/pkgs/gmp/type \n> optional\n> $ cat build/pkgs/mpir/type \n> optional\n> ```\n> These should actually be `standard` - they are mutually exclusive standard packages.\n\nThis has always annoyed me too.  I tried to fix it a while ago but I think my approach to the problem was too complicated at the time.  I think now we have a better solution.",
    "created_at": "2020-01-31T11:40:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437173",
    "user": "https://github.com/embray"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@mkoeppe](#comment:21):
> Replying to [@dimpase](#comment:18):
> > Also, I don't  understand the difference between `--with-system-gmp=force` and `--enable-gmp`. These appear to conflict each other.

> That's caused by another misclassification, for historical reasons, of package types (like the one for `gfortran` fixed in #29053).
> 
> ```
> $ cat build/pkgs/gmp/type 
> optional
> $ cat build/pkgs/mpir/type 
> optional
> ```
> These should actually be `standard` - they are mutually exclusive standard packages.

This has always annoyed me too.  I tried to fix it a while ago but I think my approach to the problem was too complicated at the time.  I think now we have a better solution.



---

archive/issue_events_385253.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-01-31T23:49:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28095#event-385253"
}
```



---

archive/issue_events_385254.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "4d21d4f613bf610e569d12d5b73d6fc4ec52be0b",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-01-31T23:49:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28095#event-385254"
}
```



---

archive/issue_comments_437174.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/add___enable_optionalspkg_options_to_configure](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/add___enable_optionalspkg_options_to_configure)** to **[`4ed7b05`](https://github.com/sagemath/sagetrac-mirror/commit/4ed7b05cb04a291268607425408c3da0738ad94d)**",
    "created_at": "2020-01-31T23:49:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28095",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28095#issuecomment-437174",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/add___enable_optionalspkg_options_to_configure](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/add___enable_optionalspkg_options_to_configure)** to **[`4ed7b05`](https://github.com/sagemath/sagetrac-mirror/commit/4ed7b05cb04a291268607425408c3da0738ad94d)**
