# Issue 28890: Install fewer static libraries

archive/issues_028653.json:
```json
{
    "assignees": [],
    "body": "As pointed out [on sage-devel](https://groups.google.com/d/msg/sage-devel/ON2MC0n2iUE/Qt4axoa0AQAJ), by default many SPKGs install static libraries in addition to their associated dynamic libs.\n\nI usually ignored this as harmless, but as Marc pointed out, some of them are quite large, especially libgiac.a.  Almost none of these are actually needed either at build or runtime and do not need to be installed by default in SAGE_LOCAL.\n\nI think by default we should configure the relevant packages to *not* install static libs, or remove them manually if the packages' build system installs them forcibly.  This could be overridden with `<PKGNAME>_CONFIGURE` variables if someone needs the static lib for some reason.\n\nAt least the following packages are installing static libs\n\n```\n$ for f in local/var/lib/sage/installed/*; do if grep '\\.a\\\"' \"$f\" > /dev/null; then echo \"$f\" | cut -d'/' -f6; fi; done\ncddlib-0.94j\ncliquer-1.21.p4\ne_antic-0.1.3\necl-16.1.2.p5\neclib-20190909\necm-7.0.4.p1\nfplll-5.2.1\nfreetype-2.9.1\ngap-4.10.2.p1\ngc-7.6.4.p0\ngf2x-1.2.p0\ngiac-1.5.0.63.p0\ngivaro-4.1.1\ngsl-2.5\niml-1.0.4p1.p2\nlibatomic_ops-7.6.2\nlibgd-2.1.1.1.p1\nlibpng-1.6.29.p1\nlrcalc-1.2.p1\nmpc-1.1.0\nmpfi-1.5.2\nmpfr-4.0.1.p0\nmpir-3.0.0-644faf502c56f97d9accd301965fc57d6ec70868.p0\nncurses-6.0.p0\nnormaliz-3.7.2\nntl-11.3.2\nnumpy-1.16.1\npari-2.11.1.p2\nplanarity-3.0.0.5.p0\nppl-1.2.p1\npython2-2.7.15.p1\npython3-3.7.3.p1\nratpoints-2.1.3.p5\nrw-0.7.p0\nsingular-4.1.1p2.p0\nsqlite-3290000\nsymmetrica-2.0.p11\nyasm-1.3.0.p0\nzeromq-4.2.5\nzlib-1.2.11.p0\n```\n\nIn at least a few cases, like `libatomic_ops`, I believe this is intentional.  But in most cases it is probably unnecessary.\n\nAdditional notes:\n\n* cliquer: it already passes `--disable-static` but it installs a test file into `share/` which happens to end with `.a` but is not a static lib as far as I can tell.\n\n* ecl: The `.a` modules installed with ECL seem to be pretty baked into its build process and I'm not sure if there's an easy way to omit them or if it's even desirable to.\n\n* ecm: apparently we deliberately build it as a static lib by default; not sure why.  Need to investigate (performance reasons?)\n\n* gap: The SmallGrp package also installs some \".a\" file that are not static libs; otherwise GAP is not installing any static libs (some things in gap_packages might but I haven't checked yet).\n\n* mpir: mpir/gmp is linked statically for at least some libraries such as ECM, and possibly some others (GP?).\n\n* ntl: NTL's build system makes static library installation pretty mandatory--I don't know if there's any good reason for that or not, so for now we can just leave it alone.\n\n* python2/3: The static lib installation (performed by the `libainstall` make target) is a part of Python's standard installation process and more trouble to remove than it's worth, although I don't think we explicitly need it for anything.\n\n* ratpoints: Has only ever supported being built as a static library, and is statically linked into Sage's ratpoints interface.\n\n* yasm: If I understand correctly, libyasm contains some special support functions and is intended to be linked statically.\n\nAssignee: **@embray**\n\nCC:  @mezzarobba @dimpase @orlitzky @jhpalmieri @videlec\n\nKeywords: **static**\n\nBranch/Commit: **[c8ccab6](https://github.com/sagemath/sagetrac-mirror/commit/c8ccab680254f106ecaf1ce97393492b13813c23)**\n\nReviewer: **Marc Mezzarobba, John Palmieri**\n\nAuthor: **Erik Bray, Matthias Koeppe**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/28890_\n\n",
    "closed_at": "2021-06-06T13:19:31Z",
    "created_at": "2019-12-16T13:44:32Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20build",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Install fewer static libraries",
    "type": "issue",
    "updated_at": "2021-06-06T13:19:31Z",
    "url": "https://github.com/sagemath/sage/issues/28890",
    "user": "https://github.com/embray"
}
```
As pointed out [on sage-devel](https://groups.google.com/d/msg/sage-devel/ON2MC0n2iUE/Qt4axoa0AQAJ), by default many SPKGs install static libraries in addition to their associated dynamic libs.

I usually ignored this as harmless, but as Marc pointed out, some of them are quite large, especially libgiac.a.  Almost none of these are actually needed either at build or runtime and do not need to be installed by default in SAGE_LOCAL.

I think by default we should configure the relevant packages to *not* install static libs, or remove them manually if the packages' build system installs them forcibly.  This could be overridden with `<PKGNAME>_CONFIGURE` variables if someone needs the static lib for some reason.

At least the following packages are installing static libs

```
$ for f in local/var/lib/sage/installed/*; do if grep '\.a\"' "$f" > /dev/null; then echo "$f" | cut -d'/' -f6; fi; done
cddlib-0.94j
cliquer-1.21.p4
e_antic-0.1.3
ecl-16.1.2.p5
eclib-20190909
ecm-7.0.4.p1
fplll-5.2.1
freetype-2.9.1
gap-4.10.2.p1
gc-7.6.4.p0
gf2x-1.2.p0
giac-1.5.0.63.p0
givaro-4.1.1
gsl-2.5
iml-1.0.4p1.p2
libatomic_ops-7.6.2
libgd-2.1.1.1.p1
libpng-1.6.29.p1
lrcalc-1.2.p1
mpc-1.1.0
mpfi-1.5.2
mpfr-4.0.1.p0
mpir-3.0.0-644faf502c56f97d9accd301965fc57d6ec70868.p0
ncurses-6.0.p0
normaliz-3.7.2
ntl-11.3.2
numpy-1.16.1
pari-2.11.1.p2
planarity-3.0.0.5.p0
ppl-1.2.p1
python2-2.7.15.p1
python3-3.7.3.p1
ratpoints-2.1.3.p5
rw-0.7.p0
singular-4.1.1p2.p0
sqlite-3290000
symmetrica-2.0.p11
yasm-1.3.0.p0
zeromq-4.2.5
zlib-1.2.11.p0
```

In at least a few cases, like `libatomic_ops`, I believe this is intentional.  But in most cases it is probably unnecessary.

Additional notes:

* cliquer: it already passes `--disable-static` but it installs a test file into `share/` which happens to end with `.a` but is not a static lib as far as I can tell.

* ecl: The `.a` modules installed with ECL seem to be pretty baked into its build process and I'm not sure if there's an easy way to omit them or if it's even desirable to.

* ecm: apparently we deliberately build it as a static lib by default; not sure why.  Need to investigate (performance reasons?)

* gap: The SmallGrp package also installs some ".a" file that are not static libs; otherwise GAP is not installing any static libs (some things in gap_packages might but I haven't checked yet).

* mpir: mpir/gmp is linked statically for at least some libraries such as ECM, and possibly some others (GP?).

* ntl: NTL's build system makes static library installation pretty mandatory--I don't know if there's any good reason for that or not, so for now we can just leave it alone.

* python2/3: The static lib installation (performed by the `libainstall` make target) is a part of Python's standard installation process and more trouble to remove than it's worth, although I don't think we explicitly need it for anything.

* ratpoints: Has only ever supported being built as a static library, and is statically linked into Sage's ratpoints interface.

* yasm: If I understand correctly, libyasm contains some special support functions and is intended to be linked statically.

Assignee: **@embray**

CC:  @mezzarobba @dimpase @orlitzky @jhpalmieri @videlec

Keywords: **static**

Branch/Commit: **[c8ccab6](https://github.com/sagemath/sagetrac-mirror/commit/c8ccab680254f106ecaf1ce97393492b13813c23)**

Reviewer: **Marc Mezzarobba, John Palmieri**

Author: **Erik Bray, Matthias Koeppe**

_Issue created by migration from https://trac.sagemath.org/ticket/28890_





---

archive/issue_events_378669.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-16T13:44:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "milestone_number": null,
    "milestone_title": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378669"
}
```



---

archive/issue_events_378670.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-16T13:44:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20build",
    "label_color": "000080",
    "label_name": "component: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378670"
}
```



---

archive/issue_events_378671.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-16T13:44:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378671"
}
```



---

archive/issue_comments_453866.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,3 +3,51 @@\n I usually ignored this as harmless, but as Marc pointed out, some of them are quite large, especially libgiac.a.  Almost none of these are actually needed either at build or runtime and do not need to be installed by default in SAGE_LOCAL.\n \n I think by default we should configure the relevant packages to *not* install static libs, or remove them manually if the packages' build system installs them forcibly.  This could be overridden with `<PKGNAME>_CONFIGURE` variables if someone needs the static lib for some reason.\n+\n+At least the following packages are installing static libs\n+\n+```\n+$ for f in local/var/lib/sage/installed/*; do if grep '\\.a\\\"' \"$f\" > /dev/null; then echo \"$f\" | cut -d'/' -f6; fi; done\n+cddlib-0.94j\n+cliquer-1.21.p4\n+e_antic-0.1.3\n+ecl-16.1.2.p5\n+eclib-20190909\n+ecm-7.0.4.p1\n+fplll-5.2.1\n+freetype-2.9.1\n+gap-4.10.2.p1\n+gc-7.6.4.p0\n+gf2x-1.2.p0\n+giac-1.5.0.63.p0\n+givaro-4.1.1\n+gsl-2.5\n+iml-1.0.4p1.p2\n+libatomic_ops-7.6.2\n+libgd-2.1.1.1.p1\n+libpng-1.6.29.p1\n+lrcalc-1.2.p1\n+mpc-1.1.0\n+mpfi-1.5.2\n+mpfr-4.0.1.p0\n+mpir-3.0.0-644faf502c56f97d9accd301965fc57d6ec70868.p0\n+ncurses-6.0.p0\n+normaliz-3.7.2\n+ntl-11.3.2\n+numpy-1.16.1\n+pari-2.11.1.p2\n+planarity-3.0.0.5.p0\n+ppl-1.2.p1\n+python2-2.7.15.p1\n+python3-3.7.3.p1\n+ratpoints-2.1.3.p5\n+rw-0.7.p0\n+singular-4.1.1p2.p0\n+sqlite-3290000\n+symmetrica-2.0.p11\n+yasm-1.3.0.p0\n+zeromq-4.2.5\n+zlib-1.2.11.p0\n+```\n+\n+In at least a few cases, like `libatomic_ops`, I believe this is intentional.  But in most cases it is probably unnecessary.\n``````\n",
    "created_at": "2019-12-16T13:56:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453866",
    "user": "https://github.com/embray"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,3 +3,51 @@
 I usually ignored this as harmless, but as Marc pointed out, some of them are quite large, especially libgiac.a.  Almost none of these are actually needed either at build or runtime and do not need to be installed by default in SAGE_LOCAL.
 
 I think by default we should configure the relevant packages to *not* install static libs, or remove them manually if the packages' build system installs them forcibly.  This could be overridden with `<PKGNAME>_CONFIGURE` variables if someone needs the static lib for some reason.
+
+At least the following packages are installing static libs
+
+```
+$ for f in local/var/lib/sage/installed/*; do if grep '\.a\"' "$f" > /dev/null; then echo "$f" | cut -d'/' -f6; fi; done
+cddlib-0.94j
+cliquer-1.21.p4
+e_antic-0.1.3
+ecl-16.1.2.p5
+eclib-20190909
+ecm-7.0.4.p1
+fplll-5.2.1
+freetype-2.9.1
+gap-4.10.2.p1
+gc-7.6.4.p0
+gf2x-1.2.p0
+giac-1.5.0.63.p0
+givaro-4.1.1
+gsl-2.5
+iml-1.0.4p1.p2
+libatomic_ops-7.6.2
+libgd-2.1.1.1.p1
+libpng-1.6.29.p1
+lrcalc-1.2.p1
+mpc-1.1.0
+mpfi-1.5.2
+mpfr-4.0.1.p0
+mpir-3.0.0-644faf502c56f97d9accd301965fc57d6ec70868.p0
+ncurses-6.0.p0
+normaliz-3.7.2
+ntl-11.3.2
+numpy-1.16.1
+pari-2.11.1.p2
+planarity-3.0.0.5.p0
+ppl-1.2.p1
+python2-2.7.15.p1
+python3-3.7.3.p1
+ratpoints-2.1.3.p5
+rw-0.7.p0
+singular-4.1.1p2.p0
+sqlite-3290000
+symmetrica-2.0.p11
+yasm-1.3.0.p0
+zeromq-4.2.5
+zlib-1.2.11.p0
+```
+
+In at least a few cases, like `libatomic_ops`, I believe this is intentional.  But in most cases it is probably unnecessary.
``````




---

archive/issue_comments_453867.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -51,3 +51,11 @@\n ```\n \n In at least a few cases, like `libatomic_ops`, I believe this is intentional.  But in most cases it is probably unnecessary.\n+\n+Additional notes:\n+\n+* cliquer: it already passes `--disable-static` but it installs a test file into `share/` which happens to end with `.a` but is not a static lib as far as I can tell.\n+\n+* ecm: apparently we deliberately build it as a static lib by default; not sure why.  Need to investigate (performance reasons?)\n+\n+* gap: The SmallGrp package also installs some \".a\" file that are not static libs; otherwise GAP is not installing any static libs (some things in gap_packages might but I haven't checked yet).\n``````\n",
    "created_at": "2019-12-16T16:06:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453867",
    "user": "https://github.com/embray"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -51,3 +51,11 @@
 ```
 
 In at least a few cases, like `libatomic_ops`, I believe this is intentional.  But in most cases it is probably unnecessary.
+
+Additional notes:
+
+* cliquer: it already passes `--disable-static` but it installs a test file into `share/` which happens to end with `.a` but is not a static lib as far as I can tell.
+
+* ecm: apparently we deliberately build it as a static lib by default; not sure why.  Need to investigate (performance reasons?)
+
+* gap: The SmallGrp package also installs some ".a" file that are not static libs; otherwise GAP is not installing any static libs (some things in gap_packages might but I haven't checked yet).
``````




---

archive/issue_comments_453868.json:
```json
{
    "body": "Description changed:\n``````diff\n\n``````\n",
    "created_at": "2019-12-16T17:43:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453868",
    "user": "https://github.com/embray"
}
```

Description changed:
``````diff

``````




---

archive/issue_comments_453869.json:
```json
{
    "body": "Commit: **[f773cd4](https://github.com/sagemath/sagetrac-mirror/commit/f773cd4a4ef33c490163f66ddda6a36d1ac75809)**",
    "created_at": "2019-12-16T17:43:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453869",
    "user": "https://github.com/embray"
}
```

Commit: **[f773cd4](https://github.com/sagemath/sagetrac-mirror/commit/f773cd4a4ef33c490163f66ddda6a36d1ac75809)**



---

archive/issue_comments_453870.json:
```json
{
    "body": "Author: **Erik Bray**",
    "created_at": "2019-12-16T17:43:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453870",
    "user": "https://github.com/embray"
}
```

Author: **Erik Bray**



---

archive/issue_comments_453871.json:
```json
{
    "body": "Branch: **[u/embray/ticket-28890](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/ticket-28890)**",
    "created_at": "2019-12-16T17:43:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453871",
    "user": "https://github.com/embray"
}
```

Branch: **[u/embray/ticket-28890](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/ticket-28890)**



---

archive/issue_comments_453872.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nPassing `--disable-static` to all autoconf-compatible packages by default takes care of most of them, narrowing the list down to:\n\n```\necl-16.1.2.p5\necm-7.0.4.p1\nlibatomic_ops-7.6.2\nmpir-3.0.0-644faf502c56f97d9accd301965fc57d6ec70868.p0\nntl-11.3.2\nnumpy-1.16.1\npari-2.11.1.p2\npython2-2.7.15.p1\npython3-3.7.3.p1\nratpoints-2.1.3.p5\nsymmetrica-2.0.p11\nyasm-1.3.0.p0\n```\n\nLeft libatomic_ops static since I think gc likes to link to it statically for performance reasons, but I need to double-check that it's actually doing that.\n\nThe rest I'm not sure about yet.  \n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f773cd4a4ef33c490163f66ddda6a36d1ac75809\">f773cd4</a></td><td><code>Trac #28890: Pass --disable-static to autoconf packages by default.</code></td></tr></table>\n",
    "created_at": "2019-12-16T17:43:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453872",
    "user": "https://github.com/embray"
}
```

<div id="comment:3" align="right">Comment 3</div>

Passing `--disable-static` to all autoconf-compatible packages by default takes care of most of them, narrowing the list down to:

```
ecl-16.1.2.p5
ecm-7.0.4.p1
libatomic_ops-7.6.2
mpir-3.0.0-644faf502c56f97d9accd301965fc57d6ec70868.p0
ntl-11.3.2
numpy-1.16.1
pari-2.11.1.p2
python2-2.7.15.p1
python3-3.7.3.p1
ratpoints-2.1.3.p5
symmetrica-2.0.p11
yasm-1.3.0.p0
```

Left libatomic_ops static since I think gc likes to link to it statically for performance reasons, but I need to double-check that it's actually doing that.

The rest I'm not sure about yet.  

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f773cd4a4ef33c490163f66ddda6a36d1ac75809">f773cd4</a></td><td><code>Trac #28890: Pass --disable-static to autoconf packages by default.</code></td></tr></table>




---

archive/issue_comments_453873.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nOK, let me run tests...",
    "created_at": "2019-12-16T17:55:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453873",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:4" align="right">Comment 4</div>

OK, let me run tests...



---

archive/issue_comments_453874.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nthe branch looks good, do you want it to be reviewed?",
    "created_at": "2019-12-16T23:55:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453874",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:5" align="right">Comment 5</div>

the branch looks good, do you want it to be reviewed?



---

archive/issue_comments_453875.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nThanks a lot for taking care of that. (You are crossing an item off the depths of my todo-list!)\n\nI just rebuilt sage from scratch with this branch. With standard packages only and using system packages when possible, the remaining static libraries are\n\n```\n107M    ./local/lib/libpari.a\n48M     ./local/lib/libsymmetrica.a\n31M     ./local/lib/python3.7/config-3.7m-x86_64-linux-gnu/libpython3.7m.a\n7,7M    ./local/lib/ecl-16.1.2/libcmp.a\n7,5M    ./local/lib/libbraiding.a\n5,4M    ./local/lib/libyasm.a\n4,5M    ./local/lib/ecl-16.1.2/libasdf.a\n3,1M    ./local/lib/libecm.a\n880K    ./local/lib/ecl-16.1.2/libdefsystem.a\n564K    ./local/lib/ecl-16.1.2/libdeflate.a\n448K    ./local/lib/ecl-16.1.2/libsockets.a\n372K    ./local/lib/python3.7/site-packages/numpy/core/lib/libnpymath.a\n232K    ./local/lib/ecl-16.1.2/libecl-help.a\n200K    ./local/lib/ecl-16.1.2/libprofile.a\n184K    ./local/lib/ecl-16.1.2/librt.a\n176K    ./local/lib/libratpoints.a\n172K    ./local/lib/libhomfly.a\n172K    ./local/lib/ecl-16.1.2/libecl-cdb.a\n140K    ./local/lib/ecl-16.1.2/libecl-curl.a\n132K    ./local/lib/ecl-16.1.2/libserve-event.a\n132K    ./local/lib/ecl-16.1.2/libql-minitar.a\n96K     ./local/lib/ecl-16.1.2/libecl-quicklisp.a\n72K     ./local/lib/ecl-16.1.2/libsb-bsd-sockets.a\n32K     ./local/lib/libatomic_ops_gpl.a\n24K     ./local/lib/libatomic_ops.a\n```\nSo most of the large ones are gone, and those that remain may have a good reason to be there. Like Dima, I'm ready to give this branch positive review if you want.",
    "created_at": "2019-12-17T09:09:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453875",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:6" align="right">Comment 6</div>

Thanks a lot for taking care of that. (You are crossing an item off the depths of my todo-list!)

I just rebuilt sage from scratch with this branch. With standard packages only and using system packages when possible, the remaining static libraries are

```
107M    ./local/lib/libpari.a
48M     ./local/lib/libsymmetrica.a
31M     ./local/lib/python3.7/config-3.7m-x86_64-linux-gnu/libpython3.7m.a
7,7M    ./local/lib/ecl-16.1.2/libcmp.a
7,5M    ./local/lib/libbraiding.a
5,4M    ./local/lib/libyasm.a
4,5M    ./local/lib/ecl-16.1.2/libasdf.a
3,1M    ./local/lib/libecm.a
880K    ./local/lib/ecl-16.1.2/libdefsystem.a
564K    ./local/lib/ecl-16.1.2/libdeflate.a
448K    ./local/lib/ecl-16.1.2/libsockets.a
372K    ./local/lib/python3.7/site-packages/numpy/core/lib/libnpymath.a
232K    ./local/lib/ecl-16.1.2/libecl-help.a
200K    ./local/lib/ecl-16.1.2/libprofile.a
184K    ./local/lib/ecl-16.1.2/librt.a
176K    ./local/lib/libratpoints.a
172K    ./local/lib/libhomfly.a
172K    ./local/lib/ecl-16.1.2/libecl-cdb.a
140K    ./local/lib/ecl-16.1.2/libecl-curl.a
132K    ./local/lib/ecl-16.1.2/libserve-event.a
132K    ./local/lib/ecl-16.1.2/libql-minitar.a
96K     ./local/lib/ecl-16.1.2/libecl-quicklisp.a
72K     ./local/lib/ecl-16.1.2/libsb-bsd-sockets.a
32K     ./local/lib/libatomic_ops_gpl.a
24K     ./local/lib/libatomic_ops.a
```
So most of the large ones are gone, and those that remain may have a good reason to be there. Like Dima, I'm ready to give this branch positive review if you want.



---

archive/issue_comments_453876.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nI want to have a look at a few of the remaining libs.  Also, I got a few test failures with this branch, but I don't know if they're at all related (shouldn't be...)",
    "created_at": "2019-12-17T12:48:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453876",
    "user": "https://github.com/embray"
}
```

<div id="comment:7" align="right">Comment 7</div>

I want to have a look at a few of the remaining libs.  Also, I got a few test failures with this branch, but I don't know if they're at all related (shouldn't be...)



---

archive/issue_comments_453877.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nReplying to [@embray](#comment%3A7):\n> Also, I got a few test failures with this branch, but I don't know if they're at all related (shouldn't be...)\n\nThey weren't related.  It was the problem that #28289 is intended to fix.  Turns out my develop branch was a little behind.",
    "created_at": "2019-12-17T12:53:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453877",
    "user": "https://github.com/embray"
}
```

<div id="comment:8" align="right">Comment 8</div>

Replying to [@embray](#comment%3A7):
> Also, I got a few test failures with this branch, but I don't know if they're at all related (shouldn't be...)

They weren't related.  It was the problem that #28289 is intended to fix.  Turns out my develop branch was a little behind.



---

archive/issue_comments_453878.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nSince we are apparently already moving 9.0 towards a release candidate, this will probably have to wait a bit.",
    "created_at": "2019-12-30T14:45:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453878",
    "user": "https://github.com/embray"
}
```

<div id="comment:9" align="right">Comment 9</div>

Since we are apparently already moving 9.0 towards a release candidate, this will probably have to wait a bit.



---

archive/issue_events_378672.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:45:18Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "milestone_number": null,
    "milestone_title": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378672"
}
```



---

archive/issue_events_378673.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:45:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378673"
}
```



---

archive/issue_comments_453879.json:
```json
{
    "body": "Changed commit from **[f773cd4](https://github.com/sagemath/sagetrac-mirror/commit/f773cd4a4ef33c490163f66ddda6a36d1ac75809)** to **[f99562a](https://github.com/sagemath/sagetrac-mirror/commit/f99562a453728f08743ce3572a5bb20971e51659)**",
    "created_at": "2019-12-30T15:12:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453879",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f773cd4](https://github.com/sagemath/sagetrac-mirror/commit/f773cd4a4ef33c490163f66ddda6a36d1ac75809)** to **[f99562a](https://github.com/sagemath/sagetrac-mirror/commit/f99562a453728f08743ce3572a5bb20971e51659)**



---

archive/issue_comments_453880.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a8cb064f877b2c617404db0a425c26f8f787c70d\">a8cb064</a></td><td><code>Trac #28890: Pass --disable-static to autoconf packages by default.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f99562a453728f08743ce3572a5bb20971e51659\">f99562a</a></td><td><code>Trac #28890: Don't install PARI's static library.</code></td></tr></table>\n",
    "created_at": "2019-12-30T15:12:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453880",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10" align="right">Comment 10</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a8cb064f877b2c617404db0a425c26f8f787c70d">a8cb064</a></td><td><code>Trac #28890: Pass --disable-static to autoconf packages by default.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f99562a453728f08743ce3572a5bb20971e51659">f99562a</a></td><td><code>Trac #28890: Don't install PARI's static library.</code></td></tr></table>




---

archive/issue_comments_453881.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nUpdated to remove libpari.a.  Apparently we had been explicitly installing it pretty much forever, so I couldn't find a clear record of *why*, but I don't think there's any need for it currently.\n\nMy only concern here is there no easy way (since it is not a flag that can be passed to PARI_CONFIGURE) to force installation of the static lib.  But if someone asks for it for some reason it can be added later.",
    "created_at": "2019-12-30T15:14:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453881",
    "user": "https://github.com/embray"
}
```

<div id="comment:11" align="right">Comment 11</div>

Updated to remove libpari.a.  Apparently we had been explicitly installing it pretty much forever, so I couldn't find a clear record of *why*, but I don't think there's any need for it currently.

My only concern here is there no easy way (since it is not a flag that can be passed to PARI_CONFIGURE) to force installation of the static lib.  But if someone asks for it for some reason it can be added later.



---

archive/issue_comments_453882.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nReplying to [@embray](#comment%3A11):\n> Updated to remove libpari.a.  Apparently we had been explicitly installing it pretty much forever, so I couldn't find a clear record of *why*, but I don't think there's any need for it currently.\n> \n\npari/gp upstream claims that statically linked gp is faster than dynamically linked one.",
    "created_at": "2019-12-30T15:20:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453882",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:12" align="right">Comment 12</div>

Replying to [@embray](#comment%3A11):
> Updated to remove libpari.a.  Apparently we had been explicitly installing it pretty much forever, so I couldn't find a clear record of *why*, but I don't think there's any need for it currently.
> 

pari/gp upstream claims that statically linked gp is faster than dynamically linked one.



---

archive/issue_comments_453883.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -59,3 +59,5 @@\n * ecm: apparently we deliberately build it as a static lib by default; not sure why.  Need to investigate (performance reasons?)\n \n * gap: The SmallGrp package also installs some \".a\" file that are not static libs; otherwise GAP is not installing any static libs (some things in gap_packages might but I haven't checked yet).\n+\n+* symmetrica: Only built as a static library and linked statically into Sage's symmetrica module; it's not used anywhere else at the moment so this is fine for now.  There has been discussion about taking over maintenance of symmetrica and updating its build system, so this can be looked into more as a separate issue.\n``````\n",
    "created_at": "2019-12-30T15:23:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453883",
    "user": "https://github.com/embray"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -59,3 +59,5 @@
 * ecm: apparently we deliberately build it as a static lib by default; not sure why.  Need to investigate (performance reasons?)
 
 * gap: The SmallGrp package also installs some ".a" file that are not static libs; otherwise GAP is not installing any static libs (some things in gap_packages might but I haven't checked yet).
+
+* symmetrica: Only built as a static library and linked statically into Sage's symmetrica module; it's not used anywhere else at the moment so this is fine for now.  There has been discussion about taking over maintenance of symmetrica and updating its build system, so this can be looked into more as a separate issue.
``````




---

archive/issue_comments_453884.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nReplying to [@dimpase](#comment%3A12):\n> Replying to [@embray](#comment%3A11):\n> > Updated to remove libpari.a.  Apparently we had been explicitly installing it pretty much forever, so I couldn't find a clear record of *why*, but I don't think there's any need for it currently.\n> > \n\n> \n> pari/gp upstream claims that statically linked gp is faster than dynamically linked one.\n\nIf so, it appears we are already *not* doing this, though we could.  Regardless, this can be done during PARI/GP build: there is no need to install the static lib after the fact.",
    "created_at": "2019-12-30T15:28:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453884",
    "user": "https://github.com/embray"
}
```

<div id="comment:14" align="right">Comment 14</div>

Replying to [@dimpase](#comment%3A12):
> Replying to [@embray](#comment%3A11):
> > Updated to remove libpari.a.  Apparently we had been explicitly installing it pretty much forever, so I couldn't find a clear record of *why*, but I don't think there's any need for it currently.
> > 

> 
> pari/gp upstream claims that statically linked gp is faster than dynamically linked one.

If so, it appears we are already *not* doing this, though we could.  Regardless, this can be done during PARI/GP build: there is no need to install the static lib after the fact.



---

archive/issue_comments_453885.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -60,4 +60,6 @@\n \n * gap: The SmallGrp package also installs some \".a\" file that are not static libs; otherwise GAP is not installing any static libs (some things in gap_packages might but I haven't checked yet).\n \n+* python2/3: The static lib installation (performed by the `libainstall` make target) is a part of Python's standard installation process and more trouble to remove than it's worth, although I don't think we explicitly need it for anything.\n+\n * symmetrica: Only built as a static library and linked statically into Sage's symmetrica module; it's not used anywhere else at the moment so this is fine for now.  There has been discussion about taking over maintenance of symmetrica and updating its build system, so this can be looked into more as a separate issue.\n``````\n",
    "created_at": "2019-12-30T15:38:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453885",
    "user": "https://github.com/embray"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -60,4 +60,6 @@
 
 * gap: The SmallGrp package also installs some ".a" file that are not static libs; otherwise GAP is not installing any static libs (some things in gap_packages might but I haven't checked yet).
 
+* python2/3: The static lib installation (performed by the `libainstall` make target) is a part of Python's standard installation process and more trouble to remove than it's worth, although I don't think we explicitly need it for anything.
+
 * symmetrica: Only built as a static library and linked statically into Sage's symmetrica module; it's not used anywhere else at the moment so this is fine for now.  There has been discussion about taking over maintenance of symmetrica and updating its build system, so this can be looked into more as a separate issue.
``````




---

archive/issue_comments_453886.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -56,6 +56,8 @@\n \n * cliquer: it already passes `--disable-static` but it installs a test file into `share/` which happens to end with `.a` but is not a static lib as far as I can tell.\n \n+* ecl: The `.a` modules installed with ECL seem to be pretty baked into its build process and I'm not sure if there's an easy way to omit them or if it's even desirable to.\n+\n * ecm: apparently we deliberately build it as a static lib by default; not sure why.  Need to investigate (performance reasons?)\n \n * gap: The SmallGrp package also installs some \".a\" file that are not static libs; otherwise GAP is not installing any static libs (some things in gap_packages might but I haven't checked yet).\n``````\n",
    "created_at": "2019-12-30T16:15:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453886",
    "user": "https://github.com/embray"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -56,6 +56,8 @@
 
 * cliquer: it already passes `--disable-static` but it installs a test file into `share/` which happens to end with `.a` but is not a static lib as far as I can tell.
 
+* ecl: The `.a` modules installed with ECL seem to be pretty baked into its build process and I'm not sure if there's an easy way to omit them or if it's even desirable to.
+
 * ecm: apparently we deliberately build it as a static lib by default; not sure why.  Need to investigate (performance reasons?)
 
 * gap: The SmallGrp package also installs some ".a" file that are not static libs; otherwise GAP is not installing any static libs (some things in gap_packages might but I haven't checked yet).
``````




---

archive/issue_comments_453887.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nlibbraiding and libhomfly will be handled by this as well once #28927 is in.",
    "created_at": "2019-12-30T16:39:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453887",
    "user": "https://github.com/embray"
}
```

<div id="comment:17" align="right">Comment 17</div>

libbraiding and libhomfly will be handled by this as well once #28927 is in.



---

archive/issue_comments_453888.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -65,3 +65,5 @@\n * python2/3: The static lib installation (performed by the `libainstall` make target) is a part of Python's standard installation process and more trouble to remove than it's worth, although I don't think we explicitly need it for anything.\n \n * symmetrica: Only built as a static library and linked statically into Sage's symmetrica module; it's not used anywhere else at the moment so this is fine for now.  There has been discussion about taking over maintenance of symmetrica and updating its build system, so this can be looked into more as a separate issue.\n+\n+* yasm: If I understand correctly, libyasm contains some special support functions and is intended to be linked statically.\n``````\n",
    "created_at": "2019-12-30T16:45:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453888",
    "user": "https://github.com/embray"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -65,3 +65,5 @@
 * python2/3: The static lib installation (performed by the `libainstall` make target) is a part of Python's standard installation process and more trouble to remove than it's worth, although I don't think we explicitly need it for anything.
 
 * symmetrica: Only built as a static library and linked statically into Sage's symmetrica module; it's not used anywhere else at the moment so this is fine for now.  There has been discussion about taking over maintenance of symmetrica and updating its build system, so this can be looked into more as a separate issue.
+
+* yasm: If I understand correctly, libyasm contains some special support functions and is intended to be linked statically.
``````




---

archive/issue_comments_453889.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -62,7 +62,13 @@\n \n * gap: The SmallGrp package also installs some \".a\" file that are not static libs; otherwise GAP is not installing any static libs (some things in gap_packages might but I haven't checked yet).\n \n+* mpir: mpir/gmp is linked statically for at least some libraries such as ECM, and possibly some others (GP?).\n+\n+* ntl: NTL's build system makes static library installation pretty mandatory--I don't know if there's any good reason for that or not, so for now we can just leave it alone.\n+\n * python2/3: The static lib installation (performed by the `libainstall` make target) is a part of Python's standard installation process and more trouble to remove than it's worth, although I don't think we explicitly need it for anything.\n+\n+* ratpoints: Has only ever supported being built as a static library, and is statically linked into Sage's ratpoints interface.\n \n * symmetrica: Only built as a static library and linked statically into Sage's symmetrica module; it's not used anywhere else at the moment so this is fine for now.  There has been discussion about taking over maintenance of symmetrica and updating its build system, so this can be looked into more as a separate issue.\n \n``````\n",
    "created_at": "2019-12-30T17:21:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453889",
    "user": "https://github.com/embray"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -62,7 +62,13 @@
 
 * gap: The SmallGrp package also installs some ".a" file that are not static libs; otherwise GAP is not installing any static libs (some things in gap_packages might but I haven't checked yet).
 
+* mpir: mpir/gmp is linked statically for at least some libraries such as ECM, and possibly some others (GP?).
+
+* ntl: NTL's build system makes static library installation pretty mandatory--I don't know if there's any good reason for that or not, so for now we can just leave it alone.
+
 * python2/3: The static lib installation (performed by the `libainstall` make target) is a part of Python's standard installation process and more trouble to remove than it's worth, although I don't think we explicitly need it for anything.
+
+* ratpoints: Has only ever supported being built as a static library, and is statically linked into Sage's ratpoints interface.
 
 * symmetrica: Only built as a static library and linked statically into Sage's symmetrica module; it's not used anywhere else at the moment so this is fine for now.  There has been discussion about taking over maintenance of symmetrica and updating its build system, so this can be looked into more as a separate issue.
 
``````




---

archive/issue_events_378674.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T17:21:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378674"
}
```



---

archive/issue_comments_453890.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nI think that with the last commit this pretty much covers everything.  I looked into all the other packages that are installing static libs, and determined that it's either on purpose, or too much trouble to mess with as part of this ticket.",
    "created_at": "2019-12-30T17:21:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453890",
    "user": "https://github.com/embray"
}
```

<div id="comment:19" align="right">Comment 19</div>

I think that with the last commit this pretty much covers everything.  I looked into all the other packages that are installing static libs, and determined that it's either on purpose, or too much trouble to mess with as part of this ticket.



---

archive/issue_comments_453891.json:
```json
{
    "body": "Reviewer: **Marc Mezzarobba**",
    "created_at": "2020-01-09T10:30:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453891",
    "user": "https://github.com/mezzarobba"
}
```

Reviewer: **Marc Mezzarobba**



---

archive/issue_comments_453892.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nThank you again!",
    "created_at": "2020-01-09T10:30:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453892",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:20" align="right">Comment 20</div>

Thank you again!



---

archive/issue_events_378675.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2020-01-09T10:30:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378675"
}
```



---

archive/issue_events_378676.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2020-01-09T10:30:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378676"
}
```



---

archive/issue_comments_453893.json:
```json
{
    "body": "Changed branch from **[u/embray/ticket-28890](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/ticket-28890)** to **[f99562a](https://github.com/sagemath/sagetrac-mirror/commit/f99562a453728f08743ce3572a5bb20971e51659)**",
    "created_at": "2020-01-11T17:45:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453893",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/embray/ticket-28890](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/ticket-28890)** to **[f99562a](https://github.com/sagemath/sagetrac-mirror/commit/f99562a453728f08743ce3572a5bb20971e51659)**



---

archive/issue_events_378677.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-01-11T17:45:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378677"
}
```



---

archive/issue_events_378678.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-01-11T17:45:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378678"
}
```



---

archive/issue_comments_453894.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\n\n```\n****************************************************\nConfiguring zlib-1.2.11.p0\nunknown option: --disable-static\n./configure --help for help\n** ./configure aborting.\nunknown option: --disable-static\n./configure --help for help\n** ./configure aborting.\n********************************************************************************\nError configuring zlib-1.2.11.p0\n********************************************************************************\n```",
    "created_at": "2020-01-15T23:58:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453894",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:22" align="right">Comment 22</div>


```
****************************************************
Configuring zlib-1.2.11.p0
unknown option: --disable-static
./configure --help for help
** ./configure aborting.
unknown option: --disable-static
./configure --help for help
** ./configure aborting.
********************************************************************************
Error configuring zlib-1.2.11.p0
********************************************************************************
```



---

archive/issue_comments_453895.json:
```json
{
    "body": "Changed commit from **[f99562a](https://github.com/sagemath/sagetrac-mirror/commit/f99562a453728f08743ce3572a5bb20971e51659)** to none",
    "created_at": "2020-01-15T23:58:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453895",
    "user": "https://github.com/vbraun"
}
```

Changed commit from **[f99562a](https://github.com/sagemath/sagetrac-mirror/commit/f99562a453728f08743ce3572a5bb20971e51659)** to none



---

archive/issue_comments_453896.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a8cb064f877b2c617404db0a425c26f8f787c70d\">a8cb064</a></td><td><code>Trac #28890: Pass --disable-static to autoconf packages by default.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f99562a453728f08743ce3572a5bb20971e51659\">f99562a</a></td><td><code>Trac #28890: Don't install PARI's static library.</code></td></tr></table>\n",
    "created_at": "2020-01-16T14:08:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453896",
    "user": "https://github.com/embray"
}
```

<div id="comment:23" align="right">Comment 23</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a8cb064f877b2c617404db0a425c26f8f787c70d">a8cb064</a></td><td><code>Trac #28890: Pass --disable-static to autoconf packages by default.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f99562a453728f08743ce3572a5bb20971e51659">f99562a</a></td><td><code>Trac #28890: Don't install PARI's static library.</code></td></tr></table>




---

archive/issue_comments_453897.json:
```json
{
    "body": "Assignee: **@embray**",
    "created_at": "2020-01-16T14:08:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453897",
    "user": "https://github.com/embray"
}
```

Assignee: **@embray**



---

archive/issue_comments_453898.json:
```json
{
    "body": "Commit: **[f99562a](https://github.com/sagemath/sagetrac-mirror/commit/f99562a453728f08743ce3572a5bb20971e51659)**",
    "created_at": "2020-01-16T14:08:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453898",
    "user": "https://github.com/embray"
}
```

Commit: **[f99562a](https://github.com/sagemath/sagetrac-mirror/commit/f99562a453728f08743ce3572a5bb20971e51659)**



---

archive/issue_comments_453899.json:
```json
{
    "body": "Changed branch from **[f99562a](https://github.com/sagemath/sagetrac-mirror/commit/f99562a453728f08743ce3572a5bb20971e51659)** to **[u/embray/ticket-28890](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/ticket-28890)**",
    "created_at": "2020-01-16T14:08:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453899",
    "user": "https://github.com/embray"
}
```

Changed branch from **[f99562a](https://github.com/sagemath/sagetrac-mirror/commit/f99562a453728f08743ce3572a5bb20971e51659)** to **[u/embray/ticket-28890](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/ticket-28890)**



---

archive/issue_comments_453900.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nHrm, that's annoying.  Thanks, zlib...",
    "created_at": "2020-01-16T14:12:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453900",
    "user": "https://github.com/embray"
}
```

<div id="comment:24" align="right">Comment 24</div>

Hrm, that's annoying.  Thanks, zlib...



---

archive/issue_comments_453901.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29445a8dd31b81190fa7eee251ccb99c4bfd75e0\">29445a8</a></td><td><code>Trac #28890: Don't use sdh_configure to configure zlib; it does not use</code></td></tr></table>\n",
    "created_at": "2020-01-16T14:13:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453901",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25" align="right">Comment 25</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29445a8dd31b81190fa7eee251ccb99c4bfd75e0">29445a8</a></td><td><code>Trac #28890: Don't use sdh_configure to configure zlib; it does not use</code></td></tr></table>




---

archive/issue_comments_453902.json:
```json
{
    "body": "Changed commit from **[f99562a](https://github.com/sagemath/sagetrac-mirror/commit/f99562a453728f08743ce3572a5bb20971e51659)** to **[29445a8](https://github.com/sagemath/sagetrac-mirror/commit/29445a8dd31b81190fa7eee251ccb99c4bfd75e0)**",
    "created_at": "2020-01-16T14:13:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453902",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f99562a](https://github.com/sagemath/sagetrac-mirror/commit/f99562a453728f08743ce3572a5bb20971e51659)** to **[29445a8](https://github.com/sagemath/sagetrac-mirror/commit/29445a8dd31b81190fa7eee251ccb99c4bfd75e0)**



---

archive/issue_comments_453903.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29445a8dd31b81190fa7eee251ccb99c4bfd75e0\">29445a8</a></td><td><code>Trac #28890: Don't use sdh_configure to configure zlib; it does not use</code></td></tr></table>\n",
    "created_at": "2020-01-16T14:13:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453903",
    "user": "https://github.com/embray"
}
```

<div id="comment:26" align="right">Comment 26</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29445a8dd31b81190fa7eee251ccb99c4bfd75e0">29445a8</a></td><td><code>Trac #28890: Don't use sdh_configure to configure zlib; it does not use</code></td></tr></table>




---

archive/issue_events_378679.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-16T14:13:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378679"
}
```



---

archive/issue_events_378680.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-16T14:14:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378680"
}
```



---

archive/issue_events_378681.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2020-01-16T14:14:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378681"
}
```



---

archive/issue_comments_453904.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nI'm getting libpng build errors on KuCalc (Debian 9 x86_64) because something is wrong with zlib dynamic linking:\n\n```\nlibtool: link: gcc -fPIC -g -Wl,-rpath -Wl,/var/lib/buildbot/slave/sage_git/build/local/lib -o .libs/pngunknown contrib/libtests/pngunknown.o  -L/var/lib/buildbot/slave/sage_git/build/local/lib ./.libs/libpng16.so -lz -lm -Wl,-rpath -Wl,/var/lib/buildbot/slave/sage_git/build/local/lib\ncollect2: error: ld returned 1 exit status\nMakefile:1026: recipe for target 'pngtest' failed\nmake[5]: *** [pngtest] Error 1\n./.libs/libpng16.so: undefined reference to `inflateValidate'\n```",
    "created_at": "2020-01-19T10:43:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453904",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:28" align="right">Comment 28</div>

I'm getting libpng build errors on KuCalc (Debian 9 x86_64) because something is wrong with zlib dynamic linking:

```
libtool: link: gcc -fPIC -g -Wl,-rpath -Wl,/var/lib/buildbot/slave/sage_git/build/local/lib -o .libs/pngunknown contrib/libtests/pngunknown.o  -L/var/lib/buildbot/slave/sage_git/build/local/lib ./.libs/libpng16.so -lz -lm -Wl,-rpath -Wl,/var/lib/buildbot/slave/sage_git/build/local/lib
collect2: error: ld returned 1 exit status
Makefile:1026: recipe for target 'pngtest' failed
make[5]: *** [pngtest] Error 1
./.libs/libpng16.so: undefined reference to `inflateValidate'
```



---

archive/issue_events_378682.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-01-19T10:43:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378682"
}
```



---

archive/issue_events_378683.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-01-19T10:43:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378683"
}
```



---

archive/issue_comments_453905.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nI presume build/pkgs/libpng/spkg-install needs LDFLAGS set to point at $SAGE_LOCAL/lib/\nin the case of zlib not coming from the system.\n(and the same for the other zlib deps, I guess)",
    "created_at": "2020-01-19T11:02:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453905",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:30" align="right">Comment 30</div>

I presume build/pkgs/libpng/spkg-install needs LDFLAGS set to point at $SAGE_LOCAL/lib/
in the case of zlib not coming from the system.
(and the same for the other zlib deps, I guess)



---

archive/issue_comments_453906.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nReplying to [@dimpase](#comment%3A30):\n> I presume build/pkgs/libpng/spkg-install needs LDFLAGS set to point at $SAGE_LOCAL/lib/\n> in the case of zlib not coming from the system.\n> (and the same for the other zlib deps, I guess)\n\nDon't we already do that for all packages?  The failing command Volker posted already had `-L/var/lib/buildbot/slave/sage_git/build/local/lib` as well as `-lz`.",
    "created_at": "2020-01-22T12:42:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453906",
    "user": "https://github.com/embray"
}
```

<div id="comment:31" align="right">Comment 31</div>

Replying to [@dimpase](#comment%3A30):
> I presume build/pkgs/libpng/spkg-install needs LDFLAGS set to point at $SAGE_LOCAL/lib/
> in the case of zlib not coming from the system.
> (and the same for the other zlib deps, I guess)

Don't we already do that for all packages?  The failing command Volker posted already had `-L/var/lib/buildbot/slave/sage_git/build/local/lib` as well as `-lz`.



---

archive/issue_comments_453907.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\ncould it be the order of libs issue?\n\nOr something to do with libpng using to carry its own zlib...",
    "created_at": "2020-01-22T12:51:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453907",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:32" align="right">Comment 32</div>

could it be the order of libs issue?

Or something to do with libpng using to carry its own zlib...



---

archive/issue_events_378684.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378684"
}
```



---

archive/issue_events_378685.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378685"
}
```



---

archive/issue_comments_453908.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\nBatch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453908",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:33" align="right">Comment 33</div>

Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_comments_453909.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\nSee also: #23519 - SAGE_FAT_BINARY fails on Debian 9 64-bit",
    "created_at": "2020-05-13T21:47:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453909",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:34" align="right">Comment 34</div>

See also: #23519 - SAGE_FAT_BINARY fails on Debian 9 64-bit



---

archive/issue_comments_453910.json:
```json
{
    "body": "Changed branch from **[u/embray/ticket-28890](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/ticket-28890)** to **[u/mkoeppe/ticket-28890](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/ticket-28890)**",
    "created_at": "2020-09-12T19:11:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453910",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/embray/ticket-28890](https://github.com/sagemath/sagetrac-mirror/tree/u/embray/ticket-28890)** to **[u/mkoeppe/ticket-28890](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/ticket-28890)**



---

archive/issue_comments_453911.json:
```json
{
    "body": "Changed commit from **[29445a8](https://github.com/sagemath/sagetrac-mirror/commit/29445a8dd31b81190fa7eee251ccb99c4bfd75e0)** to **[fdd8397](https://github.com/sagemath/sagetrac-mirror/commit/fdd83972d17ae1f6765d2ee03a890c715e3b0c9b)**",
    "created_at": "2020-09-12T19:38:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453911",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[29445a8](https://github.com/sagemath/sagetrac-mirror/commit/29445a8dd31b81190fa7eee251ccb99c4bfd75e0)** to **[fdd8397](https://github.com/sagemath/sagetrac-mirror/commit/fdd83972d17ae1f6765d2ee03a890c715e3b0c9b)**



---

archive/issue_comments_453912.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cace562ca3afcba1f36976331ff4da1f5b7b6c7c\">cace562</a></td><td><code>Trac #28890: Pass --disable-static to autoconf packages by default.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8509b251bcf55b41ccc630671f9e30fa585a5809\">8509b25</a></td><td><code>Trac #28890: Don't install PARI's static library.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fdd83972d17ae1f6765d2ee03a890c715e3b0c9b\">fdd8397</a></td><td><code>Trac #28890: Don't use sdh_configure to configure zlib; it does not use</code></td></tr></table>\n",
    "created_at": "2020-09-12T19:38:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453912",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:36" align="right">Comment 36</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cace562ca3afcba1f36976331ff4da1f5b7b6c7c">cace562</a></td><td><code>Trac #28890: Pass --disable-static to autoconf packages by default.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8509b251bcf55b41ccc630671f9e30fa585a5809">8509b25</a></td><td><code>Trac #28890: Don't install PARI's static library.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fdd83972d17ae1f6765d2ee03a890c715e3b0c9b">fdd8397</a></td><td><code>Trac #28890: Don't use sdh_configure to configure zlib; it does not use</code></td></tr></table>




---

archive/issue_comments_453913.json:
```json
{
    "body": "Dependencies: **#30564**",
    "created_at": "2020-09-12T19:38:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453913",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#30564**



---

archive/issue_comments_453914.json:
```json
{
    "body": "Changed dependencies from **#30564** to **#30564, #29152**",
    "created_at": "2020-09-12T22:43:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453914",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#30564** to **#30564, #29152**



---

archive/issue_events_378686.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-12T22:43:29Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378686"
}
```



---

archive/issue_events_378687.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-12T22:43:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378687"
}
```



---

archive/issue_comments_453915.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">Comment 40</div>\n\nReplying to [@mkoeppe](#comment%3A36):\n> New commits:\n> ...\n\nShould this be Needs Review now?",
    "created_at": "2020-09-13T12:43:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453915",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:40" align="right">Comment 40</div>

Replying to [@mkoeppe](#comment%3A36):
> New commits:
> ...

Should this be Needs Review now?



---

archive/issue_comments_453916.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -70,6 +70,4 @@\n \n * ratpoints: Has only ever supported being built as a static library, and is statically linked into Sage's ratpoints interface.\n \n-* symmetrica: Only built as a static library and linked statically into Sage's symmetrica module; it's not used anywhere else at the moment so this is fine for now.  There has been discussion about taking over maintenance of symmetrica and updating its build system, so this can be looked into more as a separate issue.\n-\n * yasm: If I understand correctly, libyasm contains some special support functions and is intended to be linked statically.\n``````\n",
    "created_at": "2020-09-13T12:45:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453916",
    "user": "https://github.com/orlitzky"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -70,6 +70,4 @@
 
 * ratpoints: Has only ever supported being built as a static library, and is statically linked into Sage's ratpoints interface.
 
-* symmetrica: Only built as a static library and linked statically into Sage's symmetrica module; it's not used anywhere else at the moment so this is fine for now.  There has been discussion about taking over maintenance of symmetrica and updating its build system, so this can be looked into more as a separate issue.
-
 * yasm: If I understand correctly, libyasm contains some special support functions and is intended to be linked statically.
``````




---

archive/issue_comments_453917.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">Comment 41</div>\n\nI've removed the note about symmetrica from the description, since we took over maintenance and added an autotools build system.",
    "created_at": "2020-09-13T12:45:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453917",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:41" align="right">Comment 41</div>

I've removed the note about symmetrica from the description, since we took over maintenance and added an autotools build system.



---

archive/issue_events_378688.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378688"
}
```



---

archive/issue_events_378689.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378689"
}
```



---

archive/issue_comments_453918.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">Comment 42</div>\n\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453918",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:42" align="right">Comment 42</div>

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_453919.json:
```json
{
    "body": "Changed commit from **[fdd8397](https://github.com/sagemath/sagetrac-mirror/commit/fdd83972d17ae1f6765d2ee03a890c715e3b0c9b)** to **[cd39c76](https://github.com/sagemath/sagetrac-mirror/commit/cd39c76bffd159da42e8c7aabaa297c78386b17e)**",
    "created_at": "2021-04-09T05:54:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453919",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[fdd8397](https://github.com/sagemath/sagetrac-mirror/commit/fdd83972d17ae1f6765d2ee03a890c715e3b0c9b)** to **[cd39c76](https://github.com/sagemath/sagetrac-mirror/commit/cd39c76bffd159da42e8c7aabaa297c78386b17e)**



---

archive/issue_comments_453920.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">Comment 43</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f4a8ef719fecfb4d663e3fb563735cd2178f9c7\">3f4a8ef</a></td><td><code>Trac #28890: Pass --disable-static to autoconf packages by default.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8a8efee2f5a124d34ef9ff4d4a561e8ffa5416b8\">8a8efee</a></td><td><code>Trac #28890: Don't install PARI's static library.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cd39c76bffd159da42e8c7aabaa297c78386b17e\">cd39c76</a></td><td><code>Trac #28890: Don't use sdh_configure to configure zlib; it does not use</code></td></tr></table>\n",
    "created_at": "2021-04-09T05:54:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453920",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:43" align="right">Comment 43</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f4a8ef719fecfb4d663e3fb563735cd2178f9c7">3f4a8ef</a></td><td><code>Trac #28890: Pass --disable-static to autoconf packages by default.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8a8efee2f5a124d34ef9ff4d4a561e8ffa5416b8">8a8efee</a></td><td><code>Trac #28890: Don't install PARI's static library.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cd39c76bffd159da42e8c7aabaa297c78386b17e">cd39c76</a></td><td><code>Trac #28890: Don't use sdh_configure to configure zlib; it does not use</code></td></tr></table>




---

archive/issue_comments_453921.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">Comment 44</div>\n\nDusted off this ticket. It will be helpful to reduce the size of wheels in #31396",
    "created_at": "2021-04-09T05:56:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453921",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:44" align="right">Comment 44</div>

Dusted off this ticket. It will be helpful to reduce the size of wheels in #31396



---

archive/issue_events_378690.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-09T05:58:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378690"
}
```



---

archive/issue_events_378691.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-09T05:58:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378691"
}
```



---

archive/issue_comments_453922.json:
```json
{
    "body": "Changed reviewer from **Marc Mezzarobba** to **Marc Mezzarobba, https://github.com/mkoeppe/sage/actions/runs/732049335**",
    "created_at": "2021-04-09T06:08:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453922",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Marc Mezzarobba** to **Marc Mezzarobba, https://github.com/mkoeppe/sage/actions/runs/732049335**



---

archive/issue_comments_453923.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">Comment 46</div>\n\nTests running at https://github.com/mkoeppe/sage/actions/runs/732049335",
    "created_at": "2021-04-09T06:08:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453923",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:46" align="right">Comment 46</div>

Tests running at https://github.com/mkoeppe/sage/actions/runs/732049335



---

archive/issue_events_378692.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-09T17:29:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378692"
}
```



---

archive/issue_events_378693.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-09T17:29:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378693"
}
```



---

archive/issue_comments_453924.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">Comment 47</div>\n\nA typo in the change to zlib broke lots of platforms",
    "created_at": "2021-04-09T17:29:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453924",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:47" align="right">Comment 47</div>

A typo in the change to zlib broke lots of platforms



---

archive/issue_comments_453925.json:
```json
{
    "body": "Changed commit from **[cd39c76](https://github.com/sagemath/sagetrac-mirror/commit/cd39c76bffd159da42e8c7aabaa297c78386b17e)** to **[9622d83](https://github.com/sagemath/sagetrac-mirror/commit/9622d83ba544358bf27a2054c83b3ccdfecee2ac)**",
    "created_at": "2021-04-09T17:31:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453925",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[cd39c76](https://github.com/sagemath/sagetrac-mirror/commit/cd39c76bffd159da42e8c7aabaa297c78386b17e)** to **[9622d83](https://github.com/sagemath/sagetrac-mirror/commit/9622d83ba544358bf27a2054c83b3ccdfecee2ac)**



---

archive/issue_comments_453926.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">Comment 48</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9622d83ba544358bf27a2054c83b3ccdfecee2ac\">9622d83</a></td><td><code>build/pkgs/zlib/spkg-install.in: Fixup</code></td></tr></table>\n",
    "created_at": "2021-04-09T17:31:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453926",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:48" align="right">Comment 48</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9622d83ba544358bf27a2054c83b3ccdfecee2ac">9622d83</a></td><td><code>build/pkgs/zlib/spkg-install.in: Fixup</code></td></tr></table>




---

archive/issue_comments_453927.json:
```json
{
    "body": "Changed commit from **[9622d83](https://github.com/sagemath/sagetrac-mirror/commit/9622d83ba544358bf27a2054c83b3ccdfecee2ac)** to **[3d701f8](https://github.com/sagemath/sagetrac-mirror/commit/3d701f896fbe428d70a5e9f20efd66f9a91ddb6c)**",
    "created_at": "2021-04-09T17:38:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453927",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9622d83](https://github.com/sagemath/sagetrac-mirror/commit/9622d83ba544358bf27a2054c83b3ccdfecee2ac)** to **[3d701f8](https://github.com/sagemath/sagetrac-mirror/commit/3d701f896fbe428d70a5e9f20efd66f9a91ddb6c)**



---

archive/issue_comments_453928.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">Comment 49</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d701f896fbe428d70a5e9f20efd66f9a91ddb6c\">3d701f8</a></td><td><code>build/pkgs/zlib/spkg-install.in: Handle errors from configure</code></td></tr></table>\n",
    "created_at": "2021-04-09T17:38:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453928",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:49" align="right">Comment 49</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d701f896fbe428d70a5e9f20efd66f9a91ddb6c">3d701f8</a></td><td><code>build/pkgs/zlib/spkg-install.in: Handle errors from configure</code></td></tr></table>




---

archive/issue_comments_453929.json:
```json
{
    "body": "Changed reviewer from **Marc Mezzarobba, https://github.com/mkoeppe/sage/actions/runs/732049335** to **Marc Mezzarobba, https://github.com/mkoeppe/sage/actions/runs/733869032**",
    "created_at": "2021-04-09T17:45:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453929",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Marc Mezzarobba, https://github.com/mkoeppe/sage/actions/runs/732049335** to **Marc Mezzarobba, https://github.com/mkoeppe/sage/actions/runs/733869032**



---

archive/issue_comments_453930.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">Comment 51</div>\n\nNow testing at https://github.com/mkoeppe/sage/actions/runs/733869032",
    "created_at": "2021-04-09T17:46:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453930",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:51" align="right">Comment 51</div>

Now testing at https://github.com/mkoeppe/sage/actions/runs/733869032



---

archive/issue_events_378694.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-09T17:46:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378694"
}
```



---

archive/issue_events_378695.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-09T17:46:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378695"
}
```



---

archive/issue_comments_453931.json:
```json
{
    "body": "Changed dependencies from **#30564, #29152** to none",
    "created_at": "2021-04-10T17:54:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453931",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#30564, #29152** to none



---

archive/issue_comments_453932.json:
```json
{
    "body": "Changed author from **Erik Bray** to **Erik Bray, Matthias Koeppe**",
    "created_at": "2021-04-10T17:54:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453932",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Erik Bray** to **Erik Bray, Matthias Koeppe**



---

archive/issue_comments_453933.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">Comment 55</div>\n\nOn OS X (with a bunch of homebrew packages), this prevents building of the following:\n\n```\nlibbraiding.a\nlibcdd.a\nlibcddgmp.a\nlibec.a\nlibecm.a\nlibfplll.a\nlibgf2x.a\nlibgivaro.a\nlibhomfly.a\nlibiml.a\nliblrcalc.a\nlibpari.a\nlibplanarity.a\nlibratpoints.a\nlibrw.a\nlibsymmetrica.a\n```\n`libecm.a` and `libratpoints.a` are still built, as it says in the ticket description.\n\nWe should probably build without as many homebrew packages, to make sure things still work.",
    "created_at": "2021-04-11T03:47:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453933",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:55" align="right">Comment 55</div>

On OS X (with a bunch of homebrew packages), this prevents building of the following:

```
libbraiding.a
libcdd.a
libcddgmp.a
libec.a
libecm.a
libfplll.a
libgf2x.a
libgivaro.a
libhomfly.a
libiml.a
liblrcalc.a
libpari.a
libplanarity.a
libratpoints.a
librw.a
libsymmetrica.a
```
`libecm.a` and `libratpoints.a` are still built, as it says in the ticket description.

We should probably build without as many homebrew packages, to make sure things still work.



---

archive/issue_comments_453934.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">Comment 56</div>\n\nWith `./configure --with-system-python3=no --with-system-ntl=no --with-system-gmp=no`, I see `libgmp.a`, `libgmpxx.a`, and `libntl.a` still present. I think this is still consistent with the ticket description.",
    "created_at": "2021-04-11T06:09:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453934",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:56" align="right">Comment 56</div>

With `./configure --with-system-python3=no --with-system-ntl=no --with-system-gmp=no`, I see `libgmp.a`, `libgmpxx.a`, and `libntl.a` still present. I think this is still consistent with the ticket description.



---

archive/issue_comments_453935.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">Comment 57</div>\n\nThe runs at https://github.com/mkoeppe/sage/actions/runs/733869032 (linux/macos), https://github.com/mkoeppe/sage/actions/runs/732049334 (optional packages), were also successful.\n\nOn `cygwin-standard` (https://github.com/mkoeppe/sage/runs/2309214385), there is an issue with the standard package `libbraiding` - for which building shared libraries is broken (#30814)",
    "created_at": "2021-04-11T16:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453935",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:57" align="right">Comment 57</div>

The runs at https://github.com/mkoeppe/sage/actions/runs/733869032 (linux/macos), https://github.com/mkoeppe/sage/actions/runs/732049334 (optional packages), were also successful.

On `cygwin-standard` (https://github.com/mkoeppe/sage/runs/2309214385), there is an issue with the standard package `libbraiding` - for which building shared libraries is broken (#30814)



---

archive/issue_events_378696.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-11T16:41:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378696"
}
```



---

archive/issue_events_378697.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-11T16:41:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378697"
}
```



---

archive/issue_comments_453936.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">Comment 58</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/56178ab6ff9dca4cf50e995387affe27a3330eed\">56178ab</a></td><td><code>build/bin/sage-dist-helpers (sdh_configure): On Cygwin, do not use --disable-static (until #30814 is done)</code></td></tr></table>\n",
    "created_at": "2021-04-11T16:55:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453936",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:58" align="right">Comment 58</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/56178ab6ff9dca4cf50e995387affe27a3330eed">56178ab</a></td><td><code>build/bin/sage-dist-helpers (sdh_configure): On Cygwin, do not use --disable-static (until #30814 is done)</code></td></tr></table>




---

archive/issue_comments_453937.json:
```json
{
    "body": "Changed commit from **[3d701f8](https://github.com/sagemath/sagetrac-mirror/commit/3d701f896fbe428d70a5e9f20efd66f9a91ddb6c)** to **[56178ab](https://github.com/sagemath/sagetrac-mirror/commit/56178ab6ff9dca4cf50e995387affe27a3330eed)**",
    "created_at": "2021-04-11T16:55:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453937",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3d701f8](https://github.com/sagemath/sagetrac-mirror/commit/3d701f896fbe428d70a5e9f20efd66f9a91ddb6c)** to **[56178ab](https://github.com/sagemath/sagetrac-mirror/commit/56178ab6ff9dca4cf50e995387affe27a3330eed)**



---

archive/issue_events_378698.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-11T16:55:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378698"
}
```



---

archive/issue_events_378699.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-11T16:55:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378699"
}
```



---

archive/issue_comments_453938.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">Comment 60</div>\n\nNew test on cygwin at https://github.com/mkoeppe/sage/actions/runs/738661838",
    "created_at": "2021-04-11T17:04:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453938",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:60" align="right">Comment 60</div>

New test on cygwin at https://github.com/mkoeppe/sage/actions/runs/738661838



---

archive/issue_comments_453939.json:
```json
{
    "body": "Changed reviewer from **Marc Mezzarobba, https://github.com/mkoeppe/sage/actions/runs/733869032** to **Marc Mezzarobba, https://github.com/mkoeppe/sage/actions/runs/738661838**",
    "created_at": "2021-04-11T17:04:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453939",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Marc Mezzarobba, https://github.com/mkoeppe/sage/actions/runs/733869032** to **Marc Mezzarobba, https://github.com/mkoeppe/sage/actions/runs/738661838**



---

archive/issue_comments_453940.json:
```json
{
    "body": "Changed commit from **[56178ab](https://github.com/sagemath/sagetrac-mirror/commit/56178ab6ff9dca4cf50e995387affe27a3330eed)** to **[c8ccab6](https://github.com/sagemath/sagetrac-mirror/commit/c8ccab680254f106ecaf1ce97393492b13813c23)**",
    "created_at": "2021-04-11T17:06:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453940",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[56178ab](https://github.com/sagemath/sagetrac-mirror/commit/56178ab6ff9dca4cf50e995387affe27a3330eed)** to **[c8ccab6](https://github.com/sagemath/sagetrac-mirror/commit/c8ccab680254f106ecaf1ce97393492b13813c23)**



---

archive/issue_comments_453941.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">Comment 61</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c8ccab680254f106ecaf1ce97393492b13813c23\">c8ccab6</a></td><td><code>build/bin/sage-dist-helpers: Fixup: = instead of ==</code></td></tr></table>\n",
    "created_at": "2021-04-11T17:06:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453941",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:61" align="right">Comment 61</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c8ccab680254f106ecaf1ce97393492b13813c23">c8ccab6</a></td><td><code>build/bin/sage-dist-helpers: Fixup: = instead of ==</code></td></tr></table>




---

archive/issue_comments_453942.json:
```json
{
    "body": "Changed reviewer from **Marc Mezzarobba, https://github.com/mkoeppe/sage/actions/runs/738661838** to **Marc Mezzarobba, John Palmieri**",
    "created_at": "2021-05-21T20:24:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453942",
    "user": "https://github.com/jhpalmieri"
}
```

Changed reviewer from **Marc Mezzarobba, https://github.com/mkoeppe/sage/actions/runs/738661838** to **Marc Mezzarobba, John Palmieri**



---

archive/issue_events_378700.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2021-05-21T20:24:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378700"
}
```



---

archive/issue_events_378701.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2021-05-21T20:24:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378701"
}
```



---

archive/issue_comments_453943.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">Comment 62</div>\n\nI'm not sure why I can't view the branch attached to this ticket, but it merges cleanly with Sage 9.3. I think we should add this to an early beta of 9.4 (or 9.5 if 9.4 is a bug-fix release) to make sure it gets tested thoroughly.",
    "created_at": "2021-05-21T20:24:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453943",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:62" align="right">Comment 62</div>

I'm not sure why I can't view the branch attached to this ticket, but it merges cleanly with Sage 9.3. I think we should add this to an early beta of 9.4 (or 9.5 if 9.4 is a bug-fix release) to make sure it gets tested thoroughly.



---

archive/issue_comments_453944.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">Comment 63</div>\n\nThanks!",
    "created_at": "2021-05-21T20:38:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453944",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:63" align="right">Comment 63</div>

Thanks!



---

archive/issue_events_378702.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-06-06T13:19:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378702"
}
```



---

archive/issue_events_378703.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "9caac06757c61640bc9e5d43081eb62b79c8575c",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-06-06T13:19:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28890#event-378703"
}
```



---

archive/issue_comments_453945.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/ticket-28890](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/ticket-28890)** to **[c8ccab6](https://github.com/sagemath/sagetrac-mirror/commit/c8ccab680254f106ecaf1ce97393492b13813c23)**",
    "created_at": "2021-06-06T13:19:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28890#issuecomment-453945",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/ticket-28890](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/ticket-28890)** to **[c8ccab6](https://github.com/sagemath/sagetrac-mirror/commit/c8ccab680254f106ecaf1ce97393492b13813c23)**
