# Issue 28652: Rework the constructor of PermutationGroupElement

archive/issues_028415.json:
```json
{
    "assignees": [],
    "body": "As part of #28539 we rewrite simplify some of the datastructure of `PermutationGroupElement` and rewrite the constructor to make it much faster.\n\nHere are some performance gain comparing 9.0.beta3 (\"OLD\") against the code provided in the branch (\"NEW\")\n- Constructor\n\n```\nsage: S = SymmetricGroup(10)\nsage: %timeit -n 10000 p = S([3,1,7,6,8,2,9,10,5,4])\nNEW: 10000 loops, best of 5: 3.94 \u00b5s per loop\nOLD: 10000 loops, best of 5: 227 \u00b5s per loop\nsage: %timeit -n 10000 p = S([(3,1),(7,6,8,2),(9,10,5,4)])\nNEW: 10000 loops, best of 5: 10.5 \u00b5s per loop\nOLD: 10000 loops, best of 5: 201 \u00b5s per loop\nsage: %timeit -n 10000 S('(1,3,5)(2,7)')\nNEW: 10000 loops, best of 5: 5.3 \u00b5s per loop\nOLD: 10000 loops, best of 5: 230 \u00b5s per loop\n```\n  and\n\n```\nsage: P = PermutationGroup(['(1,2,3)'])\nsage: %timeit -n 10000 P('(1,2,3)')\nNEW: 10000 loops, best of 5: 134 \u00b5s per loop\nOLD: 10000 loops, best of 5: 211 \u00b5s per loop\n```\n  and\n\n```\n\nsage: %timeit -n 3000 PermutationGroupElement('(1,2,3)(4,7)')\nNEW: 3000 loops, best of 5: 64.2 \u00b5s per loop\nOLD: 3000 loops, best of 5: 251 \u00b5s per loop\nsage: %timeit -n 3000 PermutationGroupElement([1,5,2,3,4])\nNEW: 3000 loops, best of 5: 14.9 \u00b5s per loop\nOLD: 3000 loops, best of 5: 251 \u00b5s per loop\nsage: %timeit -n 3000 PermutationGroupElement([(1,5),(2,3,4)])\nNEW: 3000 loops, best of 5: 38.5 \u00b5s per loop\nOLD: 3000 loops, best of 5: 215 \u00b5s per loop\n```\n- iteration of monogen group\n\n```\nsage: P = S.subgroup([(1,2,3,4,5,6)])\nsage: %timeit for p in P: pass\nNEW: 100000 loops, best of 5: 2.71 \u00b5s per loop\nOLD: 1000 loops, best of 5: 252 \u00b5s per loop\n```\n- multiplication of permutation with distinct parents\n\n```\nsage: S = SymmetricGroup(7)\nsage: P = S.subgroup([(1,2,3,4,5,6,7)])\nsage: L1 = list(S)\nsage: L2 = list(P)\nsage: %%time\n....: for s1 in L1:\n....:     for s2 in L2:\n....:         q = s1 * s2\nNEW: Wall time: 11.4 ms\nOLD: Wall time: 1.42 s\n```\n\nCC:  @tscrim @fchapoton @simonbrandhorst\n\nBranch/Commit: **[3df8290](https://github.com/sagemath/sagetrac-mirror/commit/3df8290eccc7bcc1dfdd843858bab819d1058d69)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Vincent Delecroix**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/28652_\n\n",
    "closed_at": "2019-11-16T20:15:43Z",
    "created_at": "2019-10-25T00:59:03Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/performance",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Rework the constructor of PermutationGroupElement",
    "type": "issue",
    "updated_at": "2019-11-16T20:15:43Z",
    "url": "https://github.com/sagemath/sage/issues/28652",
    "user": "https://github.com/videlec"
}
```
As part of #28539 we rewrite simplify some of the datastructure of `PermutationGroupElement` and rewrite the constructor to make it much faster.

Here are some performance gain comparing 9.0.beta3 ("OLD") against the code provided in the branch ("NEW")
- Constructor

```
sage: S = SymmetricGroup(10)
sage: %timeit -n 10000 p = S([3,1,7,6,8,2,9,10,5,4])
NEW: 10000 loops, best of 5: 3.94 µs per loop
OLD: 10000 loops, best of 5: 227 µs per loop
sage: %timeit -n 10000 p = S([(3,1),(7,6,8,2),(9,10,5,4)])
NEW: 10000 loops, best of 5: 10.5 µs per loop
OLD: 10000 loops, best of 5: 201 µs per loop
sage: %timeit -n 10000 S('(1,3,5)(2,7)')
NEW: 10000 loops, best of 5: 5.3 µs per loop
OLD: 10000 loops, best of 5: 230 µs per loop
```
  and

```
sage: P = PermutationGroup(['(1,2,3)'])
sage: %timeit -n 10000 P('(1,2,3)')
NEW: 10000 loops, best of 5: 134 µs per loop
OLD: 10000 loops, best of 5: 211 µs per loop
```
  and

```

sage: %timeit -n 3000 PermutationGroupElement('(1,2,3)(4,7)')
NEW: 3000 loops, best of 5: 64.2 µs per loop
OLD: 3000 loops, best of 5: 251 µs per loop
sage: %timeit -n 3000 PermutationGroupElement([1,5,2,3,4])
NEW: 3000 loops, best of 5: 14.9 µs per loop
OLD: 3000 loops, best of 5: 251 µs per loop
sage: %timeit -n 3000 PermutationGroupElement([(1,5),(2,3,4)])
NEW: 3000 loops, best of 5: 38.5 µs per loop
OLD: 3000 loops, best of 5: 215 µs per loop
```
- iteration of monogen group

```
sage: P = S.subgroup([(1,2,3,4,5,6)])
sage: %timeit for p in P: pass
NEW: 100000 loops, best of 5: 2.71 µs per loop
OLD: 1000 loops, best of 5: 252 µs per loop
```
- multiplication of permutation with distinct parents

```
sage: S = SymmetricGroup(7)
sage: P = S.subgroup([(1,2,3,4,5,6,7)])
sage: L1 = list(S)
sage: L2 = list(P)
sage: %%time
....: for s1 in L1:
....:     for s2 in L2:
....:         q = s1 * s2
NEW: Wall time: 11.4 ms
OLD: Wall time: 1.42 s
```

CC:  @tscrim @fchapoton @simonbrandhorst

Branch/Commit: **[3df8290](https://github.com/sagemath/sagetrac-mirror/commit/3df8290eccc7bcc1dfdd843858bab819d1058d69)**

Reviewer: **Travis Scrimshaw**

Author: **Vincent Delecroix**

_Issue created by migration from https://trac.sagemath.org/ticket/28652_





---

archive/issue_events_375333.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-10-25T00:59:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "milestone_number": null,
    "milestone_title": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375333"
}
```



---

archive/issue_events_375334.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-10-25T00:59:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375334"
}
```



---

archive/issue_events_375335.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-10-25T00:59:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375335"
}
```



---

archive/issue_events_375336.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-10-25T00:59:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375336"
}
```



---

archive/issue_comments_449828.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-As part of #28539 we rewrite the constructor of `PermutationGroupElement` to make it much faster.\n+As part of #28539 we rewrite simplify some of the datastructure of `PermutationGroupElement` and rewrite the constructor to make it much faster.\n``````\n",
    "created_at": "2019-10-25T00:59:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449828",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-As part of #28539 we rewrite the constructor of `PermutationGroupElement` to make it much faster.
+As part of #28539 we rewrite simplify some of the datastructure of `PermutationGroupElement` and rewrite the constructor to make it much faster.
``````




---

archive/issue_comments_449829.json:
```json
{
    "body": "Branch: **[u/vdelecroix/28652](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/28652)**",
    "created_at": "2019-10-25T04:13:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449829",
    "user": "https://github.com/videlec"
}
```

Branch: **[u/vdelecroix/28652](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/28652)**



---

archive/issue_comments_449830.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9453af211d05ecaace17ec8c7edd1777e06e3b68\">9453af2</a></td><td><code>28652: faster permutation group element</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2c30e15516216d485de72510c4e44ec3f00054b\">f2c30e1</a></td><td><code>28652: PermutationGroupElement class vs PermutationGroupElement constructor</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/050a6b46f89dd606486409e8794a686d88e9e862\">050a6b4</a></td><td><code>28652: fix doctests</code></td></tr></table>\n",
    "created_at": "2019-10-25T04:13:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449830",
    "user": "https://github.com/videlec"
}
```

<div id="comment:2" align="right">Comment 2</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9453af211d05ecaace17ec8c7edd1777e06e3b68">9453af2</a></td><td><code>28652: faster permutation group element</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2c30e15516216d485de72510c4e44ec3f00054b">f2c30e1</a></td><td><code>28652: PermutationGroupElement class vs PermutationGroupElement constructor</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/050a6b46f89dd606486409e8794a686d88e9e862">050a6b4</a></td><td><code>28652: fix doctests</code></td></tr></table>




---

archive/issue_comments_449831.json:
```json
{
    "body": "Commit: **[050a6b4](https://github.com/sagemath/sagetrac-mirror/commit/050a6b46f89dd606486409e8794a686d88e9e862)**",
    "created_at": "2019-10-25T04:13:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449831",
    "user": "https://github.com/videlec"
}
```

Commit: **[050a6b4](https://github.com/sagemath/sagetrac-mirror/commit/050a6b46f89dd606486409e8794a686d88e9e862)**



---

archive/issue_events_375337.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-10-25T04:13:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375337"
}
```



---

archive/issue_comments_449832.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nApparemment, ca compile pas. Voir les patchbots.",
    "created_at": "2019-10-25T07:07:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449832",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:3" align="right">Comment 3</div>

Apparemment, ca compile pas. Voir les patchbots.



---

archive/issue_events_375338.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-10-25T11:44:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375338"
}
```



---

archive/issue_events_375339.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-10-25T11:44:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375339"
}
```



---

archive/issue_comments_449833.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nJ'ai du oubli\u00e9 le fichier `sage/groups/perm_gps/constructor.py`.",
    "created_at": "2019-10-26T01:43:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449833",
    "user": "https://github.com/videlec"
}
```

<div id="comment:5" align="right">Comment 5</div>

J'ai du oublié le fichier `sage/groups/perm_gps/constructor.py`.



---

archive/issue_comments_449834.json:
```json
{
    "body": "Changed commit from **[050a6b4](https://github.com/sagemath/sagetrac-mirror/commit/050a6b46f89dd606486409e8794a686d88e9e862)** to **[e8c425b](https://github.com/sagemath/sagetrac-mirror/commit/e8c425bf32f0c4663637ea8f9260af5e61234ea1)**",
    "created_at": "2019-10-26T02:52:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449834",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[050a6b4](https://github.com/sagemath/sagetrac-mirror/commit/050a6b46f89dd606486409e8794a686d88e9e862)** to **[e8c425b](https://github.com/sagemath/sagetrac-mirror/commit/e8c425bf32f0c4663637ea8f9260af5e61234ea1)**



---

archive/issue_comments_449835.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8c425bf32f0c4663637ea8f9260af5e61234ea1\">e8c425b</a></td><td><code>28652: add constructor.py in perm_gps</code></td></tr></table>\n",
    "created_at": "2019-10-26T02:52:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449835",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6" align="right">Comment 6</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8c425bf32f0c4663637ea8f9260af5e61234ea1">e8c425b</a></td><td><code>28652: add constructor.py in perm_gps</code></td></tr></table>




---

archive/issue_events_375340.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-10-26T02:52:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375340"
}
```



---

archive/issue_events_375341.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-10-26T02:52:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375341"
}
```



---

archive/issue_comments_449836.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nfailing doctests with py3 and pyflakes warnings, see the latest patchbot report",
    "created_at": "2019-10-26T09:40:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449836",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:8" align="right">Comment 8</div>

failing doctests with py3 and pyflakes warnings, see the latest patchbot report



---

archive/issue_events_375342.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-10-26T09:40:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375342"
}
```



---

archive/issue_events_375343.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-10-26T09:40:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375343"
}
```



---

archive/issue_comments_449837.json:
```json
{
    "body": "Changed commit from **[e8c425b](https://github.com/sagemath/sagetrac-mirror/commit/e8c425bf32f0c4663637ea8f9260af5e61234ea1)** to **[1903676](https://github.com/sagemath/sagetrac-mirror/commit/1903676e9ab596b7c4a8e8dc08b7348a34ad6a0e)**",
    "created_at": "2019-10-28T03:36:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449837",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e8c425b](https://github.com/sagemath/sagetrac-mirror/commit/e8c425bf32f0c4663637ea8f9260af5e61234ea1)** to **[1903676](https://github.com/sagemath/sagetrac-mirror/commit/1903676e9ab596b7c4a8e8dc08b7348a34ad6a0e)**



---

archive/issue_comments_449838.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d6a83138ce175abac67f1cc5610b9d1ef0b64b07\">d6a8313</a></td><td><code>28652: faster permutation group element</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/68503692c4db5ac6eb64fc27ee789090ad1f80e7\">6850369</a></td><td><code>28652: PermutationGroupElement vs PermutationConstructor</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f3138b1be0d8c97b1e85495f683585072c71ed5\">7f3138b</a></td><td><code>28652: fix doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1903676e9ab596b7c4a8e8dc08b7348a34ad6a0e\">1903676</a></td><td><code>28652: pyflakes</code></td></tr></table>\n",
    "created_at": "2019-10-28T03:36:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449838",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9" align="right">Comment 9</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d6a83138ce175abac67f1cc5610b9d1ef0b64b07">d6a8313</a></td><td><code>28652: faster permutation group element</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/68503692c4db5ac6eb64fc27ee789090ad1f80e7">6850369</a></td><td><code>28652: PermutationGroupElement vs PermutationConstructor</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f3138b1be0d8c97b1e85495f683585072c71ed5">7f3138b</a></td><td><code>28652: fix doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1903676e9ab596b7c4a8e8dc08b7348a34ad6a0e">1903676</a></td><td><code>28652: pyflakes</code></td></tr></table>




---

archive/issue_events_375344.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-10-28T03:36:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375344"
}
```



---

archive/issue_events_375345.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-10-28T03:36:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375345"
}
```



---

archive/issue_comments_449839.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\n(rebased on 9.0.beta3)",
    "created_at": "2019-10-28T03:37:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449839",
    "user": "https://github.com/videlec"
}
```

<div id="comment:11" align="right">Comment 11</div>

(rebased on 9.0.beta3)



---

archive/issue_events_375346.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-10-28T12:06:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375346"
}
```



---

archive/issue_events_375347.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-10-28T12:06:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375347"
}
```



---

archive/issue_comments_449840.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nbadly broken and\n\n```\n+src/sage/combinat/permutation.py:256: 'sage.groups.perm_gps.constructor.PermutationGroupElement as PermutationConstructor' imported but unused\n+src/sage/combinat/permutation.py:439: undefined name 'PermutationGroupElement'\n+src/sage/combinat/permutation.py:6911: undefined name 'PermutationGroupElement'\n+\n+src/sage/geometry/polyhedron/normaliz_file_format.py:25: undefined name 'key'\n+src/sage/geometry/polyhedron/normaliz_file_format.py:30: undefined name 'key'\n+src/sage/geometry/polyhedron/normaliz_file_format.py:34: undefined name 'QQ'\n+src/sage/geometry/polyhedron/normaliz_file_format.py:38: undefined name 'x'\n```",
    "created_at": "2019-10-28T12:06:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449840",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:12" align="right">Comment 12</div>

badly broken and

```
+src/sage/combinat/permutation.py:256: 'sage.groups.perm_gps.constructor.PermutationGroupElement as PermutationConstructor' imported but unused
+src/sage/combinat/permutation.py:439: undefined name 'PermutationGroupElement'
+src/sage/combinat/permutation.py:6911: undefined name 'PermutationGroupElement'
+
+src/sage/geometry/polyhedron/normaliz_file_format.py:25: undefined name 'key'
+src/sage/geometry/polyhedron/normaliz_file_format.py:30: undefined name 'key'
+src/sage/geometry/polyhedron/normaliz_file_format.py:34: undefined name 'QQ'
+src/sage/geometry/polyhedron/normaliz_file_format.py:38: undefined name 'x'
```



---

archive/issue_comments_449841.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4708b0954c62b161afa083deac4dbe414e91cc3\">c4708b0</a></td><td><code>28652: fix doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1432b7ba16c98264e7cac3b61f4a8f2b6c195922\">1432b7b</a></td><td><code>28652: pyflakes</code></td></tr></table>\n",
    "created_at": "2019-10-28T12:51:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449841",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13" align="right">Comment 13</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4708b0954c62b161afa083deac4dbe414e91cc3">c4708b0</a></td><td><code>28652: fix doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1432b7ba16c98264e7cac3b61f4a8f2b6c195922">1432b7b</a></td><td><code>28652: pyflakes</code></td></tr></table>




---

archive/issue_comments_449842.json:
```json
{
    "body": "Changed commit from **[1903676](https://github.com/sagemath/sagetrac-mirror/commit/1903676e9ab596b7c4a8e8dc08b7348a34ad6a0e)** to **[1432b7b](https://github.com/sagemath/sagetrac-mirror/commit/1432b7ba16c98264e7cac3b61f4a8f2b6c195922)**",
    "created_at": "2019-10-28T12:51:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449842",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1903676](https://github.com/sagemath/sagetrac-mirror/commit/1903676e9ab596b7c4a8e8dc08b7348a34ad6a0e)** to **[1432b7b](https://github.com/sagemath/sagetrac-mirror/commit/1432b7ba16c98264e7cac3b61f4a8f2b6c195922)**



---

archive/issue_events_375348.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-10-28T12:51:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375348"
}
```



---

archive/issue_events_375349.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-10-28T12:51:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375349"
}
```



---

archive/issue_comments_449843.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nD\u00e9sol\u00e9. J'ai fait n'importe quoi avec la branche.",
    "created_at": "2019-10-28T12:51:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449843",
    "user": "https://github.com/videlec"
}
```

<div id="comment:14" align="right">Comment 14</div>

Désolé. J'ai fait n'importe quoi avec la branche.



---

archive/issue_comments_449844.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da341eb7effb50095689b9a0920146788052c832\">da341eb</a></td><td><code>28652: make code coverage and sphinx happier</code></td></tr></table>\n",
    "created_at": "2019-10-28T14:22:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449844",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15" align="right">Comment 15</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da341eb7effb50095689b9a0920146788052c832">da341eb</a></td><td><code>28652: make code coverage and sphinx happier</code></td></tr></table>




---

archive/issue_comments_449845.json:
```json
{
    "body": "Changed commit from **[1432b7b](https://github.com/sagemath/sagetrac-mirror/commit/1432b7ba16c98264e7cac3b61f4a8f2b6c195922)** to **[da341eb](https://github.com/sagemath/sagetrac-mirror/commit/da341eb7effb50095689b9a0920146788052c832)**",
    "created_at": "2019-10-28T14:22:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449845",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1432b7b](https://github.com/sagemath/sagetrac-mirror/commit/1432b7ba16c98264e7cac3b61f4a8f2b6c195922)** to **[da341eb](https://github.com/sagemath/sagetrac-mirror/commit/da341eb7effb50095689b9a0920146788052c832)**



---

archive/issue_comments_449846.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,36 @@\n As part of #28539 we rewrite simplify some of the datastructure of `PermutationGroupElement` and rewrite the constructor to make it much faster.\n+\n+Here are some performance gain comparing 9.0.beta3 (\"OLD\") against the code provided in the branch (\"NEW\")\n+- Constructor\n+\n+```\n+sage: S = SymmetricGroup(10)\n+sage: %timeit -n 10000 p = S([3,1,7,6,8,2,9,10,5,4])\n+NEW: 10000 loops, best of 5: 155 \u00b5s per loop\n+OLD: 10000 loops, best of 5: 227 \u00b5s per loop\n+sage: %timeit -n 10000 p = S([(3,1),(7,6,8,2),(9,10,5,4)])\n+NEW: 10000 loops, best of 5: 168 \u00b5s per loop\n+OLD: 10000 loops, best of 5: 201 \u00b5s per loop\n+```\n+- iteration of monogen group\n+\n+```\n+sage: P = S.subgroup([(1,2,3,4,5,6)])\n+sage: %timeit for p in P: pass\n+NEW: 100000 loops, best of 5: 2.71 \u00b5s per loop\n+OLD: 1000 loops, best of 5: 252 \u00b5s per loop\n+```\n+- multiplication of permutation with distinct parents\n+\n+```\n+sage: S = SymmetricGroup(7)\n+sage: P = S.subgroup([(1,2,3,4,5,6,7)])\n+sage: L1 = list(S)\n+sage: L2 = list(P)\n+sage: %%time\n+....: for s1 in L1:\n+....:     for s2 in L2:\n+....:         q = s1 * s2\n+NEW: Wall time: 11.4 ms\n+OLD: Wall time: 1.42 s\n+```\n``````\n",
    "created_at": "2019-10-28T14:35:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449846",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,36 @@
 As part of #28539 we rewrite simplify some of the datastructure of `PermutationGroupElement` and rewrite the constructor to make it much faster.
+
+Here are some performance gain comparing 9.0.beta3 ("OLD") against the code provided in the branch ("NEW")
+- Constructor
+
+```
+sage: S = SymmetricGroup(10)
+sage: %timeit -n 10000 p = S([3,1,7,6,8,2,9,10,5,4])
+NEW: 10000 loops, best of 5: 155 µs per loop
+OLD: 10000 loops, best of 5: 227 µs per loop
+sage: %timeit -n 10000 p = S([(3,1),(7,6,8,2),(9,10,5,4)])
+NEW: 10000 loops, best of 5: 168 µs per loop
+OLD: 10000 loops, best of 5: 201 µs per loop
+```
+- iteration of monogen group
+
+```
+sage: P = S.subgroup([(1,2,3,4,5,6)])
+sage: %timeit for p in P: pass
+NEW: 100000 loops, best of 5: 2.71 µs per loop
+OLD: 1000 loops, best of 5: 252 µs per loop
+```
+- multiplication of permutation with distinct parents
+
+```
+sage: S = SymmetricGroup(7)
+sage: P = S.subgroup([(1,2,3,4,5,6,7)])
+sage: L1 = list(S)
+sage: L2 = list(P)
+sage: %%time
+....: for s1 in L1:
+....:     for s2 in L2:
+....:         q = s1 * s2
+NEW: Wall time: 11.4 ms
+OLD: Wall time: 1.42 s
+```
``````




---

archive/issue_comments_449847.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nThis is still room for improvement for the constructor as it is 10x slower than\n\n```\nsage: %timeit -n 10000 Permutation([3,1,7,6,8,2,9,10,5,4])\n10000 loops, best of 5: 15 \u00b5s per loop\n```\nThough, with `check=False` it is now faster\n\n```\nsage: S = SymmetricGroup(10)\nsage: %timeit -n 10000 S([3,1,7,6,8,2,9,10,5,4], check=False)\nNEW: 10000 loops, best of 5: 4.16 \u00b5s per loop\nOLD: 10000 loops, best of 5: 59.3 \u00b5s per loop\n```",
    "created_at": "2019-10-28T14:38:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449847",
    "user": "https://github.com/videlec"
}
```

<div id="comment:17" align="right">Comment 17</div>

This is still room for improvement for the constructor as it is 10x slower than

```
sage: %timeit -n 10000 Permutation([3,1,7,6,8,2,9,10,5,4])
10000 loops, best of 5: 15 µs per loop
```
Though, with `check=False` it is now faster

```
sage: S = SymmetricGroup(10)
sage: %timeit -n 10000 S([3,1,7,6,8,2,9,10,5,4], check=False)
NEW: 10000 loops, best of 5: 4.16 µs per loop
OLD: 10000 loops, best of 5: 59.3 µs per loop
```



---

archive/issue_comments_449848.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nI don't quite understand\n\n```\n+[dochtml] Error building the documentation.\n+[dochtml] Traceback (most recent call last):\n+[dochtml]   File \"/home/chapoton/sage/local/lib/python2.7/runpy.py\", line 174, in _run_module_as_main\n+[dochtml]     \"__main__\", fname, loader, pkg_name)\n+[dochtml]   File \"/home/chapoton/sage/local/lib/python2.7/runpy.py\", line 72, in _run_code\n+[dochtml]     exec code in run_globals\n+[dochtml]   File \"/home/chapoton/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__main__.py\", line 2, in <module>\n+[dochtml]     main()\n+[dochtml]   File \"/home/chapoton/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py\", line 1693, in main\n+[dochtml]     builder()\n+[dochtml]   File \"/home/chapoton/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py\", line 327, in _wrapper\n+[dochtml]     getattr(get_builder(document), 'inventory')(*args, **kwds)\n+[dochtml]   File \"/home/chapoton/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py\", line 526, in _wrapper\n+[dochtml]     build_many(build_ref_doc, L)\n+[dochtml]   File \"/home/chapoton/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py\", line 280, in build_many\n+[dochtml]     _build_many(target, args, processes=NUM_THREADS)\n+[dochtml]   File \"/home/chapoton/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/utils.py\", line 283, in build_many\n+[dochtml]     raise worker_exc.original_exception\n+[dochtml] OSError: docstring of sage.plot.plot3d.base.Graphics3d.stl_ascii_string:48: WARNING: Block quote ends without a blank line; unexpected unindent.\n+Makefile:2040: recipe for target 'doc-html' failed\n```",
    "created_at": "2019-10-28T15:59:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449848",
    "user": "https://github.com/videlec"
}
```

<div id="comment:18" align="right">Comment 18</div>

I don't quite understand

```
+[dochtml] Error building the documentation.
+[dochtml] Traceback (most recent call last):
+[dochtml]   File "/home/chapoton/sage/local/lib/python2.7/runpy.py", line 174, in _run_module_as_main
+[dochtml]     "__main__", fname, loader, pkg_name)
+[dochtml]   File "/home/chapoton/sage/local/lib/python2.7/runpy.py", line 72, in _run_code
+[dochtml]     exec code in run_globals
+[dochtml]   File "/home/chapoton/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__main__.py", line 2, in <module>
+[dochtml]     main()
+[dochtml]   File "/home/chapoton/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 1693, in main
+[dochtml]     builder()
+[dochtml]   File "/home/chapoton/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 327, in _wrapper
+[dochtml]     getattr(get_builder(document), 'inventory')(*args, **kwds)
+[dochtml]   File "/home/chapoton/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 526, in _wrapper
+[dochtml]     build_many(build_ref_doc, L)
+[dochtml]   File "/home/chapoton/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 280, in build_many
+[dochtml]     _build_many(target, args, processes=NUM_THREADS)
+[dochtml]   File "/home/chapoton/sage/local/lib/python2.7/site-packages/sage_setup/docbuild/utils.py", line 283, in build_many
+[dochtml]     raise worker_exc.original_exception
+[dochtml] OSError: docstring of sage.plot.plot3d.base.Graphics3d.stl_ascii_string:48: WARNING: Block quote ends without a blank line; unexpected unindent.
+Makefile:2040: recipe for target 'doc-html' failed
```



---

archive/issue_comments_449849.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0ae58b68354c706ec2a6e590e6e9b468e34fafcc\">0ae58b6</a></td><td><code>28652: another try for sphinx</code></td></tr></table>\n",
    "created_at": "2019-10-28T16:11:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449849",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19" align="right">Comment 19</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0ae58b68354c706ec2a6e590e6e9b468e34fafcc">0ae58b6</a></td><td><code>28652: another try for sphinx</code></td></tr></table>




---

archive/issue_comments_449850.json:
```json
{
    "body": "Changed commit from **[da341eb](https://github.com/sagemath/sagetrac-mirror/commit/da341eb7effb50095689b9a0920146788052c832)** to **[0ae58b6](https://github.com/sagemath/sagetrac-mirror/commit/0ae58b68354c706ec2a6e590e6e9b468e34fafcc)**",
    "created_at": "2019-10-28T16:11:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449850",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[da341eb](https://github.com/sagemath/sagetrac-mirror/commit/da341eb7effb50095689b9a0920146788052c832)** to **[0ae58b6](https://github.com/sagemath/sagetrac-mirror/commit/0ae58b68354c706ec2a6e590e6e9b468e34fafcc)**



---

archive/issue_comments_449851.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49dce983238ef7755e43e606e291573d9be68121\">49dce98</a></td><td><code>28652: make pyflakes even happier</code></td></tr></table>\n",
    "created_at": "2019-10-28T16:18:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449851",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20" align="right">Comment 20</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49dce983238ef7755e43e606e291573d9be68121">49dce98</a></td><td><code>28652: make pyflakes even happier</code></td></tr></table>




---

archive/issue_comments_449852.json:
```json
{
    "body": "Changed commit from **[0ae58b6](https://github.com/sagemath/sagetrac-mirror/commit/0ae58b68354c706ec2a6e590e6e9b468e34fafcc)** to **[49dce98](https://github.com/sagemath/sagetrac-mirror/commit/49dce983238ef7755e43e606e291573d9be68121)**",
    "created_at": "2019-10-28T16:18:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449852",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0ae58b6](https://github.com/sagemath/sagetrac-mirror/commit/0ae58b68354c706ec2a6e590e6e9b468e34fafcc)** to **[49dce98](https://github.com/sagemath/sagetrac-mirror/commit/49dce983238ef7755e43e606e291573d9be68121)**



---

archive/issue_comments_449853.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nplease undo your last change, and add a note besides saying DO NOT REMOVE",
    "created_at": "2019-10-28T16:33:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449853",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:21" align="right">Comment 21</div>

please undo your last change, and add a note besides saying DO NOT REMOVE



---

archive/issue_comments_449854.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nWhy? The function call has a side effect. Not the affectation. Doesn't it?",
    "created_at": "2019-10-28T16:56:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449854",
    "user": "https://github.com/videlec"
}
```

<div id="comment:22" align="right">Comment 22</div>

Why? The function call has a side effect. Not the affectation. Doesn't it?



---

archive/issue_comments_449855.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nWell, it seems to have, if I remember correctly.Maybe some kind of reference-keeping, or whatever. This is not the first removal tentative, nad we should have added the warning before.",
    "created_at": "2019-10-28T16:59:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449855",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:23" align="right">Comment 23</div>

Well, it seems to have, if I remember correctly.Maybe some kind of reference-keeping, or whatever. This is not the first removal tentative, nad we should have added the warning before.



---

archive/issue_comments_449856.json:
```json
{
    "body": "Changed commit from **[49dce98](https://github.com/sagemath/sagetrac-mirror/commit/49dce983238ef7755e43e606e291573d9be68121)** to **[20e30ad](https://github.com/sagemath/sagetrac-mirror/commit/20e30ade9751f27ef30ea8d528468c9ce3a4b496)**",
    "created_at": "2019-10-28T17:05:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449856",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[49dce98](https://github.com/sagemath/sagetrac-mirror/commit/49dce983238ef7755e43e606e291573d9be68121)** to **[20e30ad](https://github.com/sagemath/sagetrac-mirror/commit/20e30ade9751f27ef30ea8d528468c9ce3a4b496)**



---

archive/issue_comments_449857.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/20e30ade9751f27ef30ea8d528468c9ce3a4b496\">20e30ad</a></td><td><code>28652: clearer comment wrt to side-effect affectation</code></td></tr></table>\n",
    "created_at": "2019-10-28T17:05:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449857",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24" align="right">Comment 24</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/20e30ade9751f27ef30ea8d528468c9ce3a4b496">20e30ad</a></td><td><code>28652: clearer comment wrt to side-effect affectation</code></td></tr></table>




---

archive/issue_comments_449858.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nCette fois le patchbot est content!",
    "created_at": "2019-10-29T13:45:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449858",
    "user": "https://github.com/videlec"
}
```

<div id="comment:25" align="right">Comment 25</div>

Cette fois le patchbot est content!



---

archive/issue_comments_449859.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\n(1) May we please have, in the new file src/sage/groups/perm_gps/constructor.py:\n\n* some more explanations of what it contains and how it should be used\n\n* the standard Gnu license header\n\n* include this file in the doc somewhere\n\n(2) Typo: \"the code is assumes\"\n\n(3) please wrap the very long line starting \"raise ValueError(\"the parent must be provided to initialize a class Perm\"",
    "created_at": "2019-10-29T19:20:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449859",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:26" align="right">Comment 26</div>

(1) May we please have, in the new file src/sage/groups/perm_gps/constructor.py:

* some more explanations of what it contains and how it should be used

* the standard Gnu license header

* include this file in the doc somewhere

(2) Typo: "the code is assumes"

(3) please wrap the very long line starting "raise ValueError("the parent must be provided to initialize a class Perm"



---

archive/issue_comments_449860.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/931a5b17fa7299f70ff33d713324d323bda2b4ce\">931a5b1</a></td><td><code>28652: documentation, copyright and code indentation</code></td></tr></table>\n",
    "created_at": "2019-10-30T02:39:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449860",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27" align="right">Comment 27</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/931a5b17fa7299f70ff33d713324d323bda2b4ce">931a5b1</a></td><td><code>28652: documentation, copyright and code indentation</code></td></tr></table>




---

archive/issue_comments_449861.json:
```json
{
    "body": "Changed commit from **[20e30ad](https://github.com/sagemath/sagetrac-mirror/commit/20e30ade9751f27ef30ea8d528468c9ce3a4b496)** to **[931a5b1](https://github.com/sagemath/sagetrac-mirror/commit/931a5b17fa7299f70ff33d713324d323bda2b4ce)**",
    "created_at": "2019-10-30T02:39:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449861",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[20e30ad](https://github.com/sagemath/sagetrac-mirror/commit/20e30ade9751f27ef30ea8d528468c9ce3a4b496)** to **[931a5b1](https://github.com/sagemath/sagetrac-mirror/commit/931a5b17fa7299f70ff33d713324d323bda2b4ce)**



---

archive/issue_comments_449862.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nThanks. Done!",
    "created_at": "2019-10-30T02:40:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449862",
    "user": "https://github.com/videlec"
}
```

<div id="comment:28" align="right">Comment 28</div>

Thanks. Done!



---

archive/issue_comments_449863.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\n`@`Fr\u00e9d\u00e9ric: any further comment?",
    "created_at": "2019-10-31T15:18:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449863",
    "user": "https://github.com/videlec"
}
```

<div id="comment:29" align="right">Comment 29</div>

`@`Frédéric: any further comment?



---

archive/issue_comments_449864.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nSome little details in the `constructor.py`:\n\n- `{1, ..., n}` -> `\\{1, \\ldots, n\\}` and in latex format (this gets automatically changed when called as `?` doc).\n- The error message should start with a lower case (a Python convention).\n\nShould the `_set_*` really be `cpdef` and not just `cdef`? Past experiments I've done have shown that `cpdef` is slower.\n\nI am not sure I see the point of having the constructor in a separate file. It also causes us to do two imports in what I would see as the most common scenario, when `parent is None`. Also, in that case, I don't see the point of doing the check again since it was already done in constructing the parent. In other words, I think you should add `check = False` to that case.",
    "created_at": "2019-10-31T22:01:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449864",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:30" align="right">Comment 30</div>

Some little details in the `constructor.py`:

- `{1, ..., n}` -> `\{1, \ldots, n\}` and in latex format (this gets automatically changed when called as `?` doc).
- The error message should start with a lower case (a Python convention).

Should the `_set_*` really be `cpdef` and not just `cdef`? Past experiments I've done have shown that `cpdef` is slower.

I am not sure I see the point of having the constructor in a separate file. It also causes us to do two imports in what I would see as the most common scenario, when `parent is None`. Also, in that case, I don't see the point of doing the check again since it was already done in constructing the parent. In other words, I think you should add `check = False` to that case.



---

archive/issue_comments_449865.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nReplying to [@tscrim](#comment%3A30):\n> Some little details in the `constructor.py`:\n> \n> - `{1, ..., n}` -> `\\{1, \\ldots, n\\}` and in latex format (this gets automatically changed when called as `?` doc).\n> - The error message should start with a lower case (a Python convention).\n> \n> Should the `_set_*` really be `cpdef` and not just `cdef`? Past experiments I've done have shown that `cpdef` is slower.\n\nBut then you can not call it from Python code.\n\n> I am not sure I see the point of having the constructor in a separate file. It also causes us to do two imports in what I would see as the most common scenario, when `parent is None`. Also, in that case, I don't see the point of doing the check again since it was already done in constructing the parent. In other words, I think you should add `check = False` to that case.\n\nYou can not avoid having it in a separate file since they have the same name :-) Also the constructor file is pure python. I don't see the point of making it extremely fast. What is relevant is the timing I put in the ticket description (ie the `_element_constructor_` of permutation groups). Contrarily to the `PermutationGroupElement` constructor, the `_element_constructor_` of the parent is used by any method of permutation group that has to create elements.",
    "created_at": "2019-10-31T22:05:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449865",
    "user": "https://github.com/videlec"
}
```

<div id="comment:31" align="right">Comment 31</div>

Replying to [@tscrim](#comment%3A30):
> Some little details in the `constructor.py`:
> 
> - `{1, ..., n}` -> `\{1, \ldots, n\}` and in latex format (this gets automatically changed when called as `?` doc).
> - The error message should start with a lower case (a Python convention).
> 
> Should the `_set_*` really be `cpdef` and not just `cdef`? Past experiments I've done have shown that `cpdef` is slower.

But then you can not call it from Python code.

> I am not sure I see the point of having the constructor in a separate file. It also causes us to do two imports in what I would see as the most common scenario, when `parent is None`. Also, in that case, I don't see the point of doing the check again since it was already done in constructing the parent. In other words, I think you should add `check = False` to that case.

You can not avoid having it in a separate file since they have the same name :-) Also the constructor file is pure python. I don't see the point of making it extremely fast. What is relevant is the timing I put in the ticket description (ie the `_element_constructor_` of permutation groups). Contrarily to the `PermutationGroupElement` constructor, the `_element_constructor_` of the parent is used by any method of permutation group that has to create elements.



---

archive/issue_comments_449866.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nReplying to [@videlec](#comment%3A31):\n> Replying to [@tscrim](#comment%3A30):\n> > Some little details in the `constructor.py`:\n> > \n> > - `{1, ..., n}` -> `\\{1, \\ldots, n\\}` and in latex format (this gets automatically changed when called as `?` doc).\n> > - The error message should start with a lower case (a Python convention).\n> > \n> > Should the `_set_*` really be `cpdef` and not just `cdef`? Past experiments I've done have shown that `cpdef` is slower.\n\n> \n> But then you can not call it from Python code.\n\nOf course, but do we really want to be able to do that? They seem very internal and are only meant to be called as part of the constructor.\n\n> > I am not sure I see the point of having the constructor in a separate file. It also causes us to do two imports in what I would see as the most common scenario, when `parent is None`. Also, in that case, I don't see the point of doing the check again since it was already done in constructing the parent. In other words, I think you should add `check = False` to that case.\n\n> \n> You can not avoid having it in a separate file since they have the same name :-) Also the constructor file is pure python. I don't see the point of making it extremely fast. What is relevant is the timing I put in the ticket description (ie the `_element_constructor_` of permutation groups). Contrarily to the `PermutationGroupElement` constructor, the `_element_constructor_` of the parent is used by any method of permutation group that has to create elements.\n\nThe name can easily be changed. `;)`  Although it sounds like what you are saying is that in library code, we should not use the constructor function. Why not also try and make it fast too? I trying to understand the logic of your design, and I am not saying it is bad/wrong, but I just don't yet comprehend it yet.",
    "created_at": "2019-10-31T22:14:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449866",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:32" align="right">Comment 32</div>

Replying to [@videlec](#comment%3A31):
> Replying to [@tscrim](#comment%3A30):
> > Some little details in the `constructor.py`:
> > 
> > - `{1, ..., n}` -> `\{1, \ldots, n\}` and in latex format (this gets automatically changed when called as `?` doc).
> > - The error message should start with a lower case (a Python convention).
> > 
> > Should the `_set_*` really be `cpdef` and not just `cdef`? Past experiments I've done have shown that `cpdef` is slower.

> 
> But then you can not call it from Python code.

Of course, but do we really want to be able to do that? They seem very internal and are only meant to be called as part of the constructor.

> > I am not sure I see the point of having the constructor in a separate file. It also causes us to do two imports in what I would see as the most common scenario, when `parent is None`. Also, in that case, I don't see the point of doing the check again since it was already done in constructing the parent. In other words, I think you should add `check = False` to that case.

> 
> You can not avoid having it in a separate file since they have the same name :-) Also the constructor file is pure python. I don't see the point of making it extremely fast. What is relevant is the timing I put in the ticket description (ie the `_element_constructor_` of permutation groups). Contrarily to the `PermutationGroupElement` constructor, the `_element_constructor_` of the parent is used by any method of permutation group that has to create elements.

The name can easily be changed. `;)`  Although it sounds like what you are saying is that in library code, we should not use the constructor function. Why not also try and make it fast too? I trying to understand the logic of your design, and I am not saying it is bad/wrong, but I just don't yet comprehend it yet.



---

archive/issue_comments_449867.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\nReplying to [@tscrim](#comment%3A32):\n> Replying to [@videlec](#comment%3A31):\n> > Replying to [@tscrim](#comment%3A30):\n> > > Some little details in the `constructor.py`:\n> > > \n> > > - `{1, ..., n}` -> `\\{1, \\ldots, n\\}` and in latex format (this gets automatically changed when called as `?` doc).\n> > > - The error message should start with a lower case (a Python convention).\n> > > \n> > > Should the `_set_*` really be `cpdef` and not just `cdef`? Past experiments I've done have shown that `cpdef` is slower.\n\n> > \n> > But then you can not call it from Python code.\n\n> \n> Of course, but do we really want to be able to do that? They seem very internal and are only meant to be called as part of the constructor.\n\nIt is always convenient to be able to mutate a permutation without having to reallocate space for a new permutation. Even from Python. This hidden cpdef functions allows me to do the following\n\n```\nsage: from itertools import permutations\nsage: p = PermutationGroupElement([1,2,3,4,5])\nsage: %time for q in permutations([1,2,3,4,5]): p._set_list_images(q, False)\nWall time: 45.1 \u00b5s\n```\nThe above is very convenient and infinitely faster than\n\n```\nsage: S = SymmetricGroup(5)\nsage: %time for q in permutations([1,2,3,4,5]): p = S(q)\nWall time: 22.6 ms\n```\n\nAs far as performance are concerned, I don't believe that here `cpdef` vs `cdef` matter in any way. Since `cdef` is just less flexible I would just stick with `cpdef`.\n\n> > > I am not sure I see the point of having the constructor in a separate file. It also causes us to do two imports in what I would see as the most common scenario, when `parent is None`. Also, in that case, I don't see the point of doing the check again since it was already done in constructing the parent. In other words, I think you should add `check = False` to that case.\n\n> > \n> > You can not avoid having it in a separate file since they have the same name :-) Also the constructor file is pure python. I don't see the point of making it extremely fast. What is relevant is the timing I put in the ticket description (ie the `_element_constructor_` of permutation groups). Contrarily to the `PermutationGroupElement` constructor, the `_element_constructor_` of the parent is used by any method of permutation group that has to create elements.\n\n> \n> The name can easily be changed. `;)`  Although it sounds like what you are saying is that in library code, we should not use the constructor function.\n\nYes. You should use `my_parent(data)` and not `GenericConstructor(data)`. This is what is done everywhere in `sage.groups.perm_gps` (and also for matrix and co). I am not introducing any new design here.\n\n> Why not also try and make it fast too?\n\nYou are welcome to do so. But it comes as a second step anyway.\n\n> I trying to understand the logic of your design, and I am not saying it is bad/wrong, but I just don't yet comprehend it yet.\n\nI hope I clarified it :-)",
    "created_at": "2019-10-31T23:02:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449867",
    "user": "https://github.com/videlec"
}
```

<div id="comment:33" align="right">Comment 33</div>

Replying to [@tscrim](#comment%3A32):
> Replying to [@videlec](#comment%3A31):
> > Replying to [@tscrim](#comment%3A30):
> > > Some little details in the `constructor.py`:
> > > 
> > > - `{1, ..., n}` -> `\{1, \ldots, n\}` and in latex format (this gets automatically changed when called as `?` doc).
> > > - The error message should start with a lower case (a Python convention).
> > > 
> > > Should the `_set_*` really be `cpdef` and not just `cdef`? Past experiments I've done have shown that `cpdef` is slower.

> > 
> > But then you can not call it from Python code.

> 
> Of course, but do we really want to be able to do that? They seem very internal and are only meant to be called as part of the constructor.

It is always convenient to be able to mutate a permutation without having to reallocate space for a new permutation. Even from Python. This hidden cpdef functions allows me to do the following

```
sage: from itertools import permutations
sage: p = PermutationGroupElement([1,2,3,4,5])
sage: %time for q in permutations([1,2,3,4,5]): p._set_list_images(q, False)
Wall time: 45.1 µs
```
The above is very convenient and infinitely faster than

```
sage: S = SymmetricGroup(5)
sage: %time for q in permutations([1,2,3,4,5]): p = S(q)
Wall time: 22.6 ms
```

As far as performance are concerned, I don't believe that here `cpdef` vs `cdef` matter in any way. Since `cdef` is just less flexible I would just stick with `cpdef`.

> > > I am not sure I see the point of having the constructor in a separate file. It also causes us to do two imports in what I would see as the most common scenario, when `parent is None`. Also, in that case, I don't see the point of doing the check again since it was already done in constructing the parent. In other words, I think you should add `check = False` to that case.

> > 
> > You can not avoid having it in a separate file since they have the same name :-) Also the constructor file is pure python. I don't see the point of making it extremely fast. What is relevant is the timing I put in the ticket description (ie the `_element_constructor_` of permutation groups). Contrarily to the `PermutationGroupElement` constructor, the `_element_constructor_` of the parent is used by any method of permutation group that has to create elements.

> 
> The name can easily be changed. `;)`  Although it sounds like what you are saying is that in library code, we should not use the constructor function.

Yes. You should use `my_parent(data)` and not `GenericConstructor(data)`. This is what is done everywhere in `sage.groups.perm_gps` (and also for matrix and co). I am not introducing any new design here.

> Why not also try and make it fast too?

You are welcome to do so. But it comes as a second step anyway.

> I trying to understand the logic of your design, and I am not saying it is bad/wrong, but I just don't yet comprehend it yet.

I hope I clarified it :-)



---

archive/issue_events_375350.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-11-06T06:37:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375350"
}
```



---

archive/issue_events_375351.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-11-06T06:37:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/performance",
    "label_color": "696969",
    "label_name": "performance",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375351"
}
```



---

archive/issue_comments_449868.json:
```json
{
    "body": "Changed branch from **[u/vdelecroix/28652](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/28652)** to **[public/perm_groups/constructor_perm_gp_elt-28652](https://github.com/sagemath/sagetrac-mirror/tree/public/perm_groups/constructor_perm_gp_elt-28652)**",
    "created_at": "2019-11-06T06:37:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449868",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/vdelecroix/28652](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/28652)** to **[public/perm_groups/constructor_perm_gp_elt-28652](https://github.com/sagemath/sagetrac-mirror/tree/public/perm_groups/constructor_perm_gp_elt-28652)**



---

archive/issue_comments_449869.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\nReplying to [@videlec](#comment%3A33):\n> Replying to [@tscrim](#comment%3A32):\n> > Replying to [@videlec](#comment%3A31):\n> > > Replying to [@tscrim](#comment%3A30):\n\n> It is always convenient to be able to mutate a permutation without having to reallocate space for a new permutation. Even from Python. This hidden cpdef functions allows me to do the following\n> \n> ```\n> sage: from itertools import permutations\n> sage: p = PermutationGroupElement([1,2,3,4,5])\n> sage: %time for q in permutations([1,2,3,4,5]): p._set_list_images(q, False)\n> Wall time: 45.1 \u00b5s\n> ```\n> The above is very convenient and infinitely faster than\n> \n> ```\n> sage: S = SymmetricGroup(5)\n> sage: %time for q in permutations([1,2,3,4,5]): p = S(q)\n> Wall time: 22.6 ms\n> ```\n\nThat is an abuse of the code IMO (borderlining on a straw-man argument). You really should just be iterating over the corresponding permutation group here. However, I will not be arguing this point (see below).\n\n> As far as performance are concerned, I don't believe that here `cpdef` vs `cdef` matter in any way. Since `cdef` is just less flexible I would just stick with `cpdef`.\n\nI have seen slowdowns when writing things with `cpdef` versus `cdef`. In particular this comes from indirect calls:\n\n```\nsage: %%cython\n....: cpdef int f_cpdef():\n....:     return 5\n....: cdef int f_cdef():\n....:     return 5\n....: cdef int indirect_cpdef():\n....:     return f_cpdef()\n....: cdef int indirect_cdef():\n....:     return f_cdef()\n....: def test_cpdef():\n....:     return indirect_cpdef()\n....: def test_cdef():\n....:     return indirect_cdef()\n....: \nsage: %timeit test_cdef()\n100000000 loops, best of 3: 19.3 ns per loop\nsage: %timeit test_cpdef()\n100000000 loops, best of 3: 19.4 ns per loop\n```\nYes, I know ~1% slowdown is not much, but I am consistently getting it and it can stack up. I have seen 10-20% slowdowns in actual code by changing `cdef` to `cpdef`. Although this might not still exist in the current Cython version. I also am not noticing any change in timings for the simple tests I am running. So this isn't anything worth arguing about, but I just wanted to point it out.\n\n> > The name can easily be changed. `;)`  Although it sounds like what you are saying is that in library code, we should not use the constructor function.\n\n> \n> Yes. You should use `my_parent(data)` and not `GenericConstructor(data)`. This is what is done everywhere in `sage.groups.perm_gps` (and also for matrix and co). I am not introducing any new design here.\n\nWell, I guess you are making an equal swap in the other parts of the library code. Although we do get a bit of a slowdown:\n\n```\nsage: %timeit PermutationGroupElement([1,5,3,2,4])\nNEW: 10000 loops, best of 3: 167 \u00b5s per loop\nOLD: 10000 loops, best of 3: 162 \u00b5s per loop\n```\nHowever, this isn't really a big deal.\n\n> > Why not also try and make it fast too?\n\n> \n> You are welcome to do so. But it comes as a second step anyway.\n\nI also removed some of the to-and-from cycles in constructing permutation group elements. The code is a little more complex, but it does pick up some speed.\nTimings that have changed versus your branch:\n\n```\nsage: from sage.groups.perm_gps.permgroup_element import standardize_generator\nsage: %timeit standardize_generator([3,1,7,6,8,2,9,10,5,4])\nNEW: 100000 loops, best of 3: 3.65 \u00b5s per loop\nOLD: 10000 loops, best of 3: 22.4 \u00b5s per loop\nsage: g1 = PermutationGroupElement([(1,2),(3,4,5)])\nsage: g2 = PermutationGroup([('a','b')], domain=['a', 'b']).gens()[0]\nsage: %timeit g1 * g2\nNEW: 10000 loops, best of 3: 37.5 \u00b5s per loop\nOLD: 10000 loops, best of 3: 38.6 \u00b5s per loop\nsage: S = SymmetricGroup(10)\nsage: P = S.subgroup([(1,2,3,4,5,6,7)])\nsage: %timeit for p in P: S(p)\nNEW: 100000 loops, best of 3: 15.9 \u00b5s per loop\nOLD: 10000 loops, best of 3: 19.9 \u00b5s per loop\n```\n\nLet me know what you think.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ae3fc0120682644ecdeb295ad78fd16cc3c9053\">3ae3fc0</a></td><td><code>Merge branch 'u/vdelecroix/28652' of git://trac.sagemath.org/sage into public/perm_groups/constructor_perm_gp_elt-28652</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/747519c5df3d55c534c5556803f0e8bcf287ab48\">747519c</a></td><td><code>Fixing some details and docs.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1cdef35cdf01b437bc569a47e006e264f3306a8f\">1cdef35</a></td><td><code>Trying to avoid going to-from cycles more often.</code></td></tr></table>\n",
    "created_at": "2019-11-06T06:37:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449869",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:34" align="right">Comment 34</div>

Replying to [@videlec](#comment%3A33):
> Replying to [@tscrim](#comment%3A32):
> > Replying to [@videlec](#comment%3A31):
> > > Replying to [@tscrim](#comment%3A30):

> It is always convenient to be able to mutate a permutation without having to reallocate space for a new permutation. Even from Python. This hidden cpdef functions allows me to do the following
> 
> ```
> sage: from itertools import permutations
> sage: p = PermutationGroupElement([1,2,3,4,5])
> sage: %time for q in permutations([1,2,3,4,5]): p._set_list_images(q, False)
> Wall time: 45.1 µs
> ```
> The above is very convenient and infinitely faster than
> 
> ```
> sage: S = SymmetricGroup(5)
> sage: %time for q in permutations([1,2,3,4,5]): p = S(q)
> Wall time: 22.6 ms
> ```

That is an abuse of the code IMO (borderlining on a straw-man argument). You really should just be iterating over the corresponding permutation group here. However, I will not be arguing this point (see below).

> As far as performance are concerned, I don't believe that here `cpdef` vs `cdef` matter in any way. Since `cdef` is just less flexible I would just stick with `cpdef`.

I have seen slowdowns when writing things with `cpdef` versus `cdef`. In particular this comes from indirect calls:

```
sage: %%cython
....: cpdef int f_cpdef():
....:     return 5
....: cdef int f_cdef():
....:     return 5
....: cdef int indirect_cpdef():
....:     return f_cpdef()
....: cdef int indirect_cdef():
....:     return f_cdef()
....: def test_cpdef():
....:     return indirect_cpdef()
....: def test_cdef():
....:     return indirect_cdef()
....: 
sage: %timeit test_cdef()
100000000 loops, best of 3: 19.3 ns per loop
sage: %timeit test_cpdef()
100000000 loops, best of 3: 19.4 ns per loop
```
Yes, I know ~1% slowdown is not much, but I am consistently getting it and it can stack up. I have seen 10-20% slowdowns in actual code by changing `cdef` to `cpdef`. Although this might not still exist in the current Cython version. I also am not noticing any change in timings for the simple tests I am running. So this isn't anything worth arguing about, but I just wanted to point it out.

> > The name can easily be changed. `;)`  Although it sounds like what you are saying is that in library code, we should not use the constructor function.

> 
> Yes. You should use `my_parent(data)` and not `GenericConstructor(data)`. This is what is done everywhere in `sage.groups.perm_gps` (and also for matrix and co). I am not introducing any new design here.

Well, I guess you are making an equal swap in the other parts of the library code. Although we do get a bit of a slowdown:

```
sage: %timeit PermutationGroupElement([1,5,3,2,4])
NEW: 10000 loops, best of 3: 167 µs per loop
OLD: 10000 loops, best of 3: 162 µs per loop
```
However, this isn't really a big deal.

> > Why not also try and make it fast too?

> 
> You are welcome to do so. But it comes as a second step anyway.

I also removed some of the to-and-from cycles in constructing permutation group elements. The code is a little more complex, but it does pick up some speed.
Timings that have changed versus your branch:

```
sage: from sage.groups.perm_gps.permgroup_element import standardize_generator
sage: %timeit standardize_generator([3,1,7,6,8,2,9,10,5,4])
NEW: 100000 loops, best of 3: 3.65 µs per loop
OLD: 10000 loops, best of 3: 22.4 µs per loop
sage: g1 = PermutationGroupElement([(1,2),(3,4,5)])
sage: g2 = PermutationGroup([('a','b')], domain=['a', 'b']).gens()[0]
sage: %timeit g1 * g2
NEW: 10000 loops, best of 3: 37.5 µs per loop
OLD: 10000 loops, best of 3: 38.6 µs per loop
sage: S = SymmetricGroup(10)
sage: P = S.subgroup([(1,2,3,4,5,6,7)])
sage: %timeit for p in P: S(p)
NEW: 100000 loops, best of 3: 15.9 µs per loop
OLD: 10000 loops, best of 3: 19.9 µs per loop
```

Let me know what you think.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ae3fc0120682644ecdeb295ad78fd16cc3c9053">3ae3fc0</a></td><td><code>Merge branch 'u/vdelecroix/28652' of git://trac.sagemath.org/sage into public/perm_groups/constructor_perm_gp_elt-28652</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/747519c5df3d55c534c5556803f0e8bcf287ab48">747519c</a></td><td><code>Fixing some details and docs.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1cdef35cdf01b437bc569a47e006e264f3306a8f">1cdef35</a></td><td><code>Trying to avoid going to-from cycles more often.</code></td></tr></table>




---

archive/issue_comments_449870.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2019-11-06T06:37:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449870",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_449871.json:
```json
{
    "body": "Changed commit from **[931a5b1](https://github.com/sagemath/sagetrac-mirror/commit/931a5b17fa7299f70ff33d713324d323bda2b4ce)** to **[1cdef35](https://github.com/sagemath/sagetrac-mirror/commit/1cdef35cdf01b437bc569a47e006e264f3306a8f)**",
    "created_at": "2019-11-06T06:37:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449871",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[931a5b1](https://github.com/sagemath/sagetrac-mirror/commit/931a5b17fa7299f70ff33d713324d323bda2b4ce)** to **[1cdef35](https://github.com/sagemath/sagetrac-mirror/commit/1cdef35cdf01b437bc569a47e006e264f3306a8f)**



---

archive/issue_comments_449872.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nHi Travis,\n\nWhy did you remove\n\n```diff\n@@ -507,12 +505,6 @@ cdef class PermutationGroupElement(MultiplicativeGroupElement):\n             ...\n             ValueError: invalid list of cycles to initialize a permutation\n         \"\"\"\n-        if parent is None:\n-            raise ValueError(\"the parent must be provided to initialize a class \"\n-                    \"PermutationGroupElement; use sage.groups.perm_groups.\"\n-                    \"constructor.PermutationGroupElement if you need the more \"\n-                    \"general constructor\")\n-\n```\nIt is intended as a deprecation message for people that would still use the class as the constructor.",
    "created_at": "2019-11-06T14:34:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449872",
    "user": "https://github.com/videlec"
}
```

<div id="comment:35" align="right">Comment 35</div>

Hi Travis,

Why did you remove

```diff
@@ -507,12 +505,6 @@ cdef class PermutationGroupElement(MultiplicativeGroupElement):
             ...
             ValueError: invalid list of cycles to initialize a permutation
         """
-        if parent is None:
-            raise ValueError("the parent must be provided to initialize a class "
-                    "PermutationGroupElement; use sage.groups.perm_groups."
-                    "constructor.PermutationGroupElement if you need the more "
-                    "general constructor")
-
```
It is intended as a deprecation message for people that would still use the class as the constructor.



---

archive/issue_comments_449873.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\nAn error is not a deprecation message, and this way has the same effect with being more Pythonic. Really that information should be contained in the documentation anyways. Plus, if someone is now getting an error, it means they are explicitly importing it, which is only likely happen in library code.",
    "created_at": "2019-11-06T23:23:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449873",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:36" align="right">Comment 36</div>

An error is not a deprecation message, and this way has the same effect with being more Pythonic. Really that information should be contained in the documentation anyways. Plus, if someone is now getting an error, it means they are explicitly importing it, which is only likely happen in library code.



---

archive/issue_comments_449874.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\nIn the current version we have\n\n```\nsage: SymmetricGroup(['a','b','c'])(libgap.eval(\"(1,2,3)\"))\n('a','b','c')\n```\nThe above allows (very indirectly) to make the following \"works\"\n\n```\nsage: PermutationGroup(gap_group=libgap.SymmetricGroup(5), domain=[1,3,5,7,9])\nPermutation Group with generators [(1,3), (1,3,5,7,9)]\n```\nBut to my mind, both shouldn't be allowed at all. There should not be any silent conversion of the domain.\n\nWhat do you think?",
    "created_at": "2019-11-11T05:04:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449874",
    "user": "https://github.com/videlec"
}
```

<div id="comment:37" align="right">Comment 37</div>

In the current version we have

```
sage: SymmetricGroup(['a','b','c'])(libgap.eval("(1,2,3)"))
('a','b','c')
```
The above allows (very indirectly) to make the following "works"

```
sage: PermutationGroup(gap_group=libgap.SymmetricGroup(5), domain=[1,3,5,7,9])
Permutation Group with generators [(1,3), (1,3,5,7,9)]
```
But to my mind, both shouldn't be allowed at all. There should not be any silent conversion of the domain.

What do you think?



---

archive/issue_events_375352.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-11-11T05:04:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375352"
}
```



---

archive/issue_events_375353.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-11-11T05:04:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375353"
}
```



---

archive/issue_comments_449875.json:
```json
{
    "body": "Changed commit from **[1cdef35](https://github.com/sagemath/sagetrac-mirror/commit/1cdef35cdf01b437bc569a47e006e264f3306a8f)** to **[f085dc1](https://github.com/sagemath/sagetrac-mirror/commit/f085dc19dbb65eb890cac338b18f743845f38a32)**",
    "created_at": "2019-11-11T05:22:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449875",
    "user": "https://github.com/videlec"
}
```

Changed commit from **[1cdef35](https://github.com/sagemath/sagetrac-mirror/commit/1cdef35cdf01b437bc569a47e006e264f3306a8f)** to **[f085dc1](https://github.com/sagemath/sagetrac-mirror/commit/f085dc19dbb65eb890cac338b18f743845f38a32)**



---

archive/issue_comments_449876.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">Comment 38</div>\n\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4cfb05ffdf20cbce02ef7b571ccde35d2557718f\">4cfb05f</a></td><td><code>28652: pyflakes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ea06d6c22e16a4f4bbd52ba0284502762f1ad10\">8ea06d6</a></td><td><code>28652: make code coverage and sphinx happier</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2814c7e14053f7e3d36b4e2cbf0b815d9733c50a\">2814c7e</a></td><td><code>28652: another try for sphinx</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e97aa4e281bd99231393b216f097c9472f98835\">2e97aa4</a></td><td><code>28652: clearer comment wrt to side-effect affectation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/479ec4302351c5bf83e1ca362c2cedd23c8fea75\">479ec43</a></td><td><code>28652: documentation, copyright and code indentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c3d2e4efebaf14668c1727d88081083dfe8f909\">0c3d2e4</a></td><td><code>28652: one more example in the documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e08dfc1f2081d691489207ff45912b4cf1fcb1f9\">e08dfc1</a></td><td><code>Fixing some details and docs.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/85c6bc9b5938b6efe83a72f9f123bafbf9f45e46\">85c6bc9</a></td><td><code>Trying to avoid going to-from cycles more often.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bf8a1d3f087e1aa1b422bdd194775d644a91be04\">bf8a1d3</a></td><td><code>28652: initialization from str and PermutationGroupElement</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f085dc19dbb65eb890cac338b18f743845f38a32\">f085dc1</a></td><td><code>28652: move string_to_tuples and standardize_generators to constructor</code></td></tr></table>\n",
    "created_at": "2019-11-11T05:22:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449876",
    "user": "https://github.com/videlec"
}
```

<div id="comment:38" align="right">Comment 38</div>

Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4cfb05ffdf20cbce02ef7b571ccde35d2557718f">4cfb05f</a></td><td><code>28652: pyflakes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ea06d6c22e16a4f4bbd52ba0284502762f1ad10">8ea06d6</a></td><td><code>28652: make code coverage and sphinx happier</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2814c7e14053f7e3d36b4e2cbf0b815d9733c50a">2814c7e</a></td><td><code>28652: another try for sphinx</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e97aa4e281bd99231393b216f097c9472f98835">2e97aa4</a></td><td><code>28652: clearer comment wrt to side-effect affectation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/479ec4302351c5bf83e1ca362c2cedd23c8fea75">479ec43</a></td><td><code>28652: documentation, copyright and code indentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c3d2e4efebaf14668c1727d88081083dfe8f909">0c3d2e4</a></td><td><code>28652: one more example in the documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e08dfc1f2081d691489207ff45912b4cf1fcb1f9">e08dfc1</a></td><td><code>Fixing some details and docs.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/85c6bc9b5938b6efe83a72f9f123bafbf9f45e46">85c6bc9</a></td><td><code>Trying to avoid going to-from cycles more often.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bf8a1d3f087e1aa1b422bdd194775d644a91be04">bf8a1d3</a></td><td><code>28652: initialization from str and PermutationGroupElement</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f085dc19dbb65eb890cac338b18f743845f38a32">f085dc1</a></td><td><code>28652: move string_to_tuples and standardize_generators to constructor</code></td></tr></table>




---

archive/issue_comments_449877.json:
```json
{
    "body": "Changed branch from **[public/perm_groups/constructor_perm_gp_elt-28652](https://github.com/sagemath/sagetrac-mirror/tree/public/perm_groups/constructor_perm_gp_elt-28652)** to **[u/vdelecroix/28652](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/28652)**",
    "created_at": "2019-11-11T05:22:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449877",
    "user": "https://github.com/videlec"
}
```

Changed branch from **[public/perm_groups/constructor_perm_gp_elt-28652](https://github.com/sagemath/sagetrac-mirror/tree/public/perm_groups/constructor_perm_gp_elt-28652)** to **[u/vdelecroix/28652](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/28652)**



---

archive/issue_comments_449878.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">Comment 39</div>\n\nReplying to [@videlec](#comment%3A37):\n> But to my mind, both shouldn't be allowed at all. There should not be any silent conversion of the domain.\n> \n> What do you think?\n\nMy understanding is that `(lip)gap` only allows for a domain of `{1, ..., n}`. So in my mind this could almost be considered a \"feature\" of the Sage interface with `(lib)gap`. As such, I am leaning towards actually keeping the current behavior.\n\nIt would be nice if we could get rid of all those local imports in the `_set_other`...",
    "created_at": "2019-11-11T05:26:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449878",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:39" align="right">Comment 39</div>

Replying to [@videlec](#comment%3A37):
> But to my mind, both shouldn't be allowed at all. There should not be any silent conversion of the domain.
> 
> What do you think?

My understanding is that `(lip)gap` only allows for a domain of `{1, ..., n}`. So in my mind this could almost be considered a "feature" of the Sage interface with `(lib)gap`. As such, I am leaning towards actually keeping the current behavior.

It would be nice if we could get rid of all those local imports in the `_set_other`...



---

archive/issue_comments_449879.json:
```json
{
    "body": "Changed branch from **[u/vdelecroix/28652](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/28652)** to **[public/perm_groups/constructor_perm_gp_elt-28652](https://github.com/sagemath/sagetrac-mirror/tree/public/perm_groups/constructor_perm_gp_elt-28652)**",
    "created_at": "2019-11-11T05:26:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449879",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/vdelecroix/28652](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/28652)** to **[public/perm_groups/constructor_perm_gp_elt-28652](https://github.com/sagemath/sagetrac-mirror/tree/public/perm_groups/constructor_perm_gp_elt-28652)**



---

archive/issue_comments_449880.json:
```json
{
    "body": "Changed commit from **[f085dc1](https://github.com/sagemath/sagetrac-mirror/commit/f085dc19dbb65eb890cac338b18f743845f38a32)** to **[1cdef35](https://github.com/sagemath/sagetrac-mirror/commit/1cdef35cdf01b437bc569a47e006e264f3306a8f)**",
    "created_at": "2019-11-11T05:26:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449880",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[f085dc1](https://github.com/sagemath/sagetrac-mirror/commit/f085dc19dbb65eb890cac338b18f743845f38a32)** to **[1cdef35](https://github.com/sagemath/sagetrac-mirror/commit/1cdef35cdf01b437bc569a47e006e264f3306a8f)**



---

archive/issue_comments_449881.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">Comment 40</div>\n\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4cfb05ffdf20cbce02ef7b571ccde35d2557718f\">4cfb05f</a></td><td><code>28652: pyflakes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ea06d6c22e16a4f4bbd52ba0284502762f1ad10\">8ea06d6</a></td><td><code>28652: make code coverage and sphinx happier</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2814c7e14053f7e3d36b4e2cbf0b815d9733c50a\">2814c7e</a></td><td><code>28652: another try for sphinx</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e97aa4e281bd99231393b216f097c9472f98835\">2e97aa4</a></td><td><code>28652: clearer comment wrt to side-effect affectation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/479ec4302351c5bf83e1ca362c2cedd23c8fea75\">479ec43</a></td><td><code>28652: documentation, copyright and code indentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0c3d2e4efebaf14668c1727d88081083dfe8f909\">0c3d2e4</a></td><td><code>28652: one more example in the documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e08dfc1f2081d691489207ff45912b4cf1fcb1f9\">e08dfc1</a></td><td><code>Fixing some details and docs.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/85c6bc9b5938b6efe83a72f9f123bafbf9f45e46\">85c6bc9</a></td><td><code>Trying to avoid going to-from cycles more often.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bf8a1d3f087e1aa1b422bdd194775d644a91be04\">bf8a1d3</a></td><td><code>28652: initialization from str and PermutationGroupElement</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f085dc19dbb65eb890cac338b18f743845f38a32\">f085dc1</a></td><td><code>28652: move string_to_tuples and standardize_generators to constructor</code></td></tr></table>\n",
    "created_at": "2019-11-11T05:26:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449881",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:40" align="right">Comment 40</div>

Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4cfb05ffdf20cbce02ef7b571ccde35d2557718f">4cfb05f</a></td><td><code>28652: pyflakes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ea06d6c22e16a4f4bbd52ba0284502762f1ad10">8ea06d6</a></td><td><code>28652: make code coverage and sphinx happier</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2814c7e14053f7e3d36b4e2cbf0b815d9733c50a">2814c7e</a></td><td><code>28652: another try for sphinx</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e97aa4e281bd99231393b216f097c9472f98835">2e97aa4</a></td><td><code>28652: clearer comment wrt to side-effect affectation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/479ec4302351c5bf83e1ca362c2cedd23c8fea75">479ec43</a></td><td><code>28652: documentation, copyright and code indentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0c3d2e4efebaf14668c1727d88081083dfe8f909">0c3d2e4</a></td><td><code>28652: one more example in the documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e08dfc1f2081d691489207ff45912b4cf1fcb1f9">e08dfc1</a></td><td><code>Fixing some details and docs.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/85c6bc9b5938b6efe83a72f9f123bafbf9f45e46">85c6bc9</a></td><td><code>Trying to avoid going to-from cycles more often.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bf8a1d3f087e1aa1b422bdd194775d644a91be04">bf8a1d3</a></td><td><code>28652: initialization from str and PermutationGroupElement</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f085dc19dbb65eb890cac338b18f743845f38a32">f085dc1</a></td><td><code>28652: move string_to_tuples and standardize_generators to constructor</code></td></tr></table>




---

archive/issue_comments_449882.json:
```json
{
    "body": "Changed commit from **[1cdef35](https://github.com/sagemath/sagetrac-mirror/commit/1cdef35cdf01b437bc569a47e006e264f3306a8f)** to **[f085dc1](https://github.com/sagemath/sagetrac-mirror/commit/f085dc19dbb65eb890cac338b18f743845f38a32)**",
    "created_at": "2019-11-11T05:26:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449882",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[1cdef35](https://github.com/sagemath/sagetrac-mirror/commit/1cdef35cdf01b437bc569a47e006e264f3306a8f)** to **[f085dc1](https://github.com/sagemath/sagetrac-mirror/commit/f085dc19dbb65eb890cac338b18f743845f38a32)**



---

archive/issue_comments_449883.json:
```json
{
    "body": "Changed branch from **[public/perm_groups/constructor_perm_gp_elt-28652](https://github.com/sagemath/sagetrac-mirror/tree/public/perm_groups/constructor_perm_gp_elt-28652)** to **[u/vdelecroix/28652](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/28652)**",
    "created_at": "2019-11-11T05:26:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449883",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[public/perm_groups/constructor_perm_gp_elt-28652](https://github.com/sagemath/sagetrac-mirror/tree/public/perm_groups/constructor_perm_gp_elt-28652)** to **[u/vdelecroix/28652](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/28652)**



---

archive/issue_comments_449884.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">Comment 41</div>\n\nReplying to [@tscrim](#comment%3A39):\n> Replying to [@videlec](#comment%3A37):\n> > But to my mind, both shouldn't be allowed at all. There should not be any silent conversion of the domain.\n> > \n> > What do you think?\n\n> \n> My understanding is that `(lip)gap` only allows for a domain of `{1, ..., n}`. So in my mind this could almost be considered a \"feature\" of the Sage interface with `(lib)gap`. As such, I am leaning towards actually keeping the current behavior.\n\nI am fine with it but am worried that it is very much against the coercion `SymmetricGroup([1,3,5]) -> SymmetricGroup([1,2,3,4,5])`\n\n```\nsage: S1 = SymmetricGroup([1,3,5])\nsage: S2 = SymmetricGroup([1,2,3,4,5])\nsage: S2(S1([5,1,3]))\n(1,5,3)\n```\n\n> It would be nice if we could get rid of all those local imports in the `_set_other`...\n\nTwo of them which are Cython classes and can actually be cimported. For the rest one can probably hack a `_late_import` but it is not very nice.",
    "created_at": "2019-11-11T05:33:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449884",
    "user": "https://github.com/videlec"
}
```

<div id="comment:41" align="right">Comment 41</div>

Replying to [@tscrim](#comment%3A39):
> Replying to [@videlec](#comment%3A37):
> > But to my mind, both shouldn't be allowed at all. There should not be any silent conversion of the domain.
> > 
> > What do you think?

> 
> My understanding is that `(lip)gap` only allows for a domain of `{1, ..., n}`. So in my mind this could almost be considered a "feature" of the Sage interface with `(lib)gap`. As such, I am leaning towards actually keeping the current behavior.

I am fine with it but am worried that it is very much against the coercion `SymmetricGroup([1,3,5]) -> SymmetricGroup([1,2,3,4,5])`

```
sage: S1 = SymmetricGroup([1,3,5])
sage: S2 = SymmetricGroup([1,2,3,4,5])
sage: S2(S1([5,1,3]))
(1,5,3)
```

> It would be nice if we could get rid of all those local imports in the `_set_other`...

Two of them which are Cython classes and can actually be cimported. For the rest one can probably hack a `_late_import` but it is not very nice.



---

archive/issue_comments_449885.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">Comment 42</div>\n\nReplying to [@videlec](#comment%3A41):\n> Replying to [@tscrim](#comment%3A39):\n> > Replying to [@videlec](#comment%3A37):\n> > > But to my mind, both shouldn't be allowed at all. There should not be any silent conversion of the domain.\n> > > \n> > > What do you think?\n\n> > \n> > My understanding is that `(lip)gap` only allows for a domain of `{1, ..., n}`. So in my mind this could almost be considered a \"feature\" of the Sage interface with `(lib)gap`. As such, I am leaning towards actually keeping the current behavior.\n\n> \n> I am fine with it but am worried that it is very much against the coercion `SymmetricGroup([1,3,5]) -> SymmetricGroup([1,2,3,4,5])`\n> \n> ```\n> sage: S1 = SymmetricGroup([1,3,5])\n> sage: S2 = SymmetricGroup([1,2,3,4,5])\n> sage: S2(S1([5,1,3]))\n> (1,5,3)\n> ```\n\nI see `SymmetricGroup` as being a different object, and its elements are not `libgap` objects. IMO, you should only be manipulating the libgap objects if you know what you are doing trying to get extra speed out, unless you are working only in libgap.\n\n> > It would be nice if we could get rid of all those local imports in the `_set_other`...\n\n> \n> Two of them which are Cython classes and can actually be cimported. For the rest one can probably hack a `_late_import` but it is not very nice.\n\nFor the `Permutation`, I think it is okay to have it locally since it is last and already \"slow\" as it is a Python object. However, do we need to do that for the `pari_gen`?\n\nActually, since you moved the `standardize_generator`, we probably can do either `lazy_import` or maybe a standard import rather than locally.",
    "created_at": "2019-11-11T05:57:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449885",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:42" align="right">Comment 42</div>

Replying to [@videlec](#comment%3A41):
> Replying to [@tscrim](#comment%3A39):
> > Replying to [@videlec](#comment%3A37):
> > > But to my mind, both shouldn't be allowed at all. There should not be any silent conversion of the domain.
> > > 
> > > What do you think?

> > 
> > My understanding is that `(lip)gap` only allows for a domain of `{1, ..., n}`. So in my mind this could almost be considered a "feature" of the Sage interface with `(lib)gap`. As such, I am leaning towards actually keeping the current behavior.

> 
> I am fine with it but am worried that it is very much against the coercion `SymmetricGroup([1,3,5]) -> SymmetricGroup([1,2,3,4,5])`
> 
> ```
> sage: S1 = SymmetricGroup([1,3,5])
> sage: S2 = SymmetricGroup([1,2,3,4,5])
> sage: S2(S1([5,1,3]))
> (1,5,3)
> ```

I see `SymmetricGroup` as being a different object, and its elements are not `libgap` objects. IMO, you should only be manipulating the libgap objects if you know what you are doing trying to get extra speed out, unless you are working only in libgap.

> > It would be nice if we could get rid of all those local imports in the `_set_other`...

> 
> Two of them which are Cython classes and can actually be cimported. For the rest one can probably hack a `_late_import` but it is not very nice.

For the `Permutation`, I think it is okay to have it locally since it is last and already "slow" as it is a Python object. However, do we need to do that for the `pari_gen`?

Actually, since you moved the `standardize_generator`, we probably can do either `lazy_import` or maybe a standard import rather than locally.



---

archive/issue_comments_449886.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">Comment 43</div>\n\nI have much cleaner code that get rid of `_set_other`... will come in a minute.",
    "created_at": "2019-11-11T06:02:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449886",
    "user": "https://github.com/videlec"
}
```

<div id="comment:43" align="right">Comment 43</div>

I have much cleaner code that get rid of `_set_other`... will come in a minute.



---

archive/issue_comments_449887.json:
```json
{
    "body": "Changed commit from **[f085dc1](https://github.com/sagemath/sagetrac-mirror/commit/f085dc19dbb65eb890cac338b18f743845f38a32)** to **[c1da9f3](https://github.com/sagemath/sagetrac-mirror/commit/c1da9f39b0851570b5fc0e168e64dc961626e3cc)**",
    "created_at": "2019-11-11T06:09:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449887",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f085dc1](https://github.com/sagemath/sagetrac-mirror/commit/f085dc19dbb65eb890cac338b18f743845f38a32)** to **[c1da9f3](https://github.com/sagemath/sagetrac-mirror/commit/c1da9f39b0851570b5fc0e168e64dc961626e3cc)**



---

archive/issue_comments_449888.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">Comment 44</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c1da9f39b0851570b5fc0e168e64dc961626e3cc\">c1da9f3</a></td><td><code>28652: remove _set_other</code></td></tr></table>\n",
    "created_at": "2019-11-11T06:09:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449888",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44" align="right">Comment 44</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c1da9f39b0851570b5fc0e168e64dc961626e3cc">c1da9f3</a></td><td><code>28652: remove _set_other</code></td></tr></table>




---

archive/issue_comments_449889.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">Comment 45</div>\n\nI agree that initializing from (lib)gap is a bit hacky anyway. I added an example to the documentation of `__init__`.",
    "created_at": "2019-11-11T06:11:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449889",
    "user": "https://github.com/videlec"
}
```

<div id="comment:45" align="right">Comment 45</div>

I agree that initializing from (lib)gap is a bit hacky anyway. I added an example to the documentation of `__init__`.



---

archive/issue_events_375354.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-11-11T06:16:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375354"
}
```



---

archive/issue_events_375355.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-11-11T06:16:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375355"
}
```



---

archive/issue_comments_449890.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">Comment 46</div>\n\nLGTM. If the patchbot comes up green, then it is a positive review (including if you get rid of the local imports in `standardize_generator`).",
    "created_at": "2019-11-11T06:16:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449890",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:46" align="right">Comment 46</div>

LGTM. If the patchbot comes up green, then it is a positive review (including if you get rid of the local imports in `standardize_generator`).



---

archive/issue_comments_449891.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">Comment 47</div>\n\nIndeed, I am trying to remove the local imports in `constructor.py`.",
    "created_at": "2019-11-11T06:18:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449891",
    "user": "https://github.com/videlec"
}
```

<div id="comment:47" align="right">Comment 47</div>

Indeed, I am trying to remove the local imports in `constructor.py`.



---

archive/issue_comments_449892.json:
```json
{
    "body": "Changed commit from **[c1da9f3](https://github.com/sagemath/sagetrac-mirror/commit/c1da9f39b0851570b5fc0e168e64dc961626e3cc)** to **[ae418ae](https://github.com/sagemath/sagetrac-mirror/commit/ae418aed58788a2721b1bfc88a2aa7536b7be387)**",
    "created_at": "2019-11-11T06:50:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449892",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c1da9f3](https://github.com/sagemath/sagetrac-mirror/commit/c1da9f39b0851570b5fc0e168e64dc961626e3cc)** to **[ae418ae](https://github.com/sagemath/sagetrac-mirror/commit/ae418aed58788a2721b1bfc88a2aa7536b7be387)**



---

archive/issue_comments_449893.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">Comment 48</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/521f02d4bf2dd3e0a27fe1549219f3e3ebb80ede\">521f02d</a></td><td><code>28652: fix error msg</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b536ae72b9828ce4ff0e65193443964273c53520\">b536ae7</a></td><td><code>28652: allow spaces in string notation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5bb40908bbe5b843968ab7181dc8fb1098dd4178\">5bb4090</a></td><td><code>28652: clean permutation constructions in lattice polytope</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ae418aed58788a2721b1bfc88a2aa7536b7be387\">ae418ae</a></td><td><code>28652: make imports global in constructor</code></td></tr></table>\n",
    "created_at": "2019-11-11T06:50:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449893",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:48" align="right">Comment 48</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/521f02d4bf2dd3e0a27fe1549219f3e3ebb80ede">521f02d</a></td><td><code>28652: fix error msg</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b536ae72b9828ce4ff0e65193443964273c53520">b536ae7</a></td><td><code>28652: allow spaces in string notation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5bb40908bbe5b843968ab7181dc8fb1098dd4178">5bb4090</a></td><td><code>28652: clean permutation constructions in lattice polytope</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ae418aed58788a2721b1bfc88a2aa7536b7be387">ae418ae</a></td><td><code>28652: make imports global in constructor</code></td></tr></table>




---

archive/issue_comments_449894.json:
```json
{
    "body": "Changed commit from **[ae418ae](https://github.com/sagemath/sagetrac-mirror/commit/ae418aed58788a2721b1bfc88a2aa7536b7be387)** to **[1581736](https://github.com/sagemath/sagetrac-mirror/commit/1581736b11b63de50da1928870ecf435ee24a52a)**",
    "created_at": "2019-11-11T07:25:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449894",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ae418ae](https://github.com/sagemath/sagetrac-mirror/commit/ae418aed58788a2721b1bfc88a2aa7536b7be387)** to **[1581736](https://github.com/sagemath/sagetrac-mirror/commit/1581736b11b63de50da1928870ecf435ee24a52a)**



---

archive/issue_comments_449895.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">Comment 49</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1581736b11b63de50da1928870ecf435ee24a52a\">1581736</a></td><td><code>28652: fix a bug in _set_permutation_group_element</code></td></tr></table>\n",
    "created_at": "2019-11-11T07:25:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449895",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:49" align="right">Comment 49</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1581736b11b63de50da1928870ecf435ee24a52a">1581736</a></td><td><code>28652: fix a bug in _set_permutation_group_element</code></td></tr></table>




---

archive/issue_comments_449896.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,6 +11,23 @@\n sage: %timeit -n 10000 p = S([(3,1),(7,6,8,2),(9,10,5,4)])\n NEW: 10000 loops, best of 5: 168 \u00b5s per loop\n OLD: 10000 loops, best of 5: 201 \u00b5s per loop\n+sage: %timeit -n 10000 S('(1,3,5)(2,7)')\n+NEW: 10000 loops, best of 5: 159 \u00b5s per loop\n+OLD: 10000 loops, best of 5: 230 \u00b5s per loop\n+```\n+  and\n+\n+```\n+\n+sage: %timeit -n 3000 PermutationGroupElement('(1,2,3)(4,7)')\n+NEW: 3000 loops, best of 5: 64.2 \u00b5s per loop\n+OLD: 3000 loops, best of 5: 251 \u00b5s per loop\n+sage: %timeit -n 3000 PermutationGroupElement([1,5,2,3,4])\n+NEW: 3000 loops, best of 5: 14.9 \u00b5s per loop\n+OLD: 3000 loops, best of 5: 251 \u00b5s per loop\n+sage: %timeit -n 3000 PermutationGroupElement([(1,5),(2,3,4)])\n+NEW: 3000 loops, best of 5: 38.5 \u00b5s per loop\n+OLD: 3000 loops, best of 5: 215 \u00b5s per loop\n ```\n - iteration of monogen group\n \n``````\n",
    "created_at": "2019-11-11T07:32:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449896",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,6 +11,23 @@
 sage: %timeit -n 10000 p = S([(3,1),(7,6,8,2),(9,10,5,4)])
 NEW: 10000 loops, best of 5: 168 µs per loop
 OLD: 10000 loops, best of 5: 201 µs per loop
+sage: %timeit -n 10000 S('(1,3,5)(2,7)')
+NEW: 10000 loops, best of 5: 159 µs per loop
+OLD: 10000 loops, best of 5: 230 µs per loop
+```
+  and
+
+```
+
+sage: %timeit -n 3000 PermutationGroupElement('(1,2,3)(4,7)')
+NEW: 3000 loops, best of 5: 64.2 µs per loop
+OLD: 3000 loops, best of 5: 251 µs per loop
+sage: %timeit -n 3000 PermutationGroupElement([1,5,2,3,4])
+NEW: 3000 loops, best of 5: 14.9 µs per loop
+OLD: 3000 loops, best of 5: 251 µs per loop
+sage: %timeit -n 3000 PermutationGroupElement([(1,5),(2,3,4)])
+NEW: 3000 loops, best of 5: 38.5 µs per loop
+OLD: 3000 loops, best of 5: 215 µs per loop
 ```
 - iteration of monogen group
 
``````




---

archive/issue_comments_449897.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">Comment 50</div>\n\n`check=True` is way too slow compared the `PermutationGroupElement` constructor\n\n```\nsage: S = SymmetricGroup(10)\nsage: %timeit -n 10000 S('(1,3,5)(2,7)', check=True)\n10000 loops, best of 5: 160 \u00b5s per loop\nsage: %timeit -n 10000 S('(1,3,5)(2,7)', check=False)\n10000 loops, best of 5: 5.35 \u00b5s per loop\nsage: %timeit -n 10000 PermutationGroupElement('(1,3,5)(2,7)')\n10000 loops, best of 5: 62.4 \u00b5s per loop\n```",
    "created_at": "2019-11-11T07:32:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449897",
    "user": "https://github.com/videlec"
}
```

<div id="comment:50" align="right">Comment 50</div>

`check=True` is way too slow compared the `PermutationGroupElement` constructor

```
sage: S = SymmetricGroup(10)
sage: %timeit -n 10000 S('(1,3,5)(2,7)', check=True)
10000 loops, best of 5: 160 µs per loop
sage: %timeit -n 10000 S('(1,3,5)(2,7)', check=False)
10000 loops, best of 5: 5.35 µs per loop
sage: %timeit -n 10000 PermutationGroupElement('(1,3,5)(2,7)')
10000 loops, best of 5: 62.4 µs per loop
```



---

archive/issue_events_375356.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-11-11T07:32:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375356"
}
```



---

archive/issue_events_375357.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-11-11T07:32:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375357"
}
```



---

archive/issue_comments_449898.json:
```json
{
    "body": "Changed commit from **[1581736](https://github.com/sagemath/sagetrac-mirror/commit/1581736b11b63de50da1928870ecf435ee24a52a)** to **[95e1b52](https://github.com/sagemath/sagetrac-mirror/commit/95e1b525c83dedb016d44487d3f03b8ca6820cae)**",
    "created_at": "2019-11-11T07:43:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449898",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1581736](https://github.com/sagemath/sagetrac-mirror/commit/1581736b11b63de50da1928870ecf435ee24a52a)** to **[95e1b52](https://github.com/sagemath/sagetrac-mirror/commit/95e1b525c83dedb016d44487d3f03b8ca6820cae)**



---

archive/issue_comments_449899.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">Comment 51</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/95e1b525c83dedb016d44487d3f03b8ca6820cae\">95e1b52</a></td><td><code>28652: faster check</code></td></tr></table>\n",
    "created_at": "2019-11-11T07:43:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449899",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:51" align="right">Comment 51</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/95e1b525c83dedb016d44487d3f03b8ca6820cae">95e1b52</a></td><td><code>28652: faster check</code></td></tr></table>




---

archive/issue_comments_449900.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,14 +6,22 @@\n ```\n sage: S = SymmetricGroup(10)\n sage: %timeit -n 10000 p = S([3,1,7,6,8,2,9,10,5,4])\n-NEW: 10000 loops, best of 5: 155 \u00b5s per loop\n+NEW: 10000 loops, best of 5: 3.94 \u00b5s per loop\n OLD: 10000 loops, best of 5: 227 \u00b5s per loop\n sage: %timeit -n 10000 p = S([(3,1),(7,6,8,2),(9,10,5,4)])\n-NEW: 10000 loops, best of 5: 168 \u00b5s per loop\n+NEW: 10000 loops, best of 5: 10.5 \u00b5s per loop\n OLD: 10000 loops, best of 5: 201 \u00b5s per loop\n sage: %timeit -n 10000 S('(1,3,5)(2,7)')\n-NEW: 10000 loops, best of 5: 159 \u00b5s per loop\n+NEW: 10000 loops, best of 5: 5.3 \u00b5s per loop\n OLD: 10000 loops, best of 5: 230 \u00b5s per loop\n+```\n+  and\n+\n+```\n+sage: P = PermutationGroup(['(1,2,3)'])\n+sage: %timeit -n 10000 P('(1,2,3)')\n+NEW: 10000 loops, best of 5: 134 \u00b5s per loop\n+OLD: 10000 loops, best of 5: 211 \u00b5s per loop\n ```\n   and\n \n``````\n",
    "created_at": "2019-11-11T07:44:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449900",
    "user": "https://github.com/videlec"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,14 +6,22 @@
 ```
 sage: S = SymmetricGroup(10)
 sage: %timeit -n 10000 p = S([3,1,7,6,8,2,9,10,5,4])
-NEW: 10000 loops, best of 5: 155 µs per loop
+NEW: 10000 loops, best of 5: 3.94 µs per loop
 OLD: 10000 loops, best of 5: 227 µs per loop
 sage: %timeit -n 10000 p = S([(3,1),(7,6,8,2),(9,10,5,4)])
-NEW: 10000 loops, best of 5: 168 µs per loop
+NEW: 10000 loops, best of 5: 10.5 µs per loop
 OLD: 10000 loops, best of 5: 201 µs per loop
 sage: %timeit -n 10000 S('(1,3,5)(2,7)')
-NEW: 10000 loops, best of 5: 159 µs per loop
+NEW: 10000 loops, best of 5: 5.3 µs per loop
 OLD: 10000 loops, best of 5: 230 µs per loop
+```
+  and
+
+```
+sage: P = PermutationGroup(['(1,2,3)'])
+sage: %timeit -n 10000 P('(1,2,3)')
+NEW: 10000 loops, best of 5: 134 µs per loop
+OLD: 10000 loops, best of 5: 211 µs per loop
 ```
   and
 
``````




---

archive/issue_events_375358.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-11-11T07:44:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375358"
}
```



---

archive/issue_events_375359.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2019-11-11T07:44:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375359"
}
```



---

archive/issue_comments_449901.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">Comment 53</div>\n\nThank you. Looks good and a very nice additional improvement. Just waiting on a green patchbot before setting to positive.",
    "created_at": "2019-11-11T10:44:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449901",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:53" align="right">Comment 53</div>

Thank you. Looks good and a very nice additional improvement. Just waiting on a green patchbot before setting to positive.



---

archive/issue_comments_449902.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">Comment 54</div>\n\nfailing doctests, see patchbot (the failures related to doc are not relevant)",
    "created_at": "2019-11-11T13:12:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449902",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:54" align="right">Comment 54</div>

failing doctests, see patchbot (the failures related to doc are not relevant)



---

archive/issue_comments_449903.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">Comment 55</div>\n\nThe first failure in `cubegroup.py` is serious, the other is trivial. Although the changed error message `invalid permutation to initialize a permutation` in the failing book test is strange; the original message is better IMO.",
    "created_at": "2019-11-11T13:18:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449903",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:55" align="right">Comment 55</div>

The first failure in `cubegroup.py` is serious, the other is trivial. Although the changed error message `invalid permutation to initialize a permutation` in the failing book test is strange; the original message is better IMO.



---

archive/issue_comments_449904.json:
```json
{
    "body": "Changed commit from **[95e1b52](https://github.com/sagemath/sagetrac-mirror/commit/95e1b525c83dedb016d44487d3f03b8ca6820cae)** to **[3df8290](https://github.com/sagemath/sagetrac-mirror/commit/3df8290eccc7bcc1dfdd843858bab819d1058d69)**",
    "created_at": "2019-11-11T14:58:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449904",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[95e1b52](https://github.com/sagemath/sagetrac-mirror/commit/95e1b525c83dedb016d44487d3f03b8ca6820cae)** to **[3df8290](https://github.com/sagemath/sagetrac-mirror/commit/3df8290eccc7bcc1dfdd843858bab819d1058d69)**



---

archive/issue_comments_449905.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">Comment 56</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3df8290eccc7bcc1dfdd843858bab819d1058d69\">3df8290</a></td><td><code>28652: fix msg et doc</code></td></tr></table>\n",
    "created_at": "2019-11-11T14:58:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449905",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:56" align="right">Comment 56</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3df8290eccc7bcc1dfdd843858bab819d1058d69">3df8290</a></td><td><code>28652: fix msg et doc</code></td></tr></table>




---

archive/issue_comments_449906.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">Comment 57</div>\n\nNothing too bad.",
    "created_at": "2019-11-11T14:58:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449906",
    "user": "https://github.com/videlec"
}
```

<div id="comment:57" align="right">Comment 57</div>

Nothing too bad.



---

archive/issue_comments_449907.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">Comment 58</div>\n\ngreen bot",
    "created_at": "2019-11-11T18:14:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449907",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:58" align="right">Comment 58</div>

green bot



---

archive/issue_events_375360.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-11-11T21:19:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375360"
}
```



---

archive/issue_events_375361.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-11-11T21:19:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375361"
}
```



---

archive/issue_comments_449908.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">Comment 59</div>\n\nThank you for keeping us informed of the patchbot status Fr\u00e9d\u00e9ric (although I am not sure if you consider yourself as a reviewer; please add yourself if you do).",
    "created_at": "2019-11-11T21:19:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449908",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:59" align="right">Comment 59</div>

Thank you for keeping us informed of the patchbot status Frédéric (although I am not sure if you consider yourself as a reviewer; please add yourself if you do).



---

archive/issue_comments_449909.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">Comment 60</div>\n\nI am glad that we get this done! Thanks.",
    "created_at": "2019-11-12T02:34:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449909",
    "user": "https://github.com/videlec"
}
```

<div id="comment:60" align="right">Comment 60</div>

I am glad that we get this done! Thanks.



---

archive/issue_comments_449910.json:
```json
{
    "body": "Changed branch from **[u/vdelecroix/28652](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/28652)** to **[3df8290](https://github.com/sagemath/sagetrac-mirror/commit/3df8290eccc7bcc1dfdd843858bab819d1058d69)**",
    "created_at": "2019-11-16T20:15:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28652#issuecomment-449910",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/vdelecroix/28652](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/28652)** to **[3df8290](https://github.com/sagemath/sagetrac-mirror/commit/3df8290eccc7bcc1dfdd843858bab819d1058d69)**



---

archive/issue_events_375362.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-11-16T20:15:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375362"
}
```



---

archive/issue_events_375363.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "50034a0ae90e634eaf1623bad215cbaa4bd5fb0a",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-11-16T20:15:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28652",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28652#event-375363"
}
```
