# Issue 28533: Remove adding /usr/include/$MULTI_ARCH to CPATH

archive/issues_028296.json:
```json
{
    "body": "Adding this to CPATH, interferes with sysrooted GCC compilers which have their own sysroot. For example, the conda compilers.\n\nI'm not sure why this was added and it seems unnecessary.\n\nCC:  @jdemeyer @saraedum @dimpase @kiwifb\n\nBranch/Commit: [790a38d38f6a716955689f301e07846114f5cc2b](https://github.com/sagemath/sagetrac-mirror/commit/790a38d38f6a716955689f301e07846114f5cc2b)\n\nReviewer: Dima Pasechnik\n\nAuthor: Isuru Fernando\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/28533\n\n",
    "closed_at": "2019-12-17T22:46:38Z",
    "created_at": "2019-09-25T05:11:07Z",
    "labels": [
        "component: build",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.0",
    "title": "Remove adding /usr/include/$MULTI_ARCH to CPATH",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28533",
    "user": "https://github.com/isuruf"
}
```
Adding this to CPATH, interferes with sysrooted GCC compilers which have their own sysroot. For example, the conda compilers.

I'm not sure why this was added and it seems unnecessary.

CC:  @jdemeyer @saraedum @dimpase @kiwifb

Branch/Commit: [790a38d38f6a716955689f301e07846114f5cc2b](https://github.com/sagemath/sagetrac-mirror/commit/790a38d38f6a716955689f301e07846114f5cc2b)

Reviewer: Dima Pasechnik

Author: Isuru Fernando

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/28533





---

archive/issue_comments_554928.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                        |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------|\n|[b52ad46](https://github.com/sagemath/sagetrac-mirror/commit/b52ad46fc0f424d16635c63cc8778cadad0cbe36)|`spkg-configure for ecm`|\n|[b4b099f](https://github.com/sagemath/sagetrac-mirror/commit/b4b099f23723b7bb01614b0234d11a9da1f7d4cc)|`added the check for gmp/mpir presence`|\n|[d9a3747](https://github.com/sagemath/sagetrac-mirror/commit/d9a37478f9621258944169d7e8c7d87914ce1085)|`check for ecm executable, use temp var for version`|\n|[c20c12e](https://github.com/sagemath/sagetrac-mirror/commit/c20c12e2b963cb592ebcf75f2a50ca34238bb8b8)|`Merge branch 'u/dimpase/packages/ecmconfig' of git://trac.sagemath.org/sage into develop`|\n|[f3e407b](https://github.com/sagemath/sagetrac-mirror/commit/f3e407bc1903e6367a910e1e85720d596ee103c6)|`Add -std=c++11 to fplll build to avoid a binary-pkg bug`|\n|[5c7cc1b](https://github.com/sagemath/sagetrac-mirror/commit/5c7cc1b5bb50d826d0533520152820c5aa6988b2)|`Remove setting CPATH and LIBRARY_PATH on Debian`|",
    "created_at": "2019-12-15T04:57:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28533#issuecomment-554928",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                        |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------|
|[b52ad46](https://github.com/sagemath/sagetrac-mirror/commit/b52ad46fc0f424d16635c63cc8778cadad0cbe36)|`spkg-configure for ecm`|
|[b4b099f](https://github.com/sagemath/sagetrac-mirror/commit/b4b099f23723b7bb01614b0234d11a9da1f7d4cc)|`added the check for gmp/mpir presence`|
|[d9a3747](https://github.com/sagemath/sagetrac-mirror/commit/d9a37478f9621258944169d7e8c7d87914ce1085)|`check for ecm executable, use temp var for version`|
|[c20c12e](https://github.com/sagemath/sagetrac-mirror/commit/c20c12e2b963cb592ebcf75f2a50ca34238bb8b8)|`Merge branch 'u/dimpase/packages/ecmconfig' of git://trac.sagemath.org/sage into develop`|
|[f3e407b](https://github.com/sagemath/sagetrac-mirror/commit/f3e407bc1903e6367a910e1e85720d596ee103c6)|`Add -std=c++11 to fplll build to avoid a binary-pkg bug`|
|[5c7cc1b](https://github.com/sagemath/sagetrac-mirror/commit/5c7cc1b5bb50d826d0533520152820c5aa6988b2)|`Remove setting CPATH and LIBRARY_PATH on Debian`|



---

archive/issue_comments_554929.json:
```json
{
    "body": "Author: Isuru Fernando",
    "created_at": "2019-12-15T04:57:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28533#issuecomment-554929",
    "user": "https://github.com/isuruf"
}
```

Author: Isuru Fernando



---

archive/issue_comments_554930.json:
```json
{
    "body": "Branch: [u/isuruf/28533](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/28533)",
    "created_at": "2019-12-15T04:57:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28533#issuecomment-554930",
    "user": "https://github.com/isuruf"
}
```

Branch: [u/isuruf/28533](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/28533)



---

archive/issue_comments_554931.json:
```json
{
    "body": "Commit: [5c7cc1b5bb50d826d0533520152820c5aa6988b2](https://github.com/sagemath/sagetrac-mirror/commit/5c7cc1b5bb50d826d0533520152820c5aa6988b2)",
    "created_at": "2019-12-15T04:57:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28533#issuecomment-554931",
    "user": "https://github.com/isuruf"
}
```

Commit: [5c7cc1b5bb50d826d0533520152820c5aa6988b2](https://github.com/sagemath/sagetrac-mirror/commit/5c7cc1b5bb50d826d0533520152820c5aa6988b2)



---

archive/issue_comments_554932.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-12-15T04:57:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28533#issuecomment-554932",
    "user": "https://github.com/isuruf"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_554933.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|\n|[790a38d](https://github.com/sagemath/sagetrac-mirror/commit/790a38d38f6a716955689f301e07846114f5cc2b)|`Remove setting CPATH and LIBRARY_PATH on Debian`|",
    "created_at": "2019-12-15T04:58:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28533#issuecomment-554933",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
|[790a38d](https://github.com/sagemath/sagetrac-mirror/commit/790a38d38f6a716955689f301e07846114f5cc2b)|`Remove setting CPATH and LIBRARY_PATH on Debian`|



---

archive/issue_comments_554934.json:
```json
{
    "body": "Changing commit from \"[5c7cc1b5bb50d826d0533520152820c5aa6988b2](https://github.com/sagemath/sagetrac-mirror/commit/5c7cc1b5bb50d826d0533520152820c5aa6988b2)\" to \"[790a38d38f6a716955689f301e07846114f5cc2b](https://github.com/sagemath/sagetrac-mirror/commit/790a38d38f6a716955689f301e07846114f5cc2b)\"",
    "created_at": "2019-12-15T04:58:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28533#issuecomment-554934",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[5c7cc1b5bb50d826d0533520152820c5aa6988b2](https://github.com/sagemath/sagetrac-mirror/commit/5c7cc1b5bb50d826d0533520152820c5aa6988b2)" to "[790a38d38f6a716955689f301e07846114f5cc2b](https://github.com/sagemath/sagetrac-mirror/commit/790a38d38f6a716955689f301e07846114f5cc2b)"



---

archive/issue_comments_554935.json:
```json
{
    "body": "<a id='comment:3'></a>\nThis old hack was added on #13515, as can be found by doing `git blame src/bin/sage-env | grep Debian`, which will show `d746e260b7c` and then `git show d746e260b7c`.\n\nPerhaps, even if it was needed, it's for long gone Ubuntu 12.",
    "created_at": "2019-12-15T09:27:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28533#issuecomment-554935",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:3'></a>
This old hack was added on #13515, as can be found by doing `git blame src/bin/sage-env | grep Debian`, which will show `d746e260b7c` and then `git show d746e260b7c`.

Perhaps, even if it was needed, it's for long gone Ubuntu 12.



---

archive/issue_comments_554936.json:
```json
{
    "body": "<a id='comment:4'></a>\nIf it was for ubuntu 12 and nothing else, yes we can absolutely remove it. Upstream support for that expired in 2017 after all.",
    "created_at": "2019-12-15T09:39:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28533#issuecomment-554936",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:4'></a>
If it was for ubuntu 12 and nothing else, yes we can absolutely remove it. Upstream support for that expired in 2017 after all.



---

archive/issue_comments_554937.json:
```json
{
    "body": "<a id='comment:5'></a>\nLGTM",
    "created_at": "2019-12-15T11:55:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28533#issuecomment-554937",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:5'></a>
LGTM



---

archive/issue_comments_554938.json:
```json
{
    "body": "Reviewer: Dima Pasechnik",
    "created_at": "2019-12-15T11:55:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28533#issuecomment-554938",
    "user": "https://github.com/dimpase"
}
```

Reviewer: Dima Pasechnik



---

archive/issue_comments_554939.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-12-15T11:55:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28533#issuecomment-554939",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_554940.json:
```json
{
    "body": "Changing branch from \"[u/isuruf/28533](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/28533)\" to \"[790a38d38f6a716955689f301e07846114f5cc2b](https://github.com/sagemath/sagetrac-mirror/commit/790a38d38f6a716955689f301e07846114f5cc2b)\"",
    "created_at": "2019-12-17T22:46:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28533#issuecomment-554940",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "[u/isuruf/28533](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/28533)" to "[790a38d38f6a716955689f301e07846114f5cc2b](https://github.com/sagemath/sagetrac-mirror/commit/790a38d38f6a716955689f301e07846114f5cc2b)"



---

archive/issue_comments_554941.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-12-17T22:46:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28533",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28533#issuecomment-554941",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_080950.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-12-17T22:46:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28533",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28533#event-80950"
}
```
