# Issue 28198: Add method is_bipartite to BipartiteGraph

archive/issues_027961.json:
```json
{
    "body": "A member of class `BipartiteGraph` is obviously bipartite, so we can avoid to test it.\n\nBranch/Commit: [0436491078f2d5ee834bfdfcd07a996f539b5754](https://github.com/sagemath/sagetrac-mirror/commit/0436491078f2d5ee834bfdfcd07a996f539b5754)\n\nReviewer: Vincent Delecroix\n\nAuthor: David Coudert\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/28198\n\n",
    "closed_at": "2019-07-23T21:04:05Z",
    "created_at": "2019-07-14T19:54:07Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.9",
    "title": "Add method is_bipartite to BipartiteGraph",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28198",
    "user": "https://github.com/dcoudert"
}
```
A member of class `BipartiteGraph` is obviously bipartite, so we can avoid to test it.

Branch/Commit: [0436491078f2d5ee834bfdfcd07a996f539b5754](https://github.com/sagemath/sagetrac-mirror/commit/0436491078f2d5ee834bfdfcd07a996f539b5754)

Reviewer: Vincent Delecroix

Author: David Coudert

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/28198





---

archive/issue_comments_548098.json:
```json
{
    "body": "Changing commit from \"\" to \"d239b5ef03368c540b5ee1227a047dbf7d148eda\"",
    "created_at": "2019-07-14T19:58:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28198#issuecomment-548098",
    "user": "https://github.com/dcoudert"
}
```

Changing commit from "" to "d239b5ef03368c540b5ee1227a047dbf7d148eda"



---

archive/issue_comments_548099.json:
```json
{
    "body": "Changing branch from \"\" to \"public/graphs/28198_is_bipartite\"",
    "created_at": "2019-07-14T19:58:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28198#issuecomment-548099",
    "user": "https://github.com/dcoudert"
}
```

Changing branch from "" to "public/graphs/28198_is_bipartite"



---

archive/issue_comments_548100.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-07-14T19:58:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28198#issuecomment-548100",
    "user": "https://github.com/dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_548101.json:
```json
{
    "body": "<a id='comment:1'></a>\nIf you have in mind a smarter way to handle initialization, please share it. The branch is in public, so you can implement it directly.\n\n---\nNew commits:\n|                                                                                                                                          |                                              |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[d239b5e](https://github.com/sagemath/sagetrac-mirror/commit/d239b5ef03368c540b5ee1227a047dbf7d148eda)|`trac #28198: is_bipartite for BipartiteGraph`|",
    "created_at": "2019-07-14T19:58:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28198#issuecomment-548101",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:1'></a>
If you have in mind a smarter way to handle initialization, please share it. The branch is in public, so you can implement it directly.

---
New commits:
|                                                                                                                                          |                                              |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[d239b5e](https://github.com/sagemath/sagetrac-mirror/commit/d239b5ef03368c540b5ee1227a047dbf7d148eda)|`trac #28198: is_bipartite for BipartiteGraph`|



---

archive/issue_comments_548102.json:
```json
{
    "body": "<a id='comment:2'></a>\nInsteed of having a weird and mostly useless special case\n\n```\n+        if not hasattr(self, 'left') or not hasattr(self, 'right'):\n+            # This case may occur during the initialization (i.e., in __init__)\n+            return GenericGraph.is_bipartite(self, certificate=certificate)\n```\nWhy don't you call `GenericGraph.is_bipartite(self)` in `__init__` instead of `self.is_bipartite()?",
    "created_at": "2019-07-17T11:20:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28198#issuecomment-548102",
    "user": "https://github.com/videlec"
}
```

<a id='comment:2'></a>
Insteed of having a weird and mostly useless special case

```
+        if not hasattr(self, 'left') or not hasattr(self, 'right'):
+            # This case may occur during the initialization (i.e., in __init__)
+            return GenericGraph.is_bipartite(self, certificate=certificate)
```
Why don't you call `GenericGraph.is_bipartite(self)` in `__init__` instead of `self.is_bipartite()?



---

archive/issue_comments_548103.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|\n|[564fa99](https://github.com/sagemath/sagetrac-mirror/commit/564fa99c10956c63139ad0dbd9075dd1f2c020c4)|`proposition of simplification for 28198`|",
    "created_at": "2019-07-17T11:36:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28198#issuecomment-548103",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|
|[564fa99](https://github.com/sagemath/sagetrac-mirror/commit/564fa99c10956c63139ad0dbd9075dd1f2c020c4)|`proposition of simplification for 28198`|



---

archive/issue_comments_548104.json:
```json
{
    "body": "Changing commit from \"d239b5ef03368c540b5ee1227a047dbf7d148eda\" to \"564fa99c10956c63139ad0dbd9075dd1f2c020c4\"",
    "created_at": "2019-07-17T11:36:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28198#issuecomment-548104",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d239b5ef03368c540b5ee1227a047dbf7d148eda" to "564fa99c10956c63139ad0dbd9075dd1f2c020c4"



---

archive/issue_comments_548105.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|\n|[c909cdc](https://github.com/sagemath/sagetrac-mirror/commit/c909cdcbbf0601b99351b3abe5a01dd38f1682a9)|`trac #28198: small correction`|",
    "created_at": "2019-07-17T12:51:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28198#issuecomment-548105",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|
|[c909cdc](https://github.com/sagemath/sagetrac-mirror/commit/c909cdcbbf0601b99351b3abe5a01dd38f1682a9)|`trac #28198: small correction`|



---

archive/issue_comments_548106.json:
```json
{
    "body": "Changing commit from \"564fa99c10956c63139ad0dbd9075dd1f2c020c4\" to \"c909cdcbbf0601b99351b3abe5a01dd38f1682a9\"",
    "created_at": "2019-07-17T12:51:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28198#issuecomment-548106",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "564fa99c10956c63139ad0dbd9075dd1f2c020c4" to "c909cdcbbf0601b99351b3abe5a01dd38f1682a9"



---

archive/issue_comments_548107.json:
```json
{
    "body": "<a id='comment:5'></a>\nI agree with your improvement. I did a small correction to avoid this issue\n\n```\nsage: a = b = set()\nsage: a.add(1)\nsage: b\n{1}\n```\n\nFor me this ticket is good to go. I let you conclude. Thank you.",
    "created_at": "2019-07-17T12:53:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28198#issuecomment-548107",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:5'></a>
I agree with your improvement. I did a small correction to avoid this issue

```
sage: a = b = set()
sage: a.add(1)
sage: b
{1}
```

For me this ticket is good to go. I let you conclude. Thank you.



---

archive/issue_comments_548108.json:
```json
{
    "body": "<a id='comment:6'></a>\n- I don't like so much the duplication in the `BipartiteGraph.__init__`.\n- The `sets_from_colors` would be more natural if it would return `ans` instead of `ans.values()`. That is it would transform a dictionary `k -> v` in `v -> {keys with that values}`.\n\nIs that ok if I try something to fix these.",
    "created_at": "2019-07-17T13:28:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28198#issuecomment-548108",
    "user": "https://github.com/videlec"
}
```

<a id='comment:6'></a>
- I don't like so much the duplication in the `BipartiteGraph.__init__`.
- The `sets_from_colors` would be more natural if it would return `ans` instead of `ans.values()`. That is it would transform a dictionary `k -> v` in `v -> {keys with that values}`.

Is that ok if I try something to fix these.



---

archive/issue_comments_548109.json:
```json
{
    "body": "<a id='comment:7'></a>\nSure, the branch is in public so that we can interact (and I'm not the author of the commit \"proposition of simplification for 28198\")",
    "created_at": "2019-07-17T13:34:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28198#issuecomment-548109",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:7'></a>
Sure, the branch is in public so that we can interact (and I'm not the author of the commit "proposition of simplification for 28198")



---

archive/issue_comments_548110.json:
```json
{
    "body": "Changing commit from \"c909cdcbbf0601b99351b3abe5a01dd38f1682a9\" to \"f2e3d83a91a55c61b3a138b0271a258d3e6211b5\"",
    "created_at": "2019-07-17T14:02:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28198#issuecomment-548110",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c909cdcbbf0601b99351b3abe5a01dd38f1682a9" to "f2e3d83a91a55c61b3a138b0271a258d3e6211b5"



---

archive/issue_comments_548111.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------|\n|[f2e3d83](https://github.com/sagemath/sagetrac-mirror/commit/f2e3d83a91a55c61b3a138b0271a258d3e6211b5)|`cleanup`|",
    "created_at": "2019-07-17T14:02:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28198#issuecomment-548111",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |         |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------|
|[f2e3d83](https://github.com/sagemath/sagetrac-mirror/commit/f2e3d83a91a55c61b3a138b0271a258d3e6211b5)|`cleanup`|



---

archive/issue_comments_548112.json:
```json
{
    "body": "<a id='comment:9'></a>\nI like it better now :-)",
    "created_at": "2019-07-17T14:04:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28198#issuecomment-548112",
    "user": "https://github.com/videlec"
}
```

<a id='comment:9'></a>
I like it better now :-)



---

archive/issue_comments_548113.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Vincent Delecroix\"",
    "created_at": "2019-07-17T14:23:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28198#issuecomment-548113",
    "user": "https://github.com/videlec"
}
```

Changing reviewer from "" to "Vincent Delecroix"



---

archive/issue_comments_548114.json:
```json
{
    "body": "Changing commit from \"f2e3d83a91a55c61b3a138b0271a258d3e6211b5\" to \"17d54019a0aedc0744999ebb7547b867d4e9246b\"",
    "created_at": "2019-07-17T14:26:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28198#issuecomment-548114",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f2e3d83a91a55c61b3a138b0271a258d3e6211b5" to "17d54019a0aedc0744999ebb7547b867d4e9246b"



---

archive/issue_comments_548115.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------|\n|[17d5401](https://github.com/sagemath/sagetrac-mirror/commit/17d54019a0aedc0744999ebb7547b867d4e9246b)|`even simpler`|",
    "created_at": "2019-07-17T14:26:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28198#issuecomment-548115",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |              |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------|
|[17d5401](https://github.com/sagemath/sagetrac-mirror/commit/17d54019a0aedc0744999ebb7547b867d4e9246b)|`even simpler`|



---

archive/issue_comments_548116.json:
```json
{
    "body": "<a id='comment:12'></a>\nwe can simplify more putting the content of `sets_from_colors` inside `_upgrade_from_graph`, no ?",
    "created_at": "2019-07-17T14:54:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28198#issuecomment-548116",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:12'></a>
we can simplify more putting the content of `sets_from_colors` inside `_upgrade_from_graph`, no ?



---

archive/issue_comments_548117.json:
```json
{
    "body": "<a id='comment:13'></a>\nmake sense",
    "created_at": "2019-07-17T16:16:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28198#issuecomment-548117",
    "user": "https://github.com/videlec"
}
```

<a id='comment:13'></a>
make sense



---

archive/issue_comments_548118.json:
```json
{
    "body": "Changing commit from \"17d54019a0aedc0744999ebb7547b867d4e9246b\" to \"0436491078f2d5ee834bfdfcd07a996f539b5754\"",
    "created_at": "2019-07-17T16:28:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28198#issuecomment-548118",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "17d54019a0aedc0744999ebb7547b867d4e9246b" to "0436491078f2d5ee834bfdfcd07a996f539b5754"



---

archive/issue_comments_548119.json:
```json
{
    "body": "<a id='comment:14'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|\n|[0436491](https://github.com/sagemath/sagetrac-mirror/commit/0436491078f2d5ee834bfdfcd07a996f539b5754)|`trac #28198: more simplifications`|",
    "created_at": "2019-07-17T16:28:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28198#issuecomment-548119",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|
|[0436491](https://github.com/sagemath/sagetrac-mirror/commit/0436491078f2d5ee834bfdfcd07a996f539b5754)|`trac #28198: more simplifications`|



---

archive/issue_comments_548120.json:
```json
{
    "body": "<a id='comment:15'></a>\nShould be good now.",
    "created_at": "2019-07-17T16:29:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28198#issuecomment-548120",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:15'></a>
Should be good now.



---

archive/issue_comments_548121.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-07-17T17:03:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28198#issuecomment-548121",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_548122.json:
```json
{
    "body": "<a id='comment:16'></a>\ngood for me at least",
    "created_at": "2019-07-17T17:03:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28198#issuecomment-548122",
    "user": "https://github.com/videlec"
}
```

<a id='comment:16'></a>
good for me at least



---

archive/issue_comments_548123.json:
```json
{
    "body": "<a id='comment:17'></a>\nThank you.",
    "created_at": "2019-07-17T18:15:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28198#issuecomment-548123",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:17'></a>
Thank you.



---

archive/issue_comments_548124.json:
```json
{
    "body": "Changing branch from \"public/graphs/28198_is_bipartite\" to \"0436491078f2d5ee834bfdfcd07a996f539b5754\"",
    "created_at": "2019-07-23T21:04:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28198#issuecomment-548124",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/graphs/28198_is_bipartite" to "0436491078f2d5ee834bfdfcd07a996f539b5754"



---

archive/issue_events_079381.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-23T21:04:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28198#event-79381"
}
```



---

archive/issue_comments_548125.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-07-23T21:04:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28198",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28198#issuecomment-548125",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
