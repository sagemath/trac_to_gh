# Issue 28335: Cythonize Yen_k_shortest_simple_paths and feng_k_shortest_simple_paths

archive/issues_028098.json:
```json
{
    "assignees": [],
    "body": "This ticket aims to implement these methods in Cython for speed up and performance gains.\n\nDepends on #27859\n\nCC:  @dcoudert\n\nKeywords: **gsoc2019**\n\nBranch/Commit: **[aac00c3](https://github.com/sagemath/sagetrac-mirror/commit/aac00c3e0005643c0771d85d8decb431e7f13f3c)**\n\nReviewer: **David Coudert**\n\nAuthor: **Rajat Mittal**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/28335_\n\n",
    "closed_at": "2019-08-29T20:02:10Z",
    "created_at": "2019-08-09T04:13:37Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Cythonize Yen_k_shortest_simple_paths and feng_k_shortest_simple_paths",
    "type": "issue",
    "updated_at": "2019-08-29T20:02:10Z",
    "url": "https://github.com/sagemath/sage/issues/28335",
    "user": "https://github.com/rajat1433"
}
```
This ticket aims to implement these methods in Cython for speed up and performance gains.

Depends on #27859

CC:  @dcoudert

Keywords: **gsoc2019**

Branch/Commit: **[aac00c3](https://github.com/sagemath/sagetrac-mirror/commit/aac00c3e0005643c0771d85d8decb431e7f13f3c)**

Reviewer: **David Coudert**

Author: **Rajat Mittal**

_Issue created by migration from https://trac.sagemath.org/ticket/28335_





---

archive/issue_events_370620.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-08-09T04:13:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28335#event-370620"
}
```



---

archive/issue_events_370621.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-08-09T04:13:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "component: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28335#event-370621"
}
```



---

archive/issue_events_370622.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-08-09T04:13:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28335#event-370622"
}
```



---

archive/issue_events_370623.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-08-09T04:13:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28335#event-370623"
}
```



---

archive/issue_comments_444520.json:
```json
{
    "body": "Author: **Rajat Mittal**",
    "created_at": "2019-08-09T05:17:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444520",
    "user": "https://github.com/rajat1433"
}
```

Author: **Rajat Mittal**



---

archive/issue_comments_444521.json:
```json
{
    "body": "Branch: **[public/graphs/28335_Cythonize_Yen_Feng](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/28335_Cythonize_Yen_Feng)**",
    "created_at": "2019-08-09T05:17:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444521",
    "user": "https://github.com/rajat1433"
}
```

Branch: **[public/graphs/28335_Cythonize_Yen_Feng](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/28335_Cythonize_Yen_Feng)**



---

archive/issue_comments_444522.json:
```json
{
    "body": "Commit: **[12ebc70](https://github.com/sagemath/sagetrac-mirror/commit/12ebc7080e850f0dbe71a305448e5f4dca9c062a)**",
    "created_at": "2019-08-10T04:27:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444522",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[12ebc70](https://github.com/sagemath/sagetrac-mirror/commit/12ebc7080e850f0dbe71a305448e5f4dca9c062a)**



---

archive/issue_comments_444523.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7871701cd23f8a693d36771c2a2e4c422e672782\">7871701</a></td><td><code>adding comments</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7c9bc30d761b4cb176b714df9021b3ae0baf9347\">7c9bc30</a></td><td><code>trac #27859: fix merge conflict with 8.9.beta5</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ae912dd544e9b4aa21dc1a084f6efb2faf19430\">3ae912d</a></td><td><code>trac #27859: add test on random digraphs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82015e22bcd6a345456b3f1c9644cb4c27547559\">82015e2</a></td><td><code>made feng faster</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4bdbe630051bb05f146a5071aaeb06e14d34445a\">4bdbe63</a></td><td><code>some improvement</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fabe87bcf7aa9c4d45bb7ac6dedb2c0bc83218fb\">fabe87b</a></td><td><code>trac #27859: review edit in Yen</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a2aca351d2952a6fd573ec8b4ddea41f8942c45\">3a2aca3</a></td><td><code>trac #27859: review edit in Feng</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/034cb7f12ef01704732ae3d044cff43eecd84aaa\">034cb7f</a></td><td><code>Merge branch 'public/graphs/27859_enumerate_paths' of git://trac.sagemath.org/sage into public/graphs/27859_enumerate_paths</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fcfa3e661e0840adba52a7e7f4a5b692450a8bad\">fcfa3e6</a></td><td><code>removing extra newline</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12ebc7080e850f0dbe71a305448e5f4dca9c062a\">12ebc70</a></td><td><code>cythonizing Yen and Feng</code></td></tr></table>\n",
    "created_at": "2019-08-10T04:27:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444523",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:2'>Comment 2:</a>
Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7871701cd23f8a693d36771c2a2e4c422e672782">7871701</a></td><td><code>adding comments</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7c9bc30d761b4cb176b714df9021b3ae0baf9347">7c9bc30</a></td><td><code>trac #27859: fix merge conflict with 8.9.beta5</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ae912dd544e9b4aa21dc1a084f6efb2faf19430">3ae912d</a></td><td><code>trac #27859: add test on random digraphs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82015e22bcd6a345456b3f1c9644cb4c27547559">82015e2</a></td><td><code>made feng faster</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4bdbe630051bb05f146a5071aaeb06e14d34445a">4bdbe63</a></td><td><code>some improvement</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fabe87bcf7aa9c4d45bb7ac6dedb2c0bc83218fb">fabe87b</a></td><td><code>trac #27859: review edit in Yen</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a2aca351d2952a6fd573ec8b4ddea41f8942c45">3a2aca3</a></td><td><code>trac #27859: review edit in Feng</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/034cb7f12ef01704732ae3d044cff43eecd84aaa">034cb7f</a></td><td><code>Merge branch 'public/graphs/27859_enumerate_paths' of git://trac.sagemath.org/sage into public/graphs/27859_enumerate_paths</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fcfa3e661e0840adba52a7e7f4a5b692450a8bad">fcfa3e6</a></td><td><code>removing extra newline</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12ebc7080e850f0dbe71a305448e5f4dca9c062a">12ebc70</a></td><td><code>cythonizing Yen and Feng</code></td></tr></table>




---

archive/issue_comments_444524.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nI have cythonized the Yen and Feng's methods here as can be seen from the last commit in the list of above commits.\n\nIn short I have used cython variables and cython data structures where ever possible in these methods.\n\nAlso I have named the cython methods as yen_k_shortest_simple_paths_cython and feng_k_shortest_simple_paths_cython to separate them from yen_k_shortest_simple_paths and feng_k_shortest_simple_paths for consistency and speed checks.\nfeng_k_shortest_simple_paths\nChanges will be more clear once #27859 gets included.",
    "created_at": "2019-08-10T04:31:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444524",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:3'>Comment 3:</a>
I have cythonized the Yen and Feng's methods here as can be seen from the last commit in the list of above commits.

In short I have used cython variables and cython data structures where ever possible in these methods.

Also I have named the cython methods as yen_k_shortest_simple_paths_cython and feng_k_shortest_simple_paths_cython to separate them from yen_k_shortest_simple_paths and feng_k_shortest_simple_paths for consistency and speed checks.
feng_k_shortest_simple_paths
Changes will be more clear once #27859 gets included.



---

archive/issue_comments_444525.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nThe way you declare the priority queue is incorrect. This will fail if edge weights are not integers.\n\nThe list `idx_to_path` stores all paths, and you never remove any. So it can become giant. Can't you instead use a dictionary and a counter to assign each new path a unique id, and remove paths that are no longer useful ? In fact, you can certainly combine `idx_to_path` and `heap_paths` in a unique dictionary, no ?",
    "created_at": "2019-08-10T11:00:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444525",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:4'>Comment 4:</a>
The way you declare the priority queue is incorrect. This will fail if edge weights are not integers.

The list `idx_to_path` stores all paths, and you never remove any. So it can become giant. Can't you instead use a dictionary and a counter to assign each new path a unique id, and remove paths that are no longer useful ? In fact, you can certainly combine `idx_to_path` and `heap_paths` in a unique dictionary, no ?



---

archive/issue_comments_444526.json:
```json
{
    "body": "Changed commit from **[12ebc70](https://github.com/sagemath/sagetrac-mirror/commit/12ebc7080e850f0dbe71a305448e5f4dca9c062a)** to **[c937984](https://github.com/sagemath/sagetrac-mirror/commit/c93798417e0f296a13eac1539094b12f2fa75ea0)**",
    "created_at": "2019-08-10T19:29:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444526",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[12ebc70](https://github.com/sagemath/sagetrac-mirror/commit/12ebc7080e850f0dbe71a305448e5f4dca9c062a)** to **[c937984](https://github.com/sagemath/sagetrac-mirror/commit/c93798417e0f296a13eac1539094b12f2fa75ea0)**



---

archive/issue_comments_444527.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c93798417e0f296a13eac1539094b12f2fa75ea0\">c937984</a></td><td><code>Improved with using Dictionary and DOUBLE</code></td></tr></table>\n",
    "created_at": "2019-08-10T19:29:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444527",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'>Comment 5:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c93798417e0f296a13eac1539094b12f2fa75ea0">c937984</a></td><td><code>Improved with using Dictionary and DOUBLE</code></td></tr></table>




---

archive/issue_comments_444528.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nReplying to [@dcoudert](#comment%3A4):\n> The way you declare the priority queue is incorrect. This will fail if edge weights are not integers.\n> \n> The list `idx_to_path` stores all paths, and you never remove any. So it can become giant. Can't you instead use a dictionary and a counter to assign each new path a unique id, and remove paths that are no longer useful ? In fact, you can certainly combine `idx_to_path` and `heap_paths` in a unique dictionary, no ?\n\nI agree with both the statements and made the changes appropriately",
    "created_at": "2019-08-10T19:31:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444528",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:6'>Comment 6:</a>
Replying to [@dcoudert](#comment%3A4):
> The way you declare the priority queue is incorrect. This will fail if edge weights are not integers.
> 
> The list `idx_to_path` stores all paths, and you never remove any. So it can become giant. Can't you instead use a dictionary and a counter to assign each new path a unique id, and remove paths that are no longer useful ? In fact, you can certainly combine `idx_to_path` and `heap_paths` in a unique dictionary, no ?

I agree with both the statements and made the changes appropriately



---

archive/issue_comments_444529.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nSeems correct.\nThe next step is to speed up the test `hash_path not in idx_to_path.values()`, but I don't have good ideas yet on how to do that.",
    "created_at": "2019-08-11T07:46:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444529",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:7'>Comment 7:</a>
Seems correct.
The next step is to speed up the test `hash_path not in idx_to_path.values()`, but I don't have good ideas yet on how to do that.



---

archive/issue_comments_444530.json:
```json
{
    "body": "Changed commit from **[c937984](https://github.com/sagemath/sagetrac-mirror/commit/c93798417e0f296a13eac1539094b12f2fa75ea0)** to **[a72071b](https://github.com/sagemath/sagetrac-mirror/commit/a72071b9fcbbeb96091a43f5ade1596acfa4b2da)**",
    "created_at": "2019-08-12T04:05:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444530",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c937984](https://github.com/sagemath/sagetrac-mirror/commit/c93798417e0f296a13eac1539094b12f2fa75ea0)** to **[a72071b](https://github.com/sagemath/sagetrac-mirror/commit/a72071b9fcbbeb96091a43f5ade1596acfa4b2da)**



---

archive/issue_comments_444531.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a72071b9fcbbeb96091a43f5ade1596acfa4b2da\">a72071b</a></td><td><code>removal of unncessary tests</code></td></tr></table>\n",
    "created_at": "2019-08-12T04:05:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444531",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:8'>Comment 8:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a72071b9fcbbeb96091a43f5ade1596acfa4b2da">a72071b</a></td><td><code>removal of unncessary tests</code></td></tr></table>




---

archive/issue_comments_444532.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\n\n```\nsage: from sage.graphs.path_enumeration import feng_k_shortest_simple_paths_cyth\n....: on\nsage: from sage.graphs.path_enumeration import feng_k_shortest_simple_paths\nsage: from sage.graphs.path_enumeration import yen_k_shortest_simple_paths\nsage: from sage.graphs.path_enumeration import yen_k_shortest_simple_paths_cytho\n....: n\nsage: sage: G = digraphs.RandomDirectedGNP(30, .05)\n....:         sage: while not G.is_strongly_connected():\n....:         ....:     G = digraphs.RandomDirectedGNP(30, .1)\n....:         sage: for u, v in list(G.edges(labels=False, sort=False)):\n....:         ....:     G.set_edge_label(u, v, randint(1, 10))\n....:         sage: V = G.vertices()\n....:         sage: shuffle(V)\n....:         sage: u, v = V[:2]\nsage: it_Y = feng_k_shortest_simple_paths_cython(G, u, v, by_weight=True, report\n....: _weight=True)\nsage: it_F = feng_k_shortest_simple_paths(G, u, v, by_weight=True, report_weight\n....: =True)\nsage: for i in range(205):\n....:     if(it_F.next()[0]!=it_Y.next()[0]):\n....:         print(\"wrong\")\n....:         \n....:     \n....: \nsage: it_Y = yen_k_shortest_simple_paths_cython(G, u, v, by_weight=True, report_\n....: weight=True)\nsage: it_F = yen_k_shortest_simple_paths(G, u, v, by_weight=True, report_weight=\n....: True)\nsage: for i in range(205):\n....:     if(it_F.next()[0]!=it_Y.next()[0]):\n....:         print(\"wrong\")\n....:         \n....:     \n....:\n```",
    "created_at": "2019-08-12T04:05:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444532",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:9'>Comment 9:</a>

```
sage: from sage.graphs.path_enumeration import feng_k_shortest_simple_paths_cyth
....: on
sage: from sage.graphs.path_enumeration import feng_k_shortest_simple_paths
sage: from sage.graphs.path_enumeration import yen_k_shortest_simple_paths
sage: from sage.graphs.path_enumeration import yen_k_shortest_simple_paths_cytho
....: n
sage: sage: G = digraphs.RandomDirectedGNP(30, .05)
....:         sage: while not G.is_strongly_connected():
....:         ....:     G = digraphs.RandomDirectedGNP(30, .1)
....:         sage: for u, v in list(G.edges(labels=False, sort=False)):
....:         ....:     G.set_edge_label(u, v, randint(1, 10))
....:         sage: V = G.vertices()
....:         sage: shuffle(V)
....:         sage: u, v = V[:2]
sage: it_Y = feng_k_shortest_simple_paths_cython(G, u, v, by_weight=True, report
....: _weight=True)
sage: it_F = feng_k_shortest_simple_paths(G, u, v, by_weight=True, report_weight
....: =True)
sage: for i in range(205):
....:     if(it_F.next()[0]!=it_Y.next()[0]):
....:         print("wrong")
....:         
....:     
....: 
sage: it_Y = yen_k_shortest_simple_paths_cython(G, u, v, by_weight=True, report_
....: weight=True)
sage: it_F = yen_k_shortest_simple_paths(G, u, v, by_weight=True, report_weight=
....: True)
sage: for i in range(205):
....:     if(it_F.next()[0]!=it_Y.next()[0]):
....:         print("wrong")
....:         
....:     
....:
```



---

archive/issue_comments_444533.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nAfter thinking about the utility of the hash_path not in idx_to_path.values() test , it seems like we don't really require it as per our algorithm as we are working on graphs without multiedges hence the path will no be repeated into the heap. So this test is unnecessary here.\n\nAlso the test supporting it is shown in the above comment.",
    "created_at": "2019-08-12T04:08:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444533",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:10'>Comment 10:</a>
After thinking about the utility of the hash_path not in idx_to_path.values() test , it seems like we don't really require it as per our algorithm as we are working on graphs without multiedges hence the path will no be repeated into the heap. So this test is unnecessary here.

Also the test supporting it is shown in the above comment.



---

archive/issue_comments_444534.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8c022dd0dee9e6a0c55206d54599dda3a27611de\">8c022dd</a></td><td><code>removing hash_paths</code></td></tr></table>\n",
    "created_at": "2019-08-12T04:13:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444534",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:11'>Comment 11:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8c022dd0dee9e6a0c55206d54599dda3a27611de">8c022dd</a></td><td><code>removing hash_paths</code></td></tr></table>




---

archive/issue_comments_444535.json:
```json
{
    "body": "Changed commit from **[a72071b](https://github.com/sagemath/sagetrac-mirror/commit/a72071b9fcbbeb96091a43f5ade1596acfa4b2da)** to **[8c022dd](https://github.com/sagemath/sagetrac-mirror/commit/8c022dd0dee9e6a0c55206d54599dda3a27611de)**",
    "created_at": "2019-08-12T04:13:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444535",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a72071b](https://github.com/sagemath/sagetrac-mirror/commit/a72071b9fcbbeb96091a43f5ade1596acfa4b2da)** to **[8c022dd](https://github.com/sagemath/sagetrac-mirror/commit/8c022dd0dee9e6a0c55206d54599dda3a27611de)**



---

archive/issue_comments_444536.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8085e8c4cc407011796c9ca74250c995b772aa93\">8085e8c</a></td><td><code>merged with sage 8.9beta6</code></td></tr></table>\n",
    "created_at": "2019-08-12T04:48:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444536",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:12'>Comment 12:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8085e8c4cc407011796c9ca74250c995b772aa93">8085e8c</a></td><td><code>merged with sage 8.9beta6</code></td></tr></table>




---

archive/issue_comments_444537.json:
```json
{
    "body": "Changed commit from **[8c022dd](https://github.com/sagemath/sagetrac-mirror/commit/8c022dd0dee9e6a0c55206d54599dda3a27611de)** to **[8085e8c](https://github.com/sagemath/sagetrac-mirror/commit/8085e8c4cc407011796c9ca74250c995b772aa93)**",
    "created_at": "2019-08-12T04:48:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444537",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8c022dd](https://github.com/sagemath/sagetrac-mirror/commit/8c022dd0dee9e6a0c55206d54599dda3a27611de)** to **[8085e8c](https://github.com/sagemath/sagetrac-mirror/commit/8085e8c4cc407011796c9ca74250c995b772aa93)**



---

archive/issue_comments_444538.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nI'm not fully convinced by the removal of this test. It is part of the algorithm for a reason. Consider an unweighted graph with many paths from u to v with same cost. For instance a complete graph. A same path might certainly been found several times, no ?",
    "created_at": "2019-08-12T08:40:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444538",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:13'>Comment 13:</a>
I'm not fully convinced by the removal of this test. It is part of the algorithm for a reason. Consider an unweighted graph with many paths from u to v with same cost. For instance a complete graph. A same path might certainly been found several times, no ?



---

archive/issue_comments_444539.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nReplying to [@dcoudert](#comment%3A13):\n> I'm not fully convinced by the removal of this test. It is part of the algorithm for a reason. Consider an unweighted graph with many paths from u to v with same cost. For instance a complete graph. A same path might certainly been found several times, no ?\n\nActual algorithm never specify to do this test. I added this test thinking that a path may be repeated in the heap, but the way Yen's algorithm unfolds its not possible to add the same path twice.\n\n\n\n\n```\nsage: from sage.graphs.path_enumeration import yen_k_shortest_simple_paths_cython\nsage: g = graphs.CompleteGraph(5)\nsage: it_Y = yen_k_shortest_simple_paths_cython(g, 0, 4)\nsage: list(it_Y)\n[[0, 4],\n [0, 1, 4],\n [0, 2, 4],\n [0, 3, 4],\n [0, 3, 1, 4],\n [0, 3, 2, 4],\n [0, 2, 1, 4],\n [0, 2, 3, 4],\n [0, 1, 2, 4],\n [0, 1, 3, 4],\n [0, 1, 3, 2, 4],\n [0, 1, 2, 3, 4],\n [0, 2, 3, 1, 4],\n [0, 2, 1, 3, 4],\n [0, 3, 2, 1, 4],\n [0, 3, 1, 2, 4]]\n\n```\n\n```\nsage: from sage.graphs.path_enumeration import yen_k_shortest_simple_paths\nsage: g = graphs.CompleteGraph(5)\nsage: it_Y = yen_k_shortest_simple_paths(g, 0, 4)\nsage: list(it_Y)\n[[0, 4],\n [0, 1, 4],\n [0, 2, 4],\n [0, 3, 4],\n [0, 1, 2, 4],\n [0, 1, 3, 4],\n [0, 2, 1, 4],\n [0, 2, 3, 4],\n [0, 3, 1, 4],\n [0, 3, 2, 4],\n [0, 1, 2, 3, 4],\n [0, 1, 3, 2, 4],\n [0, 2, 1, 3, 4],\n [0, 2, 3, 1, 4],\n [0, 3, 1, 2, 4],\n [0, 3, 2, 1, 4]]\n\n```",
    "created_at": "2019-08-12T11:57:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444539",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:14'>Comment 14:</a>
Replying to [@dcoudert](#comment%3A13):
> I'm not fully convinced by the removal of this test. It is part of the algorithm for a reason. Consider an unweighted graph with many paths from u to v with same cost. For instance a complete graph. A same path might certainly been found several times, no ?

Actual algorithm never specify to do this test. I added this test thinking that a path may be repeated in the heap, but the way Yen's algorithm unfolds its not possible to add the same path twice.




```
sage: from sage.graphs.path_enumeration import yen_k_shortest_simple_paths_cython
sage: g = graphs.CompleteGraph(5)
sage: it_Y = yen_k_shortest_simple_paths_cython(g, 0, 4)
sage: list(it_Y)
[[0, 4],
 [0, 1, 4],
 [0, 2, 4],
 [0, 3, 4],
 [0, 3, 1, 4],
 [0, 3, 2, 4],
 [0, 2, 1, 4],
 [0, 2, 3, 4],
 [0, 1, 2, 4],
 [0, 1, 3, 4],
 [0, 1, 3, 2, 4],
 [0, 1, 2, 3, 4],
 [0, 2, 3, 1, 4],
 [0, 2, 1, 3, 4],
 [0, 3, 2, 1, 4],
 [0, 3, 1, 2, 4]]

```

```
sage: from sage.graphs.path_enumeration import yen_k_shortest_simple_paths
sage: g = graphs.CompleteGraph(5)
sage: it_Y = yen_k_shortest_simple_paths(g, 0, 4)
sage: list(it_Y)
[[0, 4],
 [0, 1, 4],
 [0, 2, 4],
 [0, 3, 4],
 [0, 1, 2, 4],
 [0, 1, 3, 4],
 [0, 2, 1, 4],
 [0, 2, 3, 4],
 [0, 3, 1, 4],
 [0, 3, 2, 4],
 [0, 1, 2, 3, 4],
 [0, 1, 3, 2, 4],
 [0, 2, 1, 3, 4],
 [0, 2, 3, 1, 4],
 [0, 3, 1, 2, 4],
 [0, 3, 2, 1, 4]]

```



---

archive/issue_comments_444540.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\n\n```\nsage: g = g.to_directed()\nsage: show(g)\nLaunched png viewer for Graphics object consisting of 30 graphics primitives\nsage: from sage.graphs.path_enumeration import feng_k_shortest_simple_paths_cython\nsage: it_F = feng_k_shortest_simple_paths_cython(g, 0, 4)\nsage: list(it_F)\n[[0, 4],\n [0, 3, 4],\n [0, 2, 4],\n [0, 1, 4],\n [0, 1, 3, 4],\n [0, 1, 2, 4],\n [0, 2, 3, 4],\n [0, 2, 1, 4],\n [0, 3, 2, 4],\n [0, 3, 1, 4],\n [0, 3, 1, 2, 4],\n [0, 3, 2, 1, 4],\n [0, 2, 1, 3, 4],\n [0, 2, 3, 1, 4],\n [0, 1, 2, 3, 4],\n [0, 1, 3, 2, 4]]\n```",
    "created_at": "2019-08-12T12:02:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444540",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:15'>Comment 15:</a>

```
sage: g = g.to_directed()
sage: show(g)
Launched png viewer for Graphics object consisting of 30 graphics primitives
sage: from sage.graphs.path_enumeration import feng_k_shortest_simple_paths_cython
sage: it_F = feng_k_shortest_simple_paths_cython(g, 0, 4)
sage: list(it_F)
[[0, 4],
 [0, 3, 4],
 [0, 2, 4],
 [0, 1, 4],
 [0, 1, 3, 4],
 [0, 1, 2, 4],
 [0, 2, 3, 4],
 [0, 2, 1, 4],
 [0, 3, 2, 4],
 [0, 3, 1, 4],
 [0, 3, 1, 2, 4],
 [0, 3, 2, 1, 4],
 [0, 2, 1, 3, 4],
 [0, 2, 3, 1, 4],
 [0, 1, 2, 3, 4],
 [0, 1, 3, 2, 4]]
```



---

archive/issue_events_370624.json:
```json
{
    "actor": "https://github.com/rajat1433",
    "created_at": "2019-08-12T12:03:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28335#event-370624"
}
```



---

archive/issue_comments_444541.json:
```json
{
    "body": "Changed commit from **[8085e8c](https://github.com/sagemath/sagetrac-mirror/commit/8085e8c4cc407011796c9ca74250c995b772aa93)** to **[5e460d7](https://github.com/sagemath/sagetrac-mirror/commit/5e460d7a61c9087084c8dd1c411ac81b659d4492)**",
    "created_at": "2019-08-13T11:09:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444541",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8085e8c](https://github.com/sagemath/sagetrac-mirror/commit/8085e8c4cc407011796c9ca74250c995b772aa93)** to **[5e460d7](https://github.com/sagemath/sagetrac-mirror/commit/5e460d7a61c9087084c8dd1c411ac81b659d4492)**



---

archive/issue_comments_444542.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5e460d7a61c9087084c8dd1c411ac81b659d4492\">5e460d7</a></td><td><code>trac #28335: review edit Yen</code></td></tr></table>\n",
    "created_at": "2019-08-13T11:09:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444542",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:17'>Comment 17:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5e460d7a61c9087084c8dd1c411ac81b659d4492">5e460d7</a></td><td><code>trac #28335: review edit Yen</code></td></tr></table>




---

archive/issue_comments_444543.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nI did some changes in Yen. I think it is cleaner this way. I have not touched Feng. You can certainly try to follow what I did to start improving it.",
    "created_at": "2019-08-13T11:11:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444543",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:18'>Comment 18:</a>
I did some changes in Yen. I think it is cleaner this way. I have not touched Feng. You can certainly try to follow what I did to start improving it.



---

archive/issue_comments_444544.json:
```json
{
    "body": "Changed commit from **[5e460d7](https://github.com/sagemath/sagetrac-mirror/commit/5e460d7a61c9087084c8dd1c411ac81b659d4492)** to **[2f41b46](https://github.com/sagemath/sagetrac-mirror/commit/2f41b460be24ebeff833ff05131374c9e1027c5c)**",
    "created_at": "2019-08-14T03:49:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444544",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5e460d7](https://github.com/sagemath/sagetrac-mirror/commit/5e460d7a61c9087084c8dd1c411ac81b659d4492)** to **[2f41b46](https://github.com/sagemath/sagetrac-mirror/commit/2f41b460be24ebeff833ff05131374c9e1027c5c)**



---

archive/issue_comments_444545.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f41b460be24ebeff833ff05131374c9e1027c5c\">2f41b46</a></td><td><code>Cythonization and edits in Feng's</code></td></tr></table>\n",
    "created_at": "2019-08-14T03:49:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444545",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:19'>Comment 19:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f41b460be24ebeff833ff05131374c9e1027c5c">2f41b46</a></td><td><code>Cythonization and edits in Feng's</code></td></tr></table>




---

archive/issue_comments_444546.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nFollowing are the comparisons results between:\nThere's a slight improvement observed.\n\n```\nsage: g = DiGraph(graphs.Grid2dGraph(10, 10))\nsage: from sage.graphs.path_enumeration import feng_k_shortest_simple_paths_cyth\n....: on\nsage: from sage.graphs.path_enumeration import feng_k_shortest_simple_paths\nsage: from sage.graphs.path_enumeration import yen_k_shortest_simple_paths\nsage: from sage.graphs.path_enumeration import yen_k_shortest_simple_paths_cytho\n....: n\nsage:  p = yen_k_shortest_simple_paths(g, (0, 0), (9, 9))\nsage: %timeit [p.next() for i in range(1000)]\n1 loop, best of 3: 1.25 s per loop\nsage:  p = yen_k_shortest_simple_paths_cython(g, (0, 0), (9, 9))\nsage: %timeit [p.next() for i in range(1000)]\n1 loop, best of 3: 1.24 s per loop\nsage:  p = feng_k_shortest_simple_paths(g, (0, 0), (9, 9))\nsage: %timeit [p.next() for i in range(5000)]\n1 loop, best of 3: 4.62 s per loop\nsage:  p = feng_k_shortest_simple_paths_cython(g, (0, 0), (9, 9))\nsage: %timeit [p.next() for i in range(5000)]\n1 loop, best of 3: 4.72 s per loop\n\nsage: g = DiGraph()\nsage: for i in range(120):\n....: ....:     g.add_edge(i,i+1,i%5)\n....:     \nsage: for i in range(30, 40, 1):\n....: ....:     g.add_edge(i,120,i%2)\n....:     \nsage:  %timeit list(yen_k_shortest_simple_paths_directed(g, 0, 120, by_weight=Tr\n....: ue))\nsage:  %timeit list(yen_k_shortest_simple_paths(g, 0, 120, by_weight=True))\n10 loops, best of 3: 46.6 ms per loop\nsage:  %timeit list(yen_k_shortest_simple_paths_cython(g, 0, 120, by_weight=True\n....: ))\n10 loops, best of 3: 45.6 ms per loop\nsage:  %timeit list(feng_k_shortest_simple_paths_cython(g, 0, 120, by_weight=Tru\n....: e))\n100 loops, best of 3: 7.62 ms per loop\nsage:  %timeit list(feng_k_shortest_simple_paths(g, 0, 120, by_weight=True))\n100 loops, best of 3: 7.74 ms per loop\n\n```",
    "created_at": "2019-08-16T04:54:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444546",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:20'>Comment 20:</a>
Following are the comparisons results between:
There's a slight improvement observed.

```
sage: g = DiGraph(graphs.Grid2dGraph(10, 10))
sage: from sage.graphs.path_enumeration import feng_k_shortest_simple_paths_cyth
....: on
sage: from sage.graphs.path_enumeration import feng_k_shortest_simple_paths
sage: from sage.graphs.path_enumeration import yen_k_shortest_simple_paths
sage: from sage.graphs.path_enumeration import yen_k_shortest_simple_paths_cytho
....: n
sage:  p = yen_k_shortest_simple_paths(g, (0, 0), (9, 9))
sage: %timeit [p.next() for i in range(1000)]
1 loop, best of 3: 1.25 s per loop
sage:  p = yen_k_shortest_simple_paths_cython(g, (0, 0), (9, 9))
sage: %timeit [p.next() for i in range(1000)]
1 loop, best of 3: 1.24 s per loop
sage:  p = feng_k_shortest_simple_paths(g, (0, 0), (9, 9))
sage: %timeit [p.next() for i in range(5000)]
1 loop, best of 3: 4.62 s per loop
sage:  p = feng_k_shortest_simple_paths_cython(g, (0, 0), (9, 9))
sage: %timeit [p.next() for i in range(5000)]
1 loop, best of 3: 4.72 s per loop

sage: g = DiGraph()
sage: for i in range(120):
....: ....:     g.add_edge(i,i+1,i%5)
....:     
sage: for i in range(30, 40, 1):
....: ....:     g.add_edge(i,120,i%2)
....:     
sage:  %timeit list(yen_k_shortest_simple_paths_directed(g, 0, 120, by_weight=Tr
....: ue))
sage:  %timeit list(yen_k_shortest_simple_paths(g, 0, 120, by_weight=True))
10 loops, best of 3: 46.6 ms per loop
sage:  %timeit list(yen_k_shortest_simple_paths_cython(g, 0, 120, by_weight=True
....: ))
10 loops, best of 3: 45.6 ms per loop
sage:  %timeit list(feng_k_shortest_simple_paths_cython(g, 0, 120, by_weight=Tru
....: e))
100 loops, best of 3: 7.62 ms per loop
sage:  %timeit list(feng_k_shortest_simple_paths(g, 0, 120, by_weight=True))
100 loops, best of 3: 7.74 ms per loop

```



---

archive/issue_comments_444547.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4f4c610da59fb1f19aaee48154e5f9f0efd45368\">4f4c610</a></td><td><code>minor edit</code></td></tr></table>\n",
    "created_at": "2019-08-16T04:56:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444547",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:21'>Comment 21:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4f4c610da59fb1f19aaee48154e5f9f0efd45368">4f4c610</a></td><td><code>minor edit</code></td></tr></table>




---

archive/issue_comments_444548.json:
```json
{
    "body": "Changed commit from **[2f41b46](https://github.com/sagemath/sagetrac-mirror/commit/2f41b460be24ebeff833ff05131374c9e1027c5c)** to **[4f4c610](https://github.com/sagemath/sagetrac-mirror/commit/4f4c610da59fb1f19aaee48154e5f9f0efd45368)**",
    "created_at": "2019-08-16T04:56:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444548",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2f41b46](https://github.com/sagemath/sagetrac-mirror/commit/2f41b460be24ebeff833ff05131374c9e1027c5c)** to **[4f4c610](https://github.com/sagemath/sagetrac-mirror/commit/4f4c610da59fb1f19aaee48154e5f9f0efd45368)**



---

archive/issue_comments_444549.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nNow that #27859 has been merged, it's much easier to check the code ;)\n\nInstead of creating new methods, I propose to replace the code of the previous Yen's method by the code of the Cython version, and to do the same for Feng.",
    "created_at": "2019-08-19T16:14:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444549",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:22'>Comment 22:</a>
Now that #27859 has been merged, it's much easier to check the code ;)

Instead of creating new methods, I propose to replace the code of the previous Yen's method by the code of the Cython version, and to do the same for Feng.



---

archive/issue_comments_444550.json:
```json
{
    "body": "Changed commit from **[4f4c610](https://github.com/sagemath/sagetrac-mirror/commit/4f4c610da59fb1f19aaee48154e5f9f0efd45368)** to **[a9344e8](https://github.com/sagemath/sagetrac-mirror/commit/a9344e892c288b3b1ad22c67aa6d8725353f1500)**",
    "created_at": "2019-08-19T17:05:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444550",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4f4c610](https://github.com/sagemath/sagetrac-mirror/commit/4f4c610da59fb1f19aaee48154e5f9f0efd45368)** to **[a9344e8](https://github.com/sagemath/sagetrac-mirror/commit/a9344e892c288b3b1ad22c67aa6d8725353f1500)**



---

archive/issue_comments_444551.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a9344e892c288b3b1ad22c67aa6d8725353f1500\">a9344e8</a></td><td><code>upgraded to Cython methods for Yen and Feng</code></td></tr></table>\n",
    "created_at": "2019-08-19T17:05:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444551",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:23'>Comment 23:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a9344e892c288b3b1ad22c67aa6d8725353f1500">a9344e8</a></td><td><code>upgraded to Cython methods for Yen and Feng</code></td></tr></table>




---

archive/issue_comments_444552.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nLGTM. We have a better code for Yen, and I propose to postpone to another ticket possible improvements for Feng (it should be much faster, but it's not).",
    "created_at": "2019-08-20T16:45:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444552",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:24'>Comment 24:</a>
LGTM. We have a better code for Yen, and I propose to postpone to another ticket possible improvements for Feng (it should be much faster, but it's not).



---

archive/issue_events_370625.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-08-20T16:45:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28335#event-370625"
}
```



---

archive/issue_events_370626.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-08-20T16:45:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28335#event-370626"
}
```



---

archive/issue_events_370627.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2019-08-20T18:06:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28335#event-370627"
}
```



---

archive/issue_events_370628.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2019-08-20T18:06:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28335#event-370628"
}
```



---

archive/issue_comments_444553.json:
```json
{
    "body": "Changed commit from **[a9344e8](https://github.com/sagemath/sagetrac-mirror/commit/a9344e892c288b3b1ad22c67aa6d8725353f1500)** to **[aac00c3](https://github.com/sagemath/sagetrac-mirror/commit/aac00c3e0005643c0771d85d8decb431e7f13f3c)**",
    "created_at": "2019-08-20T18:06:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444553",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a9344e8](https://github.com/sagemath/sagetrac-mirror/commit/a9344e892c288b3b1ad22c67aa6d8725353f1500)** to **[aac00c3](https://github.com/sagemath/sagetrac-mirror/commit/aac00c3e0005643c0771d85d8decb431e7f13f3c)**



---

archive/issue_comments_444554.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aac00c3e0005643c0771d85d8decb431e7f13f3c\">aac00c3</a></td><td><code>merged with sage 8.9beta7</code></td></tr></table>\n",
    "created_at": "2019-08-20T18:06:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444554",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:25'>Comment 25:</a>
Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aac00c3e0005643c0771d85d8decb431e7f13f3c">aac00c3</a></td><td><code>merged with sage 8.9beta7</code></td></tr></table>




---

archive/issue_comments_444555.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nI think it was necessary to rebase this tkt on 8.9beta7 otherwise some merge conflict might happen.\nCan you please set it to positive review again.",
    "created_at": "2019-08-20T18:08:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444555",
    "user": "https://github.com/rajat1433"
}
```

<a id='comment:26'>Comment 26:</a>
I think it was necessary to rebase this tkt on 8.9beta7 otherwise some merge conflict might happen.
Can you please set it to positive review again.



---

archive/issue_comments_444556.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nIt was not necessary ! Firstly, I tested the ticket over beta 7, and secondly this does not prevent possible conflicts with other tickets (depends on the order in which the tickets are merged for next release).",
    "created_at": "2019-08-21T08:02:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444556",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:27'>Comment 27:</a>
It was not necessary ! Firstly, I tested the ticket over beta 7, and secondly this does not prevent possible conflicts with other tickets (depends on the order in which the tickets are merged for next release).



---

archive/issue_events_370629.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-08-21T08:02:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28335#event-370629"
}
```



---

archive/issue_events_370630.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-08-21T08:02:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28335#event-370630"
}
```



---

archive/issue_events_370631.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-08-29T20:02:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28335#event-370631"
}
```



---

archive/issue_events_370632.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "bd8504c9e8011e4f1a445e8c30c1e539d5182ded",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-08-29T20:02:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28335#event-370632"
}
```



---

archive/issue_comments_444557.json:
```json
{
    "body": "Changed branch from **[public/graphs/28335_Cythonize_Yen_Feng](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/28335_Cythonize_Yen_Feng)** to **[aac00c3](https://github.com/sagemath/sagetrac-mirror/commit/aac00c3e0005643c0771d85d8decb431e7f13f3c)**",
    "created_at": "2019-08-29T20:02:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28335",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28335#issuecomment-444557",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/graphs/28335_Cythonize_Yen_Feng](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/28335_Cythonize_Yen_Feng)** to **[aac00c3](https://github.com/sagemath/sagetrac-mirror/commit/aac00c3e0005643c0771d85d8decb431e7f13f3c)**
