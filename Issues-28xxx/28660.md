# Issue 28660: Make Python 3 the default

archive/issues_028423.json:
```json
{
    "body": "Because 3 x 3 = 9 and we are at 9.0.beta3 these are three reasons to do the switch... see\n\nhttps://groups.google.com/forum/#!topic/sage-devel/fmQbbSctZ-I\n\nCC:  tmonteil\n\nReviewer: John Palmieri, Eric Gourgoulhon\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nBranch: 715e85a64b821188ee7123a62255ee22868882c3\n\nDependencies: #28657\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/28660\n\n",
    "closed_at": "2019-11-14T23:19:23Z",
    "created_at": "2019-10-27T00:27:21Z",
    "labels": [
        "component: misc"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.0",
    "title": "Make Python 3 the default",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28660",
    "user": "https://github.com/videlec"
}
```
Because 3 x 3 = 9 and we are at 9.0.beta3 these are three reasons to do the switch... see

https://groups.google.com/forum/#!topic/sage-devel/fmQbbSctZ-I

CC:  tmonteil

Reviewer: John Palmieri, Eric Gourgoulhon

Author: Frédéric Chapoton

Branch: 715e85a64b821188ee7123a62255ee22868882c3

Dependencies: #28657

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/28660





---

archive/issue_comments_556479.json:
```json
{
    "body": "Changing branch from \"\" to \"public/python3_switch\"",
    "created_at": "2019-10-27T08:20:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556479",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "public/python3_switch"



---

archive/issue_comments_556480.json:
```json
{
    "body": "<a id='comment:1'></a>No idea how to do that properly. Any volunteer to do the job ?\n\n---\nNew commits:",
    "created_at": "2019-10-27T08:20:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556480",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>No idea how to do that properly. Any volunteer to do the job ?

---
New commits:



---

archive/issue_comments_556481.json:
```json
{
    "body": "Changing commit from \"\" to \"c9646f95724b8b21b958ff37e024cd06076e0280\"",
    "created_at": "2019-10-27T08:20:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556481",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "c9646f95724b8b21b958ff37e024cd06076e0280"



---

archive/issue_comments_556482.json:
```json
{
    "body": "<a id='comment:2'></a>Some of the involved stuff:\n\n- `SAGE_PYTHON_VERSION`\n\n- `SAGE_PYTHON3`\n\n- `--with-python`\n\n- `WITH_PYTHON`",
    "created_at": "2019-10-27T09:45:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556482",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'></a>Some of the involved stuff:

- `SAGE_PYTHON_VERSION`

- `SAGE_PYTHON3`

- `--with-python`

- `WITH_PYTHON`



---

archive/issue_comments_556483.json:
```json
{
    "body": "<a id='comment:3'></a>Changing https://github.com/sagemath/sage/blob/master/configure.ac#L395 should be a good start.",
    "created_at": "2019-10-27T10:38:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556483",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:3'></a>Changing https://github.com/sagemath/sage/blob/master/configure.ac#L395 should be a good start.



---

archive/issue_comments_556484.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-10-27T12:33:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556484",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_556485.json:
```json
{
    "body": "Changing commit from \"c9646f95724b8b21b958ff37e024cd06076e0280\" to \"4357742da6c81172f029afc6dd9dee14d964a25f\"",
    "created_at": "2019-10-27T12:33:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556485",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c9646f95724b8b21b958ff37e024cd06076e0280" to "4357742da6c81172f029afc6dd9dee14d964a25f"



---

archive/issue_comments_556486.json:
```json
{
    "body": "<a id='comment:5'></a>ok, I did that. Anything else ?",
    "created_at": "2019-10-27T13:33:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556486",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>ok, I did that. Anything else ?



---

archive/issue_comments_556487.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#25837\"",
    "created_at": "2019-10-27T15:50:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556487",
    "user": "https://github.com/dimpase"
}
```

Changing dependencies from "" to "#25837"



---

archive/issue_comments_556488.json:
```json
{
    "body": "<a id='comment:6'></a>I think it depends on #25837, as sagenb doesn't work with Python 3.",
    "created_at": "2019-10-27T15:50:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556488",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:6'></a>I think it depends on #25837, as sagenb doesn't work with Python 3.



---

archive/issue_comments_556489.json:
```json
{
    "body": "<a id='comment:7'></a>Did you test ? Sagenb is already automatically put aside (i.e. not built) with python3.",
    "created_at": "2019-10-27T15:59:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556489",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>Did you test ? Sagenb is already automatically put aside (i.e. not built) with python3.



---

archive/issue_comments_556490.json:
```json
{
    "body": "<a id='comment:8'></a>well, this is OK as an experimental feature, but we do install all the standard packages, normally speaking, and sagenb is standard. Besides, with Python 3 the message on https://github.com/vbraun/ExportSageNB/pull/16/commits\nis unclear (it does not say that Sage must be built with Python 2 for sagenb to function)",
    "created_at": "2019-10-27T18:20:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556490",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:8'></a>well, this is OK as an experimental feature, but we do install all the standard packages, normally speaking, and sagenb is standard. Besides, with Python 3 the message on https://github.com/vbraun/ExportSageNB/pull/16/commits
is unclear (it does not say that Sage must be built with Python 2 for sagenb to function)



---

archive/issue_comments_556491.json:
```json
{
    "body": "Changing commit from \"4357742da6c81172f029afc6dd9dee14d964a25f\" to \"ad6e2f9be044162ef6fd049c9b7fa609305af351\"",
    "created_at": "2019-10-27T20:36:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556491",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4357742da6c81172f029afc6dd9dee14d964a25f" to "ad6e2f9be044162ef6fd049c9b7fa609305af351"



---

archive/issue_comments_556492.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-10-27T20:36:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556492",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_556493.json:
```json
{
    "body": "<a id='comment:10'></a>https://github.com/vbraun/ExportSageNB/pull/17",
    "created_at": "2019-10-27T20:59:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556493",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:10'></a>https://github.com/vbraun/ExportSageNB/pull/17



---

archive/issue_comments_556494.json:
```json
{
    "body": "<a id='comment:11'></a>If a prerequisite for building from source becomes \"Python >= 3.6\", then we need #28657 as a dependency.",
    "created_at": "2019-10-27T21:05:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556494",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:11'></a>If a prerequisite for building from source becomes "Python >= 3.6", then we need #28657 as a dependency.



---

archive/issue_comments_556495.json:
```json
{
    "body": "Changing dependencies from \"#25837\" to \"#25837 #28657\"",
    "created_at": "2019-10-27T21:05:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556495",
    "user": "https://github.com/jhpalmieri"
}
```

Changing dependencies from "#25837" to "#25837 #28657"



---

archive/issue_comments_556496.json:
```json
{
    "body": "<a id='comment:12'></a>In my opinion, #25837 is a hybrid ticket: one part should be simple \u2014\u00a0make `sagenb` optional, perhaps with a better error message, as in comment:10. The other part is to add to Jupyter some functionality which `sagenb` has but Jupyter does not. I am willing to sacrifice the second of these goals (for now) in order to make the switch to Python 3.",
    "created_at": "2019-10-27T22:27:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556496",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:12'></a>In my opinion, #25837 is a hybrid ticket: one part should be simple — make `sagenb` optional, perhaps with a better error message, as in comment:10. The other part is to add to Jupyter some functionality which `sagenb` has but Jupyter does not. I am willing to sacrifice the second of these goals (for now) in order to make the switch to Python 3.



---

archive/issue_comments_556497.json:
```json
{
    "body": "<a id='comment:13'></a>Replying to [comment:12 jhpalmieri]:\n> In my opinion, #25837 is a hybrid ticket: one part should be simple \u2014\u00a0make `sagenb` optional, perhaps with a better error message, as in comment:10. The other part is to add to Jupyter some functionality which `sagenb` has but Jupyter does not. I am willing to sacrifice the second of these goals (for now) in order to make the switch to Python 3.\n\n\n+1",
    "created_at": "2019-10-28T09:49:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556497",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:13'></a>Replying to [comment:12 jhpalmieri]:
> In my opinion, #25837 is a hybrid ticket: one part should be simple — make `sagenb` optional, perhaps with a better error message, as in comment:10. The other part is to add to Jupyter some functionality which `sagenb` has but Jupyter does not. I am willing to sacrifice the second of these goals (for now) in order to make the switch to Python 3.


+1



---

archive/issue_comments_556498.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-10-28T14:34:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556498",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_556499.json:
```json
{
    "body": "Changing commit from \"ad6e2f9be044162ef6fd049c9b7fa609305af351\" to \"1b42e43d66eaa49bbd1b93c8028ea8cd8d2e514e\"",
    "created_at": "2019-10-28T14:34:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556499",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ad6e2f9be044162ef6fd049c9b7fa609305af351" to "1b42e43d66eaa49bbd1b93c8028ea8cd8d2e514e"



---

archive/issue_comments_556500.json:
```json
{
    "body": "Changing commit from \"1b42e43d66eaa49bbd1b93c8028ea8cd8d2e514e\" to \"3efeee96da36641bbd1e3ec254e31b6e8f3cc875\"",
    "created_at": "2019-10-28T15:40:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556500",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1b42e43d66eaa49bbd1b93c8028ea8cd8d2e514e" to "3efeee96da36641bbd1e3ec254e31b6e8f3cc875"



---

archive/issue_comments_556501.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-10-28T15:40:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556501",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_556502.json:
```json
{
    "body": "<a id='comment:16'></a>May I remove the dependency to #25837 ?",
    "created_at": "2019-10-28T16:00:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556502",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>May I remove the dependency to #25837 ?



---

archive/issue_comments_556503.json:
```json
{
    "body": "<a id='comment:17'></a>Replying to [comment:16 chapoton]:\n> May I remove the dependency to #25837 ?\n\n\nI certainly think so.",
    "created_at": "2019-10-28T22:18:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556503",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:17'></a>Replying to [comment:16 chapoton]:
> May I remove the dependency to #25837 ?


I certainly think so.



---

archive/issue_comments_556504.json:
```json
{
    "body": "<a id='comment:18'></a>And #28657 doesn't need to be a dependency for this ticket, as long as it remains a blocker for the next release.",
    "created_at": "2019-10-28T22:23:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556504",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:18'></a>And #28657 doesn't need to be a dependency for this ticket, as long as it remains a blocker for the next release.



---

archive/issue_comments_556505.json:
```json
{
    "body": "<a id='comment:19'></a>I tried this and it works: after running `make`, I see\n\n```\nconfigure:7614: checking Python version to install\nconfigure:7631: result: 3\n```",
    "created_at": "2019-10-28T23:05:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556505",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:19'></a>I tried this and it works: after running `make`, I see

```
configure:7614: checking Python version to install
configure:7631: result: 3
```



---

archive/issue_comments_556506.json:
```json
{
    "body": "<a id='comment:20'></a>Replying to [comment:17 jhpalmieri]:\n> Replying to [comment:16 chapoton]:\n> > May I remove the dependency to #25837 ?\n\n> \n> I certainly think so.\n\n\nhow about making sagenb opional on this branch then?",
    "created_at": "2019-10-29T06:53:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556506",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:20'></a>Replying to [comment:17 jhpalmieri]:
> Replying to [comment:16 chapoton]:
> > May I remove the dependency to #25837 ?

> 
> I certainly think so.


how about making sagenb opional on this branch then?



---

archive/issue_comments_556507.json:
```json
{
    "body": "Changing commit from \"3efeee96da36641bbd1e3ec254e31b6e8f3cc875\" to \"715e85a64b821188ee7123a62255ee22868882c3\"",
    "created_at": "2019-10-29T10:38:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556507",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "3efeee96da36641bbd1e3ec254e31b6e8f3cc875" to "715e85a64b821188ee7123a62255ee22868882c3"



---

archive/issue_comments_556508.json:
```json
{
    "body": "<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-10-29T10:38:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556508",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_556509.json:
```json
{
    "body": "Changing dependencies from \"#25837 #28657\" to \"#28657\"",
    "created_at": "2019-10-29T10:39:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556509",
    "user": "https://github.com/fchapoton"
}
```

Changing dependencies from "#25837 #28657" to "#28657"



---

archive/issue_comments_556510.json:
```json
{
    "body": "<a id='comment:22'></a>ok, we can turn sagenb to optional here if you prefer.",
    "created_at": "2019-10-29T10:39:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556510",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:22'></a>ok, we can turn sagenb to optional here if you prefer.



---

archive/issue_comments_556511.json:
```json
{
    "body": "<a id='comment:24'></a>Please edit and enhance the wiki page about the switch https://wiki.sagemath.org/Python3-Switch",
    "created_at": "2019-10-30T11:09:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556511",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:24'></a>Please edit and enhance the wiki page about the switch https://wiki.sagemath.org/Python3-Switch



---

archive/issue_comments_556512.json:
```json
{
    "body": "<a id='comment:25'></a>Replying to [comment:24 chapoton]:\n> Please edit and enhance the wiki page about the switch https://wiki.sagemath.org/Python3-Switch\n\n\nI would have thought that url link with space in them would better be avoided. You created a page `Python3-compatible code`. Am I allowed to fix that? I also open a page for end users who will suffer much more the transition than developers.",
    "created_at": "2019-10-31T05:46:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556512",
    "user": "https://github.com/videlec"
}
```

<a id='comment:25'></a>Replying to [comment:24 chapoton]:
> Please edit and enhance the wiki page about the switch https://wiki.sagemath.org/Python3-Switch


I would have thought that url link with space in them would better be avoided. You created a page `Python3-compatible code`. Am I allowed to fix that? I also open a page for end users who will suffer much more the transition than developers.



---

archive/issue_comments_556513.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-11-01T17:37:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556513",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_556514.json:
```json
{
    "body": "<a id='comment:26'></a>something else ? We should try to move forward.",
    "created_at": "2019-11-01T17:37:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556514",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:26'></a>something else ? We should try to move forward.



---

archive/issue_comments_556515.json:
```json
{
    "body": "Changing author from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2019-11-01T17:37:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556515",
    "user": "https://github.com/fchapoton"
}
```

Changing author from "" to "Frédéric Chapoton"



---

archive/issue_comments_556516.json:
```json
{
    "body": "<a id='comment:27'></a>As I said before, it works for me. Anyone else with feedback?",
    "created_at": "2019-11-01T19:12:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556516",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:27'></a>As I said before, it works for me. Anyone else with feedback?



---

archive/issue_comments_556517.json:
```json
{
    "body": "<a id='comment:28'></a>Builds like a charm on Ubuntu 18.04 running on a i7-6700HQ + 16 GB RAM computer: having merged  this ticket branch in Sage 9.0.beta4 sources (from a fresh git clone + pull develop), running\n`MAKE=\"make -j8\" make` yielded a fully working Python3 Sage. In particular `sage -python` gives\n\n```\nPython 3.7.3 (default, Nov  4 2019, 17:58:44) \n[GCC 7.4.0] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n```",
    "created_at": "2019-11-04T18:31:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556517",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:28'></a>Builds like a charm on Ubuntu 18.04 running on a i7-6700HQ + 16 GB RAM computer: having merged  this ticket branch in Sage 9.0.beta4 sources (from a fresh git clone + pull develop), running
`MAKE="make -j8" make` yielded a fully working Python3 Sage. In particular `sage -python` gives

```
Python 3.7.3 (default, Nov  4 2019, 17:58:44) 
[GCC 7.4.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
```



---

archive/issue_comments_556518.json:
```json
{
    "body": "Changing reviewer from \"\" to \"John Palmieri, Eric Gourgoulhon\"",
    "created_at": "2019-11-05T19:26:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556518",
    "user": "https://github.com/jhpalmieri"
}
```

Changing reviewer from "" to "John Palmieri, Eric Gourgoulhon"



---

archive/issue_comments_556519.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-11-05T19:26:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556519",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_556520.json:
```json
{
    "body": "<a id='comment:30'></a>Let's proceed with this.",
    "created_at": "2019-11-05T19:26:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556520",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:30'></a>Let's proceed with this.



---

archive/issue_comments_556521.json:
```json
{
    "body": "<a id='comment:31'></a>This works for me as well on CentOS.",
    "created_at": "2019-11-05T22:08:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556521",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:31'></a>This works for me as well on CentOS.



---

archive/issue_comments_556522.json:
```json
{
    "body": "<a id='comment:32'></a>> In my opinion, #25837 is a hybrid ticket: one part should be simple \u2014\u00a0make `sagenb` optional, perhaps with a better error message, as in comment:10. The other part is to add to Jupyter some functionality which `sagenb` has but Jupyter does not. I am willing to sacrifice the second of these goals (for now) in order to make the switch to Python 3.\n\n\n\"For now\" are dangerous words, though, in particular regarding matrix input and `automatic_names`.  I'm certainly glad that both 3d viewers seem to work in Jupyter now, though I haven't yet built with py3 support.",
    "created_at": "2019-11-07T14:19:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556522",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:32'></a>> In my opinion, #25837 is a hybrid ticket: one part should be simple — make `sagenb` optional, perhaps with a better error message, as in comment:10. The other part is to add to Jupyter some functionality which `sagenb` has but Jupyter does not. I am willing to sacrifice the second of these goals (for now) in order to make the switch to Python 3.


"For now" are dangerous words, though, in particular regarding matrix input and `automatic_names`.  I'm certainly glad that both 3d viewers seem to work in Jupyter now, though I haven't yet built with py3 support.



---

archive/issue_comments_556523.json:
```json
{
    "body": "<a id='comment:33'></a>The switch to Python 3 needs to happen. To get these issues fixed, people need to work on them, and if no one is working on them (as seems to be the case), that isn't reason enough to delay the switch to Python 3.",
    "created_at": "2019-11-07T16:20:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556523",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:33'></a>The switch to Python 3 needs to happen. To get these issues fixed, people need to work on them, and if no one is working on them (as seems to be the case), that isn't reason enough to delay the switch to Python 3.



---

archive/issue_comments_556524.json:
```json
{
    "body": "Changing branch from \"public/python3_switch\" to \"715e85a64b821188ee7123a62255ee22868882c3\"",
    "created_at": "2019-11-14T23:19:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556524",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/python3_switch" to "715e85a64b821188ee7123a62255ee22868882c3"



---

archive/issue_events_072187.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-11-14T23:19:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28660#event-72187"
}
```



---

archive/issue_comments_556525.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-11-14T23:19:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556525",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_556526.json:
```json
{
    "body": "Changing commit from \"715e85a64b821188ee7123a62255ee22868882c3\" to \"\"",
    "created_at": "2019-11-18T03:07:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556526",
    "user": "https://github.com/jhpalmieri"
}
```

Changing commit from "715e85a64b821188ee7123a62255ee22868882c3" to ""



---

archive/issue_comments_556527.json:
```json
{
    "body": "<a id='comment:35'></a>See #28742 for a followup: after building with Python 2 and then upgrading to a version of Sage including this ticket, the version of Python changes to 3. This causes problems, so we should detect the version mismatch and either keep using Python 2 or abort the `make` process, telling the user what the issue is.",
    "created_at": "2019-11-18T03:07:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556527",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:35'></a>See #28742 for a followup: after building with Python 2 and then upgrading to a version of Sage including this ticket, the version of Python changes to 3. This causes problems, so we should detect the version mismatch and either keep using Python 2 or abort the `make` process, telling the user what the issue is.



---

archive/issue_comments_556528.json:
```json
{
    "body": "<a id='comment:36'></a>Even though `sagenb` is now optional, it is still always installed because it is a dependency for building the documentation. Look at line 4 in the following, from `build/make/deps`:\n\n```\n# Building the documentation has many dependencies, because all\n# documented modules are imported and because we use matplotlib to\n# produce plots.\nDOC_DEPENDENCIES = sagelib $(inst_sphinx) $(inst_sagenb) \\\n\t| $(SAGERUNTIME) $(inst_maxima) $(inst_networkx) $(inst_scipy) $(inst_sympy) \\\n\t$(inst_matplotlib) $(inst_pillow) $(inst_mathjax) $(inst_mpmath) \\\n\t$(inst_ipykernel) $(inst_jupyter_client) $(inst_conway_polynomials) \\\n\t$(inst_tachyon) $(inst_jmol) $(inst_thebe) $(inst_ipywidgets) $(inst_typing)\n```\nShould we create another followup to deal with this? I can do it, but it may take me a few days, because I have other higher priority things I have to do first.",
    "created_at": "2019-11-25T22:50:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556528",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:36'></a>Even though `sagenb` is now optional, it is still always installed because it is a dependency for building the documentation. Look at line 4 in the following, from `build/make/deps`:

```
# Building the documentation has many dependencies, because all
# documented modules are imported and because we use matplotlib to
# produce plots.
DOC_DEPENDENCIES = sagelib $(inst_sphinx) $(inst_sagenb) \
	| $(SAGERUNTIME) $(inst_maxima) $(inst_networkx) $(inst_scipy) $(inst_sympy) \
	$(inst_matplotlib) $(inst_pillow) $(inst_mathjax) $(inst_mpmath) \
	$(inst_ipykernel) $(inst_jupyter_client) $(inst_conway_polynomials) \
	$(inst_tachyon) $(inst_jmol) $(inst_thebe) $(inst_ipywidgets) $(inst_typing)
```
Should we create another followup to deal with this? I can do it, but it may take me a few days, because I have other higher priority things I have to do first.



---

archive/issue_comments_556529.json:
```json
{
    "body": "<a id='comment:37'></a>Definitely need a follow up. We disentangled that bit a while ago now. I can take care of it, if that's the only place we need to fix for this.",
    "created_at": "2019-11-25T22:52:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556529",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:37'></a>Definitely need a follow up. We disentangled that bit a while ago now. I can take care of it, if that's the only place we need to fix for this.



---

archive/issue_comments_556530.json:
```json
{
    "body": "<a id='comment:38'></a>It is now #28805.",
    "created_at": "2019-11-25T22:56:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556530",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:38'></a>It is now #28805.



---

archive/issue_comments_556531.json:
```json
{
    "body": "<a id='comment:39'></a>Thanks.",
    "created_at": "2019-11-26T04:39:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556531",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:39'></a>Thanks.



---

archive/issue_comments_556532.json:
```json
{
    "body": "<a id='comment:40'></a>Should we delete the file `src/ext/doctest/python3-known-passing.txt` and the corresponding parts of `Makefile`?",
    "created_at": "2019-12-02T05:52:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556532",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:40'></a>Should we delete the file `src/ext/doctest/python3-known-passing.txt` and the corresponding parts of `Makefile`?



---

archive/issue_comments_556533.json:
```json
{
    "body": "<a id='comment:41'></a>yes, sure, let's do this.",
    "created_at": "2019-12-02T22:10:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556533",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:41'></a>yes, sure, let's do this.



---

archive/issue_comments_556534.json:
```json
{
    "body": "<a id='comment:42'></a>I opened #28835.",
    "created_at": "2019-12-03T00:22:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28660",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28660#issuecomment-556534",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:42'></a>I opened #28835.
