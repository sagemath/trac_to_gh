# Issue 28481: free_module method for finite fields, number fields and p-adics

archive/issues_028244.json:
```json
{
    "body": "In support of the ring extension classes in #21413, we want to generalize the functionality of the `vector_space` method to free modules over other rings.  This ticket renames the method to `free_module` and implements it for p-adic extensions.\n\nCC:  @saraedum @xcaruso\n\nKeywords: padicBordeaux\n\nBranch/Commit: 242feccecfdc4bdde2df5c48a76877a1334a749a\n\nReviewer: Xavier Caruso\n\nAuthor: David Roe\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/28481\n\n",
    "closed_at": "2019-10-03T17:57:29Z",
    "created_at": "2019-09-12T19:10:58Z",
    "labels": [
        "component: algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.0",
    "title": "free_module method for finite fields, number fields and p-adics",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28481",
    "user": "https://github.com/roed314"
}
```
In support of the ring extension classes in #21413, we want to generalize the functionality of the `vector_space` method to free modules over other rings.  This ticket renames the method to `free_module` and implements it for p-adic extensions.

CC:  @saraedum @xcaruso

Keywords: padicBordeaux

Branch/Commit: 242feccecfdc4bdde2df5c48a76877a1334a749a

Reviewer: Xavier Caruso

Author: David Roe

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/28481





---

archive/issue_comments_545584.json:
```json
{
    "body": "Changing branch from \"\" to \"u/roed/free_module\"",
    "created_at": "2019-09-12T23:15:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545584",
    "user": "https://github.com/roed314"
}
```

Changing branch from "" to "u/roed/free_module"



---

archive/issue_comments_545585.json:
```json
{
    "body": "Changing author from \"\" to \"David Roe\"",
    "created_at": "2019-09-12T23:16:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545585",
    "user": "https://github.com/roed314"
}
```

Changing author from "" to "David Roe"



---

archive/issue_comments_545586.json:
```json
{
    "body": "Changing keywords from \"\" to \"padicBordeaux\".",
    "created_at": "2019-09-12T23:16:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545586",
    "user": "https://github.com/roed314"
}
```

Changing keywords from "" to "padicBordeaux".



---

archive/issue_comments_545587.json:
```json
{
    "body": "Changing commit from \"\" to \"23947e9ee8faf0aeaba0cf8055259f39e1e9a46a\"",
    "created_at": "2019-09-12T23:16:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545587",
    "user": "https://github.com/roed314"
}
```

Changing commit from "" to "23947e9ee8faf0aeaba0cf8055259f39e1e9a46a"



---

archive/issue_comments_545588.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                            |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|\n|[7d88f9a](https://github.com/sagemath/sagetrac-mirror/commit/7d88f9adfb2aed5481793040a2d4b081a7003d29)|`Working on p-adic free module isomorphisms`|\n|[f4f17d6](https://github.com/sagemath/sagetrac-mirror/commit/f4f17d66006314e92a8a02eb5f691d7a4d352588)|`Fix precision problem in vector space maps by using new method _polynomial_list`|\n|[23947e9](https://github.com/sagemath/sagetrac-mirror/commit/23947e9ee8faf0aeaba0cf8055259f39e1e9a46a)|`Working on vector_space and free_module`|",
    "created_at": "2019-09-12T23:16:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545588",
    "user": "https://github.com/roed314"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                            |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|
|[7d88f9a](https://github.com/sagemath/sagetrac-mirror/commit/7d88f9adfb2aed5481793040a2d4b081a7003d29)|`Working on p-adic free module isomorphisms`|
|[f4f17d6](https://github.com/sagemath/sagetrac-mirror/commit/f4f17d66006314e92a8a02eb5f691d7a4d352588)|`Fix precision problem in vector space maps by using new method _polynomial_list`|
|[23947e9](https://github.com/sagemath/sagetrac-mirror/commit/23947e9ee8faf0aeaba0cf8055259f39e1e9a46a)|`Working on vector_space and free_module`|



---

archive/issue_comments_545589.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-09-12T23:16:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545589",
    "user": "https://github.com/roed314"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_545590.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-09-13T01:24:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545590",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_545591.json:
```json
{
    "body": "<a id='comment:4'></a>\nThe `free_module` in `padic_extension_generic.py` does not have any doctests.\n\nAbout this comment\n\n```\n# We could have used morphisms in the category\n# FiniteDimensionalModulesWithBasis over Qp(p)\n# But this would require making p-adic fields\n# part of this category which has a lot of side\n# effects (adding methods which will show up\n# in tab completion for example).  For now we\n# just stick with Map.\n```\nhaving extra methods via tab completion is a good thing, especially as they are all still applicable to the objects. That specific reason really is not a good argument for not doing that, but are there other side effects that cause problems?\n\n```diff\n-            - ``basis`` -- a basis of the field as a vector space\n-              over the subfield.  If not given, one is chosen automatically.\n+            - ``basis`` -- a basis of the field as a vector space\n+              over the subfield; f not given, one is chosen automatically\n \n-            - ``map`` -- whether to return maps from and to the vector space.\n+            - ``map`` -- whether to return maps from and to the vector space\n```\n\n```diff\n-        - ``basis`` -- a basis for the vector space (ignored)\n+        - ``basis`` -- (ignored) a basis for the vector space\n \n-        - ``map`` -- whether to return maps to and from the vector space (default True)\n+        - ``map`` -- (default: ``True``) whether to return maps to and from the vector space\n```\n\n```diff\n-        - ``base`` -- a subfield (default: ``None``), the returned vector\n+        - ``base`` -- a subfield (default: ``None``); the returned vector\n           space is over this subfield `R`, which defaults to the base field of this\n-          function field.\n+          function field\n \n-        - ``basis`` -- a basis for this field over the base.\n \n         - ``maps`` -- boolean (default ``True``), whether to return\n-          `R`-linear maps to and from `V`.\n+          `R`-linear maps to and from `V`\n```\n\n```diff\n-        - ``basis`` -- a list of elements giving a basis over the subfield (optional)\n+        - ``basis`` -- (optional) a list of elements giving a basis over the subfield\n \n+        - ``map`` -- whether to return isomorphisms to and from the vector space (default ``True``)\n+        - ``map`` -- (default: ``True``) whether to return isomorphisms to and from the vector space\n```\nAlso `Returns` -> `Return`.",
    "created_at": "2019-09-13T01:24:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545591",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'></a>
The `free_module` in `padic_extension_generic.py` does not have any doctests.

About this comment

```
# We could have used morphisms in the category
# FiniteDimensionalModulesWithBasis over Qp(p)
# But this would require making p-adic fields
# part of this category which has a lot of side
# effects (adding methods which will show up
# in tab completion for example).  For now we
# just stick with Map.
```
having extra methods via tab completion is a good thing, especially as they are all still applicable to the objects. That specific reason really is not a good argument for not doing that, but are there other side effects that cause problems?

```diff
-            - ``basis`` -- a basis of the field as a vector space
-              over the subfield.  If not given, one is chosen automatically.
+            - ``basis`` -- a basis of the field as a vector space
+              over the subfield; f not given, one is chosen automatically
 
-            - ``map`` -- whether to return maps from and to the vector space.
+            - ``map`` -- whether to return maps from and to the vector space
```

```diff
-        - ``basis`` -- a basis for the vector space (ignored)
+        - ``basis`` -- (ignored) a basis for the vector space
 
-        - ``map`` -- whether to return maps to and from the vector space (default True)
+        - ``map`` -- (default: ``True``) whether to return maps to and from the vector space
```

```diff
-        - ``base`` -- a subfield (default: ``None``), the returned vector
+        - ``base`` -- a subfield (default: ``None``); the returned vector
           space is over this subfield `R`, which defaults to the base field of this
-          function field.
+          function field
 
-        - ``basis`` -- a basis for this field over the base.
 
         - ``maps`` -- boolean (default ``True``), whether to return
-          `R`-linear maps to and from `V`.
+          `R`-linear maps to and from `V`
```

```diff
-        - ``basis`` -- a list of elements giving a basis over the subfield (optional)
+        - ``basis`` -- (optional) a list of elements giving a basis over the subfield
 
+        - ``map`` -- whether to return isomorphisms to and from the vector space (default ``True``)
+        - ``map`` -- (default: ``True``) whether to return isomorphisms to and from the vector space
```
Also `Returns` -> `Return`.



---

archive/issue_comments_545592.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|\n|[8db48a2](https://github.com/sagemath/sagetrac-mirror/commit/8db48a2ea37c9895961ca4f92c0c103d1597a29c)|`Reviewer suggestions`|",
    "created_at": "2019-09-13T08:24:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545592",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
|[8db48a2](https://github.com/sagemath/sagetrac-mirror/commit/8db48a2ea37c9895961ca4f92c0c103d1597a29c)|`Reviewer suggestions`|



---

archive/issue_comments_545593.json:
```json
{
    "body": "Changing commit from \"23947e9ee8faf0aeaba0cf8055259f39e1e9a46a\" to \"8db48a2ea37c9895961ca4f92c0c103d1597a29c\"",
    "created_at": "2019-09-13T08:24:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545593",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "23947e9ee8faf0aeaba0cf8055259f39e1e9a46a" to "8db48a2ea37c9895961ca4f92c0c103d1597a29c"



---

archive/issue_comments_545594.json:
```json
{
    "body": "Changing commit from \"8db48a2ea37c9895961ca4f92c0c103d1597a29c\" to \"79f2458ce2d8b7a17277ac8200cd5b42a87f779b\"",
    "created_at": "2019-09-13T08:26:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545594",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8db48a2ea37c9895961ca4f92c0c103d1597a29c" to "79f2458ce2d8b7a17277ac8200cd5b42a87f779b"



---

archive/issue_comments_545595.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|\n|[79f2458](https://github.com/sagemath/sagetrac-mirror/commit/79f2458ce2d8b7a17277ac8200cd5b42a87f779b)|`One more Returns`|",
    "created_at": "2019-09-13T08:26:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545595",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|
|[79f2458](https://github.com/sagemath/sagetrac-mirror/commit/79f2458ce2d8b7a17277ac8200cd5b42a87f779b)|`One more Returns`|



---

archive/issue_comments_545596.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-09-13T08:30:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545596",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_545597.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [tscrim](#comment%3A4):\n> The `free_module` in `padic_extension_generic.py` does not have any doctests.\n\n\nThanks; fixed.\n\n> About this comment\n> \n> ```\n> # We could have used morphisms in the category\n> # FiniteDimensionalModulesWithBasis over Qp(p)\n> # But this would require making p-adic fields\n> # part of this category which has a lot of side\n> # effects (adding methods which will show up\n> # in tab completion for example).  For now we\n> # just stick with Map.\n> ```\n> having extra methods via tab completion is a good thing, especially as they are all still applicable to the objects. That specific reason really is not a good argument for not doing that, but are there other side effects that cause problems?\n\n\nYep.\n\n* If I add `ModulesWithBasis(Qp(5)).Finite()` as a base ring for `Qq(125)` I get errors on object creation.  It's not clear to me how much work it would be to address all the issues introduced by this change, and I'm not interested in doing so at the moment when I have higher priority things to work on.\n* The `dimension()` method of the `ModulesWithBasis` category doesn't take a base field.  Two-step extensions are vector spaces both over their base field and over `Qp`; I don't think it would be possible to have both.  But #21413 is exactly about creating relative extensions where we need to work with different base fields.",
    "created_at": "2019-09-13T08:30:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545597",
    "user": "https://github.com/roed314"
}
```

<a id='comment:7'></a>
Replying to [tscrim](#comment%3A4):
> The `free_module` in `padic_extension_generic.py` does not have any doctests.


Thanks; fixed.

> About this comment
> 
> ```
> # We could have used morphisms in the category
> # FiniteDimensionalModulesWithBasis over Qp(p)
> # But this would require making p-adic fields
> # part of this category which has a lot of side
> # effects (adding methods which will show up
> # in tab completion for example).  For now we
> # just stick with Map.
> ```
> having extra methods via tab completion is a good thing, especially as they are all still applicable to the objects. That specific reason really is not a good argument for not doing that, but are there other side effects that cause problems?


Yep.

* If I add `ModulesWithBasis(Qp(5)).Finite()` as a base ring for `Qq(125)` I get errors on object creation.  It's not clear to me how much work it would be to address all the issues introduced by this change, and I'm not interested in doing so at the moment when I have higher priority things to work on.
* The `dimension()` method of the `ModulesWithBasis` category doesn't take a base field.  Two-step extensions are vector spaces both over their base field and over `Qp`; I don't think it would be possible to have both.  But #21413 is exactly about creating relative extensions where we need to work with different base fields.



---

archive/issue_comments_545598.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [roed](#comment%3A7):\n> Replying to [tscrim](#comment%3A4):\n> > About this comment\n> > \n> > ```\n> > # We could have used morphisms in the category\n> > # FiniteDimensionalModulesWithBasis over Qp(p)\n> > # But this would require making p-adic fields\n> > # part of this category which has a lot of side\n> > # effects (adding methods which will show up\n> > # in tab completion for example).  For now we\n> > # just stick with Map.\n> > ```\n> > having extra methods via tab completion is a good thing, especially as they are all still applicable to the objects. That specific reason really is not a good argument for not doing that, but are there other side effects that cause problems?\n\n> \n> Yep.\n\n\nThanks for the explanations. Do you think you could change the above comment to state one of them you gave? Once done, then positive review.\n\n> * If I add `ModulesWithBasis(Qp(5)).Finite()` as a base ring for `Qq(125)` I get errors on object creation.  It's not clear to me how much work it would be to address all the issues introduced by this change, and I'm not interested in doing so at the moment when I have higher priority things to work on.\n\n\nNo problem. It is something beyond the current ticket and not important for your applications. It is something I could look into too when I have more time as well.\n\n> * The `dimension()` method of the `ModulesWithBasis` category doesn't take a base field.  Two-step extensions are vector spaces both over their base field and over `Qp`; I don't think it would be possible to have both.  But #21413 is exactly about creating relative extensions where we need to work with different base fields.\n\n\nIn the mathematical sense, the category stores this information (i.e., it is an R-module, so it returns the dimension as an R-module), although we have partially removed this information. However, that is a bit tangential to this issue. I don't know the code, but your implementation of `dimension` should be overriding that. If instead it something coming from the two categories, then you will unfortunately just need to make it explicit somewhere. Or we just add that as an optional argument to the `ModulesWithBasis` category that is generally ignored as it is something that makes sense for all objects in that category. However, this should be done on a later ticket.",
    "created_at": "2019-09-13T09:25:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545598",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:8'></a>
Replying to [roed](#comment%3A7):
> Replying to [tscrim](#comment%3A4):
> > About this comment
> > 
> > ```
> > # We could have used morphisms in the category
> > # FiniteDimensionalModulesWithBasis over Qp(p)
> > # But this would require making p-adic fields
> > # part of this category which has a lot of side
> > # effects (adding methods which will show up
> > # in tab completion for example).  For now we
> > # just stick with Map.
> > ```
> > having extra methods via tab completion is a good thing, especially as they are all still applicable to the objects. That specific reason really is not a good argument for not doing that, but are there other side effects that cause problems?

> 
> Yep.


Thanks for the explanations. Do you think you could change the above comment to state one of them you gave? Once done, then positive review.

> * If I add `ModulesWithBasis(Qp(5)).Finite()` as a base ring for `Qq(125)` I get errors on object creation.  It's not clear to me how much work it would be to address all the issues introduced by this change, and I'm not interested in doing so at the moment when I have higher priority things to work on.


No problem. It is something beyond the current ticket and not important for your applications. It is something I could look into too when I have more time as well.

> * The `dimension()` method of the `ModulesWithBasis` category doesn't take a base field.  Two-step extensions are vector spaces both over their base field and over `Qp`; I don't think it would be possible to have both.  But #21413 is exactly about creating relative extensions where we need to work with different base fields.


In the mathematical sense, the category stores this information (i.e., it is an R-module, so it returns the dimension as an R-module), although we have partially removed this information. However, that is a bit tangential to this issue. I don't know the code, but your implementation of `dimension` should be overriding that. If instead it something coming from the two categories, then you will unfortunately just need to make it explicit somewhere. Or we just add that as an optional argument to the `ModulesWithBasis` category that is generally ignored as it is something that makes sense for all objects in that category. However, this should be done on a later ticket.



---

archive/issue_comments_545599.json:
```json
{
    "body": "Changing commit from \"79f2458ce2d8b7a17277ac8200cd5b42a87f779b\" to \"9313b2c873b2d3906030cc19ed77e18b0303d603\"",
    "created_at": "2019-09-13T13:39:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545599",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "79f2458ce2d8b7a17277ac8200cd5b42a87f779b" to "9313b2c873b2d3906030cc19ed77e18b0303d603"



---

archive/issue_comments_545600.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------|\n|[9313b2c](https://github.com/sagemath/sagetrac-mirror/commit/9313b2c873b2d3906030cc19ed77e18b0303d603)|`Adjust comment`|",
    "created_at": "2019-09-13T13:39:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545600",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------|
|[9313b2c](https://github.com/sagemath/sagetrac-mirror/commit/9313b2c873b2d3906030cc19ed77e18b0303d603)|`Adjust comment`|



---

archive/issue_comments_545601.json:
```json
{
    "body": "<a id='comment:10'></a>\nI'm not sure that checking equality with `rich_to_bool(op,0)` will always work.\n\nIn the doctest of the `_call_` method in the class `MapOneStepToFreeModule`, the variable `a` is used two times with a different meaning.",
    "created_at": "2019-09-13T14:50:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545601",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:10'></a>
I'm not sure that checking equality with `rich_to_bool(op,0)` will always work.

In the doctest of the `_call_` method in the class `MapOneStepToFreeModule`, the variable `a` is used two times with a different meaning.



---

archive/issue_comments_545602.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|\n|[ad98d9c](https://github.com/sagemath/sagetrac-mirror/commit/ad98d9c228b7b6f321894d82c551020135b1de33)|`Address reviewer comments`|",
    "created_at": "2019-09-13T15:15:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545602",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
|[ad98d9c](https://github.com/sagemath/sagetrac-mirror/commit/ad98d9c228b7b6f321894d82c551020135b1de33)|`Address reviewer comments`|



---

archive/issue_comments_545603.json:
```json
{
    "body": "Changing commit from \"9313b2c873b2d3906030cc19ed77e18b0303d603\" to \"ad98d9c228b7b6f321894d82c551020135b1de33\"",
    "created_at": "2019-09-13T15:15:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545603",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9313b2c873b2d3906030cc19ed77e18b0303d603" to "ad98d9c228b7b6f321894d82c551020135b1de33"



---

archive/issue_comments_545604.json:
```json
{
    "body": "<a id='comment:12'></a>\nThanks; fixed.",
    "created_at": "2019-09-13T15:15:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545604",
    "user": "https://github.com/roed314"
}
```

<a id='comment:12'></a>
Thanks; fixed.



---

archive/issue_comments_545605.json:
```json
{
    "body": "<a id='comment:13'></a>\nLGTM if patch bot is happy",
    "created_at": "2019-09-13T15:40:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545605",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:13'></a>
LGTM if patch bot is happy



---

archive/issue_comments_545606.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Xavier Caruso\"",
    "created_at": "2019-09-13T15:40:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545606",
    "user": "https://github.com/xcaruso"
}
```

Changing reviewer from "" to "Xavier Caruso"



---

archive/issue_comments_545607.json:
```json
{
    "body": "<a id='comment:14'></a>\nMaybe, for convenience:\n- `free_module` should be implemented when `base` is `self` (in which case `V = K` and maps in both directions are the identity)\n- `free_module` should be implemented when `base` is `self.base_ring()` (and not just `None`); this is currently not the case for number fields and p-adic fields\n- `free_module` should be implemented when `self` is `Qp` or `QQ`",
    "created_at": "2019-09-13T20:48:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545607",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:14'></a>
Maybe, for convenience:
- `free_module` should be implemented when `base` is `self` (in which case `V = K` and maps in both directions are the identity)
- `free_module` should be implemented when `base` is `self.base_ring()` (and not just `None`); this is currently not the case for number fields and p-adic fields
- `free_module` should be implemented when `self` is `Qp` or `QQ`



---

archive/issue_comments_545608.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-09-13T20:49:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545608",
    "user": "https://github.com/xcaruso"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_545609.json:
```json
{
    "body": "<a id='comment:16'></a>\nBy the way, the patchbot reported small issues (pyflakes + one method not documented)",
    "created_at": "2019-09-13T20:50:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545609",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:16'></a>
By the way, the patchbot reported small issues (pyflakes + one method not documented)



---

archive/issue_comments_545610.json:
```json
{
    "body": "<a id='comment:17'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------|\n|[507ab36](https://github.com/sagemath/sagetrac-mirror/commit/507ab3626afca2fdf0310080f5dfbd6d2de52a12)|`fix pyflakes`|",
    "created_at": "2019-09-14T00:17:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545610",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |              |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------|
|[507ab36](https://github.com/sagemath/sagetrac-mirror/commit/507ab3626afca2fdf0310080f5dfbd6d2de52a12)|`fix pyflakes`|



---

archive/issue_comments_545611.json:
```json
{
    "body": "Changing commit from \"ad98d9c228b7b6f321894d82c551020135b1de33\" to \"507ab3626afca2fdf0310080f5dfbd6d2de52a12\"",
    "created_at": "2019-09-14T00:17:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545611",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ad98d9c228b7b6f321894d82c551020135b1de33" to "507ab3626afca2fdf0310080f5dfbd6d2de52a12"



---

archive/issue_comments_545612.json:
```json
{
    "body": "<a id='comment:18'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|\n|[a750d40](https://github.com/sagemath/sagetrac-mirror/commit/a750d40676bcd61421972832e209627d7e918ff3)|`Fix doctest failure in Judson's book`|",
    "created_at": "2019-09-14T00:22:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545612",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|
|[a750d40](https://github.com/sagemath/sagetrac-mirror/commit/a750d40676bcd61421972832e209627d7e918ff3)|`Fix doctest failure in Judson's book`|



---

archive/issue_comments_545613.json:
```json
{
    "body": "Changing commit from \"507ab3626afca2fdf0310080f5dfbd6d2de52a12\" to \"a750d40676bcd61421972832e209627d7e918ff3\"",
    "created_at": "2019-09-14T00:22:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545613",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "507ab3626afca2fdf0310080f5dfbd6d2de52a12" to "a750d40676bcd61421972832e209627d7e918ff3"



---

archive/issue_comments_545614.json:
```json
{
    "body": "<a id='comment:19'></a>\nI think I fixed the doctest and pyflakes errors.  Setting to Needs Review so that the patchbot can check.  I haven't addressed Xavier's most recent comments yet....",
    "created_at": "2019-09-14T00:23:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545614",
    "user": "https://github.com/roed314"
}
```

<a id='comment:19'></a>
I think I fixed the doctest and pyflakes errors.  Setting to Needs Review so that the patchbot can check.  I haven't addressed Xavier's most recent comments yet....



---

archive/issue_comments_545615.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-09-14T00:23:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545615",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_545616.json:
```json
{
    "body": "<a id='comment:20'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|\n|[b4147b0](https://github.com/sagemath/sagetrac-mirror/commit/b4147b08f4a1b13adde3e27e74ff8679636694f3)|`Add missing backtick`|",
    "created_at": "2019-09-14T08:05:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545616",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
|[b4147b0](https://github.com/sagemath/sagetrac-mirror/commit/b4147b08f4a1b13adde3e27e74ff8679636694f3)|`Add missing backtick`|



---

archive/issue_comments_545617.json:
```json
{
    "body": "Changing commit from \"a750d40676bcd61421972832e209627d7e918ff3\" to \"b4147b08f4a1b13adde3e27e74ff8679636694f3\"",
    "created_at": "2019-09-14T08:05:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545617",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a750d40676bcd61421972832e209627d7e918ff3" to "b4147b08f4a1b13adde3e27e74ff8679636694f3"



---

archive/issue_comments_545618.json:
```json
{
    "body": "Changing commit from \"b4147b08f4a1b13adde3e27e74ff8679636694f3\" to \"242feccecfdc4bdde2df5c48a76877a1334a749a\"",
    "created_at": "2019-09-14T20:40:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545618",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b4147b08f4a1b13adde3e27e74ff8679636694f3" to "242feccecfdc4bdde2df5c48a76877a1334a749a"



---

archive/issue_comments_545619.json:
```json
{
    "body": "<a id='comment:21'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|\n|[242fecc](https://github.com/sagemath/sagetrac-mirror/commit/242feccecfdc4bdde2df5c48a76877a1334a749a)|`Add free_module method to Rings()`|",
    "created_at": "2019-09-14T20:40:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545619",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|
|[242fecc](https://github.com/sagemath/sagetrac-mirror/commit/242feccecfdc4bdde2df5c48a76877a1334a749a)|`Add free_module method to Rings()`|



---

archive/issue_comments_545620.json:
```json
{
    "body": "<a id='comment:22'></a>\nThanks",
    "created_at": "2019-09-15T04:19:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545620",
    "user": "https://github.com/xcaruso"
}
```

<a id='comment:22'></a>
Thanks



---

archive/issue_comments_545621.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-09-15T04:19:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545621",
    "user": "https://github.com/xcaruso"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_088645.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-09-30T08:12:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "milestone": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28481#event-88645"
}
```



---

archive/issue_comments_545622.json:
```json
{
    "body": "<a id='comment:23'></a>\nmoving milestone to 9.0 (after release of 8.9)",
    "created_at": "2019-09-30T08:12:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545622",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:23'></a>
moving milestone to 9.0 (after release of 8.9)



---

archive/issue_events_088646.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-10-03T17:57:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28481#event-88646"
}
```



---

archive/issue_comments_545623.json:
```json
{
    "body": "Changing branch from \"u/roed/free_module\" to \"242feccecfdc4bdde2df5c48a76877a1334a749a\"",
    "created_at": "2019-10-03T17:57:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545623",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/roed/free_module" to "242feccecfdc4bdde2df5c48a76877a1334a749a"



---

archive/issue_comments_545624.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-10-03T17:57:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28481",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28481#issuecomment-545624",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
