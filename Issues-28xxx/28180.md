# Issue 28180: Sort dictionary keys and set elements in rich output

archive/issues_027943.json:
```json
{
    "body": "This ticket introduces sorting of dictionary keys and set elements (including finite `Set`s) in rich output, mimicking IPython's behaviour (actually, it uses IPython's `_sorted_for_pprint` function for sorting).\n\nIt also avoids line breaks between the key and value in the LaTeX representation of dictionaries, and introduces sorting in the plain representation of finite `Set`s.\n\nCC:  @thecaligarmo\n\nKeywords: fpsac2019\n\nBranch: u/jaanos/sort_dictionary_keys_in_rich_output\n\nStatus: needs_work\n\nCommit: a03bf7a2cf294166366b5bf95500c72c1a4b82a2\n\nIssue created by migration from https://trac.sagemath.org/ticket/28180\n\n",
    "created_at": "2019-07-12T09:39:29Z",
    "labels": [
        "component: user interface"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Sort dictionary keys and set elements in rich output",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28180",
    "user": "https://github.com/jaanos"
}
```
This ticket introduces sorting of dictionary keys and set elements (including finite `Set`s) in rich output, mimicking IPython's behaviour (actually, it uses IPython's `_sorted_for_pprint` function for sorting).

It also avoids line breaks between the key and value in the LaTeX representation of dictionaries, and introduces sorting in the plain representation of finite `Set`s.

CC:  @thecaligarmo

Keywords: fpsac2019

Branch: u/jaanos/sort_dictionary_keys_in_rich_output

Status: needs_work

Commit: a03bf7a2cf294166366b5bf95500c72c1a4b82a2

Issue created by migration from https://trac.sagemath.org/ticket/28180





---

archive/issue_comments_420136.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2019-07-12T09:58:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28180#issuecomment-420136",
    "user": "https://github.com/jaanos"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_420137.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n+This ticket introduces sorting of dictionary keys in rich output, mimicking IPython's behaviour (actually, it uses IPython's `_sorted_for_pprint` function for sorting).\n \n+For LaTeX output, it changes to a vertical layout using the `aligned` LaTeX environment, thus avoiding ugly line breaks that tended to appear at colons.\n \n Comment: 1\n \n``````\n",
    "created_at": "2019-07-12T09:58:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28180#issuecomment-420137",
    "user": "https://github.com/jaanos"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
+This ticket introduces sorting of dictionary keys in rich output, mimicking IPython's behaviour (actually, it uses IPython's `_sorted_for_pprint` function for sorting).
 
+For LaTeX output, it changes to a vertical layout using the `aligned` LaTeX environment, thus avoiding ugly line breaks that tended to appear at colons.
 
 Comment: 1
 
``````




---

archive/issue_comments_420138.json:
```json
{
    "body": "Changing keywords from \"\" to \"fpsac2019\".",
    "created_at": "2019-07-12T09:58:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28180#issuecomment-420138",
    "user": "https://github.com/jaanos"
}
```

Changing keywords from "" to "fpsac2019".



---

archive/issue_comments_420139.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2019-07-12T09:58:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28180#issuecomment-420139",
    "user": "https://github.com/jaanos"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_420140.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to user interface.",
    "created_at": "2019-07-12T09:58:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28180#issuecomment-420140",
    "user": "https://github.com/jaanos"
}
```

Changing component from PLEASE CHANGE to user interface.



---

archive/issue_comments_420141.json:
```json
{
    "body": "<a id='comment:2'></a>In the LaTeX output, the entire contents of the dictionary are now wrapped in big curly braces, as I don't know how to add them only to the first and last line (`\\left\\{ ... \\right.` will not work, since there's a `&` in between) - besides, their sizes may not match, which could be ugly. I guess we could have a horizontal layout if the dictionary could fit in a line, but I don't know how to check it (and it may be part of a longer line anyway, thus requiring line breaks).\n\nI will also add sorting for sets. This will require adding a new function to handle Python sets.\n\n---\nNew commits:",
    "created_at": "2019-07-12T09:58:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28180#issuecomment-420141",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:2'></a>In the LaTeX output, the entire contents of the dictionary are now wrapped in big curly braces, as I don't know how to add them only to the first and last line (`\left\{ ... \right.` will not work, since there's a `&` in between) - besides, their sizes may not match, which could be ugly. I guess we could have a horizontal layout if the dictionary could fit in a line, but I don't know how to check it (and it may be part of a longer line anyway, thus requiring line breaks).

I will also add sorting for sets. This will require adding a new function to handle Python sets.

---
New commits:



---

archive/issue_comments_420142.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-15T08:48:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28180#issuecomment-420142",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_420143.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n+This ticket introduces sorting of dictionary keys and set elements (including finite ``Set``s) in rich output, mimicking IPython's behaviour (actually, it uses IPython's `_sorted_for_pprint` function for sorting).\n \n+It also avoids line breaks between the key and value in the LaTeX representation of dictionaries, and introduces sorting in the plain representation of finite ``Set``s.\n \n Comment: 1\n \n``````\n",
    "created_at": "2019-07-15T09:00:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28180#issuecomment-420143",
    "user": "https://github.com/jaanos"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
+This ticket introduces sorting of dictionary keys and set elements (including finite ``Set``s) in rich output, mimicking IPython's behaviour (actually, it uses IPython's `_sorted_for_pprint` function for sorting).
 
+It also avoids line breaks between the key and value in the LaTeX representation of dictionaries, and introduces sorting in the plain representation of finite ``Set``s.
 
 Comment: 1
 
``````




---

archive/issue_comments_420144.json:
```json
{
    "body": "<a id='comment:4'></a>I have now reverted the layout changes in LaTeX representation of dictionaries, instead wrapping key-value pairs in `{...}`, as suggested by Aram. Sorting is now also applied to Python's `set`s and `frozenset`s and Sage's finite `Set`s (for which the representation is the same as for `set`s, except when the `Set` is empty).",
    "created_at": "2019-07-15T09:00:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28180#issuecomment-420144",
    "user": "https://github.com/jaanos"
}
```

<a id='comment:4'></a>I have now reverted the layout changes in LaTeX representation of dictionaries, instead wrapping key-value pairs in `{...}`, as suggested by Aram. Sorting is now also applied to Python's `set`s and `frozenset`s and Sage's finite `Set`s (for which the representation is the same as for `set`s, except when the `Set` is empty).



---

archive/issue_comments_420145.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2019-07-15T09:00:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28180#issuecomment-420145",
    "user": "https://github.com/jaanos"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_420146.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n+This ticket introduces sorting of dictionary keys and set elements (including finite `Set`s) in rich output, mimicking IPython's behaviour (actually, it uses IPython's `_sorted_for_pprint` function for sorting).\n \n+It also avoids line breaks between the key and value in the LaTeX representation of dictionaries, and introduces sorting in the plain representation of finite `Set`s.\n \n Comment: 1\n \n``````\n",
    "created_at": "2019-07-15T09:01:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28180#issuecomment-420146",
    "user": "https://github.com/jaanos"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
+This ticket introduces sorting of dictionary keys and set elements (including finite `Set`s) in rich output, mimicking IPython's behaviour (actually, it uses IPython's `_sorted_for_pprint` function for sorting).
 
+It also avoids line breaks between the key and value in the LaTeX representation of dictionaries, and introduces sorting in the plain representation of finite `Set`s.
 
 Comment: 1
 
``````




---

archive/issue_comments_420147.json:
```json
{
    "body": "<a id='comment:6'></a>red branch",
    "created_at": "2019-11-27T09:18:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28180#issuecomment-420147",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>red branch



---

archive/issue_comments_420148.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-11-27T09:18:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28180#issuecomment-420148",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_events_070017.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28180#event-70017"
}
```



---

archive/issue_comments_420149.json:
```json
{
    "body": "<a id='comment:7'></a>Ticket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28180#issuecomment-420149",
    "user": "https://github.com/embray"
}
```

<a id='comment:7'></a>Ticket retargeted after milestone closed



---

archive/issue_comments_420150.json:
```json
{
    "body": "<a id='comment:8'></a>Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28180#issuecomment-420150",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_events_070018.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28180#event-70018"
}
```



---

archive/issue_events_070019.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28180#event-70019"
}
```



---

archive/issue_events_070020.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28180#event-70020"
}
```



---

archive/issue_events_070021.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28180#event-70021"
}
```



---

archive/issue_events_070022.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28180#event-70022"
}
```



---

archive/issue_events_070023.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28180#event-70023"
}
```



---

archive/issue_comments_420151.json:
```json
{
    "body": "<a id='comment:10'></a>Setting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28180#issuecomment-420151",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_420152.json:
```json
{
    "body": "<a id='comment:11'></a>Setting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28180#issuecomment-420152",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'></a>Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_070024.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28180#event-70024"
}
```



---

archive/issue_events_070025.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28180#event-70025"
}
```



---

archive/issue_events_070026.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28180#event-70026"
}
```



---

archive/issue_events_070027.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28180#event-70027"
}
```



---

archive/issue_events_070028.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T20:27:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28180#event-70028"
}
```



---

archive/issue_events_070029.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T20:27:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28180#event-70029"
}
```



---

archive/issue_events_070030.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28180#event-70030"
}
```



---

archive/issue_events_070031.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/28180",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28180#event-70031"
}
```
