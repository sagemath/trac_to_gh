# Issue 28991: spkg-configure.m4 for gc

archive/issues_028754.json:
```json
{
    "body": "Split off of #28045, where the libatomic dependency is handled.\n\n**CC:**  @embray @dimpase @isuruf\n\n**Branch:** [d5c10a5b967108a99c375b1d9c621201e455783c](https://github.com/sagemath/sagetrac-mirror/commit/d5c10a5b967108a99c375b1d9c621201e455783c)\n\n**Reviewer:** Michael Orlitzky\n\n**Author:** Thierry Thomas, Dima Pasechnik\n\nIssue created by migration from https://trac.sagemath.org/ticket/28991\n\n",
    "closed_at": "2020-09-15T22:00:49Z",
    "created_at": "2020-01-11T22:57:26Z",
    "labels": [
        "component: build: configure",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "title": "spkg-configure.m4 for gc",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/28991",
    "user": "https://github.com/orlitzky"
}
```
Split off of #28045, where the libatomic dependency is handled.

**CC:**  @embray @dimpase @isuruf

**Branch:** [d5c10a5b967108a99c375b1d9c621201e455783c](https://github.com/sagemath/sagetrac-mirror/commit/d5c10a5b967108a99c375b1d9c621201e455783c)

**Reviewer:** Michael Orlitzky

**Author:** Thierry Thomas, Dima Pasechnik

Issue created by migration from https://trac.sagemath.org/ticket/28991





---

archive/issue_comments_455515.json:
```json
{
    "body": "**Changing dependencies** from \"28045\" to \"#28045\".",
    "created_at": "2020-01-11T22:57:44Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455515",
    "user": "https://github.com/orlitzky"
}
```

**Changing dependencies** from "28045" to "#28045".



---

archive/issue_events_257435.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28991#event-257435"
}
```



---

archive/issue_events_257436.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28991#event-257436"
}
```



---

archive/issue_comments_455516.json:
```json
{
    "body": "<a id='comment:2'></a>\nBatch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455516",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_comments_455517.json:
```json
{
    "body": "spkg-configure.m4 to be copied under build/pkgs/gc",
    "created_at": "2020-04-30T12:12:31Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455517",
    "user": "https://github.com/thierry-FreeBSD"
}
```

spkg-configure.m4 to be copied under build/pkgs/gc



---

archive/attachments_021293.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "spkg-configure.m4",
    "asset_url": "tarball://root/attachments/ticket28991/spkg-configure.m4",
    "created_at": "2020-04-30T12:18:51Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket28991/spkg-configure.m4",
    "user": "https://github.com/thierry-FreeBSD"
}
```



---

archive/issue_comments_455518.json:
```json
{
    "body": "<a id='comment:3'></a>\nAttachment [spkg-configure.m4](https://github.com/sagemath/sage/files/ticket28991/spkg-configure.m4) by @thierry-FreeBSD created at 2020-04-30 12:18:51\n\nWith the attached spkg-configure.m4, it works for me on FreeBSD, and Sage uses the system package.\n\nNote: ATM the FreeBSD system package is at v.8.0.4 (boehm-gc-threaded-8.0.4_1), and the pkg-config file is named bdw-gc-threaded.pc - this might be different on other systems.",
    "created_at": "2020-04-30T12:18:51Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455518",
    "user": "https://github.com/thierry-FreeBSD"
}
```

<a id='comment:3'></a>
Attachment [spkg-configure.m4](https://github.com/sagemath/sage/files/ticket28991/spkg-configure.m4) by @thierry-FreeBSD created at 2020-04-30 12:18:51

With the attached spkg-configure.m4, it works for me on FreeBSD, and Sage uses the system package.

Note: ATM the FreeBSD system package is at v.8.0.4 (boehm-gc-threaded-8.0.4_1), and the pkg-config file is named bdw-gc-threaded.pc - this might be different on other systems.



---

archive/issue_comments_455519.json:
```json
{
    "body": "<a id='comment:4'></a>\nIt's `bdw-gc.pc` on Gentoo at least, so we should check that name too.",
    "created_at": "2020-04-30T13:08:03Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455519",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:4'></a>
It's `bdw-gc.pc` on Gentoo at least, so we should check that name too.



---

archive/issue_comments_455520.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [mjo](#comment%3A4):\n> It's `bdw-gc.pc` on Gentoo at least, so we should check that name too.\n\nalso on Debian and Fedora it is `bdw-gc`.\n\n- on Debian on needs to install `libgc-dev`\n- on Fedora one needs to install `gc gc-devel`",
    "created_at": "2020-04-30T14:03:08Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455520",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:5'></a>
Replying to [mjo](#comment%3A4):
> It's `bdw-gc.pc` on Gentoo at least, so we should check that name too.

also on Debian and Fedora it is `bdw-gc`.

- on Debian on needs to install `libgc-dev`
- on Fedora one needs to install `gc gc-devel`



---

archive/issue_comments_455521.json:
```json
{
    "body": "**Branch:** [u/dimpase/packages/gc/configm4](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/gc/configm4)",
    "created_at": "2020-08-11T20:31:44Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455521",
    "user": "https://github.com/dimpase"
}
```

**Branch:** [u/dimpase/packages/gc/configm4](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/gc/configm4)



---

archive/issue_comments_455522.json:
```json
{
    "body": "**Author:** Thierry Thomas, Dima Pasechnik",
    "created_at": "2020-08-11T20:31:44Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455522",
    "user": "https://github.com/dimpase"
}
```

**Author:** Thierry Thomas, Dima Pasechnik



---

archive/issue_comments_455523.json:
```json
{
    "body": "**Changing dependencies** from \"#28045\" to \"\".",
    "created_at": "2020-08-11T20:31:44Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455523",
    "user": "https://github.com/dimpase"
}
```

**Changing dependencies** from "#28045" to "".



---

archive/issue_comments_455524.json:
```json
{
    "body": "**Commit:** [5a6ce6f8d003b941f173fbcc792d1946d11e0e33](https://github.com/sagemath/sagetrac-mirror/commit/5a6ce6f8d003b941f173fbcc792d1946d11e0e33)",
    "created_at": "2020-08-11T20:31:44Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455524",
    "user": "https://github.com/dimpase"
}
```

**Commit:** [5a6ce6f8d003b941f173fbcc792d1946d11e0e33](https://github.com/sagemath/sagetrac-mirror/commit/5a6ce6f8d003b941f173fbcc792d1946d11e0e33)



---

archive/issue_comments_455525.json:
```json
{
    "body": "<a id='comment:6'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5a6ce6f8d003b941f173fbcc792d1946d11e0e33\">5a6ce6f</a></td><td><code>spkg-configure for boehm gc</code></td></tr></table>\n",
    "created_at": "2020-08-11T20:31:44Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455525",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:6'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5a6ce6f8d003b941f173fbcc792d1946d11e0e33">5a6ce6f</a></td><td><code>spkg-configure for boehm gc</code></td></tr></table>




---

archive/issue_events_257437.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-08-11T20:31:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28991#event-257437"
}
```



---

archive/issue_comments_455526.json:
```json
{
    "body": "<a id='comment:7'></a>\nGH Actions run?",
    "created_at": "2020-08-11T23:42:06Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455526",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>
GH Actions run?



---

archive/issue_comments_455527.json:
```json
{
    "body": "<a id='comment:8'></a>\nWorks on Gentoo now, thanks!",
    "created_at": "2020-08-12T18:11:20Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455527",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:8'></a>
Works on Gentoo now, thanks!



---

archive/issue_comments_455528.json:
```json
{
    "body": "<a id='comment:9'></a>\ntests run on https://github.com/dimpase/sage/pull/16",
    "created_at": "2020-08-12T18:46:09Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455528",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>
tests run on https://github.com/dimpase/sage/pull/16



---

archive/issue_comments_455529.json:
```json
{
    "body": "**Changing commit** from \"[5a6ce6f8d003b941f173fbcc792d1946d11e0e33](https://github.com/sagemath/sagetrac-mirror/commit/5a6ce6f8d003b941f173fbcc792d1946d11e0e33)\" to \"[9e334dd05bb0ff9601d3456da6990f0123ed8a23](https://github.com/sagemath/sagetrac-mirror/commit/9e334dd05bb0ff9601d3456da6990f0123ed8a23)\".",
    "created_at": "2020-08-13T14:00:20Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455529",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[5a6ce6f8d003b941f173fbcc792d1946d11e0e33](https://github.com/sagemath/sagetrac-mirror/commit/5a6ce6f8d003b941f173fbcc792d1946d11e0e33)" to "[9e334dd05bb0ff9601d3456da6990f0123ed8a23](https://github.com/sagemath/sagetrac-mirror/commit/9e334dd05bb0ff9601d3456da6990f0123ed8a23)".



---

archive/issue_comments_455530.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e334dd05bb0ff9601d3456da6990f0123ed8a23\">9e334dd</a></td><td><code>more hints for libatomic_ops on distros</code></td></tr></table>\n",
    "created_at": "2020-08-13T14:00:20Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455530",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e334dd05bb0ff9601d3456da6990f0123ed8a23">9e334dd</a></td><td><code>more hints for libatomic_ops on distros</code></td></tr></table>




---

archive/issue_comments_455531.json:
```json
{
    "body": "<a id='comment:11'></a>\nas can be seen on the GH Action logs from https://github.com/dimpase/sage/actions/runs/207790649 libgc is correctly recongnised - if it can be installed\n\nOn macOS Conda, libgc is not found:\nhttps://github.com/dimpase/sage/runs/982690154\n\n```\n  - https://repo.anaconda.com/pkgs/main/osx-64\n  - https://repo.anaconda.com/pkgs/main/noarch\n  - https://repo.anaconda.com/pkgs/r/osx-64\n  - https://repo.anaconda.com/pkgs/r/noarch\n\nTo search for alternate channels that may provide the conda package you're\nlooking for, navigate to\n\n    https://anaconda.org\n\nand use the search bar at the top of the page.\n\n\nERROR: InvocationError for command /bin/bash -c 'PACKAGES=`sed \"s/#.*//;\" build/pkgs/*/distros/conda.txt`; . /Users/runner/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/bin/activate && /Users/runner/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/bin/conda install --yes --quiet $PACKAGES' (exited with code 1)\n___________________________________ summary ____________________________________\nERROR:   local-conda-forge-macos-standard: commands failed\n##[error]Process completed with exit code 1.\n```\n\nIsuru, do you get an idea what's wrong here?",
    "created_at": "2020-08-15T08:50:59Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455531",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:11'></a>
as can be seen on the GH Action logs from https://github.com/dimpase/sage/actions/runs/207790649 libgc is correctly recongnised - if it can be installed

On macOS Conda, libgc is not found:
https://github.com/dimpase/sage/runs/982690154

```
  - https://repo.anaconda.com/pkgs/main/osx-64
  - https://repo.anaconda.com/pkgs/main/noarch
  - https://repo.anaconda.com/pkgs/r/osx-64
  - https://repo.anaconda.com/pkgs/r/noarch

To search for alternate channels that may provide the conda package you're
looking for, navigate to

    https://anaconda.org

and use the search bar at the top of the page.


ERROR: InvocationError for command /bin/bash -c 'PACKAGES=`sed "s/#.*//;" build/pkgs/*/distros/conda.txt`; . /Users/runner/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/bin/activate && /Users/runner/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/bin/conda install --yes --quiet $PACKAGES' (exited with code 1)
___________________________________ summary ____________________________________
ERROR:   local-conda-forge-macos-standard: commands failed
##[error]Process completed with exit code 1.
```

Isuru, do you get an idea what's wrong here?



---

archive/issue_events_257438.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-02T01:42:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28991#event-257438"
}
```



---

archive/issue_events_257439.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-02T01:42:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28991#event-257439"
}
```



---

archive/issue_comments_455532.json:
```json
{
    "body": "<a id='comment:14'></a>\nI will remove conda.txt",
    "created_at": "2020-09-02T06:44:38Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455532",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:14'></a>
I will remove conda.txt



---

archive/issue_comments_455533.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb2ca1d77d8a37442e1e27bf88590a5860f0bca2\">eb2ca1d</a></td><td><code>spkg-configure for boehm gc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7d8524211292468045537f5f393ae5a50800c83f\">7d85242</a></td><td><code>more hints for libatomic_ops on distros</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b89b6dee37b5c4c2699f05a2355c8090bd0450a\">6b89b6d</a></td><td><code>leave conda out for the time being</code></td></tr></table>\n",
    "created_at": "2020-09-02T10:25:41Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455533",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb2ca1d77d8a37442e1e27bf88590a5860f0bca2">eb2ca1d</a></td><td><code>spkg-configure for boehm gc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7d8524211292468045537f5f393ae5a50800c83f">7d85242</a></td><td><code>more hints for libatomic_ops on distros</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b89b6dee37b5c4c2699f05a2355c8090bd0450a">6b89b6d</a></td><td><code>leave conda out for the time being</code></td></tr></table>




---

archive/issue_comments_455534.json:
```json
{
    "body": "**Changing commit** from \"[9e334dd05bb0ff9601d3456da6990f0123ed8a23](https://github.com/sagemath/sagetrac-mirror/commit/9e334dd05bb0ff9601d3456da6990f0123ed8a23)\" to \"[6b89b6dee37b5c4c2699f05a2355c8090bd0450a](https://github.com/sagemath/sagetrac-mirror/commit/6b89b6dee37b5c4c2699f05a2355c8090bd0450a)\".",
    "created_at": "2020-09-02T10:25:41Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455534",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9e334dd05bb0ff9601d3456da6990f0123ed8a23](https://github.com/sagemath/sagetrac-mirror/commit/9e334dd05bb0ff9601d3456da6990f0123ed8a23)" to "[6b89b6dee37b5c4c2699f05a2355c8090bd0450a](https://github.com/sagemath/sagetrac-mirror/commit/6b89b6dee37b5c4c2699f05a2355c8090bd0450a)".



---

archive/issue_events_257440.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-02T10:26:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28991#event-257440"
}
```



---

archive/issue_events_257441.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-02T10:26:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28991#event-257441"
}
```



---

archive/issue_comments_455535.json:
```json
{
    "body": "<a id='comment:16'></a>\ncommented out conda, rebased over 9.2.beta11.",
    "created_at": "2020-09-02T10:26:34Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455535",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:16'></a>
commented out conda, rebased over 9.2.beta11.



---

archive/issue_comments_455536.json:
```json
{
    "body": "<a id='comment:17'></a>\nGH run please",
    "created_at": "2020-09-02T16:02:20Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455536",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>
GH run please



---

archive/issue_comments_455537.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5c10a5b967108a99c375b1d9c621201e455783c\">d5c10a5</a></td><td><code>also no gc on conda</code></td></tr></table>\n",
    "created_at": "2020-09-02T23:09:28Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455537",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5c10a5b967108a99c375b1d9c621201e455783c">d5c10a5</a></td><td><code>also no gc on conda</code></td></tr></table>




---

archive/issue_comments_455538.json:
```json
{
    "body": "**Changing commit** from \"[6b89b6dee37b5c4c2699f05a2355c8090bd0450a](https://github.com/sagemath/sagetrac-mirror/commit/6b89b6dee37b5c4c2699f05a2355c8090bd0450a)\" to \"[d5c10a5b967108a99c375b1d9c621201e455783c](https://github.com/sagemath/sagetrac-mirror/commit/d5c10a5b967108a99c375b1d9c621201e455783c)\".",
    "created_at": "2020-09-02T23:09:28Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455538",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6b89b6dee37b5c4c2699f05a2355c8090bd0450a](https://github.com/sagemath/sagetrac-mirror/commit/6b89b6dee37b5c4c2699f05a2355c8090bd0450a)" to "[d5c10a5b967108a99c375b1d9c621201e455783c](https://github.com/sagemath/sagetrac-mirror/commit/d5c10a5b967108a99c375b1d9c621201e455783c)".



---

archive/issue_comments_455539.json:
```json
{
    "body": "<a id='comment:19'></a>\nReplying to [mkoeppe](#comment%3A17):\n> GH run please\n\n\nsee https://github.com/sagemath/sage/pull/98",
    "created_at": "2020-09-02T23:10:18Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455539",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:19'></a>
Replying to [mkoeppe](#comment%3A17):
> GH run please


see https://github.com/sagemath/sage/pull/98



---

archive/issue_comments_455540.json:
```json
{
    "body": "<a id='comment:20'></a>\nping?",
    "created_at": "2020-09-07T08:28:29Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455540",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:20'></a>
ping?



---

archive/issue_comments_455541.json:
```json
{
    "body": "**Reviewer:** Michael Orlitzky",
    "created_at": "2020-09-07T11:41:55Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455541",
    "user": "https://github.com/orlitzky"
}
```

**Reviewer:** Michael Orlitzky



---

archive/issue_comments_455542.json:
```json
{
    "body": "<a id='comment:21'></a>\nLGTM, but can you just delete those conda.txt files rather than comment out their contents? If I'm looking for packages that need Gentoo information, I'm going to be checking for the existence of `distros/gentoo.txt` and assume that it's correct if present.",
    "created_at": "2020-09-07T11:41:55Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455542",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:21'></a>
LGTM, but can you just delete those conda.txt files rather than comment out their contents? If I'm looking for packages that need Gentoo information, I'm going to be checking for the existence of `distros/gentoo.txt` and assume that it's correct if present.



---

archive/issue_events_257442.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2020-09-07T11:41:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28991#event-257442"
}
```



---

archive/issue_events_257443.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2020-09-07T11:41:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28991#event-257443"
}
```



---

archive/issue_comments_455543.json:
```json
{
    "body": "<a id='comment:22'></a>\nThanks! \n\nAs to deleting, we already have quite a few of distros/foo.txt with commented out content, e.g. `build/pkgs/arb/distros/homebrew.txt`, so, no, the content of these files matters matters :-)",
    "created_at": "2020-09-07T14:25:10Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455543",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:22'></a>
Thanks! 

As to deleting, we already have quite a few of distros/foo.txt with commented out content, e.g. `build/pkgs/arb/distros/homebrew.txt`, so, no, the content of these files matters matters :-)



---

archive/issue_events_257444.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-09-15T22:00:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28991#event-257444"
}
```



---

archive/issue_events_257445.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "72a76b31a5b92928bfadc57e2af5439f64f7510e",
    "created_at": "2020-09-15T22:00:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28991#event-257445"
}
```



---

archive/issue_comments_455544.json:
```json
{
    "body": "**Changing branch** from \"[u/dimpase/packages/gc/configm4](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/gc/configm4)\" to \"[d5c10a5b967108a99c375b1d9c621201e455783c](https://github.com/sagemath/sagetrac-mirror/commit/d5c10a5b967108a99c375b1d9c621201e455783c)\".",
    "created_at": "2020-09-15T22:00:49Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455544",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/dimpase/packages/gc/configm4](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/gc/configm4)" to "[d5c10a5b967108a99c375b1d9c621201e455783c](https://github.com/sagemath/sagetrac-mirror/commit/d5c10a5b967108a99c375b1d9c621201e455783c)".



---

archive/issue_comments_455545.json:
```json
{
    "body": "**Changing commit** from \"[d5c10a5b967108a99c375b1d9c621201e455783c](https://github.com/sagemath/sagetrac-mirror/commit/d5c10a5b967108a99c375b1d9c621201e455783c)\" to \"\".",
    "created_at": "2020-09-22T14:08:23Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455545",
    "user": "https://github.com/mkoeppe"
}
```

**Changing commit** from "[d5c10a5b967108a99c375b1d9c621201e455783c](https://github.com/sagemath/sagetrac-mirror/commit/d5c10a5b967108a99c375b1d9c621201e455783c)" to "".



---

archive/issue_comments_455546.json:
```json
{
    "body": "<a id='comment:24'></a>\nLooks like this may have caused the breakage reported in #30629 (wsl-ubuntu-focal: ECL build fails).",
    "created_at": "2020-09-22T14:08:23Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455546",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:24'></a>
Looks like this may have caused the breakage reported in #30629 (wsl-ubuntu-focal: ECL build fails).



---

archive/issue_comments_455547.json:
```json
{
    "body": "<a id='comment:25'></a>\nReplying to [mkoeppe](#comment%3A24):\n> Looks like this may have caused the breakage reported in #30629 (wsl-ubuntu-focal: ECL build fails).\n\n\nit appears that all the  released versions of gc suffer from the problem at hand, no?",
    "created_at": "2020-09-22T14:15:46Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455547",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:25'></a>
Replying to [mkoeppe](#comment%3A24):
> Looks like this may have caused the breakage reported in #30629 (wsl-ubuntu-focal: ECL build fails).


it appears that all the  released versions of gc suffer from the problem at hand, no?



---

archive/issue_comments_455548.json:
```json
{
    "body": "<a id='comment:26'></a>\nIf I understand the issue correctly, it's a particular libgc configuration used on Ubuntu 20.04 that is the problem.",
    "created_at": "2020-09-22T14:19:48Z",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-455548",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:26'></a>
If I understand the issue correctly, it's a particular libgc configuration used on Ubuntu 20.04 that is the problem.
