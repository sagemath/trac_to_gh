# Issue 28991: spkg-configure.m4 for gc

archive/issues_028754.json:
```json
{
    "assignees": [],
    "body": "Split off of #28045, where the libatomic dependency is handled.\n\nCC:  @embray @dimpase @isuruf\n\nBranch: **[`d5c10a5`](https://github.com/sagemath/sagetrac-mirror/commit/d5c10a5b967108a99c375b1d9c621201e455783c)**\n\nReviewer: **Michael Orlitzky**\n\nAuthor: **Thierry Thomas, Dima Pasechnik**\n\nComponent: **build: configure**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/28991_\n\n",
    "closed_at": "2020-09-15T22:00:49Z",
    "created_at": "2020-01-11T22:57:26Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build%3A%20configure",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "spkg-configure.m4 for gc",
    "type": "issue",
    "updated_at": "2020-09-22T14:19:48Z",
    "url": "https://github.com/sagemath/sage/issues/28991",
    "user": "https://github.com/orlitzky"
}
```
Split off of #28045, where the libatomic dependency is handled.

CC:  @embray @dimpase @isuruf

Branch: **[`d5c10a5`](https://github.com/sagemath/sagetrac-mirror/commit/d5c10a5b967108a99c375b1d9c621201e455783c)**

Reviewer: **Michael Orlitzky**

Author: **Thierry Thomas, Dima Pasechnik**

Component: **build: configure**

_Issue created by migration from https://trac.sagemath.org/ticket/28991_





---

archive/issue_events_395318.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2020-01-11T22:57:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28991#event-395318"
}
```



---

archive/issue_events_395319.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2020-01-11T22:57:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build%3A%20configure",
    "label_color": "0000b0",
    "label_name": "c: build: configure",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28991#event-395319"
}
```



---

archive/issue_events_395320.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2020-01-11T22:57:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28991#event-395320"
}
```



---

archive/issue_events_395321.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2020-01-11T22:57:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28991#event-395321"
}
```



---

archive/issue_comments_452697.json:
```json
{
    "body": "Changed dependencies from **28045** to **#28045**",
    "created_at": "2020-01-11T22:57:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452697",
    "user": "https://github.com/orlitzky"
}
```

Changed dependencies from **28045** to **#28045**



---

archive/issue_events_395322.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28991#event-395322"
}
```



---

archive/issue_events_395323.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-14T19:41:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28991#event-395323"
}
```



---

archive/issue_comments_452698.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nBatch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.",
    "created_at": "2020-04-14T19:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452698",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2" align="right">comment:2</div>

Batch modifying tickets that will likely not be ready for 9.1, based on a review of the ticket title, branch/review status, and last modification date.



---

archive/issue_comments_452699.json:
```json
{
    "body": "spkg-configure.m4 to be copied under build/pkgs/gc",
    "created_at": "2020-04-30T12:12:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452699",
    "user": "https://github.com/thierry-FreeBSD"
}
```

spkg-configure.m4 to be copied under build/pkgs/gc



---

archive/issue_comments_452700.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nAttachment: **[spkg-configure.m4.gz](https://github.com/sagemath/sage/files/ticket28991/spkg-configure.m4.gz)**\n\nWith the attached spkg-configure.m4, it works for me on FreeBSD, and Sage uses the system package.\n\nNote: ATM the FreeBSD system package is at v.8.0.4 (boehm-gc-threaded-8.0.4_1), and the pkg-config file is named bdw-gc-threaded.pc - this might be different on other systems.",
    "created_at": "2020-04-30T12:18:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452700",
    "user": "https://github.com/thierry-FreeBSD"
}
```

<div id="comment:3" align="right">comment:3</div>

Attachment: **[spkg-configure.m4.gz](https://github.com/sagemath/sage/files/ticket28991/spkg-configure.m4.gz)**

With the attached spkg-configure.m4, it works for me on FreeBSD, and Sage uses the system package.

Note: ATM the FreeBSD system package is at v.8.0.4 (boehm-gc-threaded-8.0.4_1), and the pkg-config file is named bdw-gc-threaded.pc - this might be different on other systems.



---

archive/issue_comments_452701.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nIt's `bdw-gc.pc` on Gentoo at least, so we should check that name too.",
    "created_at": "2020-04-30T13:08:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452701",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:4" align="right">comment:4</div>

It's `bdw-gc.pc` on Gentoo at least, so we should check that name too.



---

archive/issue_comments_452702.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@orlitzky](#comment:4):\n> It's `bdw-gc.pc` on Gentoo at least, so we should check that name too.\n\nalso on Debian and Fedora it is `bdw-gc`.\n\n- on Debian on needs to install `libgc-dev`\n- on Fedora one needs to install `gc gc-devel`",
    "created_at": "2020-04-30T14:03:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452702",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@orlitzky](#comment:4):
> It's `bdw-gc.pc` on Gentoo at least, so we should check that name too.

also on Debian and Fedora it is `bdw-gc`.

- on Debian on needs to install `libgc-dev`
- on Fedora one needs to install `gc gc-devel`



---

archive/issue_comments_452703.json:
```json
{
    "body": "Branch: **[u/dimpase/packages/gc/configm4](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/gc/configm4)**",
    "created_at": "2020-08-11T20:31:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452703",
    "user": "https://github.com/dimpase"
}
```

Branch: **[u/dimpase/packages/gc/configm4](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/gc/configm4)**



---

archive/issue_comments_452704.json:
```json
{
    "body": "Author: **Thierry Thomas, Dima Pasechnik**",
    "created_at": "2020-08-11T20:31:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452704",
    "user": "https://github.com/dimpase"
}
```

Author: **Thierry Thomas, Dima Pasechnik**



---

archive/issue_comments_452705.json:
```json
{
    "body": "Changed dependencies from **#28045** to none",
    "created_at": "2020-08-11T20:31:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452705",
    "user": "https://github.com/dimpase"
}
```

Changed dependencies from **#28045** to none



---

archive/issue_comments_452706.json:
```json
{
    "body": "Commit: **[`5a6ce6f`](https://github.com/sagemath/sagetrac-mirror/commit/5a6ce6f8d003b941f173fbcc792d1946d11e0e33)**",
    "created_at": "2020-08-11T20:31:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452706",
    "user": "https://github.com/dimpase"
}
```

Commit: **[`5a6ce6f`](https://github.com/sagemath/sagetrac-mirror/commit/5a6ce6f8d003b941f173fbcc792d1946d11e0e33)**



---

archive/issue_comments_452707.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5a6ce6f8d003b941f173fbcc792d1946d11e0e33\"><code>5a6ce6f</code></a></td><td><code>spkg-configure for boehm gc</code></td></tr></table>\n",
    "created_at": "2020-08-11T20:31:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452707",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:6"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5a6ce6f8d003b941f173fbcc792d1946d11e0e33"><code>5a6ce6f</code></a></td><td><code>spkg-configure for boehm gc</code></td></tr></table>




---

archive/issue_events_395324.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-08-11T20:31:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28991#event-395324"
}
```



---

archive/issue_comments_452708.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nGH Actions run?",
    "created_at": "2020-08-11T23:42:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452708",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">comment:7</div>

GH Actions run?



---

archive/issue_comments_452709.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nWorks on Gentoo now, thanks!",
    "created_at": "2020-08-12T18:11:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452709",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:8" align="right">comment:8</div>

Works on Gentoo now, thanks!



---

archive/issue_comments_452710.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\ntests run on https://github.com/dimpase/sage/pull/16",
    "created_at": "2020-08-12T18:46:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452710",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:9" align="right">comment:9</div>

tests run on https://github.com/dimpase/sage/pull/16



---

archive/issue_comments_452711.json:
```json
{
    "body": "Changed commit from **[`5a6ce6f`](https://github.com/sagemath/sagetrac-mirror/commit/5a6ce6f8d003b941f173fbcc792d1946d11e0e33)** to **[`9e334dd`](https://github.com/sagemath/sagetrac-mirror/commit/9e334dd05bb0ff9601d3456da6990f0123ed8a23)**",
    "created_at": "2020-08-13T14:00:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452711",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5a6ce6f`](https://github.com/sagemath/sagetrac-mirror/commit/5a6ce6f8d003b941f173fbcc792d1946d11e0e33)** to **[`9e334dd`](https://github.com/sagemath/sagetrac-mirror/commit/9e334dd05bb0ff9601d3456da6990f0123ed8a23)**



---

archive/issue_comments_452712.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e334dd05bb0ff9601d3456da6990f0123ed8a23\"><code>9e334dd</code></a></td><td><code>more hints for libatomic_ops on distros</code></td></tr></table>\n",
    "created_at": "2020-08-13T14:00:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452712",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e334dd05bb0ff9601d3456da6990f0123ed8a23"><code>9e334dd</code></a></td><td><code>more hints for libatomic_ops on distros</code></td></tr></table>




---

archive/issue_comments_452713.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nas can be seen on the GH Action logs from https://github.com/dimpase/sage/actions/runs/207790649 libgc is correctly recongnised - if it can be installed\n\nOn macOS Conda, libgc is not found:\nhttps://github.com/dimpase/sage/runs/982690154\n\n```\n  - https://repo.anaconda.com/pkgs/main/osx-64\n  - https://repo.anaconda.com/pkgs/main/noarch\n  - https://repo.anaconda.com/pkgs/r/osx-64\n  - https://repo.anaconda.com/pkgs/r/noarch\n\nTo search for alternate channels that may provide the conda package you're\nlooking for, navigate to\n\n    https://anaconda.org\n\nand use the search bar at the top of the page.\n\n\nERROR: InvocationError for command /bin/bash -c 'PACKAGES=`sed \"s/#.*//;\" build/pkgs/*/distros/conda.txt`; . /Users/runner/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/bin/activate && /Users/runner/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/bin/conda install --yes --quiet $PACKAGES' (exited with code 1)\n___________________________________ summary ____________________________________\nERROR:   local-conda-forge-macos-standard: commands failed\n##[error]Process completed with exit code 1.\n```\n\nIsuru, do you get an idea what's wrong here?",
    "created_at": "2020-08-15T08:50:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452713",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:11" align="right">comment:11</div>

as can be seen on the GH Action logs from https://github.com/dimpase/sage/actions/runs/207790649 libgc is correctly recongnised - if it can be installed

On macOS Conda, libgc is not found:
https://github.com/dimpase/sage/runs/982690154

```
  - https://repo.anaconda.com/pkgs/main/osx-64
  - https://repo.anaconda.com/pkgs/main/noarch
  - https://repo.anaconda.com/pkgs/r/osx-64
  - https://repo.anaconda.com/pkgs/r/noarch

To search for alternate channels that may provide the conda package you're
looking for, navigate to

    https://anaconda.org

and use the search bar at the top of the page.


ERROR: InvocationError for command /bin/bash -c 'PACKAGES=`sed "s/#.*//;" build/pkgs/*/distros/conda.txt`; . /Users/runner/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/bin/activate && /Users/runner/work/sage/sage/.tox/local-conda-forge-macos-standard/conda/bin/conda install --yes --quiet $PACKAGES' (exited with code 1)
___________________________________ summary ____________________________________
ERROR:   local-conda-forge-macos-standard: commands failed
##[error]Process completed with exit code 1.
```

Isuru, do you get an idea what's wrong here?



---

archive/issue_events_395325.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-02T01:42:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28991#event-395325"
}
```



---

archive/issue_events_395326.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-02T01:42:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28991#event-395326"
}
```



---

archive/issue_comments_452714.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI will remove conda.txt",
    "created_at": "2020-09-02T06:44:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452714",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:14" align="right">comment:14</div>

I will remove conda.txt



---

archive/issue_comments_452715.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb2ca1d77d8a37442e1e27bf88590a5860f0bca2\"><code>eb2ca1d</code></a></td><td><code>spkg-configure for boehm gc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7d8524211292468045537f5f393ae5a50800c83f\"><code>7d85242</code></a></td><td><code>more hints for libatomic_ops on distros</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b89b6dee37b5c4c2699f05a2355c8090bd0450a\"><code>6b89b6d</code></a></td><td><code>leave conda out for the time being</code></td></tr></table>\n",
    "created_at": "2020-09-02T10:25:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452715",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb2ca1d77d8a37442e1e27bf88590a5860f0bca2"><code>eb2ca1d</code></a></td><td><code>spkg-configure for boehm gc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7d8524211292468045537f5f393ae5a50800c83f"><code>7d85242</code></a></td><td><code>more hints for libatomic_ops on distros</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b89b6dee37b5c4c2699f05a2355c8090bd0450a"><code>6b89b6d</code></a></td><td><code>leave conda out for the time being</code></td></tr></table>




---

archive/issue_comments_452716.json:
```json
{
    "body": "Changed commit from **[`9e334dd`](https://github.com/sagemath/sagetrac-mirror/commit/9e334dd05bb0ff9601d3456da6990f0123ed8a23)** to **[`6b89b6d`](https://github.com/sagemath/sagetrac-mirror/commit/6b89b6dee37b5c4c2699f05a2355c8090bd0450a)**",
    "created_at": "2020-09-02T10:25:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452716",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9e334dd`](https://github.com/sagemath/sagetrac-mirror/commit/9e334dd05bb0ff9601d3456da6990f0123ed8a23)** to **[`6b89b6d`](https://github.com/sagemath/sagetrac-mirror/commit/6b89b6dee37b5c4c2699f05a2355c8090bd0450a)**



---

archive/issue_events_395327.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-02T10:26:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28991#event-395327"
}
```



---

archive/issue_events_395328.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2020-09-02T10:26:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28991#event-395328"
}
```



---

archive/issue_comments_452717.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\ncommented out conda, rebased over 9.2.beta11.",
    "created_at": "2020-09-02T10:26:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452717",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:16" align="right">comment:16</div>

commented out conda, rebased over 9.2.beta11.



---

archive/issue_comments_452718.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nGH run please",
    "created_at": "2020-09-02T16:02:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452718",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

GH run please



---

archive/issue_comments_452719.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5c10a5b967108a99c375b1d9c621201e455783c\"><code>d5c10a5</code></a></td><td><code>also no gc on conda</code></td></tr></table>\n",
    "created_at": "2020-09-02T23:09:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452719",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5c10a5b967108a99c375b1d9c621201e455783c"><code>d5c10a5</code></a></td><td><code>also no gc on conda</code></td></tr></table>




---

archive/issue_comments_452720.json:
```json
{
    "body": "Changed commit from **[`6b89b6d`](https://github.com/sagemath/sagetrac-mirror/commit/6b89b6dee37b5c4c2699f05a2355c8090bd0450a)** to **[`d5c10a5`](https://github.com/sagemath/sagetrac-mirror/commit/d5c10a5b967108a99c375b1d9c621201e455783c)**",
    "created_at": "2020-09-02T23:09:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452720",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6b89b6d`](https://github.com/sagemath/sagetrac-mirror/commit/6b89b6dee37b5c4c2699f05a2355c8090bd0450a)** to **[`d5c10a5`](https://github.com/sagemath/sagetrac-mirror/commit/d5c10a5b967108a99c375b1d9c621201e455783c)**



---

archive/issue_comments_452721.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@mkoeppe](#comment:17):\n> GH run please\n\nsee https://github.com/sagemath/sage/pull/98",
    "created_at": "2020-09-02T23:10:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452721",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@mkoeppe](#comment:17):
> GH run please

see https://github.com/sagemath/sage/pull/98



---

archive/issue_comments_452722.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nping?",
    "created_at": "2020-09-07T08:28:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452722",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:20" align="right">comment:20</div>

ping?



---

archive/issue_comments_452723.json:
```json
{
    "body": "Reviewer: **Michael Orlitzky**",
    "created_at": "2020-09-07T11:41:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452723",
    "user": "https://github.com/orlitzky"
}
```

Reviewer: **Michael Orlitzky**



---

archive/issue_comments_452724.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nLGTM, but can you just delete those conda.txt files rather than comment out their contents? If I'm looking for packages that need Gentoo information, I'm going to be checking for the existence of `distros/gentoo.txt` and assume that it's correct if present.",
    "created_at": "2020-09-07T11:41:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452724",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:21" align="right">comment:21</div>

LGTM, but can you just delete those conda.txt files rather than comment out their contents? If I'm looking for packages that need Gentoo information, I'm going to be checking for the existence of `distros/gentoo.txt` and assume that it's correct if present.



---

archive/issue_events_395329.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2020-09-07T11:41:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28991#event-395329"
}
```



---

archive/issue_events_395330.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2020-09-07T11:41:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28991#event-395330"
}
```



---

archive/issue_comments_452725.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThanks! \n\nAs to deleting, we already have quite a few of distros/foo.txt with commented out content, e.g. `build/pkgs/arb/distros/homebrew.txt`, so, no, the content of these files matters matters :-)",
    "created_at": "2020-09-07T14:25:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452725",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:22" align="right">comment:22</div>

Thanks! 

As to deleting, we already have quite a few of distros/foo.txt with commented out content, e.g. `build/pkgs/arb/distros/homebrew.txt`, so, no, the content of these files matters matters :-)



---

archive/issue_events_395331.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-09-15T22:00:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28991#event-395331"
}
```



---

archive/issue_events_395332.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "72a76b31a5b92928bfadc57e2af5439f64f7510e",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-09-15T22:00:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28991#event-395332"
}
```



---

archive/issue_comments_452726.json:
```json
{
    "body": "Changed branch from **[u/dimpase/packages/gc/configm4](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/gc/configm4)** to **[`d5c10a5`](https://github.com/sagemath/sagetrac-mirror/commit/d5c10a5b967108a99c375b1d9c621201e455783c)**",
    "created_at": "2020-09-15T22:00:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452726",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/dimpase/packages/gc/configm4](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/gc/configm4)** to **[`d5c10a5`](https://github.com/sagemath/sagetrac-mirror/commit/d5c10a5b967108a99c375b1d9c621201e455783c)**



---

archive/issue_comments_452727.json:
```json
{
    "body": "Changed commit from **[`d5c10a5`](https://github.com/sagemath/sagetrac-mirror/commit/d5c10a5b967108a99c375b1d9c621201e455783c)** to none",
    "created_at": "2020-09-22T14:08:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452727",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[`d5c10a5`](https://github.com/sagemath/sagetrac-mirror/commit/d5c10a5b967108a99c375b1d9c621201e455783c)** to none



---

archive/issue_comments_452728.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nLooks like this may have caused the breakage reported in #30629 (wsl-ubuntu-focal: ECL build fails).",
    "created_at": "2020-09-22T14:08:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452728",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:24" align="right">comment:24</div>

Looks like this may have caused the breakage reported in #30629 (wsl-ubuntu-focal: ECL build fails).



---

archive/issue_comments_452729.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@mkoeppe](#comment:24):\n> Looks like this may have caused the breakage reported in #30629 (wsl-ubuntu-focal: ECL build fails).\n\nit appears that all the  released versions of gc suffer from the problem at hand, no?",
    "created_at": "2020-09-22T14:15:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452729",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@mkoeppe](#comment:24):
> Looks like this may have caused the breakage reported in #30629 (wsl-ubuntu-focal: ECL build fails).

it appears that all the  released versions of gc suffer from the problem at hand, no?



---

archive/issue_comments_452730.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nIf I understand the issue correctly, it's a particular libgc configuration used on Ubuntu 20.04 that is the problem.",
    "created_at": "2020-09-22T14:19:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28991#issuecomment-452730",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:26" align="right">comment:26</div>

If I understand the issue correctly, it's a particular libgc configuration used on Ubuntu 20.04 that is the problem.
