# Issue 28342: spkg-configure.m4 for m4ri, m4rie, givaro

archive/issues_028105.json:
```json
{
    "body": "these are very straightforward, basically just doing dependencies and version checks. \n\n`m4ri(e)` are quite stable, and it appears impossibe to distinguish the present version of `m4rie` from the older one. We just rely on the version of `m4ri`, it's dependence, which thankfully has pkg-config support.\n \n\n**CC:**  @embray @kiwifb @isuruf\n\n**Branch:** [21d6aa514a5b918ebfa5c1ff1b91ccd63fa33f2d](https://github.com/sagemath/sagetrac-mirror/commit/21d6aa514a5b918ebfa5c1ff1b91ccd63fa33f2d)\n\n**Upstream:** Fixed upstream, in a later stable release.\n\n**Reviewer:** Isuru Fernando, Erik Bray\n\n**Author:** Dima Pasechnik\n\n**Dependencies:** #28352\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/28342\n\n",
    "closed_at": "2019-08-19T22:08:55Z",
    "created_at": "2019-08-11T07:58:06Z",
    "labels": [
        "component: build: configure"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.9",
    "title": "spkg-configure.m4 for m4ri, m4rie, givaro",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28342",
    "user": "https://github.com/dimpase"
}
```
these are very straightforward, basically just doing dependencies and version checks. 

`m4ri(e)` are quite stable, and it appears impossibe to distinguish the present version of `m4rie` from the older one. We just rely on the version of `m4ri`, it's dependence, which thankfully has pkg-config support.
 

**CC:**  @embray @kiwifb @isuruf

**Branch:** [21d6aa514a5b918ebfa5c1ff1b91ccd63fa33f2d](https://github.com/sagemath/sagetrac-mirror/commit/21d6aa514a5b918ebfa5c1ff1b91ccd63fa33f2d)

**Upstream:** Fixed upstream, in a later stable release.

**Reviewer:** Isuru Fernando, Erik Bray

**Author:** Dima Pasechnik

**Dependencies:** #28352

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/28342





---

archive/issue_comments_551070.json:
```json
{
    "body": "**Changing upstream** from \"N/A\" to \"Reported upstream. No feedback yet.\".",
    "created_at": "2019-08-11T08:00:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551070",
    "user": "https://github.com/dimpase"
}
```


**Changing upstream** from "N/A" to "Reported upstream. No feedback yet.".



---

archive/issue_comments_551071.json:
```json
{
    "body": "<a id='comment:1'></a>\nsee https://bitbucket.org/malb/m4rie/issues/18/add-pkg-config-support",
    "created_at": "2019-08-11T08:00:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551071",
    "user": "https://github.com/dimpase"
}
```


<a id='comment:1'></a>
see https://bitbucket.org/malb/m4rie/issues/18/add-pkg-config-support



---

archive/issue_comments_551072.json:
```json
{
    "body": "**Commit:** [283e64a5018a726fa92e36cc7e143b228600fcb4](https://github.com/sagemath/sagetrac-mirror/commit/283e64a5018a726fa92e36cc7e143b228600fcb4)",
    "created_at": "2019-08-11T19:58:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551072",
    "user": "https://github.com/dimpase"
}
```


**Commit:** [283e64a5018a726fa92e36cc7e143b228600fcb4](https://github.com/sagemath/sagetrac-mirror/commit/283e64a5018a726fa92e36cc7e143b228600fcb4)



---

archive/issue_comments_551073.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2019-08-11T19:58:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551073",
    "user": "https://github.com/dimpase"
}
```


**Changing status** from new to needs_review.



---

archive/issue_comments_551074.json:
```json
{
    "body": "<a id='comment:2'></a>\nthis is quite straighforward w.r.t. to m4ri(e) and givaro spkg-configure files, less so\nwith a macro to check dependencies that I wrote and used on these examples. Please review.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/283e64a5018a726fa92e36cc7e143b228600fcb4\">283e64a</a></td><td><code>macro SAGE_SPKG_DEPCHECK, to test for dependencies:</code></td></tr></table>\n",
    "created_at": "2019-08-11T19:58:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551074",
    "user": "https://github.com/dimpase"
}
```


<a id='comment:2'></a>
this is quite straighforward w.r.t. to m4ri(e) and givaro spkg-configure files, less so
with a macro to check dependencies that I wrote and used on these examples. Please review.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/283e64a5018a726fa92e36cc7e143b228600fcb4">283e64a</a></td><td><code>macro SAGE_SPKG_DEPCHECK, to test for dependencies:</code></td></tr></table>




---

archive/issue_comments_551075.json:
```json
{
    "body": "**Branch:** [u/dimpase/packages/m4ri-e-givaro](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/m4ri-e-givaro)",
    "created_at": "2019-08-11T19:58:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551075",
    "user": "https://github.com/dimpase"
}
```


**Branch:** [u/dimpase/packages/m4ri-e-givaro](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/m4ri-e-givaro)



---

archive/issue_comments_551076.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e1d00eb74017fac3eea1106a5ee9b08d24d83cf\">4e1d00e</a></td><td><code>SAGE_SPKG_DEPCHECK, spkg-configure for m4ri(e), givaro</code></td></tr></table>\n",
    "created_at": "2019-08-11T20:02:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551076",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e1d00eb74017fac3eea1106a5ee9b08d24d83cf">4e1d00e</a></td><td><code>SAGE_SPKG_DEPCHECK, spkg-configure for m4ri(e), givaro</code></td></tr></table>




---

archive/issue_comments_551077.json:
```json
{
    "body": "**Changing commit** from \"[283e64a5018a726fa92e36cc7e143b228600fcb4](https://github.com/sagemath/sagetrac-mirror/commit/283e64a5018a726fa92e36cc7e143b228600fcb4)\" to \"[4e1d00eb74017fac3eea1106a5ee9b08d24d83cf](https://github.com/sagemath/sagetrac-mirror/commit/4e1d00eb74017fac3eea1106a5ee9b08d24d83cf)\".",
    "created_at": "2019-08-11T20:02:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551077",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[283e64a5018a726fa92e36cc7e143b228600fcb4](https://github.com/sagemath/sagetrac-mirror/commit/283e64a5018a726fa92e36cc7e143b228600fcb4)" to "[4e1d00eb74017fac3eea1106a5ee9b08d24d83cf](https://github.com/sagemath/sagetrac-mirror/commit/4e1d00eb74017fac3eea1106a5ee9b08d24d83cf)".



---

archive/issue_comments_551078.json:
```json
{
    "body": "<a id='comment:4'></a>\nOne improvement for SAGE_SPKG_DEPCHECK would be to get rid of the 1st argument, the package name. After all it is called from within SAGE_SPKG_CONFIGURE, and the package name should be \"known\", but I have no clue how to get it.",
    "created_at": "2019-08-11T21:57:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551078",
    "user": "https://github.com/dimpase"
}
```


<a id='comment:4'></a>
One improvement for SAGE_SPKG_DEPCHECK would be to get rid of the 1st argument, the package name. After all it is called from within SAGE_SPKG_CONFIGURE, and the package name should be "known", but I have no clue how to get it.



---

archive/issue_comments_551079.json:
```json
{
    "body": "<a id='comment:5'></a>\nThis works for me on conda. Somebody else should review the macro.",
    "created_at": "2019-08-14T16:25:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551079",
    "user": "https://github.com/isuruf"
}
```


<a id='comment:5'></a>
This works for me on conda. Somebody else should review the macro.



---

archive/issue_comments_551080.json:
```json
{
    "body": "**Reviewer:** Isuru Fernando",
    "created_at": "2019-08-14T16:25:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551080",
    "user": "https://github.com/isuruf"
}
```


**Reviewer:** Isuru Fernando



---

archive/issue_comments_551081.json:
```json
{
    "body": "**Dependencies:** #28352",
    "created_at": "2019-08-14T17:14:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551081",
    "user": "https://github.com/embray"
}
```


**Dependencies:** #28352



---

archive/issue_comments_551082.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [dimpase](#comment%3A4):\n> One improvement for SAGE_SPKG_DEPCHECK would be to get rid of the 1st argument, the package name. After all it is called from within SAGE_SPKG_CONFIGURE, and the package name should be \"known\", but I have no clue how to get it.\n\n\nIf it's only used within `SAGE_SPKG_CONFIGURE` it can probably use the `SPKG_NAME` macro.  But I think it's maybe a bit cleaner actually to keep it more independent.",
    "created_at": "2019-08-15T09:16:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551082",
    "user": "https://github.com/embray"
}
```


<a id='comment:7'></a>
Replying to [dimpase](#comment%3A4):
> One improvement for SAGE_SPKG_DEPCHECK would be to get rid of the 1st argument, the package name. After all it is called from within SAGE_SPKG_CONFIGURE, and the package name should be "known", but I have no clue how to get it.


If it's only used within `SAGE_SPKG_CONFIGURE` it can probably use the `SPKG_NAME` macro.  But I think it's maybe a bit cleaner actually to keep it more independent.



---

archive/issue_comments_551083.json:
```json
{
    "body": "<a id='comment:8'></a>\nAlready working on this ticket I made an error involving the 1st parameter of `SAGE_SPKG_DEPCHECK`, as I copy-pasted it and didn't adjust is :-)\n\nAs we should eventually rewrite already done 20 or 30 spkg-configure.4 files using this macro, it's better to minimise the number of places one can make this sort of error...",
    "created_at": "2019-08-15T09:27:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551083",
    "user": "https://github.com/dimpase"
}
```


<a id='comment:8'></a>
Already working on this ticket I made an error involving the 1st parameter of `SAGE_SPKG_DEPCHECK`, as I copy-pasted it and didn't adjust is :-)

As we should eventually rewrite already done 20 or 30 spkg-configure.4 files using this macro, it's better to minimise the number of places one can make this sort of error...



---

archive/issue_comments_551084.json:
```json
{
    "body": "<a id='comment:9'></a>\nI think a typo in `SAGE_SPKG_DEPCHECK`:\n\n```\nAC_DEFUN([SAGE_SPKG_DEPCHECK], [\n+    m4_foreach_w([DEP], $2, [\n+       AC_REQUIRE([SAGE_SPKG_CONFIGURE_]m4_toupper(DEP))])\n+    AC_MSG_CHECKING([installing $2? ])\n+    AS_IF([test x = y m4_foreach_w([DEP], $2, [ -o [x$sage_spkg_install_]DEP = x$yes])],\n```\n\nAt the end of the last line I think you just meant `xyes` not `x$yes`.",
    "created_at": "2019-08-15T11:51:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551084",
    "user": "https://github.com/embray"
}
```


<a id='comment:9'></a>
I think a typo in `SAGE_SPKG_DEPCHECK`:

```
AC_DEFUN([SAGE_SPKG_DEPCHECK], [
+    m4_foreach_w([DEP], $2, [
+       AC_REQUIRE([SAGE_SPKG_CONFIGURE_]m4_toupper(DEP))])
+    AC_MSG_CHECKING([installing $2? ])
+    AS_IF([test x = y m4_foreach_w([DEP], $2, [ -o [x$sage_spkg_install_]DEP = x$yes])],
```

At the end of the last line I think you just meant `xyes` not `x$yes`.



---

archive/issue_comments_551085.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2019-08-15T11:52:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551085",
    "user": "https://github.com/embray"
}
```


**Changing status** from needs_review to needs_work.



---

archive/issue_comments_551086.json:
```json
{
    "body": "**Changing commit** from \"[4e1d00eb74017fac3eea1106a5ee9b08d24d83cf](https://github.com/sagemath/sagetrac-mirror/commit/4e1d00eb74017fac3eea1106a5ee9b08d24d83cf)\" to \"[afacd43081bb1bbcc91c8a8e8ee8f02933dfabdc](https://github.com/sagemath/sagetrac-mirror/commit/afacd43081bb1bbcc91c8a8e8ee8f02933dfabdc)\".",
    "created_at": "2019-08-17T19:17:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551086",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[4e1d00eb74017fac3eea1106a5ee9b08d24d83cf](https://github.com/sagemath/sagetrac-mirror/commit/4e1d00eb74017fac3eea1106a5ee9b08d24d83cf)" to "[afacd43081bb1bbcc91c8a8e8ee8f02933dfabdc](https://github.com/sagemath/sagetrac-mirror/commit/afacd43081bb1bbcc91c8a8e8ee8f02933dfabdc)".



---

archive/issue_comments_551087.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3bf2069d89bf71c0bd1d70468202d636e18d6973\">3bf2069</a></td><td><code>remove spurious '$'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0fa8a4d0c8d7e6ebba81f78fe915e0a3aeb3ee03\">0fa8a4d</a></td><td><code>update lists of packages which can be useful for installation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/afacd43081bb1bbcc91c8a8e8ee8f02933dfabdc\">afacd43</a></td><td><code>remove unneeded parameter, use SPKG_NAME instead</code></td></tr></table>\n",
    "created_at": "2019-08-17T19:17:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551087",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3bf2069d89bf71c0bd1d70468202d636e18d6973">3bf2069</a></td><td><code>remove spurious '$'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0fa8a4d0c8d7e6ebba81f78fe915e0a3aeb3ee03">0fa8a4d</a></td><td><code>update lists of packages which can be useful for installation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/afacd43081bb1bbcc91c8a8e8ee8f02933dfabdc">afacd43</a></td><td><code>remove unneeded parameter, use SPKG_NAME instead</code></td></tr></table>




---

archive/issue_comments_551088.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2019-08-17T19:18:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551088",
    "user": "https://github.com/dimpase"
}
```


**Changing status** from needs_work to needs_review.



---

archive/issue_comments_551089.json:
```json
{
    "body": "**Changing reviewer** from \"Isuru Fernando\" to \"Isuru Fernando, Erik Bray\".",
    "created_at": "2019-08-17T19:18:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551089",
    "user": "https://github.com/dimpase"
}
```


**Changing reviewer** from "Isuru Fernando" to "Isuru Fernando, Erik Bray".



---

archive/issue_comments_551090.json:
```json
{
    "body": "**Changing upstream** from \"Reported upstream. No feedback yet.\" to \"Fixed upstream, in a later stable release.\".",
    "created_at": "2019-08-17T19:18:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551090",
    "user": "https://github.com/dimpase"
}
```


**Changing upstream** from "Reported upstream. No feedback yet." to "Fixed upstream, in a later stable release.".



---

archive/issue_comments_551091.json:
```json
{
    "body": "<a id='comment:12'></a>\nOK, fixed that embarassing extra $, and further improvements (see commits). Needs review.",
    "created_at": "2019-08-17T19:18:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551091",
    "user": "https://github.com/dimpase"
}
```


<a id='comment:12'></a>
OK, fixed that embarassing extra $, and further improvements (see commits). Needs review.



---

archive/issue_comments_551092.json:
```json
{
    "body": "**Changing commit** from \"[afacd43081bb1bbcc91c8a8e8ee8f02933dfabdc](https://github.com/sagemath/sagetrac-mirror/commit/afacd43081bb1bbcc91c8a8e8ee8f02933dfabdc)\" to \"[21d6aa514a5b918ebfa5c1ff1b91ccd63fa33f2d](https://github.com/sagemath/sagetrac-mirror/commit/21d6aa514a5b918ebfa5c1ff1b91ccd63fa33f2d)\".",
    "created_at": "2019-08-18T09:29:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551092",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


**Changing commit** from "[afacd43081bb1bbcc91c8a8e8ee8f02933dfabdc](https://github.com/sagemath/sagetrac-mirror/commit/afacd43081bb1bbcc91c8a8e8ee8f02933dfabdc)" to "[21d6aa514a5b918ebfa5c1ff1b91ccd63fa33f2d](https://github.com/sagemath/sagetrac-mirror/commit/21d6aa514a5b918ebfa5c1ff1b91ccd63fa33f2d)".



---

archive/issue_comments_551093.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/21d6aa514a5b918ebfa5c1ff1b91ccd63fa33f2d\">21d6aa5</a></td><td><code>mention lcalc system packages (prepare for #28224)</code></td></tr></table>\n",
    "created_at": "2019-08-18T09:29:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551093",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```


<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/21d6aa514a5b918ebfa5c1ff1b91ccd63fa33f2d">21d6aa5</a></td><td><code>mention lcalc system packages (prepare for #28224)</code></td></tr></table>




---

archive/issue_comments_551094.json:
```json
{
    "body": "<a id='comment:14'></a>\nI don't really think [afacd43](https://github.com/sagemath/sagetrac-mirror/commit/afacd43081bb1bbcc91c8a8e8ee8f02933dfabdc) is much of an improvement.  To me it looks fragile and potentially confusing.  But I won't fight it for now, as long as it works, if you really think it's better...",
    "created_at": "2019-08-18T13:37:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551094",
    "user": "https://github.com/embray"
}
```


<a id='comment:14'></a>
I don't really think [afacd43](https://github.com/sagemath/sagetrac-mirror/commit/afacd43081bb1bbcc91c8a8e8ee8f02933dfabdc) is much of an improvement.  To me it looks fragile and potentially confusing.  But I won't fight it for now, as long as it works, if you really think it's better...



---

archive/issue_comments_551095.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2019-08-18T13:46:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551095",
    "user": "https://github.com/embray"
}
```


**Changing status** from needs_review to positive_review.



---

archive/issue_comments_551096.json:
```json
{
    "body": "<a id='comment:15'></a>\nThe m4ri in my (old-ish) Ubuntu is *too* old to otherwise test this.\n\nI had a container with a newer Ubuntu but it seems to have gone away.  I'll set that up again, but in the meantime I think this looks good assuming it works at least on your system.",
    "created_at": "2019-08-18T13:46:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551096",
    "user": "https://github.com/embray"
}
```


<a id='comment:15'></a>
The m4ri in my (old-ish) Ubuntu is *too* old to otherwise test this.

I had a container with a newer Ubuntu but it seems to have gone away.  I'll set that up again, but in the meantime I think this looks good assuming it works at least on your system.



---

archive/issue_comments_551097.json:
```json
{
    "body": "<a id='comment:16'></a>\nyou may try installing m4ri(e) in /usr/local/, for testing.\n\ncertainly the new macro should have been a part of sage_spkg_configure() all along, getting rid of one parameter is a step towards this refactoring...",
    "created_at": "2019-08-18T15:10:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551097",
    "user": "https://github.com/dimpase"
}
```


<a id='comment:16'></a>
you may try installing m4ri(e) in /usr/local/, for testing.

certainly the new macro should have been a part of sage_spkg_configure() all along, getting rid of one parameter is a step towards this refactoring...



---

archive/issue_comments_551098.json:
```json
{
    "body": "<a id='comment:17'></a>\nI got a new Ubuntu 18.04 container set up and it worked! :)",
    "created_at": "2019-08-18T18:56:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551098",
    "user": "https://github.com/embray"
}
```


<a id='comment:17'></a>
I got a new Ubuntu 18.04 container set up and it worked! :)



---

archive/issue_comments_551099.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2019-08-19T22:08:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551099",
    "user": "https://github.com/vbraun"
}
```


**Resolution:** fixed



---

archive/issue_events_080119.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-08-19T22:08:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28342#event-80119"
}
```




---

archive/issue_comments_551100.json:
```json
{
    "body": "**Changing branch** from \"[u/dimpase/packages/m4ri-e-givaro](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/m4ri-e-givaro)\" to \"[21d6aa514a5b918ebfa5c1ff1b91ccd63fa33f2d](https://github.com/sagemath/sagetrac-mirror/commit/21d6aa514a5b918ebfa5c1ff1b91ccd63fa33f2d)\".",
    "created_at": "2019-08-19T22:08:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551100",
    "user": "https://github.com/vbraun"
}
```


**Changing branch** from "[u/dimpase/packages/m4ri-e-givaro](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/m4ri-e-givaro)" to "[21d6aa514a5b918ebfa5c1ff1b91ccd63fa33f2d](https://github.com/sagemath/sagetrac-mirror/commit/21d6aa514a5b918ebfa5c1ff1b91ccd63fa33f2d)".



---

archive/issue_comments_551101.json:
```json
{
    "body": "<a id='comment:19'></a>\nIt seems something wasn't fully tested w.r.t. #26932, and in fact this needs\n\n```diff\n--- a/build/pkgs/givaro/spkg-configure.m4\n+++ b/build/pkgs/givaro/spkg-configure.m4\n@@ -1,5 +1,5 @@\n SAGE_SPKG_CONFIGURE([givaro], [\n-    m4_pushdef([SAGE_GIVARO_MINVER],[\"40004\"])\n+    m4_pushdef([SAGE_GIVARO_MINVER],[\"40101\"])\n     SAGE_SPKG_DEPCHECK([gmp mpir], [\n         AC_PATH_PROG([GIVAROCONFIG], [givaro-config])\n         AS_IF([test x$GIVAROCONFIG = x], [\n```\nI've opened #28380 to fix this.",
    "created_at": "2019-08-21T20:17:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551101",
    "user": "https://github.com/dimpase"
}
```


<a id='comment:19'></a>
It seems something wasn't fully tested w.r.t. #26932, and in fact this needs

```diff
--- a/build/pkgs/givaro/spkg-configure.m4
+++ b/build/pkgs/givaro/spkg-configure.m4
@@ -1,5 +1,5 @@
 SAGE_SPKG_CONFIGURE([givaro], [
-    m4_pushdef([SAGE_GIVARO_MINVER],["40004"])
+    m4_pushdef([SAGE_GIVARO_MINVER],["40101"])
     SAGE_SPKG_DEPCHECK([gmp mpir], [
         AC_PATH_PROG([GIVAROCONFIG], [givaro-config])
         AS_IF([test x$GIVAROCONFIG = x], [
```
I've opened #28380 to fix this.



---

archive/issue_comments_551102.json:
```json
{
    "body": "**Changing commit** from \"[21d6aa514a5b918ebfa5c1ff1b91ccd63fa33f2d](https://github.com/sagemath/sagetrac-mirror/commit/21d6aa514a5b918ebfa5c1ff1b91ccd63fa33f2d)\" to \"\".",
    "created_at": "2019-08-21T20:17:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28342",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28342#issuecomment-551102",
    "user": "https://github.com/dimpase"
}
```


**Changing commit** from "[21d6aa514a5b918ebfa5c1ff1b91ccd63fa33f2d](https://github.com/sagemath/sagetrac-mirror/commit/21d6aa514a5b918ebfa5c1ff1b91ccd63fa33f2d)" to "".
