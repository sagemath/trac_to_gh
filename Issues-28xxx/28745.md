# Issue 28745: Add SAGE_ROOT/environment.yml for "conda env create -f".

archive/issues_028508.json:
```json
{
    "assignees": [],
    "body": "These files describes the conda environment (conda package dependencies):\n\n`environment.yml` - describes conda packages that are useful for installing sage.\n\nThis would be a more idiomatic alternative to the `conda install` line that is shown at the end of `./configure`\n\nIn combination with the `spkg-configure` mechanism, this will speed up installation of Sage, in particular for users stuck on outdated OS distributions.\n\nOpen:\n- use [GitLab](../wiki/GitLab) CI to actually check that sage builds with `environment.yml`\n- scripts to support keeping package versions in sync between `environment.yml`, sage-the-distribution (`build/pkgs`), and conda-forge packaging (https://github.com/conda-forge/sage-feedstock/tree/master/recipe, https://github.com/conda-forge/sagelib-feedstock/tree/master/recipe)\n\nSee also:\n- #28752 for a more ambitious conda ticket\n- #26668 Add documentation for implementing spkg-configure.m4 for SPKGs\n- #27330 Try to use as many system packages as possible\n\nDepends on #30839\nDepends on #30719\nDepends on #30611\n\nCC:  @isuruf @saraedum @dimpase @embray\n\nKeywords: **conda**\n\nBranch/Commit: **[736e006](https://github.com/sagemath/sagetrac-mirror/commit/736e0064359a37b51f2e9421d54fd655b3b295a5)**\n\nReviewer: **Matthias Koeppe**\n\nAuthor: **Isuru Fernando**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/28745_\n\n",
    "closed_at": "2020-11-29T11:57:38Z",
    "created_at": "2019-11-16T18:07:53Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20build",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add SAGE_ROOT/environment.yml for \"conda env create -f\".",
    "type": "issue",
    "updated_at": "2020-11-29T11:57:38Z",
    "url": "https://github.com/sagemath/sage/issues/28745",
    "user": "https://github.com/mkoeppe"
}
```
These files describes the conda environment (conda package dependencies):

`environment.yml` - describes conda packages that are useful for installing sage.

This would be a more idiomatic alternative to the `conda install` line that is shown at the end of `./configure`

In combination with the `spkg-configure` mechanism, this will speed up installation of Sage, in particular for users stuck on outdated OS distributions.

Open:
- use [GitLab](../wiki/GitLab) CI to actually check that sage builds with `environment.yml`
- scripts to support keeping package versions in sync between `environment.yml`, sage-the-distribution (`build/pkgs`), and conda-forge packaging (https://github.com/conda-forge/sage-feedstock/tree/master/recipe, https://github.com/conda-forge/sagelib-feedstock/tree/master/recipe)

See also:
- #28752 for a more ambitious conda ticket
- #26668 Add documentation for implementing spkg-configure.m4 for SPKGs
- #27330 Try to use as many system packages as possible

Depends on #30839
Depends on #30719
Depends on #30611

CC:  @isuruf @saraedum @dimpase @embray

Keywords: **conda**

Branch/Commit: **[736e006](https://github.com/sagemath/sagetrac-mirror/commit/736e0064359a37b51f2e9421d54fd655b3b295a5)**

Reviewer: **Matthias Koeppe**

Author: **Isuru Fernando**

_Issue created by migration from https://trac.sagemath.org/ticket/28745_





---

archive/issue_events_376559.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-11-16T18:07:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "milestone_number": null,
    "milestone_title": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376559"
}
```



---

archive/issue_events_376560.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-11-16T18:07:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20build",
    "label_color": "000080",
    "label_name": "component: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376560"
}
```



---

archive/issue_events_376561.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-11-16T18:07:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376561"
}
```



---

archive/issue_events_376562.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-11-16T18:07:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376562"
}
```



---

archive/issue_comments_451277.json:
```json
{
    "body": "Branch: **[u/mkoeppe/worktree-sagelib-conda](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/worktree-sagelib-conda)**",
    "created_at": "2019-11-17T19:19:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451277",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/worktree-sagelib-conda](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/worktree-sagelib-conda)**



---

archive/issue_comments_451278.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf6e48a20cc28a0649eefac1998199a12644d413\">cf6e48a</a></td><td><code>First version of environment.yml for conda</code></td></tr></table>\n",
    "created_at": "2019-11-17T19:22:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451278",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2" align="right">Comment 2</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf6e48a20cc28a0649eefac1998199a12644d413">cf6e48a</a></td><td><code>First version of environment.yml for conda</code></td></tr></table>




---

archive/issue_comments_451279.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2019-11-17T19:22:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451279",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_451280.json:
```json
{
    "body": "Commit: **[cf6e48a](https://github.com/sagemath/sagetrac-mirror/commit/cf6e48a20cc28a0649eefac1998199a12644d413)**",
    "created_at": "2019-11-17T19:22:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451280",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[cf6e48a](https://github.com/sagemath/sagetrac-mirror/commit/cf6e48a20cc28a0649eefac1998199a12644d413)**



---

archive/issue_comments_451281.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-These file describes the conda environment (conda package dependencies):\n+These files describes the conda environment (conda package dependencies):\n \n `src/environment.yml` - describes packages needed for doing sagelib development. \n \n``````\n",
    "created_at": "2019-11-17T19:22:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451281",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-These file describes the conda environment (conda package dependencies):
+These files describes the conda environment (conda package dependencies):
 
 `src/environment.yml` - describes packages needed for doing sagelib development. 
 
``````




---

archive/issue_comments_451282.json:
```json
{
    "body": "Changed keywords from none to **conda**",
    "created_at": "2019-11-17T19:22:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451282",
    "user": "https://github.com/mkoeppe"
}
```

Changed keywords from none to **conda**



---

archive/issue_comments_451283.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nmkoeppe: I can only see one file in the diff here on trac. Did you forget to add the other?",
    "created_at": "2019-11-17T20:43:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451283",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:3" align="right">Comment 3</div>

mkoeppe: I can only see one file in the diff here on trac. Did you forget to add the other?



---

archive/issue_comments_451284.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nThis is how far I got!",
    "created_at": "2019-11-17T20:44:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451284",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:4" align="right">Comment 4</div>

This is how far I got!



---

archive/issue_comments_451285.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nAny help and discussion is welcome.",
    "created_at": "2019-11-17T20:45:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451285",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">Comment 5</div>

Any help and discussion is welcome.



---

archive/issue_comments_451286.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nFirst of all, I think it's great to explore ways to provide an *alternative* to the SPKG system. I have been wanting to use conda for this for a long time.\n\nI have not used conda-debug a lot but I think a combination of `conda debug [sagelib-recipe]`, `conda install sage`, `conda remove sagelib --force` should essentially do the right thing here as well.\n\nA proper `environment.yml` file, as you propose, probably makes more sense though. For me the question is how we can make sure that it is kept up to date. We might want to use [GitLab](../wiki/GitLab) CI to actually check that sagelib builds with that environment.yml.\n\nIn the long run, it would be great if doctests passed, see https://github.com/conda-forge/sagelib-feedstock/issues/19.",
    "created_at": "2019-11-17T21:00:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451286",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:6" align="right">Comment 6</div>

First of all, I think it's great to explore ways to provide an *alternative* to the SPKG system. I have been wanting to use conda for this for a long time.

I have not used conda-debug a lot but I think a combination of `conda debug [sagelib-recipe]`, `conda install sage`, `conda remove sagelib --force` should essentially do the right thing here as well.

A proper `environment.yml` file, as you propose, probably makes more sense though. For me the question is how we can make sure that it is kept up to date. We might want to use [GitLab](../wiki/GitLab) CI to actually check that sagelib builds with that environment.yml.

In the long run, it would be great if doctests passed, see https://github.com/conda-forge/sagelib-feedstock/issues/19.



---

archive/issue_comments_451287.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nI am not sure I understand your intentions for the sage-the-distribution environment.yml. What would the workflow look like? Install that environment.yml, then force-uninstall the package that I want to work on? How would the SPKG system know which packages it needs to build now?",
    "created_at": "2019-11-17T21:04:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451287",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:7" align="right">Comment 7</div>

I am not sure I understand your intentions for the sage-the-distribution environment.yml. What would the workflow look like? Install that environment.yml, then force-uninstall the package that I want to work on? How would the SPKG system know which packages it needs to build now?



---

archive/issue_comments_451288.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nReplying to [@saraedum](#comment%3A7):\n> I am not sure I understand your intentions for the sage-the-distribution environment.yml. What would the workflow look like? Install that environment.yml, then force-uninstall the package that I want to work on? How would the SPKG system know which packages it needs to build now?\n\nThrough the spkg-configure mechanism that was introduced recently, sage-the-distribution decides whether to install its own version of the package; but this can be overridden using `configure` options such as `--with-system-glpk=force`. (Here \"system\", of course, from the viewpoint of sage, includes the conda packages.) Sage developers could use the conda environment to avoid compiling many packages by default, but still work on and install sage-the-distribution packages that override the packages provided by conda.",
    "created_at": "2019-11-17T21:14:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451288",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">Comment 8</div>

Replying to [@saraedum](#comment%3A7):
> I am not sure I understand your intentions for the sage-the-distribution environment.yml. What would the workflow look like? Install that environment.yml, then force-uninstall the package that I want to work on? How would the SPKG system know which packages it needs to build now?

Through the spkg-configure mechanism that was introduced recently, sage-the-distribution decides whether to install its own version of the package; but this can be overridden using `configure` options such as `--with-system-glpk=force`. (Here "system", of course, from the viewpoint of sage, includes the conda packages.) Sage developers could use the conda environment to avoid compiling many packages by default, but still work on and install sage-the-distribution packages that override the packages provided by conda.



---

archive/issue_comments_451289.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nReplying to [@saraedum](#comment%3A6):\n> We might want to use [GitLab](../wiki/GitLab) CI to actually check that sagelib builds with that environment.yml.\n\n+1",
    "created_at": "2019-11-17T21:15:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451289",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9" align="right">Comment 9</div>

Replying to [@saraedum](#comment%3A6):
> We might want to use [GitLab](../wiki/GitLab) CI to actually check that sagelib builds with that environment.yml.

+1



---

archive/issue_comments_451290.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nSo, to make this actually useful, we'd need the corresponding configure flags to use \"system\" for everything that is in environment.yml as well, right?",
    "created_at": "2019-11-17T21:26:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451290",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:10" align="right">Comment 10</div>

So, to make this actually useful, we'd need the corresponding configure flags to use "system" for everything that is in environment.yml as well, right?



---

archive/issue_comments_451291.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nBut maybe we should split this into two tickets. One to do the sagelib environment.yml, and then this one to do the more complicated sage-the-distribution environment.yml.",
    "created_at": "2019-11-17T21:32:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451291",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:11" align="right">Comment 11</div>

But maybe we should split this into two tickets. One to do the sagelib environment.yml, and then this one to do the more complicated sage-the-distribution environment.yml.



---

archive/issue_comments_451292.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,7 @@\n These files describes the conda environment (conda package dependencies):\n \n-`src/environment.yml` - describes packages needed for doing sagelib development. \n+`environment.yml` - describes conda packages that are useful for installing sage.\n \n-`environment.yml` - describes packages for sage-the-distribution development. In addition to `src/environment.yml`, this would include packages such as `automake`.\n+In combination with the `spkg-configure` mechanism, this will speed up installation of Sage, in particular for users stuck on outdated OS distributions.\n \n \n-\n``````\n",
    "created_at": "2019-11-17T21:39:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451292",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,7 @@
 These files describes the conda environment (conda package dependencies):
 
-`src/environment.yml` - describes packages needed for doing sagelib development. 
+`environment.yml` - describes conda packages that are useful for installing sage.
 
-`environment.yml` - describes packages for sage-the-distribution development. In addition to `src/environment.yml`, this would include packages such as `automake`.
+In combination with the `spkg-configure` mechanism, this will speed up installation of Sage, in particular for users stuck on outdated OS distributions.
 
 
-
``````




---

archive/issue_events_376563.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-11-17T21:39:02Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "title_is": "Add SAGE_ROOT/environment.yml for \"conda env create -f\".",
    "title_was": "Add environment.yml and src/environment.yml for \"conda env create -f\".",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376563"
}
```



---

archive/issue_comments_451293.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nReplying to [@saraedum](#comment%3A10):\n> So, to make this actually useful, we'd need the corresponding configure flags to use \"system\" for everything that is in environment.yml as well, right?\n\nNo, the default is already to use the \"system\" package when it is available and deemed suitable by the configure test.\nIt can be changed to using the sage distribution's package by using `configure --with-system-glpk=no`.",
    "created_at": "2019-11-17T21:41:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451293",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:13" align="right">Comment 13</div>

Replying to [@saraedum](#comment%3A10):
> So, to make this actually useful, we'd need the corresponding configure flags to use "system" for everything that is in environment.yml as well, right?

No, the default is already to use the "system" package when it is available and deemed suitable by the configure test.
It can be changed to using the sage distribution's package by using `configure --with-system-glpk=no`.



---

archive/issue_comments_451294.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nReplying to [@saraedum](#comment%3A11):\n> But maybe we should split this into two tickets. One to do the sagelib environment.yml, and then this one to do the more complicated sage-the-distribution environment.yml.\n\nGood idea. I have created #28752 for that and have narrowed down the present ticket.",
    "created_at": "2019-11-17T21:42:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451294",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">Comment 14</div>

Replying to [@saraedum](#comment%3A11):
> But maybe we should split this into two tickets. One to do the sagelib environment.yml, and then this one to do the more complicated sage-the-distribution environment.yml.

Good idea. I have created #28752 for that and have narrowed down the present ticket.



---

archive/issue_comments_451295.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,3 +5,4 @@\n In combination with the `spkg-configure` mechanism, this will speed up installation of Sage, in particular for users stuck on outdated OS distributions.\n \n \n+(See #28752 for a more ambitious conda ticket.)\n``````\n",
    "created_at": "2019-11-17T21:42:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451295",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,3 +5,4 @@
 In combination with the `spkg-configure` mechanism, this will speed up installation of Sage, in particular for users stuck on outdated OS distributions.
 
 
+(See #28752 for a more ambitious conda ticket.)
``````




---

archive/issue_comments_451296.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nReplying to [@mkoeppe](#comment%3A14):\n> Replying to [@saraedum](#comment%3A11):\n> > But maybe we should split this into two tickets. One to do the sagelib environment.yml, and then this one to do the more complicated sage-the-distribution environment.yml.\n\n> Good idea. I have created #28752 for that and have narrowed down the present ticket.\n\n(Actually, the sagelib one is more complicated - see #28752!)",
    "created_at": "2019-11-17T21:46:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451296",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:16" align="right">Comment 16</div>

Replying to [@mkoeppe](#comment%3A14):
> Replying to [@saraedum](#comment%3A11):
> > But maybe we should split this into two tickets. One to do the sagelib environment.yml, and then this one to do the more complicated sage-the-distribution environment.yml.

> Good idea. I have created #28752 for that and have narrowed down the present ticket.

(Actually, the sagelib one is more complicated - see #28752!)



---

archive/issue_comments_451297.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e95cabb1cc2b40a8348a1044b7c3cd820a2e82f\">3e95cab</a></td><td><code>environment.yml: Add patch, ninja</code></td></tr></table>\n",
    "created_at": "2019-11-18T15:01:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451297",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17" align="right">Comment 17</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e95cabb1cc2b40a8348a1044b7c3cd820a2e82f">3e95cab</a></td><td><code>environment.yml: Add patch, ninja</code></td></tr></table>




---

archive/issue_comments_451298.json:
```json
{
    "body": "Changed commit from **[cf6e48a](https://github.com/sagemath/sagetrac-mirror/commit/cf6e48a20cc28a0649eefac1998199a12644d413)** to **[3e95cab](https://github.com/sagemath/sagetrac-mirror/commit/3e95cabb1cc2b40a8348a1044b7c3cd820a2e82f)**",
    "created_at": "2019-11-18T15:01:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451298",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[cf6e48a](https://github.com/sagemath/sagetrac-mirror/commit/cf6e48a20cc28a0649eefac1998199a12644d413)** to **[3e95cab](https://github.com/sagemath/sagetrac-mirror/commit/3e95cabb1cc2b40a8348a1044b7c3cd820a2e82f)**



---

archive/issue_comments_451299.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nThis works reasonably well already (this is on macOS Mojave, with current miniconda 3). \nI had the problem that `automake` and `aclocal` installed by conda segfault, so I bootstrapped Sage using the homebrew binaries.\nThen, running `configure`, most packages that have `spkg-configure` scripts recognize the installed conda packages, with the following exceptions:\n\n```\nSAGE_SPKG_CONFIGURE_PERL_TERM_READLINE_GNU\nSAGE_SPKG_CONFIGURE_PARI_SEADATA_SMALL\nSAGE_SPKG_CONFIGURE_GF2X\nSAGE_SPKG_CONFIGURE_LIBSEMIGROUPS\nSAGE_SPKG_CONFIGURE_PATCH\nSAGE_SPKG_CONFIGURE_ISL\nSAGE_SPKG_CONFIGURE_PARI*\nSAGE_SPKG_CONFIGURE_ECLIB\nSAGE_SPKG_CONFIGURE_LCALC\n```\nThen, a parallel `make` succesfully compiled 135 packages but got stuck on `ecl-16.1.2.p5`, `openblas-0.3.6.p0`, and `tachyon-0.98.9.p7`.",
    "created_at": "2019-11-18T15:10:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451299",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:18" align="right">Comment 18</div>

This works reasonably well already (this is on macOS Mojave, with current miniconda 3). 
I had the problem that `automake` and `aclocal` installed by conda segfault, so I bootstrapped Sage using the homebrew binaries.
Then, running `configure`, most packages that have `spkg-configure` scripts recognize the installed conda packages, with the following exceptions:

```
SAGE_SPKG_CONFIGURE_PERL_TERM_READLINE_GNU
SAGE_SPKG_CONFIGURE_PARI_SEADATA_SMALL
SAGE_SPKG_CONFIGURE_GF2X
SAGE_SPKG_CONFIGURE_LIBSEMIGROUPS
SAGE_SPKG_CONFIGURE_PATCH
SAGE_SPKG_CONFIGURE_ISL
SAGE_SPKG_CONFIGURE_PARI*
SAGE_SPKG_CONFIGURE_ECLIB
SAGE_SPKG_CONFIGURE_LCALC
```
Then, a parallel `make` succesfully compiled 135 packages but got stuck on `ecl-16.1.2.p5`, `openblas-0.3.6.p0`, and `tachyon-0.98.9.p7`.



---

archive/issue_comments_451300.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,5 +4,8 @@\n \n In combination with the `spkg-configure` mechanism, this will speed up installation of Sage, in particular for users stuck on outdated OS distributions.\n \n+Open:\n+- use [GitLab](../wiki/GitLab) CI to actually check that sage builds with `environment.yml`\n+- scripts to support keeping package versions in sync between `environment.yml`, sage-the-distribution (`build/pkgs`), and conda-forge packaging (https://github.com/conda-forge/sage-feedstock/tree/master/recipe, https://github.com/conda-forge/sagelib-feedstock/tree/master/recipe)\n \n (See #28752 for a more ambitious conda ticket.)\n``````\n",
    "created_at": "2019-11-18T15:15:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451300",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,5 +4,8 @@
 
 In combination with the `spkg-configure` mechanism, this will speed up installation of Sage, in particular for users stuck on outdated OS distributions.
 
+Open:
+- use [GitLab](../wiki/GitLab) CI to actually check that sage builds with `environment.yml`
+- scripts to support keeping package versions in sync between `environment.yml`, sage-the-distribution (`build/pkgs`), and conda-forge packaging (https://github.com/conda-forge/sage-feedstock/tree/master/recipe, https://github.com/conda-forge/sagelib-feedstock/tree/master/recipe)
 
 (See #28752 for a more ambitious conda ticket.)
``````




---

archive/issue_comments_451301.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,4 +8,6 @@\n - use [GitLab](../wiki/GitLab) CI to actually check that sage builds with `environment.yml`\n - scripts to support keeping package versions in sync between `environment.yml`, sage-the-distribution (`build/pkgs`), and conda-forge packaging (https://github.com/conda-forge/sage-feedstock/tree/master/recipe, https://github.com/conda-forge/sagelib-feedstock/tree/master/recipe)\n \n-(See #28752 for a more ambitious conda ticket.)\n+See also:\n+- #28752 for a more ambitious conda ticket\n+- #26668 Add documentation for implementing spkg-configure.m4 for SPKGs\n``````\n",
    "created_at": "2019-11-18T15:20:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451301",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,4 +8,6 @@
 - use [GitLab](../wiki/GitLab) CI to actually check that sage builds with `environment.yml`
 - scripts to support keeping package versions in sync between `environment.yml`, sage-the-distribution (`build/pkgs`), and conda-forge packaging (https://github.com/conda-forge/sage-feedstock/tree/master/recipe, https://github.com/conda-forge/sagelib-feedstock/tree/master/recipe)
 
-(See #28752 for a more ambitious conda ticket.)
+See also:
+- #28752 for a more ambitious conda ticket
+- #26668 Add documentation for implementing spkg-configure.m4 for SPKGs
``````




---

archive/issue_comments_451302.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nFor pari, you need to install `pari-nftables` as well. Can you post the config.log so that we can debug why the other packages are not picked up?\n\nBtw, since this ticket focuses on spkg-configure, shouldn't the packages installed be limited to the ones with an spkg-configure?",
    "created_at": "2019-11-18T15:26:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451302",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:21" align="right">Comment 21</div>

For pari, you need to install `pari-nftables` as well. Can you post the config.log so that we can debug why the other packages are not picked up?

Btw, since this ticket focuses on spkg-configure, shouldn't the packages installed be limited to the ones with an spkg-configure?



---

archive/issue_comments_451303.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,3 +11,4 @@\n See also:\n - #28752 for a more ambitious conda ticket\n - #26668 Add documentation for implementing spkg-configure.m4 for SPKGs\n+- #27330 Try to use as many system packages as possible\n``````\n",
    "created_at": "2019-11-18T16:15:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451303",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,3 +11,4 @@
 See also:
 - #28752 for a more ambitious conda ticket
 - #26668 Add documentation for implementing spkg-configure.m4 for SPKGs
+- #27330 Try to use as many system packages as possible
``````




---

archive/issue_comments_451304.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nReplying to [@isuruf](#comment%3A21):\n> since this ticket focuses on spkg-configure, shouldn't the packages installed be limited to the ones with an spkg-configure?\n\nGood point.",
    "created_at": "2019-11-18T17:32:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451304",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:23" align="right">Comment 23</div>

Replying to [@isuruf](#comment%3A21):
> since this ticket focuses on spkg-configure, shouldn't the packages installed be limited to the ones with an spkg-configure?

Good point.



---

archive/issue_comments_451305.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nmkoeppe, I think your environment.yml missed the pins from https://github.com/conda-forge/conda-forge-pinning-feedstock/blob/master/recipe/conda_build_config.yaml. I am adding them now.",
    "created_at": "2019-11-21T21:31:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451305",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:24" align="right">Comment 24</div>

mkoeppe, I think your environment.yml missed the pins from https://github.com/conda-forge/conda-forge-pinning-feedstock/blob/master/recipe/conda_build_config.yaml. I am adding them now.



---

archive/issue_comments_451306.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/worktree-sagelib-conda](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/worktree-sagelib-conda)** to **[u/saraedum/worktree-sagelib-conda](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/worktree-sagelib-conda)**",
    "created_at": "2019-11-21T22:42:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451306",
    "user": "https://github.com/saraedum"
}
```

Changed branch from **[u/mkoeppe/worktree-sagelib-conda](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/worktree-sagelib-conda)** to **[u/saraedum/worktree-sagelib-conda](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/worktree-sagelib-conda)**



---

archive/issue_comments_451307.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nmkoeppe, I update the environment yml. The only ones that don't work for me now are:\n\n* perl_term_readline_gnu\n* gp2c (from PARI)\n\nisuruf: are they packaged somewhere on conda-forge?\n\nAlso I have to rely on the system's pkgconf. Do we have pkgconf in conda-forge?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/00745e16215a507488438f806627448e49e7d08d\">00745e1</a></td><td><code>Merge remote-tracking branch 'origin/develop' into u/mkoeppe/worktree-sagelib-conda</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3c693d030e910845c20f841fb154d89975856907\">3c693d0</a></td><td><code>environment.yml that mostly passes ./configure</code></td></tr></table>\n",
    "created_at": "2019-11-21T22:44:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451307",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:26" align="right">Comment 26</div>

mkoeppe, I update the environment yml. The only ones that don't work for me now are:

* perl_term_readline_gnu
* gp2c (from PARI)

isuruf: are they packaged somewhere on conda-forge?

Also I have to rely on the system's pkgconf. Do we have pkgconf in conda-forge?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/00745e16215a507488438f806627448e49e7d08d">00745e1</a></td><td><code>Merge remote-tracking branch 'origin/develop' into u/mkoeppe/worktree-sagelib-conda</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3c693d030e910845c20f841fb154d89975856907">3c693d0</a></td><td><code>environment.yml that mostly passes ./configure</code></td></tr></table>




---

archive/issue_comments_451308.json:
```json
{
    "body": "Changed commit from **[3e95cab](https://github.com/sagemath/sagetrac-mirror/commit/3e95cabb1cc2b40a8348a1044b7c3cd820a2e82f)** to **[3c693d0](https://github.com/sagemath/sagetrac-mirror/commit/3c693d030e910845c20f841fb154d89975856907)**",
    "created_at": "2019-11-21T22:44:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451308",
    "user": "https://github.com/saraedum"
}
```

Changed commit from **[3e95cab](https://github.com/sagemath/sagetrac-mirror/commit/3e95cabb1cc2b40a8348a1044b7c3cd820a2e82f)** to **[3c693d0](https://github.com/sagemath/sagetrac-mirror/commit/3c693d030e910845c20f841fb154d89975856907)**



---

archive/issue_comments_451309.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nI'm building sage now with this environment.yml. Let's see how far I get\u2026",
    "created_at": "2019-11-21T22:45:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451309",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:27" align="right">Comment 27</div>

I'm building sage now with this environment.yml. Let's see how far I get…



---

archive/issue_comments_451310.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nThanks a lot, this is looking great.\n\nAs for `perl_term_readline_gnu`, as far as I understand, conda-forge packages `perl` and `perl-app-cpanminus` but not individual CPAN packages, and one is expected to install any packages using `cpanminus`.",
    "created_at": "2019-11-21T22:51:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451310",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:28" align="right">Comment 28</div>

Thanks a lot, this is looking great.

As for `perl_term_readline_gnu`, as far as I understand, conda-forge packages `perl` and `perl-app-cpanminus` but not individual CPAN packages, and one is expected to install any packages using `cpanminus`.



---

archive/issue_comments_451311.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\n`perl_term_readline_gnu` and `gp2c` are not packaged. `pkgconf` is in conda-forge as `pkg-config`",
    "created_at": "2019-11-21T22:51:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451311",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:29" align="right">Comment 29</div>

`perl_term_readline_gnu` and `gp2c` are not packaged. `pkgconf` is in conda-forge as `pkg-config`



---

archive/issue_comments_451312.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nIf you are on Debian or Ubuntu, you need to fix #28533",
    "created_at": "2019-11-21T22:56:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451312",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:30" align="right">Comment 30</div>

If you are on Debian or Ubuntu, you need to fix #28533



---

archive/issue_comments_451313.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nReplying to [@isuruf](#comment%3A29):\n`pkgconf` is in conda-forge as `pkg-config`\n\nIs this really the same thing? There's at least no pkgconf binary in pkg-config. And judging from my ArchLinux's pkgconf and conda-forge's pkg-config --help, these seem to be two different things.",
    "created_at": "2019-11-21T22:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451313",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:31" align="right">Comment 31</div>

Replying to [@isuruf](#comment%3A29):
`pkgconf` is in conda-forge as `pkg-config`

Is this really the same thing? There's at least no pkgconf binary in pkg-config. And judging from my ArchLinux's pkgconf and conda-forge's pkg-config --help, these seem to be two different things.



---

archive/issue_comments_451314.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nReplying to [@saraedum](#comment%3A27):\n> I'm building sage now with this environment.yml. Let's see how far I get\u2026\n\npkgconf and tachyon failed to build.",
    "created_at": "2019-11-21T22:59:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451314",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:32" align="right">Comment 32</div>

Replying to [@saraedum](#comment%3A27):
> I'm building sage now with this environment.yml. Let's see how far I get…

pkgconf and tachyon failed to build.



---

archive/issue_comments_451315.json:
```json
{
    "body": "Dependencies: **#28533**",
    "created_at": "2019-11-21T22:59:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451315",
    "user": "https://github.com/saraedum"
}
```

Dependencies: **#28533**



---

archive/issue_comments_451316.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\nSageMath sets the following for tachyon:\n\n```\n+PNGINC= -I$(SAGE_LOCAL)/include\n+PNGLIB= -L$(SAGE_LOCAL)/lib -lpng -lz\n```\n\nReporting to #27186 where the m4 script for libpng was added.",
    "created_at": "2019-11-21T23:11:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451316",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:33" align="right">Comment 33</div>

SageMath sets the following for tachyon:

```
+PNGINC= -I$(SAGE_LOCAL)/include
+PNGLIB= -L$(SAGE_LOCAL)/lib -lpng -lz
```

Reporting to #27186 where the m4 script for libpng was added.



---

archive/issue_comments_451317.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\nTachyon's build is very confusing. It appears that they are ignoring the environment's CFLAGS.",
    "created_at": "2019-11-21T23:13:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451317",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:34" align="right">Comment 34</div>

Tachyon's build is very confusing. It appears that they are ignoring the environment's CFLAGS.



---

archive/issue_comments_451318.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nReplying to [@saraedum](#comment%3A31):\n> Replying to [@isuruf](#comment%3A29):\n> `pkgconf` is in conda-forge as `pkg-config`\n> \n> Is this really the same thing? There's at least no pkgconf binary in pkg-config. And judging from my ArchLinux's pkgconf and conda-forge's pkg-config --help, these seem to be two different things.\n\nThat's fine. They both do the same thing. https://github.com/pkgconf/pkgconf#compatibility-with-pkg-config",
    "created_at": "2019-11-21T23:16:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451318",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:35" align="right">Comment 35</div>

Replying to [@saraedum](#comment%3A31):
> Replying to [@isuruf](#comment%3A29):
> `pkgconf` is in conda-forge as `pkg-config`
> 
> Is this really the same thing? There's at least no pkgconf binary in pkg-config. And judging from my ArchLinux's pkgconf and conda-forge's pkg-config --help, these seem to be two different things.

That's fine. They both do the same thing. https://github.com/pkgconf/pkgconf#compatibility-with-pkg-config



---

archive/issue_comments_451319.json:
```json
{
    "body": "Changed commit from **[3c693d0](https://github.com/sagemath/sagetrac-mirror/commit/3c693d030e910845c20f841fb154d89975856907)** to **[a6c2443](https://github.com/sagemath/sagetrac-mirror/commit/a6c2443634af755d840ebf2920d5f556a5f24f84)**",
    "created_at": "2019-11-21T23:34:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451319",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3c693d0](https://github.com/sagemath/sagetrac-mirror/commit/3c693d030e910845c20f841fb154d89975856907)** to **[a6c2443](https://github.com/sagemath/sagetrac-mirror/commit/a6c2443634af755d840ebf2920d5f556a5f24f84)**



---

archive/issue_comments_451320.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a6c2443634af755d840ebf2920d5f556a5f24f84\">a6c2443</a></td><td><code>use conda-forge's pkg-config</code></td></tr></table>\n",
    "created_at": "2019-11-21T23:34:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451320",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36" align="right">Comment 36</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a6c2443634af755d840ebf2920d5f556a5f24f84">a6c2443</a></td><td><code>use conda-forge's pkg-config</code></td></tr></table>




---

archive/issue_comments_451321.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\nReplying to [@mkoeppe](#comment%3A28):\n> but not individual CPAN packages\n\nIt's just that they haven't been package yet. If there's anybody who is interested in helping out, they can be packaged.",
    "created_at": "2019-11-22T06:09:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451321",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:37" align="right">Comment 37</div>

Replying to [@mkoeppe](#comment%3A28):
> but not individual CPAN packages

It's just that they haven't been package yet. If there's anybody who is interested in helping out, they can be packaged.



---

archive/issue_comments_451322.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">Comment 38</div>\n\nWe can add `openblas, cliquer, r-base` to the list now.",
    "created_at": "2019-12-20T00:26:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451322",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:38" align="right">Comment 38</div>

We can add `openblas, cliquer, r-base` to the list now.



---

archive/issue_comments_451323.json:
```json
{
    "body": "Changed branch from **[u/saraedum/worktree-sagelib-conda](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/worktree-sagelib-conda)** to **[u/isuruf/worktree-sagelib-conda](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/worktree-sagelib-conda)**",
    "created_at": "2019-12-21T19:00:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451323",
    "user": "https://github.com/isuruf"
}
```

Changed branch from **[u/saraedum/worktree-sagelib-conda](https://github.com/sagemath/sagetrac-mirror/tree/u/saraedum/worktree-sagelib-conda)** to **[u/isuruf/worktree-sagelib-conda](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/worktree-sagelib-conda)**



---

archive/issue_comments_451324.json:
```json
{
    "body": "Changed commit from **[a6c2443](https://github.com/sagemath/sagetrac-mirror/commit/a6c2443634af755d840ebf2920d5f556a5f24f84)** to **[cfeb376](https://github.com/sagemath/sagetrac-mirror/commit/cfeb376377864c70721750a8584f237d6cf334fb)**",
    "created_at": "2019-12-21T19:00:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451324",
    "user": "https://github.com/isuruf"
}
```

Changed commit from **[a6c2443](https://github.com/sagemath/sagetrac-mirror/commit/a6c2443634af755d840ebf2920d5f556a5f24f84)** to **[cfeb376](https://github.com/sagemath/sagetrac-mirror/commit/cfeb376377864c70721750a8584f237d6cf334fb)**



---

archive/issue_comments_451325.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">Comment 39</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cfeb376377864c70721750a8584f237d6cf334fb\">cfeb376</a></td><td><code>Add configure deps and more packages</code></td></tr></table>\n",
    "created_at": "2019-12-21T19:00:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451325",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:39" align="right">Comment 39</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cfeb376377864c70721750a8584f237d6cf334fb">cfeb376</a></td><td><code>Add configure deps and more packages</code></td></tr></table>




---

archive/issue_comments_451326.json:
```json
{
    "body": "Changed commit from **[cfeb376](https://github.com/sagemath/sagetrac-mirror/commit/cfeb376377864c70721750a8584f237d6cf334fb)** to **[256e1f5](https://github.com/sagemath/sagetrac-mirror/commit/256e1f567629a3ab9eb22745def47ba2c8d75bf0)**",
    "created_at": "2019-12-21T19:03:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451326",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[cfeb376](https://github.com/sagemath/sagetrac-mirror/commit/cfeb376377864c70721750a8584f237d6cf334fb)** to **[256e1f5](https://github.com/sagemath/sagetrac-mirror/commit/256e1f567629a3ab9eb22745def47ba2c8d75bf0)**



---

archive/issue_comments_451327.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">Comment 40</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/256e1f567629a3ab9eb22745def47ba2c8d75bf0\">256e1f5</a></td><td><code>Need blas-devel for cblas.so symlinks</code></td></tr></table>\n",
    "created_at": "2019-12-21T19:03:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451327",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40" align="right">Comment 40</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/256e1f567629a3ab9eb22745def47ba2c8d75bf0">256e1f5</a></td><td><code>Need blas-devel for cblas.so symlinks</code></td></tr></table>




---

archive/issue_comments_451328.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">Comment 41</div>\n\nThe latter doesn't work for me:\n\n```\n$ conda env create -n sage -f environment.yml\nCollecting package metadata (repodata.json): done\nSolving environment: failed\n\nResolvePackageNotFound: \n  - blas-devel[build=*openblas]\n```",
    "created_at": "2019-12-22T03:04:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451328",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:41" align="right">Comment 41</div>

The latter doesn't work for me:

```
$ conda env create -n sage -f environment.yml
Collecting package metadata (repodata.json): done
Solving environment: failed

ResolvePackageNotFound: 
  - blas-devel[build=*openblas]
```



---

archive/issue_events_376564.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-12-25T16:23:07Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "milestone_number": null,
    "milestone_title": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376564"
}
```



---

archive/issue_events_376565.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2019-12-25T16:23:07Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376565"
}
```



---

archive/issue_comments_451329.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">Comment 43</div>\n\nReplying to [@dimpase](#comment%3A41):\n> The latter doesn't work for me:\n> \n> ```\n> $ conda env create -n sage -f environment.yml\n> Collecting package metadata (repodata.json): done\n> Solving environment: failed\n> \n> ResolvePackageNotFound: \n>   - blas-devel[build=*openblas]\n> ```\n\nNeither for me.",
    "created_at": "2020-01-14T18:44:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451329",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:43" align="right">Comment 43</div>

Replying to [@dimpase](#comment%3A41):
> The latter doesn't work for me:
> 
> ```
> $ conda env create -n sage -f environment.yml
> Collecting package metadata (repodata.json): done
> Solving environment: failed
> 
> ResolvePackageNotFound: 
>   - blas-devel[build=*openblas]
> ```

Neither for me.



---

archive/issue_comments_451330.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">Comment 44</div>\n\nAfter removing this line, I get the following:\n\n```\n[python3-3.7.3.p1] /opt/conda/envs/sage/bin/x86_64-conda_cos6-linux-gnu-cc -pthread -shared -L/sage/local/lib -Wl,-rpath,/sage/local/lib -Wl,-O2 -Wl,--sort-common -Wl,--as-needed -Wl,-z,relro -Wl,-z,now -Wl,--disable-new-dtags -Wl,--gc-sections -Wl,-rpath,/opt/conda/envs/sage/lib -Wl,-rpath-link,/opt/conda/envs/sage/lib -L/opt/conda/envs/sage/lib -L. -L/sage/local/lib -Wl,-rpath,/sage/local/lib -Wl,-O2 -Wl,--sort-common -Wl,--as-needed -Wl,-z,relro -Wl,-z,now -Wl,--disable-new-dtags -Wl,--gc-sections -Wl,-rpath,/opt/conda/envs/sage/lib -Wl,-rpath-link,/opt/conda/envs/sage/lib -L/opt/conda/envs/sage/lib -L. -L/sage/local/lib -Wl,-rpath,/sage/local/lib -Wl,-O2 -Wl,--sort-common -Wl,--as-needed -Wl,-z,relro -Wl,-z,now -Wl,--disable-new-dtags -Wl,--gc-sections -Wl,-rpath,/opt/conda/envs/sage/lib -Wl,-rpath-link,/opt/conda/envs/sage/lib -L/opt/conda/envs/sage/lib -DNDEBUG -D_FORTIFY_SOURCE=2 -O2 -isystem /opt/conda/envs/sage/include build/temp.linux-x86_64-3.7/sage/local/var/tmp/sage/build/python3-3.7.3.p1/src/Modules/_ctypes/_ctypes.o build/temp.linux-x86_64-3.7/sage/local/var/tmp/sage/build/python3-3.7.3.p1/src/Modules/_ctypes/callbacks.o build/temp.linux-x86_64-3.7/sage/local/var/tmp/sage/build/python3-3.7.3.p1/src/Modules/_ctypes/callproc.o build/temp.linux-x86_64-3.7/sage/local/var/tmp/sage/build/python3-3.7.3.p1/src/Modules/_ctypes/stgdict.o build/temp.linux-x86_64-3.7/sage/local/var/tmp/sage/build/python3-3.7.3.p1/src/Modules/_ctypes/cfield.o -L. -L/sage/local/lib -L/opt/conda/envs/sage/lib -L/usr/local/lib -lffi -ldl -lpython3.7m -o build/lib.linux-x86_64-3.7/_ctypes.cpython-37m-x86_64-linux-gnu.so\n[python3-3.7.3.p1] *** WARNING: renaming \"_crypt\" since importing it failed: build/lib.linux-x86_64-3.7/_crypt.cpython-37m-x86_64-linux-gnu.so: undefined symbol: crypt_r\n...\n[python3-3.7.3.p1] hashlib module imported OK\n[python3-3.7.3.p1] Traceback (most recent call last):\n[python3-3.7.3.p1]   File \"<string>\", line 1, in <module>\n[python3-3.7.3.p1]   File \"/sage/local/var/tmp/sage/build/python3-3.7.3.p1/src/Lib/crypt.py\", line 3, in <module>\n[python3-3.7.3.p1]     import _crypt\n[python3-3.7.3.p1] ModuleNotFoundError: No module named '_crypt'\n[python3-3.7.3.p1] crypt module failed to import\n[python3-3.7.3.p1] readline module imported OK\n[python3-3.7.3.p1] socket module imported OK\n[python3-3.7.3.p1] Error: One or more modules failed to import.\n```\nThis is on a Debian docker image based on continuumio/miniconda3:latest - see attached",
    "created_at": "2020-01-14T19:42:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451330",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:44" align="right">Comment 44</div>

After removing this line, I get the following:

```
[python3-3.7.3.p1] /opt/conda/envs/sage/bin/x86_64-conda_cos6-linux-gnu-cc -pthread -shared -L/sage/local/lib -Wl,-rpath,/sage/local/lib -Wl,-O2 -Wl,--sort-common -Wl,--as-needed -Wl,-z,relro -Wl,-z,now -Wl,--disable-new-dtags -Wl,--gc-sections -Wl,-rpath,/opt/conda/envs/sage/lib -Wl,-rpath-link,/opt/conda/envs/sage/lib -L/opt/conda/envs/sage/lib -L. -L/sage/local/lib -Wl,-rpath,/sage/local/lib -Wl,-O2 -Wl,--sort-common -Wl,--as-needed -Wl,-z,relro -Wl,-z,now -Wl,--disable-new-dtags -Wl,--gc-sections -Wl,-rpath,/opt/conda/envs/sage/lib -Wl,-rpath-link,/opt/conda/envs/sage/lib -L/opt/conda/envs/sage/lib -L. -L/sage/local/lib -Wl,-rpath,/sage/local/lib -Wl,-O2 -Wl,--sort-common -Wl,--as-needed -Wl,-z,relro -Wl,-z,now -Wl,--disable-new-dtags -Wl,--gc-sections -Wl,-rpath,/opt/conda/envs/sage/lib -Wl,-rpath-link,/opt/conda/envs/sage/lib -L/opt/conda/envs/sage/lib -DNDEBUG -D_FORTIFY_SOURCE=2 -O2 -isystem /opt/conda/envs/sage/include build/temp.linux-x86_64-3.7/sage/local/var/tmp/sage/build/python3-3.7.3.p1/src/Modules/_ctypes/_ctypes.o build/temp.linux-x86_64-3.7/sage/local/var/tmp/sage/build/python3-3.7.3.p1/src/Modules/_ctypes/callbacks.o build/temp.linux-x86_64-3.7/sage/local/var/tmp/sage/build/python3-3.7.3.p1/src/Modules/_ctypes/callproc.o build/temp.linux-x86_64-3.7/sage/local/var/tmp/sage/build/python3-3.7.3.p1/src/Modules/_ctypes/stgdict.o build/temp.linux-x86_64-3.7/sage/local/var/tmp/sage/build/python3-3.7.3.p1/src/Modules/_ctypes/cfield.o -L. -L/sage/local/lib -L/opt/conda/envs/sage/lib -L/usr/local/lib -lffi -ldl -lpython3.7m -o build/lib.linux-x86_64-3.7/_ctypes.cpython-37m-x86_64-linux-gnu.so
[python3-3.7.3.p1] *** WARNING: renaming "_crypt" since importing it failed: build/lib.linux-x86_64-3.7/_crypt.cpython-37m-x86_64-linux-gnu.so: undefined symbol: crypt_r
...
[python3-3.7.3.p1] hashlib module imported OK
[python3-3.7.3.p1] Traceback (most recent call last):
[python3-3.7.3.p1]   File "<string>", line 1, in <module>
[python3-3.7.3.p1]   File "/sage/local/var/tmp/sage/build/python3-3.7.3.p1/src/Lib/crypt.py", line 3, in <module>
[python3-3.7.3.p1]     import _crypt
[python3-3.7.3.p1] ModuleNotFoundError: No module named '_crypt'
[python3-3.7.3.p1] crypt module failed to import
[python3-3.7.3.p1] readline module imported OK
[python3-3.7.3.p1] socket module imported OK
[python3-3.7.3.p1] Error: One or more modules failed to import.
```
This is on a Debian docker image based on continuumio/miniconda3:latest - see attached



---

archive/issue_comments_451331.json:
```json
{
    "body": "Attachment: **[Dockerfile-build-within-conda.gz](https://github.com/sagemath/sage/files/ticket28745/Dockerfile-build-within-conda.gz)**",
    "created_at": "2020-01-14T19:44:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451331",
    "user": "https://github.com/mkoeppe"
}
```

Attachment: **[Dockerfile-build-within-conda.gz](https://github.com/sagemath/sage/files/ticket28745/Dockerfile-build-within-conda.gz)**



---

archive/issue_comments_451332.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">Comment 45</div>\n\nI have created #29012 for this defect.",
    "created_at": "2020-01-14T20:53:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451332",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:45" align="right">Comment 45</div>

I have created #29012 for this defect.



---

archive/issue_comments_451333.json:
```json
{
    "body": "Changed branch from **[u/isuruf/worktree-sagelib-conda](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/worktree-sagelib-conda)** to **[u/mkoeppe/worktree-sagelib-conda](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/worktree-sagelib-conda)**",
    "created_at": "2020-01-20T02:59:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451333",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/isuruf/worktree-sagelib-conda](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/worktree-sagelib-conda)** to **[u/mkoeppe/worktree-sagelib-conda](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/worktree-sagelib-conda)**



---

archive/issue_comments_451334.json:
```json
{
    "body": "Changed commit from **[256e1f5](https://github.com/sagemath/sagetrac-mirror/commit/256e1f567629a3ab9eb22745def47ba2c8d75bf0)** to **[a511c83](https://github.com/sagemath/sagetrac-mirror/commit/a511c836012a4ba4e4870331b8cc426e47003b18)**",
    "created_at": "2020-01-22T17:37:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451334",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[256e1f5](https://github.com/sagemath/sagetrac-mirror/commit/256e1f567629a3ab9eb22745def47ba2c8d75bf0)** to **[a511c83](https://github.com/sagemath/sagetrac-mirror/commit/a511c836012a4ba4e4870331b8cc426e47003b18)**



---

archive/issue_comments_451335.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">Comment 47</div>\n\nWould it be a good idea to generate this file from information to be put in `build/pkgs/SPKG/conda-environment.txt` as in #29053? \n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c01f4f8e532d871e110aa3acdc5899e3d9794a0b\">c01f4f8</a></td><td><code>Merge tag '9.1.beta0' into t/28745/worktree-sagelib-conda</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a511c836012a4ba4e4870331b8cc426e47003b18\">a511c83</a></td><td><code>add openssl, remove blas-devel</code></td></tr></table>\n",
    "created_at": "2020-01-22T17:37:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451335",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:47" align="right">Comment 47</div>

Would it be a good idea to generate this file from information to be put in `build/pkgs/SPKG/conda-environment.txt` as in #29053? 

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c01f4f8e532d871e110aa3acdc5899e3d9794a0b">c01f4f8</a></td><td><code>Merge tag '9.1.beta0' into t/28745/worktree-sagelib-conda</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a511c836012a4ba4e4870331b8cc426e47003b18">a511c83</a></td><td><code>add openssl, remove blas-devel</code></td></tr></table>




---

archive/issue_comments_451336.json:
```json
{
    "body": "Changed dependencies from **#28533** to **#29053**",
    "created_at": "2020-01-27T16:36:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451336",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#28533** to **#29053**



---

archive/issue_comments_451337.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">Comment 49</div>\n\nIf one works around the python build failures of #29012 by using system python3 (#27824), several other errors show up:\n\nTestsuite of libatomic_ops:\n\n```\n  [libatomic_ops-7.6.2]   /bin/bash ../libtool  --tag=CC   --mode=link /opt/conda/bin/x86_64-conda_cos6-linux-gnu-cc  -Wall -Wextra -Wpedantic -Wno-long-long -O2 -g -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -ffunction-sections -pipe -isystem /opt/conda/include   -L/sage/local/lib -Wl,-rpath,/sage/local/lib -Wl,-O2 -Wl,--sort-common -Wl,--as-needed -Wl,-z,relro -Wl,-z,now -Wl,--disable-new-dtags -Wl,--gc-sections -Wl,-rpath,/opt/conda/lib -Wl,-rpath-link,/opt/conda/lib -L/opt/conda/lib -o test_malloc test_malloc.o -lpthread ../src/libatomic_ops_gpl.la ../src/libatomic_ops.la \n  [libatomic_ops-7.6.2]   libtool: link: /opt/conda/bin/x86_64-conda_cos6-linux-gnu-cc -Wall -Wextra -Wpedantic -Wno-long-long -O2 -g -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -ffunction-sections -pipe -isystem /opt/conda/include -Wl,-rpath -Wl,/sage/local/lib -Wl,-O2 -Wl,--sort-common -Wl,--as-needed -Wl,-z -Wl,relro -Wl,-z -Wl,now -Wl,--disable-new-dtags -Wl,--gc-sections -Wl,-rpath -Wl,/opt/conda/lib -Wl,-rpath-link -Wl,/opt/conda/lib -o test_malloc test_malloc.o  -L/sage/local/lib -L/opt/conda/lib -lpthread ../src/.libs/libatomic_ops_gpl.a /sage/local/var/tmp/sage/build/libatomic_ops-7.6.2/src/src/.libs/libatomic_ops.a ../src/.libs/libatomic_ops.a\n  [libatomic_ops-7.6.2]   /opt/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: ../src/.libs/libatomic_ops_gpl.a(atomic_ops_stack.o): in function `AO_double_compare_and_swap_release':\n  [libatomic_ops-7.6.2]   /sage/local/var/tmp/sage/build/libatomic_ops-7.6.2/src/src/atomic_ops/sysdeps/gcc/generic.h:219: undefined reference to `__atomic_compare_exchange_16'\n  [libatomic_ops-7.6.2]   collect2: error: ld returned 1 exit status\n  [libatomic_ops-7.6.2]   make[7]: *** [Makefile:634: test_malloc] Error 1\n```",
    "created_at": "2020-03-22T17:50:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451337",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:49" align="right">Comment 49</div>

If one works around the python build failures of #29012 by using system python3 (#27824), several other errors show up:

Testsuite of libatomic_ops:

```
  [libatomic_ops-7.6.2]   /bin/bash ../libtool  --tag=CC   --mode=link /opt/conda/bin/x86_64-conda_cos6-linux-gnu-cc  -Wall -Wextra -Wpedantic -Wno-long-long -O2 -g -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -ffunction-sections -pipe -isystem /opt/conda/include   -L/sage/local/lib -Wl,-rpath,/sage/local/lib -Wl,-O2 -Wl,--sort-common -Wl,--as-needed -Wl,-z,relro -Wl,-z,now -Wl,--disable-new-dtags -Wl,--gc-sections -Wl,-rpath,/opt/conda/lib -Wl,-rpath-link,/opt/conda/lib -L/opt/conda/lib -o test_malloc test_malloc.o -lpthread ../src/libatomic_ops_gpl.la ../src/libatomic_ops.la 
  [libatomic_ops-7.6.2]   libtool: link: /opt/conda/bin/x86_64-conda_cos6-linux-gnu-cc -Wall -Wextra -Wpedantic -Wno-long-long -O2 -g -march=nocona -mtune=haswell -ftree-vectorize -fPIC -fstack-protector-strong -fno-plt -O2 -ffunction-sections -pipe -isystem /opt/conda/include -Wl,-rpath -Wl,/sage/local/lib -Wl,-O2 -Wl,--sort-common -Wl,--as-needed -Wl,-z -Wl,relro -Wl,-z -Wl,now -Wl,--disable-new-dtags -Wl,--gc-sections -Wl,-rpath -Wl,/opt/conda/lib -Wl,-rpath-link -Wl,/opt/conda/lib -o test_malloc test_malloc.o  -L/sage/local/lib -L/opt/conda/lib -lpthread ../src/.libs/libatomic_ops_gpl.a /sage/local/var/tmp/sage/build/libatomic_ops-7.6.2/src/src/.libs/libatomic_ops.a ../src/.libs/libatomic_ops.a
  [libatomic_ops-7.6.2]   /opt/conda/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld: ../src/.libs/libatomic_ops_gpl.a(atomic_ops_stack.o): in function `AO_double_compare_and_swap_release':
  [libatomic_ops-7.6.2]   /sage/local/var/tmp/sage/build/libatomic_ops-7.6.2/src/src/atomic_ops/sysdeps/gcc/generic.h:219: undefined reference to `__atomic_compare_exchange_16'
  [libatomic_ops-7.6.2]   collect2: error: ld returned 1 exit status
  [libatomic_ops-7.6.2]   make[7]: *** [Makefile:634: test_malloc] Error 1
```



---

archive/issue_comments_451338.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">Comment 50</div>\n\n... as well as giac and fflas_ffpack.\n\nTo reproduce: \n\n```\nEXTRA_DOCKER_BUILD_ARGS=\"--build-arg TARGETS=\\\"build ptest\\\" --build-arg USE_MAKEFLAGS=\\\"-k V=0\\\"\" tox -e docker-conda-forge-standard\n```\non the branch of #27824.",
    "created_at": "2020-03-22T17:58:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451338",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:50" align="right">Comment 50</div>

... as well as giac and fflas_ffpack.

To reproduce: 

```
EXTRA_DOCKER_BUILD_ARGS="--build-arg TARGETS=\"build ptest\" --build-arg USE_MAKEFLAGS=\"-k V=0\"" tox -e docker-conda-forge-standard
```
on the branch of #27824.



---

archive/issue_comments_451339.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">Comment 51</div>\n\n(see also #29327)",
    "created_at": "2020-03-22T18:03:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451339",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:51" align="right">Comment 51</div>

(see also #29327)



---

archive/issue_comments_451340.json:
```json
{
    "body": "Changed commit from **[a511c83](https://github.com/sagemath/sagetrac-mirror/commit/a511c836012a4ba4e4870331b8cc426e47003b18)** to **[ba3458b](https://github.com/sagemath/sagetrac-mirror/commit/ba3458b5e93dfc9b6771bd2f400d5db34bb40f98)**",
    "created_at": "2020-03-22T18:13:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451340",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a511c83](https://github.com/sagemath/sagetrac-mirror/commit/a511c836012a4ba4e4870331b8cc426e47003b18)** to **[ba3458b](https://github.com/sagemath/sagetrac-mirror/commit/ba3458b5e93dfc9b6771bd2f400d5db34bb40f98)**



---

archive/issue_comments_451341.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">Comment 52</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4decf9746adffa7589ce4f510c6899c51c5bd540\">4decf97</a></td><td><code>First version of environment.yml for conda</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca0cb5f1aa5161f636876c40465a5f7452da4e31\">ca0cb5f</a></td><td><code>environment.yml: Add patch, ninja</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b42c51e3acc9c68d0373ce531a59bd50bfec2d9\">6b42c51</a></td><td><code>environment.yml that mostly passes ./configure</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d762508081f3653e652c341ca04c187ae22fb3a1\">d762508</a></td><td><code>use conda-forge's pkg-config</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/13123dd2f5612390b1bb775c0fab1c1322045803\">13123dd</a></td><td><code>Add configure deps and more packages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/68219bba0e92c762ecea0c282c3e129a20315385\">68219bb</a></td><td><code>Need blas-devel for cblas.so symlinks</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5192b93ef093ab3cedd6ea8a78d094b2199a9779\">5192b93</a></td><td><code>add openssl, remove blas-devel</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba3458b5e93dfc9b6771bd2f400d5db34bb40f98\">ba3458b</a></td><td><code>build/pkgs/conda.txt: Use python<3.8</code></td></tr></table>\n",
    "created_at": "2020-03-22T18:13:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451341",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:52" align="right">Comment 52</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4decf9746adffa7589ce4f510c6899c51c5bd540">4decf97</a></td><td><code>First version of environment.yml for conda</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca0cb5f1aa5161f636876c40465a5f7452da4e31">ca0cb5f</a></td><td><code>environment.yml: Add patch, ninja</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b42c51e3acc9c68d0373ce531a59bd50bfec2d9">6b42c51</a></td><td><code>environment.yml that mostly passes ./configure</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d762508081f3653e652c341ca04c187ae22fb3a1">d762508</a></td><td><code>use conda-forge's pkg-config</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/13123dd2f5612390b1bb775c0fab1c1322045803">13123dd</a></td><td><code>Add configure deps and more packages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/68219bba0e92c762ecea0c282c3e129a20315385">68219bb</a></td><td><code>Need blas-devel for cblas.so symlinks</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5192b93ef093ab3cedd6ea8a78d094b2199a9779">5192b93</a></td><td><code>add openssl, remove blas-devel</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba3458b5e93dfc9b6771bd2f400d5db34bb40f98">ba3458b</a></td><td><code>build/pkgs/conda.txt: Use python<3.8</code></td></tr></table>




---

archive/issue_comments_451342.json:
```json
{
    "body": "Changed dependencies from **#29053** to none",
    "created_at": "2020-03-22T18:14:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451342",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#29053** to none



---

archive/issue_comments_451343.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">Comment 54</div>\n\nShall we try to get this one here to work for 9.1?",
    "created_at": "2020-04-18T21:34:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451343",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:54" align="right">Comment 54</div>

Shall we try to get this one here to work for 9.1?



---

archive/issue_comments_451344.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">Comment 55</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12a00ba0f8cde1e40b28d62189a5e1fc5fa40d76\">12a00ba</a></td><td><code>Merge tag '9.1.rc2' into t/28745/worktree-sagelib-conda</code></td></tr></table>\n",
    "created_at": "2020-04-26T19:56:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451344",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:55" align="right">Comment 55</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12a00ba0f8cde1e40b28d62189a5e1fc5fa40d76">12a00ba</a></td><td><code>Merge tag '9.1.rc2' into t/28745/worktree-sagelib-conda</code></td></tr></table>




---

archive/issue_comments_451345.json:
```json
{
    "body": "Changed commit from **[ba3458b](https://github.com/sagemath/sagetrac-mirror/commit/ba3458b5e93dfc9b6771bd2f400d5db34bb40f98)** to **[12a00ba](https://github.com/sagemath/sagetrac-mirror/commit/12a00ba0f8cde1e40b28d62189a5e1fc5fa40d76)**",
    "created_at": "2020-04-26T19:56:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451345",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ba3458b](https://github.com/sagemath/sagetrac-mirror/commit/ba3458b5e93dfc9b6771bd2f400d5db34bb40f98)** to **[12a00ba](https://github.com/sagemath/sagetrac-mirror/commit/12a00ba0f8cde1e40b28d62189a5e1fc5fa40d76)**



---

archive/issue_events_376566.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-29T19:19:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376566"
}
```



---

archive/issue_events_376567.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-29T19:19:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376567"
}
```



---

archive/issue_comments_451346.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,8 @@\n These files describes the conda environment (conda package dependencies):\n \n `environment.yml` - describes conda packages that are useful for installing sage.\n+\n+This would be a more idiomatic alternative to the `conda install` line that is shown at the end of `./configure`\n \n In combination with the `spkg-configure` mechanism, this will speed up installation of Sage, in particular for users stuck on outdated OS distributions.\n \n``````\n",
    "created_at": "2020-04-29T19:19:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451346",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,8 @@
 These files describes the conda environment (conda package dependencies):
 
 `environment.yml` - describes conda packages that are useful for installing sage.
+
+This would be a more idiomatic alternative to the `conda install` line that is shown at the end of `./configure`
 
 In combination with the `spkg-configure` mechanism, this will speed up installation of Sage, in particular for users stuck on outdated OS distributions.
 
``````




---

archive/issue_comments_451347.json:
```json
{
    "body": "Dependencies: **#29327**",
    "created_at": "2020-04-29T19:19:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451347",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#29327**



---

archive/issue_events_376568.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T18:16:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376568"
}
```



---

archive/issue_events_376569.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T18:16:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376569"
}
```



---

archive/issue_comments_451348.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">Comment 57</div>\n\nMoving some tickets to 9.2. This is not a promise that I will be working on them.",
    "created_at": "2020-05-01T18:16:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451348",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:57" align="right">Comment 57</div>

Moving some tickets to 9.2. This is not a promise that I will be working on them.



---

archive/issue_events_376570.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376570"
}
```



---

archive/issue_events_376571.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376571"
}
```



---

archive/issue_comments_451349.json:
```json
{
    "body": "Changed commit from **[12a00ba](https://github.com/sagemath/sagetrac-mirror/commit/12a00ba0f8cde1e40b28d62189a5e1fc5fa40d76)** to **[fad0d04](https://github.com/sagemath/sagetrac-mirror/commit/fad0d0479e327acd0fdd5f88fb600873fb90b416)**",
    "created_at": "2020-10-30T19:25:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451349",
    "user": "https://github.com/isuruf"
}
```

Changed commit from **[12a00ba](https://github.com/sagemath/sagetrac-mirror/commit/12a00ba0f8cde1e40b28d62189a5e1fc5fa40d76)** to **[fad0d04](https://github.com/sagemath/sagetrac-mirror/commit/fad0d0479e327acd0fdd5f88fb600873fb90b416)**



---

archive/issue_events_376572.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2020-10-30T19:25:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376572"
}
```



---

archive/issue_comments_451350.json:
```json
{
    "body": "Changed author from **Matthias Koeppe** to **Matthias Koeppe, Isuru Fernando**",
    "created_at": "2020-10-30T19:25:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451350",
    "user": "https://github.com/isuruf"
}
```

Changed author from **Matthias Koeppe** to **Matthias Koeppe, Isuru Fernando**



---

archive/issue_comments_451351.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/worktree-sagelib-conda](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/worktree-sagelib-conda)** to **[u/isuruf/environment_yaml](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/environment_yaml)**",
    "created_at": "2020-10-30T19:25:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451351",
    "user": "https://github.com/isuruf"
}
```

Changed branch from **[u/mkoeppe/worktree-sagelib-conda](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/worktree-sagelib-conda)** to **[u/isuruf/environment_yaml](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/environment_yaml)**



---

archive/issue_comments_451352.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">Comment 60</div>\n\nI added `SAGE_ROOT/environment.yml` for spkg-configure ones and `SAGE_ROOT/src/environment.yml` for all standard packages. These files are auto generated. Not sure if we should check them into the repo for ease of use.",
    "created_at": "2020-10-30T22:27:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451352",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:60" align="right">Comment 60</div>

I added `SAGE_ROOT/environment.yml` for spkg-configure ones and `SAGE_ROOT/src/environment.yml` for all standard packages. These files are auto generated. Not sure if we should check them into the repo for ease of use.



---

archive/issue_comments_451353.json:
```json
{
    "body": "Changed dependencies from **#29327** to **#30839**",
    "created_at": "2020-10-30T22:30:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451353",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#29327** to **#30839**



---

archive/issue_comments_451354.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">Comment 62</div>\n\nI don't think the generated files should be checked in - instead they should be added to the list of files that are put into the configure tarball.",
    "created_at": "2020-10-30T22:33:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451354",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:62" align="right">Comment 62</div>

I don't think the generated files should be checked in - instead they should be added to the list of files that are put into the configure tarball.



---

archive/issue_comments_451355.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">Comment 63</div>\n\nSee for example commit 885092e77b06b6d616297edd8ac1a37db9113cc6, where files were added",
    "created_at": "2020-10-30T22:36:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451355",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:63" align="right">Comment 63</div>

See for example commit 885092e77b06b6d616297edd8ac1a37db9113cc6, where files were added



---

archive/issue_comments_451356.json:
```json
{
    "body": "Changed commit from **[fad0d04](https://github.com/sagemath/sagetrac-mirror/commit/fad0d0479e327acd0fdd5f88fb600873fb90b416)** to **[61b8fca](https://github.com/sagemath/sagetrac-mirror/commit/61b8fcad5917a00dee6580df3e17d5449bd9a709)**",
    "created_at": "2020-10-30T22:40:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451356",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[fad0d04](https://github.com/sagemath/sagetrac-mirror/commit/fad0d0479e327acd0fdd5f88fb600873fb90b416)** to **[61b8fca](https://github.com/sagemath/sagetrac-mirror/commit/61b8fcad5917a00dee6580df3e17d5449bd9a709)**



---

archive/issue_comments_451357.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">Comment 64</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/61b8fcad5917a00dee6580df3e17d5449bd9a709\">61b8fca</a></td><td><code>add environment files to source tarball</code></td></tr></table>\n",
    "created_at": "2020-10-30T22:40:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451357",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:64" align="right">Comment 64</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/61b8fcad5917a00dee6580df3e17d5449bd9a709">61b8fca</a></td><td><code>add environment files to source tarball</code></td></tr></table>




---

archive/issue_comments_451358.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">Comment 65</div>\n\nAlso, if you could untabify `src/doc/bootstrap`...",
    "created_at": "2020-10-30T22:41:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451358",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:65" align="right">Comment 65</div>

Also, if you could untabify `src/doc/bootstrap`...



---

archive/issue_comments_451359.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">Comment 66</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c252e72f211d68f0f1270d2f61ab07c69237be5e\">c252e72</a></td><td><code>replace tabs with 4 spaces</code></td></tr></table>\n",
    "created_at": "2020-10-30T22:53:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451359",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:66" align="right">Comment 66</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c252e72f211d68f0f1270d2f61ab07c69237be5e">c252e72</a></td><td><code>replace tabs with 4 spaces</code></td></tr></table>




---

archive/issue_comments_451360.json:
```json
{
    "body": "Changed commit from **[61b8fca](https://github.com/sagemath/sagetrac-mirror/commit/61b8fcad5917a00dee6580df3e17d5449bd9a709)** to **[c252e72](https://github.com/sagemath/sagetrac-mirror/commit/c252e72f211d68f0f1270d2f61ab07c69237be5e)**",
    "created_at": "2020-10-30T22:53:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451360",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[61b8fca](https://github.com/sagemath/sagetrac-mirror/commit/61b8fcad5917a00dee6580df3e17d5449bd9a709)** to **[c252e72](https://github.com/sagemath/sagetrac-mirror/commit/c252e72f211d68f0f1270d2f61ab07c69237be5e)**



---

archive/issue_comments_451361.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe**",
    "created_at": "2020-10-30T23:16:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451361",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Matthias Koeppe**



---

archive/issue_events_376573.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-30T23:16:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376573"
}
```



---

archive/issue_events_376574.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-30T23:16:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376574"
}
```



---

archive/issue_comments_451362.json:
```json
{
    "body": "Changed author from **Matthias Koeppe, Isuru Fernando** to **Isuru Fernando**",
    "created_at": "2020-10-30T23:16:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451362",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **Matthias Koeppe, Isuru Fernando** to **Isuru Fernando**



---

archive/issue_events_376575.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-11-01T10:31:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376575"
}
```



---

archive/issue_events_376576.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-11-01T10:31:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376576"
}
```



---

archive/issue_comments_451363.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">Comment 68</div>\n\nMerge conflict",
    "created_at": "2020-11-01T10:31:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451363",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:68" align="right">Comment 68</div>

Merge conflict



---

archive/issue_comments_451364.json:
```json
{
    "body": "Changed branch from **[u/isuruf/environment_yaml](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/environment_yaml)** to **[u/mkoeppe/environment_yaml](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/environment_yaml)**",
    "created_at": "2020-11-01T16:38:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451364",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/isuruf/environment_yaml](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/environment_yaml)** to **[u/mkoeppe/environment_yaml](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/environment_yaml)**



---

archive/issue_comments_451365.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">Comment 70</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/025064e34dafd7e476aae0d067940cb5123cc886\">025064e</a></td><td><code>Merge tag '9.3.beta0' into t/28745/environment_yaml</code></td></tr></table>\n",
    "created_at": "2020-11-01T16:39:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451365",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:70" align="right">Comment 70</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/025064e34dafd7e476aae0d067940cb5123cc886">025064e</a></td><td><code>Merge tag '9.3.beta0' into t/28745/environment_yaml</code></td></tr></table>




---

archive/issue_comments_451366.json:
```json
{
    "body": "Changed commit from **[c252e72](https://github.com/sagemath/sagetrac-mirror/commit/c252e72f211d68f0f1270d2f61ab07c69237be5e)** to **[025064e](https://github.com/sagemath/sagetrac-mirror/commit/025064e34dafd7e476aae0d067940cb5123cc886)**",
    "created_at": "2020-11-01T16:39:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451366",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[c252e72](https://github.com/sagemath/sagetrac-mirror/commit/c252e72f211d68f0f1270d2f61ab07c69237be5e)** to **[025064e](https://github.com/sagemath/sagetrac-mirror/commit/025064e34dafd7e476aae0d067940cb5123cc886)**



---

archive/issue_events_376577.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-11-01T16:39:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376577"
}
```



---

archive/issue_events_376578.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-11-01T16:39:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376578"
}
```



---

archive/issue_comments_451367.json:
```json
{
    "body": "Changed commit from **[025064e](https://github.com/sagemath/sagetrac-mirror/commit/025064e34dafd7e476aae0d067940cb5123cc886)** to **[7def5b9](https://github.com/sagemath/sagetrac-mirror/commit/7def5b9a370feeffd90af8a9d92d3f2589069d4b)**",
    "created_at": "2020-11-10T17:57:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451367",
    "user": "https://github.com/isuruf"
}
```

Changed commit from **[025064e](https://github.com/sagemath/sagetrac-mirror/commit/025064e34dafd7e476aae0d067940cb5123cc886)** to **[7def5b9](https://github.com/sagemath/sagetrac-mirror/commit/7def5b9a370feeffd90af8a9d92d3f2589069d4b)**



---

archive/issue_comments_451368.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/environment_yaml](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/environment_yaml)** to **[u/isuruf/environment_yaml](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/environment_yaml)**",
    "created_at": "2020-11-10T17:57:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451368",
    "user": "https://github.com/isuruf"
}
```

Changed branch from **[u/mkoeppe/environment_yaml](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/environment_yaml)** to **[u/isuruf/environment_yaml](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/environment_yaml)**



---

archive/issue_comments_451369.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">Comment 71</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7def5b9a370feeffd90af8a9d92d3f2589069d4b\">7def5b9</a></td><td><code>Merge remote-tracking branch 'trac/develop' into u/mkoeppe/environment_yaml</code></td></tr></table>\n",
    "created_at": "2020-11-10T17:57:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451369",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:71" align="right">Comment 71</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7def5b9a370feeffd90af8a9d92d3f2589069d4b">7def5b9</a></td><td><code>Merge remote-tracking branch 'trac/develop' into u/mkoeppe/environment_yaml</code></td></tr></table>




---

archive/issue_events_376579.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-11-19T23:32:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376579"
}
```



---

archive/issue_events_376580.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-11-19T23:32:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376580"
}
```



---

archive/issue_comments_451370.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">Comment 72</div>\n\nMerge conflict",
    "created_at": "2020-11-19T23:32:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451370",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:72" align="right">Comment 72</div>

Merge conflict



---

archive/issue_comments_451371.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">Comment 73</div>\n\nWhich branch should I fix the conflict against? `develop` doesn't seem to have a conflict with this branch",
    "created_at": "2020-11-19T23:36:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451371",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:73" align="right">Comment 73</div>

Which branch should I fix the conflict against? `develop` doesn't seem to have a conflict with this branch



---

archive/issue_comments_451372.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">Comment 74</div>\n\nReplying to [@isuruf](#comment%3A73):\n> Which branch should I fix the conflict against? `develop` doesn't seem to have a conflict with this branch\n\nit's unfortunate feauture of our workflow that this is a bit of a moving target.\nhttps://github.com/vbraun/sage/tree/develop\n\ndo not try to merge/rebase with it, as it's likely to be in vain.",
    "created_at": "2020-11-20T09:52:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451372",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:74" align="right">Comment 74</div>

Replying to [@isuruf](#comment%3A73):
> Which branch should I fix the conflict against? `develop` doesn't seem to have a conflict with this branch

it's unfortunate feauture of our workflow that this is a bit of a moving target.
https://github.com/vbraun/sage/tree/develop

do not try to merge/rebase with it, as it's likely to be in vain.



---

archive/issue_comments_451373.json:
```json
{
    "body": "Changed dependencies from **#30839** to **#30839, #30719**",
    "created_at": "2020-11-23T02:16:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451373",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#30839** to **#30839, #30719**



---

archive/issue_comments_451374.json:
```json
{
    "body": "Changed branch from **[u/isuruf/environment_yaml](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/environment_yaml)** to **[u/mkoeppe/environment_yaml](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/environment_yaml)**",
    "created_at": "2020-11-23T02:18:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451374",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/isuruf/environment_yaml](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/environment_yaml)** to **[u/mkoeppe/environment_yaml](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/environment_yaml)**



---

archive/issue_events_376581.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-11-23T02:18:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376581"
}
```



---

archive/issue_events_376582.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-11-23T02:18:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376582"
}
```



---

archive/issue_comments_451375.json:
```json
{
    "body": "Changed commit from **[7def5b9](https://github.com/sagemath/sagetrac-mirror/commit/7def5b9a370feeffd90af8a9d92d3f2589069d4b)** to **[e53623d](https://github.com/sagemath/sagetrac-mirror/commit/e53623d9503da131bd8ef4cdacfd1f5f43da88d2)**",
    "created_at": "2020-11-23T02:18:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451375",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[7def5b9](https://github.com/sagemath/sagetrac-mirror/commit/7def5b9a370feeffd90af8a9d92d3f2589069d4b)** to **[e53623d](https://github.com/sagemath/sagetrac-mirror/commit/e53623d9503da131bd8ef4cdacfd1f5f43da88d2)**



---

archive/issue_comments_451376.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">Comment 77</div>\n\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e61929d7c568167e2e5b77d9f3b7e4ae9eb80556\">e61929d</a></td><td><code>build/pkgs/sphinx/install-requires.txt: Update from gentoo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8fe0e35aae5e3064bf77a2a0192487fb50f11826\">8fe0e35</a></td><td><code>build/pkgs/python_openid: Unused, remove</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba1d913e2e340c8ec5c533ecb26d2f3d835b4eb9\">ba1d913</a></td><td><code>build/pkgs/itsdangerous: Unused, remove</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bb6c4ae829c6c6f55d305e64833a5b85d50fc205\">bb6c4ae</a></td><td><code>build/pkgs/tox/install-requires.txt: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d50750123c5368874f99a05626f33fade165b246\">d507501</a></td><td><code>build/pkgs/networkx/install-requires.txt: Update from gentoo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c3a9352acb3f87d8afdb5d9b0d61611cc30fefaa\">c3a9352</a></td><td><code>build/pkgs/pathpy/install-requires.txt: Package removed in #30611, remove</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ebd4610519f9794aef64e8f283adcc827addf6f5\">ebd4610</a></td><td><code>build/pkgs/pynac/install-requires.txt: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ec00dd002b41c4fe9b91233f2cebe37c87144d9\">6ec00dd</a></td><td><code>build/pkgs/{numpy,pillow}/install-requires.txt: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/77cc105954bfbb8f580887da79b5b94f7e2de14b\">77cc105</a></td><td><code>Merge commit '6ec00dd002b41c4fe9b91233f2cebe37c87144d9' of git://trac.sagemath.org/sage into t/28745/environment_yaml</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e53623d9503da131bd8ef4cdacfd1f5f43da88d2\">e53623d</a></td><td><code>build/pkgs/itsdangerous/distros/conda.txt: Remove</code></td></tr></table>\n",
    "created_at": "2020-11-23T02:18:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451376",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:77" align="right">Comment 77</div>

Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e61929d7c568167e2e5b77d9f3b7e4ae9eb80556">e61929d</a></td><td><code>build/pkgs/sphinx/install-requires.txt: Update from gentoo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8fe0e35aae5e3064bf77a2a0192487fb50f11826">8fe0e35</a></td><td><code>build/pkgs/python_openid: Unused, remove</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba1d913e2e340c8ec5c533ecb26d2f3d835b4eb9">ba1d913</a></td><td><code>build/pkgs/itsdangerous: Unused, remove</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bb6c4ae829c6c6f55d305e64833a5b85d50fc205">bb6c4ae</a></td><td><code>build/pkgs/tox/install-requires.txt: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d50750123c5368874f99a05626f33fade165b246">d507501</a></td><td><code>build/pkgs/networkx/install-requires.txt: Update from gentoo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c3a9352acb3f87d8afdb5d9b0d61611cc30fefaa">c3a9352</a></td><td><code>build/pkgs/pathpy/install-requires.txt: Package removed in #30611, remove</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ebd4610519f9794aef64e8f283adcc827addf6f5">ebd4610</a></td><td><code>build/pkgs/pynac/install-requires.txt: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ec00dd002b41c4fe9b91233f2cebe37c87144d9">6ec00dd</a></td><td><code>build/pkgs/{numpy,pillow}/install-requires.txt: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/77cc105954bfbb8f580887da79b5b94f7e2de14b">77cc105</a></td><td><code>Merge commit '6ec00dd002b41c4fe9b91233f2cebe37c87144d9' of git://trac.sagemath.org/sage into t/28745/environment_yaml</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e53623d9503da131bd8ef4cdacfd1f5f43da88d2">e53623d</a></td><td><code>build/pkgs/itsdangerous/distros/conda.txt: Remove</code></td></tr></table>




---

archive/issue_comments_451377.json:
```json
{
    "body": "Changed dependencies from **#30839, #30719** to **#30839, #30719, #30611**",
    "created_at": "2020-11-23T02:20:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451377",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#30839, #30719** to **#30839, #30719, #30611**



---

archive/issue_comments_451378.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">Comment 79</div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d36570755ee8c6a0597e4121fa608836dd087084\">d365707</a></td><td><code>build/pkgs/packaging: Update to 20.4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/248c84aaa0257008ed76473f75d2be298cca8765\">248c84a</a></td><td><code>build/pkgs/pathpy: No longer required by pickleshare, remove</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/be5bdf2ea4af0a9ad72be7ad1b39b537f9a0a2e1\">be5bdf2</a></td><td><code>build/pkgs/pyparsing: Update to 2.4.7</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/88b84270121cfde12dfd620f6c39e818b73d8d86\">88b8427</a></td><td><code>build/pkgs/pytz: Update to 2020.4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df7972ccb76198b67c1339d1c0178e8977bc0dcb\">df7972c</a></td><td><code>build/pkgs/rpy2: Update to 3.3.6</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7cd96b2efb72094abaf6c5c5016a4496ff5111b5\">7cd96b2</a></td><td><code>build/pkgs/scipy/patches/extern_decls.patch: Remove</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/84d778c219151e6b179b75c1f50c19bf801207fc\">84d778c</a></td><td><code>Fixing upstream url for networkx</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/13af6c6b8c1533ba9d1b45b127e1a7b7d30000c6\">13af6c6</a></td><td><code>fix tarball name</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45b3408883e85f70667ac75d184d11b511020607\">45b3408</a></td><td><code>Merge commit '13af6c6b8c1533ba9d1b45b127e1a7b7d30000c6' of git://trac.sagemath.org/sage into t/28745/environment_yaml</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/736e0064359a37b51f2e9421d54fd655b3b295a5\">736e006</a></td><td><code>build/pkgs/pathpy/distros/conda.txt: Remove</code></td></tr></table>\n",
    "created_at": "2020-11-23T02:21:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451378",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:79" align="right">Comment 79</div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d36570755ee8c6a0597e4121fa608836dd087084">d365707</a></td><td><code>build/pkgs/packaging: Update to 20.4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/248c84aaa0257008ed76473f75d2be298cca8765">248c84a</a></td><td><code>build/pkgs/pathpy: No longer required by pickleshare, remove</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/be5bdf2ea4af0a9ad72be7ad1b39b537f9a0a2e1">be5bdf2</a></td><td><code>build/pkgs/pyparsing: Update to 2.4.7</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/88b84270121cfde12dfd620f6c39e818b73d8d86">88b8427</a></td><td><code>build/pkgs/pytz: Update to 2020.4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df7972ccb76198b67c1339d1c0178e8977bc0dcb">df7972c</a></td><td><code>build/pkgs/rpy2: Update to 3.3.6</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7cd96b2efb72094abaf6c5c5016a4496ff5111b5">7cd96b2</a></td><td><code>build/pkgs/scipy/patches/extern_decls.patch: Remove</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/84d778c219151e6b179b75c1f50c19bf801207fc">84d778c</a></td><td><code>Fixing upstream url for networkx</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/13af6c6b8c1533ba9d1b45b127e1a7b7d30000c6">13af6c6</a></td><td><code>fix tarball name</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45b3408883e85f70667ac75d184d11b511020607">45b3408</a></td><td><code>Merge commit '13af6c6b8c1533ba9d1b45b127e1a7b7d30000c6' of git://trac.sagemath.org/sage into t/28745/environment_yaml</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/736e0064359a37b51f2e9421d54fd655b3b295a5">736e006</a></td><td><code>build/pkgs/pathpy/distros/conda.txt: Remove</code></td></tr></table>




---

archive/issue_events_376583.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2020-11-23T02:21:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376583"
}
```



---

archive/issue_events_376584.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2020-11-23T02:21:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376584"
}
```



---

archive/issue_comments_451379.json:
```json
{
    "body": "Changed commit from **[e53623d](https://github.com/sagemath/sagetrac-mirror/commit/e53623d9503da131bd8ef4cdacfd1f5f43da88d2)** to **[736e006](https://github.com/sagemath/sagetrac-mirror/commit/736e0064359a37b51f2e9421d54fd655b3b295a5)**",
    "created_at": "2020-11-23T02:21:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451379",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e53623d](https://github.com/sagemath/sagetrac-mirror/commit/e53623d9503da131bd8ef4cdacfd1f5f43da88d2)** to **[736e006](https://github.com/sagemath/sagetrac-mirror/commit/736e0064359a37b51f2e9421d54fd655b3b295a5)**



---

archive/issue_events_376585.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-11-23T02:21:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376585"
}
```



---

archive/issue_events_376586.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-11-23T02:21:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376586"
}
```



---

archive/issue_events_376587.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-11-29T11:57:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376587"
}
```



---

archive/issue_events_376588.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "b0aafbd101235c2d819aad98a516279681d3652e",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-11-29T11:57:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/28745#event-376588"
}
```



---

archive/issue_comments_451380.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/environment_yaml](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/environment_yaml)** to **[736e006](https://github.com/sagemath/sagetrac-mirror/commit/736e0064359a37b51f2e9421d54fd655b3b295a5)**",
    "created_at": "2020-11-29T11:57:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/28745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/28745#issuecomment-451380",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/environment_yaml](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/environment_yaml)** to **[736e006](https://github.com/sagemath/sagetrac-mirror/commit/736e0064359a37b51f2e9421d54fd655b3b295a5)**
