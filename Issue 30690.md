# Issue 30690: Frobenius endomorphisms of p-adic fields pickle incorrectly

Issue created by migration from https://trac.sagemath.org/ticket/30927

Original creator: pbruin

Original creation time: 2020-11-16 12:15:06

CC:  @walnutmonster

In SageMath 9.3.beta1:

```
sage: R.<x> = QQ[]
sage: U.<a> = Qp(2).extension(x^2 + x + 1)
sage: F = U.frobenius_endomorphism(); F
Frobenius endomorphism on 2-adic Unramified Extension Field in a defined by x^2 + x + 1 lifting a |--> a^2 on the residue field
sage: copy(F)
Identity endomorphism of 2-adic Unramified Extension Field in a defined by x^2 + x + 1
sage: loads(dumps(F))
Identity endomorphism of 2-adic Unramified Extension Field in a defined by x^2 + x + 1
```

This is fixed by implementing suitable `_extra_slots()` and `_update_slots()` methods.


---

Comment by pbruin created at 2020-11-16 17:53:33

Changing status from new to needs_review.


---

Comment by tscrim created at 2020-11-19 23:18:53

LGTM.


---

Comment by tscrim created at 2020-11-19 23:18:53

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2020-11-22 15:05:24

Resolution: fixed
