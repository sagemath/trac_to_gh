# Issue 11034: Doctest failure of interfaces/rubik.py on Ubuntu 10.10 with 1 GB RAM (RAM issue??)

Issue created by migration from Trac.

Original creator: drkirkby

Original creation time: 2011-04-15 18:56:46

Assignee: tbd

I got this failure on an AMD Opteron 248 based machine running Ubuntu 10.10. The machine only has 1 GB RAM. I don't know if that could be the reason for the failure, but if it is, then it's not obvious. 


```
drkirkby`@`jay:~/sage-4.7.alpha4$ ./sage -t  -long -force_lib "devel/sage/sage/interfaces/rubik.py"


<SNIP>

      File "/home/drkirkby/sage-4.7.alpha4/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_5[5]>", line 1, in <module>
        C = RubiksCube().move("R U F L B D")###line 245:
    sage: C = RubiksCube().move("R U F L B D")
      File "/home/drkirkby/sage-4.7.alpha4/local/lib/python/site-packages/sage/groups/perm_gps/cubegroup.py", line 1000, in __init__
        self._state = self._group(1)
      File "/home/drkirkby/sage-4.7.alpha4/local/lib/python/site-packages/sage/groups/perm_gps/cubegroup.py", line 485, in __call__
        return self.parse(mv)
      File "/home/drkirkby/sage-4.7.alpha4/local/lib/python/site-packages/sage/groups/perm_gps/cubegroup.py", line 621, in parse
        return G(mv)
      File "/home/drkirkby/sage-4.7.alpha4/local/lib/python/site-packages/sage/groups/perm_gps/permgroup.py", line 566, in __call__
        return self.identity()
      File "/home/drkirkby/sage-4.7.alpha4/local/lib/python/site-packages/sage/groups/perm_gps/permgroup.py", line 802, in identity
        return self._element_class()([], self, check=True)
      File "permgroup_element.pyx", line 328, in sage.groups.perm_gps.permgroup_element.PermutationGroupElement.__init__ (sage/groups/perm_gps/permgroup_element.c:2955)
      File "sage_object.pyx", line 463, in sage.structure.sage_object.SageObject._gap_ (sage/structure/sage_object.c:3982)
      File "sage_object.pyx", line 439, in sage.structure.sage_object.SageObject._interface_ (sage/structure/sage_object.c:3622)
      File "/home/drkirkby/sage-4.7.alpha4/local/lib/python/site-packages/sage/interfaces/expect.py", line 1099, in __call__
        return cls(self, x, name=name)
      File "/home/drkirkby/sage-4.7.alpha4/local/lib/python/site-packages/sage/interfaces/expect.py", line 1532, in __init__
        raise TypeError, x
    TypeError: Unexpected EOF from Gap executing Read("/home/drkirkby/.sage//temp/jay/13255//interface//tmp13281");
**********************************************************************
File "/home/drkirkby/sage-4.7.alpha4/devel/sage/sage/interfaces/rubik.py", line 246:
    sage: DikSolver().solve(C.facets())
Exception raised:
    Traceback (most recent call last):
      File "/home/drkirkby/sage-4.7.alpha4/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/drkirkby/sage-4.7.alpha4/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/drkirkby/sage-4.7.alpha4/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_5[6]>", line 1, in <module>
        DikSolver().solve(C.facets())###line 246:
    sage: DikSolver().solve(C.facets())
    NameError: name 'C' is not defined
**********************************************************************
File "/home/drkirkby/sage-4.7.alpha4/devel/sage/sage/interfaces/rubik.py", line 248:
    sage: C = RubiksCube().move("R2 F'")
Exception raised:
    Traceback (most recent call last):
      File "/home/drkirkby/sage-4.7.alpha4/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/drkirkby/sage-4.7.alpha4/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/drkirkby/sage-4.7.alpha4/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_5[7]>", line 1, in <module>
        C = RubiksCube().move("R2 F'")###line 248:
    sage: C = RubiksCube().move("R2 F'")
      File "/home/drkirkby/sage-4.7.alpha4/local/lib/python/site-packages/sage/groups/perm_gps/cubegroup.py", line 1000, in __init__
        self._state = self._group(1)
      File "/home/drkirkby/sage-4.7.alpha4/local/lib/python/site-packages/sage/groups/perm_gps/cubegroup.py", line 485, in __call__
        return self.parse(mv)
      File "/home/drkirkby/sage-4.7.alpha4/local/lib/python/site-packages/sage/groups/perm_gps/cubegroup.py", line 621, in parse
        return G(mv)
      File "/home/drkirkby/sage-4.7.alpha4/local/lib/python/site-packages/sage/groups/perm_gps/permgroup.py", line 566, in __call__
        return self.identity()
      File "/home/drkirkby/sage-4.7.alpha4/local/lib/python/site-packages/sage/groups/perm_gps/permgroup.py", line 802, in identity
        return self._element_class()([], self, check=True)
      File "permgroup_element.pyx", line 328, in sage.groups.perm_gps.permgroup_element.PermutationGroupElement.__init__ (sage/groups/perm_gps/permgroup_element.c:2955)
      File "sage_object.pyx", line 463, in sage.structure.sage_object.SageObject._gap_ (sage/structure/sage_object.c:3982)
      File "sage_object.pyx", line 439, in sage.structure.sage_object.SageObject._interface_ (sage/structure/sage_object.c:3622)
      File "/home/drkirkby/sage-4.7.alpha4/local/lib/python/site-packages/sage/interfaces/expect.py", line 1099, in __call__
        return cls(self, x, name=name)
      File "/home/drkirkby/sage-4.7.alpha4/local/lib/python/site-packages/sage/interfaces/expect.py", line 1532, in __init__
        raise TypeError, x
    TypeError: Unexpected EOF from Gap executing Read("/home/drkirkby/.sage//temp/jay/13255//interface//tmp13281");
**********************************************************************
File "/home/drkirkby/sage-4.7.alpha4/devel/sage/sage/interfaces/rubik.py", line 249:
    sage: DikSolver().solve(C.facets())
Exception raised:
    Traceback (most recent call last):
      File "/home/drkirkby/sage-4.7.alpha4/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/drkirkby/sage-4.7.alpha4/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/drkirkby/sage-4.7.alpha4/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_5[8]>", line 1, in <module>
        DikSolver().solve(C.facets())###line 249:
    sage: DikSolver().solve(C.facets())
    NameError: name 'C' is not defined
**********************************************************************
3 items had failures:
   6 of  12 in __main__.example_3
  10 of  14 in __main__.example_4
   6 of  10 in __main__.example_5
***Test Failed*** 22 failures.
For whitespace errors, see the file /home/drkirkby/.sage//tmp/.doctest_rubik.py
	 [20.1 s]
 
----------------------------------------------------------------------
The following tests failed:


	sage -t -long -force_lib "devel/sage/sage/interfaces/rubik.py"
Total time for all tests: 20.1 seconds

```


Dave


---

Comment by drkirkby created at 2011-04-15 18:59:16

Complete doctest failure seen on an AMD Opteron 248 running Ubuntu 10.10


---

Attachment


---

Comment by drkirkby created at 2011-04-15 19:21:07

Changing component from PLEASE CHANGE to doctest.


---

Comment by drkirkby created at 2011-04-15 19:21:07

Changing assignee from tbd to mvngu.


---

Comment by drkirkby created at 2011-04-15 19:21:49

Changing type from PLEASE CHANGE to defect.


---

Comment by roed created at 2013-03-28 23:08:01

Changing assignee from mvngu to was.


---

Comment by roed created at 2013-03-28 23:08:01

Changing component from doctest to interfaces.
