# Issue 11006: Correction about GNU tar in the  "Install from Source Code" section of the Sage Installation Guide

archive/issues_011006.json:
```json
{
    "body": "Assignee: mvngu\n\nCC:  dimpase\n\n#11081 added a number of changes to the section of the Sage Installation Guide dealing with building from source code. \n\nDespite correcting a large number of errors in the previous version of the manual, one error was introduced by #11081. The manual stated GNU tar is needed, but this is not so on OS X. \n\nDave\n\nIssue created by migration from https://trac.sagemath.org/ticket/11159\n\n",
    "created_at": "2011-04-08T15:56:45Z",
    "labels": [
        "documentation",
        "major",
        "PLEASE CHANGE"
    ],
    "title": "Correction about GNU tar in the  \"Install from Source Code\" section of the Sage Installation Guide",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11006",
    "user": "drkirkby"
}
```
Assignee: mvngu

CC:  dimpase

#11081 added a number of changes to the section of the Sage Installation Guide dealing with building from source code. 

Despite correcting a large number of errors in the previous version of the manual, one error was introduced by #11081. The manual stated GNU tar is needed, but this is not so on OS X. 

Dave

Issue created by migration from https://trac.sagemath.org/ticket/11159





---

archive/issue_comments_119609.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2011-04-08T15:56:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11006",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11006#issuecomment-119609",
    "user": "drkirkby"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_119610.json:
```json
{
    "body": "Changing priority from major to blocker.",
    "created_at": "2011-04-18T18:40:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11006",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11006#issuecomment-119610",
    "user": "jdemeyer"
}
```

Changing priority from major to blocker.



---

archive/issue_comments_119611.json:
```json
{
    "body": "I'll sort this out in the next 15 minutes or so.",
    "created_at": "2011-04-18T19:25:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11006",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11006#issuecomment-119611",
    "user": "drkirkby"
}
```

I'll sort this out in the next 15 minutes or so.



---

archive/issue_comments_119612.json:
```json
{
    "body": "Changing assignee from mvngu to drkirkby.",
    "created_at": "2011-04-18T19:25:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11006",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11006#issuecomment-119612",
    "user": "drkirkby"
}
```

Changing assignee from mvngu to drkirkby.



---

archive/issue_comments_119613.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-04-18T19:35:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11006",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11006#issuecomment-119613",
    "user": "drkirkby"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_119614.json:
```json
{
    "body": "I messed uo the patch - will have to rebuild sage from scratch and redo it!! It will take an hour or so. \n\nDave",
    "created_at": "2011-04-18T19:57:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11006",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11006#issuecomment-119614",
    "user": "drkirkby"
}
```

I messed uo the patch - will have to rebuild sage from scratch and redo it!! It will take an hour or so. 

Dave



---

archive/issue_comments_119615.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-04-18T19:57:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11006",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11006#issuecomment-119615",
    "user": "drkirkby"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_119616.json:
```json
{
    "body": "Attachment [11159.patch](tarball://root/attachments/some-uuid/ticket11159/11159.patch) by drkirkby created at 2011-04-18 20:16:45\n\nCorrects error about GNU make being required, and adds the fact gcc 4.6.0 will not build Sage",
    "created_at": "2011-04-18T20:16:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11006",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11006#issuecomment-119616",
    "user": "drkirkby"
}
```

Attachment [11159.patch](tarball://root/attachments/some-uuid/ticket11159/11159.patch) by drkirkby created at 2011-04-18 20:16:45

Corrects error about GNU make being required, and adds the fact gcc 4.6.0 will not build Sage



---

archive/issue_comments_119617.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-04-18T20:18:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11006",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11006#issuecomment-119617",
    "user": "drkirkby"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_119618.json:
```json
{
    "body": "I would drop the reference to a specific Sage version in the manual, reviewer patch added.  Otherwise positive review.",
    "created_at": "2011-04-18T20:35:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11006",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11006#issuecomment-119618",
    "user": "jdemeyer"
}
```

I would drop the reference to a specific Sage version in the manual, reviewer patch added.  Otherwise positive review.



---

archive/issue_comments_119619.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-04-18T20:43:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11006",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11006#issuecomment-119619",
    "user": "drkirkby"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_119620.json:
```json
{
    "body": "My reason for stating 4.7.0 was problematic was because if someone has the latest gcc in their linux distribution, they do have the option of building Sage 4.6.2. \n\nBut I'm not too bothered either way. Let's hope we can get a fix for gcc 4.6.0 quickly. A quick Sage 4.7.1 was just the gcc-4.6.0 patches, would be quite helpful. \n\nDave",
    "created_at": "2011-04-18T20:43:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11006",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11006#issuecomment-119620",
    "user": "drkirkby"
}
```

My reason for stating 4.7.0 was problematic was because if someone has the latest gcc in their linux distribution, they do have the option of building Sage 4.6.2. 

But I'm not too bothered either way. Let's hope we can get a fix for gcc 4.6.0 quickly. A quick Sage 4.7.1 was just the gcc-4.6.0 patches, would be quite helpful. 

Dave



---

archive/issue_comments_119621.json:
```json
{
    "body": "Replying to [comment:9 drkirkby]:\n A quick Sage 4.7.1 was just the gcc-4.6.0 patches, would be quite helpful. \n> \n> Dave \n\nI mean:\n\n*A quick Sage 4.7.1 **with** just the gcc-4.6.0 patches, would be quite helpful*",
    "created_at": "2011-04-18T20:45:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11006",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11006#issuecomment-119621",
    "user": "drkirkby"
}
```

Replying to [comment:9 drkirkby]:
 A quick Sage 4.7.1 was just the gcc-4.6.0 patches, would be quite helpful. 
> 
> Dave 

I mean:

*A quick Sage 4.7.1 **with** just the gcc-4.6.0 patches, would be quite helpful*



---

archive/issue_comments_119622.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2011-04-18T21:29:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11006",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11006#issuecomment-119622",
    "user": "jhpalmieri"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_119623.json:
```json
{
    "body": "Do we have a meta-ticket for gcc 4.6.0 issues?  Once they're sorted out, we need to make sure to fix the installation guide accordingly.\n\nRegarding the actual patch here, the description says something about GNU tar vs. BSD tar, but the patch discusses GNU make vs. BSD make.  On my OS X box, I have GNU make and BSD tar, so is the patch saying what it's supposed to?\n\n```\n$ which make # (or \"command -v make\")\n/usr/bin/make\n$ make --version\nGNU Make 3.81\nCopyright (C) 2006  Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.\nThere is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A\nPARTICULAR PURPOSE.\n\nThis program built for i386-apple-darwin10.0\n```\n\nand\n\n```\n$ which tar\n/usr/bin/tar\n$ tar --version\nbsdtar 2.6.2 - libarchive 2.6.2\n```\n\nI also have a program installed called \"bsdmake\".  When I tried building Sage with `export MAKE=\"bsdmake -j2\"`, I got an error building boehm_gc:\n\n```\n...\nconfig.status: creating tests/Makefile\nconfig.status: creating src/config.h\nconfig.status: executing depfiles commands\nconfig.status: executing default commands\n(null): illegal option -- -\nusage: make [-BPSXeiknqrstv] [-C directory] [-D variable]\n\t[-d flags] [-E variable] [-f makefile] [-I directory]\n\t[-j max_jobs] [-m directory] [-V variable]\n\t[variable=value] [target ...]\nmake[1]: *** [all-recursive] Error 1\nError building BoehmGC.\n```\n",
    "created_at": "2011-04-18T21:29:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11006",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11006#issuecomment-119623",
    "user": "jhpalmieri"
}
```

Do we have a meta-ticket for gcc 4.6.0 issues?  Once they're sorted out, we need to make sure to fix the installation guide accordingly.

Regarding the actual patch here, the description says something about GNU tar vs. BSD tar, but the patch discusses GNU make vs. BSD make.  On my OS X box, I have GNU make and BSD tar, so is the patch saying what it's supposed to?

```
$ which make # (or "command -v make")
/usr/bin/make
$ make --version
GNU Make 3.81
Copyright (C) 2006  Free Software Foundation, Inc.
This is free software; see the source for copying conditions.
There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE.

This program built for i386-apple-darwin10.0
```

and

```
$ which tar
/usr/bin/tar
$ tar --version
bsdtar 2.6.2 - libarchive 2.6.2
```

I also have a program installed called "bsdmake".  When I tried building Sage with `export MAKE="bsdmake -j2"`, I got an error building boehm_gc:

```
...
config.status: creating tests/Makefile
config.status: creating src/config.h
config.status: executing depfiles commands
config.status: executing default commands
(null): illegal option -- -
usage: make [-BPSXeiknqrstv] [-C directory] [-D variable]
	[-d flags] [-E variable] [-f makefile] [-I directory]
	[-j max_jobs] [-m directory] [-V variable]
	[variable=value] [target ...]
make[1]: *** [all-recursive] Error 1
Error building BoehmGC.
```




---

archive/issue_comments_119624.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2011-04-19T03:10:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11006",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11006#issuecomment-119624",
    "user": "drkirkby"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_119625.json:
```json
{
    "body": "Replying to [comment:11 jhpalmieri]:\n> Do we have a meta-ticket for gcc 4.6.0 issues?  Once they're sorted out, we need to make sure to fix the installation guide accordingly.\n\nWe did not, but I have just created one (#11216). I've listed all the gcc 4.6.0 issues, including the resolved ones, so we have a record. To my knowledge there were 4 issues, 3 of which have been resolved with one (Singular) outstanding. But there may be others I'm unaware of, so others should edit the description if I missed any. \n\nThe ticket I created does mention both the Wiki and the Installation Guide will need updating when these issues are resolved. \n \n> Regarding the actual patch here, the description says something about GNU tar vs. BSD tar, but the patch discusses GNU make vs. BSD make. \n\nI was sitting in bed thinking the exact same thing. I was aware I'd put the wrong information in the patch. Still, the point about needing GNU Make on Solaris is true so I just need to add the information about 'tar' \n\n> I also have a program installed called \"bsdmake\".  When I tried building Sage with `export MAKE=\"bsdmake -j2\"`, I got an error building boehm_gc:\n\n> I think it's probably true you need GNU make too,\n\nYes, it probably is true you need GNU make, though I think Solaris and OpenSolaris are the only systems where that version of 'make' is not the default. \n\nI will apply a patch to correct the 'tar' issue. As such, I'm marking this as \"needs work\" for now. \n\nDave",
    "created_at": "2011-04-19T03:10:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11006",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11006#issuecomment-119625",
    "user": "drkirkby"
}
```

Replying to [comment:11 jhpalmieri]:
> Do we have a meta-ticket for gcc 4.6.0 issues?  Once they're sorted out, we need to make sure to fix the installation guide accordingly.

We did not, but I have just created one (#11216). I've listed all the gcc 4.6.0 issues, including the resolved ones, so we have a record. To my knowledge there were 4 issues, 3 of which have been resolved with one (Singular) outstanding. But there may be others I'm unaware of, so others should edit the description if I missed any. 

The ticket I created does mention both the Wiki and the Installation Guide will need updating when these issues are resolved. 
 
> Regarding the actual patch here, the description says something about GNU tar vs. BSD tar, but the patch discusses GNU make vs. BSD make. 

I was sitting in bed thinking the exact same thing. I was aware I'd put the wrong information in the patch. Still, the point about needing GNU Make on Solaris is true so I just need to add the information about 'tar' 

> I also have a program installed called "bsdmake".  When I tried building Sage with `export MAKE="bsdmake -j2"`, I got an error building boehm_gc:

> I think it's probably true you need GNU make too,

Yes, it probably is true you need GNU make, though I think Solaris and OpenSolaris are the only systems where that version of 'make' is not the default. 

I will apply a patch to correct the 'tar' issue. As such, I'm marking this as "needs work" for now. 

Dave



---

archive/issue_comments_119626.json:
```json
{
    "body": "Attachment [11159-finally-fix-GNU-tar-issue.patch](tarball://root/attachments/some-uuid/ticket11159/11159-finally-fix-GNU-tar-issue.patch) by drkirkby created at 2011-04-19 03:51:51\n\nState that on OS X, the BSD tar supplied is acceptable.",
    "created_at": "2011-04-19T03:51:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11006",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11006#issuecomment-119626",
    "user": "drkirkby"
}
```

Attachment [11159-finally-fix-GNU-tar-issue.patch](tarball://root/attachments/some-uuid/ticket11159/11159-finally-fix-GNU-tar-issue.patch) by drkirkby created at 2011-04-19 03:51:51

State that on OS X, the BSD tar supplied is acceptable.



---

archive/issue_comments_119627.json:
```json
{
    "body": "I've fixed the tar issue, so are marking this for review. \n\nI actually think another update of this section of the Installation Guide should split up the build instructions on each platform into different sections. i.e have sections for:\n\n* Linux\n* OS X\n* Solaris or OpenSolaris\n* AIX\n* HP-UX\n\nEach platform has it own set of requirements, with no two platforms being exactly the same. Having different sections should cut down the amount a user needs to read. \n\nDave",
    "created_at": "2011-04-19T04:00:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11006",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11006#issuecomment-119627",
    "user": "drkirkby"
}
```

I've fixed the tar issue, so are marking this for review. 

I actually think another update of this section of the Installation Guide should split up the build instructions on each platform into different sections. i.e have sections for:

* Linux
* OS X
* Solaris or OpenSolaris
* AIX
* HP-UX

Each platform has it own set of requirements, with no two platforms being exactly the same. Having different sections should cut down the amount a user needs to read. 

Dave



---

archive/issue_comments_119628.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-04-19T04:00:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11006",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11006#issuecomment-119628",
    "user": "drkirkby"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_119629.json:
```json
{
    "body": "Replying to [comment:9 drkirkby]:\n> My reason for stating 4.7.0 was problematic was because if someone has the latest gcc in their linux distribution, they do have the option of building Sage 4.6.2. \n\nThat was a factually incorrect statement, as I doubt any version of Sage would build with gcc 4.6.0, so Jeroen was certainly correct to remove the comment about Sage 4.7.0.\n\nDave",
    "created_at": "2011-04-19T04:05:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11006",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11006#issuecomment-119629",
    "user": "drkirkby"
}
```

Replying to [comment:9 drkirkby]:
> My reason for stating 4.7.0 was problematic was because if someone has the latest gcc in their linux distribution, they do have the option of building Sage 4.6.2. 

That was a factually incorrect statement, as I doubt any version of Sage would build with gcc 4.6.0, so Jeroen was certainly correct to remove the comment about Sage 4.7.0.

Dave



---

archive/issue_comments_119630.json:
```json
{
    "body": "Attachment [11159_review.patch](tarball://root/attachments/some-uuid/ticket11159/11159_review.patch) by jdemeyer created at 2011-04-19 09:37:52\n\nNew reviewer patch, remove the statement that `m4` is needed (I have built Sage completely from scratch on a GNU/Linux system *without* m4 and it worked).",
    "created_at": "2011-04-19T09:37:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11006",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11006#issuecomment-119630",
    "user": "jdemeyer"
}
```

Attachment [11159_review.patch](tarball://root/attachments/some-uuid/ticket11159/11159_review.patch) by jdemeyer created at 2011-04-19 09:37:52

New reviewer patch, remove the statement that `m4` is needed (I have built Sage completely from scratch on a GNU/Linux system *without* m4 and it worked).



---

archive/issue_comments_119631.json:
```json
{
    "body": "All three patches look good to me.  Dave, the comma starting line 129 in your second patch should actually be at the end of line 128; could you fix that?",
    "created_at": "2011-04-20T19:02:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11006",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11006#issuecomment-119631",
    "user": "jhpalmieri"
}
```

All three patches look good to me.  Dave, the comma starting line 129 in your second patch should actually be at the end of line 128; could you fix that?



---

archive/issue_comments_119632.json:
```json
{
    "body": "Attachment [11159-finally-fix-GNU-tar-issue.2.patch](tarball://root/attachments/some-uuid/ticket11159/11159-finally-fix-GNU-tar-issue.2.patch) by kcrisman created at 2011-04-21 00:53:01\n\nApply this instead, fixes comma",
    "created_at": "2011-04-21T00:53:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11006",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11006#issuecomment-119632",
    "user": "kcrisman"
}
```

Attachment [11159-finally-fix-GNU-tar-issue.2.patch](tarball://root/attachments/some-uuid/ticket11159/11159-finally-fix-GNU-tar-issue.2.patch) by kcrisman created at 2011-04-21 00:53:01

Apply this instead, fixes comma



---

archive/issue_comments_119633.json:
```json
{
    "body": "This fixes, that, and everything else looks nice in the doc.",
    "created_at": "2011-04-21T00:58:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11006",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11006#issuecomment-119633",
    "user": "kcrisman"
}
```

This fixes, that, and everything else looks nice in the doc.



---

archive/issue_comments_119634.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-04-21T00:58:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11006",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11006#issuecomment-119634",
    "user": "kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_119635.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-04-21T19:35:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11006",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11006#issuecomment-119635",
    "user": "jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_119636.json:
```json
{
    "body": "Replying to [comment:16 jhpalmieri]:\n> All three patches look good to me.  Dave, the comma starting line 129 in your second patch should actually be at the end of line 128; could you fix that?\n\nI've been beaten to that, and this is now merged. \n\nWhilst I believe the changes have significantly improved this section of the documentation, I still believe it could be improved somewhat more. Most of the errors have been removed, but it's not wonderfully clear and a bit confusing in places. I've created a new ticket (#11237 )to make some further improvements. Feel free to make any comments on #11237.",
    "created_at": "2011-04-22T00:31:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11006",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11006#issuecomment-119636",
    "user": "drkirkby"
}
```

Replying to [comment:16 jhpalmieri]:
> All three patches look good to me.  Dave, the comma starting line 129 in your second patch should actually be at the end of line 128; could you fix that?

I've been beaten to that, and this is now merged. 

Whilst I believe the changes have significantly improved this section of the documentation, I still believe it could be improved somewhat more. Most of the errors have been removed, but it's not wonderfully clear and a bit confusing in places. I've created a new ticket (#11237 )to make some further improvements. Feel free to make any comments on #11237.
