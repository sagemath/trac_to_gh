# Issue 12578: Fix scoping / name look-up issue und PolyBoRi 0.8.0 and support flags from the envrionment

archive/issues_012578.json:
```json
{
    "body": "Assignee: AlexGhitza\n\nCC:  leif polybori malb burcin\n\nThe following was found out here:\nhttp://groups.google.com/group/sage-release/browse_thread/thread/e2a87c73dc1625f2\n\n```\n* PolyBoRi fails to build due to stricter (C++11) scoping / name look-up rules.\n    Unfortunately PolyBoRi doesn't honor CXXFLAGS, so I had to use CXX=\"g++-4.7.0 -fpermissive\" to make the spkg build. \n```\n\n\nThe scoping issue should be fixed here:\nhttps://bitbucket.org/brickenstein/polybori/changeset/43b3931ceed7/raw/\n\nAlso, we should support CXXFLAGS and CFLAGS (ANd CPPFLAGS?) in the spkg.\n\nIssue created by migration from https://trac.sagemath.org/ticket/12750\n\n",
    "created_at": "2012-03-26T15:19:57Z",
    "labels": [
        "algebra",
        "major",
        "bug"
    ],
    "title": "Fix scoping / name look-up issue und PolyBoRi 0.8.0 and support flags from the envrionment",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12578",
    "user": "AlexanderDreyer"
}
```
Assignee: AlexGhitza

CC:  leif polybori malb burcin

The following was found out here:
http://groups.google.com/group/sage-release/browse_thread/thread/e2a87c73dc1625f2

```
* PolyBoRi fails to build due to stricter (C++11) scoping / name look-up rules.
    Unfortunately PolyBoRi doesn't honor CXXFLAGS, so I had to use CXX="g++-4.7.0 -fpermissive" to make the spkg build. 
```


The scoping issue should be fixed here:
https://bitbucket.org/brickenstein/polybori/changeset/43b3931ceed7/raw/

Also, we should support CXXFLAGS and CFLAGS (ANd CPPFLAGS?) in the spkg.

Issue created by migration from https://trac.sagemath.org/ticket/12750





---

archive/issue_comments_149553.json:
```json
{
    "body": "Changing assignee from AlexGhitza to AlexanderDreyer.",
    "created_at": "2012-03-26T15:25:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12578",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12578#issuecomment-149553",
    "user": "AlexanderDreyer"
}
```

Changing assignee from AlexGhitza to AlexanderDreyer.



---

archive/issue_comments_149554.json:
```json
{
    "body": "There an updates spkg here:\nhttp://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.8.0.p2.spkg",
    "created_at": "2012-03-26T15:25:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12578",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12578#issuecomment-149554",
    "user": "AlexanderDreyer"
}
```

There an updates spkg here:
http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.8.0.p2.spkg



---

archive/issue_comments_149555.json:
```json
{
    "body": "Changing keywords from \"\" to \"C++11 GCC 4.7.0 CXXFLAGS -fpermissive\".",
    "created_at": "2012-03-26T20:11:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12578",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12578#issuecomment-149555",
    "user": "leif"
}
```

Changing keywords from "" to "C++11 GCC 4.7.0 CXXFLAGS -fpermissive".



---

archive/issue_comments_149556.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-03-26T20:12:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12578",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12578#issuecomment-149556",
    "user": "leif"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_149557.json:
```json
{
    "body": "Remove assignee AlexanderDreyer.",
    "created_at": "2012-03-26T20:50:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12578",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12578#issuecomment-149557",
    "user": "AlexanderDreyer"
}
```

Remove assignee AlexanderDreyer.



---

archive/issue_comments_149558.json:
```json
{
    "body": "Set assignee to AlexanderDreyer.",
    "created_at": "2012-03-26T21:36:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12578",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12578#issuecomment-149558",
    "user": "AlexanderDreyer"
}
```

Set assignee to AlexanderDreyer.



---

archive/issue_comments_149559.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-03-28T14:02:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12578",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12578#issuecomment-149559",
    "user": "leif"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_149560.json:
```json
{
    "body": "Works as advertised, i.e., builds with GCC 4.7.0 (*without* `-fpermissive`) and also honors `CXXFLAGS` in the C++ compile commands (although I have to admit I haven't checked *all of them*, just a couple).  Also passes its test suite.\n\nI haven't really looked at the new spkg itself though, but I *expect* it to have no flaws... ;-)",
    "created_at": "2012-03-28T14:02:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12578",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12578#issuecomment-149560",
    "user": "leif"
}
```

Works as advertised, i.e., builds with GCC 4.7.0 (*without* `-fpermissive`) and also honors `CXXFLAGS` in the C++ compile commands (although I have to admit I haven't checked *all of them*, just a couple).  Also passes its test suite.

I haven't really looked at the new spkg itself though, but I *expect* it to have no flaws... ;-)



---

archive/issue_comments_149561.json:
```json
{
    "body": "Replying to [comment:6 leif]:\n> I haven't really looked at the new spkg itself though, but I *expect* it to have no flaws... ;-)\n\nOk, did so.  \"Global\" `CFLAGS`, `CPPFLAGS` and `CXXFLAGS` are properly added now, and upstream patches fixing the name look-up issue get applied.\n\nThe last revision isn't tagged yet (which the merge script then will do later), but more importantly, `SPKG.txt` lacks a new changelog entry.",
    "created_at": "2012-03-28T14:17:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12578",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12578#issuecomment-149561",
    "user": "leif"
}
```

Replying to [comment:6 leif]:
> I haven't really looked at the new spkg itself though, but I *expect* it to have no flaws... ;-)

Ok, did so.  "Global" `CFLAGS`, `CPPFLAGS` and `CXXFLAGS` are properly added now, and upstream patches fixing the name look-up issue get applied.

The last revision isn't tagged yet (which the merge script then will do later), but more importantly, `SPKG.txt` lacks a new changelog entry.



---

archive/issue_comments_149562.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-03-28T14:17:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12578",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12578#issuecomment-149562",
    "user": "leif"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_149563.json:
```json
{
    "body": "I forgot that in the first. I immediately replaced it the spkg, but maybe it was cached somewhere, s.th. you might have to reload it.\n\nThe latest entry is as follows:\n\n```\n### polybori-0.8.0.p2 (Alexander Dreyer, March 26th, 2012)\n * Fix scoping/name look-up issue and support flags from the environment\n```\n",
    "created_at": "2012-03-28T14:27:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12578",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12578#issuecomment-149563",
    "user": "AlexanderDreyer"
}
```

I forgot that in the first. I immediately replaced it the spkg, but maybe it was cached somewhere, s.th. you might have to reload it.

The latest entry is as follows:

```
### polybori-0.8.0.p2 (Alexander Dreyer, March 26th, 2012)
 * Fix scoping/name look-up issue and support flags from the environment
```




---

archive/issue_comments_149564.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-03-28T14:33:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12578",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12578#issuecomment-149564",
    "user": "AlexanderDreyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_149565.json:
```json
{
    "body": "Replying to [comment:8 AlexanderDreyer]:\n> I forgot that in the first. I immediately replaced it the spkg, but maybe it was cached somewhere, s.th. you might have to reload it.\n\nWell, the updated one is nearly 5 hours younger... ;-)",
    "created_at": "2012-03-28T14:35:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12578",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12578#issuecomment-149565",
    "user": "leif"
}
```

Replying to [comment:8 AlexanderDreyer]:
> I forgot that in the first. I immediately replaced it the spkg, but maybe it was cached somewhere, s.th. you might have to reload it.

Well, the updated one is nearly 5 hours younger... ;-)



---

archive/issue_comments_149566.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-03-28T14:35:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12578",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12578#issuecomment-149566",
    "user": "leif"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_149567.json:
```json
{
    "body": "Replying to [comment:10 leif]:\n> Replying to [comment:8 AlexanderDreyer]:\n> > I forgot that in the first. I immediately replaced it the spkg, but maybe it was cached somewhere, s.th. you might have to reload it.\n> \n> Well, the updated one is nearly 5 hours younger... ;-)\nRight, 'immediately' in a philosophical manner ;-) No, sorry I had had trouble connecting to boxen then.",
    "created_at": "2012-03-28T22:31:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12578",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12578#issuecomment-149567",
    "user": "AlexanderDreyer"
}
```

Replying to [comment:10 leif]:
> Replying to [comment:8 AlexanderDreyer]:
> > I forgot that in the first. I immediately replaced it the spkg, but maybe it was cached somewhere, s.th. you might have to reload it.
> 
> Well, the updated one is nearly 5 hours younger... ;-)
Right, 'immediately' in a philosophical manner ;-) No, sorry I had had trouble connecting to boxen then.



---

archive/issue_comments_149568.json:
```json
{
    "body": "Replying to [comment:10 leif]:\n> Replying to [comment:8 AlexanderDreyer]:\n> > I forgot that in the first. I immediately replaced it the spkg, but maybe it was cached somewhere, s.th. you might have to reload it.\n> \n> Well, the updated one is nearly 5 hours younger... ;-)\n\nCan you also have a look at #12754 for PolyBoRi 0.8.1?",
    "created_at": "2012-03-29T07:52:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12578",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12578#issuecomment-149568",
    "user": "AlexanderDreyer"
}
```

Replying to [comment:10 leif]:
> Replying to [comment:8 AlexanderDreyer]:
> > I forgot that in the first. I immediately replaced it the spkg, but maybe it was cached somewhere, s.th. you might have to reload it.
> 
> Well, the updated one is nearly 5 hours younger... ;-)

Can you also have a look at #12754 for PolyBoRi 0.8.1?



---

archive/issue_comments_149569.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-04-02T15:26:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12578",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12578#issuecomment-149569",
    "user": "jdemeyer"
}
```

Resolution: fixed
