# Issue 23808: Generator of Paley digraphs

Issue created by migration from https://trac.sagemath.org/ticket/24045

Original creator: dcoudert

Original creation time: 2017-10-14 12:47:06

We already have undirected Paley graph generator. Here we add the directed version.


---

Comment by dcoudert created at 2017-10-14 12:58:06

New commits:


---

Comment by dcoudert created at 2017-10-14 12:58:06

Changing status from new to needs_review.


---

Comment by tscrim created at 2017-10-14 15:51:48

You should not use `assert` to check user input as those should be something that is always true. Instead, do an `if` with a `raise ValueError`. Also, add a period/full-stop to the end of the 1-line docstring description.


---

Comment by git created at 2017-10-14 17:27:22

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2017-10-14 17:28:49

I have implemented all your comments. I also took the opportunity to remove `assert` from the `PaleyGraph` generator. The methods are almost the same.


---

Comment by tscrim created at 2017-10-14 17:46:48

One last little thing (sorry for not mentioning it earlier), the error messages should start with a lowercase letter (this is consistent with Python, which does not consider them to be full sentences).


---

Comment by git created at 2017-10-14 18:25:14

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2017-10-14 18:26:30

Right. I have forgotten this convention.


---

Comment by tscrim created at 2017-10-14 19:17:26

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2017-10-14 19:17:26

Thanks. LGTM.


---

Comment by dcoudert created at 2017-10-15 09:18:05

The indentation of the seealso block is not correct.


---

Comment by dcoudert created at 2017-10-15 09:18:05

Changing status from positive_review to needs_work.


---

Comment by git created at 2017-10-15 09:18:27

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2017-10-15 09:19:00

Better now. Sorry.


---

Comment by dcoudert created at 2017-10-15 09:19:00

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2017-10-15 15:09:19

Good catch.


---

Comment by tscrim created at 2017-10-15 15:09:19

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-10-21 19:01:14

Resolution: fixed


---

Comment by dimpase created at 2017-10-22 20:39:17

In all respect, this is code bloat, if you ask me... Indeed, Paley digraphs (and, more generally, tournaments with the same spectral properties as of Payley ones) are essential for constructing Hadamard matrices (and Pasechnik graphs ;-)), and in fact the following lines (only few lines down
from your patch) in 
`src/sage/graphs/generators/families.py`
construct the (Seidel, i.e -1,1) adjacency matrix of such a digraph---and more, they do it for more values of 4n-1 than these which are prime powers, e.g. for n=4.

```
    from sage.combinat.matrices.hadamard_matrix import skew_hadamard_matrix
    from sage.matrix.constructor import identity_matrix, matrix
    H = skew_hadamard_matrix(4*n)
    M = H[1:].T[1:] - identity_matrix(4*n-1)
```



---

Comment by dcoudert created at 2017-10-22 21:11:51

So what do you suggest?


---

Comment by dimpase created at 2017-10-22 21:41:44

When I worked on this a couple of years ago I thought long and hard whether I should do a public  interface to this code, and thought it's too much trouble, for noone cares. Wrong :-)

 
Anyhow, the generalisation of Paley digraphs I am talking about is due to A.Duval, [J.Comb.Th. 47(1988) pp. 71-100](http://www.sciencedirect.com/science/article/pii/009731658890043X) 
and is nowadays called strongly regular digraph. We can do a ticket constructing examples---using code in comment 14 above, and Paley would be a subcase (in fact, this code will give you Paley if 4n-1 happens to be a prime power).


---

Comment by dcoudert created at 2017-10-25 12:18:24

That would certainly be useful.


---

Comment by dimpase created at 2018-02-07 11:58:43

Replying to [comment:17 dcoudert]:
> That would certainly be useful.
I've opened #24682 to follow this up.
