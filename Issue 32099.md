# Issue 32099: Implement to_polynomial and from_polynomial for quasimodular forms

Issue created by migration from https://trac.sagemath.org/ticket/32336

Original creator: @DavidAyotte

Original creation time: 2021-08-05 14:51:50

CC:  vdelecroix

The goal of this ticket is like the ticket #32135: implement the methods `to_polynomial` and `from_polynomial` for the class `QuasiModularFormElement` (see #31560, #31512)

In particular, we want to be able to write a quasimodular form as a polynomial in terms of the generators of the graded algebra of quasimodular forms. Examples:


```
sage: QM = QuasiModularForms(1)
sage: f = QM.0 + QM.1
sage: f.to_polynomial()
E2 + E4
sage: P.<E2, E4, E6> = QQ[]
sage: g = QM.from_polynomial(E2 + E4); g
2 + 216*q + 2088*q^2 + 6624*q^3 + 17352*q^4 + 30096*q^5 + O(q^6)
sage: f == g
True
```



---

Comment by @DavidAyotte created at 2021-08-05 18:25:00

Last 10 new commits:


---

Comment by @DavidAyotte created at 2021-08-05 18:25:00

Changing status from new to needs_review.


---

Comment by git created at 2021-08-06 13:37:16

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-09-08 14:07:54

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by git created at 2021-09-14 18:47:08

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-09-27 14:42:26

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-09-27 14:44:09

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mmezzarobba created at 2021-09-27 17:33:45

Just a minor remark: almost all other methods that convert something to a polynomial are called just `polynomial`, not `to_polynomial`. (I have no idea if there is a good reason to deviate from that here.)


---

Comment by @DavidAyotte created at 2021-09-27 18:00:57

Thank you very much for bringing up this remark! I was not aware of this fact, as I never used polynomial conversion methods before. I agree with you: everything should be consistent. What do you think about adding an alias `polynomial = to_polynomial`?

I will also fix the work in #32135 to be consistent with the option we decide.


---

Comment by mmezzarobba created at 2021-09-27 19:10:55

Replying to [comment:9 gh-DavidAyotte]:
> Thank you very much for bringing up this remark! I was not aware of this fact, as I never used polynomial conversion methods before. I agree with you: everything should be consistent. What do you think about adding an alias `polynomial = to_polynomial`?

I am not sure that the alias is necessary, but I have nothing against it!


---

Comment by git created at 2021-10-01 17:39:11

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2021-10-03 08:14:44

It seems like you also have some stuff from #32357 merged in here. While I am not strictly opposed to that, I feel it would be better to have this ticket be "clean" in the sense it only has the code going to/from a polynomial ring.

I agree with Marc about calling the method `polynomial`. I might want to avoid the alias because it clutters things a bit. I am not that opposed to it, but I would want to call the method `polynomial` with `to_polynomial = polynomial` to subtly indicate which is the "main" method.


---

Comment by @DavidAyotte created at 2021-10-06 14:35:08

> It seems like you also have some stuff from #32357 merged in here.

Thank you very much for finding this. I think that you are talking about the method `differentiation_operator` (are you?). In fact, this method was written at the beginning of my GSOC project (in #31512) and it happens that I removed it in #31512, but it must have slipped through the cracks when I resolved the merge conflicts. It is indeed important to clean this!

Concerning the `to_polynomial` method, I will rename it as you and Marc suggested. For now, I will also leave an alias `to_polynomial = polynomial`.

Again, thank you very much for taking the time to look at this.


---

Comment by git created at 2021-10-06 15:06:31

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2021-10-06 22:41:30

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2021-10-06 22:41:30

Thanks. LGTM.


---

Comment by vbraun created at 2021-10-10 10:17:00

Resolution: fixed
