# Issue 14106: CBC compilation problem -- optional arguments in a .pxd file

archive/issues_014106.json:
```json
{
    "body": "Assignee: ncohen\n\nCC:  pmueller\n\nAs reported there :\n\nhttps://groups.google.com/forum/?fromgroups=#!topic/sage-support/ZMzeEG-NSFo\n\nThis apparently comes from a Cython upgrade. Anyway nobody used those optional parameters ! `:-P`\n\nNathann\n\nIssue created by migration from https://trac.sagemath.org/ticket/14310\n\n",
    "created_at": "2013-03-19T11:20:43Z",
    "labels": [
        "linear programming",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.9",
    "title": "CBC compilation problem -- optional arguments in a .pxd file",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14106",
    "user": "ncohen"
}
```
Assignee: ncohen

CC:  pmueller

As reported there :

https://groups.google.com/forum/?fromgroups=#!topic/sage-support/ZMzeEG-NSFo

This apparently comes from a Cython upgrade. Anyway nobody used those optional parameters ! `:-P`

Nathann

Issue created by migration from https://trac.sagemath.org/ticket/14310





---

archive/issue_comments_176861.json:
```json
{
    "body": "Fixed ! It also seems that Coin was had become a bit too verbose, for some reason `O_o`\n\nNathann",
    "created_at": "2013-03-19T11:27:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14106#issuecomment-176861",
    "user": "ncohen"
}
```

Fixed ! It also seems that Coin was had become a bit too verbose, for some reason `O_o`

Nathann



---

archive/issue_comments_176862.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-03-19T11:27:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14106#issuecomment-176862",
    "user": "ncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_176863.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-03-20T09:36:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14106#issuecomment-176863",
    "user": "pmueller"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_176864.json:
```json
{
    "body": "The patch installed fine, and some simple tests which work with different solvers work with the coin-cbc solver too.\n\nHowever, as suggested in the section `Reviewing a patch', I did run `./sage --testall --long`, and got two failures:\n\n\n```\n**********************************************************************\nFile \"/home/mueller/local/sage-5.8/devel/sage/doc/en/thematic_tutorials/linear_p\nrogramming.rst\", line 281:\n    sage: p.solve()\nExpected:\n    3.1502766806530307\nGot:\n    3.15027668065\n**********************************************************************\nFile \"/home/mueller/local/sage-5.8/devel/sage/doc/en/thematic_tutorials/linear_p\nrogramming.rst\", line 291:\n    sage: sum(weight[o] * taken[o] for o in L)\nExpected:\n    0.6964959796619171\nGot:\n    0.696495979661917\n**********************************************************************\n1 items had failures:\n   2 of  18 in __main__.example_1\n***Test Failed*** 2 failures.\nFor whitespace errors, see the file /home/mueller/.sage//tmp/linear_programming_6443.py\n```\n\nand another one\n\n```\n**********************************************************************\nFile \"/home/mueller/local/sage-5.8/devel/sage/sage/numerical/mip.pyx\", line 1853\n:\n    sage: b.solver_parameter(\"simplex_or_intopt\", \"simplex_only\")\nException raised:\n    Traceback (most recent call last):\n      File \"/home/mueller/local/sage-5.8/local/bin/ncadoctest.py\", line 1231, in\n run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/mueller/local/sage-5.8/local/bin/sagedoctest.py\", line 38, in \nrun_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compile\nflags)\n      File \"/home/mueller/local/sage-5.8/local/bin/ncadoctest.py\", line 1172, in\n run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_36[8]>\", line 1, in <module>\n        b.solver_parameter(\"simplex_or_intopt\", \"simplex_only\")###line 1853:\n    sage: b.solver_parameter(\"simplex_or_intopt\", \"simplex_only\")\n      File \"generic_backend.pyx\", line 837, in sage.numerical.backends.generic_b\nackend.GenericBackend.solver_parameter (sage/numerical/backends/generic_backend.\nc:6199)\n      File \"generic_backend.pyx\", line 861, in sage.numerical.backends.generic_b\nackend.GenericBackend.solver_parameter (sage/numerical/backends/generic_backend.\nc:6103)\n    NotImplementedError\n**********************************************************************\nFile \"/home/mueller/local/sage-5.8/devel/sage/sage/numerical/mip.pyx\", line 1854\n:\n    sage: b.solver_parameter(\"verbosity_simplex\", \"GLP_MSG_ALL\")\nException raised:\n    Traceback (most recent call last):\n      File \"/home/mueller/local/sage-5.8/local/bin/ncadoctest.py\", line 1231, in\n run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/mueller/local/sage-5.8/local/bin/sagedoctest.py\", line 38, in \nrun_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compile\nflags)\n      File \"/home/mueller/local/sage-5.8/local/bin/ncadoctest.py\", line 1172, in\n run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_36[9]>\", line 1, in <module>\n        b.solver_parameter(\"verbosity_simplex\", \"GLP_MSG_ALL\")###line 1854:\n    sage: b.solver_parameter(\"verbosity_simplex\", \"GLP_MSG_ALL\")\n      File \"generic_backend.pyx\", line 837, in sage.numerical.backends.generic_b\nackend.GenericBackend.solver_parameter (sage/numerical/backends/generic_backend.\nc:6199)\n      File \"generic_backend.pyx\", line 861, in sage.numerical.backends.generic_b\nackend.GenericBackend.solver_parameter (sage/numerical/backends/generic_backend.\nc:6103)\n    NotImplementedError\n**********************************************************************\n1 items had failures:\n   2 of  14 in __main__.example_36\n***Test Failed*** 2 failures.\nFor whitespace errors, see the file /home/mueller/.sage//tmp/mip_20568.py\n```\n\nNot sure if that matters, but my understanding (as a beginner) is that this test is expected to produce not even one error, no matter how harmless it is.\n\n-- Peter M\u00fcller",
    "created_at": "2013-03-20T09:36:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14106#issuecomment-176864",
    "user": "pmueller"
}
```

The patch installed fine, and some simple tests which work with different solvers work with the coin-cbc solver too.

However, as suggested in the section `Reviewing a patch', I did run `./sage --testall --long`, and got two failures:


```
**********************************************************************
File "/home/mueller/local/sage-5.8/devel/sage/doc/en/thematic_tutorials/linear_p
rogramming.rst", line 281:
    sage: p.solve()
Expected:
    3.1502766806530307
Got:
    3.15027668065
**********************************************************************
File "/home/mueller/local/sage-5.8/devel/sage/doc/en/thematic_tutorials/linear_p
rogramming.rst", line 291:
    sage: sum(weight[o] * taken[o] for o in L)
Expected:
    0.6964959796619171
Got:
    0.696495979661917
**********************************************************************
1 items had failures:
   2 of  18 in __main__.example_1
***Test Failed*** 2 failures.
For whitespace errors, see the file /home/mueller/.sage//tmp/linear_programming_6443.py
```

and another one

```
**********************************************************************
File "/home/mueller/local/sage-5.8/devel/sage/sage/numerical/mip.pyx", line 1853
:
    sage: b.solver_parameter("simplex_or_intopt", "simplex_only")
Exception raised:
    Traceback (most recent call last):
      File "/home/mueller/local/sage-5.8/local/bin/ncadoctest.py", line 1231, in
 run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/mueller/local/sage-5.8/local/bin/sagedoctest.py", line 38, in 
run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compile
flags)
      File "/home/mueller/local/sage-5.8/local/bin/ncadoctest.py", line 1172, in
 run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_36[8]>", line 1, in <module>
        b.solver_parameter("simplex_or_intopt", "simplex_only")###line 1853:
    sage: b.solver_parameter("simplex_or_intopt", "simplex_only")
      File "generic_backend.pyx", line 837, in sage.numerical.backends.generic_b
ackend.GenericBackend.solver_parameter (sage/numerical/backends/generic_backend.
c:6199)
      File "generic_backend.pyx", line 861, in sage.numerical.backends.generic_b
ackend.GenericBackend.solver_parameter (sage/numerical/backends/generic_backend.
c:6103)
    NotImplementedError
**********************************************************************
File "/home/mueller/local/sage-5.8/devel/sage/sage/numerical/mip.pyx", line 1854
:
    sage: b.solver_parameter("verbosity_simplex", "GLP_MSG_ALL")
Exception raised:
    Traceback (most recent call last):
      File "/home/mueller/local/sage-5.8/local/bin/ncadoctest.py", line 1231, in
 run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/mueller/local/sage-5.8/local/bin/sagedoctest.py", line 38, in 
run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compile
flags)
      File "/home/mueller/local/sage-5.8/local/bin/ncadoctest.py", line 1172, in
 run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_36[9]>", line 1, in <module>
        b.solver_parameter("verbosity_simplex", "GLP_MSG_ALL")###line 1854:
    sage: b.solver_parameter("verbosity_simplex", "GLP_MSG_ALL")
      File "generic_backend.pyx", line 837, in sage.numerical.backends.generic_b
ackend.GenericBackend.solver_parameter (sage/numerical/backends/generic_backend.
c:6199)
      File "generic_backend.pyx", line 861, in sage.numerical.backends.generic_b
ackend.GenericBackend.solver_parameter (sage/numerical/backends/generic_backend.
c:6103)
    NotImplementedError
**********************************************************************
1 items had failures:
   2 of  14 in __main__.example_36
***Test Failed*** 2 failures.
For whitespace errors, see the file /home/mueller/.sage//tmp/mip_20568.py
```

Not sure if that matters, but my understanding (as a beginner) is that this test is expected to produce not even one error, no matter how harmless it is.

-- Peter Müller



---

archive/issue_comments_176865.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-03-20T18:01:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14106#issuecomment-176865",
    "user": "ncohen"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_176866.json:
```json
{
    "body": "Patch updated ! But the second doctest error you get has been fixed since by #14238 `:-)`\n\nNathann",
    "created_at": "2013-03-20T18:01:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14106#issuecomment-176866",
    "user": "ncohen"
}
```

Patch updated ! But the second doctest error you get has been fixed since by #14238 `:-)`

Nathann



---

archive/issue_comments_176867.json:
```json
{
    "body": "Replying to [comment:3 ncohen]:\n> Patch updated ! But the second doctest error you get has been fixed since by #14238 `:-)`\n> \n> Nathann\n\nOops, sorry, I tested under 5.8 instead of 5.9.beta0. (I said I'm a beginner ...) Tomorrow I'll install 5.9, and test the patch again.",
    "created_at": "2013-03-20T18:31:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14106#issuecomment-176867",
    "user": "pmueller"
}
```

Replying to [comment:3 ncohen]:
> Patch updated ! But the second doctest error you get has been fixed since by #14238 `:-)`
> 
> Nathann

Oops, sorry, I tested under 5.8 instead of 5.9.beta0. (I said I'm a beginner ...) Tomorrow I'll install 5.9, and test the patch again.



---

archive/issue_comments_176868.json:
```json
{
    "body": "Attachment [trac_14310.patch](tarball://root/attachments/some-uuid/ticket14310/trac_14310.patch) by ncohen created at 2013-03-21 16:12:03",
    "created_at": "2013-03-21T16:12:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14106#issuecomment-176868",
    "user": "ncohen"
}
```

Attachment [trac_14310.patch](tarball://root/attachments/some-uuid/ticket14310/trac_14310.patch) by ncohen created at 2013-03-21 16:12:03



---

archive/issue_comments_176869.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-03-21T16:24:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14106#issuecomment-176869",
    "user": "pmueller"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_176870.json:
```json
{
    "body": "The latest version of the patch now passed the tests under version 5.9.beta0 which failed before.",
    "created_at": "2013-03-21T16:24:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14106#issuecomment-176870",
    "user": "pmueller"
}
```

The latest version of the patch now passed the tests under version 5.9.beta0 which failed before.



---

archive/issue_comments_176871.json:
```json
{
    "body": "Thaaaaank you for this review ! You can now fill the \"reviewer\" field with your name `:-)`\n\nNathann",
    "created_at": "2013-03-21T16:29:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14106#issuecomment-176871",
    "user": "ncohen"
}
```

Thaaaaank you for this review ! You can now fill the "reviewer" field with your name `:-)`

Nathann



---

archive/issue_comments_176872.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-03-26T22:31:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14106",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14106#issuecomment-176872",
    "user": "jdemeyer"
}
```

Resolution: fixed
