# Issue 20728: py3 import in modular folder (futurize)

Issue created by migration from https://trac.sagemath.org/ticket/20965

Original creator: chapoton

Original creation time: 2016-07-06 19:18:42

as a step towars py3

done using first

```
futurize -w -f absolute_import src/sage/modular/
```

and then battling with the import-hell there.


---

Comment by chapoton created at 2016-07-06 19:32:58

New commits:


---

Comment by chapoton created at 2016-07-06 19:32:58

Changing status from new to needs_review.


---

Comment by jmantysalo created at 2016-07-06 19:54:35

Changing status from needs_review to needs_work.


---

Comment by jmantysalo created at 2016-07-06 19:54:35

Long doctest on `src/sage/modular/modsym/g1list.py` fails.

`src/sage/modular/modform_hecketriangle/all.py` contains unnecessay line continuation marks.

Why you added `from .ghlist import GHlist` to `src/sage/modular/modsym/all.py`?


---

Comment by git created at 2016-07-06 19:57:06

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2016-07-06 19:59:05

Replying to [comment:2 jmantysalo]:
> Long doctest on `src/sage/modular/modsym/g1list.py` fails.

solved by adding an import again, as I did before for ghlist

> `src/sage/modular/modform_hecketriangle/all.py` contains unnecessay line continuation marks.

for another ticket, maybe ? This one is already rather huge..

> Why you added `from .ghlist import GHlist` to `src/sage/modular/modsym/all.py`?

This was to solve some failing doctest in ghlist, similar to the ones in g1list.


---

Comment by chapoton created at 2016-07-06 20:00:44

Changing status from needs_work to needs_review.


---

Comment by jmantysalo created at 2016-07-07 04:32:42

Changing status from needs_review to positive_review.


---

Comment by jmantysalo created at 2016-07-07 04:32:42

Replying to [comment:4 chapoton]:

> > `src/sage/modular/modform_hecketriangle/all.py` contains unnecessay line continuation marks.
> 
> for another ticket, maybe ? This one is already rather huge..

Yes, can be done later.

Now also the last file passes tests. Thanks again.


---

Comment by vbraun created at 2016-07-07 20:23:44

Changing status from positive_review to needs_work.


---

Comment by vbraun created at 2016-07-07 20:23:44

Fails because of a newly-added module, please merge in next beta 

```
DO NOT INTERRUPT THIS.
Done updating paths.
Traceback (most recent call last):
  File "/home/buildslave-sage/slave/sage_git/build/src/bin/sage-eval", line 4, in <module>
    from sage.all import *
  File "/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/all.py", line 113, in <module>
    from sage.modular.all    import *
  File "/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/modular/all.py", line 38, in <module>
    from btquotients.all import *
ImportError: No module named btquotients.all
Sage failed to start up.
```



---

Comment by git created at 2016-07-08 09:39:52

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2016-07-08 09:40:27

trivial rebase, I am setting this back to positive review


---

Comment by chapoton created at 2016-07-08 09:40:27

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2016-07-09 07:46:07

Resolution: fixed
