# Issue 12952: Updating PolyBoRi to release 0.8.2

Issue created by migration from Trac.

Original creator: AlexanderDreyer

Original creation time: 2012-06-16 20:50:58

Assignee: AlexanderDreyer

CC:  polybori malb burcin

PolyBoRi's next minor release will be out soon.
There were no changes of the interface between PolyBoRi 0.8.2 and 0.8.1, so we just have to update the sources from here:

https://sourceforge.net/projects/polybori/files/polybori/0.8.2rc

PolyBoRi 0.8.2 is a bugfix release incorporating all previous patches from Sage.

### Current spkg
 * *Install* http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.8.2.p0.spkg


---

Comment by AlexanderDreyer created at 2012-06-16 20:57:18

The spkg is in place now.


---

Comment by AlexanderDreyer created at 2012-06-16 20:57:18

Changing status from new to needs_review.


---

Comment by malb created at 2012-06-17 13:45:29

* installs fine
 * doctests pass
 * package look okay

Only issue: I think it's our policy not to have .p0 for fresh packages, but just the name. Can you drop the .p0?


---

Comment by AlexanderDreyer created at 2012-06-17 19:50:40

Replying to [comment:2 malb]:
> Only issue: I think it's our policy not to have .p0 for fresh packages, but just the name. Can you drop the .p0?
No problem, the updated spkg (renamed and changed tag line in `SPKG.txt`) is in place, see above.


---

Comment by malb created at 2012-06-18 08:35:09

Changing status from needs_review to positive_review.


---

Comment by malb created at 2012-06-18 08:35:09

All done then. :)


---

Comment by AlexanderDreyer created at 2012-06-19 08:44:56

I just updated the spkg to include the following patch in the upstream sources:
https://bitbucket.org/brickenstein/polybori/changeset/b5c2173f7a43
The issue was discovered in #13133. I don't add `.p0`, since the patch will be in PolyBoRi 0.8.2's next rc.


---

Comment by AlexanderDreyer created at 2012-06-19 08:46:26

`@`malb Staying positive reviewed?


---

Comment by jdemeyer created at 2012-06-19 08:49:23

Please don't name the spkg version "0.8.2" if polybori-0.8.2 hasn't actually been released!  If the upstream version is called "0.8.2rc1", then so should the Sage version be (including in `SPKG.txt`).


---

Comment by jdemeyer created at 2012-06-19 08:49:23

Changing status from positive_review to needs_work.


---

Comment by AlexanderDreyer created at 2012-06-19 08:53:43

We are currently co-developing. PolyBoRi 0.8.2 will be whatever the result of this ticket is.


---

Comment by jdemeyer created at 2012-06-19 09:00:13

That makes sense, you you should really make sure that the upstream polybori-0.8.2 is *identical* to the Sage polybori-0.8.2.

Believe me, I have seen this kind of problems in the past with other packages where the upstream version was close to, but not quite equal to the Sage version.


---

Comment by malb created at 2012-06-19 09:02:39

Replying to [comment:9 jdemeyer]:
> Please don't name the spkg version "0.8.2" if polybori-0.8.2 hasn't actually been released!  If the upstream version is called "0.8.2rc1", then so should the Sage version be (including in `SPKG.txt`).

Because packages like PolyBoRi (and e.g., M4RI) wait for Sage's tests to pass before releasing, this strategy would create unnecessary bureaucracy. We'd do a rcX, Sage includes the package, we another package which is the final.


---

Comment by malb created at 2012-06-19 09:03:40

Replying to [comment:8 AlexanderDreyer]:
> `@`malb Staying positive reviewed?

Yep.


---

Comment by jdemeyer created at 2012-06-19 09:15:12

Changing status from needs_work to positive_review.


---

Comment by jdemeyer created at 2012-06-19 09:15:12

Positive review then.


---

Comment by AlexanderDreyer created at 2012-06-19 09:42:00

Understanding that spkgs could be messed up, I document the source matching here:

```
> md5sum *
7e077b1838ec7a80adf250d64ed17e38  polybori-0.8.2rc3.tar.gz
872cd541b398de44a602a058286d6a17  polybori-0.8.2.spkg
> mkdir orig; tar -C orig -xzf polybori-0.8.2rc3.tar.gz
> mkdir spkg; tar -C spkg -xjf polybori-0.8.2.spkg
> diff --recursive -u spkg/polybori-0.8.2/src/ orig/polybori-0.8.2/
Only in orig/polybori-0.8.2/: M4RI
```



---

Comment by vbraun created at 2012-06-21 13:31:16

I just noticed that polybori was the culprit for the `mult_table0.png` .. files, which is fixed in this version. So please update ;-)


---

Comment by jdemeyer created at 2012-06-30 07:51:14

Fails to build on `hawk` (OpenSolaris 06.2009-32):

```
polybori-0.8.2
====================================================
Extracting package /export/home/buildbot/build/sage/hawk-1/hawk_full/build/sage-5.2.beta0/spkg/standard/polybori-0.8.2.spkg
-rw-r--r--   1 buildbot other    13486080 Jun 29 22:30 /export/home/buildbot/build/sage/hawk-1/hawk_full/build/sage-5.2.beta0/spkg/standard/polybori-0.8.2.spkg
Finished extraction
****************************************************
Host system:
SunOS hawk 5.11 snv_134 i86pc i386 i86pc
****************************************************
C compiler: gcc
C compiler version:
Using built-in specs.
Target: i386-pc-solaris2.11
Configured with: ../gcc-4.4-20100112/configure --with-as=/usr/local/binutils-2.20/bin/as --with-ld=/usr/ccs/bin/ld --with-gmp=/usr/local --with-mpfr=/usr/local
Thread model: posix
gcc version 4.4.3 20100112 (prerelease) (GCC) 
****************************************************
Starting build...
Removing old PolyBoRi install...
Done removing old PolyBoRi install.
Running build_polybori...
scons: Reading SConscript files ...
Platform:  sunos5
Platform:  sunos5
Platform:  sunos5
ValueError: too many values to unpack:
  File "/export/home/buildbot/build/sage/hawk-1/hawk_full/build/sage-5.2.beta0/spkg/build/polybori-0.8.2/src/SConstruct", line 483:
    (env, opts) = setup_env(defaultenv)
Error building PolyBoRi.
```



---

Comment by jdemeyer created at 2012-06-30 07:51:14

Changing status from positive_review to needs_work.


---

Comment by AlexanderDreyer created at 2012-06-30 14:16:55

I fixed that issue and added an updated spkg at the same place.
http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.8.2.spkg
(The previous one archived to polybori-0.8.2.spkg.1)


---

Comment by AlexanderDreyer created at 2012-06-30 14:16:55

Changing status from needs_work to needs_review.


---

Comment by jdemeyer created at 2012-07-02 15:43:01

The download link gives a 404 Not Found error.


---

Comment by jdemeyer created at 2012-07-02 15:43:01

Changing status from needs_review to needs_work.


---

Comment by AlexanderDreyer created at 2012-07-02 18:42:58

Changing status from needs_work to needs_review.


---

Comment by AlexanderDreyer created at 2012-07-02 18:42:58

Sorry, I'd accidentally put it to the wrong dir. Now it's at the correct url.


---

Comment by jdemeyer created at 2012-07-06 09:25:44

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2012-07-06 09:25:44

Compiles fine on `hawk`.


---

Comment by jdemeyer created at 2012-07-07 22:31:05

Resolution: fixed


---

Comment by AlexanderDreyer created at 2012-07-09 13:06:36

Just for documentation: the sources of `polybori-0.8.2.spkg` from sage-5.2.rc0 became release 0.8.2 at https://sourceforge.net/projects/polybori/files/polybori/0.8.2/:

```
> md5sum polybori-0.8.2.tar.gz polybori-0.8.2.spkg
82649420bae3275138469db6f19aac8e  polybori-0.8.2.tar.gz
5d3fb11901c5ab23e34ca3eefbf3028c  polybori-0.8.2.spkg
> mkdir orig; tar -C orig -xzf polybori-0.8.2.tar.gz
> mkdir spkg; tar -C spkg -xjf polybori-0.8.2.spkg
> diff --recursive -u spkg/polybori-0.8.2/src/ orig/polybori-0.8.2/
Only in orig/polybori-0.8.2/: M4RI
```

