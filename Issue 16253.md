# Issue 16253: Create a linear programming backend for cvxopt

archive/issues_016253.json:
```json
{
    "body": "CC:  @dimpase @nathanncohen\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/16490\n\n",
    "created_at": "2014-06-17T10:53:49Z",
    "labels": [],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "Create a linear programming backend for cvxopt",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16253",
    "user": "https://github.com/ingolfured"
}
```
CC:  @dimpase @nathanncohen



Issue created by migration from https://trac.sagemath.org/ticket/16490





---

archive/issue_comments_212286.json:
```json
{
    "body": "Changing priority from major to minor.",
    "created_at": "2014-06-17T10:58:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212286",
    "user": "https://github.com/ingolfured"
}
```

Changing priority from major to minor.



---

archive/issue_comments_212287.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to linear programming.",
    "created_at": "2014-06-17T10:58:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212287",
    "user": "https://github.com/ingolfured"
}
```

Changing component from PLEASE CHANGE to linear programming.



---

archive/issue_comments_212288.json:
```json
{
    "body": "Set assignee to @ingolfured.",
    "created_at": "2014-06-17T10:58:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212288",
    "user": "https://github.com/ingolfured"
}
```

Set assignee to @ingolfured.



---

archive/issue_comments_212289.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to task.",
    "created_at": "2014-06-17T10:58:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212289",
    "user": "https://github.com/ingolfured"
}
```

Changing type from PLEASE CHANGE to task.



---

archive/issue_comments_212290.json:
```json
{
    "body": "Changing type from task to enhancement.",
    "created_at": "2014-06-17T11:35:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212290",
    "user": "https://github.com/dimpase"
}
```

Changing type from task to enhancement.



---

archive/issue_comments_212291.json:
```json
{
    "body": "Replying to [comment:3 ingolfured]:\nthis didn't seem to create anything on the trac git repo...",
    "created_at": "2014-06-17T19:49:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212291",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:3 ingolfured]:
this didn't seem to create anything on the trac git repo...



---

archive/issue_comments_212292.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-19T11:57:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212292",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_212293.json:
```json
{
    "body": "you should add the remaining stuff too, there are more files, as you know:\n\n```\n$ git diff 2b1d88becbc8cb30962e0995cc78e429e0f5589f | grep ^diff\ndiff --git a/src/module_list.py b/src/module_list.py\ndiff --git a/src/sage/numerical/backends/cvxopt_backend.pxd b/src/sage/numerical/backends/cvxopt_backend.pxd\ndiff --git a/src/sage/numerical/backends/cvxopt_backend.pyx b/src/sage/numerical/backends/cvxopt_backend.pyx\ndiff --git a/src/sage/numerical/backends/generic_backend.pyx b/src/sage/numerical/backends/generic_backend.pyx\ndiff --git a/src/sage/numerical/backends/ppl_backend.pyx b/src/sage/numerical/backends/ppl_backend.pyx\ndiff --git a/src/sage/numerical/mip.pyx b/src/sage/numerical/mip.pyx\n```\n",
    "created_at": "2014-06-19T12:13:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212293",
    "user": "https://github.com/dimpase"
}
```

you should add the remaining stuff too, there are more files, as you know:

```
$ git diff 2b1d88becbc8cb30962e0995cc78e429e0f5589f | grep ^diff
diff --git a/src/module_list.py b/src/module_list.py
diff --git a/src/sage/numerical/backends/cvxopt_backend.pxd b/src/sage/numerical/backends/cvxopt_backend.pxd
diff --git a/src/sage/numerical/backends/cvxopt_backend.pyx b/src/sage/numerical/backends/cvxopt_backend.pyx
diff --git a/src/sage/numerical/backends/generic_backend.pyx b/src/sage/numerical/backends/generic_backend.pyx
diff --git a/src/sage/numerical/backends/ppl_backend.pyx b/src/sage/numerical/backends/ppl_backend.pyx
diff --git a/src/sage/numerical/mip.pyx b/src/sage/numerical/mip.pyx
```




---

archive/issue_comments_212294.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-19T13:05:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212294",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_212295.json:
```json
{
    "body": "could you add your new file to the doc index please ? `:-)`\n\nSAGE_ROOT/src/doc/en/reference/numerical/index.rst\n\nNathann",
    "created_at": "2014-06-19T14:39:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212295",
    "user": "https://github.com/nathanncohen"
}
```

could you add your new file to the doc index please ? `:-)`

SAGE_ROOT/src/doc/en/reference/numerical/index.rst

Nathann



---

archive/issue_comments_212296.json:
```json
{
    "body": "Replying to [comment:8 ncohen]:\n> could you add your new file to the doc index please ? `:-)`\n> \n> SAGE_ROOT/src/doc/en/reference/numerical/index.rst\n> \nand do not forget\n\n`src/sage/numerical/backends/generic_backend.pyx`\n\n(we are talking about stuff migrating from https://github.com/ingolfured/sageproject)\n\nI am skeptical about the change to `src/sage/numerical/backends/ppl_backend.pyx`.\nWhy do you need this?! PPL does not work with floats, it works with arbitrary precision integers!",
    "created_at": "2014-06-19T15:10:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212296",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:8 ncohen]:
> could you add your new file to the doc index please ? `:-)`
> 
> SAGE_ROOT/src/doc/en/reference/numerical/index.rst
> 
and do not forget

`src/sage/numerical/backends/generic_backend.pyx`

(we are talking about stuff migrating from https://github.com/ingolfured/sageproject)

I am skeptical about the change to `src/sage/numerical/backends/ppl_backend.pyx`.
Why do you need this?! PPL does not work with floats, it works with arbitrary precision integers!



---

archive/issue_comments_212297.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-20T12:31:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212297",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_212298.json:
```json
{
    "body": "A couple of things:\n\n`# optional - CVXOPT` tags should not be there, as CVXOPT is a standard part of Sage.\n\ncheck the copyright notices on your .pxd and .pyx files - some of them list Nathann as the author :-)",
    "created_at": "2014-06-20T13:55:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212298",
    "user": "https://github.com/dimpase"
}
```

A couple of things:

`# optional - CVXOPT` tags should not be there, as CVXOPT is a standard part of Sage.

check the copyright notices on your .pxd and .pyx files - some of them list Nathann as the author :-)



---

archive/issue_comments_212299.json:
```json
{
    "body": "please also add a mentioning of CVXOPT to `src/doc/en/thematic_tutorials/linear_programming.rst`",
    "created_at": "2014-06-20T14:06:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212299",
    "user": "https://github.com/dimpase"
}
```

please also add a mentioning of CVXOPT to `src/doc/en/thematic_tutorials/linear_programming.rst`



---

archive/issue_comments_212300.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-22T11:52:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212300",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_212301.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-23T10:38:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212301",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_212302.json:
```json
{
    "body": "You do some damage to the documentation of `generic_backend.pyx` if I may say.\n\nNathann",
    "created_at": "2014-06-23T10:40:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212302",
    "user": "https://github.com/nathanncohen"
}
```

You do some damage to the documentation of `generic_backend.pyx` if I may say.

Nathann



---

archive/issue_comments_212303.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-23T11:18:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212303",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_212304.json:
```json
{
    "body": "there is a little thing we never got around to fix in `generic_backend`:\n\n```\n+        ValueError: 'solver' should be set to 'GLPK', 'Coin', 'CPLEX', 'Gurobi', 'CVXOPT' or None.\n         sage: default_mip_solver(former_solver)\n     \"\"\"\n     global default_solver\n@@ -917,7 +921,7 @@ def default_mip_solver(solver = None):\n             return default_solver\n \n         else:\n-            for s in [\"Cplex\", \"Gurobi\", \"Coin\", \"Glpk\"]:\n+            for s in [\"Cplex\", \"Gurobi\", \"Coin\", \"Glpk\", \"Cvxopt\"]:\n```\n\nhere the lists of solvers (in both `+` lines) should mention PPL, too. Please fix this.",
    "created_at": "2014-06-23T12:19:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212304",
    "user": "https://github.com/dimpase"
}
```

there is a little thing we never got around to fix in `generic_backend`:

```
+        ValueError: 'solver' should be set to 'GLPK', 'Coin', 'CPLEX', 'Gurobi', 'CVXOPT' or None.
         sage: default_mip_solver(former_solver)
     """
     global default_solver
@@ -917,7 +921,7 @@ def default_mip_solver(solver = None):
             return default_solver
 
         else:
-            for s in ["Cplex", "Gurobi", "Coin", "Glpk"]:
+            for s in ["Cplex", "Gurobi", "Coin", "Glpk", "Cvxopt"]:
```

here the lists of solvers (in both `+` lines) should mention PPL, too. Please fix this.



---

archive/issue_comments_212305.json:
```json
{
    "body": "Ingo, did you try building docs? I get\n\n```\n[numerical] docstring of sage.numerical.backends.cvxopt_backend.CVXOPTBackend.add_col:16: ERROR: Unexpected indentation.\n[numerical] docstring of sage.numerical.backends.cvxopt_backend.CVXOPTBackend.add_col:17: WARNING: Block quote ends without a blank line; unexpected unindent.\n[numerical] docstring of sage.numerical.backends.cvxopt_backend.CVXOPTBackend.add_col:24: WARNING: Block quote ends without a blank line; unexpected unindent.\n[numerical] docstring of sage.numerical.backends.cvxopt_backend.CVXOPTBackend.add_col:26: WARNING: Block quote ends without a blank line; unexpected unindent.\n```\n\n(there is some silly formatting error in `cvxopt_backend`, apparently)",
    "created_at": "2014-06-23T12:26:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212305",
    "user": "https://github.com/dimpase"
}
```

Ingo, did you try building docs? I get

```
[numerical] docstring of sage.numerical.backends.cvxopt_backend.CVXOPTBackend.add_col:16: ERROR: Unexpected indentation.
[numerical] docstring of sage.numerical.backends.cvxopt_backend.CVXOPTBackend.add_col:17: WARNING: Block quote ends without a blank line; unexpected unindent.
[numerical] docstring of sage.numerical.backends.cvxopt_backend.CVXOPTBackend.add_col:24: WARNING: Block quote ends without a blank line; unexpected unindent.
[numerical] docstring of sage.numerical.backends.cvxopt_backend.CVXOPTBackend.add_col:26: WARNING: Block quote ends without a blank line; unexpected unindent.
```

(there is some silly formatting error in `cvxopt_backend`, apparently)



---

archive/issue_comments_212306.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-23T13:21:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212306",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_212307.json:
```json
{
    "body": "Yo !\n\nYou put cvxopt before gurobi in the ordering of LP solvers: this list is meant to be \"use the fastest solver available installed on this computer\". Is CVXOPT faster than Gurobi ?\n\nBesides:\n\n1) It is useless to put anything after a solver which is installed by default\n\n2) PPL cannot really be a \"default solver\" as it misses the important feature of being able to solve integer linear programs.\n\nNathann",
    "created_at": "2014-06-23T14:32:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212307",
    "user": "https://github.com/nathanncohen"
}
```

Yo !

You put cvxopt before gurobi in the ordering of LP solvers: this list is meant to be "use the fastest solver available installed on this computer". Is CVXOPT faster than Gurobi ?

Besides:

1) It is useless to put anything after a solver which is installed by default

2) PPL cannot really be a "default solver" as it misses the important feature of being able to solve integer linear programs.

Nathann



---

archive/issue_comments_212308.json:
```json
{
    "body": "Replying to [comment:20 ncohen]:\n> You put cvxopt before gurobi in the ordering of LP solvers: this list is meant to be \"use the fastest solver available installed on this computer\". Is CVXOPT faster than Gurobi ?\n\nThis list for making the most suitable for the task solver the default. For the duration of a Sage session. E.g. it can be PPL, if you need to solve badly conditioned LPs with huge coefficients, or it can be CVXOPT, if you need an interior point solver as opposed to a simplex algorithm solver. \n\n> \n> Besides:\n> \n> 1) It is useless to put anything after a solver which is installed by default\n\nhuh?\n\n> \n> 2) PPL cannot really be a \"default solver\" as it misses the important feature of being able to solve integer linear programs.\n\nWe have discussed this in April:\nlet me quote your email dated 22.04.14:\n\n> > DP 1) I'd like this:\n\n> > DP sage: sage.numerical.backends.generic_backend.default_mip_solver(solver='PPL')\n\n> > DP to work...\n\n> NC Well. PPL is just missing from the list of keywords, it should only be\n\n> NC added there. Can you write the patch ? I will review it, it takes ten\n\n> NC seconds.",
    "created_at": "2014-06-23T20:23:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212308",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:20 ncohen]:
> You put cvxopt before gurobi in the ordering of LP solvers: this list is meant to be "use the fastest solver available installed on this computer". Is CVXOPT faster than Gurobi ?

This list for making the most suitable for the task solver the default. For the duration of a Sage session. E.g. it can be PPL, if you need to solve badly conditioned LPs with huge coefficients, or it can be CVXOPT, if you need an interior point solver as opposed to a simplex algorithm solver. 

> 
> Besides:
> 
> 1) It is useless to put anything after a solver which is installed by default

huh?

> 
> 2) PPL cannot really be a "default solver" as it misses the important feature of being able to solve integer linear programs.

We have discussed this in April:
let me quote your email dated 22.04.14:

> > DP 1) I'd like this:

> > DP sage: sage.numerical.backends.generic_backend.default_mip_solver(solver='PPL')

> > DP to work...

> NC Well. PPL is just missing from the list of keywords, it should only be

> NC added there. Can you write the patch ? I will review it, it takes ten

> NC seconds.



---

archive/issue_comments_212309.json:
```json
{
    "body": "Yo !\n\n> > You put cvxopt before gurobi in the ordering of LP solvers: this list is meant to be \"use the fastest solver available installed on this computer\". Is CVXOPT faster than Gurobi ?\n> \n> This list for making the most suitable for the task solver the default.\n\nNo, this list is a linear ordering that makes Sage's default the first solver that can be called and that appears in the list. If CVXOPT is the second, and as it is available by default, then none of the others will ever become the default. And unless you tell me that CVXOPT is faster than gurobi it should appear afterwards.\n\n> > 1) It is useless to put anything after a solver which is installed by default\n> \n> huh?\n> \n> > \n> > 2) PPL cannot really be a \"default solver\" as it misses the important feature of being able to solve integer linear programs.\n> \n> We have discussed this in April:\n> let me quote your email dated 22.04.14:\n> \n> > > DP 1) I'd like this:\n> \n> > > DP sage: sage.numerical.backends.generic_backend.default_mip_solver(solver='PPL')\n> \n> > > DP to work...\n> \n> > NC Well. PPL is just missing from the list of keywords, it should only be\n> \n> > NC added there. Can you write the patch ? I will review it, it takes ten\n> \n> > NC seconds.\n\nI don't see what you intend by quoting me against myself. Just read the code :\n\n\n```\n    if solver is None:\n\n        if default_solver is not None:\n            return default_solver\n\n        else:\n            for s in [\"Cplex\", \"Cvxopt\", \"Gurobi\", \"Coin\", \"Glpk\", \"Ppl\"]:\n                try:\n                    default_mip_solver(s)\n                    return s\n                except ValueError:\n                    pass\n```\n\n\nIf CPLEX is available, Cplex will be used. If CVXOPT is available, it will be used. And CVXOPT is always available, so none of the others LP will ever be used.\n\nIf you want to be able to make CVXOPT the default solver all you need is this part of your branch\n\n```\n    elif solver == \"Cvxopt\":\n        try:\n            from sage.numerical.backends.cvxopt_backend import CVXOPTBackend\n            default_solver = solver\n        except ImportError:\n            raise ValueError(\"CVXOPT is not available. Please refer to the documentation to install it.\")\n```\n\n\nTouching the list changes the \"automatically defined\" default solver of Sage. And as the code shows, by puting cvxopt second you may as well remove anything that appears after it. Similarly, it's useless to put anything after Glpk. In the current state the function will only test Cplex and CVXOPT.\n\nNathann",
    "created_at": "2014-06-24T07:45:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212309",
    "user": "https://github.com/nathanncohen"
}
```

Yo !

> > You put cvxopt before gurobi in the ordering of LP solvers: this list is meant to be "use the fastest solver available installed on this computer". Is CVXOPT faster than Gurobi ?
> 
> This list for making the most suitable for the task solver the default.

No, this list is a linear ordering that makes Sage's default the first solver that can be called and that appears in the list. If CVXOPT is the second, and as it is available by default, then none of the others will ever become the default. And unless you tell me that CVXOPT is faster than gurobi it should appear afterwards.

> > 1) It is useless to put anything after a solver which is installed by default
> 
> huh?
> 
> > 
> > 2) PPL cannot really be a "default solver" as it misses the important feature of being able to solve integer linear programs.
> 
> We have discussed this in April:
> let me quote your email dated 22.04.14:
> 
> > > DP 1) I'd like this:
> 
> > > DP sage: sage.numerical.backends.generic_backend.default_mip_solver(solver='PPL')
> 
> > > DP to work...
> 
> > NC Well. PPL is just missing from the list of keywords, it should only be
> 
> > NC added there. Can you write the patch ? I will review it, it takes ten
> 
> > NC seconds.

I don't see what you intend by quoting me against myself. Just read the code :


```
    if solver is None:

        if default_solver is not None:
            return default_solver

        else:
            for s in ["Cplex", "Cvxopt", "Gurobi", "Coin", "Glpk", "Ppl"]:
                try:
                    default_mip_solver(s)
                    return s
                except ValueError:
                    pass
```


If CPLEX is available, Cplex will be used. If CVXOPT is available, it will be used. And CVXOPT is always available, so none of the others LP will ever be used.

If you want to be able to make CVXOPT the default solver all you need is this part of your branch

```
    elif solver == "Cvxopt":
        try:
            from sage.numerical.backends.cvxopt_backend import CVXOPTBackend
            default_solver = solver
        except ImportError:
            raise ValueError("CVXOPT is not available. Please refer to the documentation to install it.")
```


Touching the list changes the "automatically defined" default solver of Sage. And as the code shows, by puting cvxopt second you may as well remove anything that appears after it. Similarly, it's useless to put anything after Glpk. In the current state the function will only test Cplex and CVXOPT.

Nathann



---

archive/issue_comments_212310.json:
```json
{
    "body": "Replying to [comment:22 ncohen]:\n> Yo !\nright, sorry, I should have read the code. We'll fix this, thanks!",
    "created_at": "2014-06-24T08:14:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212310",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:22 ncohen]:
> Yo !
right, sorry, I should have read the code. We'll fix this, thanks!



---

archive/issue_comments_212311.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-24T10:47:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212311",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_212312.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-06-24T10:53:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212312",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_212313.json:
```json
{
    "body": "I hope the last commits fix all the remaining issues. Review?",
    "created_at": "2014-06-24T11:45:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212313",
    "user": "https://github.com/dimpase"
}
```

I hope the last commits fix all the remaining issues. Review?



---

archive/issue_comments_212314.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-06-24T11:45:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212314",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_212315.json:
```json
{
    "body": "I'm trying to finish this off now, and I get \n\n```\nsage -t src/sage/numerical/backends/cvxopt_backend.pyx\n**********************************************************************\nFile \"src/sage/numerical/backends/cvxopt_backend.pyx\", line 467, in sage.numerical.backends.cvxopt_backend.CVXOPTBackend.solve\nFailed example:\n    round(p.solve(), 2)\nExpected:\n             pcost       dcost       gap    pres   dres   k/t\n         0: -7.3165e+00 -2.3038e+01  6e+00  0e+00  2e+00  1e+00\n         1: -7.8209e+00 -1.0635e+01  1e+00  1e-16  3e-01  2e-01\n         2: -8.4714e+00 -1.0546e+01  1e+00  4e-16  2e-01  2e-01\n         3: -8.7876e+00 -8.8459e+00  3e-02  1e-16  6e-03  4e-03\n         4: -8.7999e+00 -8.8005e+00  3e-04  2e-16  6e-05  4e-05\n         5: -8.8000e+00 -8.8000e+00  3e-06  2e-16  6e-07  4e-07\n         6: -8.8000e+00 -8.8000e+00  3e-08  1e-16  6e-09  4e-09\n        Optimal solution found.\n        8.8\nGot:\n         pcost       dcost       gap    pres   dres   k/t\n     0: -7.3165e+00 -2.3038e+01  6e+00  0e+00  2e+00  1e+00\n     1: -7.8209e+00 -1.0635e+01  1e+00  1e-16  3e-01  2e-01\n     2: -8.4714e+00 -1.0546e+01  1e+00  3e-16  2e-01  2e-01\n     3: -8.7876e+00 -8.8459e+00  3e-02  6e-17  6e-03  4e-03\n     4: -8.7999e+00 -8.8005e+00  3e-04  2e-16  6e-05  4e-05\n     5: -8.8000e+00 -8.8000e+00  3e-06  2e-16  6e-07  4e-07\n     6: -8.8000e+00 -8.8000e+00  3e-08  1e-16  6e-09  4e-09\n    Optimal solution found.\n    8.8\n**********************************************************************\n1 item had failures:\n   1 of  53 in sage.numerical.backends.cvxopt_backend.CVXOPTBackend.solve\n    [201 tests, 1 failure, 0.11 s]\n```\n\nwhen I merge with the latest version, 6.3.beta6. Any idea why? (It's of course easy to fix, looks like spacing has changed for some reason).\n----\nNew commits:",
    "created_at": "2014-07-20T22:14:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212315",
    "user": "https://github.com/dimpase"
}
```

I'm trying to finish this off now, and I get 

```
sage -t src/sage/numerical/backends/cvxopt_backend.pyx
**********************************************************************
File "src/sage/numerical/backends/cvxopt_backend.pyx", line 467, in sage.numerical.backends.cvxopt_backend.CVXOPTBackend.solve
Failed example:
    round(p.solve(), 2)
Expected:
             pcost       dcost       gap    pres   dres   k/t
         0: -7.3165e+00 -2.3038e+01  6e+00  0e+00  2e+00  1e+00
         1: -7.8209e+00 -1.0635e+01  1e+00  1e-16  3e-01  2e-01
         2: -8.4714e+00 -1.0546e+01  1e+00  4e-16  2e-01  2e-01
         3: -8.7876e+00 -8.8459e+00  3e-02  1e-16  6e-03  4e-03
         4: -8.7999e+00 -8.8005e+00  3e-04  2e-16  6e-05  4e-05
         5: -8.8000e+00 -8.8000e+00  3e-06  2e-16  6e-07  4e-07
         6: -8.8000e+00 -8.8000e+00  3e-08  1e-16  6e-09  4e-09
        Optimal solution found.
        8.8
Got:
         pcost       dcost       gap    pres   dres   k/t
     0: -7.3165e+00 -2.3038e+01  6e+00  0e+00  2e+00  1e+00
     1: -7.8209e+00 -1.0635e+01  1e+00  1e-16  3e-01  2e-01
     2: -8.4714e+00 -1.0546e+01  1e+00  3e-16  2e-01  2e-01
     3: -8.7876e+00 -8.8459e+00  3e-02  6e-17  6e-03  4e-03
     4: -8.7999e+00 -8.8005e+00  3e-04  2e-16  6e-05  4e-05
     5: -8.8000e+00 -8.8000e+00  3e-06  2e-16  6e-07  4e-07
     6: -8.8000e+00 -8.8000e+00  3e-08  1e-16  6e-09  4e-09
    Optimal solution found.
    8.8
**********************************************************************
1 item had failures:
   1 of  53 in sage.numerical.backends.cvxopt_backend.CVXOPTBackend.solve
    [201 tests, 1 failure, 0.11 s]
```

when I merge with the latest version, 6.3.beta6. Any idea why? (It's of course easy to fix, looks like spacing has changed for some reason).
----
New commits:



---

archive/issue_comments_212316.json:
```json
{
    "body": "and another easy to fix thing:\n\n```\nsage -t src/sage/numerical/backends/generic_backend.pyx\n**********************************************************************\nFile \"src/sage/numerical/backends/generic_backend.pyx\", line 913, in sage.numerical.backends.generic_backend.default_mip_solver\nFailed example:\n    default_mip_solver(\"Yeahhhhhhhhhhh\")\nExpected:\n    Traceback (most recent call last):\n    ...\n    ValueError: 'solver' should be set to 'GLPK', 'Coin', 'CPLEX', 'CVXOPT', 'Gurobi', 'PPL' or None.\nGot:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/home/scratch/dimpase/sage/sage-6.3.beta2/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 480, in _run\n        self.execute(example, compiled, test.globs)\n      File \"/home/scratch/dimpase/sage/sage-6.3.beta2/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 839, in execute\n        exec compiled in globs\n      File \"<doctest sage.numerical.backends.generic_backend.default_mip_solver[3]>\", line 1, in <module>\n        default_mip_solver(\"Yeahhhhhhhhhhh\")\n      File \"generic_backend.pyx\", line 975, in sage.numerical.backends.generic_backend.default_mip_solver (build/cythonized/sage/numerical/backends/generic_backend.c:7373)\n    ValueError: 'solver' should be set to 'GLPK', 'Coin', 'CPLEX', 'Gurobi', 'CVXOPT', 'PPL' or None.\n```\n\nhere the problem is that the output does not match the doctest, as in the doctest the order of solvers is different : CVXOPT and Gurobi are swapped.\n\nThe best way to create a proper docstring is to run the command, in this case `default_mip_solver(\"Yeahhhhhhhhhhh\")`, at the Sage prompt and then paste the output into the source.",
    "created_at": "2014-07-20T22:27:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212316",
    "user": "https://github.com/dimpase"
}
```

and another easy to fix thing:

```
sage -t src/sage/numerical/backends/generic_backend.pyx
**********************************************************************
File "src/sage/numerical/backends/generic_backend.pyx", line 913, in sage.numerical.backends.generic_backend.default_mip_solver
Failed example:
    default_mip_solver("Yeahhhhhhhhhhh")
Expected:
    Traceback (most recent call last):
    ...
    ValueError: 'solver' should be set to 'GLPK', 'Coin', 'CPLEX', 'CVXOPT', 'Gurobi', 'PPL' or None.
Got:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/home/scratch/dimpase/sage/sage-6.3.beta2/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 480, in _run
        self.execute(example, compiled, test.globs)
      File "/home/scratch/dimpase/sage/sage-6.3.beta2/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 839, in execute
        exec compiled in globs
      File "<doctest sage.numerical.backends.generic_backend.default_mip_solver[3]>", line 1, in <module>
        default_mip_solver("Yeahhhhhhhhhhh")
      File "generic_backend.pyx", line 975, in sage.numerical.backends.generic_backend.default_mip_solver (build/cythonized/sage/numerical/backends/generic_backend.c:7373)
    ValueError: 'solver' should be set to 'GLPK', 'Coin', 'CPLEX', 'Gurobi', 'CVXOPT', 'PPL' or None.
```

here the problem is that the output does not match the doctest, as in the doctest the order of solvers is different : CVXOPT and Gurobi are swapped.

The best way to create a proper docstring is to run the command, in this case `default_mip_solver("Yeahhhhhhhhhhh")`, at the Sage prompt and then paste the output into the source.



---

archive/issue_comments_212317.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-07-20T22:34:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212317",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_212318.json:
```json
{
    "body": "Ingo, \nand please add your full name to the copyright notices, not just your given name. (Risan, my student from Indonesia, who wrote PPL interface, officially has just one name, and this might have confused you).",
    "created_at": "2014-07-20T22:38:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212318",
    "user": "https://github.com/dimpase"
}
```

Ingo, 
and please add your full name to the copyright notices, not just your given name. (Risan, my student from Indonesia, who wrote PPL interface, officially has just one name, and this might have confused you).



---

archive/issue_comments_212319.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-20T23:53:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212319",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_212320.json:
```json
{
    "body": "Replying to [comment:29 dimpase]:\n> I'm trying to finish this off now, and I get \n> {{{\n> sage -t src/sage/numerical/backends/cvxopt_backend.pyx\n> **********************************************************************\n> File \"src/sage/numerical/backends/cvxopt_backend.pyx\", line 467, in sage.numerical.backends.cvxopt_backend.CVXOPTBackend.solve\n> Failed example:\n>     round(p.solve(), 2)\n> Expected:\n>              pcost       dcost       gap    pres   dres   k/t\n>          0: -7.3165e+00 -2.3038e+01  6e+00  0e+00  2e+00  1e+00\n>          1: -7.8209e+00 -1.0635e+01  1e+00  1e-16  3e-01  2e-01\n>          2: -8.4714e+00 -1.0546e+01  1e+00  4e-16  2e-01  2e-01\n>          3: -8.7876e+00 -8.8459e+00  3e-02  1e-16  6e-03  4e-03\n>          4: -8.7999e+00 -8.8005e+00  3e-04  2e-16  6e-05  4e-05\n>          5: -8.8000e+00 -8.8000e+00  3e-06  2e-16  6e-07  4e-07\n>          6: -8.8000e+00 -8.8000e+00  3e-08  1e-16  6e-09  4e-09\n>         Optimal solution found.\n>         8.8\n> Got:\n>          pcost       dcost       gap    pres   dres   k/t\n>      0: -7.3165e+00 -2.3038e+01  6e+00  0e+00  2e+00  1e+00\n>      1: -7.8209e+00 -1.0635e+01  1e+00  1e-16  3e-01  2e-01\n>      2: -8.4714e+00 -1.0546e+01  1e+00  3e-16  2e-01  2e-01\n>      3: -8.7876e+00 -8.8459e+00  3e-02  6e-17  6e-03  4e-03\n>      4: -8.7999e+00 -8.8005e+00  3e-04  2e-16  6e-05  4e-05\n>      5: -8.8000e+00 -8.8000e+00  3e-06  2e-16  6e-07  4e-07\n>      6: -8.8000e+00 -8.8000e+00  3e-08  1e-16  6e-09  4e-09\n>     Optimal solution found.\n>     8.8\n> **********************************************************************\n> 1 item had failures:\n>    1 of  53 in sage.numerical.backends.cvxopt_backend.CVXOPTBackend.solve\n>     [201 tests, 1 failure, 0.11 s]\n> }}}\n> when I merge with the latest version, 6.3.beta6. Any idea why? (It's of course easy to fix, looks like spacing has changed for some reason).\n\nThe latest commit (\u200bfb45d8b\tin generic_backend, ppl fixed, test added and another test fixed\n) fixes all the problems, except this one (indeed, it doesn't even touch the cvxopt backend). Please look into it.",
    "created_at": "2014-07-21T19:51:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212320",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:29 dimpase]:
> I'm trying to finish this off now, and I get 
> {{{
> sage -t src/sage/numerical/backends/cvxopt_backend.pyx
> **********************************************************************
> File "src/sage/numerical/backends/cvxopt_backend.pyx", line 467, in sage.numerical.backends.cvxopt_backend.CVXOPTBackend.solve
> Failed example:
>     round(p.solve(), 2)
> Expected:
>              pcost       dcost       gap    pres   dres   k/t
>          0: -7.3165e+00 -2.3038e+01  6e+00  0e+00  2e+00  1e+00
>          1: -7.8209e+00 -1.0635e+01  1e+00  1e-16  3e-01  2e-01
>          2: -8.4714e+00 -1.0546e+01  1e+00  4e-16  2e-01  2e-01
>          3: -8.7876e+00 -8.8459e+00  3e-02  1e-16  6e-03  4e-03
>          4: -8.7999e+00 -8.8005e+00  3e-04  2e-16  6e-05  4e-05
>          5: -8.8000e+00 -8.8000e+00  3e-06  2e-16  6e-07  4e-07
>          6: -8.8000e+00 -8.8000e+00  3e-08  1e-16  6e-09  4e-09
>         Optimal solution found.
>         8.8
> Got:
>          pcost       dcost       gap    pres   dres   k/t
>      0: -7.3165e+00 -2.3038e+01  6e+00  0e+00  2e+00  1e+00
>      1: -7.8209e+00 -1.0635e+01  1e+00  1e-16  3e-01  2e-01
>      2: -8.4714e+00 -1.0546e+01  1e+00  3e-16  2e-01  2e-01
>      3: -8.7876e+00 -8.8459e+00  3e-02  6e-17  6e-03  4e-03
>      4: -8.7999e+00 -8.8005e+00  3e-04  2e-16  6e-05  4e-05
>      5: -8.8000e+00 -8.8000e+00  3e-06  2e-16  6e-07  4e-07
>      6: -8.8000e+00 -8.8000e+00  3e-08  1e-16  6e-09  4e-09
>     Optimal solution found.
>     8.8
> **********************************************************************
> 1 item had failures:
>    1 of  53 in sage.numerical.backends.cvxopt_backend.CVXOPTBackend.solve
>     [201 tests, 1 failure, 0.11 s]
> }}}
> when I merge with the latest version, 6.3.beta6. Any idea why? (It's of course easy to fix, looks like spacing has changed for some reason).

The latest commit (â€‹fb45d8b	in generic_backend, ppl fixed, test added and another test fixed
) fixes all the problems, except this one (indeed, it doesn't even touch the cvxopt backend). Please look into it.



---

archive/issue_comments_212321.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-21T20:20:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212321",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_212322.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2014-07-21T21:08:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212322",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_212323.json:
```json
{
    "body": "OK, looks good now. Tested by merging over 6.3.beta6.",
    "created_at": "2014-07-21T21:08:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212323",
    "user": "https://github.com/dimpase"
}
```

OK, looks good now. Tested by merging over 6.3.beta6.



---

archive/issue_comments_212324.json:
```json
{
    "body": "Author & Reviewer name",
    "created_at": "2014-07-22T16:35:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212324",
    "user": "https://github.com/vbraun"
}
```

Author & Reviewer name



---

archive/issue_comments_212325.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-07-22T16:35:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212325",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_212326.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2014-07-22T16:36:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212326",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_212327.json:
```json
{
    "body": "Hey guys, what the hell is this ?\n\n\n```\ndef solve(self):\n   ...\n   return 0 # it should be the value of the objective function\ndef set_variable_type(...):\n   ...\n   pass\n```\n",
    "created_at": "2014-07-22T16:41:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212327",
    "user": "https://github.com/nathanncohen"
}
```

Hey guys, what the hell is this ?


```
def solve(self):
   ...
   return 0 # it should be the value of the objective function
def set_variable_type(...):
   ...
   pass
```




---

archive/issue_comments_212328.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2014-07-22T16:41:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212328",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_212329.json:
```json
{
    "body": "And the doc of `set_verbosity` is wrong if it does nothing. Even though that's nothing compared to the wrong results of the two functions above.\n\nNathann",
    "created_at": "2014-07-22T16:47:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212329",
    "user": "https://github.com/nathanncohen"
}
```

And the doc of `set_verbosity` is wrong if it does nothing. Even though that's nothing compared to the wrong results of the two functions above.

Nathann



---

archive/issue_comments_212330.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-22T17:45:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212330",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_212331.json:
```json
{
    "body": "Replying to [comment:39 ncohen]:\n> Hey guys, what the hell is this ?\n> \n> {{{\n> def solve(self):\n>    ...\n>    return 0 # it should be the value of the objective function\n> def set_variable_type(...):\n>    ...\n>    pass\n> }}}\n\nset_variable_type is cont. by default and cannot be changed. I fixed the doc for that. The solve method in the backend returns 0 if everything went ok and the solve in mip.pyx returns the actual value. Therefore this is  anormal behavior (see the ppl or glpk backends for further info) I also changed the doc for set_verbosity (does not apply for the cvxopt backend). Let me know if this is sufficient or not.\n\nBest, Ingo",
    "created_at": "2014-07-22T17:49:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212331",
    "user": "https://github.com/ingolfured"
}
```

Replying to [comment:39 ncohen]:
> Hey guys, what the hell is this ?
> 
> {{{
> def solve(self):
>    ...
>    return 0 # it should be the value of the objective function
> def set_variable_type(...):
>    ...
>    pass
> }}}

set_variable_type is cont. by default and cannot be changed. I fixed the doc for that. The solve method in the backend returns 0 if everything went ok and the solve in mip.pyx returns the actual value. Therefore this is  anormal behavior (see the ppl or glpk backends for further info) I also changed the doc for set_verbosity (does not apply for the cvxopt backend). Let me know if this is sufficient or not.

Best, Ingo



---

archive/issue_comments_212332.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2014-07-22T22:31:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212332",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_212333.json:
```json
{
    "body": "Replying to [comment:42 ingolfured]:\n> Replying to [comment:39 ncohen]:\n> > Hey guys, what the hell is this ?\n> > \n> > {{{\n> > def solve(self):\n> >    ...\n> >    return 0 # it should be the value of the objective function\n> > def set_variable_type(...):\n> >    ...\n> >    pass\n> > }}}\n> \n> set_variable_type is cont. by default and cannot be changed. I fixed the doc for that. The solve method in the backend returns 0 if everything went ok and the solve in mip.pyx returns the actual value. Therefore this is  anormal behavior (see the ppl or glpk backends for further info) I also changed the doc for set_verbosity (does not apply for the cvxopt backend). Let me know if this is sufficient or not.\n\nfor consistency, `set_variable_type()` should behave as in `ppl_backend`, I think. Otherwise, it looks OK.\n\nRegarding `solve()` in the backend returning 0, Nathann writes so much Sage code that he forgets what he wrote himself, e.g. in the GLPK backend... :-)",
    "created_at": "2014-07-22T22:31:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212333",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:42 ingolfured]:
> Replying to [comment:39 ncohen]:
> > Hey guys, what the hell is this ?
> > 
> > {{{
> > def solve(self):
> >    ...
> >    return 0 # it should be the value of the objective function
> > def set_variable_type(...):
> >    ...
> >    pass
> > }}}
> 
> set_variable_type is cont. by default and cannot be changed. I fixed the doc for that. The solve method in the backend returns 0 if everything went ok and the solve in mip.pyx returns the actual value. Therefore this is  anormal behavior (see the ppl or glpk backends for further info) I also changed the doc for set_verbosity (does not apply for the cvxopt backend). Let me know if this is sufficient or not.

for consistency, `set_variable_type()` should behave as in `ppl_backend`, I think. Otherwise, it looks OK.

Regarding `solve()` in the backend returning 0, Nathann writes so much Sage code that he forgets what he wrote himself, e.g. in the GLPK backend... :-)



---

archive/issue_comments_212334.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-22T22:46:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212334",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_212335.json:
```json
{
    "body": "Yoooooooooooooooo !!\n\nYep, sorry for the \"solve()\" thing, it is my mistake. And indeed the `set_variable_type` is better with an exception, as the user could mistakingly believe that the solver supports integer variables if it reports nothing `^^;`\n\nNathann",
    "created_at": "2014-07-23T07:58:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212335",
    "user": "https://github.com/nathanncohen"
}
```

Yoooooooooooooooo !!

Yep, sorry for the "solve()" thing, it is my mistake. And indeed the `set_variable_type` is better with an exception, as the user could mistakingly believe that the solver supports integer variables if it reports nothing `^^;`

Nathann



---

archive/issue_comments_212336.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2014-07-24T11:32:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212336",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_212337.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-07-25T02:33:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212337",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_212338.json:
```json
{
    "body": "You should probably use `# abs tol 1e-16` or so:\n\n```\nsage -t --long src/sage/numerical/backends/cvxopt_backend.pyx\n**********************************************************************\nFile \"src/sage/numerical/backends/cvxopt_backend.pyx\", line 448, in sage.numerical.backends.cvxopt_backend.CVXOPTBackend.solve\nFailed example:\n    round(p.solve(), 2)\nExpected:\n             pcost       dcost       gap    pres   dres   k/t\n         0: -7.3165e+00 -2.3038e+01  6e+00  0e+00  2e+00  1e+00\n         ...\n        8.8\nGot:\n         pcost       dcost       gap    pres   dres   k/t\n     0: -7.3165e+00 -2.3038e+01  6e+00  5e-17  2e+00  1e+00\n     1: -7.8209e+00 -1.0635e+01  1e+00  4e-16  3e-01  2e-01\n     2: -8.4714e+00 -1.0546e+01  1e+00  3e-16  2e-01  2e-01\n     3: -8.7876e+00 -8.8459e+00  3e-02  5e-16  6e-03  4e-03\n     4: -8.7999e+00 -8.8005e+00  3e-04  7e-22  6e-05  4e-05\n     5: -8.8000e+00 -8.8000e+00  3e-06  5e-16  6e-07  4e-07\n     6: -8.8000e+00 -8.8000e+00  3e-08  2e-16  6e-09  4e-09\n    Optimal solution found.\n    8.8\n**********************************************************************\n```\n",
    "created_at": "2014-07-25T02:33:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212338",
    "user": "https://github.com/vbraun"
}
```

You should probably use `# abs tol 1e-16` or so:

```
sage -t --long src/sage/numerical/backends/cvxopt_backend.pyx
**********************************************************************
File "src/sage/numerical/backends/cvxopt_backend.pyx", line 448, in sage.numerical.backends.cvxopt_backend.CVXOPTBackend.solve
Failed example:
    round(p.solve(), 2)
Expected:
             pcost       dcost       gap    pres   dres   k/t
         0: -7.3165e+00 -2.3038e+01  6e+00  0e+00  2e+00  1e+00
         ...
        8.8
Got:
         pcost       dcost       gap    pres   dres   k/t
     0: -7.3165e+00 -2.3038e+01  6e+00  5e-17  2e+00  1e+00
     1: -7.8209e+00 -1.0635e+01  1e+00  4e-16  3e-01  2e-01
     2: -8.4714e+00 -1.0546e+01  1e+00  3e-16  2e-01  2e-01
     3: -8.7876e+00 -8.8459e+00  3e-02  5e-16  6e-03  4e-03
     4: -8.7999e+00 -8.8005e+00  3e-04  7e-22  6e-05  4e-05
     5: -8.8000e+00 -8.8000e+00  3e-06  5e-16  6e-07  4e-07
     6: -8.8000e+00 -8.8000e+00  3e-08  2e-16  6e-09  4e-09
    Optimal solution found.
    8.8
**********************************************************************
```




---

archive/issue_comments_212339.json:
```json
{
    "body": "Replying to [comment:47 vbraun]:\n> You should probably use `# abs tol 1e-16` or so:\n> {{{\n> sage -t --long src/sage/numerical/backends/cvxopt_backend.pyx\n> **********************************************************************\n> File \"src/sage/numerical/backends/cvxopt_backend.pyx\", line 448, in sage.numerical.backends.cvxopt_backend.CVXOPTBackend.solve\n> Failed example:\n>     round(p.solve(), 2)\n> Expected:\n>              pcost       dcost       gap    pres   dres   k/t\n>          0: -7.3165e+00 -2.3038e+01  6e+00  0e+00  2e+00  1e+00\n>          ...\n>         8.8\n> Got:\n>          pcost       dcost       gap    pres   dres   k/t\n>      0: -7.3165e+00 -2.3038e+01  6e+00  5e-17  2e+00  1e+00\n> }}}\nyeah, this line in the doctest\n\n```\n0: -7.3165e+00 -2.3038e+01  6e+00  0e+00  2e+00  1e+00\n```\n\nshould be removed, as it is just output of the log of the convergence towards a solution, nothing important.",
    "created_at": "2014-07-25T07:23:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212339",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:47 vbraun]:
> You should probably use `# abs tol 1e-16` or so:
> {{{
> sage -t --long src/sage/numerical/backends/cvxopt_backend.pyx
> **********************************************************************
> File "src/sage/numerical/backends/cvxopt_backend.pyx", line 448, in sage.numerical.backends.cvxopt_backend.CVXOPTBackend.solve
> Failed example:
>     round(p.solve(), 2)
> Expected:
>              pcost       dcost       gap    pres   dres   k/t
>          0: -7.3165e+00 -2.3038e+01  6e+00  0e+00  2e+00  1e+00
>          ...
>         8.8
> Got:
>          pcost       dcost       gap    pres   dres   k/t
>      0: -7.3165e+00 -2.3038e+01  6e+00  5e-17  2e+00  1e+00
> }}}
yeah, this line in the doctest

```
0: -7.3165e+00 -2.3038e+01  6e+00  0e+00  2e+00  1e+00
```

should be removed, as it is just output of the log of the convergence towards a solution, nothing important.



---

archive/issue_comments_212340.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-26T18:10:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212340",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_212341.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2014-07-26T20:13:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212341",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_212342.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-07-27T04:41:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212342",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_048458.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-27T04:41:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16253#event-48458"
}
```



---

archive/issue_comments_212343.json:
```json
{
    "body": "Replying to [comment:11 dimpase]:\n> A couple of things:\n> \n> `# optional - CVXOPT` tags should not be there, as CVXOPT is a standard part of Sage.\n> \nThis was never fixed... :-(",
    "created_at": "2015-06-01T11:38:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212343",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:11 dimpase]:
> A couple of things:
> 
> `# optional - CVXOPT` tags should not be there, as CVXOPT is a standard part of Sage.
> 
This was never fixed... :-(



---

archive/issue_comments_212344.json:
```json
{
    "body": "Replying to [comment:52 dimpase]:\n> Replying to [comment:11 dimpase]:\n> > A couple of things:\n> > \n> > `# optional - CVXOPT` tags should not be there, as CVXOPT is a standard part of Sage.\n> > \n> This was never fixed... :-(\nfixed in #18569",
    "created_at": "2015-06-01T13:46:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16253",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16253#issuecomment-212344",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:52 dimpase]:
> Replying to [comment:11 dimpase]:
> > A couple of things:
> > 
> > `# optional - CVXOPT` tags should not be there, as CVXOPT is a standard part of Sage.
> > 
> This was never fixed... :-(
fixed in #18569
