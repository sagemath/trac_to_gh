# Issue 30126: Migration to GitHub

archive/issues_030126.json:
```json
{
    "body": "CC:  @slel @dimpase @roed314 @williamstein @kwankyu @seblabbe @videlec\n\nGitHub has many features that are superior to the ones trac provides. For example, pull request reviews, code view and navigation, issue management with projects and labels, [GitHub](GitHub) actions for automatic code checks and other automation. Moreover, it's the de facto standard for open source projects.\n\nFor this reason, I would propose to migrate to [GitHub](GitHub).\nThe following needs to be done in this process:\n- Make it possible to contribute via Github Pull Requests (this is the most important one for me as a 'simple' contributor).\n- Replace/integrate patchbot by [GitHub](GitHub) actions. Refs #28936\n- Migrate existing issues\n\n(feel free to add things that I've overlooked.)\n\nIssue created by migration from https://trac.sagemath.org/ticket/30363\n\n",
    "created_at": "2020-08-14T21:40:38Z",
    "labels": [],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Migration to GitHub",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30126",
    "user": "https://github.com/tobiasdiez"
}
```
CC:  @slel @dimpase @roed314 @williamstein @kwankyu @seblabbe @videlec

GitHub has many features that are superior to the ones trac provides. For example, pull request reviews, code view and navigation, issue management with projects and labels, [GitHub](GitHub) actions for automatic code checks and other automation. Moreover, it's the de facto standard for open source projects.

For this reason, I would propose to migrate to [GitHub](GitHub).
The following needs to be done in this process:
- Make it possible to contribute via Github Pull Requests (this is the most important one for me as a 'simple' contributor).
- Replace/integrate patchbot by [GitHub](GitHub) actions. Refs #28936
- Migrate existing issues

(feel free to add things that I've overlooked.)

Issue created by migration from https://trac.sagemath.org/ticket/30363





---

archive/issue_comments_428237.json:
```json
{
    "body": "Changing priority from major to critical.",
    "created_at": "2020-08-14T21:41:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428237",
    "user": "https://github.com/tobiasdiez"
}
```

Changing priority from major to critical.



---

archive/issue_comments_428238.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to misc.",
    "created_at": "2020-08-14T21:41:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428238",
    "user": "https://github.com/tobiasdiez"
}
```

Changing component from PLEASE CHANGE to misc.



---

archive/issue_comments_428239.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to task.",
    "created_at": "2020-08-14T23:16:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428239",
    "user": "https://github.com/slel"
}
```

Changing type from PLEASE CHANGE to task.



---

archive/issue_comments_428240.json:
```json
{
    "body": "There once was a bot called sageb0t that would transform\nany pull request opened on the SageMath repo at GitHub\nto a ticket on the Sage Trac server. The bot was lost.\n\nThere is now a mechanism that will transform any merge request\nopened against the SageMath repo at GitLab into a ticket\non the Sage Trac server. Read more about this mechanism:\n\n- [sage-devel, 2019-07, New contributor experience](https://groups.google.com/d/topic/sage-devel/5Za1A9Fw4T4/discussion)\n\n- [sage-devel, 2019-04, gitlab status](https://groups.google.com/d/topic/sage-devel/pCaSocfNzKE/discussion)\n\n- [sage-devel, 2018-08, Enabling Merge Requests from GitLab](https://groups.google.com/d/topic/sage-devel/yBv5MCG9SJY/discussion)",
    "created_at": "2020-08-14T23:16:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428240",
    "user": "https://github.com/slel"
}
```

There once was a bot called sageb0t that would transform
any pull request opened on the SageMath repo at GitHub
to a ticket on the Sage Trac server. The bot was lost.

There is now a mechanism that will transform any merge request
opened against the SageMath repo at GitLab into a ticket
on the Sage Trac server. Read more about this mechanism:

- [sage-devel, 2019-07, New contributor experience](https://groups.google.com/d/topic/sage-devel/5Za1A9Fw4T4/discussion)

- [sage-devel, 2019-04, gitlab status](https://groups.google.com/d/topic/sage-devel/pCaSocfNzKE/discussion)

- [sage-devel, 2018-08, Enabling Merge Requests from GitLab](https://groups.google.com/d/topic/sage-devel/yBv5MCG9SJY/discussion)



---

archive/issue_comments_428241.json:
```json
{
    "body": "Note another discussion on this theme:\n\n- [sage-devel, 2018-07, talk](https://groups.google.com/d/topic/sage-devel/E_h-48rQjRk/discussion)",
    "created_at": "2020-08-14T23:19:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428241",
    "user": "https://github.com/slel"
}
```

Note another discussion on this theme:

- [sage-devel, 2018-07, talk](https://groups.google.com/d/topic/sage-devel/E_h-48rQjRk/discussion)



---

archive/issue_comments_428242.json:
```json
{
    "body": "Thanks for these links.\n\nI would argue that a simple bot that converts github pull requests and issues to trac is not enough in the long term. It might ease the transition period, but also duplicates the infrastructure. Moreover, you don't get to enjoy the above mentioned benefits if pull requests are still reviewed here on trac etc.\n\nAre there any issues that prevent a clear one-time migration of the current issues and code contributions to github, say using tools like https://github.com/trustmaster/trac2github.",
    "created_at": "2020-08-17T16:14:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428242",
    "user": "https://github.com/tobiasdiez"
}
```

Thanks for these links.

I would argue that a simple bot that converts github pull requests and issues to trac is not enough in the long term. It might ease the transition period, but also duplicates the infrastructure. Moreover, you don't get to enjoy the above mentioned benefits if pull requests are still reviewed here on trac etc.

Are there any issues that prevent a clear one-time migration of the current issues and code contributions to github, say using tools like https://github.com/trustmaster/trac2github.



---

archive/issue_events_078651.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30126#event-78651"
}
```



---

archive/issue_events_078652.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30126#event-78652"
}
```



---

archive/issue_events_078653.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30126#event-78653"
}
```



---

archive/issue_comments_428243.json:
```json
{
    "body": "Setting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428243",
    "user": "https://github.com/mkoeppe"
}
```

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_428244.json:
```json
{
    "body": "I wrote some of the sageb0t code, and it is still available here: https://github.com/swenson/sage-workflow/blob/master/sagedev/pr_export.py",
    "created_at": "2021-03-27T22:36:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428244",
    "user": "https://github.com/swenson"
}
```

I wrote some of the sageb0t code, and it is still available here: https://github.com/swenson/sage-workflow/blob/master/sagedev/pr_export.py



---

archive/issue_comments_428245.json:
```json
{
    "body": "-1 we have already put a significant amount of work into migration to [GitLab](GitLab) which doesn't take money from the US government to imprison migrant children: https://gitlab.com/sagemath",
    "created_at": "2021-03-29T07:45:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428245",
    "user": "https://github.com/embray"
}
```

-1 we have already put a significant amount of work into migration to [GitLab](GitLab) which doesn't take money from the US government to imprison migrant children: https://gitlab.com/sagemath



---

archive/issue_events_078654.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2021-03-29T07:48:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30126#event-78654"
}
```



---

archive/issue_events_078655.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2021-03-29T07:48:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "milestone": "sage-wishlist",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30126#event-78655"
}
```



---

archive/issue_events_078656.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-08T15:22:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "milestone": "sage-wishlist",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30126#event-78656"
}
```



---

archive/issue_events_078657.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-08T15:22:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/30126#event-78657"
}
```



---

archive/issue_comments_428246.json:
```json
{
    "body": "Replying to [comment:9 Erik Bray]:\n> -1 we have already put a significant amount of work into migration to [GitLab](GitLab) which doesn't take money from the US government to imprison migrant children: https://gitlab.com/sagemath\n\n\nLet's not get bogged down in political discussions here -  we're paying about US$4000 to Google for trac hosting, and Google is not an angel, either. Even if we create our own exclusively solar panel and wind power generator operating hosting site for trac, we still will be reliant on various arguably evil parties to be operational.\n\nBesides, GitLab's free tier (and not only) is lacking in functionality compared to GitHub, and https://gitlab.com/sagemath\nis semi-broken, in part due to this, in part due to lack of attention.",
    "created_at": "2022-09-09T09:41:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428246",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:9 Erik Bray]:
> -1 we have already put a significant amount of work into migration to [GitLab](GitLab) which doesn't take money from the US government to imprison migrant children: https://gitlab.com/sagemath


Let's not get bogged down in political discussions here -  we're paying about US$4000 to Google for trac hosting, and Google is not an angel, either. Even if we create our own exclusively solar panel and wind power generator operating hosting site for trac, we still will be reliant on various arguably evil parties to be operational.

Besides, GitLab's free tier (and not only) is lacking in functionality compared to GitHub, and https://gitlab.com/sagemath
is semi-broken, in part due to this, in part due to lack of attention.



---

archive/issue_comments_428247.json:
```json
{
    "body": "`@`vbraun, would it break any of your workflows if we protect the branches of the main Sage repo? (see https://github.com/sagemath/sage message \"Your develop branch isn't protected\")",
    "created_at": "2022-09-10T18:04:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428247",
    "user": "https://github.com/mkoeppe"
}
```

`@`vbraun, would it break any of your workflows if we protect the branches of the main Sage repo? (see https://github.com/sagemath/sage message "Your develop branch isn't protected")



---

archive/issue_comments_428248.json:
```json
{
    "body": "\u200bhttps://github.com/sagemath/sage/wiki/migration-from-trac-to-Git**b ready for broader review, what's missing",
    "created_at": "2022-09-10T18:57:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428248",
    "user": "https://github.com/mkoeppe"
}
```

​https://github.com/sagemath/sage/wiki/migration-from-trac-to-Git**b ready for broader review, what's missing



---

archive/issue_comments_428249.json:
```json
{
    "body": "not sure why you changed the title; the plan should involve re-linking git.sagemath branches/commits to the corresponding branches/commits in https://github.com/sagemath/sagetrac-mirror as well.",
    "created_at": "2022-09-12T10:36:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428249",
    "user": "https://github.com/dimpase"
}
```

not sure why you changed the title; the plan should involve re-linking git.sagemath branches/commits to the corresponding branches/commits in https://github.com/sagemath/sagetrac-mirror as well.



---

archive/issue_comments_428250.json:
```json
{
    "body": "Replying to [comment:37 Dima Pasechnik]:\n> not sure why you changed the title; the plan should involve re-linking git.sagemath branches/commits to the corresponding branches/commits in https://github.com/sagemath/sagetrac-mirror as well.\n\n\nSure, I've changed it back",
    "created_at": "2022-09-12T12:16:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428250",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:37 Dima Pasechnik]:
> not sure why you changed the title; the plan should involve re-linking git.sagemath branches/commits to the corresponding branches/commits in https://github.com/sagemath/sagetrac-mirror as well.


Sure, I've changed it back



---

archive/issue_comments_428251.json:
```json
{
    "body": "Replying to [comment:18 Matthias K\u00f6ppe]:\n> `@`vbraun, would it break any of your workflows if we protect the branches of the main Sage repo? (see https://github.com/sagemath/sage message \"Your develop branch isn't protected\")\n\n\nDescribed now at https://github.com/sagemath/sage/wiki/migration-from-trac-to-Git**b#proposed-permissions-and-protections",
    "created_at": "2022-09-14T04:24:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428251",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:18 Matthias Köppe]:
> `@`vbraun, would it break any of your workflows if we protect the branches of the main Sage repo? (see https://github.com/sagemath/sage message "Your develop branch isn't protected")


Described now at https://github.com/sagemath/sage/wiki/migration-from-trac-to-Git**b#proposed-permissions-and-protections



---

archive/issue_comments_428252.json:
```json
{
    "body": "In the migration guide,\n\n```\nfor trying the branch of a PR locally, instead of using git trac checkout TICKETNUMBER \nor git trac try TICKETNUMBER, \nuse git fetch origin pull/PULL_REQUEST_ID/head:LOCAL_BRANCH_NAME\n```\n\nIs the \"origin\" right? A PR seems associated with \"upstream\" rather than \"origin\" (my fork). No?",
    "created_at": "2022-09-16T01:55:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428252",
    "user": "https://github.com/kwankyu"
}
```

In the migration guide,

```
for trying the branch of a PR locally, instead of using git trac checkout TICKETNUMBER 
or git trac try TICKETNUMBER, 
use git fetch origin pull/PULL_REQUEST_ID/head:LOCAL_BRANCH_NAME
```

Is the "origin" right? A PR seems associated with "upstream" rather than "origin" (my fork). No?



---

archive/issue_comments_428253.json:
```json
{
    "body": "Thanks for catching this mistake! I've fixed it now.",
    "created_at": "2022-09-16T04:52:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428253",
    "user": "https://github.com/mkoeppe"
}
```

Thanks for catching this mistake! I've fixed it now.



---

archive/issue_comments_428254.json:
```json
{
    "body": "As a note about github permissions, I [found](https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/reviewing-proposed-changes-in-a-pull-request#submitting-your-review) that write access means \"If required reviews are enabled and a collaborator with write, admin, or owner access to the repository submits a review requesting changes, the pull request cannot be merged until the same collaborator submits another review approving the changes in the pull request.\"  I think this is good most of the time, but I worry about how we might resolve cases where different people disagree about whether a PR should be merged or how to resolve issues on it.",
    "created_at": "2022-09-16T05:41:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428254",
    "user": "https://github.com/roed314"
}
```

As a note about github permissions, I [found](https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/reviewing-proposed-changes-in-a-pull-request#submitting-your-review) that write access means "If required reviews are enabled and a collaborator with write, admin, or owner access to the repository submits a review requesting changes, the pull request cannot be merged until the same collaborator submits another review approving the changes in the pull request."  I think this is good most of the time, but I worry about how we might resolve cases where different people disagree about whether a PR should be merged or how to resolve issues on it.



---

archive/issue_comments_428255.json:
```json
{
    "body": "Replying to [comment:58 David Roe]:\n> [...] I worry about how we might resolve cases where different people disagree about whether a PR should be merged or how to resolve issues on it.  \n\n\nwell, with trac don't have a good procedure in such cases, either. That's a conflict between humans to resolve, something that no amount of computing tools would help you much.",
    "created_at": "2022-09-16T08:50:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428255",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:58 David Roe]:
> [...] I worry about how we might resolve cases where different people disagree about whether a PR should be merged or how to resolve issues on it.  


well, with trac don't have a good procedure in such cases, either. That's a conflict between humans to resolve, something that no amount of computing tools would help you much.



---

archive/issue_comments_428256.json:
```json
{
    "body": "I completely agree that there is primarily a conflict for humans to resolve here, now and on github.  My concern is a technical one.  Currently on trac, if there's a consensus of people involved in the ticket, anyone can mark the ticket positively reviewed, the release manager can review the situation and merge it.  It sounds like, if we give all active developers write permissions, then someone can just refuse to finish their review and maybe the only recourse would be to open another PR?\n\nI bring this up just to figure out if we want to be explicit about some policy in advance that we can point to if such a situation arises.  For example:\n\n\n*If a conflict arises in reviewing a PR, a developer should allow the PR to proceed by submitting a positive review if both of the following conditions hold:*\n\n* *At least three Sage developers are in favor of the PR, outnumbering those who opose,*\n* *At least a week of discussion has passed since any new concerns were raised.*\n\nOr maybe I'm misreading what options others would have in this setting.  I think this may be an unusual situation for projects to be in since we're trying to grant Write access unusually broadly in order to preserve the ability for many developers to make changes to others' PRs.",
    "created_at": "2022-09-16T16:16:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428256",
    "user": "https://github.com/roed314"
}
```

I completely agree that there is primarily a conflict for humans to resolve here, now and on github.  My concern is a technical one.  Currently on trac, if there's a consensus of people involved in the ticket, anyone can mark the ticket positively reviewed, the release manager can review the situation and merge it.  It sounds like, if we give all active developers write permissions, then someone can just refuse to finish their review and maybe the only recourse would be to open another PR?

I bring this up just to figure out if we want to be explicit about some policy in advance that we can point to if such a situation arises.  For example:


*If a conflict arises in reviewing a PR, a developer should allow the PR to proceed by submitting a positive review if both of the following conditions hold:*

* *At least three Sage developers are in favor of the PR, outnumbering those who opose,*
* *At least a week of discussion has passed since any new concerns were raised.*

Or maybe I'm misreading what options others would have in this setting.  I think this may be an unusual situation for projects to be in since we're trying to grant Write access unusually broadly in order to preserve the ability for many developers to make changes to others' PRs.



---

archive/issue_comments_428257.json:
```json
{
    "body": "This is an important question. I'd think a solution would be that a Team such as Core would be able to override required review etc., but we should find out the details & document it.",
    "created_at": "2022-09-16T16:59:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428257",
    "user": "https://github.com/mkoeppe"
}
```

This is an important question. I'd think a solution would be that a Team such as Core would be able to override required review etc., but we should find out the details & document it.



---

archive/issue_comments_428258.json:
```json
{
    "body": "Actually, I don't see a big reason to give all the active developers write permissions. One can work on almost all PRs without them just as well, with only a tiny bit of extra hassle.",
    "created_at": "2022-09-16T17:04:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428258",
    "user": "https://github.com/dimpase"
}
```

Actually, I don't see a big reason to give all the active developers write permissions. One can work on almost all PRs without them just as well, with only a tiny bit of extra hassle.



---

archive/issue_comments_428259.json:
```json
{
    "body": "I just looked further, and found that [Admins](https://docs.github.com/en/organizations/managing-access-to-your-organizations-repositories/repository-roles-for-an-organization) have the ability to \"merge pull requests on protected branches, even if there are no approving reviews.\"  So I think that takes care of my technical objection.  It still may be worth codifying a social policy like I described to help in situations where people get stuck, but I'm fine putting that off for now.",
    "created_at": "2022-09-16T17:07:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428259",
    "user": "https://github.com/roed314"
}
```

I just looked further, and found that [Admins](https://docs.github.com/en/organizations/managing-access-to-your-organizations-repositories/repository-roles-for-an-organization) have the ability to "merge pull requests on protected branches, even if there are no approving reviews."  So I think that takes care of my technical objection.  It still may be worth codifying a social policy like I described to help in situations where people get stuck, but I'm fine putting that off for now.



---

archive/issue_comments_428260.json:
```json
{
    "body": "Replying to [comment:62 Dima Pasechnik]:\n> Actually, I don't see a big reason to give all the active developers write permissions. One can work on almost all PRs without them just as well, with only a tiny bit of extra hassle.\n\n\nI tend to agree with this too. We could say that write permission can be requested - as a convenience if that developer is very active and finds themselves inconvenienced by the extra hassle.",
    "created_at": "2022-09-16T17:08:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428260",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:62 Dima Pasechnik]:
> Actually, I don't see a big reason to give all the active developers write permissions. One can work on almost all PRs without them just as well, with only a tiny bit of extra hassle.


I tend to agree with this too. We could say that write permission can be requested - as a convenience if that developer is very active and finds themselves inconvenienced by the extra hassle.



---

archive/issue_comments_428261.json:
```json
{
    "body": "I'm fine with having Write permissions be opt in, but I'd phrase it a bit differently.  Perhaps \"if you want to be able to make changes directly on PRs (when the author elects to allow edits from maintainers), please contact X and we can give you the relevant permissions.\"  I think it's a reasonable workflow that we want to support, rather than having it feel like a special priveledge.\n\nOf course, we may come up with other reasons why it's a bad idea.  That's what I've been trying to think through the consequences of various permission settings.",
    "created_at": "2022-09-16T17:12:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428261",
    "user": "https://github.com/roed314"
}
```

I'm fine with having Write permissions be opt in, but I'd phrase it a bit differently.  Perhaps "if you want to be able to make changes directly on PRs (when the author elects to allow edits from maintainers), please contact X and we can give you the relevant permissions."  I think it's a reasonable workflow that we want to support, rather than having it feel like a special priveledge.

Of course, we may come up with other reasons why it's a bad idea.  That's what I've been trying to think through the consequences of various permission settings.



---

archive/issue_comments_428262.json:
```json
{
    "body": "Yes, this is a great wording.",
    "created_at": "2022-09-16T17:13:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428262",
    "user": "https://github.com/mkoeppe"
}
```

Yes, this is a great wording.



---

archive/issue_comments_428263.json:
```json
{
    "body": "David, do you want to add a bit along these lines to https://github.com/sagemath/sage/wiki/migration-from-trac-to-Git**b ?",
    "created_at": "2022-09-16T17:19:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428263",
    "user": "https://github.com/mkoeppe"
}
```

David, do you want to add a bit along these lines to https://github.com/sagemath/sage/wiki/migration-from-trac-to-Git**b ?



---

archive/issue_comments_428264.json:
```json
{
    "body": "I added a bullet point to the \"reviewing a change\" section.",
    "created_at": "2022-09-16T18:19:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428264",
    "user": "https://github.com/roed314"
}
```

I added a bullet point to the "reviewing a change" section.



---

archive/issue_comments_428265.json:
```json
{
    "body": "One more thing to take care is to fix `:trac:` tags in our manual, to point at the correct URLs (possibly more like this?).",
    "created_at": "2022-09-18T09:43:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428265",
    "user": "https://github.com/dimpase"
}
```

One more thing to take care is to fix `:trac:` tags in our manual, to point at the correct URLs (possibly more like this?).



---

archive/issue_comments_428266.json:
```json
{
    "body": "Replying to [comment:72 Dima Pasechnik]:\n> One more thing to take care is to fix `:trac:` tags in our manual, to point at the correct URLs (possibly more like this?).\n\n\nCan the tool https://github.com/sagemath/trac-to-github build a dictionary of trac ticket numbers <-> Github issues/URLs/whatever, and then we can use that to fix these tags?",
    "created_at": "2022-09-19T18:59:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428266",
    "user": "https://github.com/jhpalmieri"
}
```

Replying to [comment:72 Dima Pasechnik]:
> One more thing to take care is to fix `:trac:` tags in our manual, to point at the correct URLs (possibly more like this?).


Can the tool https://github.com/sagemath/trac-to-github build a dictionary of trac ticket numbers <-> Github issues/URLs/whatever, and then we can use that to fix these tags?



---

archive/issue_comments_428267.json:
```json
{
    "body": "Ticket numbers will be preserved as issue numbers",
    "created_at": "2022-09-19T19:01:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428267",
    "user": "https://github.com/mkoeppe"
}
```

Ticket numbers will be preserved as issue numbers



---

archive/issue_comments_428268.json:
```json
{
    "body": "Replying to [comment:77 John Palmieri]:\n> Replying to [comment:72 Dima Pasechnik]:\n> > One more thing to take care is to fix `:trac:` tags in our manual, to point at the correct URLs (possibly more like this?).\n\n> \n> Can the tool https://github.com/sagemath/trac-to-github build a dictionary of trac ticket numbers <-> Github issues/URLs/whatever, and then we can use that to fix these tags?\n\n\nthe plan is that it should be 1-1, then only code handling the tag itself would need to be changed (in a trivial way).",
    "created_at": "2022-09-19T19:02:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428268",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:77 John Palmieri]:
> Replying to [comment:72 Dima Pasechnik]:
> > One more thing to take care is to fix `:trac:` tags in our manual, to point at the correct URLs (possibly more like this?).

> 
> Can the tool https://github.com/sagemath/trac-to-github build a dictionary of trac ticket numbers <-> Github issues/URLs/whatever, and then we can use that to fix these tags?


the plan is that it should be 1-1, then only code handling the tag itself would need to be changed (in a trivial way).



---

archive/issue_comments_428269.json:
```json
{
    "body": "One thing that Jeroen pointed out in a [thread about Gitlab a few years ago](https://groups.google.com/g/sage-devel/c/yBv5MCG9SJY/m/frWG2NiqBQAJ) was that he \"very much [liked] the fact that we have a single git repo\nwhere all pull requests appear. Checking out a pull request for\nreviewing is so much easier with Sage than it is with typical [GitHub](GitHub)\nprojects. If we ever move to [GitLab](GitLab), we really should keep this workflow.\"\n\nIf many Sage developers have write access to the repo, it is possible to have feature branches all in the main Sage repo (which we [may need to do](https://github.com/sagemath/trac-to-github/issues/5) regardless as part of the transition).  But there is the issue of clutter to keep in mind.",
    "created_at": "2022-09-19T20:15:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428269",
    "user": "https://github.com/roed314"
}
```

One thing that Jeroen pointed out in a [thread about Gitlab a few years ago](https://groups.google.com/g/sage-devel/c/yBv5MCG9SJY/m/frWG2NiqBQAJ) was that he "very much [liked] the fact that we have a single git repo
where all pull requests appear. Checking out a pull request for
reviewing is so much easier with Sage than it is with typical [GitHub](GitHub)
projects. If we ever move to [GitLab](GitLab), we really should keep this workflow."

If many Sage developers have write access to the repo, it is possible to have feature branches all in the main Sage repo (which we [may need to do](https://github.com/sagemath/trac-to-github/issues/5) regardless as part of the transition).  But there is the issue of clutter to keep in mind.



---

archive/issue_comments_428270.json:
```json
{
    "body": "Replying to [comment:79 Dima Pasechnik]:\n> Replying to [comment:77 John Palmieri]:\n> > Replying to [comment:72 Dima Pasechnik]:\n> > > One more thing to take care is to fix `:trac:` tags in our manual, to point at the correct URLs (possibly more like this?).\n\n> > \n> > Can the tool https://github.com/sagemath/trac-to-github build a dictionary of trac ticket numbers <-> Github issues/URLs/whatever, and then we can use that to fix these tags?\n\n> \n> the plan is that it should be 1-1, then only code handling the tag itself would need to be changed (in a trivial way). \n\n\nWe've been talking about `:trac:` directives, but there is a bigger problem: `git grep trac.sagemath.org src/` yields lots of hits, and all of those links are going to be broken if we get rid of the trac server. Many of them are in comments rather than live documentation, but it would be good to not lose those links. One solution would be to just change them all to use `:trac:`.",
    "created_at": "2022-09-19T20:30:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428270",
    "user": "https://github.com/jhpalmieri"
}
```

Replying to [comment:79 Dima Pasechnik]:
> Replying to [comment:77 John Palmieri]:
> > Replying to [comment:72 Dima Pasechnik]:
> > > One more thing to take care is to fix `:trac:` tags in our manual, to point at the correct URLs (possibly more like this?).

> > 
> > Can the tool https://github.com/sagemath/trac-to-github build a dictionary of trac ticket numbers <-> Github issues/URLs/whatever, and then we can use that to fix these tags?

> 
> the plan is that it should be 1-1, then only code handling the tag itself would need to be changed (in a trivial way). 


We've been talking about `:trac:` directives, but there is a bigger problem: `git grep trac.sagemath.org src/` yields lots of hits, and all of those links are going to be broken if we get rid of the trac server. Many of them are in comments rather than live documentation, but it would be good to not lose those links. One solution would be to just change them all to use `:trac:`.



---

archive/issue_comments_428271.json:
```json
{
    "body": "In the ticket description we have:\n- Need a plan to \u200bkeep links from external websites to trac.sagemath.org working\n  - either host all of trac.sagemath.org in static readonly mode (e.g via github pages) forever to preserve the links (suggested by `@`was)\n  - or set up http redirects to the Issues (ticket numbers & issue numbers map 1:1)",
    "created_at": "2022-09-19T20:36:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428271",
    "user": "https://github.com/mkoeppe"
}
```

In the ticket description we have:
- Need a plan to ​keep links from external websites to trac.sagemath.org working
  - either host all of trac.sagemath.org in static readonly mode (e.g via github pages) forever to preserve the links (suggested by `@`was)
  - or set up http redirects to the Issues (ticket numbers & issue numbers map 1:1)



---

archive/issue_comments_428272.json:
```json
{
    "body": "Replying to [comment:80 David Roe]:\n> One thing that Jeroen pointed out in a [thread about Gitlab a few years ago](https://groups.google.com/g/sage-devel/c/yBv5MCG9SJY/m/frWG2NiqBQAJ) was that he \"very much [liked] the fact that we have a single git repo\n> where all pull requests appear. Checking out a pull request for\n> reviewing is so much easier with Sage than it is with typical [GitHub](GitHub)\n> projects.\n\n\nI don't think this is true (nor was it true when Jeroen wrote it). The PRs will all be available in our main repo, and as documented in https://github.com/sagemath/sage/wiki/migration-from-trac-to-Git**b#proposed-workflow-on-github-with-transition-guide-from-trac, they can be checked out using `git fetch upstream pull/PULL_REQUEST_ID/head:LOCAL_BRANCH_NAME`",
    "created_at": "2022-09-19T20:44:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428272",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:80 David Roe]:
> One thing that Jeroen pointed out in a [thread about Gitlab a few years ago](https://groups.google.com/g/sage-devel/c/yBv5MCG9SJY/m/frWG2NiqBQAJ) was that he "very much [liked] the fact that we have a single git repo
> where all pull requests appear. Checking out a pull request for
> reviewing is so much easier with Sage than it is with typical [GitHub](GitHub)
> projects.


I don't think this is true (nor was it true when Jeroen wrote it). The PRs will all be available in our main repo, and as documented in https://github.com/sagemath/sage/wiki/migration-from-trac-to-Git**b#proposed-workflow-on-github-with-transition-guide-from-trac, they can be checked out using `git fetch upstream pull/PULL_REQUEST_ID/head:LOCAL_BRANCH_NAME`



---

archive/issue_comments_428273.json:
```json
{
    "body": "Replying to [comment:80 David Roe]:\n> If many Sage developers have write access to the repo, it is possible to have feature branches all in the main Sage repo (which we [may need to do](https://github.com/sagemath/trac-to-github/issues/5) regardless as part of the transition).  But there is the issue of clutter to keep in mind.\n\n\nI don't think we should create named feature branches in the main Sage repo.\n\nThe old branches from Trac are on sagetrac-mirror, and pull requests can be initiated from there.",
    "created_at": "2022-09-19T20:48:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428273",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:80 David Roe]:
> If many Sage developers have write access to the repo, it is possible to have feature branches all in the main Sage repo (which we [may need to do](https://github.com/sagemath/trac-to-github/issues/5) regardless as part of the transition).  But there is the issue of clutter to keep in mind.


I don't think we should create named feature branches in the main Sage repo.

The old branches from Trac are on sagetrac-mirror, and pull requests can be initiated from there.



---

archive/issue_comments_428274.json:
```json
{
    "body": "Creating pull requests from sagetrac-mirror sounds like a clean solution.  Reading through more of the thread where Jeroen was commenting, I think he was in the minority.  So I withdraw the proposal of having named feature branches in the main Sage repo.\n\nWe should make sure we're clear that this is the standard if we're giving Sage developers write access (which would allow them to create such branches).",
    "created_at": "2022-09-19T21:16:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428274",
    "user": "https://github.com/roed314"
}
```

Creating pull requests from sagetrac-mirror sounds like a clean solution.  Reading through more of the thread where Jeroen was commenting, I think he was in the minority.  So I withdraw the proposal of having named feature branches in the main Sage repo.

We should make sure we're clear that this is the standard if we're giving Sage developers write access (which would allow them to create such branches).



---

archive/issue_comments_428275.json:
```json
{
    "body": "Replying to [comment:86 David Roe]:\n> Creating pull requests from sagetrac-mirror sounds like a clean solution. \n\n\nI've added this to https://github.com/sagemath/sage/wiki/migration-from-trac-to-Git**b#conversion-of-trac-tickets-and-the-trac-wiki-to-github",
    "created_at": "2022-09-25T19:47:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428275",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:86 David Roe]:
> Creating pull requests from sagetrac-mirror sounds like a clean solution. 


I've added this to https://github.com/sagemath/sage/wiki/migration-from-trac-to-Git**b#conversion-of-trac-tickets-and-the-trac-wiki-to-github



---

archive/issue_comments_428276.json:
```json
{
    "body": "As suggested in https://github.com/sagemath/publications/pull/142#issuecomment-1259001501 and https://groups.google.com/g/sage-devel/c/hX6ojxlNwOU/m/dup_Ywu1BQAJ, we should add to [the transition guide](https://github.com/sagemath/sage/wiki/migration-from-trac-to-Git**b#proposed-workflow-on-github-with-transition-guide-from-trac) how to model Trac's ticket dependencies in GitHub PRs.\nSee https://github.com/orgs/community/discussions/4477 for solutions.",
    "created_at": "2022-09-27T17:14:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30126",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30126#issuecomment-428276",
    "user": "https://github.com/mkoeppe"
}
```

As suggested in https://github.com/sagemath/publications/pull/142#issuecomment-1259001501 and https://groups.google.com/g/sage-devel/c/hX6ojxlNwOU/m/dup_Ywu1BQAJ, we should add to [the transition guide](https://github.com/sagemath/sage/wiki/migration-from-trac-to-Git**b#proposed-workflow-on-github-with-transition-guide-from-trac) how to model Trac's ticket dependencies in GitHub PRs.
See https://github.com/orgs/community/discussions/4477 for solutions.
