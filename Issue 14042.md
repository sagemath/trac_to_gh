# Issue 14042: installation guide has wrong location for SageTeX documentation

Issue created by migration from Trac.

Original creator: ddrake

Original creation time: 2013-03-09 18:42:22

Assignee: mvngu

CC:  kcrisman

As noted [on sage-support](https://groups.google.com/forum/?fromgroups=#!topic/sage-support/e0FQYUZnDMw), the installation guide claims that the SageTeX documentation is in `SAGE_ROOT/local/share/texmf/tex/generic/sagetex`, but it is actually in `SAGE_ROOT/local/share/doc/sagetex`.

Also, it may be appropriate to install the `example.tex` file into that doc directory, instead of the texmf directory.


---

Attachment

The patch fixes the installation guide, and the new spkg is identical to the old one, except that it also puts `example.tex` into the documentation directory. (In the src directory: example.tex is listed twice, once for the texmf directory, and once for the docs directory. Yes, I am deliberately wasting 20 kilobytes of disk space.)


---

Comment by ddrake created at 2013-03-21 01:51:03

Changing status from new to needs_review.


---

Comment by kcrisman created at 2013-03-21 14:22:20

The spkg seems to have an spkg inside it, or at least a directory, and also has a `.DS_Store` file at the top level.  Did you create this correctly?

The patch is fine, and bitbucket corresponds to this, and the 20K is no problem - you didn't include any pdfs! - so otherwise this is ready to go.


---

Comment by kcrisman created at 2013-03-21 14:22:20

Changing status from needs_review to needs_work.


---

Comment by ddrake created at 2013-03-21 15:48:07

Replying to [comment:3 kcrisman]:
> The spkg seems to have an spkg inside it, or at least a directory, and also has a `.DS_Store` file at the top level.  Did you create this correctly?

I just downloaded the linked spkg and did `tar tjvf sagetex-2.3.4.spkg | grep DS` and it returns nothing. So that file is from you, most likely. Also, when I unpack it, I get a regular directory structure.

> The patch is fine, and bitbucket corresponds to this, and the 20K is no problem - you didn't include any pdfs!

Hmm, there are two PDFs -- `sagetex.pdf` and `example.pdf`. But `example.tex` should be the only thing duplicated.


---

Comment by kcrisman created at 2013-03-21 15:58:21

> > The spkg seems to have an spkg inside it, or at least a directory, and also has a `.DS_Store` file at the top level.  Did you create this correctly?
> 
> I just downloaded the linked spkg and did `tar tjvf sagetex-2.3.4.spkg | grep DS` and it returns nothing. So that file is from you, most likely. Also, when I unpack it, I get a regular directory structure.

Okay, I'll check again.  I can't believe it was added so quickly!

Okay, you were right on that, but there is however something additional - namely, the checksum.  Do other spkgs come with their own checksum?  I don't believe so.  (That is what confused my computer, I think.)

> > The patch is fine, and bitbucket corresponds to this, and the 20K is no problem - you didn't include any pdfs!
> 
> Hmm, there are two PDFs -- `sagetex.pdf` and `example.pdf`. But `example.tex` should be the only thing duplicated.
That's what I meant.  No pdfs in the texmf directory, so only one _additional_ document, as you said.  I guess I should have so "any additional pdfs".


---

Comment by ddrake created at 2013-03-21 16:13:58

Replying to [comment:5 kcrisman]:
> Okay, you were right on that, but there is however something additional - namely, the checksum.  Do other spkgs come with their own checksum?  I don't believe so.  (That is what confused my computer, I think.)

They don't. There was an old ticket (#329) for including such checksums and I tried to get it included, but at this point I don't think it's going anywhere. I should probably stop including the checksum.


---

Comment by kcrisman created at 2013-03-21 16:45:50

I'd say that until #329 is in, that would be wise, though [Minh](http://trac.sagemath.org/sage_trac/ticket/7617#comment:29) apparently thought otherwise when this was added.  I guess it didn't hurt anyone for three years to have it there!


---

Comment by ddrake created at 2013-03-23 21:35:58

I've updated the spkg so it doesn't include the checksum stuff. This now ready for review.


---

Comment by ddrake created at 2013-03-23 21:35:58

Changing status from needs_work to needs_review.


---

Comment by kcrisman created at 2013-03-26 02:47:22

I don't see any changes in the spkg, though, other than that being missing - is that not something that is committed?  I also notice 

```
Finally, note that you can actually use SageTeX without Sage! The
`remote-sagetex.py` script uses any remote Sage server to do the
computations for you. If you can't or don't want to install Sage on your
computer, you can use the `remote-sagetex` script to use SageTeX,
although if you are in such a situation, you probably want to get
SageTeX [from CTAN](http://tug.ctan.org/pkg/sagetex) instead of
downloading this spkg.
```

in SPKG.txt.  That's not right, is it?  Unless you updated it for the cell server or something... ?  In fact, SPKG.txt doesn't seem to be up to date.  Maybe all that stuff can be removed now in any case.  The author's web page might need updating too :)


---

Comment by ddrake created at 2013-03-26 04:29:02

Replying to [comment:9 kcrisman]:
> I don't see any changes in the spkg, though, other than that being missing - is that not something that is committed?

The only change in the spkg should be that `setup.py` also installs example.tex into the "doc" directory, and an entry in SPKG.txt.

I know that there's a bunch of ancient cruft in there that should get cleaned up but perhaps we'll do that in another ticket.


---

Comment by kcrisman created at 2013-03-26 14:56:37

If you open that ticket, positive review here.  But what I meant was that I didn't see any changes that led to the checksum being removed.  How did that happen?


---

Comment by ddrake created at 2013-03-27 02:38:19

Replying to [comment:11 kcrisman]:
> But what I meant was that I didn't see any changes that led to the checksum being removed.  How did that happen?

I changed the script I use to make the spkg: see http://boxen.math.washington.edu/home/drake/code/sage/st/make-spkg


---

Comment by kcrisman created at 2013-03-27 03:20:39

Changing status from needs_review to positive_review.


---

Comment by kcrisman created at 2013-03-27 03:20:39

I see.  Ideally, that should be somewhere in the spkg... ?  I think that at least a few of them have that.  Anyway, whatever.


---

Comment by ddrake created at 2013-03-27 03:44:50

The clean-up-the-cruft ticket is #14363.


---

Comment by jdemeyer created at 2013-03-27 07:48:37

Replying to [comment:13 kcrisman]:
> I see.  Ideally, that should be somewhere in the spkg... ?  I think that at least a few of them have that.  Anyway, whatever.
You should have a file `spkg-dist` to create a spkg file, although I think you should not add such checksums as long as #329 isn't merged.


---

Comment by jdemeyer created at 2013-03-28 17:59:38

Resolution: fixed
