# Issue 20612: Improved grs.py documentation

Issue created by migration from Trac.

Original creator: dlucas

Original creation time: 2016-06-20 07:44:13

CC:  jsrn

Some doctests in grs.py are quite unhelpful, and some classes description do not explain at all how
the class works (especially for the encoders).

This ticket fixes that.


---

Comment by dlucas created at 2016-06-20 07:46:38

I pushed my branch, this is now open for review.
----
New commits:


---

Comment by dlucas created at 2016-06-20 07:46:38

Changing status from new to needs_review.


---

Comment by danielaugot created at 2016-08-25 10:19:34

Hi David,

typos:

- scalaers

remarks and suggestions:

- `minimum_distance` the new doc string is less clear than previous one. The notion of minimum distance is clear in coding theory, no need to be explicit. If you really want to explicit it, change the sentence of the new docstring to `Returns the minimum distance between any two words in ``self``.`

- `column_multipliers`, `parity_column_multipliers`:  the new doc strings speaks about positions scalars, while these methods deal with multipliers.

- `weight_enumerator`: it would be better to say "the polynomial whose coefficient of degree is [...]" to avoid naming the variable 'x'

- (several places) the framework for describing the encoding could be made a bit more clear, using the terms "message" and "encoding" more explicitly. Instead of


```
Let `m = (m_1, \dots, m_k)` a vector over F.
[...]
The corresponding codeword is the following vector:
```

what about 

```
let `m=[...]` a vector over F be the message:
[...]
the encoding of `m` will be the following codeword:
```

- `class GRSErrorErasureDecoder(Decoder)` it would be better to say : floor((d-1)/2 instead of "decoding radius". Also the input to the decode method should be a `word_and_erasure` vector, not a vector `y`.

Daniel


---

Comment by ylchapuy created at 2016-10-21 11:55:38

needs rebase.

also:

* typo: `scalaers`


---

Comment by ylchapuy created at 2016-10-21 11:55:38

Changing status from needs_review to needs_work.


---

Comment by cpernet created at 2017-02-07 17:20:19

Rebased and fixed the `scalaers` typo. Other remarks by danielaugot still need to be adressed. 
----
New commits:


---

Comment by cpernet created at 2017-02-08 08:35:30

Changing keywords from "" to "rd3".


---

Comment by git created at 2017-02-09 15:03:18

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by cpernet created at 2017-02-09 15:06:25

Changing status from needs_work to needs_review.


---

Comment by cpernet created at 2017-02-09 15:06:25

I fixed the merge conflict and all outstanding remarks by danielaugot.
I also took this opportunity to turn the verbs to imperative at the beginning of almost each docstring.
Ready for review


---

Comment by danielaugot created at 2017-02-09 17:55:55

A very small typo with maths in the docstring of `GRSErrorErasureDecoder`. The `hamming_weight` gives a bad rendering in math mode, just fix the "`_`" in

```
    - Create a new GRS code of length `n-hamming_weight(e)`, dimension `k`.
```

docstring.


---

Comment by git created at 2017-02-09 21:14:13

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by cpernet created at 2017-02-09 21:15:16

Typesetting updated.


---

Comment by danielaugot created at 2017-02-10 08:29:41

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-02-11 23:34:29

PDF docs don't build

```
[docpdf] l.7167 ...code of length \(n-\text{hamming_weight}
177318[docpdf]                                                   (e)\), dimension \(k\).
177319[docpdf] !  ==> Fatal error occurred, no output PDF file produced!
```



---

Comment by vbraun created at 2017-02-11 23:34:29

Changing status from positive_review to needs_work.


---

Comment by git created at 2017-02-13 08:42:11

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by cpernet created at 2017-02-13 08:50:15

Changing status from needs_work to needs_review.


---

Comment by cpernet created at 2017-02-13 08:50:15

Fixed. Ready for a (trivial) review.


---

Comment by danielaugot created at 2017-02-14 15:45:13

On my fedora laptop, `make doc-pdf` fails. It also fails  on branch `develop`, even with a fresh `git clone`. Someone else than me, with a different distro, is needed to positively review the ticket.


---

Comment by danielaugot created at 2017-02-14 15:52:25

I did a refined test. The following builds nicely the coding pdf doc.

```
./sage -b
./sage --docbuild reference/coding pdf
```

and `evince ./local/share/doc/sage/pdf/en/reference/coding/coding.pdf` shows a correct pdf.


---

Comment by danielaugot created at 2017-02-14 15:52:43

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2017-02-14 17:30:15

I've pushed a branch to `u/tscrim/improve_grs-20849` that does a little bit more cleanup of the doc (including some of the parts added here) and of the file itself. If you want to review that here, then go ahead and do so, but feel free to use that as a branch for a followup ticket too.


---

Comment by cpernet created at 2017-02-15 08:39:31

Travis. Thanks for your follow-up corrections. Please push your branch to this ticket, as it is based on the latest commit of mine.
I am willing to positive review all of your changes except the following ones:
 - in several place, you added a line break before a \textnormal{ Reed Solomon Code over }...
   there is an extra space identation in each of these which I think should be removed.
 - You replaced `a new GRS code of length `n-hamming\_weight(e)`` by 
`a new GRS code of length equal to the `n`-hamming weight of `e``.
This sentence does not make sense. Maybe change it to `a new GRS code of length equal to `n` minus the Hamming weight of `e`` (move `the` and capitalize `Hamming`)


Hence I put the ticket in needs-work status again.


---

Comment by cpernet created at 2017-02-15 08:39:31

Changing status from positive_review to needs_work.


---

Comment by cpernet created at 2017-02-15 08:43:02

Also can you fix line 957:
`an polynomial` to `a polynomial`


---

Comment by tscrim created at 2017-02-15 15:37:04

Replying to [comment:22 cpernet]:
> Travis. Thanks for your follow-up corrections. Please push your branch to this ticket, as it is based on the latest commit of mine.
> I am willing to positive review all of your changes except the following ones:
>  - in several place, you added a line break before a \textnormal{ Reed Solomon Code over }...
>    there is an extra space identation in each of these which I think should be removed.

At the risk of bikeshedding, the spaces are there in order to show that the line came from a line break in the output. This is used in a number of other places in Sage too. IMO it builds a better association to the line above it, but I don't have a strong opinion on this.

>  - You replaced `a new GRS code of length `n-hamming\_weight(e)`` by 
> `a new GRS code of length equal to the `n`-hamming weight of `e``.
> This sentence does not make sense. Maybe change it to `a new GRS code of length equal to `n` minus the Hamming weight of `e`` (move `the` and capitalize `Hamming`)

Ah, I mis-parsed that sentence. I was wondering what the `n`-Hamming weight was and why I couldn't find a definition. Fixed.
----
New commits:


---

Comment by tscrim created at 2017-02-15 15:37:18

Changing status from needs_work to needs_review.


---

Comment by git created at 2017-02-18 17:05:01

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2017-02-22 15:19:57

ping


---

Comment by cpernet created at 2017-02-28 10:22:47

Positive review to all recent commits by Travis. I also pushed a minor edit, replacing `H(e)` by the standard notation `w(e)`.
Travis, can you please just review this last edit and were fine.
----
New commits:


---

Comment by tscrim created at 2017-02-28 13:34:06

LGTM. Sorry, I didn't know standard notation and just took a guess.


---

Comment by tscrim created at 2017-02-28 13:34:06

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-03-01 18:50:48

Resolution: fixed
