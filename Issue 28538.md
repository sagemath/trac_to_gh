# Issue 28538: Broken jsmol graphics

Issue created by migration from https://trac.sagemath.org/ticket/28775

Original creator: jmantysalo

Original creation time: 2019-11-20 08:41:38

Following shows picture but when you click it, it changes to a cloud of points. 


```
Example306(x,y) = -x*y*exp(-(x^2 + y^2)/2)
p1 = plot3d(Example306(x,y),(x,-2,2),(y,-2,2))
p2 = point((0,0,Example306(0,0)),size=20,color='red')
p3 = point((1,-1,Example306(1,-1)),size=20,color='green')
p4 = point((-1,1,Example306(1,-1)),size=20,color='green')
p5 = point((1,1,Example306(1,1)),size=20,color='black')
p6 = point((-1,-1,Example306(-1,-1)),size=20,color='black')
show(p1+p2+p3+p4+p5+p6, viewer='jsmol')
```


With `viewer='threejs'` it works.



---

Comment by tmonteil created at 2019-11-21 19:48:29

I can not reproduce it (Sage 9.0.beta6, Debian buster 64bit, firefox-esr).


---

Comment by jmantysalo created at 2019-11-23 14:09:47

On a fresh install 1) I was not able to open SageNB at all, and 2) `viewer='jsmol'` says `.../local/lib/python3.7/site-packages/sage/repl/rich_output/display_manager.py:583: UserWarning: viewer=jsmol is not supported`.

Something strange here.


---

Comment by embray created at 2020-01-06 14:10:03

Ticket retargeted after milestone closed


---

Comment by mkoeppe created at 2020-05-01 04:28:42

Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.


---

Comment by mkoeppe created at 2020-08-07 18:02:56

works for me. Given that OP mentions SageNB, this may be outdated altogether


---

Comment by mkoeppe created at 2020-08-07 18:02:56

Changing status from new to needs_review.


---

Comment by @mwageringel created at 2020-08-13 18:51:44

I get the same warning as in comment:2, so it seems that `threejs` is used instead of `jsmol`. I do not know anything about jsmol though, so I am not sure if this is a bug.


---

Comment by paulmasson created at 2020-08-13 20:49:44

Replying to [comment:6 gh-mwageringel]:
> I get the same warning as in comment:2, so it seems that `threejs` is used instead of `jsmol`. I do not know anything about jsmol though, so I am not sure if this is a bug.
The viewer should be `jmol`, not `jsmol`. With the former there is no error in the current notebook. I do remember seeing the error when first reported, but it's not there now.


---

Comment by paulmasson created at 2020-08-13 20:49:44

Changing status from needs_review to positive_review.


---

Comment by slelievre created at 2020-10-11 16:48:16

Resolution: worksforme
