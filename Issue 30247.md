# Issue 30247: Visual Studio (vscode) configuration

archive/issues_030247.json:
```json
{
    "body": "CC:  @tobiasdiez @EmmanuelCharpentier tmonteil @kcrisman @louisng @kwankyu @tscrim @slel\n\n- Pylance: https://marketplace.visualstudio.com/items?itemName=ms-python.vscode-pylance  (includes pyright)\n\nIssue created by migration from https://trac.sagemath.org/ticket/30484\n\n",
    "created_at": "2020-09-01T21:51:31Z",
    "labels": [
        "user interface",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "Visual Studio (vscode) configuration",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30247",
    "user": "@mkoeppe"
}
```
CC:  @tobiasdiez @EmmanuelCharpentier tmonteil @kcrisman @louisng @kwankyu @tscrim @slel

- Pylance: https://marketplace.visualstudio.com/items?itemName=ms-python.vscode-pylance  (includes pyright)

Issue created by migration from https://trac.sagemath.org/ticket/30484





---

archive/issue_comments_431251.json:
```json
{
    "body": "A basic how to setup VS code for sage (from #25206#comment:63):\n\n- Start Visual Studio Code.\n- Install \"Remote-WSL\" extension.\n- Press F1, enter Remote-WSL: New Window, and hit enter.\n- Use the File menu to open your folder.\n- For running & debuging, follow \u200bhttps://code.visualstudio.com/remote-tutorials/wsl/edit-and-debug\n- Use ./sage -br to trigger a rebuild of sage.",
    "created_at": "2020-09-07T21:23:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431251",
    "user": "@tobiasdiez"
}
```

A basic how to setup VS code for sage (from #25206#comment:63):

- Start Visual Studio Code.
- Install "Remote-WSL" extension.
- Press F1, enter Remote-WSL: New Window, and hit enter.
- Use the File menu to open your folder.
- For running & debuging, follow â€‹https://code.visualstudio.com/remote-tutorials/wsl/edit-and-debug
- Use ./sage -br to trigger a rebuild of sage.



---

archive/issue_comments_431252.json:
```json
{
    "body": "Should also add instructions for cygwin shell under VS code; random link - https://superuser.com/questions/1511487/cygwin-shell-in-vs-code-tries-to-activate-conda-how-to-prevent-this",
    "created_at": "2020-09-08T00:18:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431252",
    "user": "@mkoeppe"
}
```

Should also add instructions for cygwin shell under VS code; random link - https://superuser.com/questions/1511487/cygwin-shell-in-vs-code-tries-to-activate-conda-how-to-prevent-this



---

archive/issue_comments_431253.json:
```json
{
    "body": "Replying to [comment:1 gh-tobiasdiez]:\n\n> - Use ./sage -br to trigger a rebuild of sage.\nI'd suggest `make build && ./sage` instead.",
    "created_at": "2020-11-07T08:18:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431253",
    "user": "@dimpase"
}
```

Replying to [comment:1 gh-tobiasdiez]:

> - Use ./sage -br to trigger a rebuild of sage.
I'd suggest `make build && ./sage` instead.



---

archive/issue_comments_431254.json:
```json
{
    "body": "Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-24T02:04:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431254",
    "user": "@mkoeppe"
}
```

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_431255.json:
```json
{
    "body": "Hmm, I can't figure out how to use vscode with a Sage notebook.\nThe problem is to get vscode to find the correct kernel...",
    "created_at": "2022-04-07T11:56:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431255",
    "user": "@dimpase"
}
```

Hmm, I can't figure out how to use vscode with a Sage notebook.
The problem is to get vscode to find the correct kernel...



---

archive/issue_comments_431256.json:
```json
{
    "body": "At least for a \"normal\" jupyter notebook, selecting the venv created by sage worked for me.\n\nThere is also the possibility to connect to a \"remote\" jupyter instance. https://code.visualstudio.com/docs/datascience/jupyter-notebooks#_connect-to-a-remote-jupyter-server So if you start sage's jupyter server, you should be able to connect to it in this way.",
    "created_at": "2022-04-07T17:20:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431256",
    "user": "@tobiasdiez"
}
```

At least for a "normal" jupyter notebook, selecting the venv created by sage worked for me.

There is also the possibility to connect to a "remote" jupyter instance. https://code.visualstudio.com/docs/datascience/jupyter-notebooks#_connect-to-a-remote-jupyter-server So if you start sage's jupyter server, you should be able to connect to it in this way.



---

archive/issue_comments_431257.json:
```json
{
    "body": "Replying to [comment:12 gh-tobiasdiez]:\n> At least for a \"normal\" jupyter notebook, selecting the venv created by sage worked for me.\n\nThe question is, how does vscode's jupyter discover kernels? Where?\nWhat should be set?\n\n> \n> There is also the possibility to connect to a \"remote\" jupyter instance. https://code.visualstudio.com/docs/datascience/jupyter-notebooks#_connect-to-a-remote-jupyter-server So if you start sage's jupyter server, you should be able to connect to it in this way.",
    "created_at": "2022-04-07T21:09:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431257",
    "user": "@dimpase"
}
```

Replying to [comment:12 gh-tobiasdiez]:
> At least for a "normal" jupyter notebook, selecting the venv created by sage worked for me.

The question is, how does vscode's jupyter discover kernels? Where?
What should be set?

> 
> There is also the possibility to connect to a "remote" jupyter instance. https://code.visualstudio.com/docs/datascience/jupyter-notebooks#_connect-to-a-remote-jupyter-server So if you start sage's jupyter server, you should be able to connect to it in this way.



---

archive/issue_comments_431258.json:
```json
{
    "body": "Attachment [Screenshot 2022-04-08 201448.png](tarball://root/attachments/some-uuid/ticket30484/Screenshot 2022-04-08 201448.png) by @tobiasdiez created at 2022-04-08 18:15:59\n\nIn the upper right corner you can select the kernel/python version, see attached screenshot.",
    "created_at": "2022-04-08T18:15:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431258",
    "user": "@tobiasdiez"
}
```

Attachment [Screenshot 2022-04-08 201448.png](tarball://root/attachments/some-uuid/ticket30484/Screenshot 2022-04-08 201448.png) by @tobiasdiez created at 2022-04-08 18:15:59

In the upper right corner you can select the kernel/python version, see attached screenshot.



---

archive/issue_comments_431259.json:
```json
{
    "body": "The link https://code.visualstudio.com/remote-tutorials/wsl/edit-and-debug does not seem to work.",
    "created_at": "2022-04-09T04:08:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431259",
    "user": "@louisng114"
}
```

The link https://code.visualstudio.com/remote-tutorials/wsl/edit-and-debug does not seem to work.



---

archive/issue_comments_431260.json:
```json
{
    "body": "Not sure if it has just moved or this is a different document: https://code.visualstudio.com/docs/remote/wsl",
    "created_at": "2022-04-09T04:16:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431260",
    "user": "@mkoeppe"
}
```

Not sure if it has just moved or this is a different document: https://code.visualstudio.com/docs/remote/wsl



---

archive/issue_comments_431261.json:
```json
{
    "body": "Or maybe this one: https://code.visualstudio.com/docs/remote/wsl-tutorial",
    "created_at": "2022-04-09T04:23:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431261",
    "user": "@mkoeppe"
}
```

Or maybe this one: https://code.visualstudio.com/docs/remote/wsl-tutorial



---

archive/issue_comments_431262.json:
```json
{
    "body": "Replying to [comment:14 gh-tobiasdiez]:\n> In the upper right corner you can select the kernel/python version, see attached screenshot.\n\nit's rather unpredictable whether Sage jupyter kernel will be available.\nOften it's just not there. Perhaps it needs to installed to a specific location.",
    "created_at": "2022-04-09T19:05:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431262",
    "user": "@dimpase"
}
```

Replying to [comment:14 gh-tobiasdiez]:
> In the upper right corner you can select the kernel/python version, see attached screenshot.

it's rather unpredictable whether Sage jupyter kernel will be available.
Often it's just not there. Perhaps it needs to installed to a specific location.



---

archive/issue_comments_431263.json:
```json
{
    "body": "Instructions requested at https://groups.google.com/g/sage-devel/c/oyfbbskDE4o/m/PVURMUF_BAAJ",
    "created_at": "2022-04-13T20:08:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431263",
    "user": "@mkoeppe"
}
```

Instructions requested at https://groups.google.com/g/sage-devel/c/oyfbbskDE4o/m/PVURMUF_BAAJ



---

archive/issue_comments_431264.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-04-17T17:32:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431264",
    "user": "@mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_431265.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-04-18T20:30:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431265",
    "user": "@tobiasdiez"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_431266.json:
```json
{
    "body": "The changes mostly look good to me, but I think the ticket originally had a broader scope than only the configuration for Jupiter notebooks.\n\nMoreover, according to https://code.visualstudio.com/docs/getstarted/userinterface#_command-palette Ctrl + Shift + P is the default/recommended shortcut to open the command palette. Maybe rephrase this part as `In the command palette (Ctrl + Shift + P), choose \"xyz\"`?",
    "created_at": "2022-04-18T20:30:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431266",
    "user": "@tobiasdiez"
}
```

The changes mostly look good to me, but I think the ticket originally had a broader scope than only the configuration for Jupiter notebooks.

Moreover, according to https://code.visualstudio.com/docs/getstarted/userinterface#_command-palette Ctrl + Shift + P is the default/recommended shortcut to open the command palette. Maybe rephrase this part as `In the command palette (Ctrl + Shift + P), choose "xyz"`?



---

archive/issue_comments_431267.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-04-19T20:11:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431267",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_431268.json:
```json
{
    "body": "On macOS, its Cmd + Shift + P. Perhaps also include the link to the VS Code documentation?",
    "created_at": "2022-04-19T20:48:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431268",
    "user": "@mkoeppe"
}
```

On macOS, its Cmd + Shift + P. Perhaps also include the link to the VS Code documentation?



---

archive/issue_comments_431269.json:
```json
{
    "body": "Replying to [comment:25 git]:\n> Branch pushed to git repo; I updated commit sha1. New commits:\n> ||[6881dd6](https://git.sagemath.org/sage.git/commit/?id=6881dd6e7ee964603a40b32e243538877e1d0aee)||`Changed phrasing regarding the command palette`||\n\nThanks!",
    "created_at": "2022-04-20T19:17:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431269",
    "user": "@tobiasdiez"
}
```

Replying to [comment:25 git]:
> Branch pushed to git repo; I updated commit sha1. New commits:
> ||[6881dd6](https://git.sagemath.org/sage.git/commit/?id=6881dd6e7ee964603a40b32e243538877e1d0aee)||`Changed phrasing regarding the command palette`||

Thanks!



---

archive/issue_comments_431270.json:
```json
{
    "body": "Changing priority from major to critical.",
    "created_at": "2022-04-23T17:48:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431270",
    "user": "@mkoeppe"
}
```

Changing priority from major to critical.



---

archive/issue_comments_431271.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-08-03T22:21:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431271",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_431272.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-08-03T22:21:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431272",
    "user": "@mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_431273.json:
```json
{
    "body": "I am new to the Visual Studio Code interface to the sagemath installed in WSL.\n\nI followed the guide of the branch of this ticket. It mostly worked.\n\nBut in the first attempt, I could not select [SageMath](SageMath) kernel in the jupyter notebook. It was simply missing.\n\nI wandered around for some time, and then found Jupyter Extension in the Extensions panel. I installed it, and did the \":Create: New Jupyter Notebook\" thing again. Then I could finally select [SageMath](SageMath) kernel. \n\nSo it seems that there is a missing step in the guide: \"Install Jupyter Extension\"\n\nAnyway, this VSCode interface to sage is very nice!\n\nStill it was not straightforward for me to setup the working jupyter notebook with sagemath kernel starting from building sage from source in WSL.",
    "created_at": "2022-08-06T03:21:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431273",
    "user": "@kwankyu"
}
```

I am new to the Visual Studio Code interface to the sagemath installed in WSL.

I followed the guide of the branch of this ticket. It mostly worked.

But in the first attempt, I could not select [SageMath](SageMath) kernel in the jupyter notebook. It was simply missing.

I wandered around for some time, and then found Jupyter Extension in the Extensions panel. I installed it, and did the ":Create: New Jupyter Notebook" thing again. Then I could finally select [SageMath](SageMath) kernel. 

So it seems that there is a missing step in the guide: "Install Jupyter Extension"

Anyway, this VSCode interface to sage is very nice!

Still it was not straightforward for me to setup the working jupyter notebook with sagemath kernel starting from building sage from source in WSL.



---

archive/issue_comments_431274.json:
```json
{
    "body": "Thanks for testing it! I'll add this step",
    "created_at": "2022-08-06T03:29:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431274",
    "user": "@mkoeppe"
}
```

Thanks for testing it! I'll add this step



---

archive/issue_comments_431275.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-08-06T03:32:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431275",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_431276.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-08-06T03:57:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431276",
    "user": "@kwankyu"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_431277.json:
```json
{
    "body": "Replying to [comment:35 mkoeppe]:\n> Thanks for testing it! I'll add this step\n\nThanks. It looks good to me.",
    "created_at": "2022-08-06T03:57:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431277",
    "user": "@kwankyu"
}
```

Replying to [comment:35 mkoeppe]:
> Thanks for testing it! I'll add this step

Thanks. It looks good to me.



---

archive/issue_comments_431278.json:
```json
{
    "body": "Thanks!",
    "created_at": "2022-08-06T04:18:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431278",
    "user": "@mkoeppe"
}
```

Thanks!



---

archive/issue_comments_431279.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-08-07T22:56:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30247",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30247#issuecomment-431279",
    "user": "@vbraun"
}
```

Resolution: fixed
