# Issue 33323: pytest: ignore cython files

Issue created by migration from https://trac.sagemath.org/ticket/33560

Original creator: @tobiasdiez

Original creation time: 2022-03-25 12:19:34

CC:  mkoeppe

As we probably don't want people to write pytests in Cython, we should skip collecting cython files to prevent issues like

```
$ ./sage -t src/sage/symbolic/expression.pyx
[...]

============================================================================================================ test session starts ============================================================================================================
platform darwin -- Python 3.10.2, pytest-7.0.1, pluggy-1.0.0
rootdir: /Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src, configfile: tox.ini
collected 0 items                                                                                                                                                                                                                           

=========================================================================================================== no tests ran in 0.01s ===========================================================================================================
ERROR: not found: /Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/src/sage/symbolic/expression.pyx
```


Later, one could use https://github.com/lgpage/pytest-cython to extract doctests from cython files.


---

Comment by @tobiasdiez created at 2022-03-25 12:31:21

Changing status from new to needs_review.


---

Comment by @tobiasdiez created at 2022-03-25 12:31:21

New commits:


---

Comment by mkoeppe created at 2022-03-25 15:49:55

Merge conflict with #33549


---

Comment by git created at 2022-03-29 13:21:00

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-03-30 01:26:39

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2022-03-30 01:27:27

I've merged #33572 to resolve a merge conflict and tested with `./sage -pytest src/sage/symbolic/expression.pyx`.


---

Comment by mkoeppe created at 2022-03-30 01:27:27

Changing status from needs_review to positive_review.


---

Comment by @tobiasdiez created at 2022-03-30 11:46:29

Thanks!


---

Comment by git created at 2022-03-30 16:14:42

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:


---

Comment by git created at 2022-03-30 16:14:42

Changing status from positive_review to needs_review.


---

Comment by mkoeppe created at 2022-03-30 16:15:05

Redid the merge with #33572


---

Comment by mkoeppe created at 2022-03-30 16:15:05

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2022-04-03 23:14:08

Resolution: fixed
