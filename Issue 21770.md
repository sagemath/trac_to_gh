# Issue 21770: elt.subs( ) is inconsistent across rings and base_rings

Issue created by migration from https://trac.sagemath.org/ticket/22007

Original creator: edgarcosta

Original creation time: 2016-12-02 03:40:39

Keywords: PolynomialRing PowerSeriesRing subs substitute



```
g = [1, 2, 1, 2, 2, -4, 1]
for field in [QQ, RR, FiniteField(1009)]:
    print field
    for ring in [PolynomialRing, PowerSeriesRing]:
        R.<x> = ring(field)
        xsub = R(1 + x)
        print R
        print R(g).subs(x = xsub) == R(g).subs(xsub)
    print

Rational Field
Univariate Polynomial Ring in x over Rational Field
True
Power Series Ring in x over Rational Field
False

Real Field with 53 bits of precision
Univariate Polynomial Ring in x over Real Field with 53 bits of precision
True
Power Series Ring in x over Real Field with 53 bits of precision
True

Finite Field of size 1009
Univariate Polynomial Ring in x over Finite Field of size 1009
True
Power Series Ring in x over Finite Field of size 1009
False


```


