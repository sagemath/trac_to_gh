# Issue 10167: fraction field of InfinitePolynomialRing

Issue created by migration from https://trac.sagemath.org/ticket/10168

Original creator: chapoton

Original creation time: 2010-10-25 10:21:05

Assignee: malb

CC:  sage-combinat

Keywords: fraction field

I would like to use the fraction field of infinite polynomial ring.


```
sage: X.<x,y> = InfinitePolynomialRing(QQ, implementation='sparse')
sage: z=R(x[1])
sage: 1/z
```


So far, one gets

```
NotImplementedError: Fraction Fields of Infinite Polynomial Rings are not implemented
```



---

Comment by ylchapuy created at 2010-10-25 11:28:31

Also note that this seems to work (at least a little bit):


```
sage: X.<x,y> = InfinitePolynomialRing(QQ, implementation='sparse')
sage: F = FractionField(X)
sage: z = F(x[1])
sage: 1/z
1/x_1
sage: (1/z*x[1]).is_one()
True
```



---

Comment by chapoton created at 2013-03-13 14:44:01

It seems now that the example of comment 1 does no longer work.

Here is a proposed patch, that could have worked maybe.


---

Comment by chapoton created at 2013-03-13 14:45:28

Changing status from new to needs_info.


---

Comment by chapoton created at 2013-03-13 19:31:34

Here is a patch that works (but there is a problem still with reduction)


---

Comment by chapoton created at 2013-03-13 19:51:15

The main problem comes from the gcd :

```
sage: R.<x>=InfinitePolynomialRing(QQ)
sage: p1=x[0]+x[0]**2
sage: p1.gcd(p1)                      
```

fails completely.


---

Comment by chapoton created at 2013-03-13 20:39:51

well, it almost works now. I have added a custom gcd procedure.

I am not sure that this is the correct way to handle these problems. If somebody has a better idea ?


---

Comment by chapoton created at 2013-03-13 20:40:25

Changing status from needs_info to needs_review.


---

Comment by chapoton created at 2013-08-21 09:10:38

Changing keywords from "fraction field" to "fraction field; polynomial ring".


---

Comment by tscrim created at 2013-08-24 16:51:49

I think this is the right way since the `gcd` needed an implementation. However I have a few comments:

- Could you add some tests showing that you get something in the fraction field?
- Now we don't need the `# indirect doctest` for any method with a leading and trailing underscore.
- Are you pushing this off to 6.0 because of the large number of changes to the file? I don't think this is really touched often, so I don't expect there to be rebasing problems and we should try to get this into sage-5.12 IMO.

Best,

Travis


---

Attachment


---

Comment by chapoton created at 2013-08-24 19:15:09

Hello again,

Thanks for looking at my code. Here is an updated patch.

* I have removed the "#indirect doctests" in _div_
* I have added two .parent() tests in _div_
* I have set back the milestone to 5.12 (I have no good reason to postpone)


---

Comment by tscrim created at 2013-08-24 19:29:45

Looks good to me. Thanks Frederic.


---

Comment by tscrim created at 2013-08-24 19:29:45

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-08-28 06:51:54

Resolution: fixed
