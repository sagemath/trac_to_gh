# Issue 31521: State global i or I is a number field element (and no longer in the symbolic ring)

Issue created by migration from https://trac.sagemath.org/ticket/31758

Original creator: slelievre

Original creation time: 2021-04-30 07:46:42

CC:  mmezzarobba slelievre vdelecroix tscrim @umedoblock embray

After #18036, the global `i` or `I` is defined as
a number field element rather than a symbolic constant.

Necessary adaptations throughout the code base were
made in #18036, as well as a deprecation in `src/sage/symbolic/all.py`, which should be updated
only after the usual one year deprecation period (starting
from the release of Sage 9.3).

Only a few more documentation bits need updating in:

- `src/doc/*/tutorial/tour_rings.pyx`
- `src/sage/rings/complex_mpfr.pyx`

as revealed by

```
git grep '``I``' src | grep ymbol
git grep '``I``' src/doc
```


Many places could also get the symbolic `I` directly
using `SR.I()` rather than converting with `SR(I)`.


---

Comment by mmezzarobba created at 2021-05-22 09:27:50

Changing priority from major to minor.


---

Comment by mmezzarobba created at 2021-05-22 09:27:50

Changing status from new to needs_review.


---

Comment by mmezzarobba created at 2021-05-22 09:27:50

New commits:


---

Comment by mkoeppe created at 2021-07-05 20:03:50

Changing status from needs_review to positive_review.


---

Comment by slelievre created at 2021-07-06 12:56:08

In `sage.rings.complex_mpfr.is_ComplexNumber`, let us
keep an introductory sentence for the example showing
that `1 + 2*I` and `CC(1 + 2*I)` behave differently.

Let us also change the files `src/doc/*/tutorial/tour_rings.tst`
that used to mention the global `I` as symbolic.

The Japanese one at `src/doc/*/tutorial/tour_rings.tst`
still needs editing; the others need proofreading.


---

Comment by slelievre created at 2021-07-06 12:56:08

Changing status from positive_review to needs_work.


---

Comment by slelievre created at 2021-07-06 12:56:26

New commits:


---

Comment by slelievre created at 2022-02-07 00:44:51

Changing status from needs_work to positive_review.


---

Comment by slelievre created at 2022-02-07 00:44:51

Back to positive review, let's keep the missing bits
for a follow-up ticket.

Sorry for delaying this.


---

Comment by slelievre created at 2022-02-11 20:14:56

Oops, I just gave positive review to my own changes.

Can someone fluent in Japanese check how to make similar changes in

- https://github.com/sagemath/sage/blob/develop/src/doc/ja/tutorial/tour_rings.rst

as were done in

- https://git.sagemath.org/sage.git/commit?id=3d67f89925fdaf4482c12f9c06f23738a47d7db1

Ideally in this ticket. Otherwise in a follow-up ticket.


---

Comment by slelievre created at 2022-02-11 20:14:56

Changing status from positive_review to needs_work.


---

Comment by git created at 2022-02-12 05:14:43

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2022-02-12 05:16:27

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2022-02-12 05:16:27

I have updated the Japanese version. I also removed a comma from the English version as I believe it makes the sentence grammatically incorrect.


---

Comment by tscrim created at 2022-02-12 05:16:58

My partner (who is Japanese) also double-checked my changes.


---

Comment by slelievre created at 2022-02-12 11:03:47

Fantastic. Anyone happy to set this to positive review?


---

Comment by tscrim created at 2022-02-12 11:05:12

Since I made the last commit, I should not do it. However, please go ahead since you seem to approve of my changes. `:)`


---

Comment by @umedoblock created at 2022-02-12 11:44:33

I'm a Japanese.

I agree with tscrim.


---

Comment by slelievre created at 2022-02-12 12:56:47

Changing status from needs_review to positive_review.


---

Comment by slelievre created at 2022-02-12 12:56:47

Travis, I gather you give positive review to my changes.

gh-umedoblock, add your full name to the reviewers field
if you want to.

This seems ready to go in.


---

Comment by @umedoblock created at 2022-02-12 13:39:58

slelievre, I added my name to the reviewers.


---

Comment by tscrim created at 2022-02-12 13:52:26

It should be your real name.


---

Comment by @umedoblock created at 2022-02-12 15:21:29

OK ?


---

Comment by tscrim created at 2022-02-12 23:43:35

はい。記入頂きどうもありがとうございます。


---

Comment by vbraun created at 2022-02-16 23:56:46

Resolution: fixed
