# Issue 14606: Update to ipython-0.13.2

archive/issues_014606.json:
```json
{
    "body": "Assignee: @jdemeyer\n\nCC:  @jasongrout\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/14810\n\n",
    "created_at": "2013-06-24T04:29:15Z",
    "labels": [
        "packages: standard",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.12",
    "title": "Update to ipython-0.13.2",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14606",
    "user": "@vbraun"
}
```
Assignee: @jdemeyer

CC:  @jasongrout



Issue created by migration from https://trac.sagemath.org/ticket/14810





---

archive/issue_comments_185769.json:
```json
{
    "body": "Patch necessary because meaning of `user_ns['_exit_code']` changed, see https://github.com/ipython/ipython/pull/2799",
    "created_at": "2013-06-24T04:30:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14606#issuecomment-185769",
    "user": "@vbraun"
}
```

Patch necessary because meaning of `user_ns['_exit_code']` changed, see https://github.com/ipython/ipython/pull/2799



---

archive/issue_comments_185770.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-06-24T04:34:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14606#issuecomment-185770",
    "user": "@vbraun"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_185771.json:
```json
{
    "body": "All doctests pass!",
    "created_at": "2013-06-24T18:12:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14606#issuecomment-185771",
    "user": "@vbraun"
}
```

All doctests pass!



---

archive/issue_comments_185772.json:
```json
{
    "body": "In `SPKG.txt`:\n\n```\n### ipython-0.13.1 (Volker Braun, June 24, 2013)\n * Upgrade to 0.13.2\n```\n\nOn the first line, it should say 0.13.2. I also prefer listing the trac ticket also, as in \n\n```\n * Upgrade to 0.13.2 (trac #14810)\n```\n\n(Or list it in the mercurial commit message.)\n\nOtherwise, it looks good.",
    "created_at": "2013-07-06T17:25:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14606#issuecomment-185772",
    "user": "@jhpalmieri"
}
```

In `SPKG.txt`:

```
### ipython-0.13.1 (Volker Braun, June 24, 2013)
 * Upgrade to 0.13.2
```

On the first line, it should say 0.13.2. I also prefer listing the trac ticket also, as in 

```
 * Upgrade to 0.13.2 (trac #14810)
```

(Or list it in the mercurial commit message.)

Otherwise, it looks good.



---

archive/issue_comments_185773.json:
```json
{
    "body": "Thanks!\n\nManually bookkeeping of revisions / trac tickets is of course precisely the mindless busywork that the source control system should do for you. Can't wait to switch to a unified git repo.. \n\nIn any case I made the manual change and updated the spkg.",
    "created_at": "2013-07-06T18:01:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14606#issuecomment-185773",
    "user": "@vbraun"
}
```

Thanks!

Manually bookkeeping of revisions / trac tickets is of course precisely the mindless busywork that the source control system should do for you. Can't wait to switch to a unified git repo.. 

In any case I made the manual change and updated the spkg.



---

archive/issue_comments_185774.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-07-06T18:01:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14606#issuecomment-185774",
    "user": "@vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_185775.json:
```json
{
    "body": "Just FYI, I'm keeping track of patches needed to move to 1.0 (due out soon): #14713",
    "created_at": "2013-07-06T19:26:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14606#issuecomment-185775",
    "user": "@jasongrout"
}
```

Just FYI, I'm keeping track of patches needed to move to 1.0 (due out soon): #14713



---

archive/issue_comments_185776.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-07-30T09:53:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14606#issuecomment-185776",
    "user": "@jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_185777.json:
```json
{
    "body": "Typo in version number in `SPKG.txt`:\n\n```\n### ipython-0.13.1 (Volker Braun, June 24, 2013)\n * Upgrade to 0.13.2 (trac #14810)\n```\n",
    "created_at": "2013-07-30T09:53:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14606#issuecomment-185777",
    "user": "@jdemeyer"
}
```

Typo in version number in `SPKG.txt`:

```
### ipython-0.13.1 (Volker Braun, June 24, 2013)
 * Upgrade to 0.13.2 (trac #14810)
```




---

archive/issue_comments_185778.json:
```json
{
    "body": "fixed in the updated spkg.",
    "created_at": "2013-07-30T21:23:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14606#issuecomment-185778",
    "user": "@vbraun"
}
```

fixed in the updated spkg.



---

archive/issue_comments_185779.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2013-07-30T21:23:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14606#issuecomment-185779",
    "user": "@vbraun"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_185780.json:
```json
{
    "body": "The exit status of `false` is 255 on Solaris:\n\n```\nsage -t --long devel/sage/sage/misc/interpreter.py\n**********************************************************************\nFile \"devel/sage/sage/misc/interpreter.py\", line 175, in sage.misc.interpreter.SageInteractiveShell.system_raw\nFailed example:\n    shell.user_ns['_exit_code']\nExpected:\n    1\nGot:\n    255\n**********************************************************************\n```\n",
    "created_at": "2013-08-21T09:49:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14606#issuecomment-185780",
    "user": "@jdemeyer"
}
```

The exit status of `false` is 255 on Solaris:

```
sage -t --long devel/sage/sage/misc/interpreter.py
**********************************************************************
File "devel/sage/sage/misc/interpreter.py", line 175, in sage.misc.interpreter.SageInteractiveShell.system_raw
Failed example:
    shell.user_ns['_exit_code']
Expected:
    1
Got:
    255
**********************************************************************
```




---

archive/issue_comments_185781.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-08-21T09:49:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14606#issuecomment-185781",
    "user": "@jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_185782.json:
```json
{
    "body": "Updated patch",
    "created_at": "2013-08-21T10:03:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14606#issuecomment-185782",
    "user": "@vbraun"
}
```

Updated patch



---

archive/issue_comments_185783.json:
```json
{
    "body": "Attachment [trac_14810_ipython_0.13.2.patch](tarball://root/attachments/some-uuid/ticket14810/trac_14810_ipython_0.13.2.patch) by @vbraun created at 2013-08-21 10:06:37\n\n0=True and 255=False? Oooo...  I changed the test to\n\n```\n    sage: shell.system_raw('false')\n    sage: shell.user_ns['_exit_code'] > 0\n    True\n```\n",
    "created_at": "2013-08-21T10:06:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14606#issuecomment-185783",
    "user": "@vbraun"
}
```

Attachment [trac_14810_ipython_0.13.2.patch](tarball://root/attachments/some-uuid/ticket14810/trac_14810_ipython_0.13.2.patch) by @vbraun created at 2013-08-21 10:06:37

0=True and 255=False? Oooo...  I changed the test to

```
    sage: shell.system_raw('false')
    sage: shell.user_ns['_exit_code'] > 0
    True
```




---

archive/issue_comments_185784.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-08-21T10:06:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14606#issuecomment-185784",
    "user": "@vbraun"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_185785.json:
```json
{
    "body": "Apparently POSIX says `false` exits with code not zero: http://www.unix.com/man-page/POSIX/1posix/false/",
    "created_at": "2013-08-21T11:09:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14606#issuecomment-185785",
    "user": "@jasongrout"
}
```

Apparently POSIX says `false` exits with code not zero: http://www.unix.com/man-page/POSIX/1posix/false/



---

archive/issue_comments_185786.json:
```json
{
    "body": "I agree that its legal, just an odd choice ;-)",
    "created_at": "2013-08-21T11:14:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14606#issuecomment-185786",
    "user": "@vbraun"
}
```

I agree that its legal, just an odd choice ;-)



---

archive/issue_comments_185787.json:
```json
{
    "body": "Yeah.  Maybe they just wanted to return 1 in every bit, not just in the smallest bit.",
    "created_at": "2013-08-21T11:16:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14606#issuecomment-185787",
    "user": "@jasongrout"
}
```

Yeah.  Maybe they just wanted to return 1 in every bit, not just in the smallest bit.



---

archive/issue_comments_185788.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-08-21T12:21:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14606#issuecomment-185788",
    "user": "@jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_185789.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-08-30T07:13:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14606",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14606#issuecomment-185789",
    "user": "@jdemeyer"
}
```

Resolution: fixed
