# Issue 14606: Update to ipython-0.13.2

Issue created by migration from https://trac.sagemath.org/ticket/14810

Original creator: vbraun

Original creation time: 2013-06-24 04:29:15

Assignee: jdemeyer

CC:  jason




---

Comment by vbraun created at 2013-06-24 04:30:40

Patch necessary because meaning of `user_ns['_exit_code']` changed, see https://github.com/ipython/ipython/pull/2799


---

Comment by vbraun created at 2013-06-24 04:34:18

Changing status from new to needs_review.


---

Comment by vbraun created at 2013-06-24 18:12:57

All doctests pass!


---

Comment by jhpalmieri created at 2013-07-06 17:25:50

In `SPKG.txt`:

```
### ipython-0.13.1 (Volker Braun, June 24, 2013)
 * Upgrade to 0.13.2
```

On the first line, it should say 0.13.2. I also prefer listing the trac ticket also, as in 

```
 * Upgrade to 0.13.2 (trac #14810)
```

(Or list it in the mercurial commit message.)

Otherwise, it looks good.


---

Comment by vbraun created at 2013-07-06 18:01:30

Thanks!

Manually bookkeeping of revisions / trac tickets is of course precisely the mindless busywork that the source control system should do for you. Can't wait to switch to a unified git repo.. 

In any case I made the manual change and updated the spkg.


---

Comment by vbraun created at 2013-07-06 18:01:30

Changing status from needs_review to positive_review.


---

Comment by jason created at 2013-07-06 19:26:06

Just FYI, I'm keeping track of patches needed to move to 1.0 (due out soon): #14713


---

Comment by jdemeyer created at 2013-07-30 09:53:10

Changing status from positive_review to needs_work.


---

Comment by jdemeyer created at 2013-07-30 09:53:10

Typo in version number in `SPKG.txt`:

```
### ipython-0.13.1 (Volker Braun, June 24, 2013)
 * Upgrade to 0.13.2 (trac #14810)
```



---

Comment by vbraun created at 2013-07-30 21:23:37

fixed in the updated spkg.


---

Comment by vbraun created at 2013-07-30 21:23:37

Changing status from needs_work to positive_review.


---

Comment by jdemeyer created at 2013-08-21 09:49:27

The exit status of `false` is 255 on Solaris:

```
sage -t --long devel/sage/sage/misc/interpreter.py
**********************************************************************
File "devel/sage/sage/misc/interpreter.py", line 175, in sage.misc.interpreter.SageInteractiveShell.system_raw
Failed example:
    shell.user_ns['_exit_code']
Expected:
    1
Got:
    255
**********************************************************************
```



---

Comment by jdemeyer created at 2013-08-21 09:49:27

Changing status from positive_review to needs_work.


---

Comment by vbraun created at 2013-08-21 10:03:15

Updated patch


---

Attachment

0=True and 255=False? Oooo...  I changed the test to

```
    sage: shell.system_raw('false')
    sage: shell.user_ns['_exit_code'] > 0
    True
```



---

Comment by vbraun created at 2013-08-21 10:06:37

Changing status from needs_work to needs_review.


---

Comment by jason created at 2013-08-21 11:09:35

Apparently POSIX says `false` exits with code not zero: http://www.unix.com/man-page/POSIX/1posix/false/


---

Comment by vbraun created at 2013-08-21 11:14:38

I agree that its legal, just an odd choice ;-)


---

Comment by jason created at 2013-08-21 11:16:14

Yeah.  Maybe they just wanted to return 1 in every bit, not just in the smallest bit.


---

Comment by jdemeyer created at 2013-08-21 12:21:23

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-08-30 07:13:00

Resolution: fixed
