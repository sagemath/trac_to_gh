# Issue 28122: new graphics array bug for legend

Issue created by migration from https://trac.sagemath.org/ticket/28359

Original creator: kcrisman

Original creation time: 2019-08-15 15:33:08

CC:  egourgoulhon

Thank you to everyone for #27865!

However, I think there are unintended consequences when it comes to certain types of overlapping options.  Can we set the options individually?


```
P1 = plot(prime_pi,3,30,color='black',legend_label='1')
#P1 += plot(Li,3,30, color='green',legend_label='Li1')
P2 = plot(prime_pi,40,70,color='blue',legend_label='2')
#P2 += plot(Li,40,70, color='red',legend_label='Li2')
graphics_array([P1,P2])
```


This doubles the labels in the second graphic.  If you uncomment the other lines more things happen, though it might all be just one bug.  Trying `graphics_array([P1,P2,P2])` only doubles the last one. 

I _believe_ this is new since the new graphics array stuff, though I can't be sure. Thanks for looking into it!


---

Comment by egourgoulhon created at 2019-08-15 16:18:08

Are you using a version of Sage recent enough to include #27865 (i.e. >= 8.9.beta0)? I've tried with Sage 8.9.beta6 and everything is fine: the legend labels are not doubled. Uncommenting the other lines leads to a correct result as well.


---

Comment by kcrisman created at 2019-08-15 18:46:39

Changing status from new to needs_review.


---

Comment by kcrisman created at 2019-08-15 18:46:39

Oops!  I have a _local_ install that is updated, but I found this using the Sage cell server, which is of course still not-necessarily-updated - but which I was using to test some auto-generated images before actually generating them.  Sorry!


---

Comment by kcrisman created at 2019-08-15 18:46:47

Changing status from needs_review to positive_review.


---

Comment by egourgoulhon created at 2019-08-15 20:44:04

Replying to [comment:2 kcrisman]:
> Oops!  I have a _local_ install that is updated, but I found this using the Sage cell server, which is of course still not-necessarily-updated - but which I was using to test some auto-generated images before actually generating them.  Sorry!

No problem (it is always nice to have extra checks). Indeed, the Sage Cell server is running Sage 8.8, while #27865 was included only in 8.9.beta0.


---

Comment by chapoton created at 2019-08-19 16:59:23

Resolution: fixed
