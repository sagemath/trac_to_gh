# Issue 32495: sage.geometry.polyhedron: More # optional for test with examples that need sage.combinat etc.

archive/issues_032495.json:
```json
{
    "body": "CC:  @kliem\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/32732\n\n",
    "created_at": "2021-10-21T02:36:00Z",
    "labels": [
        "refactoring",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "sage.geometry.polyhedron: More # optional for test with examples that need sage.combinat etc.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32495",
    "user": "@mkoeppe"
}
```
CC:  @kliem



Issue created by migration from https://trac.sagemath.org/ticket/32732





---

archive/issue_comments_463487.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2021-10-21T02:49:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32495#issuecomment-463487",
    "user": "@mkoeppe"
}
```

Last 10 new commits:



---

archive/issue_comments_463488.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-10-21T02:50:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32495#issuecomment-463488",
    "user": "@mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_463489.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-21T02:51:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32495#issuecomment-463489",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463490.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-10-22T09:23:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32495#issuecomment-463490",
    "user": "@dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_463491.json:
```json
{
    "body": "lgtm",
    "created_at": "2021-10-22T09:23:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32495#issuecomment-463491",
    "user": "@dimpase"
}
```

lgtm



---

archive/issue_comments_463492.json:
```json
{
    "body": "Thanks!",
    "created_at": "2021-10-22T15:24:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32495#issuecomment-463492",
    "user": "@mkoeppe"
}
```

Thanks!



---

archive/issue_comments_463493.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2021-10-22T15:27:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32495#issuecomment-463493",
    "user": "@mkoeppe"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_463494.json:
```json
{
    "body": "Except the patchbot indicates some failures",
    "created_at": "2021-10-22T15:27:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32495#issuecomment-463494",
    "user": "@mkoeppe"
}
```

Except the patchbot indicates some failures



---

archive/issue_comments_463495.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-22T17:34:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32495#issuecomment-463495",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463496.json:
```json
{
    "body": "But there's something else wrong:\nThe log indicates \n`Using --optional=argcomplete,build,ccache,debian,dochtml,pip,sage,sage.rings.real_double,sage_spkg`\n... lots of the components such as `sage.plot` are missing",
    "created_at": "2021-10-22T17:37:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32495#issuecomment-463496",
    "user": "@mkoeppe"
}
```

But there's something else wrong:
The log indicates 
`Using --optional=argcomplete,build,ccache,debian,dochtml,pip,sage,sage.rings.real_double,sage_spkg`
... lots of the components such as `sage.plot` are missing



---

archive/issue_comments_463497.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-22T19:29:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32495#issuecomment-463497",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463498.json:
```json
{
    "body": "Changing priority from major to critical.",
    "created_at": "2021-10-22T19:33:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32495#issuecomment-463498",
    "user": "@mkoeppe"
}
```

Changing priority from major to critical.



---

archive/issue_comments_463499.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-22T19:33:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32495#issuecomment-463499",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463500.json:
```json
{
    "body": "With the new diagnostic messages issued with `sage -t --verbose`, we see:\n\n```\nFeatureTestResult('sage.combinat.combination', False), reason: Failed to import `sage.combinat.combination`: cannot import name complex_mpfr\nFeatureTestResult('sage.graphs.graph', False), reason: Failed to import `sage.graphs.graph`: cannot import name complex_mpfr\nFeatureTestResult('sage.plot.plot', False), reason: Failed to import `sage.plot.plot`: cannot import name complex_mpfr\nFeatureTestResult('sage.rings.number_field.number_field_element', False), reason: Failed to import `sage.rings.number_field.number_field_element`: cannot import name complex_mpfr\nFeatureTestResult('sage.rings.real_double', True), reason: Successfully imported `sage.rings.real_double`.\nFeatureTestResult('sage.symbolic.expression', False), reason: Failed to import `sage.symbolic.expression`: cannot import name complex_mpfr\n```\n\nSo some cyclic import business is happening here",
    "created_at": "2021-10-22T19:34:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32495#issuecomment-463500",
    "user": "@mkoeppe"
}
```

With the new diagnostic messages issued with `sage -t --verbose`, we see:

```
FeatureTestResult('sage.combinat.combination', False), reason: Failed to import `sage.combinat.combination`: cannot import name complex_mpfr
FeatureTestResult('sage.graphs.graph', False), reason: Failed to import `sage.graphs.graph`: cannot import name complex_mpfr
FeatureTestResult('sage.plot.plot', False), reason: Failed to import `sage.plot.plot`: cannot import name complex_mpfr
FeatureTestResult('sage.rings.number_field.number_field_element', False), reason: Failed to import `sage.rings.number_field.number_field_element`: cannot import name complex_mpfr
FeatureTestResult('sage.rings.real_double', True), reason: Successfully imported `sage.rings.real_double`.
FeatureTestResult('sage.symbolic.expression', False), reason: Failed to import `sage.symbolic.expression`: cannot import name complex_mpfr
```

So some cyclic import business is happening here



---

archive/issue_comments_463501.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-10-22T19:55:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32495#issuecomment-463501",
    "user": "@mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_463502.json:
```json
{
    "body": "Fixing the imports, or alternatively running the sagemath feature tests *after* sage.all has been imported, will be done in a follow-up ticket.\n\nLet's see what the patchbot says now.",
    "created_at": "2021-10-22T19:56:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32495#issuecomment-463502",
    "user": "@mkoeppe"
}
```

Fixing the imports, or alternatively running the sagemath feature tests *after* sage.all has been imported, will be done in a follow-up ticket.

Let's see what the patchbot says now.



---

archive/issue_comments_463503.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-23T01:07:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32495#issuecomment-463503",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463504.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-27T05:15:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32495#issuecomment-463504",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463505.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-27T05:48:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32495#issuecomment-463505",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463506.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-28T06:53:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32495#issuecomment-463506",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463507.json:
```json
{
    "body": "lgtm",
    "created_at": "2021-11-05T18:32:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32495#issuecomment-463507",
    "user": "@dimpase"
}
```

lgtm



---

archive/issue_comments_463508.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-11-05T18:32:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32495#issuecomment-463508",
    "user": "@dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_463509.json:
```json
{
    "body": "Thanks!",
    "created_at": "2021-11-05T18:58:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32495#issuecomment-463509",
    "user": "@mkoeppe"
}
```

Thanks!



---

archive/issue_comments_463510.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-11-12T21:27:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32495#issuecomment-463510",
    "user": "@vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_463511.json:
```json
{
    "body": "Is there a ticket to fix the imports already? Lots of tests are being skipped in beta6 because of this.",
    "created_at": "2021-11-14T12:14:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32495#issuecomment-463511",
    "user": "@antonio-rojas"
}
```

Is there a ticket to fix the imports already? Lots of tests are being skipped in beta6 because of this.



---

archive/issue_comments_463512.json:
```json
{
    "body": "Help is welcome on tickets \n- #30741 ... which attempts to fix the cyclic import issues\n- #32174/#30746 ... which will sidestep this issue by importing stuff later",
    "created_at": "2021-11-14T17:55:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32495#issuecomment-463512",
    "user": "@mkoeppe"
}
```

Help is welcome on tickets 
- #30741 ... which attempts to fix the cyclic import issues
- #32174/#30746 ... which will sidestep this issue by importing stuff later
