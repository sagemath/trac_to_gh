# Issue 11130: Make it easier to construct a fan from a triangulation

Issue created by migration from https://trac.sagemath.org/ticket/11302

Original creator: vbraun

Original creation time: 2011-05-05 21:36:28

Assignee: mhampton

CC:  novoselt

A common step in toric geometry is to construct the fan from some triangulation. This patch adds a `fan()` method to the triangulation class, so you can write:

```
sage: pc = PointConfiguration([(0,0), (1,0), (0,1), (-1,-1)], star=0, fine=True)
sage: triangulation = pc.triangulate()
sage: fan = triangulation.fan(); fan
Rational polyhedral fan in 2-d lattice N
sage: fan.is_equivalent( toric_varieties.P2().fan() )
True
```



---

Attachment

Initial patch


---

Comment by vbraun created at 2011-05-05 21:38:42

Changing status from new to needs_review.


---

Comment by vbraun created at 2011-05-06 12:01:07

Changing type from PLEASE CHANGE to enhancement.


---

Attachment


---

Comment by novoselt created at 2011-05-07 03:37:53

There were some doctest errors, I have fixed them and made fan construction more straightforward. As a pleasant side effect, fan rays should now repeat the order of points ;-)

If everything is OK, please switch to positive review!


---

Comment by vbraun created at 2011-05-07 09:36:01

Oops I added the `p.set_engine('internal')` to the doctests at the end but then forgot to check that they work. Thanks for catching it :-)


---

Comment by vbraun created at 2011-05-07 09:36:01

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2011-05-27 12:03:19

Resolution: fixed
