# Issue 34094: fix E251 in geometry and manifolds

Issue created by migration from https://trac.sagemath.org/ticket/34331

Original creator: chapoton

Original creation time: 2022-08-10 11:19:09

CC:  tscrim klee slelievre dcoudert

about

```
E251 unexpected spaces around keyword / parameter equals
```



---

Comment by chapoton created at 2022-08-10 11:19:50

New commits:


---

Comment by chapoton created at 2022-08-10 11:19:50

Changing status from new to needs_review.


---

Comment by git created at 2022-08-10 19:48:51

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2022-08-11 13:03:32

green lights, so please review


---

Comment by dcoudert created at 2022-08-11 13:07:00

The patchbot reports an error

```
[sagemath_doc_html-none] [diophanti] The inventory files are in ../../local/share/doc/sage/inventory/en/reference/diophantine_approximation.
[sagemath_doc_html-none] Build finished. The built documents can be found in /home/chapoton/sage/local/share/doc/sage/inventory/en/reference/diophantine_approximation
[sagemath_doc_html-none] Error building the documentation.
[sagemath_doc_html-none] Traceback (most recent call last):
[sagemath_doc_html-none]   File "/home/chapoton/sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/runpy.py", line 196, in _run_module_as_main
[sagemath_doc_html-none]     return _run_code(code, main_globals, None,
[sagemath_doc_html-none]   File "/home/chapoton/sage/local/var/lib/sage/venv-python3.10.5/lib/python3.10/runpy.py", line 86, in _run_code
[sagemath_doc_html-none]     exec(code, run_globals)
[sagemath_doc_html-none]   File "/home/chapoton/sage/pkgs/sage-docbuild/sage_docbuild/__main__.py", line 498, in <module>
[sagemath_doc_html-none]     sys.exit(main())
[sagemath_doc_html-none]   File "/home/chapoton/sage/pkgs/sage-docbuild/sage_docbuild/__main__.py", line 495, in main
[sagemath_doc_html-none]     builder()
[sagemath_doc_html-none]   File "/home/chapoton/sage/pkgs/sage-docbuild/sage_docbuild/builders.py", line 807, in _wrapper
[sagemath_doc_html-none]     self.write_auto_rest_file(module_name)
[sagemath_doc_html-none]   File "/home/chapoton/sage/pkgs/sage-docbuild/sage_docbuild/builders.py", line 1111, in write_auto_rest_file
[sagemath_doc_html-none]     title = self.get_module_docstring_title(module_name)
[sagemath_doc_html-none]   File "/home/chapoton/sage/pkgs/sage-docbuild/sage_docbuild/builders.py", line 1072, in get_module_docstring_title
[sagemath_doc_html-none]     __import__(module_name)
[sagemath_doc_html-none]   File "/home/chapoton/sage/src/sage/geometry/pseudolines.py", line 171
[sagemath_doc_html-none]     def __init__(self, seq, encoding "auto"):
[sagemath_doc_html-none]                                      ^^^^^^
[sagemath_doc_html-none] SyntaxError: invalid syntax
[sagemath_doc_html-none] 
[sagemath_doc_html-none]     Note: incremental documentation builds sometimes cause spurious
[sagemath_doc_html-none]     error messages. To be certain that these are real errors, run
[sagemath_doc_html-none]     "make doc-clean doc-uninstall" first and try again.
[sagemath_doc_html-none] make[4]: *** [Makefile:27: doc-inventory--reference-discrete_geometry] Error 1
[sagemath_doc_html-none] make[4]: *** Waiting for unfinished jobs....
[sagemath_doc_html-none] [databases] The inventory files are in ../../local/share/doc/sage/inventory/en/reference/databases.
[sagemath_doc_html-none] Build finished. The built documents can be found in /home/chapoton/sage/local/share/doc/sage/inventory/en/reference/databases
[sagemath_doc_html-none] make[3]: *** [Makefile:44: doc-inventory-reference] Error 2
make[2]: *** [Makefile:3084: sagemath_doc_html-SAGE_DOCS-no-deps] Error 2
make[1]: *** [Makefile:3084: /home/chapoton/sage/local/var/lib/sage/installed/sagemath_doc_html-none] Error 2
make[1]: Leaving directory '/home/chapoton/sage/build/make'
```



---

Comment by dcoudert created at 2022-08-11 13:07:00

Changing status from needs_review to needs_work.


---

Comment by chapoton created at 2022-08-11 13:21:24

pas pour la derniere version de la branche : j'ai deja corrigé ce probleme dans le dernier commit


---

Comment by dcoudert created at 2022-08-11 13:37:08

why not defining this list before the return statement ? it might improve readability 

```diff
+                                   VERTICES=[[1] + v for v in self.vertices_list()] \
+                                   + [[0] + r for r in self.rays_list()],
```



---

Comment by git created at 2022-08-11 14:11:47

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2022-08-11 14:13:15

voilà


---

Comment by dcoudert created at 2022-08-11 14:15:35

Merci.


---

Comment by dcoudert created at 2022-08-11 14:15:35

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2022-08-30 19:04:05

Resolution: fixed
