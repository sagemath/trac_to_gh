# Issue 18782: Very careless typoes in strongly_regular_db

Issue created by migration from Trac.

Original creator: ncohen

Original creation time: 2015-08-12 16:07:37

CC:  dimpase

This branch fixes very bad typoes in that file, that made several constructions useless or broken. Mostly missing characters (emacs macros...)

Nathann


---

Comment by ncohen created at 2015-08-12 16:08:08

Changing status from new to needs_review.


---

Comment by git created at 2015-08-12 16:08:09

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jmantysalo created at 2015-08-13 05:52:06

Not relating to just this patch, but why functions like `SRG_100_44_18_20()`, `SRG_100_45_20_20()` etc. instead of something like `SRG_from_db(100, 44, 18, 20)`? There might be some rationale explained in some other ticket.


---

Comment by git created at 2015-08-13 06:11:33

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by ncohen created at 2015-08-13 06:13:20

> Not relating to just this patch, but why functions like `SRG_100_44_18_20()`, `SRG_100_45_20_20()` etc. instead of something like `SRG_from_db(100, 44, 18, 20)`? There might be some rationale explained in some other ticket.

I do not understand what you mean, and I do not want the conversation to happen on this unrelated ticket. Please send me an email or write to sage-devel.


---

Comment by git created at 2015-08-13 07:29:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-08-13 09:02:15

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2015-08-14 07:41:48

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by dimpase created at 2015-08-14 17:35:19

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2015-08-14 17:35:19

rebased over the latest developments on #19018. LGTM


---

Comment by jmantysalo created at 2015-08-14 18:01:37

Volker will reject this if you don't add your name to Reviewers-field.


---

Comment by git created at 2015-08-16 04:16:51

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:


---

Comment by git created at 2015-08-16 04:16:51

Changing status from positive_review to needs_review.


---

Comment by dimpase created at 2015-08-16 04:18:18

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2015-08-16 04:18:18

Replying to [comment:11 git]:
> Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
> ||[323416f](http://git.sagemath.org/sage.git/commit/?id=323416f9a5a46f1cc6765ef54906938353eee856)||`added a doctest`||

rebased over the latest #19018 branch


---

Comment by ncohen created at 2015-08-16 07:50:24

What you did is not a rebase, nor a merge. You apparently cherry-picked your commit on top of that branch (note that its hash changed). As a result your commit appears twice in the history.

Please remove this latest commit: it is not because the branch are not exactly the same that they do not merge trivially. I don't think that your last commit from #19018 caused the slightest problem with this branch.

Nathann


---

Comment by vbraun created at 2015-08-16 11:40:41

Reviewer name missing


---

Comment by vbraun created at 2015-08-16 11:40:41

Changing status from positive_review to needs_work.


---

Comment by dimpase created at 2015-08-16 14:40:45

I cannot find the extra commit in question.


---

Comment by dimpase created at 2015-08-16 14:40:45

Changing status from needs_work to positive_review.


---

Comment by ncohen created at 2015-08-16 14:58:21

It is the last commit of this branch.


---

Comment by dimpase created at 2015-08-16 15:33:44

In the local branch I do not have 2 copies of this commit. Naturally, if I were to remove it and push the result then it would not be there at all.


---

Comment by ncohen created at 2015-08-16 15:35:34

In the local branch you have this commit. In the branch of #19018 you have another copy of it. Because you cherry-picked it, when the two branches will be merged you will have two copies of it.

This commit belongs to the other branch, not to that one. If you remove it from this branch, it will be in Sage when #19018 will be merged.

You should have merged the branches, not cherry-picked the commit.

Nathann


---

Comment by git created at 2015-08-16 16:20:16

Changing status from positive_review to needs_review.


---

Comment by git created at 2015-08-16 16:20:16

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:


---

Comment by dimpase created at 2015-08-16 16:24:24

please review these git things. I'll be offline for the coming 10 hours.


---

Comment by ncohen created at 2015-08-16 16:31:20

Changing status from needs_review to positive_review.


---

Comment by ncohen created at 2015-08-16 16:31:20

Looks good, thanks.

Nathann


---

Comment by vbraun created at 2015-08-19 01:19:27

Resolution: fixed


---

Comment by dimpase created at 2015-08-19 05:18:08

I overlooked

```
+    When `\epsilon\in\{-1,+1\}`, we say that `M` is a `(n,\epsilon)-RSHCD` if
+    `M` is a regular symmetric Hadamard matrix with constant diagonal
+    `\delta\in\{-1,+1\}` and row values all equal to `\delta \epsilon
+    \sqrt(n)`. For more information, see [HX10]_ or 10.5.1 in
+    [BH12]_.
```


  * what are "row values"? row sums?
  * the definition of RSHCD here does not match one in [BH12], where the diagonal entries are all 1, and (n,e)-RSHCD has row sums e\sqrt{n}.
  * it should be \sqrt{n}, not \sqrt(n)

And another thing - RSHCD should be mentioned in the module description in the beginning of the corr. file.


---

Comment by ncohen created at 2015-08-19 08:25:03

>   * what are "row values"? row sums?

Arg... Yes. Row sums.

>   * the definition of RSHCD here does not match one in [BH12], where the diagonal entries are all 1, and (n,e)-RSHCD has row sums e\sqrt{n}.

So what do we do? With two papers that say contradictory things?

>   * it should be \sqrt{n}, not \sqrt(n)
Right.

> And another thing - RSHCD should be mentioned in the module description in the beginning of the corr. file.

I don't understand.

Nathann


---

Comment by jmantysalo created at 2015-08-19 09:09:03

Replying to [comment:24 ncohen]:

> So what do we do? With two papers that say contradictory things?

IMO select one and (almost) always document these cases. See chain_polynomial() on posets: "Warning: This is not what has been called the chain polynomial in [St1986]. The latter is - -".


---

Comment by ncohen created at 2015-08-19 10:07:34

> IMO select one and (almost) always document these cases. See chain_polynomial() on posets: "Warning: This is not what has been called the chain polynomial in [St1986]. The latter is - -".

Jori, this was a rethoric question. The two definitions agree with each other.


---

Comment by dimpase created at 2015-08-19 16:31:15

Replying to [comment:24 ncohen]:
> 
> >   * the definition of RSHCD here does not match one in [BH12], where the diagonal entries are all 1, and (n,e)-RSHCD has row sums e\sqrt{n}.
> 
> So what do we do? With two papers that say contradictory things?
I was comparing your definition with the one from
http://homepages.cwi.nl/~aeb/math/ipm/ipm.pdf
and your definition is more complicated.
I did not check the other one. 


> > And another thing - RSHCD should be mentioned in the module description in the beginning of the corr. file.
> 
> I don't understand.

If look at combinat/matrices/hadamard_matrix.py there is a paragraph saying

```
The module below implements the Paley constructions (see for example
[Hora]_) and the Sylvester construction. It also allows you to pull a
Hadamard matrix from the database at [HadaSloa]_.
```

But there is no word about RSHCDs. 
Should it instead get a list of methods, etc, as more modern Sage modules have?

As well, you're not in the list of authors.

As I am gearing up for skew-Hadamard matrices, it can be done on the corresponding ticket.


---

Comment by ncohen created at 2015-08-19 17:12:02

> I was comparing your definition with the one from
> http://homepages.cwi.nl/~aeb/math/ipm/ipm.pdf
> and your definition is more complicated.
> I did not check the other one. 

I don't see how. In the paper you give the matrix is requested to have 1 on the diagonal, that's the only difference I see.

> If look at combinat/matrices/hadamard_matrix.py there is a paragraph saying
> But there is no word about RSHCDs. 

Oh, right. I'll do that.

> Should it instead get a list of methods, etc, as more modern Sage modules have?

Probably. I am working on a patch related to index of functions at the moment, though. Something to make building a thematic index easier.

> As well, you're not in the list of authors.

How I hate this "I am the one who did it" bullshit...

> As I am gearing up for skew-Hadamard matrices, it can be done on the corresponding ticket.

Skew-hadamard? *sigh*.... Someday we will have all kind of designs in Sage. But today is not this day.

Nathann


---

Comment by dimpase created at 2015-08-19 19:19:18

Replying to [comment:28 ncohen]:
> > I was comparing your definition with the one from
> > http://homepages.cwi.nl/~aeb/math/ipm/ipm.pdf
> > and your definition is more complicated.
> > I did not check the other one. 
> 
> I don't see how. In the paper you give the matrix is requested to have 1 on the diagonal, that's the only difference I see.

yes, this is the difference that makes your definition different.
I suppose this is very close to the original one, as all is needed is multiplication by -1 to convert one into the other. But still not the same...

> 
> > As well, you're not in the list of authors.
> 
> How I hate this "I am the one who did it" bullshit...

well, if only for uniformity...

> 
> > As I am gearing up for skew-Hadamard matrices, it can be done on the corresponding ticket.
> 
> Skew-hadamard? *sigh*.... Someday we will have all kind of designs in Sage. But today is not this day.
> 
we need them to build "skewhad*" and your humble servant srg's, as I already mentioned.


---

Comment by ncohen created at 2015-08-19 19:35:09

> yes, this is the difference that makes your definition different.
> I suppose this is very close to the original one, as all is needed is multiplication by -1 to convert one into the other. But still not the same...

For all practical purposes it is the same. One says that the diagonal has to be 1, the other says that it can be -1 but adapts the value of row sums. If you get one which does not have a 1 on the diagonal, then `-your_matrix` does the job, and all results of existence/non-existence apply.

Nathann
