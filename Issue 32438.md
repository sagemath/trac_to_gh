# Issue 32438: partially replace <type by <class in src/sage

Issue created by migration from https://trac.sagemath.org/ticket/32675

Original creator: chapoton

Original creation time: 2021-10-12 19:39:36

moving away from python2


---

Comment by chapoton created at 2021-10-12 19:40:37

Changing status from new to needs_review.


---

Comment by chapoton created at 2021-10-12 19:40:37

New commits:


---

Comment by klee created at 2021-10-13 01:18:59

The bot failure is genuine.

Question: why not fix all and remove the related python2 normalizer in the doctest framework?


---

Comment by chapoton created at 2021-10-13 07:08:53

Replying to [comment:2 klee]:
> The bot failure is genuine.

no idea how change in the doc could trigger such a build failure..

> Question: why not fix all and remove the related python2 normalizer in the doctest framework?

Well, this is the aim but one must first fix *many* doctests.


---

Comment by klee created at 2021-10-13 09:12:53

Replying to [comment:3 chapoton]:
> Replying to [comment:2 klee]:
> > The bot failure is genuine.
> 
> no idea how change in the doc could trigger such a build failure..

There is a change out of the doc.
 
> > Question: why not fix all and remove the related python2 normalizer in the doctest framework?
> 
> Well, this is the aim but one must first fix *many* doctests.

Which is the case (1) you are not sure of having fixed all or (2) there are parts of sage lib that you didn't touch yet?


---

Comment by git created at 2021-10-13 09:44:05

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2021-10-13 09:45:19

Replying to [comment:4 klee]:
> Replying to [comment:3 chapoton]:
> > Replying to [comment:2 klee]:
> > > The bot failure is genuine.
> > 
> > no idea how change in the doc could trigger such a build failure..
> 
> There is a change out of the doc.

Indeed, I have found it now.

> > > Question: why not fix all and remove the related python2 normalizer in the doctest framework?
> > 
> > Well, this is the aim but one must first fix *many* doctests.
> 
> Which is the case (1) you are not sure of having fixed all or (2) there are parts of sage lib that you didn't touch yet?

The situation is (2). For example the rings/ folder.


---

Comment by klee created at 2021-10-13 10:14:02

Replying to [comment:6 chapoton]:

> The situation is (2). For example the rings/ folder.

Then how about making a progress chart, and we keep adding commits to this ticket, aiming fixing them all folder by folder? I may help from time to time.


---

Comment by chapoton created at 2021-10-13 12:24:22

Well, progress is easily monitored using 

```
git grep -c " <type " src/sage
```

I think it will only take another ticket, so no need for a meta-ticket.


---

Comment by chapoton created at 2021-10-13 17:44:28

bot is green, please review


---

Comment by klee created at 2021-10-14 00:17:06

Changing status from needs_review to positive_review.


---

Comment by klee created at 2021-10-14 00:17:06

Replying to [comment:8 chapoton]:
> Well, progress is easily monitored using 
> {{{
> git grep -c " <type " src/sage
> }}}
> I think it will only take another ticket, so no need for a meta-ticket.

Okay.


---

Comment by vbraun created at 2021-10-19 20:31:14

Resolution: fixed
