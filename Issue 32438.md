# Issue 32438: partially replace <type by <class in src/sage

archive/issues_032438.json:
```json
{
    "body": "moving away from python2\n\nIssue created by migration from https://trac.sagemath.org/ticket/32675\n\n",
    "created_at": "2021-10-12T19:39:36Z",
    "labels": [
        "refactoring",
        "major",
        "enhancement"
    ],
    "title": "partially replace <type by <class in src/sage",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32438",
    "user": "chapoton"
}
```
moving away from python2

Issue created by migration from https://trac.sagemath.org/ticket/32675





---

archive/issue_comments_462752.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-10-12T19:40:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-462752",
    "user": "chapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_462753.json:
```json
{
    "body": "New commits:",
    "created_at": "2021-10-12T19:40:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-462753",
    "user": "chapoton"
}
```

New commits:



---

archive/issue_comments_462754.json:
```json
{
    "body": "The bot failure is genuine.\n\nQuestion: why not fix all and remove the related python2 normalizer in the doctest framework?",
    "created_at": "2021-10-13T01:18:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-462754",
    "user": "klee"
}
```

The bot failure is genuine.

Question: why not fix all and remove the related python2 normalizer in the doctest framework?



---

archive/issue_comments_462755.json:
```json
{
    "body": "Replying to [comment:2 klee]:\n> The bot failure is genuine.\n\nno idea how change in the doc could trigger such a build failure..\n\n> Question: why not fix all and remove the related python2 normalizer in the doctest framework?\n\nWell, this is the aim but one must first fix *many* doctests.",
    "created_at": "2021-10-13T07:08:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-462755",
    "user": "chapoton"
}
```

Replying to [comment:2 klee]:
> The bot failure is genuine.

no idea how change in the doc could trigger such a build failure..

> Question: why not fix all and remove the related python2 normalizer in the doctest framework?

Well, this is the aim but one must first fix *many* doctests.



---

archive/issue_comments_462756.json:
```json
{
    "body": "Replying to [comment:3 chapoton]:\n> Replying to [comment:2 klee]:\n> > The bot failure is genuine.\n> \n> no idea how change in the doc could trigger such a build failure..\n\nThere is a change out of the doc.\n \n> > Question: why not fix all and remove the related python2 normalizer in the doctest framework?\n> \n> Well, this is the aim but one must first fix *many* doctests.\n\nWhich is the case (1) you are not sure of having fixed all or (2) there are parts of sage lib that you didn't touch yet?",
    "created_at": "2021-10-13T09:12:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-462756",
    "user": "klee"
}
```

Replying to [comment:3 chapoton]:
> Replying to [comment:2 klee]:
> > The bot failure is genuine.
> 
> no idea how change in the doc could trigger such a build failure..

There is a change out of the doc.
 
> > Question: why not fix all and remove the related python2 normalizer in the doctest framework?
> 
> Well, this is the aim but one must first fix *many* doctests.

Which is the case (1) you are not sure of having fixed all or (2) there are parts of sage lib that you didn't touch yet?



---

archive/issue_comments_462757.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-13T09:44:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-462757",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462758.json:
```json
{
    "body": "Replying to [comment:4 klee]:\n> Replying to [comment:3 chapoton]:\n> > Replying to [comment:2 klee]:\n> > > The bot failure is genuine.\n> > \n> > no idea how change in the doc could trigger such a build failure..\n> \n> There is a change out of the doc.\n\nIndeed, I have found it now.\n\n> > > Question: why not fix all and remove the related python2 normalizer in the doctest framework?\n> > \n> > Well, this is the aim but one must first fix *many* doctests.\n> \n> Which is the case (1) you are not sure of having fixed all or (2) there are parts of sage lib that you didn't touch yet?\n\nThe situation is (2). For example the rings/ folder.",
    "created_at": "2021-10-13T09:45:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-462758",
    "user": "chapoton"
}
```

Replying to [comment:4 klee]:
> Replying to [comment:3 chapoton]:
> > Replying to [comment:2 klee]:
> > > The bot failure is genuine.
> > 
> > no idea how change in the doc could trigger such a build failure..
> 
> There is a change out of the doc.

Indeed, I have found it now.

> > > Question: why not fix all and remove the related python2 normalizer in the doctest framework?
> > 
> > Well, this is the aim but one must first fix *many* doctests.
> 
> Which is the case (1) you are not sure of having fixed all or (2) there are parts of sage lib that you didn't touch yet?

The situation is (2). For example the rings/ folder.



---

archive/issue_comments_462759.json:
```json
{
    "body": "Replying to [comment:6 chapoton]:\n\n> The situation is (2). For example the rings/ folder.\n\nThen how about making a progress chart, and we keep adding commits to this ticket, aiming fixing them all folder by folder? I may help from time to time.",
    "created_at": "2021-10-13T10:14:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-462759",
    "user": "klee"
}
```

Replying to [comment:6 chapoton]:

> The situation is (2). For example the rings/ folder.

Then how about making a progress chart, and we keep adding commits to this ticket, aiming fixing them all folder by folder? I may help from time to time.



---

archive/issue_comments_462760.json:
```json
{
    "body": "Well, progress is easily monitored using \n\n```\ngit grep -c \" <type \" src/sage\n```\n\nI think it will only take another ticket, so no need for a meta-ticket.",
    "created_at": "2021-10-13T12:24:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-462760",
    "user": "chapoton"
}
```

Well, progress is easily monitored using 

```
git grep -c " <type " src/sage
```

I think it will only take another ticket, so no need for a meta-ticket.



---

archive/issue_comments_462761.json:
```json
{
    "body": "bot is green, please review",
    "created_at": "2021-10-13T17:44:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-462761",
    "user": "chapoton"
}
```

bot is green, please review



---

archive/issue_comments_462762.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-10-14T00:17:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-462762",
    "user": "klee"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_462763.json:
```json
{
    "body": "Replying to [comment:8 chapoton]:\n> Well, progress is easily monitored using \n> {{{\n> git grep -c \" <type \" src/sage\n> }}}\n> I think it will only take another ticket, so no need for a meta-ticket.\n\nOkay.",
    "created_at": "2021-10-14T00:17:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-462763",
    "user": "klee"
}
```

Replying to [comment:8 chapoton]:
> Well, progress is easily monitored using 
> {{{
> git grep -c " <type " src/sage
> }}}
> I think it will only take another ticket, so no need for a meta-ticket.

Okay.



---

archive/issue_comments_462764.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-10-19T20:31:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-462764",
    "user": "vbraun"
}
```

Resolution: fixed
