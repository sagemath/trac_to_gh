# Issue 32884: PARI/GP for elliptic curves discrete logarithm (elllog)

archive/issues_032884.json:
```json
{
    "body": "CC:  @yyyyx4\n\nPARI/GP implements discrete logarithm on elliptic curves\n\n```\nsage: F = GF(3^6,'a')\nsage: a = F.gen()\nsage: E = EllipticCurve([0,1,1,a,a])\nsage: A = E.abelian_group()\nsage: P = A.gen(0).element()\nsage: from sage.libs.pari import pari\nsage: pari.elllog(E, 400*P, P)\n400\n```\n\nThis should be benchmarked against the native sage implementation `P.discrete_log(400*P)`. If relevant, PARI/GP should be an alternative in the function `discrete_log`.\n\nThis might apply to other functions as well, see [PARI/GP elliptic curve reference card](http://pari.math.u-bordeaux.fr/pub/pari/manuals/2.13.3/refcard-ell.pdf).\n\nIssue created by migration from https://trac.sagemath.org/ticket/33121\n\n",
    "created_at": "2022-01-05T15:56:13Z",
    "labels": [
        "component: elliptic curves"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "PARI/GP for elliptic curves discrete logarithm (elllog)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32884",
    "user": "https://github.com/videlec"
}
```
CC:  @yyyyx4

PARI/GP implements discrete logarithm on elliptic curves

```
sage: F = GF(3^6,'a')
sage: a = F.gen()
sage: E = EllipticCurve([0,1,1,a,a])
sage: A = E.abelian_group()
sage: P = A.gen(0).element()
sage: from sage.libs.pari import pari
sage: pari.elllog(E, 400*P, P)
400
```

This should be benchmarked against the native sage implementation `P.discrete_log(400*P)`. If relevant, PARI/GP should be an alternative in the function `discrete_log`.

This might apply to other functions as well, see [PARI/GP elliptic curve reference card](http://pari.math.u-bordeaux.fr/pub/pari/manuals/2.13.3/refcard-ell.pdf).

Issue created by migration from https://trac.sagemath.org/ticket/33121





---

archive/issue_comments_468399.json:
```json
{
    "body": "Good idea!\n\nAnother example from recent experience: PARI computes (some?) pairings about 10 times faster than Sage.",
    "created_at": "2022-01-06T07:38:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32884#issuecomment-468399",
    "user": "https://github.com/yyyyx4"
}
```

Good idea!

Another example from recent experience: PARI computes (some?) pairings about 10 times faster than Sage.



---

archive/issue_comments_468400.json:
```json
{
    "body": "Discrete log also seems to be faster with PARI/GP (x3 on this example)\n\n```\nsage: Q = 400*P\nsage: %timeit -n 100 pari.elllog(E, Q, P)\n762 \u00b5s \u00b1 83.5 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 100 loops each)\nsage: %timeit -n 100 P.discrete_log(Q)\n2.13 ms \u00b1 73.4 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 100 loops each)\n```\n",
    "created_at": "2022-01-06T08:59:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32884#issuecomment-468400",
    "user": "https://github.com/videlec"
}
```

Discrete log also seems to be faster with PARI/GP (x3 on this example)

```
sage: Q = 400*P
sage: %timeit -n 100 pari.elllog(E, Q, P)
762 µs ± 83.5 µs per loop (mean ± std. dev. of 7 runs, 100 loops each)
sage: %timeit -n 100 P.discrete_log(Q)
2.13 ms ± 73.4 µs per loop (mean ± std. dev. of 7 runs, 100 loops each)
```




---

archive/issue_comments_468401.json:
```json
{
    "body": "Alright, here's a branch. Its primary goal was to call `elllog` in `.discrete_log()`, but there's a little complication: PARI doesn't actually guarantee that `elllog` terminates when `Q` is not a multiple of `P`.\nHence, I added a Weil pairing check to ensure this before calling into PARI, and changed `.weil_pairing()` to use PARI as well. (The old implementation remains accessible via an optional `algorithm=` argument.)\n\nBenchmarks with pairings in fields up to 128 bits and ECDLPs up to 40 bits indicate that the new code is about 15 times faster on average for those sizes (in both cases). The biggest speedups observed in my tests were about 25\u00d7 for pairings and about 100\u00d7 for ECDLPs. Minor slowdowns were only observed for really tiny instances, presumably due to the added conversions between PARI and Sage. We could add a case distinction there, but frankly, I think it doesn't matter.\n\nExample:\n\n```\nsage: E = EllipticCurve(GF(986328349423), [49984317488,114040674816])\nsage: P = E.random_point(); Q = 123451234512345*P\nsage: %timeit P.discrete_log(Q)\n```\n\n9.5.rc0:\n\n```\n53.9 s \u00b1 1.26 s per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\n```\n\nThis branch:\n\n```\n2.14 s \u00b1 8.5 ms per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\n```\n\n\nWhile benchmarking, I also noticed that scalar multiplications in Sage are significantly (5\u00d7?) slower than PARI's `ellmul`, but changing that is a little more intricate, hence left for future work. I also refrained from touching `.tate_pairing()` for now.\n----\nNew commits:",
    "created_at": "2022-01-10T11:22:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32884#issuecomment-468401",
    "user": "https://github.com/yyyyx4"
}
```

Alright, here's a branch. Its primary goal was to call `elllog` in `.discrete_log()`, but there's a little complication: PARI doesn't actually guarantee that `elllog` terminates when `Q` is not a multiple of `P`.
Hence, I added a Weil pairing check to ensure this before calling into PARI, and changed `.weil_pairing()` to use PARI as well. (The old implementation remains accessible via an optional `algorithm=` argument.)

Benchmarks with pairings in fields up to 128 bits and ECDLPs up to 40 bits indicate that the new code is about 15 times faster on average for those sizes (in both cases). The biggest speedups observed in my tests were about 25× for pairings and about 100× for ECDLPs. Minor slowdowns were only observed for really tiny instances, presumably due to the added conversions between PARI and Sage. We could add a case distinction there, but frankly, I think it doesn't matter.

Example:

```
sage: E = EllipticCurve(GF(986328349423), [49984317488,114040674816])
sage: P = E.random_point(); Q = 123451234512345*P
sage: %timeit P.discrete_log(Q)
```

9.5.rc0:

```
53.9 s ± 1.26 s per loop (mean ± std. dev. of 7 runs, 1 loop each)
```

This branch:

```
2.14 s ± 8.5 ms per loop (mean ± std. dev. of 7 runs, 1 loop each)
```


While benchmarking, I also noticed that scalar multiplications in Sage are significantly (5×?) slower than PARI's `ellmul`, but changing that is a little more intricate, hence left for future work. I also refrained from touching `.tate_pairing()` for now.
----
New commits:



---

archive/issue_comments_468402.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-01-10T11:22:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32884#issuecomment-468402",
    "user": "https://github.com/yyyyx4"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_468403.json:
```json
{
    "body": "Nice.\n\nReplying to [comment:3 lorenz]:\n> [...] but there's a little complication: PARI doesn't actually guarantee that\n> `elllog` terminates when `Q` is not a multiple of `P`. [...]\n\nWhere did you read that ? At [ellog documentation](https://pari.math.u-bordeaux.fr/dochtml/html/Elliptic_curves.html#se:elllog) they say to have a look at [znlog documentation](https://pari.math.u-bordeaux.fr/dochtml/html/Arithmetic_functions.html#se:znlog). And there it only says that the result is *undefined* (here I would translate as: *algorithm terminates but got garbage*) if `Q` is not a multiple of `P`. I thought it would be sufficient to check whether `Q = nP` at the end of the procedure.",
    "created_at": "2022-01-10T11:30:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32884#issuecomment-468403",
    "user": "https://github.com/videlec"
}
```

Nice.

Replying to [comment:3 lorenz]:
> [...] but there's a little complication: PARI doesn't actually guarantee that
> `elllog` terminates when `Q` is not a multiple of `P`. [...]

Where did you read that ? At [ellog documentation](https://pari.math.u-bordeaux.fr/dochtml/html/Elliptic_curves.html#se:elllog) they say to have a look at [znlog documentation](https://pari.math.u-bordeaux.fr/dochtml/html/Arithmetic_functions.html#se:znlog). And there it only says that the result is *undefined* (here I would translate as: *algorithm terminates but got garbage*) if `Q` is not a multiple of `P`. I thought it would be sufficient to check whether `Q = nP` at the end of the procedure.



---

archive/issue_comments_468404.json:
```json
{
    "body": "In the `znlog()` documentation, near the bottom, it says:\n\n    In addition, Pollard rho is not able to handle the case where there are no solutions: it will enter an infinite loop.\n\nHowever, the documentation also says that rho is only used for \"large\" sizes, so it seems like we could skip the check for the smaller instances if it's a problem. Overall, the cost of the pairing is negligible anyway (Miller's algorithm is `O(log(n))` base field operations, ECDLP is worst-case `O(sqrt(n))`).",
    "created_at": "2022-01-10T11:57:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32884#issuecomment-468404",
    "user": "https://github.com/yyyyx4"
}
```

In the `znlog()` documentation, near the bottom, it says:

    In addition, Pollard rho is not able to handle the case where there are no solutions: it will enter an infinite loop.

However, the documentation also says that rho is only used for "large" sizes, so it seems like we could skip the check for the smaller instances if it's a problem. Overall, the cost of the pairing is negligible anyway (Miller's algorithm is `O(log(n))` base field operations, ECDLP is worst-case `O(sqrt(n))`).



---

archive/issue_comments_468405.json:
```json
{
    "body": "Does the Weil pairing guarantees colinearity or the fact that Q is a multiple of P ? (not very familiar with EC myself)",
    "created_at": "2022-01-10T12:57:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32884#issuecomment-468405",
    "user": "https://github.com/videlec"
}
```

Does the Weil pairing guarantees colinearity or the fact that Q is a multiple of P ? (not very familiar with EC myself)



---

archive/issue_comments_468406.json:
```json
{
    "body": "More precisely, there could be a denominator issue. The two following questions are different : \n`Q` in `ZZ P` versus `Q` in `K P` (where `K` is the ground field).",
    "created_at": "2022-01-10T12:59:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32884#issuecomment-468406",
    "user": "https://github.com/videlec"
}
```

More precisely, there could be a denominator issue. The two following questions are different : 
`Q` in `ZZ P` versus `Q` in `K P` (where `K` is the ground field).



---

archive/issue_comments_468407.json:
```json
{
    "body": "You are right that \"`Q in \u211a\u00b7P`\" can be an issue, but in this case it isn't.\n\nModulo a bunch of identifications, the Weil pairing is \"just\" the determinant pairing: Our points live in a group isomorphic to `G = (\u2124/n \u00d7 \u2124/n, +)`, and the pairing is given by\n  `G \u00d7 G \u2192 k;\u2003((a,b),(c,d)) \u21a6 z^(ad-bc)`\nwhere `z` is a fixed primitive `n`th root of unity in the base field `k` of the curve.\n\nThus, the pairing is `1` if and only if `ad-bc \u2261 0 (mod n)`. The input vector `(a,b) \u2208 \u2124/n \u00d7 \u2124/n` corresponding to the point `P \u2208 E` has full order `n` by construction (this is exactly how `n` was chosen), hence `gcd(a,b,n) = 1`. By B\u00e9zout we can find `u,v\u00a0\u2208\u00a0\u2124` such that `au + bv \u2261 1 (mod n)`. Letting `\u03bb = cu + dv` and using `ad \u2261 bc`, we then get `\u03bb\u00b7(a,b) \u2261 (c,d)` as desired.\n\nIf we drop the assumption that one of the inputs has full order, we can indeed easily construct counterexamples: `n=6`,\u00a0`(a,b)=(2,0)`,\u00a0`(c,d)=(0,3)`.",
    "created_at": "2022-01-11T03:58:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32884#issuecomment-468407",
    "user": "https://github.com/yyyyx4"
}
```

You are right that "`Q in ℚ·P`" can be an issue, but in this case it isn't.

Modulo a bunch of identifications, the Weil pairing is "just" the determinant pairing: Our points live in a group isomorphic to `G = (ℤ/n × ℤ/n, +)`, and the pairing is given by
  `G × G → k; ((a,b),(c,d)) ↦ z^(ad-bc)`
where `z` is a fixed primitive `n`th root of unity in the base field `k` of the curve.

Thus, the pairing is `1` if and only if `ad-bc ≡ 0 (mod n)`. The input vector `(a,b) ∈ ℤ/n × ℤ/n` corresponding to the point `P ∈ E` has full order `n` by construction (this is exactly how `n` was chosen), hence `gcd(a,b,n) = 1`. By Bézout we can find `u,v ∈ ℤ` such that `au + bv ≡ 1 (mod n)`. Letting `λ = cu + dv` and using `ad ≡ bc`, we then get `λ·(a,b) ≡ (c,d)` as desired.

If we drop the assumption that one of the inputs has full order, we can indeed easily construct counterexamples: `n=6`, `(a,b)=(2,0)`, `(c,d)=(0,3)`.



---

archive/issue_comments_468408.json:
```json
{
    "body": "Replying to [comment:3 lorenz]:\n> While benchmarking, I also noticed that scalar multiplications in Sage are significantly (5\u00d7?) slower than PARI's `ellmul`, but changing that is a little more intricate, hence left for future work.\n\nThis is now #33147.",
    "created_at": "2022-01-11T05:41:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32884#issuecomment-468408",
    "user": "https://github.com/yyyyx4"
}
```

Replying to [comment:3 lorenz]:
> While benchmarking, I also noticed that scalar multiplications in Sage are significantly (5×?) slower than PARI's `ellmul`, but changing that is a little more intricate, hence left for future work.

This is now #33147.



---

archive/issue_comments_468409.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-01-11T11:37:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32884#issuecomment-468409",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_468410.json:
```json
{
    "body": "\n```\nsage -t --long --warn-long 55.6 --random-seed=123 src/sage/schemes/elliptic_curves/ell_point.py\n**********************************************************************\nFile \"src/sage/schemes/elliptic_curves/ell_point.py\", line 1577, in sage.schemes.elliptic_curves.ell_point.EllipticCurvePoint_field.weil_pairing\nFailed example:\n    P.weil_pairing(Q,5)  # long time\nException raised:\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/doctest/forker.py\", line 694, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/doctest/forker.py\", line 1088, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.schemes.elliptic_curves.ell_point.EllipticCurvePoint_field.weil_pairing[20]>\", line 1, in <module>\n        P.weil_pairing(Q,Integer(5))  # long time\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/schemes/elliptic_curves/ell_point.py\", line 1626, in weil_pairing\n        return E.base_field()(pari.ellweilpairing(E, P, Q, n))\n      File \"cypari2/auto_instance.pxi\", line 10515, in cypari2.pari_instance.Pari_auto.ellweilpairing\n      File \"cypari2/handle_error.pyx\", line 213, in cypari2.handle_error._pari_err_handle\n    cypari2.handle_error.PariError: incorrect type in checkell over Fq (t_VEC)\n**********************************************************************\nFile \"src/sage/schemes/elliptic_curves/ell_point.py\", line 1579, in sage.schemes.elliptic_curves.ell_point.EllipticCurvePoint_field.weil_pairing\nFailed example:\n    Q.weil_pairing(P,5)  # long time\nException raised:\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/doctest/forker.py\", line 694, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/doctest/forker.py\", line 1088, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.schemes.elliptic_curves.ell_point.EllipticCurvePoint_field.weil_pairing[21]>\", line 1, in <module>\n        Q.weil_pairing(P,Integer(5))  # long time\n      File \"/home/release/Sage/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/schemes/elliptic_curves/ell_point.py\", line 1626, in weil_pairing\n        return E.base_field()(pari.ellweilpairing(E, P, Q, n))\n      File \"cypari2/auto_instance.pxi\", line 10515, in cypari2.pari_instance.Pari_auto.ellweilpairing\n      File \"cypari2/handle_error.pyx\", line 213, in cypari2.handle_error._pari_err_handle\n    cypari2.handle_error.PariError: incorrect type in checkell over Fq (t_VEC)\n**********************************************************************\n1 item had failures:\n   2 of  29 in sage.schemes.elliptic_curves.ell_point.EllipticCurvePoint_field.weil_pairing\n    [809 tests, 2 failures, 5.56 s]\n----------------------------------------------------------------------\nsage -t --long --warn-long 55.6 --random-seed=123 src/sage/schemes/elliptic_curves/ell_point.py  # 2 doctests failed\n----------------------------------------------------------------------\n```\n",
    "created_at": "2022-01-30T10:02:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32884#issuecomment-468410",
    "user": "https://github.com/vbraun"
}
```


```
sage -t --long --warn-long 55.6 --random-seed=123 src/sage/schemes/elliptic_curves/ell_point.py
**********************************************************************
File "src/sage/schemes/elliptic_curves/ell_point.py", line 1577, in sage.schemes.elliptic_curves.ell_point.EllipticCurvePoint_field.weil_pairing
Failed example:
    P.weil_pairing(Q,5)  # long time
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 694, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 1088, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.schemes.elliptic_curves.ell_point.EllipticCurvePoint_field.weil_pairing[20]>", line 1, in <module>
        P.weil_pairing(Q,Integer(5))  # long time
      File "/home/release/Sage/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/schemes/elliptic_curves/ell_point.py", line 1626, in weil_pairing
        return E.base_field()(pari.ellweilpairing(E, P, Q, n))
      File "cypari2/auto_instance.pxi", line 10515, in cypari2.pari_instance.Pari_auto.ellweilpairing
      File "cypari2/handle_error.pyx", line 213, in cypari2.handle_error._pari_err_handle
    cypari2.handle_error.PariError: incorrect type in checkell over Fq (t_VEC)
**********************************************************************
File "src/sage/schemes/elliptic_curves/ell_point.py", line 1579, in sage.schemes.elliptic_curves.ell_point.EllipticCurvePoint_field.weil_pairing
Failed example:
    Q.weil_pairing(P,5)  # long time
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 694, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/release/Sage/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 1088, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.schemes.elliptic_curves.ell_point.EllipticCurvePoint_field.weil_pairing[21]>", line 1, in <module>
        Q.weil_pairing(P,Integer(5))  # long time
      File "/home/release/Sage/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/schemes/elliptic_curves/ell_point.py", line 1626, in weil_pairing
        return E.base_field()(pari.ellweilpairing(E, P, Q, n))
      File "cypari2/auto_instance.pxi", line 10515, in cypari2.pari_instance.Pari_auto.ellweilpairing
      File "cypari2/handle_error.pyx", line 213, in cypari2.handle_error._pari_err_handle
    cypari2.handle_error.PariError: incorrect type in checkell over Fq (t_VEC)
**********************************************************************
1 item had failures:
   2 of  29 in sage.schemes.elliptic_curves.ell_point.EllipticCurvePoint_field.weil_pairing
    [809 tests, 2 failures, 5.56 s]
----------------------------------------------------------------------
sage -t --long --warn-long 55.6 --random-seed=123 src/sage/schemes/elliptic_curves/ell_point.py  # 2 doctests failed
----------------------------------------------------------------------
```




---

archive/issue_comments_468411.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2022-01-30T10:02:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32884#issuecomment-468411",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_468412.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-30T11:50:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32884#issuecomment-468412",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_468413.json:
```json
{
    "body": "Thanks, good catch. PARI doesn't seem to like pairings over infinite fields.",
    "created_at": "2022-01-30T11:54:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32884#issuecomment-468413",
    "user": "https://github.com/yyyyx4"
}
```

Thanks, good catch. PARI doesn't seem to like pairings over infinite fields.



---

archive/issue_comments_468414.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-01-30T11:54:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32884#issuecomment-468414",
    "user": "https://github.com/yyyyx4"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_468415.json:
```json
{
    "body": "According to the patchbot (and sage documentation) `Returns` should be `Return` in the docstring of `discrete_log`.",
    "created_at": "2022-01-31T08:06:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32884#issuecomment-468415",
    "user": "https://github.com/videlec"
}
```

According to the patchbot (and sage documentation) `Returns` should be `Return` in the docstring of `discrete_log`.



---

archive/issue_comments_468416.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-01-31T08:06:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32884#issuecomment-468416",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_468417.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-01-31T09:49:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32884#issuecomment-468417",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_468418.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-01-31T09:51:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32884#issuecomment-468418",
    "user": "https://github.com/yyyyx4"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_468419.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-01-31T15:57:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32884#issuecomment-468419",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_468420.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-02-13T10:17:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32884#issuecomment-468420",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_029795.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-02-13T10:17:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32884",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32884#event-29795"
}
```
