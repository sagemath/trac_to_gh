# Issue 27585: Update configure with checks for mpfr, mpc, and ntl

Issue created by migration from https://trac.sagemath.org/ticket/27822

Original creator: embray

Original creation time: 2019-05-13 14:41:50

CC:  dimpase

Keywords: spkg-configure mpfr mpc ntl

This ticket bundles together #27258, #27259, and #27265 in such a way that the configure tarball is updated to contain the configure changes from each of those tickets.

Once all three have been merged (or at the same time) this ticket can also be merged to bump the configure version.


---

Comment by embray created at 2019-05-13 15:03:14

New commits:


---

Comment by embray created at 2019-05-13 15:30:16

It occurs to me actually that we probably _can't_ merge any of #27258, #27259, #27265 without this ticket: Due to the changes in `src/bin/sage-env-config.in` Sage won't build properly anymore without an updated `configure` script that makes the necessary replacements in that file.

Therefore, I believe the other tickets should just be closed, and only this one merged.


---

Comment by embray created at 2019-05-13 15:31:32

Changing status from new to needs_review.


---

Comment by dimpase created at 2019-05-13 16:56:33

please add the last commit on #27265 :
https://git.sagemath.org/sage.git/commit/?id=e025f888872035a04bcdbd047409c0e99a92dd14


---

Comment by git created at 2019-05-17 12:02:44

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by embray created at 2019-05-17 12:03:57

Updated configure


---

Attachment

Rebased again on #27265 and updated the configure tarball.  Please double-check I didn't make any mistakes.


---

Comment by dimpase created at 2019-05-17 15:52:55

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2019-05-17 15:52:55

this appears to be good.


---

Comment by dimpase created at 2019-05-18 18:42:28

Changing status from positive_review to needs_review.


---

Comment by dimpase created at 2019-05-18 18:42:28

here one has to cherry pick the last commit from public/packages/ntlconf - the one
that adds missing quotes, namely

```
892143a2d89591044dc20a3c87ecccaffdd46dd7
```

and redo the configure tarball dance...


---

Comment by vbraun created at 2019-05-20 18:23:41

configure-319 is the current confball, you always need to increment it


---

Comment by vbraun created at 2019-05-20 18:28:39

Please do a full rebuild BEFORE you set any of #27258, #27259, #27265, #27822 back to positive review.


---

Comment by dimpase created at 2019-05-20 18:33:14

I've rebuilt these tickets dozens of times, it's never clear w.r.t. the release process whether they will be picked in 10 minutes after they are set to positive review, or sit idle for weeks, bit-rotting.


---

Comment by dimpase created at 2019-05-20 23:23:47

New commits:


---

Comment by dimpase created at 2019-05-21 07:05:19

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2019-05-22 17:47:29

320 is used for 8.8.beta6, can you resolve the merge conflict and make a v321


---

Comment by vbraun created at 2019-05-22 17:49:56

Changing status from positive_review to needs_work.


---

Comment by dimpase created at 2019-05-22 18:13:51

sure, as soon as there is a public 8.8.beta6 branch available (nether trac nor github have it)


---

Comment by git created at 2019-05-22 18:59:38

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by dimpase created at 2019-05-22 19:01:11

rebased over 8.8.beta6, new config tarball (version 321)


---

Comment by dimpase created at 2019-05-22 19:01:25

Changing status from needs_work to needs_review.


---

Comment by dimpase created at 2019-05-22 22:10:08

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2019-05-25 08:18:25

Resolution: fixed
