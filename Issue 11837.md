# Issue 11837: optional package gnuplotpy-1.8.spkg causes test failure on sage-4.7.2

Issue created by migration from https://trac.sagemath.org/ticket/12009

Original creator: mariah

Original creation time: 2011-11-10 19:21:16

Assignee: tbd

sage-4.7.2 with the optional package gnuplotpy-1.8.spkg installed causes the following test failure:


```
% ./sage -t -long -force_lib "devel/sage/sage/tests/startup.py"
sage -t -long -force_lib "devel/sage/sage/tests/startup.py" 
**********************************************************************
File "/home/mariah/sage/sage-4.7.2-x86_64-Linux-core2-fc-optional/devel/sage/sage/tests/startup.py", line 13:
    sage: sage0("'numpy' in sys.modules")
Expected:
    False
Got:
    True
**********************************************************************
1 items had failures:
   1 of   5 in __main__.example_0
***Test Failed*** 1 failures.
For whitespace errors, see the file /home/mariah/.sage//tmp/startup_30568.py
         [8.0 s]
 
----------------------------------------------------------------------
The following tests failed:


        sage -t -long -force_lib "devel/sage/sage/tests/startup.py"
Total time for all tests: 8.1 seconds
%
```



---

Comment by mhansen created at 2012-05-25 06:28:14

Changing status from new to needs_review.


---

Comment by dsm created at 2012-05-25 23:31:53

Works for me: applies cleanly against 5.1.beta0 and passes the tests afterwards.


---

Comment by kcrisman created at 2012-05-26 06:48:38

Mike,

This looks like the right fix, efficient as always, and Doug tested it.  Should we at this point make the attribute a single-underscore one instead of double-underscore?


---

Attachment


---

Comment by mhansen created at 2012-05-28 20:35:33

I just went ahead and made the double underscore into a single one.  Positive review?


---

Comment by mhansen created at 2012-05-28 20:35:33

Changing keywords from "" to "sd40.5".


---

Comment by kcrisman created at 2012-05-28 20:39:43

Great!


---

Comment by kcrisman created at 2012-05-28 20:39:43

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2012-06-15 11:19:07

Changing component from optional packages to interfaces.


---

Comment by jdemeyer created at 2012-06-23 21:45:02

Resolution: fixed
