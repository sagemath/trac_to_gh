# Issue 11837: optional package gnuplotpy-1.8.spkg causes test failure on sage-4.7.2

archive/issues_011837.json:
```json
{
    "body": "Assignee: tbd\n\nsage-4.7.2 with the optional package gnuplotpy-1.8.spkg installed causes the following test failure:\n\n\n```\n% ./sage -t -long -force_lib \"devel/sage/sage/tests/startup.py\"\nsage -t -long -force_lib \"devel/sage/sage/tests/startup.py\" \n**********************************************************************\nFile \"/home/mariah/sage/sage-4.7.2-x86_64-Linux-core2-fc-optional/devel/sage/sage/tests/startup.py\", line 13:\n    sage: sage0(\"'numpy' in sys.modules\")\nExpected:\n    False\nGot:\n    True\n**********************************************************************\n1 items had failures:\n   1 of   5 in __main__.example_0\n***Test Failed*** 1 failures.\nFor whitespace errors, see the file /home/mariah/.sage//tmp/startup_30568.py\n         [8.0 s]\n \n----------------------------------------------------------------------\nThe following tests failed:\n\n\n        sage -t -long -force_lib \"devel/sage/sage/tests/startup.py\"\nTotal time for all tests: 8.1 seconds\n%\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/12009\n\n",
    "created_at": "2011-11-10T19:21:16Z",
    "labels": [
        "optional packages",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.1",
    "title": "optional package gnuplotpy-1.8.spkg causes test failure on sage-4.7.2",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11837",
    "user": "mariah"
}
```
Assignee: tbd

sage-4.7.2 with the optional package gnuplotpy-1.8.spkg installed causes the following test failure:


```
% ./sage -t -long -force_lib "devel/sage/sage/tests/startup.py"
sage -t -long -force_lib "devel/sage/sage/tests/startup.py" 
**********************************************************************
File "/home/mariah/sage/sage-4.7.2-x86_64-Linux-core2-fc-optional/devel/sage/sage/tests/startup.py", line 13:
    sage: sage0("'numpy' in sys.modules")
Expected:
    False
Got:
    True
**********************************************************************
1 items had failures:
   1 of   5 in __main__.example_0
***Test Failed*** 1 failures.
For whitespace errors, see the file /home/mariah/.sage//tmp/startup_30568.py
         [8.0 s]
 
----------------------------------------------------------------------
The following tests failed:


        sage -t -long -force_lib "devel/sage/sage/tests/startup.py"
Total time for all tests: 8.1 seconds
%
```


Issue created by migration from https://trac.sagemath.org/ticket/12009





---

archive/issue_comments_135398.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-05-25T06:28:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11837#issuecomment-135398",
    "user": "mhansen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_135399.json:
```json
{
    "body": "Works for me: applies cleanly against 5.1.beta0 and passes the tests afterwards.",
    "created_at": "2012-05-25T23:31:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11837#issuecomment-135399",
    "user": "dsm"
}
```

Works for me: applies cleanly against 5.1.beta0 and passes the tests afterwards.



---

archive/issue_comments_135400.json:
```json
{
    "body": "Mike,\n\nThis looks like the right fix, efficient as always, and Doug tested it.  Should we at this point make the attribute a single-underscore one instead of double-underscore?",
    "created_at": "2012-05-26T06:48:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11837#issuecomment-135400",
    "user": "kcrisman"
}
```

Mike,

This looks like the right fix, efficient as always, and Doug tested it.  Should we at this point make the attribute a single-underscore one instead of double-underscore?



---

archive/issue_comments_135401.json:
```json
{
    "body": "Attachment [trac_12009.patch](tarball://root/attachments/some-uuid/ticket12009/trac_12009.patch) by mhansen created at 2012-05-28 20:34:51",
    "created_at": "2012-05-28T20:34:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11837#issuecomment-135401",
    "user": "mhansen"
}
```

Attachment [trac_12009.patch](tarball://root/attachments/some-uuid/ticket12009/trac_12009.patch) by mhansen created at 2012-05-28 20:34:51



---

archive/issue_comments_135402.json:
```json
{
    "body": "I just went ahead and made the double underscore into a single one.  Positive review?",
    "created_at": "2012-05-28T20:35:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11837#issuecomment-135402",
    "user": "mhansen"
}
```

I just went ahead and made the double underscore into a single one.  Positive review?



---

archive/issue_comments_135403.json:
```json
{
    "body": "Changing keywords from \"\" to \"sd40.5\".",
    "created_at": "2012-05-28T20:35:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11837#issuecomment-135403",
    "user": "mhansen"
}
```

Changing keywords from "" to "sd40.5".



---

archive/issue_comments_135404.json:
```json
{
    "body": "Great!",
    "created_at": "2012-05-28T20:39:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11837#issuecomment-135404",
    "user": "kcrisman"
}
```

Great!



---

archive/issue_comments_135405.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-05-28T20:39:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11837#issuecomment-135405",
    "user": "kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_135406.json:
```json
{
    "body": "Changing component from optional packages to interfaces.",
    "created_at": "2012-06-15T11:19:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11837#issuecomment-135406",
    "user": "jdemeyer"
}
```

Changing component from optional packages to interfaces.



---

archive/issue_comments_135407.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-06-23T21:45:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11837",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11837#issuecomment-135407",
    "user": "jdemeyer"
}
```

Resolution: fixed
