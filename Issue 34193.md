# Issue 34193: Use --config-settings whenever --build-options or --global-options is used with pip

Issue created by migration from https://trac.sagemath.org/ticket/34430

Original creator: mkoeppe

Original creation time: 2022-08-25 11:21:28

CC:  dimpase dcoudert

Follow-up from #34421


---

Comment by mkoeppe created at 2022-08-25 16:53:18

New commits:


---

Comment by mkoeppe created at 2022-08-25 17:08:05

Changing status from new to needs_review.


---

Comment by git created at 2022-08-25 17:40:56

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-08-25 17:42:27

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mkoeppe created at 2022-08-25 18:09:02

Changing status from needs_review to needs_work.


---

Comment by mkoeppe created at 2022-08-25 18:09:02

Changing type from defect to enhancement.


---

Comment by git created at 2022-08-25 18:11:38

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2022-08-25 18:36:09

Compiles well (with the last commit) and all tests pass.
Is there something else you want to add to this ticket ? Otherwise, it is ok for me.


---

Comment by mkoeppe created at 2022-08-25 18:39:39

I'm seeing

```
[python_igraph-0.9.11]   We are going to build the C core of igraph.
[python_igraph-0.9.11]     Source folder: vendor/source/igraph
[python_igraph-0.9.11]     Build folder: vendor/build/igraph
[python_igraph-0.9.11]     Install folder: vendor/install/igraph
```

which means that the `--use-pkgconfig` option was not processed correctly. Working on it


---

Comment by dcoudert created at 2022-08-25 18:45:58

OK. Then let me know also the correct way to test this ticket.


---

Comment by git created at 2022-08-25 19:26:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2022-08-25 19:28:25

Changing priority from major to minor.


---

Comment by mkoeppe created at 2022-08-25 19:28:25

OK, this works for me.

The build should be quick (here: real 0m9.046s), should say "Build type: dynamic extension", and not involve CMake.


---

Comment by mkoeppe created at 2022-08-25 19:28:25

Changing status from needs_work to needs_review.


---

Comment by dcoudert created at 2022-08-25 21:09:46

Changing status from needs_review to positive_review.


---

Comment by dcoudert created at 2022-08-25 21:09:46

I see `[python_igraph-0.9.11]   Build type: dynamic extension` in the block `Building wheels for collected packages: igraph`.

It looks good to me.


---

Comment by mkoeppe created at 2022-08-25 21:10:48

Thanks for testing!


---

Comment by vbraun created at 2022-08-30 19:03:28

Resolution: fixed
