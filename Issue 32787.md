# Issue 32787: Fix sparse cholesky when cvxopt is disabled

Issue created by migration from https://trac.sagemath.org/ticket/33024

Original creator: mjo

Original creation time: 2021-12-14 23:48:36

CC:  dimpase @collares

Follow-up to #13674 where I've tried to handle the case where sage was configured with `--disable-cvxopt`, but then apparently did some refactoring and never tried it again. This,


```python
except ModuleNotFoundError:
    # Sage can be built with --disable-cvxopt, so we have to            
    # handle the case where cvxopt is not present. The                  
    # superclass method is slow, but no longer raises an                
    # error, so let's try that.                                         
    L = super().cholesky()
```


should clearly have


```python
return super().cholesky()
```


or


```python
L = super().cholesky()
self.cache('cholesky', L)
return L
```


instead.


---

Comment by mjo created at 2021-12-15 00:39:04

New commits:


---

Comment by mjo created at 2021-12-15 00:39:04

Changing priority from critical to blocker.


---

Comment by mkoeppe created at 2021-12-15 01:09:32

Ready for review?


---

Comment by mjo created at 2021-12-15 01:11:42

Changing status from new to needs_review.


---

Comment by mjo created at 2021-12-15 01:11:42

Whoops, yeah.


---

Comment by mkoeppe created at 2021-12-16 19:56:18

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2021-12-23 20:26:35

Resolution: fixed
