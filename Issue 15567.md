# Issue 15567: Add lift_centered for more classes

Issue created by migration from Trac.

Original creator: lftabera

Original creation time: 2014-02-10 15:59:23

Keywords: modular arithmetic, centered lift

This ticket is a split of #8558 for easier review and merging.

Add a lift_centered method to ntl_mod_p elements and a generic function.

If p  is an integer mod n, returns r congruent to p mod n such that -n/2 < r <= n/2

It also deprecates the use of centerlift for lift_centered. The discussion is in #8558



---

Comment by git created at 2014-02-10 16:36:14

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by lftabera created at 2014-02-10 16:38:02

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2014-02-11 09:32:48

Changing status from needs_review to needs_work.


---

Comment by jdemeyer created at 2014-02-11 09:32:48

I would write the global function `lift_centered` as

```
try:
    return p.lift_centered()
except AttributeError:
    return p.lift()
```

such that it always works on modular objects, even if `.lift_centered()` has no meaning.


---

Comment by lftabera created at 2014-02-11 11:02:28

Are you thinking for instance?


```
K.<x,y,z> = QQ[]
I = Ideal(x*y,x*z,y*z)
R = K.quotient_ring(I)
f = R((x+y+z)**2)
lift_centered(f)
x^2 + y^2 + z^2
```


So what you propose is that lift_centered should be always a class method and never explicitely computed using the global function, don't you?


---

Comment by git created at 2014-02-12 10:48:14

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jdemeyer created at 2014-02-13 16:04:55

In Python, it is better not to use `hasattr`. Instead, catch `AttributeError`.

Also, the normal syntax is `except AttributeError:` (without parentheses).


---

Comment by git created at 2014-03-12 12:47:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by lftabera created at 2014-03-12 17:02:04

Fixed, I have also changed the documentation, I hope it is in better shape now.


---

Comment by lftabera created at 2014-03-12 17:02:04

Changing status from needs_work to needs_review.


---

Comment by git created at 2014-05-08 09:46:01

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2014-11-16 14:21:46

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jdemeyer created at 2014-11-20 08:43:14

Changing status from needs_review to needs_work.


---

Comment by jdemeyer created at 2014-11-20 08:43:14

For the newly added docstrings, you should follow the format explained in [http://www.sagemath.org/doc/developer/coding_basics.html#documentation-strings](http://www.sagemath.org/doc/developer/coding_basics.html#documentation-strings). Note that the `INPUT` and `OUTPUT` blocks should not be indented and that the docstring shouldn't start with an empty line.


---

Comment by git created at 2015-05-21 11:19:23

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by lftabera created at 2015-05-22 09:59:22

Changing status from needs_work to needs_review.


---

Comment by vdelecroix created at 2015-11-28 14:12:15

What is the purpose of introducing the (globally available) function `lift_centered`?


---

Comment by jdemeyer created at 2015-11-29 13:35:54

[comment:13] has not been addressed.

Also, for PARI, you should _not_ deprecate `centerlift()` since that's the PARI name of the method. You may allow both `lift_centered()` and `centerlift()` but do not deprecate `centerlift()`.


---

Comment by jdemeyer created at 2015-11-29 13:35:54

Changing status from needs_review to needs_work.


---

Comment by git created at 2015-12-01 20:08:54

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by lftabera created at 2015-12-03 17:23:52

Ups, sorry, the docstring format was not good. I have fixed it.

`@`vdelecroix: After thinking about it, the global namespace is already too big. It should be used for essential functions only. And preferably those that are "classical" or have sense for an arbitrary Sage element. So, I have deleted the global function, the user should depend on the method of each class.


---

Comment by lftabera created at 2015-12-03 17:23:52

Changing status from needs_work to needs_review.


---

Comment by vdelecroix created at 2015-12-04 01:00:36

Couldn't you do some economy in `pari.gen`

```
cdef class gen(gen_auto):
   ...
   lift_centered = centerlift
```



---

Comment by jdemeyer created at 2015-12-22 11:43:05

Changing status from needs_review to needs_work.


---

Comment by jdemeyer created at 2015-12-22 11:43:05

Replying to [comment:20 vdelecroix]:
> Couldn't you do some economy in `pari.gen`
> {{{
> cdef class gen(gen_auto):
>    ...
>    lift_centered = centerlift
> }}}

I agree.


---

Comment by jdemeyer created at 2015-12-22 14:06:41

New commits:


---

Comment by jdemeyer created at 2015-12-22 14:06:41

Changing status from needs_work to needs_review.


---

Comment by vdelecroix created at 2015-12-24 16:02:04

This is good for me.


---

Comment by jdemeyer created at 2015-12-24 16:52:09

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-12-25 16:16:51

Resolution: fixed
