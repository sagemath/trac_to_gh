# Issue 12292: Better Unicity for combinatorial free modules

Issue created by migration from Trac.

Original creator: hivert

Original creation time: 2012-02-07 17:38:10

Assignee: hivert

CC:  sage-combinat

Keywords: CombiantorialFreeModule, UniqueRepresentation

Depending on how they was created, some free modules were different. They are now unique thanks to the `classcall` mechanism.

I moreover removed a unused code constructing the one of the base ring in `__init__`.


---

Comment by hivert created at 2012-02-07 17:48:36

Changing status from new to needs_review.


---

Comment by nthiery created at 2012-02-09 20:17:28

Changing keywords from "CombiantorialFreeModule, UniqueRepresentation" to "CombiantorialFreeModule, UniqueRepresentation, Cernay2012".


---

Comment by nthiery created at 2012-02-09 20:17:28

Cross reviewed in Cernay. Positive review!


---

Comment by nthiery created at 2012-02-09 20:17:28

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2012-02-12 20:42:54

Could this cause

```
sage -t  -force_lib devel/sage/doc/en/thematic_tutorials/lie/iwahori_hecke_algebra.rst
**********************************************************************
File "/mnt/usb1/scratch/jdemeyer/merger/sage-5.0.beta4/devel/sage-main/doc/en/thematic_tutorials/lie/iwahori_hecke_algebra.rst", line 54:
    sage: H = IwahoriHeckeAlgebraT("B3",q); H
Exception raised:
    Traceback (most recent call last):
      File "/mnt/usb1/scratch/jdemeyer/merger/sage-5.0.beta4/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/mnt/usb1/scratch/jdemeyer/merger/sage-5.0.beta4/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/mnt/usb1/scratch/jdemeyer/merger/sage-5.0.beta4/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_0[3]>", line 1, in <module>
        H = IwahoriHeckeAlgebraT("B3",q); H###line 54:
    sage: H = IwahoriHeckeAlgebraT("B3",q); H
      File "/mnt/usb1/scratch/jdemeyer/merger/sage-5.0.beta4/local/lib/python/site-packages/sage/misc/classcall_metaclass.py", line 274, in __call__
        return cls.__classcall_private__(cls, *args, **options)
      File "/mnt/usb1/scratch/jdemeyer/merger/sage-5.0.beta4/local/lib/python/site-packages/sage/algebras/iwahori_hecke_algebra.py", line 174, in __classcall_private__
        return super(IwahoriHeckeAlgebraT, cls).__classcall_private__(cls, W, q1=q1, q2=q2, base_ring=base_ring, prefix=prefix)
    TypeError: __classcall_private__() got multiple values for keyword argument 'base_ring'
**********************************************************************
```



---

Comment by jdemeyer created at 2012-02-12 20:42:54

Changing status from positive_review to needs_work.


---

Comment by nthiery created at 2012-02-12 22:21:00

Oops, sorry; I apparently did not upload the latest version in the queue. There it is!


---

Comment by nthiery created at 2012-02-12 22:21:00

Changing status from needs_work to positive_review.


---

Attachment


---

Comment by jdemeyer created at 2012-02-14 14:23:11

Resolution: fixed
