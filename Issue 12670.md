# Issue 12670: Incorrect sign in exponential integral via Maxima

Issue created by migration from https://trac.sagemath.org/ticket/12842

Original creator: mjo

Original creation time: 2012-04-14 17:02:12

Assignee: burcin

CC:  kcrisman

Reported by Laurent Decreusefond on sage-support:


```
sage: t = SR.symbol('t', domain='real')
sage: f = e^(-2*t)/sqrt(1-e^(-2*t))
sage: integrate(f,t,0,infinity)                        
-1
```


The sign is wrong, as the function is clearly positive. Just to check:


```
sage: numerical_integral(f, 0, infinity)
(0.99999999999919, 4.823208499260545e-09)
```


This is an upstream bug in Maxima:


```
Maxima 5.27.0 http://maxima.sourceforge.net
using Lisp ECL 12.2.1
Distributed under the GNU Public License. See the file COPYING.
Dedicated to the memory of William Schelter.
The function bug_report() provides bug reporting information.
(%i1) display2d: false;

(%o1) false
(%i2) f: 1/(%e^(2*t)*sqrt(1-1/%e^(2*t)));

(%o2) %e^-(2*t)/sqrt(1-%e^-(2*t))
(%i3) integrate(f, t, 0, inf);

(%o3) -1
```




---

Comment by mjo created at 2012-04-14 17:10:31

This is now [Maxima bug 3517785](https://sourceforge.net/tracker/?func=detail&aid=3517785&group_id=4933&atid=104933).


---

Comment by kcrisman created at 2012-07-20 02:14:39

Apparently fixed upstream.  So it would probably end up in Maxima 5.28, due early August, if I recall correctly.


---

Comment by kcrisman created at 2012-08-14 01:16:17

Maxima 5.28 is now out.  See #13364 to check whether it's in.


---

Comment by ppurka created at 2013-02-03 05:23:44

Changing status from new to needs_review.


---

Comment by ppurka created at 2013-02-03 05:23:44

#13364 is in.


---

Comment by ppurka created at 2013-02-03 05:24:01

Changing status from needs_review to positive_review.


---

Comment by mjo created at 2013-02-03 06:45:29

Is there a doctest for this bug in the maxima ticket? If not we should do one here.


---

Attachment

apply to devel/sage


---

Comment by ppurka created at 2013-02-03 08:00:51

Added a doctest.


---

Comment by ppurka created at 2013-02-03 08:00:51

Changing status from positive_review to needs_work.


---

Comment by ppurka created at 2013-02-03 08:01:00

Changing status from needs_work to needs_review.


---

Comment by mjo created at 2013-02-03 15:49:07

Changing status from needs_review to positive_review.


---

Comment by mjo created at 2013-02-03 15:49:07

Maybe put the ticket number in the commit message, but the test looks good.


---

Comment by jdemeyer created at 2013-02-03 17:29:43

Please fill in the Author/Reviewer fields with your real names.


---

Comment by jdemeyer created at 2013-02-05 08:18:33

Resolution: fixed
