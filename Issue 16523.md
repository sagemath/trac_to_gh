# Issue 16523: stopgap for #16759

Issue created by migration from https://trac.sagemath.org/ticket/16760

Original creator: jhpalmieri

Original creation time: 2014-08-05 01:23:06

Here is a stopgap for #16759: turn off `install_package` and print a message after installing a package via `sage -i`.


---

Comment by jdemeyer created at 2014-08-05 07:58:33

I know this is not yet needs_review, but could you move the message

```
"It is a good idea to update the Sage library now: please run 'make' from \$SAGE_ROOT."
```


to `src/bin/sage` at the end of the `install()` function? That way, it will only be shown after an explicit package install (`sage -i` or `sage -f`), but not during the normal build.
----
New commits:


---

Comment by git created at 2014-08-05 14:23:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2014-08-05 14:24:47

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2014-08-05 14:25:49

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jhpalmieri created at 2014-08-05 14:27:20

Changing status from new to needs_review.


---

Comment by jhpalmieri created at 2014-08-05 14:27:20

Good idea. I think I'll mark this as "needs review" now, although I haven't tested it very thoroughly. I'm not even sure it's the right thing to do...


---

Comment by jdemeyer created at 2014-08-05 14:52:40

This is sub-optimal, but I don't think it's a major problem:

```
jdemeyer@tamiyo:/usr/local/src/sage-config$ ./sage -i pexpect
Found local metadata for pexpect-2.0.p6
Found local sources at /usr/local/src/sage-config/upstream/pexpect-2.0.tar.bz2
Package pexpect-2.0.p6 is already installed.
Use 'sage -f /usr/local/src/sage-config/upstream/pexpect-2.0.tar.bz2' to force a reinstallation.

It is a good idea to update the Sage library now: please run 'make' from $SAGE_ROOT.
```



---

Comment by jdemeyer created at 2014-08-05 19:38:24

A bit of a hack, but I think this does the job.

John, if you agree, then it's positive review.
----
New commits:


---

Comment by jhpalmieri created at 2014-08-05 19:56:00

Okay, good enough. (I made one small change on top of your commit: "bij" --> "by" in the comment in `src/bin/sage`.)
----
New commits:


---

Comment by jhpalmieri created at 2014-08-05 19:56:00

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2014-08-06 08:27:23

Replying to [comment:12 jhpalmieri]:
> "bij" --> "by" in the comment in `src/bin/sage`.
Classic mistake: "bij" is a Dutch word...

Upgrading priority, a simple stopgap warrants this.


---

Comment by jdemeyer created at 2014-08-06 08:27:35

Changing priority from major to critical.


---

Comment by vbraun created at 2014-08-06 16:16:28

Resolution: fixed
