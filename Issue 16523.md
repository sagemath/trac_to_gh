# Issue 16523: stopgap for #16759

archive/issues_016523.json:
```json
{
    "body": "Here is a stopgap for #16759: turn off `install_package` and print a message after installing a package via `sage -i`.\n\nIssue created by migration from https://trac.sagemath.org/ticket/16760\n\n",
    "created_at": "2014-08-05T01:23:06Z",
    "labels": [
        "component: packages: standard",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "stopgap for #16759",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16523",
    "user": "https://github.com/jhpalmieri"
}
```
Here is a stopgap for #16759: turn off `install_package` and print a message after installing a package via `sage -i`.

Issue created by migration from https://trac.sagemath.org/ticket/16760





---

archive/issue_comments_217138.json:
```json
{
    "body": "I know this is not yet needs_review, but could you move the message\n\n```\n\"It is a good idea to update the Sage library now: please run 'make' from \\$SAGE_ROOT.\"\n```\n\nto `src/bin/sage` at the end of the `install()` function? That way, it will only be shown after an explicit package install (`sage -i` or `sage -f`), but not during the normal build.\n\n---\nNew commits:",
    "created_at": "2014-08-05T07:58:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16523#issuecomment-217138",
    "user": "https://github.com/jdemeyer"
}
```

I know this is not yet needs_review, but could you move the message

```
"It is a good idea to update the Sage library now: please run 'make' from \$SAGE_ROOT."
```

to `src/bin/sage` at the end of the `install()` function? That way, it will only be shown after an explicit package install (`sage -i` or `sage -f`), but not during the normal build.

---
New commits:



---

archive/issue_comments_217139.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-08-05T14:23:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16523#issuecomment-217139",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_217140.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-08-05T14:24:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16523#issuecomment-217140",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_217141.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-08-05T14:25:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16523#issuecomment-217141",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_217142.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-08-05T14:27:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16523#issuecomment-217142",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_217143.json:
```json
{
    "body": "Good idea. I think I'll mark this as \"needs review\" now, although I haven't tested it very thoroughly. I'm not even sure it's the right thing to do...",
    "created_at": "2014-08-05T14:27:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16523#issuecomment-217143",
    "user": "https://github.com/jhpalmieri"
}
```

Good idea. I think I'll mark this as "needs review" now, although I haven't tested it very thoroughly. I'm not even sure it's the right thing to do...



---

archive/issue_comments_217144.json:
```json
{
    "body": "This is sub-optimal, but I don't think it's a major problem:\n\n```\njdemeyer@tamiyo:/usr/local/src/sage-config$ ./sage -i pexpect\nFound local metadata for pexpect-2.0.p6\nFound local sources at /usr/local/src/sage-config/upstream/pexpect-2.0.tar.bz2\nPackage pexpect-2.0.p6 is already installed.\nUse 'sage -f /usr/local/src/sage-config/upstream/pexpect-2.0.tar.bz2' to force a reinstallation.\n\nIt is a good idea to update the Sage library now: please run 'make' from $SAGE_ROOT.\n```",
    "created_at": "2014-08-05T14:52:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16523#issuecomment-217144",
    "user": "https://github.com/jdemeyer"
}
```

This is sub-optimal, but I don't think it's a major problem:

```
jdemeyer@tamiyo:/usr/local/src/sage-config$ ./sage -i pexpect
Found local metadata for pexpect-2.0.p6
Found local sources at /usr/local/src/sage-config/upstream/pexpect-2.0.tar.bz2
Package pexpect-2.0.p6 is already installed.
Use 'sage -f /usr/local/src/sage-config/upstream/pexpect-2.0.tar.bz2' to force a reinstallation.

It is a good idea to update the Sage library now: please run 'make' from $SAGE_ROOT.
```



---

archive/issue_comments_217145.json:
```json
{
    "body": "A bit of a hack, but I think this does the job.\n\nJohn, if you agree, then it's positive review.\n\n---\nNew commits:",
    "created_at": "2014-08-05T19:38:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16523#issuecomment-217145",
    "user": "https://github.com/jdemeyer"
}
```

A bit of a hack, but I think this does the job.

John, if you agree, then it's positive review.

---
New commits:



---

archive/issue_comments_217146.json:
```json
{
    "body": "Okay, good enough. (I made one small change on top of your commit: \"bij\" --> \"by\" in the comment in `src/bin/sage`.)\n\n---\nNew commits:",
    "created_at": "2014-08-05T19:56:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16523#issuecomment-217146",
    "user": "https://github.com/jhpalmieri"
}
```

Okay, good enough. (I made one small change on top of your commit: "bij" --> "by" in the comment in `src/bin/sage`.)

---
New commits:



---

archive/issue_comments_217147.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-08-05T19:56:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16523#issuecomment-217147",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_217148.json:
```json
{
    "body": "Replying to [comment:12 jhpalmieri]:\n> \"bij\" --> \"by\" in the comment in `src/bin/sage`.\n\nClassic mistake: \"bij\" is a Dutch word...\n\nUpgrading priority, a simple stopgap warrants this.",
    "created_at": "2014-08-06T08:27:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16523#issuecomment-217148",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:12 jhpalmieri]:
> "bij" --> "by" in the comment in `src/bin/sage`.

Classic mistake: "bij" is a Dutch word...

Upgrading priority, a simple stopgap warrants this.



---

archive/issue_comments_217149.json:
```json
{
    "body": "Changing priority from major to critical.",
    "created_at": "2014-08-06T08:27:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16523#issuecomment-217149",
    "user": "https://github.com/jdemeyer"
}
```

Changing priority from major to critical.



---

archive/issue_events_049082.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-08-06T16:16:28Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16523",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16523#event-49082"
}
```



---

archive/issue_comments_217150.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-08-06T16:16:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16523",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16523#issuecomment-217150",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
