# Issue 30740: conversion of string to complex number with sage_eval should be avoided

archive/issues_030740.json:
```json
{
    "body": "At the moment, a string is converted complex number with the aid of `sage_eval`,  however, if the precision of the field  is larger than the precision of the `RealLiteral` this leads to inconsistent results:\n\n```\nsage: R = ComplexField(57)\n....: S = R._real_field()\n....: S(\"-13.59658451496887\") == R(\"-13.59658451496887\").real()\nTrue\nsage: R(\"-13.59658451496887*I\") ==  R(\"-13.59658451496887\")*I\nFalse\nsage: R(\"-13.59658451496887*I\") ==  R(\"0\", \"-13.59658451496887\")\nFalse\nsage: R(\"0\", \"-13.59658451496887\") == R(\"-13.59658451496887\")*I\nTrue\nsage: R(-13.59658451496887*I) == R(\"-13.59658451496887*I\")\nTrue\nsage: (-13.59658451496887*I).parent()\nComplex Field with 54 bits of precision\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/30977\n\n",
    "created_at": "2020-11-30T01:36:59Z",
    "labels": [
        "component: coercion",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "conversion of string to complex number with sage_eval should be avoided",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30740",
    "user": "https://github.com/edgarcosta"
}
```
At the moment, a string is converted complex number with the aid of `sage_eval`,  however, if the precision of the field  is larger than the precision of the `RealLiteral` this leads to inconsistent results:

```
sage: R = ComplexField(57)
....: S = R._real_field()
....: S("-13.59658451496887") == R("-13.59658451496887").real()
True
sage: R("-13.59658451496887*I") ==  R("-13.59658451496887")*I
False
sage: R("-13.59658451496887*I") ==  R("0", "-13.59658451496887")
False
sage: R("0", "-13.59658451496887") == R("-13.59658451496887")*I
True
sage: R(-13.59658451496887*I) == R("-13.59658451496887*I")
True
sage: (-13.59658451496887*I).parent()
Complex Field with 54 bits of precision
```


Issue created by migration from https://trac.sagemath.org/ticket/30977





---

archive/issue_comments_438928.json:
```json
{
    "body": "Setting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30740#issuecomment-438928",
    "user": "https://github.com/mkoeppe"
}
```

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_438929.json:
```json
{
    "body": "I have added the comment from #32129 which was a duplicate of this ticket.",
    "created_at": "2022-05-10T20:25:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30740#issuecomment-438929",
    "user": "https://github.com/mwageringel"
}
```

I have added the comment from #32129 which was a duplicate of this ticket.
