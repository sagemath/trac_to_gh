# Issue 22745: Global function fields

archive/issues_022745.json:
```json
{
    "body": "CC:  jsrn danielaugot @brentbaccala\n\nFunction fields part of Sage has long been neglected and lacks any significant functionality besides basic arithmetic and frameworks. This ticket improves the situation by doing two things:\n\n1. Add global function fields with lots of useful functionality \n\n2. Improve docstrings for existing code\n\nThere are two dependencies: #16561, #22841.\n\nIssue created by migration from https://trac.sagemath.org/ticket/22982\n\n",
    "created_at": "2017-05-11T14:38:28Z",
    "labels": [
        "algebra",
        "major",
        "enhancement"
    ],
    "title": "Global function fields",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22745",
    "user": "klee"
}
```
CC:  jsrn danielaugot @brentbaccala

Function fields part of Sage has long been neglected and lacks any significant functionality besides basic arithmetic and frameworks. This ticket improves the situation by doing two things:

1. Add global function fields with lots of useful functionality 

2. Improve docstrings for existing code

There are two dependencies: #16561, #22841.

Issue created by migration from https://trac.sagemath.org/ticket/22982





---

archive/issue_comments_317575.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2017-05-11T14:42:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317575",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_317576.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-11T21:17:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317576",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317577.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-05-12T13:21:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317577",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317578.json:
```json
{
    "body": "Set assignee to klee.",
    "created_at": "2017-05-30T10:34:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317578",
    "user": "klee"
}
```

Set assignee to klee.



---

archive/issue_comments_317579.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2017-05-30T10:46:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317579",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_317580.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-01T11:33:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317580",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317581.json:
```json
{
    "body": "Changing keywords from \"\" to \"global function field, algebraic geometry code\".",
    "created_at": "2017-06-07T04:20:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317581",
    "user": "klee"
}
```

Changing keywords from "" to "global function field, algebraic geometry code".



---

archive/issue_comments_317582.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2017-06-11T23:33:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317582",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_317583.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-18T12:03:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317583",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317584.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-19T04:28:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317584",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317585.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-20T07:56:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317585",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317586.json:
```json
{
    "body": "A short introduction to global function fields in Sage",
    "created_at": "2017-06-21T07:32:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317586",
    "user": "klee"
}
```

A short introduction to global function fields in Sage



---

archive/issue_comments_317587.json:
```json
{
    "body": "Attachment",
    "created_at": "2017-06-21T07:36:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317587",
    "user": "klee"
}
```

Attachment



---

archive/issue_comments_317588.json:
```json
{
    "body": "It's great to see progress in the function field code. What are your plans for this branch? Are you in contact with the people who were working on divisors recently at Sage Days 86.5?",
    "created_at": "2017-06-22T04:15:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317588",
    "user": "saraedum"
}
```

It's great to see progress in the function field code. What are your plans for this branch? Are you in contact with the people who were working on divisors recently at Sage Days 86.5?



---

archive/issue_comments_317589.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-22T07:25:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317589",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317590.json:
```json
{
    "body": "Replying to [comment:21 saraedum]:\n> What are your plans for this branch? \n\nThe branch is essentially a patch bomb, and is not suitable for a regular review yet. But I see no way to split the code as it consists of several parts dependent on one another. My plan is to have people to play with it for some time, and I do bug fixes and improve documentation until there appears someone who can review the whole code. I don't know how long this procedure would take. Though I want it to be merged to Sage as soon as possible from my heart :-)\n\nI have done this task during my sabbatical year, which is going to end soon. After that, I will not have much time but to maintain the code just not to be bitrotting.\n\n> Are you in contact with the people who were working on divisors recently at Sage Days 86.5?\n\nNo. I won't have time to cooperate with other people.\n\nI looked at their wiki page. It seems that his(?) task in \"basic arithmetic in function fields\" may overlap with what I did here. I implemented fractional ideals in the classical way using hermite normal form while he uses OM representation, about which I know nothing. Practically he may use my branch as a tool/base to experiment and build his system. It seems his approach is more suitable for global function fields defined by more complicated equations. Thus it could be the case that the classical approach and the OM representation approach complement each other.",
    "created_at": "2017-06-22T08:11:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317590",
    "user": "klee"
}
```

Replying to [comment:21 saraedum]:
> What are your plans for this branch? 

The branch is essentially a patch bomb, and is not suitable for a regular review yet. But I see no way to split the code as it consists of several parts dependent on one another. My plan is to have people to play with it for some time, and I do bug fixes and improve documentation until there appears someone who can review the whole code. I don't know how long this procedure would take. Though I want it to be merged to Sage as soon as possible from my heart :-)

I have done this task during my sabbatical year, which is going to end soon. After that, I will not have much time but to maintain the code just not to be bitrotting.

> Are you in contact with the people who were working on divisors recently at Sage Days 86.5?

No. I won't have time to cooperate with other people.

I looked at their wiki page. It seems that his(?) task in "basic arithmetic in function fields" may overlap with what I did here. I implemented fractional ideals in the classical way using hermite normal form while he uses OM representation, about which I know nothing. Practically he may use my branch as a tool/base to experiment and build his system. It seems his approach is more suitable for global function fields defined by more complicated equations. Thus it could be the case that the classical approach and the OM representation approach complement each other.



---

archive/issue_comments_317591.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2017-06-23T08:06:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317591",
    "user": "klee"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_317592.json:
```json
{
    "body": "Some docstrings are not in good style.",
    "created_at": "2017-06-23T08:12:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317592",
    "user": "klee"
}
```

Some docstrings are not in good style.



---

archive/issue_comments_317593.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2017-06-23T08:12:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317593",
    "user": "klee"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_317594.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-25T07:47:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317594",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317595.json:
```json
{
    "body": "Great that you are working on this! This is something I also really want in Sage - I will try to play around with your implementation and provide feedback when I can.",
    "created_at": "2017-06-26T15:20:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317595",
    "user": "jsrn"
}
```

Great that you are working on this! This is something I also really want in Sage - I will try to play around with your implementation and provide feedback when I can.



---

archive/issue_comments_317596.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-06-30T06:51:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317596",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317597.json:
```json
{
    "body": "There remains a call to cmp, not compatible with python3 (see patchbot report)",
    "created_at": "2017-07-31T10:07:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317597",
    "user": "chapoton"
}
```

There remains a call to cmp, not compatible with python3 (see patchbot report)



---

archive/issue_comments_317598.json:
```json
{
    "body": "Replying to [comment:27 jsrn]:\n> Great that you are working on this! This is something I also really want in Sage - I will try to play around with your implementation and provide feedback when I can.\n\nYes this is great ! Thank you for this. I will try this and tell the news to colleagues. If it is good, it should be integrated in Sage, even if reviewing the ticket takes time.",
    "created_at": "2017-08-03T18:42:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317598",
    "user": "danielaugot"
}
```

Replying to [comment:27 jsrn]:
> Great that you are working on this! This is something I also really want in Sage - I will try to play around with your implementation and provide feedback when I can.

Yes this is great ! Thank you for this. I will try this and tell the news to colleagues. If it is good, it should be integrated in Sage, even if reviewing the ticket takes time.



---

archive/issue_comments_317599.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-04T05:38:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317599",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317600.json:
```json
{
    "body": "Replying to [comment:31 danielaugot]:\n> If it is good, it should be integrated in Sage, even if reviewing the ticket takes time.\n\nCompared with Magma, the biggest problem is speed. I worked hard to improve this, but I guess there is still wide room for improvement, though certainly there is a limit somewhere due to Python vs C.",
    "created_at": "2017-08-04T06:17:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317600",
    "user": "klee"
}
```

Replying to [comment:31 danielaugot]:
> If it is good, it should be integrated in Sage, even if reviewing the ticket takes time.

Compared with Magma, the biggest problem is speed. I worked hard to improve this, but I guess there is still wide room for improvement, though certainly there is a limit somewhere due to Python vs C.



---

archive/issue_comments_317601.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-08-09T01:09:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317601",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317602.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-09-07T04:34:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317602",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317603.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-09-12T04:39:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317603",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317604.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-09T00:02:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317604",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317605.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-19T00:15:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317605",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317606.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-23T02:24:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317606",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317607.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2017-11-25T02:21:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317607",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_317608.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-12-12T01:15:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317608",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317609.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-12-12T06:56:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317609",
    "user": "klee"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_317610.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-12-13T17:28:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317610",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317611.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-12-25T20:13:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317611",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317612.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-04T07:13:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317612",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317613.json:
```json
{
    "body": "Perhaps it would be a good thing to quickly merge this branch to Sage, so that more people try it and we have more chances to fix and improve this part of Sage...",
    "created_at": "2018-01-04T07:26:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317613",
    "user": "klee"
}
```

Perhaps it would be a good thing to quickly merge this branch to Sage, so that more people try it and we have more chances to fix and improve this part of Sage...



---

archive/issue_comments_317614.json:
```json
{
    "body": "Replying to [comment:49 klee]:\n> Perhaps it would be a good thing to quickly merge this branch to Sage, so that more people try it and we have more chances to fix and improve this part of Sage...\n\nHi Kwankyu,\nI really appreciate your massive effort here, but I don't think it is realistic that this patch bomb will get quickly merged. Bugs are much better fixed before being introduced into Sage. Why is it not possible to break this ticket into a number of smaller ones? Each one can then be reviewed with the proper care. Some tickets could basically contain just the class structure of some object, while complicated algorithms for a specific task could be tickets by themselves. Possibly keeping this ticket as a wontfix reference ticket, reviewers of the smaller ones can see what your aim is. You could give an overview of the set of tickets on a dedicated subpage on the wiki. \n\nI want to help out with testing and reviewing, but I don't see any time that I could take out 2 weeks straight to review this beast...\n\nBest,\nJohan",
    "created_at": "2018-01-04T09:07:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317614",
    "user": "jsrn"
}
```

Replying to [comment:49 klee]:
> Perhaps it would be a good thing to quickly merge this branch to Sage, so that more people try it and we have more chances to fix and improve this part of Sage...

Hi Kwankyu,
I really appreciate your massive effort here, but I don't think it is realistic that this patch bomb will get quickly merged. Bugs are much better fixed before being introduced into Sage. Why is it not possible to break this ticket into a number of smaller ones? Each one can then be reviewed with the proper care. Some tickets could basically contain just the class structure of some object, while complicated algorithms for a specific task could be tickets by themselves. Possibly keeping this ticket as a wontfix reference ticket, reviewers of the smaller ones can see what your aim is. You could give an overview of the set of tickets on a dedicated subpage on the wiki. 

I want to help out with testing and reviewing, but I don't see any time that I could take out 2 weeks straight to review this beast...

Best,
Johan



---

archive/issue_comments_317615.json:
```json
{
    "body": "Replying to [comment:50 jsrn]:\n> Replying to [comment:49 klee]:\n> > Perhaps it would be a good thing to quickly merge this branch to Sage, so that more people try it and we have more chances to fix and improve this part of Sage...\n> \n> Hi Kwankyu,\n> I really appreciate your massive effort here, but I don't think it is realistic that this patch bomb will get quickly merged. Bugs are much better fixed before being introduced into Sage. Why is it not possible to break this ticket into a number of smaller ones? Each one can then be reviewed with the proper care. Some tickets could basically contain just the class structure of some object, while complicated algorithms for a specific task could be tickets by themselves. Possibly keeping this ticket as a wontfix reference ticket, reviewers of the smaller ones can see what your aim is. You could give an overview of the set of tickets on a dedicated subpage on the wiki. \n\nThanks for the comments, Johan. You are right. That is what should happen, as no reviewer wants to swallow a patch bomb.\n\nI really had no idea about how to spend a pleasant time splitting the big code, which seems an organic whole, into smaller chunks, even with my humble git skill. \n\nSo while having dinner, I thought about this problem. And now I think I can do something about it. It seems I have to plan carefully before making tickets. \n\n> I want to help out with testing and reviewing, but I don't see any time that I could take out 2 weeks straight to review this beast...\n\nLet me spend some days to plan this out, so that you won't be deprived of 2 weeks straight :-)",
    "created_at": "2018-01-04T11:27:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317615",
    "user": "klee"
}
```

Replying to [comment:50 jsrn]:
> Replying to [comment:49 klee]:
> > Perhaps it would be a good thing to quickly merge this branch to Sage, so that more people try it and we have more chances to fix and improve this part of Sage...
> 
> Hi Kwankyu,
> I really appreciate your massive effort here, but I don't think it is realistic that this patch bomb will get quickly merged. Bugs are much better fixed before being introduced into Sage. Why is it not possible to break this ticket into a number of smaller ones? Each one can then be reviewed with the proper care. Some tickets could basically contain just the class structure of some object, while complicated algorithms for a specific task could be tickets by themselves. Possibly keeping this ticket as a wontfix reference ticket, reviewers of the smaller ones can see what your aim is. You could give an overview of the set of tickets on a dedicated subpage on the wiki. 

Thanks for the comments, Johan. You are right. That is what should happen, as no reviewer wants to swallow a patch bomb.

I really had no idea about how to spend a pleasant time splitting the big code, which seems an organic whole, into smaller chunks, even with my humble git skill. 

So while having dinner, I thought about this problem. And now I think I can do something about it. It seems I have to plan carefully before making tickets. 

> I want to help out with testing and reviewing, but I don't see any time that I could take out 2 weeks straight to review this beast...

Let me spend some days to plan this out, so that you won't be deprived of 2 weeks straight :-)



---

archive/issue_comments_317616.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-01-04T11:27:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317616",
    "user": "klee"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_317617.json:
```json
{
    "body": "That sounds great :-) Realistically, I won't have much time in most of January (important conference deadlines), but I hope to have some time for smaller tickets in February. You should probably expect that getting all of the functionality of this ticket into Sage will take quite a while, though. \n\nSome tips from my experience with implementing coding theory during the \"ACTIS project\": expect that the review process will cause the design to change, and later tickets can be lightly or massively impacted. If you cut this ticket into, say 10 tickets, then consider not setting up all 10 tickets at once with full dependency lattice. The later tickets won't be looked at before the early ones, and each single change to an early ticket would have to propagate down, causing lots of extra work and headache.\n\nBest,\nJohan",
    "created_at": "2018-01-04T13:41:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317617",
    "user": "jsrn"
}
```

That sounds great :-) Realistically, I won't have much time in most of January (important conference deadlines), but I hope to have some time for smaller tickets in February. You should probably expect that getting all of the functionality of this ticket into Sage will take quite a while, though. 

Some tips from my experience with implementing coding theory during the "ACTIS project": expect that the review process will cause the design to change, and later tickets can be lightly or massively impacted. If you cut this ticket into, say 10 tickets, then consider not setting up all 10 tickets at once with full dependency lattice. The later tickets won't be looked at before the early ones, and each single change to an early ticket would have to propagate down, causing lots of extra work and headache.

Best,
Johan



---

archive/issue_comments_317618.json:
```json
{
    "body": "Replying to [comment:53 jsrn]:\n> That sounds great :-) Realistically, I won't have much time in most of January (important conference deadlines), but I hope to have some time for smaller tickets in February. You should probably expect that getting all of the functionality of this ticket into Sage will take quite a while, though. \n\nI don't intend to rush. Don't worry.\n\n> Some tips from my experience with implementing coding theory during the \"ACTIS project\": expect that the review process will cause the design to change, and later tickets can be lightly or massively impacted. If you cut this ticket into, say 10 tickets, then consider not setting up all 10 tickets at once with full dependency lattice. The later tickets won't be looked at before the early ones, and each single change to an early ticket would have to propagate down, causing lots of extra work and headache.\n\nRight. Thanks for the tips. Let's see :-)",
    "created_at": "2018-01-04T14:34:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317618",
    "user": "klee"
}
```

Replying to [comment:53 jsrn]:
> That sounds great :-) Realistically, I won't have much time in most of January (important conference deadlines), but I hope to have some time for smaller tickets in February. You should probably expect that getting all of the functionality of this ticket into Sage will take quite a while, though. 

I don't intend to rush. Don't worry.

> Some tips from my experience with implementing coding theory during the "ACTIS project": expect that the review process will cause the design to change, and later tickets can be lightly or massively impacted. If you cut this ticket into, say 10 tickets, then consider not setting up all 10 tickets at once with full dependency lattice. The later tickets won't be looked at before the early ones, and each single change to an early ticket would have to propagate down, causing lots of extra work and headache.

Right. Thanks for the tips. Let's see :-)



---

archive/issue_comments_317619.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-01-23T07:17:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317619",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_317620.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2018-01-25T07:17:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317620",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_317621.json:
```json
{
    "body": "Is there a current branch for this ticket?  `u/klee/22982` seems to have been deleted and then recreated.",
    "created_at": "2018-05-06T04:46:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317621",
    "user": "@BrentBaccala"
}
```

Is there a current branch for this ticket?  `u/klee/22982` seems to have been deleted and then recreated.



---

archive/issue_comments_317622.json:
```json
{
    "body": "Replying to [comment:61 gh-BrentBaccala]:\n> Is there a current branch for this ticket?  `u/klee/22982` seems to have been deleted and then recreated.\n\nIt was deleted as it would be broken into several small patches to facilitate easy review. The whole patch working with the latest stable Sage is available as `u/klee/22982_stable`.",
    "created_at": "2018-05-09T05:01:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317622",
    "user": "klee"
}
```

Replying to [comment:61 gh-BrentBaccala]:
> Is there a current branch for this ticket?  `u/klee/22982` seems to have been deleted and then recreated.

It was deleted as it would be broken into several small patches to facilitate easy review. The whole patch working with the latest stable Sage is available as `u/klee/22982_stable`.



---

archive/issue_comments_317623.json:
```json
{
    "body": "Replying to [comment:63 klee]:\n> Replying to [comment:61 gh-BrentBaccala]:\n> > Is there a current branch for this ticket?  `u/klee/22982` seems to have been deleted and then recreated.\n> \n> It was deleted as it would be broken into several small patches to facilitate easy review. The whole patch working with the latest stable Sage is available as `u/klee/22982_stable`. \n> \n\nI'd like to get the divisor basis code (the Hess algorithm) working with function fields over QQ (and QQbar), but I'll wait until this patch gets incorporated into the main branch before trying to add to it.",
    "created_at": "2018-05-09T15:45:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317623",
    "user": "@BrentBaccala"
}
```

Replying to [comment:63 klee]:
> Replying to [comment:61 gh-BrentBaccala]:
> > Is there a current branch for this ticket?  `u/klee/22982` seems to have been deleted and then recreated.
> 
> It was deleted as it would be broken into several small patches to facilitate easy review. The whole patch working with the latest stable Sage is available as `u/klee/22982_stable`. 
> 

I'd like to get the divisor basis code (the Hess algorithm) working with function fields over QQ (and QQbar), but I'll wait until this patch gets incorporated into the main branch before trying to add to it.



---

archive/issue_comments_317624.json:
```json
{
    "body": "Replying to [comment:64 gh-BrentBaccala]:\n> I'd like to get the divisor basis code (the Hess algorithm) working with function fields over QQ (and QQbar), but I'll wait until this patch gets incorporated into the main branch before trying to add to it.\n\nThat would be great. I guess that a crucial step for your aim is to compute the (finite) maximal order, and perhaps also to factor ideals in the order. After that, most of the code in this patch would just carry over. In particular, the Hess algorithm code in this patch would work over Q. \n\nThe current pace of merging this patch to Sage is very slow though. I will think about a least painful way to provide this patch so that you can base your code on this patch.",
    "created_at": "2018-05-10T00:53:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317624",
    "user": "klee"
}
```

Replying to [comment:64 gh-BrentBaccala]:
> I'd like to get the divisor basis code (the Hess algorithm) working with function fields over QQ (and QQbar), but I'll wait until this patch gets incorporated into the main branch before trying to add to it.

That would be great. I guess that a crucial step for your aim is to compute the (finite) maximal order, and perhaps also to factor ideals in the order. After that, most of the code in this patch would just carry over. In particular, the Hess algorithm code in this patch would work over Q. 

The current pace of merging this patch to Sage is very slow though. I will think about a least painful way to provide this patch so that you can base your code on this patch.



---

archive/issue_comments_317625.json:
```json
{
    "body": "Replying to [comment:63 klee]:\n> The whole patch working with the latest stable Sage is available as `u/klee/22982_stable`. \n> \n\nI suggest double-checking that.  There's a lot of diffs between `u/klee/22982_stable` and `8.2`.",
    "created_at": "2018-05-16T23:56:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317625",
    "user": "@BrentBaccala"
}
```

Replying to [comment:63 klee]:
> The whole patch working with the latest stable Sage is available as `u/klee/22982_stable`. 
> 

I suggest double-checking that.  There's a lot of diffs between `u/klee/22982_stable` and `8.2`.



---

archive/issue_comments_317626.json:
```json
{
    "body": "Replying to [comment:66 gh-BrentBaccala]:\n> Replying to [comment:63 klee]:\n> > The whole patch working with the latest stable Sage is available as `u/klee/22982_stable`. \n> > \n> \n> I suggest double-checking that.  There's a lot of diffs between `u/klee/22982_stable` and `8.2`.\n\nThanks!",
    "created_at": "2018-05-17T04:25:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317626",
    "user": "klee"
}
```

Replying to [comment:66 gh-BrentBaccala]:
> Replying to [comment:63 klee]:
> > The whole patch working with the latest stable Sage is available as `u/klee/22982_stable`. 
> > 
> 
> I suggest double-checking that.  There's a lot of diffs between `u/klee/22982_stable` and `8.2`.

Thanks!



---

archive/issue_comments_317627.json:
```json
{
    "body": "Replying to [comment:66 gh-BrentBaccala]:\n> Replying to [comment:63 klee]:\n> > The whole patch working with the latest stable Sage is available as `u/klee/22982_stable`. \n> > \n> \n> I suggest double-checking that.  There's a lot of diffs between `u/klee/22982_stable` and `8.2`.\n\nNow corrected.",
    "created_at": "2018-05-17T04:27:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317627",
    "user": "klee"
}
```

Replying to [comment:66 gh-BrentBaccala]:
> Replying to [comment:63 klee]:
> > The whole patch working with the latest stable Sage is available as `u/klee/22982_stable`. 
> > 
> 
> I suggest double-checking that.  There's a lot of diffs between `u/klee/22982_stable` and `8.2`.

Now corrected.



---

archive/issue_comments_317628.json:
```json
{
    "body": "Replying to [comment:68 klee]: \n> Now corrected.\n\nLooks good!\n\nSuggestion:\n\nIn the documentation for class `FunctionFieldPlace`, `prime` is defined as \"prime ideal associated with the place\".  I assume this means a prime ideal of an order (as opposed to an ideal of the coordinate ring).  I suggest documenting that more clearly, and perhaps checking when an instance is created if it's the right kind of ideal and throwing an exception otherwise.\n\nI can see someone trying to do this:\n\n\n```\nsage: R.<x,y> = QQ[]\nsage: C = Curve(y^2-x^3-1)\n\nsage: FunctionFieldPlace(R*(x-2,y-3))\n```\n\n\nor more sensibly this:\n\n\n```\nsage: R.<x,y,z> = QQ[]\nsage: C = Curve((y^2-x^3-1).homogenize(z))\n\nsage: FunctionFieldPlace(R*(x-2,y-3).homogenize(z))\n```\n\n\nAlso, is there a way to construct a `FunctionField` from a `Curve`?",
    "created_at": "2018-05-17T22:07:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317628",
    "user": "@BrentBaccala"
}
```

Replying to [comment:68 klee]: 
> Now corrected.

Looks good!

Suggestion:

In the documentation for class `FunctionFieldPlace`, `prime` is defined as "prime ideal associated with the place".  I assume this means a prime ideal of an order (as opposed to an ideal of the coordinate ring).  I suggest documenting that more clearly, and perhaps checking when an instance is created if it's the right kind of ideal and throwing an exception otherwise.

I can see someone trying to do this:


```
sage: R.<x,y> = QQ[]
sage: C = Curve(y^2-x^3-1)

sage: FunctionFieldPlace(R*(x-2,y-3))
```


or more sensibly this:


```
sage: R.<x,y,z> = QQ[]
sage: C = Curve((y^2-x^3-1).homogenize(z))

sage: FunctionFieldPlace(R*(x-2,y-3).homogenize(z))
```


Also, is there a way to construct a `FunctionField` from a `Curve`?



---

archive/issue_comments_317629.json:
```json
{
    "body": "Replying to [comment:69 gh-BrentBaccala]:\n> Replying to [comment:68 klee]: \n> > Now corrected.\n> \n> Looks good!\n> \n> Suggestion:\n> \n> In the documentation for class `FunctionFieldPlace`, `prime` is defined as \"prime ideal associated with the place\".  I assume this means a prime ideal of an order (as opposed to an ideal of the coordinate ring).  I suggest documenting that more clearly, and perhaps checking when an instance is created if it's the right kind of ideal and throwing an exception otherwise.\n> \n> I can see someone trying to do this:\n> \n> {{{\n> sage: R.<x,y> = QQ[]\n> sage: C = Curve(y<sup>2-x</sup>3-1)\n> \n> sage: FunctionFieldPlace(R*(x-2,y-3))\n> }}}\n\nFor a function field, there is no coordinate ring, and you are not supposed to use the class `FunctionFieldPlace` directly, just like you use the constructor `Curve` rather than a  curve class.\n\n> or more sensibly this:\n> \n> {{{\n> sage: R.<x,y,z> = QQ[]\n> sage: C = Curve((y<sup>2-x</sup>3-1).homogenize(z))\n> \n> sage: FunctionFieldPlace(R*(x-2,y-3).homogenize(z))\n> }}}\n> \n> Also, is there a way to construct a `FunctionField` from a `Curve`?\n\nThe function field code is not yet integrated with the curve code. This is something to be done later.",
    "created_at": "2018-05-18T11:36:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317629",
    "user": "klee"
}
```

Replying to [comment:69 gh-BrentBaccala]:
> Replying to [comment:68 klee]: 
> > Now corrected.
> 
> Looks good!
> 
> Suggestion:
> 
> In the documentation for class `FunctionFieldPlace`, `prime` is defined as "prime ideal associated with the place".  I assume this means a prime ideal of an order (as opposed to an ideal of the coordinate ring).  I suggest documenting that more clearly, and perhaps checking when an instance is created if it's the right kind of ideal and throwing an exception otherwise.
> 
> I can see someone trying to do this:
> 
> {{{
> sage: R.<x,y> = QQ[]
> sage: C = Curve(y<sup>2-x</sup>3-1)
> 
> sage: FunctionFieldPlace(R*(x-2,y-3))
> }}}

For a function field, there is no coordinate ring, and you are not supposed to use the class `FunctionFieldPlace` directly, just like you use the constructor `Curve` rather than a  curve class.

> or more sensibly this:
> 
> {{{
> sage: R.<x,y,z> = QQ[]
> sage: C = Curve((y<sup>2-x</sup>3-1).homogenize(z))
> 
> sage: FunctionFieldPlace(R*(x-2,y-3).homogenize(z))
> }}}
> 
> Also, is there a way to construct a `FunctionField` from a `Curve`?

The function field code is not yet integrated with the curve code. This is something to be done later.



---

archive/issue_comments_317630.json:
```json
{
    "body": "Replying to [comment:70 klee]:\n\n> The function field code is not yet integrated with the curve code. This is something to be done later.\n\nCould we discuss that a bit, since that's a major use case and might affect how the code is designed?\n\nThere's two common things to do with a place on a curve that don't seem very easy with the current code:\n\n1. get the coordinates of the point under the place\n\n   We've got `place_below` in `FFP_Global`, that I think should get us to a prime ideal in the coordinate ring, and from there we can get to coordinates of the point, but I don't see anything more straightforward than that\n\n2. compute a series expansion of a function in terms of a uniformizing variable\n\n   We got `local_uniformizer` in `FFP_Rational`, that returns a uniformizing variable, but I don't think there's a method to do a series expansion\n\nAlso, what's the difference between a global place and a rational place?",
    "created_at": "2018-05-18T23:35:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317630",
    "user": "@BrentBaccala"
}
```

Replying to [comment:70 klee]:

> The function field code is not yet integrated with the curve code. This is something to be done later.

Could we discuss that a bit, since that's a major use case and might affect how the code is designed?

There's two common things to do with a place on a curve that don't seem very easy with the current code:

1. get the coordinates of the point under the place

   We've got `place_below` in `FFP_Global`, that I think should get us to a prime ideal in the coordinate ring, and from there we can get to coordinates of the point, but I don't see anything more straightforward than that

2. compute a series expansion of a function in terms of a uniformizing variable

   We got `local_uniformizer` in `FFP_Rational`, that returns a uniformizing variable, but I don't think there's a method to do a series expansion

Also, what's the difference between a global place and a rational place?



---

archive/issue_comments_317631.json:
```json
{
    "body": "Replying to [comment:71 gh-BrentBaccala]:\n> Replying to [comment:70 klee]:\n> \n> > The function field code is not yet integrated with the curve code. This is something to be done later.\n> \n> Could we discuss that a bit, since that's a major use case and might affect how the code is designed?\n> \n> There's two common things to do with a place on a curve that don't seem very easy with the current code:\n> \n> 1. get the coordinates of the point under the place\n\nThis would be part of the code integrating a curve with its function field.\n\n>    We've got `place_below` in `FFP_Global`, that I think should get us to a prime ideal in the coordinate ring, and from there we can get to coordinates of the point, but I don't see anything more straightforward than that.\n\nNo. `place_below` is nothing to do with the coordinate ring. A function field is an extension of a rational function field. `place below` return the place of the rational function field below a place of the function field.\n\n> 2. compute a series expansion of a function in terms of a uniformizing variable\n> \n>    We got `local_uniformizer` in `FFP_Rational`, that returns a uniformizing variable, but I don't think there's a method to do a series expansion\n\nI recommend you to read the attached pdf for short introduction to the function field code. Yes, there is a method for series expansion of functions at a place.\n\n> Also, what's the difference between a global place and a rational place?\n\nYou seem to mean places of global function fields and places of rational function fields.\n\nIf you consult Stichtenoth's book Algebraic Function Fields and Codes, then you would be better prepared to understand and use the function field code of this ticket. That book also explains how curve and function field are related.",
    "created_at": "2018-05-19T07:06:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317631",
    "user": "klee"
}
```

Replying to [comment:71 gh-BrentBaccala]:
> Replying to [comment:70 klee]:
> 
> > The function field code is not yet integrated with the curve code. This is something to be done later.
> 
> Could we discuss that a bit, since that's a major use case and might affect how the code is designed?
> 
> There's two common things to do with a place on a curve that don't seem very easy with the current code:
> 
> 1. get the coordinates of the point under the place

This would be part of the code integrating a curve with its function field.

>    We've got `place_below` in `FFP_Global`, that I think should get us to a prime ideal in the coordinate ring, and from there we can get to coordinates of the point, but I don't see anything more straightforward than that.

No. `place_below` is nothing to do with the coordinate ring. A function field is an extension of a rational function field. `place below` return the place of the rational function field below a place of the function field.

> 2. compute a series expansion of a function in terms of a uniformizing variable
> 
>    We got `local_uniformizer` in `FFP_Rational`, that returns a uniformizing variable, but I don't think there's a method to do a series expansion

I recommend you to read the attached pdf for short introduction to the function field code. Yes, there is a method for series expansion of functions at a place.

> Also, what's the difference between a global place and a rational place?

You seem to mean places of global function fields and places of rational function fields.

If you consult Stichtenoth's book Algebraic Function Fields and Codes, then you would be better prepared to understand and use the function field code of this ticket. That book also explains how curve and function field are related.



---

archive/issue_comments_317632.json:
```json
{
    "body": "There are some changes that I'm considering making here:\n\n1. some doctest failures, due mostly to packages being renamed\n\n2. a Kash interface to implement a lot of these functions (probably selected with `implementation='kash'`)\n\nShould I make those changes to this ticket?  Change this git branch to be public?  Or is there something else you'd suggest?",
    "created_at": "2018-05-27T17:47:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317632",
    "user": "@BrentBaccala"
}
```

There are some changes that I'm considering making here:

1. some doctest failures, due mostly to packages being renamed

2. a Kash interface to implement a lot of these functions (probably selected with `implementation='kash'`)

Should I make those changes to this ticket?  Change this git branch to be public?  Or is there something else you'd suggest?



---

archive/issue_comments_317633.json:
```json
{
    "body": "Replying to [comment:72 klee]:\n> Replying to [comment:71 gh-BrentBaccala]:\n> \n> > 2. compute a series expansion of a function in terms of a uniformizing variable\n> > \n> >    We got `local_uniformizer` in `FFP_Rational`, that returns a uniformizing variable, but I don't think there's a method to do a series expansion\n> \n> I recommend you to read the attached pdf for short introduction to the function field code. Yes, there is a method for series expansion of functions at a place.\n\nI read through the PDF, and I'm sorry, I don't see the method for series expansion.  Could you please point it out to me?",
    "created_at": "2018-05-27T17:49:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317633",
    "user": "@BrentBaccala"
}
```

Replying to [comment:72 klee]:
> Replying to [comment:71 gh-BrentBaccala]:
> 
> > 2. compute a series expansion of a function in terms of a uniformizing variable
> > 
> >    We got `local_uniformizer` in `FFP_Rational`, that returns a uniformizing variable, but I don't think there's a method to do a series expansion
> 
> I recommend you to read the attached pdf for short introduction to the function field code. Yes, there is a method for series expansion of functions at a place.

I read through the PDF, and I'm sorry, I don't see the method for series expansion.  Could you please point it out to me?



---

archive/issue_comments_317634.json:
```json
{
    "body": "Replying to [comment:76 gh-BrentBaccala]:\n> There are some changes that I'm considering making here:\n> \n> 1. some doctest failures, due mostly to packages being renamed\n\nI guess you mean doctest failures in the stable branch of this ticket. The branch is provided for those who may want to try the global function field code before a full merge of the code to Sage, which would take quite some time. You should expect that it is not completely \"stable\", though I put some efforts to make it so.\n\nActual long-term merge process is going on through the child tickets as described in the ticket description. So all necessary fixes would go to the branches in the child tickets.\n> \n> 2. a Kash interface to implement a lot of these functions (probably selected with `implementation='kash'`)\n\nThe proper parameter name for that is \"algorithm\" in Sage.\n\n> Should I make those changes to this ticket?  Change this git branch to be public?  \n\nNo. Sage development occurs incrementally. You should base your code on either the Sage develop branch or possibly a branch of other ticket. For that, you create your own ticket. It is possible that you make your branch from a branch of some child ticket of the present ticket. In that case, you have to fill the dependencies field of your ticket.",
    "created_at": "2018-05-28T00:29:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317634",
    "user": "klee"
}
```

Replying to [comment:76 gh-BrentBaccala]:
> There are some changes that I'm considering making here:
> 
> 1. some doctest failures, due mostly to packages being renamed

I guess you mean doctest failures in the stable branch of this ticket. The branch is provided for those who may want to try the global function field code before a full merge of the code to Sage, which would take quite some time. You should expect that it is not completely "stable", though I put some efforts to make it so.

Actual long-term merge process is going on through the child tickets as described in the ticket description. So all necessary fixes would go to the branches in the child tickets.
> 
> 2. a Kash interface to implement a lot of these functions (probably selected with `implementation='kash'`)

The proper parameter name for that is "algorithm" in Sage.

> Should I make those changes to this ticket?  Change this git branch to be public?  

No. Sage development occurs incrementally. You should base your code on either the Sage develop branch or possibly a branch of other ticket. For that, you create your own ticket. It is possible that you make your branch from a branch of some child ticket of the present ticket. In that case, you have to fill the dependencies field of your ticket.



---

archive/issue_comments_317635.json:
```json
{
    "body": "Replying to [comment:77 gh-BrentBaccala]:\n> Replying to [comment:72 klee]:\n> > Replying to [comment:71 gh-BrentBaccala]:\n> > \n> > > 2. compute a series expansion of a function in terms of a uniformizing variable\n> > > \n> > >    We got `local_uniformizer` in `FFP_Rational`, that returns a uniformizing variable, but I don't think there's a method to do a series expansion\n> > \n> > I recommend you to read the attached pdf for short introduction to the function field code. Yes, there is a method for series expansion of functions at a place.\n> \n> I read through the PDF, and I'm sorry, I don't see the method for series expansion.  Could you please point it out to me?\n\nThe pdf is for a general introduction. For documentation, you should consult the Sage reference manual. Check out the \"completion\" method of function fields.",
    "created_at": "2018-05-28T00:33:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317635",
    "user": "klee"
}
```

Replying to [comment:77 gh-BrentBaccala]:
> Replying to [comment:72 klee]:
> > Replying to [comment:71 gh-BrentBaccala]:
> > 
> > > 2. compute a series expansion of a function in terms of a uniformizing variable
> > > 
> > >    We got `local_uniformizer` in `FFP_Rational`, that returns a uniformizing variable, but I don't think there's a method to do a series expansion
> > 
> > I recommend you to read the attached pdf for short introduction to the function field code. Yes, there is a method for series expansion of functions at a place.
> 
> I read through the PDF, and I'm sorry, I don't see the method for series expansion.  Could you please point it out to me?

The pdf is for a general introduction. For documentation, you should consult the Sage reference manual. Check out the "completion" method of function fields.



---

archive/issue_comments_317636.json:
```json
{
    "body": "I've created a new ticket #25494 that (partially) implements function fields using `kash`.  Both prime finite fields and QQ are supported as the underlying constant field (no algebraic extensions of them, though).  A lot of the methods aren't implemented, but enough are done to allow Riemann-Roch basis calculations:\n\n\n```\nsage: F.<x> = FunctionField(QQ, implementation='kash')\nsage: R.<Y> = F[]\nsage: L.<y> = F.extension(Y^2 - x^8 - 1)\nsage: O = L.maximal_order()\nsage: I = O.ideal(x, y-1)\nsage: P = I.place()\nsage: D = P.divisor()\nsage: D.basis_function_space()\n[1]\nsage: (4*D).basis_function_space()\n[1, 1/x^4*y + 1/x^4]\n```\n\n\nIt actually uses Kwankyu Lee's Sage implementation of the Hess algorithm.  Although kash implements the Hess algorithm, it turns out that klee's code works fine; all that kash is needed for is constructing and manipulating orders and ideals.\n\nSince `kash` is closed source, and doesn't support anything like `QQbar` (a major need for my application), this code is probably only useful to verify our results.  We still need a native Sage implementation.\n\nWould you like to add a link to #25494 on this ticket's description?",
    "created_at": "2018-06-22T23:43:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317636",
    "user": "@BrentBaccala"
}
```

I've created a new ticket #25494 that (partially) implements function fields using `kash`.  Both prime finite fields and QQ are supported as the underlying constant field (no algebraic extensions of them, though).  A lot of the methods aren't implemented, but enough are done to allow Riemann-Roch basis calculations:


```
sage: F.<x> = FunctionField(QQ, implementation='kash')
sage: R.<Y> = F[]
sage: L.<y> = F.extension(Y^2 - x^8 - 1)
sage: O = L.maximal_order()
sage: I = O.ideal(x, y-1)
sage: P = I.place()
sage: D = P.divisor()
sage: D.basis_function_space()
[1]
sage: (4*D).basis_function_space()
[1, 1/x^4*y + 1/x^4]
```


It actually uses Kwankyu Lee's Sage implementation of the Hess algorithm.  Although kash implements the Hess algorithm, it turns out that klee's code works fine; all that kash is needed for is constructing and manipulating orders and ideals.

Since `kash` is closed source, and doesn't support anything like `QQbar` (a major need for my application), this code is probably only useful to verify our results.  We still need a native Sage implementation.

Would you like to add a link to #25494 on this ticket's description?



---

archive/issue_comments_317637.json:
```json
{
    "body": "Some of #25494's code should probably be merged into #22982.  The commit labeled \"refactor divisor methods\" moves the `divisor`, `divisor_of_zeros`, and `divisor_of_poles` methods into superclasses.  Is there a reason not to do this?  It avoids some code duplication.",
    "created_at": "2018-06-22T23:56:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317637",
    "user": "@BrentBaccala"
}
```

Some of #25494's code should probably be merged into #22982.  The commit labeled "refactor divisor methods" moves the `divisor`, `divisor_of_zeros`, and `divisor_of_poles` methods into superclasses.  Is there a reason not to do this?  It avoids some code duplication.



---

archive/issue_comments_317638.json:
```json
{
    "body": "Also, what is the `gens` method supposed to do for ideals?  Looking at the test cases in `ideal.py`, it seems like it returns some kind of basis.  My version just returns the generators used to create the ideal, and `basis` needs to be called for an actual basis.  Which is correct?",
    "created_at": "2018-06-22T23:59:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317638",
    "user": "@BrentBaccala"
}
```

Also, what is the `gens` method supposed to do for ideals?  Looking at the test cases in `ideal.py`, it seems like it returns some kind of basis.  My version just returns the generators used to create the ideal, and `basis` needs to be called for an actual basis.  Which is correct?



---

archive/issue_comments_317639.json:
```json
{
    "body": "Replying to [comment:80 gh-BrentBaccala]:\n> Would you like to add a link to #25494 on this ticket's description?\n\nNo, it should be the other way around. I mean that #25494 should contain a link to this ticket if it depends on this ticket.",
    "created_at": "2018-06-23T01:11:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317639",
    "user": "klee"
}
```

Replying to [comment:80 gh-BrentBaccala]:
> Would you like to add a link to #25494 on this ticket's description?

No, it should be the other way around. I mean that #25494 should contain a link to this ticket if it depends on this ticket.



---

archive/issue_comments_317640.json:
```json
{
    "body": "Replying to [comment:82 gh-BrentBaccala]:\n> Also, what is the `gens` method supposed to do for ideals?  Looking at the test cases in `ideal.py`, it seems like it returns some kind of basis.  My version just returns the generators used to create the ideal, and `basis` needs to be called for an actual basis.  Which is correct?\n\nThis comment should be addressed to #25435. Also you could be more specific in your question; `gens` method of what class do you mean?",
    "created_at": "2018-06-23T01:21:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317640",
    "user": "klee"
}
```

Replying to [comment:82 gh-BrentBaccala]:
> Also, what is the `gens` method supposed to do for ideals?  Looking at the test cases in `ideal.py`, it seems like it returns some kind of basis.  My version just returns the generators used to create the ideal, and `basis` needs to be called for an actual basis.  Which is correct?

This comment should be addressed to #25435. Also you could be more specific in your question; `gens` method of what class do you mean?



---

archive/issue_comments_317641.json:
```json
{
    "body": "Replying to [comment:81 gh-BrentBaccala]:\n> Some of #25494's code should probably be merged into #22982.  The commit labeled \"refactor divisor methods\" moves the `divisor`, `divisor_of_zeros`, and `divisor_of_poles` methods into superclasses.  Is there a reason not to do this?  It avoids some code duplication.\n\nAs you see, this ticket is just a meta ticket. You comment should be addressed to a (not yet created) sub ticket of this ticket, merging divisor part of the code. I am still waiting for a review of the ticket #25435 dealing with orders and ideals before I create a ticket for divisors.",
    "created_at": "2018-06-23T01:26:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317641",
    "user": "klee"
}
```

Replying to [comment:81 gh-BrentBaccala]:
> Some of #25494's code should probably be merged into #22982.  The commit labeled "refactor divisor methods" moves the `divisor`, `divisor_of_zeros`, and `divisor_of_poles` methods into superclasses.  Is there a reason not to do this?  It avoids some code duplication.

As you see, this ticket is just a meta ticket. You comment should be addressed to a (not yet created) sub ticket of this ticket, merging divisor part of the code. I am still waiting for a review of the ticket #25435 dealing with orders and ideals before I create a ticket for divisors.



---

archive/issue_comments_317642.json:
```json
{
    "body": "Replying to [comment:83 klee]:\n> Replying to [comment:80 gh-BrentBaccala]:\n> > Would you like to add a link to #25494 on this ticket's description?\n> \n> No, it should be the other way around. I mean that #25494 should contain a link to this ticket if it depends on this ticket. \n\n\n#25494 does contain a link to #22982 in its \"dependencies\".\n\nI suggest putting a link in this ticket (just like you have links to the sub tickets) so that people will know that we've got a version of this code that works over `QQ`.",
    "created_at": "2018-06-24T04:31:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317642",
    "user": "@BrentBaccala"
}
```

Replying to [comment:83 klee]:
> Replying to [comment:80 gh-BrentBaccala]:
> > Would you like to add a link to #25494 on this ticket's description?
> 
> No, it should be the other way around. I mean that #25494 should contain a link to this ticket if it depends on this ticket. 


#25494 does contain a link to #22982 in its "dependencies".

I suggest putting a link in this ticket (just like you have links to the sub tickets) so that people will know that we've got a version of this code that works over `QQ`.



---

archive/issue_comments_317643.json:
```json
{
    "body": "I don't think working on `kash` makes sense - it's basically dead, it seems.\nThe last release was 10 years ago, and it's binary only!",
    "created_at": "2018-07-10T09:29:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317643",
    "user": "dimpase"
}
```

I don't think working on `kash` makes sense - it's basically dead, it seems.
The last release was 10 years ago, and it's binary only!



---

archive/issue_comments_317644.json:
```json
{
    "body": "Replying to [comment:87 dimpase]:\n> I don't think working on `kash` makes sense - it's basically dead, it seems.\n> The last release was 10 years ago, and it's binary only!\n\nYou read wrong some previous comments. This ticket is not about kash at all!",
    "created_at": "2018-07-11T01:05:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317644",
    "user": "klee"
}
```

Replying to [comment:87 dimpase]:
> I don't think working on `kash` makes sense - it's basically dead, it seems.
> The last release was 10 years ago, and it's binary only!

You read wrong some previous comments. This ticket is not about kash at all!



---

archive/issue_comments_317645.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-05-10T04:27:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317645",
    "user": "klee"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_317646.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-05-10T05:45:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317646",
    "user": "chapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_317647.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-05-23T19:13:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22745#issuecomment-317647",
    "user": "chapoton"
}
```

Resolution: fixed
