# Issue 24884: fix edge color format in graphviz_string

Issue created by migration from Trac.

Original creator: vdelecroix

Original creation time: 2018-04-08 18:51:18

CC:  slabbe nthiery

graphviz color format should be one of the following
- HSV triple such as `".08396, 0.4862,0.8549"`
- RBG triple such as `#DA70D6`
- name such as `orchid`
As a consequence the following is broken

```
sage: G = Graph([(0,1)])
sage: G.set_latex_options(edge_colors={(0,1): (0.3, 0.9, 0.0)})
sage: view(G)
```

To make it coherent with matplotlib options as in

```
sage: plot(x, color=(0.3, 0.9, 0))
```

we convert 3-tuples in RGB format using the `to_hex` function from matplotlib.


---

Comment by vdelecroix created at 2018-04-08 19:03:19

New commits:


---

Comment by vdelecroix created at 2018-04-08 19:03:19

Changing status from new to needs_review.


---

Comment by slabbe created at 2018-04-09 09:10:21

Why do you do this?

```
+to_hex = None   # overriden when needed in graphviz_string
```


to gain some time at start up?

```
sage: %time from matplotlib.colors import to_hex
CPU times: user 60 ms, sys: 12 ms, total: 72 ms
Wall time: 70.7 ms
```


Then why not lazy import it?


---

Comment by git created at 2018-04-11 15:14:33

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vdelecroix created at 2018-04-11 15:14:50

Good suggestion! Thanks.


---

Comment by slabbe created at 2018-04-12 08:41:22

Adding `format='dot2tex'` in the description otherwise `view(G)` just works and does not illustrate the problem.


---

Comment by slabbe created at 2018-04-12 08:56:40


```
sage -tp --optional=dot2tex,sage,graphviz --show-skipped src/sage/graphs/generic_graph.py
```

looks good.

I added a very small change. If you agree, change this ticket to positive review.
----
New commits:


---

Comment by slabbe created at 2018-04-12 08:58:18

Changing keywords from "" to "thursdaysbdx".


---

Comment by vdelecroix created at 2018-04-12 16:49:16

Changing status from needs_review to positive_review.


---

Comment by vdelecroix created at 2018-04-12 16:49:16

Merci SÃ©bastien!


---

Comment by vbraun created at 2018-05-12 11:46:11

Resolution: fixed
