# Issue 24361: Get rid of SPKG types like "script" and "pip"

archive/issues_024361.json:
```json
{
    "body": "CC:  @dimpase\n\nAs mentioned in #24586#comment:4 and in some other past discussions, we're committing a category error with the \"type\" of SPKGs.\n\nOn one hand \"type\" is used to indicate when a package should be installed, depending on how reliable it is.  \"standard\" is basically always installed. \"optional\" is installed on request, or depending on the value of some flag (e.g. python 2 vs python 3, though I'm skeptical of this usage), and \"experimental\" is like \"optional\" but very much \"use at your own risk\".\n\nOn the other hand \"script\" and \"pip\" are sort of like \"optional\", but really the indicate *how* the package is to be installed, not if/when.  We should use some other means of indicating this (or do away with them entirely).  For the most part the only thing that distinguishes \"script\" and \"pip\" is that Sage does directly handle extracting and building from a source tarball.  In the case of \"pip\" there isn't even an spkg-install.  We could probably think of other ways of indicating these cases without overloading \"type\" too much.\n\nIssue created by migration from https://trac.sagemath.org/ticket/24598\n\n",
    "created_at": "2018-01-26T16:34:13Z",
    "labels": [
        "component: build"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Get rid of SPKG types like \"script\" and \"pip\"",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24361",
    "user": "https://github.com/embray"
}
```
CC:  @dimpase

As mentioned in #24586#comment:4 and in some other past discussions, we're committing a category error with the "type" of SPKGs.

On one hand "type" is used to indicate when a package should be installed, depending on how reliable it is.  "standard" is basically always installed. "optional" is installed on request, or depending on the value of some flag (e.g. python 2 vs python 3, though I'm skeptical of this usage), and "experimental" is like "optional" but very much "use at your own risk".

On the other hand "script" and "pip" are sort of like "optional", but really the indicate *how* the package is to be installed, not if/when.  We should use some other means of indicating this (or do away with them entirely).  For the most part the only thing that distinguishes "script" and "pip" is that Sage does directly handle extracting and building from a source tarball.  In the case of "pip" there isn't even an spkg-install.  We could probably think of other ways of indicating these cases without overloading "type" too much.

Issue created by migration from https://trac.sagemath.org/ticket/24598





---

archive/issue_comments_340963.json:
```json
{
    "body": "I always hated the `type` word, because it is too imprecise, i guess what you are meaning for the first hand is called `priority` in some distros. So i am +1.\n\nHowever, i remember to have suggested such a name change once, and got negative answer, i do not remember the argument though, unfortunately i could not find a reference (too many answers when i type \"type\" in the search box).\n\nBy the way, one could also imagine that checksums, version, dependencies, priority, description, license, upstream contact, could all belong to a single well-formatted (e.g. yaml) file.",
    "created_at": "2018-01-26T19:17:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24361",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24361#issuecomment-340963",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

I always hated the `type` word, because it is too imprecise, i guess what you are meaning for the first hand is called `priority` in some distros. So i am +1.

However, i remember to have suggested such a name change once, and got negative answer, i do not remember the argument though, unfortunately i could not find a reference (too many answers when i type "type" in the search box).

By the way, one could also imagine that checksums, version, dependencies, priority, description, license, upstream contact, could all belong to a single well-formatted (e.g. yaml) file.



---

archive/issue_comments_340964.json:
```json
{
    "body": "Replying to [comment:1 tmonteil]:\n> I always hated the `type` word, because it is too imprecise, i guess what you are meaning for the first hand is called `priority` in some distros. So i am +1.\n> \n> However, i remember to have suggested such a name change once, and got negative answer, i do not remember the argument though, unfortunately i could not find a reference (too many answers when i type \"type\" in the search box).\n\n\nHmm, I agree. If I had to guess it's just because renaming it would be a big patch bomb, but it's not the worst thing in the world especially if it's a trivial rename.\n\n> By the way, one could also imagine that checksums, version, dependencies, priority, description, license, upstream contact, could all belong to a single well-formatted (e.g. yaml) file.\n\n\nI agree--I've been wanting to do this a long time. Right now the advantage is the simplicity of parsing by basic shell tools, but I think with some of the other build system updates I've been *trying* to make this becomes less important.",
    "created_at": "2018-01-30T17:29:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24361",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24361#issuecomment-340964",
    "user": "https://github.com/embray"
}
```

Replying to [comment:1 tmonteil]:
> I always hated the `type` word, because it is too imprecise, i guess what you are meaning for the first hand is called `priority` in some distros. So i am +1.
> 
> However, i remember to have suggested such a name change once, and got negative answer, i do not remember the argument though, unfortunately i could not find a reference (too many answers when i type "type" in the search box).


Hmm, I agree. If I had to guess it's just because renaming it would be a big patch bomb, but it's not the worst thing in the world especially if it's a trivial rename.

> By the way, one could also imagine that checksums, version, dependencies, priority, description, license, upstream contact, could all belong to a single well-formatted (e.g. yaml) file.


I agree--I've been wanting to do this a long time. Right now the advantage is the simplicity of parsing by basic shell tools, but I think with some of the other build system updates I've been *trying* to make this becomes less important.



---

archive/issue_events_061998.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-04-26T12:13:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/24361",
    "milestone": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24361#event-61998"
}
```



---

archive/issue_events_061999.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-07-18T11:57:00Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/24361",
    "milestone": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24361#event-61999"
}
```



---

archive/issue_events_062000.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-07-18T11:57:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/24361",
    "milestone": "sage-wishlist",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24361#event-62000"
}
```



---

archive/issue_events_062001.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-18T06:38:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/24361",
    "milestone": "sage-wishlist",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24361#event-62001"
}
```



---

archive/issue_events_062002.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-18T06:38:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/24361",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24361#event-62002"
}
```



---

archive/issue_comments_340965.json:
```json
{
    "body": "Done in #29287. Should be closed.",
    "created_at": "2020-04-18T06:38:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24361",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24361#issuecomment-340965",
    "user": "https://github.com/mkoeppe"
}
```

Done in #29287. Should be closed.



---

archive/issue_comments_340966.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-04-18T06:38:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24361",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24361#issuecomment-340966",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_340967.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2020-06-28T19:12:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24361",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24361#issuecomment-340967",
    "user": "https://github.com/fchapoton"
}
```

Resolution: duplicate



---

archive/issue_events_062003.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-06-28T19:12:30Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24361",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24361#event-62003"
}
```
