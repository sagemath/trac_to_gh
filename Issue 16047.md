# Issue 16047: Remove some deprecated code

archive/issues_016047.json:
```json
{
    "body": "Remove deprecated code from #7371, #8930, #10334, #11033, #12587, #13211 and from `coxeter_groups.py`.\n\nIssue created by migration from https://trac.sagemath.org/ticket/16284\n\n",
    "created_at": "2014-05-03T14:01:38Z",
    "labels": [
        "misc",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "Remove some deprecated code",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16047",
    "user": "aapitzsch"
}
```
Remove deprecated code from #7371, #8930, #10334, #11033, #12587, #13211 and from `coxeter_groups.py`.

Issue created by migration from https://trac.sagemath.org/ticket/16284





---

archive/issue_comments_208853.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-05-03T14:04:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208853",
    "user": "aapitzsch"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_208854.json:
```json
{
    "body": "Did you check that all long tests pass ? If so, it can go `:-)`\n\n(sorry, I cannot do this with my computer right now `^^;`)\n\nNathann",
    "created_at": "2014-05-03T14:13:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208854",
    "user": "ncohen"
}
```

Did you check that all long tests pass ? If so, it can go `:-)`

(sorry, I cannot do this with my computer right now `^^;`)

Nathann



---

archive/issue_comments_208855.json:
```json
{
    "body": "All long tests pass, but I'm not happy with\n\n```diff\n--- a/src/sage/homology/simplicial_complex.py\n+++ b/src/sage/homology/simplicial_complex.py\n@@ -816,21 +798,9 @@\n          C = None\n+         vertex_set = []\n          if maximal_faces is None:\n-             vertex_set = []\n              maximal_faces = []\n```\n\nWithout this change testing `src/sage/schemes/toric/divisor.py` will fail.",
    "created_at": "2014-05-03T14:43:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208855",
    "user": "aapitzsch"
}
```

All long tests pass, but I'm not happy with

```diff
--- a/src/sage/homology/simplicial_complex.py
+++ b/src/sage/homology/simplicial_complex.py
@@ -816,21 +798,9 @@
          C = None
+         vertex_set = []
          if maximal_faces is None:
-             vertex_set = []
              maximal_faces = []
```

Without this change testing `src/sage/schemes/toric/divisor.py` will fail.



---

archive/issue_comments_208856.json:
```json
{
    "body": "Why don't you leave this `vertex_set = [] ` where it is and define `vertex_set=None` before, as it is the current default value ?\n\nNathann",
    "created_at": "2014-05-03T14:59:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208856",
    "user": "ncohen"
}
```

Why don't you leave this `vertex_set = [] ` where it is and define `vertex_set=None` before, as it is the current default value ?

Nathann



---

archive/issue_comments_208857.json:
```json
{
    "body": "Replying to [comment:4 ncohen]:\n> Why don't you leave this `vertex_set = [] ` where it is and define `vertex_set=None` before, as it is the current default value ?\n> \n> Nathann\n\nI tried this, but it also failed.\nThe problematic line in `src/sage/schemes/toric/divisor.py` is\n\n```\nSimplicialComplex([c.ambient_ray_indices() for c in negative_cones])\n```\n\nThe passed list previously became `vertex_set` and now it becomes `maximal_faces`.\n\nSo maybe we should do\n\n```diff\n--- a/src/sage/homology/simplicial_complex.py\n+++ b/src/sage/homology/simplicial_complex.py\n@@ -816,21 +798,9 @@\n          C = None\n+         vertex_set = maximal_faces\n          if maximal_faces is None:\n              vertex_set = []\n              maximal_faces = []\n```\n\n\nWhat do you think?",
    "created_at": "2014-05-03T15:28:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208857",
    "user": "aapitzsch"
}
```

Replying to [comment:4 ncohen]:
> Why don't you leave this `vertex_set = [] ` where it is and define `vertex_set=None` before, as it is the current default value ?
> 
> Nathann

I tried this, but it also failed.
The problematic line in `src/sage/schemes/toric/divisor.py` is

```
SimplicialComplex([c.ambient_ray_indices() for c in negative_cones])
```

The passed list previously became `vertex_set` and now it becomes `maximal_faces`.

So maybe we should do

```diff
--- a/src/sage/homology/simplicial_complex.py
+++ b/src/sage/homology/simplicial_complex.py
@@ -816,21 +798,9 @@
          C = None
+         vertex_set = maximal_faces
          if maximal_faces is None:
              vertex_set = []
              maximal_faces = []
```


What do you think?



---

archive/issue_comments_208858.json:
```json
{
    "body": "> What do you think?\n\nI don't understand.... If there is a function which defined this parameter then it raised a deprecation warning, didn't it ? `O_o`\n\nNathann",
    "created_at": "2014-05-03T15:39:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208858",
    "user": "ncohen"
}
```

> What do you think?

I don't understand.... If there is a function which defined this parameter then it raised a deprecation warning, didn't it ? `O_o`

Nathann



---

archive/issue_comments_208859.json:
```json
{
    "body": "Replying to [comment:6 ncohen]:\n> > What do you think?\n> \n> I don't understand.... If there is a function which defined this parameter then it raised a deprecation warning, didn't it ? `O_o`\n\nThe deprecation warning was only raised if `vertex_set` and `maximal_faces` were defined, which was not the case in\n`SimplicialComplex([c.ambient_ray_indices() for c in negative_cones])`.",
    "created_at": "2014-05-03T15:53:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208859",
    "user": "aapitzsch"
}
```

Replying to [comment:6 ncohen]:
> > What do you think?
> 
> I don't understand.... If there is a function which defined this parameter then it raised a deprecation warning, didn't it ? `O_o`

The deprecation warning was only raised if `vertex_set` and `maximal_faces` were defined, which was not the case in
`SimplicialComplex([c.ambient_ray_indices() for c in negative_cones])`.



---

archive/issue_comments_208860.json:
```json
{
    "body": "Oh. Then can't you just do the replacement above, and fix the broken doctest by replacing \n\n\n```\nSimplicialComplex([c.ambient_ray_indices() for c in negative_cones])\n```\n\n\nBy\n\n\n```\nSimplicialComplex(maximal_faces=[c.ambient_ray_indices() for c in negative_cones])\n```\n\n\nNathann",
    "created_at": "2014-05-03T15:56:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208860",
    "user": "ncohen"
}
```

Oh. Then can't you just do the replacement above, and fix the broken doctest by replacing 


```
SimplicialComplex([c.ambient_ray_indices() for c in negative_cones])
```


By


```
SimplicialComplex(maximal_faces=[c.ambient_ray_indices() for c in negative_cones])
```


Nathann



---

archive/issue_comments_208861.json:
```json
{
    "body": "Replying to [comment:8 ncohen]:\n> Oh. Then can't you just do the replacement above, and fix the broken doctest by replacing \n> \n> {{{\n> SimplicialComplex([c.ambient_ray_indices() for c in negative_cones])\n> }}}\n> \n> By\n> \n> {{{\n> SimplicialComplex(maximal_faces=[c.ambient_ray_indices() for c in negative_cones])\n> }}}\n> \n\nAdding `maximal_faces=` won't change anything because it's (beside `**kwds`) the only remaining parameter passed to `__init__()` after applying this patch.",
    "created_at": "2014-05-03T16:26:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208861",
    "user": "aapitzsch"
}
```

Replying to [comment:8 ncohen]:
> Oh. Then can't you just do the replacement above, and fix the broken doctest by replacing 
> 
> {{{
> SimplicialComplex([c.ambient_ray_indices() for c in negative_cones])
> }}}
> 
> By
> 
> {{{
> SimplicialComplex(maximal_faces=[c.ambient_ray_indices() for c in negative_cones])
> }}}
> 

Adding `maximal_faces=` won't change anything because it's (beside `**kwds`) the only remaining parameter passed to `__init__()` after applying this patch.



---

archive/issue_comments_208862.json:
```json
{
    "body": "Oh right, sorry. Then I guess this cannot be solved without understanding the meaning of the command. The only way out is to get in touch with somebody who understands what this is about.\n\nNathann",
    "created_at": "2014-05-03T16:30:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208862",
    "user": "ncohen"
}
```

Oh right, sorry. Then I guess this cannot be solved without understanding the meaning of the command. The only way out is to get in touch with somebody who understands what this is about.

Nathann



---

archive/issue_comments_208863.json:
```json
{
    "body": "FTR, this is on my todo list. I will try to get to this tonight or tomorrow.",
    "created_at": "2014-05-05T22:01:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208863",
    "user": "tscrim"
}
```

FTR, this is on my todo list. I will try to get to this tonight or tomorrow.



---

archive/issue_comments_208864.json:
```json
{
    "body": "I think this is what should've been done in the first place (either that or it needs to be put in its original place and in the big block with the `reduce`).",
    "created_at": "2014-05-06T05:49:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208864",
    "user": "tscrim"
}
```

I think this is what should've been done in the first place (either that or it needs to be put in its original place and in the big block with the `reduce`).



---

archive/issue_comments_208865.json:
```json
{
    "body": "Is this a positive review?",
    "created_at": "2014-05-07T21:21:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208865",
    "user": "tscrim"
}
```

Is this a positive review?



---

archive/issue_comments_208866.json:
```json
{
    "body": "I didn't get your earlier comment : do you think that this branch correctly deals with the code around `vertex_set` ? If so, then it is a positive review from the both of us `:-)`\n\nNathann",
    "created_at": "2014-05-08T09:03:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208866",
    "user": "ncohen"
}
```

I didn't get your earlier comment : do you think that this branch correctly deals with the code around `vertex_set` ? If so, then it is a positive review from the both of us `:-)`

Nathann



---

archive/issue_comments_208867.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-05-08T15:27:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208867",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_208868.json:
```json
{
    "body": "Yes.",
    "created_at": "2014-05-08T15:27:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208868",
    "user": "tscrim"
}
```

Yes.



---

archive/issue_comments_208869.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-05-12T09:55:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208869",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_208870.json:
```json
{
    "body": "Merge conflict, please fix",
    "created_at": "2014-05-12T09:55:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208870",
    "user": "vbraun"
}
```

Merge conflict, please fix



---

archive/issue_comments_208871.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-12T15:44:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208871",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_208872.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-05-12T16:00:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208872",
    "user": "aapitzsch"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_208873.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-05-12T22:21:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208873",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_208874.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-05-13T08:42:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208874",
    "user": "vbraun"
}
```

Resolution: fixed
