# Issue 16047: Remove some deprecated code

archive/issues_016047.json:
```json
{
    "body": "Remove deprecated code from #7371, #8930, #10334, #11033, #12587, #13211 and from `coxeter_groups.py`.\n\nIssue created by migration from https://trac.sagemath.org/ticket/16284\n\n",
    "closed_at": "2014-05-13T08:42:13Z",
    "created_at": "2014-05-03T14:01:38Z",
    "labels": [
        "component: misc"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "Remove some deprecated code",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16047",
    "user": "https://github.com/a-andre"
}
```
Remove deprecated code from #7371, #8930, #10334, #11033, #12587, #13211 and from `coxeter_groups.py`.

Issue created by migration from https://trac.sagemath.org/ticket/16284





---

archive/issue_comments_208577.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-05-03T14:04:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208577",
    "user": "https://github.com/a-andre"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_208578.json:
```json
{
    "body": "Did you check that all long tests pass ? If so, it can go `:-)`\n\n(sorry, I cannot do this with my computer right now `^^;`)\n\nNathann",
    "created_at": "2014-05-03T14:13:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208578",
    "user": "https://github.com/nathanncohen"
}
```

Did you check that all long tests pass ? If so, it can go `:-)`

(sorry, I cannot do this with my computer right now `^^;`)

Nathann



---

archive/issue_comments_208579.json:
```json
{
    "body": "All long tests pass, but I'm not happy with\n\n```diff\n--- a/src/sage/homology/simplicial_complex.py\n+++ b/src/sage/homology/simplicial_complex.py\n@@ -816,21 +798,9 @@\n          C = None\n+         vertex_set = []\n          if maximal_faces is None:\n-             vertex_set = []\n              maximal_faces = []\n```\nWithout this change testing `src/sage/schemes/toric/divisor.py` will fail.",
    "created_at": "2014-05-03T14:43:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208579",
    "user": "https://github.com/a-andre"
}
```

All long tests pass, but I'm not happy with

```diff
--- a/src/sage/homology/simplicial_complex.py
+++ b/src/sage/homology/simplicial_complex.py
@@ -816,21 +798,9 @@
          C = None
+         vertex_set = []
          if maximal_faces is None:
-             vertex_set = []
              maximal_faces = []
```
Without this change testing `src/sage/schemes/toric/divisor.py` will fail.



---

archive/issue_comments_208580.json:
```json
{
    "body": "Why don't you leave this `vertex_set = [] ` where it is and define `vertex_set=None` before, as it is the current default value ?\n\nNathann",
    "created_at": "2014-05-03T14:59:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208580",
    "user": "https://github.com/nathanncohen"
}
```

Why don't you leave this `vertex_set = [] ` where it is and define `vertex_set=None` before, as it is the current default value ?

Nathann



---

archive/issue_comments_208581.json:
```json
{
    "body": "Replying to [comment:4 ncohen]:\n> Why don't you leave this `vertex_set = [] ` where it is and define `vertex_set=None` before, as it is the current default value ?\n> \n> Nathann\n\n\nI tried this, but it also failed.\nThe problematic line in `src/sage/schemes/toric/divisor.py` is\n\n```\nSimplicialComplex([c.ambient_ray_indices() for c in negative_cones])\n```\nThe passed list previously became `vertex_set` and now it becomes `maximal_faces`.\n\nSo maybe we should do\n\n```diff\n--- a/src/sage/homology/simplicial_complex.py\n+++ b/src/sage/homology/simplicial_complex.py\n@@ -816,21 +798,9 @@\n          C = None\n+         vertex_set = maximal_faces\n          if maximal_faces is None:\n              vertex_set = []\n              maximal_faces = []\n```\n\nWhat do you think?",
    "created_at": "2014-05-03T15:28:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208581",
    "user": "https://github.com/a-andre"
}
```

Replying to [comment:4 ncohen]:
> Why don't you leave this `vertex_set = [] ` where it is and define `vertex_set=None` before, as it is the current default value ?
> 
> Nathann


I tried this, but it also failed.
The problematic line in `src/sage/schemes/toric/divisor.py` is

```
SimplicialComplex([c.ambient_ray_indices() for c in negative_cones])
```
The passed list previously became `vertex_set` and now it becomes `maximal_faces`.

So maybe we should do

```diff
--- a/src/sage/homology/simplicial_complex.py
+++ b/src/sage/homology/simplicial_complex.py
@@ -816,21 +798,9 @@
          C = None
+         vertex_set = maximal_faces
          if maximal_faces is None:
              vertex_set = []
              maximal_faces = []
```

What do you think?



---

archive/issue_comments_208582.json:
```json
{
    "body": "> What do you think?\n\n\nI don't understand.... If there is a function which defined this parameter then it raised a deprecation warning, didn't it ? `O_o`\n\nNathann",
    "created_at": "2014-05-03T15:39:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208582",
    "user": "https://github.com/nathanncohen"
}
```

> What do you think?


I don't understand.... If there is a function which defined this parameter then it raised a deprecation warning, didn't it ? `O_o`

Nathann



---

archive/issue_comments_208583.json:
```json
{
    "body": "Replying to [comment:6 ncohen]:\n> > What do you think?\n\n> \n> I don't understand.... If there is a function which defined this parameter then it raised a deprecation warning, didn't it ? `O_o`\n\n\nThe deprecation warning was only raised if `vertex_set` and `maximal_faces` were defined, which was not the case in\n`SimplicialComplex([c.ambient_ray_indices() for c in negative_cones])`.",
    "created_at": "2014-05-03T15:53:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208583",
    "user": "https://github.com/a-andre"
}
```

Replying to [comment:6 ncohen]:
> > What do you think?

> 
> I don't understand.... If there is a function which defined this parameter then it raised a deprecation warning, didn't it ? `O_o`


The deprecation warning was only raised if `vertex_set` and `maximal_faces` were defined, which was not the case in
`SimplicialComplex([c.ambient_ray_indices() for c in negative_cones])`.



---

archive/issue_comments_208584.json:
```json
{
    "body": "Oh. Then can't you just do the replacement above, and fix the broken doctest by replacing \n\n```\nSimplicialComplex([c.ambient_ray_indices() for c in negative_cones])\n```\n\nBy\n\n```\nSimplicialComplex(maximal_faces=[c.ambient_ray_indices() for c in negative_cones])\n```\n\nNathann",
    "created_at": "2014-05-03T15:56:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208584",
    "user": "https://github.com/nathanncohen"
}
```

Oh. Then can't you just do the replacement above, and fix the broken doctest by replacing 

```
SimplicialComplex([c.ambient_ray_indices() for c in negative_cones])
```

By

```
SimplicialComplex(maximal_faces=[c.ambient_ray_indices() for c in negative_cones])
```

Nathann



---

archive/issue_comments_208585.json:
```json
{
    "body": "Replying to [comment:8 ncohen]:\n> Oh. Then can't you just do the replacement above, and fix the broken doctest by replacing \n> \n> \n> ```\n> SimplicialComplex([c.ambient_ray_indices() for c in negative_cones])\n> ```\n> \n> By\n> \n> \n> ```\n> SimplicialComplex(maximal_faces=[c.ambient_ray_indices() for c in negative_cones])\n> ```\n> \n\n\nAdding `maximal_faces=` won't change anything because it's (beside `**kwds`) the only remaining parameter passed to `__init__()` after applying this patch.",
    "created_at": "2014-05-03T16:26:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208585",
    "user": "https://github.com/a-andre"
}
```

Replying to [comment:8 ncohen]:
> Oh. Then can't you just do the replacement above, and fix the broken doctest by replacing 
> 
> 
> ```
> SimplicialComplex([c.ambient_ray_indices() for c in negative_cones])
> ```
> 
> By
> 
> 
> ```
> SimplicialComplex(maximal_faces=[c.ambient_ray_indices() for c in negative_cones])
> ```
> 


Adding `maximal_faces=` won't change anything because it's (beside `**kwds`) the only remaining parameter passed to `__init__()` after applying this patch.



---

archive/issue_comments_208586.json:
```json
{
    "body": "Oh right, sorry. Then I guess this cannot be solved without understanding the meaning of the command. The only way out is to get in touch with somebody who understands what this is about.\n\nNathann",
    "created_at": "2014-05-03T16:30:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208586",
    "user": "https://github.com/nathanncohen"
}
```

Oh right, sorry. Then I guess this cannot be solved without understanding the meaning of the command. The only way out is to get in touch with somebody who understands what this is about.

Nathann



---

archive/issue_comments_208587.json:
```json
{
    "body": "FTR, this is on my todo list. I will try to get to this tonight or tomorrow.",
    "created_at": "2014-05-05T22:01:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208587",
    "user": "https://github.com/tscrim"
}
```

FTR, this is on my todo list. I will try to get to this tonight or tomorrow.



---

archive/issue_comments_208588.json:
```json
{
    "body": "I think this is what should've been done in the first place (either that or it needs to be put in its original place and in the big block with the `reduce`).",
    "created_at": "2014-05-06T05:49:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208588",
    "user": "https://github.com/tscrim"
}
```

I think this is what should've been done in the first place (either that or it needs to be put in its original place and in the big block with the `reduce`).



---

archive/issue_events_048004.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16047#event-48004"
}
```



---

archive/issue_comments_208589.json:
```json
{
    "body": "Is this a positive review?",
    "created_at": "2014-05-07T21:21:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208589",
    "user": "https://github.com/tscrim"
}
```

Is this a positive review?



---

archive/issue_comments_208590.json:
```json
{
    "body": "I didn't get your earlier comment : do you think that this branch correctly deals with the code around `vertex_set` ? If so, then it is a positive review from the both of us `:-)`\n\nNathann",
    "created_at": "2014-05-08T09:03:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208590",
    "user": "https://github.com/nathanncohen"
}
```

I didn't get your earlier comment : do you think that this branch correctly deals with the code around `vertex_set` ? If so, then it is a positive review from the both of us `:-)`

Nathann



---

archive/issue_comments_208591.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-05-08T15:27:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208591",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_208592.json:
```json
{
    "body": "Yes.",
    "created_at": "2014-05-08T15:27:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208592",
    "user": "https://github.com/tscrim"
}
```

Yes.



---

archive/issue_comments_208593.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-05-12T09:55:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208593",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_208594.json:
```json
{
    "body": "Merge conflict, please fix",
    "created_at": "2014-05-12T09:55:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208594",
    "user": "https://github.com/vbraun"
}
```

Merge conflict, please fix



---

archive/issue_comments_208595.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-12T15:44:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208595",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_208596.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-05-12T16:00:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208596",
    "user": "https://github.com/a-andre"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_208597.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-05-12T22:21:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208597",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_048005.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-13T08:42:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16047#event-48005"
}
```



---

archive/issue_comments_208598.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-05-13T08:42:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16047",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16047#issuecomment-208598",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
