# Issue 17072: SubHypergraphSearch

archive/issues_017072.json:
```json
{
    "body": "CC:  jmantysalo dimpase vdelecroix stefan\n\nAt long long long long last.\n\nI have been wanting to write this for ages but never really needed it. And one should never implement something unless one needs it.\n\nHere it is. It does what `SubgraphSearch` already does for graphs, but it does it for hypergraphs. The code is just a simple eunmeration of all possibilities, with a couple of cuts. The implementation tries to make this as cheap as possible.\n\nWe now have a `IncidenceStructure.isomorphic_substructures_iterator` whose name is similar to the new `Poset.has_isomorphic_subposet`.\n\nOh, and it does not work if the pattern you try to find had >64 points. It is already very large considering how hard it is to run this code anyway, plus making it work for >64 implied a +50% cost even for small instances on my use case. So I thought it was not worth it.\n\nRight now it handles induced and non-induced hypergraph. Later, in another patch, it can be improved into a way to deal with another definition of \"substructure\" and compute things like the VC-dimension, in case somebody cares.\n\nIssue created by migration from https://trac.sagemath.org/ticket/17309\n\n",
    "created_at": "2014-11-08T16:45:39Z",
    "labels": [
        "PLEASE CHANGE",
        "major",
        "enhancement"
    ],
    "title": "SubHypergraphSearch",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17072",
    "user": "ncohen"
}
```
CC:  jmantysalo dimpase vdelecroix stefan

At long long long long last.

I have been wanting to write this for ages but never really needed it. And one should never implement something unless one needs it.

Here it is. It does what `SubgraphSearch` already does for graphs, but it does it for hypergraphs. The code is just a simple eunmeration of all possibilities, with a couple of cuts. The implementation tries to make this as cheap as possible.

We now have a `IncidenceStructure.isomorphic_substructures_iterator` whose name is similar to the new `Poset.has_isomorphic_subposet`.

Oh, and it does not work if the pattern you try to find had >64 points. It is already very large considering how hard it is to run this code anyway, plus making it work for >64 implied a +50% cost even for small instances on my use case. So I thought it was not worth it.

Right now it handles induced and non-induced hypergraph. Later, in another patch, it can be improved into a way to deal with another definition of "substructure" and compute things like the VC-dimension, in case somebody cares.

Issue created by migration from https://trac.sagemath.org/ticket/17309





---

archive/issue_comments_227057.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-11-08T16:46:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227057",
    "user": "ncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_227058.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-11-08T16:54:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227058",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_227059.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-11-08T17:02:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227059",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_227060.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to combinatorial designs.",
    "created_at": "2014-11-10T19:12:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227060",
    "user": "ncohen"
}
```

Changing component from PLEASE CHANGE to combinatorial designs.



---

archive/issue_comments_227061.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-11-16T10:02:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227061",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_227062.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-11-26T15:23:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227062",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_227063.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2014-12-25T15:45:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227063",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_227064.json:
```json
{
    "body": "(it was conflicting with the latest beta)",
    "created_at": "2014-12-25T15:45:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227064",
    "user": "ncohen"
}
```

(it was conflicting with the latest beta)



---

archive/issue_comments_227065.json:
```json
{
    "body": "Guys ?... This feature is really cool, I swear. Plus you probably will not find it anywhere else..",
    "created_at": "2015-02-24T14:43:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227065",
    "user": "ncohen"
}
```

Guys ?... This feature is really cool, I swear. Plus you probably will not find it anywhere else..



---

archive/issue_comments_227066.json:
```json
{
    "body": "Do you iterate over embeddings of H in G, factoring out the automorphisms of H?\n(i.e. if f is an automorphism of H, and g an embedding of H, do  distinguish g(H) and g(H^f) ?)",
    "created_at": "2015-02-25T09:36:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227066",
    "user": "dimpase"
}
```

Do you iterate over embeddings of H in G, factoring out the automorphisms of H?
(i.e. if f is an automorphism of H, and g an embedding of H, do  distinguish g(H) and g(H^f) ?)



---

archive/issue_comments_227067.json:
```json
{
    "body": "No, this code does not. It enumerates all labelled copies, and the number of copies of H that you will find in H is `|aut(H)|`.",
    "created_at": "2015-02-25T09:38:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227067",
    "user": "ncohen"
}
```

No, this code does not. It enumerates all labelled copies, and the number of copies of H that you will find in H is `|aut(H)|`.



---

archive/issue_comments_227068.json:
```json
{
    "body": "Replying to [comment:12 ncohen]:\n> No, this code does not. It enumerates all labelled copies, and the number of copies of H that you will find in H is `|aut(H)|`.\n\nit should say `distinct` copies, or even `distinct (unlabelled)` copies.",
    "created_at": "2015-02-25T10:05:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227068",
    "user": "dimpase"
}
```

Replying to [comment:12 ncohen]:
> No, this code does not. It enumerates all labelled copies, and the number of copies of H that you will find in H is `|aut(H)|`.

it should say `distinct` copies, or even `distinct (unlabelled)` copies.



---

archive/issue_comments_227069.json:
```json
{
    "body": "The stuff should be tested on a 32-bit system, just to make sure there is no arch-specific bugs...",
    "created_at": "2015-02-25T10:41:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227069",
    "user": "dimpase"
}
```

The stuff should be tested on a 32-bit system, just to make sure there is no arch-specific bugs...



---

archive/issue_comments_227070.json:
```json
{
    "body": "> The stuff should be tested on a 32-bit system, just to make sure there is no arch-specific bugs...\n\nWell, you can if you have one but I tried to be careful with respect to that and explicitly wrote `uint64_t` when I needed a 64-bits integer. Usually the 'int' variables that I use represent the vertex of a hypergraph, so I do not think that it will overflow anytime soon `:-P`",
    "created_at": "2015-02-25T10:43:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227070",
    "user": "ncohen"
}
```

> The stuff should be tested on a 32-bit system, just to make sure there is no arch-specific bugs...

Well, you can if you have one but I tried to be careful with respect to that and explicitly wrote `uint64_t` when I needed a 64-bits integer. Usually the 'int' variables that I use represent the vertex of a hypergraph, so I do not think that it will overflow anytime soon `:-P`



---

archive/issue_comments_227071.json:
```json
{
    "body": "Trying out the patch, I get\n\n```\nError building the documentation.\nTraceback (most recent call last):\n  File \"/home/dima/software/sage/src/doc/common/builder.py\", line 1623, in <module>\n    getattr(get_builder(name), type)()\n  File \"/home/dima/software/sage/src/doc/common/builder.py\", line 296, in _wrapper\n    getattr(get_builder(document), name)(*args, **kwds)\n  File \"/home/dima/software/sage/src/doc/common/builder.py\", line 503, in _wrapper\n    x.get(99999)\n  File \"/home/dima/software/sage/local/lib/python/multiprocessing/pool.py\", line 558, in get\n    raise self._value\nOSError: [combinat ] /home/dima/software/sage/local/lib/python2.7/site-packages/sage/combinat/designs/__init__.py:docstring of sage.combinat.designs.__init__:32: WARNING: undefined label: sage.combinat.designs.subhypergraph_search (if the link has no caption the label must precede a section header)\n\nmake: *** [doc-html] Error 1\n\n```\n",
    "created_at": "2015-02-25T10:45:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227071",
    "user": "dimpase"
}
```

Trying out the patch, I get

```
Error building the documentation.
Traceback (most recent call last):
  File "/home/dima/software/sage/src/doc/common/builder.py", line 1623, in <module>
    getattr(get_builder(name), type)()
  File "/home/dima/software/sage/src/doc/common/builder.py", line 296, in _wrapper
    getattr(get_builder(document), name)(*args, **kwds)
  File "/home/dima/software/sage/src/doc/common/builder.py", line 503, in _wrapper
    x.get(99999)
  File "/home/dima/software/sage/local/lib/python/multiprocessing/pool.py", line 558, in get
    raise self._value
OSError: [combinat ] /home/dima/software/sage/local/lib/python2.7/site-packages/sage/combinat/designs/__init__.py:docstring of sage.combinat.designs.__init__:32: WARNING: undefined label: sage.combinat.designs.subhypergraph_search (if the link has no caption the label must precede a section header)

make: *** [doc-html] Error 1

```




---

archive/issue_comments_227072.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-02-25T10:51:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227072",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_227073.json:
```json
{
    "body": "That's because the documentation of the combinat/ folder now work in a different way from the rest of Sage's doc. It is meant to be distributed with no central index of files, and I had forgotten to add my new file to the new index of files it creates.\n\nI also changed 'disjoint' into 'distinct unlabelled', and rebased everything on the latest beta.\n\nNathann",
    "created_at": "2015-02-25T10:53:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227073",
    "user": "ncohen"
}
```

That's because the documentation of the combinat/ folder now work in a different way from the rest of Sage's doc. It is meant to be distributed with no central index of files, and I had forgotten to add my new file to the new index of files it creates.

I also changed 'disjoint' into 'distinct unlabelled', and rebased everything on the latest beta.

Nathann



---

archive/issue_comments_227074.json:
```json
{
    "body": "\n```\n+ As the automorphism group of `C_5` has size 10, the number of distinct\n+ labelled copies is 12. \n```\n\n\nit should say `unlabelled`",
    "created_at": "2015-02-25T10:53:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227074",
    "user": "dimpase"
}
```


```
+ As the automorphism group of `C_5` has size 10, the number of distinct
+ labelled copies is 12. 
```


it should say `unlabelled`



---

archive/issue_comments_227075.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-02-25T10:54:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227075",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_227076.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-02-25T11:53:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227076",
    "user": "dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_227077.json:
```json
{
    "body": "Replying to [comment:15 ncohen]:\n> > The stuff should be tested on a 32-bit system, just to make sure there is no arch-specific bugs...\n> \n> Well, you can if you have one but I tried to be careful with respect to that and explicitly wrote `uint64_t` when I needed a 64-bits integer. Usually the 'int' variables that I use represent the vertex of a hypergraph, so I do not think that it will overflow anytime soon `:-P`\n\nOK, it works both on 64 and 32 bit (arando is still alive).\nLGTM.",
    "created_at": "2015-02-25T11:53:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227077",
    "user": "dimpase"
}
```

Replying to [comment:15 ncohen]:
> > The stuff should be tested on a 32-bit system, just to make sure there is no arch-specific bugs...
> 
> Well, you can if you have one but I tried to be careful with respect to that and explicitly wrote `uint64_t` when I needed a 64-bits integer. Usually the 'int' variables that I use represent the vertex of a hypergraph, so I do not think that it will overflow anytime soon `:-P`

OK, it works both on 64 and 32 bit (arando is still alive).
LGTM.



---

archive/issue_comments_227078.json:
```json
{
    "body": "Wow ! Thank you very much.\n\nNathann",
    "created_at": "2015-02-25T12:05:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227078",
    "user": "ncohen"
}
```

Wow ! Thank you very much.

Nathann



---

archive/issue_comments_227079.json:
```json
{
    "body": "I got this on OSX:\n\n```\nsage -t --long src/sage/combinat/designs/incidence_structures.py\n**********************************************************************\nFile \"src/sage/combinat/designs/incidence_structures.py\", line 586, in sage.combinat.designs.incidence_structures.IncidenceStructure.isomorphic_substructures_iterator\nFailed example:\n    sum(1 for _ in IP.isomorphic_substructures_iterator(IC))\nExpected:\n    120\nGot:\n    0\n**********************************************************************\nFile \"src/sage/combinat/designs/incidence_structures.py\", line 598, in sage.combinat.designs.incidence_structures.IncidenceStructure.isomorphic_substructures_iterator\nFailed example:\n    sum(1 for _ in IP.isomorphic_substructures_iterator(IC,induced=True))\nExpected:\n    120\nGot:\n    0\n**********************************************************************\nFile \"src/sage/combinat/designs/incidence_structures.py\", line 606, in sage.combinat.designs.incidence_structures.IncidenceStructure.isomorphic_substructures_iterator\nFailed example:\n    sum(1 for _ in IP.isomorphic_substructures_iterator(IC))\nExpected:\n    420\nGot:\n    0\n**********************************************************************\nFile \"src/sage/combinat/designs/incidence_structures.py\", line 608, in sage.combinat.designs.incidence_structures.IncidenceStructure.isomorphic_substructures_iterator\nFailed example:\n    sum(1 for _ in IP.isomorphic_substructures_iterator(IC,induced=True))\nExpected:\n    60\nGot:\n    0\n**********************************************************************\nFile \"src/sage/combinat/designs/incidence_structures.py\", line 615, in sage.combinat.designs.incidence_structures.IncidenceStructure.isomorphic_substructures_iterator\nFailed example:\n    sum(1 for _ in H.isomorphic_substructures_iterator(H))\nExpected:\n    5616\nGot:\n    1\n**********************************************************************\n1 item had failures:\n   5 of  16 in sage.combinat.designs.incidence_structures.IncidenceStructure.isomorphic_substructures_iterator\n    [287 tests, 5 failures, 2.07 s]\n```\n\nJust as a stab in the dark, this is often a sign of comparisons by memory location somewhere. Somehow many Python objects end in different orders in ram on OSX.",
    "created_at": "2015-02-25T23:31:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227079",
    "user": "vbraun"
}
```

I got this on OSX:

```
sage -t --long src/sage/combinat/designs/incidence_structures.py
**********************************************************************
File "src/sage/combinat/designs/incidence_structures.py", line 586, in sage.combinat.designs.incidence_structures.IncidenceStructure.isomorphic_substructures_iterator
Failed example:
    sum(1 for _ in IP.isomorphic_substructures_iterator(IC))
Expected:
    120
Got:
    0
**********************************************************************
File "src/sage/combinat/designs/incidence_structures.py", line 598, in sage.combinat.designs.incidence_structures.IncidenceStructure.isomorphic_substructures_iterator
Failed example:
    sum(1 for _ in IP.isomorphic_substructures_iterator(IC,induced=True))
Expected:
    120
Got:
    0
**********************************************************************
File "src/sage/combinat/designs/incidence_structures.py", line 606, in sage.combinat.designs.incidence_structures.IncidenceStructure.isomorphic_substructures_iterator
Failed example:
    sum(1 for _ in IP.isomorphic_substructures_iterator(IC))
Expected:
    420
Got:
    0
**********************************************************************
File "src/sage/combinat/designs/incidence_structures.py", line 608, in sage.combinat.designs.incidence_structures.IncidenceStructure.isomorphic_substructures_iterator
Failed example:
    sum(1 for _ in IP.isomorphic_substructures_iterator(IC,induced=True))
Expected:
    60
Got:
    0
**********************************************************************
File "src/sage/combinat/designs/incidence_structures.py", line 615, in sage.combinat.designs.incidence_structures.IncidenceStructure.isomorphic_substructures_iterator
Failed example:
    sum(1 for _ in H.isomorphic_substructures_iterator(H))
Expected:
    5616
Got:
    1
**********************************************************************
1 item had failures:
   5 of  16 in sage.combinat.designs.incidence_structures.IncidenceStructure.isomorphic_substructures_iterator
    [287 tests, 5 failures, 2.07 s]
```

Just as a stab in the dark, this is often a sign of comparisons by memory location somewhere. Somehow many Python objects end in different orders in ram on OSX.



---

archive/issue_comments_227080.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-02-26T07:11:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227080",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_227081.json:
```json
{
    "body": "Can you give me access to an OSX machine ? I can't debug in the dark.\n\nNathann",
    "created_at": "2015-02-26T07:40:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227081",
    "user": "ncohen"
}
```

Can you give me access to an OSX machine ? I can't debug in the dark.

Nathann



---

archive/issue_comments_227082.json:
```json
{
    "body": "Replying to [comment:25 ncohen]:\n> Can you give me access to an OSX machine ? I can't debug in the dark.\n\nIf you can't find an OSX machine around, I can hook up a spare laptop running OSX so that you can ssh into it.Hopefully this will be fast enough. Do you still have access to arando box? Anyhow, you will need to ssh into arando, and from it to the laptop.\nI'll have to figure out how to make ssh from laptop persistent.\n\nDima",
    "created_at": "2015-02-26T09:22:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227082",
    "user": "dimpase"
}
```

Replying to [comment:25 ncohen]:
> Can you give me access to an OSX machine ? I can't debug in the dark.

If you can't find an OSX machine around, I can hook up a spare laptop running OSX so that you can ssh into it.Hopefully this will be fast enough. Do you still have access to arando box? Anyhow, you will need to ssh into arando, and from it to the laptop.
I'll have to figure out how to make ssh from laptop persistent.

Dima



---

archive/issue_comments_227083.json:
```json
{
    "body": "Hello,\n\n> If you can't find an OSX machine around, I can hook up a spare laptop running OSX so that you can ssh into it.Hopefully this will be fast enough. Do you still have access to arando box? Anyhow, you will need to ssh into arando, and from it to the laptop.\n\nI just tried again the instructions you gave me on the 13/06/13 to connect to arando, but I got the following (on boxen):\n\n\n```\nncohen@boxen:~$ ssh -p21925 localhost\nssh: connect to host localhost port 21925: Connection refused\n```\n\n\nA colleague of mine who has a Mac laptop \"may\" come in the afternoon. And if she is willing I \"could\" take it from her for a while, and compile Sage from its sources and stuff.\n\nBut really it would be cool if the same machine that Volker uses for his tests could be used for debugging, because really it is very very troublesome to get some code to work on an architecture that I do not have access to.\n\nNathann",
    "created_at": "2015-02-26T09:59:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227083",
    "user": "ncohen"
}
```

Hello,

> If you can't find an OSX machine around, I can hook up a spare laptop running OSX so that you can ssh into it.Hopefully this will be fast enough. Do you still have access to arando box? Anyhow, you will need to ssh into arando, and from it to the laptop.

I just tried again the instructions you gave me on the 13/06/13 to connect to arando, but I got the following (on boxen):


```
ncohen@boxen:~$ ssh -p21925 localhost
ssh: connect to host localhost port 21925: Connection refused
```


A colleague of mine who has a Mac laptop "may" come in the afternoon. And if she is willing I "could" take it from her for a while, and compile Sage from its sources and stuff.

But really it would be cool if the same machine that Volker uses for his tests could be used for debugging, because really it is very very troublesome to get some code to work on an architecture that I do not have access to.

Nathann



---

archive/issue_comments_227084.json:
```json
{
    "body": "I can give you access, just email me your ssh key. The box is not always on, so let me know when you need it.",
    "created_at": "2015-02-26T18:18:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227084",
    "user": "vbraun"
}
```

I can give you access, just email me your ssh key. The box is not always on, so let me know when you need it.



---

archive/issue_comments_227085.json:
```json
{
    "body": "Replying to [comment:28 vbraun]:\n> I can give you access, just email me your ssh key. The box is not always on, so let me know when you need it.\n\nI think we're all set, Nathann uses an OSX laptop I hooked up via arando. At least it's not under any other load.",
    "created_at": "2015-02-26T18:21:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227085",
    "user": "dimpase"
}
```

Replying to [comment:28 vbraun]:
> I can give you access, just email me your ssh key. The box is not always on, so let me know when you need it.

I think we're all set, Nathann uses an OSX laptop I hooked up via arando. At least it's not under any other load.



---

archive/issue_comments_227086.json:
```json
{
    "body": "I have spent severa hours on this bug, and all I can say right now is that after a call to qsort, what is sorted on my machine is not sorted on the OSX machine.",
    "created_at": "2015-02-26T20:53:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227086",
    "user": "ncohen"
}
```

I have spent severa hours on this bug, and all I can say right now is that after a call to qsort, what is sorted on my machine is not sorted on the OSX machine.



---

archive/issue_comments_227087.json:
```json
{
    "body": "Sounds like your comparison function is not a total order. This is illegal, and qsort behavior will be undefined (and different depending on the algorithm used by qsort, its often not quick sort but depends on the size of the input etc.).",
    "created_at": "2015-02-26T21:09:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227087",
    "user": "vbraun"
}
```

Sounds like your comparison function is not a total order. This is illegal, and qsort behavior will be undefined (and different depending on the algorithm used by qsort, its often not quick sort but depends on the size of the input etc.).



---

archive/issue_comments_227088.json:
```json
{
    "body": "\n```\n  The comparison function must return an integer less than, equal to, or greater than zero if the first\n     argument is considered to be respectively less than, equal to, or greater than the second.\n```\n\n\nand you return `True/False`!",
    "created_at": "2015-02-26T21:27:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227088",
    "user": "dimpase"
}
```


```
  The comparison function must return an integer less than, equal to, or greater than zero if the first
     argument is considered to be respectively less than, equal to, or greater than the second.
```


and you return `True/False`!



---

archive/issue_comments_227089.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-02-27T07:48:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227089",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_227090.json:
```json
{
    "body": "> and you return `True/False`!\n\nThat was it. The function returned 1 or 0, and Linux seemed to do the job alright with that. Mac OS X did not.\n\nNathann",
    "created_at": "2015-02-27T07:49:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227090",
    "user": "ncohen"
}
```

> and you return `True/False`!

That was it. The function returned 1 or 0, and Linux seemed to do the job alright with that. Mac OS X did not.

Nathann



---

archive/issue_comments_227091.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2015-02-27T07:50:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227091",
    "user": "ncohen"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_227092.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-02-28T21:24:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17072",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17072#issuecomment-227092",
    "user": "vbraun"
}
```

Resolution: fixed
