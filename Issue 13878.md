# Issue 13878: PARI stack overflow crashes Sage

archive/issues_013878.json:
```json
{
    "body": "Assignee: @jdemeyer\n\nThe following crashes Sage hard:\n\n```\nsage: i = CDF.0\nsage: fz=animate([line([zeta(s+i*t) for t in srange(0,50,0.01)]) for s in srange(0,0.9,0.01)],xmin=-1.5,ymin=-2,xmax=2.5,ymax=2)\n  ***   the PARI stack overflows !\n  current stack size: 16000000 (15.259 Mbytes)\n  [hint] you can increase GP stack with allocatemem()\n\n  ***   Error in the PARI system. End of program.\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/14082\n\n",
    "created_at": "2013-02-08T08:19:21Z",
    "labels": [
        "component: c_lib",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.8",
    "title": "PARI stack overflow crashes Sage",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13878",
    "user": "https://github.com/jdemeyer"
}
```
Assignee: @jdemeyer

The following crashes Sage hard:

```
sage: i = CDF.0
sage: fz=animate([line([zeta(s+i*t) for t in srange(0,50,0.01)]) for s in srange(0,0.9,0.01)],xmin=-1.5,ymin=-2,xmax=2.5,ymax=2)
  ***   the PARI stack overflows !
  current stack size: 16000000 (15.259 Mbytes)
  [hint] you can increase GP stack with allocatemem()

  ***   Error in the PARI system. End of program.
```


Issue created by migration from https://trac.sagemath.org/ticket/14082





---

archive/issue_comments_172517.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-02-08T11:34:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13878",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13878#issuecomment-172517",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_172518.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-02-24T04:37:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13878",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13878#issuecomment-172518",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_172519.json:
```json
{
    "body": "This looks good, and the following change means that our eta function now agrees with Mathematica (and PARI as well)\n\n\n```\n-            sage: CDF(10^15,0.1).eta()     # slightly random-ish arch dependent output\n-            -0.121339721991 - 0.19619461894*I   \n+            sage: CDF(10^15, 0.1).eta()  # abs tol 1e-10\n+            -0.115342592727 - 0.19977923088*I\n```\n",
    "created_at": "2013-02-24T04:37:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13878",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13878#issuecomment-172519",
    "user": "https://github.com/roed314"
}
```

This looks good, and the following change means that our eta function now agrees with Mathematica (and PARI as well)


```
-            sage: CDF(10^15,0.1).eta()     # slightly random-ish arch dependent output
-            -0.121339721991 - 0.19619461894*I   
+            sage: CDF(10^15, 0.1).eta()  # abs tol 1e-10
+            -0.115342592727 - 0.19977923088*I
```




---

archive/issue_comments_172520.json:
```json
{
    "body": "Attachment [14082_pari_complex_double.patch](tarball://root/attachments/some-uuid/ticket14082/14082_pari_complex_double.patch) by @jdemeyer created at 2013-02-27 18:56:14\n\nRebased.",
    "created_at": "2013-02-27T18:56:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13878",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13878#issuecomment-172520",
    "user": "https://github.com/jdemeyer"
}
```

Attachment [14082_pari_complex_double.patch](tarball://root/attachments/some-uuid/ticket14082/14082_pari_complex_double.patch) by @jdemeyer created at 2013-02-27 18:56:14

Rebased.



---

archive/issue_comments_172521.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-03-04T07:36:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13878",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13878#issuecomment-172521",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_013707.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-03-04T07:36:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13878",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13878#event-13707"
}
```
