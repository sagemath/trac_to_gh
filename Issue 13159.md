# Issue 13159: Build Singular with FLINT support

Issue created by migration from https://trac.sagemath.org/ticket/13331

Original creator: jpflori

Original creation time: 2012-08-03 10:26:29

Assignee: tbd

CC:  burcin jdemeyer

Keywords: singular flint spkg

Once the updated FLINT 2 spkg at #12173 gets into Sage, Singular should be built with FLINT support.


---

Comment by leif created at 2012-08-03 13:18:01

Wonder whether Singular automatically uses FLINT if it finds the proper version (2.x?)...

Singular 3-1-5 (with our old FLINT 1.5.2) says

```
configure: WARNING: Unable to find FLINT (which is strongly recommended) on your machine: please use --with-flint=PATH_TO_DIR_CONTAINING_LIB_AND_INCLUDE (see also ./configure --help if you do not understand what we are talking about)
```


Does this ticket depend on #13237?


---

Comment by jpflori created at 2012-08-03 13:42:27

Replying to [comment:1 leif]:
> Does this ticket depend on #13237?

I guess it should.
It should even depend on the updated spkg I'll post in a few moments in #12089 based on the one in #13237.


---

Comment by leif created at 2013-06-13 15:16:46

Just to make you aware of #14737 (new spkg presumably coming up soon).


---

Comment by jpflori created at 2014-02-19 15:02:03

Changing status from new to needs_review.


---

Comment by jpflori created at 2014-02-19 15:02:03

Modified the options passed to configured, cleaned up a little bit SPKG.txt and updated the deps file for pkgs.
Added a patch so that libsingular.so and not only Singular exe is actually linked to flint.
That should prevent future failure when I decide to test it under cygwin,I'll test it tonight.


---

Comment by git created at 2014-02-19 15:03:05

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by fbissey created at 2014-03-15 06:52:44

Need a refresh since we are now at singular 3.1.6.p1. As the little configuration patch been forwarded upstream?


---

Comment by pbruin created at 2014-05-07 19:36:21

Changing status from needs_review to needs_work.


---

Comment by leif created at 2014-05-07 19:54:05

Replying to [comment:11 pbruin]:
> * *Work issues* set to does not merge with 6.2

Just because of #15937 or the changes to `module_list.py` etc.?


---

Comment by leif created at 2014-05-07 19:56:05

Oh, I see, it's also based on the old version of Singular, as FranÃ§ois already mentioned.


---

Comment by git created at 2014-05-12 13:51:41

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jpflori created at 2014-05-12 14:26:09

I did not forward the little patch upstream for two reasons:
* I'm not sure it will be needed by Singular 4-0-0 whose build system is completely different.
* Singular issue tracker listens on an exotic port that I cannot access from the machine I developed the patch on.


---

Comment by jpflori created at 2014-05-12 14:26:09

Changing status from needs_work to needs_review.


---

Comment by pbruin created at 2014-05-16 01:41:41

This seems all good except for two failing doctests where the output is a list whose ordering has changed:

```
sage -t --long src/doc/en/developer/coding_in_other.rst  # 1 doctest failed
sage -t --long src/doc/en/constructions/algebraic_geometry.rst  # 1 doctest failed
```



---

Comment by pbruin created at 2014-05-16 01:41:41

Changing status from needs_review to needs_work.


---

Comment by leif created at 2014-05-17 17:14:36

FTR/FYI:

There's a small patch at #12442 (attached, no branch) that lets Singular 3.1.6 build with clang.


---

Comment by git created at 2014-07-17 08:36:43

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2014-07-17 10:12:27

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jpflori created at 2014-07-17 10:13:42

Cannot test on 32 bits right now.
Is that a job for the patchbot?
----
New commits:


---

Comment by jpflori created at 2014-07-17 10:13:42

Changing status from needs_work to needs_review.


---

Comment by pbruin created at 2014-07-17 10:22:19

Replying to [comment:20 jpflori]:
> Cannot test on 32 bits right now.
> Is that a job for the patchbot?
I don't know if anyone is running a 32-bit patchbot, but I will test it on ARM.


---

Comment by pbruin created at 2014-07-17 18:19:24

Changing status from needs_review to positive_review.


---

Comment by pbruin created at 2014-07-17 18:19:24

Fixed 32-bit doctests, I think everything should work now.


---

Comment by vbraun created at 2014-07-19 04:57:56

Resolution: fixed
