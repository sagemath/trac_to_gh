# Issue 13159: Build Singular with FLINT support

archive/issues_013159.json:
```json
{
    "body": "Assignee: tbd\n\nCC:  @burcin @jdemeyer\n\nKeywords: singular flint spkg\n\nOnce the updated FLINT 2 spkg at #12173 gets into Sage, Singular should be built with FLINT support.\n\nIssue created by migration from https://trac.sagemath.org/ticket/13331\n\n",
    "created_at": "2012-08-03T10:26:29Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "Build Singular with FLINT support",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13159",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```
Assignee: tbd

CC:  @burcin @jdemeyer

Keywords: singular flint spkg

Once the updated FLINT 2 spkg at #12173 gets into Sage, Singular should be built with FLINT support.

Issue created by migration from https://trac.sagemath.org/ticket/13331





---

archive/issue_comments_160349.json:
```json
{
    "body": "Wonder whether Singular automatically uses FLINT if it finds the proper version (2.x?)...\n\nSingular 3-1-5 (with our old FLINT 1.5.2) says\n\n```\nconfigure: WARNING: Unable to find FLINT (which is strongly recommended) on your machine: please use --with-flint=PATH_TO_DIR_CONTAINING_LIB_AND_INCLUDE (see also ./configure --help if you do not understand what we are talking about)\n```\n\n\nDoes this ticket depend on #13237?",
    "created_at": "2012-08-03T13:18:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13159#issuecomment-160349",
    "user": "https://github.com/nexttime"
}
```

Wonder whether Singular automatically uses FLINT if it finds the proper version (2.x?)...

Singular 3-1-5 (with our old FLINT 1.5.2) says

```
configure: WARNING: Unable to find FLINT (which is strongly recommended) on your machine: please use --with-flint=PATH_TO_DIR_CONTAINING_LIB_AND_INCLUDE (see also ./configure --help if you do not understand what we are talking about)
```


Does this ticket depend on #13237?



---

archive/issue_comments_160350.json:
```json
{
    "body": "Replying to [comment:1 leif]:\n> Does this ticket depend on #13237?\n\nI guess it should.\nIt should even depend on the updated spkg I'll post in a few moments in #12089 based on the one in #13237.",
    "created_at": "2012-08-03T13:42:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13159#issuecomment-160350",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Replying to [comment:1 leif]:
> Does this ticket depend on #13237?

I guess it should.
It should even depend on the updated spkg I'll post in a few moments in #12089 based on the one in #13237.



---

archive/issue_comments_160351.json:
```json
{
    "body": "Just to make you aware of #14737 (new spkg presumably coming up soon).",
    "created_at": "2013-06-13T15:16:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13159#issuecomment-160351",
    "user": "https://github.com/nexttime"
}
```

Just to make you aware of #14737 (new spkg presumably coming up soon).



---

archive/issue_comments_160352.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-02-19T15:02:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13159#issuecomment-160352",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_160353.json:
```json
{
    "body": "Modified the options passed to configured, cleaned up a little bit SPKG.txt and updated the deps file for pkgs.\nAdded a patch so that libsingular.so and not only Singular exe is actually linked to flint.\nThat should prevent future failure when I decide to test it under cygwin,I'll test it tonight.",
    "created_at": "2014-02-19T15:02:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13159#issuecomment-160353",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Modified the options passed to configured, cleaned up a little bit SPKG.txt and updated the deps file for pkgs.
Added a patch so that libsingular.so and not only Singular exe is actually linked to flint.
That should prevent future failure when I decide to test it under cygwin,I'll test it tonight.



---

archive/issue_comments_160354.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-02-19T15:03:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13159#issuecomment-160354",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_160355.json:
```json
{
    "body": "Need a refresh since we are now at singular 3.1.6.p1. As the little configuration patch been forwarded upstream?",
    "created_at": "2014-03-15T06:52:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13159#issuecomment-160355",
    "user": "https://github.com/kiwifb"
}
```

Need a refresh since we are now at singular 3.1.6.p1. As the little configuration patch been forwarded upstream?



---

archive/issue_comments_160356.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-05-07T19:36:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13159#issuecomment-160356",
    "user": "https://github.com/pjbruin"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_160357.json:
```json
{
    "body": "Replying to [comment:11 pbruin]:\n> * **Work issues** set to does not merge with 6.2\n\nJust because of #15937 or the changes to `module_list.py` etc.?",
    "created_at": "2014-05-07T19:54:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13159#issuecomment-160357",
    "user": "https://github.com/nexttime"
}
```

Replying to [comment:11 pbruin]:
> * **Work issues** set to does not merge with 6.2

Just because of #15937 or the changes to `module_list.py` etc.?



---

archive/issue_comments_160358.json:
```json
{
    "body": "Oh, I see, it's also based on the old version of Singular, as Fran\u00e7ois already mentioned.",
    "created_at": "2014-05-07T19:56:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13159#issuecomment-160358",
    "user": "https://github.com/nexttime"
}
```

Oh, I see, it's also based on the old version of Singular, as Fran√ßois already mentioned.



---

archive/issue_comments_160359.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-12T13:51:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13159#issuecomment-160359",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_160360.json:
```json
{
    "body": "I did not forward the little patch upstream for two reasons:\n* I'm not sure it will be needed by Singular 4-0-0 whose build system is completely different.\n* Singular issue tracker listens on an exotic port that I cannot access from the machine I developed the patch on.",
    "created_at": "2014-05-12T14:26:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13159#issuecomment-160360",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

I did not forward the little patch upstream for two reasons:
* I'm not sure it will be needed by Singular 4-0-0 whose build system is completely different.
* Singular issue tracker listens on an exotic port that I cannot access from the machine I developed the patch on.



---

archive/issue_comments_160361.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-05-12T14:26:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13159#issuecomment-160361",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_160362.json:
```json
{
    "body": "This seems all good except for two failing doctests where the output is a list whose ordering has changed:\n\n```\nsage -t --long src/doc/en/developer/coding_in_other.rst  # 1 doctest failed\nsage -t --long src/doc/en/constructions/algebraic_geometry.rst  # 1 doctest failed\n```\n",
    "created_at": "2014-05-16T01:41:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13159#issuecomment-160362",
    "user": "https://github.com/pjbruin"
}
```

This seems all good except for two failing doctests where the output is a list whose ordering has changed:

```
sage -t --long src/doc/en/developer/coding_in_other.rst  # 1 doctest failed
sage -t --long src/doc/en/constructions/algebraic_geometry.rst  # 1 doctest failed
```




---

archive/issue_comments_160363.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-05-16T01:41:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13159#issuecomment-160363",
    "user": "https://github.com/pjbruin"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_160364.json:
```json
{
    "body": "FTR/FYI:\n\nThere's a small patch at #12442 (attached, no branch) that lets Singular 3.1.6 build with clang.",
    "created_at": "2014-05-17T17:14:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13159#issuecomment-160364",
    "user": "https://github.com/nexttime"
}
```

FTR/FYI:

There's a small patch at #12442 (attached, no branch) that lets Singular 3.1.6 build with clang.



---

archive/issue_comments_160365.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-17T08:36:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13159#issuecomment-160365",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_160366.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-07-17T10:12:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13159#issuecomment-160366",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_160367.json:
```json
{
    "body": "Cannot test on 32 bits right now.\nIs that a job for the patchbot?\n----\nNew commits:",
    "created_at": "2014-07-17T10:13:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13159#issuecomment-160367",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Cannot test on 32 bits right now.
Is that a job for the patchbot?
----
New commits:



---

archive/issue_comments_160368.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-07-17T10:13:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13159#issuecomment-160368",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_160369.json:
```json
{
    "body": "Replying to [comment:20 jpflori]:\n> Cannot test on 32 bits right now.\n> Is that a job for the patchbot?\nI don't know if anyone is running a 32-bit patchbot, but I will test it on ARM.",
    "created_at": "2014-07-17T10:22:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13159#issuecomment-160369",
    "user": "https://github.com/pjbruin"
}
```

Replying to [comment:20 jpflori]:
> Cannot test on 32 bits right now.
> Is that a job for the patchbot?
I don't know if anyone is running a 32-bit patchbot, but I will test it on ARM.



---

archive/issue_comments_160370.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-07-17T18:19:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13159#issuecomment-160370",
    "user": "https://github.com/pjbruin"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_160371.json:
```json
{
    "body": "Fixed 32-bit doctests, I think everything should work now.",
    "created_at": "2014-07-17T18:19:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13159#issuecomment-160371",
    "user": "https://github.com/pjbruin"
}
```

Fixed 32-bit doctests, I think everything should work now.



---

archive/issue_events_013076.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2014-07-19T04:57:56Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/13159",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/13159#event-13076"
}
```



---

archive/issue_comments_160372.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-07-19T04:57:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13159",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13159#issuecomment-160372",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
