# Issue 19518: lcalc drops LDFLAGS

Issue created by migration from https://trac.sagemath.org/ticket/19755

Original creator: vbraun

Original creation time: 2015-12-21 20:13:13

CC:  fbissey

lcalc also ignores LDFLAGS, though it seems to work despite that; From the build log:

```
g++ -shared  -o libLfunction.so Lglobals.o Lgamma.o Lriemannsiegel.o Lriemannsiegel_blfi.o Ldokchitser.o
```

It only uses gcc libraries that are possibly bundled in Sage

```
$ ldd local/lib/libLfunction.so 
	linux-vdso.so.1 (0x00007fff7af81000)
	libstdc++.so.6 => /lib64/libstdc++.so.6 (0x00007f16509c9000)
	libm.so.6 => /lib64/libm.so.6 (0x00007f16506c7000)
	libgcc_s.so.1 => /lib64/libgcc_s.so.1 (0x00007f16504af000)
	libc.so.6 => /lib64/libc.so.6 (0x00007f16500ee000)
	/lib64/ld-linux-x86-64.so.2 (0x0000561c92433000)
```



---

Comment by vbraun created at 2015-12-23 05:21:16

New commits:


---

Comment by vbraun created at 2015-12-23 05:21:16

Changing status from new to needs_review.


---

Comment by fbissey created at 2015-12-23 05:30:46

Changing status from needs_review to positive_review.


---

Comment by fbissey created at 2015-12-23 05:30:46

Indeed, I had taken care of this in sage-on-gentoo but it has never been transmitted to the sage spkg.


---

Comment by jdemeyer created at 2015-12-23 22:47:05

This needs an `lcalc` version bump.


---

Comment by jdemeyer created at 2015-12-23 22:47:05

Changing status from positive_review to needs_work.


---

Comment by jdemeyer created at 2015-12-23 23:06:33

Although `lcalc` depends on `pari`, so I guess it's transitively fixed by #19649.


---

Comment by jdemeyer created at 2015-12-23 23:06:33

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2015-12-24 10:53:13

Resolution: fixed
