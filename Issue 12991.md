# Issue 12991: E.minimal_model() crashes with large coefficients.

archive/issues_012991.json:
```json
{
    "body": "Assignee: cremona\n\nKeywords: minimal model\n\nThis code\n\n\n```\nE=EllipticCurve([4382696457564794691603442338788106497, 28, 3992, 16777216, 298])\nE.minimal_model()\n```\n\n\nSpits out this error:\n\n\n```\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"_sage_input_23.py\", line 10, in <module>\n    exec compile(u'open(\"___code___.py\",\"w\").write(\"# -*- coding: utf-8 -*-\\\\n\" + _support_.preparse_worksheet_cell(base64.b64decode(\"RT1FbGxpcHRpY0N1cnZlKFs0MzgyNjk2NDU3NTY0Nzk0NjkxNjAzNDQyMzM4Nzg4MTA2NDk3LCAyOCwgMzk5MiwgMTY3NzcyMTYsIDI5OF0pCkUubWluaW1hbF9tb2RlbCgp\"),globals())+\"\\\\n\"); execfile(os.path.abspath(\"___code___.py\"))\n  File \"\", line 1, in <module>\n    \n  File \"/tmp/tmpQWTtgb/___code___.py\", line 4, in <module>\n    exec compile(u'E.minimal_model()\n  File \"\", line 1, in <module>\n    \n  File \"/sagenb/sage_install/sage-5.0-boxen-x86_64-Linux/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/ell_rational_field.py\", line 2552, in minimal_model\n    F = self.pari_mincurve()\n  File \"/sagenb/sage_install/sage-5.0-boxen-x86_64-Linux/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/ell_rational_field.py\", line 713, in pari_mincurve\n    e = self.pari_curve(prec)\n  File \"/sagenb/sage_install/sage-5.0-boxen-x86_64-Linux/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/ell_rational_field.py\", line 664, in pari_curve\n    self._pari_curve[prec] = pari(list(self.a_invariants())).ellinit(precision=prec)\n  File \"gen.pyx\", line 10416, in sage.libs.pari.gen._pari_trap (sage/libs/pari/gen.c:49843)\nsage.libs.pari.gen.PariError: precision too low (10)\n```\n\n\nIt looks like the precision needs to be increased when such a large curve is fed to PARI's minimal model algorithm.\n\nIssue created by migration from https://trac.sagemath.org/ticket/13163\n\n",
    "created_at": "2012-06-25T18:04:12Z",
    "labels": [
        "elliptic curves",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.1",
    "title": "E.minimal_model() crashes with large coefficients.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12991",
    "user": "weigandt"
}
```
Assignee: cremona

Keywords: minimal model

This code


```
E=EllipticCurve([4382696457564794691603442338788106497, 28, 3992, 16777216, 298])
E.minimal_model()
```


Spits out this error:


```
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "_sage_input_23.py", line 10, in <module>
    exec compile(u'open("___code___.py","w").write("# -*- coding: utf-8 -*-\\n" + _support_.preparse_worksheet_cell(base64.b64decode("RT1FbGxpcHRpY0N1cnZlKFs0MzgyNjk2NDU3NTY0Nzk0NjkxNjAzNDQyMzM4Nzg4MTA2NDk3LCAyOCwgMzk5MiwgMTY3NzcyMTYsIDI5OF0pCkUubWluaW1hbF9tb2RlbCgp"),globals())+"\\n"); execfile(os.path.abspath("___code___.py"))
  File "", line 1, in <module>
    
  File "/tmp/tmpQWTtgb/___code___.py", line 4, in <module>
    exec compile(u'E.minimal_model()
  File "", line 1, in <module>
    
  File "/sagenb/sage_install/sage-5.0-boxen-x86_64-Linux/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/ell_rational_field.py", line 2552, in minimal_model
    F = self.pari_mincurve()
  File "/sagenb/sage_install/sage-5.0-boxen-x86_64-Linux/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/ell_rational_field.py", line 713, in pari_mincurve
    e = self.pari_curve(prec)
  File "/sagenb/sage_install/sage-5.0-boxen-x86_64-Linux/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/ell_rational_field.py", line 664, in pari_curve
    self._pari_curve[prec] = pari(list(self.a_invariants())).ellinit(precision=prec)
  File "gen.pyx", line 10416, in sage.libs.pari.gen._pari_trap (sage/libs/pari/gen.c:49843)
sage.libs.pari.gen.PariError: precision too low (10)
```


It looks like the precision needs to be increased when such a large curve is fed to PARI's minimal model algorithm.

Issue created by migration from https://trac.sagemath.org/ticket/13163





---

archive/issue_comments_157126.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-01-09T21:27:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12991#issuecomment-157126",
    "user": "jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_157127.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-01-09T21:27:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12991#issuecomment-157127",
    "user": "jdemeyer"
}
```

New commits:



---

archive/issue_comments_157128.json:
```json
{
    "body": "I think I might have been the person who first implemented the variable precision for pari curve construction, and did not do a perfect job.  This looks pretty good to me.",
    "created_at": "2014-01-11T16:01:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12991#issuecomment-157128",
    "user": "cremona"
}
```

I think I might have been the person who first implemented the variable precision for pari curve construction, and did not do a perfect job.  This looks pretty good to me.



---

archive/issue_comments_157129.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-01-11T16:01:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12991#issuecomment-157129",
    "user": "cremona"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_157130.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-01-16T05:10:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12991",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12991#issuecomment-157130",
    "user": "vbraun"
}
```

Resolution: fixed
