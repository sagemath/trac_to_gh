# Issue 19691: infinities break the hash contract

archive/issues_019691.json:
```json
{
    "body": "\n```\nsage: hash(-oo)\n-9223372036854775808\nsage: hash(SR(-oo))\n1390175631\nsage: hash(oo)\n9223372036854775807\nsage: hash(SR(oo))\n1577573780\nsage: hash(unsigned_infinity)\nTypeError: <class 'sage.rings.infinity.UnsignedInfinity'> is not hashable\nsage: hash(SR(unsigned_infinity))\n2904791665\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/19928\n\n",
    "created_at": "2016-01-21T08:54:32Z",
    "labels": [
        "component: symbolics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.4",
    "title": "infinities break the hash contract",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19691",
    "user": "https://github.com/rwst"
}
```

```
sage: hash(-oo)
-9223372036854775808
sage: hash(SR(-oo))
1390175631
sage: hash(oo)
9223372036854775807
sage: hash(SR(oo))
1577573780
sage: hash(unsigned_infinity)
TypeError: <class 'sage.rings.infinity.UnsignedInfinity'> is not hashable
sage: hash(SR(unsigned_infinity))
2904791665
```


Issue created by migration from https://trac.sagemath.org/ticket/19928





---

archive/issue_comments_270384.json:
```json
{
    "body": "#19927 has to be fixed in Sage before Pynac can copy hash values from there.",
    "created_at": "2016-01-21T09:05:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19691",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19691#issuecomment-270384",
    "user": "https://github.com/rwst"
}
```

#19927 has to be fixed in Sage before Pynac can copy hash values from there.



---

archive/issue_comments_270385.json:
```json
{
    "body": "It's fixed now and just needs to be doctested.",
    "created_at": "2016-02-05T08:59:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19691",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19691#issuecomment-270385",
    "user": "https://github.com/rwst"
}
```

It's fixed now and just needs to be doctested.



---

archive/issue_comments_270386.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-08-03T07:53:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19691",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19691#issuecomment-270386",
    "user": "https://github.com/rwst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_270387.json:
```json
{
    "body": "Changing priority from major to trivial.",
    "created_at": "2016-08-03T07:53:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19691",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19691#issuecomment-270387",
    "user": "https://github.com/rwst"
}
```

Changing priority from major to trivial.



---

archive/issue_comments_270388.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-08-03T07:53:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19691",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19691#issuecomment-270388",
    "user": "https://github.com/rwst"
}
```

New commits:



---

archive/issue_comments_270389.json:
```json
{
    "body": "This is more towards bikeshedding, but I don't quite understand why you switched the tests to use `assert` instead of letting the doctest framework do its usual work. I feel that the previous tests were (marginally) more clear.",
    "created_at": "2016-08-04T20:44:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19691",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19691#issuecomment-270389",
    "user": "https://github.com/tscrim"
}
```

This is more towards bikeshedding, but I don't quite understand why you switched the tests to use `assert` instead of letting the doctest framework do its usual work. I feel that the previous tests were (marginally) more clear.



---

archive/issue_comments_270390.json:
```json
{
    "body": "Replying to [comment:9 tscrim]:\n> This is more towards bikeshedding, but I don't quite understand why you switched the tests to use `assert` instead of letting the doctest framework do its usual work. I feel that the previous tests were (marginally) more clear.\n\n+1",
    "created_at": "2016-09-14T09:44:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19691",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19691#issuecomment-270390",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:9 tscrim]:
> This is more towards bikeshedding, but I don't quite understand why you switched the tests to use `assert` instead of letting the doctest framework do its usual work. I feel that the previous tests were (marginally) more clear.

+1



---

archive/issue_comments_270391.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-09-14T11:53:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19691",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19691#issuecomment-270391",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_270392.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-11-06T14:17:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19691",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19691#issuecomment-270392",
    "user": "https://github.com/rwst"
}
```

New commits:



---

archive/issue_comments_270393.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-11-06T14:17:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19691",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19691#issuecomment-270393",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_270394.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-11-06T14:48:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19691",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19691#issuecomment-270394",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_270395.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-11-11T17:53:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19691",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19691#issuecomment-270395",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
