# Issue 19691: infinities break the hash contract

Issue created by migration from Trac.

Original creator: rws

Original creation time: 2016-01-21 08:54:32


```
sage: hash(-oo)
-9223372036854775808
sage: hash(SR(-oo))
1390175631
sage: hash(oo)
9223372036854775807
sage: hash(SR(oo))
1577573780
sage: hash(unsigned_infinity)
TypeError: <class 'sage.rings.infinity.UnsignedInfinity'> is not hashable
sage: hash(SR(unsigned_infinity))
2904791665
```



---

Comment by rws created at 2016-01-21 09:05:05

#19927 has to be fixed in Sage before Pynac can copy hash values from there.


---

Comment by rws created at 2016-02-05 08:59:02

It's fixed now and just needs to be doctested.


---

Comment by rws created at 2016-08-03 07:53:54

Changing status from new to needs_review.


---

Comment by rws created at 2016-08-03 07:53:54

Changing priority from major to trivial.


---

Comment by rws created at 2016-08-03 07:53:54

New commits:


---

Comment by tscrim created at 2016-08-04 20:44:11

This is more towards bikeshedding, but I don't quite understand why you switched the tests to use `assert` instead of letting the doctest framework do its usual work. I feel that the previous tests were (marginally) more clear.


---

Comment by jdemeyer created at 2016-09-14 09:44:25

Replying to [comment:9 tscrim]:
> This is more towards bikeshedding, but I don't quite understand why you switched the tests to use `assert` instead of letting the doctest framework do its usual work. I feel that the previous tests were (marginally) more clear.

+1


---

Comment by jdemeyer created at 2016-09-14 11:53:26

Changing status from needs_review to needs_work.


---

Comment by rws created at 2016-11-06 14:17:43

New commits:


---

Comment by rws created at 2016-11-06 14:17:43

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2016-11-06 14:48:48

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-11-11 17:53:38

Resolution: fixed
