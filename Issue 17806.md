# Issue 17806: Support for HyperbolicPlane() in modform_hecketriangle

archive/issues_017806.json:
```json
{
    "body": "CC:  mraum @videlec\n\nKeywords: hecke triangle hyperbolic\n\nThis ticket adds support for HyperbolicPlane() in modform_hecketriangle:\n- Evaluation of elements at points of HyperbolicPlane()\n- Action on points of HyperbolicPlane()\n- Interpret Hecke triangle group elements as isometries\n\nTODO:\n- Improve the current enhancements...\n- Limit the scope to the (one-dimensional) hyperbolic plane\n- Maybe: Support more features of HyperbolicPlane(), improve interpretation of isometries\n- Probably not / later: Support for relative number fields, hyperbolic fixed points\n\nIssue created by migration from https://trac.sagemath.org/ticket/18043\n\n",
    "created_at": "2015-03-23T23:49:50Z",
    "labels": [
        "modular forms",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.10",
    "title": "Support for HyperbolicPlane() in modform_hecketriangle",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17806",
    "user": "@jjermann"
}
```
CC:  mraum @videlec

Keywords: hecke triangle hyperbolic

This ticket adds support for HyperbolicPlane() in modform_hecketriangle:
- Evaluation of elements at points of HyperbolicPlane()
- Action on points of HyperbolicPlane()
- Interpret Hecke triangle group elements as isometries

TODO:
- Improve the current enhancements...
- Limit the scope to the (one-dimensional) hyperbolic plane
- Maybe: Support more features of HyperbolicPlane(), improve interpretation of isometries
- Probably not / later: Support for relative number fields, hyperbolic fixed points

Issue created by migration from https://trac.sagemath.org/ticket/18043





---

archive/issue_comments_238643.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-04-16T16:47:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17806",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17806#issuecomment-238643",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_238644.json:
```json
{
    "body": "Rebase on 6.7.beta1\n----\nNew commits:",
    "created_at": "2015-04-16T16:47:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17806",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17806#issuecomment-238644",
    "user": "@jjermann"
}
```

Rebase on 6.7.beta1
----
New commits:



---

archive/issue_comments_238645.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-09-14T14:28:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17806",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17806#issuecomment-238645",
    "user": "@jjermann"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_238646.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-09-14T14:31:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17806",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17806#issuecomment-238646",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_238647.json:
```json
{
    "body": "Replying to [comment:4 git]:\n> Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n> ||[3606713](http://git.sagemath.org/sage.git/commit/?id=360671351c7183f13afd34dcc5e8949cae5fa526)||`partial support for HyperbolicPlane()`||\n\nThis was a rebase on develop",
    "created_at": "2015-09-14T14:32:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17806",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17806#issuecomment-238647",
    "user": "@jjermann"
}
```

Replying to [comment:4 git]:
> Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
> ||[3606713](http://git.sagemath.org/sage.git/commit/?id=360671351c7183f13afd34dcc5e8949cae5fa526)||`partial support for HyperbolicPlane()`||

This was a rebase on develop



---

archive/issue_comments_238648.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2015-10-15T17:52:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17806",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17806#issuecomment-238648",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_238649.json:
```json
{
    "body": "I will trust you that the math is sound (better if there is a quick reference I can check). Here is a technical review.\n\n- You might want to consider implementing a `_act_on_` for the Hecke triangle group or `_acted_upon_` or `_get_action_` for the points of the hyperbolic plane.\n- I believe this comment is done by `as_isometry`:\n  {{{\n        # TODO: Make it possible to interpret elements as isometries of the HyperbolicPlane\n        #       and possibly use/implement actions using the HyperbolicPlane model\n  }}}\n- The name `as_isometry` is somewhat vague. Perhaps the more verbose `as_hyperbolic_plane_isometry`? Unless it is well-understood that this comes from isometries of the hyperbolic plane. You might also want to consider adding a second argument that takes a model of the hyperbolic plane (with the default being `'UHP'`).\n- More of a side remark, the docstrings should be aligned as follows for better typesetting in the html/pdf documentation:\n  {{{\nINPUT:\n\n- ``foo`` -- a really log docstring that wants to keep going should wrap\n  around and start at the same first non-whitespace character after the\n  bullet point object ``-``\n  }}}\n- Another side remark, I would make this change:\n  {{{#!diff\n-        It is possible to evaluate at points of ``HyperbolicPlane()``:\n-\n-        ::\n+        It is possible to evaluate at points of ``HyperbolicPlane()``::\n  }}}\n\nBoth of the side remarks do not need to be addressed for me to set this to a positive review.",
    "created_at": "2015-11-02T23:17:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17806",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17806#issuecomment-238649",
    "user": "@tscrim"
}
```

I will trust you that the math is sound (better if there is a quick reference I can check). Here is a technical review.

- You might want to consider implementing a `_act_on_` for the Hecke triangle group or `_acted_upon_` or `_get_action_` for the points of the hyperbolic plane.
- I believe this comment is done by `as_isometry`:
  {{{
        # TODO: Make it possible to interpret elements as isometries of the HyperbolicPlane
        #       and possibly use/implement actions using the HyperbolicPlane model
  }}}
- The name `as_isometry` is somewhat vague. Perhaps the more verbose `as_hyperbolic_plane_isometry`? Unless it is well-understood that this comes from isometries of the hyperbolic plane. You might also want to consider adding a second argument that takes a model of the hyperbolic plane (with the default being `'UHP'`).
- More of a side remark, the docstrings should be aligned as follows for better typesetting in the html/pdf documentation:
  {{{
INPUT:

- ``foo`` -- a really log docstring that wants to keep going should wrap
  around and start at the same first non-whitespace character after the
  bullet point object ``-``
  }}}
- Another side remark, I would make this change:
  {{{#!diff
-        It is possible to evaluate at points of ``HyperbolicPlane()``:
-
-        ::
+        It is possible to evaluate at points of ``HyperbolicPlane()``::
  }}}

Both of the side remarks do not need to be addressed for me to set this to a positive review.



---

archive/issue_comments_238650.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-11-03T22:32:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17806",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17806#issuecomment-238650",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_238651.json:
```json
{
    "body": "Replying to [comment:8 tscrim]:\n\nThanks for the helpful comments.",
    "created_at": "2015-11-03T22:46:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17806",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17806#issuecomment-238651",
    "user": "@jjermann"
}
```

Replying to [comment:8 tscrim]:

Thanks for the helpful comments.



---

archive/issue_comments_238652.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-11-04T19:39:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17806",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17806#issuecomment-238652",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_238653.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-11-04T22:00:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17806",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17806#issuecomment-238653",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_238654.json:
```json
{
    "body": "The coercion framework does not extend actions via coercion, i.e., it does not automatically complete this diagram:\n\n```\na ~~> X\n .\n  .   |\n   .  V\n    .\n      Y\n```\n\nwhere `~~>` is the action of `a` on `X` and `X -> Y` is a coercion. I think it should, but that is an issue for another ticket.\n\nIf you are done making additions, then you can set a positive review as everything else looks good to me.",
    "created_at": "2015-11-05T00:19:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17806",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17806#issuecomment-238654",
    "user": "@tscrim"
}
```

The coercion framework does not extend actions via coercion, i.e., it does not automatically complete this diagram:

```
a ~~> X
 .
  .   |
   .  V
    .
      Y
```

where `~~>` is the action of `a` on `X` and `X -> Y` is a coercion. I think it should, but that is an issue for another ticket.

If you are done making additions, then you can set a positive review as everything else looks good to me.



---

archive/issue_comments_238655.json:
```json
{
    "body": "Hi\n\nYes, I'm aware regarding actions & coercions. But the statement \"p in CC\" already takes care of that. I dont see a problem or did I miss something?\n\nI'm glad to hear the ticket is ready for positive review. I won't make any changes anymore so you can set it to positive review. I don't think I'm supposed to set it myself (?).\n\nThanks for the review\nJonas",
    "created_at": "2015-11-05T17:12:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17806",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17806#issuecomment-238655",
    "user": "@jjermann"
}
```

Hi

Yes, I'm aware regarding actions & coercions. But the statement "p in CC" already takes care of that. I dont see a problem or did I miss something?

I'm glad to hear the ticket is ready for positive review. I won't make any changes anymore so you can set it to positive review. I don't think I'm supposed to set it myself (?).

Thanks for the review
Jonas



---

archive/issue_comments_238656.json:
```json
{
    "body": "Replying to [comment:14 jj]:\n> Yes, I'm aware regarding actions & coercions. But the statement \"p in CC\" already takes care of that. I dont see a problem or did I miss something?\n\nI think I misunderstood your comment in the code.\n\n> I'm glad to hear the ticket is ready for positive review. I won't make any changes anymore so you can set it to positive review. I don't think I'm supposed to set it myself (?).\n\nYou could have as I said it was okay. However, I'll just do it now. Thanks for your work on this.",
    "created_at": "2015-11-05T18:08:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17806",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17806#issuecomment-238656",
    "user": "@tscrim"
}
```

Replying to [comment:14 jj]:
> Yes, I'm aware regarding actions & coercions. But the statement "p in CC" already takes care of that. I dont see a problem or did I miss something?

I think I misunderstood your comment in the code.

> I'm glad to hear the ticket is ready for positive review. I won't make any changes anymore so you can set it to positive review. I don't think I'm supposed to set it myself (?).

You could have as I said it was okay. However, I'll just do it now. Thanks for your work on this.



---

archive/issue_comments_238657.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-11-05T18:08:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17806",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17806#issuecomment-238657",
    "user": "@tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_238658.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-11-06T19:04:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17806",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17806#issuecomment-238658",
    "user": "@vbraun"
}
```

Resolution: fixed
