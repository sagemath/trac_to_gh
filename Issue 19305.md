# Issue 19305: Exception strings to Developer manual

Issue created by migration from https://trac.sagemath.org/ticket/19542

Original creator: jmantysalo

Original creation time: 2015-11-07 06:41:35

CC:  â€‹jdemeyer

This patch adds a note about exception strings to developer manual. As an example it also unifies exceptions in `posets.py`.



---

Comment by ncohen created at 2015-11-07 09:24:41

I'm against this. I have exceptions which are meant to be informative, and sometimes contain >1 sentence. I do not agree with a standard that would force me to make them less informative.


---

Comment by ncohen created at 2015-11-07 09:34:38

You have exceptions with multiple sentences in misc/package.py. It is true, however, that the first sentence starts with a lower case and the second sentence does not contain a dot.

Do you mean that you want this standard to be applied even when several sentences occur?

i.e. do you meant that you want full sentences to end with a dot "Except the last" and to begin with an Upper case "except the first"?

Nathann


---

Comment by jmantysalo created at 2015-11-07 09:44:10

Replying to [comment:3 ncohen]:

> Do you mean that you want this standard to be applied even when several sentences occur?

I did not change


```
raise ValueError("element_labels should be a dict or a list if "+
                 "different from None. (Did you intend data to be "+
                 "equal to a pair ?)")
```


And as I have said before: Whole developer manual should be seen as a default values. "Do like this, or think (and maybe say out) why you did not."

Personally I would like to see whole sentences always, but it is against Python conventions. Can we say "If exception string is one sentence, start it with lowercase and do not end to comma. In other words, follow Python convention::"

In any case the error reporting is not that good for beginner. Example:


```
P = Posets.PentagonPoset()
p1 = P.chain_polynomial()
p2 = P.characteristic_polynomial()
p3 = P.h_polynomial()
```


says


```
Traceback (click to the left of this block for traceback)
...
TypeError: the poset should be graded
```


and clicking says something strange like `exec compile(u'open("___code___.py","w").write("# -*- coding: utf-8 -*-\\n" + _support_.preparse`... It takes a while to see what function failed.


---

Comment by ncohen created at 2015-11-07 09:47:28

Can you say why you think that we should be consistent with Python on this respect? It seems that you accept that we have full sentences (contrary to python) so that we will not be consistent anyway.

As the text of an exception does not appear in any kind of code I do not think that we should follow any such standard, and that we should strive instead to make our exception as natural as possible to our users. By following the rules of english.

Nathann


---

Comment by jmantysalo created at 2015-11-07 09:53:07

Replying to [comment:5 ncohen]:
> Can you say why you think that we should be consistent with Python on this respect? It seems that you accept that we have full sentences (contrary to python) so that we will not be consistent anyway.

According to discussion at sage-devel it seems that this is what is wanted by majority. But maybe it is not. At least Kevin suggested normal English sentences. Maybe you can continue discussion here. I can then make changes to this ticket.


---

Comment by ncohen created at 2015-11-07 09:55:00

I cannot find that discussion. Can you add a link toward the thread in this ticket's description?


---

Comment by jmantysalo created at 2015-11-07 09:56:12

Replying to [comment:7 ncohen]:
> I cannot find that discussion. Can you add a link toward the thread in this ticket's description?

Here: https://groups.google.com/forum/#!topic/sage-devel/KSQZ3fzxWac


---

Comment by ncohen created at 2015-11-07 10:01:42

In this thread I see two persons giving an opinion:

- Jeroen says that we should follow Python (he does not say what he thinks should happen with multi-sentences exception)

- Daniel says that we should follow english.

You said here that you prefered English, same for me. That's 3 against one, so here lies the majority.

Volker says that indeed multi sentences is against python convention already, and your branch does nothing about that.

So please do not consider that there is a majority for this change, and if you insist on enforcing it please open a thread devoted to it.

"All sentences except the first start with an upper case, and all sentences except the last end with a point" does not sound exceptionally enticing to me.

Nathann


---

Comment by jmantysalo created at 2015-11-07 11:15:56

True. I asked for more "votes" on this on list.


---

Comment by jmantysalo created at 2016-01-10 08:13:31

This one does not seem to converge. Should we just close this ticket, and maybe return to it in a future far away?


---

Comment by ncohen created at 2016-01-10 11:39:09

+1 for closing it.


---

Comment by jmantysalo created at 2016-01-15 06:09:54

Changing status from new to needs_review.


---

Comment by jmantysalo created at 2016-01-15 06:09:54

Replying to [comment:12 ncohen]:
> +1 for closing it.

OK, the last call.


---

Comment by ncohen created at 2016-01-15 07:09:31

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-02-23 23:00:06

Resolution: wontfix
