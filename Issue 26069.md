# Issue 26069: py3: sort group elements for generating OperationTables

Issue created by migration from https://trac.sagemath.org/ticket/26306

Original creator: embray

Original creation time: 2018-09-18 16:53:23

CC:  vbraun rbeezer

I don't know how much of a problem this is, if any, but it seems to make sense--sorting the elements results in more consistent tables.

For the judson-abstract-algebra book tests I guess we should also inform the authors of the changes if/when this is merged.

I don't think in any case there's a problem with changing the existing tables that were output, but I'm not sure?  The only one I knew needed to be handled with care were the quaternion examples, but other than that I don't think the labeling of elements matters?


---

Comment by embray created at 2018-09-18 16:53:37

Changing status from new to needs_review.


---

Comment by chapoton created at 2018-09-19 08:02:28

some failing doctests


---

Comment by chapoton created at 2018-09-19 08:02:28

Changing status from needs_review to needs_work.


---

Comment by embray created at 2018-09-19 10:29:07

Ah, I forgot to grep `src/doc` for possible tests that need updating.


---

Comment by git created at 2018-09-19 10:31:04

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by embray created at 2018-09-19 10:31:14

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2018-10-09 08:30:50

Changing status from needs_review to needs_work.


---

Comment by chapoton created at 2018-10-09 08:30:50

red branch


---

Comment by embray created at 2018-10-09 10:22:38

I hadn't seen this ticket #25477 (and the commit messages made it depressingly difficult to track down).  Having this change first would have made that simpler I think...


---

Comment by embray created at 2018-10-09 10:27:37

The changes in that ticket also messed up the examples of multiplication tables for quaternions.


---

Comment by git created at 2018-10-09 10:42:28

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by embray created at 2018-10-09 10:43:48

If there is to be another 8.4 release candidate it would be nice to include this, as it fixes a regression introduced in 8.4.rc0 to the documentation examples.  But I don't know that it's critical.


---

Comment by embray created at 2018-10-09 10:43:48

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2018-10-09 23:50:15

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2018-10-09 23:50:15

I am not fully convinced that the `list` -> `sorted` is the right thing to do for doctests. Unnecessarily sorting things is not necessarily good form IMO as it subtly indicates inconsistent enumeration, which is not the case here.

```diff
-            sage: list(P)                       # optional - database_gap
-            [(), (1,2), (1,2,3), (2,3), (1,3,2), (1,3)]
+            sage: sorted(P)                     # optional - database_gap
+            [(), (2,3), (1,2), (1,2,3), (1,3,2), (1,3)]
```

However, I am fine with doing it internally and it would be good to fix that doctest (sorry about introducing that). So I am giving this a positive review.

Rob, cc-ing you for changes to the book.


---

Comment by vbraun created at 2018-10-20 11:58:50

Resolution: fixed


---

Comment by embray created at 2018-10-28 14:52:23

This should be re-targeted for 8.5.
