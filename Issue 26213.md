# Issue 26213: cython fails to build with SAGE_CHECK=yes

archive/issues_026213.json:
```json
{
    "body": "Keywords: cython\n\nSetting `SAGE_CHECK=yes` and doing `make distclean && make -j1 cython` gives two errors.\n\nI think the relevant part of the log is as follows (full log attached).\n\n\n```\nDoctest: fused_def.__test__.test_opt_func (line 123) ... ok\nrunTest (__main__.CythonRunTestCase)\ncompiling (c) and running fused_types ... \n### C/C++ compiler error output:\nfused_types.c: In function '__pyx_pw_11fused_types_7test_fused_pointer_except_null':\nfused_types.c:36280:16: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]\n         return decode_func(cstring, length, errors);\n                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nfused_types.c:4395:18: note: '__pyx_v_x' was declared here\n static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {\n                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nfused_types.c:41066:20: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]\n             return PyInt_FromLong((long) value);\n                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~\nfused_types.c:4395:18: note: '__pyx_v_x' was declared here\n static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {\n                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nfused_types.c:4493:17: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]\n     __pyx_t_5 = PyFloat_FromDouble((__pyx_t_7[0])); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 150, __pyx_L1_error)\n                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nfused_types.c:4395:18: note: '__pyx_v_x' was declared here\n static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {\n                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n==============================\nERROR\nrunTest (__main__.CythonRunTestCase)\ncompiling (cpp) and running fused_types ... \n### C/C++ compiler error output:\nfused_types.cpp: In function 'PyObject* __pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject*, PyObject*)':\nfused_types.cpp:36294:27: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]\n         return decode_func(cstring, length, errors);\n                ~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~\nfused_types.cpp:4409:18: note: '__pyx_v_x' was declared here\n static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {\n                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nfused_types.cpp:41080:34: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]\n             return PyInt_FromLong((long) value);\n                    ~~~~~~~~~~~~~~^~~~~~~~~~~~~~\nfused_types.cpp:4409:18: note: '__pyx_v_x' was declared here\n static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {\n                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nfused_types.cpp:4507:35: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]\n     __pyx_t_5 = PyFloat_FromDouble((__pyx_t_7[0])); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 150, __pyx_L1_error)\n                 ~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~\nfused_types.cpp:4409:18: note: '__pyx_v_x' was declared here\n static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {\n                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n==============================\nERROR\n```\n\n\nThis is on an i5 machine running Debian Sid amd64, with system gcc and ccache.\n\nIssue created by migration from https://trac.sagemath.org/ticket/26450\n\n",
    "created_at": "2018-10-09T22:53:30Z",
    "labels": [
        "component: cython",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "cython fails to build with SAGE_CHECK=yes",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26213",
    "user": "https://github.com/Konrad127123"
}
```
Keywords: cython

Setting `SAGE_CHECK=yes` and doing `make distclean && make -j1 cython` gives two errors.

I think the relevant part of the log is as follows (full log attached).


```
Doctest: fused_def.__test__.test_opt_func (line 123) ... ok
runTest (__main__.CythonRunTestCase)
compiling (c) and running fused_types ... 
### C/C++ compiler error output:
fused_types.c: In function '__pyx_pw_11fused_types_7test_fused_pointer_except_null':
fused_types.c:36280:16: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]
         return decode_func(cstring, length, errors);
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
fused_types.c:4395:18: note: '__pyx_v_x' was declared here
 static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
fused_types.c:41066:20: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]
             return PyInt_FromLong((long) value);
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
fused_types.c:4395:18: note: '__pyx_v_x' was declared here
 static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
fused_types.c:4493:17: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]
     __pyx_t_5 = PyFloat_FromDouble((__pyx_t_7[0])); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 150, __pyx_L1_error)
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
fused_types.c:4395:18: note: '__pyx_v_x' was declared here
 static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
==============================
ERROR
runTest (__main__.CythonRunTestCase)
compiling (cpp) and running fused_types ... 
### C/C++ compiler error output:
fused_types.cpp: In function 'PyObject* __pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject*, PyObject*)':
fused_types.cpp:36294:27: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]
         return decode_func(cstring, length, errors);
                ~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~
fused_types.cpp:4409:18: note: '__pyx_v_x' was declared here
 static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
fused_types.cpp:41080:34: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]
             return PyInt_FromLong((long) value);
                    ~~~~~~~~~~~~~~^~~~~~~~~~~~~~
fused_types.cpp:4409:18: note: '__pyx_v_x' was declared here
 static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
fused_types.cpp:4507:35: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]
     __pyx_t_5 = PyFloat_FromDouble((__pyx_t_7[0])); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 150, __pyx_L1_error)
                 ~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~
fused_types.cpp:4409:18: note: '__pyx_v_x' was declared here
 static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
==============================
ERROR
```


This is on an i5 machine running Debian Sid amd64, with system gcc and ccache.

Issue created by migration from https://trac.sagemath.org/ticket/26450





---

archive/issue_comments_369033.json:
```json
{
    "body": "Attachment [cython-0.28.4.log](tarball://root/attachments/some-uuid/ticket26450/cython-0.28.4.log) by @Konrad127123 created at 2018-10-09 22:55:05",
    "created_at": "2018-10-09T22:55:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26213#issuecomment-369033",
    "user": "https://github.com/Konrad127123"
}
```

Attachment [cython-0.28.4.log](tarball://root/attachments/some-uuid/ticket26450/cython-0.28.4.log) by @Konrad127123 created at 2018-10-09 22:55:05



---

archive/issue_comments_369034.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2018-10-23T08:37:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26213#issuecomment-369034",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: duplicate



---

archive/issue_events_065758.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-10-23T08:37:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/26213",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26213#event-65758"
}
```



---

archive/issue_comments_369035.json:
```json
{
    "body": "Fixed by Cython 0.29 (#25292)",
    "created_at": "2018-10-23T08:37:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26213",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26213#issuecomment-369035",
    "user": "https://github.com/jdemeyer"
}
```

Fixed by Cython 0.29 (#25292)



---

archive/issue_events_065759.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-10-23T08:37:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26213",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26213#event-65759"
}
```
