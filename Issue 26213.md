# Issue 26213: cython fails to build with SAGE_CHECK=yes

Issue created by migration from Trac.

Original creator: Konrad127123

Original creation time: 2018-10-09 22:53:30

Keywords: cython

Setting `SAGE_CHECK=yes` and doing `make distclean && make -j1 cython` gives two errors.

I think the relevant part of the log is as follows (full log attached).


```
Doctest: fused_def.__test__.test_opt_func (line 123) ... ok
runTest (__main__.CythonRunTestCase)
compiling (c) and running fused_types ... 
### C/C++ compiler error output:
fused_types.c: In function '__pyx_pw_11fused_types_7test_fused_pointer_except_null':
fused_types.c:36280:16: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]
         return decode_func(cstring, length, errors);
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
fused_types.c:4395:18: note: '__pyx_v_x' was declared here
 static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
fused_types.c:41066:20: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]
             return PyInt_FromLong((long) value);
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
fused_types.c:4395:18: note: '__pyx_v_x' was declared here
 static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
fused_types.c:4493:17: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]
     __pyx_t_5 = PyFloat_FromDouble((__pyx_t_7[0])); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 150, __pyx_L1_error)
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
fused_types.c:4395:18: note: '__pyx_v_x' was declared here
 static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
==============================
ERROR
runTest (__main__.CythonRunTestCase)
compiling (cpp) and running fused_types ... 
### C/C++ compiler error output:
fused_types.cpp: In function 'PyObject* __pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject*, PyObject*)':
fused_types.cpp:36294:27: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]
         return decode_func(cstring, length, errors);
                ~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~
fused_types.cpp:4409:18: note: '__pyx_v_x' was declared here
 static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
fused_types.cpp:41080:34: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]
             return PyInt_FromLong((long) value);
                    ~~~~~~~~~~~~~~^~~~~~~~~~~~~~
fused_types.cpp:4409:18: note: '__pyx_v_x' was declared here
 static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
fused_types.cpp:4507:35: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]
     __pyx_t_5 = PyFloat_FromDouble((__pyx_t_7[0])); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 150, __pyx_L1_error)
                 ~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~
fused_types.cpp:4409:18: note: '__pyx_v_x' was declared here
 static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
==============================
ERROR
```


This is on an i5 machine running Debian Sid amd64, with system gcc and ccache.


---

Attachment


---

Comment by jdemeyer created at 2018-10-23 08:37:38

Resolution: duplicate


---

Comment by jdemeyer created at 2018-10-23 08:37:38

Fixed by Cython 0.29 (#25292)
