# Issue 29187: Slackware: system packages fix

archive/issues_029187.json:
```json
{
    "body": "CC:  @dimpase @kliem @orlitzky\n\nBuilding git for `slackware-14.2-minimal` (https://github.com/mkoeppe/sage/runs/542501916):\n\n```\nmkdir -p po/build/locale/vi/LC_MESSAGES/ && msgfmt --check --statistics -o po/build/locale/vi/LC_MESSAGES/git.mo po/vi.po\nmsgfmt: error while loading shared libraries: libcroco-0.6.so.3: cannot open shared object file: No such file or directory\nMakefile:2150: recipe for target 'po/build/locale/vi/LC_MESSAGES/git.mo' failed\nmake[4]: *** [po/build/locale/vi/LC_MESSAGES/git.mo] Error 127\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/29424\n\n",
    "created_at": "2020-03-29T13:04:25Z",
    "labels": [
        "component: porting",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "Slackware: system packages fix",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29187",
    "user": "https://github.com/mkoeppe"
}
```
CC:  @dimpase @kliem @orlitzky

Building git for `slackware-14.2-minimal` (https://github.com/mkoeppe/sage/runs/542501916):

```
mkdir -p po/build/locale/vi/LC_MESSAGES/ && msgfmt --check --statistics -o po/build/locale/vi/LC_MESSAGES/git.mo po/vi.po
msgfmt: error while loading shared libraries: libcroco-0.6.so.3: cannot open shared object file: No such file or directory
Makefile:2150: recipe for target 'po/build/locale/vi/LC_MESSAGES/git.mo' failed
make[4]: *** [po/build/locale/vi/LC_MESSAGES/git.mo] Error 127
```


Issue created by migration from https://trac.sagemath.org/ticket/29424





---

archive/issue_comments_413084.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-03-29T13:21:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29187",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29187#issuecomment-413084",
    "user": "https://github.com/mkoeppe"
}
```

New commits:



---

archive/issue_comments_413085.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-03-29T13:27:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29187",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29187#issuecomment-413085",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_413086.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-03-29T13:31:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29187",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29187#issuecomment-413086",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_413087.json:
```json
{
    "body": "I guess you re-ran your tests on this branch and it worked?\n\n(Is Slackware still requiring manual installation of all dependencies?)",
    "created_at": "2020-04-02T22:04:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29187",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29187#issuecomment-413087",
    "user": "https://github.com/orlitzky"
}
```

I guess you re-ran your tests on this branch and it worked?

(Is Slackware still requiring manual installation of all dependencies?)



---

archive/issue_comments_413088.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-04-02T22:13:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29187",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29187#issuecomment-413088",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_413089.json:
```json
{
    "body": "Replying to [comment:6 mjo]:\n> I guess you re-ran your tests on this branch and it worked?\n\nActually there are still errors (https://github.com/mkoeppe/sage/runs/552216361)\n\n```\nmsgfmt: error while loading shared libraries: libxml2.so.2: cannot open shared object file: No such file or directory\nMakefile:2150: recipe for target 'po/build/locale/ru/LC_MESSAGES/git.mo' failed\n```\n\n\n> (Is Slackware still requiring manual installation of all dependencies?)\n\nYes, which is kind of amusing",
    "created_at": "2020-04-02T22:13:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29187",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29187#issuecomment-413089",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:6 mjo]:
> I guess you re-ran your tests on this branch and it worked?

Actually there are still errors (https://github.com/mkoeppe/sage/runs/552216361)

```
msgfmt: error while loading shared libraries: libxml2.so.2: cannot open shared object file: No such file or directory
Makefile:2150: recipe for target 'po/build/locale/ru/LC_MESSAGES/git.mo' failed
```


> (Is Slackware still requiring manual installation of all dependencies?)

Yes, which is kind of amusing



---

archive/issue_comments_413090.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-07T06:33:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29187",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29187#issuecomment-413090",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_413091.json:
```json
{
    "body": "(deleted)",
    "created_at": "2020-04-08T13:36:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29187",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29187#issuecomment-413091",
    "user": "https://github.com/mkoeppe"
}
```

(deleted)



---

archive/issue_comments_413092.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-04-08T13:36:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29187",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29187#issuecomment-413092",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_413093.json:
```json
{
    "body": "(deleted)",
    "created_at": "2020-04-08T23:04:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29187",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29187#issuecomment-413093",
    "user": "https://github.com/mkoeppe"
}
```

(deleted)



---

archive/issue_comments_413094.json:
```json
{
    "body": "Successful tests ran at https://github.com/mkoeppe/sage/runs/579412320\n\nReady for review",
    "created_at": "2020-04-12T07:05:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29187",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29187#issuecomment-413094",
    "user": "https://github.com/mkoeppe"
}
```

Successful tests ran at https://github.com/mkoeppe/sage/runs/579412320

Ready for review



---

archive/issue_comments_413095.json:
```json
{
    "body": "Tests marked as successful (slackware-standard), https://github.com/mkoeppe/sage/runs/579412322\nshow an error\n\n```\n2020-04-12T02:08:51.7746771Z [sagelib-9.1.beta9] installing. Log file: /sage/logs/pkgs/sagelib-9.1.beta9.log\n2020-04-12T02:08:51.7747324Z   [sagelib-9.1.beta9] successfully installed.  real 0m4.387s user 0m3.213s sys 0m0.984s\n2020-04-12T02:08:51.7747865Z cd ../.. && sage-logger -p './sage --docbuild --no-pdf-links all html ' logs/dochtml.log\n2020-04-12T02:08:51.7748324Z make[3]: Nothing to be done for 'all-sage'.\n2020-04-12T02:08:51.7748518Z [dochtml] installing. Log file: logs/dochtml.log\n2020-04-12T02:08:51.7748693Z   [dochtml] error installing, exit status 1. End of log file:\n2020-04-12T02:08:51.7748880Z   [dochtml]   Traceback (most recent call last):\n2020-04-12T02:08:51.7749083Z   [dochtml]     File \"/sage/local/lib/python3.7/runpy.py\", line 183, in _run_module_as_main\n2020-04-12T02:08:51.7749423Z   [dochtml]       mod_name, mod_spec, code = _get_module_details(mod_name, _Error)\n2020-04-12T02:08:51.7749634Z   [dochtml]     File \"/sage/local/lib/python3.7/runpy.py\", line 142, in _get_module_details\n2020-04-12T02:08:51.7749844Z   [dochtml]       return _get_module_details(pkg_main_name, error)\n2020-04-12T02:08:51.7750051Z   [dochtml]     File \"/sage/local/lib/python3.7/runpy.py\", line 109, in _get_module_details\n2020-04-12T02:08:51.7750253Z   [dochtml]       __import__(pkg_name)\n2020-04-12T02:08:51.7750852Z   [dochtml]     File \"/sage/local/lib/python3.7/site-packages/sage_setup/docbuild/__init__.py\", line 59, in <module>\n2020-04-12T02:08:58.1462272Z   [dochtml]       import sage.all\n2020-04-12T02:08:58.1463451Z   [dochtml]     File \"/sage/local/lib/python3.7/site-packages/sage/all.py\", line 132, in <module>\n2020-04-12T02:08:58.1463748Z   [dochtml]       from sage.matrix.all     import *\n2020-04-12T02:08:58.1464217Z   [dochtml]     File \"/sage/local/lib/python3.7/site-packages/sage/matrix/__init__.py\", line 2, in <module>\n2020-04-12T02:08:58.1464509Z   [dochtml]       import sage.matrix.args\n2020-04-12T02:08:58.1464772Z   [dochtml]     File \"sage/matrix/args.pyx\", line 23, in init sage.matrix.args (build/cythonized/sage/matrix/args.c:21218)\n2020-04-12T02:08:58.1465941Z   [dochtml]     File \"/sage/local/lib/python3.7/site-packages/sage/matrix/matrix_space.py\", line 46, in <module>\n2020-04-12T02:08:58.1466144Z   [dochtml]       from . import matrix_modn_sparse\n2020-04-12T02:08:58.1466332Z   [dochtml]     File \"sage/matrix/matrix_integer_sparse.pxd\", line 5, in init sage.matrix.matrix_modn_sparse (build/cythonized/sage/matrix/matrix_modn_sparse.cpp:16354)\n2020-04-12T02:08:58.1466622Z   [dochtml]     File \"sage/matrix/matrix_integer_dense.pxd\", line 10, in init sage.matrix.matrix_integer_sparse (build/cythonized/sage/matrix/matrix_integer_sparse.cpp:15984)\n2020-04-12T02:08:58.1466816Z   [dochtml]     File \"sage/matrix/matrix_mod2_dense.pxd\", line 4, in init sage.matrix.matrix_integer_dense (build/cythonized/sage/matrix/matrix_integer_dense.c:56567)\n2020-04-12T02:08:58.1467021Z   [dochtml]   ImportError: libfontconfig.so.1: cannot open shared object file: No such file or directory\n2020-04-12T02:08:58.1467177Z   [dochtml] Full log file: logs/dochtml.log\n2020-04-12T02:08:58.1467530Z Makefile:1992: recipe for target 'doc-html' failed\n```\n",
    "created_at": "2020-04-12T15:37:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29187",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29187#issuecomment-413095",
    "user": "https://github.com/dimpase"
}
```

Tests marked as successful (slackware-standard), https://github.com/mkoeppe/sage/runs/579412322
show an error

```
2020-04-12T02:08:51.7746771Z [sagelib-9.1.beta9] installing. Log file: /sage/logs/pkgs/sagelib-9.1.beta9.log
2020-04-12T02:08:51.7747324Z   [sagelib-9.1.beta9] successfully installed.  real 0m4.387s user 0m3.213s sys 0m0.984s
2020-04-12T02:08:51.7747865Z cd ../.. && sage-logger -p './sage --docbuild --no-pdf-links all html ' logs/dochtml.log
2020-04-12T02:08:51.7748324Z make[3]: Nothing to be done for 'all-sage'.
2020-04-12T02:08:51.7748518Z [dochtml] installing. Log file: logs/dochtml.log
2020-04-12T02:08:51.7748693Z   [dochtml] error installing, exit status 1. End of log file:
2020-04-12T02:08:51.7748880Z   [dochtml]   Traceback (most recent call last):
2020-04-12T02:08:51.7749083Z   [dochtml]     File "/sage/local/lib/python3.7/runpy.py", line 183, in _run_module_as_main
2020-04-12T02:08:51.7749423Z   [dochtml]       mod_name, mod_spec, code = _get_module_details(mod_name, _Error)
2020-04-12T02:08:51.7749634Z   [dochtml]     File "/sage/local/lib/python3.7/runpy.py", line 142, in _get_module_details
2020-04-12T02:08:51.7749844Z   [dochtml]       return _get_module_details(pkg_main_name, error)
2020-04-12T02:08:51.7750051Z   [dochtml]     File "/sage/local/lib/python3.7/runpy.py", line 109, in _get_module_details
2020-04-12T02:08:51.7750253Z   [dochtml]       __import__(pkg_name)
2020-04-12T02:08:51.7750852Z   [dochtml]     File "/sage/local/lib/python3.7/site-packages/sage_setup/docbuild/__init__.py", line 59, in <module>
2020-04-12T02:08:58.1462272Z   [dochtml]       import sage.all
2020-04-12T02:08:58.1463451Z   [dochtml]     File "/sage/local/lib/python3.7/site-packages/sage/all.py", line 132, in <module>
2020-04-12T02:08:58.1463748Z   [dochtml]       from sage.matrix.all     import *
2020-04-12T02:08:58.1464217Z   [dochtml]     File "/sage/local/lib/python3.7/site-packages/sage/matrix/__init__.py", line 2, in <module>
2020-04-12T02:08:58.1464509Z   [dochtml]       import sage.matrix.args
2020-04-12T02:08:58.1464772Z   [dochtml]     File "sage/matrix/args.pyx", line 23, in init sage.matrix.args (build/cythonized/sage/matrix/args.c:21218)
2020-04-12T02:08:58.1465941Z   [dochtml]     File "/sage/local/lib/python3.7/site-packages/sage/matrix/matrix_space.py", line 46, in <module>
2020-04-12T02:08:58.1466144Z   [dochtml]       from . import matrix_modn_sparse
2020-04-12T02:08:58.1466332Z   [dochtml]     File "sage/matrix/matrix_integer_sparse.pxd", line 5, in init sage.matrix.matrix_modn_sparse (build/cythonized/sage/matrix/matrix_modn_sparse.cpp:16354)
2020-04-12T02:08:58.1466622Z   [dochtml]     File "sage/matrix/matrix_integer_dense.pxd", line 10, in init sage.matrix.matrix_integer_sparse (build/cythonized/sage/matrix/matrix_integer_sparse.cpp:15984)
2020-04-12T02:08:58.1466816Z   [dochtml]     File "sage/matrix/matrix_mod2_dense.pxd", line 4, in init sage.matrix.matrix_integer_dense (build/cythonized/sage/matrix/matrix_integer_dense.c:56567)
2020-04-12T02:08:58.1467021Z   [dochtml]   ImportError: libfontconfig.so.1: cannot open shared object file: No such file or directory
2020-04-12T02:08:58.1467177Z   [dochtml] Full log file: logs/dochtml.log
2020-04-12T02:08:58.1467530Z Makefile:1992: recipe for target 'doc-html' failed
```




---

archive/issue_comments_413096.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-04-12T15:37:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29187",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29187#issuecomment-413096",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_413097.json:
```json
{
    "body": "I guess `fontconfig` package has to be added to pre-reqs?",
    "created_at": "2020-04-12T15:39:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29187",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29187#issuecomment-413097",
    "user": "https://github.com/dimpase"
}
```

I guess `fontconfig` package has to be added to pre-reqs?



---

archive/issue_comments_413098.json:
```json
{
    "body": "but it's worrying that the error was not detected, probably because no \"package\" was reported to have failed.",
    "created_at": "2020-04-12T15:40:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29187",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29187#issuecomment-413098",
    "user": "https://github.com/dimpase"
}
```

but it's worrying that the error was not detected, probably because no "package" was reported to have failed.



---

archive/issue_comments_413099.json:
```json
{
    "body": "Replying to [comment:15 dimpase]:\n> but it's worrying that the error was not detected, probably because no \"package\" was reported to have failed.\nYes, this due to work in progress in #29417",
    "created_at": "2020-04-12T15:51:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29187",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29187#issuecomment-413099",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:15 dimpase]:
> but it's worrying that the error was not detected, probably because no "package" was reported to have failed.
Yes, this due to work in progress in #29417



---

archive/issue_comments_413100.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-17T19:07:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29187",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29187#issuecomment-413100",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_413101.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-04-17T19:16:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29187",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29187#issuecomment-413101",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_413102.json:
```json
{
    "body": "looks good to me - apart from slackware-minimal builds running out of time, but this is for another ticket.",
    "created_at": "2020-04-19T03:14:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29187",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29187#issuecomment-413102",
    "user": "https://github.com/dimpase"
}
```

looks good to me - apart from slackware-minimal builds running out of time, but this is for another ticket.



---

archive/issue_comments_413103.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-04-19T03:14:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29187",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29187#issuecomment-413103",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_413104.json:
```json
{
    "body": "Thanks!",
    "created_at": "2020-04-19T03:15:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29187",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29187#issuecomment-413104",
    "user": "https://github.com/mkoeppe"
}
```

Thanks!



---

archive/issue_comments_413105.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-04-22T20:52:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29187",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29187#issuecomment-413105",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_074997.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-04-22T20:52:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29187",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29187#event-74997"
}
```
