# Issue 29338: debian-jessie: fflas_ffpack again

Issue created by migration from https://trac.sagemath.org/ticket/29575

Original creator: mkoeppe

Original creation time: 2020-04-25 06:36:52

CC:  dimpase arojas @timokau fbissey vbraun â€‹tmonteil

Again (even after #29102, unrelated to #29161):

debian-jessie-minimal (https://github.com/mkoeppe/sage/runs/617198894):

```
../../../fflas-ffpack/fflas/fflas_simd/simd512_float.inl: In static member function 'static Simd512_impl<true, false, true, 4>::vect_t Simd512_impl<true, false, true, 4>::blendv(Simd512_impl<true, false, true, 4>::vect_t, Simd512_impl<true, false, true, 4>::vect_t, Simd512_impl<true, false, true, 4>::vect_t)':
../../../fflas-ffpack/fflas/fflas_simd/simd512_float.inl:189:48: error: '_mm512_castps512_ps256' was not declared in this scope
         __m256 lowa  = _mm512_castps512_ps256(a);
                                                ^
../../../fflas-ffpack/fflas/fflas_simd/simd512_float.inl:190:82: error: '_mm512_castps_pd' was not declared in this scope
         __m256 higha = _mm256_castpd_ps(_mm512_extractf64x4_pd(_mm512_castps_pd(a),1));
                                                                                  ^
../../../fflas-ffpack/fflas/fflas_simd/simd512_float.inl:201:51: error: '_mm512_castps256_ps512' was not declared in this scope
         __m512 res = _mm512_castps256_ps512(reslow);
```





---

Comment by mkoeppe created at 2020-04-25 15:52:14

Changing priority from major to blocker.


---

Comment by @kliem created at 2020-04-25 17:36:40

This looks like this should be handled in #27122.

`_mm512_castps512_ps256` is an AVX512F instruction (see 
[https://software.intel.com/sites/landingpage/IntrinsicsGuide/#text=_mm512_castps512_ps256&expand=625](https://software.intel.com/sites/landingpage/IntrinsicsGuide/#text=_mm512_castps512_ps256&expand=625)) and it looks like gcc 4.9.2 just cannot handle it.


---

Comment by @kliem created at 2020-04-25 17:37:47

And I think this only happened on the test branch because #27122 was tested and therefore `-march=native` in `CFLAGS`.


---

Comment by mkoeppe created at 2020-04-25 17:49:44

Yes, I agree


---

Comment by mkoeppe created at 2020-04-25 22:34:44

Changing priority from blocker to major.


---

Comment by mkoeppe created at 2020-04-25 22:34:44

Changing status from new to needs_review.


---

Comment by @kliem created at 2020-04-25 22:40:53

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2020-06-15 15:42:43

Resolution: invalid
