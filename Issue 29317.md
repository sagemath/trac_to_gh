# Issue 29317: fix buggy test in #29445

archive/issues_029317.json:
```json
{
    "body": "CC:  mkoeppe @kliem chapoton vdelecroix kedlaya\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/29554\n\n",
    "created_at": "2020-04-23T10:25:52Z",
    "labels": [
        "build: configure",
        "blocker",
        "bug"
    ],
    "title": "fix buggy test in #29445",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29317",
    "user": "dimpase"
}
```
CC:  mkoeppe @kliem chapoton vdelecroix kedlaya



Issue created by migration from https://trac.sagemath.org/ticket/29554





---

archive/issue_comments_415666.json:
```json
{
    "body": "\n```\n{{{\nconfigure:17249: checking whether hyperellcharpoly bug is fixed\n  ***   too many arguments: ...lcharpoly(x^10+x^9+x^8+x,0*Mod(1,3))\n  ***                                                   ^-----------\nconfigure:17257: result: no; cannot use system pari/GP with known bug\n\n}}}",
    "created_at": "2020-04-23T10:26:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29317#issuecomment-415666",
    "user": "dimpase"
}
```


```
{{{
configure:17249: checking whether hyperellcharpoly bug is fixed
  ***   too many arguments: ...lcharpoly(x^10+x^9+x^8+x,0*Mod(1,3))
  ***                                                   ^-----------
configure:17257: result: no; cannot use system pari/GP with known bug

}}}



---

archive/issue_comments_415667.json:
```json
{
    "body": "missing extra pair of `[]`:\n\n```diff\n\n-        bug_check=$(echo \"hyperellcharpoly([x^10 + x^9 + x^8 + x,0]*Mod(1,3))\" | $GP -qf 2>> config.log)\n+        bug_check=`echo \"hyperellcharpoly([[x^10 + x^9 + x^8 + x,0]]*Mod(1,3))\" | $GP -qf 2>> config.log`\n\n```\n",
    "created_at": "2020-04-23T10:46:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29317#issuecomment-415667",
    "user": "dimpase"
}
```

missing extra pair of `[]`:

```diff

-        bug_check=$(echo "hyperellcharpoly([x^10 + x^9 + x^8 + x,0]*Mod(1,3))" | $GP -qf 2>> config.log)
+        bug_check=`echo "hyperellcharpoly([[x^10 + x^9 + x^8 + x,0]]*Mod(1,3))" | $GP -qf 2>> config.log`

```




---

archive/issue_comments_415668.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-04-23T11:49:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29317#issuecomment-415668",
    "user": "dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_415669.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-04-23T11:49:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29317#issuecomment-415669",
    "user": "dimpase"
}
```

New commits:



---

archive/issue_comments_415670.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-04-23T12:22:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29317#issuecomment-415670",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_415671.json:
```json
{
    "body": "Attachment [config.log](tarball://root/attachments/some-uuid/ticket29554/config.log) by vdelecroix created at 2020-04-23 14:00:24",
    "created_at": "2020-04-23T14:00:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29317#issuecomment-415671",
    "user": "vdelecroix"
}
```

Attachment [config.log](tarball://root/attachments/some-uuid/ticket29554/config.log) by vdelecroix created at 2020-04-23 14:00:24



---

archive/issue_comments_415672.json:
```json
{
    "body": "configure is now happy with my pari. However there is something that I don't understand in [config.log line 2023](https://trac.sagemath.org/attachment/ticket/29554/config.log#L2023).  `matpermanent` is not found. Why is there a search for it if it does not matter?",
    "created_at": "2020-04-23T14:03:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29317#issuecomment-415672",
    "user": "vdelecroix"
}
```

configure is now happy with my pari. However there is something that I don't understand in [config.log line 2023](https://trac.sagemath.org/attachment/ticket/29554/config.log#L2023).  `matpermanent` is not found. Why is there a search for it if it does not matter?



---

archive/issue_comments_415673.json:
```json
{
    "body": "Replying to [comment:9 vdelecroix]:\n> configure is now happy with my pari. However there is something that I don't understand in [config.log line 2023](https://trac.sagemath.org/attachment/ticket/29554/config.log#L2023).  `matpermanent` is not found. Why is there a search for it if it does not matter?\n\nThis is normal functioning of `AC_SEARCH_LIBS` macro.\n\n`matpermanent` is used to detect that `libpari` is at least verision 2.11. First, an attempt is made to link without `-lpari`, adn it fails. The next attempt (line 2107), `-lpari` is added, and test passes.",
    "created_at": "2020-04-23T14:31:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29317#issuecomment-415673",
    "user": "dimpase"
}
```

Replying to [comment:9 vdelecroix]:
> configure is now happy with my pari. However there is something that I don't understand in [config.log line 2023](https://trac.sagemath.org/attachment/ticket/29554/config.log#L2023).  `matpermanent` is not found. Why is there a search for it if it does not matter?

This is normal functioning of `AC_SEARCH_LIBS` macro.

`matpermanent` is used to detect that `libpari` is at least verision 2.11. First, an attempt is made to link without `-lpari`, adn it fails. The next attempt (line 2107), `-lpari` is added, and test passes.



---

archive/issue_comments_415674.json:
```json
{
    "body": "If you feel like testing on my computer was good enough for a review, you can set to positive review.",
    "created_at": "2020-04-23T14:37:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29317#issuecomment-415674",
    "user": "vdelecroix"
}
```

If you feel like testing on my computer was good enough for a review, you can set to positive review.



---

archive/issue_comments_415675.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-04-23T15:06:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29317#issuecomment-415675",
    "user": "dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_415676.json:
```json
{
    "body": "Thanks, I think it's good.",
    "created_at": "2020-04-23T15:06:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29317#issuecomment-415676",
    "user": "dimpase"
}
```

Thanks, I think it's good.



---

archive/issue_comments_415677.json:
```json
{
    "body": "Thanks for the quick fix.\n\nI started test runs a minute ago: [https://github.com/kliem/sage-test-27122/actions/runs/85835472](https://github.com/kliem/sage-test-27122/actions/runs/85835472).\n\nI will leave a message here tomorrow either way, but I don't expect any trouble.",
    "created_at": "2020-04-23T15:08:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29317#issuecomment-415677",
    "user": "@kliem"
}
```

Thanks for the quick fix.

I started test runs a minute ago: [https://github.com/kliem/sage-test-27122/actions/runs/85835472](https://github.com/kliem/sage-test-27122/actions/runs/85835472).

I will leave a message here tomorrow either way, but I don't expect any trouble.



---

archive/issue_comments_415678.json:
```json
{
    "body": "Replying to [comment:13 gh-kliem]:\n> Thanks for the quick fix.\n> \n> I started test runs a minute ago: [https://github.com/kliem/sage-test-27122/actions/runs/85835472](https://github.com/kliem/sage-test-27122/actions/runs/85835472).\n> \n> I will leave a message here tomorrow either way, but I don't expect any trouble.\n\nYes. Seems to work fine.",
    "created_at": "2020-04-24T05:24:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29317#issuecomment-415678",
    "user": "@kliem"
}
```

Replying to [comment:13 gh-kliem]:
> Thanks for the quick fix.
> 
> I started test runs a minute ago: [https://github.com/kliem/sage-test-27122/actions/runs/85835472](https://github.com/kliem/sage-test-27122/actions/runs/85835472).
> 
> I will leave a message here tomorrow either way, but I don't expect any trouble.

Yes. Seems to work fine.



---

archive/issue_comments_415679.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-04-24T22:28:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29317#issuecomment-415679",
    "user": "vbraun"
}
```

Resolution: fixed
