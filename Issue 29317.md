# Issue 29317: fix buggy test in #29445

Issue created by migration from https://trac.sagemath.org/ticket/29554

Original creator: dimpase

Original creation time: 2020-04-23 10:25:52

CC:  mkoeppe @kliem chapoton vdelecroix kedlaya




---

Comment by dimpase created at 2020-04-23 10:26:23


```
{{{
configure:17249: checking whether hyperellcharpoly bug is fixed
  ***   too many arguments: ...lcharpoly(x^10+x^9+x^8+x,0*Mod(1,3))
  ***                                                   ^-----------
configure:17257: result: no; cannot use system pari/GP with known bug

}}}


---

Comment by dimpase created at 2020-04-23 10:46:03

missing extra pair of `[]`:

```diff

-        bug_check=$(echo "hyperellcharpoly([x^10 + x^9 + x^8 + x,0]*Mod(1,3))" | $GP -qf 2>> config.log)
+        bug_check=`echo "hyperellcharpoly([[x^10 + x^9 + x^8 + x,0]]*Mod(1,3))" | $GP -qf 2>> config.log`

```



---

Comment by dimpase created at 2020-04-23 11:49:45

Changing status from new to needs_review.


---

Comment by dimpase created at 2020-04-23 11:49:45

New commits:


---

Comment by git created at 2020-04-23 12:22:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Attachment


---

Comment by vdelecroix created at 2020-04-23 14:03:29

configure is now happy with my pari. However there is something that I don't understand in [config.log line 2023](https://trac.sagemath.org/attachment/ticket/29554/config.log#L2023).  `matpermanent` is not found. Why is there a search for it if it does not matter?


---

Comment by dimpase created at 2020-04-23 14:31:29

Replying to [comment:9 vdelecroix]:
> configure is now happy with my pari. However there is something that I don't understand in [config.log line 2023](https://trac.sagemath.org/attachment/ticket/29554/config.log#L2023).  `matpermanent` is not found. Why is there a search for it if it does not matter?

This is normal functioning of `AC_SEARCH_LIBS` macro.

`matpermanent` is used to detect that `libpari` is at least verision 2.11. First, an attempt is made to link without `-lpari`, adn it fails. The next attempt (line 2107), `-lpari` is added, and test passes.


---

Comment by vdelecroix created at 2020-04-23 14:37:37

If you feel like testing on my computer was good enough for a review, you can set to positive review.


---

Comment by dimpase created at 2020-04-23 15:06:23

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2020-04-23 15:06:23

Thanks, I think it's good.


---

Comment by @kliem created at 2020-04-23 15:08:28

Thanks for the quick fix.

I started test runs a minute ago: [https://github.com/kliem/sage-test-27122/actions/runs/85835472](https://github.com/kliem/sage-test-27122/actions/runs/85835472).

I will leave a message here tomorrow either way, but I don't expect any trouble.


---

Comment by @kliem created at 2020-04-24 05:24:32

Replying to [comment:13 gh-kliem]:
> Thanks for the quick fix.
> 
> I started test runs a minute ago: [https://github.com/kliem/sage-test-27122/actions/runs/85835472](https://github.com/kliem/sage-test-27122/actions/runs/85835472).
> 
> I will leave a message here tomorrow either way, but I don't expect any trouble.

Yes. Seems to work fine.


---

Comment by vbraun created at 2020-04-24 22:28:19

Resolution: fixed
