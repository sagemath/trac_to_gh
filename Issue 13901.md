# Issue 13901: all_graph_colorings should have an option to use integer colors.

archive/issues_013901.json:
```json
{
    "body": "Assignee: jason, ncohen, rlm\n\nCC:  ahmorales rowland chrisjamesberg\n\nThis is ugly:\n\nsage: from sage.graphs.graph_coloring import all_graph_colorings\nsage: g = Graph([[0, 1], [1, 2]])\nsage: list(all_graph_colorings(g, 3))\n[{'#00ff00': [1], '#ff0000': [0, 2]}, {'#00ff00': [1], '#ff0000': [0], '#0000ff': [2]}, {'#0000ff': [1], '#ff0000': [0, 2]}, {'#0000ff': [1], '#ff0000': [0], '#00ff00': [2]}, {'#ff0000': [1], '#00ff00': [0, 2]}, {'#ff0000': [1], '#00ff00': [0], '#0000ff': [2]}, {'#0000ff': [1], '#ff0000': [2], '#00ff00': [0]}, {'#0000ff': [1], '#00ff00': [0, 2]}, {'#ff0000': [1], '#0000ff': [0], '#00ff00': [2]}, {'#ff0000': [1], '#0000ff': [0, 2]}, {'#00ff00': [1], '#ff0000': [2], '#0000ff': [0]}, {'#00ff00': [1], '#0000ff': [0, 2]}]\n\nIssue created by migration from https://trac.sagemath.org/ticket/14105\n\n",
    "created_at": "2013-02-13T00:52:54Z",
    "labels": [
        "graph theory",
        "minor",
        "enhancement"
    ],
    "title": "all_graph_colorings should have an option to use integer colors.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13901",
    "user": "rowland"
}
```
Assignee: jason, ncohen, rlm

CC:  ahmorales rowland chrisjamesberg

This is ugly:

sage: from sage.graphs.graph_coloring import all_graph_colorings
sage: g = Graph([[0, 1], [1, 2]])
sage: list(all_graph_colorings(g, 3))
[{'#00ff00': [1], '#ff0000': [0, 2]}, {'#00ff00': [1], '#ff0000': [0], '#0000ff': [2]}, {'#0000ff': [1], '#ff0000': [0, 2]}, {'#0000ff': [1], '#ff0000': [0], '#00ff00': [2]}, {'#ff0000': [1], '#00ff00': [0, 2]}, {'#ff0000': [1], '#00ff00': [0], '#0000ff': [2]}, {'#0000ff': [1], '#ff0000': [2], '#00ff00': [0]}, {'#0000ff': [1], '#00ff00': [0, 2]}, {'#ff0000': [1], '#0000ff': [0], '#00ff00': [2]}, {'#ff0000': [1], '#0000ff': [0, 2]}, {'#00ff00': [1], '#ff0000': [2], '#0000ff': [0]}, {'#00ff00': [1], '#0000ff': [0, 2]}]

Issue created by migration from https://trac.sagemath.org/ticket/14105





---

archive/issue_comments_173202.json:
```json
{
    "body": "Changing keywords from \"\" to \"days45\".",
    "created_at": "2013-02-14T16:27:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13901#issuecomment-173202",
    "user": "rowland"
}
```

Changing keywords from "" to "days45".



---

archive/issue_comments_173203.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2013-02-14T23:02:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13901#issuecomment-173203",
    "user": "ncohen"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_173204.json:
```json
{
    "body": "Hellooooooooooooo !!\n\nWhat would you think of setting `int_colors = True` to be the default ? Actually, what would you think of renaming this argument as `hex_colors = False` (as it already appears in other coloring functions) ?\n\nBtw, lines have to be 80 characters long at most.\n\nHave fuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuunnn ! `:-)`\n\nNathann",
    "created_at": "2013-02-14T23:02:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13901#issuecomment-173204",
    "user": "ncohen"
}
```

Hellooooooooooooo !!

What would you think of setting `int_colors = True` to be the default ? Actually, what would you think of renaming this argument as `hex_colors = False` (as it already appears in other coloring functions) ?

Btw, lines have to be 80 characters long at most.

Have fuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuunnn ! `:-)`

Nathann



---

archive/issue_comments_173205.json:
```json
{
    "body": "Hello,\n\nThanks for the comment. I changed the path so that the default is hex_colors = False. \n\nThere is another option count_only=False which returns a generator that just returns 1. Shouldn't this just return the number of colorings?\n\nAlejandro",
    "created_at": "2013-02-15T16:53:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13901#issuecomment-173205",
    "user": "ahmorales"
}
```

Hello,

Thanks for the comment. I changed the path so that the default is hex_colors = False. 

There is another option count_only=False which returns a generator that just returns 1. Shouldn't this just return the number of colorings?

Alejandro



---

archive/issue_comments_173206.json:
```json
{
    "body": "Helloooooooo !!\n\n> Thanks for the comment. I changed the path so that the default is hex_colors = False. \n\nYep, but the patch does not pass tests \n\n```\nsage -t  \"devel/sage-2/sage/graphs/graph_coloring.py\"       \n**********************************************************************\nError: TAB character found.\n**********************************************************************\nFile \"/home/ncohen/.Sage/devel/sage-2/sage/graphs/graph_coloring.py\", line 151:\n    sage: for c in all_graph_colorings(G,2, vertex_color_dict = True):\nException raised:\n    Traceback (most recent call last):\n      File \"/home/ncohen/.Sage/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/ncohen/.Sage/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/ncohen/.Sage/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_1[11]>\", line 1\n        for c in all_graph_colorings(G,Integer(2), vertex_color_dict = True):###line 151:\n    sage: for c in all_graph_colorings(G,2, vertex_color_dict = True):\n                                                                                                                                                                    ^\n    SyntaxError: unexpected EOF while parsing\n**********************************************************************\nFile \"/home/ncohen/.Sage/devel/sage-2/sage/graphs/graph_coloring.py\", line 152:\n    sage:      c\nException raised:\n    Traceback (most recent call last):\n      File \"/home/ncohen/.Sage/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/ncohen/.Sage/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/ncohen/.Sage/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_1[12]>\", line 1\n        c###line 152:\n    sage:      c\n       ^\n    IndentationError: unexpected indent\n...\n...\n...\n```\n\n\n> There is another option count_only=False which returns a generator that just returns 1. Shouldn't this just return the number of colorings?\n\nIndeed ! I guess that the best is to add a counter inside of the function, and return the result once all the colorings have been listed.\n\nNathann",
    "created_at": "2013-02-15T17:04:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13901#issuecomment-173206",
    "user": "ncohen"
}
```

Helloooooooo !!

> Thanks for the comment. I changed the path so that the default is hex_colors = False. 

Yep, but the patch does not pass tests 

```
sage -t  "devel/sage-2/sage/graphs/graph_coloring.py"       
**********************************************************************
Error: TAB character found.
**********************************************************************
File "/home/ncohen/.Sage/devel/sage-2/sage/graphs/graph_coloring.py", line 151:
    sage: for c in all_graph_colorings(G,2, vertex_color_dict = True):
Exception raised:
    Traceback (most recent call last):
      File "/home/ncohen/.Sage/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/ncohen/.Sage/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/ncohen/.Sage/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_1[11]>", line 1
        for c in all_graph_colorings(G,Integer(2), vertex_color_dict = True):###line 151:
    sage: for c in all_graph_colorings(G,2, vertex_color_dict = True):
                                                                                                                                                                    ^
    SyntaxError: unexpected EOF while parsing
**********************************************************************
File "/home/ncohen/.Sage/devel/sage-2/sage/graphs/graph_coloring.py", line 152:
    sage:      c
Exception raised:
    Traceback (most recent call last):
      File "/home/ncohen/.Sage/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/ncohen/.Sage/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/ncohen/.Sage/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_1[12]>", line 1
        c###line 152:
    sage:      c
       ^
    IndentationError: unexpected indent
...
...
...
```


> There is another option count_only=False which returns a generator that just returns 1. Shouldn't this just return the number of colorings?

Indeed ! I guess that the best is to add a counter inside of the function, and return the result once all the colorings have been listed.

Nathann



---

archive/issue_comments_173207.json:
```json
{
    "body": "I left the case count_only of all_graph_colorings as it was since There is a function number_of_n_colorings that uses the generator of all_graph_colorings to return the number of colorings.",
    "created_at": "2013-02-18T23:40:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13901#issuecomment-173207",
    "user": "ahmorales"
}
```

I left the case count_only of all_graph_colorings as it was since There is a function number_of_n_colorings that uses the generator of all_graph_colorings to return the number of colorings.



---

archive/issue_comments_173208.json:
```json
{
    "body": "Hellooooooooooo !!\n\nYour patch needs a proper commit message, but short of this it is good to go `:-)`\n\nNathann",
    "created_at": "2013-02-20T09:03:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13901#issuecomment-173208",
    "user": "ncohen"
}
```

Hellooooooooooo !!

Your patch needs a proper commit message, but short of this it is good to go `:-)`

Nathann



---

archive/issue_comments_173209.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2013-02-20T09:14:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13901#issuecomment-173209",
    "user": "ncohen"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_173210.json:
```json
{
    "body": "Thanks. I added a commit message.",
    "created_at": "2013-02-21T15:41:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13901#issuecomment-173210",
    "user": "ahmorales"
}
```

Thanks. I added a commit message.



---

archive/issue_comments_173211.json:
```json
{
    "body": "Two doctests of graph.py do not pass\n\n```\nsage -t -long devel/sage-2/sage/graphs/graph.py\n**********************************************************************\nFile \"/home/ncohen/.Sage/devel/sage-2/sage/graphs/graph.py\", line 3190:\n    sage: P = G.coloring(algorithm=\"DLX\"); P\nExpected:\n    [[1, 2, 3], [0, 5, 6], [4]]\nGot:\n    [[0, 5, 6], [1, 2, 3], [4]]\n**********************************************************************\nFile \"/home/ncohen/.Sage/devel/sage-2/sage/graphs/graph.py\", line 3200:\n    sage: for c in sorted(H.keys()):\n          print c, H[c]\nExpected:\n    #0000ff [4]\n    #00ff00 [1, 2, 3]\n    #ff0000 [0, 5, 6]\nGot:\n    0 [0, 5, 6]\n    1 [1, 2, 3]\n    2 [4]\n**********************************************************************\n```\n\n\nNathann",
    "created_at": "2013-02-22T09:25:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13901#issuecomment-173211",
    "user": "ncohen"
}
```

Two doctests of graph.py do not pass

```
sage -t -long devel/sage-2/sage/graphs/graph.py
**********************************************************************
File "/home/ncohen/.Sage/devel/sage-2/sage/graphs/graph.py", line 3190:
    sage: P = G.coloring(algorithm="DLX"); P
Expected:
    [[1, 2, 3], [0, 5, 6], [4]]
Got:
    [[0, 5, 6], [1, 2, 3], [4]]
**********************************************************************
File "/home/ncohen/.Sage/devel/sage-2/sage/graphs/graph.py", line 3200:
    sage: for c in sorted(H.keys()):
          print c, H[c]
Expected:
    #0000ff [4]
    #00ff00 [1, 2, 3]
    #ff0000 [0, 5, 6]
Got:
    0 [0, 5, 6]
    1 [1, 2, 3]
    2 [4]
**********************************************************************
```


Nathann



---

archive/issue_comments_173212.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-02-22T09:25:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13901#issuecomment-173212",
    "user": "ncohen"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_173213.json:
```json
{
    "body": "added commit message",
    "created_at": "2013-02-22T20:34:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13901#issuecomment-173213",
    "user": "ahmorales"
}
```

added commit message



---

archive/issue_comments_173214.json:
```json
{
    "body": "Attachment [graph_colorings_14105_am.patch](tarball://root/attachments/some-uuid/ticket14105/graph_colorings_14105_am.patch) by ahmorales created at 2013-02-22 20:35:38\n\nHi Nathan,\n\nThanks for pointing out these failed tests. I have reloaded the patch.",
    "created_at": "2013-02-22T20:35:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13901#issuecomment-173214",
    "user": "ahmorales"
}
```

Attachment [graph_colorings_14105_am.patch](tarball://root/attachments/some-uuid/ticket14105/graph_colorings_14105_am.patch) by ahmorales created at 2013-02-22 20:35:38

Hi Nathan,

Thanks for pointing out these failed tests. I have reloaded the patch.



---

archive/issue_comments_173215.json:
```json
{
    "body": "Gooooooooooooood to go ! `:-)`\n\nNathann",
    "created_at": "2013-02-22T22:59:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13901#issuecomment-173215",
    "user": "ncohen"
}
```

Gooooooooooooood to go ! `:-)`

Nathann



---

archive/issue_comments_173216.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2013-02-22T22:59:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13901#issuecomment-173216",
    "user": "ncohen"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_173217.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-02-28T10:33:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13901",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13901#issuecomment-173217",
    "user": "jdemeyer"
}
```

Resolution: fixed
