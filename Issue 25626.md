# Issue 25626: Fix Greene-Nijenhuis-Wilf

Issue created by migration from https://trac.sagemath.org/ticket/25863

Original creator: @bryangingechen

Original creation time: 2018-07-17 05:29:13

Keywords: combinatorics, tableaux

Currently, the implementation of the Greene-Nijenhuis-Wilf "hook-walk" algorithm for generating random standard Young tableaux is incorrect. It doesn't return incorrect output but it takes more steps than necessary.

In sage.combinat.tableau.StandardTableaux_shape.random_element, the code creating the array `hooks` has two off-by-one errors that result in the addition of two copies of `cell` to `hooks`. It should not contain `cell` at all.


---

Comment by @bryangingechen created at 2018-07-17 05:33:47

Changing status from new to needs_review.


---

Comment by @bryangingechen created at 2018-07-17 05:33:47

I've also taken the liberty of fixing a comment and deleting some extra whitespace in this function.

I wasn't sure how to write a test but would be happy to try to implement one if anyone has any ideas.
----
New commits:


---

Comment by git created at 2018-07-20 07:06:02

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2018-07-22 19:50:17

It sounds like it is not "incorrect" but "inefficient", so I have updated the description accordingly. Anyways, as far as I can tell, everything looks good and it doesn't output any bad data. So positive review.


---

Comment by tscrim created at 2018-07-22 19:50:17

Changing status from needs_review to positive_review.


---

Comment by git created at 2018-08-21 20:20:00

Changing status from positive_review to needs_review.


---

Comment by git created at 2018-08-21 20:20:00

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:


---

Comment by @bryangingechen created at 2018-08-21 20:20:52

Trivial rebase on 8.4beta1.


---

Comment by @bryangingechen created at 2018-08-21 20:20:52

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-08-29 22:27:17

Resolution: fixed
