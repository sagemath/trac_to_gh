# Issue 9858: FLINT 1.5.0.p5's test suite fails to build with new GMP/MPIR

archive/issues_009857.json:
```json
{
    "assignees": [
        "https://github.com/nexttime"
    ],
    "body": "Due to the use of deprecated/obsolete GMP functions, the test suite of flint-1.5.0.p5 fails to build since merging the new MPIR 2.1.3 (#8664), or if one uses any other recent version of MPIR or GMP.  This means that the package's installation fails if `SAGE_CHECK=yes`:\n\n```\nSuccessfully installed flint-1.5.0.p5\nRunning the test suite.\n*************************************************\nRunning test suite. This should take 6-20 minutes\n   Please report all failures to sage-devel\n*************************************************\ngcc -std=c99 -I/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baseline/local/include/ -I/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baselin\ne/local/include -mtune=opteron -march=opteron -fPIC -funroll-loops  -O2 -c F_mpz-test.c -o F_mpz-test.o\n[...]\ngcc -std=c99 -I/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baseline/local/include/ -I/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baseline/local/include -mtune=opteron -march=opteron -fPIC -funroll-loops  -O2 -c fmpz-test.c -o fmpz-test.o\nfmpz-test.c: In function \u00e2test___fmpz_normalise\u00e2:\nfmpz-test.c:1379:8: warning: implicit declaration of function \u00e2mpz_random\u00e2\ng++  -I/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baseline/local/include/ -I/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baseline/local/include -mtune=opteron -march=opteron -fPIC -funroll-loops  -O2 fmpz-test.o test-support.o -o fmpz-test zn_mod.o misc.o mul_ks.o pack.o mul.o mulmid.o mulmid_ks.o ks_support.o mpn_mulmid.o nuss.o pmf.o pmfvec_fft.o tuning.o mul_fft.o mul_fft_dft.o array.o invert.o mpn_extras.o mpz_extras.o memory-manager.o ZmodF.o ZmodF_mul.o ZmodF_mul-tuning.o fmpz.o fmpz_poly.o mpz_poly-tuning.o mpz_poly.o ZmodF_poly.o long_extras.o zmod_poly.o theta.o zmod_mat.o F_mpz.o tinyQS.o factor_base.o poly.o sieve.o linear_algebra.o block_lanczos.o NTL-interface.o -L/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baseline/local/lib/ -L/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baseline/local/lib/  -lgmp -lpthread -lntl -lm\nfmpz-test.o: In function `test___fmpz_normalise':\nfmpz-test.c:(.text+0x368d): undefined reference to `mpz_random'\ncollect2: ld returned 1 exit status\nmake: *** [fmpz-test] Error 1\nError building the test suite for FLINT\n*************************************\nError testing package ** flint-1.5.0.p5 **\n*************************************\nsage: An error occurred while testing flint-1.5.0.p5\n```\n\nI guess Bill has already fixed that in FLINT 1.5.2, which was released over a year ago. So simply updating the spkg might suffice.\n\nBtw, at least the current FLINT in Sage ignores user-provided `CFLAGS`; one could perhaps \"move\" them into some other environment variable used by FLINT.\n\n---\n\nUpstream: http://www.flintlib.org/\n\n---\n\n**New spkg:** [http://sage.math.washington.edu/home/leif/Sage/spkgs/flint-1.5.0.p10.spkg](http://sage.math.washington.edu/home/leif/Sage/spkgs/flint-1.5.0.p10.spkg)\n\n**md5sum:** `907a720d1b9bf9e4bc1412e08b2f8892`\n\n\n### flint-1.5.0.p10 (Leif Leonhardy, October 11th 2011)\n* #9858: Add an upstream patch from FLINT 1.5.2 to make FLINT's test suite\n  build (when `SAGE_CHECK=yes`) with MPIR 1.3.x, 2.x (cf. #8664) and GMP 5.x.\n  The patch just substitutes deprecated random functions in one file\n  (`fmpz-test.c`) which have been removed from the mentioned GMP / MPIR\n  versions.\n\n\nCC:  @burcin @mwhansen @williamstein @loefflerd\n\nKeywords: **SAGE_CHECK mpz_random**\n\nComponent: **packages: standard**\n\nAuthor: **Leif Leonhardy**\n\nReviewer: **Jeroen Demeyer**\n\nUpstream: **Fixed upstream, in a later stable release.**\n\nMerged: **sage-4.8.alpha0**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/9858_\n\n",
    "closed_at": "2011-10-14T09:41:51Z",
    "created_at": "2010-09-05T20:51:28Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "FLINT 1.5.0.p5's test suite fails to build with new GMP/MPIR",
    "type": "issue",
    "updated_at": "2011-11-03T16:16:02Z",
    "url": "https://github.com/sagemath/sage/issues/9858",
    "user": "https://github.com/nexttime"
}
```
Due to the use of deprecated/obsolete GMP functions, the test suite of flint-1.5.0.p5 fails to build since merging the new MPIR 2.1.3 (#8664), or if one uses any other recent version of MPIR or GMP.  This means that the package's installation fails if `SAGE_CHECK=yes`:

```
Successfully installed flint-1.5.0.p5
Running the test suite.
*************************************************
Running test suite. This should take 6-20 minutes
   Please report all failures to sage-devel
*************************************************
gcc -std=c99 -I/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baseline/local/include/ -I/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baselin
e/local/include -mtune=opteron -march=opteron -fPIC -funroll-loops  -O2 -c F_mpz-test.c -o F_mpz-test.o
[...]
gcc -std=c99 -I/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baseline/local/include/ -I/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baseline/local/include -mtune=opteron -march=opteron -fPIC -funroll-loops  -O2 -c fmpz-test.c -o fmpz-test.o
fmpz-test.c: In function 창test___fmpz_normalise창:
fmpz-test.c:1379:8: warning: implicit declaration of function 창mpz_random창
g++  -I/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baseline/local/include/ -I/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baseline/local/include -mtune=opteron -march=opteron -fPIC -funroll-loops  -O2 fmpz-test.o test-support.o -o fmpz-test zn_mod.o misc.o mul_ks.o pack.o mul.o mulmid.o mulmid_ks.o ks_support.o mpn_mulmid.o nuss.o pmf.o pmfvec_fft.o tuning.o mul_fft.o mul_fft_dft.o array.o invert.o mpn_extras.o mpz_extras.o memory-manager.o ZmodF.o ZmodF_mul.o ZmodF_mul-tuning.o fmpz.o fmpz_poly.o mpz_poly-tuning.o mpz_poly.o ZmodF_poly.o long_extras.o zmod_poly.o theta.o zmod_mat.o F_mpz.o tinyQS.o factor_base.o poly.o sieve.o linear_algebra.o block_lanczos.o NTL-interface.o -L/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baseline/local/lib/ -L/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baseline/local/lib/  -lgmp -lpthread -lntl -lm
fmpz-test.o: In function `test___fmpz_normalise':
fmpz-test.c:(.text+0x368d): undefined reference to `mpz_random'
collect2: ld returned 1 exit status
make: *** [fmpz-test] Error 1
Error building the test suite for FLINT
*************************************
Error testing package ** flint-1.5.0.p5 **
*************************************
sage: An error occurred while testing flint-1.5.0.p5
```

I guess Bill has already fixed that in FLINT 1.5.2, which was released over a year ago. So simply updating the spkg might suffice.

Btw, at least the current FLINT in Sage ignores user-provided `CFLAGS`; one could perhaps "move" them into some other environment variable used by FLINT.

---

Upstream: http://www.flintlib.org/

---

**New spkg:** [http://sage.math.washington.edu/home/leif/Sage/spkgs/flint-1.5.0.p10.spkg](http://sage.math.washington.edu/home/leif/Sage/spkgs/flint-1.5.0.p10.spkg)

**md5sum:** `907a720d1b9bf9e4bc1412e08b2f8892`


### flint-1.5.0.p10 (Leif Leonhardy, October 11th 2011)
* #9858: Add an upstream patch from FLINT 1.5.2 to make FLINT's test suite
  build (when `SAGE_CHECK=yes`) with MPIR 1.3.x, 2.x (cf. #8664) and GMP 5.x.
  The patch just substitutes deprecated random functions in one file
  (`fmpz-test.c`) which have been removed from the mentioned GMP / MPIR
  versions.


CC:  @burcin @mwhansen @williamstein @loefflerd

Keywords: **SAGE_CHECK mpz_random**

Component: **packages: standard**

Author: **Leif Leonhardy**

Reviewer: **Jeroen Demeyer**

Upstream: **Fixed upstream, in a later stable release.**

Merged: **sage-4.8.alpha0**

_Issue created by migration from https://trac.sagemath.org/ticket/9858_





---

archive/issue_events_128027.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2010-09-05T20:51:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "milestone_number": null,
    "milestone_title": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9858#event-128027"
}
```



---

archive/issue_events_128028.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2010-09-05T20:51:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9858#event-128028"
}
```



---

archive/issue_events_128029.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2010-09-05T20:51:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9858#event-128029"
}
```



---

archive/issue_events_128030.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2010-09-05T20:51:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9858#event-128030"
}
```



---

archive/issue_comments_088124.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nActually *five* months ago:\n\n```\nv 1.5.2 -- 08-Apr-10\n\n   * Added some defines for MPIR 1.3 support (use of deprecated functions)\n\n```\n\nAnd he did replace `mpz_random()` in `fmpz-test.c`.",
    "created_at": "2010-09-05T21:14:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9858#issuecomment-88124",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:1" align="right">comment:1</div>

Actually *five* months ago:

```
v 1.5.2 -- 08-Apr-10

   * Added some defines for MPIR 1.3 support (use of deprecated functions)

```

And he did replace `mpz_random()` in `fmpz-test.c`.



---

archive/issue_comments_088125.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nFLINT 1.6 was released on/for Chrismas (Dec. 24th).\n\nUnless somebody else already did/does I'll open a ticket to upgrade Sage's version to that one.\n\nSince Sage currently does weird things with the Makefile, providing a new, \"clean\" spkg will take some time (besides testing collaboration with the new FLINT of course).\n\n(Though FLINT is a **plain C** library, with a **separate** module to interface with NTL, which is C++ and hence the interface as well, Sage builds one monolithic \"FLINT\" library with that interface module included such that it always depends on the NTL library and the C++ standard library, which is totally odd and frequently causes trouble. Changing that requires changes to the *Sage library*, including `module_list.py` and perhaps `setup.py`, too.)\n\n---\n\nThe FLINT spkg also needs to be upgraded (to at least version 1.5.2, plus one simple patch) to work on Linux/ARM, see #10328.",
    "created_at": "2010-12-26T18:15:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9858#issuecomment-88125",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:2" align="right">comment:2</div>

FLINT 1.6 was released on/for Chrismas (Dec. 24th).

Unless somebody else already did/does I'll open a ticket to upgrade Sage's version to that one.

Since Sage currently does weird things with the Makefile, providing a new, "clean" spkg will take some time (besides testing collaboration with the new FLINT of course).

(Though FLINT is a **plain C** library, with a **separate** module to interface with NTL, which is C++ and hence the interface as well, Sage builds one monolithic "FLINT" library with that interface module included such that it always depends on the NTL library and the C++ standard library, which is totally odd and frequently causes trouble. Changing that requires changes to the *Sage library*, including `module_list.py` and perhaps `setup.py`, too.)

---

The FLINT spkg also needs to be upgraded (to at least version 1.5.2, plus one simple patch) to work on Linux/ARM, see #10328.



---

archive/issue_comments_088126.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nJust for the record:\n\nI have some flint-1.5.2.p1 around to address only the most important issues (changes not yet committed though).\n\nThere's **much** wrong with this spkg (including upstream), but in the light of FLINT 1.6.0 and 2.1.0 (already released), *this* ticket is mainly intended to prevent FLINT being a show stopper for #8664 and #5847.\n\nI'll perhaps include the patch from #10328, too.\n\nFeel free to ping me w.r.t. uploading a new spkg in case this ticket further drags... ;-)",
    "created_at": "2011-06-04T13:12:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9858#issuecomment-88126",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:3" align="right">comment:3</div>

Just for the record:

I have some flint-1.5.2.p1 around to address only the most important issues (changes not yet committed though).

There's **much** wrong with this spkg (including upstream), but in the light of FLINT 1.6.0 and 2.1.0 (already released), *this* ticket is mainly intended to prevent FLINT being a show stopper for #8664 and #5847.

I'll perhaps include the patch from #10328, too.

Feel free to ping me w.r.t. uploading a new spkg in case this ticket further drags... ;-)



---

archive/issue_events_128031.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-06-04T13:15:33Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "subject": "https://github.com/nexttime",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9858#event-128031"
}
```



---

archive/issue_comments_088127.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nJust for the record:\n\n  *\"[...] I assume Sage did not upgrade to flint 1.6. **This is a good thing** as it will be a very long time before we are able to cover factorisation of polynomials over the integers in flint2. It'll be worth waiting for though.*\n\n  *Bill.\"*\n(http://groups.google.com/group/flint-devel/msg/2dc5c1b7fba7520c)\n\n;-)",
    "created_at": "2011-06-18T19:17:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9858#issuecomment-88127",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:5" align="right">comment:5</div>

Just for the record:

  *"[...] I assume Sage did not upgrade to flint 1.6. **This is a good thing** as it will be a very long time before we are able to cover factorisation of polynomials over the integers in flint2. It'll be worth waiting for though.*

  *Bill."*
(http://groups.google.com/group/flint-devel/msg/2dc5c1b7fba7520c)

;-)



---

archive/issue_comments_088128.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nSee also #11547 for a (very small, but important) change to the spkg-install needed for Cygwin - just so we don't forget that if this ticket ends up upgrading to p8 (see #11246 for p6 and p7).",
    "created_at": "2011-07-06T13:22:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9858#issuecomment-88128",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:6" align="right">comment:6</div>

See also #11547 for a (very small, but important) change to the spkg-install needed for Cygwin - just so we don't forget that if this ticket ends up upgrading to p8 (see #11246 for p6 and p7).



---

archive/issue_comments_088129.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nHere is another issue - if one of the patches fails in the *current* Flint spkg, then the Cygwin-only move of `$SAGE_LOCAL/lib/libntl.a` to a temporary file is NOT rescinded.  So this should already happen if the patches do not apply.  Just a point for any upgrade to FLINT - this should be fixed.\n\n(I noticed this because one of the patches didn't apply for me.  Which makes no sense, because it was exactly right.  But whatever.)",
    "created_at": "2011-08-24T02:04:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9858#issuecomment-88129",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:7" align="right">comment:7</div>

Here is another issue - if one of the patches fails in the *current* Flint spkg, then the Cygwin-only move of `$SAGE_LOCAL/lib/libntl.a` to a temporary file is NOT rescinded.  So this should already happen if the patches do not apply.  Just a point for any upgrade to FLINT - this should be fixed.

(I noticed this because one of the patches didn't apply for me.  Which makes no sense, because it was exactly right.  But whatever.)



---

archive/issue_comments_088130.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nSee #11727 for that problem.",
    "created_at": "2011-08-24T02:43:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9858#issuecomment-88130",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:8" align="right">comment:8</div>

See #11727 for that problem.



---

archive/issue_comments_088131.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nSince #8664 is now included in Sage 4.7.2.alpha3, this should be a blocker for the final Sage 4.7.2.",
    "created_at": "2011-09-29T19:11:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9858#issuecomment-88131",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:9" align="right">comment:9</div>

Since #8664 is now included in Sage 4.7.2.alpha3, this should be a blocker for the final Sage 4.7.2.



---

archive/issue_events_128032.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-09-29T19:11:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9858#event-128032"
}
```



---

archive/issue_events_128033.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-09-29T19:11:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "label": "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p: 1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9858#event-128033"
}
```



---

archive/issue_comments_088132.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,42 +1,31 @@\n-Due to the use of deprecated/obsolete GMP functions, the test suite of flint-1.5.0.p5 fails to build (i.e. the package's installation also currently fails if `SAGE_CHECK=yes`):\n+Due to the use of deprecated/obsolete GMP functions, the test suite of flint-1.5.0.p5 fails to build since merging the new MPIR 2.1.3 (#8664).  This means that the package's installation fails if `SAGE_CHECK=yes`):\n \n ```\n-...\n Successfully installed flint-1.5.0.p5\n Running the test suite.\n *************************************************\n Running test suite. This should take 6-20 minutes\n-   Please report all failures to sage-devel      \n+   Please report all failures to sage-devel\n *************************************************\n-make[2]: Entering directory `/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/spkg/build/flint-1.5.0.p5/src'\n-make[2]: warning: jobserver unavailable: using -j1.  Add `+' to parent make rule.\n-gcc -std=c99 -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include/ -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include  -fPIC -funroll-loops   -O2 -c F_mpz-test.c -o F_mpz-test.o\n-gcc -std=c99 -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include/ -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include  -fPIC -funroll-loops   -O2 -c test-support.c -o test-support.o\n-g++  -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include/ -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include  -fPIC -funroll-loops   -O2 F_mpz-test.o test-support.o -o F_mpz-test zn_mod.o misc.o mul_ks.o pack.o mul.o mulmid.o mulmid_ks.o ks_support.o mpn_mulmid.o nuss.o pmf.o pmfvec_fft.o tuning.o mul_fft.o mul_fft_dft.o array.o invert.o mpn_extras.o mpz_extras.o memory-manager.o ZmodF.o ZmodF_mul.o ZmodF_mul-tuning.o fmpz.o fmpz_poly.o mpz_poly-tuning.o mpz_poly.o ZmodF_poly.o long_extras.o zmod_poly.o theta.o zmod_mat.o F_mpz.o tinyQS.o factor_base.o poly.o sieve.o linear_algebra.o block_lanczos.o NTL-interface.o -L/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/lib/ -L/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/lib/  -lgmp -lpthread -lntl -lm \n-gcc -std=c99 -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include/ -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include  -fPIC -funroll-loops   -O2 -c mpn_extras-test.c -o mpn_extras-test.o\n-g++  -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include/ -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include  -fPIC -funroll-loops   -O2 mpn_extras-test.o test-support.o -o mpn_extras-test zn_mod.o misc.o mul_ks.o pack.o mul.o mulmid.o mulmid_ks.o ks_support.o mpn_mulmid.o nuss.o pmf.o pmfvec_fft.o tuning.o mul_fft.o mul_fft_dft.o array.o invert.o mpn_extras.o mpz_extras.o memory-manager.o ZmodF.o ZmodF_mul.o ZmodF_mul-tuning.o fmpz.o fmpz_poly.o mpz_poly-tuning.o mpz_poly.o ZmodF_poly.o long_extras.o zmod_poly.o theta.o zmod_mat.o F_mpz.o tinyQS.o factor_base.o poly.o sieve.o linear_algebra.o block_lanczos.o NTL-interface.o -L/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/lib/ -L/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/lib/  -lgmp -lpthread -lntl -lm \n-gcc -std=c99 -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include/ -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include  -fPIC -funroll-loops   -O2 -c fmpz_poly-test.c -o fmpz_poly-test.o\n-g++  -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include/ -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include  -fPIC -funroll-loops   -O2 fmpz_poly-test.o test-support.o -o fmpz_poly-test zn_mod.o misc.o mul_ks.o pack.o mul.o mulmid.o mulmid_ks.o ks_support.o mpn_mulmid.o nuss.o pmf.o pmfvec_fft.o tuning.o mul_fft.o mul_fft_dft.o array.o invert.o mpn_extras.o mpz_extras.o memory-manager.o ZmodF.o ZmodF_mul.o ZmodF_mul-tuning.o fmpz.o fmpz_poly.o mpz_poly-tuning.o mpz_poly.o ZmodF_poly.o long_extras.o zmod_poly.o theta.o zmod_mat.o F_mpz.o tinyQS.o factor_base.o poly.o sieve.o linear_algebra.o block_lanczos.o NTL-interface.o -L/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/lib/ -L/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/lib/  -lgmp -lpthread -lntl -lm \n-gcc -std=c99 -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include/ -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include  -fPIC -funroll-loops   -O2 -c fmpz-test.c -o fmpz-test.o\n-fmpz-test.c: In function 'test___fmpz_normalise':\n-fmpz-test.c:1379: warning: implicit declaration of function 'mpz_random'\n-g++  -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include/ -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include  -fPIC -funroll-loops   -O2 fmpz-test.o test-support.o -o fmpz-test zn_mod.o misc.o mul_ks.o pack.o mul.o mulmid.o mulmid_ks.o ks_support.o mpn_mulmid.o nuss.o pmf.o pmfvec_fft.o tuning.o mul_fft.o mul_fft_dft.o array.o invert.o mpn_extras.o mpz_extras.o memory-manager.o ZmodF.o ZmodF_mul.o ZmodF_mul-tuning.o fmpz.o fmpz_poly.o mpz_poly-tuning.o mpz_poly.o ZmodF_poly.o long_extras.o zmod_poly.o theta.o zmod_mat.o F_mpz.o tinyQS.o factor_base.o poly.o sieve.o linear_algebra.o block_lanczos.o NTL-interface.o -L/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/lib/ -L/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/lib/  -lgmp -lpthread -lntl -lm \n+gcc -std=c99 -I/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baseline/local/include/ -I/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baselin\n+e/local/include -mtune=opteron -march=opteron -fPIC -funroll-loops  -O2 -c F_mpz-test.c -o F_mpz-test.o\n+[...]\n+gcc -std=c99 -I/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baseline/local/include/ -I/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baseline/local/include -mtune=opteron -march=opteron -fPIC -funroll-loops  -O2 -c fmpz-test.c -o fmpz-test.o\n+fmpz-test.c: In function \u00e2test___fmpz_normalise\u00e2:\n+fmpz-test.c:1379:8: warning: implicit declaration of function \u00e2mpz_random\u00e2\n+g++  -I/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baseline/local/include/ -I/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baseline/local/include -mtune=opteron -march=opteron -fPIC -funroll-loops  -O2 fmpz-test.o test-support.o -o fmpz-test zn_mod.o misc.o mul_ks.o pack.o mul.o mulmid.o mulmid_ks.o ks_support.o mpn_mulmid.o nuss.o pmf.o pmfvec_fft.o tuning.o mul_fft.o mul_fft_dft.o array.o invert.o mpn_extras.o mpz_extras.o memory-manager.o ZmodF.o ZmodF_mul.o ZmodF_mul-tuning.o fmpz.o fmpz_poly.o mpz_poly-tuning.o mpz_poly.o ZmodF_poly.o long_extras.o zmod_poly.o theta.o zmod_mat.o F_mpz.o tinyQS.o factor_base.o poly.o sieve.o linear_algebra.o block_lanczos.o NTL-interface.o -L/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baseline/local/lib/ -L/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baseline/local/lib/  -lgmp -lpthread -lntl -lm\n fmpz-test.o: In function `test___fmpz_normalise':\n-fmpz-test.c:(.text+0x26a6): undefined reference to `mpz_random'\n+fmpz-test.c:(.text+0x368d): undefined reference to `mpz_random'\n collect2: ld returned 1 exit status\n-make[2]: *** [fmpz-test] Error 1\n-make[2]: Leaving directory `/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/spkg/build/flint-1.5.0.p5/src'\n+make: *** [fmpz-test] Error 1\n Error building the test suite for FLINT\n *************************************\n Error testing package ** flint-1.5.0.p5 **\n *************************************\n sage: An error occurred while testing flint-1.5.0.p5\n-...\n ```\n \n-(This is actually Sage 4.6.prealpha3 with MPIR 2.1.**2** and [GMP-]ECM 6.3, see #9343/[NewPARI wiki page](http://wiki.sagemath.org/NewPARI), #8664 and #5847, respectively.)\n-\n-I guess Bill has already fixed that in FLINT 1.5.2, which was released a month ago. So simply updating the spkg might suffice.\n+I guess Bill has already fixed that in FLINT 1.5.2, which was released over a year ago. So simply updating the spkg might suffice.\n \n Btw, at least the current FLINT in Sage ignores user-provided `CFLAGS`; one could perhaps \"move\" them into some other environment variable used by FLINT.\n \n``````\n",
    "created_at": "2011-10-09T08:29:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9858#issuecomment-88132",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,42 +1,31 @@
-Due to the use of deprecated/obsolete GMP functions, the test suite of flint-1.5.0.p5 fails to build (i.e. the package's installation also currently fails if `SAGE_CHECK=yes`):
+Due to the use of deprecated/obsolete GMP functions, the test suite of flint-1.5.0.p5 fails to build since merging the new MPIR 2.1.3 (#8664).  This means that the package's installation fails if `SAGE_CHECK=yes`):
 
 ```
-...
 Successfully installed flint-1.5.0.p5
 Running the test suite.
 *************************************************
 Running test suite. This should take 6-20 minutes
-   Please report all failures to sage-devel      
+   Please report all failures to sage-devel
 *************************************************
-make[2]: Entering directory `/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/spkg/build/flint-1.5.0.p5/src'
-make[2]: warning: jobserver unavailable: using -j1.  Add `+' to parent make rule.
-gcc -std=c99 -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include/ -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include  -fPIC -funroll-loops   -O2 -c F_mpz-test.c -o F_mpz-test.o
-gcc -std=c99 -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include/ -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include  -fPIC -funroll-loops   -O2 -c test-support.c -o test-support.o
-g++  -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include/ -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include  -fPIC -funroll-loops   -O2 F_mpz-test.o test-support.o -o F_mpz-test zn_mod.o misc.o mul_ks.o pack.o mul.o mulmid.o mulmid_ks.o ks_support.o mpn_mulmid.o nuss.o pmf.o pmfvec_fft.o tuning.o mul_fft.o mul_fft_dft.o array.o invert.o mpn_extras.o mpz_extras.o memory-manager.o ZmodF.o ZmodF_mul.o ZmodF_mul-tuning.o fmpz.o fmpz_poly.o mpz_poly-tuning.o mpz_poly.o ZmodF_poly.o long_extras.o zmod_poly.o theta.o zmod_mat.o F_mpz.o tinyQS.o factor_base.o poly.o sieve.o linear_algebra.o block_lanczos.o NTL-interface.o -L/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/lib/ -L/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/lib/  -lgmp -lpthread -lntl -lm 
-gcc -std=c99 -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include/ -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include  -fPIC -funroll-loops   -O2 -c mpn_extras-test.c -o mpn_extras-test.o
-g++  -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include/ -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include  -fPIC -funroll-loops   -O2 mpn_extras-test.o test-support.o -o mpn_extras-test zn_mod.o misc.o mul_ks.o pack.o mul.o mulmid.o mulmid_ks.o ks_support.o mpn_mulmid.o nuss.o pmf.o pmfvec_fft.o tuning.o mul_fft.o mul_fft_dft.o array.o invert.o mpn_extras.o mpz_extras.o memory-manager.o ZmodF.o ZmodF_mul.o ZmodF_mul-tuning.o fmpz.o fmpz_poly.o mpz_poly-tuning.o mpz_poly.o ZmodF_poly.o long_extras.o zmod_poly.o theta.o zmod_mat.o F_mpz.o tinyQS.o factor_base.o poly.o sieve.o linear_algebra.o block_lanczos.o NTL-interface.o -L/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/lib/ -L/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/lib/  -lgmp -lpthread -lntl -lm 
-gcc -std=c99 -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include/ -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include  -fPIC -funroll-loops   -O2 -c fmpz_poly-test.c -o fmpz_poly-test.o
-g++  -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include/ -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include  -fPIC -funroll-loops   -O2 fmpz_poly-test.o test-support.o -o fmpz_poly-test zn_mod.o misc.o mul_ks.o pack.o mul.o mulmid.o mulmid_ks.o ks_support.o mpn_mulmid.o nuss.o pmf.o pmfvec_fft.o tuning.o mul_fft.o mul_fft_dft.o array.o invert.o mpn_extras.o mpz_extras.o memory-manager.o ZmodF.o ZmodF_mul.o ZmodF_mul-tuning.o fmpz.o fmpz_poly.o mpz_poly-tuning.o mpz_poly.o ZmodF_poly.o long_extras.o zmod_poly.o theta.o zmod_mat.o F_mpz.o tinyQS.o factor_base.o poly.o sieve.o linear_algebra.o block_lanczos.o NTL-interface.o -L/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/lib/ -L/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/lib/  -lgmp -lpthread -lntl -lm 
-gcc -std=c99 -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include/ -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include  -fPIC -funroll-loops   -O2 -c fmpz-test.c -o fmpz-test.o
-fmpz-test.c: In function 'test___fmpz_normalise':
-fmpz-test.c:1379: warning: implicit declaration of function 'mpz_random'
-g++  -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include/ -I/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/include  -fPIC -funroll-loops   -O2 fmpz-test.o test-support.o -o fmpz-test zn_mod.o misc.o mul_ks.o pack.o mul.o mulmid.o mulmid_ks.o ks_support.o mpn_mulmid.o nuss.o pmf.o pmfvec_fft.o tuning.o mul_fft.o mul_fft_dft.o array.o invert.o mpn_extras.o mpz_extras.o memory-manager.o ZmodF.o ZmodF_mul.o ZmodF_mul-tuning.o fmpz.o fmpz_poly.o mpz_poly-tuning.o mpz_poly.o ZmodF_poly.o long_extras.o zmod_poly.o theta.o zmod_mat.o F_mpz.o tinyQS.o factor_base.o poly.o sieve.o linear_algebra.o block_lanczos.o NTL-interface.o -L/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/lib/ -L/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/local/lib/  -lgmp -lpthread -lntl -lm 
+gcc -std=c99 -I/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baseline/local/include/ -I/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baselin
+e/local/include -mtune=opteron -march=opteron -fPIC -funroll-loops  -O2 -c F_mpz-test.c -o F_mpz-test.o
+[...]
+gcc -std=c99 -I/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baseline/local/include/ -I/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baseline/local/include -mtune=opteron -march=opteron -fPIC -funroll-loops  -O2 -c fmpz-test.c -o fmpz-test.o
+fmpz-test.c: In function 창test___fmpz_normalise창:
+fmpz-test.c:1379:8: warning: implicit declaration of function 창mpz_random창
+g++  -I/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baseline/local/include/ -I/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baseline/local/include -mtune=opteron -march=opteron -fPIC -funroll-loops  -O2 fmpz-test.o test-support.o -o fmpz-test zn_mod.o misc.o mul_ks.o pack.o mul.o mulmid.o mulmid_ks.o ks_support.o mpn_mulmid.o nuss.o pmf.o pmfvec_fft.o tuning.o mul_fft.o mul_fft_dft.o array.o invert.o mpn_extras.o mpz_extras.o memory-manager.o ZmodF.o ZmodF_mul.o ZmodF_mul-tuning.o fmpz.o fmpz_poly.o mpz_poly-tuning.o mpz_poly.o ZmodF_poly.o long_extras.o zmod_poly.o theta.o zmod_mat.o F_mpz.o tinyQS.o factor_base.o poly.o sieve.o linear_algebra.o block_lanczos.o NTL-interface.o -L/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baseline/local/lib/ -L/mnt/usb1/scratch/jdemeyer/sage-4.7.2.alpha3-baseline/local/lib/  -lgmp -lpthread -lntl -lm
 fmpz-test.o: In function `test___fmpz_normalise':
-fmpz-test.c:(.text+0x26a6): undefined reference to `mpz_random'
+fmpz-test.c:(.text+0x368d): undefined reference to `mpz_random'
 collect2: ld returned 1 exit status
-make[2]: *** [fmpz-test] Error 1
-make[2]: Leaving directory `/home/sage/sage-4.6.prealpha3-with-mpir-2.1.1/spkg/build/flint-1.5.0.p5/src'
+make: *** [fmpz-test] Error 1
 Error building the test suite for FLINT
 *************************************
 Error testing package ** flint-1.5.0.p5 **
 *************************************
 sage: An error occurred while testing flint-1.5.0.p5
-...
 ```
 
-(This is actually Sage 4.6.prealpha3 with MPIR 2.1.**2** and [GMP-]ECM 6.3, see #9343/[NewPARI wiki page](http://wiki.sagemath.org/NewPARI), #8664 and #5847, respectively.)
-
-I guess Bill has already fixed that in FLINT 1.5.2, which was released a month ago. So simply updating the spkg might suffice.
+I guess Bill has already fixed that in FLINT 1.5.2, which was released over a year ago. So simply updating the spkg might suffice.
 
 Btw, at least the current FLINT in Sage ignores user-provided `CFLAGS`; one could perhaps "move" them into some other environment variable used by FLINT.
 
``````




---

archive/issue_comments_088133.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nWhat are the plans for this ticket?  Upgrading to FLINT 1.5.2?  Upgrading to FLINT 1.6?  Upgrading to FLINT 2.x?  Fixing more odds and ends in the FLINT spkg?",
    "created_at": "2011-10-09T08:29:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9858#issuecomment-88133",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:10" align="right">comment:10</div>

What are the plans for this ticket?  Upgrading to FLINT 1.5.2?  Upgrading to FLINT 1.6?  Upgrading to FLINT 2.x?  Fixing more odds and ends in the FLINT spkg?



---

archive/issue_comments_088134.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Due to the use of deprecated/obsolete GMP functions, the test suite of flint-1.5.0.p5 fails to build since merging the new MPIR 2.1.3 (#8664).  This means that the package's installation fails if `SAGE_CHECK=yes`):\n+Due to the use of deprecated/obsolete GMP functions, the test suite of flint-1.5.0.p5 fails to build since merging the new MPIR 2.1.3 (#8664), or if one uses any other recent version of MPIR or GMP.  This means that the package's installation fails if `SAGE_CHECK=yes`:\n \n ```\n Successfully installed flint-1.5.0.p5\n``````\n",
    "created_at": "2011-10-09T16:47:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9858#issuecomment-88134",
    "user": "https://github.com/nexttime"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Due to the use of deprecated/obsolete GMP functions, the test suite of flint-1.5.0.p5 fails to build since merging the new MPIR 2.1.3 (#8664).  This means that the package's installation fails if `SAGE_CHECK=yes`):
+Due to the use of deprecated/obsolete GMP functions, the test suite of flint-1.5.0.p5 fails to build since merging the new MPIR 2.1.3 (#8664), or if one uses any other recent version of MPIR or GMP.  This means that the package's installation fails if `SAGE_CHECK=yes`:
 
 ```
 Successfully installed flint-1.5.0.p5
``````




---

archive/issue_comments_088135.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@jdemeyer](#comment:10):\n> What are the plans for this ticket?  Upgrading to FLINT 1.5.2?  Upgrading to FLINT 1.6?  Upgrading to FLINT 2.x?  Fixing more odds and ends in the FLINT spkg?\n\nUpgrading to FLINT 1.5.2, which fixes the original issue and a few other bugs in FLINT 1.5.0.\n\nMore precisely, rebasing the FLINT 1.5.2 spkg I already have (which also includes a couple of fixes to Sage's part) on the changes that were made to the 1.5.0 spkg in Sage since the p5.\n\nUpgrading to FLINT 1.6 shouldn't hurt, but would now be better done on a follow-up ticket.\n\nAs Bill meanwhile also disclosed on sage-release, they're working hard on a FLINT 2.x (planned as a Christmas present) that implements all features that Sage requires, since the current one doesn't yet provide all we need. (FLINT 2 is a complete rewrite of FLINT 1).  So upgrading to that is not an option at the moment.",
    "created_at": "2011-10-09T16:47:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9858#issuecomment-88135",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@jdemeyer](#comment:10):
> What are the plans for this ticket?  Upgrading to FLINT 1.5.2?  Upgrading to FLINT 1.6?  Upgrading to FLINT 2.x?  Fixing more odds and ends in the FLINT spkg?

Upgrading to FLINT 1.5.2, which fixes the original issue and a few other bugs in FLINT 1.5.0.

More precisely, rebasing the FLINT 1.5.2 spkg I already have (which also includes a couple of fixes to Sage's part) on the changes that were made to the 1.5.0 spkg in Sage since the p5.

Upgrading to FLINT 1.6 shouldn't hurt, but would now be better done on a follow-up ticket.

As Bill meanwhile also disclosed on sage-release, they're working hard on a FLINT 2.x (planned as a Christmas present) that implements all features that Sage requires, since the current one doesn't yet provide all we need. (FLINT 2 is a complete rewrite of FLINT 1).  So upgrading to that is not an option at the moment.



---

archive/issue_events_128034.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-11T07:36:24Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "milestone_number": null,
    "milestone_title": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9858#event-128034"
}
```



---

archive/issue_events_128035.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-11T07:36:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "milestone_number": null,
    "milestone_title": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9858#event-128035"
}
```



---

archive/issue_events_128036.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-11T07:36:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "label": "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p: 1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9858#event-128036"
}
```



---

archive/issue_events_128037.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-11T07:36:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "label": "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p: 2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9858#event-128037"
}
```



---

archive/issue_comments_088136.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nFor the record, I'm working on that, and not just since today btw.\n\nNevertheless, nobody should have touched the 1.5.0[.p5] spkg (or earlier ones) **without** upgrading to 1.5.2, since it fixes other critical bugs.",
    "created_at": "2011-10-11T15:01:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9858#issuecomment-88136",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:13" align="right">comment:13</div>

For the record, I'm working on that, and not just since today btw.

Nevertheless, nobody should have touched the 1.5.0[.p5] spkg (or earlier ones) **without** upgrading to 1.5.2, since it fixes other critical bugs.



---

archive/issue_comments_088137.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI've made a FLINT 1.5.0.p10 spkg which just fixes the trivial test suite build error (see the ticket's description), since providing a *clean* FLINT 1.5.2 spkg based on the 1.5.0.p9 is tedious and still takes some time, hopefully just until tomorrow.\n\nPlease test (with `SAGE_CHECK=yes` of course, and an MPIR >=1.3.x or GMP 5.x, e.g. with Sage 4.7.2.alpha**3**) and review!\n\n(Unless you're happy with unmerging the overdue MPIR upgrade from Sage 4.7.2 just for this reason.)\n\nThanks in advance.",
    "created_at": "2011-10-11T19:35:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9858#issuecomment-88137",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:14" align="right">comment:14</div>

I've made a FLINT 1.5.0.p10 spkg which just fixes the trivial test suite build error (see the ticket's description), since providing a *clean* FLINT 1.5.2 spkg based on the 1.5.0.p9 is tedious and still takes some time, hopefully just until tomorrow.

Please test (with `SAGE_CHECK=yes` of course, and an MPIR >=1.3.x or GMP 5.x, e.g. with Sage 4.7.2.alpha**3**) and review!

(Unless you're happy with unmerging the overdue MPIR upgrade from Sage 4.7.2 just for this reason.)

Thanks in advance.



---

archive/issue_comments_088138.json:
```json
{
    "body": "Author: **Leif Leonhardy**",
    "created_at": "2011-10-11T19:35:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9858#issuecomment-88138",
    "user": "https://github.com/nexttime"
}
```

Author: **Leif Leonhardy**



---

archive/issue_comments_088139.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -32,3 +32,18 @@\n ---\n \n Upstream: http://www.flintlib.org/\n+\n+---\n+\n+**New spkg:** [http://sage.math.washington.edu/home/leif/Sage/spkgs/flint-1.5.0.p10.spkg](http://sage.math.washington.edu/home/leif/Sage/spkgs/flint-1.5.0.p10.spkg)\n+\n+**md5sum:** `907a720d1b9bf9e4bc1412e08b2f8892`\n+\n+\n+### flint-1.5.0.p10 (Leif Leonhardy, October 11th 2011)\n+* #9858: Add an upstream patch from FLINT 1.5.2 to make FLINT's test suite\n+  build (when `SAGE_CHECK=yes`) with MPIR 1.3.x, 2.x (cf. #8664) and GMP 5.x.\n+  The patch just substitutes deprecated random functions in one file\n+  (`fmpz-test.c`) which have been removed from the mentioned GMP / MPIR\n+  versions.\n+\n``````\n",
    "created_at": "2011-10-11T19:35:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9858#issuecomment-88139",
    "user": "https://github.com/nexttime"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -32,3 +32,18 @@
 ---
 
 Upstream: http://www.flintlib.org/
+
+---
+
+**New spkg:** [http://sage.math.washington.edu/home/leif/Sage/spkgs/flint-1.5.0.p10.spkg](http://sage.math.washington.edu/home/leif/Sage/spkgs/flint-1.5.0.p10.spkg)
+
+**md5sum:** `907a720d1b9bf9e4bc1412e08b2f8892`
+
+
+### flint-1.5.0.p10 (Leif Leonhardy, October 11th 2011)
+* #9858: Add an upstream patch from FLINT 1.5.2 to make FLINT's test suite
+  build (when `SAGE_CHECK=yes`) with MPIR 1.3.x, 2.x (cf. #8664) and GMP 5.x.
+  The patch just substitutes deprecated random functions in one file
+  (`fmpz-test.c`) which have been removed from the mentioned GMP / MPIR
+  versions.
+
``````




---

archive/issue_events_128038.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-10-11T19:35:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9858#event-128038"
}
```



---

archive/issue_comments_088140.json:
```json
{
    "body": "Diff between the p9 and the p10. For reference / review only.",
    "created_at": "2011-10-11T19:39:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9858#issuecomment-88140",
    "user": "https://github.com/nexttime"
}
```

Diff between the p9 and the p10. For reference / review only.



---

archive/issue_comments_088141.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nAttachment: **[flint-1.5.0.p9-p10.diff.gz](https://github.com/sagemath/sage/files/ticket9858/flint-1.5.0.p9-p10.diff.gz)**\n\nI've attached a diff between the p9 and the p10 spkg for review.",
    "created_at": "2011-10-11T19:41:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9858#issuecomment-88141",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:15" align="right">comment:15</div>

Attachment: **[flint-1.5.0.p9-p10.diff.gz](https://github.com/sagemath/sage/files/ticket9858/flint-1.5.0.p9-p10.diff.gz)**

I've attached a diff between the p9 and the p10 spkg for review.



---

archive/issue_comments_088142.json:
```json
{
    "body": "Upstream: **Fixed upstream, in a later stable release.**",
    "created_at": "2011-10-11T22:47:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9858#issuecomment-88142",
    "user": "https://github.com/nexttime"
}
```

Upstream: **Fixed upstream, in a later stable release.**



---

archive/issue_comments_088143.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2011-10-12T08:28:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9858#issuecomment-88143",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_events_128039.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-12T08:28:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9858#event-128039"
}
```



---

archive/issue_events_128040.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-12T08:28:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9858#event-128040"
}
```



---

archive/issue_events_128041.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-14T09:41:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9858#event-128041"
}
```



---

archive/issue_events_128042.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-14T09:41:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9858#event-128042"
}
```



---

archive/issue_comments_088144.json:
```json
{
    "body": "Merged: **sage-4.7.3.alpha0**",
    "created_at": "2011-10-14T09:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9858#issuecomment-88144",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-4.7.3.alpha0**



---

archive/issue_events_128043.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-03T16:14:43Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "milestone_number": null,
    "milestone_title": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9858#event-128043"
}
```



---

archive/issue_comments_088145.json:
```json
{
    "body": "Milestone sage-4.7.3 deleted",
    "created_at": "2011-11-03T16:14:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9858#issuecomment-88145",
    "user": "https://github.com/jdemeyer"
}
```

Milestone sage-4.7.3 deleted



---

archive/issue_events_128044.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-03T16:16:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "milestone_number": null,
    "milestone_title": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9858#event-128044"
}
```



---

archive/issue_comments_088146.json:
```json
{
    "body": "Changed merged from **sage-4.7.3.alpha0** to **sage-4.8.alpha0**",
    "created_at": "2011-11-03T16:16:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9858",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9858#issuecomment-88146",
    "user": "https://github.com/jdemeyer"
}
```

Changed merged from **sage-4.7.3.alpha0** to **sage-4.8.alpha0**
