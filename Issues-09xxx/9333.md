# Issue 9333: the kash optional spkg doesn't work at all on OS X due to mistake in use of tar

archive/issues_009333.json:
```json
{
    "body": "Here's a new spkg:\n\n- [http://sage.math.washington.edu/home/palmieri/SPKG/kash3-2008-07-31.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/kash3-2008-07-31.p0.spkg)\n\nThis installs for me on sage.math and on an OS X box.\n\n---\n\nApply:\n\n- [attachment:trac_9333-kash-sage-library.patch] to Sage library.\n\n\n**Author:** John Palmieri\n\n**Reviewer:** Karl-Dieter Crisman\n\n**Merged:** sage-4.7.1.alpha4\n\nIssue created by migration from https://trac.sagemath.org/ticket/9333\n\n",
    "closed_at": "2011-07-03T11:17:33Z",
    "created_at": "2010-06-25T03:08:21Z",
    "labels": [
        "component: packages: optional",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.7.1",
    "title": "the kash optional spkg doesn't work at all on OS X due to mistake in use of tar",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/9333",
    "user": "https://github.com/williamstein"
}
```
Here's a new spkg:

- [http://sage.math.washington.edu/home/palmieri/SPKG/kash3-2008-07-31.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/kash3-2008-07-31.p0.spkg)

This installs for me on sage.math and on an OS X box.

---

Apply:

- [attachment:trac_9333-kash-sage-library.patch] to Sage library.


**Author:** John Palmieri

**Reviewer:** Karl-Dieter Crisman

**Merged:** sage-4.7.1.alpha4

Issue created by migration from https://trac.sagemath.org/ticket/9333





---

archive/attachments_011783.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_9333-kash-tar.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket9333/trac_9333-kash-tar.patch",
    "created_at": "2011-05-27T04:58:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9333",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/jhpalmieri"
}
```



---

archive/issue_comments_082348.json:
```json
{
    "body": "for reference only; do not apply",
    "created_at": "2011-05-27T04:58:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9333#issuecomment-82348",
    "user": "https://github.com/jhpalmieri"
}
```

for reference only; do not apply



---

archive/issue_comments_082349.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,7 @@\n+Here's a new spkg:\n \n+- [http://sage.math.washington.edu/home/palmieri/SPKG/kash3-2008-07-31.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/kash3-2008-07-31.p0.spkg)\n+\n+This installs for me on sage.math and on an OS X box.\n+\n+\n``````\n",
    "created_at": "2011-05-27T05:01:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9333#issuecomment-82349",
    "user": "https://github.com/jhpalmieri"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,7 @@
+Here's a new spkg:
 
+- [http://sage.math.washington.edu/home/palmieri/SPKG/kash3-2008-07-31.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/kash3-2008-07-31.p0.spkg)
+
+This installs for me on sage.math and on an OS X box.
+
+
``````




---

archive/issue_comments_082350.json:
```json
{
    "body": "**Author:** John Palmieri",
    "created_at": "2011-05-27T05:01:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9333#issuecomment-82350",
    "user": "https://github.com/jhpalmieri"
}
```

**Author:** John Palmieri



---

archive/issue_events_069849.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-05-27T05:01:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/9333",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9333#event-69849"
}
```



---

archive/issue_comments_082351.json:
```json
{
    "body": "<a id='comment:1'></a>\nI've posted a link to a new spkg, along with the patch used to create it.  I have a feeling that it could use more work, but since it's an optional package for software which is 3 years old, I'm not sure if it's worth it.  I also have a feeling that it shouldn't be an optional package, but rather an experimental one: since it only installs on OS X and linux, that's not enough platforms for a good optional package.  But that change should be discussed elsewhere...",
    "created_at": "2011-05-27T05:01:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9333#issuecomment-82351",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:1'></a>
I've posted a link to a new spkg, along with the patch used to create it.  I have a feeling that it could use more work, but since it's an optional package for software which is 3 years old, I'm not sure if it's worth it.  I also have a feeling that it shouldn't be an optional package, but rather an experimental one: since it only installs on OS X and linux, that's not enough platforms for a good optional package.  But that change should be discussed elsewhere...



---

archive/issue_comments_082352.json:
```json
{
    "body": "<a id='comment:2'></a>\nIt even works on PPC!\n\nI did find an error in kash.py\n\n```\nsage: a = kash('(9 - 7) * (5 + 6)'); a              # optional -- kash\n\n22\n```\nso I get \"expected nothing\" for that one test when I do `./sage -t -optional devel/sage/sage/interfaces/kash.py`.\n\nOtherwise seems like this is reasonable.  Fix that and positive review, modulo my weak understanding of shell script - but the options are the right ones on Mac.  What the heck are those Linux options?\n\nBy the way, the development of KASH seems to have abruptly stopped.  Any chance it will resume?",
    "created_at": "2011-06-08T20:17:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9333#issuecomment-82352",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:2'></a>
It even works on PPC!

I did find an error in kash.py

```
sage: a = kash('(9 - 7) * (5 + 6)'); a              # optional -- kash

22
```
so I get "expected nothing" for that one test when I do `./sage -t -optional devel/sage/sage/interfaces/kash.py`.

Otherwise seems like this is reasonable.  Fix that and positive review, modulo my weak understanding of shell script - but the options are the right ones on Mac.  What the heck are those Linux options?

By the way, the development of KASH seems to have abruptly stopped.  Any chance it will resume?



---

archive/issue_events_069850.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-06-08T20:17:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/9333",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9333#event-69850"
}
```



---

archive/issue_events_069851.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-06-08T20:17:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/9333",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9333#event-69851"
}
```



---

archive/issue_comments_082353.json:
```json
{
    "body": "**Reviewer:** Karl-Dieter Crisman",
    "created_at": "2011-06-08T20:17:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9333#issuecomment-82353",
    "user": "https://github.com/kcrisman"
}
```

**Reviewer:** Karl-Dieter Crisman



---

archive/attachments_011784.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_9333-kash-sage-library.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket9333/trac_9333-kash-sage-library.patch",
    "created_at": "2011-06-08T21:44:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9333",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/jhpalmieri"
}
```



---

archive/issue_comments_082354.json:
```json
{
    "body": "patch for sage library",
    "created_at": "2011-06-08T21:44:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9333#issuecomment-82354",
    "user": "https://github.com/jhpalmieri"
}
```

patch for sage library



---

archive/issue_comments_082355.json:
```json
{
    "body": "<a id='comment:3'></a>\nRemoving the blank line fixes the doctest for me.  (I have no idea what the linux options are, by the way.)",
    "created_at": "2011-06-08T21:45:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9333#issuecomment-82355",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:3'></a>
Removing the blank line fixes the doctest for me.  (I have no idea what the linux options are, by the way.)



---

archive/issue_events_069852.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-06-08T21:45:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/9333",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9333#event-69852"
}
```



---

archive/issue_events_069853.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-06-08T21:45:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/9333",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9333#event-69853"
}
```



---

archive/issue_comments_082356.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,4 +4,9 @@\n \n This installs for me on sage.math and on an OS X box.\n \n+---\n \n+Apply:\n+\n+- [attachment:trac_9333-kash-sage-library.patch] to Sage library.\n+\n``````\n",
    "created_at": "2011-06-08T21:46:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9333#issuecomment-82356",
    "user": "https://github.com/jhpalmieri"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,4 +4,9 @@
 
 This installs for me on sage.math and on an OS X box.
 
+---
 
+Apply:
+
+- [attachment:trac_9333-kash-sage-library.patch] to Sage library.
+
``````




---

archive/issue_comments_082357.json:
```json
{
    "body": "<a id='comment:5'></a>\nThumbs up.",
    "created_at": "2011-06-08T22:15:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9333#issuecomment-82357",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:5'></a>
Thumbs up.



---

archive/issue_events_069854.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-06-08T22:15:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/9333",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9333#event-69854"
}
```



---

archive/issue_events_069855.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-06-08T22:15:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/9333",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9333#event-69855"
}
```



---

archive/issue_comments_082358.json:
```json
{
    "body": "**Merged:** sage-4.7.1.alpha4",
    "created_at": "2011-06-20T19:09:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9333#issuecomment-82358",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-4.7.1.alpha4



---

archive/issue_comments_082359.json:
```json
{
    "body": "<a id='comment:6'></a>\nSage patch merged in sage-4.7.1.alpha4 but the \"optional packages\" page needs to be updated manually.  John, can you take care of this?",
    "created_at": "2011-06-20T19:09:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9333#issuecomment-82359",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>
Sage patch merged in sage-4.7.1.alpha4 but the "optional packages" page needs to be updated manually.  John, can you take care of this?



---

archive/issue_comments_082360.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [jdemeyer](#comment%3A6):\n> Sage patch merged in sage-4.7.1.alpha4 but the \"optional packages\" page needs to be updated manually.  John, can you take care of this?\n\n\nOkay, done.",
    "created_at": "2011-07-01T18:16:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9333#issuecomment-82360",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:7'></a>
Replying to [jdemeyer](#comment%3A6):
> Sage patch merged in sage-4.7.1.alpha4 but the "optional packages" page needs to be updated manually.  John, can you take care of this?


Okay, done.



---

archive/issue_events_069856.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-07-03T11:17:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/9333",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9333#event-69856"
}
```



---

archive/issue_events_069857.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-07-03T11:17:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/9333",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9333#event-69857"
}
```
