# Issue 9333: the kash optional spkg doesn't work at all on OS X due to mistake in use of tar

archive/issues_009333.json:
```json
{
    "assignees": [],
    "body": "Here's a new spkg:\n\n- [http://sage.math.washington.edu/home/palmieri/SPKG/kash3-2008-07-31.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/kash3-2008-07-31.p0.spkg)\n\nThis installs for me on sage.math and on an OS X box.\n\n---\n\nApply:\n\n- [attachment: trac_9333-kash-sage-library.patch](https://github.com/sagemath/sage/files/ticket9333/trac_9333-kash-sage-library.patch.gz) to Sage library.\n\n\nAuthor: **John Palmieri**\n\nReviewer: **Karl-Dieter Crisman**\n\nMerged: **sage-4.7.1.alpha4**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/9333_\n\n",
    "closed_at": "2011-07-03T11:17:33Z",
    "created_at": "2010-06-25T03:08:21Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.7.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "the kash optional spkg doesn't work at all on OS X due to mistake in use of tar",
    "type": "issue",
    "updated_at": "2011-07-03T11:17:33Z",
    "url": "https://github.com/sagemath/sage/issues/9333",
    "user": "https://github.com/williamstein"
}
```
Here's a new spkg:

- [http://sage.math.washington.edu/home/palmieri/SPKG/kash3-2008-07-31.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/kash3-2008-07-31.p0.spkg)

This installs for me on sage.math and on an OS X box.

---

Apply:

- [attachment: trac_9333-kash-sage-library.patch](https://github.com/sagemath/sage/files/ticket9333/trac_9333-kash-sage-library.patch.gz) to Sage library.


Author: **John Palmieri**

Reviewer: **Karl-Dieter Crisman**

Merged: **sage-4.7.1.alpha4**

_Issue created by migration from https://trac.sagemath.org/ticket/9333_





---

archive/issue_events_108855.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-06-25T03:08:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9333",
    "milestone_number": null,
    "milestone_title": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9333#event-108855"
}
```



---

archive/issue_events_108856.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-06-25T03:08:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9333",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "component: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9333#event-108856"
}
```



---

archive/issue_events_108857.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-06-25T03:08:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9333",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9333#event-108857"
}
```



---

archive/issue_events_108858.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-06-25T03:08:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9333",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9333#event-108858"
}
```



---

archive/issue_comments_080773.json:
```json
{
    "body": "Attachment: **[trac_9333-kash-tar.patch.gz](https://github.com/sagemath/sage/files/ticket9333/trac_9333-kash-tar.patch.gz)**\n\nfor reference only; do not apply",
    "created_at": "2011-05-27T04:58:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9333#issuecomment-80773",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment: **[trac_9333-kash-tar.patch.gz](https://github.com/sagemath/sage/files/ticket9333/trac_9333-kash-tar.patch.gz)**

for reference only; do not apply



---

archive/issue_comments_080774.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,7 @@\n+Here's a new spkg:\n \n+- [http://sage.math.washington.edu/home/palmieri/SPKG/kash3-2008-07-31.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/kash3-2008-07-31.p0.spkg)\n+\n+This installs for me on sage.math and on an OS X box.\n+\n+\n``````\n",
    "created_at": "2011-05-27T05:01:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9333#issuecomment-80774",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,7 @@
+Here's a new spkg:
 
+- [http://sage.math.washington.edu/home/palmieri/SPKG/kash3-2008-07-31.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/kash3-2008-07-31.p0.spkg)
+
+This installs for me on sage.math and on an OS X box.
+
+
``````




---

archive/issue_comments_080775.json:
```json
{
    "body": "Author: **John Palmieri**",
    "created_at": "2011-05-27T05:01:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9333#issuecomment-80775",
    "user": "https://github.com/jhpalmieri"
}
```

Author: **John Palmieri**



---

archive/issue_events_108859.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-05-27T05:01:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9333",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9333#event-108859"
}
```



---

archive/issue_comments_080776.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nI've posted a link to a new spkg, along with the patch used to create it.  I have a feeling that it could use more work, but since it's an optional package for software which is 3 years old, I'm not sure if it's worth it.  I also have a feeling that it shouldn't be an optional package, but rather an experimental one: since it only installs on OS X and linux, that's not enough platforms for a good optional package.  But that change should be discussed elsewhere...",
    "created_at": "2011-05-27T05:01:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9333#issuecomment-80776",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:1" align="right">Comment 1</div>

I've posted a link to a new spkg, along with the patch used to create it.  I have a feeling that it could use more work, but since it's an optional package for software which is 3 years old, I'm not sure if it's worth it.  I also have a feeling that it shouldn't be an optional package, but rather an experimental one: since it only installs on OS X and linux, that's not enough platforms for a good optional package.  But that change should be discussed elsewhere...



---

archive/issue_comments_080777.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nIt even works on PPC!\n\nI did find an error in kash.py\n\n```\nsage: a = kash('(9 - 7) * (5 + 6)'); a              # optional -- kash\n\n22\n```\nso I get \"expected nothing\" for that one test when I do `./sage -t -optional devel/sage/sage/interfaces/kash.py`.\n\nOtherwise seems like this is reasonable.  Fix that and positive review, modulo my weak understanding of shell script - but the options are the right ones on Mac.  What the heck are those Linux options?\n\nBy the way, the development of KASH seems to have abruptly stopped.  Any chance it will resume?",
    "created_at": "2011-06-08T20:17:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9333#issuecomment-80777",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:2" align="right">Comment 2</div>

It even works on PPC!

I did find an error in kash.py

```
sage: a = kash('(9 - 7) * (5 + 6)'); a              # optional -- kash

22
```
so I get "expected nothing" for that one test when I do `./sage -t -optional devel/sage/sage/interfaces/kash.py`.

Otherwise seems like this is reasonable.  Fix that and positive review, modulo my weak understanding of shell script - but the options are the right ones on Mac.  What the heck are those Linux options?

By the way, the development of KASH seems to have abruptly stopped.  Any chance it will resume?



---

archive/issue_events_108860.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-06-08T20:17:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9333",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9333#event-108860"
}
```



---

archive/issue_events_108861.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-06-08T20:17:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9333",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9333#event-108861"
}
```



---

archive/issue_comments_080778.json:
```json
{
    "body": "Reviewer: **Karl-Dieter Crisman**",
    "created_at": "2011-06-08T20:17:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9333#issuecomment-80778",
    "user": "https://github.com/kcrisman"
}
```

Reviewer: **Karl-Dieter Crisman**



---

archive/issue_comments_080779.json:
```json
{
    "body": "Attachment: **[trac_9333-kash-sage-library.patch.gz](https://github.com/sagemath/sage/files/ticket9333/trac_9333-kash-sage-library.patch.gz)**\n\npatch for sage library",
    "created_at": "2011-06-08T21:44:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9333#issuecomment-80779",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment: **[trac_9333-kash-sage-library.patch.gz](https://github.com/sagemath/sage/files/ticket9333/trac_9333-kash-sage-library.patch.gz)**

patch for sage library



---

archive/issue_comments_080780.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nRemoving the blank line fixes the doctest for me.  (I have no idea what the linux options are, by the way.)",
    "created_at": "2011-06-08T21:45:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9333#issuecomment-80780",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:3" align="right">Comment 3</div>

Removing the blank line fixes the doctest for me.  (I have no idea what the linux options are, by the way.)



---

archive/issue_events_108862.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-06-08T21:45:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9333",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9333#event-108862"
}
```



---

archive/issue_events_108863.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-06-08T21:45:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9333",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9333#event-108863"
}
```



---

archive/issue_comments_080781.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,4 +4,9 @@\n \n This installs for me on sage.math and on an OS X box.\n \n+---\n \n+Apply:\n+\n+- [attachment: trac_9333-kash-sage-library.patch](https://github.com/sagemath/sage/files/ticket9333/trac_9333-kash-sage-library.patch.gz) to Sage library.\n+\n``````\n",
    "created_at": "2011-06-08T21:46:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9333#issuecomment-80781",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,4 +4,9 @@
 
 This installs for me on sage.math and on an OS X box.
 
+---
 
+Apply:
+
+- [attachment: trac_9333-kash-sage-library.patch](https://github.com/sagemath/sage/files/ticket9333/trac_9333-kash-sage-library.patch.gz) to Sage library.
+
``````




---

archive/issue_comments_080782.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nThumbs up.",
    "created_at": "2011-06-08T22:15:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9333#issuecomment-80782",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:5" align="right">Comment 5</div>

Thumbs up.



---

archive/issue_events_108864.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-06-08T22:15:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9333",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9333#event-108864"
}
```



---

archive/issue_events_108865.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-06-08T22:15:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9333",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9333#event-108865"
}
```



---

archive/issue_comments_080783.json:
```json
{
    "body": "Merged: **sage-4.7.1.alpha4**",
    "created_at": "2011-06-20T19:09:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9333#issuecomment-80783",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-4.7.1.alpha4**



---

archive/issue_comments_080784.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nSage patch merged in sage-4.7.1.alpha4 but the \"optional packages\" page needs to be updated manually.  John, can you take care of this?",
    "created_at": "2011-06-20T19:09:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9333#issuecomment-80784",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:6" align="right">Comment 6</div>

Sage patch merged in sage-4.7.1.alpha4 but the "optional packages" page needs to be updated manually.  John, can you take care of this?



---

archive/issue_comments_080785.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nReplying to [@jdemeyer](#comment%3A6):\n> Sage patch merged in sage-4.7.1.alpha4 but the \"optional packages\" page needs to be updated manually.  John, can you take care of this?\n\nOkay, done.",
    "created_at": "2011-07-01T18:16:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9333",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9333#issuecomment-80785",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:7" align="right">Comment 7</div>

Replying to [@jdemeyer](#comment%3A6):
> Sage patch merged in sage-4.7.1.alpha4 but the "optional packages" page needs to be updated manually.  John, can you take care of this?

Okay, done.



---

archive/issue_events_108866.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-07-03T11:17:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9333",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9333#event-108866"
}
```



---

archive/issue_events_108867.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-07-03T11:17:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/9333",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9333#event-108867"
}
```
