# Issue 9916: Change Shafarevich-Tate in BSD, ell_rational_field and padic_lseries (also fixes doctests)

archive/issues_009915.json:
```json
{
    "body": "Due to #9330, some doctests have to be adapted (and also the documentation), simply by changing *Shafarevich-Tate* to *Tate-Shafarevich*, which is now consistently used as the group's name.\n\nI've **not** changed the name in the references' titles of course.\n\n---\n\n## Note to the release manager\n\nApply **both** patches (to the Sage library).\n\n\n**Assignee:** @nexttime\n\n**CC:**  @JohnCremona @kcrisman @qed777 @categorie\n\n**Author:** Leif Leonhardy\n\n**Reviewer:** Mitesh Patel\n\n**Merged:** sage-4.6.alpha1\n\nIssue created by migration from https://trac.sagemath.org/ticket/9916\n\n",
    "closed_at": "2010-09-17T03:28:34Z",
    "created_at": "2010-09-16T09:41:21Z",
    "labels": [
        "component: elliptic curves",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.6",
    "title": "Change Shafarevich-Tate in BSD, ell_rational_field and padic_lseries (also fixes doctests)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/9916",
    "user": "https://github.com/nexttime"
}
```
Due to #9330, some doctests have to be adapted (and also the documentation), simply by changing *Shafarevich-Tate* to *Tate-Shafarevich*, which is now consistently used as the group's name.

I've **not** changed the name in the references' titles of course.

---

## Note to the release manager

Apply **both** patches (to the Sage library).


**Assignee:** @nexttime

**CC:**  @JohnCremona @kcrisman @qed777 @categorie

**Author:** Leif Leonhardy

**Reviewer:** Mitesh Patel

**Merged:** sage-4.6.alpha1

Issue created by migration from https://trac.sagemath.org/ticket/9916





---

archive/issue_comments_093034.json:
```json
{
    "body": "Apply to Sage library. Based on (not yet released) Sage 4.6.alpha1.",
    "created_at": "2010-09-16T09:46:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9916#issuecomment-93034",
    "user": "https://github.com/nexttime"
}
```

Apply to Sage library. Based on (not yet released) Sage 4.6.alpha1.



---

archive/issue_events_076143.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2010-09-16T09:46:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/9916",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9916#event-76143"
}
```



---

archive/attachments_012860.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_9916-fix_Shafarevich-Tate_in_BSD.py.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket9916/trac_9916-fix_Shafarevich-Tate_in_BSD.py.patch",
    "created_at": "2010-09-16T09:46:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9916",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/nexttime"
}
```



---

archive/issue_comments_093035.json:
```json
{
    "body": "<a id='comment:1'></a>\nPatch is up.",
    "created_at": "2010-09-16T09:46:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9916#issuecomment-93035",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:1'></a>
Patch is up.



---

archive/issue_comments_093036.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n Due to #9330, some doctests have to be adapted (and also the documentation).\n \n-I've **not** changed the name in the in the references' titles of course.\n+I've **not** changed the name in the references' titles of course.\n \n``````\n",
    "created_at": "2010-09-16T10:08:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9916#issuecomment-93036",
    "user": "https://github.com/nexttime"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 Due to #9330, some doctests have to be adapted (and also the documentation).
 
-I've **not** changed the name in the in the references' titles of course.
+I've **not** changed the name in the references' titles of course.
 
``````




---

archive/issue_events_076144.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-09-16T21:49:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/9916",
    "label": "blocker",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9916#event-76144"
}
```



---

archive/issue_comments_093037.json:
```json
{
    "body": "<a id='comment:5'></a>\nI can still merge this into 4.6.alpha1, while I wait for a response to a build error at #4000.",
    "created_at": "2010-09-16T22:53:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9916#issuecomment-93037",
    "user": "https://github.com/qed777"
}
```

<a id='comment:5'></a>
I can still merge this into 4.6.alpha1, while I wait for a response to a build error at #4000.



---

archive/issue_comments_093038.json:
```json
{
    "body": "<a id='comment:6'></a>\nAre the stack size warnings expected here:\n\n```python\nsage -t -long  devel/sage/sage/schemes/elliptic_curves/ell_rational_field.py\n  ***   Warning: new stack size = 1003360 (0.957 Mbytes).\n  ***   Warning: new stack size = 1003360 (0.957 Mbytes).\n**********************************************************************\nFile \"/mnt/usb1/scratch/mpatel/tmp/sage-4.6.alpha1/devel/sage-main/sage/schemes/elliptic_curves/ell_rational_field.py\", line 4805:\n    sage: S\nExpected:\n    Shafarevich-Tate group for the Elliptic Curve defined by y^2 + y = x^3 - x over Rational Field\nGot:\n    Tate-Shafarevich group for the Elliptic Curve defined by y^2 + y = x^3 - x over Rational Field\n```\n?",
    "created_at": "2010-09-16T23:50:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9916#issuecomment-93038",
    "user": "https://github.com/qed777"
}
```

<a id='comment:6'></a>
Are the stack size warnings expected here:

```python
sage -t -long  devel/sage/sage/schemes/elliptic_curves/ell_rational_field.py
  ***   Warning: new stack size = 1003360 (0.957 Mbytes).
  ***   Warning: new stack size = 1003360 (0.957 Mbytes).
**********************************************************************
File "/mnt/usb1/scratch/mpatel/tmp/sage-4.6.alpha1/devel/sage-main/sage/schemes/elliptic_curves/ell_rational_field.py", line 4805:
    sage: S
Expected:
    Shafarevich-Tate group for the Elliptic Curve defined by y^2 + y = x^3 - x over Rational Field
Got:
    Tate-Shafarevich group for the Elliptic Curve defined by y^2 + y = x^3 - x over Rational Field
```
?



---

archive/issue_comments_093039.json:
```json
{
    "body": "<a id='comment:7'></a>\nOoops, some kind of \"recursive\" doctest failure? I must have tested just those files that *previously* failed.\n\nI can upload a second patch for that, too, which in addition fixes one occurrence (documentation only) in `.../elliptic_curves/padic_lseries.py` as well.\n\nJust let me know if you already fixed that elsewhere.\n\n(I've seen those stack warnings before, but only when a doctest fails IIRC.)",
    "created_at": "2010-09-17T00:48:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9916#issuecomment-93039",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:7'></a>
Ooops, some kind of "recursive" doctest failure? I must have tested just those files that *previously* failed.

I can upload a second patch for that, too, which in addition fixes one occurrence (documentation only) in `.../elliptic_curves/padic_lseries.py` as well.

Just let me know if you already fixed that elsewhere.

(I've seen those stack warnings before, but only when a doctest fails IIRC.)



---

archive/issue_comments_093040.json:
```json
{
    "body": "<a id='comment:8'></a>\nBy the way, the unofficial, trial 4.6.alpha1 is in `/home/release/sage-4.6.alpha1` on the Sage cluster.",
    "created_at": "2010-09-17T00:51:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9916#issuecomment-93040",
    "user": "https://github.com/qed777"
}
```

<a id='comment:8'></a>
By the way, the unofficial, trial 4.6.alpha1 is in `/home/release/sage-4.6.alpha1` on the Sage cluster.



---

archive/issue_comments_093041.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [leif](#comment%3A7):\n> I can upload a second patch for that, too, which in addition fixes one occurrence (documentation only) in `.../elliptic_curves/padic_lseries.py` as well.\n\n\nCould you add the patch?  I haven't fixed this elsewhere.  Thanks for opening this ticket.",
    "created_at": "2010-09-17T00:53:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9916#issuecomment-93041",
    "user": "https://github.com/qed777"
}
```

<a id='comment:9'></a>
Replying to [leif](#comment%3A7):
> I can upload a second patch for that, too, which in addition fixes one occurrence (documentation only) in `.../elliptic_curves/padic_lseries.py` as well.


Could you add the patch?  I haven't fixed this elsewhere.  Thanks for opening this ticket.



---

archive/issue_comments_093042.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [mpatel](#comment%3A8):\n> By the way, the unofficial, trial 4.6.alpha1 is in `/home/release/sage-4.6.alpha1` on the Sage cluster.\n\n\n? What do you think mine came from? ;-) Or did you mean the **absent reviewers**?\n\n(Cron ignores \"README_first\"...)\n\nSo I'll upload a second patch in a few seconds.",
    "created_at": "2010-09-17T00:56:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9916#issuecomment-93042",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:10'></a>
Replying to [mpatel](#comment%3A8):
> By the way, the unofficial, trial 4.6.alpha1 is in `/home/release/sage-4.6.alpha1` on the Sage cluster.


? What do you think mine came from? ;-) Or did you mean the **absent reviewers**?

(Cron ignores "README_first"...)

So I'll upload a second patch in a few seconds.



---

archive/attachments_012861.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_9916-fix_Shafarevich-Tate_in_ell_rat_field_and_padic_lseries_too.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket9916/trac_9916-fix_Shafarevich-Tate_in_ell_rat_field_and_padic_lseries_too.patch",
    "created_at": "2010-09-17T01:06:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9916",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/nexttime"
}
```



---

archive/issue_comments_093043.json:
```json
{
    "body": "Apply to Sage library. Based on (not yet released) Sage 4.6.alpha1.",
    "created_at": "2010-09-17T01:06:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9916#issuecomment-93043",
    "user": "https://github.com/nexttime"
}
```

Apply to Sage library. Based on (not yet released) Sage 4.6.alpha1.



---

archive/issue_events_076145.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2010-09-17T01:11:19Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/9916",
    "rename": {
        "from": "Change Shafarevich-Tate in BSD.py (also fixes doctests)",
        "to": "Change Shafarevich-Tate in BSD, ell_rational_field and padic_lseries (also fixes doctests)"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9916#event-76145"
}
```



---

archive/issue_comments_093044.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,3 +2,9 @@\n \n I've **not** changed the name in the references' titles of course.\n \n+---\n+\n+## Note to the release manager\n+\n+Apply **both** patches (to the Sage library).\n+\n``````\n",
    "created_at": "2010-09-17T01:11:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9916#issuecomment-93044",
    "user": "https://github.com/nexttime"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,3 +2,9 @@
 
 I've **not** changed the name in the references' titles of course.
 
+---
+
+## Note to the release manager
+
+Apply **both** patches (to the Sage library).
+
``````




---

archive/issue_comments_093045.json:
```json
{
    "body": "<a id='comment:12'></a>\nSecond patch is up; now passes *all* doctests in `sage/schemes/elliptic_curves` (for me).\n\n(Apply both.)",
    "created_at": "2010-09-17T01:14:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9916#issuecomment-93045",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:12'></a>
Second patch is up; now passes *all* doctests in `sage/schemes/elliptic_curves` (for me).

(Apply both.)



---

archive/issue_comments_093046.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Due to #9330, some doctests have to be adapted (and also the documentation).\n+Due to #9330, some doctests have to be adapted (and also the documentation), simply by changing *Shafarevich-Tate* to *Tate-Shafarevich*, which is now consistently used as the group's name.\n \n I've **not** changed the name in the references' titles of course.\n \n``````\n",
    "created_at": "2010-09-17T01:20:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9916#issuecomment-93046",
    "user": "https://github.com/nexttime"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Due to #9330, some doctests have to be adapted (and also the documentation).
+Due to #9330, some doctests have to be adapted (and also the documentation), simply by changing *Shafarevich-Tate* to *Tate-Shafarevich*, which is now consistently used as the group's name.
 
 I've **not** changed the name in the references' titles of course.
 
``````




---

archive/issue_events_076146.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-09-17T03:27:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/9916",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9916#event-76146"
}
```



---

archive/issue_events_076147.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-09-17T03:27:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/9916",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9916#event-76147"
}
```



---

archive/issue_comments_093047.json:
```json
{
    "body": "**Merged:** sage-4.6.alpha1",
    "created_at": "2010-09-17T03:27:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9916#issuecomment-93047",
    "user": "https://github.com/qed777"
}
```

**Merged:** sage-4.6.alpha1



---

archive/issue_comments_093048.json:
```json
{
    "body": "**Reviewer:** Mitesh Patel",
    "created_at": "2010-09-17T03:27:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9916#issuecomment-93048",
    "user": "https://github.com/qed777"
}
```

**Reviewer:** Mitesh Patel



---

archive/issue_events_076148.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-09-17T03:28:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/9916",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9916#event-76148"
}
```



---

archive/issue_events_076149.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-09-17T03:28:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/9916",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9916#event-76149"
}
```



---

archive/issue_comments_093049.json:
```json
{
    "body": "<a id='comment:16'></a>\nApologies for my bad work on #9330 which caused all this to happen. Thanks for fixing it.\n\n-- Chris.",
    "created_at": "2010-09-17T17:31:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9916#issuecomment-93049",
    "user": "https://github.com/categorie"
}
```

<a id='comment:16'></a>
Apologies for my bad work on #9330 which caused all this to happen. Thanks for fixing it.

-- Chris.



---

archive/issue_comments_093050.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [wuthrich](#comment%3A16):\n> Apologies for my bad work on #9330 which caused all this to happen. Thanks for fixing it.\n\n\nNever mind. If only all doctest failures (or bugs) were that trivial to fix...\n\nI just cc'ed all of you to get this reviewed as quick as possible, not to blame anyone.",
    "created_at": "2010-09-17T18:49:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9916#issuecomment-93050",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:17'></a>
Replying to [wuthrich](#comment%3A16):
> Apologies for my bad work on #9330 which caused all this to happen. Thanks for fixing it.


Never mind. If only all doctest failures (or bugs) were that trivial to fix...

I just cc'ed all of you to get this reviewed as quick as possible, not to blame anyone.



---

archive/issue_comments_093051.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [leif](#comment%3A17):\n> Replying to [wuthrich](#comment%3A16):\n> > Apologies for my bad work on #9330 which caused all this to happen. Thanks for fixing it.\n\n> \n> Never mind. If only all doctest failures (or bugs) were that trivial to fix...\n\n\nHey, I reviewed that patch, and it was merged!  So there are at least three to blame :)\n\nI wonder why it didn't cause any failures for me...  Anyway, thanks for looking into this so quickly.",
    "created_at": "2010-09-17T19:28:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9916#issuecomment-93051",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:18'></a>
Replying to [leif](#comment%3A17):
> Replying to [wuthrich](#comment%3A16):
> > Apologies for my bad work on #9330 which caused all this to happen. Thanks for fixing it.

> 
> Never mind. If only all doctest failures (or bugs) were that trivial to fix...


Hey, I reviewed that patch, and it was merged!  So there are at least three to blame :)

I wonder why it didn't cause any failures for me...  Anyway, thanks for looking into this so quickly.



---

archive/issue_comments_093052.json:
```json
{
    "body": "<a id='comment:19'></a>\nFor what it's worth: I was aware of the doctest errors here and that at #9924, when I merged their \"parent\" tickets into a trial 4.6.alpha1.  Were it not for the more serious build errors caused by #9733 and #4000, I would have announced this as alpha1 on sage-release with links to new tickets for known problems.",
    "created_at": "2010-09-17T23:02:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9916",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9916#issuecomment-93052",
    "user": "https://github.com/qed777"
}
```

<a id='comment:19'></a>
For what it's worth: I was aware of the doctest errors here and that at #9924, when I merged their "parent" tickets into a trial 4.6.alpha1.  Were it not for the more serious build errors caused by #9733 and #4000, I would have announced this as alpha1 on sage-release with links to new tickets for known problems.
