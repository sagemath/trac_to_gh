# Issue 9320: Implement root numbers for elliptic curves over number fields

archive/issues_009320.json:
```json
{
    "assignees": [
        "https://github.com/JohnCremona"
    ],
    "body": "Root numbers for elliptic curves are currently only implemented via Pari (pari(E).ellrootno()) and only over the rational numbers.\n\nWe (Tim Dokchitser's group at Sage Days 22) intend to add the possibility to compute local and global root numbers for elliptic curves over number fields.  A first patch may not fully implement the case of additive reduction over primes dividing 2 or 3.\n\nUpdate: Attached is a first implementation which allows for instance:\n\n```\nsage: K.<a>=NumberField(x^4+2)\nsage: E = EllipticCurve(K, [1, a, 0, 1+a, 0])\nsage: E.root_number()\n1\nsage: E.root_number(K.ideal(a+1))\n1\n```\n\nNote that the implementation needs the patches #9334 (Hilbert symbol) and #9684 (\"dirty model\") to be applied.\n\nTo prevent incorrect results in some cases as well as crashes, the tickets #9389 and #9417 need to be addressed.\n\nCC:  @williamstein @sagetrac-cturner @sagetrac-beankao @pjbruin @JohnCremona\n\nKeywords: **root number**\n\nBranch/Commit: **[public/9320](https://github.com/sagemath/sagetrac-mirror/tree/public/9320) @ [`82d2ddc`](https://github.com/sagemath/sagetrac-mirror/commit/82d2ddc38912cf9d23b5783444753e060149a740)**\n\nAuthor: **Armin Straub**\n\nComponent: **elliptic curves**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/9320_\n\n",
    "created_at": "2010-06-23T22:14:38Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20elliptic%20curves",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Implement root numbers for elliptic curves over number fields",
    "type": "issue",
    "updated_at": "2019-01-09T09:20:32Z",
    "url": "https://github.com/sagemath/sage/issues/9320",
    "user": "https://github.com/arminstraub"
}
```
Root numbers for elliptic curves are currently only implemented via Pari (pari(E).ellrootno()) and only over the rational numbers.

We (Tim Dokchitser's group at Sage Days 22) intend to add the possibility to compute local and global root numbers for elliptic curves over number fields.  A first patch may not fully implement the case of additive reduction over primes dividing 2 or 3.

Update: Attached is a first implementation which allows for instance:

```
sage: K.<a>=NumberField(x^4+2)
sage: E = EllipticCurve(K, [1, a, 0, 1+a, 0])
sage: E.root_number()
1
sage: E.root_number(K.ideal(a+1))
1
```

Note that the implementation needs the patches #9334 (Hilbert symbol) and #9684 ("dirty model") to be applied.

To prevent incorrect results in some cases as well as crashes, the tickets #9389 and #9417 need to be addressed.

CC:  @williamstein @sagetrac-cturner @sagetrac-beankao @pjbruin @JohnCremona

Keywords: **root number**

Branch/Commit: **[public/9320](https://github.com/sagemath/sagetrac-mirror/tree/public/9320) @ [`82d2ddc`](https://github.com/sagemath/sagetrac-mirror/commit/82d2ddc38912cf9d23b5783444753e060149a740)**

Author: **Armin Straub**

Component: **elliptic curves**

_Issue created by migration from https://trac.sagemath.org/ticket/9320_





---

archive/issue_events_119304.json:
```json
{
    "actor": "https://github.com/arminstraub",
    "created_at": "2010-06-23T22:14:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20elliptic%20curves",
    "label_color": "0000ff",
    "label_name": "c: elliptic curves",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9320#event-119304"
}
```



---

archive/issue_events_119305.json:
```json
{
    "actor": "https://github.com/arminstraub",
    "created_at": "2010-06-23T22:14:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9320#event-119305"
}
```



---

archive/issue_events_119306.json:
```json
{
    "actor": "https://github.com/arminstraub",
    "created_at": "2010-06-23T22:14:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9320#event-119306"
}
```



---

archive/issue_events_119307.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2010-06-23T22:14:38Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "subject": "https://github.com/arminstraub",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9320#event-119307"
}
```



---

archive/issue_comments_078648.json:
```json
{
    "body": "Author: **Tim Dokchitser and group (Sage Days 22)**",
    "created_at": "2010-08-10T11:20:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78648",
    "user": "https://github.com/arminstraub"
}
```

Author: **Tim Dokchitser and group (Sage Days 22)**



---

archive/issue_comments_078649.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,18 @@\n Root numbers for elliptic curves are currently only implemented via Pari (pari(E).ellrootno()) and only over the rational numbers.\n \n We (Tim Dokchitser's group at Sage Days 22) intend to add the possibility to compute local and global root numbers for elliptic curves over number fields.  A first patch may not fully implement the case of additive reduction over primes dividing 2 or 3.\n+\n+Update: Attached is a first implementation which allows for instance:\n+\n+```\n+sage: K.<a>=NumberField(x^4+2)\n+sage: E = EllipticCurve(K, [1, a, 0, 1+a, 0])\n+sage: E.root_number()\n+1\n+sage: E.root_number(K.ideal(a+1))\n+1\n+```\n+\n+Note that the implementation needs the patches #9334 (Hilbert symbol) and #9684 (\"dirty model\") to be applied.\n+\n+To prevent incorrect results in some cases as well as crashes, the tickets #9389 and #9417 need to be addressed.\n``````\n",
    "created_at": "2010-08-10T11:20:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78649",
    "user": "https://github.com/arminstraub"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,18 @@
 Root numbers for elliptic curves are currently only implemented via Pari (pari(E).ellrootno()) and only over the rational numbers.
 
 We (Tim Dokchitser's group at Sage Days 22) intend to add the possibility to compute local and global root numbers for elliptic curves over number fields.  A first patch may not fully implement the case of additive reduction over primes dividing 2 or 3.
+
+Update: Attached is a first implementation which allows for instance:
+
+```
+sage: K.<a>=NumberField(x^4+2)
+sage: E = EllipticCurve(K, [1, a, 0, 1+a, 0])
+sage: E.root_number()
+1
+sage: E.root_number(K.ideal(a+1))
+1
+```
+
+Note that the implementation needs the patches #9334 (Hilbert symbol) and #9684 ("dirty model") to be applied.
+
+To prevent incorrect results in some cases as well as crashes, the tickets #9389 and #9417 need to be addressed.
``````




---

archive/issue_events_119308.json:
```json
{
    "actor": "https://github.com/arminstraub",
    "created_at": "2010-08-10T11:20:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9320#event-119308"
}
```



---

archive/issue_comments_078650.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI don't think it is possible to review this until the ticket it depends on (#9334) which needs work has been fixed.",
    "created_at": "2010-08-11T19:50:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78650",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:2" align="right">comment:2</div>

I don't think it is possible to review this until the ticket it depends on (#9334) which needs work has been fixed.



---

archive/issue_comments_078651.json:
```json
{
    "body": "Attachment: **[9320_root_numbers.patch.gz](https://github.com/sagemath/sage/files/ticket9320/9320_root_numbers.patch.gz)**\n\nrequires #9334 and #9684",
    "created_at": "2010-08-13T00:32:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78651",
    "user": "https://github.com/arminstraub"
}
```

Attachment: **[9320_root_numbers.patch.gz](https://github.com/sagemath/sage/files/ticket9320/9320_root_numbers.patch.gz)**

requires #9334 and #9684



---

archive/issue_comments_078652.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nAdapted the patch to reflect the renaming of \"tidy\" to \"reduce\" following #9684.",
    "created_at": "2010-08-13T00:33:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78652",
    "user": "https://github.com/arminstraub"
}
```

<div id="comment:3" align="right">comment:3</div>

Adapted the patch to reflect the renaming of "tidy" to "reduce" following #9684.



---

archive/issue_comments_078653.json:
```json
{
    "body": "Rebased to 4.8.alpha5",
    "created_at": "2011-12-30T17:59:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78653",
    "user": "https://github.com/loefflerd"
}
```

Rebased to 4.8.alpha5



---

archive/issue_comments_078654.json:
```json
{
    "body": "Work Issues: **fix ReST formatting**",
    "created_at": "2011-12-30T18:09:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78654",
    "user": "https://github.com/loefflerd"
}
```

Work Issues: **fix ReST formatting**



---

archive/issue_events_119309.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2011-12-30T18:09:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9320#event-119309"
}
```



---

archive/issue_events_119310.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2011-12-30T18:09:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9320#event-119310"
}
```



---

archive/issue_comments_078655.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nAttachment: **[9320_root_numbers-rebase.patch.gz](https://github.com/sagemath/sage/files/ticket9320/9320_root_numbers-rebase.patch.gz)**\n\nTicket #9334 has been merged, so this is now ready for review. Sadly it fails to apply, due to a trivial conflict with #11749. I've uploaded a rebased patch, and checked that all doctests in sage/schemes/elliptic_curves pass with this applied. \n\nHowever, some (trivial but tedious) work is needed fixing the ReST formatting of the docstrings -- the indentation is all over the place, and :: should only be used to introduce example code blocks.",
    "created_at": "2011-12-30T18:09:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78655",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:4" align="right">comment:4</div>

Attachment: **[9320_root_numbers-rebase.patch.gz](https://github.com/sagemath/sage/files/ticket9320/9320_root_numbers-rebase.patch.gz)**

Ticket #9334 has been merged, so this is now ready for review. Sadly it fails to apply, due to a trivial conflict with #11749. I've uploaded a rebased patch, and checked that all doctests in sage/schemes/elliptic_curves pass with this applied. 

However, some (trivial but tedious) work is needed fixing the ReST formatting of the docstrings -- the indentation is all over the place, and :: should only be used to introduce example code blocks.



---

archive/issue_comments_078656.json:
```json
{
    "body": "Attachment: **[9320_root_numbers-rebase_docscleaned.patch.gz](https://github.com/sagemath/sage/files/ticket9320/9320_root_numbers-rebase_docscleaned.patch.gz)**\n\ndocstrings improved",
    "created_at": "2012-01-13T14:15:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78656",
    "user": "https://github.com/sagetrac-cturner"
}
```

Attachment: **[9320_root_numbers-rebase_docscleaned.patch.gz](https://github.com/sagemath/sage/files/ticket9320/9320_root_numbers-rebase_docscleaned.patch.gz)**

docstrings improved



---

archive/issue_comments_078657.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI have tried to clean this up, but I'm not very experienced so I may have made some mistakes or missed something - could someone please have a look and help me to get it right?",
    "created_at": "2012-01-13T14:16:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78657",
    "user": "https://github.com/sagetrac-cturner"
}
```

<div id="comment:5" align="right">comment:5</div>

I have tried to clean this up, but I'm not very experienced so I may have made some mistakes or missed something - could someone please have a look and help me to get it right?



---

archive/issue_comments_078658.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\napply only 9320_root_numbers-rebase_docscleaned.patch",
    "created_at": "2013-08-22T17:37:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78658",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:6" align="right">comment:6</div>

apply only 9320_root_numbers-rebase_docscleaned.patch



---

archive/issue_comments_078659.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\napply only 9320_root_numbers-rebase_docscleaned.patch",
    "created_at": "2013-08-22T17:41:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78659",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:7" align="right">comment:7</div>

apply only 9320_root_numbers-rebase_docscleaned.patch



---

archive/issue_comments_078660.json:
```json
{
    "body": "Changed work issues from **fix ReST formatting** to **fix ReST formatting, coverage**",
    "created_at": "2013-08-22T17:47:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78660",
    "user": "https://github.com/fchapoton"
}
```

Changed work issues from **fix ReST formatting** to **fix ReST formatting, coverage**



---

archive/issue_comments_078661.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nseems to apply and pass all tests on 5.12.beta2\n\nneeds work to put coverage to 100%",
    "created_at": "2013-08-22T17:47:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78661",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:8" align="right">comment:8</div>

seems to apply and pass all tests on 5.12.beta2

needs work to put coverage to 100%



---

archive/issue_comments_078662.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nthis one just needs a little more doc (three functions need doctests)",
    "created_at": "2013-12-06T20:51:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78662",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:9" align="right">comment:9</div>

this one just needs a little more doc (three functions need doctests)



---

archive/issue_comments_078663.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nHere is a git branch\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e63e7b2d1cb4f4d23e2c8b527ce3c9cdf2cf0cbe\">e63e7b2</a></td><td><code>9320: Implement root numbers for elliptic curves over number fields</code></td></tr></table>\n",
    "created_at": "2014-03-15T09:39:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78663",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:10" align="right">comment:10</div>

Here is a git branch

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e63e7b2d1cb4f4d23e2c8b527ce3c9cdf2cf0cbe">e63e7b2</a></td><td><code>9320: Implement root numbers for elliptic curves over number fields</code></td></tr></table>




---

archive/issue_comments_078664.json:
```json
{
    "body": "Branch: **[u/chapoton/9320](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/9320)**",
    "created_at": "2014-03-15T09:39:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78664",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/9320](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/9320)**



---

archive/issue_comments_078665.json:
```json
{
    "body": "Commit: **[`e63e7b2`](https://github.com/sagemath/sagetrac-mirror/commit/e63e7b2d1cb4f4d23e2c8b527ce3c9cdf2cf0cbe)**",
    "created_at": "2014-03-15T09:39:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78665",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`e63e7b2`](https://github.com/sagemath/sagetrac-mirror/commit/e63e7b2d1cb4f4d23e2c8b527ce3c9cdf2cf0cbe)**



---

archive/issue_comments_078666.json:
```json
{
    "body": "Changed commit from **[`e63e7b2`](https://github.com/sagemath/sagetrac-mirror/commit/e63e7b2d1cb4f4d23e2c8b527ce3c9cdf2cf0cbe)** to **[`87938e0`](https://github.com/sagemath/sagetrac-mirror/commit/87938e0bdccc397f9527b1db39b9c85006f40232)**",
    "created_at": "2014-03-16T13:42:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78666",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e63e7b2`](https://github.com/sagemath/sagetrac-mirror/commit/e63e7b2d1cb4f4d23e2c8b527ce3c9cdf2cf0cbe)** to **[`87938e0`](https://github.com/sagemath/sagetrac-mirror/commit/87938e0bdccc397f9527b1db39b9c85006f40232)**



---

archive/issue_comments_078667.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/87938e0bdccc397f9527b1db39b9c85006f40232\">87938e0</a></td><td><code>trac #9320 trying to add documentation, still needs work</code></td></tr></table>\n",
    "created_at": "2014-03-16T13:42:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78667",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/87938e0bdccc397f9527b1db39b9c85006f40232">87938e0</a></td><td><code>trac #9320 trying to add documentation, still needs work</code></td></tr></table>




---

archive/issue_comments_078668.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nIt would be good if some expert of elliptic curve could provide correct doctests for the local root numbers at primes 2 and 3. Could you have a look, please ?",
    "created_at": "2014-03-16T13:43:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78668",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:12" align="right">comment:12</div>

It would be good if some expert of elliptic curve could provide correct doctests for the local root numbers at primes 2 and 3. Could you have a look, please ?



---

archive/issue_comments_078669.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI suggest that a good source of examples would be elliptic curves over number fields where we know the associated modular form, since the root number at a bad prime should match the Atkin-Lehner eigenvalue.  (The alternative would be to compue a whole lot of examples with Magma, but that would make me uncomfortable;  nevertheless we should of course check that our results are compatible with Magma.)\n\nThere is no issue when the primes have multiplicative reduction, since then the root number is very easy being minus E.ap, i.e. depends only on whether the number of points on the reduction is p+1 or p-1 (of course \"p\" means Norm(p) in the number field case).  It's the case of additive reduction at primes dividing 2 or 3 which are harder.\n\nHere is one taken from my thesis (see http://www.numdam.org/numdam-bin/search?h=nc&id=CM_1984__51_3_275_0&format=complete):\n\n```\nK.<i>=QuadraticField(-1)\nE=EllipticCurve([1+i, 1+i, 0,i,0])\nP2=K.ideal(i+i)\nE.root_number(P2)\n-1\n```\nwhich I checked with Magma.  The conductor here is `P2^2 * P41`.\n\nIs this what you want?  How many examples do you need?\n\n\nTables of elliptic curves over number fields do exist, and were in fact one of the topics of last week's Curves and Automorphic Forms workshop in Arizona.",
    "created_at": "2014-03-18T09:58:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78669",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:13" align="right">comment:13</div>

I suggest that a good source of examples would be elliptic curves over number fields where we know the associated modular form, since the root number at a bad prime should match the Atkin-Lehner eigenvalue.  (The alternative would be to compue a whole lot of examples with Magma, but that would make me uncomfortable;  nevertheless we should of course check that our results are compatible with Magma.)

There is no issue when the primes have multiplicative reduction, since then the root number is very easy being minus E.ap, i.e. depends only on whether the number of points on the reduction is p+1 or p-1 (of course "p" means Norm(p) in the number field case).  It's the case of additive reduction at primes dividing 2 or 3 which are harder.

Here is one taken from my thesis (see http://www.numdam.org/numdam-bin/search?h=nc&id=CM_1984__51_3_275_0&format=complete):

```
K.<i>=QuadraticField(-1)
E=EllipticCurve([1+i, 1+i, 0,i,0])
P2=K.ideal(i+i)
E.root_number(P2)
-1
```
which I checked with Magma.  The conductor here is `P2^2 * P41`.

Is this what you want?  How many examples do you need?


Tables of elliptic curves over number fields do exist, and were in fact one of the topics of last week's Curves and Automorphic Forms workshop in Arizona.



---

archive/issue_comments_078670.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nOne example would be enough, I think if it is bad at both 2 and 3. Maybe one can just use the one above as \"indirect doctest\" ?\n\nDo you really mean `K.ideal(i+i)` ?",
    "created_at": "2014-03-18T11:07:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78670",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:14" align="right">comment:14</div>

One example would be enough, I think if it is bad at both 2 and 3. Maybe one can just use the one above as "indirect doctest" ?

Do you really mean `K.ideal(i+i)` ?



---

archive/issue_comments_078671.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@fchapoton](#comment:14):\n> One example would be enough, I think if it is bad at both 2 and 3. Maybe one can just use the one above as \"indirect doctest\" ?\n> \n\nI'll find another example at 3.  I don't know the code but I expect that it also depends on factors such as the ramification degree of the prime, so I'll give an example over Q(sqrt-3) with additive reduction at 3.  Wait for it...\n\n> Do you really mean `K.ideal(i+i)` ?\n\nYes",
    "created_at": "2014-03-18T13:26:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78671",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@fchapoton](#comment:14):
> One example would be enough, I think if it is bad at both 2 and 3. Maybe one can just use the one above as "indirect doctest" ?
> 

I'll find another example at 3.  I don't know the code but I expect that it also depends on factors such as the ramification degree of the prime, so I'll give an example over Q(sqrt-3) with additive reduction at 3.  Wait for it...

> Do you really mean `K.ideal(i+i)` ?

Yes



---

archive/issue_comments_078672.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nAn example which is additive at 3:\n\n```\nsage: K.<r> = NumberField(x^2-x+1)\nsage: E = EllipticCurve([r-1,r,1,r-1,-1])\nsage: P3 = K.ideal(2*r-1)\nsage: assert P3.is_prime() and P3.norm()==3\nsage: assert E.has_additive_reduction(P3)\nsage: assert P.root_number(P3)==1 ## not implemented\n```\nHere the value is taken from page 115 of my thesis, and agrees with Magma's value.\n\nFor additional testing we could put in an 'algorithm' parameter which could be 'magma' and then (of course) only work when Magma is installed, so you could have optional doctests conditional on Magma of the form\n\n```\nassert E.root_number(P) == E.root_number(P, algorithm='magma')\n```",
    "created_at": "2014-03-18T13:41:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78672",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:16" align="right">comment:16</div>

An example which is additive at 3:

```
sage: K.<r> = NumberField(x^2-x+1)
sage: E = EllipticCurve([r-1,r,1,r-1,-1])
sage: P3 = K.ideal(2*r-1)
sage: assert P3.is_prime() and P3.norm()==3
sage: assert E.has_additive_reduction(P3)
sage: assert P.root_number(P3)==1 ## not implemented
```
Here the value is taken from page 115 of my thesis, and agrees with Magma's value.

For additional testing we could put in an 'algorithm' parameter which could be 'magma' and then (of course) only work when Magma is installed, so you could have optional doctests conditional on Magma of the form

```
assert E.root_number(P) == E.root_number(P, algorithm='magma')
```



---

archive/issue_comments_078673.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a0462dfb7aae331e112ed2979d7fffbd99319fc4\">a0462df</a></td><td><code>trac #9320 work done on code and doc, but still one failing doctest</code></td></tr></table>\n",
    "created_at": "2014-03-18T15:51:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78673",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a0462dfb7aae331e112ed2979d7fffbd99319fc4">a0462df</a></td><td><code>trac #9320 work done on code and doc, but still one failing doctest</code></td></tr></table>




---

archive/issue_comments_078674.json:
```json
{
    "body": "Changed commit from **[`87938e0`](https://github.com/sagemath/sagetrac-mirror/commit/87938e0bdccc397f9527b1db39b9c85006f40232)** to **[`a0462df`](https://github.com/sagemath/sagetrac-mirror/commit/a0462dfb7aae331e112ed2979d7fffbd99319fc4)**",
    "created_at": "2014-03-18T15:51:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78674",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`87938e0`](https://github.com/sagemath/sagetrac-mirror/commit/87938e0bdccc397f9527b1db39b9c85006f40232)** to **[`a0462df`](https://github.com/sagemath/sagetrac-mirror/commit/a0462dfb7aae331e112ed2979d7fffbd99319fc4)**



---

archive/issue_comments_078675.json:
```json
{
    "body": "Changed commit from **[`a0462df`](https://github.com/sagemath/sagetrac-mirror/commit/a0462dfb7aae331e112ed2979d7fffbd99319fc4)** to **[`d40bf63`](https://github.com/sagemath/sagetrac-mirror/commit/d40bf637722cd2cb68b1ce0310290bbed2f7a1f5)**",
    "created_at": "2014-03-18T15:57:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78675",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a0462df`](https://github.com/sagemath/sagetrac-mirror/commit/a0462dfb7aae331e112ed2979d7fffbd99319fc4)** to **[`d40bf63`](https://github.com/sagemath/sagetrac-mirror/commit/d40bf637722cd2cb68b1ce0310290bbed2f7a1f5)**



---

archive/issue_comments_078676.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d40bf637722cd2cb68b1ce0310290bbed2f7a1f5\">d40bf63</a></td><td><code>trac #9320 doctest is indirect</code></td></tr></table>\n",
    "created_at": "2014-03-18T15:57:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78676",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d40bf637722cd2cb68b1ce0310290bbed2f7a1f5">d40bf63</a></td><td><code>trac #9320 doctest is indirect</code></td></tr></table>




---

archive/issue_comments_078677.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nThanks a lot for the examples. I have done what I could for this code, but there is now a failing doctest for the example you provided which has additive reduction at 2.\n\nAnd I had to replace `K.ideal(i+i)` by `K.ideal(1+i)` ...\n\nNot being in my field of expertise, I will now leave this ticket in more able hands.",
    "created_at": "2014-03-18T15:58:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78677",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:19" align="right">comment:19</div>

Thanks a lot for the examples. I have done what I could for this code, but there is now a failing doctest for the example you provided which has additive reduction at 2.

And I had to replace `K.ideal(i+i)` by `K.ideal(1+i)` ...

Not being in my field of expertise, I will now leave this ticket in more able hands.



---

archive/issue_comments_078678.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nI had a quick look at this and there are indeed major issues with the local root number at places above 2 when the reduction is additive, potentially good. That is in the function `_root_number_local_2` in `ell_number_field.py`.\n\nWith the current commit above we get an error for\n\n```\nsage: K.<i> = QuadraticField(-1)\nsage: E = EllipticCurve([1+i, 1+i, 0, i, 0])\nsage: P2 = K.ideal(1+i)\nsage: E.root_number(P2)\n```\n\nbecause line 1966 tries to create and extension with a reducible polynomial `K2 = K.extension(t**2+E.a2()*t+E.a4(), 'a2')`. I guess - but it would take me some time to read the sources - that K2 should just be K in this case.\n\nHowever there are other issues. For instance\n  \n\n```\nsage: E = EllipticCurve([1+i,0,0,0,i])\nsage: E._root_number_local_2(P2)\n```\n\ngoes \"bang\".\n\nI would think the code without the very bad case at places above 2 is ok and that could already go in. So I see two possible futures for this ticket:\n\n1. Someone fixes these issues above 2 or\n\n2. We raise an `NotImplementedError` if the reduction is additive and potentially good at a place above 2 and open a new ticket for fixing the problem.\n\nI can help with 2), but I won't have time to do 1). But maybe there is someone out there who would.",
    "created_at": "2014-03-31T13:44:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78678",
    "user": "https://github.com/categorie"
}
```

<div id="comment:20" align="right">comment:20</div>

I had a quick look at this and there are indeed major issues with the local root number at places above 2 when the reduction is additive, potentially good. That is in the function `_root_number_local_2` in `ell_number_field.py`.

With the current commit above we get an error for

```
sage: K.<i> = QuadraticField(-1)
sage: E = EllipticCurve([1+i, 1+i, 0, i, 0])
sage: P2 = K.ideal(1+i)
sage: E.root_number(P2)
```

because line 1966 tries to create and extension with a reducible polynomial `K2 = K.extension(t**2+E.a2()*t+E.a4(), 'a2')`. I guess - but it would take me some time to read the sources - that K2 should just be K in this case.

However there are other issues. For instance
  

```
sage: E = EllipticCurve([1+i,0,0,0,i])
sage: E._root_number_local_2(P2)
```

goes "bang".

I would think the code without the very bad case at places above 2 is ok and that could already go in. So I see two possible futures for this ticket:

1. Someone fixes these issues above 2 or

2. We raise an `NotImplementedError` if the reduction is additive and potentially good at a place above 2 and open a new ticket for fixing the problem.

I can help with 2), but I won't have time to do 1). But maybe there is someone out there who would.



---

archive/issue_comments_078679.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nIt all started a long time ago, at the Sage Days & summer school at MSRI.  Perhaps we good get Tim Dokchitser, who led the original project (and who developed the background theory, I think) involved?  He works mainly in Magma, but back in 2010 he certainly was involved with this.",
    "created_at": "2014-03-31T13:50:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78679",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:21" align="right">comment:21</div>

It all started a long time ago, at the Sage Days & summer school at MSRI.  Perhaps we good get Tim Dokchitser, who led the original project (and who developed the background theory, I think) involved?  He works mainly in Magma, but back in 2010 he certainly was involved with this.



---

archive/issue_comments_078680.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b162b900fb9213f5fde451d69211fcf1f5ad25bf\">b162b90</a></td><td><code>Merge branch 'u/chapoton/9320' of trac.sagemath.org:sage into 9320</code></td></tr></table>\n",
    "created_at": "2015-07-09T12:42:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78680",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b162b900fb9213f5fde451d69211fcf1f5ad25bf">b162b90</a></td><td><code>Merge branch 'u/chapoton/9320' of trac.sagemath.org:sage into 9320</code></td></tr></table>




---

archive/issue_comments_078681.json:
```json
{
    "body": "Changed commit from **[`d40bf63`](https://github.com/sagemath/sagetrac-mirror/commit/d40bf637722cd2cb68b1ce0310290bbed2f7a1f5)** to **[`b162b90`](https://github.com/sagemath/sagetrac-mirror/commit/b162b900fb9213f5fde451d69211fcf1f5ad25bf)**",
    "created_at": "2015-07-09T12:42:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78681",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d40bf63`](https://github.com/sagemath/sagetrac-mirror/commit/d40bf637722cd2cb68b1ce0310290bbed2f7a1f5)** to **[`b162b90`](https://github.com/sagemath/sagetrac-mirror/commit/b162b900fb9213f5fde451d69211fcf1f5ad25bf)**



---

archive/issue_comments_078682.json:
```json
{
    "body": "Changed commit from **[`b162b90`](https://github.com/sagemath/sagetrac-mirror/commit/b162b900fb9213f5fde451d69211fcf1f5ad25bf)** to **[`6297587`](https://github.com/sagemath/sagetrac-mirror/commit/62975879c068b50731fe3faca2280b68acaa5b71)**",
    "created_at": "2015-07-09T13:26:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78682",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b162b90`](https://github.com/sagemath/sagetrac-mirror/commit/b162b900fb9213f5fde451d69211fcf1f5ad25bf)** to **[`6297587`](https://github.com/sagemath/sagetrac-mirror/commit/62975879c068b50731fe3faca2280b68acaa5b71)**



---

archive/issue_comments_078683.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/62975879c068b50731fe3faca2280b68acaa5b71\">6297587</a></td><td><code>trac #9320 add missing import</code></td></tr></table>\n",
    "created_at": "2015-07-09T13:26:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78683",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/62975879c068b50731fe3faca2280b68acaa5b71">6297587</a></td><td><code>trac #9320 add missing import</code></td></tr></table>




---

archive/issue_comments_078684.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fee78bb780730a9089eb7ed776d71d7d5e515263\">fee78bb</a></td><td><code>Merge branch 'u/chapoton/9320' into 6.10.b1</code></td></tr></table>\n",
    "created_at": "2015-10-28T20:06:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78684",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fee78bb780730a9089eb7ed776d71d7d5e515263">fee78bb</a></td><td><code>Merge branch 'u/chapoton/9320' into 6.10.b1</code></td></tr></table>




---

archive/issue_comments_078685.json:
```json
{
    "body": "Changed commit from **[`6297587`](https://github.com/sagemath/sagetrac-mirror/commit/62975879c068b50731fe3faca2280b68acaa5b71)** to **[`fee78bb`](https://github.com/sagemath/sagetrac-mirror/commit/fee78bb780730a9089eb7ed776d71d7d5e515263)**",
    "created_at": "2015-10-28T20:06:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78685",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6297587`](https://github.com/sagemath/sagetrac-mirror/commit/62975879c068b50731fe3faca2280b68acaa5b71)** to **[`fee78bb`](https://github.com/sagemath/sagetrac-mirror/commit/fee78bb780730a9089eb7ed776d71d7d5e515263)**



---

archive/issue_comments_078686.json:
```json
{
    "body": "Changed author from **Tim Dokchitser and group (Sage Days 22)** to **Tim Dokchitser**",
    "created_at": "2015-10-29T09:31:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78686",
    "user": "https://github.com/jdemeyer"
}
```

Changed author from **Tim Dokchitser and group (Sage Days 22)** to **Tim Dokchitser**



---

archive/issue_comments_078687.json:
```json
{
    "body": "Changed author from **Tim Dokchitser** to **Tim Dokchitser and group (Sage Days 22)**",
    "created_at": "2015-10-29T09:48:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78687",
    "user": "https://github.com/categorie"
}
```

Changed author from **Tim Dokchitser** to **Tim Dokchitser and group (Sage Days 22)**



---

archive/issue_comments_078688.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nSorry, I reverted that. Tim did not touch much of the code himself as far as I can remember that long long time ago in Berkley. I doubt he would want to vouch for this code by himself...",
    "created_at": "2015-10-29T09:50:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78688",
    "user": "https://github.com/categorie"
}
```

<div id="comment:28" align="right">comment:28</div>

Sorry, I reverted that. Tim did not touch much of the code himself as far as I can remember that long long time ago in Berkley. I doubt he would want to vouch for this code by himself...



---

archive/issue_comments_078689.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nInstead of reverting, at least fix it.",
    "created_at": "2015-10-29T09:50:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78689",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:29" align="right">comment:29</div>

Instead of reverting, at least fix it.



---

archive/issue_comments_078690.json:
```json
{
    "body": "Changed author from **Tim Dokchitser and group (Sage Days 22)** to **???**",
    "created_at": "2015-10-29T09:50:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78690",
    "user": "https://github.com/jdemeyer"
}
```

Changed author from **Tim Dokchitser and group (Sage Days 22)** to **???**



---

archive/issue_comments_078691.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nWhat is the issue ? Why can't you leave the original string in there ?",
    "created_at": "2015-10-29T09:52:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78691",
    "user": "https://github.com/categorie"
}
```

<div id="comment:30" align="right">comment:30</div>

What is the issue ? Why can't you leave the original string in there ?



---

archive/issue_comments_078692.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nBecause \"Tim Dokchitser and group (Sage Days 22)\" isn't an actual person.",
    "created_at": "2015-10-29T10:02:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78692",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:31" align="right">comment:31</div>

Because "Tim Dokchitser and group (Sage Days 22)" isn't an actual person.



---

archive/issue_comments_078693.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nBut it was a collaborative effort. The wiki for the sage days lists the participants in this group as \"Armin, Charlie, Hatice, Christ, Lola, Robert Miller, Thilina, M. Tip, Robert Bradshaw \" I am not sure who actually did the coding and I don't remember all full names. So the original string was probably the closest to who the author was. Otherwise set it to Armin Straub, who did the original uploading onto this trac ticket.",
    "created_at": "2015-10-29T10:09:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78693",
    "user": "https://github.com/categorie"
}
```

<div id="comment:32" align="right">comment:32</div>

But it was a collaborative effort. The wiki for the sage days lists the participants in this group as "Armin, Charlie, Hatice, Christ, Lola, Robert Miller, Thilina, M. Tip, Robert Bradshaw " I am not sure who actually did the coding and I don't remember all full names. So the original string was probably the closest to who the author was. Otherwise set it to Armin Straub, who did the original uploading onto this trac ticket.



---

archive/issue_comments_078694.json:
```json
{
    "body": "Changed author from **???** to **Armin Straub**",
    "created_at": "2015-10-29T10:23:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78694",
    "user": "https://github.com/jdemeyer"
}
```

Changed author from **???** to **Armin Straub**



---

archive/issue_comments_078695.json:
```json
{
    "body": "Changed work issues from **fix ReST formatting, coverage** to none",
    "created_at": "2015-10-29T20:26:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78695",
    "user": "https://github.com/fchapoton"
}
```

Changed work issues from **fix ReST formatting, coverage** to none



---

archive/issue_comments_078696.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nthere are some failing doctests..",
    "created_at": "2015-10-29T20:26:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78696",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:34" align="right">comment:34</div>

there are some failing doctests..



---

archive/issue_comments_078697.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4f448ced7e76f9285106f40a5054b1258f19851\">b4f448c</a></td><td><code>Merge branch 'u/chapoton/9320' into 7.1.b5</code></td></tr></table>\n",
    "created_at": "2016-03-01T11:03:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78697",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4f448ced7e76f9285106f40a5054b1258f19851">b4f448c</a></td><td><code>Merge branch 'u/chapoton/9320' into 7.1.b5</code></td></tr></table>




---

archive/issue_comments_078698.json:
```json
{
    "body": "Changed commit from **[`fee78bb`](https://github.com/sagemath/sagetrac-mirror/commit/fee78bb780730a9089eb7ed776d71d7d5e515263)** to **[`b4f448c`](https://github.com/sagemath/sagetrac-mirror/commit/b4f448ced7e76f9285106f40a5054b1258f19851)**",
    "created_at": "2016-03-01T11:03:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78698",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fee78bb`](https://github.com/sagemath/sagetrac-mirror/commit/fee78bb780730a9089eb7ed776d71d7d5e515263)** to **[`b4f448c`](https://github.com/sagemath/sagetrac-mirror/commit/b4f448ced7e76f9285106f40a5054b1258f19851)**



---

archive/issue_comments_078699.json:
```json
{
    "body": "<div id=\"comment:36\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e3f4aab2e71f6c8f938b9f402a341b4880a7775\">3e3f4aa</a></td><td><code>Merge branch 'u/chapoton/9320' into 7.1.b6</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd9aa7fdcaf2ac0857e42820281bd9090c5d2be0\">bd9aa7f</a></td><td><code>trac #9320 failing doctest</code></td></tr></table>\n",
    "created_at": "2016-03-05T17:59:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78699",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e3f4aab2e71f6c8f938b9f402a341b4880a7775">3e3f4aa</a></td><td><code>Merge branch 'u/chapoton/9320' into 7.1.b6</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd9aa7fdcaf2ac0857e42820281bd9090c5d2be0">bd9aa7f</a></td><td><code>trac #9320 failing doctest</code></td></tr></table>




---

archive/issue_comments_078700.json:
```json
{
    "body": "Changed commit from **[`b4f448c`](https://github.com/sagemath/sagetrac-mirror/commit/b4f448ced7e76f9285106f40a5054b1258f19851)** to **[`bd9aa7f`](https://github.com/sagemath/sagetrac-mirror/commit/bd9aa7fdcaf2ac0857e42820281bd9090c5d2be0)**",
    "created_at": "2016-03-05T17:59:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78700",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b4f448c`](https://github.com/sagemath/sagetrac-mirror/commit/b4f448ced7e76f9285106f40a5054b1258f19851)** to **[`bd9aa7f`](https://github.com/sagemath/sagetrac-mirror/commit/bd9aa7fdcaf2ac0857e42820281bd9090c5d2be0)**



---

archive/issue_comments_078701.json:
```json
{
    "body": "Changed commit from **[`bd9aa7f`](https://github.com/sagemath/sagetrac-mirror/commit/bd9aa7fdcaf2ac0857e42820281bd9090c5d2be0)** to **[`28cb70c`](https://github.com/sagemath/sagetrac-mirror/commit/28cb70ca84dc378dcbd446a53fc671c7e4efdcf3)**",
    "created_at": "2016-03-05T18:14:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78701",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bd9aa7f`](https://github.com/sagemath/sagetrac-mirror/commit/bd9aa7fdcaf2ac0857e42820281bd9090c5d2be0)** to **[`28cb70c`](https://github.com/sagemath/sagetrac-mirror/commit/28cb70ca84dc378dcbd446a53fc671c7e4efdcf3)**



---

archive/issue_comments_078702.json:
```json
{
    "body": "<div id=\"comment:37\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/28cb70ca84dc378dcbd446a53fc671c7e4efdcf3\">28cb70c</a></td><td><code>trac #9320 remove the algo keyword and the duplicate code</code></td></tr></table>\n",
    "created_at": "2016-03-05T18:14:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78702",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/28cb70ca84dc378dcbd446a53fc671c7e4efdcf3">28cb70c</a></td><td><code>trac #9320 remove the algo keyword and the duplicate code</code></td></tr></table>




---

archive/issue_comments_078703.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nCould some expert in elliptic curves have a look at the last failing doctest, please ?",
    "created_at": "2016-03-06T13:06:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78703",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:38" align="right">comment:38</div>

Could some expert in elliptic curves have a look at the last failing doctest, please ?



---

archive/issue_comments_078704.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nI can simply repeat my [comment:20](#comment:20) above. This is a genuine bug. \n\nMy favourite solution is still to raise non implemented warnings for the cases this code does not do currently.\n\nBefore accepting this ticket, the reviewer will have to do lots of comparison with magma. The code in magma will have plenty less bugs than this one as the Dokchitsers have worked a lot on that code.",
    "created_at": "2016-03-07T16:04:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78704",
    "user": "https://github.com/categorie"
}
```

<div id="comment:39" align="right">comment:39</div>

I can simply repeat my [comment:20](#comment:20) above. This is a genuine bug. 

My favourite solution is still to raise non implemented warnings for the cases this code does not do currently.

Before accepting this ticket, the reviewer will have to do lots of comparison with magma. The code in magma will have plenty less bugs than this one as the Dokchitsers have worked a lot on that code.



---

archive/issue_comments_078705.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a131d0b685656947d273c4e9de30bab69408935\">7a131d0</a></td><td><code>trac #9320 trying to fix the issues for potential good reduction over 2</code></td></tr></table>\n",
    "created_at": "2016-03-10T20:53:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78705",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a131d0b685656947d273c4e9de30bab69408935">7a131d0</a></td><td><code>trac #9320 trying to fix the issues for potential good reduction over 2</code></td></tr></table>




---

archive/issue_comments_078706.json:
```json
{
    "body": "Changed commit from **[`28cb70c`](https://github.com/sagemath/sagetrac-mirror/commit/28cb70ca84dc378dcbd446a53fc671c7e4efdcf3)** to **[`7a131d0`](https://github.com/sagemath/sagetrac-mirror/commit/7a131d0b685656947d273c4e9de30bab69408935)**",
    "created_at": "2016-03-10T20:53:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78706",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`28cb70c`](https://github.com/sagemath/sagetrac-mirror/commit/28cb70ca84dc378dcbd446a53fc671c7e4efdcf3)** to **[`7a131d0`](https://github.com/sagemath/sagetrac-mirror/commit/7a131d0b685656947d273c4e9de30bab69408935)**



---

archive/issue_comments_078707.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nI tried to fix the problem, but only with partial success. It seems that at some point\nthe code assumes vanishing of coeff a1 in long Weierstrass equation, and I cannot see why.",
    "created_at": "2016-03-10T20:56:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78707",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:41" align="right">comment:41</div>

I tried to fix the problem, but only with partial success. It seems that at some point
the code assumes vanishing of coeff a1 in long Weierstrass equation, and I cannot see why.



---

archive/issue_comments_078708.json:
```json
{
    "body": "<div id=\"comment:42\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/60e9a78c6facda896d1ec681c7b429d3b832bdc8\">60e9a78</a></td><td><code>Merge branch 'u/chapoton/9320' in 7.3.rc0</code></td></tr></table>\n",
    "created_at": "2016-07-29T18:42:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78708",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:42"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/60e9a78c6facda896d1ec681c7b429d3b832bdc8">60e9a78</a></td><td><code>Merge branch 'u/chapoton/9320' in 7.3.rc0</code></td></tr></table>




---

archive/issue_comments_078709.json:
```json
{
    "body": "Changed commit from **[`7a131d0`](https://github.com/sagemath/sagetrac-mirror/commit/7a131d0b685656947d273c4e9de30bab69408935)** to **[`60e9a78`](https://github.com/sagemath/sagetrac-mirror/commit/60e9a78c6facda896d1ec681c7b429d3b832bdc8)**",
    "created_at": "2016-07-29T18:42:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78709",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7a131d0`](https://github.com/sagemath/sagetrac-mirror/commit/7a131d0b685656947d273c4e9de30bab69408935)** to **[`60e9a78`](https://github.com/sagemath/sagetrac-mirror/commit/60e9a78c6facda896d1ec681c7b429d3b832bdc8)**



---

archive/issue_comments_078710.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/66f60b95d17439eb53b8dea2a9dde34963b939bd\">66f60b9</a></td><td><code>Merge branch 'u/chapoton/9320' in 8.1.b5</code></td></tr></table>\n",
    "created_at": "2017-09-14T12:13:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78710",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:43"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/66f60b95d17439eb53b8dea2a9dde34963b939bd">66f60b9</a></td><td><code>Merge branch 'u/chapoton/9320' in 8.1.b5</code></td></tr></table>




---

archive/issue_comments_078711.json:
```json
{
    "body": "Changed commit from **[`60e9a78`](https://github.com/sagemath/sagetrac-mirror/commit/60e9a78c6facda896d1ec681c7b429d3b832bdc8)** to **[`66f60b9`](https://github.com/sagemath/sagetrac-mirror/commit/66f60b95d17439eb53b8dea2a9dde34963b939bd)**",
    "created_at": "2017-09-14T12:13:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78711",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`60e9a78`](https://github.com/sagemath/sagetrac-mirror/commit/60e9a78c6facda896d1ec681c7b429d3b832bdc8)** to **[`66f60b9`](https://github.com/sagemath/sagetrac-mirror/commit/66f60b95d17439eb53b8dea2a9dde34963b939bd)**



---

archive/issue_comments_078712.json:
```json
{
    "body": "<div id=\"comment:44\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c34b3080820198115a79dee956550acc5a495f34\">c34b308</a></td><td><code>Merge branch 'u/chapoton/9320' in 8.2.b2</code></td></tr></table>\n",
    "created_at": "2018-01-04T15:58:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78712",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c34b3080820198115a79dee956550acc5a495f34">c34b308</a></td><td><code>Merge branch 'u/chapoton/9320' in 8.2.b2</code></td></tr></table>




---

archive/issue_comments_078713.json:
```json
{
    "body": "Changed commit from **[`66f60b9`](https://github.com/sagemath/sagetrac-mirror/commit/66f60b95d17439eb53b8dea2a9dde34963b939bd)** to **[`c34b308`](https://github.com/sagemath/sagetrac-mirror/commit/c34b3080820198115a79dee956550acc5a495f34)**",
    "created_at": "2018-01-04T15:58:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78713",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`66f60b9`](https://github.com/sagemath/sagetrac-mirror/commit/66f60b95d17439eb53b8dea2a9dde34963b939bd)** to **[`c34b308`](https://github.com/sagemath/sagetrac-mirror/commit/c34b3080820198115a79dee956550acc5a495f34)**



---

archive/issue_comments_078714.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nMerged with 8.6.beta1\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/223f82090ca704dd4ae71715eb661adf727b6522\">223f820</a></td><td><code>Merge branch 'develop' into 9320</code></td></tr></table>\n",
    "created_at": "2019-01-05T09:49:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78714",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:45" align="right">comment:45</div>

Merged with 8.6.beta1

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/223f82090ca704dd4ae71715eb661adf727b6522">223f820</a></td><td><code>Merge branch 'develop' into 9320</code></td></tr></table>




---

archive/issue_comments_078715.json:
```json
{
    "body": "Changed commit from **[`c34b308`](https://github.com/sagemath/sagetrac-mirror/commit/c34b3080820198115a79dee956550acc5a495f34)** to **[`223f820`](https://github.com/sagemath/sagetrac-mirror/commit/223f82090ca704dd4ae71715eb661adf727b6522)**",
    "created_at": "2019-01-05T09:49:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78715",
    "user": "https://github.com/JohnCremona"
}
```

Changed commit from **[`c34b308`](https://github.com/sagemath/sagetrac-mirror/commit/c34b3080820198115a79dee956550acc5a495f34)** to **[`223f820`](https://github.com/sagemath/sagetrac-mirror/commit/223f82090ca704dd4ae71715eb661adf727b6522)**



---

archive/issue_comments_078716.json:
```json
{
    "body": "Changed branch from **[u/chapoton/9320](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/9320)** to **[public/9320](https://github.com/sagemath/sagetrac-mirror/tree/public/9320)**",
    "created_at": "2019-01-05T09:49:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78716",
    "user": "https://github.com/JohnCremona"
}
```

Changed branch from **[u/chapoton/9320](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/9320)** to **[public/9320](https://github.com/sagemath/sagetrac-mirror/tree/public/9320)**



---

archive/issue_comments_078717.json:
```json
{
    "body": "<div id=\"comment:46\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82d2ddc38912cf9d23b5783444753e060149a740\">82d2ddc</a></td><td><code>fix indentation error in previous commit</code></td></tr></table>\n",
    "created_at": "2019-01-09T09:10:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78717",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:46"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82d2ddc38912cf9d23b5783444753e060149a740">82d2ddc</a></td><td><code>fix indentation error in previous commit</code></td></tr></table>




---

archive/issue_comments_078718.json:
```json
{
    "body": "Changed commit from **[`223f820`](https://github.com/sagemath/sagetrac-mirror/commit/223f82090ca704dd4ae71715eb661adf727b6522)** to **[`82d2ddc`](https://github.com/sagemath/sagetrac-mirror/commit/82d2ddc38912cf9d23b5783444753e060149a740)**",
    "created_at": "2019-01-09T09:10:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78718",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`223f820`](https://github.com/sagemath/sagetrac-mirror/commit/223f82090ca704dd4ae71715eb661adf727b6522)** to **[`82d2ddc`](https://github.com/sagemath/sagetrac-mirror/commit/82d2ddc38912cf9d23b5783444753e060149a740)**



---

archive/issue_comments_078719.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nAfter merging with 8.6.beta1 I ran the tests, and there is one failure in line 2294 of ell_number_field where a local root number at a ramified prime above 2 where there is additive reduction is computed incorrectly.\n\nI checked with Magma that -1 is the correct value.  This curve is http://beta.lmfdb.org/EllipticCurve/2.0.4.1/164.2/a/2 and has associated Bianchi newform http://beta.lmfdb.org/ModularForm/GL2/ImaginaryQuadratic/2.0.4.1/164.2/a/ where you can see that the Atkin-Lehner eigenvalue at 1+i is -1, giving a second independent evaluation.",
    "created_at": "2019-01-09T09:20:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9320",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9320#issuecomment-78719",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:47" align="right">comment:47</div>

After merging with 8.6.beta1 I ran the tests, and there is one failure in line 2294 of ell_number_field where a local root number at a ramified prime above 2 where there is additive reduction is computed incorrectly.

I checked with Magma that -1 is the correct value.  This curve is http://beta.lmfdb.org/EllipticCurve/2.0.4.1/164.2/a/2 and has associated Bianchi newform http://beta.lmfdb.org/ModularForm/GL2/ImaginaryQuadratic/2.0.4.1/164.2/a/ where you can see that the Atkin-Lehner eigenvalue at 1+i is -1, giving a second independent evaluation.
