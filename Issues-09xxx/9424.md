# Issue 9424: Provide symbolic sum function with evalf

archive/issues_009424.json:
```json
{
    "assignees": [
        "https://github.com/burcin"
    ],
    "body": "Symbolics sums returned from maxima cannot be numerically evaluated, since they don't define an `_evalf_()` method.\n\nThis was reported by dirkd on sage-support:\n\n```\nWhy is evaluating this expression problematical?\n\ny1(x)=x^2;y2(x)=5-x;\na0=1;an=3;Delta=(an-a0)/n;p(k)=a0+(k-1/2)*Delta;\nI(n)=sum(abs(y2(p(k))-y1(p(k)))*Delta,k,1,n);\nN(I(10))\n\nSAGE respons:\n<snipped traceback>\n  File \"expression.pyx\", line 3797, in\nsage.symbolic.expression.Expression.n (sage/symbolic/expression.cpp:\n17022)\nTypeError: cannot evaluate symbolic expression numerically\n```\n\nHere is the thread:\n\nhttp://groups.google.com/group/sage-support/t/615b15ca638c9652\n\nSee also #15346\n\nDepends on #17759\n\nCC:  @sagetrac-whuss @kcrisman @eviatarbach\n\nBranch/Commit: **[4f7b161](https://github.com/sagemath/sagetrac-mirror/commit/4f7b1610a3fd78eeea2e188605bccf3983a76490)**\n\nReviewer: **Daniel Krenn**\n\nAuthor: **Ralf Stephan**\n\nComponent: **symbolics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/9424_\n\n",
    "closed_at": "2016-05-01T16:30:11Z",
    "created_at": "2010-07-04T13:13:14Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20symbolics",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Provide symbolic sum function with evalf",
    "type": "issue",
    "updated_at": "2016-05-01T16:30:11Z",
    "url": "https://github.com/sagemath/sage/issues/9424",
    "user": "https://github.com/burcin"
}
```
Symbolics sums returned from maxima cannot be numerically evaluated, since they don't define an `_evalf_()` method.

This was reported by dirkd on sage-support:

```
Why is evaluating this expression problematical?

y1(x)=x^2;y2(x)=5-x;
a0=1;an=3;Delta=(an-a0)/n;p(k)=a0+(k-1/2)*Delta;
I(n)=sum(abs(y2(p(k))-y1(p(k)))*Delta,k,1,n);
N(I(10))

SAGE respons:
<snipped traceback>
  File "expression.pyx", line 3797, in
sage.symbolic.expression.Expression.n (sage/symbolic/expression.cpp:
17022)
TypeError: cannot evaluate symbolic expression numerically
```

Here is the thread:

http://groups.google.com/group/sage-support/t/615b15ca638c9652

See also #15346

Depends on #17759

CC:  @sagetrac-whuss @kcrisman @eviatarbach

Branch/Commit: **[4f7b161](https://github.com/sagemath/sagetrac-mirror/commit/4f7b1610a3fd78eeea2e188605bccf3983a76490)**

Reviewer: **Daniel Krenn**

Author: **Ralf Stephan**

Component: **symbolics**

_Issue created by migration from https://trac.sagemath.org/ticket/9424_





---

archive/issue_events_120940.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2010-07-04T13:13:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120940"
}
```



---

archive/issue_events_120941.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2010-07-04T13:13:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20symbolics",
    "label_color": "0000ff",
    "label_name": "c: symbolics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120941"
}
```



---

archive/issue_events_120942.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2010-07-04T13:13:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120942"
}
```



---

archive/issue_events_120943.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2010-07-04T13:13:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120943"
}
```



---

archive/issue_events_120944.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2010-07-04T13:13:14Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "subject": "https://github.com/burcin",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120944"
}
```



---

archive/issue_events_120945.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120945"
}
```



---

archive/issue_events_120946.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120946"
}
```



---

archive/issue_events_120947.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120947"
}
```



---

archive/issue_events_120948.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120948"
}
```



---

archive/issue_events_120949.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120949"
}
```



---

archive/issue_events_120950.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120950"
}
```



---

archive/issue_events_120951.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-07-26T09:51:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120951"
}
```



---

archive/issue_events_120952.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-07-26T09:51:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120952"
}
```



---

archive/issue_events_120953.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-07-26T09:51:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120953"
}
```



---

archive/issue_events_120954.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-07-26T09:51:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120954"
}
```



---

archive/issue_comments_080694.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nYour problem is threefold: 1. you use `n` both as sum endpoint and variable, 2. Sage `sum` is only intended with symbolic endpoints, and 3. the need to use Python summation may require defining a Python function instead of a Sage symbolic function:\n\n```\nsage: sum?\n...\nWarning: This function only works with symbolic expressions. To sum any\n     other objects like list elements or function return values,\n     please use python summation...\n\nsage: I(n)=sum(abs(y2(p(k))-y1(p(k)))*Delta,k,1,n);\nsage: I\nn |--> 2*sum(abs(-4*k^2 - 3*(2*k - 1)*n + 3*n^2 + 4*k - 1), k, 1, n)/n^3\n\nsage: def I(n):\n....:     return (2*sum(abs(-4*k^2 - 3*(2*k - 1)*n + 3*n^2 + 4*k - 1) for k in range(1,n+1))/n^3)\n....: \nsage: I(10)\n1301/250\nsage: [I(i) for i in range(1,11)]\n[2, 5, 46/9, 5, 26/5, 277/54, 254/49, 665/128, 418/81, 1301/250]\n```",
    "created_at": "2014-07-26T09:51:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80694",
    "user": "https://github.com/rwst"
}
```

<div id="comment:7" align="right">comment:7</div>

Your problem is threefold: 1. you use `n` both as sum endpoint and variable, 2. Sage `sum` is only intended with symbolic endpoints, and 3. the need to use Python summation may require defining a Python function instead of a Sage symbolic function:

```
sage: sum?
...
Warning: This function only works with symbolic expressions. To sum any
     other objects like list elements or function return values,
     please use python summation...

sage: I(n)=sum(abs(y2(p(k))-y1(p(k)))*Delta,k,1,n);
sage: I
n |--> 2*sum(abs(-4*k^2 - 3*(2*k - 1)*n + 3*n^2 + 4*k - 1), k, 1, n)/n^3

sage: def I(n):
....:     return (2*sum(abs(-4*k^2 - 3*(2*k - 1)*n + 3*n^2 + 4*k - 1) for k in range(1,n+1))/n^3)
....: 
sage: I(10)
1301/250
sage: [I(i) for i in range(1,11)]
[2, 5, 46/9, 5, 26/5, 277/54, 254/49, 665/128, 418/81, 1301/250]
```



---

archive/issue_comments_080695.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI don't think any of these invalidate the ticket; the point is to extend the behavior.  Why is 1. a problem?  This seems like it should be a nice function to me.  See Burcin's reply in the thread:\n\n```\n> If I leave out the N( )-operator on the last line the block evaluates\n> to\n> \n> \n> 1/500*sum(abs(-4*k^2 - 56*k + 329), k, 1, 10)\n> \n> which can be evaluated in a new inputbox. Why not in one step?\nThe result returned from maxima uses a symbolic function object created\non the fly. This is quite different from the sum() function\navailable on the command line, and unfortunately, it doesn't define a\nnumerical evaluation function, _evalf_().\n```\nBurcin knows this code very well, so I would be surprised if he misdiagnosed this.  But I figure maybe changing to enhancement will appease everyone :)",
    "created_at": "2014-08-01T14:48:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80695",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:8" align="right">comment:8</div>

I don't think any of these invalidate the ticket; the point is to extend the behavior.  Why is 1. a problem?  This seems like it should be a nice function to me.  See Burcin's reply in the thread:

```
> If I leave out the N( )-operator on the last line the block evaluates
> to
> 
> 
> 1/500*sum(abs(-4*k^2 - 56*k + 329), k, 1, 10)
> 
> which can be evaluated in a new inputbox. Why not in one step?
The result returned from maxima uses a symbolic function object created
on the fly. This is quite different from the sum() function
available on the command line, and unfortunately, it doesn't define a
numerical evaluation function, _evalf_().
```
Burcin knows this code very well, so I would be surprised if he misdiagnosed this.  But I figure maybe changing to enhancement will appease everyone :)



---

archive/issue_events_120955.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-08-01T14:48:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120955"
}
```



---

archive/issue_events_120956.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-08-01T14:48:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120956"
}
```



---

archive/issue_events_120957.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-08-01T14:48:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120957"
}
```



---

archive/issue_comments_080696.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nBurcin is spot-on:\n\n```\nsage: S=(I(10).operands()[0].operator()); S\nsum\nsage: type(S)\n<class 'sage.symbolic.function_factory.NewSymbolicFunction'>\n```\n(Note the \"New\", not \"BuiltIn\" or similar. It's a completely generic placeholder)\nwe just need a symbolic function hooked up that can do some mildly intelligent evaluation when asked for it.\n\nIncidentally, we can just map back to maxima and do the right thing there:\n\n```\nsage: maxima_calculus(I(10))\n('sum(abs(4*_SAGE_VAR_k^2+56*_SAGE_VAR_k-329),_SAGE_VAR_k,1,10))/500\nsage: SR(maxima_calculus(I(10)).simplify_sum())\n1301/250\n```\n(I haven't checked if it's correct). You can see why the \"simplify_sum\" is required: the newly created \"sum\" function in SR is linked to the inert \"'sum\".",
    "created_at": "2014-08-01T18:32:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80696",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:9" align="right">comment:9</div>

Burcin is spot-on:

```
sage: S=(I(10).operands()[0].operator()); S
sum
sage: type(S)
<class 'sage.symbolic.function_factory.NewSymbolicFunction'>
```
(Note the "New", not "BuiltIn" or similar. It's a completely generic placeholder)
we just need a symbolic function hooked up that can do some mildly intelligent evaluation when asked for it.

Incidentally, we can just map back to maxima and do the right thing there:

```
sage: maxima_calculus(I(10))
('sum(abs(4*_SAGE_VAR_k^2+56*_SAGE_VAR_k-329),_SAGE_VAR_k,1,10))/500
sage: SR(maxima_calculus(I(10)).simplify_sum())
1301/250
```
(I haven't checked if it's correct). You can see why the "simplify_sum" is required: the newly created "sum" function in SR is linked to the inert "'sum".



---

archive/issue_events_120958.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-08-05T14:05:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120958"
}
```



---

archive/issue_events_120959.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-08-05T14:05:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120959"
}
```



---

archive/issue_events_120960.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120960"
}
```



---

archive/issue_events_120961.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120961"
}
```



---

archive/issue_comments_080697.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\n[A relevant ask.sagemath question](http://ask.sagemath.org/question/9937/how-do-i-evaluate-sum-containing-factorial/).\n\n[Another one](http://ask.sagemath.org/question/24911/exponentiation-makes-a-formula-go-crazy/).\n\nMaybe it's time we fixed this.",
    "created_at": "2014-11-19T03:05:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80697",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:12" align="right">comment:12</div>

[A relevant ask.sagemath question](http://ask.sagemath.org/question/9937/how-do-i-evaluate-sum-containing-factorial/).

[Another one](http://ask.sagemath.org/question/24911/exponentiation-makes-a-formula-go-crazy/).

Maybe it's time we fixed this.



---

archive/issue_comments_080698.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -21,3 +21,5 @@\n Here is the thread:\n \n http://groups.google.com/group/sage-support/t/615b15ca638c9652\n+\n+See also #17422\n``````\n",
    "created_at": "2014-12-01T10:21:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80698",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -21,3 +21,5 @@
 Here is the thread:
 
 http://groups.google.com/group/sage-support/t/615b15ca638c9652
+
+See also #17422
``````




---

archive/issue_events_120962.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-12-01T10:21:25Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "title_is": "FP evaluation of symbolic sums fails",
    "title_was": "numerical evaluation of symbolic sums",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120962"
}
```



---

archive/issue_comments_080699.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@kcrisman](#comment:12):\n> Maybe it's time we fixed this.\n\nIt is not clear if forcing people to use `N()` and getting a float, even if there is an integer simplification of the sum, is the right thing to do. Granted, the error thrown on `N(I(10))` is a bug, and this ticket is about it. Here is a minimal example:\n\n```\nsage: (k,n) = var('k,n')\nsage: f(n)=sum(abs(-k*k+n),k,1,n)\nsage: f(n=8)\nsum(abs(-k^2 + 8), k, 1, 8)\nsage: N(f(8))\n```\nHowever, I would expect `f(n=8).simplify()` or `.expand()` to give me the result `162`, and this is #17422",
    "created_at": "2014-12-01T10:21:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80699",
    "user": "https://github.com/rwst"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@kcrisman](#comment:12):
> Maybe it's time we fixed this.

It is not clear if forcing people to use `N()` and getting a float, even if there is an integer simplification of the sum, is the right thing to do. Granted, the error thrown on `N(I(10))` is a bug, and this ticket is about it. Here is a minimal example:

```
sage: (k,n) = var('k,n')
sage: f(n)=sum(abs(-k*k+n),k,1,n)
sage: f(n=8)
sum(abs(-k^2 + 8), k, 1, 8)
sage: N(f(8))
```
However, I would expect `f(n=8).simplify()` or `.expand()` to give me the result `162`, and this is #17422



---

archive/issue_comments_080700.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -22,4 +22,4 @@\n \n http://groups.google.com/group/sage-support/t/615b15ca638c9652\n \n-See also #17422\n+See also #15346\n``````\n",
    "created_at": "2014-12-04T07:05:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80700",
    "user": "https://github.com/rwst"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -22,4 +22,4 @@
 
 http://groups.google.com/group/sage-support/t/615b15ca638c9652
 
-See also #17422
+See also #15346
``````




---

archive/issue_events_120963.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-12-04T07:05:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120963"
}
```



---

archive/issue_events_120964.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2014-12-04T07:05:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120964"
}
```



---

archive/issue_comments_080701.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nAs #15346 would implement `simplify_sum`, what remains for this ticket to do?",
    "created_at": "2015-02-01T08:20:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80701",
    "user": "https://github.com/rwst"
}
```

<div id="comment:15" align="right">comment:15</div>

As #15346 would implement `simplify_sum`, what remains for this ticket to do?



---

archive/issue_events_120965.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-01T08:20:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120965"
}
```



---

archive/issue_events_120966.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-01T08:20:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120966"
}
```



---

archive/issue_comments_080702.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\n> As #15346 would implement simplify_sum, what remains for this ticket to do?\n\nI suppose there is the issue that one might not want to have to simplify in order to get a floating-point number.  Really, we shouldn't *require* that.  With #15346 one needs\n\n```\nsage: I(10).expand_sum().n()\n```\nbut really `I(10).n()` should suffice, and for that we need a symbolic sum function.  I'll clarify the title, though, as you are right that this is at least now much more possible.  I'll probably add the example as a reviewer patch on #15346, in fact.",
    "created_at": "2015-02-04T19:53:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80702",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:16" align="right">comment:16</div>

> As #15346 would implement simplify_sum, what remains for this ticket to do?

I suppose there is the issue that one might not want to have to simplify in order to get a floating-point number.  Really, we shouldn't *require* that.  With #15346 one needs

```
sage: I(10).expand_sum().n()
```
but really `I(10).n()` should suffice, and for that we need a symbolic sum function.  I'll clarify the title, though, as you are right that this is at least now much more possible.  I'll probably add the example as a reviewer patch on #15346, in fact.



---

archive/issue_events_120967.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2015-02-04T19:53:38Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "title_is": "Provide symbolic sum function with evalf",
    "title_was": "FP evaluation of symbolic sums fails",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120967"
}
```



---

archive/issue_events_120968.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2015-02-04T20:06:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120968"
}
```



---

archive/issue_events_120969.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2015-02-04T20:06:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120969"
}
```



---

archive/issue_comments_080703.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThis is a proof of concept-patch that works, but only with bare sums. I guess the walk on the expression tree happens somewhere in Pynac.\n\n```\ndiff --git a/src/sage/symbolic/expression.pyx b/src/sage/symbolic/expression.pyx\n--- a/src/sage/symbolic/expression.pyx\n+++ b/src/sage/symbolic/expression.pyx\n@@ -4847,6 +4847,19 @@ cdef class Expression(CommutativeRingElement):\n             sage: all(len(str(e.n(digits=k)))-1 >= k for k in ks)\n             True\n \n+        We also allow evaluation of unexpanded symbolic sums\n+        with numeric limits (:trac:`9424`)::\n+\n+            sage: (k,n) = var('k,n')\n+            sage: f(n) = sum(abs(-k*k+n), k, 1, n)\n+            sage: f(n=8)\n+            sum(abs(-k^2 + 8), k, 1, 8)\n+            sage: f(n=8).n()\n+            162.0\n+            sage: f(n=x).n()\n+            Traceback (most recent call last):\n+            ...\n+            TypeError: cannot evaluate symbolic expression numerically\n         \"\"\"\n         if prec is None:\n             if digits is None:\n@@ -4865,11 +4878,16 @@ cdef class Expression(CommutativeRingElement):\n             x = self._convert(kwds)\n \n         # we have to consider constants as well, since infinity is a constant\n-        # in pynac\n+        # in pynac. Also, catch symbolic sums with numeric limits.\n         if is_a_numeric(x._gobj):\n             res = py_object_from_numeric(x._gobj)\n-        elif  is_a_constant(x._gobj):\n+        elif is_a_constant(x._gobj):\n             res = x.pyobject()\n+        elif x.operator().name() == 'sum' and (\n+                    is_a_numeric((<Expression>x.operands()[2])._gobj)\n+                and is_a_numeric((<Expression>x.operands()[3])._gobj)):\n+            from sage.calculus.calculus import symbolic_sum\n+            return symbolic_sum(*(x.operands()))\n         else:\n             raise TypeError(\"cannot evaluate symbolic expression numerically\")\n```\nbut\n\n```\nsage: (k,n) = var('k,n')\nsage: f(n) = sum(abs(-k*k+n),k,1,n)\nsage: 1+f(n=8)\nsum(abs(-k^2 + 8), k, 1, 8) + 1\nsage: _.n()\nBOOM\n```",
    "created_at": "2015-02-06T17:10:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80703",
    "user": "https://github.com/rwst"
}
```

<div id="comment:18" align="right">comment:18</div>

This is a proof of concept-patch that works, but only with bare sums. I guess the walk on the expression tree happens somewhere in Pynac.

```
diff --git a/src/sage/symbolic/expression.pyx b/src/sage/symbolic/expression.pyx
--- a/src/sage/symbolic/expression.pyx
+++ b/src/sage/symbolic/expression.pyx
@@ -4847,6 +4847,19 @@ cdef class Expression(CommutativeRingElement):
             sage: all(len(str(e.n(digits=k)))-1 >= k for k in ks)
             True
 
+        We also allow evaluation of unexpanded symbolic sums
+        with numeric limits (:trac:`9424`)::
+
+            sage: (k,n) = var('k,n')
+            sage: f(n) = sum(abs(-k*k+n), k, 1, n)
+            sage: f(n=8)
+            sum(abs(-k^2 + 8), k, 1, 8)
+            sage: f(n=8).n()
+            162.0
+            sage: f(n=x).n()
+            Traceback (most recent call last):
+            ...
+            TypeError: cannot evaluate symbolic expression numerically
         """
         if prec is None:
             if digits is None:
@@ -4865,11 +4878,16 @@ cdef class Expression(CommutativeRingElement):
             x = self._convert(kwds)
 
         # we have to consider constants as well, since infinity is a constant
-        # in pynac
+        # in pynac. Also, catch symbolic sums with numeric limits.
         if is_a_numeric(x._gobj):
             res = py_object_from_numeric(x._gobj)
-        elif  is_a_constant(x._gobj):
+        elif is_a_constant(x._gobj):
             res = x.pyobject()
+        elif x.operator().name() == 'sum' and (
+                    is_a_numeric((<Expression>x.operands()[2])._gobj)
+                and is_a_numeric((<Expression>x.operands()[3])._gobj)):
+            from sage.calculus.calculus import symbolic_sum
+            return symbolic_sum(*(x.operands()))
         else:
             raise TypeError("cannot evaluate symbolic expression numerically")
```
but

```
sage: (k,n) = var('k,n')
sage: f(n) = sum(abs(-k*k+n),k,1,n)
sage: 1+f(n=8)
sum(abs(-k^2 + 8), k, 1, 8) + 1
sage: _.n()
BOOM
```



---

archive/issue_comments_080704.json:
```json
{
    "body": "Branch: **[u/rws/provide_symbolic_sum_function_with_evalf](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/provide_symbolic_sum_function_with_evalf)**",
    "created_at": "2015-02-10T15:00:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80704",
    "user": "https://github.com/rwst"
}
```

Branch: **[u/rws/provide_symbolic_sum_function_with_evalf](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/provide_symbolic_sum_function_with_evalf)**



---

archive/issue_comments_080705.json:
```json
{
    "body": "Author: **Ralf Stephan**",
    "created_at": "2015-02-10T15:01:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80705",
    "user": "https://github.com/rwst"
}
```

Author: **Ralf Stephan**



---

archive/issue_comments_080706.json:
```json
{
    "body": "Commit: **[32bca6a](https://github.com/sagemath/sagetrac-mirror/commit/32bca6ab2b1cd43e92fb3bdc262c93a9e8ca6540)**",
    "created_at": "2015-02-10T15:01:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80706",
    "user": "https://github.com/rwst"
}
```

Commit: **[32bca6a](https://github.com/sagemath/sagetrac-mirror/commit/32bca6ab2b1cd43e92fb3bdc262c93a9e8ca6540)**



---

archive/issue_comments_080707.json:
```json
{
    "body": "Dependencies: **#17759**",
    "created_at": "2015-02-10T15:01:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80707",
    "user": "https://github.com/rwst"
}
```

Dependencies: **#17759**



---

archive/issue_events_120970.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-10T15:01:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120970"
}
```



---

archive/issue_events_120971.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-10T15:01:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120971"
}
```



---

archive/issue_comments_080708.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nI think I found a satisfying solution.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3781eec1432c7efe6531be4338fef51cc04eda6d\">3781eec</a></td><td><code>17759: convenience class symbolic ExpressionTreeWalker(Converter)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/32bca6ab2b1cd43e92fb3bdc262c93a9e8ca6540\">32bca6a</a></td><td><code>9424: Provide symbolic sum function with evalf</code></td></tr></table>\n",
    "created_at": "2015-02-10T15:01:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80708",
    "user": "https://github.com/rwst"
}
```

<div id="comment:20" align="right">comment:20</div>

I think I found a satisfying solution.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3781eec1432c7efe6531be4338fef51cc04eda6d">3781eec</a></td><td><code>17759: convenience class symbolic ExpressionTreeWalker(Converter)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/32bca6ab2b1cd43e92fb3bdc262c93a9e8ca6540">32bca6a</a></td><td><code>9424: Provide symbolic sum function with evalf</code></td></tr></table>




---

archive/issue_comments_080709.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nYou'd think that given the massive amounts of snow here lately I'd have time to carefully look this over - but I don't :-(\n\n*However* I think this looks like a good start at a solution, and definitely the first commit is an improvement in any case - perhaps one that deserves its own ticket, for quicker review?  (There might be more people interested in that, honestly.)  Unless someone complained with the name change - but it was never globally imported and frankly we do need a general expression tree walker more easily accessible, see #9329 for instance.  So connecting this (not here, maybe) to the `Converter` class it inherits from and explaining when one would use each one would be useful too.\n\nThe main concern I have in terms of the main purpose of the ticket is to adequately test and debug `DefiniteSumExpander`, especially since it is in the code in such a way that it isn't doctested (other than the case in question).",
    "created_at": "2015-02-10T16:06:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80709",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:21" align="right">comment:21</div>

You'd think that given the massive amounts of snow here lately I'd have time to carefully look this over - but I don't :-(

*However* I think this looks like a good start at a solution, and definitely the first commit is an improvement in any case - perhaps one that deserves its own ticket, for quicker review?  (There might be more people interested in that, honestly.)  Unless someone complained with the name change - but it was never globally imported and frankly we do need a general expression tree walker more easily accessible, see #9329 for instance.  So connecting this (not here, maybe) to the `Converter` class it inherits from and explaining when one would use each one would be useful too.

The main concern I have in terms of the main purpose of the ticket is to adequately test and debug `DefiniteSumExpander`, especially since it is in the code in such a way that it isn't doctested (other than the case in question).



---

archive/issue_comments_080710.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@kcrisman](#comment:21):\n> *However* I think this looks like a good start at a solution, and definitely the first commit is an improvement in any case - perhaps one that deserves its own ticket, for quicker review?\n\nI don't understand. You did see the number #17759?\n> The main concern I have in terms of the main purpose of the ticket is to adequately test and debug `DefiniteSumExpander`, especially since it is in the code in such a way that it isn't doctested (other than the case in question).\n\nMost of it is doctested in #17759, i.e., its base class.",
    "created_at": "2015-02-10T16:13:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80710",
    "user": "https://github.com/rwst"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@kcrisman](#comment:21):
> *However* I think this looks like a good start at a solution, and definitely the first commit is an improvement in any case - perhaps one that deserves its own ticket, for quicker review?

I don't understand. You did see the number #17759?
> The main concern I have in terms of the main purpose of the ticket is to adequately test and debug `DefiniteSumExpander`, especially since it is in the code in such a way that it isn't doctested (other than the case in question).

Most of it is doctested in #17759, i.e., its base class.



---

archive/issue_comments_080711.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\n> Replying to [@kcrisman](#comment:21):\n> > *However* I think this looks like a good start at a solution, and definitely the first commit is an improvement in any case - perhaps one that deserves its own ticket, for quicker review?\n\n> I don't understand. You did see the number #17759?\n\nNope!  I really didn't have a lot of time - never even saw the dependency field.  Maybe I shouldn't look at tickets after shoveling ;)\n> Most of it is doctested in #17759, i.e., its base class.\n\nI did see that doctesting, I just would want to see what was different in the sum case.\n\nI'll keep these on the front burner.",
    "created_at": "2015-02-10T16:18:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80711",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:23" align="right">comment:23</div>

> Replying to [@kcrisman](#comment:21):
> > *However* I think this looks like a good start at a solution, and definitely the first commit is an improvement in any case - perhaps one that deserves its own ticket, for quicker review?

> I don't understand. You did see the number #17759?

Nope!  I really didn't have a lot of time - never even saw the dependency field.  Maybe I shouldn't look at tickets after shoveling ;)
> Most of it is doctested in #17759, i.e., its base class.

I did see that doctesting, I just would want to see what was different in the sum case.

I'll keep these on the front burner.



---

archive/issue_comments_080712.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@kcrisman](#comment:23):\n> I did see that doctesting, I just would want to see what was different in the sum case.\n\nThere the `composition` method is overwritten (and tested).",
    "created_at": "2015-02-10T16:21:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80712",
    "user": "https://github.com/rwst"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@kcrisman](#comment:23):
> I did see that doctesting, I just would want to see what was different in the sum case.

There the `composition` method is overwritten (and tested).



---

archive/issue_events_120972.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-24T10:05:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120972"
}
```



---

archive/issue_events_120973.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-24T10:05:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120973"
}
```



---

archive/issue_comments_080713.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\n\n```\nsage -t --long src/sage/functions/hypergeometric.py  # 11 doctests failed\nsage -t --long src/sage/functions/trig.py  # 1 doctest failed\n```",
    "created_at": "2015-02-24T10:05:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80713",
    "user": "https://github.com/rwst"
}
```

<div id="comment:25" align="right">comment:25</div>


```
sage -t --long src/sage/functions/hypergeometric.py  # 11 doctests failed
sage -t --long src/sage/functions/trig.py  # 1 doctest failed
```



---

archive/issue_comments_080714.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nFixing these doctests will need the solutions found for fixing #17849 (or vice versa).",
    "created_at": "2015-02-24T14:49:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80714",
    "user": "https://github.com/rwst"
}
```

<div id="comment:26" align="right">comment:26</div>

Fixing these doctests will need the solutions found for fixing #17849 (or vice versa).



---

archive/issue_comments_080715.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5a1ac7e8e8c9b214089fd4f223138a8fd6dadc06\">5a1ac7e</a></td><td><code>Merge branch 'develop' into t/9424/provide_symbolic_sum_function_with_evalf</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/93755106787a8a6b7626a9c01a7d0aba51c40447\">9375510</a></td><td><code>Merge branch 'develop' into t/17759/public/17759</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/16aa81d5f5fe7b38db0ce7372e198b6f036ee724\">16aa81d</a></td><td><code>17759: handle hold=True and hypergeometric</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f4edf21bdba48f68f2094e8c95c3a861ffab1aa\">1f4edf2</a></td><td><code>Merge branch 'public/17759' of trac.sagemath.org:sage into t/9424/provide_symbolic_sum_function_with_evalf</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27a16927956651abf9361d8c0a12dffb00cba963\">27a1692</a></td><td><code>9424: delegate to superclass; fix doctest</code></td></tr></table>\n",
    "created_at": "2015-02-28T17:32:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80715",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5a1ac7e8e8c9b214089fd4f223138a8fd6dadc06">5a1ac7e</a></td><td><code>Merge branch 'develop' into t/9424/provide_symbolic_sum_function_with_evalf</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/93755106787a8a6b7626a9c01a7d0aba51c40447">9375510</a></td><td><code>Merge branch 'develop' into t/17759/public/17759</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/16aa81d5f5fe7b38db0ce7372e198b6f036ee724">16aa81d</a></td><td><code>17759: handle hold=True and hypergeometric</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f4edf21bdba48f68f2094e8c95c3a861ffab1aa">1f4edf2</a></td><td><code>Merge branch 'public/17759' of trac.sagemath.org:sage into t/9424/provide_symbolic_sum_function_with_evalf</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27a16927956651abf9361d8c0a12dffb00cba963">27a1692</a></td><td><code>9424: delegate to superclass; fix doctest</code></td></tr></table>




---

archive/issue_comments_080716.json:
```json
{
    "body": "Changed commit from **[32bca6a](https://github.com/sagemath/sagetrac-mirror/commit/32bca6ab2b1cd43e92fb3bdc262c93a9e8ca6540)** to **[27a1692](https://github.com/sagemath/sagetrac-mirror/commit/27a16927956651abf9361d8c0a12dffb00cba963)**",
    "created_at": "2015-02-28T17:32:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80716",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[32bca6a](https://github.com/sagemath/sagetrac-mirror/commit/32bca6ab2b1cd43e92fb3bdc262c93a9e8ca6540)** to **[27a1692](https://github.com/sagemath/sagetrac-mirror/commit/27a16927956651abf9361d8c0a12dffb00cba963)**



---

archive/issue_events_120974.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-28T17:34:22Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120974"
}
```



---

archive/issue_events_120975.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-28T17:34:22Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120975"
}
```



---

archive/issue_events_120976.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-28T17:34:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120976"
}
```



---

archive/issue_events_120977.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-28T17:34:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120977"
}
```



---

archive/issue_comments_080717.json:
```json
{
    "body": "Changed branch from **[u/rws/provide_symbolic_sum_function_with_evalf](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/provide_symbolic_sum_function_with_evalf)** to **[u/rws/9424](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/9424)**",
    "created_at": "2015-05-25T06:53:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80717",
    "user": "https://github.com/rwst"
}
```

Changed branch from **[u/rws/provide_symbolic_sum_function_with_evalf](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/provide_symbolic_sum_function_with_evalf)** to **[u/rws/9424](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/9424)**



---

archive/issue_comments_080718.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fa73285534e56d5ccd19ffc943237757ea06bcf1\">fa73285</a></td><td><code>17759: convenience class symbolic ExpressionTreeWalker(Converter)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b213d69bf13e1c7e21d2da2868bfd7908f5d31eb\">b213d69</a></td><td><code>Merge branch 'u/rws/provide_symbolic_sum_function_with_evalf' of trac.sagemath.org:sage into tmp2</code></td></tr></table>\n",
    "created_at": "2015-05-25T06:56:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80718",
    "user": "https://github.com/rwst"
}
```

<div id="comment:30"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fa73285534e56d5ccd19ffc943237757ea06bcf1">fa73285</a></td><td><code>17759: convenience class symbolic ExpressionTreeWalker(Converter)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b213d69bf13e1c7e21d2da2868bfd7908f5d31eb">b213d69</a></td><td><code>Merge branch 'u/rws/provide_symbolic_sum_function_with_evalf' of trac.sagemath.org:sage into tmp2</code></td></tr></table>




---

archive/issue_comments_080719.json:
```json
{
    "body": "Changed commit from **[27a1692](https://github.com/sagemath/sagetrac-mirror/commit/27a16927956651abf9361d8c0a12dffb00cba963)** to **[b213d69](https://github.com/sagemath/sagetrac-mirror/commit/b213d69bf13e1c7e21d2da2868bfd7908f5d31eb)**",
    "created_at": "2015-05-25T06:56:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80719",
    "user": "https://github.com/rwst"
}
```

Changed commit from **[27a1692](https://github.com/sagemath/sagetrac-mirror/commit/27a16927956651abf9361d8c0a12dffb00cba963)** to **[b213d69](https://github.com/sagemath/sagetrac-mirror/commit/b213d69bf13e1c7e21d2da2868bfd7908f5d31eb)**



---

archive/issue_events_120978.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-05-25T06:56:14Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120978"
}
```



---

archive/issue_events_120979.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-05-25T06:56:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120979"
}
```



---

archive/issue_comments_080720.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\n`TestsFailed` (says the patchbot)",
    "created_at": "2015-05-25T10:10:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80720",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:31" align="right">comment:31</div>

`TestsFailed` (says the patchbot)



---

archive/issue_events_120980.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2015-05-25T10:10:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120980"
}
```



---

archive/issue_events_120981.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2015-05-25T10:10:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120981"
}
```



---

archive/issue_comments_080721.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/985fdb4abfa07278bf16c3c03b4cf8674b252d1e\">985fdb4</a></td><td><code>Merge branch 'develop' into t/9424/9424</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4f7b1610a3fd78eeea2e188605bccf3983a76490\">4f7b161</a></td><td><code>9424: make ceil/floor accept kwds; fix doctests</code></td></tr></table>\n",
    "created_at": "2015-06-11T06:59:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80721",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:32"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/985fdb4abfa07278bf16c3c03b4cf8674b252d1e">985fdb4</a></td><td><code>Merge branch 'develop' into t/9424/9424</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4f7b1610a3fd78eeea2e188605bccf3983a76490">4f7b161</a></td><td><code>9424: make ceil/floor accept kwds; fix doctests</code></td></tr></table>




---

archive/issue_comments_080722.json:
```json
{
    "body": "Changed commit from **[b213d69](https://github.com/sagemath/sagetrac-mirror/commit/b213d69bf13e1c7e21d2da2868bfd7908f5d31eb)** to **[4f7b161](https://github.com/sagemath/sagetrac-mirror/commit/4f7b1610a3fd78eeea2e188605bccf3983a76490)**",
    "created_at": "2015-06-11T06:59:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80722",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b213d69](https://github.com/sagemath/sagetrac-mirror/commit/b213d69bf13e1c7e21d2da2868bfd7908f5d31eb)** to **[4f7b161](https://github.com/sagemath/sagetrac-mirror/commit/4f7b1610a3fd78eeea2e188605bccf3983a76490)**



---

archive/issue_events_120982.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-06-11T07:00:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120982"
}
```



---

archive/issue_events_120983.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-06-11T07:00:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120983"
}
```



---

archive/issue_comments_080723.json:
```json
{
    "body": "Reviewer: **Daniel Krenn**",
    "created_at": "2016-04-30T05:58:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80723",
    "user": "https://github.com/dkrenn"
}
```

Reviewer: **Daniel Krenn**



---

archive/issue_comments_080724.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nLGTM",
    "created_at": "2016-04-30T05:58:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80724",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:34" align="right">comment:34</div>

LGTM



---

archive/issue_events_120984.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2016-04-30T05:58:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120984"
}
```



---

archive/issue_events_120985.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2016-04-30T05:58:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120985"
}
```



---

archive/issue_events_120986.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-05-01T16:30:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120986"
}
```



---

archive/issue_events_120987.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "16e7335f1d513de9c749dc0f4a630f6bb8c39b05",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2016-05-01T16:30:11Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9424#event-120987"
}
```



---

archive/issue_comments_080725.json:
```json
{
    "body": "Changed branch from **[u/rws/9424](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/9424)** to **[4f7b161](https://github.com/sagemath/sagetrac-mirror/commit/4f7b1610a3fd78eeea2e188605bccf3983a76490)**",
    "created_at": "2016-05-01T16:30:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9424#issuecomment-80725",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/rws/9424](https://github.com/sagemath/sagetrac-mirror/tree/u/rws/9424)** to **[4f7b161](https://github.com/sagemath/sagetrac-mirror/commit/4f7b1610a3fd78eeea2e188605bccf3983a76490)**
