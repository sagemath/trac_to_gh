# Issue 9410: EC.local_data() can't handle extensions of number fields

archive/issues_009410.json:
```json
{
    "assignees": [],
    "body": "In 4.4.4 the following code produces a ValueError:\n\n```\nsage: K.<a> = NumberField(x^2+1)\nsage: L.<b> = K.extension(x^2-17)\nsage: E = EllipticCurve(L, [1,1])\nsage: E.local_data()\n```\n\nAs a workaround, one can use absolute_field:\n\n```\nL1.<c> = L.absolute_field()\nE1 = EllipticCurve(L1, [1,1])\nE1.local_data()\n```\n\n\n\nAssignee: **@JohnCremona**\n\nCC:  @williamstein cturner beankao\n\nKeywords: **local_data**\n\nReviewer: **Armin Straub**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/9410_\n\n",
    "closed_at": "2016-08-30T13:32:25Z",
    "created_at": "2010-07-02T17:40:15Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/component%3A%20elliptic%20curves",
        "https://github.com/sagemath/sage/labels/wontfix"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "EC.local_data() can't handle extensions of number fields",
    "type": "issue",
    "updated_at": "2016-08-30T13:32:25Z",
    "url": "https://github.com/sagemath/sage/issues/9410",
    "user": "https://github.com/arminstraub"
}
```
In 4.4.4 the following code produces a ValueError:

```
sage: K.<a> = NumberField(x^2+1)
sage: L.<b> = K.extension(x^2-17)
sage: E = EllipticCurve(L, [1,1])
sage: E.local_data()
```

As a workaround, one can use absolute_field:

```
L1.<c> = L.absolute_field()
E1 = EllipticCurve(L1, [1,1])
E1.local_data()
```



Assignee: **@JohnCremona**

CC:  @williamstein cturner beankao

Keywords: **local_data**

Reviewer: **Armin Straub**

_Issue created by migration from https://trac.sagemath.org/ticket/9410_





---

archive/issue_events_110031.json:
```json
{
    "actor": "https://github.com/arminstraub",
    "created_at": "2010-07-02T17:40:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9410",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20elliptic%20curves",
    "label_color": "0000ff",
    "label_name": "component: elliptic curves",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9410#event-110031"
}
```



---

archive/issue_events_110032.json:
```json
{
    "actor": "https://github.com/arminstraub",
    "created_at": "2010-07-02T17:40:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9410",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9410#event-110032"
}
```



---

archive/issue_events_110033.json:
```json
{
    "actor": "https://github.com/arminstraub",
    "created_at": "2010-07-02T17:40:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9410",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9410#event-110033"
}
```



---

archive/issue_comments_082357.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nThis seems to have been fixed since I reported this a couple of years ago, so this ticket can be closed.  Can/should I do something to flag the ticket as such?",
    "created_at": "2016-08-08T12:34:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9410#issuecomment-82357",
    "user": "https://github.com/arminstraub"
}
```

<a id='comment:1'>Comment 1:</a>
This seems to have been fixed since I reported this a couple of years ago, so this ticket can be closed.  Can/should I do something to flag the ticket as such?



---

archive/issue_comments_082358.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nChoose invalid/dontfix from the Milestone menu (under \"Modify Ticket\").  It will the be closed.\n\nI think it has been fixed for ages, but it hardly seems worth looking for when.  Thanks for noticing -- I'll let you follow the above instructions.",
    "created_at": "2016-08-08T12:51:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9410#issuecomment-82358",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:2'>Comment 2:</a>
Choose invalid/dontfix from the Milestone menu (under "Modify Ticket").  It will the be closed.

I think it has been fixed for ages, but it hardly seems worth looking for when.  Thanks for noticing -- I'll let you follow the above instructions.



---

archive/issue_comments_082359.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nyes, please set to positive review with milestone \"duplicate invalid wontfix\"",
    "created_at": "2016-08-08T12:53:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9410#issuecomment-82359",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'>Comment 3:</a>
yes, please set to positive review with milestone "duplicate invalid wontfix"



---

archive/issue_events_110034.json:
```json
{
    "actor": "https://github.com/arminstraub",
    "created_at": "2016-08-08T13:18:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9410",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9410#event-110034"
}
```



---

archive/issue_events_110035.json:
```json
{
    "actor": "https://github.com/arminstraub",
    "created_at": "2016-08-08T13:18:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9410",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9410#event-110035"
}
```



---

archive/issue_comments_082360.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nThank you both!  I have changed the milestone as instructed.\n\nThere was no option yet to flag this as positively reviewed, so I didn't do that.  My guess is that one has to first set the ticket as \"needs review\" before that option becomes available.  If this should be done, please let me know.",
    "created_at": "2016-08-08T13:18:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9410#issuecomment-82360",
    "user": "https://github.com/arminstraub"
}
```

<a id='comment:4'>Comment 4:</a>
Thank you both!  I have changed the milestone as instructed.

There was no option yet to flag this as positively reviewed, so I didn't do that.  My guess is that one has to first set the ticket as "needs review" before that option becomes available.  If this should be done, please let me know.



---

archive/issue_events_110036.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-08-08T13:31:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9410",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9410#event-110036"
}
```



---

archive/issue_comments_082361.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nyes, this is a 2-step job. I did the first step for you, you can now do the second step. You could have done both yourself.",
    "created_at": "2016-08-08T13:31:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9410#issuecomment-82361",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'>Comment 5:</a>
yes, this is a 2-step job. I did the first step for you, you can now do the second step. You could have done both yourself.



---

archive/issue_comments_082362.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nThanks!  I was hesitant to do that without understanding what will happen.  It is set to \"positive review\" now (with no reviewer, but I hope that is OK in such a case).",
    "created_at": "2016-08-08T13:35:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9410#issuecomment-82362",
    "user": "https://github.com/arminstraub"
}
```

<a id='comment:6'>Comment 6:</a>
Thanks!  I was hesitant to do that without understanding what will happen.  It is set to "positive review" now (with no reviewer, but I hope that is OK in such a case).



---

archive/issue_events_110037.json:
```json
{
    "actor": "https://github.com/arminstraub",
    "created_at": "2016-08-08T13:35:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9410",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9410#event-110037"
}
```



---

archive/issue_events_110038.json:
```json
{
    "actor": "https://github.com/arminstraub",
    "created_at": "2016-08-08T13:35:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9410",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9410#event-110038"
}
```



---

archive/issue_comments_082363.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nI am not sure if we need a reviewer here, but you can add your name for safety.",
    "created_at": "2016-08-08T13:37:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9410#issuecomment-82363",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'>Comment 7:</a>
I am not sure if we need a reviewer here, but you can add your name for safety.



---

archive/issue_comments_082364.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nDone!",
    "created_at": "2016-08-08T13:45:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9410#issuecomment-82364",
    "user": "https://github.com/arminstraub"
}
```

<a id='comment:8'>Comment 8:</a>
Done!



---

archive/issue_comments_082365.json:
```json
{
    "body": "Reviewer: **Armin Straub**",
    "created_at": "2016-08-08T13:45:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9410#issuecomment-82365",
    "user": "https://github.com/arminstraub"
}
```

Reviewer: **Armin Straub**



---

archive/issue_events_110039.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-08-30T13:32:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9410",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9410#event-110039"
}
```



---

archive/issue_events_110040.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-08-30T13:32:25Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/9410",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9410#event-110040"
}
```



---

archive/issue_events_110041.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2016-08-30T13:32:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9410",
    "label": "https://github.com/sagemath/sage/labels/wontfix",
    "label_color": "a6a6a6",
    "label_name": "wontfix",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9410#event-110041"
}
```



---

archive/issue_comments_082366.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nDetermined to be invalid/duplicate/wontfix (closing as \"wontfix\" as a catch-all resolution).",
    "created_at": "2016-08-30T13:32:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9410#issuecomment-82366",
    "user": "https://github.com/embray"
}
```

<a id='comment:9'>Comment 9:</a>
Determined to be invalid/duplicate/wontfix (closing as "wontfix" as a catch-all resolution).
