# Issue 9675: New package: Brian, a simulator for spiking neural networks

archive/issues_009675.json:
```json
{
    "assignees": [],
    "body": "I've created a Sage package from an already existing Python package called Brian (see http://www.briansimulator.org/ for more information). The description that is provided in this webpage is the following:\n\n*Brian is a simulator for spiking neural networks available on almost all platforms. The motivation for this project is that a simulator should not only save the time of processors, but also the time of scientists. It is easy to learn and use, highly flexible and easily extensible. The Brian package itself and simulations using it are all written in the Python programming language.*\n\nI'm not sure whether this package should be proposed as experimental or optional. For the moment I've put it as an experimental package. However, I think it could be optional, because as a Python package it has been widely tested and works perfectly, so I don't think there'll be a lot of problems as a Sage package. Please, let me know your opinion on that.\n\nI must say I detected some problems with Brian units related to the Sage classes 'RealNumber' and 'Integer', so I created a patch so that when Brian is imported these two classes are redefined as follows:\n\n```\nRealNumber=float\nInteger=int\n```\n\nThis solves the problems. \n\nI attach the .spkg here (I know it's better just to provide a link, but I don't have anywhere else to upload it to).\n\nPlease, let me know what you think!\n\nCC:  @mwhansen @sagetrac-mvngu @haraldschilly\n\nKeywords: **brian brain simulator neuronal dynamics**\n\nComponent: **packages: experimental**\n\nAuthor: **Oriol Castejon**\n\nReviewer: **Karl-Dieter Crisman**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/9675_\n\n",
    "closed_at": "2010-09-19T06:27:56Z",
    "created_at": "2010-08-03T16:02:16Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20experimental",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "New package: Brian, a simulator for spiking neural networks",
    "type": "issue",
    "updated_at": "2010-10-01T02:54:24Z",
    "url": "https://github.com/sagemath/sage/issues/9675",
    "user": "https://github.com/sagetrac-uri"
}
```
I've created a Sage package from an already existing Python package called Brian (see http://www.briansimulator.org/ for more information). The description that is provided in this webpage is the following:

*Brian is a simulator for spiking neural networks available on almost all platforms. The motivation for this project is that a simulator should not only save the time of processors, but also the time of scientists. It is easy to learn and use, highly flexible and easily extensible. The Brian package itself and simulations using it are all written in the Python programming language.*

I'm not sure whether this package should be proposed as experimental or optional. For the moment I've put it as an experimental package. However, I think it could be optional, because as a Python package it has been widely tested and works perfectly, so I don't think there'll be a lot of problems as a Sage package. Please, let me know your opinion on that.

I must say I detected some problems with Brian units related to the Sage classes 'RealNumber' and 'Integer', so I created a patch so that when Brian is imported these two classes are redefined as follows:

```
RealNumber=float
Integer=int
```

This solves the problems. 

I attach the .spkg here (I know it's better just to provide a link, but I don't have anywhere else to upload it to).

Please, let me know what you think!

CC:  @mwhansen @sagetrac-mvngu @haraldschilly

Keywords: **brian brain simulator neuronal dynamics**

Component: **packages: experimental**

Author: **Oriol Castejon**

Reviewer: **Karl-Dieter Crisman**

_Issue created by migration from https://trac.sagemath.org/ticket/9675_





---

archive/issue_events_123760.json:
```json
{
    "actor": "https://github.com/sagetrac-uri",
    "created_at": "2010-08-03T16:02:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20experimental",
    "label_color": "0000b0",
    "label_name": "c: packages: experimental",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9675#event-123760"
}
```



---

archive/issue_events_123761.json:
```json
{
    "actor": "https://github.com/sagetrac-uri",
    "created_at": "2010-08-03T16:02:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9675#event-123761"
}
```



---

archive/issue_events_123762.json:
```json
{
    "actor": "https://github.com/sagetrac-uri",
    "created_at": "2010-08-03T16:02:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9675#event-123762"
}
```



---

archive/issue_events_123763.json:
```json
{
    "actor": "https://github.com/sagetrac-uri",
    "created_at": "2010-08-03T16:23:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9675#event-123763"
}
```



---

archive/issue_comments_084846.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nCool!  \nYou may also want to see [this](http://groups.google.com/group/sage-devel/browse_thread/thread/9cec3d5595044b4f/ef8474417a60fbfa?show_docid=ef8474417a60fbfa) thread on sage-devel about where to put spkgs.  \n\nAs to the redefining, that seems... problematic.  There are other Sage Python packages that must encounter the same problems - you may want to ask on the list about how they deal with this.  (I suppose numpy and matplotlib would be likely candidates for this.)\n\nWhat platforms does Brian work on out of the box?",
    "created_at": "2010-08-03T17:21:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9675#issuecomment-84846",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:2" align="right">comment:2</div>

Cool!  
You may also want to see [this](http://groups.google.com/group/sage-devel/browse_thread/thread/9cec3d5595044b4f/ef8474417a60fbfa?show_docid=ef8474417a60fbfa) thread on sage-devel about where to put spkgs.  

As to the redefining, that seems... problematic.  There are other Sage Python packages that must encounter the same problems - you may want to ask on the list about how they deal with this.  (I suppose numpy and matplotlib would be likely candidates for this.)

What platforms does Brian work on out of the box?



---

archive/issue_comments_084847.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nReplying to [@kcrisman](#comment:2):\n> Cool!  \n> You may also want to see [this](http://groups.google.com/group/sage-devel/browse_thread/thread/9cec3d5595044b4f/ef8474417a60fbfa?show_docid=ef8474417a60fbfa) thread on sage-devel about where to put spkgs.  \n\nThanks, I didn't know about Google Code!\n\n> As to the redefining, that seems... problematic.  There are other Sage Python packages that must encounter the same problems - you may want to ask on the list about how they deal with this.  (I suppose numpy and matplotlib would be likely candidates for this.)\n\nYes, I'll give it a try, but I'm not sure if I'll be able to find another solution. I'll let you know.\n\n> What platforms does Brian work on out of the box?   \n\nWell, in the website they say: *All platforms running Python, so at least Windows, Linux and Mac*. I can't say more than that, as I've tried it just on Linux.",
    "created_at": "2010-08-04T14:45:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9675#issuecomment-84847",
    "user": "https://github.com/sagetrac-uri"
}
```

<div id="comment:3" align="right">comment:3</div>

Replying to [@kcrisman](#comment:2):
> Cool!  
> You may also want to see [this](http://groups.google.com/group/sage-devel/browse_thread/thread/9cec3d5595044b4f/ef8474417a60fbfa?show_docid=ef8474417a60fbfa) thread on sage-devel about where to put spkgs.  

Thanks, I didn't know about Google Code!

> As to the redefining, that seems... problematic.  There are other Sage Python packages that must encounter the same problems - you may want to ask on the list about how they deal with this.  (I suppose numpy and matplotlib would be likely candidates for this.)

Yes, I'll give it a try, but I'm not sure if I'll be able to find another solution. I'll let you know.

> What platforms does Brian work on out of the box?   

Well, in the website they say: *All platforms running Python, so at least Windows, Linux and Mac*. I can't say more than that, as I've tried it just on Linux.



---

archive/issue_comments_084848.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@kcrisman](#comment:2):\n> As to the redefining, that seems... problematic.\n\nAnd turning of the preparser via:\n\n```\npreparser(false)\n```\n\nwould also be problematic?",
    "created_at": "2010-08-04T19:29:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9675#issuecomment-84848",
    "user": "https://github.com/sagetrac-uri"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@kcrisman](#comment:2):
> As to the redefining, that seems... problematic.

And turning of the preparser via:

```
preparser(false)
```

would also be problematic?



---

archive/issue_comments_084849.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@sagetrac-uri](#comment:4):\n> Replying to [@kcrisman](#comment:2):\n> > As to the redefining, that seems... problematic.\n\n> \n> And turning of the preparser via:\n> \n> ```\n> preparser(false)\n> ```\n> \n> would also be problematic?\n\nWell, the issues is that a lot of Sage would no longer work as advertised.  That is fine if one is only using Brian, but presumably the point of having Brian as an optional package is that one could go back and forth with other parts of Sage.  I don't know exactly what other such packages do, though.  I highly suggest just emailing sage-devel (perhaps in reply to your original message) and asking what ways around this there are; I assume they exist.  Good luck!",
    "created_at": "2010-08-04T19:49:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9675#issuecomment-84849",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@sagetrac-uri](#comment:4):
> Replying to [@kcrisman](#comment:2):
> > As to the redefining, that seems... problematic.

> 
> And turning of the preparser via:
> 
> ```
> preparser(false)
> ```
> 
> would also be problematic?

Well, the issues is that a lot of Sage would no longer work as advertised.  That is fine if one is only using Brian, but presumably the point of having Brian as an optional package is that one could go back and forth with other parts of Sage.  I don't know exactly what other such packages do, though.  I highly suggest just emailing sage-devel (perhaps in reply to your original message) and asking what ways around this there are; I assume they exist.  Good luck!



---

archive/issue_comments_084850.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nFinally, Brian developers helped me to find a way to solve the problem without needing to redefine any Sage class nor to turn off the preparser. I've upload it on Google Code, you can download it [here](http://spkg-upload.googlecode.com/files/brian-1.2.1.p0.spkg). However, I'll re-upload it here in Trac page to avoid confusions.",
    "created_at": "2010-08-09T15:25:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9675#issuecomment-84850",
    "user": "https://github.com/sagetrac-uri"
}
```

<div id="comment:6" align="right">comment:6</div>

Finally, Brian developers helped me to find a way to solve the problem without needing to redefine any Sage class nor to turn off the preparser. I've upload it on Google Code, you can download it [here](http://spkg-upload.googlecode.com/files/brian-1.2.1.p0.spkg). However, I'll re-upload it here in Trac page to avoid confusions.



---

archive/issue_events_123764.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2010-08-18T15:04:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9675#event-123764"
}
```



---

archive/issue_events_123765.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2010-08-18T15:04:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9675#event-123765"
}
```



---

archive/issue_events_123766.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2010-08-18T15:04:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "milestone_number": null,
    "milestone_title": "sage-4.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9675#event-123766"
}
```



---

archive/issue_comments_084851.json:
```json
{
    "body": "Reviewer: **Karl-Dieter Crisman**",
    "created_at": "2010-08-18T15:04:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9675#issuecomment-84851",
    "user": "https://github.com/kcrisman"
}
```

Reviewer: **Karl-Dieter Crisman**



---

archive/issue_comments_084852.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThis seems to build fine, the script is ok.   In terms of experimental, positive review - it didn't crash anything, and commands actually do things and give output that is consistent with it.\n\nTo release manager - what happens now?  It gets uploaded to the Sage mirrors as experimental package, maybe?  Who does that?\n\nBut in the interests of improving it - I don't see why this couldn't be an optional package, if you can find another potential maintainer (different ticket).  If so, you'd definitely want to have a SPKG-TEST file or whatever, since there are builtin tests.  But...\n\nWhen I do\n\n```\nsage: import brian\nsage: brian.tests()\n```\nI get that I'm missing `nose`.    I doubt that `nose` will be a Sage package anytime soon - or should it, if it makes tests that much easier?  Perhaps upstream would consider having a non-`nose` option for testing.\n\nWhen I try the brian website examples, it tells me that the Sage matplotlib backend doesn't support `show()`.  That would be another thing to figure out.",
    "created_at": "2010-08-18T15:04:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9675#issuecomment-84852",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:7" align="right">comment:7</div>

This seems to build fine, the script is ok.   In terms of experimental, positive review - it didn't crash anything, and commands actually do things and give output that is consistent with it.

To release manager - what happens now?  It gets uploaded to the Sage mirrors as experimental package, maybe?  Who does that?

But in the interests of improving it - I don't see why this couldn't be an optional package, if you can find another potential maintainer (different ticket).  If so, you'd definitely want to have a SPKG-TEST file or whatever, since there are builtin tests.  But...

When I do

```
sage: import brian
sage: brian.tests()
```
I get that I'm missing `nose`.    I doubt that `nose` will be a Sage package anytime soon - or should it, if it makes tests that much easier?  Perhaps upstream would consider having a non-`nose` option for testing.

When I try the brian website examples, it tells me that the Sage matplotlib backend doesn't support `show()`.  That would be another thing to figure out.



---

archive/issue_events_123767.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-08-24T07:05:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9675#event-123767"
}
```



---

archive/issue_events_123768.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-08-24T07:05:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9675#event-123768"
}
```



---

archive/issue_comments_084853.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThe package has unchecked-in changes:\n\n```sh\n$ hg stat\n? .hgignore\n? SPKG.txt\n? patches/units.py\n? patches/units.py.patch\n? spkg-install\n```\nOriol, could you add these files to the repository and commit the changes with the ticket number in the commit string.\n\nAlso, could you please add yourself to the [account name-real name map](http://trac.sagemath.org/sage_trac/wiki/WikiStart#AccountNamesmappedtoRealNames)?  Thanks!",
    "created_at": "2010-08-24T07:05:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9675#issuecomment-84853",
    "user": "https://github.com/qed777"
}
```

<div id="comment:8" align="right">comment:8</div>

The package has unchecked-in changes:

```sh
$ hg stat
? .hgignore
? SPKG.txt
? patches/units.py
? patches/units.py.patch
? spkg-install
```
Oriol, could you add these files to the repository and commit the changes with the ticket number in the commit string.

Also, could you please add yourself to the [account name-real name map](http://trac.sagemath.org/sage_trac/wiki/WikiStart#AccountNamesmappedtoRealNames)?  Thanks!



---

archive/issue_comments_084854.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nOh, I'm so sorry, Mitesh - here I was checking whether the spkg worked but forgot to actually rebuild the spkg from its constituents.  If I ran sage-pkg on it would it have shown this?",
    "created_at": "2010-08-24T11:37:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9675#issuecomment-84854",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:9" align="right">comment:9</div>

Oh, I'm so sorry, Mitesh - here I was checking whether the spkg worked but forgot to actually rebuild the spkg from its constituents.  If I ran sage-pkg on it would it have shown this?



---

archive/issue_comments_084855.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@qed777](#comment:8):\n> The package has unchecked-in changes:\n> \n> ```sh\n> $ hg stat\n> ? .hgignore\n> ? SPKG.txt\n> ? patches/units.py\n> ? patches/units.py.patch\n> ? spkg-install\n> ```\n> Oriol, could you add these files to the repository and commit the changes with the ticket number in the commit string.\n\nOk, done. Please, let me know if it's allright, it's the first time I added files to the repository and I want to be sure I did everything correctly.\n\n> Also, could you please add yourself to the [account name-real name map](http://trac.sagemath.org/sage_trac/wiki/WikiStart#AccountNamesmappedtoRealNames)?  \n\nDone!\n\n> Thanks!\n\nThanks to you for your commments!!",
    "created_at": "2010-08-31T10:56:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9675#issuecomment-84855",
    "user": "https://github.com/sagetrac-uri"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@qed777](#comment:8):
> The package has unchecked-in changes:
> 
> ```sh
> $ hg stat
> ? .hgignore
> ? SPKG.txt
> ? patches/units.py
> ? patches/units.py.patch
> ? spkg-install
> ```
> Oriol, could you add these files to the repository and commit the changes with the ticket number in the commit string.

Ok, done. Please, let me know if it's allright, it's the first time I added files to the repository and I want to be sure I did everything correctly.

> Also, could you please add yourself to the [account name-real name map](http://trac.sagemath.org/sage_trac/wiki/WikiStart#AccountNamesmappedtoRealNames)?  

Done!

> Thanks!

Thanks to you for your commments!!



---

archive/issue_comments_084856.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@kcrisman](#comment:7):\n> But in the interests of improving it - I don't see why this couldn't be an optional package, if you can find another potential maintainer (different ticket).  If so, you'd definitely want to have a SPKG-TEST file or whatever, since there are builtin tests.  But...\n> \n> When I do\n> \n> ```\n> sage: import brian\n> sage: brian.tests()\n> ```\n> I get that I'm missing `nose`.    I doubt that `nose` will be a Sage package anytime soon - or should it, if it makes tests that much easier?  Perhaps upstream would consider having a non-`nose` option for testing.\n\nI don't really know what to say about that... I don't know `nose` and haven't looked at these tests much. I'll think about it, though. However, is it really necessary to include tests on the packages, in order to be set as optional instead of experimental?\n\n> When I try the brian website examples, it tells me that the Sage matplotlib backend doesn't support `show()`.  That would be another thing to figure out.\n\nYes, I had already seen that. The problem is not in Brian but in the matplotlib package itself... there're other ways to see the images, for example replacing the show() command for:\n\n```\nsage: savefig('figure.png')\n```\nwhich creates the file *figure.png* in the working directory. Maybe that should be specified in the documentation. What do you think?",
    "created_at": "2010-08-31T11:07:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9675#issuecomment-84856",
    "user": "https://github.com/sagetrac-uri"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@kcrisman](#comment:7):
> But in the interests of improving it - I don't see why this couldn't be an optional package, if you can find another potential maintainer (different ticket).  If so, you'd definitely want to have a SPKG-TEST file or whatever, since there are builtin tests.  But...
> 
> When I do
> 
> ```
> sage: import brian
> sage: brian.tests()
> ```
> I get that I'm missing `nose`.    I doubt that `nose` will be a Sage package anytime soon - or should it, if it makes tests that much easier?  Perhaps upstream would consider having a non-`nose` option for testing.

I don't really know what to say about that... I don't know `nose` and haven't looked at these tests much. I'll think about it, though. However, is it really necessary to include tests on the packages, in order to be set as optional instead of experimental?

> When I try the brian website examples, it tells me that the Sage matplotlib backend doesn't support `show()`.  That would be another thing to figure out.

Yes, I had already seen that. The problem is not in Brian but in the matplotlib package itself... there're other ways to see the images, for example replacing the show() command for:

```
sage: savefig('figure.png')
```
which creates the file *figure.png* in the working directory. Maybe that should be specified in the documentation. What do you think?



---

archive/issue_comments_084857.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@sagetrac-uri](#comment:10):\n> Replying to [@qed777](#comment:8):\n> > Oriol, could you add these files to the repository and commit the changes with the ticket number in the commit string.\n\n> \n> Ok, done. Please, let me know if it's allright, it's the first time I added files to the repository and I want to be sure I did everything correctly.\n\nI apologize if I've missed it, but is there a link to the updated package?",
    "created_at": "2010-08-31T21:46:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9675#issuecomment-84857",
    "user": "https://github.com/qed777"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@sagetrac-uri](#comment:10):
> Replying to [@qed777](#comment:8):
> > Oriol, could you add these files to the repository and commit the changes with the ticket number in the commit string.

> 
> Ok, done. Please, let me know if it's allright, it's the first time I added files to the repository and I want to be sure I did everything correctly.

I apologize if I've missed it, but is there a link to the updated package?



---

archive/issue_comments_084858.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@qed777](#comment:12):\n> I apologize if I've missed it, but is there a link to the updated package?\n\nYou can download it clicking [here](http://spkg-upload.googlecode.com/files/brian-1.2.1.p0.spkg), but it's the same link I provided before (there's been no update, I just added the files to the repository).",
    "created_at": "2010-09-01T09:14:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9675#issuecomment-84858",
    "user": "https://github.com/sagetrac-uri"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@qed777](#comment:12):
> I apologize if I've missed it, but is there a link to the updated package?

You can download it clicking [here](http://spkg-upload.googlecode.com/files/brian-1.2.1.p0.spkg), but it's the same link I provided before (there's been no update, I just added the files to the repository).



---

archive/issue_comments_084859.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@sagetrac-uri](#comment:13):\n> ..but it's the same link I provided before (there's been no update, I just added the files to the repository).\n\nok, just to avoid confusions, what I mean by that is that the link is the same because I didn't change the name of the package (from brian-1.2.1.p0 to  brian-1.2.1.p1) because there's been no update. So you'll download the right file with the old link.",
    "created_at": "2010-09-01T09:32:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9675#issuecomment-84859",
    "user": "https://github.com/sagetrac-uri"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@sagetrac-uri](#comment:13):
> ..but it's the same link I provided before (there's been no update, I just added the files to the repository).

ok, just to avoid confusions, what I mean by that is that the link is the same because I didn't change the name of the package (from brian-1.2.1.p0 to  brian-1.2.1.p1) because there's been no update. So you'll download the right file with the old link.



---

archive/issue_comments_084860.json:
```json
{
    "body": "Brian package (.spkg  file)",
    "created_at": "2010-09-01T09:32:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9675#issuecomment-84860",
    "user": "https://github.com/sagetrac-uri"
}
```

Brian package (.spkg  file)



---

archive/issue_events_123769.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-09-01T09:36:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9675#event-123769"
}
```



---

archive/issue_events_123770.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-09-01T09:36:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9675#event-123770"
}
```



---

archive/issue_comments_084861.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nAttachment: **[brian-1.2.1.p0.spkg.gz](https://github.com/sagemath/sage/files/ticket9675/brian-1.2.1.p0.spkg.gz)**",
    "created_at": "2010-09-01T09:36:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9675#issuecomment-84861",
    "user": "https://github.com/qed777"
}
```

<div id="comment:15" align="right">comment:15</div>

Attachment: **[brian-1.2.1.p0.spkg.gz](https://github.com/sagemath/sage/files/ticket9675/brian-1.2.1.p0.spkg.gz)**



---

archive/issue_comments_084862.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\n\\# 9221 is related (making nose an optional/standard package).",
    "created_at": "2010-09-17T00:28:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9675#issuecomment-84862",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:16" align="right">comment:16</div>

\# 9221 is related (making nose an optional/standard package).



---

archive/issue_events_123771.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2010-09-17T20:17:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9675#event-123771"
}
```



---

archive/issue_events_123772.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2010-09-17T20:17:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9675#event-123772"
}
```



---

archive/issue_comments_084863.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nOkay, I checked this all out again, and now the HG is fine, and I can't find any garbage files, and it still applies fine to Sage 4.5.3, and I think this is more than ready to be an experimental package. \n\nIf you want, you can find people to test it on a couple other platforms to make sure it's ready for optional package status - I'm not sure exactly what the protocol for that is, though it seems to me that it's more than ready compared to other denizens of http://www.sagemath.org/packages/optional/.  But that could also be another ticket.  At the very least it should get loaded up to the mirrors.  Make it so!",
    "created_at": "2010-09-17T20:17:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9675#issuecomment-84863",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:17" align="right">comment:17</div>

Okay, I checked this all out again, and now the HG is fine, and I can't find any garbage files, and it still applies fine to Sage 4.5.3, and I think this is more than ready to be an experimental package. 

If you want, you can find people to test it on a couple other platforms to make sure it's ready for optional package status - I'm not sure exactly what the protocol for that is, though it seems to me that it's more than ready compared to other denizens of http://www.sagemath.org/packages/optional/.  But that could also be another ticket.  At the very least it should get loaded up to the mirrors.  Make it so!



---

archive/issue_comments_084864.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nHarald, Mike, or Minh, could one of you add [attachment: brian-1.2.1.p0.spkg](https://github.com/sagemath/sage/files/ticket9675/brian-1.2.1.p0.spkg.gz) to the experimental / contributed package repository?",
    "created_at": "2010-09-17T20:42:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9675#issuecomment-84864",
    "user": "https://github.com/qed777"
}
```

<div id="comment:18" align="right">comment:18</div>

Harald, Mike, or Minh, could one of you add [attachment: brian-1.2.1.p0.spkg](https://github.com/sagemath/sage/files/ticket9675/brian-1.2.1.p0.spkg.gz) to the experimental / contributed package repository?



---

archive/issue_comments_084865.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@kcrisman](#comment:16):\n> \\# 9221 is related (making nose an optional/standard package).\n\nSmall correction: #9921 is about this, though there is a discussion about nose at #9221.",
    "created_at": "2010-09-17T20:47:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9675#issuecomment-84865",
    "user": "https://github.com/qed777"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@kcrisman](#comment:16):
> \# 9221 is related (making nose an optional/standard package).

Small correction: #9921 is about this, though there is a discussion about nose at #9221.



---

archive/issue_comments_084866.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@qed777](#comment:19):\n> Replying to [@kcrisman](#comment:16):\n> > \\# 9221 is related (making nose an optional/standard package).\n\n> \n> Small correction: #9921 is about this, though there is a discussion about nose at #9221.\n\nAagh!  That's the same mistake Jason made on #9221 in referring (or not) to #9921... sorry.",
    "created_at": "2010-09-18T00:16:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9675#issuecomment-84866",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@qed777](#comment:19):
> Replying to [@kcrisman](#comment:16):
> > \# 9221 is related (making nose an optional/standard package).

> 
> Small correction: #9921 is about this, though there is a discussion about nose at #9221.

Aagh!  That's the same mistake Jason made on #9221 in referring (or not) to #9921... sorry.



---

archive/issue_events_123773.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2010-09-19T06:27:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9675#event-123773"
}
```



---

archive/issue_events_123774.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2010-09-19T06:27:56Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9675#event-123774"
}
```



---

archive/issue_comments_084867.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@qed777](#comment:18):\n> Harald, Mike, or Minh, could one of you add [attachment: brian-1.2.1.p0.spkg](https://github.com/sagemath/sage/files/ticket9675/brian-1.2.1.p0.spkg.gz) to the experimental / contributed package repository?\n\nDone. See\n\nhttp://www.sagemath.org/packages/experimental/",
    "created_at": "2010-09-19T06:27:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9675#issuecomment-84867",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@qed777](#comment:18):
> Harald, Mike, or Minh, could one of you add [attachment: brian-1.2.1.p0.spkg](https://github.com/sagemath/sage/files/ticket9675/brian-1.2.1.p0.spkg.gz) to the experimental / contributed package repository?

Done. See

http://www.sagemath.org/packages/experimental/



---

archive/issue_comments_084868.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThanks, Minh!",
    "created_at": "2010-09-19T06:33:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9675#issuecomment-84868",
    "user": "https://github.com/qed777"
}
```

<div id="comment:22" align="right">comment:22</div>

Thanks, Minh!



---

archive/issue_comments_084869.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nGreat, thank you all!\nI'll open a new ticket to see if it can be accepted as an optional package.",
    "created_at": "2010-09-19T17:06:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9675#issuecomment-84869",
    "user": "https://github.com/sagetrac-uri"
}
```

<div id="comment:23" align="right">comment:23</div>

Great, thank you all!
I'll open a new ticket to see if it can be accepted as an optional package.



---

archive/issue_comments_084870.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nThere's been some discussion on other tickets about the virtues of nose, so it might not be that unlikely to make it standard in Sage.",
    "created_at": "2010-10-01T02:54:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9675#issuecomment-84870",
    "user": "https://github.com/sagetrac-mhampton"
}
```

<div id="comment:24" align="right">comment:24</div>

There's been some discussion on other tickets about the virtues of nose, so it might not be that unlikely to make it standard in Sage.
