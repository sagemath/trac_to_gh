# Issue 9717: fix variable substitution in PolyBoRi + finding M4RI

archive/issues_009717.json:
```json
{
    "assignees": [
        "https://github.com/malb"
    ],
    "body": "For some inputs our [This is the Trac macro *PolyBoRi* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#PolyBoRi-macro) wrapper throws an error while upstream computes the example just fine. The reason we fail is that some rings don't match and thus coercion goes wrong. The problem was reported by Joan Daemen who also provided an example via private communication.\n\n---\n\n## Note to the release managers\n\nWhen merging the [new PolyBoRi 0.6.4.p4 spkg](http://sage.math.washington.edu/home/malb/spkgs/polybori-0.6.4.p4.spkg), **apply**\n[the attached patch](https://github.com/sagemath/sage/files/ticket9717/polybori-0.6.4.p2.patch.gz) **to the Sage library**.\n\nCC:  @sagetrac-PolyBoRi @alexanderdreyer @nexttime @qed777\n\nComponent: **commutative algebra**\n\nAuthor: **Alexander Dreyer, Martin Albrecht, Michael Brickenstein**\n\nReviewer: **Martin Albrecht, Alexander Dreyer, Leif Leonhardy**\n\nUpstream: **Fixed upstream, in a later stable release.**\n\nMerged: **sage-4.5.3.alpha1**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/9717_\n\n",
    "closed_at": "2010-08-15T08:03:29Z",
    "created_at": "2010-08-10T12:43:40Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20commutative%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.5.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "fix variable substitution in PolyBoRi + finding M4RI",
    "type": "issue",
    "updated_at": "2010-08-17T08:27:23Z",
    "url": "https://github.com/sagemath/sage/issues/9717",
    "user": "https://github.com/malb"
}
```
For some inputs our [This is the Trac macro *PolyBoRi* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#PolyBoRi-macro) wrapper throws an error while upstream computes the example just fine. The reason we fail is that some rings don't match and thus coercion goes wrong. The problem was reported by Joan Daemen who also provided an example via private communication.

---

## Note to the release managers

When merging the [new PolyBoRi 0.6.4.p4 spkg](http://sage.math.washington.edu/home/malb/spkgs/polybori-0.6.4.p4.spkg), **apply**
[the attached patch](https://github.com/sagemath/sage/files/ticket9717/polybori-0.6.4.p2.patch.gz) **to the Sage library**.

CC:  @sagetrac-PolyBoRi @alexanderdreyer @nexttime @qed777

Component: **commutative algebra**

Author: **Alexander Dreyer, Martin Albrecht, Michael Brickenstein**

Reviewer: **Martin Albrecht, Alexander Dreyer, Leif Leonhardy**

Upstream: **Fixed upstream, in a later stable release.**

Merged: **sage-4.5.3.alpha1**

_Issue created by migration from https://trac.sagemath.org/ticket/9717_





---

archive/issue_events_124550.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-08-10T12:43:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "milestone_number": null,
    "milestone_title": "sage-4.5.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9717#event-124550"
}
```



---

archive/issue_events_124551.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-08-10T12:43:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20commutative%20algebra",
    "label_color": "0000ff",
    "label_name": "c: commutative algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9717#event-124551"
}
```



---

archive/issue_events_124552.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-08-10T12:43:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9717#event-124552"
}
```



---

archive/issue_events_124553.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-08-10T12:43:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9717#event-124553"
}
```



---

archive/issue_events_124554.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-08-10T12:43:40Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "subject": "https://github.com/malb",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9717#event-124554"
}
```



---

archive/issue_comments_085585.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nAlexander Dreyer provided a fix for the issue. I've packaged this fix into an SPKG\n\n\u00a0http://sage.math.washington.edu/home/malb/spkgs/polybori-0.6.4.p2.spkg\n\nI've also packaged his patch for Sage into a proper mercurial patch which I'll attach in a sec.",
    "created_at": "2010-08-10T12:45:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85585",
    "user": "https://github.com/malb"
}
```

<div id="comment:1" align="right">comment:1</div>

Alexander Dreyer provided a fix for the issue. I've packaged this fix into an SPKG

Â http://sage.math.washington.edu/home/malb/spkgs/polybori-0.6.4.p2.spkg

I've also packaged his patch for Sage into a proper mercurial patch which I'll attach in a sec.



---

archive/issue_events_124555.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-08-10T12:45:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9717#event-124555"
}
```



---

archive/issue_comments_085586.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nThe attached patch + SPKG fix the original problem, however I'm getting segfaults now:\n\n```\nProgram received signal SIGSEGV, Segmentation fault.\nlinalg_step_modified (polys=<value optimized out>, terms=<value optimized out>, \n    leads_from_strat=<value optimized out>, log=<value optimized out>, \n    optDrawMatrices=<value optimized out>, matrixPrefix=<value optimized out>)\n    at groebner/src/nf.cc:2270\n2270    groebner/src/nf.cc: No such file or directory.\n        in groebner/src/nf.cc\nCurrent language:  auto\nThe current source language is \"auto; currently c++\".\n(gdb) bt\n#0  linalg_step_modified (polys=<value optimized out>, terms=<value optimized out>, \n    leads_from_strat=<value optimized out>, log=<value optimized out>, \n    optDrawMatrices=<value optimized out>, matrixPrefix=<value optimized out>)\n    at groebner/src/nf.cc:2270\n#1  0x00007fffcf4f6c56 in polybori::groebner::GroebnerStrategy::faugereStepDense (\n    this=<value optimized out>, orig_system=<value optimized out>) at groebner/src/nf.cc:2386\n#2  0x00007fffcf3e2a0d in __pyx_pf_4sage_5rings_10polynomial_5pbori_16GroebnerStrategy_faugere_step_dense (__pyx_v_self=0x5997520, __pyx_v_v=0x12bf3500) at sage/rings/polynomial/pbori.cpp:31846\n#3  0x00007ffff7b11316 in call_function (f=0x418a900, throwflag=<value optimized out>)\n    at Python/ceval.c:3694\n\n```",
    "created_at": "2010-08-10T12:49:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85586",
    "user": "https://github.com/malb"
}
```

<div id="comment:2" align="right">comment:2</div>

The attached patch + SPKG fix the original problem, however I'm getting segfaults now:

```
Program received signal SIGSEGV, Segmentation fault.
linalg_step_modified (polys=<value optimized out>, terms=<value optimized out>, 
    leads_from_strat=<value optimized out>, log=<value optimized out>, 
    optDrawMatrices=<value optimized out>, matrixPrefix=<value optimized out>)
    at groebner/src/nf.cc:2270
2270    groebner/src/nf.cc: No such file or directory.
        in groebner/src/nf.cc
Current language:  auto
The current source language is "auto; currently c++".
(gdb) bt
#0  linalg_step_modified (polys=<value optimized out>, terms=<value optimized out>, 
    leads_from_strat=<value optimized out>, log=<value optimized out>, 
    optDrawMatrices=<value optimized out>, matrixPrefix=<value optimized out>)
    at groebner/src/nf.cc:2270
#1  0x00007fffcf4f6c56 in polybori::groebner::GroebnerStrategy::faugereStepDense (
    this=<value optimized out>, orig_system=<value optimized out>) at groebner/src/nf.cc:2386
#2  0x00007fffcf3e2a0d in __pyx_pf_4sage_5rings_10polynomial_5pbori_16GroebnerStrategy_faugere_step_dense (__pyx_v_self=0x5997520, __pyx_v_v=0x12bf3500) at sage/rings/polynomial/pbori.cpp:31846
#3  0x00007ffff7b11316 in call_function (f=0x418a900, throwflag=<value optimized out>)
    at Python/ceval.c:3694

```



---

archive/issue_comments_085587.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nIgnore the SIGSEGV above, it is unrelated to this ticket but is caused by #9562.\u00a0\n\nAlexander, can you review my SPKG + patch, i.e. that it does what you intended? I give your changes a positive review so all that's needed is some check whether I produced the SPKG correctly etc.",
    "created_at": "2010-08-10T13:30:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85587",
    "user": "https://github.com/malb"
}
```

<div id="comment:3" align="right">comment:3</div>

Ignore the SIGSEGV above, it is unrelated to this ticket but is caused by #9562.Â 

Alexander, can you review my SPKG + patch, i.e. that it does what you intended? I give your changes a positive review so all that's needed is some check whether I produced the SPKG correctly etc.



---

archive/issue_events_124556.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-08-10T13:30:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9717#event-124556"
}
```



---

archive/issue_events_124557.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-08-10T13:30:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9717#event-124557"
}
```



---

archive/issue_comments_085588.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nUse this SPKG instead (it is based on the latest PolyBoRi SPKG which the previous SPKG wasn't)\u00a0\n\n\u00a0http://sage.math.washington.edu/home/malb/spkgs/polybori-0.6.4.p3.spkg",
    "created_at": "2010-08-10T15:08:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85588",
    "user": "https://github.com/malb"
}
```

<div id="comment:4" align="right">comment:4</div>

Use this SPKG instead (it is based on the latest PolyBoRi SPKG which the previous SPKG wasn't)Â 

Â http://sage.math.washington.edu/home/malb/spkgs/polybori-0.6.4.p3.spkg



---

archive/issue_comments_085589.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThere was some unrelated issue with the previous spkg (libm4ri was not found, because Sage's lib directory was not given to PolyBoRi)\nI updated the spkg accordingly:\nhttp://sage.math.washington.edu/home/dreyer/pb/polybori-0.6.4.p4.spkg",
    "created_at": "2010-08-10T21:16:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85589",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:5" align="right">comment:5</div>

There was some unrelated issue with the previous spkg (libm4ri was not found, because Sage's lib directory was not given to PolyBoRi)
I updated the spkg accordingly:
http://sage.math.washington.edu/home/dreyer/pb/polybori-0.6.4.p4.spkg



---

archive/issue_comments_085590.json:
```json
{
    "body": "Work Issues: **Update SPKG.txt**",
    "created_at": "2010-08-11T12:50:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85590",
    "user": "https://github.com/nexttime"
}
```

Work Issues: **Update SPKG.txt**



---

archive/issue_events_124558.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2010-08-11T12:50:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9717#event-124558"
}
```



---

archive/issue_events_124559.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2010-08-11T12:50:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9717#event-124559"
}
```



---

archive/issue_comments_085591.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\n`SPKG.txt` has to be updated for p4.\n\nAlexander's patch looks reasonable, though libm4ri (and the GD library) were previously found (in the second attempt)... (The only issue I'm aware of is with updating from 4.5.2 on MacOS X 10.6, which Mitesh Patel couldn't reproduce either; see #9721.)\n\n(The change to p4 is of course unrelated to the original intent of this ticket; perhaps adapt its title, too.)",
    "created_at": "2010-08-11T12:50:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85591",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:8" align="right">comment:8</div>

`SPKG.txt` has to be updated for p4.

Alexander's patch looks reasonable, though libm4ri (and the GD library) were previously found (in the second attempt)... (The only issue I'm aware of is with updating from 4.5.2 on MacOS X 10.6, which Mitesh Patel couldn't reproduce either; see #9721.)

(The change to p4 is of course unrelated to the original intent of this ticket; perhaps adapt its title, too.)



---

archive/issue_comments_085592.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@nexttime](#comment:8):\n\n> `SPKG.txt` has to be updated for p4.\n\nI have a new SPKG which does exactly that. I'll upload it later.\n\n> Alexander's patch looks reasonable, though libm4ri (and the GD library) were previously found (in the second attempt)... (The only issue I'm aware of is with updating from 4.5.2 on MacOS X 10.6, which Mitesh Patel couldn't reproduce either; see #9721.) (The change to p4 is of course unrelated to the original intent of this ticket; perhaps adapt its title, too.)",
    "created_at": "2010-08-11T13:12:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85592",
    "user": "https://github.com/malb"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@nexttime](#comment:8):

> `SPKG.txt` has to be updated for p4.

I have a new SPKG which does exactly that. I'll upload it later.

> Alexander's patch looks reasonable, though libm4ri (and the GD library) were previously found (in the second attempt)... (The only issue I'm aware of is with updating from 4.5.2 on MacOS X 10.6, which Mitesh Patel couldn't reproduce either; see #9721.) (The change to p4 is of course unrelated to the original intent of this ticket; perhaps adapt its title, too.)



---

archive/issue_events_124560.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-08-11T13:12:32Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "title_is": "fix variable substitution in PolyBoRi + finding M4RI",
    "title_was": "fix variable substitution in PolyBoRi",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9717#event-124560"
}
```



---

archive/issue_comments_085593.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThe new SPKG is here\n\n\u00a0http://sage.math.washington.edu/home/malb/spkgs/polybori-0.6.4.p4.spkg\n\nI just added an entry to SPKG.txt",
    "created_at": "2010-08-11T13:30:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85593",
    "user": "https://github.com/malb"
}
```

<div id="comment:10" align="right">comment:10</div>

The new SPKG is here

Â http://sage.math.washington.edu/home/malb/spkgs/polybori-0.6.4.p4.spkg

I just added an entry to SPKG.txt



---

archive/issue_comments_085594.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nPolyBoRi makes assumptions about M4RI which are not met with the newest upstream release (#9475). Thus, we should fix this here asap since the new M4RI is about to go in.",
    "created_at": "2010-08-11T18:03:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85594",
    "user": "https://github.com/malb"
}
```

<div id="comment:11" align="right">comment:11</div>

PolyBoRi makes assumptions about M4RI which are not met with the newest upstream release (#9475). Thus, we should fix this here asap since the new M4RI is about to go in.



---

archive/issue_comments_085595.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI've replaced the SPKG here\u00a0\n\n\u00a0 \u00a0http://sage.math.washington.edu/home/malb/spkgs/polybori-0.6.4.p4.spkg\n\nand the new SPKG fixes the SIGSEGV and all doctests pass.\n\nThese fixes are:\n\n\u00a0http://bitbucket.org/brickenstein/polybori/changeset/6ef7402d935b\n\n\u00a0http://bitbucket.org/brickenstein/polybori/changeset/b692c8181e94",
    "created_at": "2010-08-12T18:48:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85595",
    "user": "https://github.com/malb"
}
```

<div id="comment:12" align="right">comment:12</div>

I've replaced the SPKG hereÂ 

Â  Â http://sage.math.washington.edu/home/malb/spkgs/polybori-0.6.4.p4.spkg

and the new SPKG fixes the SIGSEGV and all doctests pass.

These fixes are:

Â http://bitbucket.org/brickenstein/polybori/changeset/6ef7402d935b

Â http://bitbucket.org/brickenstein/polybori/changeset/b692c8181e94



---

archive/issue_events_124561.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-08-12T18:48:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9717#event-124561"
}
```



---

archive/issue_events_124562.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-08-12T18:48:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9717#event-124562"
}
```



---

archive/issue_events_124563.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2010-08-13T02:30:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9717#event-124563"
}
```



---

archive/issue_events_124564.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2010-08-13T02:30:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9717#event-124564"
}
```



---

archive/issue_comments_085596.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\n`Work issues` field ( = *\"Update `SPKG.txt`\"*) still (or again) valid... ;-)\n\n(Perhaps also add this ticket number, and mention the PolyBoRi upstream fixes there.)",
    "created_at": "2010-08-13T02:30:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85596",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:14" align="right">comment:14</div>

`Work issues` field ( = *"Update `SPKG.txt`"*) still (or again) valid... ;-)

(Perhaps also add this ticket number, and mention the PolyBoRi upstream fixes there.)



---

archive/issue_comments_085597.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nUpdated accordingly.",
    "created_at": "2010-08-13T08:50:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85597",
    "user": "https://github.com/malb"
}
```

<div id="comment:15" align="right">comment:15</div>

Updated accordingly.



---

archive/issue_comments_085598.json:
```json
{
    "body": "Changed work issues from **Update SPKG.txt** to none",
    "created_at": "2010-08-13T08:50:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85598",
    "user": "https://github.com/malb"
}
```

Changed work issues from **Update SPKG.txt** to none



---

archive/issue_events_124565.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-08-13T08:50:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9717#event-124565"
}
```



---

archive/issue_events_124566.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-08-13T08:50:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9717#event-124566"
}
```



---

archive/issue_comments_085599.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nMeanwhile, I took a look at the surrounding code also. (Just to ensure, that the patches also do the right thing in other contexts.) It's a good patch and it may fix even more issues. So I give a positive review from the mathematical point of view. (If I'm allowed to do so.) For the technical viewpoint: I'm waiting now for `sage -testall` to finish.",
    "created_at": "2010-08-13T09:02:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85599",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:16" align="right">comment:16</div>

Meanwhile, I took a look at the surrounding code also. (Just to ensure, that the patches also do the right thing in other contexts.) It's a good patch and it may fix even more issues. So I give a positive review from the mathematical point of view. (If I'm allowed to do so.) For the technical viewpoint: I'm waiting now for `sage -testall` to finish.



---

archive/issue_comments_085600.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nPassed `ptestlong` with Sage 4.5.3.alpha0 and `libm4ri-20100701.p1` from #9475 on Fedora 13 x86 (Pentium 4 Prescott, gcc 4.4.4).\n\nSo I can give \"positive review\" from the technical side. ;-)",
    "created_at": "2010-08-13T09:55:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85600",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:17" align="right">comment:17</div>

Passed `ptestlong` with Sage 4.5.3.alpha0 and `libm4ri-20100701.p1` from #9475 on Fedora 13 x86 (Pentium 4 Prescott, gcc 4.4.4).

So I can give "positive review" from the technical side. ;-)



---

archive/issue_comments_085601.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThe updated `SPKG.txt` is ok, too. (And the upstream fixes also look reasonable btw.)",
    "created_at": "2010-08-13T10:05:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85601",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:18" align="right">comment:18</div>

The updated `SPKG.txt` is ok, too. (And the upstream fixes also look reasonable btw.)



---

archive/issue_comments_085602.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@nexttime](#comment:18):\n> The updated `SPKG.txt` is ok, too.\n\n... except for the date(s), but I'll assume the intention was to avoid naming Friday 13th and accept it. ;-)",
    "created_at": "2010-08-13T10:14:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85602",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@nexttime](#comment:18):
> The updated `SPKG.txt` is ok, too.

... except for the date(s), but I'll assume the intention was to avoid naming Friday 13th and accept it. ;-)



---

archive/issue_comments_085603.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nSo we have a positive review then?",
    "created_at": "2010-08-13T11:59:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85603",
    "user": "https://github.com/malb"
}
```

<div id="comment:20" align="right">comment:20</div>

So we have a positive review then?



---

archive/issue_comments_085604.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@malb](#comment:20):\n> So we have a positive review then?\n\nOnce Alexander's `testall` has finished, I think yes. :)\n\nI'll perhaps test later on a 64-bit platform, although I don't expect any issues.",
    "created_at": "2010-08-13T12:21:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85604",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@malb](#comment:20):
> So we have a positive review then?

Once Alexander's `testall` has finished, I think yes. :)

I'll perhaps test later on a 64-bit platform, although I don't expect any issues.



---

archive/issue_comments_085605.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@nexttime](#comment:21):\n> I'll perhaps test later on a 64-bit platform, although I don't expect any issues.\n\nPassed all long tests in `sage/matrix`; currently running `make testlong`, but this will take some time since the system is already fully loaded... (Ubuntu 9.04 x86_64, Core2, gcc 4.3.3)",
    "created_at": "2010-08-13T12:55:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85605",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@nexttime](#comment:21):
> I'll perhaps test later on a 64-bit platform, although I don't expect any issues.

Passed all long tests in `sage/matrix`; currently running `make testlong`, but this will take some time since the system is already fully loaded... (Ubuntu 9.04 x86_64, Core2, gcc 4.3.3)



---

archive/issue_comments_085606.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\n> Once Alexander's `testall` has finished, I think yes. :)\n\nThey have successfully finished (SuSE 11.1 64 Bits). So we have the positive review now",
    "created_at": "2010-08-13T14:13:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85606",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:23" align="right">comment:23</div>

> Once Alexander's `testall` has finished, I think yes. :)

They have successfully finished (SuSE 11.1 64 Bits). So we have the positive review now



---

archive/issue_comments_085607.json:
```json
{
    "body": "Author: **malb,PolyBoRi**",
    "created_at": "2010-08-13T14:13:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85607",
    "user": "https://github.com/alexanderdreyer"
}
```

Author: **malb,PolyBoRi**



---

archive/issue_comments_085608.json:
```json
{
    "body": "Upstream: **Fixed upstream, in a later stable release.**",
    "created_at": "2010-08-13T14:13:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85608",
    "user": "https://github.com/alexanderdreyer"
}
```

Upstream: **Fixed upstream, in a later stable release.**



---

archive/issue_events_124567.json:
```json
{
    "actor": "https://github.com/alexanderdreyer",
    "created_at": "2010-08-13T14:13:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9717#event-124567"
}
```



---

archive/issue_events_124568.json:
```json
{
    "actor": "https://github.com/alexanderdreyer",
    "created_at": "2010-08-13T14:13:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9717#event-124568"
}
```



---

archive/issue_comments_085609.json:
```json
{
    "body": "Reviewer: **leif,AlexanderDreyer**",
    "created_at": "2010-08-13T14:13:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85609",
    "user": "https://github.com/alexanderdreyer"
}
```

Reviewer: **leif,AlexanderDreyer**



---

archive/issue_comments_085610.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\n## Note to the release managers\n\nI think this should (only) be merged together with #9475, but I'm not *that* sure.",
    "created_at": "2010-08-13T14:25:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85610",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:24" align="right">comment:24</div>

## Note to the release managers

I think this should (only) be merged together with #9475, but I'm not *that* sure.



---

archive/issue_comments_085611.json:
```json
{
    "body": "Changed reviewer from **leif,AlexanderDreyer** to **Martin Albrecht, Alexander Dreyer, Leif Leonhardy**",
    "created_at": "2010-08-13T14:25:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85611",
    "user": "https://github.com/nexttime"
}
```

Changed reviewer from **leif,AlexanderDreyer** to **Martin Albrecht, Alexander Dreyer, Leif Leonhardy**



---

archive/issue_comments_085612.json:
```json
{
    "body": "Changed author from **malb,PolyBoRi** to **Alexander Dreyer, Martin Albrecht, Michael Brickenstein**",
    "created_at": "2010-08-13T14:25:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85612",
    "user": "https://github.com/nexttime"
}
```

Changed author from **malb,PolyBoRi** to **Alexander Dreyer, Martin Albrecht, Michael Brickenstein**



---

archive/issue_comments_085613.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nAs expected, also passed `testlong` with Sage 4.5.3.alpha0 and #9475 on Ubuntu 9.04 x86_64 (Core2, gcc 4.3.3, native code, O2).",
    "created_at": "2010-08-13T16:39:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85613",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:25" align="right">comment:25</div>

As expected, also passed `testlong` with Sage 4.5.3.alpha0 and #9475 on Ubuntu 9.04 x86_64 (Core2, gcc 4.3.3, native code, O2).



---

archive/issue_comments_085614.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nOoops, I just noticed the [attached patch](https://github.com/sagemath/sage/files/ticket9717/polybori-0.6.4.p2.patch.gz) is to the *Sage library* (I assumed it is an *spkg* patch). So I did **not** apply that patch in any of the tests I made, which despite that all passed...\n\nMartin, is that patch now obsolete or do we just not test an example which would fail without it? Or is it platform-specific?\n\n(Btw, the patch's commit message lacks a ticket number; also, a back-reference/comment in the code wouldn't be bad.)\n\nPerhaps you could add Joan Daemen's example to the ticket.",
    "created_at": "2010-08-13T17:12:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85614",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:26" align="right">comment:26</div>

Ooops, I just noticed the [attached patch](https://github.com/sagemath/sage/files/ticket9717/polybori-0.6.4.p2.patch.gz) is to the *Sage library* (I assumed it is an *spkg* patch). So I did **not** apply that patch in any of the tests I made, which despite that all passed...

Martin, is that patch now obsolete or do we just not test an example which would fail without it? Or is it platform-specific?

(Btw, the patch's commit message lacks a ticket number; also, a back-reference/comment in the code wouldn't be bad.)

Perhaps you could add Joan Daemen's example to the ticket.



---

archive/issue_comments_085615.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@nexttime](#comment:26):\n\n> Ooops, I just noticed the [attached patch](https://github.com/sagemath/sage/files/ticket9717/polybori-0.6.4.p2.patch.gz) is to the *Sage library* (I assumed it is an *spkg* patch). So I did **not** apply that patch in any of the tests I made, which despite that all passed... Martin, is that patch now obsolete or do we just not test an example which would fail without it?\n\nThe patch is necessary, Sage will SIGSEGV in some cases otherwise. I'll try to update the patch with an example.\n\n> Or is it platform-specific? (Btw, the patch's commit message lacks a ticket number; also, a back-reference/comment in the code wouldn't be bad.)\n\nI'll add the ticket number.\n\n> Perhaps you could add Joan Daemen's example to the ticket.\n\nThe problem is a bit bigger and I have no permission to publish it, sorry.",
    "created_at": "2010-08-14T12:10:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85615",
    "user": "https://github.com/malb"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@nexttime](#comment:26):

> Ooops, I just noticed the [attached patch](https://github.com/sagemath/sage/files/ticket9717/polybori-0.6.4.p2.patch.gz) is to the *Sage library* (I assumed it is an *spkg* patch). So I did **not** apply that patch in any of the tests I made, which despite that all passed... Martin, is that patch now obsolete or do we just not test an example which would fail without it?

The patch is necessary, Sage will SIGSEGV in some cases otherwise. I'll try to update the patch with an example.

> Or is it platform-specific? (Btw, the patch's commit message lacks a ticket number; also, a back-reference/comment in the code wouldn't be bad.)

I'll add the ticket number.

> Perhaps you could add Joan Daemen's example to the ticket.

The problem is a bit bigger and I have no permission to publish it, sorry.



---

archive/issue_comments_085616.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI've updated the patch with an example and this ticket's number.",
    "created_at": "2010-08-14T12:19:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85616",
    "user": "https://github.com/malb"
}
```

<div id="comment:28" align="right">comment:28</div>

I've updated the patch with an example and this ticket's number.



---

archive/issue_comments_085617.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nReplying to [@malb](#comment:28):\n> I've updated the patch with an example and this ticket's number.\n\nOk, I'll rerun some of the tests later. Currently all machines busy with new PARI testing... ;-)\n\n(I don't see the ticket number in the patched code though.)",
    "created_at": "2010-08-14T12:47:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85617",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:29" align="right">comment:29</div>

Replying to [@malb](#comment:28):
> I've updated the patch with an example and this ticket's number.

Ok, I'll rerun some of the tests later. Currently all machines busy with new PARI testing... ;-)

(I don't see the ticket number in the patched code though.)



---

archive/issue_comments_085618.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\n\n```\n#9717 fixing parent ring in substitute_variable() (fix due to Alexander Dreyer)\n```\nThat's the commit message, is that alright?",
    "created_at": "2010-08-14T12:51:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85618",
    "user": "https://github.com/malb"
}
```

<div id="comment:30" align="right">comment:30</div>


```
#9717 fixing parent ring in substitute_variable() (fix due to Alexander Dreyer)
```
That's the commit message, is that alright?



---

archive/issue_comments_085619.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nAnd an attachment comment would be nice... (\"Sage library patch - ...\")\n\nI HATE TRAC! [concurrent \"editing\" grrrrr...]\n\n---\n\nI meant putting the ticket number also into a comment **in the code**; you don't see the commit messages when looking just at source files. E.g.\n\n```\n        ... # fixes #9717\n```\nor in the `TESTS::` section:\n\n```\n    Substitution is (now) also allowed with different rings (cf. #9717)::\n```\nSomething like that.",
    "created_at": "2010-08-14T13:02:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85619",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:31" align="right">comment:31</div>

And an attachment comment would be nice... ("Sage library patch - ...")

I HATE TRAC! [concurrent "editing" grrrrr...]

---

I meant putting the ticket number also into a comment **in the code**; you don't see the commit messages when looking just at source files. E.g.

```
        ... # fixes #9717
```
or in the `TESTS::` section:

```
    Substitution is (now) also allowed with different rings (cf. #9717)::
```
Something like that.



---

archive/issue_comments_085620.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nI'm not too convinced by that. This was a serious bug which just wasn't reported to far. I don't want to clutter the code with track ticket numbers. When reading the code it is relatively simple to see (I'd say) that the new code is correct, thus I'd say it doesn't need a ticket to explain why it is there. Also, the new example isn't just a test, it shows a real use case.",
    "created_at": "2010-08-14T13:17:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85620",
    "user": "https://github.com/malb"
}
```

<div id="comment:32" align="right">comment:32</div>

I'm not too convinced by that. This was a serious bug which just wasn't reported to far. I don't want to clutter the code with track ticket numbers. When reading the code it is relatively simple to see (I'd say) that the new code is correct, thus I'd say it doesn't need a ticket to explain why it is there. Also, the new example isn't just a test, it shows a real use case.



---

archive/issue_comments_085621.json:
```json
{
    "body": "Sage library patch fixing an issue with substitute_variable()",
    "created_at": "2010-08-14T13:17:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85621",
    "user": "https://github.com/malb"
}
```

Sage library patch fixing an issue with substitute_variable()



---

archive/issue_comments_085622.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nAttachment: **[polybori-0.6.4.p2.patch.gz](https://github.com/sagemath/sage/files/ticket9717/polybori-0.6.4.p2.patch.gz)**",
    "created_at": "2010-08-14T14:48:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85622",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:33" align="right">comment:33</div>

Attachment: **[polybori-0.6.4.p2.patch.gz](https://github.com/sagemath/sage/files/ticket9717/polybori-0.6.4.p2.patch.gz)**



---

archive/issue_comments_085623.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,8 @@\n-For some inputs our[This is the Trac macro *PolyBoRi* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#PolyBoRi-macro) wrapper throws an error while upstream computes the example just fine. The reason we fail is that some rings don't match and thus coercion goes wrong. The problem was reported by Joan Daemen who also provided an example via private communication.\u00a0\n+For some inputs our [This is the Trac macro *PolyBoRi* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#PolyBoRi-macro) wrapper throws an error while upstream computes the example just fine. The reason we fail is that some rings don't match and thus coercion goes wrong. The problem was reported by Joan Daemen who also provided an example via private communication.\n+\n+---\n+\n+## Note to the release managers\n+\n+When merging the [new PolyBoRi 0.6.4.p4 spkg](http://sage.math.washington.edu/home/malb/spkgs/polybori-0.6.4.p4.spkg), **apply**\n+[the attached patch](https://github.com/sagemath/sage/files/ticket9717/polybori-0.6.4.p2.patch.gz) **to the Sage library**.\n``````\n",
    "created_at": "2010-08-14T14:48:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85623",
    "user": "https://github.com/nexttime"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,8 @@
-For some inputs our[This is the Trac macro *PolyBoRi* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#PolyBoRi-macro) wrapper throws an error while upstream computes the example just fine. The reason we fail is that some rings don't match and thus coercion goes wrong. The problem was reported by Joan Daemen who also provided an example via private communication.Â 
+For some inputs our [This is the Trac macro *PolyBoRi* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#PolyBoRi-macro) wrapper throws an error while upstream computes the example just fine. The reason we fail is that some rings don't match and thus coercion goes wrong. The problem was reported by Joan Daemen who also provided an example via private communication.
+
+---
+
+## Note to the release managers
+
+When merging the [new PolyBoRi 0.6.4.p4 spkg](http://sage.math.washington.edu/home/malb/spkgs/polybori-0.6.4.p4.spkg), **apply**
+[the attached patch](https://github.com/sagemath/sage/files/ticket9717/polybori-0.6.4.p2.patch.gz) **to the Sage library**.
``````




---

archive/issue_events_124569.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-08-15T08:03:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9717#event-124569"
}
```



---

archive/issue_events_124570.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-08-15T08:03:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9717#event-124570"
}
```



---

archive/issue_comments_085624.json:
```json
{
    "body": "Merged: **sage-4.5.3.alpha0**",
    "created_at": "2010-08-15T08:03:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85624",
    "user": "https://github.com/qed777"
}
```

Merged: **sage-4.5.3.alpha0**



---

archive/issue_comments_085625.json:
```json
{
    "body": "Changed merged from **sage-4.5.3.alpha0** to **sage-4.5.3.alpha1**",
    "created_at": "2010-08-15T08:27:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85625",
    "user": "https://github.com/qed777"
}
```

Changed merged from **sage-4.5.3.alpha0** to **sage-4.5.3.alpha1**



---

archive/issue_comments_085626.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nHow does one run PolyBoRi's test suite?  I'm curious about whether we can add an `spkg-check` file (at a new ticket).",
    "created_at": "2010-08-17T07:10:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85626",
    "user": "https://github.com/qed777"
}
```

<div id="comment:36" align="right">comment:36</div>

How does one run PolyBoRi's test suite?  I'm curious about whether we can add an `spkg-check` file (at a new ticket).



---

archive/issue_comments_085627.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nThe testsuite, which is included in PolyBoRi is not up to date, we use another suite for developing internally. On the one hand, it is lange, on the other, some examples are not freely available. We'll try to deliver a suitable subset of the examples in the future.",
    "created_at": "2010-08-17T08:27:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9717",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9717#issuecomment-85627",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:37" align="right">comment:37</div>

The testsuite, which is included in PolyBoRi is not up to date, we use another suite for developing internally. On the one hand, it is lange, on the other, some examples are not freely available. We'll try to deliver a suitable subset of the examples in the future.
