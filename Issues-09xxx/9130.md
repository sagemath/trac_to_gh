# Issue 9130: Access to beta function

archive/issues_009130.json:
```json
{
    "body": "Although Maxima has the beta function, Sage doesn't:\n\n```\nsage: a, b, c = var('a b c') \nsage: assume(a > 0) \nsage: assume(b > 0) \nsage: x = var('x') \nsage: beta_dist = x**(a-1) * (1 - x)**(b-1) \nsage: c = integral(beta_dist, x, 0, 1) \nsage: c\nbeta(a, b)\nsage: c(a=.5,b=.5)\nbeta(0.500000000000000, 0.500000000000000)\nsage: c(a=.5,b=.5).n()\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n\n/Users/karl-dietercrisman/<ipython console> in <module>()\n\n/Users/karl-dietercrisman/Desktop/sage-4.4.2/local/lib/python2.6/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression.n (sage/symbolic/expression.cpp:17042)()\n\nTypeError: cannot evaluate symbolic expression numerically\n```\nThis *is* is Ginac, though, and there is even room for defining it in symbolic/expression.pyx . It probably is also included in some of our other libraries, as a standard special function.\n\n---\n\nApply \n* Patches at #4498 and #12507\n* [attachment:trac_9130-beta_function.3.patch]\n* [attachment:trac_9130-py_float_segfault.take2.patch]\n* [attachment:trac_9130-reviewer.patch]\n* [attachment:trac_9130-random-tests.2.patch]\n\nAssignee: @burcin\n\nCC:  @benjaminfjones\n\nKeywords: special function, pynac, sd35.5 Cernay2012\n\nReviewer: Benjamin Jones, Burcin Erocal, Karl-Dieter Crisman\n\nAuthor: Karen Kohl, Burcin Erocal, Karl-Dieter Crisman\n\nMerged: sage-5.0.beta6\n\nDependencies: #4498, #12507\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/9130\n\n",
    "closed_at": "2012-02-27T11:19:47Z",
    "created_at": "2010-06-03T15:06:34Z",
    "labels": [
        "component: symbolics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.0",
    "title": "Access to beta function",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/9130",
    "user": "https://github.com/kcrisman"
}
```
Although Maxima has the beta function, Sage doesn't:

```
sage: a, b, c = var('a b c') 
sage: assume(a > 0) 
sage: assume(b > 0) 
sage: x = var('x') 
sage: beta_dist = x**(a-1) * (1 - x)**(b-1) 
sage: c = integral(beta_dist, x, 0, 1) 
sage: c
beta(a, b)
sage: c(a=.5,b=.5)
beta(0.500000000000000, 0.500000000000000)
sage: c(a=.5,b=.5).n()
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)

/Users/karl-dietercrisman/<ipython console> in <module>()

/Users/karl-dietercrisman/Desktop/sage-4.4.2/local/lib/python2.6/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression.n (sage/symbolic/expression.cpp:17042)()

TypeError: cannot evaluate symbolic expression numerically
```
This *is* is Ginac, though, and there is even room for defining it in symbolic/expression.pyx . It probably is also included in some of our other libraries, as a standard special function.

---

Apply 
* Patches at #4498 and #12507
* [attachment:trac_9130-beta_function.3.patch]
* [attachment:trac_9130-py_float_segfault.take2.patch]
* [attachment:trac_9130-reviewer.patch]
* [attachment:trac_9130-random-tests.2.patch]

Assignee: @burcin

CC:  @benjaminfjones

Keywords: special function, pynac, sd35.5 Cernay2012

Reviewer: Benjamin Jones, Burcin Erocal, Karl-Dieter Crisman

Author: Karen Kohl, Burcin Erocal, Karl-Dieter Crisman

Merged: sage-5.0.beta6

Dependencies: #4498, #12507

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/9130





---

archive/issue_comments_101232.json:
```json
{
    "body": "<a id='comment:1'></a>For numerical evaluation, mpmath has beta and also the generalized incomplete beta function for complex arguments. But it's probably easy to do the complete beta function directly with Ginac.\n\nSimplification for rational arguments (beta(0.5,0.5) = pi) would be nice.\n\nUnless someone else wants to work on this, I might have a stab at it within a couple of days.",
    "created_at": "2010-06-03T18:04:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101232",
    "user": "https://github.com/fredrik-johansson"
}
```

<a id='comment:1'></a>For numerical evaluation, mpmath has beta and also the generalized incomplete beta function for complex arguments. But it's probably easy to do the complete beta function directly with Ginac.

Simplification for rational arguments (beta(0.5,0.5) = pi) would be nice.

Unless someone else wants to work on this, I might have a stab at it within a couple of days.



---

archive/issue_comments_101233.json:
```json
{
    "body": "<a id='comment:2'></a>I wasn't suggesting which of the several packages in Sage should be used for numerical evaluation, though mpmath did come to mind :-)\n\nI don't think that beta(0.5,0.5) would work, given that\n\n```\nsage: gamma(0.5)\n1.77245385090552\nsage: gamma(1/2)\nsqrt(pi)\n```\nbut beta(1/2,1/2) becoming pi should work fine once we have a symbolic wrapper (with or without Ginac):\n\n```\nsage: maxima_console()\nMaxima 5.21.1 http://maxima.sourceforge.net\nusing Lisp ECL 10.4.1\nDistributed under the GNU Public License. See the file COPYING.\nDedicated to the memory of William Schelter.\nThe function bug_report() provides bug reporting information.\n(%i1) beta(1/2,1/2);\n(%o1)                                 %pi\n```\nPlease do try to add this!  We definitely often get email asking for various special functions both symbolically and numerically.  Also, the more examples we have, the easier it is to finish off the rest of them by cut and paste.",
    "created_at": "2010-06-03T20:00:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101233",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:2'></a>I wasn't suggesting which of the several packages in Sage should be used for numerical evaluation, though mpmath did come to mind :-)

I don't think that beta(0.5,0.5) would work, given that

```
sage: gamma(0.5)
1.77245385090552
sage: gamma(1/2)
sqrt(pi)
```
but beta(1/2,1/2) becoming pi should work fine once we have a symbolic wrapper (with or without Ginac):

```
sage: maxima_console()
Maxima 5.21.1 http://maxima.sourceforge.net
using Lisp ECL 10.4.1
Distributed under the GNU Public License. See the file COPYING.
Dedicated to the memory of William Schelter.
The function bug_report() provides bug reporting information.
(%i1) beta(1/2,1/2);
(%o1)                                 %pi
```
Please do try to add this!  We definitely often get email asking for various special functions both symbolically and numerically.  Also, the more examples we have, the easier it is to finish off the rest of them by cut and paste.



---

archive/issue_comments_101234.json:
```json
{
    "body": "<a id='comment:3'></a>GiNaC has a beta function, so this can probably be solved simply by wrapping that. See #8864 for an example.\n\nThough I don't know why the `beta()` function in `sage/symbolic/expression.pyx` is commented. Maybe there is something I'm missing.\n\nFredrik, it would be great if you can do this. I'd be happy to answer questions if anything goes wrong.",
    "created_at": "2010-06-03T20:10:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101234",
    "user": "https://github.com/burcin"
}
```

<a id='comment:3'></a>GiNaC has a beta function, so this can probably be solved simply by wrapping that. See #8864 for an example.

Though I don't know why the `beta()` function in `sage/symbolic/expression.pyx` is commented. Maybe there is something I'm missing.

Fredrik, it would be great if you can do this. I'd be happy to answer questions if anything goes wrong.



---

archive/issue_comments_101235.json:
```json
{
    "body": "<a id='comment:4'></a>Replying to [comment:3 burcin]:\n> GiNaC has a beta function, so this can probably be solved simply by wrapping that. See #8864 for an example.\n> \n> Though I don't know why the `beta()` function in `sage/symbolic/expression.pyx` is commented. Maybe there is something I'm missing.\n> \n\n\nI think the same reason the psi and psi2 ones are commented - when those were implemented, they didn't notice that they had been commented earlier.  This was probably pretty early in the conversion, maybe when William was dealing with CLN (whatever that is)?",
    "created_at": "2010-06-03T20:15:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101235",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:4'></a>Replying to [comment:3 burcin]:
> GiNaC has a beta function, so this can probably be solved simply by wrapping that. See #8864 for an example.
> 
> Though I don't know why the `beta()` function in `sage/symbolic/expression.pyx` is commented. Maybe there is something I'm missing.
> 


I think the same reason the psi and psi2 ones are commented - when those were implemented, they didn't notice that they had been commented earlier.  This was probably pretty early in the conversion, maybe when William was dealing with CLN (whatever that is)?



---

archive/issue_comments_101236.json:
```json
{
    "body": "<a id='comment:5'></a>Replying to [comment:4 kcrisman]:\n> Replying to [comment:3 burcin]:\n> > GiNaC has a beta function, so this can probably be solved simply by wrapping that. See #8864 for an example.\n> > \n> > Though I don't know why the `beta()` function in `sage/symbolic/expression.pyx` is commented. Maybe there is something I'm missing.\n> > \n\n> \n> I think the same reason the psi and psi2 ones are commented - when those were implemented, they didn't notice that they had been commented earlier.  This was probably pretty early in the conversion, maybe when William was dealing with CLN (whatever that is)?\n\n\n`psi()` and `psi2()` were commented because at the time there was no method defined to numerically evaluate those. This is not the case for `beta()` however. Here is the `evalf` method (from line 227 of `ginac/inifcns_gamma.cpp`):\n\n```\n\tif (is_exactly_a<numeric>(x) && is_exactly_a<numeric>(y)) {\n\t\ttry {\n\t\t\treturn exp(lgamma(ex_to<numeric>(x))+lgamma(ex_to<numeric>(y))-lgamma(ex_to<numeric>(x+y)));\n\t\t} catch (const dunno &e) { }\n\t}\n```\n\nWe'll find out when someone tries this out I suppose.",
    "created_at": "2010-06-03T20:28:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101236",
    "user": "https://github.com/burcin"
}
```

<a id='comment:5'></a>Replying to [comment:4 kcrisman]:
> Replying to [comment:3 burcin]:
> > GiNaC has a beta function, so this can probably be solved simply by wrapping that. See #8864 for an example.
> > 
> > Though I don't know why the `beta()` function in `sage/symbolic/expression.pyx` is commented. Maybe there is something I'm missing.
> > 

> 
> I think the same reason the psi and psi2 ones are commented - when those were implemented, they didn't notice that they had been commented earlier.  This was probably pretty early in the conversion, maybe when William was dealing with CLN (whatever that is)?


`psi()` and `psi2()` were commented because at the time there was no method defined to numerically evaluate those. This is not the case for `beta()` however. Here is the `evalf` method (from line 227 of `ginac/inifcns_gamma.cpp`):

```
	if (is_exactly_a<numeric>(x) && is_exactly_a<numeric>(y)) {
		try {
			return exp(lgamma(ex_to<numeric>(x))+lgamma(ex_to<numeric>(y))-lgamma(ex_to<numeric>(x+y)));
		} catch (const dunno &e) { }
	}
```

We'll find out when someone tries this out I suppose.



---

archive/issue_comments_101237.json:
```json
{
    "body": "Changing keywords from \"special function, pynac\" to \"special function, pynac, beginner\".",
    "created_at": "2010-08-28T16:15:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101237",
    "user": "https://github.com/burcin"
}
```

Changing keywords from "special function, pynac" to "special function, pynac, beginner".



---

archive/issue_comments_101238.json:
```json
{
    "body": "Attachment [trac_9130_beta_function.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130_beta_function.patch) by ktkohl created at 2010-12-10 06:14:22",
    "created_at": "2010-12-10T06:14:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101238",
    "user": "https://trac.sagemath.org/admin/accounts/users/ktkohl"
}
```

Attachment [trac_9130_beta_function.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130_beta_function.patch) by ktkohl created at 2010-12-10 06:14:22



---

archive/issue_comments_101239.json:
```json
{
    "body": "<a id='comment:7'></a>Added ginac wrapper for beta function.\nThere is a problem when one argument is a float.\n\n--Karen\n\n\n```\nsage: beta(3,2.0)\n\n\n------------------------------------------------------------\nUnhandled SIGSEGV: A segmentation fault occurred in Sage.\nThis probably occurred because a *compiled* component\nof Sage has a bug in it (typically accessing invalid memory)\nor is not properly wrapped with _sig_on, _sig_off.\nYou might want to run Sage under gdb with 'sage -gdb' to debug this.\nSage will now terminate (sorry).\n------------------------------------------------------------\n\n```",
    "created_at": "2010-12-10T06:17:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101239",
    "user": "https://trac.sagemath.org/admin/accounts/users/ktkohl"
}
```

<a id='comment:7'></a>Added ginac wrapper for beta function.
There is a problem when one argument is a float.

--Karen


```
sage: beta(3,2.0)


------------------------------------------------------------
Unhandled SIGSEGV: A segmentation fault occurred in Sage.
This probably occurred because a *compiled* component
of Sage has a bug in it (typically accessing invalid memory)
or is not properly wrapped with _sig_on, _sig_off.
You might want to run Sage under gdb with 'sage -gdb' to debug this.
Sage will now terminate (sorry).
------------------------------------------------------------

```



---

archive/issue_comments_101240.json:
```json
{
    "body": "Changing status from new to needs_work.",
    "created_at": "2010-12-10T06:17:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101240",
    "user": "https://trac.sagemath.org/admin/accounts/users/ktkohl"
}
```

Changing status from new to needs_work.



---

archive/issue_comments_101241.json:
```json
{
    "body": "Attachment [trac_9130-py_float_segfault.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130-py_float_segfault.patch) by @burcin created at 2011-05-25 17:44:25\n\nfix segfault in py_float",
    "created_at": "2011-05-25T17:44:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101241",
    "user": "https://github.com/burcin"
}
```

Attachment [trac_9130-py_float_segfault.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130-py_float_segfault.patch) by @burcin created at 2011-05-25 17:44:25

fix segfault in py_float



---

archive/issue_comments_101242.json:
```json
{
    "body": "Changing author from \"\" to \"Karen T. Kohl, Burcin Erocal\"",
    "created_at": "2011-05-25T18:02:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101242",
    "user": "https://github.com/burcin"
}
```

Changing author from "" to "Karen T. Kohl, Burcin Erocal"



---

archive/issue_events_022431.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2011-05-25T18:02:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "milestone": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9130#event-22431"
}
```



---

archive/issue_comments_101243.json:
```json
{
    "body": "Changing keywords from \"special function, pynac, beginner\" to \"special function, pynac\".",
    "created_at": "2011-05-25T18:02:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101243",
    "user": "https://github.com/burcin"
}
```

Changing keywords from "special function, pynac, beginner" to "special function, pynac".



---

archive/issue_comments_101244.json:
```json
{
    "body": "<a id='comment:8'></a>Hi Karen,\n\nsorry for taking so long to look at this. It seems that I forgot to check for a NULL pointer in `py_float()`. attachment:trac_9130-py_float_segfault.patch fixes the segfault.\n\n```\nsage: from sage.functions.other import beta\nsage: beta(3,2.0)\n0.0833333333333333\n```\n\nWill you have time to finish the patch?\n\nYou need to add an import statement to `sage/functions/all.py` so `beta` is available at the command line.  The documentation also needs some care. IIRC there should be an empty line after `INPUT`, `OUTPUT` and `EXAMPLES`. The statement\n\n```\n        It is computed by various libraries within Sage, depending on\n        the input type.\n```\n\nis too vague. We should either remove it or explain how GiNaC evaluates this (see `beta_eval()` and `beta_evalf()` in [inifcns_gamma.cpp](https://bitbucket.org/burcin/pynac/src/51619d2eb90f/ginac/inifcns_gamma.cpp#cl-249)).",
    "created_at": "2011-05-25T18:02:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101244",
    "user": "https://github.com/burcin"
}
```

<a id='comment:8'></a>Hi Karen,

sorry for taking so long to look at this. It seems that I forgot to check for a NULL pointer in `py_float()`. attachment:trac_9130-py_float_segfault.patch fixes the segfault.

```
sage: from sage.functions.other import beta
sage: beta(3,2.0)
0.0833333333333333
```

Will you have time to finish the patch?

You need to add an import statement to `sage/functions/all.py` so `beta` is available at the command line.  The documentation also needs some care. IIRC there should be an empty line after `INPUT`, `OUTPUT` and `EXAMPLES`. The statement

```
        It is computed by various libraries within Sage, depending on
        the input type.
```

is too vague. We should either remove it or explain how GiNaC evaluates this (see `beta_eval()` and `beta_evalf()` in [inifcns_gamma.cpp](https://bitbucket.org/burcin/pynac/src/51619d2eb90f/ginac/inifcns_gamma.cpp#cl-249)).



---

archive/issue_comments_101245.json:
```json
{
    "body": "Changing keywords from \"special function, pynac\" to \"special function, pynac, sd35.5\".",
    "created_at": "2012-01-09T15:48:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101245",
    "user": "https://trac.sagemath.org/admin/accounts/users/ktkohl"
}
```

Changing keywords from "special function, pynac" to "special function, pynac, sd35.5".



---

archive/issue_comments_101246.json:
```json
{
    "body": "Attachment [trac_9130_beta_function.2.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130_beta_function.2.patch) by ktkohl created at 2012-01-10 04:14:59",
    "created_at": "2012-01-10T04:14:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101246",
    "user": "https://trac.sagemath.org/admin/accounts/users/ktkohl"
}
```

Attachment [trac_9130_beta_function.2.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130_beta_function.2.patch) by ktkohl created at 2012-01-10 04:14:59



---

archive/issue_comments_101247.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-01-10T04:15:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101247",
    "user": "https://trac.sagemath.org/admin/accounts/users/ktkohl"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_101248.json:
```json
{
    "body": "include beta in random_tests",
    "created_at": "2012-01-10T15:44:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101248",
    "user": "https://trac.sagemath.org/admin/accounts/users/ktkohl"
}
```

include beta in random_tests



---

archive/issue_comments_101249.json:
```json
{
    "body": "<a id='comment:12'></a>Attachment [trac_9130_beta_function.3.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130_beta_function.3.patch) by ktkohl created at 2012-01-10 16:06:24\n\nApply all patches in the order they were added:\n\n* trac_9130_beta_function.patch \n\n* trac_9130-py_float_segfault.patch\n\n* trac_9130_beta_function.2.patch\n\n* trac_9130_beta_function.3.patch",
    "created_at": "2012-01-10T16:06:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101249",
    "user": "https://trac.sagemath.org/admin/accounts/users/ktkohl"
}
```

<a id='comment:12'></a>Attachment [trac_9130_beta_function.3.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130_beta_function.3.patch) by ktkohl created at 2012-01-10 16:06:24

Apply all patches in the order they were added:

* trac_9130_beta_function.patch 

* trac_9130-py_float_segfault.patch

* trac_9130_beta_function.2.patch

* trac_9130_beta_function.3.patch



---

archive/issue_comments_101250.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -23,7 +23,13 @@\n ```\n This *is* is Ginac, though, and there is even room for defining it in symbolic/expression.pyx . It probably is also included in some of our other libraries, as a standard special function.\n \n-Keywords: special function, pynac\n+---\n+\n+Apply \n+* [attachment:trac_9130_beta_function.patch] \n+* [attachment:trac_9130-py_float_segfault.patch]\n+* [attachment:trac_9130_beta_function.2.patch]\n+* [attachment:trac_9130_beta_function.3.patch]\n \n Comment: 1\n \n``````\n",
    "created_at": "2012-01-10T16:14:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101250",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -23,7 +23,13 @@
 ```
 This *is* is Ginac, though, and there is even room for defining it in symbolic/expression.pyx . It probably is also included in some of our other libraries, as a standard special function.
 
-Keywords: special function, pynac
+---
+
+Apply 
+* [attachment:trac_9130_beta_function.patch] 
+* [attachment:trac_9130-py_float_segfault.patch]
+* [attachment:trac_9130_beta_function.2.patch]
+* [attachment:trac_9130_beta_function.3.patch]
 
 Comment: 1
 
``````




---

archive/issue_comments_101251.json:
```json
{
    "body": "<a id='comment:14'></a>I think we discovered that the only complex inputs that the code accepts are ones where one of the parameters is equal to 1. In that case `beta(1,x) = 1/x` is used to compute the result. Looks like GiNaC can't handle complex inputs at all (or perhaps complex numbers aren't being passed to GiNaC in a way it understands).\n\nOn the other hand, [mpmath](http://mpmath.googlecode.com/svn/tags/0.17/doc/build/functions/gamma.html#beta-function) does support evaluation at arbitrary precision complex numbers so that could be a useful enhancement that could take place in a new ticket. \n\nI would change the docstrings to clearly indicate that\n1. only real inputs are accepted (for now)\n2. beta(1,x) = beta(x,1) = 1/x simplification is automatically applied",
    "created_at": "2012-01-10T17:27:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101251",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:14'></a>I think we discovered that the only complex inputs that the code accepts are ones where one of the parameters is equal to 1. In that case `beta(1,x) = 1/x` is used to compute the result. Looks like GiNaC can't handle complex inputs at all (or perhaps complex numbers aren't being passed to GiNaC in a way it understands).

On the other hand, [mpmath](http://mpmath.googlecode.com/svn/tags/0.17/doc/build/functions/gamma.html#beta-function) does support evaluation at arbitrary precision complex numbers so that could be a useful enhancement that could take place in a new ticket. 

I would change the docstrings to clearly indicate that
1. only real inputs are accepted (for now)
2. beta(1,x) = beta(x,1) = 1/x simplification is automatically applied



---

archive/issue_comments_101252.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-01-10T17:27:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101252",
    "user": "https://github.com/benjaminfjones"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_101253.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Benjamin Jones\"",
    "created_at": "2012-01-10T17:28:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101253",
    "user": "https://github.com/benjaminfjones"
}
```

Changing reviewer from "" to "Benjamin Jones"



---

archive/issue_comments_101254.json:
```json
{
    "body": "updated comments/examples/error message text.",
    "created_at": "2012-01-10T20:56:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101254",
    "user": "https://trac.sagemath.org/admin/accounts/users/ktkohl"
}
```

updated comments/examples/error message text.



---

archive/issue_comments_101255.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-01-10T21:09:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101255",
    "user": "https://trac.sagemath.org/admin/accounts/users/ktkohl"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_101256.json:
```json
{
    "body": "<a id='comment:16'></a>Attachment [trac_9130_beta_function.4.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130_beta_function.4.patch) by ktkohl created at 2012-01-10 21:09:43",
    "created_at": "2012-01-10T21:09:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101256",
    "user": "https://trac.sagemath.org/admin/accounts/users/ktkohl"
}
```

<a id='comment:16'></a>Attachment [trac_9130_beta_function.4.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130_beta_function.4.patch) by ktkohl created at 2012-01-10 21:09:43



---

archive/issue_comments_101257.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,36 @@\n+Although Maxima has the beta function, Sage doesn't:\n \n+```\n+sage: a, b, c = var('a b c') \n+sage: assume(a > 0) \n+sage: assume(b > 0) \n+sage: x = var('x') \n+sage: beta_dist = x**(a-1) * (1 - x)**(b-1) \n+sage: c = integral(beta_dist, x, 0, 1) \n+sage: c\n+beta(a, b)\n+sage: c(a=.5,b=.5)\n+beta(0.500000000000000, 0.500000000000000)\n+sage: c(a=.5,b=.5).n()\n+---------------------------------------------------------------------------\n+TypeError                                 Traceback (most recent call last)\n+\n+/Users/karl-dietercrisman/<ipython console> in <module>()\n+\n+/Users/karl-dietercrisman/Desktop/sage-4.4.2/local/lib/python2.6/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression.n (sage/symbolic/expression.cpp:17042)()\n+\n+TypeError: cannot evaluate symbolic expression numerically\n+```\n+This *is* is Ginac, though, and there is even room for defining it in symbolic/expression.pyx . It probably is also included in some of our other libraries, as a standard special function.\n+\n+---\n+\n+Apply \n+* [attachment:trac_9130_beta_function.patch] \n+* [attachment:trac_9130-py_float_segfault.patch]\n+* [attachment:trac_9130_beta_function.2.patch]\n+* [attachment:trac_9130_beta_function.3.patch]\n+* [attachment:trac_9130_beta_function.4.patch]\n \n Comment: 1\n \n``````\n",
    "created_at": "2012-01-11T03:36:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101257",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,36 @@
+Although Maxima has the beta function, Sage doesn't:
 
+```
+sage: a, b, c = var('a b c') 
+sage: assume(a > 0) 
+sage: assume(b > 0) 
+sage: x = var('x') 
+sage: beta_dist = x**(a-1) * (1 - x)**(b-1) 
+sage: c = integral(beta_dist, x, 0, 1) 
+sage: c
+beta(a, b)
+sage: c(a=.5,b=.5)
+beta(0.500000000000000, 0.500000000000000)
+sage: c(a=.5,b=.5).n()
+---------------------------------------------------------------------------
+TypeError                                 Traceback (most recent call last)
+
+/Users/karl-dietercrisman/<ipython console> in <module>()
+
+/Users/karl-dietercrisman/Desktop/sage-4.4.2/local/lib/python2.6/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression.n (sage/symbolic/expression.cpp:17042)()
+
+TypeError: cannot evaluate symbolic expression numerically
+```
+This *is* is Ginac, though, and there is even room for defining it in symbolic/expression.pyx . It probably is also included in some of our other libraries, as a standard special function.
+
+---
+
+Apply 
+* [attachment:trac_9130_beta_function.patch] 
+* [attachment:trac_9130-py_float_segfault.patch]
+* [attachment:trac_9130_beta_function.2.patch]
+* [attachment:trac_9130_beta_function.3.patch]
+* [attachment:trac_9130_beta_function.4.patch]
 
 Comment: 1
 
``````




---

archive/issue_comments_101258.json:
```json
{
    "body": "Attachment [trac_9130_combined.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130_combined.patch) by @benjaminfjones created at 2012-01-11 05:21:40\n\ncombined reviewer patch folding up previously uploaded 5 patches",
    "created_at": "2012-01-11T05:21:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101258",
    "user": "https://github.com/benjaminfjones"
}
```

Attachment [trac_9130_combined.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130_combined.patch) by @benjaminfjones created at 2012-01-11 05:21:40

combined reviewer patch folding up previously uploaded 5 patches



---

archive/issue_comments_101259.json:
```json
{
    "body": "<a id='comment:18'></a>I uploaded a combined *single* patch that folds together the previously uploaded 5 patches applied in order. The patch looks great to me. I have one question about what happens when `GinacFunction`'s `__call__` returns a TypeError whose message doesn't contain \"cannot coerce\". What gets returned in that case? (the comments in the `gamma` implementation that the try / except block was borrowed from say that TypeErrors are raised when a fast float is passed. These are then ignored in the current implementation? I haven't tested this.\n\nI'm running `make ptestlong` on Sage-4.8.alpha6 with the combined patch applied overnight; will update in the morning.",
    "created_at": "2012-01-11T05:30:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101259",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:18'></a>I uploaded a combined *single* patch that folds together the previously uploaded 5 patches applied in order. The patch looks great to me. I have one question about what happens when `GinacFunction`'s `__call__` returns a TypeError whose message doesn't contain "cannot coerce". What gets returned in that case? (the comments in the `gamma` implementation that the try / except block was borrowed from say that TypeErrors are raised when a fast float is passed. These are then ignored in the current implementation? I haven't tested this.

I'm running `make ptestlong` on Sage-4.8.alpha6 with the combined patch applied overnight; will update in the morning.



---

archive/issue_comments_101260.json:
```json
{
    "body": "Attachment [trac_9130-py_float_segfault.take2.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130-py_float_segfault.take2.patch) by @burcin created at 2012-01-12 17:02:54",
    "created_at": "2012-01-12T17:02:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101260",
    "user": "https://github.com/burcin"
}
```

Attachment [trac_9130-py_float_segfault.take2.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130-py_float_segfault.take2.patch) by @burcin created at 2012-01-12 17:02:54



---

archive/issue_events_022432.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2012-01-12T17:06:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "milestone": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9130#event-22432"
}
```



---

archive/issue_events_022433.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2012-01-12T17:06:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "milestone": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9130#event-22433"
}
```



---

archive/issue_comments_101261.json:
```json
{
    "body": "<a id='comment:19'></a>I uploaded a new patch attachment:trac_9130-py_float_segfault.take2.patch which checks for `TypeError` instead of `ValueError` in `sage.symbolic.pynac.py_float()`. Now we can evaluate `beta()` on complex values, so the `__call__()` method in Karen's patches can be removed.",
    "created_at": "2012-01-12T17:06:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101261",
    "user": "https://github.com/burcin"
}
```

<a id='comment:19'></a>I uploaded a new patch attachment:trac_9130-py_float_segfault.take2.patch which checks for `TypeError` instead of `ValueError` in `sage.symbolic.pynac.py_float()`. Now we can evaluate `beta()` on complex values, so the `__call__()` method in Karen's patches can be removed.



---

archive/issue_comments_101262.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,36 @@\n+Although Maxima has the beta function, Sage doesn't:\n \n+```\n+sage: a, b, c = var('a b c') \n+sage: assume(a > 0) \n+sage: assume(b > 0) \n+sage: x = var('x') \n+sage: beta_dist = x**(a-1) * (1 - x)**(b-1) \n+sage: c = integral(beta_dist, x, 0, 1) \n+sage: c\n+beta(a, b)\n+sage: c(a=.5,b=.5)\n+beta(0.500000000000000, 0.500000000000000)\n+sage: c(a=.5,b=.5).n()\n+---------------------------------------------------------------------------\n+TypeError                                 Traceback (most recent call last)\n+\n+/Users/karl-dietercrisman/<ipython console> in <module>()\n+\n+/Users/karl-dietercrisman/Desktop/sage-4.4.2/local/lib/python2.6/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression.n (sage/symbolic/expression.cpp:17042)()\n+\n+TypeError: cannot evaluate symbolic expression numerically\n+```\n+This *is* is Ginac, though, and there is even room for defining it in symbolic/expression.pyx . It probably is also included in some of our other libraries, as a standard special function.\n+\n+---\n+\n+Apply \n+* [attachment:trac_9130_beta_function.patch] \n+* [attachment:trac_9130-py_float_segfault.take2.patch]\n+* [attachment:trac_9130_beta_function.2.patch]\n+* [attachment:trac_9130_beta_function.3.patch]\n+* [attachment:trac_9130_beta_function.4.patch]\n \n Comment: 1\n \n``````\n",
    "created_at": "2012-01-12T17:06:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101262",
    "user": "https://github.com/burcin"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,36 @@
+Although Maxima has the beta function, Sage doesn't:
 
+```
+sage: a, b, c = var('a b c') 
+sage: assume(a > 0) 
+sage: assume(b > 0) 
+sage: x = var('x') 
+sage: beta_dist = x**(a-1) * (1 - x)**(b-1) 
+sage: c = integral(beta_dist, x, 0, 1) 
+sage: c
+beta(a, b)
+sage: c(a=.5,b=.5)
+beta(0.500000000000000, 0.500000000000000)
+sage: c(a=.5,b=.5).n()
+---------------------------------------------------------------------------
+TypeError                                 Traceback (most recent call last)
+
+/Users/karl-dietercrisman/<ipython console> in <module>()
+
+/Users/karl-dietercrisman/Desktop/sage-4.4.2/local/lib/python2.6/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression.n (sage/symbolic/expression.cpp:17042)()
+
+TypeError: cannot evaluate symbolic expression numerically
+```
+This *is* is Ginac, though, and there is even room for defining it in symbolic/expression.pyx . It probably is also included in some of our other libraries, as a standard special function.
+
+---
+
+Apply 
+* [attachment:trac_9130_beta_function.patch] 
+* [attachment:trac_9130-py_float_segfault.take2.patch]
+* [attachment:trac_9130_beta_function.2.patch]
+* [attachment:trac_9130_beta_function.3.patch]
+* [attachment:trac_9130_beta_function.4.patch]
 
 Comment: 1
 
``````




---

archive/issue_comments_101263.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-01-12T17:06:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101263",
    "user": "https://github.com/burcin"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_101264.json:
```json
{
    "body": "Attachment [trac_9130_combined.2.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130_combined.2.patch) by ktkohl created at 2012-01-12 20:49:12\n\nnew combined file replacement by trac_9130-py_float_segfault.take2.patch and removal of `__call__()` method",
    "created_at": "2012-01-12T20:49:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101264",
    "user": "https://trac.sagemath.org/admin/accounts/users/ktkohl"
}
```

Attachment [trac_9130_combined.2.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130_combined.2.patch) by ktkohl created at 2012-01-12 20:49:12

new combined file replacement by trac_9130-py_float_segfault.take2.patch and removal of `__call__()` method



---

archive/issue_comments_101265.json:
```json
{
    "body": "<a id='comment:20'></a>New patch attachment:trac_9130_combined.2.patch replaces burcin's old patch with the newer one and also removes the `__call__()` method in beta.\n\nApply only this one.",
    "created_at": "2012-01-12T20:52:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101265",
    "user": "https://trac.sagemath.org/admin/accounts/users/ktkohl"
}
```

<a id='comment:20'></a>New patch attachment:trac_9130_combined.2.patch replaces burcin's old patch with the newer one and also removes the `__call__()` method in beta.

Apply only this one.



---

archive/issue_comments_101266.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-01-12T20:52:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101266",
    "user": "https://trac.sagemath.org/admin/accounts/users/ktkohl"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_101267.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,32 @@\n+Although Maxima has the beta function, Sage doesn't:\n \n+```\n+sage: a, b, c = var('a b c') \n+sage: assume(a > 0) \n+sage: assume(b > 0) \n+sage: x = var('x') \n+sage: beta_dist = x**(a-1) * (1 - x)**(b-1) \n+sage: c = integral(beta_dist, x, 0, 1) \n+sage: c\n+beta(a, b)\n+sage: c(a=.5,b=.5)\n+beta(0.500000000000000, 0.500000000000000)\n+sage: c(a=.5,b=.5).n()\n+---------------------------------------------------------------------------\n+TypeError                                 Traceback (most recent call last)\n+\n+/Users/karl-dietercrisman/<ipython console> in <module>()\n+\n+/Users/karl-dietercrisman/Desktop/sage-4.4.2/local/lib/python2.6/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression.n (sage/symbolic/expression.cpp:17042)()\n+\n+TypeError: cannot evaluate symbolic expression numerically\n+```\n+This *is* is Ginac, though, and there is even room for defining it in symbolic/expression.pyx . It probably is also included in some of our other libraries, as a standard special function.\n+\n+---\n+\n+Apply \n+* [attachment:trac_9130_combined.2.patch] \n \n Comment: 1\n \n``````\n",
    "created_at": "2012-01-12T20:52:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101267",
    "user": "https://trac.sagemath.org/admin/accounts/users/ktkohl"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,32 @@
+Although Maxima has the beta function, Sage doesn't:
 
+```
+sage: a, b, c = var('a b c') 
+sage: assume(a > 0) 
+sage: assume(b > 0) 
+sage: x = var('x') 
+sage: beta_dist = x**(a-1) * (1 - x)**(b-1) 
+sage: c = integral(beta_dist, x, 0, 1) 
+sage: c
+beta(a, b)
+sage: c(a=.5,b=.5)
+beta(0.500000000000000, 0.500000000000000)
+sage: c(a=.5,b=.5).n()
+---------------------------------------------------------------------------
+TypeError                                 Traceback (most recent call last)
+
+/Users/karl-dietercrisman/<ipython console> in <module>()
+
+/Users/karl-dietercrisman/Desktop/sage-4.4.2/local/lib/python2.6/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression.n (sage/symbolic/expression.cpp:17042)()
+
+TypeError: cannot evaluate symbolic expression numerically
+```
+This *is* is Ginac, though, and there is even room for defining it in symbolic/expression.pyx . It probably is also included in some of our other libraries, as a standard special function.
+
+---
+
+Apply 
+* [attachment:trac_9130_combined.2.patch] 
 
 Comment: 1
 
``````




---

archive/issue_comments_101268.json:
```json
{
    "body": "<a id='comment:21'></a>I added #12303 as a separate ticket to leave beta symbolic for exact complex inputs such as `beta(2,1+5*I)`",
    "created_at": "2012-01-12T21:02:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101268",
    "user": "https://trac.sagemath.org/admin/accounts/users/ktkohl"
}
```

<a id='comment:21'></a>I added #12303 as a separate ticket to leave beta symbolic for exact complex inputs such as `beta(2,1+5*I)`



---

archive/issue_comments_101269.json:
```json
{
    "body": "<a id='comment:22'></a>The patch looks great, I have a couple of minor comments. We can switch this to positive review when these are fixed:\n\n* This paragraph in the docstring is not needed any more:\n\n```\nGiNaC is used to compute `B(p,q)`.  However, complex inputs \nare not yet handled in general.  When GiNaC raises an error on \nsuch inputs, we raise a NotImplementedError. \n```\n Perhaps the first sentence can be merged with the paragraph following that.\n* The commit message for the combined patch is not very helpful. I'd like my patch to stay separate if possible.",
    "created_at": "2012-01-12T22:51:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101269",
    "user": "https://github.com/burcin"
}
```

<a id='comment:22'></a>The patch looks great, I have a couple of minor comments. We can switch this to positive review when these are fixed:

* This paragraph in the docstring is not needed any more:

```
GiNaC is used to compute `B(p,q)`.  However, complex inputs 
are not yet handled in general.  When GiNaC raises an error on 
such inputs, we raise a NotImplementedError. 
```
 Perhaps the first sentence can be merged with the paragraph following that.
* The commit message for the combined patch is not very helpful. I'd like my patch to stay separate if possible.



---

archive/issue_comments_101270.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-01-12T22:51:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101270",
    "user": "https://github.com/burcin"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_101271.json:
```json
{
    "body": "Changing reviewer from \"Benjamin Jones\" to \"Benjamin Jones, Burcin Erocal\"",
    "created_at": "2012-01-12T22:51:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101271",
    "user": "https://github.com/burcin"
}
```

Changing reviewer from "Benjamin Jones" to "Benjamin Jones, Burcin Erocal"



---

archive/issue_comments_101272.json:
```json
{
    "body": "<a id='comment:23'></a>I forgot to update -- with attachment:trac_9130_combined.patch applied to 4.8.alpha6, `make ptestlong` succeeds with no failures! I'll test the updated patch now. \n\nIt should be easy to edit the newest combined patch file to remove the changes from Burcin's patches and just have those applied separately, right?",
    "created_at": "2012-01-12T23:22:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101272",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:23'></a>I forgot to update -- with attachment:trac_9130_combined.patch applied to 4.8.alpha6, `make ptestlong` succeeds with no failures! I'll test the updated patch now. 

It should be easy to edit the newest combined patch file to remove the changes from Burcin's patches and just have those applied separately, right?



---

archive/issue_comments_101273.json:
```json
{
    "body": "Attachment [trac_9130-beta_function.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130-beta_function.patch) by @burcin created at 2012-02-06 14:41:42\n\ncombined Karen's patches",
    "created_at": "2012-02-06T14:41:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101273",
    "user": "https://github.com/burcin"
}
```

Attachment [trac_9130-beta_function.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130-beta_function.patch) by @burcin created at 2012-02-06 14:41:42

combined Karen's patches



---

archive/issue_comments_101274.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2012-02-06T14:45:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101274",
    "user": "https://github.com/burcin"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_101275.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,33 @@\n+Although Maxima has the beta function, Sage doesn't:\n \n+```\n+sage: a, b, c = var('a b c') \n+sage: assume(a > 0) \n+sage: assume(b > 0) \n+sage: x = var('x') \n+sage: beta_dist = x**(a-1) * (1 - x)**(b-1) \n+sage: c = integral(beta_dist, x, 0, 1) \n+sage: c\n+beta(a, b)\n+sage: c(a=.5,b=.5)\n+beta(0.500000000000000, 0.500000000000000)\n+sage: c(a=.5,b=.5).n()\n+---------------------------------------------------------------------------\n+TypeError                                 Traceback (most recent call last)\n+\n+/Users/karl-dietercrisman/<ipython console> in <module>()\n+\n+/Users/karl-dietercrisman/Desktop/sage-4.4.2/local/lib/python2.6/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression.n (sage/symbolic/expression.cpp:17042)()\n+\n+TypeError: cannot evaluate symbolic expression numerically\n+```\n+This *is* is Ginac, though, and there is even room for defining it in symbolic/expression.pyx . It probably is also included in some of our other libraries, as a standard special function.\n+\n+---\n+\n+Apply \n+* [attachment:trac_9130-beta_function.patch]\n+* [attachment:trac_9130-py_float_segfault.take2.patch]\n \n Comment: 1\n \n``````\n",
    "created_at": "2012-02-06T14:45:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101275",
    "user": "https://github.com/burcin"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,33 @@
+Although Maxima has the beta function, Sage doesn't:
 
+```
+sage: a, b, c = var('a b c') 
+sage: assume(a > 0) 
+sage: assume(b > 0) 
+sage: x = var('x') 
+sage: beta_dist = x**(a-1) * (1 - x)**(b-1) 
+sage: c = integral(beta_dist, x, 0, 1) 
+sage: c
+beta(a, b)
+sage: c(a=.5,b=.5)
+beta(0.500000000000000, 0.500000000000000)
+sage: c(a=.5,b=.5).n()
+---------------------------------------------------------------------------
+TypeError                                 Traceback (most recent call last)
+
+/Users/karl-dietercrisman/<ipython console> in <module>()
+
+/Users/karl-dietercrisman/Desktop/sage-4.4.2/local/lib/python2.6/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression.n (sage/symbolic/expression.cpp:17042)()
+
+TypeError: cannot evaluate symbolic expression numerically
+```
+This *is* is Ginac, though, and there is even room for defining it in symbolic/expression.pyx . It probably is also included in some of our other libraries, as a standard special function.
+
+---
+
+Apply 
+* [attachment:trac_9130-beta_function.patch]
+* [attachment:trac_9130-py_float_segfault.take2.patch]
 
 Comment: 1
 
``````




---

archive/issue_comments_101276.json:
```json
{
    "body": "<a id='comment:24'></a>I uploaded a new patch which combines Karen's previous patches. This is ready to go now.",
    "created_at": "2012-02-06T14:45:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101276",
    "user": "https://github.com/burcin"
}
```

<a id='comment:24'></a>I uploaded a new patch which combines Karen's previous patches. This is ready to go now.



---

archive/issue_comments_101277.json:
```json
{
    "body": "Changing keywords from \"special function, pynac, sd35.5\" to \"special function, pynac, sd35.5 Cernay2012\".",
    "created_at": "2012-02-06T14:46:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101277",
    "user": "https://github.com/burcin"
}
```

Changing keywords from "special function, pynac, sd35.5" to "special function, pynac, sd35.5 Cernay2012".



---

archive/issue_comments_101278.json:
```json
{
    "body": "<a id='comment:26'></a>Hooray!",
    "created_at": "2012-02-06T18:08:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101278",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:26'></a>Hooray!



---

archive/issue_comments_101279.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-02-09T12:52:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101279",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_101280.json:
```json
{
    "body": "<a id='comment:27'></a>There are problems building the documentation:\n\n```\n/mnt/usb1/scratch/jdemeyer/merger/sage-5.0.beta4/local/lib/python2.7/site-packages/sage/functions/other.py:docstring of sage.functions.other.psi:6: WARNING: Inline literal start-string without end-string.\n```",
    "created_at": "2012-02-09T12:52:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101280",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:27'></a>There are problems building the documentation:

```
/mnt/usb1/scratch/jdemeyer/merger/sage-5.0.beta4/local/lib/python2.7/site-packages/sage/functions/other.py:docstring of sage.functions.other.psi:6: WARNING: Inline literal start-string without end-string.
```



---

archive/issue_comments_101281.json:
```json
{
    "body": "Changing reviewer from \"Benjamin Jones, Burcin Erocal\" to \"Benjamin Jones, Burcin Erocal, Karl-Dieter Crisman\"",
    "created_at": "2012-02-10T03:36:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101281",
    "user": "https://github.com/kcrisman"
}
```

Changing reviewer from "Benjamin Jones, Burcin Erocal" to "Benjamin Jones, Burcin Erocal, Karl-Dieter Crisman"



---

archive/issue_comments_101282.json:
```json
{
    "body": "<a id='comment:28'></a>This is because of the addition to the reference manual of stuff that wasn't up to snuff, though almost.  There was an extra colon as well, and a few other similar things.\n\nI've fixed these things, and actually tried adding loads(dumpg()) tests as well, but it doesn't matter, because it's not testing right.  It's not the computer, since other files are passing fine.  It seems to be the symbolic version of beta.\n\nGetting rid of all stuff with `x` and keeping\n\n```\n            sage: beta(1,2.0+I)\n            0.400000000000000 - 0.200000000000000*I\n```\ncauses\n\n```\n\n$ ../../sage -t sage/functions/other.py \nsage -t  \"devel/sage-main/sage/functions/other.py\"          \nThe doctested process was killed by signal 11\n\t [6.8 s]\n \n----------------------------------------------------------------------\nThe following tests failed:\n\n\n\tsage -t  \"devel/sage-main/sage/functions/other.py\" # Killed/crashed\nTotal time for all tests: 6.9 seconds\n```\nbut removing that as well yields passing tests.\n\nThis seems unexpected to me.",
    "created_at": "2012-02-10T03:36:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101282",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:28'></a>This is because of the addition to the reference manual of stuff that wasn't up to snuff, though almost.  There was an extra colon as well, and a few other similar things.

I've fixed these things, and actually tried adding loads(dumpg()) tests as well, but it doesn't matter, because it's not testing right.  It's not the computer, since other files are passing fine.  It seems to be the symbolic version of beta.

Getting rid of all stuff with `x` and keeping

```
            sage: beta(1,2.0+I)
            0.400000000000000 - 0.200000000000000*I
```
causes

```

$ ../../sage -t sage/functions/other.py 
sage -t  "devel/sage-main/sage/functions/other.py"          
The doctested process was killed by signal 11
	 [6.8 s]
 
----------------------------------------------------------------------
The following tests failed:


	sage -t  "devel/sage-main/sage/functions/other.py" # Killed/crashed
Total time for all tests: 6.9 seconds
```
but removing that as well yields passing tests.

This seems unexpected to me.



---

archive/issue_comments_101283.json:
```json
{
    "body": "<a id='comment:29'></a>Sorry, ignore all that.  I didn't see Burcin's other patch because I read the comments, not the description.",
    "created_at": "2012-02-10T03:38:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101283",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:29'></a>Sorry, ignore all that.  I didn't see Burcin's other patch because I read the comments, not the description.



---

archive/issue_comments_101284.json:
```json
{
    "body": "<a id='comment:30'></a>This requires **only** that someone do \n\n```\n./sage -docbuild reference html\n```\nand look at \n\n```\ndevel/sage-main/doc/output/html/en/reference/other.html\n```\nas well as run tests.",
    "created_at": "2012-02-10T03:57:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101284",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:30'></a>This requires **only** that someone do 

```
./sage -docbuild reference html
```
and look at 

```
devel/sage-main/doc/output/html/en/reference/other.html
```
as well as run tests.



---

archive/issue_comments_101285.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-02-10T03:57:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101285",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_101286.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,34 @@\n+Although Maxima has the beta function, Sage doesn't:\n \n+```\n+sage: a, b, c = var('a b c') \n+sage: assume(a > 0) \n+sage: assume(b > 0) \n+sage: x = var('x') \n+sage: beta_dist = x**(a-1) * (1 - x)**(b-1) \n+sage: c = integral(beta_dist, x, 0, 1) \n+sage: c\n+beta(a, b)\n+sage: c(a=.5,b=.5)\n+beta(0.500000000000000, 0.500000000000000)\n+sage: c(a=.5,b=.5).n()\n+---------------------------------------------------------------------------\n+TypeError                                 Traceback (most recent call last)\n+\n+/Users/karl-dietercrisman/<ipython console> in <module>()\n+\n+/Users/karl-dietercrisman/Desktop/sage-4.4.2/local/lib/python2.6/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression.n (sage/symbolic/expression.cpp:17042)()\n+\n+TypeError: cannot evaluate symbolic expression numerically\n+```\n+This *is* is Ginac, though, and there is even room for defining it in symbolic/expression.pyx . It probably is also included in some of our other libraries, as a standard special function.\n+\n+---\n+\n+Apply \n+* [attachment:trac_9130-beta_function.patch]\n+* [attachment:trac_9130-py_float_segfault.take2.patch]\n+* [attachment:trac_9130-reviewer.patch]\n \n Comment: 1\n \n``````\n",
    "created_at": "2012-02-10T03:57:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101286",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,34 @@
+Although Maxima has the beta function, Sage doesn't:
 
+```
+sage: a, b, c = var('a b c') 
+sage: assume(a > 0) 
+sage: assume(b > 0) 
+sage: x = var('x') 
+sage: beta_dist = x**(a-1) * (1 - x)**(b-1) 
+sage: c = integral(beta_dist, x, 0, 1) 
+sage: c
+beta(a, b)
+sage: c(a=.5,b=.5)
+beta(0.500000000000000, 0.500000000000000)
+sage: c(a=.5,b=.5).n()
+---------------------------------------------------------------------------
+TypeError                                 Traceback (most recent call last)
+
+/Users/karl-dietercrisman/<ipython console> in <module>()
+
+/Users/karl-dietercrisman/Desktop/sage-4.4.2/local/lib/python2.6/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression.n (sage/symbolic/expression.cpp:17042)()
+
+TypeError: cannot evaluate symbolic expression numerically
+```
+This *is* is Ginac, though, and there is even room for defining it in symbolic/expression.pyx . It probably is also included in some of our other libraries, as a standard special function.
+
+---
+
+Apply 
+* [attachment:trac_9130-beta_function.patch]
+* [attachment:trac_9130-py_float_segfault.take2.patch]
+* [attachment:trac_9130-reviewer.patch]
 
 Comment: 1
 
``````




---

archive/issue_comments_101287.json:
```json
{
    "body": "Attachment [trac_9130-reviewer.2.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130-reviewer.2.patch) by @kcrisman created at 2012-02-10 03:57:46",
    "created_at": "2012-02-10T03:57:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101287",
    "user": "https://github.com/kcrisman"
}
```

Attachment [trac_9130-reviewer.2.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130-reviewer.2.patch) by @kcrisman created at 2012-02-10 03:57:46



---

archive/issue_comments_101288.json:
```json
{
    "body": "Apply last",
    "created_at": "2012-02-10T03:58:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101288",
    "user": "https://github.com/kcrisman"
}
```

Apply last



---

archive/issue_comments_101289.json:
```json
{
    "body": "Changing author from \"Karen T. Kohl, Burcin Erocal\" to \"Karen T. Kohl, Burcin Erocal, Karl-Dieter Crisman\"",
    "created_at": "2012-02-10T04:00:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101289",
    "user": "https://github.com/kcrisman"
}
```

Changing author from "Karen T. Kohl, Burcin Erocal" to "Karen T. Kohl, Burcin Erocal, Karl-Dieter Crisman"



---

archive/issue_comments_101290.json:
```json
{
    "body": "<a id='comment:31'></a>Attachment [trac_9130-reviewer.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130-reviewer.patch) by @kcrisman created at 2012-02-10 04:00:08\n\nTo finish:\n* Apply \n  * [attachment:trac_9130-beta_function.patch]\n  * [attachment:trac_9130-py_float_segfault.take2.patch]\n  * [attachment:trac_9130-reviewer.patch]\n* Check docbuild as above\n* Run tests on other.py, the only file that changed since the last positive review.",
    "created_at": "2012-02-10T04:00:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101290",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:31'></a>Attachment [trac_9130-reviewer.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130-reviewer.patch) by @kcrisman created at 2012-02-10 04:00:08

To finish:
* Apply 
  * [attachment:trac_9130-beta_function.patch]
  * [attachment:trac_9130-py_float_segfault.take2.patch]
  * [attachment:trac_9130-reviewer.patch]
* Check docbuild as above
* Run tests on other.py, the only file that changed since the last positive review.



---

archive/issue_comments_101291.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-02-10T05:28:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101291",
    "user": "https://github.com/benjaminfjones"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_101292.json:
```json
{
    "body": "<a id='comment:32'></a>Finished! The patches apply cleanly to 5.0.beta3, I checked the docs and they look good. All tests pass (I tested sage/functions/other.py and also did `make ptest` for good measure).",
    "created_at": "2012-02-10T05:28:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101292",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:32'></a>Finished! The patches apply cleanly to 5.0.beta3, I checked the docs and they look good. All tests pass (I tested sage/functions/other.py and also did `make ptest` for good measure).



---

archive/issue_comments_101293.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-02-12T12:47:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101293",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_101294.json:
```json
{
    "body": "<a id='comment:33'></a>This patch conflicts with #4498.  Either this one or #4498 should be rebased.",
    "created_at": "2012-02-12T12:47:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101294",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:33'></a>This patch conflicts with #4498.  Either this one or #4498 should be rebased.



---

archive/issue_comments_101295.json:
```json
{
    "body": "Changing dependencies from \"\" to \"4498\"",
    "created_at": "2012-02-12T20:07:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101295",
    "user": "https://github.com/benjaminfjones"
}
```

Changing dependencies from "" to "4498"



---

archive/issue_comments_101296.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,35 @@\n+Although Maxima has the beta function, Sage doesn't:\n \n+```\n+sage: a, b, c = var('a b c') \n+sage: assume(a > 0) \n+sage: assume(b > 0) \n+sage: x = var('x') \n+sage: beta_dist = x**(a-1) * (1 - x)**(b-1) \n+sage: c = integral(beta_dist, x, 0, 1) \n+sage: c\n+beta(a, b)\n+sage: c(a=.5,b=.5)\n+beta(0.500000000000000, 0.500000000000000)\n+sage: c(a=.5,b=.5).n()\n+---------------------------------------------------------------------------\n+TypeError                                 Traceback (most recent call last)\n+\n+/Users/karl-dietercrisman/<ipython console> in <module>()\n+\n+/Users/karl-dietercrisman/Desktop/sage-4.4.2/local/lib/python2.6/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression.n (sage/symbolic/expression.cpp:17042)()\n+\n+TypeError: cannot evaluate symbolic expression numerically\n+```\n+This *is* is Ginac, though, and there is even room for defining it in symbolic/expression.pyx . It probably is also included in some of our other libraries, as a standard special function.\n+\n+---\n+\n+Apply \n+* Patches at #4498\n+* [attachment:trac_9130-beta_function.patch]\n+* [attachment:trac_9130-py_float_segfault.take2.patch]\n+* [attachment:trac_9130-reviewer.patch]\n \n Comment: 1\n \n``````\n",
    "created_at": "2012-02-12T20:07:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101296",
    "user": "https://github.com/benjaminfjones"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,35 @@
+Although Maxima has the beta function, Sage doesn't:
 
+```
+sage: a, b, c = var('a b c') 
+sage: assume(a > 0) 
+sage: assume(b > 0) 
+sage: x = var('x') 
+sage: beta_dist = x**(a-1) * (1 - x)**(b-1) 
+sage: c = integral(beta_dist, x, 0, 1) 
+sage: c
+beta(a, b)
+sage: c(a=.5,b=.5)
+beta(0.500000000000000, 0.500000000000000)
+sage: c(a=.5,b=.5).n()
+---------------------------------------------------------------------------
+TypeError                                 Traceback (most recent call last)
+
+/Users/karl-dietercrisman/<ipython console> in <module>()
+
+/Users/karl-dietercrisman/Desktop/sage-4.4.2/local/lib/python2.6/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression.n (sage/symbolic/expression.cpp:17042)()
+
+TypeError: cannot evaluate symbolic expression numerically
+```
+This *is* is Ginac, though, and there is even room for defining it in symbolic/expression.pyx . It probably is also included in some of our other libraries, as a standard special function.
+
+---
+
+Apply 
+* Patches at #4498
+* [attachment:trac_9130-beta_function.patch]
+* [attachment:trac_9130-py_float_segfault.take2.patch]
+* [attachment:trac_9130-reviewer.patch]
 
 Comment: 1
 
``````




---

archive/issue_comments_101297.json:
```json
{
    "body": "Changing dependencies from \"4498\" to \"#4498\"",
    "created_at": "2012-02-12T20:08:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101297",
    "user": "https://github.com/benjaminfjones"
}
```

Changing dependencies from "4498" to "#4498"



---

archive/issue_comments_101298.json:
```json
{
    "body": "Attachment [trac_9130-beta_function.2.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130-beta_function.2.patch) by @benjaminfjones created at 2012-02-12 20:27:50",
    "created_at": "2012-02-12T20:27:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101298",
    "user": "https://github.com/benjaminfjones"
}
```

Attachment [trac_9130-beta_function.2.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130-beta_function.2.patch) by @benjaminfjones created at 2012-02-12 20:27:50



---

archive/issue_comments_101299.json:
```json
{
    "body": "Attachment [trac_9130-random-tests.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130-random-tests.patch) by @benjaminfjones created at 2012-02-12 20:28:20\n\nfixes random tests after rebasing against #4498",
    "created_at": "2012-02-12T20:28:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101299",
    "user": "https://github.com/benjaminfjones"
}
```

Attachment [trac_9130-random-tests.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130-random-tests.patch) by @benjaminfjones created at 2012-02-12 20:28:20

fixes random tests after rebasing against #4498



---

archive/issue_comments_101300.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,36 @@\n+Although Maxima has the beta function, Sage doesn't:\n \n+```\n+sage: a, b, c = var('a b c') \n+sage: assume(a > 0) \n+sage: assume(b > 0) \n+sage: x = var('x') \n+sage: beta_dist = x**(a-1) * (1 - x)**(b-1) \n+sage: c = integral(beta_dist, x, 0, 1) \n+sage: c\n+beta(a, b)\n+sage: c(a=.5,b=.5)\n+beta(0.500000000000000, 0.500000000000000)\n+sage: c(a=.5,b=.5).n()\n+---------------------------------------------------------------------------\n+TypeError                                 Traceback (most recent call last)\n+\n+/Users/karl-dietercrisman/<ipython console> in <module>()\n+\n+/Users/karl-dietercrisman/Desktop/sage-4.4.2/local/lib/python2.6/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression.n (sage/symbolic/expression.cpp:17042)()\n+\n+TypeError: cannot evaluate symbolic expression numerically\n+```\n+This *is* is Ginac, though, and there is even room for defining it in symbolic/expression.pyx . It probably is also included in some of our other libraries, as a standard special function.\n+\n+---\n+\n+Apply \n+* Patches at #4498\n+* [attachment:trac_9130-beta_function.2.patch]\n+* [attachment:trac_9130-py_float_segfault.take2.patch]\n+* [attachment:trac_9130-reviewer.patch]\n+* [attachment:trac_9130-random-tests.patch]\n \n Comment: 1\n \n``````\n",
    "created_at": "2012-02-12T20:29:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101300",
    "user": "https://github.com/benjaminfjones"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,36 @@
+Although Maxima has the beta function, Sage doesn't:
 
+```
+sage: a, b, c = var('a b c') 
+sage: assume(a > 0) 
+sage: assume(b > 0) 
+sage: x = var('x') 
+sage: beta_dist = x**(a-1) * (1 - x)**(b-1) 
+sage: c = integral(beta_dist, x, 0, 1) 
+sage: c
+beta(a, b)
+sage: c(a=.5,b=.5)
+beta(0.500000000000000, 0.500000000000000)
+sage: c(a=.5,b=.5).n()
+---------------------------------------------------------------------------
+TypeError                                 Traceback (most recent call last)
+
+/Users/karl-dietercrisman/<ipython console> in <module>()
+
+/Users/karl-dietercrisman/Desktop/sage-4.4.2/local/lib/python2.6/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression.n (sage/symbolic/expression.cpp:17042)()
+
+TypeError: cannot evaluate symbolic expression numerically
+```
+This *is* is Ginac, though, and there is even room for defining it in symbolic/expression.pyx . It probably is also included in some of our other libraries, as a standard special function.
+
+---
+
+Apply 
+* Patches at #4498
+* [attachment:trac_9130-beta_function.2.patch]
+* [attachment:trac_9130-py_float_segfault.take2.patch]
+* [attachment:trac_9130-reviewer.patch]
+* [attachment:trac_9130-random-tests.patch]
 
 Comment: 1
 
``````




---

archive/issue_comments_101301.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-02-12T20:38:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101301",
    "user": "https://github.com/benjaminfjones"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_101302.json:
```json
{
    "body": "<a id='comment:37'></a>I rebased the patches against #4498. This meant moving the changes to `sage/symbolic/random_tests.py` out of [attachment:trac_9130_beta_function.patch] and into a new patch [attachment:trac_9130-random-tests.patch] that reflects the differences in the random tests after #4498 was applied and `beta` was added.\n\nThe tests in `random_test.py` are getting annoying. Now #9130 must depend on #4498 and in turn my #11888 must depend on #9130, etc. To finish #11143, I need to rebase the changes to `random_tests.py` to all 3 of these other symbolics patches.\n\nWould it make sense to open a new ticket for changes needed to `random_tests.py` after all the new symbolic functions are added that will go into sage-5.0? This new ticket would depend on all the other tickets adding new functions. This way we wouldn't have to fix the random tests like this in every ticket that adds a new function, just *once* per release.",
    "created_at": "2012-02-12T20:38:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101302",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:37'></a>I rebased the patches against #4498. This meant moving the changes to `sage/symbolic/random_tests.py` out of [attachment:trac_9130_beta_function.patch] and into a new patch [attachment:trac_9130-random-tests.patch] that reflects the differences in the random tests after #4498 was applied and `beta` was added.

The tests in `random_test.py` are getting annoying. Now #9130 must depend on #4498 and in turn my #11888 must depend on #9130, etc. To finish #11143, I need to rebase the changes to `random_tests.py` to all 3 of these other symbolics patches.

Would it make sense to open a new ticket for changes needed to `random_tests.py` after all the new symbolic functions are added that will go into sage-5.0? This new ticket would depend on all the other tickets adding new functions. This way we wouldn't have to fix the random tests like this in every ticket that adds a new function, just *once* per release.



---

archive/issue_comments_101303.json:
```json
{
    "body": "<a id='comment:38'></a>Replying to [comment:37 benjaminfjones]:\n> Would it make sense to open a new ticket for changes needed to `random_tests.py` after all the new symbolic functions are added that will go into sage-5.0? This new ticket would depend on all the other tickets adding new functions. This way we wouldn't have to fix the random tests like this in every ticket that adds a new function, just *once* per release. \n\n\nI think that would be making it more complicated for yourself and for reviewers.  It also means that, if just one of those tickets has a problem, none of them can be merged.  But I'm not against your suggestion.",
    "created_at": "2012-02-13T08:34:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101303",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:38'></a>Replying to [comment:37 benjaminfjones]:
> Would it make sense to open a new ticket for changes needed to `random_tests.py` after all the new symbolic functions are added that will go into sage-5.0? This new ticket would depend on all the other tickets adding new functions. This way we wouldn't have to fix the random tests like this in every ticket that adds a new function, just *once* per release. 


I think that would be making it more complicated for yourself and for reviewers.  It also means that, if just one of those tickets has a problem, none of them can be merged.  But I'm not against your suggestion.



---

archive/issue_comments_101304.json:
```json
{
    "body": "<a id='comment:39'></a>Replying to [comment:37 benjaminfjones]:\n> I rebased the patches against #4498. This meant moving the changes to `sage/symbolic/random_tests.py` out of [attachment:trac_9130_beta_function.patch] and into a new patch [attachment:trac_9130-random-tests.patch] that reflects the differences in the random tests after #4498 was applied and `beta` was added.\n\n\nThank you for taking care of this.\n\n> The tests in `random_test.py` are getting annoying. Now #9130 must depend on #4498 and in turn my #11888 must depend on #9130, etc. To finish #11143, I need to rebase the changes to `random_tests.py` to all 3 of these other symbolics patches.\n> \n> Would it make sense to open a new ticket for changes needed to `random_tests.py` after all the new symbolic functions are added that will go into sage-5.0? This new ticket would depend on all the other tickets adding new functions. This way we wouldn't have to fix the random tests like this in every ticket that adds a new function, just *once* per release. \n\n\nAt this stage I'd be happy to mark that test in `random_tests.py` with a `#random` tag so the doctesting framework ignores the output. If you open a new ticket for this and provide a patch, I promise a quick positive review. :)",
    "created_at": "2012-02-13T09:48:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101304",
    "user": "https://github.com/burcin"
}
```

<a id='comment:39'></a>Replying to [comment:37 benjaminfjones]:
> I rebased the patches against #4498. This meant moving the changes to `sage/symbolic/random_tests.py` out of [attachment:trac_9130_beta_function.patch] and into a new patch [attachment:trac_9130-random-tests.patch] that reflects the differences in the random tests after #4498 was applied and `beta` was added.


Thank you for taking care of this.

> The tests in `random_test.py` are getting annoying. Now #9130 must depend on #4498 and in turn my #11888 must depend on #9130, etc. To finish #11143, I need to rebase the changes to `random_tests.py` to all 3 of these other symbolics patches.
> 
> Would it make sense to open a new ticket for changes needed to `random_tests.py` after all the new symbolic functions are added that will go into sage-5.0? This new ticket would depend on all the other tickets adding new functions. This way we wouldn't have to fix the random tests like this in every ticket that adds a new function, just *once* per release. 


At this stage I'd be happy to mark that test in `random_tests.py` with a `#random` tag so the doctesting framework ignores the output. If you open a new ticket for this and provide a patch, I promise a quick positive review. :)



---

archive/issue_comments_101305.json:
```json
{
    "body": "<a id='comment:40'></a>Replying to [comment:39 burcin]:\nThanks, marking the three \"offending\" doctests with a `random` tag is #12507.",
    "created_at": "2012-02-14T05:39:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101305",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:40'></a>Replying to [comment:39 burcin]:
Thanks, marking the three "offending" doctests with a `random` tag is #12507.



---

archive/issue_comments_101306.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-02-16T04:45:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101306",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_101307.json:
```json
{
    "body": "<a id='comment:41'></a>Just checked one *last* time - yes, everything is fine!  A very minor quibble is that the (why here?) added prime pi file could use a few double backticks and one or two other things, but that is immaterial in this saga.",
    "created_at": "2012-02-16T04:45:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101307",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:41'></a>Just checked one *last* time - yes, everything is fine!  A very minor quibble is that the (why here?) added prime pi file could use a few double backticks and one or two other things, but that is immaterial in this saga.



---

archive/issue_comments_101308.json:
```json
{
    "body": "Attachment [trac_9130-random-tests.2.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130-random-tests.2.patch) by @jdemeyer created at 2012-02-21 11:24:15",
    "created_at": "2012-02-21T11:24:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101308",
    "user": "https://github.com/jdemeyer"
}
```

Attachment [trac_9130-random-tests.2.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130-random-tests.2.patch) by @jdemeyer created at 2012-02-21 11:24:15



---

archive/issue_comments_101309.json:
```json
{
    "body": "<a id='comment:42'></a>Attachment [trac_9130-beta_function.3.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130-beta_function.3.patch) by @jdemeyer created at 2012-02-21 11:26:13\n\nRebased again.",
    "created_at": "2012-02-21T11:26:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101309",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:42'></a>Attachment [trac_9130-beta_function.3.patch](tarball://root/attachments/some-uuid/ticket9130/trac_9130-beta_function.3.patch) by @jdemeyer created at 2012-02-21 11:26:13

Rebased again.



---

archive/issue_comments_101310.json:
```json
{
    "body": "Changing dependencies from \"#4498\" to \"#4498, #12507\"",
    "created_at": "2012-02-21T11:26:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101310",
    "user": "https://github.com/jdemeyer"
}
```

Changing dependencies from "#4498" to "#4498, #12507"



---

archive/issue_comments_101311.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,36 @@\n+Although Maxima has the beta function, Sage doesn't:\n \n+```\n+sage: a, b, c = var('a b c') \n+sage: assume(a > 0) \n+sage: assume(b > 0) \n+sage: x = var('x') \n+sage: beta_dist = x**(a-1) * (1 - x)**(b-1) \n+sage: c = integral(beta_dist, x, 0, 1) \n+sage: c\n+beta(a, b)\n+sage: c(a=.5,b=.5)\n+beta(0.500000000000000, 0.500000000000000)\n+sage: c(a=.5,b=.5).n()\n+---------------------------------------------------------------------------\n+TypeError                                 Traceback (most recent call last)\n+\n+/Users/karl-dietercrisman/<ipython console> in <module>()\n+\n+/Users/karl-dietercrisman/Desktop/sage-4.4.2/local/lib/python2.6/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression.n (sage/symbolic/expression.cpp:17042)()\n+\n+TypeError: cannot evaluate symbolic expression numerically\n+```\n+This *is* is Ginac, though, and there is even room for defining it in symbolic/expression.pyx . It probably is also included in some of our other libraries, as a standard special function.\n+\n+---\n+\n+Apply \n+* Patches at #4498 and #12507\n+* [attachment:trac_9130-beta_function.3.patch]\n+* [attachment:trac_9130-py_float_segfault.take2.patch]\n+* [attachment:trac_9130-reviewer.patch]\n+* [attachment:trac_9130-random-tests.2.patch]\n \n Comment: 1\n \n``````\n",
    "created_at": "2012-02-21T11:26:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101311",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,36 @@
+Although Maxima has the beta function, Sage doesn't:
 
+```
+sage: a, b, c = var('a b c') 
+sage: assume(a > 0) 
+sage: assume(b > 0) 
+sage: x = var('x') 
+sage: beta_dist = x**(a-1) * (1 - x)**(b-1) 
+sage: c = integral(beta_dist, x, 0, 1) 
+sage: c
+beta(a, b)
+sage: c(a=.5,b=.5)
+beta(0.500000000000000, 0.500000000000000)
+sage: c(a=.5,b=.5).n()
+---------------------------------------------------------------------------
+TypeError                                 Traceback (most recent call last)
+
+/Users/karl-dietercrisman/<ipython console> in <module>()
+
+/Users/karl-dietercrisman/Desktop/sage-4.4.2/local/lib/python2.6/site-packages/sage/symbolic/expression.so in sage.symbolic.expression.Expression.n (sage/symbolic/expression.cpp:17042)()
+
+TypeError: cannot evaluate symbolic expression numerically
+```
+This *is* is Ginac, though, and there is even room for defining it in symbolic/expression.pyx . It probably is also included in some of our other libraries, as a standard special function.
+
+---
+
+Apply 
+* Patches at #4498 and #12507
+* [attachment:trac_9130-beta_function.3.patch]
+* [attachment:trac_9130-py_float_segfault.take2.patch]
+* [attachment:trac_9130-reviewer.patch]
+* [attachment:trac_9130-random-tests.2.patch]
 
 Comment: 1
 
``````




---

archive/issue_comments_101312.json:
```json
{
    "body": "<a id='comment:43'></a>I think if you would have merged this first, then #12507, there wouldn't have needed to be a rebase.   Maybe the authors of #12507 should have put this as a dependency?  I think we were all lax with it because it `# random`ized a doctest...",
    "created_at": "2012-02-21T13:43:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101312",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:43'></a>I think if you would have merged this first, then #12507, there wouldn't have needed to be a rebase.   Maybe the authors of #12507 should have put this as a dependency?  I think we were all lax with it because it `# random`ized a doctest...



---

archive/issue_comments_101313.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-02-27T11:19:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101313",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_101314.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-5.0.beta6\"",
    "created_at": "2012-02-27T11:19:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101314",
    "user": "https://github.com/jdemeyer"
}
```

Changing merged from "" to "sage-5.0.beta6"



---

archive/issue_events_022434.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-27T11:19:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9130#event-22434"
}
```



---

archive/issue_comments_101315.json:
```json
{
    "body": "Changing author from \"Karen T. Kohl, Burcin Erocal, Karl-Dieter Crisman\" to \"Karen Kohl, Burcin Erocal, Karl-Dieter Crisman\"",
    "created_at": "2016-04-15T20:07:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9130",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9130#issuecomment-101315",
    "user": "https://github.com/fchapoton"
}
```

Changing author from "Karen T. Kohl, Burcin Erocal, Karl-Dieter Crisman" to "Karen Kohl, Burcin Erocal, Karl-Dieter Crisman"
