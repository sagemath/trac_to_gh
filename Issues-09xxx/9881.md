# Issue 9881: fix the symbolic csgn function on complex input

archive/issues_009880.json:
```json
{
    "body": "Our wrapper of the csgn function from GiNaC (in `sage/symbolic/expression.pyx`) doesn't reflect it's real definition:\n\n```\n  /** Return the complex half-plane (left or right) in which the number lies.\n   *  csgn(x)==0 for x==0, csgn(x)==1 for Re(x)>0 or Re(x)=0 and Im(x)>0,\n   *  csgn(x)==-1 for Re(x)<0 or Re(x)=0 and Im(x)<0.\n   *  */\n```\n\nFix this and add doctests.\n\nWe should also consider using GiNaC's `csgn()` function for the top level `sgn()` and `sign()` functions. This should be on a different ticket though.\n\n**Assignee:** @burcin\n\n**Keywords:** pynac\n\n**Author:** Burcin Erocal\n\n**Reviewer:** Karl-Dieter Crisman\n\n**Merged:** sage-4.6.alpha3\n\nIssue created by migration from https://trac.sagemath.org/ticket/9881\n\n",
    "closed_at": "2010-10-06T03:20:19Z",
    "created_at": "2010-09-09T09:04:30Z",
    "labels": [
        "component: symbolics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.6",
    "title": "fix the symbolic csgn function on complex input",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/9881",
    "user": "https://github.com/burcin"
}
```
Our wrapper of the csgn function from GiNaC (in `sage/symbolic/expression.pyx`) doesn't reflect it's real definition:

```
  /** Return the complex half-plane (left or right) in which the number lies.
   *  csgn(x)==0 for x==0, csgn(x)==1 for Re(x)>0 or Re(x)=0 and Im(x)>0,
   *  csgn(x)==-1 for Re(x)<0 or Re(x)=0 and Im(x)<0.
   *  */
```

Fix this and add doctests.

We should also consider using GiNaC's `csgn()` function for the top level `sgn()` and `sign()` functions. This should be on a different ticket though.

**Assignee:** @burcin

**Keywords:** pynac

**Author:** Burcin Erocal

**Reviewer:** Karl-Dieter Crisman

**Merged:** sage-4.6.alpha3

Issue created by migration from https://trac.sagemath.org/ticket/9881





---

archive/attachments_012814.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_9881-csgn.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket9881/trac_9881-csgn.patch",
    "created_at": "2010-09-12T11:07:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9881",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/burcin"
}
```



---

archive/issue_comments_113496.json:
```json
{
    "body": "",
    "created_at": "2010-09-12T11:07:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9881#issuecomment-113496",
    "user": "https://github.com/burcin"
}
```





---

archive/issue_comments_113497.json:
```json
{
    "body": "<a id='comment:1'></a>\nThe new pynac package at #9201 changes the `csgn()` function according to the description. attachment:trac_9881-csgn.patch adds doctests for the new specification.\n\nThe pynac package includes patches for #9394, #9834, #9878, #9879, #9900 as well as this ticket. See the ticket description of #9901 for the list (and order) of patches associated to the new version.",
    "created_at": "2010-09-12T12:22:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9881#issuecomment-113497",
    "user": "https://github.com/burcin"
}
```

<a id='comment:1'></a>
The new pynac package at #9201 changes the `csgn()` function according to the description. attachment:trac_9881-csgn.patch adds doctests for the new specification.

The pynac package includes patches for #9394, #9834, #9878, #9879, #9900 as well as this ticket. See the ticket description of #9901 for the list (and order) of patches associated to the new version.



---

archive/issue_comments_113498.json:
```json
{
    "body": "**Author:** Burcin Erocal",
    "created_at": "2010-09-12T12:22:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9881#issuecomment-113498",
    "user": "https://github.com/burcin"
}
```

**Author:** Burcin Erocal



---

archive/issue_comments_113499.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2010-09-12T12:22:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9881#issuecomment-113499",
    "user": "https://github.com/burcin"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_113500.json:
```json
{
    "body": "<a id='comment:2'></a>\nReplying to [burcin](#comment%3A1):\n> The new pynac package at #9201 changes the `csgn()` function according to the description. \n\n\nThat should have been \"at #9901\".",
    "created_at": "2010-09-12T12:25:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9881#issuecomment-113500",
    "user": "https://github.com/burcin"
}
```

<a id='comment:2'></a>
Replying to [burcin](#comment%3A1):
> The new pynac package at #9201 changes the `csgn()` function according to the description. 


That should have been "at #9901".



---

archive/issue_comments_113501.json:
```json
{
    "body": "<a id='comment:3'></a>\nJust FYI - this appears to still apply cleanly after the review patch at #9879.",
    "created_at": "2010-10-05T00:38:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9881#issuecomment-113501",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:3'></a>
Just FYI - this appears to still apply cleanly after the review patch at #9879.



---

archive/issue_comments_113502.json:
```json
{
    "body": "**Reviewer:** Karl-Dieter Crisman",
    "created_at": "2010-10-05T00:38:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9881#issuecomment-113502",
    "user": "https://github.com/kcrisman"
}
```

**Reviewer:** Karl-Dieter Crisman



---

archive/issue_comments_113503.json:
```json
{
    "body": "<a id='comment:4'></a>\nOkay, this looks good on both Pynac and Sage side - with the exception that I think the documentation needed slightly more clarity, and that some of the examples got misplaced to `binomial` for some reason.  Positive review; apply reviewer patch after initial patch.",
    "created_at": "2010-10-05T00:42:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9881#issuecomment-113503",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:4'></a>
Okay, this looks good on both Pynac and Sage side - with the exception that I think the documentation needed slightly more clarity, and that some of the examples got misplaced to `binomial` for some reason.  Positive review; apply reviewer patch after initial patch.



---

archive/issue_comments_113504.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2010-10-05T00:42:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9881#issuecomment-113504",
    "user": "https://github.com/kcrisman"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_113505.json:
```json
{
    "body": "Apply after initial patch.",
    "created_at": "2010-10-05T00:43:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9881#issuecomment-113505",
    "user": "https://github.com/kcrisman"
}
```

Apply after initial patch.



---

archive/issue_events_030329.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-10-06T03:20:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/9881",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9881#event-30329"
}
```



---

archive/issue_comments_113506.json:
```json
{
    "body": "**Merged:** sage-4.6.alpha3",
    "created_at": "2010-10-06T03:20:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9881#issuecomment-113506",
    "user": "https://github.com/qed777"
}
```

**Merged:** sage-4.6.alpha3



---

archive/attachments_012815.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_9881-csgn-reviewer.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket9881/trac_9881-csgn-reviewer.patch",
    "created_at": "2010-10-06T03:20:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9881",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/qed777"
}
```



---

archive/issue_comments_113507.json:
```json
{
    "body": "<a id='comment:5'></a>\n",
    "created_at": "2010-10-06T03:20:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9881",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9881#issuecomment-113507",
    "user": "https://github.com/qed777"
}
```

<a id='comment:5'></a>

