# Issue 9562: Add M4RIE to Sage

archive/issues_009562.json:
```json
{
    "assignees": [],
    "body": "M4RIE is a library for linear algebra over small extension of GF(2). It is still in an early stage but already offers performance comparable to Magma for many inputs and is more than 1000 times faster than what we have in Sage right now.\n\nUpstream: http://bitbucket.org/malb/m4rie/\n\nSage Days 24 coding sprint: http://wiki.sagemath.org/days24/projects/gf2e\n\n* **Install** http://sage.math.washington.edu/home/malb/spkgs/libm4rie-20111004.spkg\n* **Apply** [attachment: m4rie_for_sage.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_for_sage.patch.gz)\n* **Apply** [attachment: m4rie_spkg.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_spkg.patch.gz) to Sage root repository\n\nThere was a vote on [sage-devel](http://groups.google.com/group/sage-devel/browse_thread/thread/bf75a0509d3ec978), recommending to add this as a standard spkg.\n\nDepends on #11757\nDepends on #4260\n\nCC:  @sagetrac-mvngu @simon-king-jena\n\nKeywords: **m4ri, sd32**\n\nReviewer: **Paul Zimmermann, Simon King**\n\nAuthor: **Martin Albrecht**\n\nMerged: **sage-4.8.alpha3**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/9562_\n\n",
    "closed_at": "2011-12-01T08:12:30Z",
    "created_at": "2010-07-21T10:41:53Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add M4RIE to Sage",
    "type": "issue",
    "updated_at": "2015-04-19T13:10:12Z",
    "url": "https://github.com/sagemath/sage/issues/9562",
    "user": "https://github.com/malb"
}
```
M4RIE is a library for linear algebra over small extension of GF(2). It is still in an early stage but already offers performance comparable to Magma for many inputs and is more than 1000 times faster than what we have in Sage right now.

Upstream: http://bitbucket.org/malb/m4rie/

Sage Days 24 coding sprint: http://wiki.sagemath.org/days24/projects/gf2e

* **Install** http://sage.math.washington.edu/home/malb/spkgs/libm4rie-20111004.spkg
* **Apply** [attachment: m4rie_for_sage.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_for_sage.patch.gz)
* **Apply** [attachment: m4rie_spkg.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_spkg.patch.gz) to Sage root repository

There was a vote on [sage-devel](http://groups.google.com/group/sage-devel/browse_thread/thread/bf75a0509d3ec978), recommending to add this as a standard spkg.

Depends on #11757
Depends on #4260

CC:  @sagetrac-mvngu @simon-king-jena

Keywords: **m4ri, sd32**

Reviewer: **Paul Zimmermann, Simon King**

Author: **Martin Albrecht**

Merged: **sage-4.8.alpha3**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/9562_





---

archive/issue_events_122000.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-07-21T10:41:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "milestone_number": null,
    "milestone_title": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122000"
}
```



---

archive/issue_events_122001.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-07-21T10:41:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122001"
}
```



---

archive/issue_events_122002.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-07-21T10:41:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122002"
}
```



---

archive/issue_events_122003.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-07-21T10:41:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122003"
}
```



---

archive/issue_comments_082935.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n M4RIE is a library for linear algebra over small extension of GF(2). It is still in an early stage but already offers performance comparable to Magma for many inputs and is more than 1000 times faster than what we have in Sage right now.\n+\n+Upstream: http://bitbucket.org/malb/m4rie/\n+\n+Sage Days 24 coding sprint: http://wiki.sagemath.org/days24/projects/gf2e\n``````\n",
    "created_at": "2010-07-21T10:42:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82935",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,5 @@
 M4RIE is a library for linear algebra over small extension of GF(2). It is still in an early stage but already offers performance comparable to Magma for many inputs and is more than 1000 times faster than what we have in Sage right now.
+
+Upstream: http://bitbucket.org/malb/m4rie/
+
+Sage Days 24 coding sprint: http://wiki.sagemath.org/days24/projects/gf2e
``````




---

archive/issue_comments_082936.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nThe SPKG is here:\n\nhttp://sage.math.washington.edu/home/malb/spkgs/libm4ri-20100730.spkg",
    "created_at": "2010-07-21T10:43:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82936",
    "user": "https://github.com/malb"
}
```

<div id="comment:2" align="right">comment:2</div>

The SPKG is here:

http://sage.math.washington.edu/home/malb/spkgs/libm4ri-20100730.spkg



---

archive/issue_comments_082937.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThe attached patch depends on #9475",
    "created_at": "2010-07-21T10:45:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82937",
    "user": "https://github.com/malb"
}
```

<div id="comment:3" align="right">comment:3</div>

The attached patch depends on #9475



---

archive/issue_comments_082938.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThe package compiles on t2. sage-check fails because libstdc++ cannot be found (I believe this is due to a problem in the old Sage I have on t2). I cannot apply my patch against this old version of Sage either.",
    "created_at": "2010-07-21T10:50:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82938",
    "user": "https://github.com/malb"
}
```

<div id="comment:4" align="right">comment:4</div>

The package compiles on t2. sage-check fails because libstdc++ cannot be found (I believe this is due to a problem in the old Sage I have on t2). I cannot apply my patch against this old version of Sage either.



---

archive/issue_comments_082939.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThis builds a static library only on Cygwin, but segfaults on both of the tests.",
    "created_at": "2010-07-21T12:24:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82939",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:5" align="right">comment:5</div>

This builds a static library only on Cygwin, but segfaults on both of the tests.



---

archive/issue_comments_082940.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nMike, is there a Sage I can copy on winxp1?",
    "created_at": "2010-07-21T12:43:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82940",
    "user": "https://github.com/malb"
}
```

<div id="comment:6" align="right">comment:6</div>

Mike, is there a Sage I can copy on winxp1?



---

archive/issue_comments_082941.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\n\n```\nsage -t  devel/sage/sage/modular/modsym/space.py # 1 doctests failed\nsage -t  devel/sage/sage/misc/sagedoc.py # 3 doctests failed\nsage -t  devel/sage/sage/crypto/mq/mpolynomialsystem.py # 19 doctests failed\nsage -t  devel/sage/sage/crypto/mq/sr.py # 7 doctests failed\nsage -t  devel/sage/sage/modular/modsym/modsym.py # 1 doctests failed\nsage -t  devel/sage/sage/rings/polynomial/pbori.pyx # 2 doctests failed\nsage -t  devel/sage/sage/crypto/block_cipher/miniaes.py # 72 doctests failed\n\n```",
    "created_at": "2010-07-21T13:20:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82941",
    "user": "https://github.com/malb"
}
```

<div id="comment:7" align="right">comment:7</div>


```
sage -t  devel/sage/sage/modular/modsym/space.py # 1 doctests failed
sage -t  devel/sage/sage/misc/sagedoc.py # 3 doctests failed
sage -t  devel/sage/sage/crypto/mq/mpolynomialsystem.py # 19 doctests failed
sage -t  devel/sage/sage/crypto/mq/sr.py # 7 doctests failed
sage -t  devel/sage/sage/modular/modsym/modsym.py # 1 doctests failed
sage -t  devel/sage/sage/rings/polynomial/pbori.pyx # 2 doctests failed
sage -t  devel/sage/sage/crypto/block_cipher/miniaes.py # 72 doctests failed

```



---

archive/issue_comments_082942.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@malb](#comment:4):\n> The package compiles on t2. sage-check fails because libstdc++ cannot be found (I believe this is due to a problem in the old Sage I have on t2). I cannot apply my patch against this old version of Sage either.\n\nThere's a Sage 4.5.1 package in /usr/local.",
    "created_at": "2010-07-21T14:40:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82942",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@malb](#comment:4):
> The package compiles on t2. sage-check fails because libstdc++ cannot be found (I believe this is due to a problem in the old Sage I have on t2). I cannot apply my patch against this old version of Sage either.

There's a Sage 4.5.1 package in /usr/local.



---

archive/issue_comments_082943.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nAfter unpacking that I get\n\n```\n     21 from numpy.lib import triu\n---> 22 from numpy.linalg import lapack_lite\n     23 from numpy.core.defmatrix import matrix_power\n     24 \n\nImportError: ld.so.1: python: fatal: libgfortran.so.3: open failed: No such file or directory\nError importing ipy_profile_sage - perhaps you should run %upgrade?\nWARNING: Loading of ipy_profile_sage failed.\n\n```\nAny ideas?",
    "created_at": "2010-07-21T15:33:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82943",
    "user": "https://github.com/malb"
}
```

<div id="comment:9" align="right">comment:9</div>

After unpacking that I get

```
     21 from numpy.lib import triu
---> 22 from numpy.linalg import lapack_lite
     23 from numpy.core.defmatrix import matrix_power
     24 

ImportError: ld.so.1: python: fatal: libgfortran.so.3: open failed: No such file or directory
Error importing ipy_profile_sage - perhaps you should run %upgrade?
WARNING: Loading of ipy_profile_sage failed.

```
Any ideas?



---

archive/issue_events_122004.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-07-21T20:49:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122004"
}
```



---

archive/issue_comments_082944.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThe updated patch fixes all doctest failures.\u00a0\n\nPS: CCing Minh since I'm touching his code in a potentially non-trivial way/",
    "created_at": "2010-07-21T20:49:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82944",
    "user": "https://github.com/malb"
}
```

<div id="comment:10" align="right">comment:10</div>

The updated patch fixes all doctest failures. 

PS: CCing Minh since I'm touching his code in a potentially non-trivial way/



---

archive/issue_comments_082945.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nIt's not passing the tests properly on 64-bit OpenSolaris, and I doubt anywhere where SAGE64 needs to be set to yes. The -m64 flag is not getting passed when running the tests, so whilst it builds a 64-bit library, it looks like it tries to create 32-bit objects and link to that 64-bit library. \n\nI have not investigated this in any detail, but they were my initial observations. I would try building on 't2' with SAGE64 set to yes. Not all of Sage will build 64-bit without some hacks, but it should be fairly easy to get enough of Sage built to build this library. \n\n```\nSuccessfully installed libm4ri-20100730\nRunning the test suite.\nTesting the M4RI library\nmake -j12  test_elimination test_multiplication\nmake[1]: Entering directory `/export/home/drkirkby/sage-4.5/spkg/build/libm4ri-20100730/m4rie'\nmake[1]: warning: -jN forced in submake: disabling jobserver mode.\ng++ -DHAVE_CONFIG_H -I. -I./src   -I/export/home/drkirkby/sage-4.5/local/include -m64  -g -O2 -MT test_elimination.o -MD -MP -MF .deps/test_elimination.Tpo -c -o test_elimination.o `test -f 'tests/test_elimination.cc' || echo './'`tests/test_elimination.cc\ng++ -DHAVE_CONFIG_H -I. -I./src   -I/export/home/drkirkby/sage-4.5/local/include -m64  -g -O2 -MT test_multiplication.o -MD -MP -MF .deps/test_multiplication.Tpo -c -o test_multiplication.o `test -f 'tests/test_multiplication.cc' || echo './'`tests/test_multiplication.cc\nmv -f .deps/test_elimination.Tpo .deps/test_elimination.Po\n/bin/sh ./libtool --tag=CXX   --mode=link g++  -g -O2 -lm4rie -lm4ri -lgivaro -lntl -lgmpxx -lgmp -lm -lstdc++  -o test_elimination test_elimination.o  \nmv -f .deps/test_multiplication.Tpo .deps/test_multiplication.Po\n/bin/sh ./libtool --tag=CXX   --mode=link g++  -g -O2 -lm4rie -lm4ri -lgivaro -lntl -lgmpxx -lgmp -lm -lstdc++  -o test_multiplication test_multiplication.o  \nlibtool: link: g++ -g -O2 -o .libs/test_elimination test_elimination.o  /export/home/drkirkby/sage-4.5/spkg/build/libm4ri-20100730/m4rie/.libs/libm4rie.so -L/export/home/drkirkby/sage-4.5/local/lib /export/home/drkirkby/sage-4.5/local/lib/libm4ri.so /export/home/drkirkby/sage-4.5/local/lib/libgivaro.so -L/export/home/drkirkby/sage-4.5/local//lib -lntl /export/home/drkirkby/sage-4.5/local/lib/libgmpxx.so /export/home/drkirkby/sage-4.5/local/lib/libgmp.so /usr/local/gcc-4.4.4-multilib/lib/amd64/libstdc++.so -lm -Wl,-R -Wl,/export/home/drkirkby/sage-4.5/local/lib -Wl,-R -Wl,/usr/local/gcc-4.4.4-multilib/lib/amd64\nlibtool: link: g++ -g -O2 -o .libs/test_multiplication test_multiplication.o  /export/home/drkirkby/sage-4.5/spkg/build/libm4ri-20100730/m4rie/.libs/libm4rie.so -L/export/home/drkirkby/sage-4.5/local/lib /export/home/drkirkby/sage-4.5/local/lib/libm4ri.so /export/home/drkirkby/sage-4.5/local/lib/libgivaro.so -L/export/home/drkirkby/sage-4.5/local//lib -lntl /export/home/drkirkby/sage-4.5/local/lib/libgmpxx.so /export/home/drkirkby/sage-4.5/local/lib/libgmp.so /usr/local/gcc-4.4.4-multilib/lib/amd64/libstdc++.so -lm -Wl,-R -Wl,/export/home/drkirkby/sage-4.5/local/lib -Wl,-R -Wl,/usr/local/gcc-4.4.4-multilib/lib/amd64\nldld::  fatal: filefatal :test_multiplication.o :file  wrong test_elimination.o: wrong ELF class:ELF ELFCLASS64\nld: fatal:  file processing errors.class No:  output ELFCLASS64written \nto .libs/test_multiplication\nld: fatal: file processing errors. No output written to .libs/test_elimination\ncollect2: ld returned 1 exit status\ncollect2: ld returned 1 exit status\nmake[1]: *** [test_multiplication] Error 1\nmake[1]: *** Waiting for unfinished jobs....\nmake[1]: *** [test_elimination] Error 1\nmake[1]: Leaving directory `/export/home/drkirkby/sage-4.5/spkg/build/libm4ri-20100730/m4rie'\nmake: *** [check-am] Error 2\nError testing M4RI\n*************************************\nError testing package ** libm4ri-20100730 **\n*************************************\nsage: An error occurred while testing libm4ri-20100730\n```",
    "created_at": "2010-07-21T23:09:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82945",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:11" align="right">comment:11</div>

It's not passing the tests properly on 64-bit OpenSolaris, and I doubt anywhere where SAGE64 needs to be set to yes. The -m64 flag is not getting passed when running the tests, so whilst it builds a 64-bit library, it looks like it tries to create 32-bit objects and link to that 64-bit library. 

I have not investigated this in any detail, but they were my initial observations. I would try building on 't2' with SAGE64 set to yes. Not all of Sage will build 64-bit without some hacks, but it should be fairly easy to get enough of Sage built to build this library. 

```
Successfully installed libm4ri-20100730
Running the test suite.
Testing the M4RI library
make -j12  test_elimination test_multiplication
make[1]: Entering directory `/export/home/drkirkby/sage-4.5/spkg/build/libm4ri-20100730/m4rie'
make[1]: warning: -jN forced in submake: disabling jobserver mode.
g++ -DHAVE_CONFIG_H -I. -I./src   -I/export/home/drkirkby/sage-4.5/local/include -m64  -g -O2 -MT test_elimination.o -MD -MP -MF .deps/test_elimination.Tpo -c -o test_elimination.o `test -f 'tests/test_elimination.cc' || echo './'`tests/test_elimination.cc
g++ -DHAVE_CONFIG_H -I. -I./src   -I/export/home/drkirkby/sage-4.5/local/include -m64  -g -O2 -MT test_multiplication.o -MD -MP -MF .deps/test_multiplication.Tpo -c -o test_multiplication.o `test -f 'tests/test_multiplication.cc' || echo './'`tests/test_multiplication.cc
mv -f .deps/test_elimination.Tpo .deps/test_elimination.Po
/bin/sh ./libtool --tag=CXX   --mode=link g++  -g -O2 -lm4rie -lm4ri -lgivaro -lntl -lgmpxx -lgmp -lm -lstdc++  -o test_elimination test_elimination.o  
mv -f .deps/test_multiplication.Tpo .deps/test_multiplication.Po
/bin/sh ./libtool --tag=CXX   --mode=link g++  -g -O2 -lm4rie -lm4ri -lgivaro -lntl -lgmpxx -lgmp -lm -lstdc++  -o test_multiplication test_multiplication.o  
libtool: link: g++ -g -O2 -o .libs/test_elimination test_elimination.o  /export/home/drkirkby/sage-4.5/spkg/build/libm4ri-20100730/m4rie/.libs/libm4rie.so -L/export/home/drkirkby/sage-4.5/local/lib /export/home/drkirkby/sage-4.5/local/lib/libm4ri.so /export/home/drkirkby/sage-4.5/local/lib/libgivaro.so -L/export/home/drkirkby/sage-4.5/local//lib -lntl /export/home/drkirkby/sage-4.5/local/lib/libgmpxx.so /export/home/drkirkby/sage-4.5/local/lib/libgmp.so /usr/local/gcc-4.4.4-multilib/lib/amd64/libstdc++.so -lm -Wl,-R -Wl,/export/home/drkirkby/sage-4.5/local/lib -Wl,-R -Wl,/usr/local/gcc-4.4.4-multilib/lib/amd64
libtool: link: g++ -g -O2 -o .libs/test_multiplication test_multiplication.o  /export/home/drkirkby/sage-4.5/spkg/build/libm4ri-20100730/m4rie/.libs/libm4rie.so -L/export/home/drkirkby/sage-4.5/local/lib /export/home/drkirkby/sage-4.5/local/lib/libm4ri.so /export/home/drkirkby/sage-4.5/local/lib/libgivaro.so -L/export/home/drkirkby/sage-4.5/local//lib -lntl /export/home/drkirkby/sage-4.5/local/lib/libgmpxx.so /export/home/drkirkby/sage-4.5/local/lib/libgmp.so /usr/local/gcc-4.4.4-multilib/lib/amd64/libstdc++.so -lm -Wl,-R -Wl,/export/home/drkirkby/sage-4.5/local/lib -Wl,-R -Wl,/usr/local/gcc-4.4.4-multilib/lib/amd64
ldld::  fatal: filefatal :test_multiplication.o :file  wrong test_elimination.o: wrong ELF class:ELF ELFCLASS64
ld: fatal:  file processing errors.class No:  output ELFCLASS64written 
to .libs/test_multiplication
ld: fatal: file processing errors. No output written to .libs/test_elimination
collect2: ld returned 1 exit status
collect2: ld returned 1 exit status
make[1]: *** [test_multiplication] Error 1
make[1]: *** Waiting for unfinished jobs....
make[1]: *** [test_elimination] Error 1
make[1]: Leaving directory `/export/home/drkirkby/sage-4.5/spkg/build/libm4ri-20100730/m4rie'
make: *** [check-am] Error 2
Error testing M4RI
*************************************
Error testing package ** libm4ri-20100730 **
*************************************
sage: An error occurred while testing libm4ri-20100730
```



---

archive/issue_comments_082946.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI updated the SPKG linked above\n\n* Building shared libraries on Cygwin now\n* Fixed the crashes in spkg-check in Cygwin (this was actually a real bug)\n* Fixed flags for SAGE64",
    "created_at": "2010-07-21T23:39:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82946",
    "user": "https://github.com/malb"
}
```

<div id="comment:12" align="right">comment:12</div>

I updated the SPKG linked above

* Building shared libraries on Cygwin now
* Fixed the crashes in spkg-check in Cygwin (this was actually a real bug)
* Fixed flags for SAGE64



---

archive/issue_events_122005.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-07-21T23:39:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122005"
}
```



---

archive/issue_events_122006.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-07-21T23:39:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122006"
}
```



---

archive/issue_comments_082947.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nEverything works on my Cygwin install.",
    "created_at": "2010-07-22T00:08:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82947",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:13" align="right">comment:13</div>

Everything works on my Cygwin install.



---

archive/issue_comments_082948.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nIt passed all self-tests on 64-bit OpenSolaris (x64) and 64-bit Solaris 10 (SPARC). Since neither platform has a stable version of Sage yet, running the doctests is pointless. \n\nA few questions:\n\n* Has there been an agreement to add this library? If so, can you provide a link to it. \n* Why is it not in another package, rather than added to the libm4ri package? \n* Do the self tests pass on Linux? \n* Do the doctests pass on Linux? \n* Do the self-tests pass on 32-bit SPARC?  (Note my point above about there being a 4.5.1 in /usr/local on t2)\n* Do the doc tests pass on 32-bit SPARC? \n* Do the self-tests pass on OS X? \n* Do the doctests pass on OS X?",
    "created_at": "2010-07-22T00:33:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82948",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:14" align="right">comment:14</div>

It passed all self-tests on 64-bit OpenSolaris (x64) and 64-bit Solaris 10 (SPARC). Since neither platform has a stable version of Sage yet, running the doctests is pointless. 

A few questions:

* Has there been an agreement to add this library? If so, can you provide a link to it. 
* Why is it not in another package, rather than added to the libm4ri package? 
* Do the self tests pass on Linux? 
* Do the doctests pass on Linux? 
* Do the self-tests pass on 32-bit SPARC?  (Note my point above about there being a 4.5.1 in /usr/local on t2)
* Do the doc tests pass on 32-bit SPARC? 
* Do the self-tests pass on OS X? 
* Do the doctests pass on OS X?



---

archive/issue_comments_082949.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@sagetrac-drkirkby](#comment:14):\n\n> A few questions:\n> * Has there been an agreement to add this library? If so, can you provide a link to it.\u00a0\n\nNo decision on [sage-devel] has happened yet. However, the Sage developers here at Sage Days 24 seem to be in favour of adding it.\n\n> * Why is it not in another package, rather than added to the libm4ri package?\u00a0\n\nIt makes maintaining the thing easier for all sides: I'm the maintainer of both libraries for both upstream and the SPKGs. It isn't even decided yet whether the two libraries might get merged in the future. Finally, William asked me to not add a new SPKG but to add the M4RIe extension to the M4RI package.\n\n> * Do the self tests pass on Linux?\u00a0\n\nYes.\n\n> * Do the doctests pass on Linux?\u00a0\n\nYes.\n\n> * Do the self-tests pass on 32-bit SPARC?  (Note my point above about there being a 4.5.1 in /usr/local on t2)\n\nNote my point above about not being able to use it.\n\n> * Do the doc tests pass on 32-bit SPARC?\u00a0\n\nNo clue.\n\n> * Do the self-tests pass on OS X?\u00a0\n\nYes.\n\n> * Do the doctests pass on OS X?\u00a0\n\nYes.",
    "created_at": "2010-07-22T01:16:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82949",
    "user": "https://github.com/malb"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@sagetrac-drkirkby](#comment:14):

> A few questions:
> * Has there been an agreement to add this library? If so, can you provide a link to it. 

No decision on [sage-devel] has happened yet. However, the Sage developers here at Sage Days 24 seem to be in favour of adding it.

> * Why is it not in another package, rather than added to the libm4ri package? 

It makes maintaining the thing easier for all sides: I'm the maintainer of both libraries for both upstream and the SPKGs. It isn't even decided yet whether the two libraries might get merged in the future. Finally, William asked me to not add a new SPKG but to add the M4RIe extension to the M4RI package.

> * Do the self tests pass on Linux? 

Yes.

> * Do the doctests pass on Linux? 

Yes.

> * Do the self-tests pass on 32-bit SPARC?  (Note my point above about there being a 4.5.1 in /usr/local on t2)

Note my point above about not being able to use it.

> * Do the doc tests pass on 32-bit SPARC? 

No clue.

> * Do the self-tests pass on OS X? 

Yes.

> * Do the doctests pass on OS X? 

Yes.



---

archive/issue_comments_082950.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@malb](#comment:15):\n> Replying to [@sagetrac-drkirkby](#comment:14):\n> \n> > A few questions:\n> > * Has there been an agreement to add this library? If so, can you provide a link to it.\u00a0\n\n> \n> No decision on [sage-devel] has happened yet. However, the Sage developers here at Sage Days 24 seem to be in favour of adding it.\n\nIf the packages does get positive review, there should be a note to the release manager(s) not to merge it until there has been an agreement. Though in this case, it looks like getting a vote seems a formality. \n \n> > * Why is it not in another package, rather than added to the libm4ri package?\u00a0\n\n> \n> It makes maintaining the thing easier for all sides: I'm the maintainer of both libraries for both upstream and the SPKGs. It isn't even decided yet whether the two libraries might get merged in the future. Finally, William asked me to not add a new SPKG but to add the M4RIe extension to the M4RI package.\n\nOne obvious disadvantage of that approach is that since one library relies on the other, the first could be built in parallel with some other packages. That could potentially slow parallel builds. \n \n> > * Do the self tests pass on Linux?\u00a0\n\n> \n> Yes.\n> \n> > * Do the doctests pass on Linux?\u00a0\n\n> \n> Yes.\n> \n> > * Do the self-tests pass on 32-bit SPARC?  (Note my point above about there being a 4.5.1 in /usr/local on t2)\n\n> \n> Note my point above about not being able to use it.\n\nYour point above says that's probably because you have an old version. \n\nBut I said above, there is the latest version on there - (`/usr/local/sage-4.5.1-Solaris_10_SPARC-sun4u-SunOS.tar.gz` is a pre-built copy of the latest version of Sage on 't2').  If that does not work, let me know - I'd be very surprised if it does not. Otherwise, you could just build Sage from source. \n\n> > * Do the doc tests pass on 32-bit SPARC?\u00a0\n\n> \n> No clue.\n\nSee point above. \n\nDave",
    "created_at": "2010-07-22T07:00:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82950",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@malb](#comment:15):
> Replying to [@sagetrac-drkirkby](#comment:14):
> 
> > A few questions:
> > * Has there been an agreement to add this library? If so, can you provide a link to it. 

> 
> No decision on [sage-devel] has happened yet. However, the Sage developers here at Sage Days 24 seem to be in favour of adding it.

If the packages does get positive review, there should be a note to the release manager(s) not to merge it until there has been an agreement. Though in this case, it looks like getting a vote seems a formality. 
 
> > * Why is it not in another package, rather than added to the libm4ri package? 

> 
> It makes maintaining the thing easier for all sides: I'm the maintainer of both libraries for both upstream and the SPKGs. It isn't even decided yet whether the two libraries might get merged in the future. Finally, William asked me to not add a new SPKG but to add the M4RIe extension to the M4RI package.

One obvious disadvantage of that approach is that since one library relies on the other, the first could be built in parallel with some other packages. That could potentially slow parallel builds. 
 
> > * Do the self tests pass on Linux? 

> 
> Yes.
> 
> > * Do the doctests pass on Linux? 

> 
> Yes.
> 
> > * Do the self-tests pass on 32-bit SPARC?  (Note my point above about there being a 4.5.1 in /usr/local on t2)

> 
> Note my point above about not being able to use it.

Your point above says that's probably because you have an old version. 

But I said above, there is the latest version on there - (`/usr/local/sage-4.5.1-Solaris_10_SPARC-sun4u-SunOS.tar.gz` is a pre-built copy of the latest version of Sage on 't2').  If that does not work, let me know - I'd be very surprised if it does not. Otherwise, you could just build Sage from source. 

> > * Do the doc tests pass on 32-bit SPARC? 

> 
> No clue.

See point above. 

Dave



---

archive/issue_comments_082951.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nDave, the testuite fails:\n\n```\n/bin/bash ./libtool --tag=CXX   --mode=link g++  -g -O2 -lm4rie -lm4ri -lgivaro -lntl -lgmpxx -lgmp -lm -lstdc++  -o test_elimination test_elimination.o  \nlibtool: link: warning: library `/home/malb/t2/sage-4.5.1-Solaris_10_SPARC-sun4u-SunOS/local/lib/libstdc++.la' was moved.\nlibtool: link: cannot find the library `/usr/local/gcc-4.4.3/lib/libstdc++.la' or unhandled argument `/usr/local/gcc-4.4.3/lib/libstdc++.la'\nmake[1]: *** [test_elimination] Error 1\nmake[1]: Leaving directory `/home/malb/t2/sage-4.5.1-Solaris_10_SPARC-sun4u-SunOS/spkg/build/libm4ri-20100730/m4rie'\n\n```\nAny idea why it wouldn't find libstdc++ on t2?",
    "created_at": "2010-07-22T17:09:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82951",
    "user": "https://github.com/malb"
}
```

<div id="comment:17" align="right">comment:17</div>

Dave, the testuite fails:

```
/bin/bash ./libtool --tag=CXX   --mode=link g++  -g -O2 -lm4rie -lm4ri -lgivaro -lntl -lgmpxx -lgmp -lm -lstdc++  -o test_elimination test_elimination.o  
libtool: link: warning: library `/home/malb/t2/sage-4.5.1-Solaris_10_SPARC-sun4u-SunOS/local/lib/libstdc++.la' was moved.
libtool: link: cannot find the library `/usr/local/gcc-4.4.3/lib/libstdc++.la' or unhandled argument `/usr/local/gcc-4.4.3/lib/libstdc++.la'
make[1]: *** [test_elimination] Error 1
make[1]: Leaving directory `/home/malb/t2/sage-4.5.1-Solaris_10_SPARC-sun4u-SunOS/spkg/build/libm4ri-20100730/m4rie'

```
Any idea why it wouldn't find libstdc++ on t2?



---

archive/issue_events_122007.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-07-22T17:38:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122007"
}
```



---

archive/issue_events_122008.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-07-22T17:38:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122008"
}
```



---

archive/issue_comments_082952.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nThese lines:\n\n```\nlibtool: link: warning: library `/home/malb/t2/sage-4.5.1-Solaris_10_SPARC-sun4u-SunOS/local/lib/libstdc++.la' was moved.\nlibtool: link: cannot find the library `/usr/local/gcc-4.4.3/lib/libstdc++.la' or unhandled argument `/usr/local/gcc-4.4.3/lib/libstdc++.la'\n\n```\nmake me think it's the Sage binary that is broken? \u00a0Why is there be a libstdc++ in the Sage tarball ?",
    "created_at": "2010-07-22T21:50:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82952",
    "user": "https://github.com/malb"
}
```

<div id="comment:19" align="right">comment:19</div>

These lines:

```
libtool: link: warning: library `/home/malb/t2/sage-4.5.1-Solaris_10_SPARC-sun4u-SunOS/local/lib/libstdc++.la' was moved.
libtool: link: cannot find the library `/usr/local/gcc-4.4.3/lib/libstdc++.la' or unhandled argument `/usr/local/gcc-4.4.3/lib/libstdc++.la'

```
make me think it's the Sage binary that is broken?  Why is there be a libstdc++ in the Sage tarball ?



---

archive/issue_comments_082953.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@malb](#comment:19):\n> These lines:\n> \n> ```\n> libtool: link: warning: library `/home/malb/t2/sage-4.5.1-Solaris_10_SPARC-sun4u-SunOS/local/lib/libstdc++.la' was moved.\n> libtool: link: cannot find the library `/usr/local/gcc-4.4.3/lib/libstdc++.la' or unhandled argument `/usr/local/gcc-4.4.3/lib/libstdc++.la'\n> \n> ```\n> make me think it's the Sage binary that is broken? \u00a0Why is there be a libstdc++ in the Sage tarball ?\n\nThe reason it is there is that the version of gcc shipped with Solaris is 3.4.3, so there are no recent gcc libraries. The compiler is not built with Fortran support, so there is no libgfortran at all. One needs recent run-time libraries, with fortran support, so I added them to the Sage binary. \n\nIt may be that deleting (making a copy first) of those .la files will solve the problem. Otherwise, editing them to point at the location of the libraries in $SAGE_LOCAL/lib will almost certainly solve it. \n\nIf that does not work, just build Sage from source. It does not take too long if you build packages in parallel. \n\nDave",
    "created_at": "2010-07-22T22:30:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82953",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@malb](#comment:19):
> These lines:
> 
> ```
> libtool: link: warning: library `/home/malb/t2/sage-4.5.1-Solaris_10_SPARC-sun4u-SunOS/local/lib/libstdc++.la' was moved.
> libtool: link: cannot find the library `/usr/local/gcc-4.4.3/lib/libstdc++.la' or unhandled argument `/usr/local/gcc-4.4.3/lib/libstdc++.la'
> 
> ```
> make me think it's the Sage binary that is broken?  Why is there be a libstdc++ in the Sage tarball ?

The reason it is there is that the version of gcc shipped with Solaris is 3.4.3, so there are no recent gcc libraries. The compiler is not built with Fortran support, so there is no libgfortran at all. One needs recent run-time libraries, with fortran support, so I added them to the Sage binary. 

It may be that deleting (making a copy first) of those .la files will solve the problem. Otherwise, editing them to point at the location of the libraries in $SAGE_LOCAL/lib will almost certainly solve it. 

If that does not work, just build Sage from source. It does not take too long if you build packages in parallel. 

Dave



---

archive/issue_events_122009.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-08-10T13:50:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122009"
}
```



---

archive/issue_events_122010.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-08-10T13:50:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122010"
}
```



---

archive/issue_comments_082954.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\n\n```\nmalb@t2:~/t2/sage-4.5.1$ ./sage -t devel/sage/sage/matrix/matrix_mod2_dense.pyx \n\nsage -t  \"devel/sage/sage/matrix/matrix_mod2_dense.pyx\"     \n\n         [92.7 s]\n\n ----------------------------------------------------------------------\n\nAll tests passed!\n\nTotal time for all tests: 92.8 seconds\n\nmalb@t2:~/t2/sage-4.5.1$ ./sage -t devel/sage/sage/matrix/matrix_mod2e_dense.pyx \n\nsage -t  \"devel/sage/sage/matrix/matrix_mod2e_dense.pyx\"    \n\n         [50.0 s]\n\n----------------------------------------------------------------------\n\nAll tests passed!\n\nTotal time for all tests: 50.0 seconds\n\n\n```\nAfter finally building Sage t2 I can confirm that doctests pass there too",
    "created_at": "2010-08-10T13:50:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82954",
    "user": "https://github.com/malb"
}
```

<div id="comment:21" align="right">comment:21</div>


```
malb@t2:~/t2/sage-4.5.1$ ./sage -t devel/sage/sage/matrix/matrix_mod2_dense.pyx 

sage -t  "devel/sage/sage/matrix/matrix_mod2_dense.pyx"     

         [92.7 s]

 ----------------------------------------------------------------------

All tests passed!

Total time for all tests: 92.8 seconds

malb@t2:~/t2/sage-4.5.1$ ./sage -t devel/sage/sage/matrix/matrix_mod2e_dense.pyx 

sage -t  "devel/sage/sage/matrix/matrix_mod2e_dense.pyx"    

         [50.0 s]

----------------------------------------------------------------------

All tests passed!

Total time for all tests: 50.0 seconds


```
After finally building Sage t2 I can confirm that doctests pass there too



---

archive/issue_events_122011.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-08-10T14:46:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122011"
}
```



---

archive/issue_events_122012.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-08-10T14:46:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122012"
}
```



---

archive/issue_comments_082955.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nIt appears to be trying to use autoconf, but autoconf is not a perquisite for Sage. Are you sure the timestamps on all the files are right? \n\n```\nchecking for x86 cpuid 0x0 output... unknown\nchecking for the processor vendor... Unknown\nchecking the L1 cache size... 0 Bytes\nchecking the L2 cache size... 0 Bytes\nchecking whether make -j30 sets $(MAKE)... (cached) yes\nconfigure: creating ./config.status\nconfig.status: creating Makefile\nconfig.status: creating src/config.h\nconfig.status: executing depfiles commands\nconfig.status: executing libtool commands\n(CDPATH=\"${ZSH_VERSION+.}:\" && cd . && /bin/bash /rootpool2/local/kirkby/t2/64/s\nage-4.5.3.alpha0/spkg/build/libm4ri-20100730/m4ri/missing --run autoheader)\naclocal.m4:16: warning: this file was generated for autoconf 2.65.\nYou have another version of autoconf.  It may work, but is not guaranteed to.\nIf you have problems, you may need to regenerate the build system entirely.\nTo do so, use the procedure documented by the package, typically `autoreconf'.\nrm -f src/stamp-h1\ntouch src/config.h.in\ncd . && /bin/bash ./config.status src/config.h\nconfig.status: creating src/config.h\nconfig.status: src/config.h is unchanged\n```",
    "created_at": "2010-08-10T14:46:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82955",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:22" align="right">comment:22</div>

It appears to be trying to use autoconf, but autoconf is not a perquisite for Sage. Are you sure the timestamps on all the files are right? 

```
checking for x86 cpuid 0x0 output... unknown
checking for the processor vendor... Unknown
checking the L1 cache size... 0 Bytes
checking the L2 cache size... 0 Bytes
checking whether make -j30 sets $(MAKE)... (cached) yes
configure: creating ./config.status
config.status: creating Makefile
config.status: creating src/config.h
config.status: executing depfiles commands
config.status: executing libtool commands
(CDPATH="${ZSH_VERSION+.}:" && cd . && /bin/bash /rootpool2/local/kirkby/t2/64/s
age-4.5.3.alpha0/spkg/build/libm4ri-20100730/m4ri/missing --run autoheader)
aclocal.m4:16: warning: this file was generated for autoconf 2.65.
You have another version of autoconf.  It may work, but is not guaranteed to.
If you have problems, you may need to regenerate the build system entirely.
To do so, use the procedure documented by the package, typically `autoreconf'.
rm -f src/stamp-h1
touch src/config.h.in
cd . && /bin/bash ./config.status src/config.h
config.status: creating src/config.h
config.status: src/config.h is unchanged
```



---

archive/issue_comments_082956.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nI replaced the SPKG with a version where I touched both configure scripts again (I thought I did that before, but apparently I didn't). I tested it on t2 and it doesn't attempt to call autoconf.",
    "created_at": "2010-08-10T15:17:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82956",
    "user": "https://github.com/malb"
}
```

<div id="comment:23" align="right">comment:23</div>

I replaced the SPKG with a version where I touched both configure scripts again (I thought I did that before, but apparently I didn't). I tested it on t2 and it doesn't attempt to call autoconf.



---

archive/issue_events_122013.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-08-14T19:29:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122013"
}
```



---

archive/issue_events_122014.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-08-14T19:29:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122014"
}
```



---

archive/issue_comments_082957.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nSince there doesn't seem to be any movement on this ticket, I took the liberty to update the patch and to prepare a new SPKG:\n\nhttp://sage.math.washington.edu/home/malb/spkgs/libm4ri-20100817.spkg\n\nJust as before this ticket depends on #9717 which was merged in 4.5.3.alpha1.\n\nI successfully built and doctested the SPKG + the patch on:\n\n* **sage.math**: 64-bit Linux, Intel CPU, pass\n* **redhawk**: 64-bit Linux, AMD CPU, pass\n* **bsd:** OS X, pass\n* **t2**: Solaris, pass (I failed to build R thus those doctests failed)\n\nI also took a sage-4.5.3.alpha1.tar, replaced the M4RI SPKG and applied the patch. Then I built Sage from scratch on sage.math and ran make ptestlong. All doctests passed.\n\nPS: This new SPKG runs some tests to detect the L1 and L2 cache sizes, thus it compiles a little bit longer than older SPKGs for M4RI. The gained performance is well worth the wait on e.g. modern Intel CPUs where it is better to detect how much memory is fast for random access than to rely on the actual L2 cache size.",
    "created_at": "2010-08-18T18:27:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82957",
    "user": "https://github.com/malb"
}
```

<div id="comment:25" align="right">comment:25</div>

Since there doesn't seem to be any movement on this ticket, I took the liberty to update the patch and to prepare a new SPKG:

http://sage.math.washington.edu/home/malb/spkgs/libm4ri-20100817.spkg

Just as before this ticket depends on #9717 which was merged in 4.5.3.alpha1.

I successfully built and doctested the SPKG + the patch on:

* **sage.math**: 64-bit Linux, Intel CPU, pass
* **redhawk**: 64-bit Linux, AMD CPU, pass
* **bsd:** OS X, pass
* **t2**: Solaris, pass (I failed to build R thus those doctests failed)

I also took a sage-4.5.3.alpha1.tar, replaced the M4RI SPKG and applied the patch. Then I built Sage from scratch on sage.math and ran make ptestlong. All doctests passed.

PS: This new SPKG runs some tests to detect the L1 and L2 cache sizes, thus it compiles a little bit longer than older SPKGs for M4RI. The gained performance is well worth the wait on e.g. modern Intel CPUs where it is better to detect how much memory is fast for random access than to rely on the actual L2 cache size.



---

archive/issue_comments_082958.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nDo you want to ignore `m4ri` and `m4rie`? Also the `dist/` directory can now be removed as per ticket #5903.",
    "created_at": "2010-10-18T09:11:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82958",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<div id="comment:26" align="right">comment:26</div>

Do you want to ignore `m4ri` and `m4rie`? Also the `dist/` directory can now be removed as per ticket #5903.



---

archive/issue_comments_082959.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@sagetrac-mvngu](#comment:26):\n> Do you want to ignore `m4ri` and `m4rie`?\n\nWhat I mean is this:\n\n```\n[mvngu@sage libm4ri-20100817]$ hg st\n? m4ri/.hgtags\n? m4ri/AUTHORS\n? m4ri/COPYING\n? m4ri/ChangeLog\n? m4ri/INSTALL\n? m4ri/Makefile.am\n? m4ri/Makefile.in\n? m4ri/NEWS\n? m4ri/README\n? m4ri/aclocal.m4\n? m4ri/config.guess\n? m4ri/config.sub\n? m4ri/configure\n? m4ri/configure.ac\n? m4ri/depcomp\n? m4ri/install-sh\n? m4ri/ltmain.sh\n? m4ri/m4/ax_cache_size.m4\n? m4ri/m4/ax_cache_size_tune.m4\n? m4ri/m4/ax_check_compiler_flags.m4\n? m4ri/m4/ax_cpu_vendor.m4\n? m4ri/m4/ax_ext.m4\n? m4ri/m4/ax_gcc_x86_cpuid.m4\n? m4ri/m4/ax_openmp.m4\n? m4ri/m4/libtool.m4\n? m4ri/m4/ltoptions.m4\n? m4ri/m4/ltsugar.m4\n? m4ri/m4/ltversion.m4\n? m4ri/m4/lt~obsolete.m4\n? m4ri/m4ri\n? m4ri/m4ri.sln\n? m4ri/m4ri.vcproj\n? m4ri/missing\n? m4ri/testsuite/.directory\n? m4ri/testsuite/Makefile\n? m4ri/testsuite/bench_elimination.c\n? m4ri/testsuite/bench_multiplication.c\n? m4ri/testsuite/bench_pluq.c\n? m4ri/testsuite/bench_trsm_lowerleft.c\n? m4ri/testsuite/bench_trsm_lowerright.c\n? m4ri/testsuite/bench_trsm_upperleft.c\n? m4ri/testsuite/bench_trsm_upperright.c\n? m4ri/testsuite/cpucycles-20060326/alpha.c\n? m4ri/testsuite/cpucycles-20060326/alpha.h\n? m4ri/testsuite/cpucycles-20060326/amd64cpuinfo.c\n? m4ri/testsuite/cpucycles-20060326/amd64cpuinfo.h\n? m4ri/testsuite/cpucycles-20060326/amd64tscfreq.c\n? m4ri/testsuite/cpucycles-20060326/amd64tscfreq.h\n? m4ri/testsuite/cpucycles-20060326/clockmonotonic.c\n? m4ri/testsuite/cpucycles-20060326/clockmonotonic.h\n? m4ri/testsuite/cpucycles-20060326/compile\n? m4ri/testsuite/cpucycles-20060326/cpucycles.html\n? m4ri/testsuite/cpucycles-20060326/do\n? m4ri/testsuite/cpucycles-20060326/do.notes\n? m4ri/testsuite/cpucycles-20060326/gettimeofday.c\n? m4ri/testsuite/cpucycles-20060326/gettimeofday.h\n? m4ri/testsuite/cpucycles-20060326/hppapstat.c\n? m4ri/testsuite/cpucycles-20060326/hppapstat.h\n? m4ri/testsuite/cpucycles-20060326/powerpcaix.c\n? m4ri/testsuite/cpucycles-20060326/powerpcaix.h\n? m4ri/testsuite/cpucycles-20060326/powerpclinux.c\n? m4ri/testsuite/cpucycles-20060326/powerpclinux.h\n? m4ri/testsuite/cpucycles-20060326/powerpcmacos.c\n? m4ri/testsuite/cpucycles-20060326/powerpcmacos.h\n? m4ri/testsuite/cpucycles-20060326/sparc32psrinfo.c\n? m4ri/testsuite/cpucycles-20060326/sparc32psrinfo.h\n? m4ri/testsuite/cpucycles-20060326/sparcpsrinfo.c\n? m4ri/testsuite/cpucycles-20060326/sparcpsrinfo.h\n? m4ri/testsuite/cpucycles-20060326/test.c\n? m4ri/testsuite/cpucycles-20060326/x86cpuinfo.c\n? m4ri/testsuite/cpucycles-20060326/x86cpuinfo.h\n? m4ri/testsuite/cpucycles-20060326/x86tscfreq.c\n? m4ri/testsuite/cpucycles-20060326/x86tscfreq.h\n? m4ri/testsuite/test_elimination.c\n? m4ri/testsuite/test_kernel.c\n? m4ri/testsuite/test_multiplication.c\n? m4ri/testsuite/test_pluq.c\n? m4ri/testsuite/test_solve.c\n? m4ri/testsuite/test_trsm.c\n? m4ri/testsuite/walltime.h\n? m4rie/.hgignore\n? m4rie/.hgtags\n? m4rie/AUTHORS\n? m4rie/COPYING\n? m4rie/ChangeLog\n? m4rie/INSTALL\n? m4rie/Makefile.am\n? m4rie/Makefile.in\n? m4rie/NEWS\n? m4rie/README\n? m4rie/aclocal.m4\n? m4rie/bench/Makefile.am\n? m4rie/bench/Makefile.in\n? m4rie/bench/bench_elimination.cc\n? m4rie/bench/bench_multiplication.cc\n? m4rie/bench/cpucycles-20060326/alpha.c\n? m4rie/bench/cpucycles-20060326/alpha.h\n? m4rie/bench/cpucycles-20060326/amd64cpuinfo.c\n? m4rie/bench/cpucycles-20060326/amd64cpuinfo.h\n? m4rie/bench/cpucycles-20060326/amd64tscfreq.c\n? m4rie/bench/cpucycles-20060326/amd64tscfreq.h\n? m4rie/bench/cpucycles-20060326/clockmonotonic.c\n? m4rie/bench/cpucycles-20060326/clockmonotonic.h\n? m4rie/bench/cpucycles-20060326/compile\n? m4rie/bench/cpucycles-20060326/cpucycles.html\n? m4rie/bench/cpucycles-20060326/do\n? m4rie/bench/cpucycles-20060326/do.notes\n? m4rie/bench/cpucycles-20060326/gettimeofday.c\n? m4rie/bench/cpucycles-20060326/gettimeofday.h\n? m4rie/bench/cpucycles-20060326/hppapstat.c\n? m4rie/bench/cpucycles-20060326/hppapstat.h\n? m4rie/bench/cpucycles-20060326/powerpcaix.c\n? m4rie/bench/cpucycles-20060326/powerpcaix.h\n? m4rie/bench/cpucycles-20060326/powerpclinux.c\n? m4rie/bench/cpucycles-20060326/powerpclinux.h\n? m4rie/bench/cpucycles-20060326/powerpcmacos.c\n? m4rie/bench/cpucycles-20060326/powerpcmacos.h\n? m4rie/bench/cpucycles-20060326/sparc32psrinfo.c\n? m4rie/bench/cpucycles-20060326/sparc32psrinfo.h\n? m4rie/bench/cpucycles-20060326/sparcpsrinfo.c\n? m4rie/bench/cpucycles-20060326/sparcpsrinfo.h\n? m4rie/bench/cpucycles-20060326/test.c\n? m4rie/bench/cpucycles-20060326/x86cpuinfo.c\n? m4rie/bench/cpucycles-20060326/x86cpuinfo.h\n? m4rie/bench/cpucycles-20060326/x86tscfreq.c\n? m4rie/bench/cpucycles-20060326/x86tscfreq.h\n? m4rie/bench/walltime.h\n? m4rie/config.guess\n? m4rie/config.sub\n? m4rie/configure\n? m4rie/configure.ac\n? m4rie/depcomp\n? m4rie/gf2e_cxx/finite_field_givaro.h\n? m4rie/install-sh\n? m4rie/ltmain.sh\n? m4rie/m4/ax_cache_size.m4\n? m4rie/m4/ax_cache_size_tune.m4\n? m4rie/m4/ax_check_compiler_flags.m4\n? m4rie/m4/ax_cpu_vendor.m4\n? m4rie/m4/ax_ext.m4\n? m4rie/m4/ax_gcc_x86_cpuid.m4\n? m4rie/m4/ax_openmp.m4\n? m4rie/m4/libtool.m4\n? m4rie/m4/ltoptions.m4\n? m4rie/m4/ltsugar.m4\n? m4rie/m4/ltversion.m4\n? m4rie/m4/lt~obsolete.m4\n? m4rie/missing\n? m4rie/tests/Makefile\n? m4rie/tests/test_elimination.cc\n? m4rie/tests/test_multiplication.cc\n```",
    "created_at": "2010-10-18T09:12:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82959",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@sagetrac-mvngu](#comment:26):
> Do you want to ignore `m4ri` and `m4rie`?

What I mean is this:

```
[mvngu@sage libm4ri-20100817]$ hg st
? m4ri/.hgtags
? m4ri/AUTHORS
? m4ri/COPYING
? m4ri/ChangeLog
? m4ri/INSTALL
? m4ri/Makefile.am
? m4ri/Makefile.in
? m4ri/NEWS
? m4ri/README
? m4ri/aclocal.m4
? m4ri/config.guess
? m4ri/config.sub
? m4ri/configure
? m4ri/configure.ac
? m4ri/depcomp
? m4ri/install-sh
? m4ri/ltmain.sh
? m4ri/m4/ax_cache_size.m4
? m4ri/m4/ax_cache_size_tune.m4
? m4ri/m4/ax_check_compiler_flags.m4
? m4ri/m4/ax_cpu_vendor.m4
? m4ri/m4/ax_ext.m4
? m4ri/m4/ax_gcc_x86_cpuid.m4
? m4ri/m4/ax_openmp.m4
? m4ri/m4/libtool.m4
? m4ri/m4/ltoptions.m4
? m4ri/m4/ltsugar.m4
? m4ri/m4/ltversion.m4
? m4ri/m4/lt~obsolete.m4
? m4ri/m4ri
? m4ri/m4ri.sln
? m4ri/m4ri.vcproj
? m4ri/missing
? m4ri/testsuite/.directory
? m4ri/testsuite/Makefile
? m4ri/testsuite/bench_elimination.c
? m4ri/testsuite/bench_multiplication.c
? m4ri/testsuite/bench_pluq.c
? m4ri/testsuite/bench_trsm_lowerleft.c
? m4ri/testsuite/bench_trsm_lowerright.c
? m4ri/testsuite/bench_trsm_upperleft.c
? m4ri/testsuite/bench_trsm_upperright.c
? m4ri/testsuite/cpucycles-20060326/alpha.c
? m4ri/testsuite/cpucycles-20060326/alpha.h
? m4ri/testsuite/cpucycles-20060326/amd64cpuinfo.c
? m4ri/testsuite/cpucycles-20060326/amd64cpuinfo.h
? m4ri/testsuite/cpucycles-20060326/amd64tscfreq.c
? m4ri/testsuite/cpucycles-20060326/amd64tscfreq.h
? m4ri/testsuite/cpucycles-20060326/clockmonotonic.c
? m4ri/testsuite/cpucycles-20060326/clockmonotonic.h
? m4ri/testsuite/cpucycles-20060326/compile
? m4ri/testsuite/cpucycles-20060326/cpucycles.html
? m4ri/testsuite/cpucycles-20060326/do
? m4ri/testsuite/cpucycles-20060326/do.notes
? m4ri/testsuite/cpucycles-20060326/gettimeofday.c
? m4ri/testsuite/cpucycles-20060326/gettimeofday.h
? m4ri/testsuite/cpucycles-20060326/hppapstat.c
? m4ri/testsuite/cpucycles-20060326/hppapstat.h
? m4ri/testsuite/cpucycles-20060326/powerpcaix.c
? m4ri/testsuite/cpucycles-20060326/powerpcaix.h
? m4ri/testsuite/cpucycles-20060326/powerpclinux.c
? m4ri/testsuite/cpucycles-20060326/powerpclinux.h
? m4ri/testsuite/cpucycles-20060326/powerpcmacos.c
? m4ri/testsuite/cpucycles-20060326/powerpcmacos.h
? m4ri/testsuite/cpucycles-20060326/sparc32psrinfo.c
? m4ri/testsuite/cpucycles-20060326/sparc32psrinfo.h
? m4ri/testsuite/cpucycles-20060326/sparcpsrinfo.c
? m4ri/testsuite/cpucycles-20060326/sparcpsrinfo.h
? m4ri/testsuite/cpucycles-20060326/test.c
? m4ri/testsuite/cpucycles-20060326/x86cpuinfo.c
? m4ri/testsuite/cpucycles-20060326/x86cpuinfo.h
? m4ri/testsuite/cpucycles-20060326/x86tscfreq.c
? m4ri/testsuite/cpucycles-20060326/x86tscfreq.h
? m4ri/testsuite/test_elimination.c
? m4ri/testsuite/test_kernel.c
? m4ri/testsuite/test_multiplication.c
? m4ri/testsuite/test_pluq.c
? m4ri/testsuite/test_solve.c
? m4ri/testsuite/test_trsm.c
? m4ri/testsuite/walltime.h
? m4rie/.hgignore
? m4rie/.hgtags
? m4rie/AUTHORS
? m4rie/COPYING
? m4rie/ChangeLog
? m4rie/INSTALL
? m4rie/Makefile.am
? m4rie/Makefile.in
? m4rie/NEWS
? m4rie/README
? m4rie/aclocal.m4
? m4rie/bench/Makefile.am
? m4rie/bench/Makefile.in
? m4rie/bench/bench_elimination.cc
? m4rie/bench/bench_multiplication.cc
? m4rie/bench/cpucycles-20060326/alpha.c
? m4rie/bench/cpucycles-20060326/alpha.h
? m4rie/bench/cpucycles-20060326/amd64cpuinfo.c
? m4rie/bench/cpucycles-20060326/amd64cpuinfo.h
? m4rie/bench/cpucycles-20060326/amd64tscfreq.c
? m4rie/bench/cpucycles-20060326/amd64tscfreq.h
? m4rie/bench/cpucycles-20060326/clockmonotonic.c
? m4rie/bench/cpucycles-20060326/clockmonotonic.h
? m4rie/bench/cpucycles-20060326/compile
? m4rie/bench/cpucycles-20060326/cpucycles.html
? m4rie/bench/cpucycles-20060326/do
? m4rie/bench/cpucycles-20060326/do.notes
? m4rie/bench/cpucycles-20060326/gettimeofday.c
? m4rie/bench/cpucycles-20060326/gettimeofday.h
? m4rie/bench/cpucycles-20060326/hppapstat.c
? m4rie/bench/cpucycles-20060326/hppapstat.h
? m4rie/bench/cpucycles-20060326/powerpcaix.c
? m4rie/bench/cpucycles-20060326/powerpcaix.h
? m4rie/bench/cpucycles-20060326/powerpclinux.c
? m4rie/bench/cpucycles-20060326/powerpclinux.h
? m4rie/bench/cpucycles-20060326/powerpcmacos.c
? m4rie/bench/cpucycles-20060326/powerpcmacos.h
? m4rie/bench/cpucycles-20060326/sparc32psrinfo.c
? m4rie/bench/cpucycles-20060326/sparc32psrinfo.h
? m4rie/bench/cpucycles-20060326/sparcpsrinfo.c
? m4rie/bench/cpucycles-20060326/sparcpsrinfo.h
? m4rie/bench/cpucycles-20060326/test.c
? m4rie/bench/cpucycles-20060326/x86cpuinfo.c
? m4rie/bench/cpucycles-20060326/x86cpuinfo.h
? m4rie/bench/cpucycles-20060326/x86tscfreq.c
? m4rie/bench/cpucycles-20060326/x86tscfreq.h
? m4rie/bench/walltime.h
? m4rie/config.guess
? m4rie/config.sub
? m4rie/configure
? m4rie/configure.ac
? m4rie/depcomp
? m4rie/gf2e_cxx/finite_field_givaro.h
? m4rie/install-sh
? m4rie/ltmain.sh
? m4rie/m4/ax_cache_size.m4
? m4rie/m4/ax_cache_size_tune.m4
? m4rie/m4/ax_check_compiler_flags.m4
? m4rie/m4/ax_cpu_vendor.m4
? m4rie/m4/ax_ext.m4
? m4rie/m4/ax_gcc_x86_cpuid.m4
? m4rie/m4/ax_openmp.m4
? m4rie/m4/libtool.m4
? m4rie/m4/ltoptions.m4
? m4rie/m4/ltsugar.m4
? m4rie/m4/ltversion.m4
? m4rie/m4/lt~obsolete.m4
? m4rie/missing
? m4rie/tests/Makefile
? m4rie/tests/test_elimination.cc
? m4rie/tests/test_multiplication.cc
```



---

archive/issue_comments_082960.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI've updated the SPKG accordingly at\n\n  http://sage.math.washington.edu/home/malb/spkgs/libm4ri-20100817.p0.spkg",
    "created_at": "2010-10-18T09:44:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82960",
    "user": "https://github.com/malb"
}
```

<div id="comment:28" align="right">comment:28</div>

I've updated the SPKG accordingly at

  http://sage.math.washington.edu/home/malb/spkgs/libm4ri-20100817.p0.spkg



---

archive/issue_comments_082961.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nWhatever checks are being used to determine the cache size is not working very well. First it reports the L1 cache size is 0, then it spends a couple of minutes on a 3.33 GHz Xeon, to determine the cache size (I thought it had hanged). It's also producing some NaN in the calculation of the cache size - is that not a bug?  \n\nThe CPU is an Intel Xeon W3580 and the operating system OpenSolaris. \n\n```\nchecking for gcc option to accept ISO C99... -std=gnu99\nchecking for x86 cpuid  output... b:756e6547:6c65746e:49656e69\nchecking for x86 cpuid 0x0 output... b:756e6547:6c65746e:49656e69\nchecking for the processor vendor... Intel\nchecking for x86 cpuid 0x00000001 output... 106a5:100800:9ce3bd:bfebfbff\nchecking whether mmx is supported... yes\nchecking whether sse is supported... yes\nchecking whether sse2 is supported... yes\nchecking whether sse3 is supported... yes\nchecking whether ssse3 is supported... yes\nchecking whether C compiler accepts -mmmx... yes\nchecking whether C compiler accepts -msse... yes\nchecking whether C compiler accepts -msse2... yes\nchecking whether C compiler accepts -msse3... yes\nchecking mm_malloc.h usability... yes\nchecking mm_malloc.h presence... yes\nchecking for mm_malloc.h... yes\nchecking for x86 cpuid 0x0 output... (cached) b:756e6547:6c65746e:49656e69\nchecking for the processor vendor... (cached) Intel\nchecking for x86 cpuid 0x80000000 output... 80000008:0:0:0\nchecking for x86 cpuid 0x80000005 output... 0:0:0:0\nchecking for x86 cpuid 0x80000006 output... 0:0:1006040:0\nchecking the L1 cache size... 0 Bytes\nchecking the L2 cache size... 262144 Bytes\nchecking for cache sizes... \ns:     4, rx:   0.03, x:   0.03, wt:   0.03, dx:    NaN\ns:     8, rx:   0.06, x:   0.06, wt:   0.06, dx:   1.01\ns:    16, rx:   0.12, x:   0.12, wt:   0.12, dx:   1.00\ns:    32, rx:   0.24, x:   0.24, wt:   0.24, dx:   1.00\ns:    64, rx:   0.53, x:   0.53, wt:   0.53, dx:   1.10\ns:   128, rx:   0.32, x:   1.30, wt:   0.32, dx:   1.23\ns:   256, rx:   0.37, x:   2.95, wt:   0.37, dx:   1.14\ns:   512, rx:   0.42, x:   6.77, wt:   0.42, dx:   1.15\n\ns:     4, rx:   0.03, x:   0.03, wt:   0.03, dx:    NaN\ns:     8, rx:   0.06, x:   0.06, wt:   0.06, dx:   0.94\ns:    16, rx:   0.12, x:   0.12, wt:   0.12, dx:   0.99\ns:    32, rx:   0.24, x:   0.24, wt:   0.24, dx:   1.02\ns:    64, rx:   0.53, x:   0.53, wt:   0.53, dx:   1.09\ns:   128, rx:   0.32, x:   1.29, wt:   0.32, dx:   1.22\ns:   256, rx:   0.37, x:   2.97, wt:   0.37, dx:   1.16\ns:   512, rx:   0.43, x:   6.80, wt:   0.43, dx:   1.14\n\ns:     4, rx:   0.03, x:   0.03, wt:   0.03, dx:    NaN\ns:     8, rx:   0.06, x:   0.06, wt:   0.06, dx:   0.91\ns:    16, rx:   0.12, x:   0.12, wt:   0.12, dx:   1.01\ns:    32, rx:   0.24, x:   0.24, wt:   0.24, dx:   1.01\ns:    64, rx:   0.52, x:   0.52, wt:   0.52, dx:   1.09\ns:   128, rx:   0.32, x:   1.30, wt:   0.32, dx:   1.24\ns:   256, rx:   0.37, x:   2.94, wt:   0.37, dx:   1.13\ns:   512, rx:   0.41, x:   6.64, wt:   0.42, dx:   1.13\n\ns:     4, rx:   0.03, x:   0.03, wt:   0.03, dx:    NaN\ns:     8, rx:   0.06, x:   0.06, wt:   0.06, dx:   0.92\ns:    16, rx:   0.12, x:   0.12, wt:   0.12, dx:   1.02\ns:    32, rx:   0.24, x:   0.24, wt:   0.24, dx:   1.00\ns:    64, rx:   0.53, x:   0.53, wt:   0.53, dx:   1.11\ns:   128, rx:   0.33, x:   1.30, wt:   0.33, dx:   1.23\ns:   256, rx:   0.37, x:   2.98, wt:   0.37, dx:   1.14\ns:   512, rx:   0.41, x:   6.61, wt:   0.41, dx:   1.11\n\ns:     4, rx:   0.03, x:   0.03, wt:   0.03, dx:    NaN\ns:     8, rx:   0.06, x:   0.06, wt:   0.06, dx:   0.93\ns:    16, rx:   0.12, x:   0.12, wt:   0.12, dx:   1.01\ns:    32, rx:   0.24, x:   0.24, wt:   0.24, dx:   1.02\ns:    64, rx:   0.53, x:   0.53, wt:   0.53, dx:   1.09\ns:   128, rx:   0.32, x:   1.30, wt:   0.32, dx:   1.23\ns:   256, rx:   0.37, x:   2.94, wt:   0.37, dx:   1.13\ns:   512, rx:   0.42, x:   6.75, wt:   0.42, dx:   1.15\n\ns:   512, rx:   0.42, x:   0.42, wt:   0.42, dx:    NaN\ns:  1024, rx:   1.00, x:   1.00, wt:   1.00, dx:   1.18\ns:  1536, rx:   0.39, x:   1.57, wt:   0.39, dx:   1.05\ns:  2048, rx:   0.27, x:   2.19, wt:   0.27, dx:   1.04\ns:  3072, rx:   0.21, x:   3.32, wt:   0.21, dx:   1.01\ns:  4096, rx:   0.29, x:   4.60, wt:   0.29, dx:   1.04\ns:  6144, rx:   0.28, x:   8.85, wt:   0.28, dx:   1.28\ns:  8192, rx:   0.25, x:  15.96, wt:   0.25, dx:   1.35\ns: 16384, rx:   0.43, x:  55.40, wt:   0.44, dx:   1.74\ns: 32768, rx:   0.61, x: 156.25, wt:   0.62, dx:   1.41\n\ns:   512, rx:   0.43, x:   0.43, wt:   0.43, dx:    NaN\ns:  1024, rx:   0.99, x:   0.99, wt:   0.99, dx:   1.15\ns:  1536, rx:   0.39, x:   1.56, wt:   0.39, dx:   1.05\ns:  2048, rx:   0.27, x:   2.13, wt:   0.27, dx:   1.03\ns:  3072, rx:   0.21, x:   3.32, wt:   0.21, dx:   1.04\ns:  4096, rx:   0.28, x:   4.52, wt:   0.28, dx:   1.02\ns:  6144, rx:   0.27, x:   8.76, wt:   0.28, dx:   1.29\ns:  8192, rx:   0.25, x:  15.87, wt:   0.25, dx:   1.36\ns: 16384, rx:   0.42, x:  54.27, wt:   0.43, dx:   1.71\ns: 32768, rx:   0.61, x: 156.22, wt:   0.62, dx:   1.44\n\ns:   512, rx:   0.42, x:   0.42, wt:   0.42, dx:    NaN\ns:  1024, rx:   0.99, x:   0.99, wt:   0.99, dx:   1.17\ns:  1536, rx:   0.39, x:   1.56, wt:   0.39, dx:   1.05\ns:  2048, rx:   0.27, x:   2.14, wt:   0.27, dx:   1.03\ns:  3072, rx:   0.21, x:   3.31, wt:   0.21, dx:   1.03\ns:  4096, rx:   0.28, x:   4.53, wt:   0.29, dx:   1.03\ns:  6144, rx:   0.27, x:   8.73, wt:   0.28, dx:   1.28\ns:  8192, rx:   0.25, x:  16.01, wt:   0.25, dx:   1.38\ns: 16384, rx:   0.42, x:  54.24, wt:   0.43, dx:   1.69\ns: 32768, rx:   0.63, x: 162.00, wt:   0.65, dx:   1.49\n\ns:   512, rx:   0.43, x:   0.43, wt:   0.43, dx:    NaN\ns:  1024, rx:   1.01, x:   1.01, wt:   1.01, dx:   1.19\ns:  1536, rx:   0.20, x:   1.58, wt:   0.20, dx:   1.04\ns:  2048, rx:   0.28, x:   2.21, wt:   0.28, dx:   1.04\ns:  3072, rx:   0.21, x:   3.39, wt:   0.21, dx:   1.02\ns:  4096, rx:   0.29, x:   4.63, wt:   0.29, dx:   1.02\ns:  6144, rx:   0.28, x:   8.84, wt:   0.28, dx:   1.27\ns:  8192, rx:   0.25, x:  16.17, wt:   0.26, dx:   1.37\ns: 16384, rx:   0.43, x:  55.01, wt:   0.44, dx:   1.70\ns: 32768, rx:   0.61, x: 157.06, wt:   0.63, dx:   1.43\n\ns:   512, rx:   0.43, x:   0.43, wt:   0.43, dx:    NaN\ns:  1024, rx:   1.01, x:   1.01, wt:   1.01, dx:   1.17\ns:  1536, rx:   0.20, x:   1.59, wt:   0.20, dx:   1.05\ns:  2048, rx:   0.27, x:   2.19, wt:   0.27, dx:   1.03\ns:  3072, rx:   0.21, x:   3.40, wt:   0.21, dx:   1.03\ns:  4096, rx:   0.29, x:   4.63, wt:   0.29, dx:   1.02\ns:  6144, rx:   0.28, x:   8.90, wt:   0.28, dx:   1.28\ns:  8192, rx:   0.25, x:  16.12, wt:   0.26, dx:   1.36\ns: 16384, rx:   0.43, x:  54.90, wt:   0.44, dx:   1.70\ns: 32768, rx:   0.61, x: 157.41, wt:   0.63, dx:   1.43\n\n65536:8388608\nchecking the L1 cache size... 65536 Bytes\nchecking the L2 cache size... 8388608 Bytes\n```",
    "created_at": "2010-11-07T11:04:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82961",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:29" align="right">comment:29</div>

Whatever checks are being used to determine the cache size is not working very well. First it reports the L1 cache size is 0, then it spends a couple of minutes on a 3.33 GHz Xeon, to determine the cache size (I thought it had hanged). It's also producing some NaN in the calculation of the cache size - is that not a bug?  

The CPU is an Intel Xeon W3580 and the operating system OpenSolaris. 

```
checking for gcc option to accept ISO C99... -std=gnu99
checking for x86 cpuid  output... b:756e6547:6c65746e:49656e69
checking for x86 cpuid 0x0 output... b:756e6547:6c65746e:49656e69
checking for the processor vendor... Intel
checking for x86 cpuid 0x00000001 output... 106a5:100800:9ce3bd:bfebfbff
checking whether mmx is supported... yes
checking whether sse is supported... yes
checking whether sse2 is supported... yes
checking whether sse3 is supported... yes
checking whether ssse3 is supported... yes
checking whether C compiler accepts -mmmx... yes
checking whether C compiler accepts -msse... yes
checking whether C compiler accepts -msse2... yes
checking whether C compiler accepts -msse3... yes
checking mm_malloc.h usability... yes
checking mm_malloc.h presence... yes
checking for mm_malloc.h... yes
checking for x86 cpuid 0x0 output... (cached) b:756e6547:6c65746e:49656e69
checking for the processor vendor... (cached) Intel
checking for x86 cpuid 0x80000000 output... 80000008:0:0:0
checking for x86 cpuid 0x80000005 output... 0:0:0:0
checking for x86 cpuid 0x80000006 output... 0:0:1006040:0
checking the L1 cache size... 0 Bytes
checking the L2 cache size... 262144 Bytes
checking for cache sizes... 
s:     4, rx:   0.03, x:   0.03, wt:   0.03, dx:    NaN
s:     8, rx:   0.06, x:   0.06, wt:   0.06, dx:   1.01
s:    16, rx:   0.12, x:   0.12, wt:   0.12, dx:   1.00
s:    32, rx:   0.24, x:   0.24, wt:   0.24, dx:   1.00
s:    64, rx:   0.53, x:   0.53, wt:   0.53, dx:   1.10
s:   128, rx:   0.32, x:   1.30, wt:   0.32, dx:   1.23
s:   256, rx:   0.37, x:   2.95, wt:   0.37, dx:   1.14
s:   512, rx:   0.42, x:   6.77, wt:   0.42, dx:   1.15

s:     4, rx:   0.03, x:   0.03, wt:   0.03, dx:    NaN
s:     8, rx:   0.06, x:   0.06, wt:   0.06, dx:   0.94
s:    16, rx:   0.12, x:   0.12, wt:   0.12, dx:   0.99
s:    32, rx:   0.24, x:   0.24, wt:   0.24, dx:   1.02
s:    64, rx:   0.53, x:   0.53, wt:   0.53, dx:   1.09
s:   128, rx:   0.32, x:   1.29, wt:   0.32, dx:   1.22
s:   256, rx:   0.37, x:   2.97, wt:   0.37, dx:   1.16
s:   512, rx:   0.43, x:   6.80, wt:   0.43, dx:   1.14

s:     4, rx:   0.03, x:   0.03, wt:   0.03, dx:    NaN
s:     8, rx:   0.06, x:   0.06, wt:   0.06, dx:   0.91
s:    16, rx:   0.12, x:   0.12, wt:   0.12, dx:   1.01
s:    32, rx:   0.24, x:   0.24, wt:   0.24, dx:   1.01
s:    64, rx:   0.52, x:   0.52, wt:   0.52, dx:   1.09
s:   128, rx:   0.32, x:   1.30, wt:   0.32, dx:   1.24
s:   256, rx:   0.37, x:   2.94, wt:   0.37, dx:   1.13
s:   512, rx:   0.41, x:   6.64, wt:   0.42, dx:   1.13

s:     4, rx:   0.03, x:   0.03, wt:   0.03, dx:    NaN
s:     8, rx:   0.06, x:   0.06, wt:   0.06, dx:   0.92
s:    16, rx:   0.12, x:   0.12, wt:   0.12, dx:   1.02
s:    32, rx:   0.24, x:   0.24, wt:   0.24, dx:   1.00
s:    64, rx:   0.53, x:   0.53, wt:   0.53, dx:   1.11
s:   128, rx:   0.33, x:   1.30, wt:   0.33, dx:   1.23
s:   256, rx:   0.37, x:   2.98, wt:   0.37, dx:   1.14
s:   512, rx:   0.41, x:   6.61, wt:   0.41, dx:   1.11

s:     4, rx:   0.03, x:   0.03, wt:   0.03, dx:    NaN
s:     8, rx:   0.06, x:   0.06, wt:   0.06, dx:   0.93
s:    16, rx:   0.12, x:   0.12, wt:   0.12, dx:   1.01
s:    32, rx:   0.24, x:   0.24, wt:   0.24, dx:   1.02
s:    64, rx:   0.53, x:   0.53, wt:   0.53, dx:   1.09
s:   128, rx:   0.32, x:   1.30, wt:   0.32, dx:   1.23
s:   256, rx:   0.37, x:   2.94, wt:   0.37, dx:   1.13
s:   512, rx:   0.42, x:   6.75, wt:   0.42, dx:   1.15

s:   512, rx:   0.42, x:   0.42, wt:   0.42, dx:    NaN
s:  1024, rx:   1.00, x:   1.00, wt:   1.00, dx:   1.18
s:  1536, rx:   0.39, x:   1.57, wt:   0.39, dx:   1.05
s:  2048, rx:   0.27, x:   2.19, wt:   0.27, dx:   1.04
s:  3072, rx:   0.21, x:   3.32, wt:   0.21, dx:   1.01
s:  4096, rx:   0.29, x:   4.60, wt:   0.29, dx:   1.04
s:  6144, rx:   0.28, x:   8.85, wt:   0.28, dx:   1.28
s:  8192, rx:   0.25, x:  15.96, wt:   0.25, dx:   1.35
s: 16384, rx:   0.43, x:  55.40, wt:   0.44, dx:   1.74
s: 32768, rx:   0.61, x: 156.25, wt:   0.62, dx:   1.41

s:   512, rx:   0.43, x:   0.43, wt:   0.43, dx:    NaN
s:  1024, rx:   0.99, x:   0.99, wt:   0.99, dx:   1.15
s:  1536, rx:   0.39, x:   1.56, wt:   0.39, dx:   1.05
s:  2048, rx:   0.27, x:   2.13, wt:   0.27, dx:   1.03
s:  3072, rx:   0.21, x:   3.32, wt:   0.21, dx:   1.04
s:  4096, rx:   0.28, x:   4.52, wt:   0.28, dx:   1.02
s:  6144, rx:   0.27, x:   8.76, wt:   0.28, dx:   1.29
s:  8192, rx:   0.25, x:  15.87, wt:   0.25, dx:   1.36
s: 16384, rx:   0.42, x:  54.27, wt:   0.43, dx:   1.71
s: 32768, rx:   0.61, x: 156.22, wt:   0.62, dx:   1.44

s:   512, rx:   0.42, x:   0.42, wt:   0.42, dx:    NaN
s:  1024, rx:   0.99, x:   0.99, wt:   0.99, dx:   1.17
s:  1536, rx:   0.39, x:   1.56, wt:   0.39, dx:   1.05
s:  2048, rx:   0.27, x:   2.14, wt:   0.27, dx:   1.03
s:  3072, rx:   0.21, x:   3.31, wt:   0.21, dx:   1.03
s:  4096, rx:   0.28, x:   4.53, wt:   0.29, dx:   1.03
s:  6144, rx:   0.27, x:   8.73, wt:   0.28, dx:   1.28
s:  8192, rx:   0.25, x:  16.01, wt:   0.25, dx:   1.38
s: 16384, rx:   0.42, x:  54.24, wt:   0.43, dx:   1.69
s: 32768, rx:   0.63, x: 162.00, wt:   0.65, dx:   1.49

s:   512, rx:   0.43, x:   0.43, wt:   0.43, dx:    NaN
s:  1024, rx:   1.01, x:   1.01, wt:   1.01, dx:   1.19
s:  1536, rx:   0.20, x:   1.58, wt:   0.20, dx:   1.04
s:  2048, rx:   0.28, x:   2.21, wt:   0.28, dx:   1.04
s:  3072, rx:   0.21, x:   3.39, wt:   0.21, dx:   1.02
s:  4096, rx:   0.29, x:   4.63, wt:   0.29, dx:   1.02
s:  6144, rx:   0.28, x:   8.84, wt:   0.28, dx:   1.27
s:  8192, rx:   0.25, x:  16.17, wt:   0.26, dx:   1.37
s: 16384, rx:   0.43, x:  55.01, wt:   0.44, dx:   1.70
s: 32768, rx:   0.61, x: 157.06, wt:   0.63, dx:   1.43

s:   512, rx:   0.43, x:   0.43, wt:   0.43, dx:    NaN
s:  1024, rx:   1.01, x:   1.01, wt:   1.01, dx:   1.17
s:  1536, rx:   0.20, x:   1.59, wt:   0.20, dx:   1.05
s:  2048, rx:   0.27, x:   2.19, wt:   0.27, dx:   1.03
s:  3072, rx:   0.21, x:   3.40, wt:   0.21, dx:   1.03
s:  4096, rx:   0.29, x:   4.63, wt:   0.29, dx:   1.02
s:  6144, rx:   0.28, x:   8.90, wt:   0.28, dx:   1.28
s:  8192, rx:   0.25, x:  16.12, wt:   0.26, dx:   1.36
s: 16384, rx:   0.43, x:  54.90, wt:   0.44, dx:   1.70
s: 32768, rx:   0.61, x: 157.41, wt:   0.63, dx:   1.43

65536:8388608
checking the L1 cache size... 65536 Bytes
checking the L2 cache size... 8388608 Bytes
```



---

archive/issue_comments_082962.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@sagetrac-drkirkby](#comment:29):\n> Whatever checks are being used to determine the cache size is not working very well.\n\nI disagree, it works fine as far as I know but it is slow. For your machine I'd assume that 65536:8388608 indeed gives pretty good performance. If you want to check whether this hunch is correct let me know and I can tell you how to patch and test M4RI for various cache size configurations.\n\n> First it reports the L1 cache size is 0,\n\nThat's probably because I don't know how to ask Solaris for the right information, however the tuning performed now is the better strategy anyway.\n\n> then it spends a couple of minutes on a 3.33 GHz Xeon, to determine the cache size (I thought it had hanged). \n\nTuning takes a while as described above. Some shells don't seem to print intermediate outputs, I don't know how to fix that. If you do, let me know. Also, I couldn't get reliable information if I lowered the time spent on tuning, if you have any ideas, let me know. \n\n> It's also producing some NaN in the calculation of the cache size - is that not a bug?  \n\nNo, the delta from the first element with respect to the previous element is not defined.",
    "created_at": "2010-11-07T13:57:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82962",
    "user": "https://github.com/malb"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@sagetrac-drkirkby](#comment:29):
> Whatever checks are being used to determine the cache size is not working very well.

I disagree, it works fine as far as I know but it is slow. For your machine I'd assume that 65536:8388608 indeed gives pretty good performance. If you want to check whether this hunch is correct let me know and I can tell you how to patch and test M4RI for various cache size configurations.

> First it reports the L1 cache size is 0,

That's probably because I don't know how to ask Solaris for the right information, however the tuning performed now is the better strategy anyway.

> then it spends a couple of minutes on a 3.33 GHz Xeon, to determine the cache size (I thought it had hanged). 

Tuning takes a while as described above. Some shells don't seem to print intermediate outputs, I don't know how to fix that. If you do, let me know. Also, I couldn't get reliable information if I lowered the time spent on tuning, if you have any ideas, let me know. 

> It's also producing some NaN in the calculation of the cache size - is that not a bug?  

No, the delta from the first element with respect to the previous element is not defined.



---

archive/issue_comments_082963.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nMinh, do you think you'll have some time to review this?",
    "created_at": "2011-01-13T10:24:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82963",
    "user": "https://github.com/malb"
}
```

<div id="comment:31" align="right">comment:31</div>

Minh, do you think you'll have some time to review this?



---

archive/issue_comments_082964.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nthe speedup provided by this patch is quite impressive. With vanilla Sage 4.6 on a 2.83Ghz Core 2:\n\n```\n----------------------------------------------------------------------\n| Sage Version 4.6, Release Date: 2010-10-30                         |\n| Type notebook() for the GUI, and license() for information.        |\n----------------------------------------------------------------------\nsage: m=matrix(GF(2^8,'x'),1000,1000)\nsage: m.randomize()\nsage: time r=m*m\nCPU times: user 76.33 s, sys: 0.10 s, total: 76.43 s\nWall time: 77.63 s\n```\nWith this patch applied:\n\n```\nsage: m=matrix(GF(2^8,'x'),1000,1000)   \nsage: m.randomize()\nsage: time r=m*m\nCPU times: user 0.27 s, sys: 0.00 s, total: 0.27 s\nWall time: 0.29 s\n```\nPaul Zimmermann",
    "created_at": "2011-03-30T12:01:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82964",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:32" align="right">comment:32</div>

the speedup provided by this patch is quite impressive. With vanilla Sage 4.6 on a 2.83Ghz Core 2:

```
----------------------------------------------------------------------
| Sage Version 4.6, Release Date: 2010-10-30                         |
| Type notebook() for the GUI, and license() for information.        |
----------------------------------------------------------------------
sage: m=matrix(GF(2^8,'x'),1000,1000)
sage: m.randomize()
sage: time r=m*m
CPU times: user 76.33 s, sys: 0.10 s, total: 76.43 s
Wall time: 77.63 s
```
With this patch applied:

```
sage: m=matrix(GF(2^8,'x'),1000,1000)   
sage: m.randomize()
sage: time r=m*m
CPU times: user 0.27 s, sys: 0.00 s, total: 0.27 s
Wall time: 0.29 s
```
Paul Zimmermann



---

archive/issue_comments_082965.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,3 +3,6 @@\n Upstream: http://bitbucket.org/malb/m4rie/\n \n Sage Days 24 coding sprint: http://wiki.sagemath.org/days24/projects/gf2e\n+\n+* **Install** http://sage.math.washington.edu/home/malb/spkgs/libm4ri-20100817.p0.spkg\n+* **Apply** [attachment: m4rie_for_sage.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_for_sage.patch.gz)\n``````\n",
    "created_at": "2011-03-30T14:56:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82965",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,3 +3,6 @@
 Upstream: http://bitbucket.org/malb/m4rie/
 
 Sage Days 24 coding sprint: http://wiki.sagemath.org/days24/projects/gf2e
+
+* **Install** http://sage.math.washington.edu/home/malb/spkgs/libm4ri-20100817.p0.spkg
+* **Apply** [attachment: m4rie_for_sage.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_for_sage.patch.gz)
``````




---

archive/issue_comments_082966.json:
```json
{
    "body": "Reviewer: **Paul Zimmermann**",
    "created_at": "2011-03-30T14:56:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82966",
    "user": "https://github.com/malb"
}
```

Reviewer: **Paul Zimmermann**



---

archive/issue_comments_082967.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nOn PPC OS X 10.4, this spkg installation hangs at\n\n```\nchecking the L1 cache size... 32768 Bytes\nchecking the L2 cache size... 262144 Bytes\nchecking for cache sizes... \n```\nI'm assuming this \"cache size\" checking isn't supposed to take 10 or more minutes.",
    "created_at": "2011-06-30T14:03:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82967",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:34" align="right">comment:34</div>

On PPC OS X 10.4, this spkg installation hangs at

```
checking the L1 cache size... 32768 Bytes
checking the L2 cache size... 262144 Bytes
checking for cache sizes... 
```
I'm assuming this "cache size" checking isn't supposed to take 10 or more minutes.



---

archive/issue_comments_082968.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nCan you run spkg-install manually, i.e. unpack the spkg and run ./spkg-install in a SAGE shell? It will print intermediate information which might tell us whether it just takes long or whether it really hangs?",
    "created_at": "2011-06-30T14:17:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82968",
    "user": "https://github.com/malb"
}
```

<div id="comment:35" align="right">comment:35</div>

Can you run spkg-install manually, i.e. unpack the spkg and run ./spkg-install in a SAGE shell? It will print intermediate information which might tell us whether it just takes long or whether it really hangs?



---

archive/issue_comments_082969.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nSo far it just seems to be **extremely** slow.  Well, this *is* a machine with a 700MHz processor...\n\nIn lines like\n\n```\ns:   512, rx:  18.03, x:  18.03, wt:  18.03, dx:    NaN\ns:  1024, rx:  73.30, x:  73.30, wt:  73.31, dx:   2.03\n```\nwhich column gives the timing, if any?",
    "created_at": "2011-06-30T14:34:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82969",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:36" align="right">comment:36</div>

So far it just seems to be **extremely** slow.  Well, this *is* a machine with a 700MHz processor...

In lines like

```
s:   512, rx:  18.03, x:  18.03, wt:  18.03, dx:    NaN
s:  1024, rx:  73.30, x:  73.30, wt:  73.31, dx:   2.03
```
which column gives the timing, if any?



---

archive/issue_comments_082970.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nOkay, it *did* finally finish!  \n\n```\nchecking for cache sizes... \ns:     4, rx:   0.20, x:   0.20, wt:   0.20, dx:    NaN\ns:     8, rx:   0.38, x:   0.38, wt:   0.38, dx:   0.96\ns:    16, rx:   0.39, x:   0.79, wt:   0.39, dx:   1.03\ns:    32, rx:   0.46, x:   1.83, wt:   0.46, dx:   1.16\ns:    64, rx:   0.49, x:   3.92, wt:   0.49, dx:   1.07\ns:   128, rx:   0.57, x:   9.17, wt:   0.57, dx:   1.17\ns:   256, rx:   0.63, x:  40.57, wt:   0.64, dx:   2.21\ns:   512, rx:   1.17, x: 300.03, wt:   1.18, dx:   3.70\n\ns:     4, rx:   0.19, x:   0.19, wt:   0.19, dx:    NaN\ns:     8, rx:   0.38, x:   0.38, wt:   0.38, dx:   1.01\ns:    16, rx:   0.42, x:   0.83, wt:   0.42, dx:   1.10\ns:    32, rx:   0.44, x:   1.78, wt:   0.44, dx:   1.06\ns:    64, rx:   0.50, x:   4.00, wt:   0.50, dx:   1.13\ns:   128, rx:   0.46, x:  14.83, wt:   0.46, dx:   1.85\ns:   256, rx:   0.99, x:  63.40, wt:   0.99, dx:   2.14\ns:   512, rx:   1.21, x: 310.35, wt:   1.22, dx:   2.45\n\ns:     4, rx:   0.17, x:   0.17, wt:   0.17, dx:    NaN\ns:     8, rx:   0.39, x:   0.39, wt:   0.39, dx:   1.14\ns:    16, rx:   0.43, x:   0.87, wt:   0.43, dx:   1.11\ns:    32, rx:   0.43, x:   1.73, wt:   0.43, dx:   1.00\ns:    64, rx:   0.47, x:   3.74, wt:   0.47, dx:   1.08\ns:   128, rx:   0.60, x:   9.58, wt:   0.60, dx:   1.28\ns:   256, rx:   0.56, x:  36.13, wt:   0.57, dx:   1.89\ns:   512, rx:   1.25, x: 320.55, wt:   1.26, dx:   4.44\n\ns:     4, rx:   0.21, x:   0.21, wt:   0.21, dx:    NaN\ns:     8, rx:   0.39, x:   0.39, wt:   0.39, dx:   0.94\ns:    16, rx:   0.43, x:   0.85, wt:   0.43, dx:   1.10\ns:    32, rx:   0.44, x:   1.74, wt:   0.44, dx:   1.02\ns:    64, rx:   0.48, x:   3.87, wt:   0.48, dx:   1.11\ns:   128, rx:   0.59, x:   9.39, wt:   0.59, dx:   1.21\ns:   256, rx:   0.63, x:  40.42, wt:   0.63, dx:   2.15\ns:   512, rx:   1.16, x: 297.41, wt:   1.17, dx:   3.68\n\ns:     4, rx:   0.19, x:   0.19, wt:   0.19, dx:    NaN\ns:     8, rx:   0.39, x:   0.39, wt:   0.39, dx:   1.01\ns:    16, rx:   0.41, x:   0.82, wt:   0.41, dx:   1.04\ns:    32, rx:   0.42, x:   1.69, wt:   0.42, dx:   1.04\ns:    64, rx:   0.48, x:   3.81, wt:   0.48, dx:   1.13\ns:   128, rx:   0.59, x:   9.40, wt:   0.59, dx:   1.23\ns:   256, rx:   0.73, x:  46.75, wt:   0.73, dx:   2.49\ns:   512, rx:   1.20, x: 306.20, wt:   1.20, dx:   3.27\n\ns:   512, rx:  20.54, x:  20.54, wt:  20.54, dx:    NaN\ns:  1024, rx:  68.61, x:  68.61, wt:  68.63, dx:   1.67\ns:  1536, rx:   0.24, x: 124.21, wt:   0.26, dx:   1.21\ns:  2048, rx:   0.18, x: 182.39, wt:   0.20, dx:   1.10\ns:  3072, rx:   0.30, x: 303.95, wt:   0.32, dx:   1.11\ns:  4096, rx:   0.24, x: 487.92, wt:   0.28, dx:   1.20\ns:  6144, rx:   0.19, x: 793.79, wt:   0.25, dx:   1.08\ns:  8192, rx:   0.00, x:   0.38, wt:   0.08, dx:   0.00\ns: 16384, rx:   0.00, x:   0.31, wt:   0.19, dx:   0.41\ns: 32768, rx:   0.00, x:   0.37, wt:   0.32, dx:   0.59\n\ns:   512, rx:  18.06, x:  18.06, wt:  18.07, dx:    NaN\ns:  1024, rx:  68.43, x:  68.43, wt:  68.43, dx:   1.89\ns:  1536, rx:   0.24, x: 125.17, wt:   0.26, dx:   1.22\ns:  2048, rx:   0.17, x: 169.91, wt:   0.18, dx:   1.02\ns:  3072, rx:   0.31, x: 318.15, wt:   0.34, dx:   1.25\ns:  4096, rx:   0.22, x: 444.11, wt:   0.26, dx:   1.05\ns:  6144, rx:   0.20, x: 803.39, wt:   0.26, dx:   1.21\ns:  8192, rx:   0.00, x:   0.30, wt:   0.08, dx:   0.00\ns: 16384, rx:   0.00, x:   0.38, wt:   0.15, dx:   0.62\ns: 32768, rx:   0.00, x:   0.31, wt:   0.31, dx:   0.41\n\ns:   512, rx:  17.85, x:  17.85, wt:  17.86, dx:    NaN\ns:  1024, rx:  68.59, x:  68.59, wt:  68.60, dx:   1.92\ns:  1536, rx:   0.26, x: 131.07, wt:   0.27, dx:   1.27\ns:  2048, rx:   0.18, x: 182.17, wt:   0.20, dx:   1.04\ns:  3072, rx:   0.32, x: 323.67, wt:   0.34, dx:   1.18\ns:  4096, rx:   0.22, x: 444.65, wt:   0.26, dx:   1.03\ns:  6144, rx:   0.19, x: 788.59, wt:   0.25, dx:   1.18\ns:  8192, rx:   0.29, x: 1203.62, wt:   0.38, dx:   1.14\ns: 16384, rx:   0.00, x:   0.35, wt:   0.16, dx:   0.00\ns: 32768, rx:   0.00, x:   0.35, wt:   0.33, dx:   0.50\n\ns:   512, rx:  17.39, x:  17.39, wt:  17.40, dx:    NaN\ns:  1024, rx:  68.02, x:  68.02, wt:  68.03, dx:   1.96\ns:  1536, rx:   0.24, x: 123.60, wt:   0.26, dx:   1.21\ns:  2048, rx:   0.17, x: 178.99, wt:   0.19, dx:   1.09\ns:  3072, rx:   0.29, x: 301.11, wt:   0.32, dx:   1.12\ns:  4096, rx:   0.24, x: 501.66, wt:   0.28, dx:   1.25\ns:  6144, rx:   0.19, x: 796.99, wt:   0.25, dx:   1.06\ns:  8192, rx:   0.28, x: 1141.88, wt:   0.36, dx:   1.07\ns: 16384, rx:   0.00, x:   0.36, wt:   0.15, dx:   0.00\ns: 32768, rx:   0.00, x:   0.37, wt:   0.31, dx:   0.51\n\ns:   512, rx:  19.65, x:  19.65, wt:  19.66, dx:    NaN\ns:  1024, rx:  68.37, x:  68.37, wt:  68.38, dx:   1.74\ns:  1536, rx:   0.23, x: 119.48, wt:   0.26, dx:   1.16\ns:  2048, rx:   0.20, x: 202.14, wt:   0.22, dx:   1.27\ns:  3072, rx:   0.29, x: 299.73, wt:   0.32, dx:   0.99\ns:  4096, rx:   0.22, x: 441.61, wt:   0.26, dx:   1.11\ns:  6144, rx:   0.19, x: 795.29, wt:   0.25, dx:   1.20\ns:  8192, rx:   0.28, x: 1141.73, wt:   0.35, dx:   1.08\ns: 16384, rx:   0.00, x:   0.35, wt:   0.16, dx:   0.00\ns: 32768, rx:   0.00, x:   0.35, wt:   0.32, dx:   0.50\n\n262144:524288\n```\n\n\n---\n\nDoctest failure:\n\n```\n    sage: A.pivots() # indirect doctest\nExpected:\n     [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]\nGot:\n    (0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14)\n```\n\nSeries of failures, for all such doctests:\n\n```\n    AttributeError: 'sage.matrix.matrix_mod2e_dense.Matrix_mod2e_dense' object has no attribute '_multiply_classical'\n```\nIs something not inheriting properly?  This method seems to be defined in Sage, and similar doctests in the rest of the matrix/ folder pass (in fact, all other tests in crypto and matrix pass other than one unrelated one from something I did on this installation).",
    "created_at": "2011-06-30T18:05:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82970",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:37" align="right">comment:37</div>

Okay, it *did* finally finish!  

```
checking for cache sizes... 
s:     4, rx:   0.20, x:   0.20, wt:   0.20, dx:    NaN
s:     8, rx:   0.38, x:   0.38, wt:   0.38, dx:   0.96
s:    16, rx:   0.39, x:   0.79, wt:   0.39, dx:   1.03
s:    32, rx:   0.46, x:   1.83, wt:   0.46, dx:   1.16
s:    64, rx:   0.49, x:   3.92, wt:   0.49, dx:   1.07
s:   128, rx:   0.57, x:   9.17, wt:   0.57, dx:   1.17
s:   256, rx:   0.63, x:  40.57, wt:   0.64, dx:   2.21
s:   512, rx:   1.17, x: 300.03, wt:   1.18, dx:   3.70

s:     4, rx:   0.19, x:   0.19, wt:   0.19, dx:    NaN
s:     8, rx:   0.38, x:   0.38, wt:   0.38, dx:   1.01
s:    16, rx:   0.42, x:   0.83, wt:   0.42, dx:   1.10
s:    32, rx:   0.44, x:   1.78, wt:   0.44, dx:   1.06
s:    64, rx:   0.50, x:   4.00, wt:   0.50, dx:   1.13
s:   128, rx:   0.46, x:  14.83, wt:   0.46, dx:   1.85
s:   256, rx:   0.99, x:  63.40, wt:   0.99, dx:   2.14
s:   512, rx:   1.21, x: 310.35, wt:   1.22, dx:   2.45

s:     4, rx:   0.17, x:   0.17, wt:   0.17, dx:    NaN
s:     8, rx:   0.39, x:   0.39, wt:   0.39, dx:   1.14
s:    16, rx:   0.43, x:   0.87, wt:   0.43, dx:   1.11
s:    32, rx:   0.43, x:   1.73, wt:   0.43, dx:   1.00
s:    64, rx:   0.47, x:   3.74, wt:   0.47, dx:   1.08
s:   128, rx:   0.60, x:   9.58, wt:   0.60, dx:   1.28
s:   256, rx:   0.56, x:  36.13, wt:   0.57, dx:   1.89
s:   512, rx:   1.25, x: 320.55, wt:   1.26, dx:   4.44

s:     4, rx:   0.21, x:   0.21, wt:   0.21, dx:    NaN
s:     8, rx:   0.39, x:   0.39, wt:   0.39, dx:   0.94
s:    16, rx:   0.43, x:   0.85, wt:   0.43, dx:   1.10
s:    32, rx:   0.44, x:   1.74, wt:   0.44, dx:   1.02
s:    64, rx:   0.48, x:   3.87, wt:   0.48, dx:   1.11
s:   128, rx:   0.59, x:   9.39, wt:   0.59, dx:   1.21
s:   256, rx:   0.63, x:  40.42, wt:   0.63, dx:   2.15
s:   512, rx:   1.16, x: 297.41, wt:   1.17, dx:   3.68

s:     4, rx:   0.19, x:   0.19, wt:   0.19, dx:    NaN
s:     8, rx:   0.39, x:   0.39, wt:   0.39, dx:   1.01
s:    16, rx:   0.41, x:   0.82, wt:   0.41, dx:   1.04
s:    32, rx:   0.42, x:   1.69, wt:   0.42, dx:   1.04
s:    64, rx:   0.48, x:   3.81, wt:   0.48, dx:   1.13
s:   128, rx:   0.59, x:   9.40, wt:   0.59, dx:   1.23
s:   256, rx:   0.73, x:  46.75, wt:   0.73, dx:   2.49
s:   512, rx:   1.20, x: 306.20, wt:   1.20, dx:   3.27

s:   512, rx:  20.54, x:  20.54, wt:  20.54, dx:    NaN
s:  1024, rx:  68.61, x:  68.61, wt:  68.63, dx:   1.67
s:  1536, rx:   0.24, x: 124.21, wt:   0.26, dx:   1.21
s:  2048, rx:   0.18, x: 182.39, wt:   0.20, dx:   1.10
s:  3072, rx:   0.30, x: 303.95, wt:   0.32, dx:   1.11
s:  4096, rx:   0.24, x: 487.92, wt:   0.28, dx:   1.20
s:  6144, rx:   0.19, x: 793.79, wt:   0.25, dx:   1.08
s:  8192, rx:   0.00, x:   0.38, wt:   0.08, dx:   0.00
s: 16384, rx:   0.00, x:   0.31, wt:   0.19, dx:   0.41
s: 32768, rx:   0.00, x:   0.37, wt:   0.32, dx:   0.59

s:   512, rx:  18.06, x:  18.06, wt:  18.07, dx:    NaN
s:  1024, rx:  68.43, x:  68.43, wt:  68.43, dx:   1.89
s:  1536, rx:   0.24, x: 125.17, wt:   0.26, dx:   1.22
s:  2048, rx:   0.17, x: 169.91, wt:   0.18, dx:   1.02
s:  3072, rx:   0.31, x: 318.15, wt:   0.34, dx:   1.25
s:  4096, rx:   0.22, x: 444.11, wt:   0.26, dx:   1.05
s:  6144, rx:   0.20, x: 803.39, wt:   0.26, dx:   1.21
s:  8192, rx:   0.00, x:   0.30, wt:   0.08, dx:   0.00
s: 16384, rx:   0.00, x:   0.38, wt:   0.15, dx:   0.62
s: 32768, rx:   0.00, x:   0.31, wt:   0.31, dx:   0.41

s:   512, rx:  17.85, x:  17.85, wt:  17.86, dx:    NaN
s:  1024, rx:  68.59, x:  68.59, wt:  68.60, dx:   1.92
s:  1536, rx:   0.26, x: 131.07, wt:   0.27, dx:   1.27
s:  2048, rx:   0.18, x: 182.17, wt:   0.20, dx:   1.04
s:  3072, rx:   0.32, x: 323.67, wt:   0.34, dx:   1.18
s:  4096, rx:   0.22, x: 444.65, wt:   0.26, dx:   1.03
s:  6144, rx:   0.19, x: 788.59, wt:   0.25, dx:   1.18
s:  8192, rx:   0.29, x: 1203.62, wt:   0.38, dx:   1.14
s: 16384, rx:   0.00, x:   0.35, wt:   0.16, dx:   0.00
s: 32768, rx:   0.00, x:   0.35, wt:   0.33, dx:   0.50

s:   512, rx:  17.39, x:  17.39, wt:  17.40, dx:    NaN
s:  1024, rx:  68.02, x:  68.02, wt:  68.03, dx:   1.96
s:  1536, rx:   0.24, x: 123.60, wt:   0.26, dx:   1.21
s:  2048, rx:   0.17, x: 178.99, wt:   0.19, dx:   1.09
s:  3072, rx:   0.29, x: 301.11, wt:   0.32, dx:   1.12
s:  4096, rx:   0.24, x: 501.66, wt:   0.28, dx:   1.25
s:  6144, rx:   0.19, x: 796.99, wt:   0.25, dx:   1.06
s:  8192, rx:   0.28, x: 1141.88, wt:   0.36, dx:   1.07
s: 16384, rx:   0.00, x:   0.36, wt:   0.15, dx:   0.00
s: 32768, rx:   0.00, x:   0.37, wt:   0.31, dx:   0.51

s:   512, rx:  19.65, x:  19.65, wt:  19.66, dx:    NaN
s:  1024, rx:  68.37, x:  68.37, wt:  68.38, dx:   1.74
s:  1536, rx:   0.23, x: 119.48, wt:   0.26, dx:   1.16
s:  2048, rx:   0.20, x: 202.14, wt:   0.22, dx:   1.27
s:  3072, rx:   0.29, x: 299.73, wt:   0.32, dx:   0.99
s:  4096, rx:   0.22, x: 441.61, wt:   0.26, dx:   1.11
s:  6144, rx:   0.19, x: 795.29, wt:   0.25, dx:   1.20
s:  8192, rx:   0.28, x: 1141.73, wt:   0.35, dx:   1.08
s: 16384, rx:   0.00, x:   0.35, wt:   0.16, dx:   0.00
s: 32768, rx:   0.00, x:   0.35, wt:   0.32, dx:   0.50

262144:524288
```


---

Doctest failure:

```
    sage: A.pivots() # indirect doctest
Expected:
     [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]
Got:
    (0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14)
```

Series of failures, for all such doctests:

```
    AttributeError: 'sage.matrix.matrix_mod2e_dense.Matrix_mod2e_dense' object has no attribute '_multiply_classical'
```
Is something not inheriting properly?  This method seems to be defined in Sage, and similar doctests in the rest of the matrix/ folder pass (in fact, all other tests in crypto and matrix pass other than one unrelated one from something I did on this installation).



---

archive/issue_comments_082971.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nReplying to [@kcrisman](#comment:37):\n> Okay, it *did* finally finish!  \n\nOkay, good ... well, I'm still not sure what I should do about this. The easiest might be to disable cache tuning on PPC?\n\n> ---\n> \n> Doctest failure:\n> \n> ```\n>     sage: A.pivots() # indirect doctest\n> Expected:\n>      [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]\n> Got:\n>     (0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14)\n> ```\n\nI can reproduce this one.\n\n> Series of failures, for all such doctests:\n> \n> ```\n>     AttributeError: 'sage.matrix.matrix_mod2e_dense.Matrix_mod2e_dense' object has no attribute '_multiply_classical'\n> ```\n> Is something not inheriting properly?  This method seems to be defined in Sage, and similar doctests in the rest of the matrix/ folder pass (in fact, all other tests in crypto and matrix pass other than one unrelated one from something I did on this installation).\n\nI cannot seem to reproduce these (in the matrix/ folder). Which file does give this?\n\nPS: Thank you so much for taking an interest in this ticket!",
    "created_at": "2011-06-30T20:35:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82971",
    "user": "https://github.com/malb"
}
```

<div id="comment:38" align="right">comment:38</div>

Replying to [@kcrisman](#comment:37):
> Okay, it *did* finally finish!  

Okay, good ... well, I'm still not sure what I should do about this. The easiest might be to disable cache tuning on PPC?

> ---
> 
> Doctest failure:
> 
> ```
>     sage: A.pivots() # indirect doctest
> Expected:
>      [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]
> Got:
>     (0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14)
> ```

I can reproduce this one.

> Series of failures, for all such doctests:
> 
> ```
>     AttributeError: 'sage.matrix.matrix_mod2e_dense.Matrix_mod2e_dense' object has no attribute '_multiply_classical'
> ```
> Is something not inheriting properly?  This method seems to be defined in Sage, and similar doctests in the rest of the matrix/ folder pass (in fact, all other tests in crypto and matrix pass other than one unrelated one from something I did on this installation).

I cannot seem to reproduce these (in the matrix/ folder). Which file does give this?

PS: Thank you so much for taking an interest in this ticket!



---

archive/issue_comments_082972.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\n> Okay, good ... well, I'm still not sure what I should do about this. The easiest might be to disable cache tuning on PPC?\n\nWhat I would say is to disable this on any machine that is probably old and slow - this is probably not a PPC thing per se.  That would be OS X 10.4, probably older versions of Ubuntu, ... I don't know how one would do this, though.\n\n> > Series of failures, for all such doctests:\n> > \n> > ```\n> >     AttributeError: 'sage.matrix.matrix_mod2e_dense.Matrix_mod2e_dense' object has no attribute '_multiply_classical'\n> > ```\n\n> \n> I cannot seem to reproduce these (in the matrix/ folder). Which file does give this?\n> \n\nThis is the new file and class 'sage.matrix.matrix_mod2e_dense.Matrix_mod2e_dense' as indicated above.  Since the tests for `_multiply_classical` work in other files, something isn't working about the inheritance.  \n\nThis *could* be related to my having installed numpy 1.6 before testing.  But that would seem strange, since neither this nor the other multiplication rely on this, they are .pyx files... and all the other ones work...\n\n> PS: Thank you so much for taking an interest in this ticket!\n\nI just have an interest in making sure older systems can still use Sage.  There is too much planned obsolescence in computers already.",
    "created_at": "2011-07-01T00:12:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82972",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:39" align="right">comment:39</div>

> Okay, good ... well, I'm still not sure what I should do about this. The easiest might be to disable cache tuning on PPC?

What I would say is to disable this on any machine that is probably old and slow - this is probably not a PPC thing per se.  That would be OS X 10.4, probably older versions of Ubuntu, ... I don't know how one would do this, though.

> > Series of failures, for all such doctests:
> > 
> > ```
> >     AttributeError: 'sage.matrix.matrix_mod2e_dense.Matrix_mod2e_dense' object has no attribute '_multiply_classical'
> > ```

> 
> I cannot seem to reproduce these (in the matrix/ folder). Which file does give this?
> 

This is the new file and class 'sage.matrix.matrix_mod2e_dense.Matrix_mod2e_dense' as indicated above.  Since the tests for `_multiply_classical` work in other files, something isn't working about the inheritance.  

This *could* be related to my having installed numpy 1.6 before testing.  But that would seem strange, since neither this nor the other multiplication rely on this, they are .pyx files... and all the other ones work...

> PS: Thank you so much for taking an interest in this ticket!

I just have an interest in making sure older systems can still use Sage.  There is too much planned obsolescence in computers already.



---

archive/issue_events_122015.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2011-07-01T15:12:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122015"
}
```



---

archive/issue_events_122016.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2011-07-01T15:12:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122016"
}
```



---

archive/issue_comments_082973.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nHi, can you give\n\n   http://sage.math.washington.edu/home/malb/spkgs/libm4ri-20110701.alpha.spkg\n\na try? It doesn't fix the doctest failures but compilation should be quicker and provide more feedback.",
    "created_at": "2011-07-01T15:12:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82973",
    "user": "https://github.com/malb"
}
```

<div id="comment:40" align="right">comment:40</div>

Hi, can you give

   http://sage.math.washington.edu/home/malb/spkgs/libm4ri-20110701.alpha.spkg

a try? It doesn't fix the doctest failures but compilation should be quicker and provide more feedback.



---

archive/issue_comments_082974.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nSorry, I won't have access to that machine for a while now.",
    "created_at": "2011-07-01T16:35:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82974",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:41" align="right">comment:41</div>

Sorry, I won't have access to that machine for a while now.



---

archive/issue_comments_082975.json:
```json
{
    "body": "Dependencies: **#11574**",
    "created_at": "2011-07-04T17:51:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82975",
    "user": "https://github.com/malb"
}
```

Dependencies: **#11574**



---

archive/issue_comments_082976.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nI'm a little confused.  The spkgs here and at #11574 are both libm4ri, and seem to be numbered backwards (the \"earlier\" one in the dependency is from 2011).",
    "created_at": "2011-07-05T13:56:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82976",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:43" align="right">comment:43</div>

I'm a little confused.  The spkgs here and at #11574 are both libm4ri, and seem to be numbered backwards (the "earlier" one in the dependency is from 2011).



---

archive/issue_comments_082977.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nOkay, I figured it out - sorry for the noise.  I agree that it is very annoying to have two things inside the same spkg.  There is, for instance, an open ticket to remove rpy2 from the r spkg.",
    "created_at": "2011-07-05T14:50:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82977",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:44" align="right">comment:44</div>

Okay, I figured it out - sorry for the noise.  I agree that it is very annoying to have two things inside the same spkg.  There is, for instance, an open ticket to remove rpy2 from the r spkg.



---

archive/issue_comments_082978.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nReplying to [@kcrisman](#comment:44):\n> Okay, I figured it out - sorry for the noise.\n\nNP, I should have explained things better.\n\n> I agree that it is very annoying to have two things inside the same spkg.  \n> There is, for instance, an open ticket to remove rpy2 from the r spkg.  \n\nWell, it makes it easier to re-use tuning results. For example, I plan to run the cache tuning only once, i.e. for M4RI and M4RIE would re-use the results.",
    "created_at": "2011-07-05T15:12:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82978",
    "user": "https://github.com/malb"
}
```

<div id="comment:45" align="right">comment:45</div>

Replying to [@kcrisman](#comment:44):
> Okay, I figured it out - sorry for the noise.

NP, I should have explained things better.

> I agree that it is very annoying to have two things inside the same spkg.  
> There is, for instance, an open ticket to remove rpy2 from the r spkg.  

Well, it makes it easier to re-use tuning results. For example, I plan to run the cache tuning only once, i.e. for M4RI and M4RIE would re-use the results.



---

archive/issue_comments_082979.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nReplying to [@malb](#comment:45):\n> Replying to [@kcrisman](#comment:44):\n> > I agree that it is very annoying to have two things inside the same spkg.  \n> > There is, for instance, an open ticket to remove rpy2 from the r spkg.  \n\n> \n> Well, it makes it easier to re-use tuning results. For example, I plan to run the cache tuning only once, i.e. for M4RI and M4RIE would re-use the results. \n\nThat makes a lot of sense, especially since that takes a while even on speedy machines.\n\n---\nBy the way, I tried #11574 but ran into trouble with an undefined symbol about `m4ri_swap_bits`, perhaps due to my having installed #9562 first.  I did apply the patch at #11574.  Anyway, I'm reverting to the vanilla Sage version, and then going back to #11574 (I already had done the PolyBoRi upgrade).",
    "created_at": "2011-07-05T15:17:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82979",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:46" align="right">comment:46</div>

Replying to [@malb](#comment:45):
> Replying to [@kcrisman](#comment:44):
> > I agree that it is very annoying to have two things inside the same spkg.  
> > There is, for instance, an open ticket to remove rpy2 from the r spkg.  

> 
> Well, it makes it easier to re-use tuning results. For example, I plan to run the cache tuning only once, i.e. for M4RI and M4RIE would re-use the results. 

That makes a lot of sense, especially since that takes a while even on speedy machines.

---
By the way, I tried #11574 but ran into trouble with an undefined symbol about `m4ri_swap_bits`, perhaps due to my having installed #9562 first.  I did apply the patch at #11574.  Anyway, I'm reverting to the vanilla Sage version, and then going back to #11574 (I already had done the PolyBoRi upgrade).



---

archive/issue_comments_082980.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nHi, I updated the patch for #11574 21h ago, did you try it? It fixes the missing symbol stuff.",
    "created_at": "2011-07-05T15:22:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82980",
    "user": "https://github.com/malb"
}
```

<div id="comment:47" align="right">comment:47</div>

Hi, I updated the patch for #11574 21h ago, did you try it? It fixes the missing symbol stuff.



---

archive/issue_comments_082981.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nReplying to [@malb](#comment:47):\n> Hi, I updated the patch for #11574 21h ago, did you try it? It fixes the missing symbol stuff.\n\nYes, for some reason I must have had things applied in the wrong order, though, so I am starting from scratch.",
    "created_at": "2011-07-05T15:34:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82981",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:48" align="right">comment:48</div>

Replying to [@malb](#comment:47):
> Hi, I updated the patch for #11574 21h ago, did you try it? It fixes the missing symbol stuff.

Yes, for some reason I must have had things applied in the wrong order, though, so I am starting from scratch.



---

archive/issue_comments_082982.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,5 +4,5 @@\n \n Sage Days 24 coding sprint: http://wiki.sagemath.org/days24/projects/gf2e\n \n-* **Install** http://sage.math.washington.edu/home/malb/spkgs/libm4ri-20100817.p0.spkg\n+* **Install** http://sage.math.washington.edu/home/malb/spkgs/libm4ri-20110715.spkg\n * **Apply** [attachment: m4rie_for_sage.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_for_sage.patch.gz)\n``````\n",
    "created_at": "2011-07-06T16:41:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82982",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,5 +4,5 @@
 
 Sage Days 24 coding sprint: http://wiki.sagemath.org/days24/projects/gf2e
 
-* **Install** http://sage.math.washington.edu/home/malb/spkgs/libm4ri-20100817.p0.spkg
+* **Install** http://sage.math.washington.edu/home/malb/spkgs/libm4ri-20110715.spkg
 * **Apply** [attachment: m4rie_for_sage.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_for_sage.patch.gz)
``````




---

archive/issue_events_122017.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2011-07-06T16:41:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122017"
}
```



---

archive/issue_events_122018.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2011-07-06T16:41:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122018"
}
```



---

archive/issue_comments_082983.json:
```json
{
    "body": "apply to root repository not to normal Sage repository",
    "created_at": "2011-07-06T16:48:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82983",
    "user": "https://github.com/malb"
}
```

apply to root repository not to normal Sage repository



---

archive/issue_comments_082984.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nAttachment: **[m4rie_spkg.patch.gz](https://github.com/sagemath/sage/files/ticket9562/m4rie_spkg.patch.gz)**",
    "created_at": "2011-07-06T16:48:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82984",
    "user": "https://github.com/malb"
}
```

<div id="comment:51" align="right">comment:51</div>

Attachment: **[m4rie_spkg.patch.gz](https://github.com/sagemath/sage/files/ticket9562/m4rie_spkg.patch.gz)**



---

archive/issue_comments_082985.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,3 +6,4 @@\n \n * **Install** http://sage.math.washington.edu/home/malb/spkgs/libm4ri-20110715.spkg\n * **Apply** [attachment: m4rie_for_sage.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_for_sage.patch.gz)\n+* **Apply** [attachment: m4rie_spkg.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_spkg.patch.gz) to Sage root repository\n``````\n",
    "created_at": "2011-07-06T16:48:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82985",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,3 +6,4 @@
 
 * **Install** http://sage.math.washington.edu/home/malb/spkgs/libm4ri-20110715.spkg
 * **Apply** [attachment: m4rie_for_sage.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_for_sage.patch.gz)
+* **Apply** [attachment: m4rie_spkg.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_spkg.patch.gz) to Sage root repository
``````




---

archive/issue_comments_082986.json:
```json
{
    "body": "Changed upstream from **None of the above - read trac for reasoning.** to none",
    "created_at": "2011-07-06T16:49:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82986",
    "user": "https://github.com/malb"
}
```

Changed upstream from **None of the above - read trac for reasoning.** to none



---

archive/issue_events_122019.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2011-07-06T18:54:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122019"
}
```



---

archive/issue_events_122020.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2011-07-06T18:54:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122020"
}
```



---

archive/issue_comments_082987.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nPlease no\n\n```\ndepends = [SAGE_ROOT + \"/local/include/m4rie/m4rie.h\"],\n```\nin module_list.py I have just cleaned up (#11377) do\n\n```\ndepends = [SAGE_INC + \"m4rie/m4rie.h\"],\n```\ninstead.",
    "created_at": "2011-07-06T18:54:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82987",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:53" align="right">comment:53</div>

Please no

```
depends = [SAGE_ROOT + "/local/include/m4rie/m4rie.h"],
```
in module_list.py I have just cleaned up (#11377) do

```
depends = [SAGE_INC + "m4rie/m4rie.h"],
```
instead.



---

archive/issue_events_122021.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2011-07-07T09:30:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122021"
}
```



---

archive/issue_events_122022.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2011-07-07T09:30:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122022"
}
```



---

archive/issue_comments_082988.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nOkay, fixed.",
    "created_at": "2011-07-07T09:30:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82988",
    "user": "https://github.com/malb"
}
```

<div id="comment:54" align="right">comment:54</div>

Okay, fixed.



---

archive/issue_comments_082989.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,6 +4,6 @@\n \n Sage Days 24 coding sprint: http://wiki.sagemath.org/days24/projects/gf2e\n \n-* **Install** http://sage.math.washington.edu/home/malb/spkgs/libm4ri-20110715.spkg\n+* **Install** http://sage.math.washington.edu/home/malb/spkgs/libm4rie-20110715.spkg\n * **Apply** [attachment: m4rie_for_sage.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_for_sage.patch.gz)\n * **Apply** [attachment: m4rie_spkg.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_spkg.patch.gz) to Sage root repository\n``````\n",
    "created_at": "2011-07-07T09:51:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82989",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,6 +4,6 @@
 
 Sage Days 24 coding sprint: http://wiki.sagemath.org/days24/projects/gf2e
 
-* **Install** http://sage.math.washington.edu/home/malb/spkgs/libm4ri-20110715.spkg
+* **Install** http://sage.math.washington.edu/home/malb/spkgs/libm4rie-20110715.spkg
 * **Apply** [attachment: m4rie_for_sage.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_for_sage.patch.gz)
 * **Apply** [attachment: m4rie_spkg.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_spkg.patch.gz) to Sage root repository
``````




---

archive/issue_comments_082990.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nIf I could just squeeze an extra request (not counting for review): could you tag a corresponding release of m4rie on bitbucket? That way I could make a gentoo ebuild from the bitbucket release rather than pulling the spkg. \n\nI also see that suddenly we have split libm4rie from libm4ri (which I am happy about) but without apparent warnings.",
    "created_at": "2011-07-10T04:16:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82990",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:56" align="right">comment:56</div>

If I could just squeeze an extra request (not counting for review): could you tag a corresponding release of m4rie on bitbucket? That way I could make a gentoo ebuild from the bitbucket release rather than pulling the spkg. 

I also see that suddenly we have split libm4rie from libm4ri (which I am happy about) but without apparent warnings.



---

archive/issue_comments_082991.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nYeah, sorry I was a bit lazy:\n\n1) There will be an official 20110715 release of both M4RI and M4RIE. I put together the SPKGs to test whether they work with Sage. So perhaps I shouldn't have set \"needs review\"\n\n2) Yes, I gave in to the demand to split them. I should have mentioned it.",
    "created_at": "2011-07-10T11:30:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82991",
    "user": "https://github.com/malb"
}
```

<div id="comment:57" align="right">comment:57</div>

Yeah, sorry I was a bit lazy:

1) There will be an official 20110715 release of both M4RI and M4RIE. I put together the SPKGs to test whether they work with Sage. So perhaps I shouldn't have set "needs review"

2) Yes, I gave in to the demand to split them. I should have mentioned it.



---

archive/issue_events_122023.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2011-07-10T11:30:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122023"
}
```



---

archive/issue_events_122024.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2011-07-10T11:30:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122024"
}
```



---

archive/issue_comments_082992.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nI must say it only occurred to me yesterday while looking at tags on bitbucket that 20110715 is in the future.",
    "created_at": "2011-07-10T19:44:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82992",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:58" align="right">comment:58</div>

I must say it only occurred to me yesterday while looking at tags on bitbucket that 20110715 is in the future.



---

archive/issue_events_122025.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2011-07-11T14:22:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122025"
}
```



---

archive/issue_events_122026.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2011-07-11T14:22:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122026"
}
```



---

archive/issue_comments_082993.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nIt's now officially released.",
    "created_at": "2011-07-11T14:22:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82993",
    "user": "https://github.com/malb"
}
```

<div id="comment:59" align="right">comment:59</div>

It's now officially released.



---

archive/issue_comments_082994.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,6 +4,6 @@\n \n Sage Days 24 coding sprint: http://wiki.sagemath.org/days24/projects/gf2e\n \n-* **Install** http://sage.math.washington.edu/home/malb/spkgs/libm4rie-20110715.spkg\n+* **Install** https://bitbucket.org/malb/m4ri/downloads/libm4rie-20110715.spkg\n * **Apply** [attachment: m4rie_for_sage.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_for_sage.patch.gz)\n * **Apply** [attachment: m4rie_spkg.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_spkg.patch.gz) to Sage root repository\n``````\n",
    "created_at": "2011-07-11T14:27:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82994",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,6 +4,6 @@
 
 Sage Days 24 coding sprint: http://wiki.sagemath.org/days24/projects/gf2e
 
-* **Install** http://sage.math.washington.edu/home/malb/spkgs/libm4rie-20110715.spkg
+* **Install** https://bitbucket.org/malb/m4ri/downloads/libm4rie-20110715.spkg
 * **Apply** [attachment: m4rie_for_sage.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_for_sage.patch.gz)
 * **Apply** [attachment: m4rie_spkg.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_spkg.patch.gz) to Sage root repository
``````




---

archive/issue_comments_082995.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nI get numerous errors when trying to install the spkg. The following is just a small selection of errors:\n\n```\n...\n/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:248: error: too many arguments to function 'mzed_make_table'\n/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:249: warning: passing argument 2 of 'mzed_make_table' makes pointer from integer without a cast\n/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:145: note: expected 'struct mzed_t *' but argument is of type 'size_t'\n/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:249: warning: passing argument 3 of 'mzed_make_table' makes pointer from integer without a cast\n/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:145: note: expected 'struct gf2e *' but argument is of type 'size_t'\n/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:249: error: too many arguments to function 'mzed_make_table'\n/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:251: error: 'mzed_t' has no member named 'nrows'\n/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:251: warning: passing argument 2 of 'mzed_process_rows3' makes pointer from integer without a cast\n/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.h:172: note: expected 'struct mzed_t *' but argument is of type 'size_t'\n/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:251: warning: passing argument 4 of 'mzed_process_rows3' makes pointer from integer without a cast\n/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.h:172: note: expected 'struct mzed_t *' but argument is of type 'size_t'\n/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:251: error: too many arguments to function 'mzed_process_rows3'\n/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:253: warning: passing argument 3 of 'mzed_process_rows3' makes pointer from integer without a cast\n/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.h:172: note: expected 'struct mzed_t *' but argument is of type 'size_t'\n/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:253: warning: passing argument 4 of 'mzed_process_rows3' makes pointer from integer without a cast\n/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.h:172: note: expected 'struct mzed_t *' but argument is of type 'size_t'\n/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:253: error: too many arguments to function 'mzed_process_rows3'\n/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:256: warning: passing argument 2 of 'mzed_make_table' makes pointer from integer without a cast\n/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:145: note: expected 'struct mzed_t *' but argument is of type 'size_t'\nmake[1]: libtool: compile:  gcc -std=gnu99 -DHAVE_CONFIG_H -I. -I/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie -I./src -I/mnt/local/king/SAGE/sage-4.7.1.rc1/local/include -I/mnt/local/king/SAGE/sage-4.7.1.rc1/local/include -g -fPIC -Wall -pedantic -O2 -MT finite_field.lo -MD -MP -MF .deps/finite_field.Tpo -c /mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/finite_field.c -o finite_field.o >/dev/null 2>&1\n*** [gf2e_matrix.lo] Fehler 1\n...\n```\n\nWhat may be the problem? Is it needed to apply the patches first (in contrast to what is said in the ticket description)?",
    "created_at": "2011-08-15T16:53:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82995",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:62" align="right">comment:62</div>

I get numerous errors when trying to install the spkg. The following is just a small selection of errors:

```
...
/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:248: error: too many arguments to function 'mzed_make_table'
/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:249: warning: passing argument 2 of 'mzed_make_table' makes pointer from integer without a cast
/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:145: note: expected 'struct mzed_t *' but argument is of type 'size_t'
/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:249: warning: passing argument 3 of 'mzed_make_table' makes pointer from integer without a cast
/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:145: note: expected 'struct gf2e *' but argument is of type 'size_t'
/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:249: error: too many arguments to function 'mzed_make_table'
/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:251: error: 'mzed_t' has no member named 'nrows'
/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:251: warning: passing argument 2 of 'mzed_process_rows3' makes pointer from integer without a cast
/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.h:172: note: expected 'struct mzed_t *' but argument is of type 'size_t'
/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:251: warning: passing argument 4 of 'mzed_process_rows3' makes pointer from integer without a cast
/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.h:172: note: expected 'struct mzed_t *' but argument is of type 'size_t'
/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:251: error: too many arguments to function 'mzed_process_rows3'
/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:253: warning: passing argument 3 of 'mzed_process_rows3' makes pointer from integer without a cast
/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.h:172: note: expected 'struct mzed_t *' but argument is of type 'size_t'
/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:253: warning: passing argument 4 of 'mzed_process_rows3' makes pointer from integer without a cast
/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.h:172: note: expected 'struct mzed_t *' but argument is of type 'size_t'
/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:253: error: too many arguments to function 'mzed_process_rows3'
/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:256: warning: passing argument 2 of 'mzed_make_table' makes pointer from integer without a cast
/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/travolta.c:145: note: expected 'struct mzed_t *' but argument is of type 'size_t'
make[1]: libtool: compile:  gcc -std=gnu99 -DHAVE_CONFIG_H -I. -I/mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie -I./src -I/mnt/local/king/SAGE/sage-4.7.1.rc1/local/include -I/mnt/local/king/SAGE/sage-4.7.1.rc1/local/include -g -fPIC -Wall -pedantic -O2 -MT finite_field.lo -MD -MP -MF .deps/finite_field.Tpo -c /mnt/local/king/SAGE/sage-4.7.1.rc1/spkg/build/libm4rie-20110715/m4rie/src/finite_field.c -o finite_field.o >/dev/null 2>&1
*** [gf2e_matrix.lo] Fehler 1
...
```

What may be the problem? Is it needed to apply the patches first (in contrast to what is said in the ticket description)?



---

archive/issue_events_122027.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-08-15T16:53:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122027"
}
```



---

archive/issue_events_122028.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-08-15T16:53:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122028"
}
```



---

archive/issue_comments_082996.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nOuch. Sorry. Right when hitting the \"submit\" button, I saw that the ticket has a dependency that I forgot to apply first.",
    "created_at": "2011-08-15T16:53:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82996",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:63" align="right">comment:63</div>

Ouch. Sorry. Right when hitting the "submit" button, I saw that the ticket has a dependency that I forgot to apply first.



---

archive/issue_events_122029.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-08-15T16:54:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122029"
}
```



---

archive/issue_events_122030.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-08-15T16:54:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122030"
}
```



---

archive/issue_comments_082997.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nI got doctest failures in 4 files. But I have to admit that I applied your patch on top of various other patches, in particular #9138 (which is quite invasive). So, it could be that the problems are ultimately due to other patches.",
    "created_at": "2011-08-15T20:11:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82997",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:65" align="right">comment:65</div>

I got doctest failures in 4 files. But I have to admit that I applied your patch on top of various other patches, in particular #9138 (which is quite invasive). So, it could be that the problems are ultimately due to other patches.



---

archive/issue_comments_082998.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nI'll build 4.7.1.rc2 (on sage.math and locally) and test with that.",
    "created_at": "2011-08-15T20:27:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82998",
    "user": "https://github.com/malb"
}
```

<div id="comment:66" align="right">comment:66</div>

I'll build 4.7.1.rc2 (on sage.math and locally) and test with that.



---

archive/issue_comments_082999.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nSimon, did you install #11261 as well and rebuild pbori.pyx? It's a dependency of the M4RI update and easy to overlook.",
    "created_at": "2011-08-15T22:26:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-82999",
    "user": "https://github.com/malb"
}
```

<div id="comment:67" align="right">comment:67</div>

Simon, did you install #11261 as well and rebuild pbori.pyx? It's a dependency of the M4RI update and easy to overlook.



---

archive/issue_comments_083000.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nWith everything applied + 4.7.1.rc2 I get\n\n```\nThe following tests failed:\n\nsage -t  -long -force_lib devel/sage/sage/tests/cmdline.py # 1 doctests failed\n```\n\nwhich is normal on sage.math.",
    "created_at": "2011-08-15T22:54:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83000",
    "user": "https://github.com/malb"
}
```

<div id="comment:68" align="right">comment:68</div>

With everything applied + 4.7.1.rc2 I get

```
The following tests failed:

sage -t  -long -force_lib devel/sage/sage/tests/cmdline.py # 1 doctests failed
```

which is normal on sage.math.



---

archive/issue_comments_083001.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nReplying to [@malb](#comment:67):\n> Simon, did you install #11261 as well and rebuild pbori.pyx? It's a dependency of the M4RI update and easy to overlook.\n\nMe stupid! I only installed #11574, but not its dependency!",
    "created_at": "2011-08-16T06:10:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83001",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:69" align="right">comment:69</div>

Replying to [@malb](#comment:67):
> Simon, did you install #11261 as well and rebuild pbori.pyx? It's a dependency of the M4RI update and easy to overlook.

Me stupid! I only installed #11574, but not its dependency!



---

archive/issue_comments_083002.json:
```json
{
    "body": "Changed reviewer from **Paul Zimmermann** to **Paul Zimmermann, Simon King**",
    "created_at": "2011-08-16T10:44:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83002",
    "user": "https://github.com/simon-king-jena"
}
```

Changed reviewer from **Paul Zimmermann** to **Paul Zimmermann, Simon King**



---

archive/issue_comments_083003.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nThe doc tests pass, but I think the documentation must be put into the reference manual.",
    "created_at": "2011-08-16T10:44:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83003",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:70" align="right">comment:70</div>

The doc tests pass, but I think the documentation must be put into the reference manual.



---

archive/issue_events_122031.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-08-16T10:44:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122031"
}
```



---

archive/issue_events_122032.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-08-16T10:44:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122032"
}
```



---

archive/issue_comments_083004.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nI found one benchmark that you should improve:\n\n```\nsage: MS = MatrixSpace(GF(64,'a'),5000,5000)\nsage: K = MS.base_ring()\nsage: c = K.random_element()\nsage: %time A*c\nCPU times: user 1.33 s, sys: 0.02 s, total: 1.35 s\nWall time: 1.35 s\n5000 x 5000 dense matrix over Finite Field in a of size 2^6\nsage: MS1 = MatrixSpace(GF(64,'a'),1,5000)\nsage: B = MS1.random_element()\nsage: %timeit B*c\n625 loops, best of 3: 291 \u00b5s per loop\n```\n\nThe reason is that \"A*c\" relies on a slow generic implementation.\n\nI am sure that your library has a fast way to multiply a row respectively a matrix with a scalar. But you should overload `_lmul_` (please not `_rmul_`, according to the documentation), so that the user can benefit from it.",
    "created_at": "2011-08-16T11:54:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83004",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:71" align="right">comment:71</div>

I found one benchmark that you should improve:

```
sage: MS = MatrixSpace(GF(64,'a'),5000,5000)
sage: K = MS.base_ring()
sage: c = K.random_element()
sage: %time A*c
CPU times: user 1.33 s, sys: 0.02 s, total: 1.35 s
Wall time: 1.35 s
5000 x 5000 dense matrix over Finite Field in a of size 2^6
sage: MS1 = MatrixSpace(GF(64,'a'),1,5000)
sage: B = MS1.random_element()
sage: %timeit B*c
625 loops, best of 3: 291 µs per loop
```

The reason is that "A*c" relies on a slow generic implementation.

I am sure that your library has a fast way to multiply a row respectively a matrix with a scalar. But you should overload `_lmul_` (please not `_rmul_`, according to the documentation), so that the user can benefit from it.



---

archive/issue_comments_083005.json:
```json
{
    "body": "Work Issues: **Improve scalar multiplication; add docs to the references**",
    "created_at": "2011-08-16T11:54:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83005",
    "user": "https://github.com/simon-king-jena"
}
```

Work Issues: **Improve scalar multiplication; add docs to the references**



---

archive/issue_comments_083006.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nReplying to [@simon-king-jena](#comment:70):\n> The doc tests pass, but I think the documentation must be put into the reference manual.\n\nI'm not sure that's desirable: most functions are cdefs and hence won't show up. Other functions begin with underscores (`_foo`) and hence won't show up. Thus, it looks pretty weird and as if very few actual functionality was implemented.",
    "created_at": "2011-08-16T12:18:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83006",
    "user": "https://github.com/malb"
}
```

<div id="comment:72" align="right">comment:72</div>

Replying to [@simon-king-jena](#comment:70):
> The doc tests pass, but I think the documentation must be put into the reference manual.

I'm not sure that's desirable: most functions are cdefs and hence won't show up. Other functions begin with underscores (`_foo`) and hence won't show up. Thus, it looks pretty weird and as if very few actual functionality was implemented.



---

archive/issue_events_122033.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2011-08-16T12:39:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122033"
}
```



---

archive/issue_events_122034.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2011-08-16T12:39:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122034"
}
```



---

archive/issue_comments_083007.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\nThe updated patch includes `_lmul_` and includes this class in the reference manual. However, there isn't much content any way so it might be better not to include it?",
    "created_at": "2011-08-16T12:39:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83007",
    "user": "https://github.com/malb"
}
```

<div id="comment:73" align="right">comment:73</div>

The updated patch includes `_lmul_` and includes this class in the reference manual. However, there isn't much content any way so it might be better not to include it?



---

archive/issue_comments_083008.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">comment:74</div>\n\nReplying to [@malb](#comment:73):\n> The updated patch includes `_lmul_` and includes this class in the reference manual. However, there isn't much content any way so it might be better not to include it?\n\nActually it seems you are right. ALL attributes of `sage.matrix.matrix_mod2_dense.Matrix_mod2_dense` either start with \"_\" or override a method that is documented in `sage.matrix.matrix_dense.Matrix_dense`.",
    "created_at": "2011-08-16T12:43:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83008",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:74" align="right">comment:74</div>

Replying to [@malb](#comment:73):
> The updated patch includes `_lmul_` and includes this class in the reference manual. However, there isn't much content any way so it might be better not to include it?

Actually it seems you are right. ALL attributes of `sage.matrix.matrix_mod2_dense.Matrix_mod2_dense` either start with "_" or override a method that is documented in `sage.matrix.matrix_dense.Matrix_dense`.



---

archive/issue_comments_083009.json:
```json
{
    "body": "Changed work issues from **Improve scalar multiplication; add docs to the references** to **Improve scalar multiplication**",
    "created_at": "2011-08-16T12:43:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83009",
    "user": "https://github.com/simon-king-jena"
}
```

Changed work issues from **Improve scalar multiplication; add docs to the references** to **Improve scalar multiplication**



---

archive/issue_comments_083010.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nI am puzzled. I see that your new patch version contains _lmul_. When I downloaded it and read it in an editor, I find _lmul_. When I qdelete the old patch and qimport the new one, then `_lmul_` is missing.\n\nDo you have any explanation for what I did wrong?",
    "created_at": "2011-08-16T12:56:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83010",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:75" align="right">comment:75</div>

I am puzzled. I see that your new patch version contains _lmul_. When I downloaded it and read it in an editor, I find _lmul_. When I qdelete the old patch and qimport the new one, then `_lmul_` is missing.

Do you have any explanation for what I did wrong?



---

archive/issue_comments_083011.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">comment:76</div>\n\n`qpush` missing?",
    "created_at": "2011-08-16T13:00:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83011",
    "user": "https://github.com/malb"
}
```

<div id="comment:76" align="right">comment:76</div>

`qpush` missing?



---

archive/issue_comments_083012.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">comment:77</div>\n\nReplying to [@malb](#comment:76):\n> `qpush` missing?\n\nNo. When I tried first, I simply did `qpush` after the qimport, and `sage -br`, but found that `_lmul_` was missing.\n\nWhen one qimports a patch, then it is stored in the folder `.hg/patches`. When one qdeletes it, it is also removed from the folder.\n\nAnd when I qimported your new patch, a file with the given patch name was created in `.hg/patches`, but that file did *not* contain the string \"lmul\".\n\nThat never happened to me before today.",
    "created_at": "2011-08-16T14:15:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83012",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:77" align="right">comment:77</div>

Replying to [@malb](#comment:76):
> `qpush` missing?

No. When I tried first, I simply did `qpush` after the qimport, and `sage -br`, but found that `_lmul_` was missing.

When one qimports a patch, then it is stored in the folder `.hg/patches`. When one qdeletes it, it is also removed from the folder.

And when I qimported your new patch, a file with the given patch name was created in `.hg/patches`, but that file did *not* contain the string "lmul".

That never happened to me before today.



---

archive/issue_comments_083013.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">comment:78</div>\n\nI worked around the problem: I downloaded the new patch, saved it locally, and qimported it from the local file. I wonder, though, why the old patch version was not used when qimporting it with the http-address?",
    "created_at": "2011-08-16T14:19:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83013",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:78" align="right">comment:78</div>

I worked around the problem: I downloaded the new patch, saved it locally, and qimported it from the local file. I wonder, though, why the old patch version was not used when qimporting it with the http-address?



---

archive/issue_comments_083014.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">comment:79</div>\n\nReplying to [@simon-king-jena](#comment:78):\n> I wonder, though, why the old patch version was not used when qimporting it with the http-address?\n\nOne negation to many: \"... why the old patch version was *used* when qimporting it via http\".",
    "created_at": "2011-08-16T14:20:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83014",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:79" align="right">comment:79</div>

Replying to [@simon-king-jena](#comment:78):
> I wonder, though, why the old patch version was not used when qimporting it with the http-address?

One negation to many: "... why the old patch version was *used* when qimporting it via http".



---

archive/issue_comments_083015.json:
```json
{
    "body": "<div id=\"comment:80\" align=\"right\">comment:80</div>\n\nThe timings have clearly improved:\n\n```\nsage: MS = MatrixSpace(GF(64,'a'),5000,5000)\nsage: K = MS.base_ring()\nsage: c = K.random_element()\nsage: A = MS.random_element()\nsage: %time A*c\nCPU times: user 0.68 s, sys: 0.02 s, total: 0.70 s\nWall time: 0.71 s\n5000 x 5000 dense matrix over Finite Field in a of size 2^6\nsage: MS1 = MatrixSpace(GF(64,'a'),1,5000)\nsage: B = MS1.random_element()\nsage: %timeit B*c\n625 loops, best of 3: 88.3 \u00b5s per loop\n```\n\nThat is good enough, I'd say.\n\nPersonally, I am still not happy, since scalar multiplication will very frequently occur in my application. My Meataxe fork does the first example in 39.4 ms and the second one in 20 \u00b5s. On the other hand, the time that I can gain by using M4RIE in echelon computation will probably be more than the time lost in scalar multiplication...",
    "created_at": "2011-08-16T14:34:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83015",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:80" align="right">comment:80</div>

The timings have clearly improved:

```
sage: MS = MatrixSpace(GF(64,'a'),5000,5000)
sage: K = MS.base_ring()
sage: c = K.random_element()
sage: A = MS.random_element()
sage: %time A*c
CPU times: user 0.68 s, sys: 0.02 s, total: 0.70 s
Wall time: 0.71 s
5000 x 5000 dense matrix over Finite Field in a of size 2^6
sage: MS1 = MatrixSpace(GF(64,'a'),1,5000)
sage: B = MS1.random_element()
sage: %timeit B*c
625 loops, best of 3: 88.3 µs per loop
```

That is good enough, I'd say.

Personally, I am still not happy, since scalar multiplication will very frequently occur in my application. My Meataxe fork does the first example in 39.4 ms and the second one in 20 µs. On the other hand, the time that I can gain by using M4RIE in echelon computation will probably be more than the time lost in scalar multiplication...



---

archive/issue_comments_083016.json:
```json
{
    "body": "<div id=\"comment:81\" align=\"right\">comment:81</div>\n\nthis is now https://bitbucket.org/malb/m4rie/issue/9/improve-scalar-multiplication-for-mzed_t",
    "created_at": "2011-08-16T16:02:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83016",
    "user": "https://github.com/malb"
}
```

<div id="comment:81" align="right">comment:81</div>

this is now https://bitbucket.org/malb/m4rie/issue/9/improve-scalar-multiplication-for-mzed_t



---

archive/issue_comments_083017.json:
```json
{
    "body": "<div id=\"comment:82\" align=\"right\">comment:82</div>\n\nthe updated patch avoids adding this class to the reference manual.",
    "created_at": "2011-08-17T14:14:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83017",
    "user": "https://github.com/malb"
}
```

<div id="comment:82" align="right">comment:82</div>

the updated patch avoids adding this class to the reference manual.



---

archive/issue_comments_083018.json:
```json
{
    "body": "<div id=\"comment:83\" align=\"right\">comment:83</div>\n\nWith the old version of the M4RI and M4RIE patches, I got some doctest errors on mark (which is solaris):\n\n```\n        sage -t  -force_lib \"devel/sage/sage/rings/polynomial/pbori.pyx\"\n        sage -t  -force_lib \"devel/sage/sage/rings/polynomial/multi_polynomial_sequence.py\"\n        sage -t  -force_lib \"devel/sage/sage/plot/plot.py\" # Time out\n        sage -t  -force_lib \"devel/sage/sage/crypto/mq/mpolynomialsystem.py\"\n        sage -t  -force_lib \"devel/sage/sage/crypto/mq/sr.py\"\n        sage -t  -force_lib \"devel/sage/sage/schemes/elliptic_curves/ell_rational_field.py\" # Time out  \n        sage -t  -force_lib \"devel/sage/sage/schemes/elliptic_curves/heegner.py\" # Time out\n```\n\nI need to investigate it further.",
    "created_at": "2011-08-17T16:58:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83018",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:83" align="right">comment:83</div>

With the old version of the M4RI and M4RIE patches, I got some doctest errors on mark (which is solaris):

```
        sage -t  -force_lib "devel/sage/sage/rings/polynomial/pbori.pyx"
        sage -t  -force_lib "devel/sage/sage/rings/polynomial/multi_polynomial_sequence.py"
        sage -t  -force_lib "devel/sage/sage/plot/plot.py" # Time out
        sage -t  -force_lib "devel/sage/sage/crypto/mq/mpolynomialsystem.py"
        sage -t  -force_lib "devel/sage/sage/crypto/mq/sr.py"
        sage -t  -force_lib "devel/sage/sage/schemes/elliptic_curves/ell_rational_field.py" # Time out  
        sage -t  -force_lib "devel/sage/sage/schemes/elliptic_curves/heegner.py" # Time out
```

I need to investigate it further.



---

archive/issue_comments_083019.json:
```json
{
    "body": "<div id=\"comment:84\" align=\"right\">comment:84</div>\n\nReplying to [@simon-king-jena](#comment:83):\n> With the old version of the M4RI and M4RIE patches, I got some doctest errors on mark (which is solaris):\n\nAnd that's since I am stupid!!! Again I forgot to install the dependencies!",
    "created_at": "2011-08-17T17:01:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83019",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:84" align="right">comment:84</div>

Replying to [@simon-king-jena](#comment:83):
> With the old version of the M4RI and M4RIE patches, I got some doctest errors on mark (which is solaris):

And that's since I am stupid!!! Again I forgot to install the dependencies!



---

archive/issue_comments_083020.json:
```json
{
    "body": "<div id=\"comment:85\" align=\"right\">comment:85</div>\n\nReplying to [@simon-king-jena](#comment:84):\n>  \n> And that's since I am stupid!!! Again I forgot to install the dependencies!\n\nOr perhaps not. The new polybori spkg from #11261 is installed, and so is the new M4RI spkg and the corresponding patches.\n\nI have to leave office now. But it seems that either #11574 or this ticket are causing the problem.",
    "created_at": "2011-08-17T17:06:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83020",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:85" align="right">comment:85</div>

Replying to [@simon-king-jena](#comment:84):
>  
> And that's since I am stupid!!! Again I forgot to install the dependencies!

Or perhaps not. The new polybori spkg from #11261 is installed, and so is the new M4RI spkg and the corresponding patches.

I have to leave office now. But it seems that either #11574 or this ticket are causing the problem.



---

archive/issue_comments_083021.json:
```json
{
    "body": "<div id=\"comment:86\" align=\"right\">comment:86</div>\n\nCan you touch `sage/libs/polybori/decl.pxd`, run `sage -b` and try those again?",
    "created_at": "2011-08-17T17:13:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83021",
    "user": "https://github.com/malb"
}
```

<div id="comment:86" align="right">comment:86</div>

Can you touch `sage/libs/polybori/decl.pxd`, run `sage -b` and try those again?



---

archive/issue_comments_083022.json:
```json
{
    "body": "<div id=\"comment:87\" align=\"right\">comment:87</div>\n\nReplying to [@malb](#comment:86):\n> Can you touch `sage/libs/polybori/decl.pxd`, run `sage -b` and try those again? \n\nI did, and get a segfault in `sage -t -force_lib \"devel/sage/sage/rings/polynomial/pbori.pyx\"`. That actually happens with #11574, so, I should report there.",
    "created_at": "2011-08-17T18:29:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83022",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:87" align="right">comment:87</div>

Replying to [@malb](#comment:86):
> Can you touch `sage/libs/polybori/decl.pxd`, run `sage -b` and try those again? 

I did, and get a segfault in `sage -t -force_lib "devel/sage/sage/rings/polynomial/pbori.pyx"`. That actually happens with #11574, so, I should report there.



---

archive/issue_events_122035.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-08-20T13:27:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122035"
}
```



---

archive/issue_events_122036.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-08-20T13:27:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122036"
}
```



---

archive/issue_comments_083023.json:
```json
{
    "body": "<div id=\"comment:88\" align=\"right\">comment:88</div>\n\nFinally, the tests on 32 bit solaris (mark on skynet) are finshed. They passed, modulo the usual timeouts. The long tests pass on my machine. If I understand the discussion above, it builds on 64 bit solaris and on Cygwin as well, and of course on linux and os x.\n\nMoreover, it provides a very impressive speedup compared with old Sage matrices over GF(2<sup>e</sup>). If I am not mistaken, it is even faster than Magma.\n\nSo, it is almost a positive review.\n\nBut there remain a few things to do.\n\n1. David Kirkby noted that we are adding a new standard spkg here. So, there should be a voting on sage-devel. So, that's \"needs info\".\n\n2. I found some issues with the \"randomize\" methods. \n\n   i) The randomize method in sage/libs/ntl/ntl_mat_GF2E.pyx is not documented (thus, also has no tests), and it lacks the usual optional arguments `density` and `nonzero`.\n\n   ii) The doc of Matrix_mod2e_dense.randomize gives no use cases for the optional arguments. Actually, the behaviour when passing the optional arguments is clearly not what we want:\n\n  ```\n  sage: MS = MatrixSpace(GF(64,'a'),100,100)\n  sage: A = MS.random_element(densitiy=0.3)\n  sage: A.density()\n  4913/5000\n  sage: B = MS.random_element(nonzero=True)\n  sage: B.density()\n  2469/2500\n  sage: C = MS.random_element(nonzero=True, density=1)\n  sage: C.density()\n  2461/2500\n  sage: D = MS.random_element(density=0)\n  sage: D.density()\n  983/1000\n   ```\n\n3. The doc of many methods needs some polishing.\n\n   * It would be nice to have a reference to research articles. I had never heard of Travolta tables before. Strassen-Winograd and Karatsuba may be better known, but still, a reference could help.\n\n   * _matrix_times_matrix is not documented.\n\n   * `__init__`, `__cinit__` do not specify their arguments.\n\n   * `_lmul_`, `__neg__`, `__richcmp__`, `__invert__`, `__reduce__`, `set_unsafe` and `get_unsafe` do not state what they do, and the method names do not occur in the example (so, it should be marked as an indirect doctest). \n\n   * cdef'd methods such as rescale_row_c or add_multiple_of_row_c or swap_rows_c and so on may not be as easily visible by the user than Python methods. However, as a courtesy to developers who actually read the source file, the arguments of those methods should be specified.\n\n   * \"echelonize\" should state what it does and what its optional arguments are. If I am not mistaken, it changes the matrix inplace, and that should be documented.\n\n   * When I read \"Classical cubic matrix multiplication.\", I first understood that the matrix is cubic. But perhaps I'm a bit square here...\n \nSo, that's \"needs work\" for now.\n\nSince there should be a vote on sage-devel anyway, we might also ask whether it should be included in the docs. I am still not sure: On the one hand, I think a reference manual should be thorough. On the other hand, all \"new\" methods that are no cdef'd methods and do not start with an underscore overwrite methods from super-classes that are documented elsewhere.",
    "created_at": "2011-08-20T13:27:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83023",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:88" align="right">comment:88</div>

Finally, the tests on 32 bit solaris (mark on skynet) are finshed. They passed, modulo the usual timeouts. The long tests pass on my machine. If I understand the discussion above, it builds on 64 bit solaris and on Cygwin as well, and of course on linux and os x.

Moreover, it provides a very impressive speedup compared with old Sage matrices over GF(2<sup>e</sup>). If I am not mistaken, it is even faster than Magma.

So, it is almost a positive review.

But there remain a few things to do.

1. David Kirkby noted that we are adding a new standard spkg here. So, there should be a voting on sage-devel. So, that's "needs info".

2. I found some issues with the "randomize" methods. 

   i) The randomize method in sage/libs/ntl/ntl_mat_GF2E.pyx is not documented (thus, also has no tests), and it lacks the usual optional arguments `density` and `nonzero`.

   ii) The doc of Matrix_mod2e_dense.randomize gives no use cases for the optional arguments. Actually, the behaviour when passing the optional arguments is clearly not what we want:

  ```
  sage: MS = MatrixSpace(GF(64,'a'),100,100)
  sage: A = MS.random_element(densitiy=0.3)
  sage: A.density()
  4913/5000
  sage: B = MS.random_element(nonzero=True)
  sage: B.density()
  2469/2500
  sage: C = MS.random_element(nonzero=True, density=1)
  sage: C.density()
  2461/2500
  sage: D = MS.random_element(density=0)
  sage: D.density()
  983/1000
   ```

3. The doc of many methods needs some polishing.

   * It would be nice to have a reference to research articles. I had never heard of Travolta tables before. Strassen-Winograd and Karatsuba may be better known, but still, a reference could help.

   * _matrix_times_matrix is not documented.

   * `__init__`, `__cinit__` do not specify their arguments.

   * `_lmul_`, `__neg__`, `__richcmp__`, `__invert__`, `__reduce__`, `set_unsafe` and `get_unsafe` do not state what they do, and the method names do not occur in the example (so, it should be marked as an indirect doctest). 

   * cdef'd methods such as rescale_row_c or add_multiple_of_row_c or swap_rows_c and so on may not be as easily visible by the user than Python methods. However, as a courtesy to developers who actually read the source file, the arguments of those methods should be specified.

   * "echelonize" should state what it does and what its optional arguments are. If I am not mistaken, it changes the matrix inplace, and that should be documented.

   * When I read "Classical cubic matrix multiplication.", I first understood that the matrix is cubic. But perhaps I'm a bit square here...
 
So, that's "needs work" for now.

Since there should be a vote on sage-devel anyway, we might also ask whether it should be included in the docs. I am still not sure: On the one hand, I think a reference manual should be thorough. On the other hand, all "new" methods that are no cdef'd methods and do not start with an underscore overwrite methods from super-classes that are documented elsewhere.



---

archive/issue_comments_083024.json:
```json
{
    "body": "<div id=\"comment:89\" align=\"right\">comment:89</div>\n\nFor the record: I asked for a [vote on sage-devel](http://groups.google.com/group/sage-devel/browse_thread/thread/bf75a0509d3ec978).",
    "created_at": "2011-08-20T15:40:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83024",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:89" align="right">comment:89</div>

For the record: I asked for a [vote on sage-devel](http://groups.google.com/group/sage-devel/browse_thread/thread/bf75a0509d3ec978).



---

archive/issue_comments_083025.json:
```json
{
    "body": "<div id=\"comment:90\" align=\"right\">comment:90</div>\n\nReplying to [@malb](#comment:45):\n> Replying to [@kcrisman](#comment:44):\n> > I agree that it is very annoying to have two things inside the same spkg.  \n> > There is, for instance, an open ticket to remove rpy2 from the r spkg.  \n\n> \n> Well, it makes it easier to re-use tuning results. For example, I plan to run the cache tuning only once, i.e. for M4RI and M4RIE would re-use the results.\n\nSave them to some file in, say, `$SAGE_ROOT/local/share/m4ri/`?",
    "created_at": "2011-08-20T16:26:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83025",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:90" align="right">comment:90</div>

Replying to [@malb](#comment:45):
> Replying to [@kcrisman](#comment:44):
> > I agree that it is very annoying to have two things inside the same spkg.  
> > There is, for instance, an open ticket to remove rpy2 from the r spkg.  

> 
> Well, it makes it easier to re-use tuning results. For example, I plan to run the cache tuning only once, i.e. for M4RI and M4RIE would re-use the results.

Save them to some file in, say, `$SAGE_ROOT/local/share/m4ri/`?



---

archive/issue_comments_083026.json:
```json
{
    "body": "<div id=\"comment:91\" align=\"right\">comment:91</div>\n\nP.S.: This would perhaps even allow specifying cache sizes manually, though the proper way would be something like\n\n```sh\n$ export M4RI_EXTRA_OPTS=\"--L1-cache-size=32 --L2-cache-size=1024\" # passed to M4RI[E]'s 'configure'\n$ sage -i m4rie\n```\n(And similar options for other cache parameters like the cache line sizes.)\n\nSpecifying these may at least *speed up* the tuning (by omitting a lot of tries); don't know if you could skip tuning, given these, in whole.\n\nStoring and using tuning parameters analoguous to GMP's `gmp-mparams.h` (including defaults for a couple of platforms / processors) wouldn't be bad either; then [optionally] bypassing self-tuning would really make sense.\n\n[Disclaimer: Haven't looked at the spkg at all, so there might be better or other ways to achieve this.]",
    "created_at": "2011-08-20T16:51:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83026",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:91" align="right">comment:91</div>

P.S.: This would perhaps even allow specifying cache sizes manually, though the proper way would be something like

```sh
$ export M4RI_EXTRA_OPTS="--L1-cache-size=32 --L2-cache-size=1024" # passed to M4RI[E]'s 'configure'
$ sage -i m4rie
```
(And similar options for other cache parameters like the cache line sizes.)

Specifying these may at least *speed up* the tuning (by omitting a lot of tries); don't know if you could skip tuning, given these, in whole.

Storing and using tuning parameters analoguous to GMP's `gmp-mparams.h` (including defaults for a couple of platforms / processors) wouldn't be bad either; then [optionally] bypassing self-tuning would really make sense.

[Disclaimer: Haven't looked at the spkg at all, so there might be better or other ways to achieve this.]



---

archive/issue_comments_083027.json:
```json
{
    "body": "Changed work issues from **Improve scalar multiplication** to **Fix some docs and fix \"randomize()\"**",
    "created_at": "2011-08-20T16:57:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83027",
    "user": "https://github.com/simon-king-jena"
}
```

Changed work issues from **Improve scalar multiplication** to **Fix some docs and fix "randomize()"**



---

archive/issue_comments_083028.json:
```json
{
    "body": "<div id=\"comment:93\" align=\"right\">comment:93</div>\n\nReplying to [@nexttime](#comment:91):\n> [Disclaimer: Haven't looked at the spkg at all, so there might be better or other ways to achieve this.]\n\nLooks like you're currently not trying to query any of\n\n```C\n    _SC_LEVEL1_ICACHE_SIZE\n    _SC_LEVEL1_ICACHE_ASSOC\n    _SC_LEVEL1_ICACHE_LINESIZE\n    _SC_LEVEL1_DCACHE_SIZE\n    _SC_LEVEL1_DCACHE_ASSOC\n    _SC_LEVEL1_DCACHE_LINESIZE\n    _SC_LEVEL2_CACHE_SIZE\n    _SC_LEVEL2_CACHE_ASSOC\n    _SC_LEVEL2_CACHE_LINESIZE\n    _SC_LEVEL3_CACHE_SIZE\n    _SC_LEVEL3_CACHE_ASSOC\n    _SC_LEVEL3_CACHE_LINESIZE\n    _SC_LEVEL4_CACHE_SIZE\n    _SC_LEVEL4_CACHE_ASSOC\n    _SC_LEVEL4_CACHE_LINESIZE\n```\n(with `sysconf()`). At least some of these values aren't available on every platform, but if they are, you could perhaps use them.\n\nAFAIK you'd have to set some feature test macro before including `unistd.h` on Solaris, although I doubt it supports any of the above.",
    "created_at": "2011-08-20T18:03:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83028",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:93" align="right">comment:93</div>

Replying to [@nexttime](#comment:91):
> [Disclaimer: Haven't looked at the spkg at all, so there might be better or other ways to achieve this.]

Looks like you're currently not trying to query any of

```C
    _SC_LEVEL1_ICACHE_SIZE
    _SC_LEVEL1_ICACHE_ASSOC
    _SC_LEVEL1_ICACHE_LINESIZE
    _SC_LEVEL1_DCACHE_SIZE
    _SC_LEVEL1_DCACHE_ASSOC
    _SC_LEVEL1_DCACHE_LINESIZE
    _SC_LEVEL2_CACHE_SIZE
    _SC_LEVEL2_CACHE_ASSOC
    _SC_LEVEL2_CACHE_LINESIZE
    _SC_LEVEL3_CACHE_SIZE
    _SC_LEVEL3_CACHE_ASSOC
    _SC_LEVEL3_CACHE_LINESIZE
    _SC_LEVEL4_CACHE_SIZE
    _SC_LEVEL4_CACHE_ASSOC
    _SC_LEVEL4_CACHE_LINESIZE
```
(with `sysconf()`). At least some of these values aren't available on every platform, but if they are, you could perhaps use them.

AFAIK you'd have to set some feature test macro before including `unistd.h` on Solaris, although I doubt it supports any of the above.



---

archive/issue_comments_083029.json:
```json
{
    "body": "<div id=\"comment:94\" align=\"right\">comment:94</div>\n\n* there's an optional parameter `--with-cachesize` for M4RI's configure which allows to specify L1 and L2.\n  * However, this is not exported to Sage, i.e. M4RI_EXTRA_OPTS does not exist yet.\n  * M4RIE does not re-tune any more but re-uses the data from M4RI.\n  * In my experience (on i7s for example) tuning is much better than using the data reported by the CPU. That is, if one trusts L1 and L2 as reported by the CPU (which are correct) the code is much slower than tuning which essentially uses L3 instead of L2.",
    "created_at": "2011-08-20T18:05:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83029",
    "user": "https://github.com/malb"
}
```

<div id="comment:94" align="right">comment:94</div>

* there's an optional parameter `--with-cachesize` for M4RI's configure which allows to specify L1 and L2.
  * However, this is not exported to Sage, i.e. M4RI_EXTRA_OPTS does not exist yet.
  * M4RIE does not re-tune any more but re-uses the data from M4RI.
  * In my experience (on i7s for example) tuning is much better than using the data reported by the CPU. That is, if one trusts L1 and L2 as reported by the CPU (which are correct) the code is much slower than tuning which essentially uses L3 instead of L2.



---

archive/issue_comments_083030.json:
```json
{
    "body": "<div id=\"comment:95\" align=\"right\">comment:95</div>\n\nReplying to [@simon-king-jena](#comment:88):\n \n> 2. I found some issues with the \"randomize\" methods. \n> \n>    i) The randomize method in sage/libs/ntl/ntl_mat_GF2E.pyx is not documented (thus, also has no tests), and it lacks the usual optional arguments `density` and `nonzero`.\n\nOkay, I'll take a look. Note that `ntl_mat_GF2E` does not have the same interface as normal matrices though. But it makes sense to make it consistent where possible.\n \n>   ii) The doc of Matrix_mod2e_dense.randomize gives no use cases for the optional arguments. Actually, the behaviour when passing the optional arguments is clearly not what we want:\n\nOkay, I'll take a look.\n\n> 3. The doc of many methods needs some polishing.\n> \n>    * It would be nice to have a reference to research articles. I had never heard of Travolta tables before. Strassen-Winograd and Karatsuba may be better known, but still, a reference could help.\n\nThere is no research article on Travolta tables yet since I made them up for M4RIE. But for the other ones I can add references.\n \n\n\n> * _matrix_times_matrix is not documented.\n\nThis is an internal method which is part of the standard matrix interface. I'd say it is hence understood what it does.\n \n> * `__init__`, `__cinit__` do not specify their arguments.\n\nOkay.\n\n> * `_lmul_`, `__neg__`, `__richcmp__`, `__invert__`, `__reduce__`, `set_unsafe` and `get_unsafe` do not state what they do, and the method names do not occur in the example (so, it should be marked as an indirect doctest). \n\nThese are special methods where either Python or our Matrix classes define what they do. I'd say it is hence understood what they do.\n\n> * cdef'd methods such as rescale_row_c or add_multiple_of_row_c or swap_rows_c and so on may not be as easily visible by the user than Python methods. However, as a courtesy to developers who actually read the source file, the arguments of those methods should be specified.\n\nOkay.\n \n> * \"echelonize\" should state what it does and what its optional arguments are. If I am not mistaken, it changes the matrix inplace, and that should be documented.\n\nOkay.\n \n> * When I read \"Classical cubic matrix multiplication.\", I first understood that the matrix is cubic. But perhaps I'm a bit square here...\n>  \n> So, that's \"needs work\" for now.\n\n \n> Since there should be a vote on sage-devel anyway, we might also ask whether it should be included in the docs. I am still not sure: On the one hand, I think a reference manual should be thorough. On the other hand, all \"new\" methods that are no cdef'd methods and do not start with an underscore overwrite methods from super-classes that are documented elsewhere.\n\nI'd much rather add a note to the reference manual which lists which library drives which base field?",
    "created_at": "2011-08-20T18:12:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83030",
    "user": "https://github.com/malb"
}
```

<div id="comment:95" align="right">comment:95</div>

Replying to [@simon-king-jena](#comment:88):
 
> 2. I found some issues with the "randomize" methods. 
> 
>    i) The randomize method in sage/libs/ntl/ntl_mat_GF2E.pyx is not documented (thus, also has no tests), and it lacks the usual optional arguments `density` and `nonzero`.

Okay, I'll take a look. Note that `ntl_mat_GF2E` does not have the same interface as normal matrices though. But it makes sense to make it consistent where possible.
 
>   ii) The doc of Matrix_mod2e_dense.randomize gives no use cases for the optional arguments. Actually, the behaviour when passing the optional arguments is clearly not what we want:

Okay, I'll take a look.

> 3. The doc of many methods needs some polishing.
> 
>    * It would be nice to have a reference to research articles. I had never heard of Travolta tables before. Strassen-Winograd and Karatsuba may be better known, but still, a reference could help.

There is no research article on Travolta tables yet since I made them up for M4RIE. But for the other ones I can add references.
 


> * _matrix_times_matrix is not documented.

This is an internal method which is part of the standard matrix interface. I'd say it is hence understood what it does.
 
> * `__init__`, `__cinit__` do not specify their arguments.

Okay.

> * `_lmul_`, `__neg__`, `__richcmp__`, `__invert__`, `__reduce__`, `set_unsafe` and `get_unsafe` do not state what they do, and the method names do not occur in the example (so, it should be marked as an indirect doctest). 

These are special methods where either Python or our Matrix classes define what they do. I'd say it is hence understood what they do.

> * cdef'd methods such as rescale_row_c or add_multiple_of_row_c or swap_rows_c and so on may not be as easily visible by the user than Python methods. However, as a courtesy to developers who actually read the source file, the arguments of those methods should be specified.

Okay.
 
> * "echelonize" should state what it does and what its optional arguments are. If I am not mistaken, it changes the matrix inplace, and that should be documented.

Okay.
 
> * When I read "Classical cubic matrix multiplication.", I first understood that the matrix is cubic. But perhaps I'm a bit square here...
>  
> So, that's "needs work" for now.

 
> Since there should be a vote on sage-devel anyway, we might also ask whether it should be included in the docs. I am still not sure: On the one hand, I think a reference manual should be thorough. On the other hand, all "new" methods that are no cdef'd methods and do not start with an underscore overwrite methods from super-classes that are documented elsewhere.

I'd much rather add a note to the reference manual which lists which library drives which base field?



---

archive/issue_comments_083031.json:
```json
{
    "body": "<div id=\"comment:96\" align=\"right\">comment:96</div>\n\nThe `dist/` (Debian) directory can and should be deleted (see #5903).",
    "created_at": "2011-08-20T18:32:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83031",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:96" align="right">comment:96</div>

The `dist/` (Debian) directory can and should be deleted (see #5903).



---

archive/issue_comments_083032.json:
```json
{
    "body": "<div id=\"comment:97\" align=\"right\">comment:97</div>\n\nAgreed!",
    "created_at": "2011-08-20T21:10:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83032",
    "user": "https://github.com/malb"
}
```

<div id="comment:97" align="right">comment:97</div>

Agreed!



---

archive/issue_events_122037.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2011-08-22T03:00:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122037"
}
```



---

archive/issue_events_122038.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2011-08-22T03:00:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122038"
}
```



---

archive/issue_comments_083033.json:
```json
{
    "body": "<div id=\"comment:98\" align=\"right\">comment:98</div>\n\nThe updated patch + updated SPKG should address the comments above. Simon, as an added bonus the new SPKG also contains the faster scalar product.",
    "created_at": "2011-08-22T03:00:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83033",
    "user": "https://github.com/malb"
}
```

<div id="comment:98" align="right">comment:98</div>

The updated patch + updated SPKG should address the comments above. Simon, as an added bonus the new SPKG also contains the faster scalar product.



---

archive/issue_comments_083034.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,6 +4,6 @@\n \n Sage Days 24 coding sprint: http://wiki.sagemath.org/days24/projects/gf2e\n \n-* **Install** https://bitbucket.org/malb/m4ri/downloads/libm4rie-20110715.spkg\n+* **Install** http://sage.math.washington.edu/home/malb/spkgs/libm4rie-20110821.spkg\n * **Apply** [attachment: m4rie_for_sage.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_for_sage.patch.gz)\n * **Apply** [attachment: m4rie_spkg.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_spkg.patch.gz) to Sage root repository\n``````\n",
    "created_at": "2011-08-22T03:00:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83034",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,6 +4,6 @@
 
 Sage Days 24 coding sprint: http://wiki.sagemath.org/days24/projects/gf2e
 
-* **Install** https://bitbucket.org/malb/m4ri/downloads/libm4rie-20110715.spkg
+* **Install** http://sage.math.washington.edu/home/malb/spkgs/libm4rie-20110821.spkg
 * **Apply** [attachment: m4rie_for_sage.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_for_sage.patch.gz)
 * **Apply** [attachment: m4rie_spkg.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_spkg.patch.gz) to Sage root repository
``````




---

archive/issue_comments_083035.json:
```json
{
    "body": "<div id=\"comment:99\" align=\"right\">comment:99</div>\n\ndoctests pass on sage.math btw.",
    "created_at": "2011-08-22T05:25:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83035",
    "user": "https://github.com/malb"
}
```

<div id="comment:99" align="right">comment:99</div>

doctests pass on sage.math btw.



---

archive/issue_events_122039.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-08-22T07:45:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122039"
}
```



---

archive/issue_events_122040.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-08-22T07:45:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122040"
}
```



---

archive/issue_comments_083036.json:
```json
{
    "body": "<div id=\"comment:0\" align=\"right\">comment:0</div>\n\nI did `sage -f http://sage.math.washington.edu/home/malb/spkgs/libm4rie-20110821.spkg`, I removed the old version of `m4rie_for_sage.patch`, qimported the new one, checked that my computer was really downloading the new version, did qpush, and `sage -br`.\n\nHowever, I get\n\n```\nsage: MS = MatrixSpace(GF(64,'a'),800,800)\nsage: A = MS.random_element(densitiy=1)\nsage: RR(A.density())\n0.984492187500000\nsage: A = MS.random_element(densitiy=0.001)\nsage: RR(A.density())\n0.984167187500000\n```\nI verified (by `A.randomize?`) that the new patch is applied.\n\nDo you have any clue why that happened?",
    "created_at": "2011-08-22T07:45:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83036",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:0" align="right">comment:0</div>

I did `sage -f http://sage.math.washington.edu/home/malb/spkgs/libm4rie-20110821.spkg`, I removed the old version of `m4rie_for_sage.patch`, qimported the new one, checked that my computer was really downloading the new version, did qpush, and `sage -br`.

However, I get

```
sage: MS = MatrixSpace(GF(64,'a'),800,800)
sage: A = MS.random_element(densitiy=1)
sage: RR(A.density())
0.984492187500000
sage: A = MS.random_element(densitiy=0.001)
sage: RR(A.density())
0.984167187500000
```
I verified (by `A.randomize?`) that the new patch is applied.

Do you have any clue why that happened?



---

archive/issue_comments_083037.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nStrange enough, the doc tests for matrix_mod2e_dense pass.\n\nSo, perhaps `MS.random_element(...)` is calling `randomize(...)` in a wrong way.",
    "created_at": "2011-08-22T07:48:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83037",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:1" align="right">comment:1</div>

Strange enough, the doc tests for matrix_mod2e_dense pass.

So, perhaps `MS.random_element(...)` is calling `randomize(...)` in a wrong way.



---

archive/issue_comments_083038.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nYes, it is passing the wrong arguments, due to a typo on my end: I wrote densitiy, not density). Sorry.",
    "created_at": "2011-08-22T07:52:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83038",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:2" align="right">comment:2</div>

Yes, it is passing the wrong arguments, due to a typo on my end: I wrote densitiy, not density). Sorry.



---

archive/issue_events_122041.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-08-22T07:52:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122041"
}
```



---

archive/issue_events_122042.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-08-22T07:52:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122042"
}
```



---

archive/issue_events_122043.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-08-22T09:33:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122043"
}
```



---

archive/issue_events_122044.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-08-22T09:33:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122044"
}
```



---

archive/issue_comments_083039.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\n__Questions / To do__\n\n* The hg repository of the spkg needs being updated. Even though the last log entry is of today (August 22), the status report is\n\n```\n$ hg status\n? config.log\n? m4rie/.hgignore\n? m4rie/.hgtags\n? m4rie/AUTHORS\n? m4rie/COPYING\n? m4rie/ChangeLog\n? m4rie/INSTALL\n? m4rie/Makefile.am\n? m4rie/Makefile.in\n? m4rie/NEWS\n? m4rie/README\n? m4rie/aclocal.m4\n? m4rie/bench/Makefile.am\n? m4rie/bench/Makefile.in\n? m4rie/bench/bench_elimination.cc\n? m4rie/bench/bench_multiplication.cc\n? m4rie/bench/bench_smallops.cc\n? m4rie/bench/benchmarking.cc\n? m4rie/bench/benchmarking.h\n? m4rie/bench/cpucycles-20060326/alpha.c\n? m4rie/bench/cpucycles-20060326/alpha.h\n? m4rie/bench/cpucycles-20060326/amd64cpuinfo.c\n? m4rie/bench/cpucycles-20060326/amd64cpuinfo.h\n? m4rie/bench/cpucycles-20060326/amd64tscfreq.c\n? m4rie/bench/cpucycles-20060326/amd64tscfreq.h\n? m4rie/bench/cpucycles-20060326/clockmonotonic.c\n? m4rie/bench/cpucycles-20060326/clockmonotonic.h\n? m4rie/bench/cpucycles-20060326/compile\n? m4rie/bench/cpucycles-20060326/cpucycles.html\n? m4rie/bench/cpucycles-20060326/do\n? m4rie/bench/cpucycles-20060326/do.notes\n? m4rie/bench/cpucycles-20060326/gettimeofday.c\n? m4rie/bench/cpucycles-20060326/gettimeofday.h\n? m4rie/bench/cpucycles-20060326/hppapstat.c\n? m4rie/bench/cpucycles-20060326/hppapstat.h\n? m4rie/bench/cpucycles-20060326/powerpcaix.c\n? m4rie/bench/cpucycles-20060326/powerpcaix.h\n? m4rie/bench/cpucycles-20060326/powerpclinux.c\n? m4rie/bench/cpucycles-20060326/powerpclinux.h\n? m4rie/bench/cpucycles-20060326/powerpcmacos.c\n? m4rie/bench/cpucycles-20060326/powerpcmacos.h\n? m4rie/bench/cpucycles-20060326/sparc32psrinfo.c\n? m4rie/bench/cpucycles-20060326/sparc32psrinfo.h\n? m4rie/bench/cpucycles-20060326/sparcpsrinfo.c\n? m4rie/bench/cpucycles-20060326/sparcpsrinfo.h\n? m4rie/bench/cpucycles-20060326/test.c\n? m4rie/bench/cpucycles-20060326/x86cpuinfo.c\n? m4rie/bench/cpucycles-20060326/x86cpuinfo.h\n? m4rie/bench/cpucycles-20060326/x86tscfreq.c\n? m4rie/bench/cpucycles-20060326/x86tscfreq.h\n? m4rie/config.guess\n? m4rie/config.sub\n? m4rie/configure\n? m4rie/configure.ac\n? m4rie/depcomp\n? m4rie/gf2e_cxx/finite_field_givaro.h\n? m4rie/install-sh\n? m4rie/ltmain.sh\n? m4rie/m4/ax_check_compiler_flags.m4\n? m4rie/m4/ax_openmp.m4\n? m4rie/m4/libtool.m4\n? m4rie/m4/ltoptions.m4\n? m4rie/m4/ltsugar.m4\n? m4rie/m4/ltversion.m4\n? m4rie/m4/lt~obsolete.m4\n? m4rie/missing\n? m4rie/tests/test_elimination.cc\n? m4rie/tests/test_multiplication.cc\n? m4rie/tests/test_smallops.cc\n? m4rie/tests/testing.h\n```\n\n* spkg-check does not seem to work. After opening the package and working in a sage shell, I get\n\n```\n$ ./spkg-check \n./spkg-check: Zeile 30: cd: build/m4ri: Datei oder Verzeichnis nicht gefunden\nTesting the M4RI library\nmake: *** Keine Regel, um \u00bbcheck\u00ab zu erstellen.  Schluss.\nError testing M4RI\n```\n\n* Have you already implemented the ideas for storing the cache size information, so that installation of the package does not take so long? Or will that be in a future release?\n\n* You said you'd much rather add a note to the reference manual which lists which library drives which base field. Did you do so? I can not find it in the patch.\n\n__Done__\n\n* The long doctests in doc/ and sage/ pass on my machine. The doctests in sage/matrix pass on 32 bit solaris.\n\n* Randomize seems to work fine.\n\n* Scalar multiplication has improved:\n\n```\n\nsage: MS = MatrixSpace(GF(64,'a'),5000,5000)\nsage: K = MS.base_ring()\nsage: c = K.random_element()\nsage: A = MS.random_element()\nsage: %time A*c\nCPU times: user 0.05 s, sys: 0.01 s, total: 0.06 s\nWall time: 0.06 s\n5000 x 5000 dense matrix over Finite Field in a of size 2^6\nsage: MS1 = MatrixSpace(GF(64,'a'),1,5000)\nsage: B = MS1.random_element()\nsage: %timeit B*c\n625 loops, best of 3: 51.5 \u00b5s per loop\n```\n\n* The docs are now almost fine from my point of view. We only have\n\n```\n$ sage -coverage sage/matrix/matrix_mod2e_dense.pyx\n----------------------------------------------------------------------\nsage/matrix/matrix_mod2e_dense.pyx\nSCORE sage/matrix/matrix_mod2e_dense.pyx: 100% (27 of 27)\n\nPossibly wrong (function name doesn't occur in doctests):\n         * Matrix_mod2e_dense _multiply_travolta(Matrix_mod2e_dense self, Matrix_mod2e_dense right):\n         * Matrix_mod2e_dense _multiply_karatsuba(Matrix_mod2e_dense self, Matrix_mod2e_dense right):\n         * Matrix_mod2e_dense _multiply_strassen(Matrix_mod2e_dense self, Matrix_mod2e_dense right, cutoff=0):\n         * ModuleElement _lmul_(self, RingElement right):\n\n----------------------------------------------------------------------\n```\nand I suggest that I add a referee patch that simply adds a \"indirect doctest\" in the appropriate places.\n\n__Conclusion__\n\nI put it \"needs work\", but that's only since I'd like to create a referee patch. If you did not add the information on which library drives which base field yet, I can do so as well.\n\nPlease check in the changes to the hg repository, or \"hg ignore\" them. Please fix the self tests (or tell me why my attempt to call spkg-check did not work).",
    "created_at": "2011-08-22T09:33:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83039",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:3" align="right">comment:3</div>

__Questions / To do__

* The hg repository of the spkg needs being updated. Even though the last log entry is of today (August 22), the status report is

```
$ hg status
? config.log
? m4rie/.hgignore
? m4rie/.hgtags
? m4rie/AUTHORS
? m4rie/COPYING
? m4rie/ChangeLog
? m4rie/INSTALL
? m4rie/Makefile.am
? m4rie/Makefile.in
? m4rie/NEWS
? m4rie/README
? m4rie/aclocal.m4
? m4rie/bench/Makefile.am
? m4rie/bench/Makefile.in
? m4rie/bench/bench_elimination.cc
? m4rie/bench/bench_multiplication.cc
? m4rie/bench/bench_smallops.cc
? m4rie/bench/benchmarking.cc
? m4rie/bench/benchmarking.h
? m4rie/bench/cpucycles-20060326/alpha.c
? m4rie/bench/cpucycles-20060326/alpha.h
? m4rie/bench/cpucycles-20060326/amd64cpuinfo.c
? m4rie/bench/cpucycles-20060326/amd64cpuinfo.h
? m4rie/bench/cpucycles-20060326/amd64tscfreq.c
? m4rie/bench/cpucycles-20060326/amd64tscfreq.h
? m4rie/bench/cpucycles-20060326/clockmonotonic.c
? m4rie/bench/cpucycles-20060326/clockmonotonic.h
? m4rie/bench/cpucycles-20060326/compile
? m4rie/bench/cpucycles-20060326/cpucycles.html
? m4rie/bench/cpucycles-20060326/do
? m4rie/bench/cpucycles-20060326/do.notes
? m4rie/bench/cpucycles-20060326/gettimeofday.c
? m4rie/bench/cpucycles-20060326/gettimeofday.h
? m4rie/bench/cpucycles-20060326/hppapstat.c
? m4rie/bench/cpucycles-20060326/hppapstat.h
? m4rie/bench/cpucycles-20060326/powerpcaix.c
? m4rie/bench/cpucycles-20060326/powerpcaix.h
? m4rie/bench/cpucycles-20060326/powerpclinux.c
? m4rie/bench/cpucycles-20060326/powerpclinux.h
? m4rie/bench/cpucycles-20060326/powerpcmacos.c
? m4rie/bench/cpucycles-20060326/powerpcmacos.h
? m4rie/bench/cpucycles-20060326/sparc32psrinfo.c
? m4rie/bench/cpucycles-20060326/sparc32psrinfo.h
? m4rie/bench/cpucycles-20060326/sparcpsrinfo.c
? m4rie/bench/cpucycles-20060326/sparcpsrinfo.h
? m4rie/bench/cpucycles-20060326/test.c
? m4rie/bench/cpucycles-20060326/x86cpuinfo.c
? m4rie/bench/cpucycles-20060326/x86cpuinfo.h
? m4rie/bench/cpucycles-20060326/x86tscfreq.c
? m4rie/bench/cpucycles-20060326/x86tscfreq.h
? m4rie/config.guess
? m4rie/config.sub
? m4rie/configure
? m4rie/configure.ac
? m4rie/depcomp
? m4rie/gf2e_cxx/finite_field_givaro.h
? m4rie/install-sh
? m4rie/ltmain.sh
? m4rie/m4/ax_check_compiler_flags.m4
? m4rie/m4/ax_openmp.m4
? m4rie/m4/libtool.m4
? m4rie/m4/ltoptions.m4
? m4rie/m4/ltsugar.m4
? m4rie/m4/ltversion.m4
? m4rie/m4/lt~obsolete.m4
? m4rie/missing
? m4rie/tests/test_elimination.cc
? m4rie/tests/test_multiplication.cc
? m4rie/tests/test_smallops.cc
? m4rie/tests/testing.h
```

* spkg-check does not seem to work. After opening the package and working in a sage shell, I get

```
$ ./spkg-check 
./spkg-check: Zeile 30: cd: build/m4ri: Datei oder Verzeichnis nicht gefunden
Testing the M4RI library
make: *** Keine Regel, um »check« zu erstellen.  Schluss.
Error testing M4RI
```

* Have you already implemented the ideas for storing the cache size information, so that installation of the package does not take so long? Or will that be in a future release?

* You said you'd much rather add a note to the reference manual which lists which library drives which base field. Did you do so? I can not find it in the patch.

__Done__

* The long doctests in doc/ and sage/ pass on my machine. The doctests in sage/matrix pass on 32 bit solaris.

* Randomize seems to work fine.

* Scalar multiplication has improved:

```

sage: MS = MatrixSpace(GF(64,'a'),5000,5000)
sage: K = MS.base_ring()
sage: c = K.random_element()
sage: A = MS.random_element()
sage: %time A*c
CPU times: user 0.05 s, sys: 0.01 s, total: 0.06 s
Wall time: 0.06 s
5000 x 5000 dense matrix over Finite Field in a of size 2^6
sage: MS1 = MatrixSpace(GF(64,'a'),1,5000)
sage: B = MS1.random_element()
sage: %timeit B*c
625 loops, best of 3: 51.5 µs per loop
```

* The docs are now almost fine from my point of view. We only have

```
$ sage -coverage sage/matrix/matrix_mod2e_dense.pyx
----------------------------------------------------------------------
sage/matrix/matrix_mod2e_dense.pyx
SCORE sage/matrix/matrix_mod2e_dense.pyx: 100% (27 of 27)

Possibly wrong (function name doesn't occur in doctests):
         * Matrix_mod2e_dense _multiply_travolta(Matrix_mod2e_dense self, Matrix_mod2e_dense right):
         * Matrix_mod2e_dense _multiply_karatsuba(Matrix_mod2e_dense self, Matrix_mod2e_dense right):
         * Matrix_mod2e_dense _multiply_strassen(Matrix_mod2e_dense self, Matrix_mod2e_dense right, cutoff=0):
         * ModuleElement _lmul_(self, RingElement right):

----------------------------------------------------------------------
```
and I suggest that I add a referee patch that simply adds a "indirect doctest" in the appropriate places.

__Conclusion__

I put it "needs work", but that's only since I'd like to create a referee patch. If you did not add the information on which library drives which base field yet, I can do so as well.

Please check in the changes to the hg repository, or "hg ignore" them. Please fix the self tests (or tell me why my attempt to call spkg-check did not work).



---

archive/issue_comments_083040.json:
```json
{
    "body": "<div id=\"comment:104\" align=\"right\">comment:104</div>\n\nReplying to [@simon-king-jena](#comment:103):\n> I put it \"needs work\", but that's only since I'd like to create a referee patch.\n\nSorry, I did a mistake when editing. I wrote that line before noticing the spkg-check and hg status issues. These need fixes as well.",
    "created_at": "2011-08-22T09:37:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83040",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:104" align="right">comment:104</div>

Replying to [@simon-king-jena](#comment:103):
> I put it "needs work", but that's only since I'd like to create a referee patch.

Sorry, I did a mistake when editing. I wrote that line before noticing the spkg-check and hg status issues. These need fixes as well.



---

archive/issue_comments_083041.json:
```json
{
    "body": "<div id=\"comment:105\" align=\"right\">comment:105</div>\n\nReplying to [@simon-king-jena](#comment:103):\n> * spkg-check does not seem to work. After opening the package and working in a sage shell, I get\n\n\n```\n$ ./spkg-check \n./spkg-check: Zeile 30: cd: build/m4ri: Datei oder Verzeichnis nicht gefunden\nTesting the M4RI library\nmake: *** Keine Regel, um \u00bbcheck\u00ab zu erstellen.  Schluss.\nError testing M4RI\n```\n\nI guess you'll first have to build, which also creates the directory and the Makefile there.\n\nDid you try `env SAGE_CHECK=yes sage -f ...`?\n\nIf you've run `sage -i` also with `-s`, entering the build directory and doing `./spkg-check` should also work.",
    "created_at": "2011-08-22T09:58:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83041",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:105" align="right">comment:105</div>

Replying to [@simon-king-jena](#comment:103):
> * spkg-check does not seem to work. After opening the package and working in a sage shell, I get


```
$ ./spkg-check 
./spkg-check: Zeile 30: cd: build/m4ri: Datei oder Verzeichnis nicht gefunden
Testing the M4RI library
make: *** Keine Regel, um »check« zu erstellen.  Schluss.
Error testing M4RI
```

I guess you'll first have to build, which also creates the directory and the Makefile there.

Did you try `env SAGE_CHECK=yes sage -f ...`?

If you've run `sage -i` also with `-s`, entering the build directory and doing `./spkg-check` should also work.



---

archive/issue_comments_083042.json:
```json
{
    "body": "<div id=\"comment:106\" align=\"right\">comment:106</div>\n\nReplying to [@nexttime](#comment:105):\n> I guess you'll first have to build, which also creates the directory and the Makefile there.\n> \n> Did you try `env SAGE_CHECK=yes sage -f ...`?\n\nI tried now, but it did not work.\n\n> If you've run `sage -i` also with `-s`, entering the build directory and doing `./spkg-check` should also work.\n\nWell, I learnt that `./spkg-check` should work if you have simply have opened the package and use a sage shell.",
    "created_at": "2011-08-22T13:00:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83042",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:106" align="right">comment:106</div>

Replying to [@nexttime](#comment:105):
> I guess you'll first have to build, which also creates the directory and the Makefile there.
> 
> Did you try `env SAGE_CHECK=yes sage -f ...`?

I tried now, but it did not work.

> If you've run `sage -i` also with `-s`, entering the build directory and doing `./spkg-check` should also work.

Well, I learnt that `./spkg-check` should work if you have simply have opened the package and use a sage shell.



---

archive/issue_comments_083043.json:
```json
{
    "body": "<div id=\"comment:107\" align=\"right\">comment:107</div>\n\nReplying to [@simon-king-jena](#comment:106):\n> Well, I learnt that `./spkg-check` should work if you have simply have opened the package and use a sage shell.\n\nAnd `export SAGE_CHECK=\"yes\"` followed by `sage -f` should work as well. But it doesn't",
    "created_at": "2011-08-22T13:20:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83043",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:107" align="right">comment:107</div>

Replying to [@simon-king-jena](#comment:106):
> Well, I learnt that `./spkg-check` should work if you have simply have opened the package and use a sage shell.

And `export SAGE_CHECK="yes"` followed by `sage -f` should work as well. But it doesn't



---

archive/issue_comments_083044.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,3 +7,5 @@\n * **Install** http://sage.math.washington.edu/home/malb/spkgs/libm4rie-20110821.spkg\n * **Apply** [attachment: m4rie_for_sage.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_for_sage.patch.gz)\n * **Apply** [attachment: m4rie_spkg.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_spkg.patch.gz) to Sage root repository\n+\n+There was a vote on [sage-devel](http://groups.google.com/group/sage-devel/browse_thread/thread/bf75a0509d3ec978), recommending to add this as a standard spkg.\n``````\n",
    "created_at": "2011-08-22T14:03:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83044",
    "user": "https://github.com/simon-king-jena"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,3 +7,5 @@
 * **Install** http://sage.math.washington.edu/home/malb/spkgs/libm4rie-20110821.spkg
 * **Apply** [attachment: m4rie_for_sage.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_for_sage.patch.gz)
 * **Apply** [attachment: m4rie_spkg.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_spkg.patch.gz) to Sage root repository
+
+There was a vote on [sage-devel](http://groups.google.com/group/sage-devel/browse_thread/thread/bf75a0509d3ec978), recommending to add this as a standard spkg.
``````




---

archive/issue_comments_083045.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@simon-king-jena](#comment:103):\n> * The hg repository of the spkg needs being updated. Even though the last log entry is of today (August 22), the status report is\n\nAgreed & fixed in the SPKG I'll update in a minute.\n \n> * spkg-check does not seem to work. After opening the package and working in a sage shell, I get\n\nFixed.\n \n> * Have you already implemented the ideas for storing the cache size information, so that installation of the package does not take so long? Or will that be in a future release?\n\nI only implemented that M4RIE avoids detecting the cache size. It has nothing to do with cache size detection any more it just uses M4RI's results.\n\n> * You said you'd much rather add a note to the reference manual which lists which library drives which base field. Did you do so? I can not find it in the patch.\n\nWe should open a new ticket for this?\n \n> * The docs are now almost fine from my point of view. We only have\n> and I suggest that I add a referee patch that simply adds a \"indirect doctest\" in the appropriate places.\n\nI'll do that.",
    "created_at": "2011-08-22T17:45:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83045",
    "user": "https://github.com/malb"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@simon-king-jena](#comment:103):
> * The hg repository of the spkg needs being updated. Even though the last log entry is of today (August 22), the status report is

Agreed & fixed in the SPKG I'll update in a minute.
 
> * spkg-check does not seem to work. After opening the package and working in a sage shell, I get

Fixed.
 
> * Have you already implemented the ideas for storing the cache size information, so that installation of the package does not take so long? Or will that be in a future release?

I only implemented that M4RIE avoids detecting the cache size. It has nothing to do with cache size detection any more it just uses M4RI's results.

> * You said you'd much rather add a note to the reference manual which lists which library drives which base field. Did you do so? I can not find it in the patch.

We should open a new ticket for this?
 
> * The docs are now almost fine from my point of view. We only have
> and I suggest that I add a referee patch that simply adds a "indirect doctest" in the appropriate places.

I'll do that.



---

archive/issue_comments_083046.json:
```json
{
    "body": "<div id=\"comment:0\" align=\"right\">comment:0</div>\n\nSPKG + patch updated.",
    "created_at": "2011-08-22T17:53:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83046",
    "user": "https://github.com/malb"
}
```

<div id="comment:0" align="right">comment:0</div>

SPKG + patch updated.



---

archive/issue_events_122045.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2011-08-22T17:53:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122045"
}
```



---

archive/issue_events_122046.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2011-08-22T17:53:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122046"
}
```



---

archive/issue_comments_083047.json:
```json
{
    "body": "Changed keywords from **m4ri** to **m4ri, sd32**",
    "created_at": "2011-08-24T23:48:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83047",
    "user": "https://github.com/williamstein"
}
```

Changed keywords from **m4ri** to **m4ri, sd32**



---

archive/issue_comments_083048.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nm4rie_for_sage.patch did not apply on top of my private patch chain. The conflict is with #4260. So, one should be made dependent on the other.\n\nMartin, what seems to be more stable? This M4RIE patches? Or the Linbox patches?",
    "created_at": "2011-08-26T07:03:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83048",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:2" align="right">comment:2</div>

m4rie_for_sage.patch did not apply on top of my private patch chain. The conflict is with #4260. So, one should be made dependent on the other.

Martin, what seems to be more stable? This M4RIE patches? Or the Linbox patches?



---

archive/issue_events_122047.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-08-26T07:03:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122047"
}
```



---

archive/issue_events_122048.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-08-26T07:03:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122048"
}
```



---

archive/issue_events_122049.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2011-08-26T12:39:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122049"
}
```



---

archive/issue_events_122050.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2011-08-26T12:39:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122050"
}
```



---

archive/issue_comments_083049.json:
```json
{
    "body": "<div id=\"comment:113\" align=\"right\">comment:113</div>\n\nReplying to [@simon-king-jena](#comment:112):\n> m4rie_for_sage.patch did not apply on top of my private patch chain. \n\nOuch, how unfortunate. I guess it's in `matrix_space.py`?\n\n> The conflict is with #4260. So, one should be made dependent on the other.\n\nI'm not so sure about this. They are fairly independent. I suggest each is reviewed independently and whichever gets in later is re-based accordingly.\n\n> Martin, what seems to be more stable? This M4RIE patches? Or the Linbox patches?\n\nI'd say M4RIE:\n* the M4RIE interface has been around for months and months\n* I'm willing to debug any issue that might come up because I'm quite invested in this ticket.\n* Many people have looked at M4RIE over the time.\n* The LinBox switch-over has not received a single review yet.\n* You reported some speed issues with the new LinBox interface\n* It is unclearly whether the new LinBox interface works/builds on anything besides 64-bit Linux.",
    "created_at": "2011-08-26T12:39:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83049",
    "user": "https://github.com/malb"
}
```

<div id="comment:113" align="right">comment:113</div>

Replying to [@simon-king-jena](#comment:112):
> m4rie_for_sage.patch did not apply on top of my private patch chain. 

Ouch, how unfortunate. I guess it's in `matrix_space.py`?

> The conflict is with #4260. So, one should be made dependent on the other.

I'm not so sure about this. They are fairly independent. I suggest each is reviewed independently and whichever gets in later is re-based accordingly.

> Martin, what seems to be more stable? This M4RIE patches? Or the Linbox patches?

I'd say M4RIE:
* the M4RIE interface has been around for months and months
* I'm willing to debug any issue that might come up because I'm quite invested in this ticket.
* Many people have looked at M4RIE over the time.
* The LinBox switch-over has not received a single review yet.
* You reported some speed issues with the new LinBox interface
* It is unclearly whether the new LinBox interface works/builds on anything besides 64-bit Linux.



---

archive/issue_comments_083050.json:
```json
{
    "body": "<div id=\"comment:114\" align=\"right\">comment:114</div>\n\nReplying to [@malb](#comment:113):\n> Replying to [@simon-king-jena](#comment:112):\n> > m4rie_for_sage.patch did not apply on top of my private patch chain. \n\n> \n> Ouch, how unfortunate. I guess it's in `matrix_space.py`?\n\nSure. It is when the `__matrix_class` is determined. And of course I have already modified the patches in my private patch chain, so that I can continue to work...\n\n> I'm not so sure about this. They are fairly independent. I suggest each is reviewed independently and whichever gets in later is re-based accordingly.\n\nMakes sense.",
    "created_at": "2011-08-26T12:51:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83050",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:114" align="right">comment:114</div>

Replying to [@malb](#comment:113):
> Replying to [@simon-king-jena](#comment:112):
> > m4rie_for_sage.patch did not apply on top of my private patch chain. 

> 
> Ouch, how unfortunate. I guess it's in `matrix_space.py`?

Sure. It is when the `__matrix_class` is determined. And of course I have already modified the patches in my private patch chain, so that I can continue to work...

> I'm not so sure about this. They are fairly independent. I suggest each is reviewed independently and whichever gets in later is re-based accordingly.

Makes sense.



---

archive/issue_comments_083051.json:
```json
{
    "body": "Description changed:\n``````diff\n\n``````\n",
    "created_at": "2011-08-27T11:44:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83051",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff

``````




---

archive/issue_events_122051.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2011-09-01T09:56:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122051"
}
```



---

archive/issue_events_122052.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2011-09-01T09:56:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122052"
}
```



---

archive/issue_comments_083052.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThis clearly needs work since M4RIE does not add the appropriate -msse2 flag if M4RI was built with it.",
    "created_at": "2011-09-01T09:56:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83052",
    "user": "https://github.com/malb"
}
```

<div id="comment:6" align="right">comment:6</div>

This clearly needs work since M4RIE does not add the appropriate -msse2 flag if M4RI was built with it.



---

archive/issue_comments_083053.json:
```json
{
    "body": "Changed dependencies from **#11574** to **#11757**",
    "created_at": "2011-10-03T17:00:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83053",
    "user": "https://github.com/malb"
}
```

Changed dependencies from **#11574** to **#11757**



---

archive/issue_comments_083054.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nIs it still \"needs work\", or does your new patch fixes the -msse2 flag issue? The official work issues are `Fix some docs and fix \"randomize()\"`. Is that still relevant?",
    "created_at": "2011-10-04T07:02:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83054",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:8" align="right">comment:8</div>

Is it still "needs work", or does your new patch fixes the -msse2 flag issue? The official work issues are `Fix some docs and fix "randomize()"`. Is that still relevant?



---

archive/issue_comments_083055.json:
```json
{
    "body": "Changed work issues from **Fix some docs and fix \"randomize()\"** to none",
    "created_at": "2011-10-04T11:34:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83055",
    "user": "https://github.com/malb"
}
```

Changed work issues from **Fix some docs and fix "randomize()"** to none



---

archive/issue_comments_083056.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n \n Sage Days 24 coding sprint: http://wiki.sagemath.org/days24/projects/gf2e\n \n-* **Install** http://sage.math.washington.edu/home/malb/spkgs/libm4rie-20110821.spkg\n+* **Install** http://sage.math.washington.edu/home/malb/spkgs/libm4rie-20111004.spkg\n * **Apply** [attachment: m4rie_for_sage.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_for_sage.patch.gz)\n * **Apply** [attachment: m4rie_spkg.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_spkg.patch.gz) to Sage root repository\n \n``````\n",
    "created_at": "2011-10-04T11:34:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83056",
    "user": "https://github.com/malb"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 
 Sage Days 24 coding sprint: http://wiki.sagemath.org/days24/projects/gf2e
 
-* **Install** http://sage.math.washington.edu/home/malb/spkgs/libm4rie-20110821.spkg
+* **Install** http://sage.math.washington.edu/home/malb/spkgs/libm4rie-20111004.spkg
 * **Apply** [attachment: m4rie_for_sage.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_for_sage.patch.gz)
 * **Apply** [attachment: m4rie_spkg.patch](https://github.com/sagemath/sage/files/ticket9562/m4rie_spkg.patch.gz) to Sage root repository
 
``````




---

archive/issue_comments_083057.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI've released a new version of M4RIE, \n\ncf. https://bitbucket.org/malb/m4rie/wiki/M4RIE-20111004\n\nwhich fixes bugs, deals with M4RI SSE2 flags correctly, implements asymptotically fast Gaussian elimination and triangular system solving, has a new Travolta table creation which is much much faster ...\n\nThe attached patch also takes care of any work issues I am aware of.\n\nI've tested this code (patch + SPKG) on cicero, sage.math, bsd. I'm currently testing on iras.",
    "created_at": "2011-10-04T11:34:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83057",
    "user": "https://github.com/malb"
}
```

<div id="comment:9" align="right">comment:9</div>

I've released a new version of M4RIE, 

cf. https://bitbucket.org/malb/m4rie/wiki/M4RIE-20111004

which fixes bugs, deals with M4RI SSE2 flags correctly, implements asymptotically fast Gaussian elimination and triangular system solving, has a new Travolta table creation which is much much faster ...

The attached patch also takes care of any work issues I am aware of.

I've tested this code (patch + SPKG) on cicero, sage.math, bsd. I'm currently testing on iras.



---

archive/issue_events_122053.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2011-10-04T11:34:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122053"
}
```



---

archive/issue_events_122054.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2011-10-04T11:34:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122054"
}
```



---

archive/issue_comments_083058.json:
```json
{
    "body": "<div id=\"comment:0\" align=\"right\">comment:0</div>\n\nSorry, I will be unable to review for a few days. #11339 has destroyed most of my patch chain, and I will be busy with rebasing the majority of the patches that I've been working on in the last couple of weeks.",
    "created_at": "2011-10-04T11:41:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83058",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:0" align="right">comment:0</div>

Sorry, I will be unable to review for a few days. #11339 has destroyed most of my patch chain, and I will be busy with rebasing the majority of the patches that I've been working on in the last couple of weeks.



---

archive/issue_comments_083059.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nYep, expected that much. Sorry, for being involved causing you this much trouble!",
    "created_at": "2011-10-04T11:47:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83059",
    "user": "https://github.com/malb"
}
```

<div id="comment:1" align="right">comment:1</div>

Yep, expected that much. Sorry, for being involved causing you this much trouble!



---

archive/issue_comments_083060.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\ndoctests also pass on iras, except for R doctests since I didn't bother to look up how to build R on iras.",
    "created_at": "2011-10-04T14:59:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83060",
    "user": "https://github.com/malb"
}
```

<div id="comment:2" align="right">comment:2</div>

doctests also pass on iras, except for R doctests since I didn't bother to look up how to build R on iras.



---

archive/issue_comments_083061.json:
```json
{
    "body": "Work Issues: **Rebase wrt #4260**",
    "created_at": "2011-10-26T20:45:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83061",
    "user": "https://github.com/simon-king-jena"
}
```

Work Issues: **Rebase wrt #4260**



---

archive/issue_comments_083062.json:
```json
{
    "body": "Changed dependencies from **#11757** to **#11757 #4260**",
    "created_at": "2011-10-26T20:45:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83062",
    "user": "https://github.com/simon-king-jena"
}
```

Changed dependencies from **#11757** to **#11757 #4260**



---

archive/issue_comments_083063.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\n#4260 has been merged into sage-4.7.3.alpha0, but there is a conflict with the patch from here, namely in sage/matrix/matrix_space.py. I suggest that the patch will be rebased against #4260.",
    "created_at": "2011-10-26T20:45:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83063",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:3" align="right">comment:3</div>

#4260 has been merged into sage-4.7.3.alpha0, but there is a conflict with the patch from here, namely in sage/matrix/matrix_space.py. I suggest that the patch will be rebased against #4260.



---

archive/issue_events_122055.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-10-26T20:45:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122055"
}
```



---

archive/issue_events_122056.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-10-26T20:45:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122056"
}
```



---

archive/issue_comments_083064.json:
```json
{
    "body": "rebased to 4.7.3.alpha0",
    "created_at": "2011-10-27T17:52:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83064",
    "user": "https://github.com/malb"
}
```

rebased to 4.7.3.alpha0



---

archive/issue_comments_083065.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nAttachment: **[m4rie_for_sage.patch.gz](https://github.com/sagemath/sage/files/ticket9562/m4rie_for_sage.patch.gz)**\n\nokay, rebased.",
    "created_at": "2011-10-27T17:53:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83065",
    "user": "https://github.com/malb"
}
```

<div id="comment:4" align="right">comment:4</div>

Attachment: **[m4rie_for_sage.patch.gz](https://github.com/sagemath/sage/files/ticket9562/m4rie_for_sage.patch.gz)**

okay, rebased.



---

archive/issue_events_122057.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2011-10-27T17:53:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122057"
}
```



---

archive/issue_events_122058.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2011-10-27T17:53:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122058"
}
```



---

archive/issue_comments_083066.json:
```json
{
    "body": "<div id=\"comment:125\" align=\"right\">comment:125</div>\n\nReplying to [@malb](#comment:124):\n> okay, rebased.\n\nThank you! The new patch applies cleanly.",
    "created_at": "2011-10-28T05:25:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83066",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:125" align="right">comment:125</div>

Replying to [@malb](#comment:124):
> okay, rebased.

Thank you! The new patch applies cleanly.



---

archive/issue_comments_083067.json:
```json
{
    "body": "Changed work issues from **Rebase wrt #4260** to none",
    "created_at": "2011-10-28T05:25:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83067",
    "user": "https://github.com/simon-king-jena"
}
```

Changed work issues from **Rebase wrt #4260** to none



---

archive/issue_comments_083068.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nIt seems to me that all previous complaints are addressed in the new spkg and patches.\n\nIn particular, if one has opened the spkg, starts a sage shell and does ./spkg-install, then ./spkg-check works, with all tests. passing.\n\nhg status in the spkg is fine, and SPKG.txt looks fine as well (except a typo in the last line, should be \"split from\", not \"split form\" - but please leave that error, since the Gods don't like perfection among the mortals :)\n\nMoreover, `sage -coverage sage/matrix/matrix_mod2e_dense.pyx` is OK.\n\nAll doc tests pass as well, and I think the original problems with t2 had been dealt with.\n\nThus, I hope all participants agree that it is a positive review!",
    "created_at": "2011-10-28T13:18:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83068",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:6" align="right">comment:6</div>

It seems to me that all previous complaints are addressed in the new spkg and patches.

In particular, if one has opened the spkg, starts a sage shell and does ./spkg-install, then ./spkg-check works, with all tests. passing.

hg status in the spkg is fine, and SPKG.txt looks fine as well (except a typo in the last line, should be "split from", not "split form" - but please leave that error, since the Gods don't like perfection among the mortals :)

Moreover, `sage -coverage sage/matrix/matrix_mod2e_dense.pyx` is OK.

All doc tests pass as well, and I think the original problems with t2 had been dealt with.

Thus, I hope all participants agree that it is a positive review!



---

archive/issue_events_122059.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-10-28T13:18:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122059"
}
```



---

archive/issue_events_122060.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-10-28T13:18:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122060"
}
```



---

archive/issue_comments_083069.json:
```json
{
    "body": "<div id=\"comment:127\" align=\"right\">comment:127</div>\n\nReplying to [@simon-king-jena](#comment:126):\n> Thus, I hope all participants agree that it is a positive review!\n\nSollte ich dein Urteil infrage stellen weil du uns f\u00fcr sterblich h\u00e4ltst?",
    "created_at": "2011-10-28T13:29:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83069",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:127" align="right">comment:127</div>

Replying to [@simon-king-jena](#comment:126):
> Thus, I hope all participants agree that it is a positive review!

Sollte ich dein Urteil infrage stellen weil du uns für sterblich hältst?



---

archive/issue_events_122061.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-10-28T13:54:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "milestone_number": null,
    "milestone_title": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122061"
}
```



---

archive/issue_events_122062.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-10-28T13:54:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "milestone_number": null,
    "milestone_title": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122062"
}
```



---

archive/issue_events_122063.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-03T09:11:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "milestone_number": null,
    "milestone_title": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122063"
}
```



---

archive/issue_events_122064.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-03T09:11:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122064"
}
```



---

archive/issue_events_122065.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-15T08:55:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122065"
}
```



---

archive/issue_events_122066.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-15T08:55:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122066"
}
```



---

archive/issue_comments_083070.json:
```json
{
    "body": "Merged: **sage-4.8.alpha2**",
    "created_at": "2011-11-15T08:55:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83070",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-4.8.alpha2**



---

archive/issue_events_122067.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-20T10:24:29Z",
    "event": "reopened",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122067"
}
```



---

archive/issue_comments_083071.json:
```json
{
    "body": "Changed merged from **sage-4.8.alpha2** to none",
    "created_at": "2011-11-20T10:24:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83071",
    "user": "https://github.com/jdemeyer"
}
```

Changed merged from **sage-4.8.alpha2** to none



---

archive/issue_comments_083072.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nReopened because of issues with #4260.",
    "created_at": "2011-11-20T10:24:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83072",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:1" align="right">comment:1</div>

Reopened because of issues with #4260.



---

archive/issue_events_122068.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-20T10:24:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122068"
}
```



---

archive/issue_events_122069.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-20T10:24:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122069"
}
```



---

archive/issue_events_122070.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-20T10:24:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122070"
}
```



---

archive/issue_comments_083073.json:
```json
{
    "body": "Merged: **sage-4.8.alpha3**",
    "created_at": "2011-12-01T08:12:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9562#issuecomment-83073",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-4.8.alpha3**



---

archive/issue_events_122071.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-12-01T08:12:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122071"
}
```



---

archive/issue_events_122072.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-12-01T08:12:30Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122072"
}
```



---

archive/issue_events_122073.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-04-19T06:47:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122073"
}
```



---

archive/issue_events_122074.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2015-04-19T13:10:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9562",
    "milestone_number": null,
    "milestone_title": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9562#event-122074"
}
```
