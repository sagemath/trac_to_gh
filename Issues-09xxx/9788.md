# Issue 9788: The coordinates appearing in the output of variety(L) should be easier to access

archive/issues_009787.json:
```json
{
    "assignees": [
        "https://github.com/malb"
    ],
    "body": "When computing the variety over an extension field L of a zero-dimensional ideal of some polynomial ring K[vars], each point of the variety is returned as a dictionary whose keys are generators of L[vars]. It would be more practical to have the keys be either generators of K[vars] or plain strings.\n\n```\nsage: R.<x,y> = QQ[]\nsage: J = (x+y, x^2+y^2-1)*R\nsage: V = J.variety(QQbar); V\n[{y: -0.7071067811865475?, x: 0.7071067811865475?}, {y: 0.7071067811865475?, x: -0.7071067811865475?}]\nsage: V[0][x]\n---------------------------------------------------------------------------\nKeyError                                  Traceback (most recent call last)\n\n/data/sage-4.5.1/<ipython console> in <module>()\n\nKeyError: x\nsage: V[0]['x']\n---------------------------------------------------------------------------\nKeyError                                  Traceback (most recent call last)\n\n/data/sage-4.5.1/<ipython console> in <module>()\n\nKeyError: 'x'\nsage: V[0][QQbar['x,y'].0]\n0.7071067811865475?\n```\n\nCC:  @gagern\n\nBranch: **[`3e7a7f5`](https://github.com/sagemath/sagetrac-mirror/commit/3e7a7f5638ac8acfc234b592974376bb88253e5f)**\n\nReviewer: **Marc Mezzarobba**\n\nAuthor: **Martin von Gagern**\n\nComponent: **commutative algebra**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/9788_\n\n",
    "closed_at": "2015-10-16T18:42:48Z",
    "created_at": "2010-08-23T13:28:40Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20commutative%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "The coordinates appearing in the output of variety(L) should be easier to access",
    "type": "issue",
    "updated_at": "2015-11-27T15:20:56Z",
    "url": "https://github.com/sagemath/sage/issues/9788",
    "user": "https://github.com/mezzarobba"
}
```
When computing the variety over an extension field L of a zero-dimensional ideal of some polynomial ring K[vars], each point of the variety is returned as a dictionary whose keys are generators of L[vars]. It would be more practical to have the keys be either generators of K[vars] or plain strings.

```
sage: R.<x,y> = QQ[]
sage: J = (x+y, x^2+y^2-1)*R
sage: V = J.variety(QQbar); V
[{y: -0.7071067811865475?, x: 0.7071067811865475?}, {y: 0.7071067811865475?, x: -0.7071067811865475?}]
sage: V[0][x]
---------------------------------------------------------------------------
KeyError                                  Traceback (most recent call last)

/data/sage-4.5.1/<ipython console> in <module>()

KeyError: x
sage: V[0]['x']
---------------------------------------------------------------------------
KeyError                                  Traceback (most recent call last)

/data/sage-4.5.1/<ipython console> in <module>()

KeyError: 'x'
sage: V[0][QQbar['x,y'].0]
0.7071067811865475?
```

CC:  @gagern

Branch: **[`3e7a7f5`](https://github.com/sagemath/sagetrac-mirror/commit/3e7a7f5638ac8acfc234b592974376bb88253e5f)**

Reviewer: **Marc Mezzarobba**

Author: **Martin von Gagern**

Component: **commutative algebra**

_Issue created by migration from https://trac.sagemath.org/ticket/9788_





---

archive/issue_events_126931.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2010-08-23T13:28:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126931"
}
```



---

archive/issue_events_126932.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2010-08-23T13:28:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20commutative%20algebra",
    "label_color": "0000ff",
    "label_name": "c: commutative algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126932"
}
```



---

archive/issue_events_126933.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2010-08-23T13:28:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126933"
}
```



---

archive/issue_events_126934.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2010-08-23T13:28:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126934"
}
```



---

archive/issue_events_126935.json:
```json
{
    "actor": "https://github.com/malb",
    "created_at": "2010-08-23T13:28:40Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "subject": "https://github.com/mezzarobba",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126935"
}
```



---

archive/issue_events_126936.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126936"
}
```



---

archive/issue_events_126937.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126937"
}
```



---

archive/issue_events_126938.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126938"
}
```



---

archive/issue_events_126939.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126939"
}
```



---

archive/issue_events_126940.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126940"
}
```



---

archive/issue_events_126941.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126941"
}
```



---

archive/issue_events_126942.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126942"
}
```



---

archive/issue_events_126943.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126943"
}
```



---

archive/issue_comments_086855.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nAs [discussed on sage-devel](https://groups.google.com/forum/#!topic/sage-devel/oAj6Ja-62HA), another alternative would be to use whatever category makes sense for keys, but to coerce keys to that category using a custom class derived from `dict`. Compared to using wither generators of K[vars] or strings this would have the huge advantage of not breaking backwards compatibility, since lookup using generators of L[vars] would work just as well.",
    "created_at": "2015-01-23T13:49:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86855",
    "user": "https://github.com/gagern"
}
```

<div id="comment:5" align="right">comment:5</div>

As [discussed on sage-devel](https://groups.google.com/forum/#!topic/sage-devel/oAj6Ja-62HA), another alternative would be to use whatever category makes sense for keys, but to coerce keys to that category using a custom class derived from `dict`. Compared to using wither generators of K[vars] or strings this would have the huge advantage of not breaking backwards compatibility, since lookup using generators of L[vars] would work just as well.



---

archive/issue_comments_086856.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@gagern](#comment:5):\n> As [discussed on sage-devel](https://groups.google.com/forum/#!topic/sage-devel/oAj6Ja-62HA), another alternative would be to use whatever category makes sense for keys, but to coerce keys to that category using a custom class derived from `dict`. Compared to using wither generators of K[vars] or strings this would have the huge advantage of not breaking backwards compatibility, since lookup using generators of L[vars] would work just as well.\n\nYes, this is clearly a better solution!",
    "created_at": "2015-01-23T14:28:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86856",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@gagern](#comment:5):
> As [discussed on sage-devel](https://groups.google.com/forum/#!topic/sage-devel/oAj6Ja-62HA), another alternative would be to use whatever category makes sense for keys, but to coerce keys to that category using a custom class derived from `dict`. Compared to using wither generators of K[vars] or strings this would have the huge advantage of not breaking backwards compatibility, since lookup using generators of L[vars] would work just as well.

Yes, this is clearly a better solution!



---

archive/issue_comments_086857.json:
```json
{
    "body": "Branch: **[u/gagern/ticket/9788](https://github.com/sagemath/sagetrac-mirror/tree/u/gagern/ticket/9788)**",
    "created_at": "2015-01-31T21:27:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86857",
    "user": "https://github.com/gagern"
}
```

Branch: **[u/gagern/ticket/9788](https://github.com/sagemath/sagetrac-mirror/tree/u/gagern/ticket/9788)**



---

archive/issue_comments_086858.json:
```json
{
    "body": "Author: **Martin von Gagern**",
    "created_at": "2015-01-31T21:32:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86858",
    "user": "https://github.com/gagern"
}
```

Author: **Martin von Gagern**



---

archive/issue_events_126944.json:
```json
{
    "actor": "https://github.com/gagern",
    "created_at": "2015-01-31T21:32:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126944"
}
```



---

archive/issue_comments_086859.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nOK, here is an implementation for this.\n\nThe object returned from the `variety()` call no longer is a sequence, since converting to sequence will cause some argument misalignment and therefore make all solutions come up as empty dicts. One alternative would be making the key conversion function a named argument, perhaps even guessing it from the type of the keys provided so far. Another alternative would be introducing a category for conversion dicts, one for every possible conversion function. But I doubt either of these is neccessary, since I doubt anyone really relies on receiving a Sequence out of this.\n\nShould `BooleanPolynomialIdeal.variety()` in `pbori.pyx` behave the same? Should other code make use of this as well, e.g. the symbolic `solve` function with `solutions_dict=True`? Should these things be handled in separate tickets?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37ec7a5f3d2a43dbbcaa54aac4bed8a803e7e4b8\"><code>37ec7a5</code></a></td><td><code>Add KeyConvertingDict and use it for the result of variety().</code></td></tr></table>\n",
    "created_at": "2015-01-31T21:32:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86859",
    "user": "https://github.com/gagern"
}
```

<div id="comment:9" align="right">comment:9</div>

OK, here is an implementation for this.

The object returned from the `variety()` call no longer is a sequence, since converting to sequence will cause some argument misalignment and therefore make all solutions come up as empty dicts. One alternative would be making the key conversion function a named argument, perhaps even guessing it from the type of the keys provided so far. Another alternative would be introducing a category for conversion dicts, one for every possible conversion function. But I doubt either of these is neccessary, since I doubt anyone really relies on receiving a Sequence out of this.

Should `BooleanPolynomialIdeal.variety()` in `pbori.pyx` behave the same? Should other code make use of this as well, e.g. the symbolic `solve` function with `solutions_dict=True`? Should these things be handled in separate tickets?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37ec7a5f3d2a43dbbcaa54aac4bed8a803e7e4b8"><code>37ec7a5</code></a></td><td><code>Add KeyConvertingDict and use it for the result of variety().</code></td></tr></table>




---

archive/issue_comments_086860.json:
```json
{
    "body": "Commit: **[`37ec7a5`](https://github.com/sagemath/sagetrac-mirror/commit/37ec7a5f3d2a43dbbcaa54aac4bed8a803e7e4b8)**",
    "created_at": "2015-01-31T21:32:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86860",
    "user": "https://github.com/gagern"
}
```

Commit: **[`37ec7a5`](https://github.com/sagemath/sagetrac-mirror/commit/37ec7a5f3d2a43dbbcaa54aac4bed8a803e7e4b8)**



---

archive/issue_comments_086861.json:
```json
{
    "body": "Changed commit from **[`37ec7a5`](https://github.com/sagemath/sagetrac-mirror/commit/37ec7a5f3d2a43dbbcaa54aac4bed8a803e7e4b8)** to **[`53e7572`](https://github.com/sagemath/sagetrac-mirror/commit/53e75728cd5ab67e39a3def6ddb3cc35af6a7e8a)**",
    "created_at": "2015-02-01T15:48:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86861",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`37ec7a5`](https://github.com/sagemath/sagetrac-mirror/commit/37ec7a5f3d2a43dbbcaa54aac4bed8a803e7e4b8)** to **[`53e7572`](https://github.com/sagemath/sagetrac-mirror/commit/53e75728cd5ab67e39a3def6ddb3cc35af6a7e8a)**



---

archive/issue_comments_086862.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53e75728cd5ab67e39a3def6ddb3cc35af6a7e8a\"><code>53e7572</code></a></td><td><code>Document KeyConvertingDict constructor data argument.</code></td></tr></table>\n",
    "created_at": "2015-02-01T15:48:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86862",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53e75728cd5ab67e39a3def6ddb3cc35af6a7e8a"><code>53e7572</code></a></td><td><code>Document KeyConvertingDict constructor data argument.</code></td></tr></table>




---

archive/issue_comments_086863.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@gagern](#comment:9):\n> OK, here is an implementation for this.\n\nAs you implemented it as a generic programming utility rather than as part of the parent/element/coercion/... infrastructure, perhaps it should go in `sage.misc` rather than `sage.structure`?\n\n> The object returned from the `variety()` call no longer is a sequence, since converting to sequence will cause some argument misalignment and therefore make all solutions come up as empty dicts. One alternative would be making the key conversion function a named argument, perhaps even guessing it from the type of the keys provided so far. Another alternative would be introducing a category for conversion dicts, one for every possible conversion function. But I doubt either of these is neccessary, since I doubt anyone really relies on receiving a Sequence out of this.\n\nI agree, but I'd prefer to get a second opinion.\n\n> Should `BooleanPolynomialIdeal.variety()` in `pbori.pyx` behave the same? Should other code make use of this as well, e.g. the symbolic `solve` function with `solutions_dict=True`?\n\nI'd say yes.\n\n> Should these things be handled in separate tickets?\n\nIf that's easy to do, doing at least some of what you suggest here would give `KeyConvertingDict` a bit of field-testing before it is merged...",
    "created_at": "2015-02-02T09:13:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86863",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@gagern](#comment:9):
> OK, here is an implementation for this.

As you implemented it as a generic programming utility rather than as part of the parent/element/coercion/... infrastructure, perhaps it should go in `sage.misc` rather than `sage.structure`?

> The object returned from the `variety()` call no longer is a sequence, since converting to sequence will cause some argument misalignment and therefore make all solutions come up as empty dicts. One alternative would be making the key conversion function a named argument, perhaps even guessing it from the type of the keys provided so far. Another alternative would be introducing a category for conversion dicts, one for every possible conversion function. But I doubt either of these is neccessary, since I doubt anyone really relies on receiving a Sequence out of this.

I agree, but I'd prefer to get a second opinion.

> Should `BooleanPolynomialIdeal.variety()` in `pbori.pyx` behave the same? Should other code make use of this as well, e.g. the symbolic `solve` function with `solutions_dict=True`?

I'd say yes.

> Should these things be handled in separate tickets?

If that's easy to do, doing at least some of what you suggest here would give `KeyConvertingDict` a bit of field-testing before it is merged...



---

archive/issue_comments_086864.json:
```json
{
    "body": "Changed commit from **[`53e7572`](https://github.com/sagemath/sagetrac-mirror/commit/53e75728cd5ab67e39a3def6ddb3cc35af6a7e8a)** to **[`79c59c2`](https://github.com/sagemath/sagetrac-mirror/commit/79c59c24803918e25aba2a659330ddcd63331685)**",
    "created_at": "2015-02-08T17:53:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86864",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`53e7572`](https://github.com/sagemath/sagetrac-mirror/commit/53e75728cd5ab67e39a3def6ddb3cc35af6a7e8a)** to **[`79c59c2`](https://github.com/sagemath/sagetrac-mirror/commit/79c59c24803918e25aba2a659330ddcd63331685)**



---

archive/issue_comments_086865.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e37003250d1db311a2ab4f8d26491059cc58151\"><code>1e37003</code></a></td><td><code>Move KeyConvertingDict from sage.structure to sage.misc.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2c617af8649ab7d38bfe7510fb0fa93b1e3c764c\"><code>2c617af</code></a></td><td><code>Fix docstring formatting and add doctest for KeyConvertingDict.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79c59c24803918e25aba2a659330ddcd63331685\"><code>79c59c2</code></a></td><td><code>Use KeyConvertingDict for BooleanPolynomialIdeal.variety as well.</code></td></tr></table>\n",
    "created_at": "2015-02-08T17:53:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86865",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e37003250d1db311a2ab4f8d26491059cc58151"><code>1e37003</code></a></td><td><code>Move KeyConvertingDict from sage.structure to sage.misc.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2c617af8649ab7d38bfe7510fb0fa93b1e3c764c"><code>2c617af</code></a></td><td><code>Fix docstring formatting and add doctest for KeyConvertingDict.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79c59c24803918e25aba2a659330ddcd63331685"><code>79c59c2</code></a></td><td><code>Use KeyConvertingDict for BooleanPolynomialIdeal.variety as well.</code></td></tr></table>




---

archive/issue_comments_086866.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@mezzarobba](#comment:11):\n> As you implemented it as a generic programming utility rather than as part of the parent/element/coercion/... infrastructure, perhaps it should go in `sage.misc` rather than `sage.structure`?\n\nFine with me. Did so.\n\n> I agree, but I'd prefer to get a second opinion.\n\nSo this ticket here will remain waiting for review until then? Should I ask someone specific about this?\n\n> > Should `BooleanPolynomialIdeal.variety()` in `pbori.pyx` behave the same?\n\nDid so now.\n\n> > Should other code make use of this as well, e.g. the symbolic `solve` function with `solutions_dict=True`?\n\nI get the feeling that if the result accepts various types to identify variables, the argument which tells `solve` what variable(s) to solve for should be auto-coerced as well. That would be a bigger and possibly more controversial change, and I don't want that in the way of this ticket here.",
    "created_at": "2015-02-08T18:41:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86866",
    "user": "https://github.com/gagern"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@mezzarobba](#comment:11):
> As you implemented it as a generic programming utility rather than as part of the parent/element/coercion/... infrastructure, perhaps it should go in `sage.misc` rather than `sage.structure`?

Fine with me. Did so.

> I agree, but I'd prefer to get a second opinion.

So this ticket here will remain waiting for review until then? Should I ask someone specific about this?

> > Should `BooleanPolynomialIdeal.variety()` in `pbori.pyx` behave the same?

Did so now.

> > Should other code make use of this as well, e.g. the symbolic `solve` function with `solutions_dict=True`?

I get the feeling that if the result accepts various types to identify variables, the argument which tells `solve` what variable(s) to solve for should be auto-coerced as well. That would be a bigger and possibly more controversial change, and I don't want that in the way of this ticket here.



---

archive/issue_comments_086867.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@gagern](#comment:13):\n> > I agree, but I'd prefer to get a second opinion.\n\n> \n> So this ticket here will remain waiting for review until then? Should I ask someone specific about this?\n\nI was hoping that someone would jump in and tell us what they think. At the moment I don't have time to look at your last changes, but if no one has complained when I do... well, no, I don't plan to delay the review forever.",
    "created_at": "2015-02-08T18:51:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86867",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@gagern](#comment:13):
> > I agree, but I'd prefer to get a second opinion.

> 
> So this ticket here will remain waiting for review until then? Should I ask someone specific about this?

I was hoping that someone would jump in and tell us what they think. At the moment I don't have time to look at your last changes, but if no one has complained when I do... well, no, I don't plan to delay the review forever.



---

archive/issue_comments_086868.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\n\n```\n**********************************************************************\nFile \"src/sage/rings/polynomial/multi_polynomial_sequence.py\", line 1348, in sage.rings.polynomial.multi_polynomial_sequence.PolynomialSequence_gf2.solve\nFailed example:\n    sol = S.solve(); sol                       # random\nException raised:\n    Traceback (most recent call last):\n      File \"/home/marc/co/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 488, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/marc/co/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 850, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.rings.polynomial.multi_polynomial_sequence.PolynomialSequence_gf2.solve[2]>\", line 1, in <module>\n        sol = S.solve(); sol                       # random\n      File \"/home/marc/co/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/multi_polynomial_sequence.py\", line 1462, in solve\n        sol[ r.lm() ] = r.subs(sol).constant_coefficient()\n      File \"/home/marc/co/sage/local/lib/python2.7/site-packages/sage/misc/converting_dict.py\", line 139, in __setitem__\n        key = self.key_conversion_function(key)\n      File \"sage/structure/parent.pyx\", line 1094, in sage.structure.parent.Parent.__call__ (build/cythonized/sage/structure/parent.c:9480)\n        return mor._call_(x)\n      File \"sage/structure/coerce_maps.pyx\", line 110, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (build/cythonized/sage/structure/coerce_maps.c:4374)\n        raise\n      File \"sage/structure/coerce_maps.pyx\", line 105, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (build/cythonized/sage/structure/coerce_maps.c:4272)\n        return C._element_constructor(x)\n      File \"sage/rings/polynomial/pbori.pyx\", line 908, in sage.rings.polynomial.pbori.BooleanPolynomialRing._element_constructor_ (build/cythonized/sage/rings/polynomial/pbori.cpp:9793)\n        raise TypeError, \"cannot convert monomial %s to %s: %s\"%(other,self,msg)\n    TypeError: cannot convert monomial x to Boolean PolynomialRing in z, y: name x not defined\n**********************************************************************\n```",
    "created_at": "2015-02-09T09:09:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86868",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:15" align="right">comment:15</div>


```
**********************************************************************
File "src/sage/rings/polynomial/multi_polynomial_sequence.py", line 1348, in sage.rings.polynomial.multi_polynomial_sequence.PolynomialSequence_gf2.solve
Failed example:
    sol = S.solve(); sol                       # random
Exception raised:
    Traceback (most recent call last):
      File "/home/marc/co/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 488, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/marc/co/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 850, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.rings.polynomial.multi_polynomial_sequence.PolynomialSequence_gf2.solve[2]>", line 1, in <module>
        sol = S.solve(); sol                       # random
      File "/home/marc/co/sage/local/lib/python2.7/site-packages/sage/rings/polynomial/multi_polynomial_sequence.py", line 1462, in solve
        sol[ r.lm() ] = r.subs(sol).constant_coefficient()
      File "/home/marc/co/sage/local/lib/python2.7/site-packages/sage/misc/converting_dict.py", line 139, in __setitem__
        key = self.key_conversion_function(key)
      File "sage/structure/parent.pyx", line 1094, in sage.structure.parent.Parent.__call__ (build/cythonized/sage/structure/parent.c:9480)
        return mor._call_(x)
      File "sage/structure/coerce_maps.pyx", line 110, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (build/cythonized/sage/structure/coerce_maps.c:4374)
        raise
      File "sage/structure/coerce_maps.pyx", line 105, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (build/cythonized/sage/structure/coerce_maps.c:4272)
        return C._element_constructor(x)
      File "sage/rings/polynomial/pbori.pyx", line 908, in sage.rings.polynomial.pbori.BooleanPolynomialRing._element_constructor_ (build/cythonized/sage/rings/polynomial/pbori.cpp:9793)
        raise TypeError, "cannot convert monomial %s to %s: %s"%(other,self,msg)
    TypeError: cannot convert monomial x to Boolean PolynomialRing in z, y: name x not defined
**********************************************************************
```



---

archive/issue_events_126945.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2015-02-09T14:42:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126945"
}
```



---

archive/issue_events_126946.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2015-02-09T14:42:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126946"
}
```



---

archive/issue_comments_086869.json:
```json
{
    "body": "Changed commit from **[`79c59c2`](https://github.com/sagemath/sagetrac-mirror/commit/79c59c24803918e25aba2a659330ddcd63331685)** to **[`05f1a33`](https://github.com/sagemath/sagetrac-mirror/commit/05f1a334c6c1cdc2de9b4e407ddbb8ae8a89ae4f)**",
    "created_at": "2015-04-20T07:17:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86869",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`79c59c2`](https://github.com/sagemath/sagetrac-mirror/commit/79c59c24803918e25aba2a659330ddcd63331685)** to **[`05f1a33`](https://github.com/sagemath/sagetrac-mirror/commit/05f1a334c6c1cdc2de9b4e407ddbb8ae8a89ae4f)**



---

archive/issue_comments_086870.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5dc990678bbdd9d6d2883577ea24ec6bd939b37\"><code>a5dc990</code></a></td><td><code>Merge tag '6.7.beta1' into t/9788/ConvertingDict</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/05f1a334c6c1cdc2de9b4e407ddbb8ae8a89ae4f\"><code>05f1a33</code></a></td><td><code>Unify key domain for PolynomialSequence_gf2.solve</code></td></tr></table>\n",
    "created_at": "2015-04-20T07:17:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86870",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5dc990678bbdd9d6d2883577ea24ec6bd939b37"><code>a5dc990</code></a></td><td><code>Merge tag '6.7.beta1' into t/9788/ConvertingDict</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/05f1a334c6c1cdc2de9b4e407ddbb8ae8a89ae4f"><code>05f1a33</code></a></td><td><code>Unify key domain for PolynomialSequence_gf2.solve</code></td></tr></table>




---

archive/issue_events_126947.json:
```json
{
    "actor": "https://github.com/gagern",
    "created_at": "2015-04-20T07:22:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126947"
}
```



---

archive/issue_events_126948.json:
```json
{
    "actor": "https://github.com/gagern",
    "created_at": "2015-04-20T07:22:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126948"
}
```



---

archive/issue_comments_086871.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\n`PolynomialSequence_gf2.solve` currently uses `lambda x: R_origin(x).lm()` as the key conversion function. Which could lead to strange behavior if used incorrectly:\n\n```\nsage: R.<x,y,z> = BooleanPolynomialRing()\nsage: sol = Sequence([x*y+z, y*z+x, x+y+z+1]).solve()\nsage: sol\n[{y: 1, z: 0, x: 0}]\nsage: sol[0][y+z]\n1\n```\n\nShould I have the conversion function verify that converting the resulting monomial back into a polynomial will result in a polynomial equal to the argument? Or should I use the rin instead of its monomials as the key domain of the dict? Or is this glitch acceptable, since it's obvious you should use a single monomial as a key here?",
    "created_at": "2015-04-20T07:22:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86871",
    "user": "https://github.com/gagern"
}
```

<div id="comment:18" align="right">comment:18</div>

`PolynomialSequence_gf2.solve` currently uses `lambda x: R_origin(x).lm()` as the key conversion function. Which could lead to strange behavior if used incorrectly:

```
sage: R.<x,y,z> = BooleanPolynomialRing()
sage: sol = Sequence([x*y+z, y*z+x, x+y+z+1]).solve()
sage: sol
[{y: 1, z: 0, x: 0}]
sage: sol[0][y+z]
1
```

Should I have the conversion function verify that converting the resulting monomial back into a polynomial will result in a polynomial equal to the argument? Or should I use the rin instead of its monomials as the key domain of the dict? Or is this glitch acceptable, since it's obvious you should use a single monomial as a key here?



---

archive/issue_comments_086872.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nPatchbot not yet happy (but not that bad, only one failing doctest)\n\n```\nFile \"src/sage/rings/polynomial/multi_polynomial_ideal.py\", line 2258,\nin sage.rings.polynomial.multi_polynomial_ideal.?.variety\nFailed example:\n    for V in I.variety(): print V  # long time (6s on sage.math, 2011)\n```\n\nVincent",
    "created_at": "2015-04-20T09:45:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86872",
    "user": "https://github.com/videlec"
}
```

<div id="comment:19" align="right">comment:19</div>

Patchbot not yet happy (but not that bad, only one failing doctest)

```
File "src/sage/rings/polynomial/multi_polynomial_ideal.py", line 2258,
in sage.rings.polynomial.multi_polynomial_ideal.?.variety
Failed example:
    for V in I.variety(): print V  # long time (6s on sage.math, 2011)
```

Vincent



---

archive/issue_comments_086873.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/117b5959f8c9448c17ec4d22aafbf68f0e54fad8\"><code>117b595</code></a></td><td><code>Use reproducible representations in one more doctest</code></td></tr></table>\n",
    "created_at": "2015-04-20T10:21:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86873",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/117b5959f8c9448c17ec4d22aafbf68f0e54fad8"><code>117b595</code></a></td><td><code>Use reproducible representations in one more doctest</code></td></tr></table>




---

archive/issue_comments_086874.json:
```json
{
    "body": "Changed commit from **[`05f1a33`](https://github.com/sagemath/sagetrac-mirror/commit/05f1a334c6c1cdc2de9b4e407ddbb8ae8a89ae4f)** to **[`117b595`](https://github.com/sagemath/sagetrac-mirror/commit/117b5959f8c9448c17ec4d22aafbf68f0e54fad8)**",
    "created_at": "2015-04-20T10:21:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86874",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`05f1a33`](https://github.com/sagemath/sagetrac-mirror/commit/05f1a334c6c1cdc2de9b4e407ddbb8ae8a89ae4f)** to **[`117b595`](https://github.com/sagemath/sagetrac-mirror/commit/117b5959f8c9448c17ec4d22aafbf68f0e54fad8)**



---

archive/issue_comments_086875.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5a3e403f79a0aed40f3d50beaf6fe74e3379f243\"><code>5a3e403</code></a></td><td><code>Present result of one doctest in a more compact way</code></td></tr></table>\n",
    "created_at": "2015-04-20T10:29:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86875",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5a3e403f79a0aed40f3d50beaf6fe74e3379f243"><code>5a3e403</code></a></td><td><code>Present result of one doctest in a more compact way</code></td></tr></table>




---

archive/issue_comments_086876.json:
```json
{
    "body": "Changed commit from **[`117b595`](https://github.com/sagemath/sagetrac-mirror/commit/117b5959f8c9448c17ec4d22aafbf68f0e54fad8)** to **[`5a3e403`](https://github.com/sagemath/sagetrac-mirror/commit/5a3e403f79a0aed40f3d50beaf6fe74e3379f243)**",
    "created_at": "2015-04-20T10:29:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86876",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`117b595`](https://github.com/sagemath/sagetrac-mirror/commit/117b5959f8c9448c17ec4d22aafbf68f0e54fad8)** to **[`5a3e403`](https://github.com/sagemath/sagetrac-mirror/commit/5a3e403f79a0aed40f3d50beaf6fe74e3379f243)**



---

archive/issue_events_126949.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2015-05-25T09:49:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126949"
}
```



---

archive/issue_events_126950.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2015-05-25T09:49:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126950"
}
```



---

archive/issue_comments_086877.json:
```json
{
    "body": "Changed commit from **[`5a3e403`](https://github.com/sagemath/sagetrac-mirror/commit/5a3e403f79a0aed40f3d50beaf6fe74e3379f243)** to **[`f39fdd3`](https://github.com/sagemath/sagetrac-mirror/commit/f39fdd3854f34eb81040771124217cc8abf673cb)**",
    "created_at": "2015-05-25T09:49:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86877",
    "user": "https://github.com/mezzarobba"
}
```

Changed commit from **[`5a3e403`](https://github.com/sagemath/sagetrac-mirror/commit/5a3e403f79a0aed40f3d50beaf6fe74e3379f243)** to **[`f39fdd3`](https://github.com/sagemath/sagetrac-mirror/commit/f39fdd3854f34eb81040771124217cc8abf673cb)**



---

archive/issue_comments_086878.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nRebased to fix minor conflicts.\n\nJust one question: what is `_no_default_provided` for? Wouldn't it be enough to do\n\n```\nreturn super(KeyConvertingDict, self).pop(key, *args)\n```\nin `KeyConvertingDict.pop()`?\n\nLooks good to me otherwise.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a7b8219c878e57afdc9e235a98a5a70586e135ec\"><code>a7b8219</code></a></td><td><code>Add KeyConvertingDict and use it for the result of variety().</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe98a96330f6d03c256bb30e004dfca1e885e4df\"><code>fe98a96</code></a></td><td><code>Document KeyConvertingDict constructor data argument.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff21a956f3e4408091a8349847baeb1ad51c1cb6\"><code>ff21a95</code></a></td><td><code>Move KeyConvertingDict from sage.structure to sage.misc.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7832b4a0ce30eb51a6a18f701bbf6a32a70d1ecc\"><code>7832b4a</code></a></td><td><code>Fix docstring formatting and add doctest for KeyConvertingDict.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04f02c9c7309e418f64b48ad608f05e38e2edc64\"><code>04f02c9</code></a></td><td><code>Use KeyConvertingDict for BooleanPolynomialIdeal.variety as well.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b62b3da4f4c30e2307ee2cd7aa1f7c4a224221d1\"><code>b62b3da</code></a></td><td><code>Unify key domain for PolynomialSequence_gf2.solve</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e65a82b29f33957ea713c161ce3fcdcbf163f8a0\"><code>e65a82b</code></a></td><td><code>Use reproducible representations in one more doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f39fdd3854f34eb81040771124217cc8abf673cb\"><code>f39fdd3</code></a></td><td><code>Present result of one doctest in a more compact way</code></td></tr></table>\n",
    "created_at": "2015-05-25T09:49:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86878",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:22" align="right">comment:22</div>

Rebased to fix minor conflicts.

Just one question: what is `_no_default_provided` for? Wouldn't it be enough to do

```
return super(KeyConvertingDict, self).pop(key, *args)
```
in `KeyConvertingDict.pop()`?

Looks good to me otherwise.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a7b8219c878e57afdc9e235a98a5a70586e135ec"><code>a7b8219</code></a></td><td><code>Add KeyConvertingDict and use it for the result of variety().</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe98a96330f6d03c256bb30e004dfca1e885e4df"><code>fe98a96</code></a></td><td><code>Document KeyConvertingDict constructor data argument.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff21a956f3e4408091a8349847baeb1ad51c1cb6"><code>ff21a95</code></a></td><td><code>Move KeyConvertingDict from sage.structure to sage.misc.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7832b4a0ce30eb51a6a18f701bbf6a32a70d1ecc"><code>7832b4a</code></a></td><td><code>Fix docstring formatting and add doctest for KeyConvertingDict.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04f02c9c7309e418f64b48ad608f05e38e2edc64"><code>04f02c9</code></a></td><td><code>Use KeyConvertingDict for BooleanPolynomialIdeal.variety as well.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b62b3da4f4c30e2307ee2cd7aa1f7c4a224221d1"><code>b62b3da</code></a></td><td><code>Unify key domain for PolynomialSequence_gf2.solve</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e65a82b29f33957ea713c161ce3fcdcbf163f8a0"><code>e65a82b</code></a></td><td><code>Use reproducible representations in one more doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f39fdd3854f34eb81040771124217cc8abf673cb"><code>f39fdd3</code></a></td><td><code>Present result of one doctest in a more compact way</code></td></tr></table>




---

archive/issue_comments_086879.json:
```json
{
    "body": "Changed branch from **[u/gagern/ticket/9788](https://github.com/sagemath/sagetrac-mirror/tree/u/gagern/ticket/9788)** to **[u/mmezzarobba/9788-key_converting_dict](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/9788-key_converting_dict)**",
    "created_at": "2015-05-25T09:49:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86879",
    "user": "https://github.com/mezzarobba"
}
```

Changed branch from **[u/gagern/ticket/9788](https://github.com/sagemath/sagetrac-mirror/tree/u/gagern/ticket/9788)** to **[u/mmezzarobba/9788-key_converting_dict](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/9788-key_converting_dict)**



---

archive/issue_comments_086880.json:
```json
{
    "body": "Changed branch from **[u/mmezzarobba/9788-key_converting_dict](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/9788-key_converting_dict)** to **[u/gagern/9788-key_converting_dict](https://github.com/sagemath/sagetrac-mirror/tree/u/gagern/9788-key_converting_dict)**",
    "created_at": "2015-06-11T07:17:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86880",
    "user": "https://github.com/gagern"
}
```

Changed branch from **[u/mmezzarobba/9788-key_converting_dict](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/9788-key_converting_dict)** to **[u/gagern/9788-key_converting_dict](https://github.com/sagemath/sagetrac-mirror/tree/u/gagern/9788-key_converting_dict)**



---

archive/issue_comments_086881.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a35bf025ff357cc80c0589cea7911bdaa3aacc8b\"><code>a35bf02</code></a></td><td><code>Handle both arities of converting_dict.pop using *args</code></td></tr></table>\n",
    "created_at": "2015-06-11T07:21:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86881",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a35bf025ff357cc80c0589cea7911bdaa3aacc8b"><code>a35bf02</code></a></td><td><code>Handle both arities of converting_dict.pop using *args</code></td></tr></table>




---

archive/issue_comments_086882.json:
```json
{
    "body": "Changed commit from **[`f39fdd3`](https://github.com/sagemath/sagetrac-mirror/commit/f39fdd3854f34eb81040771124217cc8abf673cb)** to **[`a35bf02`](https://github.com/sagemath/sagetrac-mirror/commit/a35bf025ff357cc80c0589cea7911bdaa3aacc8b)**",
    "created_at": "2015-06-11T07:21:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86882",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f39fdd3`](https://github.com/sagemath/sagetrac-mirror/commit/f39fdd3854f34eb81040771124217cc8abf673cb)** to **[`a35bf02`](https://github.com/sagemath/sagetrac-mirror/commit/a35bf025ff357cc80c0589cea7911bdaa3aacc8b)**



---

archive/issue_comments_086883.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nRebased because of a minor conflict. I guess this ticket should be `needs_review` again, shouldn't it?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a7b8219c878e57afdc9e235a98a5a70586e135ec\"><code>a7b8219</code></a></td><td><code>Add KeyConvertingDict and use it for the result of variety().</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe98a96330f6d03c256bb30e004dfca1e885e4df\"><code>fe98a96</code></a></td><td><code>Document KeyConvertingDict constructor data argument.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff21a956f3e4408091a8349847baeb1ad51c1cb6\"><code>ff21a95</code></a></td><td><code>Move KeyConvertingDict from sage.structure to sage.misc.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7832b4a0ce30eb51a6a18f701bbf6a32a70d1ecc\"><code>7832b4a</code></a></td><td><code>Fix docstring formatting and add doctest for KeyConvertingDict.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04f02c9c7309e418f64b48ad608f05e38e2edc64\"><code>04f02c9</code></a></td><td><code>Use KeyConvertingDict for BooleanPolynomialIdeal.variety as well.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b62b3da4f4c30e2307ee2cd7aa1f7c4a224221d1\"><code>b62b3da</code></a></td><td><code>Unify key domain for PolynomialSequence_gf2.solve</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e65a82b29f33957ea713c161ce3fcdcbf163f8a0\"><code>e65a82b</code></a></td><td><code>Use reproducible representations in one more doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f39fdd3854f34eb81040771124217cc8abf673cb\"><code>f39fdd3</code></a></td><td><code>Present result of one doctest in a more compact way</code></td></tr></table>\n",
    "created_at": "2015-09-03T13:09:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86883",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:25" align="right">comment:25</div>

Rebased because of a minor conflict. I guess this ticket should be `needs_review` again, shouldn't it?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a7b8219c878e57afdc9e235a98a5a70586e135ec"><code>a7b8219</code></a></td><td><code>Add KeyConvertingDict and use it for the result of variety().</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe98a96330f6d03c256bb30e004dfca1e885e4df"><code>fe98a96</code></a></td><td><code>Document KeyConvertingDict constructor data argument.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff21a956f3e4408091a8349847baeb1ad51c1cb6"><code>ff21a95</code></a></td><td><code>Move KeyConvertingDict from sage.structure to sage.misc.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7832b4a0ce30eb51a6a18f701bbf6a32a70d1ecc"><code>7832b4a</code></a></td><td><code>Fix docstring formatting and add doctest for KeyConvertingDict.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04f02c9c7309e418f64b48ad608f05e38e2edc64"><code>04f02c9</code></a></td><td><code>Use KeyConvertingDict for BooleanPolynomialIdeal.variety as well.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b62b3da4f4c30e2307ee2cd7aa1f7c4a224221d1"><code>b62b3da</code></a></td><td><code>Unify key domain for PolynomialSequence_gf2.solve</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e65a82b29f33957ea713c161ce3fcdcbf163f8a0"><code>e65a82b</code></a></td><td><code>Use reproducible representations in one more doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f39fdd3854f34eb81040771124217cc8abf673cb"><code>f39fdd3</code></a></td><td><code>Present result of one doctest in a more compact way</code></td></tr></table>




---

archive/issue_comments_086884.json:
```json
{
    "body": "Changed branch from **[u/gagern/9788-key_converting_dict](https://github.com/sagemath/sagetrac-mirror/tree/u/gagern/9788-key_converting_dict)** to **[u/mmezzarobba/9788-key_converting_dict](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/9788-key_converting_dict)**",
    "created_at": "2015-09-03T13:09:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86884",
    "user": "https://github.com/mezzarobba"
}
```

Changed branch from **[u/gagern/9788-key_converting_dict](https://github.com/sagemath/sagetrac-mirror/tree/u/gagern/9788-key_converting_dict)** to **[u/mmezzarobba/9788-key_converting_dict](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/9788-key_converting_dict)**



---

archive/issue_comments_086885.json:
```json
{
    "body": "Changed commit from **[`a35bf02`](https://github.com/sagemath/sagetrac-mirror/commit/a35bf025ff357cc80c0589cea7911bdaa3aacc8b)** to **[`f39fdd3`](https://github.com/sagemath/sagetrac-mirror/commit/f39fdd3854f34eb81040771124217cc8abf673cb)**",
    "created_at": "2015-09-03T13:09:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86885",
    "user": "https://github.com/mezzarobba"
}
```

Changed commit from **[`a35bf02`](https://github.com/sagemath/sagetrac-mirror/commit/a35bf025ff357cc80c0589cea7911bdaa3aacc8b)** to **[`f39fdd3`](https://github.com/sagemath/sagetrac-mirror/commit/f39fdd3854f34eb81040771124217cc8abf673cb)**



---

archive/issue_events_126951.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2015-09-03T13:09:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126951"
}
```



---

archive/issue_events_126952.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2015-09-03T13:09:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126952"
}
```



---

archive/issue_comments_086886.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\ndoes not seem to apply",
    "created_at": "2015-09-03T18:34:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86886",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:26" align="right">comment:26</div>

does not seem to apply



---

archive/issue_events_126953.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-09-03T18:34:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126953"
}
```



---

archive/issue_events_126954.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-09-03T18:34:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126954"
}
```



---

archive/issue_comments_086887.json:
```json
{
    "body": "Changed commit from **[`f39fdd3`](https://github.com/sagemath/sagetrac-mirror/commit/f39fdd3854f34eb81040771124217cc8abf673cb)** to **[`5b572c3`](https://github.com/sagemath/sagetrac-mirror/commit/5b572c301640a2b0ef55fff24fd878524ff9358a)**",
    "created_at": "2015-09-04T05:04:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86887",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f39fdd3`](https://github.com/sagemath/sagetrac-mirror/commit/f39fdd3854f34eb81040771124217cc8abf673cb)** to **[`5b572c3`](https://github.com/sagemath/sagetrac-mirror/commit/5b572c301640a2b0ef55fff24fd878524ff9358a)**



---

archive/issue_comments_086888.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/10a8690efc7144000009f2ce053346346ab7e5a2\"><code>10a8690</code></a></td><td><code>Add KeyConvertingDict and use it for the result of variety().</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b9a8042bd8a7ad5feb26684bec81af2085bb5d0\"><code>7b9a804</code></a></td><td><code>Document KeyConvertingDict constructor data argument.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a7bc6d010193b86d37e967ad670a369563670161\"><code>a7bc6d0</code></a></td><td><code>Move KeyConvertingDict from sage.structure to sage.misc.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/497d9c0cef4dd817a8806770885894291a8c4811\"><code>497d9c0</code></a></td><td><code>Fix docstring formatting and add doctest for KeyConvertingDict.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f45d0359ad87ec1df1c165554b1274c5050b9b3b\"><code>f45d035</code></a></td><td><code>Use KeyConvertingDict for BooleanPolynomialIdeal.variety as well.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e68d6eb879f9e5f437cfd9bf82bedf4638d19d4a\"><code>e68d6eb</code></a></td><td><code>Unify key domain for PolynomialSequence_gf2.solve</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/75532137c4acea92ed58014e2239bad563e3a1cb\"><code>7553213</code></a></td><td><code>Use reproducible representations in one more doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b572c301640a2b0ef55fff24fd878524ff9358a\"><code>5b572c3</code></a></td><td><code>Present result of one doctest in a more compact way</code></td></tr></table>\n",
    "created_at": "2015-09-04T05:04:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86888",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/10a8690efc7144000009f2ce053346346ab7e5a2"><code>10a8690</code></a></td><td><code>Add KeyConvertingDict and use it for the result of variety().</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b9a8042bd8a7ad5feb26684bec81af2085bb5d0"><code>7b9a804</code></a></td><td><code>Document KeyConvertingDict constructor data argument.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a7bc6d010193b86d37e967ad670a369563670161"><code>a7bc6d0</code></a></td><td><code>Move KeyConvertingDict from sage.structure to sage.misc.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/497d9c0cef4dd817a8806770885894291a8c4811"><code>497d9c0</code></a></td><td><code>Fix docstring formatting and add doctest for KeyConvertingDict.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f45d0359ad87ec1df1c165554b1274c5050b9b3b"><code>f45d035</code></a></td><td><code>Use KeyConvertingDict for BooleanPolynomialIdeal.variety as well.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e68d6eb879f9e5f437cfd9bf82bedf4638d19d4a"><code>e68d6eb</code></a></td><td><code>Unify key domain for PolynomialSequence_gf2.solve</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/75532137c4acea92ed58014e2239bad563e3a1cb"><code>7553213</code></a></td><td><code>Use reproducible representations in one more doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b572c301640a2b0ef55fff24fd878524ff9358a"><code>5b572c3</code></a></td><td><code>Present result of one doctest in a more compact way</code></td></tr></table>




---

archive/issue_events_126955.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2015-09-04T05:05:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126955"
}
```



---

archive/issue_events_126956.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2015-09-04T05:05:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126956"
}
```



---

archive/issue_comments_086889.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@fchapoton](#comment:26):\n> does not seem to apply\n\nSorry, it looks like I pushed the wrong branch!\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/10a8690efc7144000009f2ce053346346ab7e5a2\"><code>10a8690</code></a></td><td><code>Add KeyConvertingDict and use it for the result of variety().</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b9a8042bd8a7ad5feb26684bec81af2085bb5d0\"><code>7b9a804</code></a></td><td><code>Document KeyConvertingDict constructor data argument.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a7bc6d010193b86d37e967ad670a369563670161\"><code>a7bc6d0</code></a></td><td><code>Move KeyConvertingDict from sage.structure to sage.misc.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/497d9c0cef4dd817a8806770885894291a8c4811\"><code>497d9c0</code></a></td><td><code>Fix docstring formatting and add doctest for KeyConvertingDict.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f45d0359ad87ec1df1c165554b1274c5050b9b3b\"><code>f45d035</code></a></td><td><code>Use KeyConvertingDict for BooleanPolynomialIdeal.variety as well.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e68d6eb879f9e5f437cfd9bf82bedf4638d19d4a\"><code>e68d6eb</code></a></td><td><code>Unify key domain for PolynomialSequence_gf2.solve</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/75532137c4acea92ed58014e2239bad563e3a1cb\"><code>7553213</code></a></td><td><code>Use reproducible representations in one more doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b572c301640a2b0ef55fff24fd878524ff9358a\"><code>5b572c3</code></a></td><td><code>Present result of one doctest in a more compact way</code></td></tr></table>\n",
    "created_at": "2015-09-04T05:05:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86889",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@fchapoton](#comment:26):
> does not seem to apply

Sorry, it looks like I pushed the wrong branch!

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/10a8690efc7144000009f2ce053346346ab7e5a2"><code>10a8690</code></a></td><td><code>Add KeyConvertingDict and use it for the result of variety().</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b9a8042bd8a7ad5feb26684bec81af2085bb5d0"><code>7b9a804</code></a></td><td><code>Document KeyConvertingDict constructor data argument.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a7bc6d010193b86d37e967ad670a369563670161"><code>a7bc6d0</code></a></td><td><code>Move KeyConvertingDict from sage.structure to sage.misc.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/497d9c0cef4dd817a8806770885894291a8c4811"><code>497d9c0</code></a></td><td><code>Fix docstring formatting and add doctest for KeyConvertingDict.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f45d0359ad87ec1df1c165554b1274c5050b9b3b"><code>f45d035</code></a></td><td><code>Use KeyConvertingDict for BooleanPolynomialIdeal.variety as well.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e68d6eb879f9e5f437cfd9bf82bedf4638d19d4a"><code>e68d6eb</code></a></td><td><code>Unify key domain for PolynomialSequence_gf2.solve</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/75532137c4acea92ed58014e2239bad563e3a1cb"><code>7553213</code></a></td><td><code>Use reproducible representations in one more doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b572c301640a2b0ef55fff24fd878524ff9358a"><code>5b572c3</code></a></td><td><code>Present result of one doctest in a more compact way</code></td></tr></table>




---

archive/issue_comments_086890.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e7a7f5638ac8acfc234b592974376bb88253e5f\"><code>3e7a7f5</code></a></td><td><code>Handle both arities of converting_dict.pop using *args</code></td></tr></table>\n",
    "created_at": "2015-10-15T09:23:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86890",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e7a7f5638ac8acfc234b592974376bb88253e5f"><code>3e7a7f5</code></a></td><td><code>Handle both arities of converting_dict.pop using *args</code></td></tr></table>




---

archive/issue_comments_086891.json:
```json
{
    "body": "Changed commit from **[`5b572c3`](https://github.com/sagemath/sagetrac-mirror/commit/5b572c301640a2b0ef55fff24fd878524ff9358a)** to **[`3e7a7f5`](https://github.com/sagemath/sagetrac-mirror/commit/3e7a7f5638ac8acfc234b592974376bb88253e5f)**",
    "created_at": "2015-10-15T09:23:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86891",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5b572c3`](https://github.com/sagemath/sagetrac-mirror/commit/5b572c301640a2b0ef55fff24fd878524ff9358a)** to **[`3e7a7f5`](https://github.com/sagemath/sagetrac-mirror/commit/3e7a7f5638ac8acfc234b592974376bb88253e5f)**



---

archive/issue_events_126957.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2015-10-15T12:18:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126957"
}
```



---

archive/issue_events_126958.json:
```json
{
    "actor": "https://github.com/mezzarobba",
    "created_at": "2015-10-15T12:18:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126958"
}
```



---

archive/issue_comments_086892.json:
```json
{
    "body": "Reviewer: **Marc Mezzarobba**",
    "created_at": "2015-10-15T12:18:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86892",
    "user": "https://github.com/mezzarobba"
}
```

Reviewer: **Marc Mezzarobba**



---

archive/issue_comments_086893.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nSince all tests pass and all I did was to rebase Martin's patches and fix trivial conflicts, I'm taking the liberty to set this to positive review myseld.",
    "created_at": "2015-10-15T12:18:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86893",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:30" align="right">comment:30</div>

Since all tests pass and all I did was to rebase Martin's patches and fix trivial conflicts, I'm taking the liberty to set this to positive review myseld.



---

archive/issue_events_126959.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-10-16T18:42:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126959"
}
```



---

archive/issue_events_126960.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "9b2e4605d8174dec19833d88ad73726b5d5946ac",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-10-16T18:42:48Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9788#event-126960"
}
```



---

archive/issue_comments_086894.json:
```json
{
    "body": "Changed branch from **[u/mmezzarobba/9788-key_converting_dict](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/9788-key_converting_dict)** to **[`3e7a7f5`](https://github.com/sagemath/sagetrac-mirror/commit/3e7a7f5638ac8acfc234b592974376bb88253e5f)**",
    "created_at": "2015-10-16T18:42:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86894",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mmezzarobba/9788-key_converting_dict](https://github.com/sagemath/sagetrac-mirror/tree/u/mmezzarobba/9788-key_converting_dict)** to **[`3e7a7f5`](https://github.com/sagemath/sagetrac-mirror/commit/3e7a7f5638ac8acfc234b592974376bb88253e5f)**



---

archive/issue_comments_086895.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nBreakage:\n\n```\nsage -t --warn-long 27.7 src/sage/rings/polynomial/multi_polynomial_sequence.py\n**********************************************************************\nFile \"src/sage/rings/polynomial/multi_polynomial_sequence.py\", line 1381, in sage.rings.polynomial.multi_polynomial_sequence.PolynomialSequence_gf2.solve\nFailed example:\n    sol = S.solve(algorithm='sat'); sol  # optional - cryptominisat\nExpected nothing\nGot:\n    [{y: 1, z: 0, x: 0}]\n**********************************************************************\n```",
    "created_at": "2015-11-27T15:20:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86895",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:32" align="right">comment:32</div>

Breakage:

```
sage -t --warn-long 27.7 src/sage/rings/polynomial/multi_polynomial_sequence.py
**********************************************************************
File "src/sage/rings/polynomial/multi_polynomial_sequence.py", line 1381, in sage.rings.polynomial.multi_polynomial_sequence.PolynomialSequence_gf2.solve
Failed example:
    sol = S.solve(algorithm='sat'); sol  # optional - cryptominisat
Expected nothing
Got:
    [{y: 1, z: 0, x: 0}]
**********************************************************************
```



---

archive/issue_comments_086896.json:
```json
{
    "body": "Changed commit from **[`3e7a7f5`](https://github.com/sagemath/sagetrac-mirror/commit/3e7a7f5638ac8acfc234b592974376bb88253e5f)** to none",
    "created_at": "2015-11-27T15:20:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9788#issuecomment-86896",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[`3e7a7f5`](https://github.com/sagemath/sagetrac-mirror/commit/3e7a7f5638ac8acfc234b592974376bb88253e5f)** to none
