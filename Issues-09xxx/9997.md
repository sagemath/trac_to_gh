# Issue 9997: Tachyon does not even try to build on AIX

archive/issues_009996.json:
```json
{
    "assignees": [],
    "body": "## Hardware and software\n* IBM [RS/6000 7025 F50](http://publib.boulder.ibm.com/infocenter/pseries/v5r3/index.jsp?topic=/com.ibm.pseries.doc/hardware_docs/rs6000_7025f50series.htm)\n* 4 x 332 MHz 32-bit PowerPC CPUs\n* 3 GB RAM\n* A fairly wide mixture of disks sizes (3 x 9 GB, 1 x 18 GB, 2 x 36 GB and 1 x 73 GB)\n* DDS-4 tape drive \n* AIX 5.3 (A POSIX certified operating system)\n* gcc 4.2.4 downloaded from [pware](http://pware.hvcc.edu/)\n* sage-4.6.alpha1 (which has tachyon-0.98beta.p11)\n\n## The problem\n\n```\nWarning: Attempted to overwrite SAGE_ROOT environment variable\ntachyon-0.98beta.p11\nMachine:\nAIX aixbox 3 5 000245984C00\nDeleting directories from past builds of previous/current versions of tachyon-0.98beta.p11\nExtracting package /home/users/drkirkby/sage-4.6.alpha1/spkg/standard/tachyon-0.98beta.p11.spkg ...\n-rw-r--r--   1 drkirkby staff        509381 25 Jul 22:53 /home/users/drkirkby/sage-4.6.alpha1/spkg/standard/tachyon-0.98beta.p11.spkg\ntachyon-0.98beta.p11/\ntachyon-0.98beta.p11/dist/\n<SNIP>\ntachyon-0.98beta.p11/spkg-install\nFinished extraction\n****************************************************\nHost system\nuname -a:\nAIX aixbox 3 5 000245984C00\n****************************************************\n****************************************************\nCC Version\ngcc -v\nUsing built-in specs.\nTarget: powerpc-ibm-aix5.3.0.0\nConfigured with: ../stage/gcc-4.2.4/configure --disable-shared --enable-threads=posix --prefix=/opt/pware --with-long-double-128 --with-\nmpfr=/opt/pware --with-gmp=/opt/pware\nThread model: aix\ngcc version 4.2.4\n****************************************************\nTachyon build for AIX not implemented (for SAGE) - please complain on sage-devel\n\nreal    0m0.218s\nuser    0m0.049s\nsys     0m0.045s\nsage: An error occurred while installing tachyon-0.98beta.p11\n```\n\nAssignee: **drkirkby**\n\nReviewer: **David Kirkby**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/9997_\n\n",
    "closed_at": "2011-02-06T09:55:27Z",
    "created_at": "2010-09-24T02:18:12Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/component%3A%20porting%3A%20aix%20or%20hp-ux",
        "https://github.com/sagemath/sage/labels/duplicate"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Tachyon does not even try to build on AIX",
    "type": "issue",
    "updated_at": "2011-02-06T09:55:27Z",
    "url": "https://github.com/sagemath/sage/issues/9997",
    "user": "https://github.com/sagetrac-drkirkby"
}
```
## Hardware and software
* IBM [RS/6000 7025 F50](http://publib.boulder.ibm.com/infocenter/pseries/v5r3/index.jsp?topic=/com.ibm.pseries.doc/hardware_docs/rs6000_7025f50series.htm)
* 4 x 332 MHz 32-bit PowerPC CPUs
* 3 GB RAM
* A fairly wide mixture of disks sizes (3 x 9 GB, 1 x 18 GB, 2 x 36 GB and 1 x 73 GB)
* DDS-4 tape drive 
* AIX 5.3 (A POSIX certified operating system)
* gcc 4.2.4 downloaded from [pware](http://pware.hvcc.edu/)
* sage-4.6.alpha1 (which has tachyon-0.98beta.p11)

## The problem

```
Warning: Attempted to overwrite SAGE_ROOT environment variable
tachyon-0.98beta.p11
Machine:
AIX aixbox 3 5 000245984C00
Deleting directories from past builds of previous/current versions of tachyon-0.98beta.p11
Extracting package /home/users/drkirkby/sage-4.6.alpha1/spkg/standard/tachyon-0.98beta.p11.spkg ...
-rw-r--r--   1 drkirkby staff        509381 25 Jul 22:53 /home/users/drkirkby/sage-4.6.alpha1/spkg/standard/tachyon-0.98beta.p11.spkg
tachyon-0.98beta.p11/
tachyon-0.98beta.p11/dist/
<SNIP>
tachyon-0.98beta.p11/spkg-install
Finished extraction
****************************************************
Host system
uname -a:
AIX aixbox 3 5 000245984C00
****************************************************
****************************************************
CC Version
gcc -v
Using built-in specs.
Target: powerpc-ibm-aix5.3.0.0
Configured with: ../stage/gcc-4.2.4/configure --disable-shared --enable-threads=posix --prefix=/opt/pware --with-long-double-128 --with-
mpfr=/opt/pware --with-gmp=/opt/pware
Thread model: aix
gcc version 4.2.4
****************************************************
Tachyon build for AIX not implemented (for SAGE) - please complain on sage-devel

real    0m0.218s
user    0m0.049s
sys     0m0.045s
sage: An error occurred while installing tachyon-0.98beta.p11
```

Assignee: **drkirkby**

Reviewer: **David Kirkby**

_Issue created by migration from https://trac.sagemath.org/ticket/9997_





---

archive/issue_events_114950.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-09-24T02:18:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9997",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9997#event-114950"
}
```



---

archive/issue_events_114951.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-09-24T02:18:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9997",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20porting%3A%20aix%20or%20hp-ux",
    "label_color": "000080",
    "label_name": "component: porting: aix or hp-ux",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9997#event-114951"
}
```



---

archive/issue_events_114952.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-09-24T02:18:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9997",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9997#event-114952"
}
```



---

archive/issue_comments_093244.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nCould you please try this with the updated tachyon package from 5281?",
    "created_at": "2010-09-24T11:55:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9997",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9997#issuecomment-93244",
    "user": "https://github.com/sagetrac-mhampton"
}
```

<a id='comment:1'>Comment 1:</a>
Could you please try this with the updated tachyon package from 5281?



---

archive/issue_comments_093245.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nReplying to [mhampton](#comment%3A1):\n> Could you please try this with the updated tachyon package from 5281?\n\nSure. I'm at a Starbucks cafe now, so will try later. The RS/6000 is switched off now, so I can't remotely access it.",
    "created_at": "2010-09-24T12:36:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9997",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9997#issuecomment-93245",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<a id='comment:2'>Comment 2:</a>
Replying to [mhampton](#comment%3A1):
> Could you please try this with the updated tachyon package from 5281?

Sure. I'm at a Starbucks cafe now, so will try later. The RS/6000 is switched off now, so I can't remotely access it.



---

archive/issue_comments_093246.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nThere are two reasons this is not working. \n* There's nothing in `SPKG.txt` to handle the case of AIX\n* There's no target in the file `Make-arch` that will work with a generic compiler on AIX. The targets all assume the use of IBM's compiler. \n\nTwo targets will be added for AIX, and since HP-UX will suffer the same problem, another two targets will be added for HP-UX. These 4 targets are:\n* `aix-generic`\n* `aix-generic-thr`\n* `hpux-generic`\n* `hpux-generic-thr`\n\nWe might as well try building with the threaded versions (aix-generic-thr and hpux-generic-thr) on both AIX and HP-UX.",
    "created_at": "2010-09-25T10:13:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9997",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9997#issuecomment-93246",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<a id='comment:3'>Comment 3:</a>
There are two reasons this is not working. 
* There's nothing in `SPKG.txt` to handle the case of AIX
* There's no target in the file `Make-arch` that will work with a generic compiler on AIX. The targets all assume the use of IBM's compiler. 

Two targets will be added for AIX, and since HP-UX will suffer the same problem, another two targets will be added for HP-UX. These 4 targets are:
* `aix-generic`
* `aix-generic-thr`
* `hpux-generic`
* `hpux-generic-thr`

We might as well try building with the threaded versions (aix-generic-thr and hpux-generic-thr) on both AIX and HP-UX.



---

archive/issue_comments_093247.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nI forgot to say, these 4 targets can be added to the Tachyon upgrade ticket #5281, so I am not intending to add a patch here, but rather this ticket can be closed when #5281 is closed. This assumes #5281 does not drag on for ages, as the ticket has been open for 20 months! If that ticket drags on and on, then I'll add patches to this ticket.",
    "created_at": "2010-09-25T10:17:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9997",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9997#issuecomment-93247",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<a id='comment:4'>Comment 4:</a>
I forgot to say, these 4 targets can be added to the Tachyon upgrade ticket #5281, so I am not intending to add a patch here, but rather this ticket can be closed when #5281 is closed. This assumes #5281 does not drag on for ages, as the ticket has been open for 20 months! If that ticket drags on and on, then I'll add patches to this ticket.



---

archive/issue_events_114953.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-02-06T09:55:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9997",
    "label": "https://github.com/sagemath/sage/labels/duplicate",
    "label_color": "a6a6a6",
    "label_name": "duplicate",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9997#event-114953"
}
```



---

archive/issue_comments_093248.json:
```json
{
    "body": "Reviewer: **David Kirkby**",
    "created_at": "2011-02-06T09:55:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9997",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9997#issuecomment-93248",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **David Kirkby**



---

archive/issue_comments_093249.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nFixed by #5281.",
    "created_at": "2011-02-06T09:55:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9997",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9997#issuecomment-93249",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'>Comment 5:</a>
Fixed by #5281.



---

archive/issue_events_114954.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-02-06T09:55:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/9997",
    "milestone_number": null,
    "milestone_title": "sage-4.6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9997#event-114954"
}
```



---

archive/issue_events_114955.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-02-06T09:55:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/9997",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9997#event-114955"
}
```
