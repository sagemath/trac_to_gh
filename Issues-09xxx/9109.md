# Issue 9109: Fast cython class for maps between finite sets.

archive/issues_009109.json:
```json
{
    "body": "The patch implements fast Cython classes for maps between finite sets. The goal in particular is to allow for building easily submonoids of the monoid of all maps from one set to itself.\n\nSee for example class NDPFMonoidPosetNewSet in\n[parking_functions_posets-fh.patch](http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/parking_functions_posets-fh.patch#l1) \n\n\n**Apply:**\n1. [attachment:trac_9109-finite_set_maps-fh.patch]\n\n**Dependencies:** #8702\n\nAssignee: @hivert\n\nKeywords: finite sets map\n\nResolution: fixed\n\nAuthor: Florent Hivert\n\nReviewer: Mike Hansen, Nicolas M. Thi\u00e9ry\n\nMerged: sage-4.7.alpha5\n\nIssue created by migration from https://trac.sagemath.org/ticket/9109\n\n",
    "closed_at": "2011-04-13T07:42:50Z",
    "created_at": "2010-06-01T17:08:23Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.7",
    "title": "Fast cython class for maps between finite sets.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/9109",
    "user": "https://github.com/hivert"
}
```
The patch implements fast Cython classes for maps between finite sets. The goal in particular is to allow for building easily submonoids of the monoid of all maps from one set to itself.

See for example class NDPFMonoidPosetNewSet in
[parking_functions_posets-fh.patch](http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/parking_functions_posets-fh.patch#l1) 


**Apply:**
1. [attachment:trac_9109-finite_set_maps-fh.patch]

**Dependencies:** #8702

Assignee: @hivert

Keywords: finite sets map

Resolution: fixed

Author: Florent Hivert

Reviewer: Mike Hansen, Nicolas M. Thi√©ry

Merged: sage-4.7.alpha5

Issue created by migration from https://trac.sagemath.org/ticket/9109





---

archive/issue_comments_088009.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,8 +1,13 @@\n-A class for dealing with maps between finite sets.\n+The patch implement fast Sython classes to deals with maps between finite\n+sets. The goal in particular is to allows to build very easily submonoid of\n+the monoid of function from one set to itself.\n \n-The patch is in preparation os sage-combinat-queue\n+See for example class NDPFMonoidPosetNewSet in\n+http://combinat.sagemath.org/hgwebdir.cgi/patches/file/3cc643fbe6f3/parking_functions_posets-fh.patch#l1\n \n-Assignee: sage-combinat\n+Depends on #9109\n+\n+\n \n Author: Florent Hivert\n \n```\n",
    "created_at": "2010-06-15T10:26:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9109#issuecomment-88009",
    "user": "https://github.com/hivert"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,8 +1,13 @@
-A class for dealing with maps between finite sets.
+The patch implement fast Sython classes to deals with maps between finite
+sets. The goal in particular is to allows to build very easily submonoid of
+the monoid of function from one set to itself.
 
-The patch is in preparation os sage-combinat-queue
+See for example class NDPFMonoidPosetNewSet in
+http://combinat.sagemath.org/hgwebdir.cgi/patches/file/3cc643fbe6f3/parking_functions_posets-fh.patch#l1
 
-Assignee: sage-combinat
+Depends on #9109
+
+
 
 Author: Florent Hivert
 
```




---

archive/issue_comments_088010.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2010-06-15T10:26:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9109#issuecomment-88010",
    "user": "https://github.com/hivert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_088011.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,12 @@\n+The patch implement fast Sython classes to deals with maps between finite\n+sets. The goal in particular is to allows to build very easily submonoid of\n+the monoid of function from one set to itself.\n+\n+See for example class NDPFMonoidPosetNewSet in\n+http://combinat.sagemath.org/hgwebdir.cgi/patches/file/3cc643fbe6f3/parking_functions_posets-fh.patch#l1\n+\n+Depends on #8702\n+\n \n \n Author: Florent Hivert\n```\n",
    "created_at": "2010-06-15T11:26:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9109#issuecomment-88011",
    "user": "https://github.com/hivert"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,12 @@
+The patch implement fast Sython classes to deals with maps between finite
+sets. The goal in particular is to allows to build very easily submonoid of
+the monoid of function from one set to itself.
+
+See for example class NDPFMonoidPosetNewSet in
+http://combinat.sagemath.org/hgwebdir.cgi/patches/file/3cc643fbe6f3/parking_functions_posets-fh.patch#l1
+
+Depends on #8702
+
 
 
 Author: Florent Hivert
```




---

archive/issue_comments_088012.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,12 @@\n+The patch implement fast Cython classes to deals with maps between finite\n+sets. The goal in particular is to allows to build very easily submonoid of\n+the monoid of function from one set to itself.\n+\n+See for example class NDPFMonoidPosetNewSet in\n+http://combinat.sagemath.org/hgwebdir.cgi/patches/file/3cc643fbe6f3/parking_functions_posets-fh.patch#l1\n+\n+Depends on #8702\n+\n \n \n Author: Florent Hivert\n```\n",
    "created_at": "2010-06-15T13:25:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9109#issuecomment-88012",
    "user": "https://github.com/hivert"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,12 @@
+The patch implement fast Cython classes to deals with maps between finite
+sets. The goal in particular is to allows to build very easily submonoid of
+the monoid of function from one set to itself.
+
+See for example class NDPFMonoidPosetNewSet in
+http://combinat.sagemath.org/hgwebdir.cgi/patches/file/3cc643fbe6f3/parking_functions_posets-fh.patch#l1
+
+Depends on #8702
+
 
 
 Author: Florent Hivert
```




---

archive/issue_comments_088013.json:
```json
{
    "body": "<a id='comment:4'></a>I just uploaded a new version after some changes in #8702",
    "created_at": "2010-10-24T09:48:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9109#issuecomment-88013",
    "user": "https://github.com/hivert"
}
```

<a id='comment:4'></a>I just uploaded a new version after some changes in #8702



---

archive/issue_comments_088014.json:
```json
{
    "body": "Changing assignee from sage-combinat to @hivert.",
    "created_at": "2010-10-24T09:48:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9109#issuecomment-88014",
    "user": "https://github.com/hivert"
}
```

Changing assignee from sage-combinat to @hivert.



---

archive/issue_comments_088015.json:
```json
{
    "body": "Attachment [trac_9109-finite_set_maps-fh.2.patch](tarball://root/attachments/some-uuid/ticket9109/trac_9109-finite_set_maps-fh.2.patch) by @hivert created at 2010-10-24 09:48:33",
    "created_at": "2010-10-24T09:48:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9109#issuecomment-88015",
    "user": "https://github.com/hivert"
}
```

Attachment [trac_9109-finite_set_maps-fh.2.patch](tarball://root/attachments/some-uuid/ticket9109/trac_9109-finite_set_maps-fh.2.patch) by @hivert created at 2010-10-24 09:48:33



---

archive/issue_comments_088016.json:
```json
{
    "body": "<a id='comment:5'></a>This should now be ready for review",
    "created_at": "2011-04-02T17:54:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9109#issuecomment-88016",
    "user": "https://github.com/hivert"
}
```

<a id='comment:5'></a>This should now be ready for review



---

archive/issue_comments_088017.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,13 @@\n+The patch implement fast Cython classes to deals with maps between finite\n+sets. The goal in particular is to allows to build very easily submonoid of\n+the monoid of function from one set to itself.\n+\n+See for example class NDPFMonoidPosetNewSet in\n+[parking_functions_posets-fh.patch](http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/parking_functions_posets-fh.patch#l1) \n+\n+Depends on #8702\n+\n+Apply only [trac_9109-finite_set_maps-fh.patch](http://trac.sagemath.org/sage_trac/attachment/ticket/9109/trac_9109-finite_set_maps-fh.patch)\n \n \n Author: Florent Hivert\n```\n",
    "created_at": "2011-04-02T17:54:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9109#issuecomment-88017",
    "user": "https://github.com/hivert"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,13 @@
+The patch implement fast Cython classes to deals with maps between finite
+sets. The goal in particular is to allows to build very easily submonoid of
+the monoid of function from one set to itself.
+
+See for example class NDPFMonoidPosetNewSet in
+[parking_functions_posets-fh.patch](http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/parking_functions_posets-fh.patch#l1) 
+
+Depends on #8702
+
+Apply only [trac_9109-finite_set_maps-fh.patch](http://trac.sagemath.org/sage_trac/attachment/ticket/9109/trac_9109-finite_set_maps-fh.patch)
 
 
 Author: Florent Hivert
```




---

archive/issue_comments_088018.json:
```json
{
    "body": "<a id='comment:6'></a>They are still a few glitches remaining. Setting status back to need work",
    "created_at": "2011-04-02T21:54:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9109#issuecomment-88018",
    "user": "https://github.com/hivert"
}
```

<a id='comment:6'></a>They are still a few glitches remaining. Setting status back to need work



---

archive/issue_comments_088019.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-04-02T21:54:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9109#issuecomment-88019",
    "user": "https://github.com/hivert"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_088020.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,15 @@\n+The patch implement fast Cython classes to deals with maps between finite\n+sets. The goal in particular is to allows to build very easily submonoid of\n+the monoid of function from one set to itself.\n \n+See for example class NDPFMonoidPosetNewSet in\n+[parking_functions_posets-fh.patch](http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/parking_functions_posets-fh.patch#l1) \n+\n+\n+**Apply:**\n+1. [attachment:trac_9109-finite_set_maps-fh.patch]\n+\n+**Dependencies:** #8702\n \n Author: Florent Hivert\n \n```\n",
    "created_at": "2011-04-03T07:39:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9109#issuecomment-88020",
    "user": "https://github.com/hivert"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,15 @@
+The patch implement fast Cython classes to deals with maps between finite
+sets. The goal in particular is to allows to build very easily submonoid of
+the monoid of function from one set to itself.
 
+See for example class NDPFMonoidPosetNewSet in
+[parking_functions_posets-fh.patch](http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/parking_functions_posets-fh.patch#l1) 
+
+
+**Apply:**
+1. [attachment:trac_9109-finite_set_maps-fh.patch]
+
+**Dependencies:** #8702
 
 Author: Florent Hivert
 
```




---

archive/issue_comments_088021.json:
```json
{
    "body": "<a id='comment:8'></a>The submitted patch should fix all remaining problem. Please review.",
    "created_at": "2011-04-03T15:26:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9109#issuecomment-88021",
    "user": "https://github.com/hivert"
}
```

<a id='comment:8'></a>The submitted patch should fix all remaining problem. Please review.



---

archive/issue_comments_088022.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-04-03T15:26:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9109#issuecomment-88022",
    "user": "https://github.com/hivert"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_088023.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,13 @@\n+The patch implements fast Cython classes for maps between finite sets. The goal in particular is to allow for building easily submonoids of the monoid of all maps from one set to itself.\n \n+See for example class NDPFMonoidPosetNewSet in\n+[parking_functions_posets-fh.patch](http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/parking_functions_posets-fh.patch#l1) \n+\n+\n+**Apply:**\n+1. [attachment:trac_9109-finite_set_maps-fh.patch]\n+\n+**Dependencies:** #8702\n \n Author: Florent Hivert\n \n```\n",
    "created_at": "2011-04-05T11:35:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9109#issuecomment-88023",
    "user": "https://github.com/nthiery"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,13 @@
+The patch implements fast Cython classes for maps between finite sets. The goal in particular is to allow for building easily submonoids of the monoid of all maps from one set to itself.
 
+See for example class NDPFMonoidPosetNewSet in
+[parking_functions_posets-fh.patch](http://combinat.sagemath.org/hgwebdir.cgi/patches/file/tip/parking_functions_posets-fh.patch#l1) 
+
+
+**Apply:**
+1. [attachment:trac_9109-finite_set_maps-fh.patch]
+
+**Dependencies:** #8702
 
 Author: Florent Hivert
 
```




---

archive/issue_comments_088024.json:
```json
{
    "body": "<a id='comment:9'></a>We discussed the design quite some with Florent, and used the code intensively over the last month. It's a useful addition! Thanks!\n\nFlorent: please check the small reviewer patch on the Sage-Combinat queue. If the changes are ok with you, you can fold/upload and set a positive review on my behalf.",
    "created_at": "2011-04-05T11:35:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9109#issuecomment-88024",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:9'></a>We discussed the design quite some with Florent, and used the code intensively over the last month. It's a useful addition! Thanks!

Florent: please check the small reviewer patch on the Sage-Combinat queue. If the changes are ok with you, you can fold/upload and set a positive review on my behalf.



---

archive/issue_comments_088025.json:
```json
{
    "body": "<a id='comment:10'></a>> Florent: please check the small reviewer patch on the Sage-Combinat\n> queue. If the changes are ok with you, you can fold/upload and set a\n> positive review on my behalf.\n\n\nHi Nicolas ! Thanks a lot for the numerous English corrections. The doc is\nmuch better now ! I'm perfectly ok with all your changes, except for the\nfollowing wrong ReST markup:\n\n```\ndiff --git a/sage/sets/finite_set_map_cy.pyx b/sage/sets/finite_set_map_cy.pyx\n--- a/sage/sets/finite_set_map_cy.pyx\n+++ b/sage/sets/finite_set_map_cy.pyx\n@@ -86,7 +86,7 @@ cpdef fibers(f, domain):\n         {1: {1}}\n \n     .. seealso:: :func:`fibers_args` if one needs to pass extra\n-    arguments to ``f``.\n+       arguments to ``f``.\n     \"\"\"\n     result = {}\n     for x in domain:\n```\n\nI folded your patch and added this small change. It is a rather trivial change\nbut, in order to follow the rules, someone has to look at it. So it's now your\njob to set the positive review :-)",
    "created_at": "2011-04-05T19:13:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9109#issuecomment-88025",
    "user": "https://github.com/hivert"
}
```

<a id='comment:10'></a>> Florent: please check the small reviewer patch on the Sage-Combinat
> queue. If the changes are ok with you, you can fold/upload and set a
> positive review on my behalf.


Hi Nicolas ! Thanks a lot for the numerous English corrections. The doc is
much better now ! I'm perfectly ok with all your changes, except for the
following wrong ReST markup:

```
diff --git a/sage/sets/finite_set_map_cy.pyx b/sage/sets/finite_set_map_cy.pyx
--- a/sage/sets/finite_set_map_cy.pyx
+++ b/sage/sets/finite_set_map_cy.pyx
@@ -86,7 +86,7 @@ cpdef fibers(f, domain):
         {1: {1}}
 
     .. seealso:: :func:`fibers_args` if one needs to pass extra
-    arguments to ``f``.
+       arguments to ``f``.
     """
     result = {}
     for x in domain:
```

I folded your patch and added this small change. It is a rather trivial change
but, in order to follow the rules, someone has to look at it. So it's now your
job to set the positive review :-)



---

archive/issue_comments_088026.json:
```json
{
    "body": "<a id='comment:11'></a>Attachment [trac_9109-finite_set_maps-fh.patch](tarball://root/attachments/some-uuid/ticket9109/trac_9109-finite_set_maps-fh.patch) by @nthiery created at 2011-04-05 21:38:53",
    "created_at": "2011-04-05T21:38:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9109#issuecomment-88026",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:11'></a>Attachment [trac_9109-finite_set_maps-fh.patch](tarball://root/attachments/some-uuid/ticket9109/trac_9109-finite_set_maps-fh.patch) by @nthiery created at 2011-04-05 21:38:53



---

archive/issue_comments_088027.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-04-05T21:38:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9109#issuecomment-88027",
    "user": "https://github.com/nthiery"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_088028.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-04-13T07:42:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9109",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9109#issuecomment-88028",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_022353.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-04-13T07:42:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/9109",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9109#event-22353"
}
```
