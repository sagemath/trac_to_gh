# Issue 9477: jmol shows a black screen in the notebook, it works fine in the reference manual

archive/issues_009477.json:
```json
{
    "assignees": [],
    "body": "I get the following error message in the log of my notebook when I try to show a 3d plot with jmol:\n\n```\nscript compiler ERROR: se esperaba una instrucci\u00f3n\n----line 1 command 1 of /home/admin/0/cells/30/sage0-size500.jmol?1278886612:\n          >>>> <!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\"> <<<<\nERROR en gui\u00f3n: script compiler ERROR: se esperaba una instrucci\u00f3n\n----line 1 command 1 of /home/admin/0/cells/30/sage0-size500.jmol?1278886612:\n          >>>> <!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\"> <<<<\neval ERROR: \n----line 1 command 1:\n         script >> \"/home/admin/0/cells/30/sage0-size500.jmol?1278886612\" <<\n```\n\nJmol loads, and shows a black screen instead of the actual plot.\n\nIf I try the exact same plot in the cells in the reference manual, the plot shows perfectly and no error message appears in the log.\n\nThis seems to me rather like the opposite to #3167 in which things worked fine in the notebook but not in the help\n\nAssignee: **olazo**\n\nKeywords: **jmol**\n\nReviewer: **Karl-Dieter Crisman, Oscar Gerardo Lazo Arjona**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/9477_\n\n",
    "closed_at": "2014-05-29T11:08:00Z",
    "created_at": "2010-07-11T22:24:13Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/component%3A%20notebook",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "jmol shows a black screen in the notebook, it works fine in the reference manual",
    "type": "issue",
    "updated_at": "2014-05-29T11:08:00Z",
    "url": "https://github.com/sagemath/sage/issues/9477",
    "user": "https://github.com/sagetrac-olazo"
}
```
I get the following error message in the log of my notebook when I try to show a 3d plot with jmol:

```
script compiler ERROR: se esperaba una instrucción
----line 1 command 1 of /home/admin/0/cells/30/sage0-size500.jmol?1278886612:
          >>>> <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"> <<<<
ERROR en guión: script compiler ERROR: se esperaba una instrucción
----line 1 command 1 of /home/admin/0/cells/30/sage0-size500.jmol?1278886612:
          >>>> <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"> <<<<
eval ERROR: 
----line 1 command 1:
         script >> "/home/admin/0/cells/30/sage0-size500.jmol?1278886612" <<
```

Jmol loads, and shows a black screen instead of the actual plot.

If I try the exact same plot in the cells in the reference manual, the plot shows perfectly and no error message appears in the log.

This seems to me rather like the opposite to #3167 in which things worked fine in the notebook but not in the help

Assignee: **olazo**

Keywords: **jmol**

Reviewer: **Karl-Dieter Crisman, Oscar Gerardo Lazo Arjona**

_Issue created by migration from https://trac.sagemath.org/ticket/9477_





---

archive/issue_events_111106.json:
```json
{
    "actor": "https://github.com/sagetrac-olazo",
    "created_at": "2010-07-11T22:24:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9477",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9477#event-111106"
}
```



---

archive/issue_events_111107.json:
```json
{
    "actor": "https://github.com/sagetrac-olazo",
    "created_at": "2010-07-11T22:24:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9477",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20notebook",
    "label_color": "000080",
    "label_name": "component: notebook",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9477#event-111107"
}
```



---

archive/issue_events_111108.json:
```json
{
    "actor": "https://github.com/sagetrac-olazo",
    "created_at": "2010-07-11T22:24:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9477",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9477#event-111108"
}
```



---

archive/issue_events_111109.json:
```json
{
    "actor": "https://github.com/sagetrac-olazo",
    "created_at": "2010-07-11T22:24:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9477",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9477#event-111109"
}
```



---

archive/issue_comments_083681.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nIt may be important to mention that the following command does not popup a jmol window in the command line:\n\n```\nsage: a=point3d([0,0,0])\nsage: a.show()\n```\n\nBut, if I use:\n\n```\nsage: a.export_jmol('/home/oscar/point')\n```\n\na zip file containing a SCRIPT file appears there, and I can use:\n\n```\nsage: !java -jar /home/cwitty/sage-4.4.4/local/lib/python2.6/site-packages/sagenb-0.8-py2.6.egg/sagenb/data/jmol/Jmol.jar}}}\n\nto make jmol open in my desktop, and I can then use it to open the SCRIPT file, and it shows the point just fine.",
    "created_at": "2010-07-11T22:46:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9477",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9477#issuecomment-83681",
    "user": "https://github.com/sagetrac-olazo"
}
```

<a id='comment:1'>Comment 1:</a>
It may be important to mention that the following command does not popup a jmol window in the command line:

```
sage: a=point3d([0,0,0])
sage: a.show()
```

But, if I use:

```
sage: a.export_jmol('/home/oscar/point')
```

a zip file containing a SCRIPT file appears there, and I can use:

```
sage: !java -jar /home/cwitty/sage-4.4.4/local/lib/python2.6/site-packages/sagenb-0.8-py2.6.egg/sagenb/data/jmol/Jmol.jar}}}

to make jmol open in my desktop, and I can then use it to open the SCRIPT file, and it shows the point just fine.



---

archive/issue_events_111110.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/9477",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9477#event-111110"
}
```



---

archive/issue_events_111111.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9477",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9477#event-111111"
}
```



---

archive/issue_events_111112.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/9477",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9477#event-111112"
}
```



---

archive/issue_events_111113.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9477",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9477#event-111113"
}
```



---

archive/issue_events_111114.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/9477",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9477#event-111114"
}
```



---

archive/issue_events_111115.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9477",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9477#event-111115"
}
```



---

archive/issue_comments_083682.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nOscar, can you verify whether this is still happening for you?   Given how much the notebook has changed in the meantime it might be hard to track this down, and it looks like something akin to #3167 [is back](https://github.com/sagemath/sagenb/issues/179).  I think this would be worth closing unless we have more information.",
    "created_at": "2014-05-28T00:42:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9477",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9477#issuecomment-83682",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:5'>Comment 5:</a>
Oscar, can you verify whether this is still happening for you?   Given how much the notebook has changed in the meantime it might be hard to track this down, and it looks like something akin to #3167 [is back](https://github.com/sagemath/sagenb/issues/179).  I think this would be worth closing unless we have more information.



---

archive/issue_comments_083683.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nReplying to [@kcrisman](#comment%3A5):\n> Oscar, can you verify whether this is still happening for you?   Given how much the notebook has changed in the meantime it might be hard to track this down, and it looks like something akin to #3167 [is back](https://github.com/sagemath/sagenb/issues/179).  I think this would be worth closing unless we have more information.\n\nThis no longer happens to me. I am currently using sage version 5.0 (though I expect it to be safe to assume that sage 6 won't make the problem come back). If I remember correctly this had to do more with the implementation of java in firefox than with jmol or sage at all. I think I fixed this by using the privative version of the java plugin for firefox. However, icedtea works just fine now that I use a more recent version of it. I suggest this ticket to be closed. Cheers!",
    "created_at": "2014-05-28T01:06:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9477",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9477#issuecomment-83683",
    "user": "https://github.com/sagetrac-olazo"
}
```

<a id='comment:6'>Comment 6:</a>
Replying to [@kcrisman](#comment%3A5):
> Oscar, can you verify whether this is still happening for you?   Given how much the notebook has changed in the meantime it might be hard to track this down, and it looks like something akin to #3167 [is back](https://github.com/sagemath/sagenb/issues/179).  I think this would be worth closing unless we have more information.

This no longer happens to me. I am currently using sage version 5.0 (though I expect it to be safe to assume that sage 6 won't make the problem come back). If I remember correctly this had to do more with the implementation of java in firefox than with jmol or sage at all. I think I fixed this by using the privative version of the java plugin for firefox. However, icedtea works just fine now that I use a more recent version of it. I suggest this ticket to be closed. Cheers!



---

archive/issue_events_111116.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-05-28T15:22:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9477",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9477#event-111116"
}
```



---

archive/issue_comments_083684.json:
```json
{
    "body": "Reviewer: **Karl-Dieter Crisman, Oscar Gerardo Lazo Arjona**",
    "created_at": "2014-05-28T15:22:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9477",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9477#issuecomment-83684",
    "user": "https://github.com/kcrisman"
}
```

Reviewer: **Karl-Dieter Crisman, Oscar Gerardo Lazo Arjona**



---

archive/issue_comments_083685.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nThanks!  Very helpful.",
    "created_at": "2014-05-28T15:22:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9477",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9477#issuecomment-83685",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:7'>Comment 7:</a>
Thanks!  Very helpful.



---

archive/issue_events_111117.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-05-28T15:22:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/9477",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9477#event-111117"
}
```



---

archive/issue_events_111118.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-05-28T15:22:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9477",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9477#event-111118"
}
```



---

archive/issue_events_111119.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-05-28T15:22:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9477",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9477#event-111119"
}
```



---

archive/issue_events_111120.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-05-28T15:22:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9477",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9477#event-111120"
}
```



---

archive/issue_events_111121.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-05-28T15:22:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9477",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9477#event-111121"
}
```



---

archive/issue_events_111122.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-29T11:08:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9477",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9477#event-111122"
}
```



---

archive/issue_events_111123.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-05-29T11:08:00Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/9477",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9477#event-111123"
}
```
