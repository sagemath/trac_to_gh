# Issue 9344: matrix constructor does not honor nrows if given a method to generate the entries

archive/issues_009344.json:
```json
{
    "body": "The is a bug in the matrix constructor. If the entries are given by a method, the output matrix is always square of dimension ncols\n\n```\nsage: matrix(QQ, 1, 3, lambda x,y: x)\n[0 0 0]\n[1 1 1]\n[2 2 2]\nsage: sage: matrix(QQ, 3, 1, lambda x,y: x)\n[0]\n```\n\nAssignee: @aghitza\n\nResolution: fixed\n\nAuthor: Luis Felipe Tabera Alonso\n\nReviewer: David Loeffler\n\nMerged: sage-4.5.2.alpha0\n\nIssue created by migration from https://trac.sagemath.org/ticket/9344\n\n",
    "closed_at": "2010-07-20T09:30:38Z",
    "created_at": "2010-06-26T10:13:59Z",
    "labels": [
        "component: algebra",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.5.2",
    "title": "matrix constructor does not honor nrows if given a method to generate the entries",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/9344",
    "user": "https://github.com/lftabera"
}
```
The is a bug in the matrix constructor. If the entries are given by a method, the output matrix is always square of dimension ncols

```
sage: matrix(QQ, 1, 3, lambda x,y: x)
[0 0 0]
[1 1 1]
[2 2 2]
sage: sage: matrix(QQ, 3, 1, lambda x,y: x)
[0]
```

Assignee: @aghitza

Resolution: fixed

Author: Luis Felipe Tabera Alonso

Reviewer: David Loeffler

Merged: sage-4.5.2.alpha0

Issue created by migration from https://trac.sagemath.org/ticket/9344





---

archive/issue_comments_105785.json:
```json
{
    "body": "Attachment [matrices.patch](tarball://root/attachments/some-uuid/ticket9344/matrices.patch) by @lftabera created at 2010-06-26 10:14:08",
    "created_at": "2010-06-26T10:14:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9344#issuecomment-105785",
    "user": "https://github.com/lftabera"
}
```

Attachment [matrices.patch](tarball://root/attachments/some-uuid/ticket9344/matrices.patch) by @lftabera created at 2010-06-26 10:14:08



---

archive/issue_comments_105786.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2010-06-26T10:15:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9344#issuecomment-105786",
    "user": "https://github.com/lftabera"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_105787.json:
```json
{
    "body": "<a id='comment:2'></a>\nLooks fine and all doctests pass. Positive review.",
    "created_at": "2010-06-29T14:36:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9344#issuecomment-105787",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:2'></a>
Looks fine and all doctests pass. Positive review.



---

archive/issue_comments_105788.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2010-06-29T14:36:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9344#issuecomment-105788",
    "user": "https://github.com/loefflerd"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_105789.json:
```json
{
    "body": "Changing reviewer from \"\" to \"David Loeffler\"",
    "created_at": "2010-06-29T14:36:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9344#issuecomment-105789",
    "user": "https://github.com/loefflerd"
}
```

Changing reviewer from "" to "David Loeffler"



---

archive/issue_comments_105790.json:
```json
{
    "body": "Attachment [trac_9344-matrix_constructor_bug.patch](tarball://root/attachments/some-uuid/ticket9344/trac_9344-matrix_constructor_bug.patch) by @loefflerd created at 2010-06-30 08:56:04\n\napply this patch -- identical code but with more informative hg header information",
    "created_at": "2010-06-30T08:56:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9344#issuecomment-105790",
    "user": "https://github.com/loefflerd"
}
```

Attachment [trac_9344-matrix_constructor_bug.patch](tarball://root/attachments/some-uuid/ticket9344/trac_9344-matrix_constructor_bug.patch) by @loefflerd created at 2010-06-30 08:56:04

apply this patch -- identical code but with more informative hg header information



---

archive/issue_comments_105791.json:
```json
{
    "body": "<a id='comment:3'></a>\nJust an afterthought: I noticed while cleaning up my hg queue that this patch doesn't have a very informative name and also there is essentially no information in the hg header. This makes the release maintainer's job harder (they have to keep track of hundreds of patches and remember what to attribute to whom in the release notes). I've uploaded a patch functionally identical to yours, but with your full username and a more informative filename and commit message.",
    "created_at": "2010-06-30T08:58:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9344#issuecomment-105791",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:3'></a>
Just an afterthought: I noticed while cleaning up my hg queue that this patch doesn't have a very informative name and also there is essentially no information in the hg header. This makes the release maintainer's job harder (they have to keep track of hundreds of patches and remember what to attribute to whom in the release notes). I've uploaded a patch functionally identical to yours, but with your full username and a more informative filename and commit message.



---

archive/issue_comments_105792.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2010-07-20T09:30:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9344#issuecomment-105792",
    "user": "https://github.com/qed777"
}
```

Resolution: fixed



---

archive/issue_comments_105793.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-4.5.2.alpha0\"",
    "created_at": "2010-07-20T09:30:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9344",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9344#issuecomment-105793",
    "user": "https://github.com/qed777"
}
```

Changing merged from "" to "sage-4.5.2.alpha0"



---

archive/issue_events_023049.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-07-20T09:30:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/9344",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9344#event-23049"
}
```
