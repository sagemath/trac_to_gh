# Issue 9704: refactor "trace" -- make trace command call trace method on input if available

archive/issues_009704.json:
```json
{
    "body": "This is confusing.  Refactor to fix it:\n\n```\nsage: det(matrix(2,[1,2,3,4]))\n-2\nsage: trace(matrix(2,[1,2,3,4]))\nTraceback (most recent call last)\n...\nAttributeError: 'sage.matrix.matrix_integer_dense.Matrix_integer_dense' object has no attribute 'lstrip'\n```\n\nAssignee: @jasongrout\n\nReviewer: Robert Miller, Volker Braun\n\nAuthor: William Stein, Jason Grout, Kwankyu Lee\n\nBranch: u/klee/9704\n\nStatus: needs_review\n\nCommit: 55edfa865f08bd173905dae865fae6cd4e3e2aa2\n\nIssue created by migration from https://trac.sagemath.org/ticket/9704\n\n",
    "created_at": "2010-08-07T17:31:41Z",
    "labels": [
        "component: misc",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "refactor \"trace\" -- make trace command call trace method on input if available",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/9704",
    "user": "https://github.com/williamstein"
}
```
This is confusing.  Refactor to fix it:

```
sage: det(matrix(2,[1,2,3,4]))
-2
sage: trace(matrix(2,[1,2,3,4]))
Traceback (most recent call last)
...
AttributeError: 'sage.matrix.matrix_integer_dense.Matrix_integer_dense' object has no attribute 'lstrip'
```

Assignee: @jasongrout

Reviewer: Robert Miller, Volker Braun

Author: William Stein, Jason Grout, Kwankyu Lee

Branch: u/klee/9704

Status: needs_review

Commit: 55edfa865f08bd173905dae865fae6cd4e3e2aa2

Issue created by migration from https://trac.sagemath.org/ticket/9704





---

archive/issue_comments_098394.json:
```json
{
    "body": "Attachment [trac_9704-trace.patch](tarball://root/attachments/some-uuid/ticket9704/trac_9704-trace.patch) by @williamstein created at 2010-08-07 17:43:27",
    "created_at": "2010-08-07T17:43:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98394",
    "user": "https://github.com/williamstein"
}
```

Attachment [trac_9704-trace.patch](tarball://root/attachments/some-uuid/ticket9704/trac_9704-trace.patch) by @williamstein created at 2010-08-07 17:43:27



---

archive/issue_comments_098395.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2010-08-07T17:43:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98395",
    "user": "https://github.com/williamstein"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_098396.json:
```json
{
    "body": "<a id='comment:2'></a>-1 on this idea.  This means that \"trace\" means *completely* different things depending on the input.  Instead, we ought to decide what \"trace\" means and make two functions.  I think trace(x) should be x.trace (and give a mathematical meaning), and the current trace should be code_trace or trace_execution or something like that.",
    "created_at": "2010-08-07T17:54:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98396",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:2'></a>-1 on this idea.  This means that "trace" means *completely* different things depending on the input.  Instead, we ought to decide what "trace" means and make two functions.  I think trace(x) should be x.trace (and give a mathematical meaning), and the current trace should be code_trace or trace_execution or something like that.



---

archive/issue_comments_098397.json:
```json
{
    "body": "<a id='comment:3'></a>I would just say leave it like it is except to add a deprecation warning to use \"trace_execution\" in the string case.  That way we get something that is backward compatible.",
    "created_at": "2010-08-07T18:45:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98397",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:3'></a>I would just say leave it like it is except to add a deprecation warning to use "trace_execution" in the string case.  That way we get something that is backward compatible.



---

archive/issue_comments_098398.json:
```json
{
    "body": "<a id='comment:4'></a>* jason -- trace already means two different things, at least.   I'm not adding a new meaning. \n\n* regarding adding a deprecation warning, I think that is reasonable, but that should not go in this ticket.  If you want to do that, make it another ticket and do it.",
    "created_at": "2010-08-07T19:10:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98398",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:4'></a>* jason -- trace already means two different things, at least.   I'm not adding a new meaning. 

* regarding adding a deprecation warning, I think that is reasonable, but that should not go in this ticket.  If you want to do that, make it another ticket and do it.



---

archive/issue_comments_098399.json:
```json
{
    "body": "<a id='comment:5'></a>Replying to [comment:4 was]:\n> * jason -- trace already means two different things, at least.   I'm not adding a new meaning. \n\n\nWhen I read the code, trace() has one purpose, not two.  Your patch will mean that the trace function has two completely different purposes, depending on the input.  That is what I'm -1 on.\n\nIf we change the trace() function so that it instead computes the trace of an object (i.e., x.trace()), then I agree that for a short amount of time, a deprecation warning should be added and trace() will have to serve two purposes.\n\n\n> \n> * regarding adding a deprecation warning, I think that is reasonable, but that should not go in this ticket.  If you want to do that, make it another ticket and do it. \n\n\nI'm -1 on a ticket (this one) which makes the Sage trace() function have two purposes (unless it's a temporary thing that is deprecated, of course).",
    "created_at": "2010-08-07T19:19:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98399",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:5'></a>Replying to [comment:4 was]:
> * jason -- trace already means two different things, at least.   I'm not adding a new meaning. 


When I read the code, trace() has one purpose, not two.  Your patch will mean that the trace function has two completely different purposes, depending on the input.  That is what I'm -1 on.

If we change the trace() function so that it instead computes the trace of an object (i.e., x.trace()), then I agree that for a short amount of time, a deprecation warning should be added and trace() will have to serve two purposes.


> 
> * regarding adding a deprecation warning, I think that is reasonable, but that should not go in this ticket.  If you want to do that, make it another ticket and do it. 


I'm -1 on a ticket (this one) which makes the Sage trace() function have two purposes (unless it's a temporary thing that is deprecated, of course).



---

archive/issue_comments_098400.json:
```json
{
    "body": "<a id='comment:6'></a>Sage already has _lots_ of functions f() which do very different things depending on the type of the arguments.\n\nHow about making the trace(x) function do what others do, which is to try returning x.trace() and if that fails do what the code_trace function does?",
    "created_at": "2010-08-11T15:48:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98400",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:6'></a>Sage already has _lots_ of functions f() which do very different things depending on the type of the arguments.

How about making the trace(x) function do what others do, which is to try returning x.trace() and if that fails do what the code_trace function does?



---

archive/issue_comments_098401.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:6 cremona]:\n> Sage already has _lots_ of functions f() which do very different things depending on the type of the arguments.\n> \n> How about making the trace(x) function do what others do, which is to try returning x.trace() and if that fails do what the code_trace function does?\n\n\nIs there any other examples in Sage where a function does:\n\n* mathematically meaningful stuff (which may differ, depending on the mathematical object), and returns a mathematical answer\n* and also does something which is entirely non-mathematical, on a completely different level (a programming nuts-and-bolts debugging level, rather than a math level)?\n\nThe big conceptual difference between those two purposes is why I think having two functions, say `trace()` (which calls `x.trace()`) and `trace_execution()` (which does what trace does right now) is a much better design than lumping things into one function.",
    "created_at": "2010-08-12T03:00:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98401",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:7'></a>Replying to [comment:6 cremona]:
> Sage already has _lots_ of functions f() which do very different things depending on the type of the arguments.
> 
> How about making the trace(x) function do what others do, which is to try returning x.trace() and if that fails do what the code_trace function does?


Is there any other examples in Sage where a function does:

* mathematically meaningful stuff (which may differ, depending on the mathematical object), and returns a mathematical answer
* and also does something which is entirely non-mathematical, on a completely different level (a programming nuts-and-bolts debugging level, rather than a math level)?

The big conceptual difference between those two purposes is why I think having two functions, say `trace()` (which calls `x.trace()`) and `trace_execution()` (which does what trace does right now) is a much better design than lumping things into one function.



---

archive/issue_comments_098402.json:
```json
{
    "body": "<a id='comment:8'></a>Look Jason, this \"trace\" having two meanings is *already* in Sage.  Whether or not that changes is orthogonal to this ticket.   You could post a patch *after* this ticket gets in later if you're really worried.\n\nEnglish has words with different meanings.  Sorry. It's just the way the language works.",
    "created_at": "2010-08-12T11:17:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98402",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:8'></a>Look Jason, this "trace" having two meanings is *already* in Sage.  Whether or not that changes is orthogonal to this ticket.   You could post a patch *after* this ticket gets in later if you're really worried.

English has words with different meanings.  Sorry. It's just the way the language works.



---

archive/issue_comments_098403.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [comment:8 was]:\n> Look Jason, this \"trace\" having two meanings is *already* in Sage.  \n\n\nNo, it doesn't at the top level, and not in the same function.\n\n> Whether or not that changes is orthogonal to this ticket.   You could post a patch *after* this ticket gets in later if you're really worried.\n> \n\n\nI'm posting one right now.\n\n\n> English has words with different meanings.  Sorry. It's just the way the language works. \n\n\nSure, but that doesn't excuse a bad design.",
    "created_at": "2010-08-12T11:54:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98403",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:9'></a>Replying to [comment:8 was]:
> Look Jason, this "trace" having two meanings is *already* in Sage.  


No, it doesn't at the top level, and not in the same function.

> Whether or not that changes is orthogonal to this ticket.   You could post a patch *after* this ticket gets in later if you're really worried.
> 


I'm posting one right now.


> English has words with different meanings.  Sorry. It's just the way the language works. 


Sure, but that doesn't excuse a bad design.



---

archive/issue_comments_098404.json:
```json
{
    "body": "<a id='comment:10'></a>My patch may cause some doctest somewhere to fail because of deprecation warnings.  I've tested the misc/*.py and matrix/*.py* files (and only got errors that should be from other patches on my stack).",
    "created_at": "2010-08-12T12:00:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98404",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:10'></a>My patch may cause some doctest somewhere to fail because of deprecation warnings.  I've tested the misc/*.py and matrix/*.py* files (and only got errors that should be from other patches on my stack).



---

archive/issue_comments_098405.json:
```json
{
    "body": "apply instead of previous patch",
    "created_at": "2010-08-12T12:26:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98405",
    "user": "https://github.com/jasongrout"
}
```

apply instead of previous patch



---

archive/issue_comments_098406.json:
```json
{
    "body": "<a id='comment:11'></a>Attachment [trac-9704-trace.patch](tarball://root/attachments/some-uuid/ticket9704/trac-9704-trace.patch) by @kwankyu created at 2010-08-14 04:22:53\n\nI incline to Jason's argument. I propose 'trace_through' as a more palpable name than Jason's 'trace_execution'.",
    "created_at": "2010-08-14T04:22:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98406",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:11'></a>Attachment [trac-9704-trace.patch](tarball://root/attachments/some-uuid/ticket9704/trac-9704-trace.patch) by @kwankyu created at 2010-08-14 04:22:53

I incline to Jason's argument. I propose 'trace_through' as a more palpable name than Jason's 'trace_execution'.



---

archive/issue_comments_098407.json:
```json
{
    "body": "<a id='comment:12'></a>LGTM.",
    "created_at": "2010-11-11T13:55:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98407",
    "user": "https://github.com/rlmill"
}
```

<a id='comment:12'></a>LGTM.



---

archive/issue_comments_098408.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2010-11-11T13:55:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98408",
    "user": "https://github.com/rlmill"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_024249.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-11-15T15:30:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "milestone": "sage-feature",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9704#event-24249"
}
```



---

archive/issue_comments_098409.json:
```json
{
    "body": "<a id='comment:13'></a>Sorry, but the discussion at sage-devel yielded very few people in favour of this patch, so I'm not planning to merge it.",
    "created_at": "2010-11-15T15:30:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98409",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'></a>Sorry, but the discussion at sage-devel yielded very few people in favour of this patch, so I'm not planning to merge it.



---

archive/issue_comments_098410.json:
```json
{
    "body": "<a id='comment:14'></a>Thanks for asking on sage-devel.  I'm still in favor of it, since (as a linear algebra person and a math teacher) I'd rather have trace have mathematical meaning instead of programming meaning, and it is a natural complement to having a top-level det function.  My vote wasn't counted on sage-devel yet, so add another +1.",
    "created_at": "2010-11-15T16:03:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98410",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:14'></a>Thanks for asking on sage-devel.  I'm still in favor of it, since (as a linear algebra person and a math teacher) I'd rather have trace have mathematical meaning instead of programming meaning, and it is a natural complement to having a top-level det function.  My vote wasn't counted on sage-devel yet, so add another +1.



---

archive/issue_events_024250.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-06-10T08:40:29Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "milestone": "sage-feature",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9704#event-24250"
}
```



---

archive/issue_comments_098411.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-06-30T18:34:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98411",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_098412.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2012-06-30T18:39:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98412",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_098413.json:
```json
{
    "body": "<a id='comment:17'></a>Since there seems to have been a vote that this patch should not be merged, I think we should close it as **wontfix**.",
    "created_at": "2012-06-30T18:39:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98413",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:17'></a>Since there seems to have been a vote that this patch should not be merged, I think we should close it as **wontfix**.



---

archive/issue_comments_098414.json:
```json
{
    "body": "<a id='comment:18'></a>I think we should have another vote.  I was the major -1 vote, and I fixed the issues I had with it in my updated patch.\n\nI'll post to sage-devel one more time.  It's been a long time since this issue was raised.",
    "created_at": "2012-06-30T18:42:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98414",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:18'></a>I think we should have another vote.  I was the major -1 vote, and I fixed the issues I had with it in my updated patch.

I'll post to sage-devel one more time.  It's been a long time since this issue was raised.



---

archive/issue_comments_098415.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2012-06-30T18:42:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98415",
    "user": "https://github.com/jasongrout"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_098416.json:
```json
{
    "body": "<a id='comment:19'></a>I've posted to sage-devel again: https://groups.google.com/group/sage-devel/browse_thread/thread/61ca252973c4930f",
    "created_at": "2012-06-30T18:53:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98416",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:19'></a>I've posted to sage-devel again: https://groups.google.com/group/sage-devel/browse_thread/thread/61ca252973c4930f



---

archive/issue_comments_098417.json:
```json
{
    "body": "<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-27T05:46:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98417",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_098418.json:
```json
{
    "body": "<a id='comment:22'></a>As not everyone is happy with refactoring `trace()` for dual purposes, we may add `tr()` for mathematical trace instead of `trace()`. Actually I guess that it is more frequent and convenient to think of `tr(m)` than `trace(m)` for a non-programmer mathematician. Also it nicely balances with `det(m)`",
    "created_at": "2016-04-27T05:52:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98418",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:22'></a>As not everyone is happy with refactoring `trace()` for dual purposes, we may add `tr()` for mathematical trace instead of `trace()`. Actually I guess that it is more frequent and convenient to think of `tr(m)` than `trace(m)` for a non-programmer mathematician. Also it nicely balances with `det(m)`



---

archive/issue_comments_098419.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2016-04-27T05:53:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98419",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_events_024251.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2016-04-27T14:16:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "milestone": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9704#event-24251"
}
```



---

archive/issue_comments_098420.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,6 +9,8 @@\n AttributeError: 'sage.matrix.matrix_integer_dense.Matrix_integer_dense' object has no attribute 'lstrip'\n ```\n \n+As it turned out, not everyone is happy with refactoring trace() for dual purposes. Instread we may add `tr(m)` for mathematical trace instead of `trace()`. This nicely balances with `det(m)`\n+\n Issue created by migration from https://trac.sagemath.org/ticket/9704\n \n \n``````\n",
    "created_at": "2016-11-06T18:35:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98420",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,6 +9,8 @@
 AttributeError: 'sage.matrix.matrix_integer_dense.Matrix_integer_dense' object has no attribute 'lstrip'
 ```
 
+As it turned out, not everyone is happy with refactoring trace() for dual purposes. Instread we may add `tr(m)` for mathematical trace instead of `trace()`. This nicely balances with `det(m)`
+
 Issue created by migration from https://trac.sagemath.org/ticket/9704
 
 
``````




---

archive/issue_comments_098421.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-11-06T18:35:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98421",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_098422.json:
```json
{
    "body": "<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-11-06T18:36:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98422",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_098423.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-11-06T18:38:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98423",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_098424.json:
```json
{
    "body": "<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-08-04T07:34:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98424",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_events_024252.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2017-08-04T07:46:37Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "milestone": "sage-7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9704#event-24252"
}
```



---

archive/issue_events_024253.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2017-08-04T07:46:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "milestone": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9704#event-24253"
}
```



---

archive/issue_comments_098425.json:
```json
{
    "body": "<a id='comment:29'></a>Previously I somehow ended up kidnapping this ticket, and uploaded a patch not for the original purpose of the ticket. I felt guilty, so now I recover the ticket for the original purpose. \n\nThe newly pushed branch only contains the code by Jason with slight changes. The code by Jason implements the idea discussed in https://groups.google.com/group/sage-devel/browse_thread/thread/61ca252973c4930f",
    "created_at": "2017-08-04T07:46:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98425",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:29'></a>Previously I somehow ended up kidnapping this ticket, and uploaded a patch not for the original purpose of the ticket. I felt guilty, so now I recover the ticket for the original purpose. 

The newly pushed branch only contains the code by Jason with slight changes. The code by Jason implements the idea discussed in https://groups.google.com/group/sage-devel/browse_thread/thread/61ca252973c4930f



---

archive/issue_comments_098426.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,13 @@\n+This is confusing.  Refactor to fix it:\n \n+```\n+sage: det(matrix(2,[1,2,3,4]))\n+-2\n+sage: trace(matrix(2,[1,2,3,4]))\n+Traceback (most recent call last)\n+...\n+AttributeError: 'sage.matrix.matrix_integer_dense.Matrix_integer_dense' object has no attribute 'lstrip'\n+```\n \n Issue created by migration from https://trac.sagemath.org/ticket/9704\n \n``````\n",
    "created_at": "2017-08-04T07:46:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98426",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,13 @@
+This is confusing.  Refactor to fix it:
 
+```
+sage: det(matrix(2,[1,2,3,4]))
+-2
+sage: trace(matrix(2,[1,2,3,4]))
+Traceback (most recent call last)
+...
+AttributeError: 'sage.matrix.matrix_integer_dense.Matrix_integer_dense' object has no attribute 'lstrip'
+```
 
 Issue created by migration from https://trac.sagemath.org/ticket/9704
 
``````




---

archive/issue_comments_098427.json:
```json
{
    "body": "<a id='comment:30'></a>does not apply",
    "created_at": "2018-03-11T17:11:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98427",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:30'></a>does not apply



---

archive/issue_comments_098428.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-03-11T17:11:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98428",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_events_024254.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-03-11T17:11:54Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "milestone": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9704#event-24254"
}
```



---

archive/issue_events_024255.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-03-11T17:11:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "milestone": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9704#event-24255"
}
```



---

archive/issue_comments_098429.json:
```json
{
    "body": "<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-03-12T00:38:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98429",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_098430.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-03-13T00:14:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98430",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_events_024256.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2019-05-07T05:44:10Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "milestone": "sage-8.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9704#event-24256"
}
```



---

archive/issue_events_024257.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2019-05-07T05:44:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9704#event-24257"
}
```



---

archive/issue_comments_098431.json:
```json
{
    "body": "<a id='comment:33'></a>It seems that there is no enough consensus in changing the meaning of `trace` command, which is now commonly used to trace code execution in Sage.\n\nAt least I myself prefer to use the methods `m.det()` and `m.trace()` than the functions `det(m)` or `trace(m)`. So I would rather remove the function `det` instead of introducing new `trace` function.\n\nHence I close this ticket as \"won't fix\".",
    "created_at": "2019-05-07T05:44:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9704#issuecomment-98431",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:33'></a>It seems that there is no enough consensus in changing the meaning of `trace` command, which is now commonly used to trace code execution in Sage.

At least I myself prefer to use the methods `m.det()` and `m.trace()` than the functions `det(m)` or `trace(m)`. So I would rather remove the function `det` instead of introducing new `trace` function.

Hence I close this ticket as "won't fix".
