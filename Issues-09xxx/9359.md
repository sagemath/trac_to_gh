# Issue 9359: Get number field coverage up to 100%

archive/issues_009359.json:
```json
{
    "assignees": [
        "https://github.com/loefflerd"
    ],
    "body": "This patch does the following:\n\n* Removes the outdated file sage.rings.number_field.totallyreal_dsage (DSage was removed months ago).\n\n* ReSTifies several number field files and adds them to the reference manual.\n\n* Adds doctests to 38 functions and removes 21 functions that are deprecated or duplicate, getting doctest coverage for number fields up to 100%.\n\nDependencies: #7883, #9898, #9753, #9764, #8334\n\nCC:  @rishikesha @jdemeyer\n\nComponent: **number fields**\n\nAuthor: **David Loeffler**\n\nReviewer: **Jeroen Demeyer**\n\nMerged: **sage-4.6.alpha2**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/9359_\n\n",
    "closed_at": "2010-09-29T03:49:07Z",
    "created_at": "2010-06-28T16:50:54Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20number%20fields",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/doctest%20coverage"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Get number field coverage up to 100%",
    "type": "issue",
    "updated_at": "2010-09-29T03:54:02Z",
    "url": "https://github.com/sagemath/sage/issues/9359",
    "user": "https://github.com/loefflerd"
}
```
This patch does the following:

* Removes the outdated file sage.rings.number_field.totallyreal_dsage (DSage was removed months ago).

* ReSTifies several number field files and adds them to the reference manual.

* Adds doctests to 38 functions and removes 21 functions that are deprecated or duplicate, getting doctest coverage for number fields up to 100%.

Dependencies: #7883, #9898, #9753, #9764, #8334

CC:  @rishikesha @jdemeyer

Component: **number fields**

Author: **David Loeffler**

Reviewer: **Jeroen Demeyer**

Merged: **sage-4.6.alpha2**

_Issue created by migration from https://trac.sagemath.org/ticket/9359_





---

archive/issue_events_118734.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-06-28T16:50:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "milestone_number": null,
    "milestone_title": "sage-4.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9359#event-118734"
}
```



---

archive/issue_events_118735.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-06-28T16:50:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20number%20fields",
    "label_color": "0000ff",
    "label_name": "c: number fields",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9359#event-118735"
}
```



---

archive/issue_events_118736.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-06-28T16:50:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9359#event-118736"
}
```



---

archive/issue_events_118737.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-06-28T16:50:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9359#event-118737"
}
```



---

archive/issue_events_118738.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-06-28T16:50:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "label": "https://github.com/sagemath/sage/labels/doctest%20coverage",
    "label_color": "696969",
    "label_name": "doctest coverage",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9359#event-118738"
}
```



---

archive/issue_events_118739.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-06-28T16:50:54Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "subject": "https://github.com/loefflerd",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9359#event-118739"
}
```



---

archive/issue_events_118740.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-06-28T16:56:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9359#event-118740"
}
```



---

archive/issue_comments_079683.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nHere's a patch; it depends on #9244 (but *not* on #9336).",
    "created_at": "2010-06-28T16:56:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79683",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:1" align="right">comment:1</div>

Here's a patch; it depends on #9244 (but *not* on #9336).



---

archive/issue_comments_079684.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI've now moved one doctest from here to #9244, with the result that this patch is now independent of #9244 (and #9336). It does require the (positively-reviewed) patch at #9242. (Without #9242 it applies but one `TestSuite` doctest fails.)",
    "created_at": "2010-06-28T20:35:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79684",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:2" align="right">comment:2</div>

I've now moved one doctest from here to #9244, with the result that this patch is now independent of #9244 (and #9336). It does require the (positively-reviewed) patch at #9242. (Without #9242 it applies but one `TestSuite` doctest fails.)



---

archive/issue_comments_079685.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nDo you thing that\n\n```\n                # TODO -- relative extensions need to be completely rewritten, so one\n                # can get easy access to representation of elements in their relative\n                # form.  Functions like matrix below can't be done until relative\n                # extensions are re-written this way.  Also there needs to be class\n                # hierarchy for number field elements, integers, etc.  This is a\n                # nontrivial project, and it needs somebody to attack it.  I'm amazed\n                # how long this has gone unattacked.\n\n                # Relative elements need to be a derived class or something.  This is\n                # terrible as it is now. \n```\n\nis no longer valid?",
    "created_at": "2010-07-02T19:51:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79685",
    "user": "https://github.com/lftabera"
}
```

<div id="comment:3" align="right">comment:3</div>

Do you thing that

```
                # TODO -- relative extensions need to be completely rewritten, so one
                # can get easy access to representation of elements in their relative
                # form.  Functions like matrix below can't be done until relative
                # extensions are re-written this way.  Also there needs to be class
                # hierarchy for number field elements, integers, etc.  This is a
                # nontrivial project, and it needs somebody to attack it.  I'm amazed
                # how long this has gone unattacked.

                # Relative elements need to be a derived class or something.  This is
                # terrible as it is now. 
```

is no longer valid?



---

archive/issue_comments_079686.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI confirm that I think that comment is no longer valid.\n\nThe comment has been lying undisturbed in the code for more than three years now (i.e. more than half of the entire lifespan of the Sage project), as \"hg annotate\" will show you. There were issues with matrix, getitem, etc for relative number field elements (e.g. #2551) but they have all been fixed now (a large number of them thanks to fwclarke's sterling work at #5508, which closed five or six tickets in one go).",
    "created_at": "2010-07-02T20:06:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79686",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:4" align="right">comment:4</div>

I confirm that I think that comment is no longer valid.

The comment has been lying undisturbed in the code for more than three years now (i.e. more than half of the entire lifespan of the Sage project), as "hg annotate" will show you. There were issues with matrix, getitem, etc for relative number field elements (e.g. #2551) but they have all been fixed now (a large number of them thanks to fwclarke's sterling work at #5508, which closed five or six tickets in one go).



---

archive/issue_comments_079687.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nWell, I think that it still applies the fact that relative number fields are slow. The construction of an underlying absolute number field to make computations has coefficient explosion problems. Also, there should be smarter calls to pari_nf pari_rnf that are operations that can be very costly.\n\nSo yes, the code works but it is inefficient in some interesting cases.",
    "created_at": "2010-07-06T10:50:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79687",
    "user": "https://github.com/lftabera"
}
```

<div id="comment:5" align="right">comment:5</div>

Well, I think that it still applies the fact that relative number fields are slow. The construction of an underlying absolute number field to make computations has coefficient explosion problems. Also, there should be smarter calls to pari_nf pari_rnf that are operations that can be very costly.

So yes, the code works but it is inefficient in some interesting cases.



---

archive/issue_comments_079688.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI've uploaded a new patch which works with 4.6.alpha1 (no massive changes, just a chunk that was rejected because it fixed a whitespace error also fixed by #8680, and two doctests that needed fixing because of the PARI update). Please, someone review this, before it bitrots again!",
    "created_at": "2010-09-22T09:18:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79688",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:7" align="right">comment:7</div>

I've uploaded a new patch which works with 4.6.alpha1 (no massive changes, just a chunk that was rejected because it fixed a whitespace error also fixed by #8680, and two doctests that needed fixing because of the PARI update). Please, someone review this, before it bitrots again!



---

archive/issue_comments_079689.json:
```json
{
    "body": "Author: **David Loeffler**",
    "created_at": "2010-09-22T09:18:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79689",
    "user": "https://github.com/loefflerd"
}
```

Author: **David Loeffler**



---

archive/issue_comments_079690.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,7 @@\n-This patch removes the outdated file sage.rings.number_field.totallyreal_dsage (DSage was removed months ago), adds several number field files to the reference manual, and adds a number of missing doctests. Together with the independent but complementary patch at #9336 this gets doctest coverage up to 100%.\n+This patch does the following:\n+\n+* Removes the outdated file sage.rings.number_field.totallyreal_dsage (DSage was removed months ago).\n+\n+* ReSTifies several number field files and adds them to the reference manual.\n+\n+* Adds doctests to 38 functions and removes 21 functions that are deprecated or duplicate, getting doctest coverage for number fields up to 100%.\n``````\n",
    "created_at": "2010-09-23T08:50:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79690",
    "user": "https://github.com/loefflerd"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,7 @@
-This patch removes the outdated file sage.rings.number_field.totallyreal_dsage (DSage was removed months ago), adds several number field files to the reference manual, and adds a number of missing doctests. Together with the independent but complementary patch at #9336 this gets doctest coverage up to 100%.
+This patch does the following:
+
+* Removes the outdated file sage.rings.number_field.totallyreal_dsage (DSage was removed months ago).
+
+* ReSTifies several number field files and adds them to the reference manual.
+
+* Adds doctests to 38 functions and removes 21 functions that are deprecated or duplicate, getting doctest coverage for number fields up to 100%.
``````




---

archive/issue_comments_079691.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI still think that the comment about rewriting relative extensions still apply. But there have been changes, so I will think some alternative to that text.",
    "created_at": "2010-09-23T09:03:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79691",
    "user": "https://github.com/lftabera"
}
```

<div id="comment:9" align="right">comment:9</div>

I still think that the comment about rewriting relative extensions still apply. But there have been changes, so I will think some alternative to that text.



---

archive/issue_comments_079692.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI fully agree that relative extensions are not optimally implemented. By all means open another trac ticket for that if you like; but the specific issues (with matrix, etc) that the comment refers to are fixed (see #2551).",
    "created_at": "2010-09-23T09:25:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79692",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:11" align="right">comment:11</div>

I fully agree that relative extensions are not optimally implemented. By all means open another trac ticket for that if you like; but the specific issues (with matrix, etc) that the comment refers to are fixed (see #2551).



---

archive/issue_comments_079693.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI personally prefer to leave\n\n```\nsage: I.ideal_below() \nFractional ideal (b)   # 32-bit \nFractional ideal (-b)  # 64-bit \n```\nas it is, instead of\n\n```\nsage: I.ideal_below() == F.ideal(b) \nTrue\n```\n\nAs an example, the first is more clear. But as I said, this is just a personal preference.",
    "created_at": "2010-09-23T09:40:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79693",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">comment:12</div>

I personally prefer to leave

```
sage: I.ideal_below() 
Fractional ideal (b)   # 32-bit 
Fractional ideal (-b)  # 64-bit 
```
as it is, instead of

```
sage: I.ideal_below() == F.ideal(b) 
True
```

As an example, the first is more clear. But as I said, this is just a personal preference.



---

archive/issue_comments_079694.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nAlso, the hunk\n\n```\n-            sage: I.ideal_below()\n-            Fractional ideal (-b)  # 32-bit\n-            Fractional ideal (b)   # 64-bit\n+            sage: I.ideal_below() == F.ideal(b)\n+            True\n```\nconflicts with #9764. So would you mind removing it?\n\nApart from that, the patch applies fine and doctests fine, even with #9753 and #9764 applied.",
    "created_at": "2010-09-23T10:17:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79694",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

Also, the hunk

```
-            sage: I.ideal_below()
-            Fractional ideal (-b)  # 32-bit
-            Fractional ideal (b)   # 64-bit
+            sage: I.ideal_below() == F.ideal(b)
+            True
```
conflicts with #9764. So would you mind removing it?

Apart from that, the patch applies fine and doctests fine, even with #9753 and #9764 applied.



---

archive/issue_comments_079695.json:
```json
{
    "body": "Attachment: **[trac_9359.patch.gz](https://github.com/sagemath/sage/files/ticket9359/trac_9359.patch.gz)**\n\nNew version without change to \"ideal_below\"",
    "created_at": "2010-09-23T10:21:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79695",
    "user": "https://github.com/loefflerd"
}
```

Attachment: **[trac_9359.patch.gz](https://github.com/sagemath/sage/files/ticket9359/trac_9359.patch.gz)**

New version without change to "ideal_below"



---

archive/issue_comments_079696.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nOK, I'm fine with that. I've just uploaded a patch with that hunk removed.",
    "created_at": "2010-09-23T10:23:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79696",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:14" align="right">comment:14</div>

OK, I'm fine with that. I've just uploaded a patch with that hunk removed.



---

archive/issue_comments_079697.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nI think you should put\n\n```\nR.<x> = PolynomialRing(QQ)\n```\nor\n\n```\nx = polygen(QQ)\n```\neverywhere before\n\n```\nK.<foo> = NumberField(some_polynomial_in_x)\n```\n\nI imagine users copy-pasting the examples and finding they don't work because `x` is something else.",
    "created_at": "2010-09-23T10:26:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79697",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

I think you should put

```
R.<x> = PolynomialRing(QQ)
```
or

```
x = polygen(QQ)
```
everywhere before

```
K.<foo> = NumberField(some_polynomial_in_x)
```

I imagine users copy-pasting the examples and finding they don't work because `x` is something else.



---

archive/issue_comments_079698.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nIn my defence, I'd like to point out that your comment applies to most of the 600 or so number field doctests that were already there -- not just the 38 that I added -- and nobody's complained about it before :-) So we could have another ticket if you think it's an issue, but I claim it's orthogonal to this ticket.\n\n(I personally think having the doctests this way is a *good* thing, as it makes it clear that you can start Sage and type `K.<a> = Number Field(x^2 - 37)` and it will Just Work (tm), unlike in Magma for instance.)",
    "created_at": "2010-09-23T10:38:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79698",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:16" align="right">comment:16</div>

In my defence, I'd like to point out that your comment applies to most of the 600 or so number field doctests that were already there -- not just the 38 that I added -- and nobody's complained about it before :-) So we could have another ticket if you think it's an issue, but I claim it's orthogonal to this ticket.

(I personally think having the doctests this way is a *good* thing, as it makes it clear that you can start Sage and type `K.<a> = Number Field(x^2 - 37)` and it will Just Work (tm), unlike in Magma for instance.)



---

archive/issue_comments_079699.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nNice job, looks good to me!",
    "created_at": "2010-09-24T08:09:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79699",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:17" align="right">comment:17</div>

Nice job, looks good to me!



---

archive/issue_events_118741.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-09-24T08:09:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9359#event-118741"
}
```



---

archive/issue_events_118742.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-09-24T08:09:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9359#event-118742"
}
```



---

archive/issue_comments_079700.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2010-09-24T16:22:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79700",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_comments_079701.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,3 +5,5 @@\n * ReSTifies several number field files and adds them to the reference manual.\n \n * Adds doctests to 38 functions and removes 21 functions that are deprecated or duplicate, getting doctest coverage for number fields up to 100%.\n+\n+Dependencies: #7883, #9898, #9753, #9764, #8334\n``````\n",
    "created_at": "2010-09-27T09:34:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79701",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,3 +5,5 @@
 * ReSTifies several number field files and adds them to the reference manual.
 
 * Adds doctests to 38 functions and removes 21 functions that are deprecated or duplicate, getting doctest coverage for number fields up to 100%.
+
+Dependencies: #7883, #9898, #9753, #9764, #8334
``````




---

archive/issue_events_118743.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-09-27T09:34:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9359#event-118743"
}
```



---

archive/issue_events_118744.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-09-27T09:34:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9359#event-118744"
}
```



---

archive/issue_comments_079702.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nThere are a few conflicts with #8334. I will rebase this patch.",
    "created_at": "2010-09-27T09:34:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79702",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:19" align="right">comment:19</div>

There are a few conflicts with #8334. I will rebase this patch.



---

archive/issue_comments_079703.json:
```json
{
    "body": "Attachment: **[9359_rebase_to_8334.patch.gz](https://github.com/sagemath/sage/files/ticket9359/9359_rebase_to_8334.patch.gz)**\n\nApply on top of #7883, #9898, #9753, #9764, #8334 and trac_9359.patch",
    "created_at": "2010-09-27T21:04:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79703",
    "user": "https://github.com/jdemeyer"
}
```

Attachment: **[9359_rebase_to_8334.patch.gz](https://github.com/sagemath/sage/files/ticket9359/9359_rebase_to_8334.patch.gz)**

Apply on top of #7883, #9898, #9753, #9764, #8334 and trac_9359.patch



---

archive/issue_events_118745.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-09-27T21:05:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9359#event-118745"
}
```



---

archive/issue_events_118746.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-09-27T21:05:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9359#event-118746"
}
```



---

archive/issue_comments_079704.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nWith the attached patch, `make ptestlong` succeeds on 32-bit and 64-bit systems.",
    "created_at": "2010-09-27T21:05:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79704",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">comment:20</div>

With the attached patch, `make ptestlong` succeeds on 32-bit and 64-bit systems.



---

archive/issue_comments_079705.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nDavid, can you review my additions?",
    "created_at": "2010-09-27T21:08:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79705",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">comment:21</div>

David, can you review my additions?



---

archive/issue_events_118747.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-09-28T07:32:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9359#event-118747"
}
```



---

archive/issue_events_118748.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-09-28T07:32:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9359#event-118748"
}
```



---

archive/issue_comments_079706.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nLooks fine -- thanks for cleaning that up.",
    "created_at": "2010-09-28T07:32:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79706",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:22" align="right">comment:22</div>

Looks fine -- thanks for cleaning that up.



---

archive/issue_events_118749.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-09-28T09:48:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9359#event-118749"
}
```



---

archive/issue_events_118750.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-09-28T09:48:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9359#event-118750"
}
```



---

archive/issue_comments_079707.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nCould someone update the commit string of the patch so its first line is a < 80 (or so) character summary of the changes that includes the ticket number, then restore the positive review?  Additional lines are no problem, of course.",
    "created_at": "2010-09-28T09:48:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79707",
    "user": "https://github.com/qed777"
}
```

<div id="comment:23" align="right">comment:23</div>

Could someone update the commit string of the patch so its first line is a < 80 (or so) character summary of the changes that includes the ticket number, then restore the positive review?  Additional lines are no problem, of course.



---

archive/issue_comments_079708.json:
```json
{
    "body": "Attachment: **[trac_9359-fixed.patch.gz](https://github.com/sagemath/sage/files/ticket9359/trac_9359-fixed.patch.gz)**\n\nQfolded patch with better commit string. Apply only this patch.",
    "created_at": "2010-09-28T10:13:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79708",
    "user": "https://github.com/loefflerd"
}
```

Attachment: **[trac_9359-fixed.patch.gz](https://github.com/sagemath/sage/files/ticket9359/trac_9359-fixed.patch.gz)**

Qfolded patch with better commit string. Apply only this patch.



---

archive/issue_events_118751.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-09-28T10:14:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9359#event-118751"
}
```



---

archive/issue_events_118752.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-09-28T10:14:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9359#event-118752"
}
```



---

archive/issue_comments_079709.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nDone. I also qfolded into one patch.",
    "created_at": "2010-09-28T10:14:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79709",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:24" align="right">comment:24</div>

Done. I also qfolded into one patch.



---

archive/issue_comments_079710.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nThanks, David.  I get some docbuild warnings\n\n```\n/mnt/usb1/scratch/mpatel/tmp/sage-4.6.alpha1-working/devel/sage/doc/en/reference/sage/rings/number_field/totallyreal.rst:71: WARNING: duplicate citation C, other instance in /mnt/usb1/scratch/mpatel/tmp/sage-4.6.alpha1-working/devel/sage/doc/en/reference/sage/rings/number_field/small_primes_of_degree_one.rst\n/mnt/usb1/scratch/mpatel/tmp/sage-4.6.alpha1-working/devel/sage/doc/en/reference/sage/rings/number_field/totallyreal.rst:75: WARNING: duplicate citation M, other instance in /mnt/usb1/scratch/mpatel/tmp/sage-4.6.alpha1-working/devel/sage/doc/en/reference/sage/crypto/lfsr.rst\n/mnt/usb1/scratch/mpatel/tmp/sage-4.6.alpha1-working/devel/sage/doc/en/reference/sage/rings/number_field/totallyreal.rst:82: WARNING: duplicate citation V, other instance in /mnt/usb1/scratch/mpatel/tmp/sage-4.6.alpha1-working/devel/sage/doc/en/reference/sage/matrix/matrix2.rst\n```\nwith the current [merger-4.6.alpha2](http://sage.math.washington.edu/home/release/sage-4.6.alpha2/merger-4.6.alpha2) \"applied\" to 4.6.alpha1.\n\nCould you or Jeroen add a docfix patch?",
    "created_at": "2010-09-28T10:54:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79710",
    "user": "https://github.com/qed777"
}
```

<div id="comment:25" align="right">comment:25</div>

Thanks, David.  I get some docbuild warnings

```
/mnt/usb1/scratch/mpatel/tmp/sage-4.6.alpha1-working/devel/sage/doc/en/reference/sage/rings/number_field/totallyreal.rst:71: WARNING: duplicate citation C, other instance in /mnt/usb1/scratch/mpatel/tmp/sage-4.6.alpha1-working/devel/sage/doc/en/reference/sage/rings/number_field/small_primes_of_degree_one.rst
/mnt/usb1/scratch/mpatel/tmp/sage-4.6.alpha1-working/devel/sage/doc/en/reference/sage/rings/number_field/totallyreal.rst:75: WARNING: duplicate citation M, other instance in /mnt/usb1/scratch/mpatel/tmp/sage-4.6.alpha1-working/devel/sage/doc/en/reference/sage/crypto/lfsr.rst
/mnt/usb1/scratch/mpatel/tmp/sage-4.6.alpha1-working/devel/sage/doc/en/reference/sage/rings/number_field/totallyreal.rst:82: WARNING: duplicate citation V, other instance in /mnt/usb1/scratch/mpatel/tmp/sage-4.6.alpha1-working/devel/sage/doc/en/reference/sage/matrix/matrix2.rst
```
with the current [merger-4.6.alpha2](http://sage.math.washington.edu/home/release/sage-4.6.alpha2/merger-4.6.alpha2) "applied" to 4.6.alpha1.

Could you or Jeroen add a docfix patch?



---

archive/issue_events_118753.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-09-28T10:54:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9359#event-118753"
}
```



---

archive/issue_events_118754.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-09-28T10:54:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9359#event-118754"
}
```



---

archive/issue_comments_079711.json:
```json
{
    "body": "fix duplicate citation",
    "created_at": "2010-09-28T11:17:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79711",
    "user": "https://github.com/loefflerd"
}
```

fix duplicate citation



---

archive/issue_comments_079712.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nAttachment: **[trac_9359-docfix.patch.gz](https://github.com/sagemath/sage/files/ticket9359/trac_9359-docfix.patch.gz)**\n\nDocfix patch as requested. We should really have a single table of citations for the whole reference manual -- one of the conflicts here was with another file citing 'the same textbook' -- but this'll do for now.",
    "created_at": "2010-09-28T11:18:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79712",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:26" align="right">comment:26</div>

Attachment: **[trac_9359-docfix.patch.gz](https://github.com/sagemath/sage/files/ticket9359/trac_9359-docfix.patch.gz)**

Docfix patch as requested. We should really have a single table of citations for the whole reference manual -- one of the conflicts here was with another file citing 'the same textbook' -- but this'll do for now.



---

archive/issue_events_118755.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-09-28T11:18:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9359#event-118755"
}
```



---

archive/issue_events_118756.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2010-09-28T11:18:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9359#event-118756"
}
```



---

archive/issue_events_118757.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-09-29T03:49:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9359#event-118757"
}
```



---

archive/issue_events_118758.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-09-29T03:49:07Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9359#event-118758"
}
```



---

archive/issue_comments_079713.json:
```json
{
    "body": "Merged: **sage-4.6.alpha2**",
    "created_at": "2010-09-29T03:49:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79713",
    "user": "https://github.com/qed777"
}
```

Merged: **sage-4.6.alpha2**



---

archive/issue_comments_079714.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@loefflerd](#comment%3A26):\n> Docfix patch as requested. We should really have a single table of citations for the whole reference manual -- one of the conflicts here was with another file citing 'the same textbook' -- but this'll do for now.\n\n[This sage-devel thread](http://groups.google.com/group/sage-devel/browse_thread/thread/dba6129183b3b6eb/b41ce82a5ee589fe?#b41ce82a5ee589fe) seems related.",
    "created_at": "2010-09-29T03:54:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9359",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9359#issuecomment-79714",
    "user": "https://github.com/qed777"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@loefflerd](#comment%3A26):
> Docfix patch as requested. We should really have a single table of citations for the whole reference manual -- one of the conflicts here was with another file citing 'the same textbook' -- but this'll do for now.

[This sage-devel thread](http://groups.google.com/group/sage-devel/browse_thread/thread/dba6129183b3b6eb/b41ce82a5ee589fe?#b41ce82a5ee589fe) seems related.
