# Issue 9907: Move generally usable decorators to misc.decorators

archive/issues_009906.json:
```json
{
    "body": "The decorators in sage.misc.misc should be moved to sage.misc.decorators.\n\nIn plot.misc there are also some generally usable decorators for various nice stuff. These should be moved to a general library so other modules can use them without illogically depending on plot. Simultaneously, they should be patched to use sage_wraps instead of the Python \"wraps\" to accommodate for Sage-specific things; e.g. the fix of Trac #9917.\n\n**Assignee:** @johanrosenkilde\n\n**CC:**  @jasongrout @mwhansen\n\n**Keywords:** generality, decorators\n\n**Author:** Johan Sebastian Rosenkilde Nielsen\n\n**Reviewer:** Robert Miller\n\n**Merged:** sage-4.6.1.alpha2\n\nIssue created by migration from https://trac.sagemath.org/ticket/9907\n\n",
    "closed_at": "2010-11-16T08:20:15Z",
    "created_at": "2010-09-14T06:28:56Z",
    "labels": [
        "component: relocation",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.6.1",
    "title": "Move generally usable decorators to misc.decorators",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/9907",
    "user": "https://github.com/johanrosenkilde"
}
```
The decorators in sage.misc.misc should be moved to sage.misc.decorators.

In plot.misc there are also some generally usable decorators for various nice stuff. These should be moved to a general library so other modules can use them without illogically depending on plot. Simultaneously, they should be patched to use sage_wraps instead of the Python "wraps" to accommodate for Sage-specific things; e.g. the fix of Trac #9917.

**Assignee:** @johanrosenkilde

**CC:**  @jasongrout @mwhansen

**Keywords:** generality, decorators

**Author:** Johan Sebastian Rosenkilde Nielsen

**Reviewer:** Robert Miller

**Merged:** sage-4.6.1.alpha2

Issue created by migration from https://trac.sagemath.org/ticket/9907





---

archive/issue_events_074261.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2010-09-14T18:48:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9907#event-74261"
}
```



---

archive/issue_comments_091312.json:
```json
{
    "body": "<a id='comment:2'></a>\nWhile trying to use this patch in Trac #6094, I found out that the `@`wraps decorator used internally in all three decorators moved to sage.misc only works for functions in Python versions older than 3.2. It was fixed as Python bug issue 3445. Until Sage upgrades to such a new version of Python, I have written a small work-around, which essentially emulates the patched behaviour of wraps. This is in the newest patch.",
    "created_at": "2010-09-15T13:12:25Z",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9907#issuecomment-91312",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:2'></a>
While trying to use this patch in Trac #6094, I found out that the `@`wraps decorator used internally in all three decorators moved to sage.misc only works for functions in Python versions older than 3.2. It was fixed as Python bug issue 3445. Until Sage upgrades to such a new version of Python, I have written a small work-around, which essentially emulates the patched behaviour of wraps. This is in the newest patch.



---

archive/issue_comments_091313.json:
```json
{
    "body": "<a id='comment:3'></a>\nI'm not qualified to check out the \"work-around\" for classes.  But I've cc'ed Mike Hansen and Jason Grout, who I think were in on these in the first place back at #4201.\n\nI am running this through full tests as part of #6094 and a report will go there once concluded.\n\nCommit message on the ticket itself should probably change - there is no \"as before\" here to compare with, and in the final log it really won't make any sense.",
    "created_at": "2010-09-16T04:46:03Z",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9907#issuecomment-91313",
    "user": "https://github.com/rbeezer"
}
```

<a id='comment:3'></a>
I'm not qualified to check out the "work-around" for classes.  But I've cc'ed Mike Hansen and Jason Grout, who I think were in on these in the first place back at #4201.

I am running this through full tests as part of #6094 and a report will go there once concluded.

Commit message on the ticket itself should probably change - there is no "as before" here to compare with, and in the final log it really won't make any sense.



---

archive/issue_comments_091314.json:
```json
{
    "body": "<a id='comment:4'></a>\nReplying to [@johanrosenkilde](#comment%3A2):\n> While trying to use this patch in Trac #6094, I found out that the `@`wraps decorator used internally in all three decorators moved to sage.misc only works for functions in Python versions older than 3.2. It was fixed as Python bug issue 3445. Until Sage upgrades to such a new version of Python, I have written a small work-around, which essentially emulates the patched behaviour of wraps. This is in the newest patch.\n\nDo you think you could just add the work-around to the sage_wraps decorator (sage.misc.misc.sage_wraps) and convert the decorators to use it?  There are other functions that use sage_wraps, and it would be nice to have all of that work-around code in one place.",
    "created_at": "2010-09-16T09:11:04Z",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9907#issuecomment-91314",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:4'></a>
Replying to [@johanrosenkilde](#comment%3A2):
> While trying to use this patch in Trac #6094, I found out that the `@`wraps decorator used internally in all three decorators moved to sage.misc only works for functions in Python versions older than 3.2. It was fixed as Python bug issue 3445. Until Sage upgrades to such a new version of Python, I have written a small work-around, which essentially emulates the patched behaviour of wraps. This is in the newest patch.

Do you think you could just add the work-around to the sage_wraps decorator (sage.misc.misc.sage_wraps) and convert the decorators to use it?  There are other functions that use sage_wraps, and it would be nice to have all of that work-around code in one place.



---

archive/issue_comments_091315.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [@jasongrout](#comment%3A4):\n> Replying to [@johanrosenkilde](#comment%3A2):\n> > While trying to use this patch in Trac #6094, I found out that the `@`wraps decorator used internally in all three decorators moved to sage.misc only works for functions in Python versions older than 3.2. It was fixed as Python bug issue 3445. Until Sage upgrades to such a new version of Python, I have written a small work-around, which essentially emulates the patched behaviour of wraps. This is in the newest patch.\n\n> \n> Do you think you could just add the work-around to the sage_wraps decorator (sage.misc.misc.sage_wraps) and convert the decorators to use it?  There are other functions that use sage_wraps, and it would be nice to have all of that work-around code in one place.\n\nThat should be no problem, I guess; I wasn't aware of sage_wraps. However, that might affect a lot of places outside the original scope of this ticket; should it be a new ticket then? What's the precedence here?",
    "created_at": "2010-09-16T11:28:29Z",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9907#issuecomment-91315",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:5'></a>
Replying to [@jasongrout](#comment%3A4):
> Replying to [@johanrosenkilde](#comment%3A2):
> > While trying to use this patch in Trac #6094, I found out that the `@`wraps decorator used internally in all three decorators moved to sage.misc only works for functions in Python versions older than 3.2. It was fixed as Python bug issue 3445. Until Sage upgrades to such a new version of Python, I have written a small work-around, which essentially emulates the patched behaviour of wraps. This is in the newest patch.

> 
> Do you think you could just add the work-around to the sage_wraps decorator (sage.misc.misc.sage_wraps) and convert the decorators to use it?  There are other functions that use sage_wraps, and it would be nice to have all of that work-around code in one place.

That should be no problem, I guess; I wasn't aware of sage_wraps. However, that might affect a lot of places outside the original scope of this ticket; should it be a new ticket then? What's the precedence here?



---

archive/issue_comments_091316.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [@johanrosenkilde](#comment%3A5):\n> Replying to [@jasongrout](#comment%3A4):\n> > Replying to [@johanrosenkilde](#comment%3A2):\n> > > While trying to use this patch in Trac #6094, I found out that the `@`wraps decorator used internally in all three decorators moved to sage.misc only works for functions in Python versions older than 3.2. It was fixed as Python bug issue 3445. Until Sage upgrades to such a new version of Python, I have written a small work-around, which essentially emulates the patched behaviour of wraps. This is in the newest patch.\n\n> > \n> > Do you think you could just add the work-around to the sage_wraps decorator (sage.misc.misc.sage_wraps) and convert the decorators to use it?  There are other functions that use sage_wraps, and it would be nice to have all of that work-around code in one place.\n\n> \n> That should be no problem, I guess; I wasn't aware of sage_wraps. However, that might affect a lot of places outside the original scope of this ticket; should it be a new ticket then? What's the precedence here?\n\nI started Trac #9919 for doing this patch in sage_wraps. I'm also thinking that, when the problems with this patch are identified, we might move sage_wraps and other decorators in sage.misc.misc into sage.misc.decorators as well.",
    "created_at": "2010-09-16T14:28:37Z",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9907#issuecomment-91316",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:6'></a>
Replying to [@johanrosenkilde](#comment%3A5):
> Replying to [@jasongrout](#comment%3A4):
> > Replying to [@johanrosenkilde](#comment%3A2):
> > > While trying to use this patch in Trac #6094, I found out that the `@`wraps decorator used internally in all three decorators moved to sage.misc only works for functions in Python versions older than 3.2. It was fixed as Python bug issue 3445. Until Sage upgrades to such a new version of Python, I have written a small work-around, which essentially emulates the patched behaviour of wraps. This is in the newest patch.

> > 
> > Do you think you could just add the work-around to the sage_wraps decorator (sage.misc.misc.sage_wraps) and convert the decorators to use it?  There are other functions that use sage_wraps, and it would be nice to have all of that work-around code in one place.

> 
> That should be no problem, I guess; I wasn't aware of sage_wraps. However, that might affect a lot of places outside the original scope of this ticket; should it be a new ticket then? What's the precedence here?

I started Trac #9919 for doing this patch in sage_wraps. I'm also thinking that, when the problems with this patch are identified, we might move sage_wraps and other decorators in sage.misc.misc into sage.misc.decorators as well.



---

archive/issue_comments_091317.json:
```json
{
    "body": "<a id='comment:7'></a>\nStarting another ticket sounds good.",
    "created_at": "2010-09-16T15:54:39Z",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9907#issuecomment-91317",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:7'></a>
Starting another ticket sounds good.



---

archive/issue_events_074262.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2010-09-17T08:19:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9907#event-74262"
}
```



---

archive/issue_events_074263.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2010-09-17T08:19:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9907#event-74263"
}
```



---

archive/issue_comments_091318.json:
```json
{
    "body": "<a id='comment:8'></a>\nRob Beezer posted the following problem with the current patch for Trac #6094, but that is actually a problem with the current patch for this trac. When testing the unpickle-function in sage.structure.sage_object, the relocation of the decorators yield problems:\n\n```\nrob@wave:/sage/dev$ ./sage -t  devel/sage/sage/structure/sage_object.pyx\nsage -t  \"devel/sage/sage/structure/sage_object.pyx\"        \n**********************************************************************\nFile \"/sage/dev/devel/sage/sage/structure/sage_object.pyx\", line 1001:\n    sage: print \"x\"; sage.structure.sage_object.unpickle_all(std)\nExpected:\n    x...\n    Successfully unpickled ... objects.\n    Failed to unpickle 0 objects.\nGot:\n    x\n    doctest:1: DeprecationWarning: Your word object is saved in an old file format since FiniteWord_over_OrderedAlphabet is deprecated and will be deleted in a future version of Sage (you can use FiniteWord_list instead). You can re-save your word by typing \"word.save(filename)\" to ensure that it will load in future versions of Sage.\n    doctest:1: DeprecationWarning: Your word object is saved in an old file format since AbstractWord is deprecated and will be deleted in a future version of Sage (you can use FiniteWord_list instead). You can re-save your word by typing \"word.save(filename)\" to ensure that it will load in future versions of Sage.\n    doctest:1: DeprecationWarning: Your word object is saved in an old file format since Word_over_Alphabet is deprecated and will be deleted in a future version of Sage (you can use FiniteWord_list instead). You can re-save your word by typing \"word.save(filename)\" to ensure that it will load in future versions of Sage.\n    doctest:1: DeprecationWarning: Your word object is saved in an old file format since Word_over_OrderedAlphabet is deprecated and will be deleted in a future version of Sage (you can use FiniteWord_list instead). You can re-save your word by typing \"word.save(filename)\" to ensure that it will load in future versions of Sage.\n    doctest:1: DeprecationWarning: ChristoffelWord_Lower is deprecated, use LowerChristoffelWord instead\n    ** failed:  _class__sage_plot_misc_options__.sobj\n    ** failed:  _class__sage_plot_misc_rename_keyword__.sobj\n    Failed:\n    _class__sage_plot_misc_options__.sobj\n    _class__sage_plot_misc_rename_keyword__.sobj\n    Successfully unpickled 584 objects.\n    Failed to unpickle 2 objects.\n**********************************************************************\n1 items had failures:\n   1 of   7 in __main__.example_23\n***Test Failed*** 1 failures.\nFor whitespace errors, see the file /home/rob/.sage//tmp/.doctest_sage_object.py\n         [5.2 s]\n \n----------------------------------------------------------------------\nThe following tests failed:\n\n\n        sage -t  \"devel/sage/sage/structure/sage_object.pyx\"\n```\n\nThe deprecation-warnings are just garbage from words.py, so the important thing to note is the \"** failed\"-lines. The problem, as far as I can see, is simply that there is a standard pickle jar which has a pickle for all the functions etc. shipped with sage. This needs to be updated when applying this patch. Does anyone know how this is done and possibly included in the patch?\n\nCheers, Johan",
    "created_at": "2010-09-17T08:19:45Z",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9907#issuecomment-91318",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:8'></a>
Rob Beezer posted the following problem with the current patch for Trac #6094, but that is actually a problem with the current patch for this trac. When testing the unpickle-function in sage.structure.sage_object, the relocation of the decorators yield problems:

```
rob@wave:/sage/dev$ ./sage -t  devel/sage/sage/structure/sage_object.pyx
sage -t  "devel/sage/sage/structure/sage_object.pyx"        
**********************************************************************
File "/sage/dev/devel/sage/sage/structure/sage_object.pyx", line 1001:
    sage: print "x"; sage.structure.sage_object.unpickle_all(std)
Expected:
    x...
    Successfully unpickled ... objects.
    Failed to unpickle 0 objects.
Got:
    x
    doctest:1: DeprecationWarning: Your word object is saved in an old file format since FiniteWord_over_OrderedAlphabet is deprecated and will be deleted in a future version of Sage (you can use FiniteWord_list instead). You can re-save your word by typing "word.save(filename)" to ensure that it will load in future versions of Sage.
    doctest:1: DeprecationWarning: Your word object is saved in an old file format since AbstractWord is deprecated and will be deleted in a future version of Sage (you can use FiniteWord_list instead). You can re-save your word by typing "word.save(filename)" to ensure that it will load in future versions of Sage.
    doctest:1: DeprecationWarning: Your word object is saved in an old file format since Word_over_Alphabet is deprecated and will be deleted in a future version of Sage (you can use FiniteWord_list instead). You can re-save your word by typing "word.save(filename)" to ensure that it will load in future versions of Sage.
    doctest:1: DeprecationWarning: Your word object is saved in an old file format since Word_over_OrderedAlphabet is deprecated and will be deleted in a future version of Sage (you can use FiniteWord_list instead). You can re-save your word by typing "word.save(filename)" to ensure that it will load in future versions of Sage.
    doctest:1: DeprecationWarning: ChristoffelWord_Lower is deprecated, use LowerChristoffelWord instead
    ** failed:  _class__sage_plot_misc_options__.sobj
    ** failed:  _class__sage_plot_misc_rename_keyword__.sobj
    Failed:
    _class__sage_plot_misc_options__.sobj
    _class__sage_plot_misc_rename_keyword__.sobj
    Successfully unpickled 584 objects.
    Failed to unpickle 2 objects.
**********************************************************************
1 items had failures:
   1 of   7 in __main__.example_23
***Test Failed*** 1 failures.
For whitespace errors, see the file /home/rob/.sage//tmp/.doctest_sage_object.py
         [5.2 s]
 
----------------------------------------------------------------------
The following tests failed:


        sage -t  "devel/sage/sage/structure/sage_object.pyx"
```

The deprecation-warnings are just garbage from words.py, so the important thing to note is the "** failed"-lines. The problem, as far as I can see, is simply that there is a standard pickle jar which has a pickle for all the functions etc. shipped with sage. This needs to be updated when applying this patch. Does anyone know how this is done and possibly included in the patch?

Cheers, Johan



---

archive/issue_comments_091319.json:
```json
{
    "body": "<a id='comment:9'></a>\nThe pickle jar contains old pickles of objects that we want to ensure work in the future. For example, if you made the changes at\u00a0[9907](https://github.com/sagemath/sage/issues/9907)\u00a0as the are, then possibly many pickles out in the wild would break. Instead of trying to update the pickle jar, the appropriate thing to do would be to add the following to\u00a0sage/plot/misc.py\n\n```\n#For backward compatibility -- see #9907.\nfrom sage.misc.decorators import options, suboptions, rename_keyword\n\n```\nThat way, the old pickles will still work as they will still be able to find the decorators in\u00a0sage.plot.misc.",
    "created_at": "2010-09-19T20:44:11Z",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9907#issuecomment-91319",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:9'></a>
The pickle jar contains old pickles of objects that we want to ensure work in the future. For example, if you made the changes at [9907](https://github.com/sagemath/sage/issues/9907) as the are, then possibly many pickles out in the wild would break. Instead of trying to update the pickle jar, the appropriate thing to do would be to add the following to sage/plot/misc.py

```
#For backward compatibility -- see #9907.
from sage.misc.decorators import options, suboptions, rename_keyword

```
That way, the old pickles will still work as they will still be able to find the decorators in sage.plot.misc.



---

archive/issue_comments_091320.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [@mwhansen](#comment%3A9):\n> The pickle jar contains old pickles of objects that we want to ensure work in the future. For example, if you made the changes at\u00a0[9907](https://github.com/sagemath/sage/issues/9907)\u00a0as the are, then possibly many pickles out in the wild would break. Instead of trying to update the pickle jar, the appropriate thing to do would be to add the following to\u00a0sage/plot/misc.py\n> \n> ```\n> #For backward compatibility -- see #9907.\n> from sage.misc.decorators import options, suboptions, rename_keyword\n> \n> ```\n> That way, the old pickles will still work as they will still be able to find the decorators in\u00a0sage.plot.misc.\n\nOk, thanks -- I will update the patch for #9907. I was actually wondering a bit about backward compatibility, so good to know this is the system. Does the above fix then have a one-year lifetime like for keyword-deprecation? If so, should it be flagged somehow (e.g. with the comment containing the term \"backward compatibility\") so it can be found and removed one year from now?",
    "created_at": "2010-09-20T06:40:34Z",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9907#issuecomment-91320",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:10'></a>
Replying to [@mwhansen](#comment%3A9):
> The pickle jar contains old pickles of objects that we want to ensure work in the future. For example, if you made the changes at [9907](https://github.com/sagemath/sage/issues/9907) as the are, then possibly many pickles out in the wild would break. Instead of trying to update the pickle jar, the appropriate thing to do would be to add the following to sage/plot/misc.py
> 
> ```
> #For backward compatibility -- see #9907.
> from sage.misc.decorators import options, suboptions, rename_keyword
> 
> ```
> That way, the old pickles will still work as they will still be able to find the decorators in sage.plot.misc.

Ok, thanks -- I will update the patch for #9907. I was actually wondering a bit about backward compatibility, so good to know this is the system. Does the above fix then have a one-year lifetime like for keyword-deprecation? If so, should it be flagged somehow (e.g. with the comment containing the term "backward compatibility") so it can be found and removed one year from now?



---

archive/issue_comments_091321.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n-In plot.misc there are some generally usable decorators for various nice stuff. These should be moved to a general library so other modules can use them without illogically depending on plot.\n+The decorators in sage.misc.misc should be moved to sage.decorators.\n+\n+In plot.misc there are also some generally usable decorators for various nice stuff. These should be moved to a general library so other modules can use them without illogically depending on plot. Simultaneously, they should be patched to use sage_wraps instead of the Python \"wraps\" to accommodate for Sage-specific things; e.g. the fix of Trac #9917.\n``````\n",
    "created_at": "2010-09-22T19:20:30Z",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9907#issuecomment-91321",
    "user": "https://github.com/johanrosenkilde"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,3 @@
-In plot.misc there are some generally usable decorators for various nice stuff. These should be moved to a general library so other modules can use them without illogically depending on plot.
+The decorators in sage.misc.misc should be moved to sage.decorators.
+
+In plot.misc there are also some generally usable decorators for various nice stuff. These should be moved to a general library so other modules can use them without illogically depending on plot. Simultaneously, they should be patched to use sage_wraps instead of the Python "wraps" to accommodate for Sage-specific things; e.g. the fix of Trac #9917.
``````




---

archive/issue_events_074264.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2010-09-22T19:20:30Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "rename": {
        "from": "Move generally usable decorators from plot.misc to misc.decorators",
        "to": "Move generally usable decorators to misc.decorators"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9907#event-74264"
}
```



---

archive/issue_comments_091322.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-The decorators in sage.misc.misc should be moved to sage.decorators.\n+The decorators in sage.misc.misc should be moved to sage.misc.decorators.\n \n In plot.misc there are also some generally usable decorators for various nice stuff. These should be moved to a general library so other modules can use them without illogically depending on plot. Simultaneously, they should be patched to use sage_wraps instead of the Python \"wraps\" to accommodate for Sage-specific things; e.g. the fix of Trac #9917.\n``````\n",
    "created_at": "2010-09-22T19:20:51Z",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9907#issuecomment-91322",
    "user": "https://github.com/johanrosenkilde"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-The decorators in sage.misc.misc should be moved to sage.decorators.
+The decorators in sage.misc.misc should be moved to sage.misc.decorators.
 
 In plot.misc there are also some generally usable decorators for various nice stuff. These should be moved to a general library so other modules can use them without illogically depending on plot. Simultaneously, they should be patched to use sage_wraps instead of the Python "wraps" to accommodate for Sage-specific things; e.g. the fix of Trac #9917.
``````




---

archive/issue_events_074265.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2010-09-23T12:02:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9907#event-74265"
}
```



---

archive/issue_events_074266.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2010-09-23T12:02:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9907#event-74266"
}
```



---

archive/issue_comments_091323.json:
```json
{
    "body": "**Changing assignee** from tdb to @johanrosenkilde.",
    "created_at": "2010-09-23T12:04:46Z",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9907#issuecomment-91323",
    "user": "https://github.com/johanrosenkilde"
}
```

**Changing assignee** from tdb to @johanrosenkilde.



---

archive/issue_comments_091324.json:
```json
{
    "body": "<a id='comment:14'></a>\nNote that the added patch assumes the patch for Trac #9919.",
    "created_at": "2010-09-23T12:04:46Z",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9907#issuecomment-91324",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:14'></a>
Note that the added patch assumes the patch for Trac #9919.



---

archive/issue_comments_091325.json:
```json
{
    "body": "<a id='comment:15'></a>\nAdded a comment about when then bug in #9919 was fixed in Python. Accidentally uploaded two.",
    "created_at": "2010-09-24T06:51:15Z",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9907#issuecomment-91325",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:15'></a>
Added a comment about when then bug in #9919 was fixed in Python. Accidentally uploaded two.



---

archive/issue_comments_091326.json:
```json
{
    "body": "<a id='comment:16'></a>\nOk, uploaded a new one, as it seems you can't manually change the patch-files because of some hashes in the top of the file. So this one was done the right way. Remember to use the newest and \n*NOT* the one called \".2.patch\".",
    "created_at": "2010-09-24T07:05:34Z",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9907#issuecomment-91326",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:16'></a>
Ok, uploaded a new one, as it seems you can't manually change the patch-files because of some hashes in the top of the file. So this one was done the right way. Remember to use the newest and 
*NOT* the one called ".2.patch".



---

archive/issue_comments_091327.json:
```json
{
    "body": "<a id='comment:17'></a>\nCan I delete the .2.patch file, then?",
    "created_at": "2010-10-02T04:33:05Z",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9907#issuecomment-91327",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:17'></a>
Can I delete the .2.patch file, then?



---

archive/issue_comments_091328.json:
```json
{
    "body": "<a id='comment:18'></a>\nI've opened up #10057 to address an import change that needs to be made in sagenb after this is merged.",
    "created_at": "2010-10-02T19:44:39Z",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9907#issuecomment-91328",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:18'></a>
I've opened up #10057 to address an import change that needs to be made in sagenb after this is merged.



---

archive/issue_comments_091329.json:
```json
{
    "body": "apply only this patch; rebased to 4.6.alpha1+some patches",
    "created_at": "2010-10-02T19:50:39Z",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9907#issuecomment-91329",
    "user": "https://github.com/jasongrout"
}
```

apply only this patch; rebased to 4.6.alpha1+some patches



---

archive/attachments_013332.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_9907_move_decorators.patch",
    "asset_url": "tarball://root/attachments/ticket9907/trac_9907_move_decorators.patch",
    "created_at": "2010-10-05T09:39:11Z",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket9907/trac_9907_move_decorators.patch",
    "user": "https://github.com/johanrosenkilde"
}
```



---

archive/issue_comments_091330.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Attachment:** [trac_9907_move_decorators.patch](https://github.com/sagemath/sage/files/ticket9907/trac_9907_move_decorators.patch)\n\nReplying to [@jasongrout](#comment%3A17):\n> Can I delete the .2.patch file, then?\n\nSure; I just don't have the privileges to do that myself.",
    "created_at": "2010-10-05T09:39:11Z",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9907#issuecomment-91330",
    "user": "https://github.com/johanrosenkilde"
}
```

<a id='comment:19'></a>
**Attachment:** [trac_9907_move_decorators.patch](https://github.com/sagemath/sage/files/ticket9907/trac_9907_move_decorators.patch)

Replying to [@jasongrout](#comment%3A17):
> Can I delete the .2.patch file, then?

Sure; I just don't have the privileges to do that myself.



---

archive/issue_comments_091331.json:
```json
{
    "body": "<a id='comment:20'></a>\nThis needs to be coordinated with #10107.",
    "created_at": "2010-10-09T20:07:41Z",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9907#issuecomment-91331",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:20'></a>
This needs to be coordinated with #10107.



---

archive/attachments_013333.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_9907_move_decorators.2.patch",
    "asset_url": "tarball://root/attachments/ticket9907/trac_9907_move_decorators.2.patch",
    "created_at": "2010-11-02T13:58:34Z",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket9907/trac_9907_move_decorators.2.patch",
    "user": "https://github.com/johanrosenkilde"
}
```



---

archive/issue_comments_091332.json:
```json
{
    "body": "**Attachment:** [trac_9907_move_decorators.2.patch](https://github.com/sagemath/sage/files/ticket9907/trac_9907_move_decorators.2.patch)\n\nRebased to 4.6. Still requires first applying patch for Trac #9919",
    "created_at": "2010-11-02T13:58:34Z",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9907#issuecomment-91332",
    "user": "https://github.com/johanrosenkilde"
}
```

**Attachment:** [trac_9907_move_decorators.2.patch](https://github.com/sagemath/sage/files/ticket9907/trac_9907_move_decorators.2.patch)

Rebased to 4.6. Still requires first applying patch for Trac #9919



---

archive/issue_comments_091333.json:
```json
{
    "body": "**Reviewer:** Robert Miller",
    "created_at": "2010-11-09T20:21:51Z",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9907#issuecomment-91333",
    "user": "https://github.com/rlmill"
}
```

**Reviewer:** Robert Miller



---

archive/issue_events_074267.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2010-11-09T20:21:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9907#event-74267"
}
```



---

archive/issue_events_074268.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2010-11-09T20:21:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9907#event-74268"
}
```



---

archive/issue_comments_091334.json:
```json
{
    "body": "<a id='comment:21'></a>\nIf I apply #6094, #9907, #9919, and #10107 together on top of sage-4.6, all long tests pass. The code looks good.",
    "created_at": "2010-11-09T20:21:51Z",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9907#issuecomment-91334",
    "user": "https://github.com/rlmill"
}
```

<a id='comment:21'></a>
If I apply #6094, #9907, #9919, and #10107 together on top of sage-4.6, all long tests pass. The code looks good.



---

archive/issue_comments_091335.json:
```json
{
    "body": "<a id='comment:22'></a>\nShould this be merged in Sage 4.6.1? (if yes, please set the Milestone)",
    "created_at": "2010-11-11T16:46:09Z",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9907#issuecomment-91335",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:22'></a>
Should this be merged in Sage 4.6.1? (if yes, please set the Milestone)



---

archive/issue_events_074269.json:
```json
{
    "actor": "https://github.com/johanrosenkilde",
    "created_at": "2010-11-12T13:45:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "milestone": "sage-4.6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9907#event-74269"
}
```



---

archive/issue_comments_091336.json:
```json
{
    "body": "**Changing author** from \"jsrn\" to \"Johan Sebastian Rosenkilde Nielsen\".",
    "created_at": "2010-11-15T12:53:20Z",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9907#issuecomment-91336",
    "user": "https://github.com/jdemeyer"
}
```

**Changing author** from "jsrn" to "Johan Sebastian Rosenkilde Nielsen".



---

archive/issue_comments_091337.json:
```json
{
    "body": "**Merged:** sage-4.6.1.alpha2",
    "created_at": "2010-11-16T08:20:15Z",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9907#issuecomment-91337",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-4.6.1.alpha2



---

archive/issue_events_074270.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-11-16T08:20:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9907#event-74270"
}
```



---

archive/issue_events_074271.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2010-11-16T08:20:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/9907",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9907#event-74271"
}
```
