# Issue 9211: graph vertices cut off

archive/issues_009211.json:
```json
{
    "assignees": [],
    "body": "Though #7299 helped, graph vertices are still cut off.\n\nWe can turn off clipping of the matplotlib scatterplot and add some bbox_extra_artists to the savefig which takes those artists into account when calculating the bounding box (when bbox_inches='tight').\n\n---\nFirst apply [and then apply [attachment: trac_9211_digraph_clipping.patch.gz](https://github.com/sagemath/sage/files/ticket9211/trac_9211_digraph_clipping.patch.gz) to `$SAGE_ROOT/devel/sage`. Finally apply [attachment: trac_9211-fix_doctests.patch.gz](https://github.com/sagemath/sage/files/ticket9211/trac_9211-fix_doctests.patch.gz)(https://github.com/sagemath/sage/files/ticket9211/a12c455d33c6eb929c1ca7bc7214f128.gz) to `$SAGE_ROOT/devel/sage`.\n\nAssignee: **@jasongrout, mvngu, @nathanncohen, @rlmill**\n\nCC:  @rbeezer @kcrisman @kini\n\nAuthor: **Jason Grout**\n\nReviewer: **Punarbasu Purkayastha**\n\nMerged: **sage-4.8.alpha1**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/9211_\n\n",
    "closed_at": "2011-11-07T10:10:28Z",
    "created_at": "2010-06-11T06:48:32Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "graph vertices cut off",
    "type": "issue",
    "updated_at": "2011-11-07T10:10:28Z",
    "url": "https://github.com/sagemath/sage/issues/9211",
    "user": "https://github.com/jasongrout"
}
```
Though #7299 helped, graph vertices are still cut off.

We can turn off clipping of the matplotlib scatterplot and add some bbox_extra_artists to the savefig which takes those artists into account when calculating the bounding box (when bbox_inches='tight').

---
First apply [and then apply [attachment: trac_9211_digraph_clipping.patch.gz](https://github.com/sagemath/sage/files/ticket9211/trac_9211_digraph_clipping.patch.gz) to `$SAGE_ROOT/devel/sage`. Finally apply [attachment: trac_9211-fix_doctests.patch.gz](https://github.com/sagemath/sage/files/ticket9211/trac_9211-fix_doctests.patch.gz)(https://github.com/sagemath/sage/files/ticket9211/a12c455d33c6eb929c1ca7bc7214f128.gz) to `$SAGE_ROOT/devel/sage`.

Assignee: **@jasongrout, mvngu, @nathanncohen, @rlmill**

CC:  @rbeezer @kcrisman @kini

Author: **Jason Grout**

Reviewer: **Punarbasu Purkayastha**

Merged: **sage-4.8.alpha1**

_Issue created by migration from https://trac.sagemath.org/ticket/9211_





---

archive/issue_events_107310.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-06-11T06:48:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "milestone_number": null,
    "milestone_title": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9211#event-107310"
}
```



---

archive/issue_events_107311.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-06-11T06:48:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "component: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9211#event-107311"
}
```



---

archive/issue_events_107312.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-06-11T06:48:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9211#event-107312"
}
```



---

archive/issue_events_107313.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-06-11T06:48:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9211#event-107313"
}
```



---

archive/issue_comments_078947.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nHere is a good example showing the problem (still):\n\n```\na=matrix([[1,2],[3,4]])\n\nvar('x y z w')\nb=matrix([[x,y],[z,w]])\n\na.set_immutable()\nb.set_immutable()\n\nK=DiGraph({a:[b]})\nshow(K, vertex_size=800)\n\n```",
    "created_at": "2010-06-11T06:49:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78947",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:1'>Comment 1:</a>
Here is a good example showing the problem (still):

```
a=matrix([[1,2],[3,4]])

var('x y z w')
b=matrix([[x,y],[z,w]])

a.set_immutable()
b.set_immutable()

K=DiGraph({a:[b]})
show(K, vertex_size=800)

```



---

archive/issue_comments_078948.json:
```json
{
    "body": "Attachment: **[trac-9211-graph-vertices-cut.patch.gz](https://github.com/sagemath/sage/files/ticket9211/trac-9211-graph-vertices-cut.patch.gz)**",
    "created_at": "2010-06-12T21:22:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78948",
    "user": "https://github.com/jasongrout"
}
```

Attachment: **[trac-9211-graph-vertices-cut.patch.gz](https://github.com/sagemath/sage/files/ticket9211/trac-9211-graph-vertices-cut.patch.gz)**



---

archive/issue_comments_078949.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nThis patch depends on the matplotlib spkg at #9221.  I don't know if the patch is very elegant.  I'll trust the reviewer's comments on that.  The problem is that it lets the scatter plot vertices extend beyond the frame (relying on the user adjusting the axes_pad option to extend the frame).",
    "created_at": "2010-06-12T21:24:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78949",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:2'>Comment 2:</a>
This patch depends on the matplotlib spkg at #9221.  I don't know if the patch is very elegant.  I'll trust the reviewer's comments on that.  The problem is that it lets the scatter plot vertices extend beyond the frame (relying on the user adjusting the axes_pad option to extend the frame).



---

archive/issue_events_107314.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-06-12T21:24:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9211#event-107314"
}
```



---

archive/issue_comments_078950.json:
```json
{
    "body": "Author: **Jason Grout**",
    "created_at": "2010-06-12T21:25:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78950",
    "user": "https://github.com/jasongrout"
}
```

Author: **Jason Grout**



---

archive/issue_comments_078951.json:
```json
{
    "body": "Work Issues: **depends on #9221**",
    "created_at": "2010-06-12T21:25:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78951",
    "user": "https://github.com/jasongrout"
}
```

Work Issues: **depends on #9221**



---

archive/issue_events_107315.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-06-12T22:34:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9211#event-107315"
}
```



---

archive/issue_events_107316.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-06-12T22:34:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9211#event-107316"
}
```



---

archive/issue_comments_078952.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nThe patch doesn't work for multiple-edge graphs (they are drawn completely differently than graphs without multiple edges).  In fact, we probably ought to draw all graphs using CircleCollection objects rather than scatter_plot or Circles.",
    "created_at": "2010-06-12T22:34:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78952",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:4'>Comment 4:</a>
The patch doesn't work for multiple-edge graphs (they are drawn completely differently than graphs without multiple edges).  In fact, we probably ought to draw all graphs using CircleCollection objects rather than scatter_plot or Circles.



---

archive/issue_comments_078953.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nHere's how to draw circles like the ones in scatter plot (where the size doesn't change as you make the figure smaller or bigger: use a CircleCollection argument and use different transforms to specify location and size coordinates.  See http://sourceforge.net/mailarchive/forum.php?thread_name=AANLkTim6ZnGiOV1RTRBz0uBMF5y67xyrDp%2BkVSCBtkrB%40mail.gmail.com&forum_name=matplotlib-users",
    "created_at": "2010-08-28T14:06:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78953",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:5'>Comment 5:</a>
Here's how to draw circles like the ones in scatter plot (where the size doesn't change as you make the figure smaller or bigger: use a CircleCollection argument and use different transforms to specify location and size coordinates.  See http://sourceforge.net/mailarchive/forum.php?thread_name=AANLkTim6ZnGiOV1RTRBz0uBMF5y67xyrDp%2BkVSCBtkrB%40mail.gmail.com&forum_name=matplotlib-users



---

archive/issue_comments_078954.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nSee also http://groups.google.com/group/networkx-discuss/browse_thread/thread/b95fda9813fae67d for code/ideas for rewriting the graph drawing.",
    "created_at": "2010-08-28T20:02:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78954",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:6'>Comment 6:</a>
See also http://groups.google.com/group/networkx-discuss/browse_thread/thread/b95fda9813fae67d for code/ideas for rewriting the graph drawing.



---

archive/issue_comments_078955.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nI think this patch might take just a little to clean up.  Most of the patch is just adding comments to explain the code or reformatting long lines.  The big key is the clip=False arguments and the code to add things to the bbox_extra_artists.\n\nI think the patch might just need some doctests and testing.  The other comments I put in above can be moved to another ticket that does a bigger revamp of graph drawing.",
    "created_at": "2011-03-23T02:41:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78955",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:7'>Comment 7:</a>
I think this patch might take just a little to clean up.  Most of the patch is just adding comments to explain the code or reformatting long lines.  The big key is the clip=False arguments and the code to add things to the bbox_extra_artists.

I think the patch might just need some doctests and testing.  The other comments I put in above can be moved to another ticket that does a bigger revamp of graph drawing.



---

archive/issue_comments_078956.json:
```json
{
    "body": "Changed work issues from **depends on #9221** to none",
    "created_at": "2011-03-23T12:19:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78956",
    "user": "https://github.com/kcrisman"
}
```

Changed work issues from **depends on #9221** to none



---

archive/issue_comments_078957.json:
```json
{
    "body": "( Fix cut off vertices in graphs ) Apply to devel/sage/",
    "created_at": "2011-10-11T09:28:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78957",
    "user": "https://github.com/ppurka"
}
```

( Fix cut off vertices in graphs ) Apply to devel/sage/



---

archive/issue_comments_078958.json:
```json
{
    "body": "Attachment: **[trac-9211-fix_cut_vertices_in_graphs.patch.gz](https://github.com/sagemath/sage/files/ticket9211/trac-9211-fix_cut_vertices_in_graphs.patch.gz)**\n\nAttachment: **[trac-9211-add_padding_to_graphs.patch.gz](https://github.com/sagemath/sage/files/ticket9211/trac-9211-add_padding_to_graphs.patch.gz)**\n\n( Add additional padding to graphs ) Apply to devel/sage",
    "created_at": "2011-10-11T09:45:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78958",
    "user": "https://github.com/ppurka"
}
```

Attachment: **[trac-9211-fix_cut_vertices_in_graphs.patch.gz](https://github.com/sagemath/sage/files/ticket9211/trac-9211-fix_cut_vertices_in_graphs.patch.gz)**

Attachment: **[trac-9211-add_padding_to_graphs.patch.gz](https://github.com/sagemath/sage/files/ticket9211/trac-9211-add_padding_to_graphs.patch.gz)**

( Add additional padding to graphs ) Apply to devel/sage



---

archive/issue_comments_078959.json:
```json
{
    "body": "Output with only the earlier patch (modified for 4.7.2)",
    "created_at": "2011-10-11T09:46:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78959",
    "user": "https://github.com/ppurka"
}
```

Output with only the earlier patch (modified for 4.7.2)



---

archive/issue_comments_078960.json:
```json
{
    "body": "Attachment: **[with-earlier-patch-modified-for-4.7.2.png.gz](https://github.com/sagemath/sage/files/ticket9211/with-earlier-patch-modified-for-4.7.2.png.gz)**\n\nOutput with patch for additional padding",
    "created_at": "2011-10-11T09:46:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78960",
    "user": "https://github.com/ppurka"
}
```

Attachment: **[with-earlier-patch-modified-for-4.7.2.png.gz](https://github.com/sagemath/sage/files/ticket9211/with-earlier-patch-modified-for-4.7.2.png.gz)**

Output with patch for additional padding



---

archive/issue_events_107317.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2011-10-11T09:57:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9211#event-107317"
}
```



---

archive/issue_events_107318.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2011-10-11T09:57:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9211#event-107318"
}
```



---

archive/issue_comments_078961.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nAttachment: **[with-additional-padding.png.gz](https://github.com/sagemath/sage/files/ticket9211/with-additional-padding.png.gz)**\n\nAdded two patches. The [first one](https://github.com/sagemath/sage/files/ticket9211/trac-9211-fix_cut_vertices_in_graphs.patch.gz) is essentially the patch by jason redone to work with 4.7.2_alpha3.\n\nThe [second patch](https://github.com/sagemath/sage/files/ticket9211/trac-9211-add_padding_to_graphs.patch.gz) adds extra padding to all graphs. The two pngs attached are the output of\n\n```\nM = matrix(RDF, [[1/3, 1/3, 1/3], [0, 1/4, 3/4], [1/2, 1/4, 1/4]])\nG=DiGraph(M, format='weighted_adjacency_matrix')\nG.show(vertex_size=800, edge_labels=True)\n```\n\nThe file [attachment: with-additional-padding.png.gz](https://github.com/sagemath/sage/files/ticket9211/with-additional-padding.png.gz) is the result of both the patches being applied.\n\nGraphs currently look really bad without either of the two patches. The second patch is not a panacea for all cut off graph plots since it doesn't fix all cases. But my hope is that it fixes most commonly used cases.",
    "created_at": "2011-10-11T09:57:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78961",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:11'>Comment 11:</a>
Attachment: **[with-additional-padding.png.gz](https://github.com/sagemath/sage/files/ticket9211/with-additional-padding.png.gz)**

Added two patches. The [first one](https://github.com/sagemath/sage/files/ticket9211/trac-9211-fix_cut_vertices_in_graphs.patch.gz) is essentially the patch by jason redone to work with 4.7.2_alpha3.

The [second patch](https://github.com/sagemath/sage/files/ticket9211/trac-9211-add_padding_to_graphs.patch.gz) adds extra padding to all graphs. The two pngs attached are the output of

```
M = matrix(RDF, [[1/3, 1/3, 1/3], [0, 1/4, 3/4], [1/2, 1/4, 1/4]])
G=DiGraph(M, format='weighted_adjacency_matrix')
G.show(vertex_size=800, edge_labels=True)
```

The file [attachment: with-additional-padding.png.gz](https://github.com/sagemath/sage/files/ticket9211/with-additional-padding.png.gz) is the result of both the patches being applied.

Graphs currently look really bad without either of the two patches. The second patch is not a panacea for all cut off graph plots since it doesn't fix all cases. But my hope is that it fixes most commonly used cases.



---

archive/issue_comments_078962.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nI'm curious why you need the extra padding patch.  Are vertices still cut off using just the first patch?",
    "created_at": "2011-10-11T13:14:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78962",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:12'>Comment 12:</a>
I'm curious why you need the extra padding patch.  Are vertices still cut off using just the first patch?



---

archive/issue_comments_078963.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nReplying to [@jasongrout](#comment%3A12):\n\n> I'm curious why you need the extra padding patch.  Are vertices still cut off using just the first patch?\n\nYes. Check [the plot after the first patch] against the [attachment:with-additional-padding.png the plot after first+second patch](https://github.com/sagemath/sage/files/ticket9211/with-earlier-patch-modified-for-4.7.2.png.gz)",
    "created_at": "2011-10-11T13:38:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78963",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:13'>Comment 13:</a>
Replying to [@jasongrout](#comment%3A12):

> I'm curious why you need the extra padding patch.  Are vertices still cut off using just the first patch?

Yes. Check [the plot after the first patch] against the [attachment:with-additional-padding.png the plot after first+second patch](https://github.com/sagemath/sage/files/ticket9211/with-earlier-patch-modified-for-4.7.2.png.gz)



---

archive/issue_comments_078964.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nAh, right, because the first patch only fixes undirected graphs.  You are plotting a directed graph, so the changes in the patch don't apply.  I'm uploading a new patch that doesn't clip digraph circles or text.",
    "created_at": "2011-10-11T14:15:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78964",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:14'>Comment 14:</a>
Ah, right, because the first patch only fixes undirected graphs.  You are plotting a directed graph, so the changes in the patch don't apply.  I'm uploading a new patch that doesn't clip digraph circles or text.



---

archive/issue_comments_078965.json:
```json
{
    "body": "Attachment: **[trac_9211_digraph_clipping.patch.gz](https://github.com/sagemath/sage/files/ticket9211/trac_9211_digraph_clipping.patch.gz)**\n\napply after trac-9211-fix_cut_vertices_in_graphs.patch",
    "created_at": "2011-10-11T14:16:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78965",
    "user": "https://github.com/jasongrout"
}
```

Attachment: **[trac_9211_digraph_clipping.patch.gz](https://github.com/sagemath/sage/files/ticket9211/trac_9211_digraph_clipping.patch.gz)**

apply after trac-9211-fix_cut_vertices_in_graphs.patch



---

archive/issue_comments_078966.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nCan you try applying just trac-9211-fix_cut_vertices_in_graphs.patch and  trac_9211_digraph_clipping.patch ?",
    "created_at": "2011-10-11T14:17:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78966",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:15'>Comment 15:</a>
Can you try applying just trac-9211-fix_cut_vertices_in_graphs.patch and  trac_9211_digraph_clipping.patch ?



---

archive/issue_comments_078967.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nReplying to [@jasongrout](#comment%3A15):\n\n> Can you try applying just trac-9211-fix_cut_vertices_in_graphs.patch and  trac_9211_digraph_clipping.patch ?\n\nExcellent! Thanks. This does fix the problem for digraphs. Much better than adding random paddings.",
    "created_at": "2011-10-11T14:45:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78967",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:16'>Comment 16:</a>
Replying to [@jasongrout](#comment%3A15):

> Can you try applying just trac-9211-fix_cut_vertices_in_graphs.patch and  trac_9211_digraph_clipping.patch ?

Excellent! Thanks. This does fix the problem for digraphs. Much better than adding random paddings.



---

archive/issue_comments_078968.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,3 +3,6 @@\n With the updated matplotlib spkg at #9210, we can turn off clipping of the matplotlib scatterplot, or with a more recent (SVN right now) version of matplotlib, we could probably add some bbox_extra_artists to the savefig which takes those artists into account when calculating the bounding box (when bbox_inches='tight').\n \n Either way, a real fix should be possible soon.\n+\n+---\n+First apply [and then apply [attachment: trac_9211_digraph_clipping.patch.gz](https://github.com/sagemath/sage/files/ticket9211/trac_9211_digraph_clipping.patch.gz)(https://github.com/sagemath/sage/files/ticket9211/a12c455d33c6eb929c1ca7bc7214f128.gz) to !`SAGE_ROOT/devel/sage`.\n``````\n",
    "created_at": "2011-10-11T15:05:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78968",
    "user": "https://github.com/ppurka"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,3 +3,6 @@
 With the updated matplotlib spkg at #9210, we can turn off clipping of the matplotlib scatterplot, or with a more recent (SVN right now) version of matplotlib, we could probably add some bbox_extra_artists to the savefig which takes those artists into account when calculating the bounding box (when bbox_inches='tight').
 
 Either way, a real fix should be possible soon.
+
+---
+First apply [and then apply [attachment: trac_9211_digraph_clipping.patch.gz](https://github.com/sagemath/sage/files/ticket9211/trac_9211_digraph_clipping.patch.gz)(https://github.com/sagemath/sage/files/ticket9211/a12c455d33c6eb929c1ca7bc7214f128.gz) to !`SAGE_ROOT/devel/sage`.
``````




---

archive/issue_comments_078969.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,6 @@\n Though #7299 helped, graph vertices are still cut off.\n \n-With the updated matplotlib spkg at #9210, we can turn off clipping of the matplotlib scatterplot, or with a more recent (SVN right now) version of matplotlib, we could probably add some bbox_extra_artists to the savefig which takes those artists into account when calculating the bounding box (when bbox_inches='tight').\n-\n-Either way, a real fix should be possible soon.\n+We can turn off clipping of the matplotlib scatterplot and add some bbox_extra_artists to the savefig which takes those artists into account when calculating the bounding box (when bbox_inches='tight').\n \n ---\n First apply [and then apply [attachment: trac_9211_digraph_clipping.patch.gz](https://github.com/sagemath/sage/files/ticket9211/trac_9211_digraph_clipping.patch.gz)(https://github.com/sagemath/sage/files/ticket9211/a12c455d33c6eb929c1ca7bc7214f128.gz) to !`SAGE_ROOT/devel/sage`.\n``````\n",
    "created_at": "2011-10-11T15:30:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78969",
    "user": "https://github.com/jasongrout"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,6 @@
 Though #7299 helped, graph vertices are still cut off.
 
-With the updated matplotlib spkg at #9210, we can turn off clipping of the matplotlib scatterplot, or with a more recent (SVN right now) version of matplotlib, we could probably add some bbox_extra_artists to the savefig which takes those artists into account when calculating the bounding box (when bbox_inches='tight').
-
-Either way, a real fix should be possible soon.
+We can turn off clipping of the matplotlib scatterplot and add some bbox_extra_artists to the savefig which takes those artists into account when calculating the bounding box (when bbox_inches='tight').
 
 ---
 First apply [and then apply [attachment: trac_9211_digraph_clipping.patch.gz](https://github.com/sagemath/sage/files/ticket9211/trac_9211_digraph_clipping.patch.gz)(https://github.com/sagemath/sage/files/ticket9211/a12c455d33c6eb929c1ca7bc7214f128.gz) to !`SAGE_ROOT/devel/sage`.
``````




---

archive/issue_comments_078970.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nOkay, did you run long tests on Sage?  The new version of my first patch seems okay to me, so if you positively review the patches, I think we are good to go, assuming that you've run long tests and there are no doctest errors.",
    "created_at": "2011-10-11T15:32:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78970",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:19'>Comment 19:</a>
Okay, did you run long tests on Sage?  The new version of my first patch seems okay to me, so if you positively review the patches, I think we are good to go, assuming that you've run long tests and there are no doctest errors.



---

archive/issue_comments_078971.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nReplying to [@jasongrout](#comment%3A19):\n\n> Okay, did you run long tests on Sage?  The new version of my first patch seems okay to me, so if you positively review the patches, I think we are good to go, assuming that you've run long tests and there are no doctest errors.\n\nI started the long test (make ptestlong) over an hour ago. I guess there's 3 more hours to go :)",
    "created_at": "2011-10-11T16:02:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78971",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:20'>Comment 20:</a>
Replying to [@jasongrout](#comment%3A19):

> Okay, did you run long tests on Sage?  The new version of my first patch seems okay to me, so if you positively review the patches, I think we are good to go, assuming that you've run long tests and there are no doctest errors.

I started the long test (make ptestlong) over an hour ago. I guess there's 3 more hours to go :)



---

archive/issue_comments_078972.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nA couple of doctests failed. Only in the directory plot/ (and in the files changed by this patch + base.pyx). Will investigate more once I am physically near that machine where the doctest was run.",
    "created_at": "2011-10-12T03:37:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78972",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:21'>Comment 21:</a>
A couple of doctests failed. Only in the directory plot/ (and in the files changed by this patch + base.pyx). Will investigate more once I am physically near that machine where the doctest was run.



---

archive/issue_comments_078973.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\n> A couple of doctests failed. Only in the directory plot/ (and in the files changed by this patch + base.pyx). Will investigate more once I am physically near that machine where the doctest was run.\n\nJust FYI, base.pyx often fails on Mac if you don't have libjpeg or libtiff in the right place - see #7344 and #7345.  If the errors look like \n\n```\n    ImportError: The _imaging C module is not installed\n```\nyou can ignore them, they would be unrelated.",
    "created_at": "2011-10-12T03:53:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78973",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:22'>Comment 22:</a>
> A couple of doctests failed. Only in the directory plot/ (and in the files changed by this patch + base.pyx). Will investigate more once I am physically near that machine where the doctest was run.

Just FYI, base.pyx often fails on Mac if you don't have libjpeg or libtiff in the right place - see #7344 and #7345.  If the errors look like 

```
    ImportError: The _imaging C module is not installed
```
you can ignore them, they would be unrelated.



---

archive/issue_comments_078974.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,4 +3,4 @@\n We can turn off clipping of the matplotlib scatterplot and add some bbox_extra_artists to the savefig which takes those artists into account when calculating the bounding box (when bbox_inches='tight').\n \n ---\n-First apply [and then apply [attachment: trac_9211_digraph_clipping.patch.gz](https://github.com/sagemath/sage/files/ticket9211/trac_9211_digraph_clipping.patch.gz)(https://github.com/sagemath/sage/files/ticket9211/a12c455d33c6eb929c1ca7bc7214f128.gz) to !`SAGE_ROOT/devel/sage`.\n+First apply [and then apply [attachment: trac_9211_digraph_clipping.patch.gz](https://github.com/sagemath/sage/files/ticket9211/trac_9211_digraph_clipping.patch.gz) to `$SAGE_ROOT/devel/sage`. Finally apply [attachment: trac_9211-fix_doctests.patch.gz](https://github.com/sagemath/sage/files/ticket9211/trac_9211-fix_doctests.patch.gz)(https://github.com/sagemath/sage/files/ticket9211/a12c455d33c6eb929c1ca7bc7214f128.gz) to `$SAGE_ROOT/devel/sage`.\n``````\n",
    "created_at": "2011-10-12T08:52:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78974",
    "user": "https://github.com/ppurka"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,4 +3,4 @@
 We can turn off clipping of the matplotlib scatterplot and add some bbox_extra_artists to the savefig which takes those artists into account when calculating the bounding box (when bbox_inches='tight').
 
 ---
-First apply [and then apply [attachment: trac_9211_digraph_clipping.patch.gz](https://github.com/sagemath/sage/files/ticket9211/trac_9211_digraph_clipping.patch.gz)(https://github.com/sagemath/sage/files/ticket9211/a12c455d33c6eb929c1ca7bc7214f128.gz) to !`SAGE_ROOT/devel/sage`.
+First apply [and then apply [attachment: trac_9211_digraph_clipping.patch.gz](https://github.com/sagemath/sage/files/ticket9211/trac_9211_digraph_clipping.patch.gz) to `$SAGE_ROOT/devel/sage`. Finally apply [attachment: trac_9211-fix_doctests.patch.gz](https://github.com/sagemath/sage/files/ticket9211/trac_9211-fix_doctests.patch.gz)(https://github.com/sagemath/sage/files/ticket9211/a12c455d33c6eb929c1ca7bc7214f128.gz) to `$SAGE_ROOT/devel/sage`.
``````




---

archive/issue_comments_078975.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nI am running it on x86_64 Linux. The errors were because of the additional 'clip' option introduced in the patches. Attaching a fix for the doctests.",
    "created_at": "2011-10-12T08:52:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78975",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:23'>Comment 23:</a>
I am running it on x86_64 Linux. The errors were because of the additional 'clip' option introduced in the patches. Attaching a fix for the doctests.



---

archive/issue_comments_078976.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nI wonder why you are concatenating lines in the doctest output - our docstrings are theoretically supposed to be 72 (or 79) characters wide, if I'm not mistaken, which is why they the current test results are broken into multiple lines. The doctester doesn't care about purely whitespace differences between the expected and received output.",
    "created_at": "2011-10-12T08:56:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78976",
    "user": "https://github.com/kini"
}
```

<a id='comment:24'>Comment 24:</a>
I wonder why you are concatenating lines in the doctest output - our docstrings are theoretically supposed to be 72 (or 79) characters wide, if I'm not mistaken, which is why they the current test results are broken into multiple lines. The doctester doesn't care about purely whitespace differences between the expected and received output.



---

archive/issue_comments_078977.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nReplying to [@kini](#comment%3A24):\n> I wonder why you are concatenating lines in the doctest output - our docstrings are theoretically supposed to be 72 (or 79) characters wide, if I'm not mistaken, which is why they the current test results are broken into multiple lines. The doctester doesn't care about purely whitespace differences between the expected and received output.\n\nSimply copied the output from \"Expected output\". Will attached a space-ified fix. :)",
    "created_at": "2011-10-12T08:58:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78977",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:25'>Comment 25:</a>
Replying to [@kini](#comment%3A24):
> I wonder why you are concatenating lines in the doctest output - our docstrings are theoretically supposed to be 72 (or 79) characters wide, if I'm not mistaken, which is why they the current test results are broken into multiple lines. The doctester doesn't care about purely whitespace differences between the expected and received output.

Simply copied the output from "Expected output". Will attached a space-ified fix. :)



---

archive/issue_comments_078978.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nI wonder if you are aware of `sage -fixdoctests`, which does basically exactly what you are doing... :) BTW I have the same comment for [attachment: trac-9211-add_padding_to_graphs.patch.gz](https://github.com/sagemath/sage/files/ticket9211/trac-9211-add_padding_to_graphs.patch.gz).",
    "created_at": "2011-10-12T09:06:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78978",
    "user": "https://github.com/kini"
}
```

<a id='comment:26'>Comment 26:</a>
I wonder if you are aware of `sage -fixdoctests`, which does basically exactly what you are doing... :) BTW I have the same comment for [attachment: trac-9211-add_padding_to_graphs.patch.gz](https://github.com/sagemath/sage/files/ticket9211/trac-9211-add_padding_to_graphs.patch.gz).



---

archive/issue_comments_078979.json:
```json
{
    "body": "Attachment: **[trac_9211-fix_doctests.patch.gz](https://github.com/sagemath/sage/files/ticket9211/trac_9211-fix_doctests.patch.gz)**\n\nFix doctests for 3d plots (re-uploaded)",
    "created_at": "2011-10-12T09:09:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78979",
    "user": "https://github.com/ppurka"
}
```

Attachment: **[trac_9211-fix_doctests.patch.gz](https://github.com/sagemath/sage/files/ticket9211/trac_9211-fix_doctests.patch.gz)**

Fix doctests for 3d plots (re-uploaded)



---

archive/issue_comments_078980.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nUploaded new patch.\n\nDidn't know about `-fixdoctests` (it wasn't too painful to fix because of vim)\n\nForget about the adding padding patch. Jason did the real fix. :)",
    "created_at": "2011-10-12T09:11:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78980",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:27'>Comment 27:</a>
Uploaded new patch.

Didn't know about `-fixdoctests` (it wasn't too painful to fix because of vim)

Forget about the adding padding patch. Jason did the real fix. :)



---

archive/issue_comments_078981.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nPrevious failures were:\n\n```\n----------------------------------------------------------------------\n\nThe following tests failed:\n\n\tsage -t  -long -force_lib devel/sage/sage/plot/scatter_plot.py # 1 doctests failed\n\tsage -t  -long -force_lib devel/sage/sage/plot/text.py # 5 doctests failed\n\tsage -t  -long -force_lib devel/sage/sage/plot/circle.py # 8 doctests failed\n\tsage -t  -long -force_lib devel/sage/sage/plot/plot3d/base.pyx # 5 doctests failed\n----------------------------------------------------------------------\nTotal time for all tests: 8844.0 seconds\n```\n\nNew doctest on `devel/sage/sage/plot/` passes all doctests:\n\n```\n~/Installations/sage-4.7.2> ./sage -t -long devel/sage/sage/plot\n...\n----------------------------------------------------------------------\nAll tests passed!\nTotal time for all tests: 520.6 seconds\n```\nSo positive review from my side.",
    "created_at": "2011-10-12T09:14:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78981",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:28'>Comment 28:</a>
Previous failures were:

```
----------------------------------------------------------------------

The following tests failed:

	sage -t  -long -force_lib devel/sage/sage/plot/scatter_plot.py # 1 doctests failed
	sage -t  -long -force_lib devel/sage/sage/plot/text.py # 5 doctests failed
	sage -t  -long -force_lib devel/sage/sage/plot/circle.py # 8 doctests failed
	sage -t  -long -force_lib devel/sage/sage/plot/plot3d/base.pyx # 5 doctests failed
----------------------------------------------------------------------
Total time for all tests: 8844.0 seconds
```

New doctest on `devel/sage/sage/plot/` passes all doctests:

```
~/Installations/sage-4.7.2> ./sage -t -long devel/sage/sage/plot
...
----------------------------------------------------------------------
All tests passed!
Total time for all tests: 520.6 seconds
```
So positive review from my side.



---

archive/issue_comments_078982.json:
```json
{
    "body": "Reviewer: **Punarbasu Purkayastha**",
    "created_at": "2011-10-12T09:14:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78982",
    "user": "https://github.com/ppurka"
}
```

Reviewer: **Punarbasu Purkayastha**



---

archive/issue_events_107319.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2011-10-12T09:14:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9211#event-107319"
}
```



---

archive/issue_events_107320.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2011-10-12T09:14:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9211#event-107320"
}
```



---

archive/issue_events_107321.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-10-12T15:05:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9211#event-107321"
}
```



---

archive/issue_events_107322.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-10-12T15:05:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9211#event-107322"
}
```



---

archive/issue_comments_078983.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nYour changes were a little more than just fixing whitespace, so let someone look at it to review your last patch.\n\nSorry---you're right about those doctests.  I shouldn't have been so sloppy as to not fix those doctests before indicating it needed to be reviewed.",
    "created_at": "2011-10-12T15:06:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78983",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:30'>Comment 30:</a>
Your changes were a little more than just fixing whitespace, so let someone look at it to review your last patch.

Sorry---you're right about those doctests.  I shouldn't have been so sloppy as to not fix those doctests before indicating it needed to be reviewed.



---

archive/issue_events_107323.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-10-12T15:06:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9211#event-107323"
}
```



---

archive/issue_events_107324.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-10-12T15:06:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9211#event-107324"
}
```



---

archive/issue_events_107325.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-11-04T17:53:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9211#event-107325"
}
```



---

archive/issue_events_107326.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-11-04T17:53:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9211#event-107326"
}
```



---

archive/issue_comments_078984.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nYep, I confirm that normal tests in graphs/ and plot/ pass.  Positive review for the fix doctests patch.  Good job!",
    "created_at": "2011-11-04T17:53:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78984",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:31'>Comment 31:</a>
Yep, I confirm that normal tests in graphs/ and plot/ pass.  Positive review for the fix doctests patch.  Good job!



---

archive/issue_comments_078985.json:
```json
{
    "body": "Merged: **sage-4.8.alpha1**",
    "created_at": "2011-11-07T10:10:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9211#issuecomment-78985",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-4.8.alpha1**



---

archive/issue_events_107327.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-07T10:10:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9211#event-107327"
}
```



---

archive/issue_events_107328.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-07T10:10:28Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/9211",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9211#event-107328"
}
```
