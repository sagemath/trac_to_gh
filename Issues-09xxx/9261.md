# Issue 9261: RealIntervalField: enable option style='bracket'

archive/issues_009261.json:
```json
{
    "assignees": [],
    "body": "Currently, the option style='bracket' (to display intervals as\n[1.1 ... 1.2]) is only available in the `str` method, so that\none has to provide it each time one calls str.\n\nIt would be nice to have an option style=... in the *creation* of the\nfield, to override the default style. For example one would have:\n\n```\nsage: R = RealIntervalField(42, style='brackets')\nsage: R(pi)\n[3.1415926535892 .. 3.1415926535902]\n```\n\nAssignee: **@aghitza**\n\nCC:  @williamstein @sagetrac-cwitty @mwhansen\n\n_Issue created by migration from https://trac.sagemath.org/ticket/9261_\n\n",
    "created_at": "2010-06-18T10:01:29Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20basic%20arithmetic",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "RealIntervalField: enable option style='bracket'",
    "type": "issue",
    "updated_at": "2022-12-29T01:28:25Z",
    "url": "https://github.com/sagemath/sage/issues/9261",
    "user": "https://github.com/zimmermann6"
}
```
Currently, the option style='bracket' (to display intervals as
[1.1 ... 1.2]) is only available in the `str` method, so that
one has to provide it each time one calls str.

It would be nice to have an option style=... in the *creation* of the
field, to override the default style. For example one would have:

```
sage: R = RealIntervalField(42, style='brackets')
sage: R(pi)
[3.1415926535892 .. 3.1415926535902]
```

Assignee: **@aghitza**

CC:  @williamstein @sagetrac-cwitty @mwhansen

_Issue created by migration from https://trac.sagemath.org/ticket/9261_





---

archive/issue_events_107967.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2010-06-18T10:01:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9261",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9261#event-107967"
}
```



---

archive/issue_events_107968.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2010-06-18T10:01:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9261",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20basic%20arithmetic",
    "label_color": "0000ff",
    "label_name": "component: basic arithmetic",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9261#event-107968"
}
```



---

archive/issue_events_107969.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2010-06-18T10:01:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9261",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9261#event-107969"
}
```



---

archive/issue_events_107970.json:
```json
{
    "actor": "https://github.com/zimmermann6",
    "created_at": "2010-06-18T10:01:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9261",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9261#event-107970"
}
```



---

archive/issue_comments_079829.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nThis is almost implemented in #7682.  The patch there is probably ready for review, but it's been a while since I looked at the patch, so it should probably have doctests run and possibly have a bit more documentation written.  And it would be nice to implement this ticket either on top of #7682, or just by adding a few lines to #7682.",
    "created_at": "2010-06-18T16:23:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9261#issuecomment-79829",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:1" align="right">Comment 1</div>

This is almost implemented in #7682.  The patch there is probably ready for review, but it's been a while since I looked at the patch, so it should probably have doctests run and possibly have a bit more documentation written.  And it would be nice to implement this ticket either on top of #7682, or just by adding a few lines to #7682.



---

archive/issue_comments_079830.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nI don't like the idea of putting the print style in the parent.  (I think the current sci_not is a design error that shouldn't be perpetuated.)\n\nOne problem is that if you have objects like `RealIntervalField(42, style='brackets')(pi)` and `RealIntervalField(42)(pi)`, then arithmetic between them is slower than between objects with the same parent.  Also, there are several parts of Sage that create their own `RealIntervalField` parents and return elements to the user, so the option you suggest would not suffice to hide question-mark printing from the user.\n\nIMHO a global setting is a more sensible option; would that be all right, or do you really want the setting to be per-parent?\n\nIf a global setting is acceptable, then we're in luck, because it already exists: :)\n\n```\nsage: a = RIF(pi)\nsage: a\n3.141592653589794?\nsage: sage.rings.real_mpfi.printing_style = 'brackets'\nsage: a\n[3.1415926535897931 .. 3.1415926535897936]\n```\n\nWe could certainly document this global setting (I think it's entirely undocumented now), if that would help.",
    "created_at": "2010-07-20T21:16:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9261#issuecomment-79830",
    "user": "https://github.com/sagetrac-cwitty"
}
```

<div id="comment:2" align="right">Comment 2</div>

I don't like the idea of putting the print style in the parent.  (I think the current sci_not is a design error that shouldn't be perpetuated.)

One problem is that if you have objects like `RealIntervalField(42, style='brackets')(pi)` and `RealIntervalField(42)(pi)`, then arithmetic between them is slower than between objects with the same parent.  Also, there are several parts of Sage that create their own `RealIntervalField` parents and return elements to the user, so the option you suggest would not suffice to hide question-mark printing from the user.

IMHO a global setting is a more sensible option; would that be all right, or do you really want the setting to be per-parent?

If a global setting is acceptable, then we're in luck, because it already exists: :)

```
sage: a = RIF(pi)
sage: a
3.141592653589794?
sage: sage.rings.real_mpfi.printing_style = 'brackets'
sage: a
[3.1415926535897931 .. 3.1415926535897936]
```

We could certainly document this global setting (I think it's entirely undocumented now), if that would help.



---

archive/issue_comments_079831.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\n> We could certainly document this global setting (I think it's entirely undocumented now), if that would help. \n\nI strongly support this. This global setting was something I was missing since a long time, it is\nnow in my init.sage file.",
    "created_at": "2010-07-21T07:43:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9261#issuecomment-79831",
    "user": "https://github.com/zimmermann6"
}
```

<div id="comment:3" align="right">Comment 3</div>

> We could certainly document this global setting (I think it's entirely undocumented now), if that would help. 

I strongly support this. This global setting was something I was missing since a long time, it is
now in my init.sage file.



---

archive/issue_comments_079832.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nReplying to [@sagetrac-cwitty](#comment%3A2):\n\n> IMHO a global setting is a more sensible option; would that be all right, or do you really want the setting to be per-parent?\n\n+1 to making such things (and keeping such things) global settings.",
    "created_at": "2010-07-21T08:14:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9261#issuecomment-79832",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:4" align="right">Comment 4</div>

Replying to [@sagetrac-cwitty](#comment%3A2):

> IMHO a global setting is a more sensible option; would that be all right, or do you really want the setting to be per-parent?

+1 to making such things (and keeping such things) global settings.



---

archive/issue_comments_079833.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nI'm OK with this, because it only impacts the *appearance* (not the mathematics) of the elements.",
    "created_at": "2010-07-21T10:17:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9261",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9261#issuecomment-79833",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:5" align="right">Comment 5</div>

I'm OK with this, because it only impacts the *appearance* (not the mathematics) of the elements.



---

archive/issue_events_107971.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/9261",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9261#event-107971"
}
```



---

archive/issue_events_107972.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9261",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9261#event-107972"
}
```



---

archive/issue_events_107973.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/9261",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9261#event-107973"
}
```



---

archive/issue_events_107974.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9261",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9261#event-107974"
}
```



---

archive/issue_events_107975.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/9261",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9261#event-107975"
}
```



---

archive/issue_events_107976.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9261",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9261#event-107976"
}
```



---

archive/issue_events_107977.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/9261",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9261#event-107977"
}
```



---

archive/issue_events_107978.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9261",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9261#event-107978"
}
```



---

archive/issue_events_107979.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-29T01:28:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/9261",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9261#event-107979"
}
```
