# Issue 9177: cddlib has hard-coded gmp path

archive/issues_009177.json:
```json
{
    "assignees": [],
    "body": "Cddlib's ./configure script should support --with=gmp=<path>. This ticket is a followup to #8730, where a stopgap measure was implemented instead. This ticket will provide rewritten autotools sources (configure.ac and Makefile.am's) to achieve this. \n\nUpstream: **Not yet reported upstream; Will do shortly.**\n\nCC:  @dimpase @sagetrac-drkirkby\n\nComponent: **packages: standard**\n\nAuthor: **Volker Braun**\n\nReviewer: **David Kirkby, Mike Hansen**\n\nMerged: **sage-4.5.alpha0**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/9177_\n\n",
    "closed_at": "2010-06-25T15:44:26Z",
    "created_at": "2010-06-07T11:34:42Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "cddlib has hard-coded gmp path",
    "type": "issue",
    "updated_at": "2010-06-25T15:44:26Z",
    "url": "https://github.com/sagemath/sage/issues/9177",
    "user": "https://github.com/vbraun"
}
```
Cddlib's ./configure script should support --with=gmp=<path>. This ticket is a followup to #8730, where a stopgap measure was implemented instead. This ticket will provide rewritten autotools sources (configure.ac and Makefile.am's) to achieve this. 

Upstream: **Not yet reported upstream; Will do shortly.**

CC:  @dimpase @sagetrac-drkirkby

Component: **packages: standard**

Author: **Volker Braun**

Reviewer: **David Kirkby, Mike Hansen**

Merged: **sage-4.5.alpha0**

_Issue created by migration from https://trac.sagemath.org/ticket/9177_





---

archive/issue_events_116129.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-06-07T11:34:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "milestone_number": null,
    "milestone_title": "sage-4.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9177#event-116129"
}
```



---

archive/issue_events_116130.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-06-07T11:34:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9177#event-116130"
}
```



---

archive/issue_events_116131.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-06-07T11:34:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9177#event-116131"
}
```



---

archive/issue_events_116132.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-06-07T11:34:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9177#event-116132"
}
```



---

archive/issue_comments_076688.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nHere is the updated spkg. It works for me on F12 x86_64 but would be great if somebody can test it on SPARC.\n\nhttp://www.stp.dias.ie/~vbraun/Sage/spkg/cddlib-094f.p7.spkg\n\nThere is now a script at patches/refresh_autogenerated.sh that should explain how to rerun autotools and update patches/autogenerated.",
    "created_at": "2010-06-07T11:48:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9177#issuecomment-76688",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:1" align="right">comment:1</div>

Here is the updated spkg. It works for me on F12 x86_64 but would be great if somebody can test it on SPARC.

http://www.stp.dias.ie/~vbraun/Sage/spkg/cddlib-094f.p7.spkg

There is now a script at patches/refresh_autogenerated.sh that should explain how to rerun autotools and update patches/autogenerated.



---

archive/issue_events_116133.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-06-07T11:48:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9177#event-116133"
}
```



---

archive/issue_comments_076689.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nThe package installs in 32-bit Solaris SPARC and on 64-bit OpenSolaris x64. However, the refresh_autogenerated.sh script has a GNUism:\n\n```\npushd autogenerated\nfor i in `find -type f` ; do cp -a $BUILDDIR/$i $i ; done\npopd\n```\n\n-a is not an POSIX option to 'cp' so will fail:\n\n```\nkirkby@t2:[~/sage-4.4.3/spkg/optional/cddlib-094f.p7/patches] $ cp -a src-Makefile.am x\ncp: illegal option -- a\nUsage: cp [-f] [-i] [-p] [-@] f1 f2\n       cp [-f] [-i] [-p] [-@] f1 ... fn d1\n       cp -r|-R [-H|-L|-P] [-f] [-i] [-p] [-@] d1 ... dn-1 dn\n\n```\n\nSee:\n\nhttp://www.opengroup.org/onlinepubs/009695399/utilities/cp.html\n\nfor a list of acceptable options for 'cp'. \n\nAlso, other errors I managed to induce:\n\n```\nCopying autogenerated files from autogenerated\n./refresh_autogenerated.sh: pushd: not found\nfind: illegal option -- t\nfind: [-H | -L] path-list predicate-list\n./refresh_autogenerated.sh: popd: not found\n```\n\nSee http://www.opengroup.org/onlinepubs/009695399/utilities/find.html\nfor POSIX options to 'find'\n\npushd and popd are not supported in the /bin/sh on Solaris, though the usual \n\n```\n#!/usr/bin/env bash\n```\n\nwill invoke bash, which will support such options. \n\nA couple of minor points. \n* It is usual to provide a diff between the files written and those in the source code, though I must admit I feel they are of very limited use, as I could create one if I wanted. \n* It would be wise to stick the minimum versions of autoconf/automake needed - there are macros for that. I noticed configure.ac has no such entry. \n\nDave",
    "created_at": "2010-06-07T12:35:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9177#issuecomment-76689",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:2" align="right">comment:2</div>

The package installs in 32-bit Solaris SPARC and on 64-bit OpenSolaris x64. However, the refresh_autogenerated.sh script has a GNUism:

```
pushd autogenerated
for i in `find -type f` ; do cp -a $BUILDDIR/$i $i ; done
popd
```

-a is not an POSIX option to 'cp' so will fail:

```
kirkby@t2:[~/sage-4.4.3/spkg/optional/cddlib-094f.p7/patches] $ cp -a src-Makefile.am x
cp: illegal option -- a
Usage: cp [-f] [-i] [-p] [-@] f1 f2
       cp [-f] [-i] [-p] [-@] f1 ... fn d1
       cp -r|-R [-H|-L|-P] [-f] [-i] [-p] [-@] d1 ... dn-1 dn

```

See:

http://www.opengroup.org/onlinepubs/009695399/utilities/cp.html

for a list of acceptable options for 'cp'. 

Also, other errors I managed to induce:

```
Copying autogenerated files from autogenerated
./refresh_autogenerated.sh: pushd: not found
find: illegal option -- t
find: [-H | -L] path-list predicate-list
./refresh_autogenerated.sh: popd: not found
```

See http://www.opengroup.org/onlinepubs/009695399/utilities/find.html
for POSIX options to 'find'

pushd and popd are not supported in the /bin/sh on Solaris, though the usual 

```
#!/usr/bin/env bash
```

will invoke bash, which will support such options. 

A couple of minor points. 
* It is usual to provide a diff between the files written and those in the source code, though I must admit I feel they are of very limited use, as I could create one if I wanted. 
* It would be wise to stick the minimum versions of autoconf/automake needed - there are macros for that. I noticed configure.ac has no such entry. 

Dave



---

archive/issue_events_116134.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-06-07T12:35:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9177#event-116134"
}
```



---

archive/issue_events_116135.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-06-07T12:35:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9177#event-116135"
}
```



---

archive/issue_comments_076690.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI updated the http://www.stp.dias.ie/~vbraun/Sage/spkg/cddlib-094f.p7.spkg to\n* only use portable `cp` options\n* only use portable `find` options\n* removed use of pushd/popd\n* fixed all `autoscan` warnings, including the missing AC_PREREQ\n\nThere is no patch file for the autotools sources since they are all in patches/ and not in the corresponding directory structure under src/. Patches would also not be very useful since the new autotools sources are essentially a complete rewrite.",
    "created_at": "2010-06-07T13:49:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9177#issuecomment-76690",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:3" align="right">comment:3</div>

I updated the http://www.stp.dias.ie/~vbraun/Sage/spkg/cddlib-094f.p7.spkg to
* only use portable `cp` options
* only use portable `find` options
* removed use of pushd/popd
* fixed all `autoscan` warnings, including the missing AC_PREREQ

There is no patch file for the autotools sources since they are all in patches/ and not in the corresponding directory structure under src/. Patches would also not be very useful since the new autotools sources are essentially a complete rewrite.



---

archive/issue_events_116136.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-06-07T13:49:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9177#event-116136"
}
```



---

archive/issue_events_116137.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2010-06-07T13:49:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9177#event-116137"
}
```



---

archive/issue_comments_076691.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThe new spkg fails on Cygwin with the following issues \n\n```\n\nlibtool: link: gcc -g -O2 -o .libs/scdd_gmp.exe simplecdd.o  -L/home/wstein/sage-4.4.3/local/lib /home/wstein/sage-4.4.3/local/lib/libgmp.dll.a ../lib-src-gmp/.libs/libcddgmp.a -L/home/wstein/sage-4.4.3/local/lib\n../lib-src-gmp/.libs/libcddgmp.a(cddlib.o): In function `dd_InitialDataSetup':\n/home/wstein/sage-4.4.3/spkg/build/cddlib-094f.p7/src/lib-src-gmp/cddlib.c:153: undefined reference to `__imp____gmpq_init'\n/home/wstein/sage-4.4.3/spkg/build/cddlib-094f.p7/src/lib-src-gmp/cddlib.c:162: undefined reference to `__imp____gmpq_init'\n/home/wstein/sage-4.4.3/spkg/build/cddlib-094f.p7/src/lib-src-gmp/cddlib.c:180: undefined reference to `__imp____gmpq_set'\n...\n```",
    "created_at": "2010-06-07T16:02:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9177#issuecomment-76691",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:4" align="right">comment:4</div>

The new spkg fails on Cygwin with the following issues 

```

libtool: link: gcc -g -O2 -o .libs/scdd_gmp.exe simplecdd.o  -L/home/wstein/sage-4.4.3/local/lib /home/wstein/sage-4.4.3/local/lib/libgmp.dll.a ../lib-src-gmp/.libs/libcddgmp.a -L/home/wstein/sage-4.4.3/local/lib
../lib-src-gmp/.libs/libcddgmp.a(cddlib.o): In function `dd_InitialDataSetup':
/home/wstein/sage-4.4.3/spkg/build/cddlib-094f.p7/src/lib-src-gmp/cddlib.c:153: undefined reference to `__imp____gmpq_init'
/home/wstein/sage-4.4.3/spkg/build/cddlib-094f.p7/src/lib-src-gmp/cddlib.c:162: undefined reference to `__imp____gmpq_init'
/home/wstein/sage-4.4.3/spkg/build/cddlib-094f.p7/src/lib-src-gmp/cddlib.c:180: undefined reference to `__imp____gmpq_set'
...
```



---

archive/issue_events_116138.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-06-07T16:02:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9177#event-116138"
}
```



---

archive/issue_events_116139.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-06-07T16:02:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9177#event-116139"
}
```



---

archive/issue_comments_076692.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI've updated the spkg at http://www.stp.dias.ie/~vbraun/Sage/spkg/cddlib-094f.p7.spkg to include -lgmp when linking in lib-src-gmp/, that should resolve the issue. Please let me know if it works...",
    "created_at": "2010-06-07T16:31:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9177#issuecomment-76692",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:5" align="right">comment:5</div>

I've updated the spkg at http://www.stp.dias.ie/~vbraun/Sage/spkg/cddlib-094f.p7.spkg to include -lgmp when linking in lib-src-gmp/, that should resolve the issue. Please let me know if it works...



---

archive/issue_comments_076693.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@vbraun](#comment%3A3):\n> I updated the http://www.stp.dias.ie/~vbraun/Sage/spkg/cddlib-094f.p7.spkg to\n> * only use portable `cp` options\n> * only use portable `find` options\n> * removed use of pushd/popd\n> * fixed all `autoscan` warnings, including the missing AC_PREREQ\n\n\nThank you. \n \n> There is no patch file for the autotools sources since they are all in patches/ and not in the corresponding directory structure under src/. Patches would also not be very useful since the new autotools sources are essentially a complete rewrite. \n\nFair enough. \n\nThe other point I made is that I believe you should use macros that stops people using an old version of autoconf or automake to rebuild the files, since I doubt you can be sure your code will work on old versions. See\n\nhttp://www.gnu.org/software/autoconf/manual/autoconf.html#Versioning\n\nhttp://www.gnu.org/software/automake/manual/automake.html#API-Versioning\n\nso I would put something like:\n\n```\nAC_PREREQ([x.y])\nAC_INIT\nAM_INIT_AUTOMAKE([a.b.c]) \n```\n\nwhere x.y is the version of autoconf you use and a.b.c is your version of automake. Then nobody with older versions can remake the files. Unless you can be sure all your code will work with the very first releases of autoconf and automake, then I'd add that. \n\nIt looks like there are issues on Cygwin, so perhaps while you are making the other  changes, you can add something to stop people remaking the files with old versions of autoconf or automake. \n\nDave",
    "created_at": "2010-06-07T16:37:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9177#issuecomment-76693",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@vbraun](#comment%3A3):
> I updated the http://www.stp.dias.ie/~vbraun/Sage/spkg/cddlib-094f.p7.spkg to
> * only use portable `cp` options
> * only use portable `find` options
> * removed use of pushd/popd
> * fixed all `autoscan` warnings, including the missing AC_PREREQ


Thank you. 
 
> There is no patch file for the autotools sources since they are all in patches/ and not in the corresponding directory structure under src/. Patches would also not be very useful since the new autotools sources are essentially a complete rewrite. 

Fair enough. 

The other point I made is that I believe you should use macros that stops people using an old version of autoconf or automake to rebuild the files, since I doubt you can be sure your code will work on old versions. See

http://www.gnu.org/software/autoconf/manual/autoconf.html#Versioning

http://www.gnu.org/software/automake/manual/automake.html#API-Versioning

so I would put something like:

```
AC_PREREQ([x.y])
AC_INIT
AM_INIT_AUTOMAKE([a.b.c]) 
```

where x.y is the version of autoconf you use and a.b.c is your version of automake. Then nobody with older versions can remake the files. Unless you can be sure all your code will work with the very first releases of autoconf and automake, then I'd add that. 

It looks like there are issues on Cygwin, so perhaps while you are making the other  changes, you can add something to stop people remaking the files with old versions of autoconf or automake. 

Dave



---

archive/issue_comments_076694.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThe newest spkg works correctly on Cygwin.  Thanks!",
    "created_at": "2010-06-07T17:20:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9177#issuecomment-76694",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:7" align="right">comment:7</div>

The newest spkg works correctly on Cygwin.  Thanks!



---

archive/issue_events_116140.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-06-07T17:20:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9177#event-116140"
}
```



---

archive/issue_events_116141.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-06-07T17:20:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9177#event-116141"
}
```



---

archive/issue_comments_076695.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI added the AC_PREREQ already in #comment:3\n\nPassing options to AM_INIT_AUTOMAKE is deprecated, and they should be passed to AC_INIT. The version number here is interpreted as the version number of the package (cddlib), not the automake version number. I don't know if there is any macro to enforce a certain automake version. We could write a autogen.sh script, but thats probably too much of an overkill. If the required autoconf version (2.63) is installed then automake is probably modern enough, too.",
    "created_at": "2010-06-07T17:28:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9177#issuecomment-76695",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:8" align="right">comment:8</div>

I added the AC_PREREQ already in #comment:3

Passing options to AM_INIT_AUTOMAKE is deprecated, and they should be passed to AC_INIT. The version number here is interpreted as the version number of the package (cddlib), not the automake version number. I don't know if there is any macro to enforce a certain automake version. We could write a autogen.sh script, but thats probably too much of an overkill. If the required autoconf version (2.63) is installed then automake is probably modern enough, too.



---

archive/issue_comments_076696.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nNevermind, I finally saw the API-versioning link in your comment :-) \n\nI added `AM_INIT_AUTOMAKE([1.11])` to the spkg, and the updated version is at the usual place http://www.stp.dias.ie/~vbraun/Sage/spkg/cddlib-094f.p7.spkg",
    "created_at": "2010-06-07T17:40:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9177#issuecomment-76696",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:9" align="right">comment:9</div>

Nevermind, I finally saw the API-versioning link in your comment :-) 

I added `AM_INIT_AUTOMAKE([1.11])` to the spkg, and the updated version is at the usual place http://www.stp.dias.ie/~vbraun/Sage/spkg/cddlib-094f.p7.spkg



---

archive/issue_comments_076697.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nSorry, I overlooked the fact you had commented on this. \n\nThis looks good. I've tested it on Linux (64-bit build), OpenSolaris x64 (64-bit build ) and Solaris 10 SPARC (32-bit build). I exported \"SAGE_CHECK=yes\", so the test suite is run. \n\nThere's an amazing difference in the speed to compile this on my old Sun Blade 1000 (2 minutes, 38 seconds) and my much newer Sun Ultra 27 (11.5 seconds)! Almost 14:1, though I guess the new machine did cost me more than 14x as much as the old one. \n\n == On OpenSolaris 06/2009 (64-bit build) on a Sun Ultra 27 quad core Xeon. ==\n\n```\nmake[2]: Entering directory `/export/home/drkirkby/sage-4.4.4.alpha1/spkg/build/cddlib-094f.p6/src'\nmake[2]: Nothing to be done for `install-exec-am'.\nmake[2]: Nothing to be done for `install-data-am'.\nmake[2]: Leaving directory `/export/home/drkirkby/sage-4.4.4.alpha1/spkg/build/cddlib-094f.p6/src'\nmake[1]: Leaving directory `/export/home/drkirkby/sage-4.4.4.alpha1/spkg/build/cddlib-094f.p6/src'\n\nreal\t0m11.521s\nuser\t0m6.859s\nsys\t0m3.814s\nSuccessfully installed cddlib-094f.p6\nRunning the test suite.\nsize = 8 x 4\nNumber Type = rational\nNow cleaning up tmp files.\nrm: Cannot remove any directory in the path of the current working directory\n/export/home/drkirkby/sage-4.4.4.alpha1/spkg/build/cddlib-094f.p6\nMaking Sage/Python scripts relocatable...\nMaking script relocatable\nFinished installing cddlib-094f.p6.spkg\n```\n\n## Using Solaris 10 SPARC (32-bit build) on a Sun Blade 1000, 2 x 900 MHz UltraSPARC III+\n\n```\nmake[2]: Nothing to be done for `install-exec-am'.\nmake[2]: Nothing to be done for `install-data-am'.\nmake[2]: Leaving directory `/export/home/drkirkby/sage-4.4.4.alpha1/spkg/build/cddlib-094f.p7/src'\nmake[1]: Leaving directory `/export/home/drkirkby/sage-4.4.4.alpha1/spkg/build/cddlib-094f.p7/src'\n\nreal    2m37.957s\nuser    2m2.904s\nsys     0m29.713s\nSuccessfully installed cddlib-094f.p7\nRunning the test suite.\nsize = 8 x 4\nNumber Type = rational\nNow cleaning up tmp files.\nrm: Cannot remove any directory in the path of the current working directory\n/export/home/drkirkby/sage-4.4.4.alpha1/spkg/build/cddlib-094f.p7\nMaking Sage/Python scripts relocatable...\nMaking script relocatable\nFinished installing cddlib-094f.p7.spkg\n```\n\n## Using Linux (64-bit build) on sage.math\n\n```\nmake[2]: Nothing to be done for `install-exec-am'.\nmake[2]: Nothing to be done for `install-data-am'.\nmake[2]: Leaving directory `/home/kirkby/sage-4.4.3/spkg/build/cddlib-094f.p7/src'\nmake[1]: Leaving directory `/home/kirkby/sage-4.4.3/spkg/build/cddlib-094f.p7/src'\n\nreal\t0m31.422s\nuser\t0m21.380s\nsys\t0m6.770s\nSuccessfully installed cddlib-094f.p7\nRunning the test suite.\nsize = 8 x 4\nNumber Type = rational\nNow cleaning up tmp files.\nMaking Sage/Python scripts relocatable...\nMaking script relocatable\nFinished installing cddlib-094f.p7.spkg\n```\n\nDave",
    "created_at": "2010-06-19T13:57:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9177#issuecomment-76697",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:10" align="right">comment:10</div>

Sorry, I overlooked the fact you had commented on this. 

This looks good. I've tested it on Linux (64-bit build), OpenSolaris x64 (64-bit build ) and Solaris 10 SPARC (32-bit build). I exported "SAGE_CHECK=yes", so the test suite is run. 

There's an amazing difference in the speed to compile this on my old Sun Blade 1000 (2 minutes, 38 seconds) and my much newer Sun Ultra 27 (11.5 seconds)! Almost 14:1, though I guess the new machine did cost me more than 14x as much as the old one. 

 == On OpenSolaris 06/2009 (64-bit build) on a Sun Ultra 27 quad core Xeon. ==

```
make[2]: Entering directory `/export/home/drkirkby/sage-4.4.4.alpha1/spkg/build/cddlib-094f.p6/src'
make[2]: Nothing to be done for `install-exec-am'.
make[2]: Nothing to be done for `install-data-am'.
make[2]: Leaving directory `/export/home/drkirkby/sage-4.4.4.alpha1/spkg/build/cddlib-094f.p6/src'
make[1]: Leaving directory `/export/home/drkirkby/sage-4.4.4.alpha1/spkg/build/cddlib-094f.p6/src'

real	0m11.521s
user	0m6.859s
sys	0m3.814s
Successfully installed cddlib-094f.p6
Running the test suite.
size = 8 x 4
Number Type = rational
Now cleaning up tmp files.
rm: Cannot remove any directory in the path of the current working directory
/export/home/drkirkby/sage-4.4.4.alpha1/spkg/build/cddlib-094f.p6
Making Sage/Python scripts relocatable...
Making script relocatable
Finished installing cddlib-094f.p6.spkg
```

## Using Solaris 10 SPARC (32-bit build) on a Sun Blade 1000, 2 x 900 MHz UltraSPARC III+

```
make[2]: Nothing to be done for `install-exec-am'.
make[2]: Nothing to be done for `install-data-am'.
make[2]: Leaving directory `/export/home/drkirkby/sage-4.4.4.alpha1/spkg/build/cddlib-094f.p7/src'
make[1]: Leaving directory `/export/home/drkirkby/sage-4.4.4.alpha1/spkg/build/cddlib-094f.p7/src'

real    2m37.957s
user    2m2.904s
sys     0m29.713s
Successfully installed cddlib-094f.p7
Running the test suite.
size = 8 x 4
Number Type = rational
Now cleaning up tmp files.
rm: Cannot remove any directory in the path of the current working directory
/export/home/drkirkby/sage-4.4.4.alpha1/spkg/build/cddlib-094f.p7
Making Sage/Python scripts relocatable...
Making script relocatable
Finished installing cddlib-094f.p7.spkg
```

## Using Linux (64-bit build) on sage.math

```
make[2]: Nothing to be done for `install-exec-am'.
make[2]: Nothing to be done for `install-data-am'.
make[2]: Leaving directory `/home/kirkby/sage-4.4.3/spkg/build/cddlib-094f.p7/src'
make[1]: Leaving directory `/home/kirkby/sage-4.4.3/spkg/build/cddlib-094f.p7/src'

real	0m31.422s
user	0m21.380s
sys	0m6.770s
Successfully installed cddlib-094f.p7
Running the test suite.
size = 8 x 4
Number Type = rational
Now cleaning up tmp files.
Making Sage/Python scripts relocatable...
Making script relocatable
Finished installing cddlib-094f.p7.spkg
```

Dave



---

archive/issue_events_116142.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-06-19T13:57:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9177#event-116142"
}
```



---

archive/issue_events_116143.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-06-19T13:57:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9177#event-116143"
}
```



---

archive/issue_comments_076698.json:
```json
{
    "body": "Reviewer: **David Kirkby, Mike Hansen**",
    "created_at": "2010-06-19T14:03:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9177#issuecomment-76698",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

Reviewer: **David Kirkby, Mike Hansen**



---

archive/issue_comments_076699.json:
```json
{
    "body": "Author: **Volker Braun**",
    "created_at": "2010-06-19T14:03:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9177#issuecomment-76699",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

Author: **Volker Braun**



---

archive/issue_events_116144.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2010-06-25T15:44:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9177#event-116144"
}
```



---

archive/issue_events_116145.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2010-06-25T15:44:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9177#event-116145"
}
```



---

archive/issue_comments_076700.json:
```json
{
    "body": "Merged: **sage-4.5.alpha0**",
    "created_at": "2010-06-25T15:44:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9177",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9177#issuecomment-76700",
    "user": "https://github.com/rlmill"
}
```

Merged: **sage-4.5.alpha0**
