# Issue 9720: Add random echelonizable matrices to matrix/constructor.py

archive/issues_009720.json:
```json
{
    "assignees": [
        "https://github.com/jasongrout",
        "https://github.com/williamstein"
    ],
    "body": "Adds two routines.  One creates random matrices in echelon form to be used in other routines to be added later.  The other creates random matrices whose echelon form has desirable properties, with the help of the first routine.  These routines are designed as educational tools, generating exam and homework problems, and problem generating interacts.\n\nCC:  @rbeezer @jasongrout\n\nComponent: **linear algebra**\n\nAuthor: **Billy Wonderly**\n\nReviewer: **David Joyner**\n\nMerged: **sage-4.6.alpha1**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/9720_\n\n",
    "closed_at": "2010-09-15T09:52:32Z",
    "created_at": "2010-08-10T18:51:32Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20linear%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add random echelonizable matrices to matrix/constructor.py",
    "type": "issue",
    "updated_at": "2010-09-15T09:52:32Z",
    "url": "https://github.com/sagemath/sage/issues/9720",
    "user": "https://github.com/sagetrac-bwonderly"
}
```
Adds two routines.  One creates random matrices in echelon form to be used in other routines to be added later.  The other creates random matrices whose echelon form has desirable properties, with the help of the first routine.  These routines are designed as educational tools, generating exam and homework problems, and problem generating interacts.

CC:  @rbeezer @jasongrout

Component: **linear algebra**

Author: **Billy Wonderly**

Reviewer: **David Joyner**

Merged: **sage-4.6.alpha1**

_Issue created by migration from https://trac.sagemath.org/ticket/9720_





---

archive/issue_events_126352.json:
```json
{
    "actor": "https://github.com/sagetrac-bwonderly",
    "created_at": "2010-08-10T18:51:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "milestone_number": null,
    "milestone_title": "sage-4.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9720#event-126352"
}
```



---

archive/issue_events_126353.json:
```json
{
    "actor": "https://github.com/sagetrac-bwonderly",
    "created_at": "2010-08-10T18:51:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20linear%20algebra",
    "label_color": "0000ff",
    "label_name": "c: linear algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9720#event-126353"
}
```



---

archive/issue_events_126354.json:
```json
{
    "actor": "https://github.com/sagetrac-bwonderly",
    "created_at": "2010-08-10T18:51:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9720#event-126354"
}
```



---

archive/issue_events_126355.json:
```json
{
    "actor": "https://github.com/sagetrac-bwonderly",
    "created_at": "2010-08-10T18:51:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9720#event-126355"
}
```



---

archive/issue_events_126356.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-08-10T18:51:32Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "subject": "https://github.com/sagetrac-bwonderly",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9720#event-126356"
}
```



---

archive/issue_events_126357.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-08-10T18:51:32Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "subject": "https://github.com/sagetrac-bwonderly",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9720#event-126357"
}
```



---

archive/issue_events_126358.json:
```json
{
    "actor": "https://github.com/sagetrac-bwonderly",
    "created_at": "2010-08-10T19:11:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9720#event-126358"
}
```



---

archive/issue_comments_085644.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nAttachment: **[trac_9720-random-echelonizable-matrices.patch.gz](https://github.com/sagemath/sage/files/ticket9720/trac_9720-random-echelonizable-matrices.patch.gz)**",
    "created_at": "2010-08-10T19:11:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85644",
    "user": "https://github.com/sagetrac-bwonderly"
}
```

<div id="comment:1" align="right">comment:1</div>

Attachment: **[trac_9720-random-echelonizable-matrices.patch.gz](https://github.com/sagemath/sage/files/ticket9720/trac_9720-random-echelonizable-matrices.patch.gz)**



---

archive/issue_comments_085645.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nApplies fine to 4.5.2.rc0.\n\nTwo extremely minor comments off the top of my head:\n\n1. \"Generate a matrix of a desired size and rank, over a desired field,\n       whose reduced row-echelon form has only whole values.\"\nIMHO, \"integral\" sounds better than \"whole\".\n2. It seems to me that, from the point of view of the functionality,\nusing base_ring = ZZ returns the same result as base_ring = QQ.\n(I understand that over QQ the rref algorithm might be different than over\nZZ, but it seems to me that for the matrices you compute in the \nrandom_echelonizable_matrix function, the rref algorithm(s) yield\nthe same result either way. Correct?",
    "created_at": "2010-08-11T11:12:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85645",
    "user": "https://github.com/wdjoyner"
}
```

<div id="comment:2" align="right">comment:2</div>

Applies fine to 4.5.2.rc0.

Two extremely minor comments off the top of my head:

1. "Generate a matrix of a desired size and rank, over a desired field,
       whose reduced row-echelon form has only whole values."
IMHO, "integral" sounds better than "whole".
2. It seems to me that, from the point of view of the functionality,
using base_ring = ZZ returns the same result as base_ring = QQ.
(I understand that over QQ the rref algorithm might be different than over
ZZ, but it seems to me that for the matrices you compute in the 
random_echelonizable_matrix function, the rref algorithm(s) yield
the same result either way. Correct?



---

archive/issue_comments_085646.json:
```json
{
    "body": "Attachment: **[trac_9720-random-echelonizable-matrices-v2.patch.gz](https://github.com/sagemath/sage/files/ticket9720/trac_9720-random-echelonizable-matrices-v2.patch.gz)**\n\nstand-alone version 2 patch, same patch with one revision",
    "created_at": "2010-08-11T22:55:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85646",
    "user": "https://github.com/sagetrac-bwonderly"
}
```

Attachment: **[trac_9720-random-echelonizable-matrices-v2.patch.gz](https://github.com/sagemath/sage/files/ticket9720/trac_9720-random-echelonizable-matrices-v2.patch.gz)**

stand-alone version 2 patch, same patch with one revision



---

archive/issue_comments_085647.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nReplying to [@wdjoyner](#comment:2):\n> Applies fine to 4.5.2.rc0.\n> \n> Two extremely minor comments off the top of my head:\n> \n> 1. \"Generate a matrix of a desired size and rank, over a desired field,\n>        whose reduced row-echelon form has only whole values.\"\n> IMHO, \"integral\" sounds better than \"whole\".\n\nI agree completely and have made the change in the v2 patch.\n\n> 2. It seems to me that, from the point of view of the functionality,\n> using base_ring = ZZ returns the same result as base_ring = QQ.\n> (I understand that over QQ the rref algorithm might be different than over\n> ZZ, but it seems to me that for the matrices you compute in the \n> random_echelonizable_matrix function, the rref algorithm(s) yield\n> the same result either way. Correct?\n> \n\nYes, the rref algorithm yields the same result with base_ring as ZZ or QQ.  However, as these matrices are going to be used primarily as student example problems I think it would be better to keep the default as QQ.  Although there should be a series of row operations without introducing fractions that achieves rref, a student will likely want to use fractions as they row-reduce an output matrix, and the rescale_row or add_multiple_of_row functions will complain if fractions are introduced working with a matrix over ZZ.  \n> \n\n>",
    "created_at": "2010-08-11T23:05:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85647",
    "user": "https://github.com/sagetrac-bwonderly"
}
```

<div id="comment:3" align="right">comment:3</div>

Replying to [@wdjoyner](#comment:2):
> Applies fine to 4.5.2.rc0.
> 
> Two extremely minor comments off the top of my head:
> 
> 1. "Generate a matrix of a desired size and rank, over a desired field,
>        whose reduced row-echelon form has only whole values."
> IMHO, "integral" sounds better than "whole".

I agree completely and have made the change in the v2 patch.

> 2. It seems to me that, from the point of view of the functionality,
> using base_ring = ZZ returns the same result as base_ring = QQ.
> (I understand that over QQ the rref algorithm might be different than over
> ZZ, but it seems to me that for the matrices you compute in the 
> random_echelonizable_matrix function, the rref algorithm(s) yield
> the same result either way. Correct?
> 

Yes, the rref algorithm yields the same result with base_ring as ZZ or QQ.  However, as these matrices are going to be used primarily as student example problems I think it would be better to keep the default as QQ.  Although there should be a series of row operations without introducing fractions that achieves rref, a student will likely want to use fractions as they row-reduce an output matrix, and the rescale_row or add_multiple_of_row functions will complain if fractions are introduced working with a matrix over ZZ.  
> 

>



---

archive/issue_comments_085648.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI am ready to give this patch a positive review. However, although it aplies fine to 4.5.2.rc0, it does not pass sage -testall on a 10.6.4 mac pro. The problems seem to be in some mysterious (to me) failures in \n\n```\nsage -t  \"local/lib/python2.6/site-packages/sagenb-0.8.2-py2.6.egg/sagenb/misc/sageinspect.py\"./sage -t  \"local/lib/python2.6/site-packages/sagenb-0.8.2-py2.6.egg/sagenb/misc/sageinspect.py\"\n-bash: sage: command not found\nhera:sage-4.5.2.rc0 davidjoyner$ ./sage -t  \"local/lib/python2.6/site-packages/sagenb-0.8.2-py2.6.egg/sagenb/misc/sageinspect.py\"sage -t  \"local/lib/python2.6/site-packages/sagenb-0.8.2-py2.6.egg/sagenb/misc/sageinspect.py\"\n**********************************************************************\nFile \"/Volumes/Bay2/sagefiles2/sage-4.5.2.rc0/local/lib/python2.6/site-packages/sagenb-0.8.2-py2.6.egg/sagenb/misc/sageinspect.py\", line 951:\n    sage: sage_getsourcelines(matrix, True)[1]\nExpected:\n    34\nGot:\n    35\n```\nand a similar failure in\n\n```\nsage -t  \"devel/sage/sage/misc/sageinspect.py\"\n```\nI'll try investigating this using an ubuntu machine, but this seems to possibly be an issue.",
    "created_at": "2010-08-11T23:21:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85648",
    "user": "https://github.com/wdjoyner"
}
```

<div id="comment:4" align="right">comment:4</div>

I am ready to give this patch a positive review. However, although it aplies fine to 4.5.2.rc0, it does not pass sage -testall on a 10.6.4 mac pro. The problems seem to be in some mysterious (to me) failures in 

```
sage -t  "local/lib/python2.6/site-packages/sagenb-0.8.2-py2.6.egg/sagenb/misc/sageinspect.py"./sage -t  "local/lib/python2.6/site-packages/sagenb-0.8.2-py2.6.egg/sagenb/misc/sageinspect.py"
-bash: sage: command not found
hera:sage-4.5.2.rc0 davidjoyner$ ./sage -t  "local/lib/python2.6/site-packages/sagenb-0.8.2-py2.6.egg/sagenb/misc/sageinspect.py"sage -t  "local/lib/python2.6/site-packages/sagenb-0.8.2-py2.6.egg/sagenb/misc/sageinspect.py"
**********************************************************************
File "/Volumes/Bay2/sagefiles2/sage-4.5.2.rc0/local/lib/python2.6/site-packages/sagenb-0.8.2-py2.6.egg/sagenb/misc/sageinspect.py", line 951:
    sage: sage_getsourcelines(matrix, True)[1]
Expected:
    34
Got:
    35
```
and a similar failure in

```
sage -t  "devel/sage/sage/misc/sageinspect.py"
```
I'll try investigating this using an ubuntu machine, but this seems to possibly be an issue.



---

archive/issue_comments_085649.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nAppears to me that the test that fails is testing an actual line number of source code from the file defining the `matrix` constructor.  Billy added an import statement at the top of the module, so the line numbers will increment by one?\n\nRather than patching sagenb, I'm going to do some tests - maybe adding the import of QQ to the same line as the import of ZZ will be a solution.\n\nRob",
    "created_at": "2010-08-11T23:44:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85649",
    "user": "https://github.com/rbeezer"
}
```

<div id="comment:5" align="right">comment:5</div>

Appears to me that the test that fails is testing an actual line number of source code from the file defining the `matrix` constructor.  Billy added an import statement at the top of the module, so the line numbers will increment by one?

Rather than patching sagenb, I'm going to do some tests - maybe adding the import of QQ to the same line as the import of ZZ will be a solution.

Rob



---

archive/issue_events_126359.json:
```json
{
    "actor": "https://github.com/rbeezer",
    "created_at": "2010-08-12T00:11:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9720#event-126359"
}
```



---

archive/issue_events_126360.json:
```json
{
    "actor": "https://github.com/rbeezer",
    "created_at": "2010-08-12T00:11:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9720#event-126360"
}
```



---

archive/issue_comments_085650.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nBilly,\n\nMake a v3 patch and replace the two import statements for ZZ and QQ by the statement\n\n```\nfrom sage.rings.all import ZZ, QQ\n```\n\nand subsequent line numbers will return to \"normal\" and this very technical test should pass.  Do the very complete tests\n\n```\n./sage -testall\n```\n\novernight and then post the patch.\n\nI've tested this change on matrix/constructor.py and the two files David has failing.\n\nDavid - nice catch!\n\nRob",
    "created_at": "2010-08-12T00:11:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85650",
    "user": "https://github.com/rbeezer"
}
```

<div id="comment:6" align="right">comment:6</div>

Billy,

Make a v3 patch and replace the two import statements for ZZ and QQ by the statement

```
from sage.rings.all import ZZ, QQ
```

and subsequent line numbers will return to "normal" and this very technical test should pass.  Do the very complete tests

```
./sage -testall
```

overnight and then post the patch.

I've tested this change on matrix/constructor.py and the two files David has failing.

David - nice catch!

Rob



---

archive/issue_comments_085651.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nIn the first line of the docstring for the second function, you say:\n\nGenerate a matrix of a desired size and rank, over a desired field,\n\nShould that say \"desired ring\"?",
    "created_at": "2010-08-12T03:11:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85651",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:7" align="right">comment:7</div>

In the first line of the docstring for the second function, you say:

Generate a matrix of a desired size and rank, over a desired field,

Should that say "desired ring"?



---

archive/issue_comments_085652.json:
```json
{
    "body": "stand-alone version 3 of the same patch, with import statement change  and documentation revision",
    "created_at": "2010-08-12T07:13:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85652",
    "user": "https://github.com/sagetrac-bwonderly"
}
```

stand-alone version 3 of the same patch, with import statement change  and documentation revision



---

archive/issue_comments_085653.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nAttachment: **[trac_9720-random-echelonizable-matrices-v3.patch.gz](https://github.com/sagemath/sage/files/ticket9720/trac_9720-random-echelonizable-matrices-v3.patch.gz)**\n\nReplying to [@jasongrout](#comment:7):\n> In the first line of the docstring for the second function, you say:\n> \n> Generate a matrix of a desired size and rank, over a desired field,\n> \n> Should that say \"desired ring\"?\n\nAbsolutely, I've made that change and the import statement change, and all tests passed.",
    "created_at": "2010-08-12T07:16:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85653",
    "user": "https://github.com/sagetrac-bwonderly"
}
```

<div id="comment:8" align="right">comment:8</div>

Attachment: **[trac_9720-random-echelonizable-matrices-v3.patch.gz](https://github.com/sagemath/sage/files/ticket9720/trac_9720-random-echelonizable-matrices-v3.patch.gz)**

Replying to [@jasongrout](#comment:7):
> In the first line of the docstring for the second function, you say:
> 
> Generate a matrix of a desired size and rank, over a desired field,
> 
> Should that say "desired ring"?

Absolutely, I've made that change and the import statement change, and all tests passed.



---

archive/issue_events_126361.json:
```json
{
    "actor": "https://github.com/rbeezer",
    "created_at": "2010-08-12T17:02:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9720#event-126361"
}
```



---

archive/issue_events_126362.json:
```json
{
    "actor": "https://github.com/rbeezer",
    "created_at": "2010-08-12T17:02:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9720#event-126362"
}
```



---

archive/issue_comments_085654.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI think this means you are ready to have the reviewing proceed, so I'll change the status to \"needs review\".",
    "created_at": "2010-08-12T17:02:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85654",
    "user": "https://github.com/rbeezer"
}
```

<div id="comment:9" align="right">comment:9</div>

I think this means you are ready to have the reviewing proceed, so I'll change the status to "needs review".



---

archive/issue_comments_085655.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThe latest patch applies fine to 4.5.2.rc0 and passes sage -testall on a 10.6.4 mac pro.\n\nThis is a well-documented addition and I definitely will use it teaching linear algebra this semester. Thanks for coding this up!",
    "created_at": "2010-08-12T18:12:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85655",
    "user": "https://github.com/wdjoyner"
}
```

<div id="comment:10" align="right">comment:10</div>

The latest patch applies fine to 4.5.2.rc0 and passes sage -testall on a 10.6.4 mac pro.

This is a well-documented addition and I definitely will use it teaching linear algebra this semester. Thanks for coding this up!



---

archive/issue_events_126363.json:
```json
{
    "actor": "https://github.com/wdjoyner",
    "created_at": "2010-08-12T18:12:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9720#event-126363"
}
```



---

archive/issue_events_126364.json:
```json
{
    "actor": "https://github.com/wdjoyner",
    "created_at": "2010-08-12T18:12:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9720#event-126364"
}
```



---

archive/issue_comments_085656.json:
```json
{
    "body": "Reviewer: **David Joyner**",
    "created_at": "2010-08-15T09:17:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85656",
    "user": "https://github.com/qed777"
}
```

Reviewer: **David Joyner**



---

archive/issue_comments_085657.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nThanks everyone for the suggestions and the expeditious review!\n\nRelease manager:  apply only v3 patch.",
    "created_at": "2010-08-15T19:55:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85657",
    "user": "https://github.com/sagetrac-bwonderly"
}
```

<div id="comment:12" align="right">comment:12</div>

Thanks everyone for the suggestions and the expeditious review!

Release manager:  apply only v3 patch.



---

archive/issue_events_126365.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-08-25T20:00:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9720#event-126365"
}
```



---

archive/issue_events_126366.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-08-25T20:00:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9720#event-126366"
}
```



---

archive/issue_comments_085658.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI think that these should really just be options to the random_matrix function so that we don't have a ton of `random_*_matrix` commands floating around in the global namespace.",
    "created_at": "2010-08-25T20:00:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85658",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:13" align="right">comment:13</div>

I think that these should really just be options to the random_matrix function so that we don't have a ton of `random_*_matrix` commands floating around in the global namespace.



---

archive/issue_comments_085659.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@mwhansen](#comment:13):\n> I think that these should really just be options to the random_matrix function so that we don't have a \n> ton of `random_*_matrix` commands floating around in the global namespace.\n\nThough this is logical, I personally vote -1 as it will be somewhat harder\nto use for those who need it (teachers not necessarily expert in Sage\nbut needing it for a quick computation for an example or 2 in a lecture note).\n\nIn any case, I hope this will be approved as I am teaching this *right now*:-)",
    "created_at": "2010-08-25T20:17:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85659",
    "user": "https://github.com/wdjoyner"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@mwhansen](#comment:13):
> I think that these should really just be options to the random_matrix function so that we don't have a 
> ton of `random_*_matrix` commands floating around in the global namespace.

Though this is logical, I personally vote -1 as it will be somewhat harder
to use for those who need it (teachers not necessarily expert in Sage
but needing it for a quick computation for an example or 2 in a lecture note).

In any case, I hope this will be approved as I am teaching this *right now*:-)



---

archive/issue_comments_085660.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nThere won't be tons, just four I think.  ;-)  But I agree entirely.\n\nWould you pass some sort of selector in `*args`, then make these methods of some class of matrices?  How would the documentation be immediately or easily accessible?  Is there a model we can follow someplace else in Sage?\n\nIf you'd be able to suggest a course of action, I can work with Billy to make this happen.  He's finished posting all his routines (there aren't any more planned) and classes begin Monday, so it'd be nice to get this going quickly so he can wrap up his summer project.\n\nThanks again, I'd had the same reservations about adding to the global namespace, but hadn't hit on this option.\n\nRob",
    "created_at": "2010-08-25T20:22:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85660",
    "user": "https://github.com/rbeezer"
}
```

<div id="comment:15" align="right">comment:15</div>

There won't be tons, just four I think.  ;-)  But I agree entirely.

Would you pass some sort of selector in `*args`, then make these methods of some class of matrices?  How would the documentation be immediately or easily accessible?  Is there a model we can follow someplace else in Sage?

If you'd be able to suggest a course of action, I can work with Billy to make this happen.  He's finished posting all his routines (there aren't any more planned) and classes begin Monday, so it'd be nice to get this going quickly so he can wrap up his summer project.

Thanks again, I'd had the same reservations about adding to the global namespace, but hadn't hit on this option.

Rob



---

archive/issue_comments_085661.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nI agree with David's comments about documentation - maybe we can make that happen smoothly and logically, but its not coming to me right at the moment.",
    "created_at": "2010-08-25T20:24:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85661",
    "user": "https://github.com/rbeezer"
}
```

<div id="comment:16" align="right">comment:16</div>

I agree with David's comments about documentation - maybe we can make that happen smoothly and logically, but its not coming to me right at the moment.



---

archive/issue_comments_085662.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@rbeezer](#comment:15):\n> Would you pass some sort of selector in `*args`, then make these methods of some class of matrices?  How would the documentation be immediately or easily accessible?  Is there a model we can follow someplace else in Sage?\n\nYou can leave the functions as they are -- just don't import them into the global namespace.  Then, if you do,\n\n```\nsage: a = random_matrix(QQ, 3, 3, rref=True)\nsage: b = random_matrix(QQ, 3, 3, echelonizable=True)\n```\n\nwhich just delegate to the appropriate function.  You can add a reference to those functions in the docstring of `random_matrix`.\n \nAlso, the documentation is not clear on why there is special casing for ZZ and QQ, and that these methods don't work for inexact rings.  Although, you could argue that if you have one of these matrices over `ZZ` you could just convert all the entries to `RR` and things \"should\" be fine.",
    "created_at": "2010-08-25T20:34:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85662",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@rbeezer](#comment:15):
> Would you pass some sort of selector in `*args`, then make these methods of some class of matrices?  How would the documentation be immediately or easily accessible?  Is there a model we can follow someplace else in Sage?

You can leave the functions as they are -- just don't import them into the global namespace.  Then, if you do,

```
sage: a = random_matrix(QQ, 3, 3, rref=True)
sage: b = random_matrix(QQ, 3, 3, echelonizable=True)
```

which just delegate to the appropriate function.  You can add a reference to those functions in the docstring of `random_matrix`.
 
Also, the documentation is not clear on why there is special casing for ZZ and QQ, and that these methods don't work for inexact rings.  Although, you could argue that if you have one of these matrices over `ZZ` you could just convert all the entries to `RR` and things "should" be fine.



---

archive/issue_comments_085663.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nMike -\n\nOK, that makes sense - thanks.\n\nWe also have \"diagonalizable\", \"unimodular\" and \"subspaceable\", so I think something like a single keyword type/category/class/method/algorithm (I don't really like any of those too much) that defaults to the current \"randomize\" behavior would be better.  Is \"algorithm\" the policy these days for this type of thing?  Some constructors must be square so we would have to check for that first.  (And we can address the ZZ, QQ, inexact situation.)\n\nThanks for the suggestion and quick help.\n\nDavid - I think I can make the HTML docs work well, and can include the necessary import/qualified statement in the tab-completion documentation to make the notebook/command-line docs relatively easy to access.  We'd include at least one full example in the docs for random_matrix() so it could be discovered that way.  Does that sound OK?\n\nBilly - I'll try to set things up to make current patch work.  It won't be too hard then for you to adjust the other two that are outstanding.  Sound OK?\n\nRob",
    "created_at": "2010-08-25T20:49:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85663",
    "user": "https://github.com/rbeezer"
}
```

<div id="comment:18" align="right">comment:18</div>

Mike -

OK, that makes sense - thanks.

We also have "diagonalizable", "unimodular" and "subspaceable", so I think something like a single keyword type/category/class/method/algorithm (I don't really like any of those too much) that defaults to the current "randomize" behavior would be better.  Is "algorithm" the policy these days for this type of thing?  Some constructors must be square so we would have to check for that first.  (And we can address the ZZ, QQ, inexact situation.)

Thanks for the suggestion and quick help.

David - I think I can make the HTML docs work well, and can include the necessary import/qualified statement in the tab-completion documentation to make the notebook/command-line docs relatively easy to access.  We'd include at least one full example in the docs for random_matrix() so it could be discovered that way.  Does that sound OK?

Billy - I'll try to set things up to make current patch work.  It won't be too hard then for you to adjust the other two that are outstanding.  Sound OK?

Rob



---

archive/issue_comments_085664.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@rbeezer](#comment:18):\n> Mike -\n> \n\n...\n\n> \n> David - I think I can make the HTML docs work well, and can include the necessary import/qualified \n> statement in the tab-completion documentation to make the notebook/command-line docs relatively \n> easy to access.  We'd include at least one full example in the docs for random_matrix() so it could be \n> discovered that way.  Does that sound OK?\n\n\nSounds good - thanks Rob (and Mike)!!\n\n\n> \n> Rob",
    "created_at": "2010-08-25T20:55:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85664",
    "user": "https://github.com/wdjoyner"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@rbeezer](#comment:18):
> Mike -
> 

...

> 
> David - I think I can make the HTML docs work well, and can include the necessary import/qualified 
> statement in the tab-completion documentation to make the notebook/command-line docs relatively 
> easy to access.  We'd include at least one full example in the docs for random_matrix() so it could be 
> discovered that way.  Does that sound OK?


Sounds good - thanks Rob (and Mike)!!


> 
> Rob



---

archive/issue_events_126367.json:
```json
{
    "actor": "https://github.com/rbeezer",
    "created_at": "2010-08-25T21:13:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9720#event-126367"
}
```



---

archive/issue_events_126368.json:
```json
{
    "actor": "https://github.com/rbeezer",
    "created_at": "2010-08-25T21:13:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9720#event-126368"
}
```



---

archive/issue_comments_085665.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nTo take care of the namespace issue, what about making it work like graphs does? In other words, \"random_matrix\" behaves like it always has, and \"random_matrix.echelonizable(...)\", \"random_matrix.unimodular()\", etc., do the specialized functions?\n\nI'm a slight -1 on making random_matrix take a ton of options, a lot of which may be mutually exclusive.  For example, if I ask for a random echelonizable matrix over ZZ, with a specific range of entries, will it work?",
    "created_at": "2010-08-25T21:25:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85665",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:21" align="right">comment:21</div>

To take care of the namespace issue, what about making it work like graphs does? In other words, "random_matrix" behaves like it always has, and "random_matrix.echelonizable(...)", "random_matrix.unimodular()", etc., do the specialized functions?

I'm a slight -1 on making random_matrix take a ton of options, a lot of which may be mutually exclusive.  For example, if I ask for a random echelonizable matrix over ZZ, with a specific range of entries, will it work?



---

archive/issue_comments_085666.json:
```json
{
    "body": "Attachment: **[trac_9720-random-echelonizable-matrices-v4.patch.gz](https://github.com/sagemath/sage/files/ticket9720/trac_9720-random-echelonizable-matrices-v4.patch.gz)**\n\nSame as v3, but removed routines from global namespace",
    "created_at": "2010-08-25T21:33:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85666",
    "user": "https://github.com/rbeezer"
}
```

Attachment: **[trac_9720-random-echelonizable-matrices-v4.patch.gz](https://github.com/sagemath/sage/files/ticket9720/trac_9720-random-echelonizable-matrices-v4.patch.gz)**

Same as v3, but removed routines from global namespace



---

archive/issue_comments_085667.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nv4 patch is identical to v3, except the two new routines are not imported into the global namespace, and therefore two import commands are needed in the doctests.\n\nsage/matrix/constructor.py passes randomized testing (-randorder) with these changes.  Full testing later.  Upcoming patch will have `random_matrix()` delegate to these two routines.\n\nBilly's name should still be on this patch as the author.\n\nRob",
    "created_at": "2010-08-25T21:38:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85667",
    "user": "https://github.com/rbeezer"
}
```

<div id="comment:22" align="right">comment:22</div>

v4 patch is identical to v3, except the two new routines are not imported into the global namespace, and therefore two import commands are needed in the doctests.

sage/matrix/constructor.py passes randomized testing (-randorder) with these changes.  Full testing later.  Upcoming patch will have `random_matrix()` delegate to these two routines.

Billy's name should still be on this patch as the author.

Rob



---

archive/issue_comments_085668.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@jasongrout](#comment:21):\n> To take care of the namespace issue, what about making it work like graphs does? In other words, \"random_matrix\" behaves like it always has, and \"random_matrix.echelonizable(...)\", \"random_matrix.unimodular()\", etc., do the specialized functions?\n> \n> I'm a slight -1 on making random_matrix take a ton of options, a lot of which may be mutually exclusive.  For example, if I ask for a random echelonizable matrix over ZZ, with a specific range of entries, will it work?\n\nRight now I'm thinking:\n\n```\nrandom_matrix(RR, 6, 4, algorithm='randomize')\n\nrandom_matrix(ZZ, 6, 4, algorithm='echelon_form')\n\nrandom_matrix(ZZ, 3, 4, algorithm='echelonizable')\n\nrandom_matrix(ZZ, 8, 8, algorithm='diagonalizable')\n```\n\netc.  `random_matrix()` would be a big switch on the value of `algorithm`.  Default would be 'randomize' and preserve current behavior.  `random_matrix()` would throw errors for \"wrong\" rings, or \"wrong\" shapes.\n\n`random_matrix()` would have one good example of each type, with link to actual routine's documentation for PDF & HTL version.  For notebook or CL docs, the documentation would say \"use sage.constructor.random_echelonizable_matrix?\" for more detailed documentation right after the example (not tested).\n\n`random_matrix()` already takes lots of options - anything the randomize function of the entry type accepts.  I think the new functions only accept `upper_bound` as an option, as a type of what Billy calls \"size control\".  Currently, the possibilities for arguments is not handled very well:\n\n```\nsage: random_matrix(QQ, 3, 4, num_bound = 4, den_bound = 10)\n[-3/8 -3/5    1 -4/7]\n[ 3/2  2/3   -2 -1/2]\n[-1/8  1/2  1/8 -3/8]\nsage: random_matrix(ZZ, 3, 4, num_bound = 4, den_bound = 10)\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n\n/sage/dev/devel/sage-main/<ipython console> in <module>()\n\n/sage/dev/local/lib/python2.6/site-packages/sage/matrix/constructor.pyc in random_matrix(R, nrows, ncols, sparse, density, *args, **kwds)\n    829         A.randomize(density=float(1), nonzero=False, *args, **kwds)\n    830     else:\n--> 831         A.randomize(density=density, nonzero=True, *args, **kwds)\n    832     return A\n    833\n\n/sage/dev/local/lib/python2.6/site-packages/sage/matrix/matrix_integer_dense.so in sage.matrix.matrix_integer_dense.Matrix_integer_dense.randomize (sage/matrix/matrix_integer_dense.c:23941)()\n\nTypeError: randomize() got an unexpected keyword argument 'num_bound'\n```\n\nI'm -1 to implementing the whole graphs-dot infrastructure for just five or six functions right as Billy is trying to wrap this up.  (And possibly having to deprecate any current behavior.)  I do want to (but have not found the time yet) to implement the dot-syntax for groups.\n\nJust a thought - we could implement a whole random-dot hierarchy: matrices, primes, graphs,....",
    "created_at": "2010-08-25T22:02:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85668",
    "user": "https://github.com/rbeezer"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@jasongrout](#comment:21):
> To take care of the namespace issue, what about making it work like graphs does? In other words, "random_matrix" behaves like it always has, and "random_matrix.echelonizable(...)", "random_matrix.unimodular()", etc., do the specialized functions?
> 
> I'm a slight -1 on making random_matrix take a ton of options, a lot of which may be mutually exclusive.  For example, if I ask for a random echelonizable matrix over ZZ, with a specific range of entries, will it work?

Right now I'm thinking:

```
random_matrix(RR, 6, 4, algorithm='randomize')

random_matrix(ZZ, 6, 4, algorithm='echelon_form')

random_matrix(ZZ, 3, 4, algorithm='echelonizable')

random_matrix(ZZ, 8, 8, algorithm='diagonalizable')
```

etc.  `random_matrix()` would be a big switch on the value of `algorithm`.  Default would be 'randomize' and preserve current behavior.  `random_matrix()` would throw errors for "wrong" rings, or "wrong" shapes.

`random_matrix()` would have one good example of each type, with link to actual routine's documentation for PDF & HTL version.  For notebook or CL docs, the documentation would say "use sage.constructor.random_echelonizable_matrix?" for more detailed documentation right after the example (not tested).

`random_matrix()` already takes lots of options - anything the randomize function of the entry type accepts.  I think the new functions only accept `upper_bound` as an option, as a type of what Billy calls "size control".  Currently, the possibilities for arguments is not handled very well:

```
sage: random_matrix(QQ, 3, 4, num_bound = 4, den_bound = 10)
[-3/8 -3/5    1 -4/7]
[ 3/2  2/3   -2 -1/2]
[-1/8  1/2  1/8 -3/8]
sage: random_matrix(ZZ, 3, 4, num_bound = 4, den_bound = 10)
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)

/sage/dev/devel/sage-main/<ipython console> in <module>()

/sage/dev/local/lib/python2.6/site-packages/sage/matrix/constructor.pyc in random_matrix(R, nrows, ncols, sparse, density, *args, **kwds)
    829         A.randomize(density=float(1), nonzero=False, *args, **kwds)
    830     else:
--> 831         A.randomize(density=density, nonzero=True, *args, **kwds)
    832     return A
    833

/sage/dev/local/lib/python2.6/site-packages/sage/matrix/matrix_integer_dense.so in sage.matrix.matrix_integer_dense.Matrix_integer_dense.randomize (sage/matrix/matrix_integer_dense.c:23941)()

TypeError: randomize() got an unexpected keyword argument 'num_bound'
```

I'm -1 to implementing the whole graphs-dot infrastructure for just five or six functions right as Billy is trying to wrap this up.  (And possibly having to deprecate any current behavior.)  I do want to (but have not found the time yet) to implement the dot-syntax for groups.

Just a thought - we could implement a whole random-dot hierarchy: matrices, primes, graphs,....



---

archive/issue_comments_085669.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nThe algorithm keyword seems natural enough for me.  What I was opposed to was 5 different True/False keyword options, each mutually exclusive for the others.",
    "created_at": "2010-08-25T22:09:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85669",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:24" align="right">comment:24</div>

The algorithm keyword seems natural enough for me.  What I was opposed to was 5 different True/False keyword options, each mutually exclusive for the others.



---

archive/issue_comments_085670.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@jasongrout](#comment:24):\n> The algorithm keyword seems natural enough for me.  What I was opposed to was 5 different True/False keyword options, each mutually exclusive for the others.\n\nGood - I didn't want that either.  I'm going to start on the above shortly.",
    "created_at": "2010-08-25T22:12:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85670",
    "user": "https://github.com/rbeezer"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@jasongrout](#comment:24):
> The algorithm keyword seems natural enough for me.  What I was opposed to was 5 different True/False keyword options, each mutually exclusive for the others.

Good - I didn't want that either.  I'm going to start on the above shortly.



---

archive/issue_events_126369.json:
```json
{
    "actor": "https://github.com/rbeezer",
    "created_at": "2010-08-26T00:36:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9720#event-126369"
}
```



---

archive/issue_events_126370.json:
```json
{
    "actor": "https://github.com/rbeezer",
    "created_at": "2010-08-26T00:36:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9720#event-126370"
}
```



---

archive/issue_comments_085671.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nInto the `random_matrix` routine and I've never been happy with the documentation, and I may even change the code now that I've dipped into it.  So I'm going to do that work on a new ticket along with allowing for integrating the new constructions.  See #9803.\n\nThat means that the v4 patch makes this ready to go.  It'll be left hidden until #9803 is done, but at least David J can import it as needed until then.\n\nSo if Billy or David want to check-off on my changes from v3 to v4 (undid changes in all.py and added two imports to doctests) then this can go to positive review.  I'll add interested parties to #9803 once I have a patch up, so no need to add yourself yet unless you have more comments.\n\nThis also allows Billy to be sole author on this.",
    "created_at": "2010-08-26T00:36:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85671",
    "user": "https://github.com/rbeezer"
}
```

<div id="comment:26" align="right">comment:26</div>

Into the `random_matrix` routine and I've never been happy with the documentation, and I may even change the code now that I've dipped into it.  So I'm going to do that work on a new ticket along with allowing for integrating the new constructions.  See #9803.

That means that the v4 patch makes this ready to go.  It'll be left hidden until #9803 is done, but at least David J can import it as needed until then.

So if Billy or David want to check-off on my changes from v3 to v4 (undid changes in all.py and added two imports to doctests) then this can go to positive review.  I'll add interested parties to #9803 once I have a patch up, so no need to add yourself yet unless you have more comments.

This also allows Billy to be sole author on this.



---

archive/issue_comments_085672.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@rbeezer](#comment:26):\n\n...\n\n> \n> So if Billy or David want to check-off on my changes from v3 to v4 (undid changes in all.py and added two imports to doctests) then this can go to positive review.  I'll add interested parties to #9803 once I have a patch up, so no need to add yourself yet unless you have more comments.\n> \n\n\nThis looks good to me (I even tested it again for safety's sake:-).\n\n> This also allows Billy to be sole author on this.",
    "created_at": "2010-08-26T12:01:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85672",
    "user": "https://github.com/wdjoyner"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@rbeezer](#comment:26):

...

> 
> So if Billy or David want to check-off on my changes from v3 to v4 (undid changes in all.py and added two imports to doctests) then this can go to positive review.  I'll add interested parties to #9803 once I have a patch up, so no need to add yourself yet unless you have more comments.
> 


This looks good to me (I even tested it again for safety's sake:-).

> This also allows Billy to be sole author on this.



---

archive/issue_comments_085673.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nThanks, David.  I'm going to move this back to positive review.  Patch up at #9803 to reflect discussion above.\n\n# Release manager\n\nApply only the v4 patch and please merge with #9803 once it is ready - the calling syntax changes, so both tickets should go in together.",
    "created_at": "2010-08-26T22:23:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85673",
    "user": "https://github.com/rbeezer"
}
```

<div id="comment:28" align="right">comment:28</div>

Thanks, David.  I'm going to move this back to positive review.  Patch up at #9803 to reflect discussion above.

# Release manager

Apply only the v4 patch and please merge with #9803 once it is ready - the calling syntax changes, so both tickets should go in together.



---

archive/issue_events_126371.json:
```json
{
    "actor": "https://github.com/rbeezer",
    "created_at": "2010-08-26T22:23:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9720#event-126371"
}
```



---

archive/issue_events_126372.json:
```json
{
    "actor": "https://github.com/rbeezer",
    "created_at": "2010-08-26T22:23:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9720#event-126372"
}
```



---

archive/issue_comments_085674.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\n## Release Manager\n\n#9720, #9803, #9802, #9754 is each dependent on the predecessor, merge in this\norder.",
    "created_at": "2010-09-03T06:27:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85674",
    "user": "https://github.com/sagetrac-bwonderly"
}
```

<div id="comment:29" align="right">comment:29</div>

## Release Manager

#9720, #9803, #9802, #9754 is each dependent on the predecessor, merge in this
order.



---

archive/issue_events_126373.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-09-15T09:52:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9720#event-126373"
}
```



---

archive/issue_events_126374.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-09-15T09:52:32Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9720#event-126374"
}
```



---

archive/issue_comments_085675.json:
```json
{
    "body": "Merged: **sage-4.6.alpha1**",
    "created_at": "2010-09-15T09:52:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9720",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9720#issuecomment-85675",
    "user": "https://github.com/qed777"
}
```

Merged: **sage-4.6.alpha1**
