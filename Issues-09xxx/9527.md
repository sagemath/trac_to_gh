# Issue 9527: improve "sage -sh" prompt so it doesn't confuse everybody

archive/issues_009527.json:
```json
{
    "body": "When doing `sage -sh`, the result is very, very confusing, since it has the SAGE_ROOT path displayed unlabeled, which causes confusion, and does not show the current path, which also causes confusion.  This patch adds a label and the current path, to help reduce confusion some.\n\n**Assignee:** @jasongrout\n\n**CC:**  @malb\n\n**Resolution:** fixed\n\n**Author:** William Stein\n\n**Reviewer:** Martin Albrecht\n\n**Merged:** sage-4.5.2.alpha1\n\nIssue created by migration from https://trac.sagemath.org/ticket/9527\n\n",
    "closed_at": "2010-07-22T23:42:14Z",
    "created_at": "2010-07-17T11:55:26Z",
    "labels": [
        "component: misc",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.5.2",
    "title": "improve \"sage -sh\" prompt so it doesn't confuse everybody",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/9527",
    "user": "https://github.com/williamstein"
}
```
When doing `sage -sh`, the result is very, very confusing, since it has the SAGE_ROOT path displayed unlabeled, which causes confusion, and does not show the current path, which also causes confusion.  This patch adds a label and the current path, to help reduce confusion some.

**Assignee:** @jasongrout

**CC:**  @malb

**Resolution:** fixed

**Author:** William Stein

**Reviewer:** Martin Albrecht

**Merged:** sage-4.5.2.alpha1

Issue created by migration from https://trac.sagemath.org/ticket/9527





---

archive/issue_comments_115732.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2010-07-17T12:04:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9527",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9527#issuecomment-115732",
    "user": "https://github.com/williamstein"
}
```

**Changing status** from new to needs_review.



---

archive/attachments_012177.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_9527.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket9527/trac_9527.patch",
    "created_at": "2010-07-17T13:03:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9527",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/williamstein"
}
```



---

archive/issue_comments_115733.json:
```json
{
    "body": "fix SAGE_ROOT (a separate bug, I guess)",
    "created_at": "2010-07-17T13:03:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9527",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9527#issuecomment-115733",
    "user": "https://github.com/williamstein"
}
```

fix SAGE_ROOT (a separate bug, I guess)



---

archive/issue_comments_115734.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2010-07-17T13:09:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9527",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9527#issuecomment-115734",
    "user": "https://github.com/malb"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_115735.json:
```json
{
    "body": "**Author:** William Stein",
    "created_at": "2010-07-17T13:09:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9527",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9527#issuecomment-115735",
    "user": "https://github.com/malb"
}
```

**Author:** William Stein



---

archive/issue_comments_115736.json:
```json
{
    "body": "<a id='comment:2'></a>\nThe patch looks fine. I'd have preferred to have my PS1 to be embedded in the new PS1, i.e. something like this:\n\n```\nthis_is_my_prompt$ sage -sh\nSAGE_ROOT=/usr/local/sage-4.3\n(sage subshell) this_is_my_prompt$\n\n\n```\nBut it seems this just doesn't work (I tried). This new one is definitely an improvement thus I'll give it a positive review.",
    "created_at": "2010-07-17T13:09:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9527",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9527#issuecomment-115736",
    "user": "https://github.com/malb"
}
```

<a id='comment:2'></a>
The patch looks fine. I'd have preferred to have my PS1 to be embedded in the new PS1, i.e. something like this:

```
this_is_my_prompt$ sage -sh
SAGE_ROOT=/usr/local/sage-4.3
(sage subshell) this_is_my_prompt$


```
But it seems this just doesn't work (I tried). This new one is definitely an improvement thus I'll give it a positive review.



---

archive/issue_comments_115737.json:
```json
{
    "body": "**Reviewer:** Martin Albrecht",
    "created_at": "2010-07-17T13:09:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9527",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9527#issuecomment-115737",
    "user": "https://github.com/malb"
}
```

**Reviewer:** Martin Albrecht



---

archive/issue_comments_115738.json:
```json
{
    "body": "<a id='comment:3'></a>\nReplying to [malb](#comment%3A2):\n> The patch looks fine. I'd have preferred to have my PS1 to be embedded in the new PS1, i.e. something like this:\n> \n> ```\n> this_is_my_prompt$ sage -sh\n> SAGE_ROOT=/usr/local/sage-4.3\n> (sage subshell) this_is_my_prompt$\n> \n> \n> ```\n> But it seems this just doesn't work (I tried). \n\n\nI tried too, but couldn't figure it out. This patch is meant to be a big improvement, that's all.",
    "created_at": "2010-07-17T13:15:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9527",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9527#issuecomment-115738",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:3'></a>
Replying to [malb](#comment%3A2):
> The patch looks fine. I'd have preferred to have my PS1 to be embedded in the new PS1, i.e. something like this:
> 
> ```
> this_is_my_prompt$ sage -sh
> SAGE_ROOT=/usr/local/sage-4.3
> (sage subshell) this_is_my_prompt$
> 
> 
> ```
> But it seems this just doesn't work (I tried). 


I tried too, but couldn't figure it out. This patch is meant to be a big improvement, that's all.



---

archive/issue_comments_115739.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2010-07-22T23:42:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9527",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9527#issuecomment-115739",
    "user": "https://github.com/dandrake"
}
```

**Resolution:** fixed



---

archive/issue_comments_115740.json:
```json
{
    "body": "**Merged:** sage-4.5.2.alpha1",
    "created_at": "2010-07-22T23:42:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9527",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9527#issuecomment-115740",
    "user": "https://github.com/dandrake"
}
```

**Merged:** sage-4.5.2.alpha1



---

archive/issue_events_028828.json:
```json
{
    "actor": "https://github.com/dandrake",
    "created_at": "2010-07-22T23:42:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/9527",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9527#event-28828"
}
```
