# Issue 9382: atlas not respecting SAGE_FAT_BINARY on i686 systems

archive/issues_009382.json:
```json
{
    "assignees": [],
    "body": "atlas on i686 systems (x86-Linux) is\nnot respecting SAGE_FAT_BINARY.\n\nThe attached mercurial patch adds\ni686 to the list of other architectures\n(i386, x86_64) that respect SAGE_FAT_BINARY.\n\nComponent: **packages: standard**\n\nReviewer: **Leif Leonhardy, Volker Braun**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/9382_\n\n",
    "closed_at": "2011-08-03T14:43:14Z",
    "created_at": "2010-06-29T20:18:14Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/duplicate"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "atlas not respecting SAGE_FAT_BINARY on i686 systems",
    "type": "issue",
    "updated_at": "2011-08-03T14:43:14Z",
    "url": "https://github.com/sagemath/sage/issues/9382",
    "user": "https://github.com/sagetrac-mariah"
}
```
atlas on i686 systems (x86-Linux) is
not respecting SAGE_FAT_BINARY.

The attached mercurial patch adds
i686 to the list of other architectures
(i386, x86_64) that respect SAGE_FAT_BINARY.

Component: **packages: standard**

Reviewer: **Leif Leonhardy, Volker Braun**

_Issue created by migration from https://trac.sagemath.org/ticket/9382_





---

archive/issue_events_119070.json:
```json
{
    "actor": "https://github.com/sagetrac-mariah",
    "created_at": "2010-06-29T20:18:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "milestone_number": null,
    "milestone_title": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9382#event-119070"
}
```



---

archive/issue_events_119071.json:
```json
{
    "actor": "https://github.com/sagetrac-mariah",
    "created_at": "2010-06-29T20:18:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9382#event-119071"
}
```



---

archive/issue_events_119072.json:
```json
{
    "actor": "https://github.com/sagetrac-mariah",
    "created_at": "2010-06-29T20:18:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9382#event-119072"
}
```



---

archive/issue_events_119073.json:
```json
{
    "actor": "https://github.com/sagetrac-mariah",
    "created_at": "2010-06-29T20:18:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9382#event-119073"
}
```



---

archive/issue_comments_079981.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nAttachment: **[atlas-i686-FAT.patch.gz](https://github.com/sagemath/sage/files/ticket9382/atlas-i686-FAT.patch.gz)**",
    "created_at": "2010-06-29T20:18:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9382#issuecomment-79981",
    "user": "https://github.com/sagetrac-mariah"
}
```

<div id="comment:1" align="right">comment:1</div>

Attachment: **[atlas-i686-FAT.patch.gz](https://github.com/sagemath/sage/files/ticket9382/atlas-i686-FAT.patch.gz)**



---

archive/issue_events_119074.json:
```json
{
    "actor": "https://github.com/sagetrac-mariah",
    "created_at": "2010-06-29T20:18:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9382#event-119074"
}
```



---

archive/issue_comments_079982.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nVery likely positive review -- just need Robert Miller to try it on some 32-bit linux box.",
    "created_at": "2010-07-06T13:17:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9382#issuecomment-79982",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:2" align="right">comment:2</div>

Very likely positive review -- just need Robert Miller to try it on some 32-bit linux box.



---

archive/issue_events_119075.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2010-07-09T09:38:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9382#event-119075"
}
```



---

archive/issue_events_119076.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2010-07-09T09:38:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9382#event-119076"
}
```



---

archive/issue_comments_079983.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI get an error installing atlas with this patch:\n\n```\nHost system\nuname -a:\nLinux cicero 2.6.32.12-115.fc12.i686.PAE #1 SMP Fri Apr 30 20:14:08 UTC 2010 i686 i686 i386 GNU/Linux\n****************************************************\n****************************************************\nCC Version\ngcc -v\nUsing built-in specs.\nTarget: i686-redhat-linux\nConfigured with: ../configure --prefix=/usr --mandir=/usr/share/man --infodir=/usr/share/info --with-bugurl=http://bugzilla.redhat.com/bugzilla --enable-bootstrap --enable-shared --enable-threads=posix --enable-checking=release --with-system-zlib --enable-__cxa_atexit --disable-libunwind-exceptions --enable-gnu-unique-object --enable-languages=c,c++,objc,obj-c++,java,fortran,ada --enable-java-awt=gtk --disable-dssi --enable-plugin --with-java-home=/usr/lib/jvm/java-1.5.0-gcj-1.5.0.0/jre --enable-libgcj-multifile --enable-java-maintainer-mode --with-ecj-jar=/usr/share/java/eclipse-ecj.jar --disable-libjava-multilib --with-ppl --with-cloog --with-tune=generic --with-arch=i686 --build=i686-redhat-linux\nThread model: posix\ngcc version 4.4.4 20100630 (Red Hat 4.4.4-10) (GCC) \n****************************************************\nPlatform detected to be 32 bits\nsystem_atlas.py:6: DeprecationWarning: os.popen2 is deprecated.  Use the subprocess module.\n  fortran = os.popen2(os.environ['SAGE_LOCAL']+'/bin/'+'which_fortran')[1].read()\n./spkg-install-script: line 119: syntax error near unexpected token `}'\n./spkg-install-script: line 119: `}'\nFailed to build ATLAS.\n\nreal    0m0.326s\nuser    0m0.129s\nsys     0m0.122s\nsage: An error occurred while installing atlas-3.8.3.p13\n```\n\nLooking at the patch, do I see a mismatched single quote?",
    "created_at": "2010-07-09T09:38:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9382#issuecomment-79983",
    "user": "https://github.com/rlmill"
}
```

<div id="comment:3" align="right">comment:3</div>

I get an error installing atlas with this patch:

```
Host system
uname -a:
Linux cicero 2.6.32.12-115.fc12.i686.PAE #1 SMP Fri Apr 30 20:14:08 UTC 2010 i686 i686 i386 GNU/Linux
****************************************************
****************************************************
CC Version
gcc -v
Using built-in specs.
Target: i686-redhat-linux
Configured with: ../configure --prefix=/usr --mandir=/usr/share/man --infodir=/usr/share/info --with-bugurl=http://bugzilla.redhat.com/bugzilla --enable-bootstrap --enable-shared --enable-threads=posix --enable-checking=release --with-system-zlib --enable-__cxa_atexit --disable-libunwind-exceptions --enable-gnu-unique-object --enable-languages=c,c++,objc,obj-c++,java,fortran,ada --enable-java-awt=gtk --disable-dssi --enable-plugin --with-java-home=/usr/lib/jvm/java-1.5.0-gcj-1.5.0.0/jre --enable-libgcj-multifile --enable-java-maintainer-mode --with-ecj-jar=/usr/share/java/eclipse-ecj.jar --disable-libjava-multilib --with-ppl --with-cloog --with-tune=generic --with-arch=i686 --build=i686-redhat-linux
Thread model: posix
gcc version 4.4.4 20100630 (Red Hat 4.4.4-10) (GCC) 
****************************************************
Platform detected to be 32 bits
system_atlas.py:6: DeprecationWarning: os.popen2 is deprecated.  Use the subprocess module.
  fortran = os.popen2(os.environ['SAGE_LOCAL']+'/bin/'+'which_fortran')[1].read()
./spkg-install-script: line 119: syntax error near unexpected token `}'
./spkg-install-script: line 119: `}'
Failed to build ATLAS.

real    0m0.326s
user    0m0.129s
sys     0m0.122s
sage: An error occurred while installing atlas-3.8.3.p13
```

Looking at the patch, do I see a mismatched single quote?



---

archive/issue_comments_079984.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\n> Looking at the patch, do I see a mismatched single quote?\n\nThat's what it looks like to me.  What if you just delete the quote?  Replace\n\n```\nif [ \"`uname -p`\" = \"i386\" -o \"'`uname -p`\" = \"i686\" -o `uname -p`\" = \"x86_64\" ]; then \n```\nwith\n\n```\nif [ \"`uname -p`\" = \"i386\" -o \"`uname -p`\" = \"i686\" -o `uname -p`\" = \"x86_64\" ]; then \n```\n(no single quote before the second <code>\\`uname...\\`</code>).",
    "created_at": "2010-07-10T03:31:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9382#issuecomment-79984",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:4" align="right">comment:4</div>

> Looking at the patch, do I see a mismatched single quote?

That's what it looks like to me.  What if you just delete the quote?  Replace

```
if [ "`uname -p`" = "i386" -o "'`uname -p`" = "i686" -o `uname -p`" = "x86_64" ]; then 
```
with

```
if [ "`uname -p`" = "i386" -o "`uname -p`" = "i686" -o `uname -p`" = "x86_64" ]; then 
```
(no single quote before the second <code>\`uname...\`</code>).



---

archive/issue_comments_079985.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThe third uname then has a mismatched double quote.",
    "created_at": "2010-07-11T21:05:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9382#issuecomment-79985",
    "user": "https://github.com/rlmill"
}
```

<div id="comment:5" align="right">comment:5</div>

The third uname then has a mismatched double quote.



---

archive/issue_comments_079986.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nApologies for my silly error.  Here is a revised patch [9382.patch](http://boxen.math.washington.edu/home/mariah/spkgs/9382.patch) and the corresponding spkg [atlas-3.8.3.p13.spkg](http://boxen.math.washington.edu/mariah/spkgs/atlas-3.8.3.p13.spkg).",
    "created_at": "2010-07-15T17:45:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9382#issuecomment-79986",
    "user": "https://github.com/sagetrac-mariah"
}
```

<div id="comment:6" align="right">comment:6</div>

Apologies for my silly error.  Here is a revised patch [9382.patch](http://boxen.math.washington.edu/home/mariah/spkgs/9382.patch) and the corresponding spkg [atlas-3.8.3.p13.spkg](http://boxen.math.washington.edu/mariah/spkgs/atlas-3.8.3.p13.spkg).



---

archive/issue_events_119077.json:
```json
{
    "actor": "https://github.com/sagetrac-mariah",
    "created_at": "2010-07-15T17:45:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9382#event-119077"
}
```



---

archive/issue_events_119078.json:
```json
{
    "actor": "https://github.com/sagetrac-mariah",
    "created_at": "2010-07-15T17:45:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9382#event-119078"
}
```



---

archive/issue_comments_079987.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nA similar problem has been noticed in Arch Linux: https://bugs.archlinux.org/task/21592\n\n```\n18:44 < td123> hello\n18:45 < td123> it seems that when building sage, it doesn't respect the \n               SAGE_FAT_BINARY='yes' option because I built sage with that \n               option on a corei7 for x86 and someone kept getting illegal \n               instruction on a pentium 3\n18:45 < td123> when I looked through the logs, it seemed that atlas (among \n               possibly others) were building with processort specific \n               optimizations\n18:48 < td123> I'm the packager for archlinux :) \nhttp://repos.archlinux.org/wsvn/community/sage-mathematics/trunk/PKGBUILD is \n               the package source\n```",
    "created_at": "2010-11-09T03:03:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9382#issuecomment-79987",
    "user": "https://github.com/dandrake"
}
```

<div id="comment:7" align="right">comment:7</div>

A similar problem has been noticed in Arch Linux: https://bugs.archlinux.org/task/21592

```
18:44 < td123> hello
18:45 < td123> it seems that when building sage, it doesn't respect the 
               SAGE_FAT_BINARY='yes' option because I built sage with that 
               option on a corei7 for x86 and someone kept getting illegal 
               instruction on a pentium 3
18:45 < td123> when I looked through the logs, it seemed that atlas (among 
               possibly others) were building with processort specific 
               optimizations
18:48 < td123> I'm the packager for archlinux :) 
http://repos.archlinux.org/wsvn/community/sage-mathematics/trunk/PKGBUILD is 
               the package source
```



---

archive/issue_events_119079.json:
```json
{
    "actor": "https://github.com/wjp",
    "created_at": "2010-12-06T18:03:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9382#event-119079"
}
```



---

archive/issue_events_119080.json:
```json
{
    "actor": "https://github.com/wjp",
    "created_at": "2010-12-06T18:03:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9382#event-119080"
}
```



---

archive/issue_comments_079988.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\n`uname -p` on linux returns a textual description of the CPU for me, not a canonical architecture name. It looks like this may have to be `uname -m` on Linux.\n\nOn the other hand, on solaris it looks like `uname -p` is correct.\n\nAs `td123` on IRC suggested, maybe we should just check both the results of `-m` and `-p` for these values?",
    "created_at": "2010-12-06T18:03:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9382#issuecomment-79988",
    "user": "https://github.com/wjp"
}
```

<div id="comment:8" align="right">comment:8</div>

`uname -p` on linux returns a textual description of the CPU for me, not a canonical architecture name. It looks like this may have to be `uname -m` on Linux.

On the other hand, on solaris it looks like `uname -p` is correct.

As `td123` on IRC suggested, maybe we should just check both the results of `-m` and `-p` for these values?



---

archive/issue_events_119081.json:
```json
{
    "actor": "https://github.com/wjp",
    "created_at": "2011-01-08T23:30:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9382#event-119081"
}
```



---

archive/issue_events_119082.json:
```json
{
    "actor": "https://github.com/wjp",
    "created_at": "2011-01-08T23:30:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9382#event-119082"
}
```



---

archive/issue_comments_079989.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI've done that:\n\nhttp://www.math.leidenuniv.nl/~wpalenst/sage/atlas-3.8.3.p17.spkg\n\nhttp://www.math.leidenuniv.nl/~wpalenst/sage/9382_atlas_i686_fat.patch",
    "created_at": "2011-01-08T23:30:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9382#issuecomment-79989",
    "user": "https://github.com/wjp"
}
```

<div id="comment:9" align="right">comment:9</div>

I've done that:

http://www.math.leidenuniv.nl/~wpalenst/sage/atlas-3.8.3.p17.spkg

http://www.math.leidenuniv.nl/~wpalenst/sage/9382_atlas_i686_fat.patch



---

archive/issue_comments_079990.json:
```json
{
    "body": "Changed author from **Mariah Lenox** to **Mariah Lenox, Willem Jan Palenstijn**",
    "created_at": "2011-01-08T23:30:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9382#issuecomment-79990",
    "user": "https://github.com/wjp"
}
```

Changed author from **Mariah Lenox** to **Mariah Lenox, Willem Jan Palenstijn**



---

archive/issue_comments_079991.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nWillem: which machine and which uname outputs are you referring to in comment 8?\n\nInstead of hacking around the current atlas build script, I think it would be a good point to switch to my rewritten atlas spkg at #10226 that detects the configuration in a much cleaner way.",
    "created_at": "2011-01-09T17:26:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9382#issuecomment-79991",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:10" align="right">comment:10</div>

Willem: which machine and which uname outputs are you referring to in comment 8?

Instead of hacking around the current atlas build script, I think it would be a good point to switch to my rewritten atlas spkg at #10226 that detects the configuration in a much cleaner way.



---

archive/issue_comments_079992.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nNearly every linux machine I've tried, with a few exceptions where `uname -m` and `uname -p` give the same output.\n\nExample (a 64 bit Gentoo machine):\n\n```\nmira: ~ > uname -m\nx86_64\nmira: ~ > uname -p\nIntel(R) Xeon(R) CPU X3220 @ 2.40GHz\n```",
    "created_at": "2011-01-09T17:29:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9382#issuecomment-79992",
    "user": "https://github.com/wjp"
}
```

<div id="comment:11" align="right">comment:11</div>

Nearly every linux machine I've tried, with a few exceptions where `uname -m` and `uname -p` give the same output.

Example (a 64 bit Gentoo machine):

```
mira: ~ > uname -m
x86_64
mira: ~ > uname -p
Intel(R) Xeon(R) CPU X3220 @ 2.40GHz
```



---

archive/issue_comments_079993.json:
```json
{
    "body": "updated version of previous patches",
    "created_at": "2011-01-11T02:11:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9382#issuecomment-79993",
    "user": "https://github.com/dandrake"
}
```

updated version of previous patches



---

archive/issue_comments_079994.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nAttachment: **[9382.patch.gz](https://github.com/sagemath/sage/files/ticket9382/9382.patch.gz)**\n\nReplying to [@sagetrac-mariah](#comment%3A6):\n> Apologies for my silly error.  Here is a revised patch [9382.patch](http://boxen.math.washington.edu/home/mariah/spkgs/9382.patch)\n\nThat patch has another tiny error: it has \"`uname-p`\" (no space between \"uname\" and \"-p\"). I just uploaded a patch to this ticket in which I fixed that problem. However, there are other problems: on Ubuntu, it seems that `uname -p` returns \"unknown\" and `uname -m` returns the architecture name that we want. I've tried this on several 32-bit and 64-bit (i.e., i686 and x86_64) computers, on Ubuntu 8.04, 10.04, and 10.10 and they all behave the same. So we will need to use \"-m\" to correctly detect this on Ubuntu.",
    "created_at": "2011-01-11T02:16:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9382#issuecomment-79994",
    "user": "https://github.com/dandrake"
}
```

<div id="comment:12" align="right">comment:12</div>

Attachment: **[9382.patch.gz](https://github.com/sagemath/sage/files/ticket9382/9382.patch.gz)**

Replying to [@sagetrac-mariah](#comment%3A6):
> Apologies for my silly error.  Here is a revised patch [9382.patch](http://boxen.math.washington.edu/home/mariah/spkgs/9382.patch)

That patch has another tiny error: it has "`uname-p`" (no space between "uname" and "-p"). I just uploaded a patch to this ticket in which I fixed that problem. However, there are other problems: on Ubuntu, it seems that `uname -p` returns "unknown" and `uname -m` returns the architecture name that we want. I've tried this on several 32-bit and 64-bit (i.e., i686 and x86_64) computers, on Ubuntu 8.04, 10.04, and 10.10 and they all behave the same. So we will need to use "-m" to correctly detect this on Ubuntu.



---

archive/issue_events_119083.json:
```json
{
    "actor": "https://github.com/dandrake",
    "created_at": "2011-01-11T02:17:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9382#event-119083"
}
```



---

archive/issue_events_119084.json:
```json
{
    "actor": "https://github.com/dandrake",
    "created_at": "2011-01-11T02:17:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9382#event-119084"
}
```



---

archive/issue_comments_079995.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nYou're looking at an old version of the patch. The most up to date one is the SPKG in comment #9.\n\nAlso, #10226 (which also needs review) might supersede this patch.",
    "created_at": "2011-01-11T02:37:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9382#issuecomment-79995",
    "user": "https://github.com/wjp"
}
```

<div id="comment:14" align="right">comment:14</div>

You're looking at an old version of the patch. The most up to date one is the SPKG in comment #9.

Also, #10226 (which also needs review) might supersede this patch.



---

archive/issue_events_119085.json:
```json
{
    "actor": "https://github.com/wjp",
    "created_at": "2011-01-11T02:37:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9382#event-119085"
}
```



---

archive/issue_events_119086.json:
```json
{
    "actor": "https://github.com/wjp",
    "created_at": "2011-01-11T02:37:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9382#event-119086"
}
```



---

archive/issue_comments_079996.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@wjp](#comment%3A14):\n> Also, #10226 (which also needs review) might supersede this patch.\n\nIt does, and I think we should work on that ticket and close this one when #10226 gets merged.",
    "created_at": "2011-01-11T03:30:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9382#issuecomment-79996",
    "user": "https://github.com/dandrake"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@wjp](#comment%3A14):
> Also, #10226 (which also needs review) might supersede this patch.

It does, and I think we should work on that ticket and close this one when #10226 gets merged.



---

archive/issue_comments_079997.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@dandrake](#comment%3A15):\n> Replying to [@wjp](#comment%3A14):\n> > Also, #10226 (which also needs review) might supersede this patch.\n\n> \n> It does, and I think we should work on that ticket and close this one when #10226 gets merged.\n\nI currently don't know whether the new (*Python* install script) ATLAS spkg from #10226 supports `SAGE_FAT_BINARY` as desired, but for the record:\n\n* `uname -p` isn't portable (it may return \"`unknown`\" even on Linuces), one should use `uname -m` instead.\n\n* Rather than having (btw. incomplete)\n\n```sh\n    if [ ... -o ... -o ... -o ... ]; then ...\n```\n one should use\n\n```sh\n    case \"`uname -m`\" in\n      i[3456]86|i86pc)\n        ...\n        ;;\n      amd64|x86_64)\n        ...\n        ;;\n      ia64) # Itanium\n        ...\n        ;;\n      # etc.\n    esac\n```\n instead, which is not only more readable, but also more robust (and portable w.r.t. broken / buggy `test` commands).",
    "created_at": "2011-08-03T07:07:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9382#issuecomment-79997",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@dandrake](#comment%3A15):
> Replying to [@wjp](#comment%3A14):
> > Also, #10226 (which also needs review) might supersede this patch.

> 
> It does, and I think we should work on that ticket and close this one when #10226 gets merged.

I currently don't know whether the new (*Python* install script) ATLAS spkg from #10226 supports `SAGE_FAT_BINARY` as desired, but for the record:

* `uname -p` isn't portable (it may return "`unknown`" even on Linuces), one should use `uname -m` instead.

* Rather than having (btw. incomplete)

```sh
    if [ ... -o ... -o ... -o ... ]; then ...
```
 one should use

```sh
    case "`uname -m`" in
      i[3456]86|i86pc)
        ...
        ;;
      amd64|x86_64)
        ...
        ;;
      ia64) # Itanium
        ...
        ;;
      # etc.
    esac
```
 instead, which is not only more readable, but also more robust (and portable w.r.t. broken / buggy `test` commands).



---

archive/issue_comments_079998.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nFor the record, the updated ATLAS spkg from #10226 uses the `$UNAME` environment variable (which Sage sets) if available, and python's portable `platform.system()` otherwise:\n\n```python\ntry:\n    conf['system'] = os.environ['UNAME']\nexcept KeyError:\n    conf['system'] = platform.system()\n```\nAlso there is some support for `SAGE_FAT_BINARY`:\n\n```python\n    if os.environ.get('SAGE_FAT_BINARY', 'no') == 'yes' and conf['Intel?']:\n        print 'Sage \"fat\" binary mode set: Building SSE2 only Hammer binary'\n        print 'NOTE: This can result in a Sage that is significantly slower at certain numerical'\n        print 'linear algebra since full FAT binary support has not been implemented yet.'\n        arch = 'HAMMER'\n        isa_ext = ('SSE2', 'SSE1')\n```\nThough I'm not sure if anybody ever verified that ATLAS, with these settings, indeed does not use any more advanced isa extensions.",
    "created_at": "2011-08-03T09:04:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9382#issuecomment-79998",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:17" align="right">comment:17</div>

For the record, the updated ATLAS spkg from #10226 uses the `$UNAME` environment variable (which Sage sets) if available, and python's portable `platform.system()` otherwise:

```python
try:
    conf['system'] = os.environ['UNAME']
except KeyError:
    conf['system'] = platform.system()
```
Also there is some support for `SAGE_FAT_BINARY`:

```python
    if os.environ.get('SAGE_FAT_BINARY', 'no') == 'yes' and conf['Intel?']:
        print 'Sage "fat" binary mode set: Building SSE2 only Hammer binary'
        print 'NOTE: This can result in a Sage that is significantly slower at certain numerical'
        print 'linear algebra since full FAT binary support has not been implemented yet.'
        arch = 'HAMMER'
        isa_ext = ('SSE2', 'SSE1')
```
Though I'm not sure if anybody ever verified that ATLAS, with these settings, indeed does not use any more advanced isa extensions.



---

archive/issue_comments_079999.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nOops we are talking about `uname -m`. For this, I'm using `platform.machine()`:\n\n```python\nconf['Intel?'] = (platform.machine() in ('i386', 'i486', 'i586', 'i686', 'x86_64', \n                                         'AMD64', 'i86pc'))\nconf['IA64?']   = (platform.processor() == 'ia64')\nconf['PPC?']   = (platform.processor() == 'powerpc')\nconf['SPARC?'] = (platform.processor() == 'sparc')\n```",
    "created_at": "2011-08-03T09:07:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9382#issuecomment-79999",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:18" align="right">comment:18</div>

Oops we are talking about `uname -m`. For this, I'm using `platform.machine()`:

```python
conf['Intel?'] = (platform.machine() in ('i386', 'i486', 'i586', 'i686', 'x86_64', 
                                         'AMD64', 'i86pc'))
conf['IA64?']   = (platform.processor() == 'ia64')
conf['PPC?']   = (platform.processor() == 'powerpc')
conf['SPARC?'] = (platform.processor() == 'sparc')
```



---

archive/issue_comments_080000.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@vbraun](#comment%3A17):\n> Though I'm not sure if anybody ever verified that ATLAS, with these settings, indeed does not use any more advanced isa extensions.\n\nRegarding that a) the notion of \"fat\" binaries is misleading (because \"fat\" originally refers to **different** code for different [flavours of] processors in the **same** binary / executable), and b) there's neither a definition nor a consistent practice of what ISA subsets Sage uses if `SAGE_FAT_BINARY=yes`, I think we can then close this ticket.\n\nIf someone complains, we can always change the behaviour of the affected spkg(s); with the exception of AFAIK very rare `SIGILL` reports for binary distributions Mariah seems to be the only one who actually regularly tests this feature.\n\nWe could of course over time collect what different spkgs do, on a wiki page, though.\n\n(For most packages and binary distributions adding `-march=...` or `-mcpu=...` to `CFLAGS` -- or configuring GCC to default to these -- should be sufficient anyway; building binary Sage distributions on less advanced processors is another way.)",
    "created_at": "2011-08-03T10:25:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9382#issuecomment-80000",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@vbraun](#comment%3A17):
> Though I'm not sure if anybody ever verified that ATLAS, with these settings, indeed does not use any more advanced isa extensions.

Regarding that a) the notion of "fat" binaries is misleading (because "fat" originally refers to **different** code for different [flavours of] processors in the **same** binary / executable), and b) there's neither a definition nor a consistent practice of what ISA subsets Sage uses if `SAGE_FAT_BINARY=yes`, I think we can then close this ticket.

If someone complains, we can always change the behaviour of the affected spkg(s); with the exception of AFAIK very rare `SIGILL` reports for binary distributions Mariah seems to be the only one who actually regularly tests this feature.

We could of course over time collect what different spkgs do, on a wiki page, though.

(For most packages and binary distributions adding `-march=...` or `-mcpu=...` to `CFLAGS` -- or configuring GCC to default to these -- should be sufficient anyway; building binary Sage distributions on less advanced processors is another way.)



---

archive/issue_comments_080001.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nI agree and will set this ticket to positive review.\n\nSince it is hard/impossible to tell the gcc flags from the compiled binary, I think we should eventually move the `SAGE_FAT_BINARY` support into the compilerwrapper. It would be easy for the compilerwrapper to set the desired `-march` / `-mtune` flags consistently for each binary that we build. \n\nPS: `-mcpu` is a deprecated synonym for `-mtune`.\n\nRelease manager: this ticket is fixed by #10226 and can be closed.",
    "created_at": "2011-08-03T10:46:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9382#issuecomment-80001",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:20" align="right">comment:20</div>

I agree and will set this ticket to positive review.

Since it is hard/impossible to tell the gcc flags from the compiled binary, I think we should eventually move the `SAGE_FAT_BINARY` support into the compilerwrapper. It would be easy for the compilerwrapper to set the desired `-march` / `-mtune` flags consistently for each binary that we build. 

PS: `-mcpu` is a deprecated synonym for `-mtune`.

Release manager: this ticket is fixed by #10226 and can be closed.



---

archive/issue_comments_080002.json:
```json
{
    "body": "Reviewer: **Leif Leonhardy, Volker Braun**",
    "created_at": "2011-08-03T10:46:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9382#issuecomment-80002",
    "user": "https://github.com/vbraun"
}
```

Reviewer: **Leif Leonhardy, Volker Braun**



---

archive/issue_events_119087.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-08-03T10:46:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9382#event-119087"
}
```



---

archive/issue_events_119088.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-08-03T10:46:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9382#event-119088"
}
```



---

archive/issue_comments_080003.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@vbraun](#comment%3A20):\n> PS: `-mcpu` is a deprecated synonym for `-mtune`.\n\nNope, `-mcpu` selects the instruction set, while `-mtune` only affects timing-specific choices (selection or reordering of instructions of that subset); `-march=foo` is equivalent to `-mcpu=foo -mtune=foo`. (I don't think that's changed recently, though `configure` supports `--with-arch-NN=...` and `--with-tune-NN=...`, NN in {32, 64}.)\n\n---\n\nShould we cc Jeroen and delete the ticket from the wishlist wiki page?",
    "created_at": "2011-08-03T11:45:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9382#issuecomment-80003",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@vbraun](#comment%3A20):
> PS: `-mcpu` is a deprecated synonym for `-mtune`.

Nope, `-mcpu` selects the instruction set, while `-mtune` only affects timing-specific choices (selection or reordering of instructions of that subset); `-march=foo` is equivalent to `-mcpu=foo -mtune=foo`. (I don't think that's changed recently, though `configure` supports `--with-arch-NN=...` and `--with-tune-NN=...`, NN in {32, 64}.)

---

Should we cc Jeroen and delete the ticket from the wishlist wiki page?



---

archive/issue_comments_080004.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nWell http://gcc.gnu.org/onlinedocs/gcc-4.6.1/gcc/i386-and-x86_002d64-Options.html#i386-and-x86_002d64-Options says:\n\n```\n-mcpu=cpu-type\n    A deprecated synonym for -mtune. \n```\nThe instruction set is selected with `-march`. \n\nWe should remove the ticket from the wishlist. Jeroen will close this ticket when he gets around to it, no need to contact him.",
    "created_at": "2011-08-03T11:53:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9382#issuecomment-80004",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:22" align="right">comment:22</div>

Well http://gcc.gnu.org/onlinedocs/gcc-4.6.1/gcc/i386-and-x86_002d64-Options.html#i386-and-x86_002d64-Options says:

```
-mcpu=cpu-type
    A deprecated synonym for -mtune. 
```
The instruction set is selected with `-march`. 

We should remove the ticket from the wishlist. Jeroen will close this ticket when he gets around to it, no need to contact him.



---

archive/issue_comments_080005.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@vbraun](#comment%3A22):\n>\n\n```\n-mcpu=cpu-type\n    A deprecated synonym for -mtune. \n```\nMaybe a long-lasting typo (at least since GCC 4.3.3, to be reported upstream ;-) ). Sections on other architectures describe the [IMHO] correct meaning. Or it has been inconsistent for x86 from the beginning, and therefore been deprecated.",
    "created_at": "2011-08-03T12:17:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9382#issuecomment-80005",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@vbraun](#comment%3A22):
>

```
-mcpu=cpu-type
    A deprecated synonym for -mtune. 
```
Maybe a long-lasting typo (at least since GCC 4.3.3, to be reported upstream ;-) ). Sections on other architectures describe the [IMHO] correct meaning. Or it has been inconsistent for x86 from the beginning, and therefore been deprecated.



---

archive/issue_comments_080006.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nI don't see any consistency across architectures:\n\n* x86 has `-march` and `-mtune`==`-mcpu`\n* ARM has `-march` and `-mtune`==`-mcpu` (except perhaps with fewer possible values??)\n* MIPS has `-march` and `-mtune` but not `-mcpu`\n* PowerPC does not have `-march`, but supports `-mtune` and `-mcpu`\n\nThere is a ton of dead architectures, but I don't think they have any up-to-date interface.",
    "created_at": "2011-08-03T12:34:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9382#issuecomment-80006",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:24" align="right">comment:24</div>

I don't see any consistency across architectures:

* x86 has `-march` and `-mtune`==`-mcpu`
* ARM has `-march` and `-mtune`==`-mcpu` (except perhaps with fewer possible values??)
* MIPS has `-march` and `-mtune` but not `-mcpu`
* PowerPC does not have `-march`, but supports `-mtune` and `-mcpu`

There is a ton of dead architectures, but I don't think they have any up-to-date interface.



---

archive/issue_events_119089.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-03T14:43:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9382#event-119089"
}
```



---

archive/issue_events_119090.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-03T14:43:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "label": "https://github.com/sagemath/sage/labels/duplicate",
    "label_color": "c6c6c6",
    "label_name": "duplicate",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9382#event-119090"
}
```



---

archive/issue_comments_080007.json:
```json
{
    "body": "Changed author from **Mariah Lenox, Willem Jan Palenstijn** to none",
    "created_at": "2011-08-03T14:43:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9382#issuecomment-80007",
    "user": "https://github.com/jdemeyer"
}
```

Changed author from **Mariah Lenox, Willem Jan Palenstijn** to none



---

archive/issue_events_119091.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-03T14:43:14Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "milestone_number": null,
    "milestone_title": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9382#event-119091"
}
```



---

archive/issue_events_119092.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-03T14:43:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9382#event-119092"
}
```



---

archive/issue_events_119093.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-03T14:43:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/9382",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9382#event-119093"
}
```
