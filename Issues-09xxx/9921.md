# Issue 9921: nose testing suite as an optional spkg

archive/issues_009920.json:
```json
{
    "assignees": [],
    "body": "Several projects we depend on use nose to do self-tests.  In order to test these packages, we'd have to have nose installed.\n\nThis is fairly simple without an spkg:\n\n```\nwget http://pypi.python.org/packages/source/n/nose/nose-1.1.2.tar.gz # or the latest version at http://pypi.python.org/pypi/nose/\ntar xzvf nose-1.1.2.tar.gz\ncd nose-1.1.2\nsage -python setup.py install  \n```\n\nHowever, it might make sense to have nose be an optional spkg.\n\nMatplotlib relies on nose to do tests (http://matplotlib.sourceforge.net/devel/coding_guide.html#testing), as well as numpy/scipy (http://projects.scipy.org/numpy/wiki/TestingGuidelines).\n\n---\n\nNew spkg: [version 1.1.2](http://sage.math.washington.edu/home/palmieri/SPKG/nose-1.1.2.spkg).\n\nApply [attachment: trac_9921-nose-scripts.patch.gz](https://github.com/sagemath/sage/files/ticket9921/trac_9921-nose-scripts.patch.gz) to the scripts repo.\n\nCC:  drkirkby @jhpalmieri\n\nKeywords: **sd41**\n\nReviewer: **Karl-Dieter Crisman, Martin Raum**\n\nAuthor: **John Palmieri**\n\nMerged: **sage-5.7.beta2**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/9921_\n\n",
    "closed_at": "2013-01-30T16:35:14Z",
    "created_at": "2010-09-16T17:32:19Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "nose testing suite as an optional spkg",
    "type": "issue",
    "updated_at": "2013-01-30T16:35:14Z",
    "url": "https://github.com/sagemath/sage/issues/9921",
    "user": "https://github.com/jasongrout"
}
```
Several projects we depend on use nose to do self-tests.  In order to test these packages, we'd have to have nose installed.

This is fairly simple without an spkg:

```
wget http://pypi.python.org/packages/source/n/nose/nose-1.1.2.tar.gz # or the latest version at http://pypi.python.org/pypi/nose/
tar xzvf nose-1.1.2.tar.gz
cd nose-1.1.2
sage -python setup.py install  
```

However, it might make sense to have nose be an optional spkg.

Matplotlib relies on nose to do tests (http://matplotlib.sourceforge.net/devel/coding_guide.html#testing), as well as numpy/scipy (http://projects.scipy.org/numpy/wiki/TestingGuidelines).

---

New spkg: [version 1.1.2](http://sage.math.washington.edu/home/palmieri/SPKG/nose-1.1.2.spkg).

Apply [attachment: trac_9921-nose-scripts.patch.gz](https://github.com/sagemath/sage/files/ticket9921/trac_9921-nose-scripts.patch.gz) to the scripts repo.

CC:  drkirkby @jhpalmieri

Keywords: **sd41**

Reviewer: **Karl-Dieter Crisman, Martin Raum**

Author: **John Palmieri**

Merged: **sage-5.7.beta2**

_Issue created by migration from https://trac.sagemath.org/ticket/9921_





---

archive/issue_events_117611.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-09-16T17:32:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "milestone_number": null,
    "milestone_title": "sage-5.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9921#event-117611"
}
```



---

archive/issue_events_117612.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-09-16T17:32:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "component: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9921#event-117612"
}
```



---

archive/issue_events_117613.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-09-16T17:32:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9921#event-117613"
}
```



---

archive/issue_events_117614.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-09-16T17:32:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9921#event-117614"
}
```



---

archive/issue_comments_091542.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nThe current website for nose is: http://code.google.com/p/python-nose/",
    "created_at": "2010-09-16T17:33:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91542",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:1'>Comment 1:</a>
The current website for nose is: http://code.google.com/p/python-nose/



---

archive/issue_comments_091543.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,9 +3,9 @@\n This is fairly simple without an spkg:\n \n ```\n-wget http://somethingaboutorange.com/mrl/projects/nose/nose-0.11.2.tar.gz\n-tar xzvf nose-0.11.2.tar.gz\n-cd nose-0.11.2\n+wget http://code.google.com/p/python-nose/downloads/detail?name=nose-0.11.3.tar.gz\n+tar xzvf nose-0.11.3.tar.gz\n+cd nose-0.11.3\n sage -python setup.py install  \n ```\n \n``````\n",
    "created_at": "2010-09-16T17:35:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91543",
    "user": "https://github.com/jasongrout"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,9 +3,9 @@
 This is fairly simple without an spkg:
 
 ```
-wget http://somethingaboutorange.com/mrl/projects/nose/nose-0.11.2.tar.gz
-tar xzvf nose-0.11.2.tar.gz
-cd nose-0.11.2
+wget http://code.google.com/p/python-nose/downloads/detail?name=nose-0.11.3.tar.gz
+tar xzvf nose-0.11.3.tar.gz
+cd nose-0.11.3
 sage -python setup.py install  
 ```
 
``````




---

archive/issue_comments_091544.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nIMHO it would be sensible to have nose as a **standard** package. \n\nI suggested that once, and it got a luke warm reception. Having to install an optional item to test a standard package seems a bad idea to me. \n\nPerhaps if a list of packages which make use of 'nose' could be produced, it might be possible to argue for it to be standard. \n\nDave",
    "created_at": "2010-09-16T18:53:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91544",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<a id='comment:3'>Comment 3:</a>
IMHO it would be sensible to have nose as a **standard** package. 

I suggested that once, and it got a luke warm reception. Having to install an optional item to test a standard package seems a bad idea to me. 

Perhaps if a list of packages which make use of 'nose' could be produced, it might be possible to argue for it to be standard. 

Dave



---

archive/issue_comments_091545.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nYes, I'm thinking (according to guidelines) optional for now, standard after a probationary period.",
    "created_at": "2010-09-16T18:56:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91545",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:4'>Comment 4:</a>
Yes, I'm thinking (according to guidelines) optional for now, standard after a probationary period.



---

archive/issue_comments_091546.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nReplying to [@jasongrout](#comment%3A4):\n> Yes, I'm thinking (according to guidelines) optional for now, standard after a probationary period.\n\nYes, according to guidelines it should be optional for a while. But there have been exceptions to that. Since it does not actually link to anything in Sage, and would only be called when running spkg-check, I think one could argue the risk is minimal. In contrast it would allow a number of packages to be checked. \n\nI think any such argument would have to be based on how many packages could benefit from it. \n\nIt must be an incredibly low risk package to add. \n\nDave",
    "created_at": "2010-09-16T19:13:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91546",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<a id='comment:5'>Comment 5:</a>
Replying to [@jasongrout](#comment%3A4):
> Yes, I'm thinking (according to guidelines) optional for now, standard after a probationary period.

Yes, according to guidelines it should be optional for a while. But there have been exceptions to that. Since it does not actually link to anything in Sage, and would only be called when running spkg-check, I think one could argue the risk is minimal. In contrast it would allow a number of packages to be checked. 

I think any such argument would have to be based on how many packages could benefit from it. 

It must be an incredibly low risk package to add. 

Dave



---

archive/issue_comments_091547.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nWhether or not it should be standard, I agree that we need to at least have it optional so that it becomes more 'Sage-ic' (totally not the right adjective, but I'm groping here) to test several fundamental python packages from within Sage.  Also, it is needed to test some potential other packages, such as Brian (#9675), which is where I originally found out about this.",
    "created_at": "2010-09-17T00:28:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91547",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:6'>Comment 6:</a>
Whether or not it should be standard, I agree that we need to at least have it optional so that it becomes more 'Sage-ic' (totally not the right adjective, but I'm groping here) to test several fundamental python packages from within Sage.  Also, it is needed to test some potential other packages, such as Brian (#9675), which is where I originally found out about this.



---

archive/issue_comments_091548.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nReplying to [@kcrisman](#comment%3A6):\n> Whether or not it should be standard, I agree that we need to at least have it optional so that it becomes more 'Sage-ic' (totally not the right adjective, but I'm groping here) to test several fundamental python packages from within Sage.  Also, it is needed to test some potential other packages, such as Brian (#9675), which is where I originally found out about this.\n\nI installed the package and tried it to test Brian, and it worked perfectly. However, I think some changes should be made in order to fit the structure of Sage packages: all the code should be in a directory named src/, it lacks the .hg folder, the .hgignore and SPKG.txt files, etc. (see the page [Producing New Sage Packages](http://www.sagemath.org/doc/developer/producing_spkgs.html) to see how it should be).",
    "created_at": "2010-09-19T18:17:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91548",
    "user": "https://github.com/sagetrac-uri"
}
```

<a id='comment:7'>Comment 7:</a>
Replying to [@kcrisman](#comment%3A6):
> Whether or not it should be standard, I agree that we need to at least have it optional so that it becomes more 'Sage-ic' (totally not the right adjective, but I'm groping here) to test several fundamental python packages from within Sage.  Also, it is needed to test some potential other packages, such as Brian (#9675), which is where I originally found out about this.

I installed the package and tried it to test Brian, and it worked perfectly. However, I think some changes should be made in order to fit the structure of Sage packages: all the code should be in a directory named src/, it lacks the .hg folder, the .hgignore and SPKG.txt files, etc. (see the page [Producing New Sage Packages](http://www.sagemath.org/doc/developer/producing_spkgs.html) to see how it should be).



---

archive/issue_comments_091549.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nReplying to [uri](#comment%3A7):\n> [...] However, I think some changes should be made in order to fit the structure of Sage packages: all the code should be in a directory named src/, it lacks the .hg folder, the .hgignore and SPKG.txt files, etc. [...]\n\n? Of course we first have to produce an spkg, be it optional or (later) standard.\n\nOr did I miss something?",
    "created_at": "2010-09-20T02:47:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91549",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:8'>Comment 8:</a>
Replying to [uri](#comment%3A7):
> [...] However, I think some changes should be made in order to fit the structure of Sage packages: all the code should be in a directory named src/, it lacks the .hg folder, the .hgignore and SPKG.txt files, etc. [...]

? Of course we first have to produce an spkg, be it optional or (later) standard.

Or did I miss something?



---

archive/issue_events_117615.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2010-09-20T02:47:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9921#event-117615"
}
```



---

archive/issue_events_117616.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2010-09-20T02:47:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9921#event-117616"
}
```



---

archive/issue_comments_091550.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\n> > [...] However, I think some changes should be made in order to fit the structure of Sage packages: all the code should be in a directory named src/, it lacks the .hg folder, the .hgignore and SPKG.txt files, etc. [...]\n\n> \n> ? Of course we first have to produce an spkg, be it optional or (later) standard.\n> \n> Or did I miss something?\n\nNo, I think that uri was perhaps misunderstanding jason's directions to use nose outside of Sage to be a suggestion for how it would become a Sage package.  No harm done in reminding us of the official rules, though :)",
    "created_at": "2010-09-20T02:51:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91550",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:9'>Comment 9:</a>
> > [...] However, I think some changes should be made in order to fit the structure of Sage packages: all the code should be in a directory named src/, it lacks the .hg folder, the .hgignore and SPKG.txt files, etc. [...]

> 
> ? Of course we first have to produce an spkg, be it optional or (later) standard.
> 
> Or did I miss something?

No, I think that uri was perhaps misunderstanding jason's directions to use nose outside of Sage to be a suggestion for how it would become a Sage package.  No harm done in reminding us of the official rules, though :)



---

archive/issue_comments_091551.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nReplying to [@kcrisman](#comment%3A9):\n> No, I think that uri was perhaps misunderstanding jason's directions to use nose outside of Sage to be a suggestion for how it would become a Sage package.\n\nYeah, an spkg just containing `spkg-install` which is\n\n```\nwget http://code.google.com/p/python-nose/downloads/detail?name=nose-0.11.3.tar.gz\ntar xzvf nose-0.11.3.tar.gz\ncd nose-0.11.3\nsage -python setup.py install  \n```\n\n:D",
    "created_at": "2010-09-20T03:01:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91551",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:10'>Comment 10:</a>
Replying to [@kcrisman](#comment%3A9):
> No, I think that uri was perhaps misunderstanding jason's directions to use nose outside of Sage to be a suggestion for how it would become a Sage package.

Yeah, an spkg just containing `spkg-install` which is

```
wget http://code.google.com/p/python-nose/downloads/detail?name=nose-0.11.3.tar.gz
tar xzvf nose-0.11.3.tar.gz
cd nose-0.11.3
sage -python setup.py install  
```

:D



---

archive/issue_comments_091552.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nOk, we should concatenate the lines with `&&` to make it more robust...",
    "created_at": "2010-09-20T03:04:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91552",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:11'>Comment 11:</a>
Ok, we should concatenate the lines with `&&` to make it more robust...



---

archive/issue_comments_091553.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nReplying to [@nexttime](#comment%3A8):\n> Replying to [uri](#comment%3A7):\n> > [...] However, I think some changes should be made in order to fit the structure of Sage packages: all the code should be in a directory named src/, it lacks the .hg folder, the .hgignore and SPKG.txt files, etc. [...]\n\n> \n> ? Of course we first have to produce an spkg, be it optional or (later) standard.\n> \n> Or did I miss something?\n\nOh, right, I missunderstood... sorry :)",
    "created_at": "2010-09-20T08:23:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91553",
    "user": "https://github.com/sagetrac-uri"
}
```

<a id='comment:12'>Comment 12:</a>
Replying to [@nexttime](#comment%3A8):
> Replying to [uri](#comment%3A7):
> > [...] However, I think some changes should be made in order to fit the structure of Sage packages: all the code should be in a directory named src/, it lacks the .hg folder, the .hgignore and SPKG.txt files, etc. [...]

> 
> ? Of course we first have to produce an spkg, be it optional or (later) standard.
> 
> Or did I miss something?

Oh, right, I missunderstood... sorry :)



---

archive/issue_comments_091554.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nReplying to [@kcrisman](#comment%3A9):\n> > > [...] However, I think some changes should be made in order to fit the structure of Sage packages: all the code should be in a directory named src/, it lacks the .hg folder, the .hgignore and SPKG.txt files, etc. [...]\n\n> > \n> > ? Of course we first have to produce an spkg, be it optional or (later) standard.\n> > \n> > Or did I miss something?\n\n> \n> No, I think that uri was perhaps misunderstanding jason's directions to use nose outside of Sage to be a suggestion for how it would become a Sage package.  No harm done in reminding us of the official rules, though :)\n\nYep, the point of the instructions was to show that even without an spkg, using nose \"is fairly simple without an spkg\".  Of course, you can't download something in the spkg, so those instructions would not work for an spkg.  However, it would be a very generic spkg-install file that would basically do the normal standard checks and then run \"python setup.py install\".",
    "created_at": "2010-09-20T11:10:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91554",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:13'>Comment 13:</a>
Replying to [@kcrisman](#comment%3A9):
> > > [...] However, I think some changes should be made in order to fit the structure of Sage packages: all the code should be in a directory named src/, it lacks the .hg folder, the .hgignore and SPKG.txt files, etc. [...]

> > 
> > ? Of course we first have to produce an spkg, be it optional or (later) standard.
> > 
> > Or did I miss something?

> 
> No, I think that uri was perhaps misunderstanding jason's directions to use nose outside of Sage to be a suggestion for how it would become a Sage package.  No harm done in reminding us of the official rules, though :)

Yep, the point of the instructions was to show that even without an spkg, using nose "is fairly simple without an spkg".  Of course, you can't download something in the spkg, so those instructions would not work for an spkg.  However, it would be a very generic spkg-install file that would basically do the normal standard checks and then run "python setup.py install".



---

archive/issue_comments_091555.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nI tried using nose, and it was very interesting.  Tested Brian on two different boxes, and then tested both numpy and scipy on OS X 10.6 - discovered no errors on the first, and a fair number on the second!  So I think that there should be no doubt this could go straight to optional if an spkg was made.\n\nI couldn't do\n\n```\nimport matplotlib\nmatplotlib.test()\n```\nbecause for some reason our matplotlib doesn't have this method.\n\nMuch less importantly, I should also point out that on OS X `wget` is not a builtin, though I have an alias `curl -O` that seems to accomplish the same purpose.  I just downloaded and double-clicked, actually :)",
    "created_at": "2010-09-21T01:25:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91555",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:14'>Comment 14:</a>
I tried using nose, and it was very interesting.  Tested Brian on two different boxes, and then tested both numpy and scipy on OS X 10.6 - discovered no errors on the first, and a fair number on the second!  So I think that there should be no doubt this could go straight to optional if an spkg was made.

I couldn't do

```
import matplotlib
matplotlib.test()
```
because for some reason our matplotlib doesn't have this method.

Much less importantly, I should also point out that on OS X `wget` is not a builtin, though I have an alias `curl -O` that seems to accomplish the same purpose.  I just downloaded and double-clicked, actually :)



---

archive/issue_comments_091556.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nNose is now on Github: [https://github.com/nose-devs/nose](https://github.com/nose-devs/nose).",
    "created_at": "2012-05-26T20:11:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91556",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:15'>Comment 15:</a>
Nose is now on Github: [https://github.com/nose-devs/nose](https://github.com/nose-devs/nose).



---

archive/issue_comments_091557.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,9 +3,9 @@\n This is fairly simple without an spkg:\n \n ```\n-wget http://code.google.com/p/python-nose/downloads/detail?name=nose-0.11.3.tar.gz\n-tar xzvf nose-0.11.3.tar.gz\n-cd nose-0.11.3\n+wget http://pypi.python.org/packages/source/n/nose/nose-1.1.2.tar.gz # or the latest version at http://pypi.python.org/pypi/nose/\n+tar xzvf nose-1.1.2.tar.gz\n+cd nose-1.1.2\n sage -python setup.py install  \n ```\n \n``````\n",
    "created_at": "2012-05-26T20:11:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91557",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,9 +3,9 @@
 This is fairly simple without an spkg:
 
 ```
-wget http://code.google.com/p/python-nose/downloads/detail?name=nose-0.11.3.tar.gz
-tar xzvf nose-0.11.3.tar.gz
-cd nose-0.11.3
+wget http://pypi.python.org/packages/source/n/nose/nose-1.1.2.tar.gz # or the latest version at http://pypi.python.org/pypi/nose/
+tar xzvf nose-1.1.2.tar.gz
+cd nose-1.1.2
 sage -python setup.py install  
 ```
 
``````




---

archive/issue_comments_091558.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nI've posted an spkg. It builds well enough for me, but I haven't actually used it to test anything except for itself (in spkg-check).",
    "created_at": "2012-06-14T23:18:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91558",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:17'>Comment 17:</a>
I've posted an spkg. It builds well enough for me, but I haven't actually used it to test anything except for itself (in spkg-check).



---

archive/issue_comments_091559.json:
```json
{
    "body": "Author: **John Palmieri**",
    "created_at": "2012-06-14T23:18:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91559",
    "user": "https://github.com/jhpalmieri"
}
```

Author: **John Palmieri**



---

archive/issue_events_117617.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2012-06-14T23:18:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9921#event-117617"
}
```



---

archive/issue_comments_091560.json:
```json
{
    "body": "scripts repo",
    "created_at": "2012-06-14T23:19:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91560",
    "user": "https://github.com/jhpalmieri"
}
```

scripts repo



---

archive/issue_comments_091561.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nAttachment: **[trac_9921-nose-scripts.patch.gz](https://github.com/sagemath/sage/files/ticket9921/trac_9921-nose-scripts.patch.gz)**",
    "created_at": "2012-06-14T23:20:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91561",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:18'>Comment 18:</a>
Attachment: **[trac_9921-nose-scripts.patch.gz](https://github.com/sagemath/sage/files/ticket9921/trac_9921-nose-scripts.patch.gz)**



---

archive/issue_comments_091562.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,3 +12,9 @@\n However, it might make sense to have nose be an optional spkg.\n \n Matplotlib relies on nose to do tests (http://matplotlib.sourceforge.net/devel/coding_guide.html#testing), as well as numpy/scipy (http://projects.scipy.org/numpy/wiki/TestingGuidelines).\n+\n+---\n+\n+New spkg: [http://sage.math.washington.edu/home/palmieri/SPKG/nose-1.1.2.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/nose-1.1.2.spkg)\n+\n+Apply [attachment: trac_9921-nose-scripts.patch.gz](https://github.com/sagemath/sage/files/ticket9921/trac_9921-nose-scripts.patch.gz) to the scripts repo.\n``````\n",
    "created_at": "2012-06-14T23:20:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91562",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,3 +12,9 @@
 However, it might make sense to have nose be an optional spkg.
 
 Matplotlib relies on nose to do tests (http://matplotlib.sourceforge.net/devel/coding_guide.html#testing), as well as numpy/scipy (http://projects.scipy.org/numpy/wiki/TestingGuidelines).
+
+---
+
+New spkg: [http://sage.math.washington.edu/home/palmieri/SPKG/nose-1.1.2.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/nose-1.1.2.spkg)
+
+Apply [attachment: trac_9921-nose-scripts.patch.gz](https://github.com/sagemath/sage/files/ticket9921/trac_9921-nose-scripts.patch.gz) to the scripts repo.
``````




---

archive/issue_comments_091563.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nBy the way, version 1.1.2 was the most recent version for which I could find a tar ball. Or we could use the version from github; would that be better?",
    "created_at": "2012-06-14T23:24:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91563",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:19'>Comment 19:</a>
By the way, version 1.1.2 was the most recent version for which I could find a tar ball. Or we could use the version from github; would that be better?



---

archive/issue_comments_091564.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,6 +15,6 @@\n \n ---\n \n-New spkg: [http://sage.math.washington.edu/home/palmieri/SPKG/nose-1.1.2.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/nose-1.1.2.spkg)\n+New spkg: [version 1.1.2](http://sage.math.washington.edu/home/palmieri/SPKG/nose-1.1.2.spkg), [version 1.1.3 from git](http://sage.math.washington.edu/home/palmieri/SPKG/nose-1.1.3.git20120614.spkg)\n \n Apply [attachment: trac_9921-nose-scripts.patch.gz](https://github.com/sagemath/sage/files/ticket9921/trac_9921-nose-scripts.patch.gz) to the scripts repo.\n``````\n",
    "created_at": "2012-06-14T23:32:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91564",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,6 +15,6 @@
 
 ---
 
-New spkg: [http://sage.math.washington.edu/home/palmieri/SPKG/nose-1.1.2.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/nose-1.1.2.spkg)
+New spkg: [version 1.1.2](http://sage.math.washington.edu/home/palmieri/SPKG/nose-1.1.2.spkg), [version 1.1.3 from git](http://sage.math.washington.edu/home/palmieri/SPKG/nose-1.1.3.git20120614.spkg)
 
 Apply [attachment: trac_9921-nose-scripts.patch.gz](https://github.com/sagemath/sage/files/ticket9921/trac_9921-nose-scripts.patch.gz) to the scripts repo.
``````




---

archive/issue_comments_091565.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nI've now also prepared a version from git. This one fails its own self tests, though ;)",
    "created_at": "2012-06-14T23:33:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91565",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:21'>Comment 21:</a>
I've now also prepared a version from git. This one fails its own self tests, though ;)



---

archive/issue_comments_091566.json:
```json
{
    "body": "patch for spkg, for review only",
    "created_at": "2012-06-14T23:39:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91566",
    "user": "https://github.com/jhpalmieri"
}
```

patch for spkg, for review only



---

archive/issue_comments_091567.json:
```json
{
    "body": "Attachment: **[trac_9921-nose-spkg.patch.gz](https://github.com/sagemath/sage/files/ticket9921/trac_9921-nose-spkg.patch.gz)**\n\nAttachment: **[trac_9921-nose-spkg.git.patch.gz](https://github.com/sagemath/sage/files/ticket9921/trac_9921-nose-spkg.git.patch.gz)**\n\npatch for spkg, for review only (version 1.1.3)",
    "created_at": "2012-06-14T23:39:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91567",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment: **[trac_9921-nose-spkg.patch.gz](https://github.com/sagemath/sage/files/ticket9921/trac_9921-nose-spkg.patch.gz)**

Attachment: **[trac_9921-nose-spkg.git.patch.gz](https://github.com/sagemath/sage/files/ticket9921/trac_9921-nose-spkg.git.patch.gz)**

patch for spkg, for review only (version 1.1.3)



---

archive/issue_comments_091568.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\n> I've now also prepared a version from git. This one fails its own self tests, though ;)\n\nInteresting!\n\nYou can try using it with the brian optional spkg, and I believe numpy and mpl also use this?",
    "created_at": "2012-06-15T01:50:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91568",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:22'>Comment 22:</a>
> I've now also prepared a version from git. This one fails its own self tests, though ;)

Interesting!

You can try using it with the brian optional spkg, and I believe numpy and mpl also use this?



---

archive/issue_comments_091569.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nipython also uses nose.",
    "created_at": "2012-06-15T04:08:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91569",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:23'>Comment 23:</a>
ipython also uses nose.



---

archive/issue_comments_091570.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nI tried running self-tests with numpy, using `python -c 'import numpy; numpy.test()'`. The good news: tests ran. The bad news: some tests failed. More bad news: this exited with a return code of zero, so it's hard to tell (within spkg-check, for example), that tests failed. I have the same issue with IPython.",
    "created_at": "2012-06-15T17:13:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91570",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:24'>Comment 24:</a>
I tried running self-tests with numpy, using `python -c 'import numpy; numpy.test()'`. The good news: tests ran. The bad news: some tests failed. More bad news: this exited with a return code of zero, so it's hard to tell (within spkg-check, for example), that tests failed. I have the same issue with IPython.



---

archive/issue_comments_091571.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nSo is that a problem with nose or a problem with the numpy/ipython test suites?  Sounds like nose is ready from this point of view :)",
    "created_at": "2012-06-15T17:17:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91571",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:25'>Comment 25:</a>
So is that a problem with nose or a problem with the numpy/ipython test suites?  Sounds like nose is ready from this point of view :)



---

archive/issue_comments_091572.json:
```json
{
    "body": "Changed keywords from **** to **sd41**",
    "created_at": "2012-06-15T23:14:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91572",
    "user": "https://github.com/jhpalmieri"
}
```

Changed keywords from **** to **sd41**



---

archive/issue_comments_091573.json:
```json
{
    "body": "Reviewer: **Karl-Dieter Crisman**",
    "created_at": "2012-07-05T17:20:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91573",
    "user": "https://github.com/kcrisman"
}
```

Reviewer: **Karl-Dieter Crisman**



---

archive/issue_comments_091574.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,6 +15,8 @@\n \n ---\n \n-New spkg: [version 1.1.2](http://sage.math.washington.edu/home/palmieri/SPKG/nose-1.1.2.spkg), [version 1.1.3 from git](http://sage.math.washington.edu/home/palmieri/SPKG/nose-1.1.3.git20120614.spkg)\n+New spkg: [version 1.1.2](http://sage.math.washington.edu/home/palmieri/SPKG/nose-1.1.2.spkg).\n+\n+(Alternate spkg [version 1.1.3 from git](http://sage.math.washington.edu/home/palmieri/SPKG/nose-1.1.3.git20120614.spkg).)\n \n Apply [attachment: trac_9921-nose-scripts.patch.gz](https://github.com/sagemath/sage/files/ticket9921/trac_9921-nose-scripts.patch.gz) to the scripts repo.\n``````\n",
    "created_at": "2012-07-05T17:20:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91574",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,6 +15,8 @@
 
 ---
 
-New spkg: [version 1.1.2](http://sage.math.washington.edu/home/palmieri/SPKG/nose-1.1.2.spkg), [version 1.1.3 from git](http://sage.math.washington.edu/home/palmieri/SPKG/nose-1.1.3.git20120614.spkg)
+New spkg: [version 1.1.2](http://sage.math.washington.edu/home/palmieri/SPKG/nose-1.1.2.spkg).
+
+(Alternate spkg [version 1.1.3 from git](http://sage.math.washington.edu/home/palmieri/SPKG/nose-1.1.3.git20120614.spkg).)
 
 Apply [attachment: trac_9921-nose-scripts.patch.gz](https://github.com/sagemath/sage/files/ticket9921/trac_9921-nose-scripts.patch.gz) to the scripts repo.
``````




---

archive/issue_comments_091575.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nThis is ridiculous.  Nose works fine at testing things on sage.math.   It certainly finds various errors and warnings - apparently scipy generates a number as well, I just tried it.\n\nThe issue with it not passing its own tests is not so good, and I can confirm this in both cases.  On the plus side, it only breaks the Sage installation process in the 1.1.3, so I would say let's go with the 1.1.2 for now.\n\n---\n\nI do get something weird, hopefully unrelated to nose itself, but instead related to our defaults for matplotlib.\n\n```\n\nkcrisman@sage:~/sage-5.1.beta1-boxen-x86_64-Linux$ ./sage -c 'import matplotlib; matplotlib.test()'\n======================================================================\nERROR: Failure: OSError (No such file /home/kcrisman/sage-5.1.beta1-boxen-x86_64-Linux/import matplotlib; matplotlib.test())\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/kcrisman/sage-5.1.beta1-boxen-x86_64-Linux/local/lib/python2.7/site-packages/nose-1.1.2-py2.7.egg/nose/failure.py\", line 39, in runTest\n    raise self.exc_class(self.exc_val)\nOSError: No such file /home/kcrisman/sage-5.1.beta1-boxen-x86_64-Linux/import matplotlib; matplotlib.test()\n\n----------------------------------------------------------------------\nRan 1 test in 0.001s\n\nFAILED (errors=1)\n\nsage: import matplotlib  \nsage: matplotlib.test()\n======================================================================\nERROR: Failure: ValueError (Unable to load tests from file /home/kcrisman/sage-5.1.beta1-boxen-x86_64-Linux/sage)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/kcrisman/sage-5.1.beta1-boxen-x86_64-Linux/local/lib/python2.7/site-packages/nose-1.1.2-py2.7.egg/nose/loader.py\", line 213, in loadTestsFromFile\n    % filename)\nValueError: Unable to load tests from file /home/kcrisman/sage-5.1.beta1-boxen-x86_64-Linux/sage\n\n----------------------------------------------------------------------\nRan 1 test in 0.001s\n\nFAILED (errors=1)\nFalse\n```\n\n\nOn a computer without nose:\n\n```\n\nsage: matplotlib.test()\n---------------------------------------------------------------------------\nImportError                               Traceback (most recent call last)\n\n/Users/karl-dietercrisman/Downloads/sage-5.1.beta6/<ipython console> in <module>()\n\n/Users/.../sage-5.1.beta6/local/lib/python2.7/site-packages/matplotlib/__init__.pyc in test(verbosity)\n    986 def test(verbosity=0):\n    987     \"\"\"run the matplotlib test suite\"\"\"\n--> 988     import nose\n    989     import nose.plugins.builtin\n    990     from testing.noseclasses import KnownFailure\n\nImportError: No module named nose\n```\n\nI think that in matplotlib's lib/__init__.py\n\n```\n\n    success = nose.run( defaultTest=default_test_modules,\n                        config=config,\n                        )\n```\nwe aren't using the right default modules, they aren't imported or something.  So it goes back to just looking at `.` for the default test module - I get the same thing.\n\n```\n\nsage: nose.run(defaultTest='.')                 \nE\n======================================================================\nERROR: Failure: ValueError (Unable to load tests from file /home/kcrisman/sage-5.1.beta1-boxen-x86_64-Linux/sage)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/kcrisman/sage-5.1.beta1-boxen-x86_64-Linux/local/lib/python2.7/site-packages/nose-1.1.2-py2.7.egg/nose/loader.py\", line 213, in loadTestsFromFile\n    % filename)\nValueError: Unable to load tests from file /home/kcrisman/sage-5.1.beta1-boxen-x86_64-Linux/sage\n\n----------------------------------------------------------------------\nRan 1 test in 0.001s\n\nFAILED (errors=1)\nFalse\n```\n\nCan you see a reason why this shouldn't have positive review?  I just think this must be a problem in how we're dealing with mpl.  I'm surprised it does this; we only removed the baseline images, not the testing scripts!",
    "created_at": "2012-07-05T17:20:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91575",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:27'>Comment 27:</a>
This is ridiculous.  Nose works fine at testing things on sage.math.   It certainly finds various errors and warnings - apparently scipy generates a number as well, I just tried it.

The issue with it not passing its own tests is not so good, and I can confirm this in both cases.  On the plus side, it only breaks the Sage installation process in the 1.1.3, so I would say let's go with the 1.1.2 for now.

---

I do get something weird, hopefully unrelated to nose itself, but instead related to our defaults for matplotlib.

```

kcrisman@sage:~/sage-5.1.beta1-boxen-x86_64-Linux$ ./sage -c 'import matplotlib; matplotlib.test()'
======================================================================
ERROR: Failure: OSError (No such file /home/kcrisman/sage-5.1.beta1-boxen-x86_64-Linux/import matplotlib; matplotlib.test())
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/kcrisman/sage-5.1.beta1-boxen-x86_64-Linux/local/lib/python2.7/site-packages/nose-1.1.2-py2.7.egg/nose/failure.py", line 39, in runTest
    raise self.exc_class(self.exc_val)
OSError: No such file /home/kcrisman/sage-5.1.beta1-boxen-x86_64-Linux/import matplotlib; matplotlib.test()

----------------------------------------------------------------------
Ran 1 test in 0.001s

FAILED (errors=1)

sage: import matplotlib  
sage: matplotlib.test()
======================================================================
ERROR: Failure: ValueError (Unable to load tests from file /home/kcrisman/sage-5.1.beta1-boxen-x86_64-Linux/sage)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/kcrisman/sage-5.1.beta1-boxen-x86_64-Linux/local/lib/python2.7/site-packages/nose-1.1.2-py2.7.egg/nose/loader.py", line 213, in loadTestsFromFile
    % filename)
ValueError: Unable to load tests from file /home/kcrisman/sage-5.1.beta1-boxen-x86_64-Linux/sage

----------------------------------------------------------------------
Ran 1 test in 0.001s

FAILED (errors=1)
False
```


On a computer without nose:

```

sage: matplotlib.test()
---------------------------------------------------------------------------
ImportError                               Traceback (most recent call last)

/Users/karl-dietercrisman/Downloads/sage-5.1.beta6/<ipython console> in <module>()

/Users/.../sage-5.1.beta6/local/lib/python2.7/site-packages/matplotlib/__init__.pyc in test(verbosity)
    986 def test(verbosity=0):
    987     """run the matplotlib test suite"""
--> 988     import nose
    989     import nose.plugins.builtin
    990     from testing.noseclasses import KnownFailure

ImportError: No module named nose
```

I think that in matplotlib's lib/__init__.py

```

    success = nose.run( defaultTest=default_test_modules,
                        config=config,
                        )
```
we aren't using the right default modules, they aren't imported or something.  So it goes back to just looking at `.` for the default test module - I get the same thing.

```

sage: nose.run(defaultTest='.')                 
E
======================================================================
ERROR: Failure: ValueError (Unable to load tests from file /home/kcrisman/sage-5.1.beta1-boxen-x86_64-Linux/sage)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/kcrisman/sage-5.1.beta1-boxen-x86_64-Linux/local/lib/python2.7/site-packages/nose-1.1.2-py2.7.egg/nose/loader.py", line 213, in loadTestsFromFile
    % filename)
ValueError: Unable to load tests from file /home/kcrisman/sage-5.1.beta1-boxen-x86_64-Linux/sage

----------------------------------------------------------------------
Ran 1 test in 0.001s

FAILED (errors=1)
False
```

Can you see a reason why this shouldn't have positive review?  I just think this must be a problem in how we're dealing with mpl.  I'm surprised it does this; we only removed the baseline images, not the testing scripts!



---

archive/issue_comments_091576.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nI have also reviewed this ticket, since I think it is important to have it. The matplotlib error is really a bug (or at least laxness) in matplotlib. If we waited for nosetest to be included until all spkg's pass, we would wait until the cows come home.\n\nIf nobody objects, I will set this to positive review by next week.",
    "created_at": "2013-01-24T12:47:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91576",
    "user": "https://github.com/sagetrac-mraum"
}
```

<a id='comment:28'>Comment 28:</a>
I have also reviewed this ticket, since I think it is important to have it. The matplotlib error is really a bug (or at least laxness) in matplotlib. If we waited for nosetest to be included until all spkg's pass, we would wait until the cows come home.

If nobody objects, I will set this to positive review by next week.



---

archive/issue_comments_091577.json:
```json
{
    "body": "Changed reviewer from **Karl-Dieter Crisman** to **Karl-Dieter Crisman, Martin Raum**",
    "created_at": "2013-01-24T12:47:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91577",
    "user": "https://github.com/sagetrac-mraum"
}
```

Changed reviewer from **Karl-Dieter Crisman** to **Karl-Dieter Crisman, Martin Raum**



---

archive/issue_events_117618.json:
```json
{
    "actor": "https://github.com/sagetrac-mraum",
    "created_at": "2013-01-29T17:24:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9921#event-117618"
}
```



---

archive/issue_events_117619.json:
```json
{
    "actor": "https://github.com/sagetrac-mraum",
    "created_at": "2013-01-29T17:24:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9921#event-117619"
}
```



---

archive/issue_comments_091578.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -17,6 +17,4 @@\n \n New spkg: [version 1.1.2](http://sage.math.washington.edu/home/palmieri/SPKG/nose-1.1.2.spkg).\n \n-(Alternate spkg [version 1.1.3 from git](http://sage.math.washington.edu/home/palmieri/SPKG/nose-1.1.3.git20120614.spkg).)\n-\n Apply [attachment: trac_9921-nose-scripts.patch.gz](https://github.com/sagemath/sage/files/ticket9921/trac_9921-nose-scripts.patch.gz) to the scripts repo.\n``````\n",
    "created_at": "2013-01-29T21:55:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91578",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -17,6 +17,4 @@
 
 New spkg: [version 1.1.2](http://sage.math.washington.edu/home/palmieri/SPKG/nose-1.1.2.spkg).
 
-(Alternate spkg [version 1.1.3 from git](http://sage.math.washington.edu/home/palmieri/SPKG/nose-1.1.3.git20120614.spkg).)
-
 Apply [attachment: trac_9921-nose-scripts.patch.gz](https://github.com/sagemath/sage/files/ticket9921/trac_9921-nose-scripts.patch.gz) to the scripts repo.
``````




---

archive/issue_comments_091579.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nspkg is put on the servers.",
    "created_at": "2013-01-30T16:31:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91579",
    "user": "https://github.com/haraldschilly"
}
```

<a id='comment:31'>Comment 31:</a>
spkg is put on the servers.



---

archive/issue_comments_091580.json:
```json
{
    "body": "Merged: **sage-5.7.beta2**",
    "created_at": "2013-01-30T16:35:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9921#issuecomment-91580",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.7.beta2**



---

archive/issue_events_117620.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-30T16:35:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9921#event-117620"
}
```



---

archive/issue_events_117621.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-30T16:35:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/9921",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9921#event-117621"
}
```
