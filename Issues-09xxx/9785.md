# Issue 9785: Simple Server API - wrong cell results

archive/issues_009784.json:
```json
{
    "assignees": [],
    "body": "Using the Simple Server API I tried the following (after logging in of course):\n\nAt first I sent the code \"`sleep(10);5`\" to the server using the following URL:\n`http://localhost:port/simple/compute?session=theID&code=sleep(10)%3B5`\n\nThen, immediatly afterwards (this means command one was still computing) I sent the code \"`4+5`\" to the server using the URL\n`http://localhost:port/simple/compute?session=theID&code=4%2B5`\n\nThen, after 10 seconds, I looked at the results of both commands using\n`http://localhost:port/simple/status?session=theID&cell=2`\nand\n`http://localhost:port/simple/status?session=theID&cell=3`\n\nBoth cells had `5` as result, which should be only the result of the first\ncell.\n\nAssignee: **@jasongrout, @williamstein**\n\nCC:  @jasongrout\n\nReviewer: **Karl-Dieter Crisman**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/9785_\n\n",
    "closed_at": "2014-09-18T17:59:16Z",
    "created_at": "2010-08-23T10:45:49Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/component%3A%20notebook",
        "https://github.com/sagemath/sage/labels/wontfix"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Simple Server API - wrong cell results",
    "type": "issue",
    "updated_at": "2014-09-18T17:59:16Z",
    "url": "https://github.com/sagemath/sage/issues/9785",
    "user": "https://github.com/sagetrac-dpoetzsch"
}
```
Using the Simple Server API I tried the following (after logging in of course):

At first I sent the code "`sleep(10);5`" to the server using the following URL:
`http://localhost:port/simple/compute?session=theID&code=sleep(10)%3B5`

Then, immediatly afterwards (this means command one was still computing) I sent the code "`4+5`" to the server using the URL
`http://localhost:port/simple/compute?session=theID&code=4%2B5`

Then, after 10 seconds, I looked at the results of both commands using
`http://localhost:port/simple/status?session=theID&cell=2`
and
`http://localhost:port/simple/status?session=theID&cell=3`

Both cells had `5` as result, which should be only the result of the first
cell.

Assignee: **@jasongrout, @williamstein**

CC:  @jasongrout

Reviewer: **Karl-Dieter Crisman**

_Issue created by migration from https://trac.sagemath.org/ticket/9785_





---

archive/issue_events_115623.json:
```json
{
    "actor": "https://github.com/sagetrac-dpoetzsch",
    "created_at": "2010-08-23T10:45:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9785",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20notebook",
    "label_color": "000080",
    "label_name": "component: notebook",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9785#event-115623"
}
```



---

archive/issue_events_115624.json:
```json
{
    "actor": "https://github.com/sagetrac-dpoetzsch",
    "created_at": "2010-08-23T10:45:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9785",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9785#event-115624"
}
```



---

archive/issue_events_115625.json:
```json
{
    "actor": "https://github.com/sagetrac-dpoetzsch",
    "created_at": "2010-08-23T10:45:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9785",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9785#event-115625"
}
```



---

archive/issue_comments_088727.json:
```json
{
    "body": "Attachment: **[trac_9785_fix_wrong_cell.patch.gz](https://github.com/sagemath/sage/files/ticket9785/trac_9785_fix_wrong_cell.patch.gz)**\n\nThis fixes the problem for me.",
    "created_at": "2011-12-24T22:59:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9785",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9785#issuecomment-88727",
    "user": "https://github.com/sagetrac-mmanashirov"
}
```

Attachment: **[trac_9785_fix_wrong_cell.patch.gz](https://github.com/sagemath/sage/files/ticket9785/trac_9785_fix_wrong_cell.patch.gz)**

This fixes the problem for me.



---

archive/issue_events_115626.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-06-14T17:10:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9785",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9785#event-115626"
}
```



---

archive/issue_events_115627.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-06-14T17:10:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9785",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9785#event-115627"
}
```



---

archive/issue_comments_088728.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nSadly, the simple server does not work with the current notebook, and the [Sage cell server](https://github.com/sagemath/sagecell) has more or less superseded it.",
    "created_at": "2013-06-14T17:10:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9785",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9785#issuecomment-88728",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:1'>Comment 1:</a>
Sadly, the simple server does not work with the current notebook, and the [Sage cell server](https://github.com/sagemath/sagecell) has more or less superseded it.



---

archive/issue_events_115628.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-06-14T17:10:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9785",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9785#event-115628"
}
```



---

archive/issue_comments_088729.json:
```json
{
    "body": "Reviewer: **Karl-Dieter Crisman**",
    "created_at": "2013-06-14T17:10:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9785",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9785#issuecomment-88729",
    "user": "https://github.com/kcrisman"
}
```

Reviewer: **Karl-Dieter Crisman**



---

archive/issue_comments_088730.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nAlthough we'll close this, I hope the code here will someday prove useful, though!",
    "created_at": "2013-06-14T17:11:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9785",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9785#issuecomment-88730",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:2'>Comment 2:</a>
Although we'll close this, I hope the code here will someday prove useful, though!



---

archive/issue_events_115629.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-06-14T17:11:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9785",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9785#event-115629"
}
```



---

archive/issue_events_115630.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-06-14T17:11:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9785",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9785#event-115630"
}
```



---

archive/issue_events_115631.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-06-14T18:36:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9785",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9785#event-115631"
}
```



---

archive/issue_events_115632.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2013-06-14T18:36:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9785",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9785#event-115632"
}
```



---

archive/issue_comments_088731.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nNote that #11409 would remove this completely.",
    "created_at": "2013-06-14T18:36:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9785",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9785#issuecomment-88731",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:3'>Comment 3:</a>
Note that #11409 would remove this completely.



---

archive/issue_comments_088732.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nThis has now been removed.",
    "created_at": "2014-09-17T02:26:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9785",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9785#issuecomment-88732",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:4'>Comment 4:</a>
This has now been removed.



---

archive/issue_events_115633.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-09-17T02:26:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9785",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9785#event-115633"
}
```



---

archive/issue_events_115634.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-09-17T02:26:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9785",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9785#event-115634"
}
```



---

archive/issue_events_115635.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-18T17:59:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/9785",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9785#event-115635"
}
```



---

archive/issue_events_115636.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-18T17:59:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/9785",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9785#event-115636"
}
```



---

archive/issue_events_115637.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-09-18T17:59:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9785",
    "label": "https://github.com/sagemath/sage/labels/wontfix",
    "label_color": "a6a6a6",
    "label_name": "wontfix",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9785#event-115637"
}
```
