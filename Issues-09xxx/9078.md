# Issue 9078: random element in fraction fields broken, division by zero

archive/issues_009078.json:
```json
{
    "body": "Random element in fraction fields is broken. The current behavior is to take two random elements from the base and return its quotient. Having bad luck, that might return division by zero.\n\nExample code:\n\n```\nsage: R = GF(3)['t']\nsage: f = FractionField(R).random_element()\n```\nThe attached patch fixes the bug.\n\n\n**Assignee:** @aghitza\n\n**Keywords:** fraction field, random element\n\n**Author:** Ralf Butenuth\n\n**Reviewer:** Johan Bosman\n\nIssue created by migration from https://trac.sagemath.org/ticket/9078\n\n",
    "closed_at": "2010-05-31T18:33:29Z",
    "created_at": "2010-05-28T21:59:34Z",
    "labels": [
        "component: algebra",
        "bug",
        "invalid"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "random element in fraction fields broken, division by zero",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/9078",
    "user": "https://trac.sagemath.org/admin/accounts/users/ralle"
}
```
Random element in fraction fields is broken. The current behavior is to take two random elements from the base and return its quotient. Having bad luck, that might return division by zero.

Example code:

```
sage: R = GF(3)['t']
sage: f = FractionField(R).random_element()
```
The attached patch fixes the bug.


**Assignee:** @aghitza

**Keywords:** fraction field, random element

**Author:** Ralf Butenuth

**Reviewer:** Johan Bosman

Issue created by migration from https://trac.sagemath.org/ticket/9078





---

archive/issue_comments_098026.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2010-05-28T22:05:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-98026",
    "user": "https://trac.sagemath.org/admin/accounts/users/ralle"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_098027.json:
```json
{
    "body": "**Author:** Ralf Butenuth",
    "created_at": "2010-05-28T22:05:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-98027",
    "user": "https://trac.sagemath.org/admin/accounts/users/ralle"
}
```

**Author:** Ralf Butenuth



---

archive/attachments_011431.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_9078.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket9078/trac_9078.patch",
    "created_at": "2010-05-28T22:05:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/ralle"
}
```



---

archive/issue_comments_098028.json:
```json
{
    "body": "<a id='comment:1'></a>\n",
    "created_at": "2010-05-28T22:05:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-98028",
    "user": "https://trac.sagemath.org/admin/accounts/users/ralle"
}
```

<a id='comment:1'></a>




---

archive/issue_comments_098029.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,9 @@\n-Hi,\n+Random element in fraction fields is broken. The current behavior is to take two random elements from the base and return its quotient. Having bad luck, that might return division by zero.\n \n-Random element in fraction fields is broken. \n+Example code:\n+\n+sage: R = GF(3)['t']\n+sage: f = FractionField(R).random_element()\n+\n+The attached patch fixes the bug.\n+\n``````\n",
    "created_at": "2010-05-29T16:23:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-98029",
    "user": "https://trac.sagemath.org/admin/accounts/users/ralle"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,9 @@
-Hi,
+Random element in fraction fields is broken. The current behavior is to take two random elements from the base and return its quotient. Having bad luck, that might return division by zero.
 
-Random element in fraction fields is broken. 
+Example code:
+
+sage: R = GF(3)['t']
+sage: f = FractionField(R).random_element()
+
+The attached patch fixes the bug.
+
``````




---

archive/issue_comments_098030.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,8 +2,9 @@\n \n Example code:\n \n+```\n sage: R = GF(3)['t']\n sage: f = FractionField(R).random_element()\n-\n+```\n The attached patch fixes the bug.\n \n``````\n",
    "created_at": "2010-05-29T16:25:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-98030",
    "user": "https://trac.sagemath.org/admin/accounts/users/ralle"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,8 +2,9 @@
 
 Example code:
 
+```
 sage: R = GF(3)['t']
 sage: f = FractionField(R).random_element()
-
+```
 The attached patch fixes the bug.
 
``````




---

archive/issue_comments_098031.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2010-05-30T21:18:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-98031",
    "user": "https://trac.sagemath.org/admin/accounts/users/johanbosman"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_098032.json:
```json
{
    "body": "<a id='comment:4'></a>\nHi Ralph,\n\nAre you sure you are running the latest version of Sage? \u00a0It seems to me that the line numbers of the file your patch refers to are different and furthermore that the code of the latest version is actually correct.\n\nBest regards,\n\nJohan",
    "created_at": "2010-05-30T21:18:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-98032",
    "user": "https://trac.sagemath.org/admin/accounts/users/johanbosman"
}
```

<a id='comment:4'></a>
Hi Ralph,

Are you sure you are running the latest version of Sage? Â It seems to me that the line numbers of the file your patch refers to are different and furthermore that the code of the latest version is actually correct.

Best regards,

Johan



---

archive/issue_comments_098033.json:
```json
{
    "body": "**Reviewer:** Johan Bosman",
    "created_at": "2010-05-30T21:18:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-98033",
    "user": "https://trac.sagemath.org/admin/accounts/users/johanbosman"
}
```

**Reviewer:** Johan Bosman



---

archive/issue_comments_098034.json:
```json
{
    "body": "<a id='comment:5'></a>\nMy fault. Latest version is correct. This can be closed.",
    "created_at": "2010-05-31T11:03:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-98034",
    "user": "https://trac.sagemath.org/admin/accounts/users/ralle"
}
```

<a id='comment:5'></a>
My fault. Latest version is correct. This can be closed.



---

archive/issue_events_026834.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/ralle",
    "created_at": "2010-05-31T11:03:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9078#event-26834"
}
```



---

archive/issue_comments_098035.json:
```json
{
    "body": "<a id='comment:6'></a>\nhttp://www.sagemath.org/doc/developer/trac.html#closing-tickets\n\nClosing this ticket is a task for the release manager. ;)",
    "created_at": "2010-05-31T11:39:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-98035",
    "user": "https://trac.sagemath.org/admin/accounts/users/johanbosman"
}
```

<a id='comment:6'></a>
http://www.sagemath.org/doc/developer/trac.html#closing-tickets

Closing this ticket is a task for the release manager. ;)



---

archive/issue_comments_098036.json:
```json
{
    "body": "**Changing status** from closed to new.",
    "created_at": "2010-05-31T11:40:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-98036",
    "user": "https://trac.sagemath.org/admin/accounts/users/johanbosman"
}
```

**Changing status** from closed to new.



---

archive/issue_events_026835.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/johanbosman",
    "created_at": "2010-05-31T11:41:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9078#event-26835"
}
```



---

archive/issue_comments_098037.json:
```json
{
    "body": "**Changing status** from closed to needs_work.",
    "created_at": "2010-05-31T11:42:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-98037",
    "user": "https://trac.sagemath.org/admin/accounts/users/johanbosman"
}
```

**Changing status** from closed to needs_work.



---

archive/issue_comments_098038.json:
```json
{
    "body": "<a id='comment:10'></a>\nSo it can be closed as 'invalid'.",
    "created_at": "2010-05-31T11:43:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-98038",
    "user": "https://trac.sagemath.org/admin/accounts/users/johanbosman"
}
```

<a id='comment:10'></a>
So it can be closed as 'invalid'.



---

archive/issue_events_026836.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-05-31T18:33:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9078#event-26836"
}
```



---

archive/issue_events_026837.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-05-31T18:33:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9078#event-26837"
}
```
