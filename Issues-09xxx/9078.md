# Issue 9078: random element in fraction fields broken, division by zero

archive/issues_009078.json:
```json
{
    "body": "Random element in fraction fields is broken. The current behavior is to take two random elements from the base and return its quotient. Having bad luck, that might return division by zero.\n\nExample code:\n\n```\nsage: R = GF(3)['t']\nsage: f = FractionField(R).random_element()\n```\nThe attached patch fixes the bug.\n\n\nAssignee: @aghitza\n\nKeywords: fraction field, random element\n\nResolution: invalid\n\nAuthor: Ralf Butenuth\n\nReviewer: Johan Bosman\n\nIssue created by migration from https://trac.sagemath.org/ticket/9078\n\n",
    "closed_at": "2010-05-31T18:33:29Z",
    "created_at": "2010-05-28T21:59:34Z",
    "labels": [
        "component: algebra",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "random element in fraction fields broken, division by zero",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/9078",
    "user": "https://trac.sagemath.org/admin/accounts/users/ralle"
}
```
Random element in fraction fields is broken. The current behavior is to take two random elements from the base and return its quotient. Having bad luck, that might return division by zero.

Example code:

```
sage: R = GF(3)['t']
sage: f = FractionField(R).random_element()
```
The attached patch fixes the bug.


Assignee: @aghitza

Keywords: fraction field, random element

Resolution: invalid

Author: Ralf Butenuth

Reviewer: Johan Bosman

Issue created by migration from https://trac.sagemath.org/ticket/9078





---

archive/issue_comments_100226.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2010-05-28T22:05:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-100226",
    "user": "https://trac.sagemath.org/admin/accounts/users/ralle"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_100227.json:
```json
{
    "body": "Changing author from \"\" to \"Ralf Butenuth\"",
    "created_at": "2010-05-28T22:05:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-100227",
    "user": "https://trac.sagemath.org/admin/accounts/users/ralle"
}
```

Changing author from "" to "Ralf Butenuth"



---

archive/issue_comments_100228.json:
```json
{
    "body": "<a id='comment:1'></a>Attachment [trac_9078.patch](tarball://root/attachments/some-uuid/ticket9078/trac_9078.patch) by ralle created at 2010-05-28 22:05:42",
    "created_at": "2010-05-28T22:05:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-100228",
    "user": "https://trac.sagemath.org/admin/accounts/users/ralle"
}
```

<a id='comment:1'></a>Attachment [trac_9078.patch](tarball://root/attachments/some-uuid/ticket9078/trac_9078.patch) by ralle created at 2010-05-28 22:05:42



---

archive/issue_comments_100229.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,12 @@\n-Hi,\n+Random element in fraction fields is broken. The current behavior is to take two random elements from the base and return its quotient. Having bad luck, that might return division by zero.\n \n-Random element in fraction fields is broken.\n+Example code:\n+\n+sage: R = GF(3)['t']\n+sage: f = FractionField(R).random_element()\n+\n+The attached patch fixes the bug.\n+\n \n Issue created by migration from https://trac.sagemath.org/ticket/9078\n \n``````\n",
    "created_at": "2010-05-29T16:23:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-100229",
    "user": "https://trac.sagemath.org/admin/accounts/users/ralle"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,12 @@
-Hi,
+Random element in fraction fields is broken. The current behavior is to take two random elements from the base and return its quotient. Having bad luck, that might return division by zero.
 
-Random element in fraction fields is broken.
+Example code:
+
+sage: R = GF(3)['t']
+sage: f = FractionField(R).random_element()
+
+The attached patch fixes the bug.
+
 
 Issue created by migration from https://trac.sagemath.org/ticket/9078
 
``````




---

archive/issue_comments_100230.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,12 @@\n+Random element in fraction fields is broken. The current behavior is to take two random elements from the base and return its quotient. Having bad luck, that might return division by zero.\n+\n+Example code:\n+\n+```\n+sage: R = GF(3)['t']\n+sage: f = FractionField(R).random_element()\n+```\n+The attached patch fixes the bug.\n \n \n Issue created by migration from https://trac.sagemath.org/ticket/9078\n``````\n",
    "created_at": "2010-05-29T16:25:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-100230",
    "user": "https://trac.sagemath.org/admin/accounts/users/ralle"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,12 @@
+Random element in fraction fields is broken. The current behavior is to take two random elements from the base and return its quotient. Having bad luck, that might return division by zero.
+
+Example code:
+
+```
+sage: R = GF(3)['t']
+sage: f = FractionField(R).random_element()
+```
+The attached patch fixes the bug.
 
 
 Issue created by migration from https://trac.sagemath.org/ticket/9078
``````




---

archive/issue_comments_100231.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2010-05-30T21:18:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-100231",
    "user": "https://trac.sagemath.org/admin/accounts/users/johanbosman"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_100232.json:
```json
{
    "body": "<a id='comment:4'></a>Hi Ralph,\n\nAre you sure you are running the latest version of Sage? \u00a0It seems to me that the line numbers of the file your patch refers to are different and furthermore that the code of the latest version is actually correct.\n\nBest regards,\n\nJohan",
    "created_at": "2010-05-30T21:18:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-100232",
    "user": "https://trac.sagemath.org/admin/accounts/users/johanbosman"
}
```

<a id='comment:4'></a>Hi Ralph,

Are you sure you are running the latest version of Sage? Â It seems to me that the line numbers of the file your patch refers to are different and furthermore that the code of the latest version is actually correct.

Best regards,

Johan



---

archive/issue_comments_100233.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Johan Bosman\"",
    "created_at": "2010-05-30T21:18:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-100233",
    "user": "https://trac.sagemath.org/admin/accounts/users/johanbosman"
}
```

Changing reviewer from "" to "Johan Bosman"



---

archive/issue_comments_100234.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2010-05-31T11:03:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-100234",
    "user": "https://trac.sagemath.org/admin/accounts/users/ralle"
}
```

Resolution: fixed



---

archive/issue_comments_100235.json:
```json
{
    "body": "<a id='comment:5'></a>My fault. Latest version is correct. This can be closed.",
    "created_at": "2010-05-31T11:03:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-100235",
    "user": "https://trac.sagemath.org/admin/accounts/users/ralle"
}
```

<a id='comment:5'></a>My fault. Latest version is correct. This can be closed.



---

archive/issue_events_022241.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/ralle",
    "created_at": "2010-05-31T11:03:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9078#event-22241"
}
```



---

archive/issue_comments_100236.json:
```json
{
    "body": "Resolution changed from fixed to invalid",
    "created_at": "2010-05-31T11:39:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-100236",
    "user": "https://trac.sagemath.org/admin/accounts/users/johanbosman"
}
```

Resolution changed from fixed to invalid



---

archive/issue_comments_100237.json:
```json
{
    "body": "<a id='comment:6'></a>http://www.sagemath.org/doc/developer/trac.html#closing-tickets\n\nClosing this ticket is a task for the release manager. ;)",
    "created_at": "2010-05-31T11:39:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-100237",
    "user": "https://trac.sagemath.org/admin/accounts/users/johanbosman"
}
```

<a id='comment:6'></a>http://www.sagemath.org/doc/developer/trac.html#closing-tickets

Closing this ticket is a task for the release manager. ;)



---

archive/issue_comments_100238.json:
```json
{
    "body": "Changing status from closed to new.",
    "created_at": "2010-05-31T11:40:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-100238",
    "user": "https://trac.sagemath.org/admin/accounts/users/johanbosman"
}
```

Changing status from closed to new.



---

archive/issue_events_022242.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/johanbosman",
    "created_at": "2010-05-31T11:40:58Z",
    "event": "reopened",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9078#event-22242"
}
```



---

archive/issue_comments_100239.json:
```json
{
    "body": "Resolution changed from invalid to ",
    "created_at": "2010-05-31T11:40:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-100239",
    "user": "https://trac.sagemath.org/admin/accounts/users/johanbosman"
}
```

Resolution changed from invalid to 



---

archive/issue_comments_100240.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2010-05-31T11:41:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-100240",
    "user": "https://trac.sagemath.org/admin/accounts/users/johanbosman"
}
```

Resolution: invalid



---

archive/issue_events_022243.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/johanbosman",
    "created_at": "2010-05-31T11:41:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9078#event-22243"
}
```



---

archive/issue_comments_100241.json:
```json
{
    "body": "Changing status from closed to needs_work.",
    "created_at": "2010-05-31T11:42:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-100241",
    "user": "https://trac.sagemath.org/admin/accounts/users/johanbosman"
}
```

Changing status from closed to needs_work.



---

archive/issue_events_022244.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/johanbosman",
    "created_at": "2010-05-31T11:42:26Z",
    "event": "reopened",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9078#event-22244"
}
```



---

archive/issue_comments_100242.json:
```json
{
    "body": "<a id='comment:10'></a>So it can be closed as 'invalid'.",
    "created_at": "2010-05-31T11:43:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9078#issuecomment-100242",
    "user": "https://trac.sagemath.org/admin/accounts/users/johanbosman"
}
```

<a id='comment:10'></a>So it can be closed as 'invalid'.



---

archive/issue_events_022245.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-05-31T18:33:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9078#event-22245"
}
```



---

archive/issue_events_022246.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-05-31T18:33:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/9078",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9078#event-22246"
}
```
