# Issue 9384: descend_to method for elliptic curves

archive/issues_009384.json:
```json
{
    "body": "Given a subfield K and an elliptic curve E defined over a field L, this function determines whether there exists an elliptic curve over K which is isomorphic over L to E. If one exists, it finds it.\n\n**Assignee:** @JohnCremona\n\n**CC:**  adeines @JohnCremona jeremywest\n\n**Keywords:** descend, subfield, isomorphic, elliptic curve\n\n**Reviewer:** Aly Deines\n\n**Author:** Erin Beyerstedt, Jeremy West\n\n**Merged:** sage-4.5.2.alpha1\n\nIssue created by migration from https://trac.sagemath.org/ticket/9384\n\n",
    "closed_at": "2010-07-27T00:51:24Z",
    "created_at": "2010-06-29T22:24:01Z",
    "labels": [
        "component: elliptic curves",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.5.2",
    "title": "descend_to method for elliptic curves",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/9384",
    "user": "https://trac.sagemath.org/admin/accounts/users/ebeyerstedt"
}
```
Given a subfield K and an elliptic curve E defined over a field L, this function determines whether there exists an elliptic curve over K which is isomorphic over L to E. If one exists, it finds it.

**Assignee:** @JohnCremona

**CC:**  adeines @JohnCremona jeremywest

**Keywords:** descend, subfield, isomorphic, elliptic curve

**Reviewer:** Aly Deines

**Author:** Erin Beyerstedt, Jeremy West

**Merged:** sage-4.5.2.alpha1

Issue created by migration from https://trac.sagemath.org/ticket/9384





---

archive/issue_comments_083498.json:
```json
{
    "body": "<a id='comment:1'></a>\nThis has been implemented in the patch. Please review.",
    "created_at": "2010-06-29T23:46:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9384#issuecomment-83498",
    "user": "https://trac.sagemath.org/admin/accounts/users/ebeyerstedt"
}
```

<a id='comment:1'></a>
This has been implemented in the patch. Please review.



---

archive/issue_events_070395.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/ebeyerstedt",
    "created_at": "2010-06-29T23:46:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/9384",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9384#event-70395"
}
```



---

archive/issue_comments_083499.json:
```json
{
    "body": "<a id='comment:2'></a>\nNote: This function does not yet work when j = 0, 1728.",
    "created_at": "2010-06-30T02:26:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9384#issuecomment-83499",
    "user": "https://trac.sagemath.org/admin/accounts/users/ebeyerstedt"
}
```

<a id='comment:2'></a>
Note: This function does not yet work when j = 0, 1728.



---

archive/attachments_011917.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_9384.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket9384/trac_9384.patch",
    "created_at": "2010-06-30T03:00:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9384",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/ebeyerstedt"
}
```



---

archive/issue_comments_083500.json:
```json
{
    "body": "",
    "created_at": "2010-06-30T03:00:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9384#issuecomment-83500",
    "user": "https://trac.sagemath.org/admin/accounts/users/ebeyerstedt"
}
```





---

archive/issue_comments_083501.json:
```json
{
    "body": "<a id='comment:3'></a>\nThe update handles the cases for j=0,1728.",
    "created_at": "2010-06-30T03:46:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9384#issuecomment-83501",
    "user": "https://trac.sagemath.org/admin/accounts/users/ebeyerstedt"
}
```

<a id='comment:3'></a>
The update handles the cases for j=0,1728.



---

archive/issue_events_070396.json:
```json
{
    "actor": "https://github.com/adeines",
    "created_at": "2010-06-30T04:35:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/9384",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9384#event-70396"
}
```



---

archive/issue_events_070397.json:
```json
{
    "actor": "https://github.com/adeines",
    "created_at": "2010-06-30T04:35:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/9384",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9384#event-70397"
}
```



---

archive/issue_comments_083502.json:
```json
{
    "body": "<a id='comment:6'></a>\nThe code for handling j=0,1728 needs to be cleaned up a little. Also, this function currently does not properly handle the following case\n\nF.<b> = QuadraticField(23)\nK.<a> = F.extension(x^3+5)\nE = EllipticCurve(j = 1728*b).change_ring(K)\nE.descend_to(F)\n\nIt returns none when it should descend to the subfield F.",
    "created_at": "2010-06-30T04:35:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9384#issuecomment-83502",
    "user": "https://github.com/adeines"
}
```

<a id='comment:6'></a>
The code for handling j=0,1728 needs to be cleaned up a little. Also, this function currently does not properly handle the following case

F.<b> = QuadraticField(23)
K.<a> = F.extension(x^3+5)
E = EllipticCurve(j = 1728*b).change_ring(K)
E.descend_to(F)

It returns none when it should descend to the subfield F.



---

archive/issue_comments_083503.json:
```json
{
    "body": "<a id='comment:7'></a>\nIt looks to me as though the curve returned is (sometimes) a twist of the original, rather than isomorphic -- but I have been flying all night so am not reliable!\n\nYou can check if there is an embedding of K in self.base_ring() like this:\n\n```\nsage: X = polygen(QQ)\nsage: K.<a> = NumberField(X^4 - X^3 + 2*X^2 + X + 1)\nsage: QQ.embeddings(K)\n[Ring Coercion morphism:\n  From: Rational Field\n  To:   Number Field in a with defining polynomial x^4 - x^3 + 2*x^2 + x + 1]\n```",
    "created_at": "2010-06-30T11:33:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9384#issuecomment-83503",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:7'></a>
It looks to me as though the curve returned is (sometimes) a twist of the original, rather than isomorphic -- but I have been flying all night so am not reliable!

You can check if there is an embedding of K in self.base_ring() like this:

```
sage: X = polygen(QQ)
sage: K.<a> = NumberField(X^4 - X^3 + 2*X^2 + X + 1)
sage: QQ.embeddings(K)
[Ring Coercion morphism:
  From: Rational Field
  To:   Number Field in a with defining polynomial x^4 - x^3 + 2*x^2 + x + 1]
```



---

archive/issue_comments_083504.json:
```json
{
    "body": "<a id='comment:8'></a>\nThis new patch should work in general. It uses the newly implemented preimage function for number field homomorphisms. Be sure to apply the patch from #9403 first.",
    "created_at": "2010-07-02T05:14:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9384#issuecomment-83504",
    "user": "https://trac.sagemath.org/admin/accounts/users/ebeyerstedt"
}
```

<a id='comment:8'></a>
This new patch should work in general. It uses the newly implemented preimage function for number field homomorphisms. Be sure to apply the patch from #9403 first.



---

archive/issue_events_070398.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/ebeyerstedt",
    "created_at": "2010-07-02T05:14:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/9384",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9384#event-70398"
}
```



---

archive/issue_events_070399.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/ebeyerstedt",
    "created_at": "2010-07-02T05:14:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/9384",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9384#event-70399"
}
```



---

archive/attachments_011918.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_9384_update.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket9384/trac_9384_update.patch",
    "created_at": "2010-07-02T18:49:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9384",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://trac.sagemath.org/admin/accounts/users/ebeyerstedt"
}
```



---

archive/issue_comments_083505.json:
```json
{
    "body": "Replaces previous patch.",
    "created_at": "2010-07-02T18:49:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9384#issuecomment-83505",
    "user": "https://trac.sagemath.org/admin/accounts/users/ebeyerstedt"
}
```

Replaces previous patch.



---

archive/issue_events_070400.json:
```json
{
    "actor": "https://github.com/adeines",
    "created_at": "2010-07-02T19:57:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/9384",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9384#event-70400"
}
```



---

archive/issue_events_070401.json:
```json
{
    "actor": "https://github.com/adeines",
    "created_at": "2010-07-02T19:57:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/9384",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9384#event-70401"
}
```



---

archive/issue_comments_083506.json:
```json
{
    "body": "**Merged:** sage-4.5.2.alpha1",
    "created_at": "2010-07-27T00:51:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9384#issuecomment-83506",
    "user": "https://github.com/dandrake"
}
```

**Merged:** sage-4.5.2.alpha1



---

archive/issue_events_070402.json:
```json
{
    "actor": "https://github.com/dandrake",
    "created_at": "2010-07-27T00:51:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/9384",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9384#event-70402"
}
```



---

archive/issue_events_070403.json:
```json
{
    "actor": "https://github.com/dandrake",
    "created_at": "2010-07-27T00:51:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/9384",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9384#event-70403"
}
```



---

archive/issue_events_070404.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-07-27T04:33:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/9384",
    "milestone": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9384#event-70404"
}
```



---

archive/issue_events_070405.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2010-07-27T04:33:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/9384",
    "milestone": "sage-4.5.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/9384#event-70405"
}
```



---

archive/issue_comments_083507.json:
```json
{
    "body": "**Reviewer:** Alyson Deines",
    "created_at": "2010-07-27T04:35:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9384#issuecomment-83507",
    "user": "https://github.com/qed777"
}
```

**Reviewer:** Alyson Deines



---

archive/issue_comments_083508.json:
```json
{
    "body": "<a id='comment:12'></a>\nI'm entering a guess for the Reviewer(s) field.  Please correct me if I'm wrong.",
    "created_at": "2010-07-27T04:35:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9384#issuecomment-83508",
    "user": "https://github.com/qed777"
}
```

<a id='comment:12'></a>
I'm entering a guess for the Reviewer(s) field.  Please correct me if I'm wrong.



---

archive/issue_comments_083509.json:
```json
{
    "body": "**Changing reviewer** from \"Alyson Deines\" to \"Aly Deines\".",
    "created_at": "2011-01-13T07:16:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9384#issuecomment-83509",
    "user": "https://github.com/adeines"
}
```

**Changing reviewer** from "Alyson Deines" to "Aly Deines".



---

archive/issue_comments_083510.json:
```json
{
    "body": "<a id='comment:14'></a>\nSee follow-up ticket at #16456 where it is explained why the implementation here is deficient and needs fixing.",
    "created_at": "2014-06-07T17:07:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/9384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/9384#issuecomment-83510",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:14'></a>
See follow-up ticket at #16456 where it is explained why the implementation here is deficient and needs fixing.
