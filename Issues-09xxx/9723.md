# Issue 9723: Sage will not start on 64-bit Solaris 10 - M4RI issue ??

archive/issues_009723.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-drkirkby"
    ],
    "body": " == Hardware/Software ==\n* [Sun T5240](http://www.oracle.com/us/products/servers-storage/servers/sparc-enterprise/t-series/031584.htm)\n* [T2 PLUS](http://www.oracle.com/us/products/servers-storage/microelectronics/031459.htm) processors running at 1167 MHz. (16 cores and 128 hardware threads in total).\n* 32 GB RAM\n* No swap space\n* gcc 4.4.1 configured to use the Sun linker and assembler.\n* Sage 4.5.3.alpha0, with the following four .spkg files, which are necessary to allow Sage to build on 64-bit on Solaris/OpenSolaris on both SPARC and x64. \n  * ECL - #9643. This was not necessary for 64-bit SPARC, but it would have been necessary for 64-bit Solaris x86 or 64-bit OpenSolaris, and was included in this build.\n  * ATLAS #9508\n  * Singular #9397 (Despite the ticket's says OpenSolaris, this is a critical 64-bit fix for Solaris 10 on SPARC too. Many of the problems first observed on a 64-bit OpenSolaris port also affect the 64-bit Solaris 10 SPARC port). \n  * zn_poly #9358 (Again, despite what the ticket's title is, this is also another fix which is essential for Sage to build 64-bit on Solaris 10 SPARC)\n\n == Background ==\nAlthough a fully stable copy of Sage on 64-bit Solaris 10 SPARC has never been built, Sage has at least built and able to do computations. See for example [factoring 323232323923321 on 64-bit Solaris 10 SPARC](http://groups.google.co.uk/group/sage-devel/msg/63dd0f2d01bcfe4e). \n\nAs shown above, Sage 4.5.0 could be made to work, though I believe more recent versions have worked too. However, version earlier needed a few more new .spkg files, as some such as Pynac (#7861), libfpll (#7864), Numpy (#8086) etc were only merged in 4.5.3.alpha0. \n\nI've previously built Sage 64-bit on SPARC on both `t2.math.washington.edu` and on one of my own Solaris 10 SPARC systems - either my Sun Blade 1000 or my Sun Blade 2000 - I can not recall which). \n\n == The problem ==\n\n4.5.3.alpha0, with the four .spkg files mentioned above, builds on Solaris 10 SPARC. The file install.log shows:\n\n```\nTo install gap, gp, singular, etc., scripts\nin a standard bin directory, start sage and\ntype something like\n   sage: install_scripts('/usr/local/bin')\nat the Sage command prompt.\n\nTo build the documentation, run\n   make doc\n\nSage build/upgrade complete!\n```\n\nHowever, the build fails to start at all on `t2.math.washington.edu`, whereas a previous Sage was just about usable, though it was unstable. Instead 4.5.3.alpha0 fails with:\n\n```\nkirkby@t2:64 ~/t2/64/sage-4.5.3.alpha0$ ./sage\n----------------------------------------------------------------------\n| Sage Version 4.5.3.alpha0, Release Date: 2010-08-09                |\n| Type notebook() for the GUI, and license() for information.        |\n----------------------------------------------------------------------\n**********************************************************************\n*                                                                    *\n* Warning: this is a prerelease version, and it may be unstable.     *\n*                                                                    *\n**********************************************************************\n---------------------------------------------------------------------------\nImportError                               Traceback (most recent call last)\n\n/rootpool2/local/kirkby/t2/64/sage-4.5.3.alpha0/local/lib/python2.6/site-packages/IPython/ipmaker.pyc in force_import(modname)\n     64         reload(sys.modules[modname])\n     65     else:\n---> 66         __import__(modname)\n     67 \n     68 \n\n/rootpool2/local/kirkby/t2/64/sage-4.5.3.alpha0/local/bin/ipy_profile_sage.py in <module>()\n      5     preparser(True)\n      6 \n----> 7     import sage.all_cmdline\n      8     sage.all_cmdline._init_cmdline(globals())\n      9 \n\n/rootpool2/local/kirkby/t2/64/sage-4.5.3.alpha0/local/lib/python2.6/site-packages/sage/all_cmdline.py in <module>()\n     12 try:\n     13 \n---> 14     from sage.all import *\n     15     from sage.calculus.predefined import x\n     16     preparser(on=True)\n\n/rootpool2/local/kirkby/t2/64/sage-4.5.3.alpha0/local/lib/python2.6/site-packages/sage/all.py in <module>()\n     71 \n     72 from sage.rings.all      import *\n---> 73 from sage.matrix.all     import *\n     74 \n     75 # This must come before Calculus -- it initializes the Pynac library.\n\n\n/rootpool2/local/kirkby/t2/64/sage-4.5.3.alpha0/local/lib/python2.6/site-packages/sage/matrix/all.py in <module>()\n----> 1 \n      2 \n      3 from matrix_space import MatrixSpace, is_MatrixSpace\n      4 from constructor import matrix, Matrix, random_matrix, diagonal_matrix, identity_matrix, block_matrix, block_diagonal_matrix, jordan_block, zero_matrix\n      5 from matrix import is_Matrix\n      6 from berlekamp_massey import berlekamp_massey\n      7 \n\n/rootpool2/local/kirkby/t2/64/sage-4.5.3.alpha0/local/lib/python2.6/site-packages/sage/matrix/matrix_space.pyc in <module>()\n     35 import matrix_generic_sparse\n     36 \n---> 37 import matrix_modn_dense\n     38 import matrix_modn_sparse\n     39 \n\n/rootpool2/local/kirkby/t2/64/sage-4.5.3.alpha0/local/bin/matrix_integer_dense.pxd in init sage.matrix.matrix_modn_dense (sage/matrix/matrix_modn_dense.c:14829)()\n\n/rootpool2/local/kirkby/t2/64/sage-4.5.3.alpha0/local/bin/matrix_mod2_dense.pxd in init sage.matrix.matrix_integer_dense (sage/matrix/matrix_integer_dense.c:39010)()\n\nImportError: ld.so.1: python: fatal: relocation error: file /rootpool2/local/kirkby/t2/64/sage-4.5.3.alpha0/local/lib/python2.6/site-packages/sage/matrix/matrix_mod2_dense.so: symbol mzd_lqup: referenced symbol not found\nError importing ipy_profile_sage - perhaps you should run %upgrade?\nWARNING: Loading of ipy_profile_sage failed.\n```\n == Likely cause ==\nmzd_lqup issues reported have been part of M4RI problems, but M4RI has not been updated recently to my knowledge. \n\n\nCC:  @jaapspies @jhpalmieri @malb @qed777 @dandrake @jdemeyer\n\nComponent: **porting: Solaris**\n\nReviewer: **David Kirkby**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/9723_\n\n",
    "closed_at": "2011-03-04T22:30:52Z",
    "created_at": "2010-08-11T06:05:12Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/c%3A%20porting%3A%20solaris",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Sage will not start on 64-bit Solaris 10 - M4RI issue ??",
    "type": "issue",
    "updated_at": "2011-03-07T14:17:15Z",
    "url": "https://github.com/sagemath/sage/issues/9723",
    "user": "https://github.com/sagetrac-drkirkby"
}
```
 == Hardware/Software ==
* [Sun T5240](http://www.oracle.com/us/products/servers-storage/servers/sparc-enterprise/t-series/031584.htm)
* [T2 PLUS](http://www.oracle.com/us/products/servers-storage/microelectronics/031459.htm) processors running at 1167 MHz. (16 cores and 128 hardware threads in total).
* 32 GB RAM
* No swap space
* gcc 4.4.1 configured to use the Sun linker and assembler.
* Sage 4.5.3.alpha0, with the following four .spkg files, which are necessary to allow Sage to build on 64-bit on Solaris/OpenSolaris on both SPARC and x64. 
  * ECL - #9643. This was not necessary for 64-bit SPARC, but it would have been necessary for 64-bit Solaris x86 or 64-bit OpenSolaris, and was included in this build.
  * ATLAS #9508
  * Singular #9397 (Despite the ticket's says OpenSolaris, this is a critical 64-bit fix for Solaris 10 on SPARC too. Many of the problems first observed on a 64-bit OpenSolaris port also affect the 64-bit Solaris 10 SPARC port). 
  * zn_poly #9358 (Again, despite what the ticket's title is, this is also another fix which is essential for Sage to build 64-bit on Solaris 10 SPARC)

 == Background ==
Although a fully stable copy of Sage on 64-bit Solaris 10 SPARC has never been built, Sage has at least built and able to do computations. See for example [factoring 323232323923321 on 64-bit Solaris 10 SPARC](http://groups.google.co.uk/group/sage-devel/msg/63dd0f2d01bcfe4e). 

As shown above, Sage 4.5.0 could be made to work, though I believe more recent versions have worked too. However, version earlier needed a few more new .spkg files, as some such as Pynac (#7861), libfpll (#7864), Numpy (#8086) etc were only merged in 4.5.3.alpha0. 

I've previously built Sage 64-bit on SPARC on both `t2.math.washington.edu` and on one of my own Solaris 10 SPARC systems - either my Sun Blade 1000 or my Sun Blade 2000 - I can not recall which). 

 == The problem ==

4.5.3.alpha0, with the four .spkg files mentioned above, builds on Solaris 10 SPARC. The file install.log shows:

```
To install gap, gp, singular, etc., scripts
in a standard bin directory, start sage and
type something like
   sage: install_scripts('/usr/local/bin')
at the Sage command prompt.

To build the documentation, run
   make doc

Sage build/upgrade complete!
```

However, the build fails to start at all on `t2.math.washington.edu`, whereas a previous Sage was just about usable, though it was unstable. Instead 4.5.3.alpha0 fails with:

```
kirkby@t2:64 ~/t2/64/sage-4.5.3.alpha0$ ./sage
----------------------------------------------------------------------
| Sage Version 4.5.3.alpha0, Release Date: 2010-08-09                |
| Type notebook() for the GUI, and license() for information.        |
----------------------------------------------------------------------
**********************************************************************
*                                                                    *
* Warning: this is a prerelease version, and it may be unstable.     *
*                                                                    *
**********************************************************************
---------------------------------------------------------------------------
ImportError                               Traceback (most recent call last)

/rootpool2/local/kirkby/t2/64/sage-4.5.3.alpha0/local/lib/python2.6/site-packages/IPython/ipmaker.pyc in force_import(modname)
     64         reload(sys.modules[modname])
     65     else:
---> 66         __import__(modname)
     67 
     68 

/rootpool2/local/kirkby/t2/64/sage-4.5.3.alpha0/local/bin/ipy_profile_sage.py in <module>()
      5     preparser(True)
      6 
----> 7     import sage.all_cmdline
      8     sage.all_cmdline._init_cmdline(globals())
      9 

/rootpool2/local/kirkby/t2/64/sage-4.5.3.alpha0/local/lib/python2.6/site-packages/sage/all_cmdline.py in <module>()
     12 try:
     13 
---> 14     from sage.all import *
     15     from sage.calculus.predefined import x
     16     preparser(on=True)

/rootpool2/local/kirkby/t2/64/sage-4.5.3.alpha0/local/lib/python2.6/site-packages/sage/all.py in <module>()
     71 
     72 from sage.rings.all      import *
---> 73 from sage.matrix.all     import *
     74 
     75 # This must come before Calculus -- it initializes the Pynac library.


/rootpool2/local/kirkby/t2/64/sage-4.5.3.alpha0/local/lib/python2.6/site-packages/sage/matrix/all.py in <module>()
----> 1 
      2 
      3 from matrix_space import MatrixSpace, is_MatrixSpace
      4 from constructor import matrix, Matrix, random_matrix, diagonal_matrix, identity_matrix, block_matrix, block_diagonal_matrix, jordan_block, zero_matrix
      5 from matrix import is_Matrix
      6 from berlekamp_massey import berlekamp_massey
      7 

/rootpool2/local/kirkby/t2/64/sage-4.5.3.alpha0/local/lib/python2.6/site-packages/sage/matrix/matrix_space.pyc in <module>()
     35 import matrix_generic_sparse
     36 
---> 37 import matrix_modn_dense
     38 import matrix_modn_sparse
     39 

/rootpool2/local/kirkby/t2/64/sage-4.5.3.alpha0/local/bin/matrix_integer_dense.pxd in init sage.matrix.matrix_modn_dense (sage/matrix/matrix_modn_dense.c:14829)()

/rootpool2/local/kirkby/t2/64/sage-4.5.3.alpha0/local/bin/matrix_mod2_dense.pxd in init sage.matrix.matrix_integer_dense (sage/matrix/matrix_integer_dense.c:39010)()

ImportError: ld.so.1: python: fatal: relocation error: file /rootpool2/local/kirkby/t2/64/sage-4.5.3.alpha0/local/lib/python2.6/site-packages/sage/matrix/matrix_mod2_dense.so: symbol mzd_lqup: referenced symbol not found
Error importing ipy_profile_sage - perhaps you should run %upgrade?
WARNING: Loading of ipy_profile_sage failed.
```
 == Likely cause ==
mzd_lqup issues reported have been part of M4RI problems, but M4RI has not been updated recently to my knowledge. 


CC:  @jaapspies @jhpalmieri @malb @qed777 @dandrake @jdemeyer

Component: **porting: Solaris**

Reviewer: **David Kirkby**

_Issue created by migration from https://trac.sagemath.org/ticket/9723_





---

archive/issue_events_124655.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-08-11T06:05:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/9723",
    "milestone_number": null,
    "milestone_title": "sage-4.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9723#event-124655"
}
```



---

archive/issue_events_124656.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-08-11T06:05:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9723",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20porting%3A%20solaris",
    "label_color": "0000b0",
    "label_name": "c: porting: solaris",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9723#event-124656"
}
```



---

archive/issue_events_124657.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-08-11T06:05:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9723",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9723#event-124657"
}
```



---

archive/issue_events_124658.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-08-11T06:05:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/9723",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9723#event-124658"
}
```



---

archive/issue_events_124659.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-08-11T06:05:12Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/9723",
    "subject": "https://github.com/sagetrac-drkirkby",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9723#event-124659"
}
```



---

archive/issue_comments_085754.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,16 +4,16 @@\n * 32 GB RAM\n * No swap space\n * gcc 4.4.1 configured to use the Sun linker and assembler.\n-* Sage 4.5.3.alpha0, with the following 4 new .spkg files, which are necessary to allow Sage to build on 64-bit on Solaris/OpenSolaris on both SPARC and x64.\n+* Sage 4.5.3.alpha0, with the following four .spkg files, which are necessary to allow Sage to build on 64-bit on Solaris/OpenSolaris on both SPARC and x64. \n   * ECL - #9643. This was not necessary for 64-bit SPARC, but it would have been for 64-bit Solaris or OpenSolaris x86 builds, and was included in this build.\n   * ATLAS #9508\n   * Singular #9397 (Despite the ticket's says OpenSolaris, there is a critical 64-bit fix for Solaris 10 on SPARC too. Many of the problems first observed on a 64-bit OpenSolaris port also affect the 64-bit Solaris 10 SPARC port). \n   * zn_poly #9358 (Again, despite what the ticket's title is, this is also another fix which is essential for Sage to build 64-bit on Solaris 10 SPARC)\n \n  == Background ==\n-Although a fully stable copy of Sage on 64-bit Solaris 10 SPARC has never been built, Sage has at least built and able to do computations. See for example [factoring 323232323923321 on 64-bit Solaris SPARC](http://groups.google.co.uk/group/sage-devel/msg/63dd0f2d01bcfe4e). \n+Although a fully stable copy of Sage on 64-bit Solaris 10 SPARC has never been built, Sage has at least built and able to do computations. See for example [factoring 323232323923321 on 64-bit Solaris 10 SPARC](http://groups.google.co.uk/group/sage-devel/msg/63dd0f2d01bcfe4e). \n \n-As shown above, Sage 4.5.0 could be made to work, though I believe more recent versions have worked too. \n+As shown above, Sage 4.5.0 could be made to work, though I believe more recent versions have worked too. However, version earlier needed a few more new .spkg files, as some such as Pynac (#7861), libfpll (#7864), Numpy (#8086) etc were only merged in 4.5.3.alpha0. \n \n I've previously built Sage 64-bit on SPARC on both `t2.math.washington.edu` and on one of my own Solaris 10 SPARC systems - either my Sun Blade 1000 or my Sun Blade 2000 - I can not recall which). \n \n``````\n",
    "created_at": "2010-08-11T06:10:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9723",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9723#issuecomment-85754",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,16 +4,16 @@
 * 32 GB RAM
 * No swap space
 * gcc 4.4.1 configured to use the Sun linker and assembler.
-* Sage 4.5.3.alpha0, with the following 4 new .spkg files, which are necessary to allow Sage to build on 64-bit on Solaris/OpenSolaris on both SPARC and x64.
+* Sage 4.5.3.alpha0, with the following four .spkg files, which are necessary to allow Sage to build on 64-bit on Solaris/OpenSolaris on both SPARC and x64. 
   * ECL - #9643. This was not necessary for 64-bit SPARC, but it would have been for 64-bit Solaris or OpenSolaris x86 builds, and was included in this build.
   * ATLAS #9508
   * Singular #9397 (Despite the ticket's says OpenSolaris, there is a critical 64-bit fix for Solaris 10 on SPARC too. Many of the problems first observed on a 64-bit OpenSolaris port also affect the 64-bit Solaris 10 SPARC port). 
   * zn_poly #9358 (Again, despite what the ticket's title is, this is also another fix which is essential for Sage to build 64-bit on Solaris 10 SPARC)
 
  == Background ==
-Although a fully stable copy of Sage on 64-bit Solaris 10 SPARC has never been built, Sage has at least built and able to do computations. See for example [factoring 323232323923321 on 64-bit Solaris SPARC](http://groups.google.co.uk/group/sage-devel/msg/63dd0f2d01bcfe4e). 
+Although a fully stable copy of Sage on 64-bit Solaris 10 SPARC has never been built, Sage has at least built and able to do computations. See for example [factoring 323232323923321 on 64-bit Solaris 10 SPARC](http://groups.google.co.uk/group/sage-devel/msg/63dd0f2d01bcfe4e). 
 
-As shown above, Sage 4.5.0 could be made to work, though I believe more recent versions have worked too. 
+As shown above, Sage 4.5.0 could be made to work, though I believe more recent versions have worked too. However, version earlier needed a few more new .spkg files, as some such as Pynac (#7861), libfpll (#7864), Numpy (#8086) etc were only merged in 4.5.3.alpha0. 
 
 I've previously built Sage 64-bit on SPARC on both `t2.math.washington.edu` and on one of my own Solaris 10 SPARC systems - either my Sun Blade 1000 or my Sun Blade 2000 - I can not recall which). 
 
``````




---

archive/issue_events_124660.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2010-08-11T06:12:11Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/9723",
    "title_is": "Sage will not start on 64-bit Solaris 10 - M4RI issue ??",
    "title_was": "Sage will not start on 64-bit Solaris 10 - looks like related to M4RI upgrade",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9723#event-124660"
}
```



---

archive/issue_comments_085755.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nHi, this is indeed an error which comes from M4RI. However, I don't understand why. It seems you have a patch applied to the Sage tree which uses the new M4RI API but the new M4RI SPKG is not included (IIRC alpha0 is not supposed to include the M4RI update)",
    "created_at": "2010-08-11T12:12:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9723",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9723#issuecomment-85755",
    "user": "https://github.com/malb"
}
```

<div id="comment:4" align="right">comment:4</div>

Hi, this is indeed an error which comes from M4RI. However, I don't understand why. It seems you have a patch applied to the Sage tree which uses the new M4RI API but the new M4RI SPKG is not included (IIRC alpha0 is not supposed to include the M4RI update)



---

archive/issue_comments_085756.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@malb](#comment:4):\n> Hi, this is indeed an error which comes from M4RI. However, I don't understand why. It seems you have a patch applied to the Sage tree which uses the new M4RI API but the new M4RI SPKG is not included (IIRC alpha0 is not supposed to include the M4RI update)\n\nI've not applied any patch. Could it be the patch was applied by mistake in the 4.5.3.alpha0 source code? \n\nWould it be worth while trying to install the 4MRI package before rebuilding the library? If so, will the libraries just be overwritten with new ones, or will there be old ones left which cause a problem? \n\nIt's odd why this problem is only seen on 64-bit Solaris!\n\nDave",
    "created_at": "2010-08-11T12:24:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9723",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9723#issuecomment-85756",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@malb](#comment:4):
> Hi, this is indeed an error which comes from M4RI. However, I don't understand why. It seems you have a patch applied to the Sage tree which uses the new M4RI API but the new M4RI SPKG is not included (IIRC alpha0 is not supposed to include the M4RI update)

I've not applied any patch. Could it be the patch was applied by mistake in the 4.5.3.alpha0 source code? 

Would it be worth while trying to install the 4MRI package before rebuilding the library? If so, will the libraries just be overwritten with new ones, or will there be old ones left which cause a problem? 

It's odd why this problem is only seen on 64-bit Solaris!

Dave



---

archive/issue_comments_085757.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,9 +5,9 @@\n * No swap space\n * gcc 4.4.1 configured to use the Sun linker and assembler.\n * Sage 4.5.3.alpha0, with the following four .spkg files, which are necessary to allow Sage to build on 64-bit on Solaris/OpenSolaris on both SPARC and x64. \n-  * ECL - #9643. This was not necessary for 64-bit SPARC, but it would have been for 64-bit Solaris or OpenSolaris x86 builds, and was included in this build.\n+  * ECL - #9643. This was not necessary for 64-bit SPARC, but it would have been necessary for 64-bit Solaris x86 or 64-bit OpenSolaris, and was included in this build.\n   * ATLAS #9508\n-  * Singular #9397 (Despite the ticket's says OpenSolaris, there is a critical 64-bit fix for Solaris 10 on SPARC too. Many of the problems first observed on a 64-bit OpenSolaris port also affect the 64-bit Solaris 10 SPARC port). \n+  * Singular #9397 (Despite the ticket's says OpenSolaris, this is a critical 64-bit fix for Solaris 10 on SPARC too. Many of the problems first observed on a 64-bit OpenSolaris port also affect the 64-bit Solaris 10 SPARC port). \n   * zn_poly #9358 (Again, despite what the ticket's title is, this is also another fix which is essential for Sage to build 64-bit on Solaris 10 SPARC)\n \n  == Background ==\n``````\n",
    "created_at": "2010-08-11T12:29:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9723",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9723#issuecomment-85757",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,9 +5,9 @@
 * No swap space
 * gcc 4.4.1 configured to use the Sun linker and assembler.
 * Sage 4.5.3.alpha0, with the following four .spkg files, which are necessary to allow Sage to build on 64-bit on Solaris/OpenSolaris on both SPARC and x64. 
-  * ECL - #9643. This was not necessary for 64-bit SPARC, but it would have been for 64-bit Solaris or OpenSolaris x86 builds, and was included in this build.
+  * ECL - #9643. This was not necessary for 64-bit SPARC, but it would have been necessary for 64-bit Solaris x86 or 64-bit OpenSolaris, and was included in this build.
   * ATLAS #9508
-  * Singular #9397 (Despite the ticket's says OpenSolaris, there is a critical 64-bit fix for Solaris 10 on SPARC too. Many of the problems first observed on a 64-bit OpenSolaris port also affect the 64-bit Solaris 10 SPARC port). 
+  * Singular #9397 (Despite the ticket's says OpenSolaris, this is a critical 64-bit fix for Solaris 10 on SPARC too. Many of the problems first observed on a 64-bit OpenSolaris port also affect the 64-bit Solaris 10 SPARC port). 
   * zn_poly #9358 (Again, despite what the ticket's title is, this is also another fix which is essential for Sage to build 64-bit on Solaris 10 SPARC)
 
  == Background ==
``````




---

archive/issue_comments_085758.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI'm cc'ing the release managers, who might know if the library patch got merged by mistake, without the library, or what else might have caused this. \n\nDave",
    "created_at": "2010-08-11T12:29:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9723",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9723#issuecomment-85758",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:6" align="right">comment:6</div>

I'm cc'ing the release managers, who might know if the library patch got merged by mistake, without the library, or what else might have caused this. 

Dave



---

archive/issue_comments_085759.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI know it's a long shot, but is #9721 conceivably related?",
    "created_at": "2010-08-11T12:55:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9723",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9723#issuecomment-85759",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:7" align="right">comment:7</div>

I know it's a long shot, but is #9721 conceivably related?



---

archive/issue_comments_085760.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@sagetrac-drkirkby](#comment:5):\n> Replying to [@malb](#comment:4):\n> > Hi, this is indeed an error which comes from M4RI. However, I don't understand why. It seems you have a patch applied to the Sage tree which uses the new M4RI API but the new M4RI SPKG is not included (IIRC alpha0 is not supposed to include the M4RI update)\n\n> \n> I've not applied any patch. Could it be the patch was applied by mistake in the 4.5.3.alpha0 source code? \n\nI did not find any mention of the patches at #9475 in `hg log -R devel/sage`.\n\nMaybe it's worth it to try with #9475 + #9717?",
    "created_at": "2010-08-11T22:30:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9723",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9723#issuecomment-85760",
    "user": "https://github.com/qed777"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@sagetrac-drkirkby](#comment:5):
> Replying to [@malb](#comment:4):
> > Hi, this is indeed an error which comes from M4RI. However, I don't understand why. It seems you have a patch applied to the Sage tree which uses the new M4RI API but the new M4RI SPKG is not included (IIRC alpha0 is not supposed to include the M4RI update)

> 
> I've not applied any patch. Could it be the patch was applied by mistake in the 4.5.3.alpha0 source code? 

I did not find any mention of the patches at #9475 in `hg log -R devel/sage`.

Maybe it's worth it to try with #9475 + #9717?



---

archive/issue_comments_085761.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI see what's happened here. By mistake I downloaded the latest M4RI. I have two packages in spkg/standard:\n\n```\n-rw-r--r--   1 drkirkby sage     1236812 Jul 25 23:52 libm4ri-20100221.spkg\n-rw-r--r--   1 drkirkby sage      908163 Jul 27 11:12 libm4ri-20100730.spkg\n```\n\nI rekon libm4ri-20100730.spkg was installed instead of the older one. But since I'd not put in any of the patches, it fails. \n\nIn the short term I am going to remove the updated .spkg and build the older one, then remake the library. Sage has been very unstable on 64-bit SPARC, so I'm not keen to introduce even more possible issues that have not been tested and found fine by many. \n\nDave",
    "created_at": "2010-08-11T22:42:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9723",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9723#issuecomment-85761",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:9" align="right">comment:9</div>

I see what's happened here. By mistake I downloaded the latest M4RI. I have two packages in spkg/standard:

```
-rw-r--r--   1 drkirkby sage     1236812 Jul 25 23:52 libm4ri-20100221.spkg
-rw-r--r--   1 drkirkby sage      908163 Jul 27 11:12 libm4ri-20100730.spkg
```

I rekon libm4ri-20100730.spkg was installed instead of the older one. But since I'd not put in any of the patches, it fails. 

In the short term I am going to remove the updated .spkg and build the older one, then remake the library. Sage has been very unstable on 64-bit SPARC, so I'm not keen to introduce even more possible issues that have not been tested and found fine by many. 

Dave



---

archive/issue_comments_085762.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI suspect this can probably be closed as invalid, since I made a mistake.",
    "created_at": "2010-08-11T22:43:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9723",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9723#issuecomment-85762",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:10" align="right">comment:10</div>

I suspect this can probably be closed as invalid, since I made a mistake.



---

archive/issue_comments_085763.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nAny update on this? If it really is invalid, we can ask the release manager to close it.  Or drkirkby can too, since I think he has privileges :)",
    "created_at": "2011-03-04T16:49:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9723",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9723#issuecomment-85763",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:11" align="right">comment:11</div>

Any update on this? If it really is invalid, we can ask the release manager to close it.  Or drkirkby can too, since I think he has privileges :)



---

archive/issue_events_124661.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2011-03-04T22:30:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/9723",
    "milestone_number": null,
    "milestone_title": "sage-4.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9723#event-124661"
}
```



---

archive/issue_comments_085764.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nYes, this was my mistake and can be closed as invalid.",
    "created_at": "2011-03-04T22:30:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9723",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9723#issuecomment-85764",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:12" align="right">comment:12</div>

Yes, this was my mistake and can be closed as invalid.



---

archive/issue_events_124662.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2011-03-04T22:30:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/9723",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/9723#event-124662"
}
```



---

archive/issue_comments_085765.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@sagetrac-drkirkby](#comment:12):\n> Yes, this was my mistake and can be closed as invalid. \n\nPlease do not close tickets yourself.  Instead put it to `positive_review` with a `sage-duplicate/invalid/wontfix` milestone.",
    "created_at": "2011-03-06T15:46:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9723",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9723#issuecomment-85765",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@sagetrac-drkirkby](#comment:12):
> Yes, this was my mistake and can be closed as invalid. 

Please do not close tickets yourself.  Instead put it to `positive_review` with a `sage-duplicate/invalid/wontfix` milestone.



---

archive/issue_comments_085766.json:
```json
{
    "body": "Reviewer: **David Kirkby**",
    "created_at": "2011-03-06T15:46:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9723",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9723#issuecomment-85766",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **David Kirkby**



---

archive/issue_comments_085767.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@jdemeyer](#comment:13):\n> Replying to [@sagetrac-drkirkby](#comment:12):\n> > Yes, this was my mistake and can be closed as invalid. \n\n> \n> Please do not close tickets yourself.  Instead put it to `positive_review` with a `sage-duplicate/invalid/wontfix` milestone.\n\nMight be worth getting some elucidation from the devel list on this, then, as William gave a few people like Minh and Dave privileges for just this reason.  Is there really a positive review of anything when Dave just made a mistake?  Or are you saying just in order for the release manager to keep track of what is happening?",
    "created_at": "2011-03-07T00:51:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9723",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9723#issuecomment-85767",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@jdemeyer](#comment:13):
> Replying to [@sagetrac-drkirkby](#comment:12):
> > Yes, this was my mistake and can be closed as invalid. 

> 
> Please do not close tickets yourself.  Instead put it to `positive_review` with a `sage-duplicate/invalid/wontfix` milestone.

Might be worth getting some elucidation from the devel list on this, then, as William gave a few people like Minh and Dave privileges for just this reason.  Is there really a positive review of anything when Dave just made a mistake?  Or are you saying just in order for the release manager to keep track of what is happening?



---

archive/issue_comments_085768.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@kcrisman](#comment:14):\n> Replying to [@jdemeyer](#comment:13):\n> > Replying to [@sagetrac-drkirkby](#comment:12):\n> > > Yes, this was my mistake and can be closed as invalid. \n\n> > \n> > Please do not close tickets yourself.  Instead put it to `positive_review` with a `sage-duplicate/invalid/wontfix` milestone.\n\n> Might be worth getting some elucidation from the devel list on this, then, as William gave a few people like Minh and Dave privileges for just this reason.  Is there really a positive review of anything when Dave just made a mistake?  Or are you saying just in order for the release manager to keep track of what is happening?\n\nWhich kind of \"privileges\" do you mean?  Everybody has the ability to close tickets, you don't any special privileges for that.\n\nIt is more a matter of making sure the release manager can keep track of opening/closing tickets.  Currently, I list all closed tickets in the release notes (this is how it was done historically, although one could argue against this practice).",
    "created_at": "2011-03-07T10:31:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9723",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9723#issuecomment-85768",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@kcrisman](#comment:14):
> Replying to [@jdemeyer](#comment:13):
> > Replying to [@sagetrac-drkirkby](#comment:12):
> > > Yes, this was my mistake and can be closed as invalid. 

> > 
> > Please do not close tickets yourself.  Instead put it to `positive_review` with a `sage-duplicate/invalid/wontfix` milestone.

> Might be worth getting some elucidation from the devel list on this, then, as William gave a few people like Minh and Dave privileges for just this reason.  Is there really a positive review of anything when Dave just made a mistake?  Or are you saying just in order for the release manager to keep track of what is happening?

Which kind of "privileges" do you mean?  Everybody has the ability to close tickets, you don't any special privileges for that.

It is more a matter of making sure the release manager can keep track of opening/closing tickets.  Currently, I list all closed tickets in the release notes (this is how it was done historically, although one could argue against this practice).



---

archive/issue_comments_085769.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\n> > > > Yes, this was my mistake and can be closed as invalid. \n\n> > > \n> > > Please do not close tickets yourself.  Instead put it to `positive_review` with a `sage-duplicate/invalid/wontfix` milestone.\n\n> > Might be worth getting some elucidation from the devel list on this, then, as William gave a few people like Minh and Dave privileges for just this reason.  Is there really a positive review of anything when Dave just made a mistake?  Or are you saying just in order for the release manager to keep track of what is happening?\n\n> \n> Which kind of \"privileges\" do you mean?  Everybody has the ability to close tickets, you don't any special privileges for that.\n\nOk, then I must have misinterpreted something a (long) while ago.  It seemed that some actions were not possible except for those who had been given permission to do them, and I thought that closing tickets was one of them.  Now I wonder what that action was?",
    "created_at": "2011-03-07T13:44:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9723",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9723#issuecomment-85769",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:16" align="right">comment:16</div>

> > > > Yes, this was my mistake and can be closed as invalid. 

> > > 
> > > Please do not close tickets yourself.  Instead put it to `positive_review` with a `sage-duplicate/invalid/wontfix` milestone.

> > Might be worth getting some elucidation from the devel list on this, then, as William gave a few people like Minh and Dave privileges for just this reason.  Is there really a positive review of anything when Dave just made a mistake?  Or are you saying just in order for the release manager to keep track of what is happening?

> 
> Which kind of "privileges" do you mean?  Everybody has the ability to close tickets, you don't any special privileges for that.

Ok, then I must have misinterpreted something a (long) while ago.  It seemed that some actions were not possible except for those who had been given permission to do them, and I thought that closing tickets was one of them.  Now I wonder what that action was?



---

archive/issue_comments_085770.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@kcrisman](#comment:16):\n\n> > Which kind of \"privileges\" do you mean?  Everybody has the ability to close tickets, you don't any special privileges for that.\n\n> \n> Ok, then I must have misinterpreted something a (long) while ago.  It seemed that some actions were not possible except for those who had been given permission to do them, and I thought that closing tickets was one of them.  Now I wonder what that action was?\n\nI can't find the message, but William wrote something to the effect on sage-devel that he did not want people closing tickets unless they had admin privileges on the trac server. \n\nI did not feel in this instance the closing this ticket as invalid should have any impact on the current release, which is why I did it without discussing it with the release manager. \n\nDave",
    "created_at": "2011-03-07T14:14:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9723",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9723#issuecomment-85770",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@kcrisman](#comment:16):

> > Which kind of "privileges" do you mean?  Everybody has the ability to close tickets, you don't any special privileges for that.

> 
> Ok, then I must have misinterpreted something a (long) while ago.  It seemed that some actions were not possible except for those who had been given permission to do them, and I thought that closing tickets was one of them.  Now I wonder what that action was?

I can't find the message, but William wrote something to the effect on sage-devel that he did not want people closing tickets unless they had admin privileges on the trac server. 

I did not feel in this instance the closing this ticket as invalid should have any impact on the current release, which is why I did it without discussing it with the release manager. 

Dave



---

archive/issue_comments_085771.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@jdemeyer](#comment:13):\n> Replying to [@sagetrac-drkirkby](#comment:12):\n> > Yes, this was my mistake and can be closed as invalid. \n\n> \n> Please do not close tickets yourself.  Instead put it to `positive_review` with a `sage-duplicate/invalid/wontfix` milestone.\n\nI can't possibly see why it should be \"positive review\". There's no patch or change for anyone to review. I guess I \"reviewed\" my decision to create the ticket, and decided my original decision to open the ticket was incorrect. But now I'm listed as a reviewer!!!\n\nDave",
    "created_at": "2011-03-07T14:17:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/9723",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/9723#issuecomment-85771",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@jdemeyer](#comment:13):
> Replying to [@sagetrac-drkirkby](#comment:12):
> > Yes, this was my mistake and can be closed as invalid. 

> 
> Please do not close tickets yourself.  Instead put it to `positive_review` with a `sage-duplicate/invalid/wontfix` milestone.

I can't possibly see why it should be "positive review". There's no patch or change for anyone to review. I guess I "reviewed" my decision to create the ticket, and decided my original decision to open the ticket was incorrect. But now I'm listed as a reviewer!!!

Dave
