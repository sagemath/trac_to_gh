# Issue 25130: Permutations.unrank sometimes uses iteration

Issue created by migration from Trac.

Original creator: vdelecroix

Original creation time: 2018-05-15 14:01:09

CC:  tmonteil

Keywords: MathExp2018

The following is almost instantaneous

```
sage: Permutations(20).unrank(2**60)
[10, 11, 2, 8, 14, 20, 5, 17, 16, 6, 9, 19, 1, 15, 13, 3, 12, 18, 4, 7]
```

but the following (which should be the same) takes forever

```
sage: Permutations(range(20)).unrank(2**60)
```



---

Comment by tscrim created at 2018-05-15 22:57:25

So this is because `Permutations(range(20))` is a completely different object/implementation and does not use the `StandardPermtutations`. IMO, what should happen is the generic permutations code should just be an adapter to `StandardPermutations` with labels.


---

Comment by vdelecroix created at 2018-08-03 19:20:18

update milestone 8.3 -> 8.4
