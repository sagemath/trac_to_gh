# Issue 14545: check whether gprc.expect exists

Issue created by migration from https://trac.sagemath.org/ticket/14749

Original creator: felixs

Original creation time: 2013-06-16 12:51:32

Assignee: Felix Salfelder

Keywords: gp, expect, configuration

This additional doctest checks whether gprc.expect is where is is expected.

Without this test, it takes some time to figure out whats wrong.


---

Comment by felixs created at 2013-08-26 08:38:37

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2013-08-26 09:04:39

Changing status from needs_review to needs_work.


---

Comment by jdemeyer created at 2013-08-26 09:04:39

1) Why does this depend on #14750?

2) The comment `We illustrate objects that wrap GP objects (gp is the PARI interpreter)::` has absolutely nothing to do with the test you added, so the comment should be fixed.

3) It is better to use `os.path.isfile()` instead of `os.path.exists()` since it's a more specific test.

4) Please make it clear whether the patch or the git branch should be merged. If you want the patch to be merged, it should be in Mercurial format.


---

Comment by felixs created at 2013-08-26 10:11:52

Changing status from needs_work to needs_review.


---

Comment by felixs created at 2013-08-26 10:11:52

Replying to [comment:4 jdemeyer]:
> 1) Why does this depend on #14750?

#14750 provides `SAGE_ETC`. This way, the test does not need to be edited after #14750.

> 2) The comment `We illustrate objects that wrap GP objects (gp is the PARI interpreter)::` has absolutely nothing to do with the test you added, so the comment should be fixed.

done.

> 3) It is better to use `os.path.isfile()` instead of `os.path.exists()` since it's a more specific test.

Why should it not be a symlink? It's just a big pain if it does not exist at all.

> 4) Please make it clear whether the patch or the git branch should be merged. If you want the patch to be merged, it should be in Mercurial format.

This is now two commits on top of #14750, and can be merged after #14750.

thanks


---

Comment by jdemeyer created at 2013-08-26 10:19:28

Replying to [comment:5 felixs]:
> Why should it not be a symlink? It's just a big pain if it does not exist at all.
A name can be both a symlink and a file (a symlink to an ordinary file is both).

> This is now two commits on top of #14750, and can be merged after #14750.
In that case I am removing the patch on this ticket, to reduce confusion.


---

Comment by felixs created at 2013-08-26 10:28:27

Replying to [comment:6 jdemeyer]:
> A name can be both a symlink and a file (a symlink to an ordinary file is both).
indeed.

> In that case I am removing the patch on this ticket, to reduce confusion.
thanks


---

Comment by jdemeyer created at 2013-12-18 16:44:14

The branch seems to be gone...


---

Comment by jdemeyer created at 2013-12-29 18:50:25

Changing status from needs_review to needs_work.


---

Comment by jdemeyer created at 2013-12-29 18:50:25

I still find the comment

```
EXAMPLES: We illustrate objects that wrap GP objects (gp is the 
interpreter, gprc.expect is a requirement).::
```

very confusing. Why not separate this in two pieces (such that is clear that you're first testing `gprc.expect`, then the `gp` interpreter).
----
New commits:
