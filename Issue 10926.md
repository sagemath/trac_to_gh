# Issue 10926: BooleanPolynomial.lex_lead() shouldn't crash on zero

archive/issues_010926.json:
```json
{
    "body": "Assignee: malb\n\nCC:  alexanderdreyer polybori\n\nKeywords: polybori, sigsegv\n\nThis is bad:\n\n\n```python\nsage: B.<a,b,c> = BooleanPolynomialRing()\nsage: B(0).lex_lead()\nterminate called after throwing an instance of \n'polybori::PBoRiGenericError<7u>'\n  what():  Illegal operation on zero diagram or (sub-)polynomial.\n/home/malb/Sage/current/local/bin/sage-sage: line 300: 10210 Aborted                 \nsage-ipython \"$@\" -i\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/11019\n\n",
    "created_at": "2011-03-24T21:41:16Z",
    "labels": [
        "commutative algebra",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.7",
    "title": "BooleanPolynomial.lex_lead() shouldn't crash on zero",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/10926",
    "user": "malb"
}
```
Assignee: malb

CC:  alexanderdreyer polybori

Keywords: polybori, sigsegv

This is bad:


```python
sage: B.<a,b,c> = BooleanPolynomialRing()
sage: B(0).lex_lead()
terminate called after throwing an instance of 
'polybori::PBoRiGenericError<7u>'
  what():  Illegal operation on zero diagram or (sub-)polynomial.
/home/malb/Sage/current/local/bin/sage-sage: line 300: 10210 Aborted                 
sage-ipython "$@" -i
```


Issue created by migration from https://trac.sagemath.org/ticket/11019





---

archive/issue_comments_117398.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-03-24T21:43:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10926#issuecomment-117398",
    "user": "malb"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_117399.json:
```json
{
    "body": "Attachment [trac_11019.patch](tarball://root/attachments/some-uuid/ticket11019/trac_11019.patch) by malb created at 2011-03-24 21:43:29\n\nBtw. I couldn't go for throwing an error because sometimes `gbcore.py` calls lex_lead() on zero. So I opted for returning zero which seems to work.",
    "created_at": "2011-03-24T21:43:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10926#issuecomment-117399",
    "user": "malb"
}
```

Attachment [trac_11019.patch](tarball://root/attachments/some-uuid/ticket11019/trac_11019.patch) by malb created at 2011-03-24 21:43:29

Btw. I couldn't go for throwing an error because sometimes `gbcore.py` calls lex_lead() on zero. So I opted for returning zero which seems to work.



---

archive/issue_comments_117400.json:
```json
{
    "body": "The patch looks good, so code-review by inspection is positive already, I'll apply it for a technical review.\nBut `gbcore.py` shouldn't call lex_lead on zero, so maybe you can provide me the corresponding examples off-trac for upstream debugging?",
    "created_at": "2011-03-24T22:43:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10926#issuecomment-117400",
    "user": "AlexanderDreyer"
}
```

The patch looks good, so code-review by inspection is positive already, I'll apply it for a technical review.
But `gbcore.py` shouldn't call lex_lead on zero, so maybe you can provide me the corresponding examples off-trac for upstream debugging?



---

archive/issue_comments_117401.json:
```json
{
    "body": "Applies smoothly on Sage 4.6.2 with the PolyBoRi 0.7.0-patch, tested in `sage/{rings,crypto,libs`} succeed. So positive review!",
    "created_at": "2011-03-24T23:24:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10926#issuecomment-117401",
    "user": "AlexanderDreyer"
}
```

Applies smoothly on Sage 4.6.2 with the PolyBoRi 0.7.0-patch, tested in `sage/{rings,crypto,libs`} succeed. So positive review!



---

archive/issue_comments_117402.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-03-24T23:24:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10926#issuecomment-117402",
    "user": "AlexanderDreyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_117403.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-04-13T07:44:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/10926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/10926#issuecomment-117403",
    "user": "jdemeyer"
}
```

Resolution: fixed
