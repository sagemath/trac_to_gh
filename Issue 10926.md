# Issue 10926: BooleanPolynomial.lex_lead() shouldn't crash on zero

Issue created by migration from https://trac.sagemath.org/ticket/11019

Original creator: malb

Original creation time: 2011-03-24 21:41:16

Assignee: malb

CC:  alexanderdreyer polybori

Keywords: polybori, sigsegv

This is bad:


```python
sage: B.<a,b,c> = BooleanPolynomialRing()
sage: B(0).lex_lead()
terminate called after throwing an instance of 
'polybori::PBoRiGenericError<7u>'
  what():  Illegal operation on zero diagram or (sub-)polynomial.
/home/malb/Sage/current/local/bin/sage-sage: line 300: 10210 Aborted                 
sage-ipython "$@" -i
```



---

Comment by malb created at 2011-03-24 21:43:29

Changing status from new to needs_review.


---

Attachment

Btw. I couldn't go for throwing an error because sometimes `gbcore.py` calls lex_lead() on zero. So I opted for returning zero which seems to work.


---

Comment by AlexanderDreyer created at 2011-03-24 22:43:45

The patch looks good, so code-review by inspection is positive already, I'll apply it for a technical review.
But `gbcore.py` shouldn't call lex_lead on zero, so maybe you can provide me the corresponding examples off-trac for upstream debugging?


---

Comment by AlexanderDreyer created at 2011-03-24 23:24:14

Applies smoothly on Sage 4.6.2 with the PolyBoRi 0.7.0-patch, tested in `sage/{rings,crypto,libs`} succeed. So positive review!


---

Comment by AlexanderDreyer created at 2011-03-24 23:24:14

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2011-04-13 07:44:29

Resolution: fixed
