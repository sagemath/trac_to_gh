# Issue 26120: Add thematic tutorial to the polymake interface, based on polymake tutorials

Issue created by migration from Trac.

Original creator: mkoeppe

Original creation time: 2018-09-28 00:55:09

CC:  simonking jipilab vdelecroix tscrim tmonteil dimpase lorenz@math.tu-berlin.de

polymake has a number of tutorials in two formats
 - polymake website html: https://polymake.org/doku.php/tutorial/start - apparently released under CC BY-NC-SA
 - ipynb at https://github.com/polymake/polymake/tree/Releases/demo - apparently released under GPL

In this ticket, we add a translation of the Perl-based tutorials to Python (via the polymake pexpect interface) as a thematic tutorial. 
(Upstream has been contacted regarding precise license status / possible relicensing under CC-BY-SA or similar to make it suitable for the Sage documentation.)

(This will also serve as an extended testsuite for the polymake pexpect interface.)

Preview of one translated tutorial: https://www.math.ucdavis.edu/~mkoeppe/art/icerm-2018/index.html#polymake-tutorial-on-polytopes-translated-to-python




---

Comment by mkoeppe created at 2018-09-28 17:26:05

First attempt at automatic conversion. 
----
New commits:


---

Comment by git created at 2019-05-08 16:05:18

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:


---

Comment by git created at 2019-05-09 16:24:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2019-05-09 16:25:09

New commits:


---

Comment by jhpalmieri created at 2019-05-09 17:20:28

Wouldn't it make more sense to put `polymake` documentation in `local/share/doc/polymake`? I don't see any reference to Sage at all in the tutorials, so it really doesn't belong in Sage's `thematic_tutorials` directory. This is especially the case since this is an experimental package.


---

Comment by dimpase created at 2019-05-09 19:37:49

it doesn't build:

```
[dochtml] OSError: /home/dimpase/Sage/sagetrac-mirror/src/doc/en/thematic_tutorials/polymake/apps_graph.rst:206: WARNING: Inline interpreted text or phrase reference start-string without end-string.
Makefile:2032: recipe for target 'doc-html' failed
```


I agree with John that the proper place for this needs to be found.


---

Comment by mkoeppe created at 2019-05-10 08:07:03

Replying to [comment:8 jhpalmieri]:
> Wouldn't it make more sense to put `polymake` documentation in `local/share/doc/polymake`? I don't see any reference to Sage at all in the tutorials, so it really doesn't belong in Sage's `thematic_tutorials` directory. This is especially the case since this is an experimental package.
This ticket is not ready for review. So far this is just an automatic conversion of the polymake tutorials (interactions in Perl). When done, the Perl interactions will be replaced by Sage doctests.


---

Comment by jhpalmieri created at 2019-05-10 16:21:25

Still, does it make sense to have a long multi-page document as part of the standard Sage documentation, based on an experimental package? Is there a way to include this as part of the polymake package, so it is only included when the package is installed?


---

Comment by dimpase created at 2019-05-10 16:49:07

perhaps one can wrap it as an experimental package.


---

Comment by tscrim created at 2019-05-10 23:26:17

I think it is a good idea to include this because it helps advertise things that Sage can do (with an add-on installed). Also, if it was included when the experimental package was installed, then essentially nobody would read it (at least, I don't think many non-developers even know where to find the built documentation). Now perhaps including everything is not what we should do, but instead distill it down to a more fundamental set of examples and capabilities with the full examples currently here as an extra file as part of the spkg's test suite.

Actually, why is the polymake an experimental package and not an optional one? Is it not considered reliable enough to build on all supported platforms?


---

Comment by dimpase created at 2019-05-11 00:09:01

polymake is far from being available on all platforms we support, see last comments on #24905


---

Comment by SimonKing created at 2019-05-11 05:07:42

Replying to [comment:13 tscrim]:
> I think it is a good idea to include this because it helps advertise things that Sage can do (with an add-on installed).

The impression came across that the suggestion is to merely have the upstream (perl based!) documentation available. This would clearly not qualify as a Sage tutorial.

But even if the intention was to create a tutorial that is a *SageMath* tutorial (i.e., a document that exposes how to compute with polytopes _in Sage_ using Polymake as a backend and leaving perl out of the picture): We are talking about an optional or experimental package, and so far the documentation of such packages is, by default, in SAGE_LOCAL/share/doc/<package name>.

> Actually, why is the polymake an experimental package and not an optional one? Is it not considered reliable enough to build on all supported platforms?

If I understand correctly, a substantial part of the recent polymake tickets and also some threads on Sage-devel and sage-support included discussion on how to make it build. That would be reason enough 
demote an optional package to an experimental one.


---

Comment by mkoeppe created at 2019-05-11 10:32:21

Replying to [comment:13 tscrim]:
> 
> Actually, why is the polymake an experimental package and not an optional one? Is it not considered reliable enough to build on all supported platforms?

 1) As Dima said, at the moment there are still some (minor) portability problems: 
  a) On Centos because of the layout of the Perl installation. Upstream (Benjamin Lorenz) is aware of it and is working on a fix.

  b) Also (per Dima) apparently gcc 6.3 as on Debian stable is too old to build polymake.

 2) Because of Perl package dependencies, the installation not yet as fully automatic as other sage packages. See #27763 - any help and ideas there are welcome. 

Polymake historically had a reputation of being hard to install, but the polymake team has made great improvements there. The remaining portability issues can be addressed in the same way as it is done for other packages.


---

Comment by git created at 2019-05-16 13:17:03

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-05-17 11:12:04

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-05-22 23:00:40

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-07-26 17:30:14

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:


---

Comment by mkoeppe created at 2019-07-26 17:31:19

Rebased on top of #28265, 8.9.beta3


---

Comment by git created at 2019-07-26 19:55:43

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2019-07-27 20:49:04

The tutorials are currently listed in alphabetical order by file name; they should probably be structured in the same way as here: https://polymake.org/doku.php/user_guide/start


---

Comment by git created at 2019-07-30 03:56:07

Branch pushed to git repo; I updated commit sha1. New commits:
