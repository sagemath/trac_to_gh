# Issue 14379: Permutation('()') and Permutation(''), each in its own way, fail to return the identity in S_0

archive/issues_014379.json:
```json
{
    "body": "Assignee: sage-combinat\n\nCC:  sage-combinat @tscrim @nthiery\n\nKeywords: combinat\n\nI brought this up in #8392 but was told to post it as a new ticker.\n\n\n```\nsage: Permutation([])  # This is be the identity permutation in S_0.\n[]\nsage: Permutation([]).cycle_string()    # OK.\n'()'\nsage: Permutation('()')    # This should give the S_0 identity back -- but it doesn't.\n[1]\nsage: Permutation('')     # Does this maybe? No.\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n<ipython-input-29-3df27d9d4d7a> in <module>()\n----> 1 Permutation('')\n\n/home/darij/sage-5.10.beta2/local/lib/python2.7/site-packages/sage/combinat/permutation.pyc in Permutation(l, check_input)\n    430         cycle_list = []\n    431         for c in cycles:\n--> 432             cycle_list.append(map(int, c.split(\",\")))\n    433 \n    434         return from_cycles(max([max(c) for c in cycle_list]), cycle_list)\n\nValueError: invalid literal for int() with base 10: ''\nsage: Permutation(())       # What about this?\n[1]\n```\n\n\nA corner case it is, but I think it should be done right...\n\nIssue created by migration from https://trac.sagemath.org/ticket/14583\n\n",
    "created_at": "2013-05-15T02:56:49Z",
    "labels": [
        "combinatorics",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.10",
    "title": "Permutation('()') and Permutation(''), each in its own way, fail to return the identity in S_0",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14379",
    "user": "@darijgr"
}
```
Assignee: sage-combinat

CC:  sage-combinat @tscrim @nthiery

Keywords: combinat

I brought this up in #8392 but was told to post it as a new ticker.


```
sage: Permutation([])  # This is be the identity permutation in S_0.
[]
sage: Permutation([]).cycle_string()    # OK.
'()'
sage: Permutation('()')    # This should give the S_0 identity back -- but it doesn't.
[1]
sage: Permutation('')     # Does this maybe? No.
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-29-3df27d9d4d7a> in <module>()
----> 1 Permutation('')

/home/darij/sage-5.10.beta2/local/lib/python2.7/site-packages/sage/combinat/permutation.pyc in Permutation(l, check_input)
    430         cycle_list = []
    431         for c in cycles:
--> 432             cycle_list.append(map(int, c.split(",")))
    433 
    434         return from_cycles(max([max(c) for c in cycle_list]), cycle_list)

ValueError: invalid literal for int() with base 10: ''
sage: Permutation(())       # What about this?
[1]
```


A corner case it is, but I think it should be done right...

Issue created by migration from https://trac.sagemath.org/ticket/14583





---

archive/issue_comments_181658.json:
```json
{
    "body": "Attachment [trac_14583-s0-v1.patch](tarball://root/attachments/some-uuid/ticket14583/trac_14583-s0-v1.patch) by @darijgr created at 2013-05-15 03:19:38\n\nfixes for a couple of these bugs (not sure there aren't any others)",
    "created_at": "2013-05-15T03:19:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14379#issuecomment-181658",
    "user": "@darijgr"
}
```

Attachment [trac_14583-s0-v1.patch](tarball://root/attachments/some-uuid/ticket14583/trac_14583-s0-v1.patch) by @darijgr created at 2013-05-15 03:19:38

fixes for a couple of these bugs (not sure there aren't any others)



---

archive/issue_comments_181659.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-05-15T03:20:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14379#issuecomment-181659",
    "user": "@darijgr"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_181660.json:
```json
{
    "body": "Helloooooooooooooooooooo !!\n\nMake sense ! Though shouldn't `if len(flattened_and_sorted) == 0:` in `from_cycles` return the identity on `n` elements instead ? If the user asked for `n` elements, after all...\n\nNathann",
    "created_at": "2013-05-15T07:54:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14379#issuecomment-181660",
    "user": "@nathanncohen"
}
```

Helloooooooooooooooooooo !!

Make sense ! Though shouldn't `if len(flattened_and_sorted) == 0:` in `from_cycles` return the identity on `n` elements instead ? If the user asked for `n` elements, after all...

Nathann



---

archive/issue_comments_181661.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2013-05-15T07:54:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14379#issuecomment-181661",
    "user": "@nathanncohen"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_181662.json:
```json
{
    "body": "Attachment [trac_14583-s0-v2.patch](tarball://root/attachments/some-uuid/ticket14583/trac_14583-s0-v2.patch) by @darijgr created at 2013-05-16 03:01:51\n\nnew version",
    "created_at": "2013-05-16T03:01:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14379#issuecomment-181662",
    "user": "@darijgr"
}
```

Attachment [trac_14583-s0-v2.patch](tarball://root/attachments/some-uuid/ticket14583/trac_14583-s0-v2.patch) by @darijgr created at 2013-05-16 03:01:51

new version



---

archive/issue_comments_181663.json:
```json
{
    "body": "Of course! Thanks for catching this one.\n\nI fixed this and a few more trifles in the present version.",
    "created_at": "2013-05-16T03:02:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14379#issuecomment-181663",
    "user": "@darijgr"
}
```

Of course! Thanks for catching this one.

I fixed this and a few more trifles in the present version.



---

archive/issue_comments_181664.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2013-05-16T03:03:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14379#issuecomment-181664",
    "user": "@darijgr"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_181665.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-05-16T08:57:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14379#issuecomment-181665",
    "user": "@nathanncohen"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_181666.json:
```json
{
    "body": "The patch makes sense, and passes all tests !\n\nNathann",
    "created_at": "2013-05-16T08:57:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14379#issuecomment-181666",
    "user": "@nathanncohen"
}
```

The patch makes sense, and passes all tests !

Nathann



---

archive/issue_comments_181667.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-05-19T08:37:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14379",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14379#issuecomment-181667",
    "user": "@jdemeyer"
}
```

Resolution: fixed
