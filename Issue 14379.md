# Issue 14379: Permutation('()') and Permutation(''), each in its own way, fail to return the identity in S_0

Issue created by migration from Trac.

Original creator: darij

Original creation time: 2013-05-15 02:56:49

Assignee: sage-combinat

CC:  sage-combinat tscrim nthiery

Keywords: combinat

I brought this up in #8392 but was told to post it as a new ticker.

{{{sage: Permutation([])  # This is be the identity permutation in S_0.
[]
sage: Permutation([]).cycle_string()    # OK.
'()'
sage: Permutation('()')    # This should give the S_0 identity back -- but it doesn't.
[1]
sage: Permutation('')     # Does this maybe? No.
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-29-3df27d9d4d7a> in <module>()
----> 1 Permutation('')

/home/darij/sage-5.10.beta2/local/lib/python2.7/site-packages/sage/combinat/permutation.pyc in Permutation(l, check_input)
    430         cycle_list = []
    431         for c in cycles:
--> 432             cycle_list.append(map(int, c.split(",")))
    433 
    434         return from_cycles(max([max(c) for c in cycle_list]), cycle_list)

ValueError: invalid literal for int() with base 10: ''
sage: Permutation(())       # What about this?
[1]
}}}

A corner case it is, but I think it should be done right...


---

Attachment

fixes for a couple of these bugs (not sure there aren't any others)


---

Comment by darij created at 2013-05-15 03:20:22

Changing status from new to needs_review.


---

Comment by ncohen created at 2013-05-15 07:54:12

Helloooooooooooooooooooo !!

Make sense ! Though shouldn't `if len(flattened_and_sorted) == 0:` in `from_cycles` return the identity on `n` elements instead ? If the user asked for `n` elements, after all...

Nathann


---

Comment by ncohen created at 2013-05-15 07:54:12

Changing status from needs_review to needs_info.


---

Attachment

new version


---

Comment by darij created at 2013-05-16 03:02:58

Of course! Thanks for catching this one.

I fixed this and a few more trifles in the present version.


---

Comment by darij created at 2013-05-16 03:03:47

Changing status from needs_info to needs_review.


---

Comment by ncohen created at 2013-05-16 08:57:01

Changing status from needs_review to positive_review.


---

Comment by ncohen created at 2013-05-16 08:57:01

The patch makes sense, and passes all tests !

Nathann


---

Comment by jdemeyer created at 2013-05-19 08:37:54

Resolution: fixed
