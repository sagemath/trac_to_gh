# Issue 27958: Implement LexUP and LexDOWN

archive/issues_027958.json:
```json
{
    "body": "Keywords: gsoc19\n\nJust like in #27928 we continue with the efficient implementation of graph traversal algorithms in Cython. More information about these algorithms and how they work can be found here: https://arxiv.org/pdf/1701.00305.pdf\n\nIssue created by migration from https://trac.sagemath.org/ticket/28195\n\n",
    "created_at": "2019-07-14T13:18:29Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.9",
    "title": "Implement LexUP and LexDOWN",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27958",
    "user": "https://github.com/giorgosgiapis"
}
```
Keywords: gsoc19

Just like in #27928 we continue with the efficient implementation of graph traversal algorithms in Cython. More information about these algorithms and how they work can be found here: https://arxiv.org/pdf/1701.00305.pdf

Issue created by migration from https://trac.sagemath.org/ticket/28195





---

archive/issue_comments_394503.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2019-07-14T13:19:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394503",
    "user": "https://github.com/giorgosgiapis"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_394504.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-07-15T22:31:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394504",
    "user": "https://github.com/giorgosgiapis"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_394505.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2019-07-15T22:31:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394505",
    "user": "https://github.com/giorgosgiapis"
}
```

Last 10 new commits:



---

archive/issue_comments_394506.json:
```json
{
    "body": "Should I create a Metaticket about all the newly implemented graph traversal methods?",
    "created_at": "2019-07-15T22:47:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394506",
    "user": "https://github.com/giorgosgiapis"
}
```

Should I create a Metaticket about all the newly implemented graph traversal methods?



---

archive/issue_comments_394507.json:
```json
{
    "body": "No need for a meta-ticket, but I guess you have to write a somehow a blog for reporting to GSoC.\n\nPlease add a desciption a what is lexUP. UP is not enough to guess what it can be.",
    "created_at": "2019-07-16T02:39:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394507",
    "user": "https://github.com/dcoudert"
}
```

No need for a meta-ticket, but I guess you have to write a somehow a blog for reporting to GSoC.

Please add a desciption a what is lexUP. UP is not enough to guess what it can be.



---

archive/issue_comments_394508.json:
```json
{
    "body": "I will add a more detailed explanation and a reference to the paper presented in the ticket description under `ALGORITHM` description. I think this should be enough.",
    "created_at": "2019-07-16T09:08:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394508",
    "user": "https://github.com/giorgosgiapis"
}
```

I will add a more detailed explanation and a reference to the paper presented in the ticket description under `ALGORITHM` description. I think this should be enough.



---

archive/issue_comments_394509.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-17T14:39:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394509",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_394510.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-17T15:49:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394510",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_394511.json:
```json
{
    "body": "I can't build the documentation after I modified `src/doc/en/reference/references/index.rst`. I am getting lots of \"*Citation not found*\" errors when running `docbuild`. Should I run `make doc-clean && make`?",
    "created_at": "2019-07-17T16:48:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394511",
    "user": "https://github.com/giorgosgiapis"
}
```

I can't build the documentation after I modified `src/doc/en/reference/references/index.rst`. I am getting lots of "*Citation not found*" errors when running `docbuild`. Should I run `make doc-clean && make`?



---

archive/issue_comments_394512.json:
```json
{
    "body": "Yes. The system is far from perfect when you touch the references...",
    "created_at": "2019-07-17T18:17:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394512",
    "user": "https://github.com/dcoudert"
}
```

Yes. The system is far from perfect when you touch the references...



---

archive/issue_comments_394513.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-19T20:14:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394513",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_394514.json:
```json
{
    "body": "I have added Lex Down traversal. I will try running `make doc-clean && make` once again to see if it will build the documentation.",
    "created_at": "2019-07-19T20:15:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394514",
    "user": "https://github.com/giorgosgiapis"
}
```

I have added Lex Down traversal. I will try running `make doc-clean && make` once again to see if it will build the documentation.



---

archive/issue_comments_394515.json:
```json
{
    "body": "Documentation just finished building. Everything seems fine with the way html is displayed.",
    "created_at": "2019-07-19T20:58:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394515",
    "user": "https://github.com/giorgosgiapis"
}
```

Documentation just finished building. Everything seems fine with the way html is displayed.



---

archive/issue_comments_394516.json:
```json
{
    "body": "Please use `UP` and `DOWN` everywhere in method names.\n\nin `traversals.pyx`\n\n```diff\n-    :meth:`~lex_Up` | Perform a lexicographic up (LexUp) on the graph.\n+    :meth:`~lex_UP` | Perform a lexicographic UP search (LexUP) on the graph.\n```\n\n\n- you have not added an alias for `lex_DOWN` in `generic_graph.py`\n\n- unify the one line description for `Lex_DOWN` everywhere. The work `search` is missing, etc.\n\n- you can add a SEEALSO block with links to `Lex_BFS`, `Lex_DFS`, etc.",
    "created_at": "2019-07-22T00:44:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394516",
    "user": "https://github.com/dcoudert"
}
```

Please use `UP` and `DOWN` everywhere in method names.

in `traversals.pyx`

```diff
-    :meth:`~lex_Up` | Perform a lexicographic up (LexUp) on the graph.
+    :meth:`~lex_UP` | Perform a lexicographic UP search (LexUP) on the graph.
```


- you have not added an alias for `lex_DOWN` in `generic_graph.py`

- unify the one line description for `Lex_DOWN` everywhere. The work `search` is missing, etc.

- you can add a SEEALSO block with links to `Lex_BFS`, `Lex_DFS`, etc.



---

archive/issue_comments_394517.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-07-22T00:44:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394517",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_394518.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-22T02:15:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394518",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_394519.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-07-22T02:16:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394519",
    "user": "https://github.com/giorgosgiapis"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_394520.json:
```json
{
    "body": "Why are you referring to lex BFS in lex UP and to lex DFS in lex DOWN ? Are these methods closer ? Otherwise, why not referring to all other methods ?",
    "created_at": "2019-07-23T15:13:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394520",
    "user": "https://github.com/dcoudert"
}
```

Why are you referring to lex BFS in lex UP and to lex DFS in lex DOWN ? Are these methods closer ? Otherwise, why not referring to all other methods ?



---

archive/issue_comments_394521.json:
```json
{
    "body": "and you can also add a link to `:wikipedia:`Lexicographic_breadth-first_search`` in lex BFS.",
    "created_at": "2019-07-23T15:14:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394521",
    "user": "https://github.com/dcoudert"
}
```

and you can also add a link to `:wikipedia:`Lexicographic_breadth-first_search`` in lex BFS.



---

archive/issue_comments_394522.json:
```json
{
    "body": "Replying to [comment:17 dcoudert]:\n> Why are you referring to lex BFS in lex UP and to lex DFS in lex DOWN ? Are these methods closer ? Otherwise, why not referring to all other methods ?\n\nI think they are closer since in both lex BFS and lex UP we append to the labels of nodes while in lex DFS and lex DOWN we prepend.",
    "created_at": "2019-07-23T15:20:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394522",
    "user": "https://github.com/giorgosgiapis"
}
```

Replying to [comment:17 dcoudert]:
> Why are you referring to lex BFS in lex UP and to lex DFS in lex DOWN ? Are these methods closer ? Otherwise, why not referring to all other methods ?

I think they are closer since in both lex BFS and lex UP we append to the labels of nodes while in lex DFS and lex DOWN we prepend.



---

archive/issue_comments_394523.json:
```json
{
    "body": "Replying to [comment:18 dcoudert]:\n> and you can also add a link to `:wikipedia:`Lexicographic_breadth-first_search`` in lex BFS.\n\nWill do.",
    "created_at": "2019-07-23T15:20:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394523",
    "user": "https://github.com/giorgosgiapis"
}
```

Replying to [comment:18 dcoudert]:
> and you can also add a link to `:wikipedia:`Lexicographic_breadth-first_search`` in lex BFS.

Will do.



---

archive/issue_comments_394524.json:
```json
{
    "body": "> I think they are closer since in both lex BFS and lex UP we append to the labels of nodes while in lex DFS and lex DOWN we prepend.\n\nGood point. I admit that It's not easy to understand what these traversals do (the order to expect) and for what usage they are useful.",
    "created_at": "2019-07-23T15:22:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394524",
    "user": "https://github.com/dcoudert"
}
```

> I think they are closer since in both lex BFS and lex UP we append to the labels of nodes while in lex DFS and lex DOWN we prepend.

Good point. I admit that It's not easy to understand what these traversals do (the order to expect) and for what usage they are useful.



---

archive/issue_comments_394525.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-23T15:42:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394525",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_394526.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-28T23:08:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394526",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_394527.json:
```json
{
    "body": "May be we could add an example showing that the resulting orderings are different. For instance:\n\n```\nsage: G = digraphs.DeBruijn(2,3)\nsage: G.lex_BFS(initial_vertex='000')\n['000', '001', '100', '010', '011', '110', '101', '111']\nsage: G.lex_DFS(initial_vertex='000')\n['000', '001', '100', '010', '101', '110', '011', '111']\nsage: G.lex_UP(initial_vertex='000')\n['000', '001', '010', '101', '110', '111', '011', '100']\nsage: G.lex_DOWN(initial_vertex='000')\n['000', '001', '100', '011', '010', '110', '111', '101']\n```\n",
    "created_at": "2019-07-31T14:27:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394527",
    "user": "https://github.com/dcoudert"
}
```

May be we could add an example showing that the resulting orderings are different. For instance:

```
sage: G = digraphs.DeBruijn(2,3)
sage: G.lex_BFS(initial_vertex='000')
['000', '001', '100', '010', '011', '110', '101', '111']
sage: G.lex_DFS(initial_vertex='000')
['000', '001', '100', '010', '101', '110', '011', '111']
sage: G.lex_UP(initial_vertex='000')
['000', '001', '010', '101', '110', '111', '011', '100']
sage: G.lex_DOWN(initial_vertex='000')
['000', '001', '100', '011', '010', '110', '111', '101']
```




---

archive/issue_comments_394528.json:
```json
{
    "body": "Replying to [comment:24 dcoudert]:\n> May be we could add an example showing that the resulting orderings are different. For instance:\n> {{{\n> sage: G = digraphs.DeBruijn(2,3)\n> sage: G.lex_BFS(initial_vertex='000')\n> ['000', '001', '100', '010', '011', '110', '101', '111']\n> sage: G.lex_DFS(initial_vertex='000')\n> ['000', '001', '100', '010', '101', '110', '011', '111']\n> sage: G.lex_UP(initial_vertex='000')\n> ['000', '001', '010', '101', '110', '111', '011', '100']\n> sage: G.lex_DOWN(initial_vertex='000')\n> ['000', '001', '100', '011', '010', '110', '111', '101']\n> }}}\n\nGood idea! Should I add it to all methods?",
    "created_at": "2019-07-31T14:29:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394528",
    "user": "https://github.com/giorgosgiapis"
}
```

Replying to [comment:24 dcoudert]:
> May be we could add an example showing that the resulting orderings are different. For instance:
> {{{
> sage: G = digraphs.DeBruijn(2,3)
> sage: G.lex_BFS(initial_vertex='000')
> ['000', '001', '100', '010', '011', '110', '101', '111']
> sage: G.lex_DFS(initial_vertex='000')
> ['000', '001', '100', '010', '101', '110', '011', '111']
> sage: G.lex_UP(initial_vertex='000')
> ['000', '001', '010', '101', '110', '111', '011', '100']
> sage: G.lex_DOWN(initial_vertex='000')
> ['000', '001', '100', '011', '010', '110', '111', '101']
> }}}

Good idea! Should I add it to all methods?



---

archive/issue_comments_394529.json:
```json
{
    "body": "it's certainly better.",
    "created_at": "2019-07-31T14:35:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394529",
    "user": "https://github.com/dcoudert"
}
```

it's certainly better.



---

archive/issue_comments_394530.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-31T14:45:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394530",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_394531.json:
```json
{
    "body": "If it's in the tests block, it's true that there is no need for adding these examples in all methods.\nOne alternative is to put the examples in the examples block of `lex_BFS` and to remove it from other methods. Sorry for the extra work.",
    "created_at": "2019-07-31T16:50:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394531",
    "user": "https://github.com/dcoudert"
}
```

If it's in the tests block, it's true that there is no need for adding these examples in all methods.
One alternative is to put the examples in the examples block of `lex_BFS` and to remove it from other methods. Sorry for the extra work.



---

archive/issue_comments_394532.json:
```json
{
    "body": "Currently, this test is in the examples block of all methods. Maybe we should leave it that way (I don't think it is bad to have the same example in several methods). If it is better I can remove it from other methods",
    "created_at": "2019-07-31T17:57:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394532",
    "user": "https://github.com/giorgosgiapis"
}
```

Currently, this test is in the examples block of all methods. Maybe we should leave it that way (I don't think it is bad to have the same example in several methods). If it is better I can remove it from other methods



---

archive/issue_comments_394533.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-08-01T06:57:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394533",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_394534.json:
```json
{
    "body": "LGTM.",
    "created_at": "2019-08-01T06:57:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394534",
    "user": "https://github.com/dcoudert"
}
```

LGTM.



---

archive/issue_comments_394535.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-08-03T23:48:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27958#issuecomment-394535",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_025936.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2019-08-03T23:48:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/27958",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/27958#event-25936"
}
```
