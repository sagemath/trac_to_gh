# Issue 27958: Implement LexUP and LexDOWN

Issue created by migration from https://trac.sagemath.org/ticket/28195

Original creator: @giorgosgiapis

Original creation time: 2019-07-14 13:18:29

Keywords: gsoc19

Just like in #27928 we continue with the efficient implementation of graph traversal algorithms in Cython. More information about these algorithms and how they work can be found here: https://arxiv.org/pdf/1701.00305.pdf


---

Comment by @giorgosgiapis created at 2019-07-14 13:19:21

Changing type from PLEASE CHANGE to enhancement.


---

Comment by @giorgosgiapis created at 2019-07-15 22:31:05

Changing status from new to needs_review.


---

Comment by @giorgosgiapis created at 2019-07-15 22:31:05

Last 10 new commits:


---

Comment by @giorgosgiapis created at 2019-07-15 22:47:35

Should I create a Metaticket about all the newly implemented graph traversal methods?


---

Comment by dcoudert created at 2019-07-16 02:39:24

No need for a meta-ticket, but I guess you have to write a somehow a blog for reporting to GSoC.

Please add a desciption a what is lexUP. UP is not enough to guess what it can be.


---

Comment by @giorgosgiapis created at 2019-07-16 09:08:57

I will add a more detailed explanation and a reference to the paper presented in the ticket description under `ALGORITHM` description. I think this should be enough.


---

Comment by git created at 2019-07-17 14:39:49

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-07-17 15:49:44

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @giorgosgiapis created at 2019-07-17 16:48:13

I can't build the documentation after I modified `src/doc/en/reference/references/index.rst`. I am getting lots of "_Citation not found_" errors when running `docbuild`. Should I run `make doc-clean && make`?


---

Comment by dcoudert created at 2019-07-17 18:17:12

Yes. The system is far from perfect when you touch the references...


---

Comment by git created at 2019-07-19 20:14:26

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @giorgosgiapis created at 2019-07-19 20:15:45

I have added Lex Down traversal. I will try running `make doc-clean && make` once again to see if it will build the documentation.


---

Comment by @giorgosgiapis created at 2019-07-19 20:58:51

Documentation just finished building. Everything seems fine with the way html is displayed.


---

Comment by dcoudert created at 2019-07-22 00:44:18

Please use `UP` and `DOWN` everywhere in method names.

in `traversals.pyx`

```diff
-    :meth:`~lex_Up` | Perform a lexicographic up (LexUp) on the graph.
+    :meth:`~lex_UP` | Perform a lexicographic UP search (LexUP) on the graph.
```


- you have not added an alias for `lex_DOWN` in `generic_graph.py`

- unify the one line description for `Lex_DOWN` everywhere. The work `search` is missing, etc.

- you can add a SEEALSO block with links to `Lex_BFS`, `Lex_DFS`, etc.


---

Comment by dcoudert created at 2019-07-22 00:44:18

Changing status from needs_review to needs_work.


---

Comment by git created at 2019-07-22 02:15:51

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @giorgosgiapis created at 2019-07-22 02:16:46

Changing status from needs_work to needs_review.


---

Comment by dcoudert created at 2019-07-23 15:13:39

Why are you referring to lex BFS in lex UP and to lex DFS in lex DOWN ? Are these methods closer ? Otherwise, why not referring to all other methods ?


---

Comment by dcoudert created at 2019-07-23 15:14:53

and you can also add a link to `:wikipedia:`Lexicographic_breadth-first_search`` in lex BFS.


---

Comment by @giorgosgiapis created at 2019-07-23 15:20:18

Replying to [comment:17 dcoudert]:
> Why are you referring to lex BFS in lex UP and to lex DFS in lex DOWN ? Are these methods closer ? Otherwise, why not referring to all other methods ?

I think they are closer since in both lex BFS and lex UP we append to the labels of nodes while in lex DFS and lex DOWN we prepend.


---

Comment by @giorgosgiapis created at 2019-07-23 15:20:33

Replying to [comment:18 dcoudert]:
> and you can also add a link to `:wikipedia:`Lexicographic_breadth-first_search`` in lex BFS.

Will do.


---

Comment by dcoudert created at 2019-07-23 15:22:21

> I think they are closer since in both lex BFS and lex UP we append to the labels of nodes while in lex DFS and lex DOWN we prepend.

Good point. I admit that It's not easy to understand what these traversals do (the order to expect) and for what usage they are useful.


---

Comment by git created at 2019-07-23 15:42:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2019-07-28 23:08:21

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2019-07-31 14:27:00

May be we could add an example showing that the resulting orderings are different. For instance:

```
sage: G = digraphs.DeBruijn(2,3)
sage: G.lex_BFS(initial_vertex='000')
['000', '001', '100', '010', '011', '110', '101', '111']
sage: G.lex_DFS(initial_vertex='000')
['000', '001', '100', '010', '101', '110', '011', '111']
sage: G.lex_UP(initial_vertex='000')
['000', '001', '010', '101', '110', '111', '011', '100']
sage: G.lex_DOWN(initial_vertex='000')
['000', '001', '100', '011', '010', '110', '111', '101']
```



---

Comment by @giorgosgiapis created at 2019-07-31 14:29:59

Replying to [comment:24 dcoudert]:
> May be we could add an example showing that the resulting orderings are different. For instance:
> {{{
> sage: G = digraphs.DeBruijn(2,3)
> sage: G.lex_BFS(initial_vertex='000')
> ['000', '001', '100', '010', '011', '110', '101', '111']
> sage: G.lex_DFS(initial_vertex='000')
> ['000', '001', '100', '010', '101', '110', '011', '111']
> sage: G.lex_UP(initial_vertex='000')
> ['000', '001', '010', '101', '110', '111', '011', '100']
> sage: G.lex_DOWN(initial_vertex='000')
> ['000', '001', '100', '011', '010', '110', '111', '101']
> }}}

Good idea! Should I add it to all methods?


---

Comment by dcoudert created at 2019-07-31 14:35:45

it's certainly better.


---

Comment by git created at 2019-07-31 14:45:38

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2019-07-31 16:50:53

If it's in the tests block, it's true that there is no need for adding these examples in all methods.
One alternative is to put the examples in the examples block of `lex_BFS` and to remove it from other methods. Sorry for the extra work.


---

Comment by @giorgosgiapis created at 2019-07-31 17:57:30

Currently, this test is in the examples block of all methods. Maybe we should leave it that way (I don't think it is bad to have the same example in several methods). If it is better I can remove it from other methods


---

Comment by dcoudert created at 2019-08-01 06:57:21

Changing status from needs_review to positive_review.


---

Comment by dcoudert created at 2019-08-01 06:57:21

LGTM.


---

Comment by vbraun created at 2019-08-03 23:48:02

Resolution: fixed
