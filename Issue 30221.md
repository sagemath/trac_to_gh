# Issue 30221: Outsource some functions in bit_vector_operations.cc

archive/issues_030221.json:
```json
{
    "body": "Keywords: code duplication, combinatorial polyhedron\n\nWe simplify obtaining the inclusion maximal faces in the function\n`get_next_level` by outsourcing to new function `is_contained_in_one`.\n\nIn addition we implement `contains_one` for #30040.\n\nThis ticket merges cleanly with #30435.\n\nIssue created by migration from https://trac.sagemath.org/ticket/30458\n\n",
    "created_at": "2020-08-28T14:19:14Z",
    "labels": [
        "component: geometry",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Outsource some functions in bit_vector_operations.cc",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30221",
    "user": "https://github.com/kliem"
}
```
Keywords: code duplication, combinatorial polyhedron

We simplify obtaining the inclusion maximal faces in the function
`get_next_level` by outsourcing to new function `is_contained_in_one`.

In addition we implement `contains_one` for #30040.

This ticket merges cleanly with #30435.

Issue created by migration from https://trac.sagemath.org/ticket/30458





---

archive/issue_comments_430291.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-08-28T14:19:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430291",
    "user": "https://github.com/kliem"
}
```

New commits:



---

archive/issue_comments_430292.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-08-28T14:19:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430292",
    "user": "https://github.com/kliem"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_430293.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-28T14:24:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430293",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_430294.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-08-30T04:20:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430294",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_430295.json:
```json
{
    "body": "LGTM.",
    "created_at": "2020-08-30T04:20:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430295",
    "user": "https://github.com/tscrim"
}
```

LGTM.



---

archive/issue_comments_430296.json:
```json
{
    "body": "Thank you.",
    "created_at": "2020-08-30T05:06:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430296",
    "user": "https://github.com/kliem"
}
```

Thank you.



---

archive/issue_comments_430297.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2020-08-30T13:27:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430297",
    "user": "https://github.com/slel"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_430298.json:
```json
{
    "body": "The functions `inline int is_contained_in_one` (with or without `skip`)\nhave this fine description:\n\n```\n     Return whether ``face`` is contained in one of ``faces``.\n```\n\n\nDescriptions for the functions `contains_one` (with or without `skip`)\nhave a problem:\n\n```diff\n inline int contains_one(uint64_t *face, uint64_t **faces, size_t n_faces, size_t face_length){\n     /*\n-    Return whether ``face`` contains in one of ``faces``.\n+    Return whether ``face`` contains one of ``faces``.\n     */\n```\n\n\n```diff\n inline int contains_one(uint64_t *face, uint64_t **faces, size_t n_faces, size_t face_length, size_t skip){\n     /*\n-    Return whether ``face`` is contains in one of ``faces``.\n+    Return whether ``face`` contains one of ``faces``.\n \n     Skips ``faces[skip]``.\n     */\n```\n",
    "created_at": "2020-08-30T13:27:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430298",
    "user": "https://github.com/slel"
}
```

The functions `inline int is_contained_in_one` (with or without `skip`)
have this fine description:

```
     Return whether ``face`` is contained in one of ``faces``.
```


Descriptions for the functions `contains_one` (with or without `skip`)
have a problem:

```diff
 inline int contains_one(uint64_t *face, uint64_t **faces, size_t n_faces, size_t face_length){
     /*
-    Return whether ``face`` contains in one of ``faces``.
+    Return whether ``face`` contains one of ``faces``.
     */
```


```diff
 inline int contains_one(uint64_t *face, uint64_t **faces, size_t n_faces, size_t face_length, size_t skip){
     /*
-    Return whether ``face`` is contains in one of ``faces``.
+    Return whether ``face`` contains one of ``faces``.
 
     Skips ``faces[skip]``.
     */
```




---

archive/issue_comments_430299.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-30T14:54:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430299",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_430300.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-08-30T14:56:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430300",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_430301.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-08-30T16:17:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430301",
    "user": "https://github.com/slel"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_430302.json:
```json
{
    "body": "Thanks again.",
    "created_at": "2020-08-30T16:32:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430302",
    "user": "https://github.com/kliem"
}
```

Thanks again.



---

archive/issue_comments_430303.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:",
    "created_at": "2020-09-09T08:02:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430303",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:



---

archive/issue_comments_430304.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2020-09-09T08:02:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430304",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_430305.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-09-09T08:03:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430305",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_430306.json:
```json
{
    "body": "Rebased.",
    "created_at": "2020-09-09T08:03:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430306",
    "user": "https://github.com/kliem"
}
```

Rebased.



---

archive/issue_comments_430307.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-11-07T16:23:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430307",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
