# Issue 30221: Outsource some functions in bit_vector_operations.cc

Issue created by migration from https://trac.sagemath.org/ticket/30458

Original creator: @kliem

Original creation time: 2020-08-28 14:19:14

Keywords: code duplication, combinatorial polyhedron

We simplify obtaining the inclusion maximal faces in the function
`get_next_level` by outsourcing to new function `is_contained_in_one`.

In addition we implement `contains_one` for #30040.

This ticket merges cleanly with #30435.


---

Comment by @kliem created at 2020-08-28 14:19:37

New commits:


---

Comment by @kliem created at 2020-08-28 14:19:37

Changing status from new to needs_review.


---

Comment by git created at 2020-08-28 14:24:07

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2020-08-30 04:20:33

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2020-08-30 04:20:33

LGTM.


---

Comment by @kliem created at 2020-08-30 05:06:50

Thank you.


---

Comment by slelievre created at 2020-08-30 13:27:29

Changing status from positive_review to needs_work.


---

Comment by slelievre created at 2020-08-30 13:27:29

The functions `inline int is_contained_in_one` (with or without `skip`)
have this fine description:

```
     Return whether ``face`` is contained in one of ``faces``.
```


Descriptions for the functions `contains_one` (with or without `skip`)
have a problem:

```diff
 inline int contains_one(uint64_t *face, uint64_t **faces, size_t n_faces, size_t face_length){
     /*
-    Return whether ``face`` contains in one of ``faces``.
+    Return whether ``face`` contains one of ``faces``.
     */
```


```diff
 inline int contains_one(uint64_t *face, uint64_t **faces, size_t n_faces, size_t face_length, size_t skip){
     /*
-    Return whether ``face`` is contains in one of ``faces``.
+    Return whether ``face`` contains one of ``faces``.
 
     Skips ``faces[skip]``.
     */
```



---

Comment by git created at 2020-08-30 14:54:41

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @kliem created at 2020-08-30 14:56:03

Changing status from needs_work to needs_review.


---

Comment by slelievre created at 2020-08-30 16:17:14

Changing status from needs_review to positive_review.


---

Comment by @kliem created at 2020-08-30 16:32:48

Thanks again.


---

Comment by git created at 2020-09-09 08:02:46

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:


---

Comment by git created at 2020-09-09 08:02:46

Changing status from positive_review to needs_review.


---

Comment by @kliem created at 2020-09-09 08:03:03

Changing status from needs_review to positive_review.


---

Comment by @kliem created at 2020-09-09 08:03:03

Rebased.


---

Comment by vbraun created at 2020-11-07 16:23:01

Resolution: fixed
