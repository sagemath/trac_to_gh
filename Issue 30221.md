# Issue 30221: Outsource some functions in bit_vector_operations.cc

archive/issues_030221.json:
```json
{
    "body": "Keywords: code duplication, combinatorial polyhedron\n\nWe simplify obtaining the inclusion maximal faces in the function\n`get_next_level` by outsourcing to new function `is_contained_in_one`.\n\nIn addition we implement `contains_one` for #30040.\n\nThis ticket merges cleanly with #30435.\n\nIssue created by migration from https://trac.sagemath.org/ticket/30458\n\n",
    "created_at": "2020-08-28T14:19:14Z",
    "labels": [
        "geometry",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "Outsource some functions in bit_vector_operations.cc",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30221",
    "user": "@kliem"
}
```
Keywords: code duplication, combinatorial polyhedron

We simplify obtaining the inclusion maximal faces in the function
`get_next_level` by outsourcing to new function `is_contained_in_one`.

In addition we implement `contains_one` for #30040.

This ticket merges cleanly with #30435.

Issue created by migration from https://trac.sagemath.org/ticket/30458





---

archive/issue_comments_430774.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-08-28T14:19:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430774",
    "user": "@kliem"
}
```

New commits:



---

archive/issue_comments_430775.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-08-28T14:19:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430775",
    "user": "@kliem"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_430776.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-28T14:24:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430776",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_430777.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-08-30T04:20:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430777",
    "user": "@tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_430778.json:
```json
{
    "body": "LGTM.",
    "created_at": "2020-08-30T04:20:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430778",
    "user": "@tscrim"
}
```

LGTM.



---

archive/issue_comments_430779.json:
```json
{
    "body": "Thank you.",
    "created_at": "2020-08-30T05:06:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430779",
    "user": "@kliem"
}
```

Thank you.



---

archive/issue_comments_430780.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2020-08-30T13:27:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430780",
    "user": "@slel"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_430781.json:
```json
{
    "body": "The functions `inline int is_contained_in_one` (with or without `skip`)\nhave this fine description:\n\n```\n     Return whether ``face`` is contained in one of ``faces``.\n```\n\n\nDescriptions for the functions `contains_one` (with or without `skip`)\nhave a problem:\n\n```diff\n inline int contains_one(uint64_t *face, uint64_t **faces, size_t n_faces, size_t face_length){\n     /*\n-    Return whether ``face`` contains in one of ``faces``.\n+    Return whether ``face`` contains one of ``faces``.\n     */\n```\n\n\n```diff\n inline int contains_one(uint64_t *face, uint64_t **faces, size_t n_faces, size_t face_length, size_t skip){\n     /*\n-    Return whether ``face`` is contains in one of ``faces``.\n+    Return whether ``face`` contains one of ``faces``.\n \n     Skips ``faces[skip]``.\n     */\n```\n",
    "created_at": "2020-08-30T13:27:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430781",
    "user": "@slel"
}
```

The functions `inline int is_contained_in_one` (with or without `skip`)
have this fine description:

```
     Return whether ``face`` is contained in one of ``faces``.
```


Descriptions for the functions `contains_one` (with or without `skip`)
have a problem:

```diff
 inline int contains_one(uint64_t *face, uint64_t **faces, size_t n_faces, size_t face_length){
     /*
-    Return whether ``face`` contains in one of ``faces``.
+    Return whether ``face`` contains one of ``faces``.
     */
```


```diff
 inline int contains_one(uint64_t *face, uint64_t **faces, size_t n_faces, size_t face_length, size_t skip){
     /*
-    Return whether ``face`` is contains in one of ``faces``.
+    Return whether ``face`` contains one of ``faces``.
 
     Skips ``faces[skip]``.
     */
```




---

archive/issue_comments_430782.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-08-30T14:54:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430782",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_430783.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-08-30T14:56:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430783",
    "user": "@kliem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_430784.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-08-30T16:17:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430784",
    "user": "@slel"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_430785.json:
```json
{
    "body": "Thanks again.",
    "created_at": "2020-08-30T16:32:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430785",
    "user": "@kliem"
}
```

Thanks again.



---

archive/issue_comments_430786.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:",
    "created_at": "2020-09-09T08:02:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430786",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:



---

archive/issue_comments_430787.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2020-09-09T08:02:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430787",
    "user": "git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_430788.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-09-09T08:03:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430788",
    "user": "@kliem"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_430789.json:
```json
{
    "body": "Rebased.",
    "created_at": "2020-09-09T08:03:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430789",
    "user": "@kliem"
}
```

Rebased.



---

archive/issue_comments_430790.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-11-07T16:23:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30221",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30221#issuecomment-430790",
    "user": "@vbraun"
}
```

Resolution: fixed
