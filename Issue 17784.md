# Issue 17784: gyration orbits method for AlternatingSignMatrix and add optional parameter for gyration method.

Issue created by migration from Trac.

Original creator: egunawan

Original creation time: 2015-03-20 23:56:13

CC:  jamespropp tscrim jessicapalencia kdilks vinceknight jcampbell

Keywords: days64, gyration, alternating sign matrix

In class :class:`AlternatingSignMatrix` (and later FullyPackedLoop): 
* add a method for returning the list of gyration orbits

For method :meth:`AlternatingSignMatrix.gyration`
* optional parameter k (default k=1) to indicate how many times to gyrate on the ASM
* add gyration method to :class:`FullyPackedLoop` ?

See Ticket #17988 (implementing FullyPackedLoop class)


---

Comment by egunawan created at 2015-03-20 23:56:48

Changing type from PLEASE CHANGE to enhancement.


---

Comment by egunawan created at 2015-03-21 08:14:27

Reviewers: Please search for [TODO] where I add comments/questions.
----
New commits:


---

Comment by egunawan created at 2015-03-21 08:14:27

Changing status from new to needs_review.


---

Comment by tscrim created at 2015-03-23 22:38:25

Here are my comments:

- I don't like the `count` option to `gyration`. You are much better writing a simple `for` loop which applies the sequence of gyrations to avoid the unnecessary complexity.
- Rename `obtain_gyration_orbit` to `gyration_orbit`.
- Use ``@`cached_method` for `gyration_orbits` (and you should not say anything about its internal representation). Also have it return a tuple instead of a list.
- Don't cache `gyration_orbit_sizes` since the previous caching will keep this fast (and definitely do not hardcode them).

Also, do you want this to depend on #17988? If so, I should be able to do that review this week.


---

Comment by egunawan created at 2015-03-24 00:51:52

This ticket does not depend on another ticket. Thanks Travis!


---

Comment by git created at 2015-03-24 05:17:41

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by egunawan created at 2015-03-24 05:21:07

I did all the changes you asked except for the very last comment "Don't cache gyration_orbit_sizes".

To clarify, do you mean I should remove these lines from gyration_orbit_sizes?
        if self._gyration_orbit_sizes:
            return self._gyration_orbit_sizes

And remove the "self._gyration_orbit_sizes"?


---

Comment by tscrim created at 2015-03-24 05:25:50

Correct, computing `len` of a list is very fast in python, and I doubt anyone will be repeatedly getting the sizes of the gyration orbits for ASM's with `n = 100000` (it might actually be higher when you start seeing a noticeable effect).

Although my question in regards to #18003 (formerly #17988) is do you want this to or implement gyration on FPL's directly? Although it does make more sense to implement gyration in #18003.


---

Comment by egunawan created at 2015-03-24 05:33:27

We don't have any class called FullyPackedLoops (plural) yet. The methods meth:``gyration_orbits`` and :meth:``gyration_orbit_sizes`` requires a plural class like AlternatingSignMatrices.

Also, I think Jessica would prefer that the ticket for the new FullyPackedLoop class (#18003) be closed sooner rather than later. So I think it's better that we don't add any more methods to #18003.


---

Comment by git created at 2015-03-24 05:38:03

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2015-03-27 06:57:10

Okay, I've made some review changes by cleaning up the code. In particular, you should try to not include any trailing whitespace in your code. Let me know if you have any questions.
----
New commits:


---

Comment by tscrim created at 2015-03-27 06:57:47

Also, if you're happy with my changes, then you can set this to a positive review.


---

Comment by egunawan created at 2015-04-11 02:56:07

Travis, I am happy with the changes. But I didn't check whether doc builds correctly. Is that OK?


---

Comment by tscrim created at 2015-04-11 03:31:40

You (or one of the other reviewers) should test it. You can do so by: `sage --docbuild reference/combinat html` (this will be the fastest way to rebuild just the part of the doc that changed) after running `sage -b` (if you haven't already).


---

Comment by egunawan created at 2015-04-11 18:43:39

Per emailing with Travis, I did make doc-clean and make doc, and the doc alternating_sign_matrix.html looks good to me.


---

Comment by egunawan created at 2015-04-11 18:43:39

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2015-04-11 19:24:54

Thanks all for your work on this!


---

Comment by vbraun created at 2015-04-14 19:43:45

Resolution: fixed
