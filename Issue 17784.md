# Issue 17784: gyration orbits method for AlternatingSignMatrix and add optional parameter for gyration method.

archive/issues_017784.json:
```json
{
    "body": "CC:  jamespropp @tscrim @jessicapalencia @kevindilks @drvinceknight @theref\n\nKeywords: days64, gyration, alternating sign matrix\n\nIn class :class:`AlternatingSignMatrix` (and later FullyPackedLoop): \n* add a method for returning the list of gyration orbits\n\nFor method :meth:`AlternatingSignMatrix.gyration`\n* optional parameter k (default k=1) to indicate how many times to gyrate on the ASM\n* add gyration method to :class:`FullyPackedLoop` ?\n\nSee Ticket #17988 (implementing FullyPackedLoop class)\n\nIssue created by migration from https://trac.sagemath.org/ticket/18021\n\n",
    "created_at": "2015-03-20T23:56:13Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.6",
    "title": "gyration orbits method for AlternatingSignMatrix and add optional parameter for gyration method.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17784",
    "user": "https://github.com/egunawan"
}
```
CC:  jamespropp @tscrim @jessicapalencia @kevindilks @drvinceknight @theref

Keywords: days64, gyration, alternating sign matrix

In class :class:`AlternatingSignMatrix` (and later FullyPackedLoop): 
* add a method for returning the list of gyration orbits

For method :meth:`AlternatingSignMatrix.gyration`
* optional parameter k (default k=1) to indicate how many times to gyrate on the ASM
* add gyration method to :class:`FullyPackedLoop` ?

See Ticket #17988 (implementing FullyPackedLoop class)

Issue created by migration from https://trac.sagemath.org/ticket/18021





---

archive/issue_comments_237961.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2015-03-20T23:56:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17784#issuecomment-237961",
    "user": "https://github.com/egunawan"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_237962.json:
```json
{
    "body": "Reviewers: Please search for [TODO] where I add comments/questions.\n----\nNew commits:",
    "created_at": "2015-03-21T08:14:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17784#issuecomment-237962",
    "user": "https://github.com/egunawan"
}
```

Reviewers: Please search for [TODO] where I add comments/questions.
----
New commits:



---

archive/issue_comments_237963.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-03-21T08:14:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17784#issuecomment-237963",
    "user": "https://github.com/egunawan"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_237964.json:
```json
{
    "body": "Here are my comments:\n\n- I don't like the `count` option to `gyration`. You are much better writing a simple `for` loop which applies the sequence of gyrations to avoid the unnecessary complexity.\n- Rename `obtain_gyration_orbit` to `gyration_orbit`.\n- Use ``@`cached_method` for `gyration_orbits` (and you should not say anything about its internal representation). Also have it return a tuple instead of a list.\n- Don't cache `gyration_orbit_sizes` since the previous caching will keep this fast (and definitely do not hardcode them).\n\nAlso, do you want this to depend on #17988? If so, I should be able to do that review this week.",
    "created_at": "2015-03-23T22:38:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17784#issuecomment-237964",
    "user": "https://github.com/tscrim"
}
```

Here are my comments:

- I don't like the `count` option to `gyration`. You are much better writing a simple `for` loop which applies the sequence of gyrations to avoid the unnecessary complexity.
- Rename `obtain_gyration_orbit` to `gyration_orbit`.
- Use ``@`cached_method` for `gyration_orbits` (and you should not say anything about its internal representation). Also have it return a tuple instead of a list.
- Don't cache `gyration_orbit_sizes` since the previous caching will keep this fast (and definitely do not hardcode them).

Also, do you want this to depend on #17988? If so, I should be able to do that review this week.



---

archive/issue_comments_237965.json:
```json
{
    "body": "This ticket does not depend on another ticket. Thanks Travis!",
    "created_at": "2015-03-24T00:51:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17784#issuecomment-237965",
    "user": "https://github.com/egunawan"
}
```

This ticket does not depend on another ticket. Thanks Travis!



---

archive/issue_comments_237966.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-24T05:17:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17784#issuecomment-237966",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237967.json:
```json
{
    "body": "I did all the changes you asked except for the very last comment \"Don't cache gyration_orbit_sizes\".\n\nTo clarify, do you mean I should remove these lines from gyration_orbit_sizes?\n        if self._gyration_orbit_sizes:\n            return self._gyration_orbit_sizes\n\nAnd remove the \"self._gyration_orbit_sizes\"?",
    "created_at": "2015-03-24T05:21:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17784#issuecomment-237967",
    "user": "https://github.com/egunawan"
}
```

I did all the changes you asked except for the very last comment "Don't cache gyration_orbit_sizes".

To clarify, do you mean I should remove these lines from gyration_orbit_sizes?
        if self._gyration_orbit_sizes:
            return self._gyration_orbit_sizes

And remove the "self._gyration_orbit_sizes"?



---

archive/issue_comments_237968.json:
```json
{
    "body": "Correct, computing `len` of a list is very fast in python, and I doubt anyone will be repeatedly getting the sizes of the gyration orbits for ASM's with `n = 100000` (it might actually be higher when you start seeing a noticeable effect).\n\nAlthough my question in regards to #18003 (formerly #17988) is do you want this to or implement gyration on FPL's directly? Although it does make more sense to implement gyration in #18003.",
    "created_at": "2015-03-24T05:25:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17784#issuecomment-237968",
    "user": "https://github.com/tscrim"
}
```

Correct, computing `len` of a list is very fast in python, and I doubt anyone will be repeatedly getting the sizes of the gyration orbits for ASM's with `n = 100000` (it might actually be higher when you start seeing a noticeable effect).

Although my question in regards to #18003 (formerly #17988) is do you want this to or implement gyration on FPL's directly? Although it does make more sense to implement gyration in #18003.



---

archive/issue_comments_237969.json:
```json
{
    "body": "We don't have any class called FullyPackedLoops (plural) yet. The methods meth:``gyration_orbits`` and :meth:``gyration_orbit_sizes`` requires a plural class like AlternatingSignMatrices.\n\nAlso, I think Jessica would prefer that the ticket for the new FullyPackedLoop class (#18003) be closed sooner rather than later. So I think it's better that we don't add any more methods to #18003.",
    "created_at": "2015-03-24T05:33:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17784#issuecomment-237969",
    "user": "https://github.com/egunawan"
}
```

We don't have any class called FullyPackedLoops (plural) yet. The methods meth:``gyration_orbits`` and :meth:``gyration_orbit_sizes`` requires a plural class like AlternatingSignMatrices.

Also, I think Jessica would prefer that the ticket for the new FullyPackedLoop class (#18003) be closed sooner rather than later. So I think it's better that we don't add any more methods to #18003.



---

archive/issue_comments_237970.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-24T05:38:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17784#issuecomment-237970",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237971.json:
```json
{
    "body": "Okay, I've made some review changes by cleaning up the code. In particular, you should try to not include any trailing whitespace in your code. Let me know if you have any questions.\n----\nNew commits:",
    "created_at": "2015-03-27T06:57:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17784#issuecomment-237971",
    "user": "https://github.com/tscrim"
}
```

Okay, I've made some review changes by cleaning up the code. In particular, you should try to not include any trailing whitespace in your code. Let me know if you have any questions.
----
New commits:



---

archive/issue_comments_237972.json:
```json
{
    "body": "Also, if you're happy with my changes, then you can set this to a positive review.",
    "created_at": "2015-03-27T06:57:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17784#issuecomment-237972",
    "user": "https://github.com/tscrim"
}
```

Also, if you're happy with my changes, then you can set this to a positive review.



---

archive/issue_comments_237973.json:
```json
{
    "body": "Travis, I am happy with the changes. But I didn't check whether doc builds correctly. Is that OK?",
    "created_at": "2015-04-11T02:56:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17784#issuecomment-237973",
    "user": "https://github.com/egunawan"
}
```

Travis, I am happy with the changes. But I didn't check whether doc builds correctly. Is that OK?



---

archive/issue_comments_237974.json:
```json
{
    "body": "You (or one of the other reviewers) should test it. You can do so by: `sage --docbuild reference/combinat html` (this will be the fastest way to rebuild just the part of the doc that changed) after running `sage -b` (if you haven't already).",
    "created_at": "2015-04-11T03:31:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17784#issuecomment-237974",
    "user": "https://github.com/tscrim"
}
```

You (or one of the other reviewers) should test it. You can do so by: `sage --docbuild reference/combinat html` (this will be the fastest way to rebuild just the part of the doc that changed) after running `sage -b` (if you haven't already).



---

archive/issue_comments_237975.json:
```json
{
    "body": "Per emailing with Travis, I did make doc-clean and make doc, and the doc alternating_sign_matrix.html looks good to me.",
    "created_at": "2015-04-11T18:43:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17784#issuecomment-237975",
    "user": "https://github.com/egunawan"
}
```

Per emailing with Travis, I did make doc-clean and make doc, and the doc alternating_sign_matrix.html looks good to me.



---

archive/issue_comments_237976.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-04-11T18:43:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17784#issuecomment-237976",
    "user": "https://github.com/egunawan"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_237977.json:
```json
{
    "body": "Thanks all for your work on this!",
    "created_at": "2015-04-11T19:24:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17784#issuecomment-237977",
    "user": "https://github.com/tscrim"
}
```

Thanks all for your work on this!



---

archive/issue_comments_237978.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-04-14T19:43:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17784",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17784#issuecomment-237978",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_051186.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-14T19:43:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17784",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17784#event-51186"
}
```
