# Issue 12974: Removing tabs in .rst, .tex and .pxi files

Issue created by migration from https://trac.sagemath.org/ticket/13146

Original creator: roed

Original creation time: 2012-06-21 05:27:50

Assignee: mvngu

The new doctesting framework (#12415) has revealed tab characters that weren't caught by the old.  This ticket changes them to spaces.


---

Comment by roed created at 2012-06-21 05:29:52

Changing status from new to needs_review.


---

Comment by kini created at 2012-06-21 06:34:39

Needs a real commit message, otherwise looks good :)


---

Attachment

Changes to apply against 5.1.beta5


---

Comment by roed created at 2012-06-21 19:11:14

There is now a real commit message.


---

Comment by kini created at 2012-06-21 19:17:52

patchbot: apply 13146_vs_51b5.patch


---

Comment by kini created at 2012-06-22 01:36:39

Cool, passes tests.


---

Comment by kini created at 2012-06-22 01:36:39

Changing status from needs_review to positive_review.


---

Comment by roed created at 2012-06-23 15:10:49

Changing status from positive_review to needs_work.


---

Comment by roed created at 2012-06-23 15:11:50

Changing status from needs_work to needs_review.


---

Comment by roed created at 2012-06-23 15:11:50

I missed a few that were added between 5.0.beta12 and 5.1.beta5.  I wanted to just add them here since it's a small change (though if you like I can make another ticket).


---

Comment by aapitzsch created at 2012-06-24 16:17:12

Changing status from needs_review to needs_work.


---

Comment by aapitzsch created at 2012-06-24 16:17:12

Quoting [comment:2 kini]:
> Needs a real commit message, otherwise [13146_missed.patch] looks good :)


---

Comment by roed created at 2012-06-24 19:56:45

Fixed.  :)


---

Comment by roed created at 2012-06-24 19:56:45

Changing status from needs_work to needs_review.


---

Comment by aapitzsch created at 2012-06-24 22:07:23

You probably added by accident

```diff --git a/sage/schemes/elliptic_curves/constructor.py b/sage/schemes/elliptic_curves/constructor.py

Index: sage/schemes/elliptic_curves/constructor.py
===================================================================
--- a/sage/schemes/elliptic_curves/constructor.py
+++ b/sage/schemes/elliptic_curves/constructor.py
@@ -1,6 +1,8 @@
 """
 Elliptic curve constructor
 
+sage: EllipticCurve([0,0])
+
 AUTHORS:
 
 - William Stein (2005): Initial version
```

Please remove this.


---

Comment by aapitzsch created at 2012-06-24 22:07:23

Changing status from needs_review to needs_work.


---

Comment by roed created at 2012-06-25 03:58:38

Sorry about that.  qrefresh -e committed some unintended changes.


---

Comment by roed created at 2012-06-25 03:58:47

Changing status from needs_work to needs_review.


---

Comment by aapitzsch created at 2012-06-25 08:23:53

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2012-06-26 09:31:51

With #12415, I still get:

```
sage -t devel/sage/doc/ru/tutorial/appendix.rst # Tab character found
sage -t devel/sage/doc/de/tutorial/interactive_shell.rst # Tab character found
sage -t devel/sage/doc/de/tutorial/tour_functions.rst # Tab character found
sage -t devel/sage/doc/ru/tutorial/tour_functions.rst # Tab character found
```



---

Comment by jdemeyer created at 2012-06-26 09:31:51

Changing status from positive_review to needs_work.


---

Comment by jhpalmieri created at 2012-06-26 14:32:53

Can someone explain the point of this ticket? The reason that we avoid tab characters in .py files is that Sphinx can't handle them, so Sphinx doesn't work for processing docstrings for introspection in the notebook. Tabs in these other files don't cause problems, so why worry about removing them? Why bother testing for them in #12415?


---

Comment by kini created at 2012-06-26 18:07:49

Another reason to avoid tab characters in .py files is because they can be confusing to anyone trying to read them with an editor whose tab stops are set to something other than 8 characters, if tabs and spaces are mixed (because indentation levels may appear to differ from what the python interpreter actually judges them to be). The python interpreter has a command line switch `-t` which issues warnings when such a condition exists, for example.

reStructuredText, like Python code, is indentation-sensitive, and so tabs should be avoided in reStructuredText for the same reason they should be avoided in Python code. The same is true of .pxi files.

Dunno why we're testing for tabs in .tex files, though.


---

Comment by roed created at 2012-06-26 21:10:49

The location of the test changed, and it was easier to just test for tabs in all of the files that we doctest rather than special case the test based on file type.  I can change it to allow tabs if people like and make this ticket invalid.


---

Comment by kini created at 2012-06-26 21:42:37

Personally I'm all for getting rid of tabs everywhere. Either tabs are used semantically or not, and clearly in Sage they're not.


---

Comment by jhpalmieri created at 2012-06-26 22:24:13

Replying to [comment:19 roed]:
> The location of the test changed, and it was easier to just test for tabs in all of the files that we doctest rather than special case the test based on file type.

That makes sense. I certainly don't mind getting rid of tabs, but a concerted effort to remove all of them needs a good reason, and this is as good a reason as any.


---

Attachment

Missed a few


---

Comment by roed created at 2012-06-28 08:01:49

Changing status from needs_work to needs_review.


---

Comment by roed created at 2012-06-28 08:01:49

Alright, I fixed the tabs in the Russian and German documentation.


---

Comment by jdemeyer created at 2012-07-13 08:15:58

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2012-07-16 16:41:09

Resolution: fixed


---

Comment by roed created at 2012-10-23 23:25:50

By the way, here's a good reason to disallow tabs in `.rst` files.  When scanning a comment block, a tab character counts as one space, meaning that the indentation level can drop enough to end the comment block, even if in a text editor it looks just fine.  Debugging this just took me a half hour.  :-)
