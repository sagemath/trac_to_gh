# Issue 12536: limit not correctly computed by maxima

archive/issues_012536.json:
```json
{
    "body": "Assignee: @burcin\n\nKeywords: maxima limit\n\nThis is taken from the google notebook bug report page.\n\n```\nsage: limit(tanh(x),x=0)            \nx\n```\n\nOn the other hand, this works\n\n```\nsage: limit(tanh(x),x=0,taylor=True)            \n0\n```\n\nIt is a bug in Maxima, and is still present in sage-5.0beta8. This beta apparently has maxima-5.26, the latest released version of Maxima.\n\nIssue created by migration from https://trac.sagemath.org/ticket/12708\n\n",
    "created_at": "2012-03-20T16:47:34Z",
    "labels": [
        "component: calculus",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.9",
    "title": "limit not correctly computed by maxima",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12536",
    "user": "https://github.com/ppurka"
}
```
Assignee: @burcin

Keywords: maxima limit

This is taken from the google notebook bug report page.

```
sage: limit(tanh(x),x=0)            
x
```

On the other hand, this works

```
sage: limit(tanh(x),x=0,taylor=True)            
0
```

It is a bug in Maxima, and is still present in sage-5.0beta8. This beta apparently has maxima-5.26, the latest released version of Maxima.

Issue created by migration from https://trac.sagemath.org/ticket/12708





---

archive/issue_comments_148383.json:
```json
{
    "body": "[Reported upstream](https://sourceforge.net/tracker/?func=detail&aid=3509430&group_id=4933&atid=104933)",
    "created_at": "2012-03-20T17:12:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12536",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12536#issuecomment-148383",
    "user": "https://github.com/ppurka"
}
```

[Reported upstream](https://sourceforge.net/tracker/?func=detail&aid=3509430&group_id=4933&atid=104933)



---

archive/issue_comments_148384.json:
```json
{
    "body": "Yup.\n\n```\n\nMaxima 5.26.0 http://maxima.sourceforge.net\nusing Lisp ECL 11.1.1\nDistributed under the GNU Public License. See the file COPYING.\nDedicated to the memory of William Schelter.\nThe function bug_report() provides bug reporting information.\n(%i1) limit(tanh(x),x,1);\n(%o1)                               tanh(1)\n(%i2) limit(tanh(x),x,0);\n(%o2)                                  x\n```\n\n\nAh, ppurka, you already reported upstream... in the meantime I had already created one.  I closed the duplicate, I guess we were both working on this at the same time.  Sorry.",
    "created_at": "2012-03-20T17:15:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12536",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12536#issuecomment-148384",
    "user": "https://github.com/kcrisman"
}
```

Yup.

```

Maxima 5.26.0 http://maxima.sourceforge.net
using Lisp ECL 11.1.1
Distributed under the GNU Public License. See the file COPYING.
Dedicated to the memory of William Schelter.
The function bug_report() provides bug reporting information.
(%i1) limit(tanh(x),x,1);
(%o1)                               tanh(1)
(%i2) limit(tanh(x),x,0);
(%o2)                                  x
```


Ah, ppurka, you already reported upstream... in the meantime I had already created one.  I closed the duplicate, I guess we were both working on this at the same time.  Sorry.



---

archive/issue_comments_148385.json:
```json
{
    "body": "Maxima 5.28 is now out.",
    "created_at": "2012-08-14T01:14:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12536",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12536#issuecomment-148385",
    "user": "https://github.com/kcrisman"
}
```

Maxima 5.28 is now out.



---

archive/issue_comments_148386.json:
```json
{
    "body": "This should be fixed by #13364.",
    "created_at": "2013-01-20T01:43:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12536",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12536#issuecomment-148386",
    "user": "https://github.com/kcrisman"
}
```

This should be fixed by #13364.



---

archive/issue_comments_148387.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-03-14T15:57:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12536",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12536#issuecomment-148387",
    "user": "https://github.com/ppurka"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_148388.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-03-14T15:59:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12536",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12536#issuecomment-148388",
    "user": "https://github.com/ppurka"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_148389.json:
```json
{
    "body": "Works for me. It has been merged in 5.7.",
    "created_at": "2013-03-14T15:59:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12536",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12536#issuecomment-148389",
    "user": "https://github.com/ppurka"
}
```

Works for me. It has been merged in 5.7.



---

archive/issue_comments_148390.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2013-03-14T16:00:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12536",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12536#issuecomment-148390",
    "user": "https://github.com/kcrisman"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_148391.json:
```json
{
    "body": "But it needs a patch to *verify* that is has been fixed and doesn't regress.",
    "created_at": "2013-03-14T16:00:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12536",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12536#issuecomment-148391",
    "user": "https://github.com/kcrisman"
}
```

But it needs a patch to *verify* that is has been fixed and doesn't regress.



---

archive/issue_comments_148392.json:
```json
{
    "body": "Apply to devel/sage",
    "created_at": "2013-03-14T16:47:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12536",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12536#issuecomment-148392",
    "user": "https://github.com/ppurka"
}
```

Apply to devel/sage



---

archive/issue_comments_148393.json:
```json
{
    "body": "Attachment [trac_12708-doctest_limit.patch](tarball://root/attachments/some-uuid/ticket12708/trac_12708-doctest_limit.patch) by @ppurka created at 2013-03-14 16:48:44\n\nThis should be doctested in maxima, IMHO :/",
    "created_at": "2013-03-14T16:48:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12536",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12536#issuecomment-148393",
    "user": "https://github.com/ppurka"
}
```

Attachment [trac_12708-doctest_limit.patch](tarball://root/attachments/some-uuid/ticket12708/trac_12708-doctest_limit.patch) by @ppurka created at 2013-03-14 16:48:44

This should be doctested in maxima, IMHO :/



---

archive/issue_comments_148394.json:
```json
{
    "body": "Changing keywords from \"maxima limit\" to \"\".",
    "created_at": "2013-03-14T16:48:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12536",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12536#issuecomment-148394",
    "user": "https://github.com/ppurka"
}
```

Changing keywords from "maxima limit" to "".



---

archive/issue_comments_148395.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-03-14T16:48:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12536",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12536#issuecomment-148395",
    "user": "https://github.com/ppurka"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_148396.json:
```json
{
    "body": "Changing keywords from \"\" to \"maxima limit\".",
    "created_at": "2013-03-14T16:49:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12536",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12536#issuecomment-148396",
    "user": "https://github.com/ppurka"
}
```

Changing keywords from "" to "maxima limit".



---

archive/issue_comments_148397.json:
```json
{
    "body": "> This should be doctested in maxima, IMHO :/\nUsually they do in fact add tests for bug fixes.  Nonetheless, Sage has a long history of adding redundancy.  For instance, if we for some reason switched to sympy or native limits, we would still want this to work.  Or if somehow Maxima *didn't* test for exactly the same thing, we would notice if a very similar version worked but this failed.",
    "created_at": "2013-03-14T17:08:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12536",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12536#issuecomment-148397",
    "user": "https://github.com/kcrisman"
}
```

> This should be doctested in maxima, IMHO :/
Usually they do in fact add tests for bug fixes.  Nonetheless, Sage has a long history of adding redundancy.  For instance, if we for some reason switched to sympy or native limits, we would still want this to work.  Or if somehow Maxima *didn't* test for exactly the same thing, we would notice if a very similar version worked but this failed.



---

archive/issue_comments_148398.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-03-14T17:11:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12536",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12536#issuecomment-148398",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_148399.json:
```json
{
    "body": "Replying to [comment:12 kcrisman]:\n> > This should be doctested in maxima, IMHO :/\n> Usually they do in fact add tests for bug fixes.  Nonetheless, Sage has a long history of adding redundancy.  For instance, if we for some reason switched to sympy or native limits, we would still want this to work.  Or if somehow Maxima *didn't* test for exactly the same thing, we would notice if a very similar version worked but this failed.\n\nI agree. Even if the doctest is redundant, better test twice than not at all.",
    "created_at": "2013-03-14T18:45:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12536",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12536#issuecomment-148399",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:12 kcrisman]:
> > This should be doctested in maxima, IMHO :/
> Usually they do in fact add tests for bug fixes.  Nonetheless, Sage has a long history of adding redundancy.  For instance, if we for some reason switched to sympy or native limits, we would still want this to work.  Or if somehow Maxima *didn't* test for exactly the same thing, we would notice if a very similar version worked but this failed.

I agree. Even if the doctest is redundant, better test twice than not at all.



---

archive/issue_comments_148400.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-03-17T15:32:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12536",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12536#issuecomment-148400",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed
