# Issue 21768: sum(1/((2*n+1)^2-4)^2, n, 0, oo, algorithm='maxima') is wrong

archive/issues_021768.json:
```json
{
    "body": "Keywords: maxima\n\nFrom [ask.sagemath.org](https://ask.sagemath.org/question/35839/sage-incorrectly-evaluates-series/):\n\n\n```\nsage: n = var('n')\nsage: sum(1/((2*n+1)^2-4)^2, n, 0, oo)\n1/64*pi^2 - 1/12\nsage: sum(1/((2*n+1)^2-4)^2, n, 0, oo, algorithm='maxima')\n1/64*pi^2 - 1/12\n```\n\n\nbut correct answer is `1/64*pi^2`. SymPy (with #22004) and Mathematica do it right:\n\n\n```\nsage: sum(1/((2*n+1)^2-4)^2, n, 0, oo, algorithm='mathematica')\n1/64*pi^2\nsage: sum(1/((2*n+1)^2-4)^2, n, 0, oo, algorithm='sympy')\n1/64*pi^2\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/22005\n\n",
    "created_at": "2016-12-01T12:25:35Z",
    "labels": [
        "symbolics",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.6",
    "title": "sum(1/((2*n+1)^2-4)^2, n, 0, oo, algorithm='maxima') is wrong",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21768",
    "user": "@seblabbe"
}
```
Keywords: maxima

From [ask.sagemath.org](https://ask.sagemath.org/question/35839/sage-incorrectly-evaluates-series/):


```
sage: n = var('n')
sage: sum(1/((2*n+1)^2-4)^2, n, 0, oo)
1/64*pi^2 - 1/12
sage: sum(1/((2*n+1)^2-4)^2, n, 0, oo, algorithm='maxima')
1/64*pi^2 - 1/12
```


but correct answer is `1/64*pi^2`. SymPy (with #22004) and Mathematica do it right:


```
sage: sum(1/((2*n+1)^2-4)^2, n, 0, oo, algorithm='mathematica')
1/64*pi^2
sage: sum(1/((2*n+1)^2-4)^2, n, 0, oo, algorithm='sympy')
1/64*pi^2
```


Issue created by migration from https://trac.sagemath.org/ticket/22005





---

archive/issue_comments_302048.json:
```json
{
    "body": "Seems to be fixed upstream or \"*perhaps an interaction with some flags that Sage is setting*\" according to Robert Dodier:\n\nhttps://sourceforge.net/p/maxima/bugs/3236/#7b13/aab3",
    "created_at": "2016-12-27T20:05:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21768#issuecomment-302048",
    "user": "@seblabbe"
}
```

Seems to be fixed upstream or "*perhaps an interaction with some flags that Sage is setting*" according to Robert Dodier:

https://sourceforge.net/p/maxima/bugs/3236/#7b13/aab3



---

archive/issue_comments_302049.json:
```json
{
    "body": "this is to be fixed in #18920; this bug does not appear in the currently tested configuration of ECL-16.1.3+Maxima 5.39.0; this ticket should be closed after #18920 is done.",
    "created_at": "2017-01-17T11:08:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21768#issuecomment-302049",
    "user": "@dimpase"
}
```

this is to be fixed in #18920; this bug does not appear in the currently tested configuration of ECL-16.1.3+Maxima 5.39.0; this ticket should be closed after #18920 is done.



---

archive/issue_comments_302050.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-06-26T14:53:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21768#issuecomment-302050",
    "user": "@seblabbe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_302051.json:
```json
{
    "body": "This is fixed in 8.0.beta11.",
    "created_at": "2017-06-26T14:54:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21768#issuecomment-302051",
    "user": "@seblabbe"
}
```

This is fixed in 8.0.beta11.



---

archive/issue_comments_302052.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-06-26T14:54:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21768#issuecomment-302052",
    "user": "@seblabbe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_302053.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-06-26T22:30:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21768#issuecomment-302053",
    "user": "@vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_302054.json:
```json
{
    "body": "Just to say that a doctest is already testing this issue:\n\nhttps://github.com/sagemath/sage/blob/develop/src/sage/calculus/calculus.py#L569\n\nIt was added in #22004 and updated during the upgrade to maxima 5.39.",
    "created_at": "2017-06-28T09:38:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21768",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21768#issuecomment-302054",
    "user": "@seblabbe"
}
```

Just to say that a doctest is already testing this issue:

https://github.com/sagemath/sage/blob/develop/src/sage/calculus/calculus.py#L569

It was added in #22004 and updated during the upgrade to maxima 5.39.
