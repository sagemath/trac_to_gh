# Issue 18897: Inconsistency in matrix()

Issue created by migration from Trac.

Original creator: mmezzarobba

Original creation time: 2015-09-04 14:24:06


```
sage: matrix(2, 3, [])
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-11-2927290cdaf3> in <module>()
----> 1 matrix(Integer(2), Integer(3), [])

/home/marc/opt/sage/local/lib/python2.7/site-packages/sage/matrix/constructor.pyc in _matrix_constructor(*args, **kwds)
    647 
    648             if nrows > 0 and ncols > 0 and ring is None:
--> 649                 entries, ring = prepare(entries)
    650 
    651         elif isinstance(args[0], dict):

/home/marc/opt/sage/local/lib/python2.7/site-packages/sage/matrix/constructor.pyc in prepare(w)
    794         TypeError: unable to find a common ring for all elements
    795     """
--> 796     if 0 == len(w):
    797         return Sequence([], rings.ZZ), rings.ZZ
    798     entries = Sequence(w)

TypeError: object of type 'int' has no len()
```


Compare:

```
sage: matrix(ZZ, 2, 3, [])
[0 0 0]
[0 0 0]
sage: matrix(2, 3, [1])
...
ValueError: entries has the wrong length
```



---

Comment by jdemeyer created at 2018-02-27 20:47:26

Resolution: duplicate


---

Comment by jdemeyer created at 2018-02-27 20:47:26

Fixed in #24742. All the commands from the description become errors.
