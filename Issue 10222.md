# Issue 10222: maxima crashes if using plot in absence of gnuplot

Issue created by migration from Trac.

Original creator: lftabera

Original creation time: 2010-11-05 13:47:52

Assignee: was

CC:  jason

Keywords: maxima, plot, gnuplot

using maxima.plot needs gnuplot installed, either in the PATH or as an spkg. 

In the absence of gnuplot, maxima.plot should send an error messages. It crashes instead.

(Ensure that you do not have gnuplot installed).


```
sage:  maxima.plot2d('sin(x)','[x,-5,5]')
....
EOF: End Of File (EOF) in read_nonblocking(). Exception style platform.
...
sage:
```


If you try again the same command


```
sage:  maxima.plot2d('sin(x)','[x,-5,5]')
Maxima crashed -- automatically restarting.
Exception RuntimeError: 'maximum recursion depth exceeded in __subclasscheck__' in <type 'exceptions.RuntimeError'> ignored
Exception RuntimeError: RuntimeError('maximum recursion depth exceeded in cmp',) in Exception RuntimeError: 'maximum recursion depth exceeded in __subclasscheck__' in <type 'exceptions.RuntimeError'> ignored
 ignored
```


And goes on with RuntimeError endlessly, you have to kill sage to stop it.

With gnuplot installed everything goes smooth.


---

Comment by lftabera created at 2011-09-13 13:23:05

I cannot reproduce the error with sage 4.7.1, now it catches a maxima error.

However, I have no idea how to add a doctest to this issue.


---

Comment by rws created at 2014-05-14 08:44:17

Confirmed with the sage-6.2 binary installation.
