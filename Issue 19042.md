# Issue 19042: IncidenceStructure.is_generalized_quadrangle

Issue created by migration from Trac.

Original creator: ncohen

Original creation time: 2015-09-24 11:18:50

CC:  vdelecroix dimpase

Simple implementation. Perhaps not very optimized, but working. Until we need something more efficient.

Nathann


---

Comment by ncohen created at 2015-09-24 11:19:05

Changing status from new to needs_review.


---

Comment by git created at 2015-09-24 11:19:56

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-09-24 11:23:05

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by dimpase created at 2015-09-24 16:30:20

1) GQs don't necessary admit parameters; e.g.

```
o----o----o
o----o----o
```

is a GQ with 6 points and 5 lines, of which 2 are of size 3, and 3 of size 2.
(or you can take the dual, and get 5 points and 6 lines, all lines of the same size, 2, but points incident to different number of lines).
Admittedly this is a somewhat degenerate case, where either all lines have size 2, or all points are incident to exactly 2 lines; otherwise one indeed has uniformity.
|    |    |
2) the incidence graph is bipartite, and thus must have even girth (equal to 8, to get a GQ).


---

Comment by ncohen created at 2015-09-24 17:15:40

> 1) GQs don't necessary admit parameters; e.g.

I implemented the definition from Wikipedia:
https://en.wikipedia.org/wiki/Generalized_quadrangle

Is it wrong?

> 2) the incidence graph is bipartite, and thus must have even girth (equal to 8, to get a GQ).

Soooooooooo you want me to change something in my code/doc, arguing that it would make absolutely no difference because both are correct? `:-P`

Nathann


---

Comment by dimpase created at 2015-09-24 17:27:57

Replying to [comment:5 ncohen]:
> > 1) GQs don't necessary admit parameters; e.g.
> 
> I implemented the definition from Wikipedia:
> https://en.wikipedia.org/wiki/Generalized_quadrangle
> 
> Is it wrong?

it is a definition that is unnecessarily restrictive, and actually contradicts with what wikipedia defines as a polar space. Saying that a GQ is a polar space (and it is saying it) in wikipedia sense will disallow t=1 or s=1.

> 
> > 2) the incidence graph is bipartite, and thus must have even girth (equal to 8, to get a GQ).
> 
> Soooooooooo you want me to change something in my code/doc, arguing that it would make absolutely no difference because both are correct? `:-)

well, in a comment in the code you say that the girth must be at least 7; but you never ever get 7 or any odd number...


---

Comment by dimpase created at 2015-09-24 17:52:24

here is another point of view: http://www.win.tue.nl/~aeb/2WF02/genq.pdf if my authority is not enough (I only published a dozen papers dealing with GQs :-)).

what in wikipedia is called GQ is called **regular** GQ in some other sources. They are also called GQs admitting parameters...


---

Comment by ncohen created at 2015-09-24 18:10:27

Okay. Looks like I had the right intuition in implementing it with a girth call when reading the wikipedia definition `:-P`

How would you want to see the code, then? Just a function that returns true/false, and the users can obtain the s/t by themselves through a call to is_regular/is_uniform?

Nathann


---

Comment by dimpase created at 2015-09-24 18:23:54

Replying to [comment:8 ncohen]:
> Okay. Looks like I had the right intuition in implementing it with a girth call when reading the wikipedia definition `:-P`
> 
> How would you want to see the code, then? Just a function that returns true/false, and the users can obtain the s/t by themselves through a call to is_regular/is_uniform?

perhaps it can get a boolean parameter `parameters`, and, when it is `True`, return in addition the tuple (s,t), where one or both entries may be `None`?


---

Comment by git created at 2015-09-24 18:39:50

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ncohen created at 2015-09-24 18:40:06

Done. Could you update the wikipedia definition?

Nathann


---

Comment by dimpase created at 2015-09-24 19:02:30

Replying to [comment:11 ncohen]:
> Done. Could you update the wikipedia definition?

this is not so easy, even if one does not mess with polar spaces...

There several streams to cover for GQs; in addition to already mentioned,
there is a stream where GQs without a restriction on s,t are called weak GQs, 
see e.g. http://link.springer.com/book/10.1007/978-3-0348-0271-0

And I meanwhile have 5 overdue referee reports to write :-)


---

Comment by ncohen created at 2015-09-25 08:51:50

Okay Dima, first you tell me that the Wikipedia definition is incorrect and ask me to implement another, and then you tell me that Wikipedia's definition is not so incorrect after all.

So let's do that: either you can give me a textbook which uses the definition that you want so that I can link to it, otherwise I will implement Wikipedia's definition which happens to coincide with "Finite Generalized Triangles" [1]

Nathann

[1] http://cage.ugent.be/~bamberg/FGQ.pdf


---

Comment by dimpase created at 2015-09-25 16:22:34

I am telling you that Wikipedia definition has inconsistencies. E.g. it says that by definition a GQ is a polar space of rank 2, and on the link to polar spaces is does not give you a definition of polar space of rank 2. As well I am telling you that Wikipedia definition is by far not the only one common in the literature.

E.g., page 200 of [BCN] says:
More generally, a generalized n-gon is a partial linear space (P,E) with the property
that the incidence graph has diameter n and any two vertices x,y at distance
i < n have c_j(x,y) = 1. It is said to be of order (s,t) if all of its lines have size s + 1 and all of its points are incident to exactly t + 1 lines.

[BCN]: https://drive.google.com/file/d/0B92yb82dH00zZWFJdkNsQm5nZmM/view?usp=sharing
 
Indeed, in Ghent they might burn you at stake if you try to insist on this definition, but they have been trying to monopolise this industry for years :-)


---

Comment by dimpase created at 2015-09-25 18:49:13

you might want to check out the definition (7.4.1 p.323) of polar space here:
https://drive.google.com/file/d/0B92yb82dH00zM1lNc1Y1eGVHZDQ/view?usp=sharing

that I keep in mind, instead of the wikipedia one:

A line space (P,L) is a polar space if, for each point p ∈ P and
each line l ∈ L, the set of points of l which are collinear with p, is either a singleton
or l.



They keep on mentioning GQs immediately after this definition, in Example 7.4.2:

Each projective space is a polar space in which, for each point p
and each line l, the set of points of l collinear with p, coincides with l. At the other
extreme, a generalized quadrangle is a polar space in which, for each point p and
each line l not on p, the set of points of l collinear with p, is a singleton.

I edited this: https://en.wikipedia.org/wiki/Polar_space to begin with.


---

Comment by ncohen created at 2015-09-26 12:33:48

Hmmmmmm... Okay.

I tend to prefer to use your definition, because it is weaker and because from the pair (s,t) one can figure use one or the other definition. Still, did you meet this definition of Generalized Quadrangle in a textbook somewhere? I would prefer to link toward something "established" in the docstring.


---

Comment by ncohen created at 2015-09-26 13:12:41

> [...] and any two vertices x,y at distance
> i < n have c_j(x,y) = 1.

What the hell is this `c_j(x,y)`. Number of shortest paths? `:-/`

Come on, those definitions are not half as clear as those from wikipedia or from Payne and Thas' book.

Nathann


---

Comment by dimpase created at 2015-09-26 16:05:10

Replying to [comment:16 ncohen]:
> Hmmmmmm... Okay.
> 
> I tend to prefer to use your definition, because it is weaker and because from the pair (s,t) one can figure use one or the other definition. Still, did you meet this definition of Generalized Quadrangle in a textbook somewhere? I would prefer to link toward something "established" in the docstring.

Sect. 9.6 of [BH12]_ has my definition of GQ and how it relates to parameters in on the gory details.


---

Comment by git created at 2015-09-26 16:20:04

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ncohen created at 2015-09-26 16:20:17

What do you say to that? `;-)`

Nathann


---

Comment by dimpase created at 2015-09-26 16:23:48

Replying to [comment:17 ncohen]:
> > [...] and any two vertices x,y at distance
> > i < n have c_j(x,y) = 1.
> 
> What the hell is this `c_j(x,y)`. Number of shortest paths? `:-/`

for x, y at distance j+1, it is number of neighbours of y in diameter j neighbourhood of x.

E.g. mu in SRG is c_2.

It is one of parameters of a distance-regular graph, no wonder it's used freely in [BCN]_
----
New commits:


---

Comment by dimpase created at 2015-09-26 16:28:24

It seems that one should also say that there is at most one line on any 2 points. (Cause a general incidence system does not assume this).

I'll be mostly offline in the coming 36 hours - weekend...


---

Comment by ncohen created at 2015-09-26 22:34:47

"Two blocks intersect on at most one point" (doc of `is_generalized_quadrangle`)


---

Comment by dimpase created at 2015-09-28 21:33:36

Could you merge this with the branch of #19226, which has the reference [PT09] already?

Otherwise these 2 tickets won't merge cleanly.


---

Comment by dimpase created at 2015-09-28 21:42:52

I'm testing a merged branch now.


---

Comment by dimpase created at 2015-09-28 21:58:38

feel free to set this to positive review if you like my branch.
----
Last 10 new commits:


---

Comment by ncohen created at 2015-09-29 03:40:33

Do *NOT* merge my branchs. Ever.


---

Comment by ncohen created at 2015-09-29 03:43:00

And please, learn to write proper commit messages which include the ticket number. Those histories are unreadable.


---

Comment by ncohen created at 2015-09-29 03:43:23

Changing status from needs_review to needs_work.


---

Comment by git created at 2015-09-29 03:48:58

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ncohen created at 2015-09-29 03:52:47

Changing status from needs_work to needs_review.


---

Comment by ncohen created at 2015-09-29 03:52:47

This commit does what you requested. Observe that while the branch is not merged with #19226, the latter appears as a dependency of this ticket: this ensures that Volker will merge #19226 *first*, and so that the reference will be defined when he tests the patch.

Please do not merge again my branches with yours (until you learn to produce a readable history). Merging anything with your branches makes it impossible to review correctly.

Nathann


---

Comment by dimpase created at 2015-09-29 04:46:53

OK. Sometimes you complain bitterly that I don't add commits, sometimes you complain bitterly that I do add commits :-)


---

Comment by dimpase created at 2015-09-29 04:46:53

Changing status from needs_review to positive_review.


---

Comment by ncohen created at 2015-09-29 04:52:15

> OK. Sometimes you complain bitterly that I don't add commits, sometimes you complain bitterly that I do add commits :-)

1) *propose* commits (and don't modify a branch which is not public on a ticket that is not yours)
2) Do *NOT* merge my branches. Said this thousands of times already.

Nathann


---

Comment by vbraun created at 2015-10-12 22:52:58

Resolution: fixed
