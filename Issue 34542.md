# Issue 34542: archlinux-standard: Fix scipy.sparse linking to openblas

Issue created by migration from https://trac.sagemath.org/ticket/34779

Original creator: mkoeppe

Original creation time: 2022-11-23 04:08:43

CC:  arojas

https://github.com/mkoeppe/sage/actions/runs/3519527763/jobs/5916742795

```
 [sagemath_doc_html-none]   [plotting ]   File "/sage/local/var/lib/sage/venv-python3.10/lib/python3.10/site-packages/scipy/sparse/linalg/_isolve/iterative.py", line 9, in <module>
  [sagemath_doc_html-none]   [plotting ]     from . import _iterative
  [sagemath_doc_html-none]   [plotting ] ImportError: /sage/local/var/lib/sage/venv-python3.10/lib/python3.10/site-packages/scipy/sparse/linalg/_isolve/_iterative.cpython-310-x86_64-linux-gnu.so: undefined symbol: slamch_
```


Previously noted in #34081#comment:61; still broken with latest scipy (after #34658)


---

Comment by mkoeppe created at 2022-11-23 04:36:08

Is this something that needs to be reported and fixed upstream?


---

Comment by arojas created at 2022-11-23 08:10:15

Not really. With meson-python>=0.11, one should just pass `--config-settings setup-args='-Dlapack=lapack'` to `pip install`


---

Comment by mkoeppe created at 2022-11-23 19:54:02

Sounds to me like something that upstream may want to improve. I've opened https://github.com/scipy/scipy/issues/17465
