# Issue 20209: GLPKExactBackend - a variation on GLPKBackend that sets a solver parameter and signals errors on integer variables

archive/issues_020209.json:
```json
{
    "body": "CC:  @dimpase @videlec\n\nKeywords: lp\n\nGLPK has an exact simplex method, which can be requested by setting a solver parameter. \nVia #20406, a user can set this parameter.\n\nIt would be more convenient to define a named backend that does that. \n\nAlso, setting the solver parameter actually causes GLPK to solve the continuous relaxation, ignoring all integer variables. This might be surprising to users.\n\n\n```\nsage: delsarte_bound_additive_hamming_space(19,15,7,isinteger=True)\n3\nsage: from sage.numerical.backends.generic_backend import get_solver\nsage: def glpk_exact_solver():                                               \n        b = get_solver(solver=\"GLPK\")\n        b.solver_parameter(\"simplex_or_intopt\", \"exact_simplex_only\")\n        return b\nsage: delsarte_bound_additive_hamming_space(19,15,7,solver=glpk_exact_solver,isinteger=True)\nglp_exact: 54 rows, 20 columns, 795 non-zeros\n...\n2\n```\n\n\n\nSo there would be value in a named backend that actually signals an error when the user requests integer variables (like the CVXOpt and InteractiveLP backends do).\n\n\n```\nsage: delsarte_bound_additive_hamming_space(19,15,7,solver=\"GLPK/exact\",isinteger=True)\nValueError: This backend does not handle integer variables\n```\n\n\nWhile at it, could also support the \"glp_simplex followed by glp_exact\" mode that is mentioned in http://trac.sagemath.org/ticket/18735#comment:7\n\nIssue created by migration from https://trac.sagemath.org/ticket/20446\n\n",
    "created_at": "2016-04-14T17:44:43Z",
    "labels": [
        "numerical",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.2",
    "title": "GLPKExactBackend - a variation on GLPKBackend that sets a solver parameter and signals errors on integer variables",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20209",
    "user": "@mkoeppe"
}
```
CC:  @dimpase @videlec

Keywords: lp

GLPK has an exact simplex method, which can be requested by setting a solver parameter. 
Via #20406, a user can set this parameter.

It would be more convenient to define a named backend that does that. 

Also, setting the solver parameter actually causes GLPK to solve the continuous relaxation, ignoring all integer variables. This might be surprising to users.


```
sage: delsarte_bound_additive_hamming_space(19,15,7,isinteger=True)
3
sage: from sage.numerical.backends.generic_backend import get_solver
sage: def glpk_exact_solver():                                               
        b = get_solver(solver="GLPK")
        b.solver_parameter("simplex_or_intopt", "exact_simplex_only")
        return b
sage: delsarte_bound_additive_hamming_space(19,15,7,solver=glpk_exact_solver,isinteger=True)
glp_exact: 54 rows, 20 columns, 795 non-zeros
...
2
```



So there would be value in a named backend that actually signals an error when the user requests integer variables (like the CVXOpt and InteractiveLP backends do).


```
sage: delsarte_bound_additive_hamming_space(19,15,7,solver="GLPK/exact",isinteger=True)
ValueError: This backend does not handle integer variables
```


While at it, could also support the "glp_simplex followed by glp_exact" mode that is mentioned in http://trac.sagemath.org/ticket/18735#comment:7

Issue created by migration from https://trac.sagemath.org/ticket/20446





---

archive/issue_comments_278516.json:
```json
{
    "body": "Branch is on top of #20323.\n----\nLast 10 new commits:",
    "created_at": "2016-04-16T07:10:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20209#issuecomment-278516",
    "user": "@mkoeppe"
}
```

Branch is on top of #20323.
----
Last 10 new commits:



---

archive/issue_comments_278517.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-04-16T07:10:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20209#issuecomment-278517",
    "user": "@mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_278518.json:
```json
{
    "body": "the docstring is not correct here:\n\n```\n+    def _test_add_linear_constraint_vector(cls, tester=None, **options):\n+        \"\"\"\n+        Run tests on the method :meth:`.add_linear_constraints`.\n```\n",
    "created_at": "2016-04-18T08:35:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20209#issuecomment-278518",
    "user": "@dimpase"
}
```

the docstring is not correct here:

```
+    def _test_add_linear_constraint_vector(cls, tester=None, **options):
+        """
+        Run tests on the method :meth:`.add_linear_constraints`.
```




---

archive/issue_comments_278519.json:
```json
{
    "body": "indentation here is weird:\n\n```\ncdef class PPLBackend(GenericBackend):\n+\n+    \"\"\"\n+    TESTS::\n+\n+            sage: from sage.numerical.backends.generic_backend import get_solver\n+            sage: p = get_solver(solver = \"PPL\")\n+            sage: TestSuite(p).run(skip=\"_test_pickling\")\n```\n",
    "created_at": "2016-04-18T08:40:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20209#issuecomment-278519",
    "user": "@dimpase"
}
```

indentation here is weird:

```
cdef class PPLBackend(GenericBackend):
+
+    """
+    TESTS::
+
+            sage: from sage.numerical.backends.generic_backend import get_solver
+            sage: p = get_solver(solver = "PPL")
+            sage: TestSuite(p).run(skip="_test_pickling")
```




---

archive/issue_comments_278520.json:
```json
{
    "body": "do we plan on having this merged, or \"wishlist\" means something elese?",
    "created_at": "2016-04-18T10:22:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20209#issuecomment-278520",
    "user": "@dimpase"
}
```

do we plan on having this merged, or "wishlist" means something elese?



---

archive/issue_comments_278521.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-18T18:19:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20209#issuecomment-278521",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_278522.json:
```json
{
    "body": "It's ready for review, with the intent of having it merged. I've created a new ticket for an additional wishlist item.",
    "created_at": "2016-04-18T18:27:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20209#issuecomment-278522",
    "user": "@mkoeppe"
}
```

It's ready for review, with the intent of having it merged. I've created a new ticket for an additional wishlist item.



---

archive/issue_comments_278523.json:
```json
{
    "body": "I get a merge conflict with #20414 here.",
    "created_at": "2016-04-18T21:32:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20209#issuecomment-278523",
    "user": "@dimpase"
}
```

I get a merge conflict with #20414 here.



---

archive/issue_comments_278524.json:
```json
{
    "body": "Seems to merge cleanly here.",
    "created_at": "2016-04-18T21:51:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20209#issuecomment-278524",
    "user": "@mkoeppe"
}
```

Seems to merge cleanly here.



---

archive/issue_comments_278525.json:
```json
{
    "body": "here is what I see in `backends/generic_backend.pyx`\n\n```\n<<<<<<< HEAD\n        raise ValueError(\"'solver' should be set to 'GLPK', 'Coin', 'CPLEX', 'CVXOPT', 'Gurobi', 'PPL', 'InteractiveLP', None (in which case the default one is used), or a callable.\")\n=======\n        raise ValueError(\"'solver' should be set to 'GLPK', 'GLPK/exact', 'Coin', 'CPLEX', 'CVXOPT', 'Gurobi', 'PPL', 'InteractiveLP', or None (in which case the default one is used).\")\n>>>>>>> e7a2bd7d86034b16c8407ae534d75c39956edbf4\n```\n",
    "created_at": "2016-04-18T21:56:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20209#issuecomment-278525",
    "user": "@dimpase"
}
```

here is what I see in `backends/generic_backend.pyx`

```
<<<<<<< HEAD
        raise ValueError("'solver' should be set to 'GLPK', 'Coin', 'CPLEX', 'CVXOPT', 'Gurobi', 'PPL', 'InteractiveLP', None (in which case the default one is used), or a callable.")
=======
        raise ValueError("'solver' should be set to 'GLPK', 'GLPK/exact', 'Coin', 'CPLEX', 'CVXOPT', 'Gurobi', 'PPL', 'InteractiveLP', or None (in which case the default one is used).")
>>>>>>> e7a2bd7d86034b16c8407ae534d75c39956edbf4
```




---

archive/issue_comments_278526.json:
```json
{
    "body": "It's this commit:\n\n```\ncommit cc2d999c5234040914a4fee66708f33124eef8a9\nAuthor: Matthias Koeppe <mkoeppe@math.ucdavis.edu>\nDate:   Thu Apr 14 10:19:22 2016 -0700\n\n    Mention solver=callable in docstrings and error messages\n```\n\nthat causes the clash",
    "created_at": "2016-04-18T22:18:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20209#issuecomment-278526",
    "user": "@dimpase"
}
```

It's this commit:

```
commit cc2d999c5234040914a4fee66708f33124eef8a9
Author: Matthias Koeppe <mkoeppe@math.ucdavis.edu>
Date:   Thu Apr 14 10:19:22 2016 -0700

    Mention solver=callable in docstrings and error messages
```

that causes the clash



---

archive/issue_comments_278527.json:
```json
{
    "body": "Ah, that's #20406.",
    "created_at": "2016-04-19T04:55:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20209#issuecomment-278527",
    "user": "@mkoeppe"
}
```

Ah, that's #20406.



---

archive/issue_comments_278528.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-04-19T05:05:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20209#issuecomment-278528",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_278529.json:
```json
{
    "body": "OK, rebased on top of 7.2.beta4 + #20406 + #20323.",
    "created_at": "2016-04-19T05:05:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20209#issuecomment-278529",
    "user": "@mkoeppe"
}
```

OK, rebased on top of 7.2.beta4 + #20406 + #20323.



---

archive/issue_comments_278530.json:
```json
{
    "body": "more commits missing? I am trying your branch on top of 7.2.beta4:\n\n```\nError compiling Cython file:\n------------------------------------------------------------\n...\n#  Distributed under the terms of the GNU General Public License (GPL)\n#  The full text of the GPL is available at:\n#                  http://www.gnu.org/licenses/\n##############################################################################\n\ncdef class GLPKExactBackend(GLPKBackend):\n    ^\n------------------------------------------------------------\n\nsage/numerical/backends/glpk_exact_backend.pyx:17:5: 'GLPKBackend' is not declared\n\nError compiling Cython file:\n------------------------------------------------------------\n...\n            ...\n            ValueError: GLPK/exact only supports continuous variables\n        \"\"\"\n        if binary or integer:\n            raise ValueError(\"GLPK/exact only supports continuous variables\")\n        return GLPKBackend.add_variable(self, lower_bound, upper_bound, binary, continuous,\n                         ^\n------------------------------------------------------------\n\nsage/numerical/backends/glpk_exact_backend.pyx:109:26: undeclared name not builtin: GLPKBackend\n```\n",
    "created_at": "2016-04-19T08:50:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20209#issuecomment-278530",
    "user": "@dimpase"
}
```

more commits missing? I am trying your branch on top of 7.2.beta4:

```
Error compiling Cython file:
------------------------------------------------------------
...
#  Distributed under the terms of the GNU General Public License (GPL)
#  The full text of the GPL is available at:
#                  http://www.gnu.org/licenses/
##############################################################################

cdef class GLPKExactBackend(GLPKBackend):
    ^
------------------------------------------------------------

sage/numerical/backends/glpk_exact_backend.pyx:17:5: 'GLPKBackend' is not declared

Error compiling Cython file:
------------------------------------------------------------
...
            ...
            ValueError: GLPK/exact only supports continuous variables
        """
        if binary or integer:
            raise ValueError("GLPK/exact only supports continuous variables")
        return GLPKBackend.add_variable(self, lower_bound, upper_bound, binary, continuous,
                         ^
------------------------------------------------------------

sage/numerical/backends/glpk_exact_backend.pyx:109:26: undeclared name not builtin: GLPKBackend
```




---

archive/issue_comments_278531.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-19T15:22:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20209#issuecomment-278531",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_278532.json:
```json
{
    "body": "Yes, you were missing this file that I forgot to check in! Apologies...",
    "created_at": "2016-04-19T15:23:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20209#issuecomment-278532",
    "user": "@mkoeppe"
}
```

Yes, you were missing this file that I forgot to check in! Apologies...



---

archive/issue_comments_278533.json:
```json
{
    "body": "your new backends are not listed in this index:\n`local/share/doc/sage/html/en/reference/numerical/index.html`\nwhich is produced from\n`src/doc/en/reference/numerical/index.rst`\n\nplease add them all...",
    "created_at": "2016-04-19T20:21:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20209#issuecomment-278533",
    "user": "@dimpase"
}
```

your new backends are not listed in this index:
`local/share/doc/sage/html/en/reference/numerical/index.html`
which is produced from
`src/doc/en/reference/numerical/index.rst`

please add them all...



---

archive/issue_comments_278534.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-20T01:22:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20209#issuecomment-278534",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_278535.json:
```json
{
    "body": "OK, good.",
    "created_at": "2016-04-20T08:20:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20209#issuecomment-278535",
    "user": "@dimpase"
}
```

OK, good.



---

archive/issue_comments_278536.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-04-20T08:20:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20209#issuecomment-278536",
    "user": "@dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_278537.json:
```json
{
    "body": "\n```\nsage -t --long src/sage/numerical/backends/glpk_exact_backend.pyx\n**********************************************************************\nFile \"src/sage/numerical/backends/glpk_exact_backend.pyx\", line 33, in sage.numerical.backends.glpk_exact_backend.GLPKExactBackend\nFailed example:\n    TestSuite(p.get_backend()).run(skip=\"_test_pickling\")\nExpected nothing\nGot:\n    Failure in _test_copy:\n    Traceback (most recent call last):\n      File \"/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py\", line 283, in run\n        test_method(tester = tester)\n      File \"sage/numerical/backends/generic_backend.pyx\", line 1127, in sage.numerical.backends.generic_backend.GenericBackend._test_copy (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/generic_backend.c:10824)\n        self._do_test_problem_data(tester, cp)\n      File \"sage/numerical/backends/generic_backend.pyx\", line 1095, in sage.numerical.backends.generic_backend.GenericBackend._do_test_problem_data (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/generic_backend.c:10504)\n        tester.assertEqual(type(self), type(cp),\n      File \"/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python/unittest/case.py\", line 515, in assertEqual\n        assertion_func(first, second, msg=msg)\n      File \"/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python/unittest/case.py\", line 508, in _baseAssertEqual\n        raise self.failureException(msg)\n    AssertionError: Classes do not match\n    ------------------------------------------------------------\n    Failure in _test_copy_does_not_share_data:\n    Traceback (most recent call last):\n      File \"/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py\", line 283, in run\n        test_method(tester = tester)\n      File \"sage/numerical/backends/generic_backend.pyx\", line 1137, in sage.numerical.backends.generic_backend.GenericBackend._test_copy_does_not_share_data (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/generic_backend.c:11033)\n        self._do_test_problem_data(tester, cpcp)\n      File \"sage/numerical/backends/generic_backend.pyx\", line 1095, in sage.numerical.backends.generic_backend.GenericBackend._do_test_problem_data (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/generic_backend.c:10504)\n        tester.assertEqual(type(self), type(cp),\n      File \"/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python/unittest/case.py\", line 515, in assertEqual\n        assertion_func(first, second, msg=msg)\n      File \"/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python/unittest/case.py\", line 508, in _baseAssertEqual\n        raise self.failureException(msg)\n    AssertionError: Classes do not match\n    ------------------------------------------------------------\n    Failure in _test_copy_some_mips:\n    Traceback (most recent call last):\n      File \"/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py\", line 283, in run\n        test_method(tester = tester)\n      File \"sage/numerical/backends/generic_backend.pyx\", line 1151, in sage.numerical.backends.generic_backend.GenericBackend._test_copy_some_mips (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/generic_backend.c:11276)\n        p._test_copy(**options)\n      File \"sage/numerical/backends/generic_backend.pyx\", line 1127, in sage.numerical.backends.generic_backend.GenericBackend._test_copy (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/generic_backend.c:10824)\n        self._do_test_problem_data(tester, cp)\n      File \"sage/numerical/backends/generic_backend.pyx\", line 1095, in sage.numerical.backends.generic_backend.GenericBackend._do_test_problem_data (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/generic_backend.c:10504)\n        tester.assertEqual(type(self), type(cp),\n      File \"/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python/unittest/case.py\", line 515, in assertEqual\n        assertion_func(first, second, msg=msg)\n      File \"/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python/unittest/case.py\", line 508, in _baseAssertEqual\n        raise self.failureException(msg)\n    AssertionError: Classes do not match\n    ------------------------------------------------------------\n    The following tests failed: _test_copy, _test_copy_does_not_share_data, _test_copy_some_mips\n**********************************************************************\n1 item had failures:\n   1 of   3 in sage.numerical.backends.glpk_exact_backend.GLPKExactBackend\n    [26 tests, 1 failure, 0.12 s]\n```\n",
    "created_at": "2016-04-21T21:40:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20209#issuecomment-278537",
    "user": "@vbraun"
}
```


```
sage -t --long src/sage/numerical/backends/glpk_exact_backend.pyx
**********************************************************************
File "src/sage/numerical/backends/glpk_exact_backend.pyx", line 33, in sage.numerical.backends.glpk_exact_backend.GLPKExactBackend
Failed example:
    TestSuite(p.get_backend()).run(skip="_test_pickling")
Expected nothing
Got:
    Failure in _test_copy:
    Traceback (most recent call last):
      File "/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py", line 283, in run
        test_method(tester = tester)
      File "sage/numerical/backends/generic_backend.pyx", line 1127, in sage.numerical.backends.generic_backend.GenericBackend._test_copy (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/generic_backend.c:10824)
        self._do_test_problem_data(tester, cp)
      File "sage/numerical/backends/generic_backend.pyx", line 1095, in sage.numerical.backends.generic_backend.GenericBackend._do_test_problem_data (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/generic_backend.c:10504)
        tester.assertEqual(type(self), type(cp),
      File "/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python/unittest/case.py", line 515, in assertEqual
        assertion_func(first, second, msg=msg)
      File "/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python/unittest/case.py", line 508, in _baseAssertEqual
        raise self.failureException(msg)
    AssertionError: Classes do not match
    ------------------------------------------------------------
    Failure in _test_copy_does_not_share_data:
    Traceback (most recent call last):
      File "/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py", line 283, in run
        test_method(tester = tester)
      File "sage/numerical/backends/generic_backend.pyx", line 1137, in sage.numerical.backends.generic_backend.GenericBackend._test_copy_does_not_share_data (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/generic_backend.c:11033)
        self._do_test_problem_data(tester, cpcp)
      File "sage/numerical/backends/generic_backend.pyx", line 1095, in sage.numerical.backends.generic_backend.GenericBackend._do_test_problem_data (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/generic_backend.c:10504)
        tester.assertEqual(type(self), type(cp),
      File "/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python/unittest/case.py", line 515, in assertEqual
        assertion_func(first, second, msg=msg)
      File "/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python/unittest/case.py", line 508, in _baseAssertEqual
        raise self.failureException(msg)
    AssertionError: Classes do not match
    ------------------------------------------------------------
    Failure in _test_copy_some_mips:
    Traceback (most recent call last):
      File "/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/misc/sage_unittest.py", line 283, in run
        test_method(tester = tester)
      File "sage/numerical/backends/generic_backend.pyx", line 1151, in sage.numerical.backends.generic_backend.GenericBackend._test_copy_some_mips (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/generic_backend.c:11276)
        p._test_copy(**options)
      File "sage/numerical/backends/generic_backend.pyx", line 1127, in sage.numerical.backends.generic_backend.GenericBackend._test_copy (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/generic_backend.c:10824)
        self._do_test_problem_data(tester, cp)
      File "sage/numerical/backends/generic_backend.pyx", line 1095, in sage.numerical.backends.generic_backend.GenericBackend._do_test_problem_data (/mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/numerical/backends/generic_backend.c:10504)
        tester.assertEqual(type(self), type(cp),
      File "/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python/unittest/case.py", line 515, in assertEqual
        assertion_func(first, second, msg=msg)
      File "/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python/unittest/case.py", line 508, in _baseAssertEqual
        raise self.failureException(msg)
    AssertionError: Classes do not match
    ------------------------------------------------------------
    The following tests failed: _test_copy, _test_copy_does_not_share_data, _test_copy_some_mips
**********************************************************************
1 item had failures:
   1 of   3 in sage.numerical.backends.glpk_exact_backend.GLPKExactBackend
    [26 tests, 1 failure, 0.12 s]
```




---

archive/issue_comments_278538.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2016-04-21T21:40:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20209#issuecomment-278538",
    "user": "@vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_278539.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-04-21T22:49:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20209#issuecomment-278539",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_278540.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-04-21T22:51:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20209#issuecomment-278540",
    "user": "@mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_278541.json:
```json
{
    "body": "Nice, the new testsuite actually works.\n\nFixed copying of GLPKExactBackend instances. \nRebased on 7.2.beta5.",
    "created_at": "2016-04-21T22:51:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20209#issuecomment-278541",
    "user": "@mkoeppe"
}
```

Nice, the new testsuite actually works.

Fixed copying of GLPKExactBackend instances. 
Rebased on 7.2.beta5.



---

archive/issue_comments_278542.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-04-25T16:23:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20209#issuecomment-278542",
    "user": "@dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_278543.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-04-26T12:58:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20209",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20209#issuecomment-278543",
    "user": "@vbraun"
}
```

Resolution: fixed
