# Issue 31813: 2 internet doctest failing in oeis.py

Issue created by migration from https://trac.sagemath.org/ticket/32050

Original creator: slabbe

Original creation time: 2021-06-24 11:53:22

CC:  tscrim slelievre @kliem

With 9.4.beta3


```
sage -t --optional=sage,internet src/sage/databases/oeis.py
```


gives


```
sage -t --long --random-seed=0 src/sage/databases/oeis.py
**********************************************************************
File "src/sage/databases/oeis.py", line 1506, in sage.databases.oeis.OEISSequence.references
Failed example:
    w.references()                        # optional -- internet
Expected:
    0: A. H. Beiler, Recreations in the Theory of Numbers, Dover, NY, 1964, p. 52.
    1: C. Clawson, Mathematical Mysteries, Plenum Press, 1996, p. 180.
    2: R. Crandall and C. Pomerance, Prime Numbers: A Computational Perspective, Springer, NY, 2001; see p. 29.
    3: G. H. Hardy and E. M. Wright, An Introduction to the Theory of Numbers, 5th ed., Oxford Univ. Press, 1979, th. 80.
    ...
Got:
    0: N. G. W. H. Beeger, On the Congruence (p-1)! == -1 (mod p^2), Messenger of Mathematics, Vol. 49 (1920), pp. 177-178.
    1: Albert H. Beiler, Recreations in the Theory of Numbers, Dover, NY, 1964, p. 52.
    2: Calvin C. Clawson, Mathematical Mysteries, Plenum Press, 1996, p. 180.
    3: Richard Crandall and Carl Pomerance, Prime Numbers: A Computational Perspective, Springer, NY, 2001; see p. 29.
    4: G. H. Hardy and E. M. Wright, An Introduction to the Theory of Numbers, 5th ed., Oxford Univ. Press, 1979, th. 80.
    5: Paulo Ribenboim, My Numbers, My Friends: Popular Lectures on Number Theory, Springer Science & Business Media, 2000, ISBN 0-387-98911-0.
    6: Paulo Ribenboim, The Book of Prime Number Records. Springer-Verlag, NY, 2nd ed., 1989, p. 277.
    7: N. J. A. Sloane and Simon Plouffe, The Encyclopedia of Integer Sequences, Academic Press, 1995 (includes this sequence).
    8: Ilan Vardi, Computational Recreations in Mathematica. Addison-Wesley, Redwood City, CA, 1991, p. 73.
    9: David Wells, The Penguin Dictionary of Curious and Interesting Numbers. Penguin Books, NY, 1986, 163.
**********************************************************************
File "src/sage/databases/oeis.py", line 1513, in sage.databases.oeis.OEISSequence.references
Failed example:
    _[0]                                  # optional -- internet
Expected:
    'A. H. Beiler, Recreations in the Theory of Numbers, Dover, NY, 1964, p. 52.'
Got:
    'N. G. W. H. Beeger, On the Congruence (p-1)! == -1 (mod p^2), Messenger of Mathematics, Vol. 49 (1920), pp. 177-178.'

**********************************************************************
1 item had failures:
   2 of   6 in sage.databases.oeis.OEISSequence.references
    5 webbrowser tests not run
    0 tests not run because we ran out of time
    [290 tests, 2 failures, 38.95 s]
```



---

Comment by chapoton created at 2021-08-02 16:26:24

Changing status from new to needs_review.


---

Comment by chapoton created at 2021-08-02 16:26:24

New commits:


---

Comment by chapoton created at 2021-08-11 12:00:30

simple ticket, please review


---

Comment by tscrim created at 2021-08-11 12:48:22

It would be nice to make this fully independent of the data that is upstream, but that might be too much to hope for... This will work for now as it is unlikely to change much...hopefully...


---

Comment by tscrim created at 2021-08-11 12:48:22

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2021-08-31 22:00:47

Resolution: fixed
