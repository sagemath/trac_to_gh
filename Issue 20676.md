# Issue 20676: Patch pip to work without SSL support

Issue created by migration from Trac.

Original creator: embray

Original creation time: 2016-06-30 15:49:38

Keywords: pip

This fixes a long-standing issue where if Sage is built on a system without OpenSSL support, doing anything with pip will result in it crashing.

This allows pip to work without SSL support.  Its functionality is _limited_--i.e. it can't download anything from PyPI without SSL.  But it does have appropriate error-handling in this case, an can still be used to install local packages fine.

This was originally part of #20218 but I am breaking it out to a separate ticket as requested.


---

Comment by embray created at 2016-06-30 15:49:54

Changing status from new to needs_review.


---

Comment by git created at 2016-06-30 15:53:58

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jdemeyer created at 2016-07-12 23:01:15

Do you happen to know how this should be tested, i.e. can I "fake" that I don't have SSL?


---

Comment by embray created at 2016-07-13 10:28:53

Replying to [comment:3 jdemeyer]:
> Do you happen to know how this should be tested, i.e. can I "fake" that I don't have SSL?

Sure.  For example put a module called `ssl.py` that does nothing but raise an `ImportError` somewhere early on your `PYTHONPATH`.  That's how I tested this.

Welcome back, also!


---

Comment by jdemeyer created at 2016-07-13 18:11:00

Can you add links in the ticket description to the upstream issue?


---

Comment by jdemeyer created at 2016-07-13 18:11:00

Changing status from needs_review to needs_info.


---

Comment by jdemeyer created at 2016-07-13 20:04:42

Works fine.


---

Comment by jdemeyer created at 2016-07-13 20:04:42

Changing status from needs_info to positive_review.


---

Comment by vbraun created at 2016-07-14 20:43:47

Resolution: fixed
