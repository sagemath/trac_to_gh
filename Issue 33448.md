# Issue 33448: PointConfiguration, Polyhedron, PolyhedralComplex: Compute regular triangulation/subdivision

Issue created by migration from https://trac.sagemath.org/ticket/33685

Original creator: mkoeppe

Original creation time: 2022-04-11 19:59:55

CC:  yzh jipilab @kliem

`Triangulation` already has a method `normal_cone`, which computes the normal cone of the GKZ polytope that exposes the triangulation.

What seems to be missing is a method to compute regular triangulations, given an element of the normal cone (a weight/lifting vector), computes the regular triangulation (or more generally, subdivision) of the point configuration / polyhedron. 

Under some conditions, this would also make sense for polyhedral complexes.


---

Comment by git created at 2022-08-08 02:01:46

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-08-08 03:55:30

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:


---

Comment by git created at 2022-08-08 16:34:48

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-08-08 18:51:39

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-08-08 18:57:24

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-08-08 19:29:48

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-08-09 17:17:05

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2022-08-09 18:21:51

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2022-08-10 00:33:36

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by yzh created at 2022-09-10 21:04:16

The patchbot is red, but I was unable to see the Test details. Any idea why?


---

Comment by yzh created at 2022-09-10 21:04:16

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2022-09-10 21:12:58

"Build & test" (https://github.com/sagemath/sagetrac-mirror/runs/7757629097?check_suite_focus=true) shows 2 doctest failures


---

Comment by mkoeppe created at 2022-09-10 21:13:12

Changing status from needs_review to needs_work.


---

Comment by mkoeppe created at 2022-09-10 21:26:28

Ah yes, these two failures are already marked with "FIXME"


---

Comment by yzh created at 2022-09-18 08:50:06

It is very confusing that “triangulation” is called although often times it is just a subdivision.

Does the function “is regular subdivision” test whether other is a subdivision of self, or the reverse?


---

Comment by yzh created at 2022-09-18 19:20:36

Would it be better to limit the scope of `is_regular_subdivision` to only the case where `self` satisfies `is_simplicial_complex` and `is_compact`? 

I notice that this requirement is specified in the method `as_triangulation`. But then, inside `is_regular_subdivision`, `self.as_triangulation` is called with `check=False`, which doesn't make sense to me.


---

Comment by yzh created at 2022-09-19 01:55:07

Even if we assume that `self` is a triangulation, the decision process that `is_regular_subdivision` now uses doesn't make any sense to me, starting from `normal = normal_cone.relative_interior().an_element()`


---

Comment by yzh created at 2022-09-19 02:21:08

From the reference to Polymake example, I see that Polymake doesn't have the function `polyhedralcomplex.is_regular_subdivision(otherpolyhedralcomplex)`, but only `is_regular` which determines if a subdivision of a point collection is a regular subdivision. 

Therefore, I think there should be two parts in your `is_regular_subdivision` method: (1) determine if self is a regular subdivision (and compute a weight vector) (2) check if self is a subdivision of other.


---

Comment by yzh created at 2022-09-19 03:16:57

Example: 
points = [(0,0), (0,2), (2,2), (2,0), (1,3)]. 

`other` is the polyhedral complex whose maximal cells are [the square with the first 4 points as its vertices, the triangle with the last three points as its vertices]

`self` is the polyhedral complex whose maximal cells are [triangle (pt0, pt1, pt4), triangle (pt0, pt4, pt3), triangle (pt1, pt2, pt4)]

`self` is a regular subdivision of points, but not a subdivision of `other`.


---

Comment by git created at 2022-10-17 20:49:11

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:
