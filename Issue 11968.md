# Issue 11968: skew Schur function indexed by [[], []] causes Segmentation Fault

Issue created by migration from Trac.

Original creator: zabrocki

Original creation time: 2011-12-10 03:20:54

Assignee: sage-combinat

CC:  sage-combinat

Keywords: sf

The following code causes a segmentation fault:


```
sage: s = SFASchur(QQ)
sage: s([[], []])
```


I found this error because I was computing a sum with the skew_by operation

{{{ 
sage: s([]).skew_by(s([]))
}}}

which should be s[] but instead causes the segmentation fault


---

Comment by aschilling created at 2012-05-08 02:17:43

Changing keywords from "sf" to "sf, days38".


---

Comment by aschilling created at 2012-05-08 16:03:12

Changing status from new to needs_review.


---

Comment by zabrocki created at 2012-05-09 12:16:30

bug fix of part_part_skewschur in symmetrica package


---

Attachment


---

Comment by aschilling created at 2012-05-09 13:04:34

Changing type from PLEASE CHANGE to defect.


---

Comment by aschilling created at 2012-05-09 16:12:24

Changing status from needs_review to positive_review.


---

Comment by zabrocki created at 2012-05-09 16:14:00

Replying to [comment:7 aschilling]:
Thank you Anne!  I love you!


---

Comment by jdemeyer created at 2012-05-13 21:21:40

Changing status from positive_review to needs_work.


---

Comment by jdemeyer created at 2012-05-13 21:21:40

This doesn't build on iras (SUSE ES10 ia64):

```
gcc -fno-strict-aliasing -fwrapv -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -I/usr/include/malloc/ -I/home/buildbot/build/sag
e/iras-1/iras_full/build/sage-5.1.beta1/local/include -I/home/buildbot/build/sage/iras-1/iras_full/build/sage-5.1.beta1/local/include/csag
e -I/home/buildbot/build/sage/iras-1/iras_full/build/sage-5.1.beta1/devel/sage/sage/ext -I/home/buildbot/build/sage/iras-1/iras_full/build
/sage-5.1.beta1/local/include/python2.7 -c sage/libs/symmetrica/symmetrica.c -o build/temp.linux-ia64-2.7/sage/libs/symmetrica/symmetrica.
o -w
gcc -pthread -shared -L/home/buildbot/build/sage/iras-1/iras_full/build/sage-5.1.beta1/local/lib build/temp.linux-ia64-2.7/sage/libs/symme
trica/symmetrica.o -L/home/buildbot/build/sage/iras-1/iras_full/build/sage-5.1.beta1/local/lib -L/home/buildbot/build/sage/iras-1/iras_ful
l/build/sage-5.1.beta1/local/lib -lcsage -lsymmetrica -lstdc++ -lntl -lpython2.7 -o build/lib.linux-ia64-2.7/sage/libs/symmetrica/symmetri
ca.so
/usr/bin/ld: /home/buildbot/build/sage/iras-1/iras_full/build/sage-5.1.beta1/local/lib/libsymmetrica.a(vc.o): Can't relax br (PCREL21B) to
 `error_during_computation_code' at 0x1f782 in section `.text' with size 0x81070 (> 0x1000000).
/usr/bin/ld: final link failed: Nonrepresentable section on output
collect2: ld returned 1 exit status
error: command 'gcc' failed with exit status 1
```


Note:

```
(sage-sh) buildbot`@`iras:sage-5.1.beta1$ gcc --version
gcc (GCC) 4.6.3
Copyright (C) 2011 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

(sage-sh) buildbot`@`iras:sage-5.1.beta1$ ld --version
GNU ld version 2.16.91.0.5 20051219 (SUSE Linux)
Copyright 2005 Free Software Foundation, Inc.
This program is free software; you may redistribute it under the terms of
the GNU General Public License.  This program has absolutely no warranty.
```



---

Comment by nthiery created at 2012-05-14 11:57:37

Replying to [comment:9 jdemeyer]:
> This doesn't build on iras (SUSE ES10 ia64):

Yikes. Thanks for the report.

Can you confirm that the compilation runs smoothly without the patch?
I.e. that this is not an issue of Symmetrica itself?


---

Comment by aschilling created at 2012-06-02 15:43:41

Replying to [comment:10 nthiery]:
> Replying to [comment:9 jdemeyer]:
> > This doesn't build on iras (SUSE ES10 ia64):
> 
> Yikes. Thanks for the report.
> 
> Can you confirm that the compilation runs smoothly without the patch?
> I.e. that this is not an issue of Symmetrica itself?

Jeroen, since I do not have this linux version at hand, could you please confirm that the compilation runs smoothly without the patch applied?

Thank you,

Anne


---

Comment by jdemeyer created at 2012-06-15 16:27:39

This is a buildbot machine, so yes, Sage builds and works 100% fine without this patch. I'll be honest that I also have no idea what causes this problem.


---

Comment by nthiery created at 2012-06-15 20:08:20

Replying to [comment:12 jdemeyer]:
> This is a buildbot machine, so yes, Sage builds and works 100% fine without this patch. I'll be honest that I also have no idea what causes this problem.

Ok, I guess we should not waste time and this, and just jump on the occasion to do the right thing, namely to use lrcalc. I just implemented the little changed requested by Jeroen on #11563, so I guess that's ok to add it as a dependency.

What do you think?


---

Comment by aschilling created at 2012-07-11 16:51:13

Changing keywords from "sf, days38" to "sf, days38, sd40".


---

Comment by aschilling created at 2012-07-11 16:51:13

Changing status from needs_work to needs_review.


---

Attachment


---

Comment by aschilling created at 2012-07-12 23:03:07

I tested this patch and it works on my computer. Tests pass. Time claims also hold.


---

Comment by aschilling created at 2012-07-12 23:03:07

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2012-08-01 12:10:04

Resolution: fixed
