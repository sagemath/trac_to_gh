# Issue 11968: skew Schur function indexed by [[], []] causes Segmentation Fault

archive/issues_011968.json:
```json
{
    "body": "Assignee: sage-combinat\n\nCC:  sage-combinat\n\nKeywords: sf\n\nThe following code causes a segmentation fault:\n\n\n```\nsage: s = SFASchur(QQ)\nsage: s([[], []])\n```\n\n\nI found this error because I was computing a sum with the skew_by operation\n\n\n``` \nsage: s([]).skew_by(s([]))\n```\n\n\nwhich should be s[] but instead causes the segmentation fault\n\nIssue created by migration from https://trac.sagemath.org/ticket/12140\n\n",
    "created_at": "2011-12-10T03:20:54Z",
    "labels": [
        "combinatorics",
        "major"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.3",
    "title": "skew Schur function indexed by [[], []] causes Segmentation Fault",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11968",
    "user": "zabrocki"
}
```
Assignee: sage-combinat

CC:  sage-combinat

Keywords: sf

The following code causes a segmentation fault:


```
sage: s = SFASchur(QQ)
sage: s([[], []])
```


I found this error because I was computing a sum with the skew_by operation


``` 
sage: s([]).skew_by(s([]))
```


which should be s[] but instead causes the segmentation fault

Issue created by migration from https://trac.sagemath.org/ticket/12140





---

archive/issue_comments_137672.json:
```json
{
    "body": "Changing keywords from \"sf\" to \"sf, days38\".",
    "created_at": "2012-05-08T02:17:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11968#issuecomment-137672",
    "user": "aschilling"
}
```

Changing keywords from "sf" to "sf, days38".



---

archive/issue_comments_137673.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-05-08T16:03:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11968#issuecomment-137673",
    "user": "aschilling"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_137674.json:
```json
{
    "body": "bug fix of part_part_skewschur in symmetrica package",
    "created_at": "2012-05-09T12:16:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11968#issuecomment-137674",
    "user": "zabrocki"
}
```

bug fix of part_part_skewschur in symmetrica package



---

archive/issue_comments_137675.json:
```json
{
    "body": "Attachment [trac_12140_skewschurfix-mz.patch](tarball://root/attachments/some-uuid/ticket12140/trac_12140_skewschurfix-mz.patch) by zabrocki created at 2012-05-09 12:18:47",
    "created_at": "2012-05-09T12:18:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11968#issuecomment-137675",
    "user": "zabrocki"
}
```

Attachment [trac_12140_skewschurfix-mz.patch](tarball://root/attachments/some-uuid/ticket12140/trac_12140_skewschurfix-mz.patch) by zabrocki created at 2012-05-09 12:18:47



---

archive/issue_comments_137676.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2012-05-09T13:04:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11968#issuecomment-137676",
    "user": "aschilling"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_137677.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-05-09T16:12:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11968#issuecomment-137677",
    "user": "aschilling"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_137678.json:
```json
{
    "body": "Replying to [comment:7 aschilling]:\nThank you Anne!  I love you!",
    "created_at": "2012-05-09T16:14:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11968#issuecomment-137678",
    "user": "zabrocki"
}
```

Replying to [comment:7 aschilling]:
Thank you Anne!  I love you!



---

archive/issue_comments_137679.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-05-13T21:21:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11968#issuecomment-137679",
    "user": "jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_137680.json:
```json
{
    "body": "This doesn't build on iras (SUSE ES10 ia64):\n\n```\ngcc -fno-strict-aliasing -fwrapv -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -I/usr/include/malloc/ -I/home/buildbot/build/sag\ne/iras-1/iras_full/build/sage-5.1.beta1/local/include -I/home/buildbot/build/sage/iras-1/iras_full/build/sage-5.1.beta1/local/include/csag\ne -I/home/buildbot/build/sage/iras-1/iras_full/build/sage-5.1.beta1/devel/sage/sage/ext -I/home/buildbot/build/sage/iras-1/iras_full/build\n/sage-5.1.beta1/local/include/python2.7 -c sage/libs/symmetrica/symmetrica.c -o build/temp.linux-ia64-2.7/sage/libs/symmetrica/symmetrica.\no -w\ngcc -pthread -shared -L/home/buildbot/build/sage/iras-1/iras_full/build/sage-5.1.beta1/local/lib build/temp.linux-ia64-2.7/sage/libs/symme\ntrica/symmetrica.o -L/home/buildbot/build/sage/iras-1/iras_full/build/sage-5.1.beta1/local/lib -L/home/buildbot/build/sage/iras-1/iras_ful\nl/build/sage-5.1.beta1/local/lib -lcsage -lsymmetrica -lstdc++ -lntl -lpython2.7 -o build/lib.linux-ia64-2.7/sage/libs/symmetrica/symmetri\nca.so\n/usr/bin/ld: /home/buildbot/build/sage/iras-1/iras_full/build/sage-5.1.beta1/local/lib/libsymmetrica.a(vc.o): Can't relax br (PCREL21B) to\n `error_during_computation_code' at 0x1f782 in section `.text' with size 0x81070 (> 0x1000000).\n/usr/bin/ld: final link failed: Nonrepresentable section on output\ncollect2: ld returned 1 exit status\nerror: command 'gcc' failed with exit status 1\n```\n\n\nNote:\n\n```\n(sage-sh) buildbot@iras:sage-5.1.beta1$ gcc --version\ngcc (GCC) 4.6.3\nCopyright (C) 2011 Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.  There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n\n(sage-sh) buildbot@iras:sage-5.1.beta1$ ld --version\nGNU ld version 2.16.91.0.5 20051219 (SUSE Linux)\nCopyright 2005 Free Software Foundation, Inc.\nThis program is free software; you may redistribute it under the terms of\nthe GNU General Public License.  This program has absolutely no warranty.\n```\n",
    "created_at": "2012-05-13T21:21:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11968#issuecomment-137680",
    "user": "jdemeyer"
}
```

This doesn't build on iras (SUSE ES10 ia64):

```
gcc -fno-strict-aliasing -fwrapv -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -I/usr/include/malloc/ -I/home/buildbot/build/sag
e/iras-1/iras_full/build/sage-5.1.beta1/local/include -I/home/buildbot/build/sage/iras-1/iras_full/build/sage-5.1.beta1/local/include/csag
e -I/home/buildbot/build/sage/iras-1/iras_full/build/sage-5.1.beta1/devel/sage/sage/ext -I/home/buildbot/build/sage/iras-1/iras_full/build
/sage-5.1.beta1/local/include/python2.7 -c sage/libs/symmetrica/symmetrica.c -o build/temp.linux-ia64-2.7/sage/libs/symmetrica/symmetrica.
o -w
gcc -pthread -shared -L/home/buildbot/build/sage/iras-1/iras_full/build/sage-5.1.beta1/local/lib build/temp.linux-ia64-2.7/sage/libs/symme
trica/symmetrica.o -L/home/buildbot/build/sage/iras-1/iras_full/build/sage-5.1.beta1/local/lib -L/home/buildbot/build/sage/iras-1/iras_ful
l/build/sage-5.1.beta1/local/lib -lcsage -lsymmetrica -lstdc++ -lntl -lpython2.7 -o build/lib.linux-ia64-2.7/sage/libs/symmetrica/symmetri
ca.so
/usr/bin/ld: /home/buildbot/build/sage/iras-1/iras_full/build/sage-5.1.beta1/local/lib/libsymmetrica.a(vc.o): Can't relax br (PCREL21B) to
 `error_during_computation_code' at 0x1f782 in section `.text' with size 0x81070 (> 0x1000000).
/usr/bin/ld: final link failed: Nonrepresentable section on output
collect2: ld returned 1 exit status
error: command 'gcc' failed with exit status 1
```


Note:

```
(sage-sh) buildbot@iras:sage-5.1.beta1$ gcc --version
gcc (GCC) 4.6.3
Copyright (C) 2011 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

(sage-sh) buildbot@iras:sage-5.1.beta1$ ld --version
GNU ld version 2.16.91.0.5 20051219 (SUSE Linux)
Copyright 2005 Free Software Foundation, Inc.
This program is free software; you may redistribute it under the terms of
the GNU General Public License.  This program has absolutely no warranty.
```




---

archive/issue_comments_137681.json:
```json
{
    "body": "Replying to [comment:9 jdemeyer]:\n> This doesn't build on iras (SUSE ES10 ia64):\n\nYikes. Thanks for the report.\n\nCan you confirm that the compilation runs smoothly without the patch?\nI.e. that this is not an issue of Symmetrica itself?",
    "created_at": "2012-05-14T11:57:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11968#issuecomment-137681",
    "user": "nthiery"
}
```

Replying to [comment:9 jdemeyer]:
> This doesn't build on iras (SUSE ES10 ia64):

Yikes. Thanks for the report.

Can you confirm that the compilation runs smoothly without the patch?
I.e. that this is not an issue of Symmetrica itself?



---

archive/issue_comments_137682.json:
```json
{
    "body": "Replying to [comment:10 nthiery]:\n> Replying to [comment:9 jdemeyer]:\n> > This doesn't build on iras (SUSE ES10 ia64):\n> \n> Yikes. Thanks for the report.\n> \n> Can you confirm that the compilation runs smoothly without the patch?\n> I.e. that this is not an issue of Symmetrica itself?\n\nJeroen, since I do not have this linux version at hand, could you please confirm that the compilation runs smoothly without the patch applied?\n\nThank you,\n\nAnne",
    "created_at": "2012-06-02T15:43:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11968#issuecomment-137682",
    "user": "aschilling"
}
```

Replying to [comment:10 nthiery]:
> Replying to [comment:9 jdemeyer]:
> > This doesn't build on iras (SUSE ES10 ia64):
> 
> Yikes. Thanks for the report.
> 
> Can you confirm that the compilation runs smoothly without the patch?
> I.e. that this is not an issue of Symmetrica itself?

Jeroen, since I do not have this linux version at hand, could you please confirm that the compilation runs smoothly without the patch applied?

Thank you,

Anne



---

archive/issue_comments_137683.json:
```json
{
    "body": "This is a buildbot machine, so yes, Sage builds and works 100% fine without this patch. I'll be honest that I also have no idea what causes this problem.",
    "created_at": "2012-06-15T16:27:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11968#issuecomment-137683",
    "user": "jdemeyer"
}
```

This is a buildbot machine, so yes, Sage builds and works 100% fine without this patch. I'll be honest that I also have no idea what causes this problem.



---

archive/issue_comments_137684.json:
```json
{
    "body": "Replying to [comment:12 jdemeyer]:\n> This is a buildbot machine, so yes, Sage builds and works 100% fine without this patch. I'll be honest that I also have no idea what causes this problem.\n\nOk, I guess we should not waste time and this, and just jump on the occasion to do the right thing, namely to use lrcalc. I just implemented the little changed requested by Jeroen on #11563, so I guess that's ok to add it as a dependency.\n\nWhat do you think?",
    "created_at": "2012-06-15T20:08:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11968#issuecomment-137684",
    "user": "nthiery"
}
```

Replying to [comment:12 jdemeyer]:
> This is a buildbot machine, so yes, Sage builds and works 100% fine without this patch. I'll be honest that I also have no idea what causes this problem.

Ok, I guess we should not waste time and this, and just jump on the occasion to do the right thing, namely to use lrcalc. I just implemented the little changed requested by Jeroen on #11563, so I guess that's ok to add it as a dependency.

What do you think?



---

archive/issue_comments_137685.json:
```json
{
    "body": "Changing keywords from \"sf, days38\" to \"sf, days38, sd40\".",
    "created_at": "2012-07-11T16:51:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11968#issuecomment-137685",
    "user": "aschilling"
}
```

Changing keywords from "sf, days38" to "sf, days38, sd40".



---

archive/issue_comments_137686.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-07-11T16:51:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11968#issuecomment-137686",
    "user": "aschilling"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_137687.json:
```json
{
    "body": "Attachment [trac_12140-sf_schur_done_w_lrcalc-mz.patch](tarball://root/attachments/some-uuid/ticket12140/trac_12140-sf_schur_done_w_lrcalc-mz.patch) by aschilling created at 2012-07-12 23:00:23",
    "created_at": "2012-07-12T23:00:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11968#issuecomment-137687",
    "user": "aschilling"
}
```

Attachment [trac_12140-sf_schur_done_w_lrcalc-mz.patch](tarball://root/attachments/some-uuid/ticket12140/trac_12140-sf_schur_done_w_lrcalc-mz.patch) by aschilling created at 2012-07-12 23:00:23



---

archive/issue_comments_137688.json:
```json
{
    "body": "I tested this patch and it works on my computer. Tests pass. Time claims also hold.",
    "created_at": "2012-07-12T23:03:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11968#issuecomment-137688",
    "user": "aschilling"
}
```

I tested this patch and it works on my computer. Tests pass. Time claims also hold.



---

archive/issue_comments_137689.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-07-12T23:03:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11968#issuecomment-137689",
    "user": "aschilling"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_137690.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-08-01T12:10:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11968",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11968#issuecomment-137690",
    "user": "jdemeyer"
}
```

Resolution: fixed
