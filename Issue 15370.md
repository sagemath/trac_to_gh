# Issue 15370: Upgrade database_stein_watkins to the 2007 data

archive/issues_015370.json:
```json
{
    "body": "CC:  slelievre\n\nKeywords: database elliptic curves\n\nThe original Stein-Watkins database was created in 2003.  In 2007, a few revisions and additions were made to the data.  In this ticket we upgrade the git optional/huge spkgs database_stein_watkins_mini and database_stein_watkins to version 20070827.\n\nThe replacement data files are at [http://modular.math.washington.edu/ecdb/FIX.tar](http://modular.math.washington.edu/ecdb/FIX.tar). The new upstream tarballs are at:\n\n1. [http://boxen.math.washington.edu/home/cremona/database_stein_watkins_mini-20070827.tar.bz2](http://boxen.math.washington.edu/home/cremona/database_stein_watkins_mini-20070827.tar.bz2)\n2. [http://boxen.math.washington.edu/home/cremona/database_stein_watkins-20070827.tar.bz2](http://boxen.math.washington.edu/home/cremona/database_stein_watkins-20070827.tar.bz2)\n\nIssue created by migration from https://trac.sagemath.org/ticket/15607\n\n",
    "created_at": "2013-12-29T13:59:34Z",
    "labels": [
        "packages: optional",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.1",
    "title": "Upgrade database_stein_watkins to the 2007 data",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15370",
    "user": "cremona"
}
```
CC:  slelievre

Keywords: database elliptic curves

The original Stein-Watkins database was created in 2003.  In 2007, a few revisions and additions were made to the data.  In this ticket we upgrade the git optional/huge spkgs database_stein_watkins_mini and database_stein_watkins to version 20070827.

The replacement data files are at [http://modular.math.washington.edu/ecdb/FIX.tar](http://modular.math.washington.edu/ecdb/FIX.tar). The new upstream tarballs are at:

1. [http://boxen.math.washington.edu/home/cremona/database_stein_watkins_mini-20070827.tar.bz2](http://boxen.math.washington.edu/home/cremona/database_stein_watkins_mini-20070827.tar.bz2)
2. [http://boxen.math.washington.edu/home/cremona/database_stein_watkins-20070827.tar.bz2](http://boxen.math.washington.edu/home/cremona/database_stein_watkins-20070827.tar.bz2)

Issue created by migration from https://trac.sagemath.org/ticket/15607





---

archive/issue_comments_198243.json:
```json
{
    "body": "New commits:",
    "created_at": "2013-12-29T14:10:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15370",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15370#issuecomment-198243",
    "user": "cremona"
}
```

New commits:



---

archive/issue_comments_198244.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-12-29T14:12:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15370",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15370#issuecomment-198244",
    "user": "cremona"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_198245.json:
```json
{
    "body": "Note: only the last commit (2bd09e) is not on the dependent #15556.",
    "created_at": "2013-12-29T14:12:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15370",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15370#issuecomment-198245",
    "user": "cremona"
}
```

Note: only the last commit (2bd09e) is not on the dependent #15556.



---

archive/issue_comments_198246.json:
```json
{
    "body": "Again, fix the permissions in the upstream tarballs (should be 0644).",
    "created_at": "2013-12-29T19:12:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15370",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15370#issuecomment-198246",
    "user": "jdemeyer"
}
```

Again, fix the permissions in the upstream tarballs (should be 0644).



---

archive/issue_comments_198247.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-12-29T19:12:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15370",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15370#issuecomment-198247",
    "user": "jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_198248.json:
```json
{
    "body": "Replying to [comment:3 jdemeyer]:\n> Again, fix the permissions in the upstream tarballs (should be 0644).\n\nOops, sorry.  The mini one is done, the big one takes longer...and is now done.",
    "created_at": "2013-12-29T19:40:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15370",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15370#issuecomment-198248",
    "user": "cremona"
}
```

Replying to [comment:3 jdemeyer]:
> Again, fix the permissions in the upstream tarballs (should be 0644).

Oops, sorry.  The mini one is done, the big one takes longer...and is now done.



---

archive/issue_comments_198249.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-12-29T19:58:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15370",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15370#issuecomment-198249",
    "user": "cremona"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_198250.json:
```json
{
    "body": "The checksums must be updated now...",
    "created_at": "2014-01-06T14:36:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15370",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15370#issuecomment-198250",
    "user": "jdemeyer"
}
```

The checksums must be updated now...



---

archive/issue_comments_198251.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-01-06T14:36:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15370",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15370#issuecomment-198251",
    "user": "jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_198252.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-01-06T21:10:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15370",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15370#issuecomment-198252",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198253.json:
```json
{
    "body": "I have updated the checksums.",
    "created_at": "2014-01-06T21:14:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15370",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15370#issuecomment-198253",
    "user": "cremona"
}
```

I have updated the checksums.



---

archive/issue_comments_198254.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-01-06T21:14:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15370",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15370#issuecomment-198254",
    "user": "cremona"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_198255.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-01-07T15:32:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15370",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15370#issuecomment-198255",
    "user": "jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_198256.json:
```json
{
    "body": "The checksums still do not match the tarballs:\n\n```\nFound local metadata for database_stein_watkins_mini-20070827\nFound local sources at /usr/local/src/sage-2217/upstream/database_stein_watkins_mini-20070827.tar.bz2\nChecksum: b4a664687ea7f2f77ae63070e7ba620dde06511c vs 4979191668e7cc8490eda75044435519faab0f9c\nInvalid checksum for /usr/local/src/sage-2217/upstream/database_stein_watkins_mini-20070827.tar.bz2\n```\n\n\n\n```\nFound local metadata for database_stein_watkins-20070827\nFound local sources at /usr/local/src/sage-2217/upstream/database_stein_watkins-20070827.tar.bz2\nChecksum: 8695b291912c4bbf07c5f6619f133b7985de6c83 vs 3cd5b8f38bc45c48b91229b05cb545801f6babcf\nInvalid checksum for /usr/local/src/sage-2217/upstream/database_stein_watkins-20070827.tar.bz2\n```\n",
    "created_at": "2014-01-07T15:32:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15370",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15370#issuecomment-198256",
    "user": "jdemeyer"
}
```

The checksums still do not match the tarballs:

```
Found local metadata for database_stein_watkins_mini-20070827
Found local sources at /usr/local/src/sage-2217/upstream/database_stein_watkins_mini-20070827.tar.bz2
Checksum: b4a664687ea7f2f77ae63070e7ba620dde06511c vs 4979191668e7cc8490eda75044435519faab0f9c
Invalid checksum for /usr/local/src/sage-2217/upstream/database_stein_watkins_mini-20070827.tar.bz2
```



```
Found local metadata for database_stein_watkins-20070827
Found local sources at /usr/local/src/sage-2217/upstream/database_stein_watkins-20070827.tar.bz2
Checksum: 8695b291912c4bbf07c5f6619f133b7985de6c83 vs 3cd5b8f38bc45c48b91229b05cb545801f6babcf
Invalid checksum for /usr/local/src/sage-2217/upstream/database_stein_watkins-20070827.tar.bz2
```




---

archive/issue_comments_198257.json:
```json
{
    "body": "The sha1sums of the tarballs are indeed:\n\n```\njdemeyer@boxen:/home/cremona$ sha1sum database_stein_watkins*2007*.tar*\n3cd5b8f38bc45c48b91229b05cb545801f6babcf  database_stein_watkins-20070827.tar.bz2\n4979191668e7cc8490eda75044435519faab0f9c  database_stein_watkins_mini-20070827.tar.bz2\n```\n",
    "created_at": "2014-01-07T15:37:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15370",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15370#issuecomment-198257",
    "user": "jdemeyer"
}
```

The sha1sums of the tarballs are indeed:

```
jdemeyer@boxen:/home/cremona$ sha1sum database_stein_watkins*2007*.tar*
3cd5b8f38bc45c48b91229b05cb545801f6babcf  database_stein_watkins-20070827.tar.bz2
4979191668e7cc8490eda75044435519faab0f9c  database_stein_watkins_mini-20070827.tar.bz2
```




---

archive/issue_comments_198258.json:
```json
{
    "body": "I discovered that the files on sagemath are not the same as the ones on my machine which explains this discrepancy (since I computed the checksums on my machine).  Now I need to work out which files are correct!  It is rather tedious since (for the large file) both bzip2/bunzip2 and of course the scp take rather a long time.  Be patient...",
    "created_at": "2014-01-07T16:25:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15370",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15370#issuecomment-198258",
    "user": "cremona"
}
```

I discovered that the files on sagemath are not the same as the ones on my machine which explains this discrepancy (since I computed the checksums on my machine).  Now I need to work out which files are correct!  It is rather tedious since (for the large file) both bzip2/bunzip2 and of course the scp take rather a long time.  Be patient...



---

archive/issue_comments_198259.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-01-07T16:49:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15370",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15370#issuecomment-198259",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_198260.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-01-07T16:53:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15370",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15370#issuecomment-198260",
    "user": "cremona"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_198261.json:
```json
{
    "body": "Try this.  I scp's the bz2 files back to home where I reissued the sage-fix-pkg-checksums command.  I think that earlier I had changed some files in the tarball on both my machine and sagemath and done the tar/bzip2 again on sagemath to save the file transfer.  CLearly that does not work even if the directory contents are the same, perhaps because my username is different.  This time I copied the tarballs from sagemath (which you have access to) back before recomputing the checksums.\n\nNot a mistake I'll ever make again, I promise!",
    "created_at": "2014-01-07T16:53:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15370",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15370#issuecomment-198261",
    "user": "cremona"
}
```

Try this.  I scp's the bz2 files back to home where I reissued the sage-fix-pkg-checksums command.  I think that earlier I had changed some files in the tarball on both my machine and sagemath and done the tar/bzip2 again on sagemath to save the file transfer.  CLearly that does not work even if the directory contents are the same, perhaps because my username is different.  This time I copied the tarballs from sagemath (which you have access to) back before recomputing the checksums.

Not a mistake I'll ever make again, I promise!



---

archive/issue_comments_198262.json:
```json
{
    "body": "Replying to [comment:14 cremona]:\n> Try this.  I scp's the bz2 files back to home where I reissued the sage-fix-pkg-checksums command.  I think that earlier I had changed some files in the tarball on both my machine and sagemath and done the tar/bzip2 again on sagemath to save the file transfer.  CLearly that does not work even if the directory contents are the same, perhaps because my username is different.\nAlso timestamps are stored in the tarball, that might matter.",
    "created_at": "2014-01-07T18:22:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15370",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15370#issuecomment-198262",
    "user": "jdemeyer"
}
```

Replying to [comment:14 cremona]:
> Try this.  I scp's the bz2 files back to home where I reissued the sage-fix-pkg-checksums command.  I think that earlier I had changed some files in the tarball on both my machine and sagemath and done the tar/bzip2 again on sagemath to save the file transfer.  CLearly that does not work even if the directory contents are the same, perhaps because my username is different.
Also timestamps are stored in the tarball, that might matter.



---

archive/issue_comments_198263.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-01-07T18:51:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15370",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15370#issuecomment-198263",
    "user": "jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_198264.json:
```json
{
    "body": "Thanks!  I don't expect there to be many updates to this one.",
    "created_at": "2014-01-07T19:42:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15370",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15370#issuecomment-198264",
    "user": "cremona"
}
```

Thanks!  I don't expect there to be many updates to this one.



---

archive/issue_comments_198265.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-01-10T07:29:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15370",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15370#issuecomment-198265",
    "user": "vbraun"
}
```

Resolution: fixed
