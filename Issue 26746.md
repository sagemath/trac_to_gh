# Issue 26746: GAP pexpect interface hangs when xgap is loaded

archive/issues_026746.json:
```json
{
    "body": "CC:  @embray @kiwifb\n\nKeywords: gap\n\nThe pexpect interface hangs when xgap is loaded. That is known, which is why the loading of xgap should be prevented by adding it to `ExcludeFromAutoload`. Unfortunately that doesn't work in all cases, presumably when `xgap` is dependency of another package.\n\nInstead `PackagesToIgnore` should be used, which just pretends the package is not there at all.\n\nIssue created by migration from https://trac.sagemath.org/ticket/26983\n\n",
    "created_at": "2018-12-31T16:34:21Z",
    "labels": [
        "component: interfaces",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "GAP pexpect interface hangs when xgap is loaded",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26746",
    "user": "https://github.com/timokau"
}
```
CC:  @embray @kiwifb

Keywords: gap

The pexpect interface hangs when xgap is loaded. That is known, which is why the loading of xgap should be prevented by adding it to `ExcludeFromAutoload`. Unfortunately that doesn't work in all cases, presumably when `xgap` is dependency of another package.

Instead `PackagesToIgnore` should be used, which just pretends the package is not there at all.

Issue created by migration from https://trac.sagemath.org/ticket/26983





---

archive/issue_comments_375745.json:
```json
{
    "body": "Even if I install gap without `xgap`, I get apparently related failures. For example `PermutationGroup(['(1,2,3)(4,5)', '(3,4)']).order()` will give the `\"this should never happen\"` warning that is thrown when ``@`w GAP is trying to send a Window command` and the interface hangs again.\n\nWhy don't we pass `-A` to sage and then load the necessary packages explicitly?  I see that it was done in 5e61d7b6a0da3aa53d8176fa1fb9353cc559b098 but apparently didn't end up in the final version.",
    "created_at": "2019-01-02T14:42:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26746#issuecomment-375745",
    "user": "https://github.com/timokau"
}
```

Even if I install gap without `xgap`, I get apparently related failures. For example `PermutationGroup(['(1,2,3)(4,5)', '(3,4)']).order()` will give the `"this should never happen"` warning that is thrown when ``@`w GAP is trying to send a Window command` and the interface hangs again.

Why don't we pass `-A` to sage and then load the necessary packages explicitly?  I see that it was done in 5e61d7b6a0da3aa53d8176fa1fb9353cc559b098 but apparently didn't end up in the final version.



---

archive/issue_comments_375746.json:
```json
{
    "body": "Replying to [comment:1 gh-timokau]:\n> Even if I install gap without `xgap`, I get apparently related failures. For example `PermutationGroup(['(1,2,3)(4,5)', '(3,4)']).order()` will give the `\"this should never happen\"` warning that is thrown when ``@`w GAP is trying to send a Window command` and the interface hangs again.\n\nThe \"this should never happen\" warning is somewhat accurate: It really shouldn't happen.  Please make sure to clear any old GAP workspaces.  Also, it could be you're using some outdated, broken version of some package that is evoking xgap-related functionality when it shouldn't.\n\nIt would help if you could give precisely a case where this doesn't work; i.e. narrow it down to a specific package.  Because this problem does not occur for the GAP packages that are packaged as Sage SPKGs for GAP 4.10.\n\n> Why don't we pass `-A` to sage and then load the necessary packages explicitly?  I see that it was done in 5e61d7b6a0da3aa53d8176fa1fb9353cc559b098 but apparently didn't end up in the final version.\n\nThat was discussed and decided against, since not loading any packages by default results in an ostensibly \"broken\" GAP (IMO this does not reflect well on GAP but from the Sage end of things it's better to give the best GAP experience we can so that users don't submit bogus bug reports to the GAP developers when really it's just a question of what settings the GAP installation in Sage uses).",
    "created_at": "2019-01-02T15:31:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26746#issuecomment-375746",
    "user": "https://github.com/embray"
}
```

Replying to [comment:1 gh-timokau]:
> Even if I install gap without `xgap`, I get apparently related failures. For example `PermutationGroup(['(1,2,3)(4,5)', '(3,4)']).order()` will give the `"this should never happen"` warning that is thrown when ``@`w GAP is trying to send a Window command` and the interface hangs again.

The "this should never happen" warning is somewhat accurate: It really shouldn't happen.  Please make sure to clear any old GAP workspaces.  Also, it could be you're using some outdated, broken version of some package that is evoking xgap-related functionality when it shouldn't.

It would help if you could give precisely a case where this doesn't work; i.e. narrow it down to a specific package.  Because this problem does not occur for the GAP packages that are packaged as Sage SPKGs for GAP 4.10.

> Why don't we pass `-A` to sage and then load the necessary packages explicitly?  I see that it was done in 5e61d7b6a0da3aa53d8176fa1fb9353cc559b098 but apparently didn't end up in the final version.

That was discussed and decided against, since not loading any packages by default results in an ostensibly "broken" GAP (IMO this does not reflect well on GAP but from the Sage end of things it's better to give the best GAP experience we can so that users don't submit bogus bug reports to the GAP developers when really it's just a question of what settings the GAP installation in Sage uses).



---

archive/issue_comments_375747.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2019-01-02T15:32:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26746#issuecomment-375747",
    "user": "https://github.com/embray"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_375748.json:
```json
{
    "body": "Replying to [comment:2 embray]:\n> Replying to [comment:1 gh-timokau]:\n> > Even if I install gap without `xgap`, I get apparently related failures. For example `PermutationGroup(['(1,2,3)(4,5)', '(3,4)']).order()` will give the `\"this should never happen\"` warning that is thrown when ``@`w GAP is trying to send a Window command` and the interface hangs again.\n> \n> The \"this should never happen\" warning is somewhat accurate: It really shouldn't happen.  Please make sure to clear any old GAP workspaces.  Also, it could be you're using some outdated, broken version of some package that is evoking xgap-related functionality when it shouldn't.\n\nBuilds and tests happen in a sandbox with a clean $HOME and freshly build gap+pkgs, so that shouldn't be an issue.\n\n> It would help if you could give precisely a case where this doesn't work; i.e. narrow it down to a specific package.  Because this problem does not occur for the GAP packages that are packaged as Sage SPKGs for GAP 4.10.\n\nI can confirm that this doesn't happen if I only install the packages the spkg installs. I'll try to narrow it down to one offending package.\n\n> > Why don't we pass `-A` to sage and then load the necessary packages explicitly?  I see that it was done in 5e61d7b6a0da3aa53d8176fa1fb9353cc559b098 but apparently didn't end up in the final version.\n> \n> That was discussed and decided against, since not loading any packages by default results in an ostensibly \"broken\" GAP (IMO this does not reflect well on GAP but from the Sage end of things it's better to give the best GAP experience we can so that users don't submit bogus bug reports to the GAP developers when really it's just a question of what settings the GAP installation in Sage uses).\n\nBut if the mere presence of packages that are not in the spkg changes gap behaviour, it seems like a nightmare to maintain without explicitly setting the set of loaded packages.",
    "created_at": "2019-01-02T16:54:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26746#issuecomment-375748",
    "user": "https://github.com/timokau"
}
```

Replying to [comment:2 embray]:
> Replying to [comment:1 gh-timokau]:
> > Even if I install gap without `xgap`, I get apparently related failures. For example `PermutationGroup(['(1,2,3)(4,5)', '(3,4)']).order()` will give the `"this should never happen"` warning that is thrown when ``@`w GAP is trying to send a Window command` and the interface hangs again.
> 
> The "this should never happen" warning is somewhat accurate: It really shouldn't happen.  Please make sure to clear any old GAP workspaces.  Also, it could be you're using some outdated, broken version of some package that is evoking xgap-related functionality when it shouldn't.

Builds and tests happen in a sandbox with a clean $HOME and freshly build gap+pkgs, so that shouldn't be an issue.

> It would help if you could give precisely a case where this doesn't work; i.e. narrow it down to a specific package.  Because this problem does not occur for the GAP packages that are packaged as Sage SPKGs for GAP 4.10.

I can confirm that this doesn't happen if I only install the packages the spkg installs. I'll try to narrow it down to one offending package.

> > Why don't we pass `-A` to sage and then load the necessary packages explicitly?  I see that it was done in 5e61d7b6a0da3aa53d8176fa1fb9353cc559b098 but apparently didn't end up in the final version.
> 
> That was discussed and decided against, since not loading any packages by default results in an ostensibly "broken" GAP (IMO this does not reflect well on GAP but from the Sage end of things it's better to give the best GAP experience we can so that users don't submit bogus bug reports to the GAP developers when really it's just a question of what settings the GAP installation in Sage uses).

But if the mere presence of packages that are not in the spkg changes gap behaviour, it seems like a nightmare to maintain without explicitly setting the set of loaded packages.



---

archive/issue_comments_375749.json:
```json
{
    "body": "I can't reproduce the `PermutationGroup` issue right now. Not sure why. I was probably testing some sketchy hack at the time to get things working.\n\nHowever I get plenty of other issues with gap packages:\n\n- `utils-0.59` causes failures of the type\n\n\n```\nsage -t --long /nix/store/gh48l47qc1irys2xpbwf56g2lwa96pcs-sage-src-8.6.beta0/src/sage/libs/gap/element.pyx\n**********************************************************************\nFile \"/nix/store/gh48l47qc1irys2xpbwf56g2lwa96pcs-sage-src-8.6.beta0/src/sage/libs/gap/element.pyx\", line 898, in sage.libs.gap.element.GapElement._sub_\nFailed example:\n    libgap(1) - libgap.CyclicGroup(2)\nExpected:\n    Traceback (most recent call last):\n    ...\n    ValueError: libGAP: Error, no method found!\n    Error, no 1st choice method found for `-' on 2 arguments\nGot:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/nix/store/0jfdqivm0m2d6rap3lk9bbdyxy7fnyz5-python-2.7.15-env/lib/python2.7/site-packages/sage/doctest/forker.py\", line 671, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/nix/store/0jfdqivm0m2d6rap3lk9bbdyxy7fnyz5-python-2.7.15-env/lib/python2.7/site-packages/sag\ne/doctest/forker.py\", line 1086, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.libs.gap.element.GapElement._sub_[4]>\", line 1, in <module>\n        libgap(Integer(1)) - libgap.CyclicGroup(Integer(2))\n      File \"sage/structure/element.pyx\", line 1359, in sage.structure.element.Element.__sub__ (build/cythonized/sage/structure/element.c:11384)\n        return (<Element>left)._sub_(right)\n      File \"sage/libs/gap/element.pyx\", line 911, in sage.libs.gap.element.GapElement._sub_ (build/cythonized/sage/libs/gap/element.c:9584)\n        raise ValueError('libGAP: {}'.format(msg))\n    ValueError: libGAP: Error, no method found! Error, no 1st choice method found for `AdditiveInverseMutable' on 1 arguments\n```\n\n\n- \"io-4.5.4\" causes failures of the type\n\n\n```\nsrc/doc/en/constructions/elliptic_curves.rst\nFailed example:\n    G.permutation_group()\nExpected:\n    Permutation Group with generators [(1,2,3,4,5)]\nGot:\n    #W dlopen() error: /nix/store/6z48grms4hjgyg5ia99lcvyqb27gikwh-gap-4.10.0/shar\\\n    e/gap/build-dir/pkg/io-4.5.4/bin/x86_64-pc-linux-gnu-default64/io.so: undefine\\\n    d symbol: ChangedBags\n    Error, module '/nix/store/6z48grms4hjgyg5ia99lcvyqb27gikwh-gap-4.10.0/share/gap/build\\\n    -dir/pkg/io-4.5.4/bin/x86_64-pc-linux-gnu-default64/io.so' not found\n    Error, was not in any namespace\n    Syntax warning: Unbound global variable in /nix/store/6z48grms4hjgyg5ia99lcvyq\\\n    b27gikwh-gap-4.10.0/share/gap/build-dir/lib/init.g:803\n        ColorPrompt( UserPreference( \"UseColorPrompt\" ) );\n                   ^\n    Error, SetGasmanMessageStatus: function is not yet defined\n    Permutation Group with generators [(1,2,3,4,5)]\n```\n\n\n- \"format-1.4a\", \"Browse\" and others (haven't tested all because that is time\n  consuming) cause a timeout when doing batch imports in\n  `src/sage/libs/gap/assigned_names.py` and\n  `src/sage/libs/gap/all_documented_functions.py`\n\nSo in summary, the pexpect interface only works reliably when just the package\nset the spkg expects is installed. I'm not sure how gap package autoloading\nworks, but apparently some packages are autoloaded when they are available.",
    "created_at": "2019-01-03T12:24:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26746#issuecomment-375749",
    "user": "https://github.com/timokau"
}
```

I can't reproduce the `PermutationGroup` issue right now. Not sure why. I was probably testing some sketchy hack at the time to get things working.

However I get plenty of other issues with gap packages:

- `utils-0.59` causes failures of the type


```
sage -t --long /nix/store/gh48l47qc1irys2xpbwf56g2lwa96pcs-sage-src-8.6.beta0/src/sage/libs/gap/element.pyx
**********************************************************************
File "/nix/store/gh48l47qc1irys2xpbwf56g2lwa96pcs-sage-src-8.6.beta0/src/sage/libs/gap/element.pyx", line 898, in sage.libs.gap.element.GapElement._sub_
Failed example:
    libgap(1) - libgap.CyclicGroup(2)
Expected:
    Traceback (most recent call last):
    ...
    ValueError: libGAP: Error, no method found!
    Error, no 1st choice method found for `-' on 2 arguments
Got:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/nix/store/0jfdqivm0m2d6rap3lk9bbdyxy7fnyz5-python-2.7.15-env/lib/python2.7/site-packages/sage/doctest/forker.py", line 671, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/nix/store/0jfdqivm0m2d6rap3lk9bbdyxy7fnyz5-python-2.7.15-env/lib/python2.7/site-packages/sag
e/doctest/forker.py", line 1086, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.libs.gap.element.GapElement._sub_[4]>", line 1, in <module>
        libgap(Integer(1)) - libgap.CyclicGroup(Integer(2))
      File "sage/structure/element.pyx", line 1359, in sage.structure.element.Element.__sub__ (build/cythonized/sage/structure/element.c:11384)
        return (<Element>left)._sub_(right)
      File "sage/libs/gap/element.pyx", line 911, in sage.libs.gap.element.GapElement._sub_ (build/cythonized/sage/libs/gap/element.c:9584)
        raise ValueError('libGAP: {}'.format(msg))
    ValueError: libGAP: Error, no method found! Error, no 1st choice method found for `AdditiveInverseMutable' on 1 arguments
```


- "io-4.5.4" causes failures of the type


```
src/doc/en/constructions/elliptic_curves.rst
Failed example:
    G.permutation_group()
Expected:
    Permutation Group with generators [(1,2,3,4,5)]
Got:
    #W dlopen() error: /nix/store/6z48grms4hjgyg5ia99lcvyqb27gikwh-gap-4.10.0/shar\
    e/gap/build-dir/pkg/io-4.5.4/bin/x86_64-pc-linux-gnu-default64/io.so: undefine\
    d symbol: ChangedBags
    Error, module '/nix/store/6z48grms4hjgyg5ia99lcvyqb27gikwh-gap-4.10.0/share/gap/build\
    -dir/pkg/io-4.5.4/bin/x86_64-pc-linux-gnu-default64/io.so' not found
    Error, was not in any namespace
    Syntax warning: Unbound global variable in /nix/store/6z48grms4hjgyg5ia99lcvyq\
    b27gikwh-gap-4.10.0/share/gap/build-dir/lib/init.g:803
        ColorPrompt( UserPreference( "UseColorPrompt" ) );
                   ^
    Error, SetGasmanMessageStatus: function is not yet defined
    Permutation Group with generators [(1,2,3,4,5)]
```


- "format-1.4a", "Browse" and others (haven't tested all because that is time
  consuming) cause a timeout when doing batch imports in
  `src/sage/libs/gap/assigned_names.py` and
  `src/sage/libs/gap/all_documented_functions.py`

So in summary, the pexpect interface only works reliably when just the package
set the spkg expects is installed. I'm not sure how gap package autoloading
works, but apparently some packages are autoloaded when they are available.



---

archive/issue_comments_375750.json:
```json
{
    "body": "Replying to [comment:4 gh-timokau]:\n> Replying to [comment:2 embray]:\n> > Replying to [comment:1 gh-timokau]:\n> > > Even if I install gap without `xgap`, I get apparently related failures. For example `PermutationGroup(['(1,2,3)(4,5)', '(3,4)']).order()` will give the `\"this should never happen\"` warning that is thrown when ``@`w GAP is trying to send a Window command` and the interface hangs again.\n> > \n> > The \"this should never happen\" warning is somewhat accurate: It really shouldn't happen.  Please make sure to clear any old GAP workspaces.  Also, it could be you're using some outdated, broken version of some package that is evoking xgap-related functionality when it shouldn't.\n> \n> Builds and tests happen in a sandbox with a clean $HOME and freshly build gap+pkgs, so that shouldn't be an issue.\n\nOne of the packages could still be buggy though, or somehow forcibly loading xgap.  But I'm not sure.\n\n> > That was discussed and decided against, since not loading any packages by default results in an ostensibly \"broken\" GAP (IMO this does not reflect well on GAP but from the Sage end of things it's better to give the best GAP experience we can so that users don't submit bogus bug reports to the GAP developers when really it's just a question of what settings the GAP installation in Sage uses).\n> \n> But if the mere presence of packages that are not in the spkg changes gap behaviour, it seems like a nightmare to maintain without explicitly setting the set of loaded packages.\n\nI agree of course, which is why I went with `-A` originally.  However, there is a default set of packages that are autoloaded, and so the `gap` SPKG includes all of those packages and their dependencies--no more, no less.  So that still gives a reasonably stable baseline as the \"standard\" out-of-the-box GAP experience.\n\nNotably, xgap is *not* one of those packages, nor is it a package we're including in the gap_packages SPKGs.  I had previously added xgap manually and tested with it installed and didn't get it to load.",
    "created_at": "2019-01-03T18:06:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26746#issuecomment-375750",
    "user": "https://github.com/embray"
}
```

Replying to [comment:4 gh-timokau]:
> Replying to [comment:2 embray]:
> > Replying to [comment:1 gh-timokau]:
> > > Even if I install gap without `xgap`, I get apparently related failures. For example `PermutationGroup(['(1,2,3)(4,5)', '(3,4)']).order()` will give the `"this should never happen"` warning that is thrown when ``@`w GAP is trying to send a Window command` and the interface hangs again.
> > 
> > The "this should never happen" warning is somewhat accurate: It really shouldn't happen.  Please make sure to clear any old GAP workspaces.  Also, it could be you're using some outdated, broken version of some package that is evoking xgap-related functionality when it shouldn't.
> 
> Builds and tests happen in a sandbox with a clean $HOME and freshly build gap+pkgs, so that shouldn't be an issue.

One of the packages could still be buggy though, or somehow forcibly loading xgap.  But I'm not sure.

> > That was discussed and decided against, since not loading any packages by default results in an ostensibly "broken" GAP (IMO this does not reflect well on GAP but from the Sage end of things it's better to give the best GAP experience we can so that users don't submit bogus bug reports to the GAP developers when really it's just a question of what settings the GAP installation in Sage uses).
> 
> But if the mere presence of packages that are not in the spkg changes gap behaviour, it seems like a nightmare to maintain without explicitly setting the set of loaded packages.

I agree of course, which is why I went with `-A` originally.  However, there is a default set of packages that are autoloaded, and so the `gap` SPKG includes all of those packages and their dependencies--no more, no less.  So that still gives a reasonably stable baseline as the "standard" out-of-the-box GAP experience.

Notably, xgap is *not* one of those packages, nor is it a package we're including in the gap_packages SPKGs.  I had previously added xgap manually and tested with it installed and didn't get it to load.



---

archive/issue_comments_375751.json:
```json
{
    "body": "Does it matter, from your perspective, if some sage doctests fail depending on which GAP packages are installed?\n\nThe issue with IO is known, for example, and has a fix that just hasn't been included yet since there is no SPKG that installs the IO package.  See comment:424:ticket:22626 and #26930",
    "created_at": "2019-01-03T18:10:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26746#issuecomment-375751",
    "user": "https://github.com/embray"
}
```

Does it matter, from your perspective, if some sage doctests fail depending on which GAP packages are installed?

The issue with IO is known, for example, and has a fix that just hasn't been included yet since there is no SPKG that installs the IO package.  See comment:424:ticket:22626 and #26930



---

archive/issue_comments_375752.json:
```json
{
    "body": "Replying to [comment:6 embray]:\n> > > That was discussed and decided against, since not loading any packages by default results in an ostensibly \"broken\" GAP (IMO this does not reflect well on GAP but from the Sage end of things it's better to give the best GAP experience we can so that users don't submit bogus bug reports to the GAP developers when really it's just a question of what settings the GAP installation in Sage uses).\n> > \n> > But if the mere presence of packages that are not in the spkg changes gap behaviour, it seems like a nightmare to maintain without explicitly setting the set of loaded packages.\n> \n> I agree of course, which is why I went with `-A` originally.  However, there is a default set of packages that are autoloaded, and so the `gap` SPKG includes all of those packages and their dependencies--no more, no less.  So that still gives a reasonably stable baseline as the \"standard\" out-of-the-box GAP experience.\n\nBut why do packages like `utils` and `io` still cause breakage then, if they are not part of the default set of packages that are autoloaded?\n\n> Notably, xgap is *not* one of those packages, nor is it a package we're including in the gap_packages SPKGs.  I had previously added xgap manually and tested with it installed and didn't get it to load.  \n\nYou mean that you cannot reproduce the issue with having xgap installed?\n\n\nReplying to [comment:7 embray]:\n> Does it matter, from your perspective, if some sage doctests fail depending on which GAP packages are installed?\n\nYes it matters. I'd like to maintain 0 doctest failures, so even \"comsetic\" failures matter. I think a testsuite looses a lot of its value if you can't rely on test breakage actually signifying real issues. Also a lot of the failures are not cosmetic but real issues.\n\nWith Nix I could install a separate gap package just for sage that has the expected package set. That is what I've been doing before the update, but using the regular gap package would be much nicer. Also most other package managers don't have that luxury.\n\nIf we are only officially supporting a subset of the available packages, I think we should only ever load that subset (even if more are available).\n\n> The issue with IO is known, for example, and has a fix that just hasn't been included yet since there is no SPKG that installs the IO package.  See comment:424:ticket:22626 and #26930\n\nI just want to clarify that I'm very grateful that you are working on this. I know making big changes like this can be very thankless work because it inevitably breaks someones workflow and you usually only hear complaints afterwards. Thank you, the update was very necessary.",
    "created_at": "2019-01-04T15:42:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26746#issuecomment-375752",
    "user": "https://github.com/timokau"
}
```

Replying to [comment:6 embray]:
> > > That was discussed and decided against, since not loading any packages by default results in an ostensibly "broken" GAP (IMO this does not reflect well on GAP but from the Sage end of things it's better to give the best GAP experience we can so that users don't submit bogus bug reports to the GAP developers when really it's just a question of what settings the GAP installation in Sage uses).
> > 
> > But if the mere presence of packages that are not in the spkg changes gap behaviour, it seems like a nightmare to maintain without explicitly setting the set of loaded packages.
> 
> I agree of course, which is why I went with `-A` originally.  However, there is a default set of packages that are autoloaded, and so the `gap` SPKG includes all of those packages and their dependencies--no more, no less.  So that still gives a reasonably stable baseline as the "standard" out-of-the-box GAP experience.

But why do packages like `utils` and `io` still cause breakage then, if they are not part of the default set of packages that are autoloaded?

> Notably, xgap is *not* one of those packages, nor is it a package we're including in the gap_packages SPKGs.  I had previously added xgap manually and tested with it installed and didn't get it to load.  

You mean that you cannot reproduce the issue with having xgap installed?


Replying to [comment:7 embray]:
> Does it matter, from your perspective, if some sage doctests fail depending on which GAP packages are installed?

Yes it matters. I'd like to maintain 0 doctest failures, so even "comsetic" failures matter. I think a testsuite looses a lot of its value if you can't rely on test breakage actually signifying real issues. Also a lot of the failures are not cosmetic but real issues.

With Nix I could install a separate gap package just for sage that has the expected package set. That is what I've been doing before the update, but using the regular gap package would be much nicer. Also most other package managers don't have that luxury.

If we are only officially supporting a subset of the available packages, I think we should only ever load that subset (even if more are available).

> The issue with IO is known, for example, and has a fix that just hasn't been included yet since there is no SPKG that installs the IO package.  See comment:424:ticket:22626 and #26930

I just want to clarify that I'm very grateful that you are working on this. I know making big changes like this can be very thankless work because it inevitably breaks someones workflow and you usually only hear complaints afterwards. Thank you, the update was very necessary.



---

archive/issue_comments_375753.json:
```json
{
    "body": "Replying to [comment:9 gh-timokau]:\n> Replying to [comment:6 embray]:\n> > > > That was discussed and decided against, since not loading any packages by default results in an ostensibly \"broken\" GAP (IMO this does not reflect well on GAP but from the Sage end of things it's better to give the best GAP experience we can so that users don't submit bogus bug reports to the GAP developers when really it's just a question of what settings the GAP installation in Sage uses).\n> > > \n> > > But if the mere presence of packages that are not in the spkg changes gap behaviour, it seems like a nightmare to maintain without explicitly setting the set of loaded packages.\n> > \n> > I agree of course, which is why I went with `-A` originally.  However, there is a default set of packages that are autoloaded, and so the `gap` SPKG includes all of those packages and their dependencies--no more, no less.  So that still gives a reasonably stable baseline as the \"standard\" out-of-the-box GAP experience.\n> \n> But why do packages like `utils` and `io` still cause breakage then, if they are not part of the default set of packages that are autoloaded?\n\nWell, some packages have \"optional dependencies\" that are nice to have (I think these are usually under `Dependencies.SuggestedOtherPackages` in `PackageInfo.g`) which are not required, but that the package may load if it happens to be present (same as with xgap).  So in this sense I see your problem: Having those packages installed *at all* causes things to break even if they aren't explicitly used.\n\n> > Notably, xgap is *not* one of those packages, nor is it a package we're including in the gap_packages SPKGs.  I had previously added xgap manually and tested with it installed and didn't get it to load.  \n> \n> You mean that you cannot reproduce the issue with having xgap installed?\n\nI cannot--last time I worked on this I had some 140 packages installed and the fix I added was good enough.  I could be wrong though. I haven't tried it since I (supposedly) fixed it.  It remains fixed for all the GAP packages that are installed by Sage SPKGs but that might not be good enough after all.\n\n> Replying to [comment:7 embray]:\n> > Does it matter, from your perspective, if some sage doctests fail depending on which GAP packages are installed?\n> \n> Yes it matters. I'd like to maintain 0 doctest failures, so even \"comsetic\" failures matter. I think a testsuite looses a lot of its value if you can't rely on test breakage actually signifying real issues. Also a lot of the failures are not cosmetic but real issues.\n\nI agree that having 0 doctest failures matters.  I'm just asking if it matters if all tests pass on all conceivable combinations of installed packages on the system?\n\n> With Nix I could install a separate gap package just for sage that has the expected package set. That is what I've been doing before the update, but using the regular gap package would be much nicer. Also most other package managers don't have that luxury.\n\nAgreed.\n\n> If we are only officially supporting a subset of the available packages, I think we should only ever load that subset (even if more are available).\n\nSee above though: That requires somehow forcing other packages not to load optional dependencies.  I'm not sure there's a way to prevent that across the board (other than maybe monkey-patching some things, which is worth a shot...)\n\n> > The issue with IO is known, for example, and has a fix that just hasn't been included yet since there is no SPKG that installs the IO package.  See comment:424:ticket:22626 and #26930\n> \n> I just want to clarify that I'm very grateful that you are working on this. I know making big changes like this can be very thankless work because it inevitably breaks someones workflow and you usually only hear complaints afterwards. Thank you, the update was very necessary.\n\nThanks!",
    "created_at": "2019-01-04T16:14:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26746#issuecomment-375753",
    "user": "https://github.com/embray"
}
```

Replying to [comment:9 gh-timokau]:
> Replying to [comment:6 embray]:
> > > > That was discussed and decided against, since not loading any packages by default results in an ostensibly "broken" GAP (IMO this does not reflect well on GAP but from the Sage end of things it's better to give the best GAP experience we can so that users don't submit bogus bug reports to the GAP developers when really it's just a question of what settings the GAP installation in Sage uses).
> > > 
> > > But if the mere presence of packages that are not in the spkg changes gap behaviour, it seems like a nightmare to maintain without explicitly setting the set of loaded packages.
> > 
> > I agree of course, which is why I went with `-A` originally.  However, there is a default set of packages that are autoloaded, and so the `gap` SPKG includes all of those packages and their dependencies--no more, no less.  So that still gives a reasonably stable baseline as the "standard" out-of-the-box GAP experience.
> 
> But why do packages like `utils` and `io` still cause breakage then, if they are not part of the default set of packages that are autoloaded?

Well, some packages have "optional dependencies" that are nice to have (I think these are usually under `Dependencies.SuggestedOtherPackages` in `PackageInfo.g`) which are not required, but that the package may load if it happens to be present (same as with xgap).  So in this sense I see your problem: Having those packages installed *at all* causes things to break even if they aren't explicitly used.

> > Notably, xgap is *not* one of those packages, nor is it a package we're including in the gap_packages SPKGs.  I had previously added xgap manually and tested with it installed and didn't get it to load.  
> 
> You mean that you cannot reproduce the issue with having xgap installed?

I cannot--last time I worked on this I had some 140 packages installed and the fix I added was good enough.  I could be wrong though. I haven't tried it since I (supposedly) fixed it.  It remains fixed for all the GAP packages that are installed by Sage SPKGs but that might not be good enough after all.

> Replying to [comment:7 embray]:
> > Does it matter, from your perspective, if some sage doctests fail depending on which GAP packages are installed?
> 
> Yes it matters. I'd like to maintain 0 doctest failures, so even "comsetic" failures matter. I think a testsuite looses a lot of its value if you can't rely on test breakage actually signifying real issues. Also a lot of the failures are not cosmetic but real issues.

I agree that having 0 doctest failures matters.  I'm just asking if it matters if all tests pass on all conceivable combinations of installed packages on the system?

> With Nix I could install a separate gap package just for sage that has the expected package set. That is what I've been doing before the update, but using the regular gap package would be much nicer. Also most other package managers don't have that luxury.

Agreed.

> If we are only officially supporting a subset of the available packages, I think we should only ever load that subset (even if more are available).

See above though: That requires somehow forcing other packages not to load optional dependencies.  I'm not sure there's a way to prevent that across the board (other than maybe monkey-patching some things, which is worth a shot...)

> > The issue with IO is known, for example, and has a fix that just hasn't been included yet since there is no SPKG that installs the IO package.  See comment:424:ticket:22626 and #26930
> 
> I just want to clarify that I'm very grateful that you are working on this. I know making big changes like this can be very thankless work because it inevitably breaks someones workflow and you usually only hear complaints afterwards. Thank you, the update was very necessary.

Thanks!



---

archive/issue_comments_375754.json:
```json
{
    "body": "Replying to [comment:10 embray]:\n> > > Notably, xgap is *not* one of those packages, nor is it a package we're including in the gap_packages SPKGs.  I had previously added xgap manually and tested with it installed and didn't get it to load.  \n> > \n> > You mean that you cannot reproduce the issue with having xgap installed?\n> \n> I cannot--last time I worked on this I had some 140 packages installed and the fix I added was good enough.  I could be wrong though. I haven't tried it since I (supposedly) fixed it.  It remains fixed for all the GAP packages that are installed by Sage SPKGs but that might not be good enough after all.\n\nIn my case all packages that ship with the [standard gap tarball](https://www.gap-system.org/pub/gap/gap4/tar.bz2/gap-4.10.0.tar.bz2) are installed.\n\n> > Replying to [comment:7 embray]:\n> > > Does it matter, from your perspective, if some sage doctests fail depending on which GAP packages are installed?\n> > \n> > Yes it matters. I'd like to maintain 0 doctest failures, so even \"comsetic\" failures matter. I think a testsuite looses a lot of its value if you can't rely on test breakage actually signifying real issues. Also a lot of the failures are not cosmetic but real issues.\n> \n> I agree that having 0 doctest failures matters.  I'm just asking if it matters if all tests pass on all conceivable combinations of installed packages on the system?\n\nI'd say yes. If we don't want to support all conceivable combinations we should explicitly restrict that.\n\n> > With Nix I could install a separate gap package just for sage that has the expected package set. That is what I've been doing before the update, but using the regular gap package would be much nicer. Also most other package managers don't have that luxury.\n> \n> Agreed.\n\nI'll probably go that way for 8.6, with it already being in rc phase. Are you still planning to completely replace the pexpect interface with libgap? In that case the problem may solve itself to some degree, as I would expect libgap to be much more resilient to the installed packges.\n\n> > If we are only officially supporting a subset of the available packages, I think we should only ever load that subset (even if more are available).\n> \n> See above though: That requires somehow forcing other packages not to load optional dependencies.  I'm not sure there's a way to prevent that across the board (other than maybe monkey-patching some things, which is worth a shot...)\n\nYeah either monkey patching `SuggestedOtherPackages` or maybe using `PackagesToIgnore` to produce a whitelist. I know nothing about gap, so I don't know if that would be possible.",
    "created_at": "2019-01-04T17:01:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26746#issuecomment-375754",
    "user": "https://github.com/timokau"
}
```

Replying to [comment:10 embray]:
> > > Notably, xgap is *not* one of those packages, nor is it a package we're including in the gap_packages SPKGs.  I had previously added xgap manually and tested with it installed and didn't get it to load.  
> > 
> > You mean that you cannot reproduce the issue with having xgap installed?
> 
> I cannot--last time I worked on this I had some 140 packages installed and the fix I added was good enough.  I could be wrong though. I haven't tried it since I (supposedly) fixed it.  It remains fixed for all the GAP packages that are installed by Sage SPKGs but that might not be good enough after all.

In my case all packages that ship with the [standard gap tarball](https://www.gap-system.org/pub/gap/gap4/tar.bz2/gap-4.10.0.tar.bz2) are installed.

> > Replying to [comment:7 embray]:
> > > Does it matter, from your perspective, if some sage doctests fail depending on which GAP packages are installed?
> > 
> > Yes it matters. I'd like to maintain 0 doctest failures, so even "comsetic" failures matter. I think a testsuite looses a lot of its value if you can't rely on test breakage actually signifying real issues. Also a lot of the failures are not cosmetic but real issues.
> 
> I agree that having 0 doctest failures matters.  I'm just asking if it matters if all tests pass on all conceivable combinations of installed packages on the system?

I'd say yes. If we don't want to support all conceivable combinations we should explicitly restrict that.

> > With Nix I could install a separate gap package just for sage that has the expected package set. That is what I've been doing before the update, but using the regular gap package would be much nicer. Also most other package managers don't have that luxury.
> 
> Agreed.

I'll probably go that way for 8.6, with it already being in rc phase. Are you still planning to completely replace the pexpect interface with libgap? In that case the problem may solve itself to some degree, as I would expect libgap to be much more resilient to the installed packges.

> > If we are only officially supporting a subset of the available packages, I think we should only ever load that subset (even if more are available).
> 
> See above though: That requires somehow forcing other packages not to load optional dependencies.  I'm not sure there's a way to prevent that across the board (other than maybe monkey-patching some things, which is worth a shot...)

Yeah either monkey patching `SuggestedOtherPackages` or maybe using `PackagesToIgnore` to produce a whitelist. I know nothing about gap, so I don't know if that would be possible.



---

archive/issue_events_066923.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:15:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "milestone": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26746#event-66923"
}
```



---

archive/issue_comments_375755.json:
```json
{
    "body": "Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.",
    "created_at": "2019-01-15T18:15:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26746#issuecomment-375755",
    "user": "https://github.com/embray"
}
```

Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.



---

archive/issue_comments_375756.json:
```json
{
    "body": "Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26746#issuecomment-375756",
    "user": "https://github.com/embray"
}
```

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_events_066924.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "milestone": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26746#event-66924"
}
```



---

archive/issue_events_066925.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26746#event-66925"
}
```



---

archive/issue_comments_375757.json:
```json
{
    "body": "Tickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).",
    "created_at": "2019-06-14T14:50:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26746#issuecomment-375757",
    "user": "https://github.com/embray"
}
```

Tickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).



---

archive/issue_events_066926.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:50:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26746#event-66926"
}
```



---

archive/issue_events_066927.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:50:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26746#event-66927"
}
```



---

archive/issue_events_066928.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26746#event-66928"
}
```



---

archive/issue_events_066929.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26746#event-66929"
}
```



---

archive/issue_comments_375758.json:
```json
{
    "body": "Ticket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26746#issuecomment-375758",
    "user": "https://github.com/embray"
}
```

Ticket retargeted after milestone closed



---

archive/issue_comments_375759.json:
```json
{
    "body": "Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.",
    "created_at": "2020-05-01T04:28:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26746#issuecomment-375759",
    "user": "https://github.com/mkoeppe"
}
```

Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.



---

archive/issue_events_066930.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T04:28:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26746#event-66930"
}
```



---

archive/issue_events_066931.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T04:28:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26746#event-66931"
}
```



---

archive/issue_events_066932.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26746#event-66932"
}
```



---

archive/issue_events_066933.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-10-24T20:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26746#event-66933"
}
```



---

archive/issue_comments_375760.json:
```json
{
    "body": "Moving this ticket to 9.4, as it seems unlikely that it will be merged in 9.3, which is in the release candidate stage",
    "created_at": "2021-04-02T20:21:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26746#issuecomment-375760",
    "user": "https://github.com/mkoeppe"
}
```

Moving this ticket to 9.4, as it seems unlikely that it will be merged in 9.3, which is in the release candidate stage



---

archive/issue_events_066934.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T20:21:54Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26746#event-66934"
}
```



---

archive/issue_events_066935.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-04-02T20:21:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26746#event-66935"
}
```



---

archive/issue_events_066936.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26746#event-66936"
}
```



---

archive/issue_events_066937.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26746#event-66937"
}
```



---

archive/issue_comments_375761.json:
```json
{
    "body": "Setting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26746#issuecomment-375761",
    "user": "https://github.com/mkoeppe"
}
```

Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_066938.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26746#event-66938"
}
```



---

archive/issue_events_066939.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26746#event-66939"
}
```



---

archive/issue_comments_375762.json:
```json
{
    "body": "Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.",
    "created_at": "2021-12-18T19:53:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26746#issuecomment-375762",
    "user": "https://github.com/mkoeppe"
}
```

Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.



---

archive/issue_events_066940.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-11T17:19:39Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26746#event-66940"
}
```



---

archive/issue_events_066941.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-11T17:19:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26746#event-66941"
}
```



---

archive/issue_events_066942.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26746#event-66942"
}
```



---

archive/issue_events_066943.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26746",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26746#event-66943"
}
```
