# Issue 11589: Upgrade Cython to 0.15

archive/issues_011589.json:
```json
{
    "body": "Assignee: tbd\n\nCC:  fbissey jpflori\n\nLots of improvements and bug fixes, including generators. http://wiki.cython.org/ReleaseNotes-0.15\n\nIssue created by migration from https://trac.sagemath.org/ticket/11761\n\n",
    "created_at": "2011-08-31T05:14:39Z",
    "labels": [
        "packages: standard",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.8",
    "title": "Upgrade Cython to 0.15",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11589",
    "user": "robertwb"
}
```
Assignee: tbd

CC:  fbissey jpflori

Lots of improvements and bug fixes, including generators. http://wiki.cython.org/ReleaseNotes-0.15

Issue created by migration from https://trac.sagemath.org/ticket/11761





---

archive/issue_comments_130558.json:
```json
{
    "body": "Replying to [ticket:11761 robertwb]:\n> ... including generators.\n\nYeah!",
    "created_at": "2011-08-31T05:33:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130558",
    "user": "leif"
}
```

Replying to [ticket:11761 robertwb]:
> ... including generators.

Yeah!



---

archive/issue_comments_130559.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-08-31T07:33:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130559",
    "user": "robertwb"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_130560.json:
```json
{
    "body": "Attachment [11761-cython-0.15.patch](tarball://root/attachments/some-uuid/ticket11761/11761-cython-0.15.patch) by robertwb created at 2011-08-31 07:33:49\n\nSpkg up at http://sage.math.washington.edu/home/robertwb/cython/cython-0.15.spkg",
    "created_at": "2011-08-31T07:33:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130560",
    "user": "robertwb"
}
```

Attachment [11761-cython-0.15.patch](tarball://root/attachments/some-uuid/ticket11761/11761-cython-0.15.patch) by robertwb created at 2011-08-31 07:33:49

Spkg up at http://sage.math.washington.edu/home/robertwb/cython/cython-0.15.spkg



---

archive/issue_comments_130561.json:
```json
{
    "body": "Note that 0.15.1 is around the corner, but it's not as big of a jump.",
    "created_at": "2011-09-16T09:25:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130561",
    "user": "robertwb"
}
```

Note that 0.15.1 is around the corner, but it's not as big of a jump.



---

archive/issue_comments_130562.json:
```json
{
    "body": "Would 0.15.1 require additional changes to Sage?",
    "created_at": "2011-09-16T09:50:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130562",
    "user": "leif"
}
```

Would 0.15.1 require additional changes to Sage?



---

archive/issue_comments_130563.json:
```json
{
    "body": "Just FYI, 0.15.1 is now released.",
    "created_at": "2011-10-02T03:44:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130563",
    "user": "jason"
}
```

Just FYI, 0.15.1 is now released.



---

archive/issue_comments_130564.json:
```json
{
    "body": "Replying to [comment:7 jason]:\n> Just FYI, 0.15.1 is now released.\n\nOh, did you tell Robert?\n\n(Although he said *\"it's not as big of a jump\"*.)",
    "created_at": "2011-10-02T04:14:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130564",
    "user": "leif"
}
```

Replying to [comment:7 jason]:
> Just FYI, 0.15.1 is now released.

Oh, did you tell Robert?

(Although he said *"it's not as big of a jump"*.)



---

archive/issue_comments_130565.json:
```json
{
    "body": "Replying to [comment:8 leif]:\n> Replying to [comment:7 jason]:\n> > Just FYI, 0.15.1 is now released.\n> \n> Oh, did you tell Robert?\n\nOh, I'm sure he knows, since he's the BFDL for Cython, if there is such a position ;).\n\n> \n> (Although he said *\"it's not as big of a jump\"*.)",
    "created_at": "2011-10-02T04:56:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130565",
    "user": "jason"
}
```

Replying to [comment:8 leif]:
> Replying to [comment:7 jason]:
> > Just FYI, 0.15.1 is now released.
> 
> Oh, did you tell Robert?

Oh, I'm sure he knows, since he's the BFDL for Cython, if there is such a position ;).

> 
> (Although he said *"it's not as big of a jump"*.)



---

archive/issue_comments_130566.json:
```json
{
    "body": "Replying to [comment:9 jason]:\n> Replying to [comment:8 leif]:\n> > Replying to [comment:7 jason]:\n> > > Just FYI, 0.15.1 is now released.\n> > \n> > Oh, did you tell Robert?\n> \n> Oh, I'm sure he knows, since he's the BFDL for Cython, if there is such a position ;).\n\nI was just kidding.\n\n(Wonder whether he updates the spkg... :P)",
    "created_at": "2011-10-02T05:35:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130566",
    "user": "leif"
}
```

Replying to [comment:9 jason]:
> Replying to [comment:8 leif]:
> > Replying to [comment:7 jason]:
> > > Just FYI, 0.15.1 is now released.
> > 
> > Oh, did you tell Robert?
> 
> Oh, I'm sure he knows, since he's the BFDL for Cython, if there is such a position ;).

I was just kidding.

(Wonder whether he updates the spkg... :P)



---

archive/issue_comments_130567.json:
```json
{
    "body": ":)",
    "created_at": "2011-10-02T05:36:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130567",
    "user": "leif"
}
```

:)



---

archive/issue_comments_130568.json:
```json
{
    "body": "No further patches needed for 0.15.1.",
    "created_at": "2011-10-04T06:35:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130568",
    "user": "robertwb"
}
```

No further patches needed for 0.15.1.



---

archive/issue_comments_130569.json:
```json
{
    "body": "Attachment [11761-cython-0.15-rebased.patch](tarball://root/attachments/some-uuid/ticket11761/11761-cython-0.15-rebased.patch) by jdemeyer created at 2011-10-31 12:25:55",
    "created_at": "2011-10-31T12:25:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130569",
    "user": "jdemeyer"
}
```

Attachment [11761-cython-0.15-rebased.patch](tarball://root/attachments/some-uuid/ticket11761/11761-cython-0.15-rebased.patch) by jdemeyer created at 2011-10-31 12:25:55



---

archive/issue_comments_130570.json:
```json
{
    "body": "Attachment [cython-0.15.1.diff](tarball://root/attachments/some-uuid/ticket11761/cython-0.15.1.diff) by jdemeyer created at 2011-10-31 12:30:06\n\nDiff for the new Cython spkg, for review only",
    "created_at": "2011-10-31T12:30:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130570",
    "user": "jdemeyer"
}
```

Attachment [cython-0.15.1.diff](tarball://root/attachments/some-uuid/ticket11761/cython-0.15.1.diff) by jdemeyer created at 2011-10-31 12:30:06

Diff for the new Cython spkg, for review only



---

archive/issue_comments_130571.json:
```json
{
    "body": "Minor comment: `spkg-install` is not executable (I know it is made executable upon building, but better fix this in the spkg anyway).",
    "created_at": "2011-10-31T12:31:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130571",
    "user": "jdemeyer"
}
```

Minor comment: `spkg-install` is not executable (I know it is made executable upon building, but better fix this in the spkg anyway).



---

archive/issue_comments_130572.json:
```json
{
    "body": "Why is the directory `tests` missing from the Cython source?  This should either be fixed, or be documented.",
    "created_at": "2011-10-31T12:34:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130572",
    "user": "jdemeyer"
}
```

Why is the directory `tests` missing from the Cython source?  This should either be fixed, or be documented.



---

archive/issue_comments_130573.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-10-31T12:34:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130573",
    "user": "jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_130574.json:
```json
{
    "body": "What should be done with:\n\n```\ncdef mpz_t denom\nmpz_init_set_si(denom, 1)\n```\n\nThis code is correct but gives a `local variable 'denom' referenced before assignment` warning.\n(there are many of these in `sage/matrix/misc.pyx` for example)",
    "created_at": "2011-10-31T13:33:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130574",
    "user": "jdemeyer"
}
```

What should be done with:

```
cdef mpz_t denom
mpz_init_set_si(denom, 1)
```

This code is correct but gives a `local variable 'denom' referenced before assignment` warning.
(there are many of these in `sage/matrix/misc.pyx` for example)



---

archive/issue_comments_130575.json:
```json
{
    "body": "This new Cython really gives *a lot* more warnings than the old one, in many cases for code which is perfectly fine.  For me, this isn't really a problem, but it is certainly annoying.",
    "created_at": "2011-10-31T15:33:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130575",
    "user": "jdemeyer"
}
```

This new Cython really gives *a lot* more warnings than the old one, in many cases for code which is perfectly fine.  For me, this isn't really a problem, but it is certainly annoying.



---

archive/issue_comments_130576.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-11-01T06:03:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130576",
    "user": "robertwb"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_130577.json:
```json
{
    "body": "I've fixed the executable bit on spkg-install and added the tests to the spkg. (I remember someone complaining way back that they were too big, but I don't think it's an issue and we've regularly shipped them before, and it's easier to just have them there.) The spkg at the above link has been refreshed. \n\nThe warnings are primarily due to the fact that `mpz_t` et al are declared as `void*` rather than arrays of size 1. http://hg.sagemath.org/sage-main/file/2a2abbcad325/sage/libs/gmp/types.pxd#l1 Once this is fixed the warnings should go away (and they are correct with respect to the current declarations). All the other warnings I've noticed are correct too, I simply haven't had the time to fix/update Sage's code.\n\nYour review patch looks fine. You obviously looked at this, is the window closed for 4.7.2?",
    "created_at": "2011-11-01T06:03:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130577",
    "user": "robertwb"
}
```

I've fixed the executable bit on spkg-install and added the tests to the spkg. (I remember someone complaining way back that they were too big, but I don't think it's an issue and we've regularly shipped them before, and it's easier to just have them there.) The spkg at the above link has been refreshed. 

The warnings are primarily due to the fact that `mpz_t` et al are declared as `void*` rather than arrays of size 1. http://hg.sagemath.org/sage-main/file/2a2abbcad325/sage/libs/gmp/types.pxd#l1 Once this is fixed the warnings should go away (and they are correct with respect to the current declarations). All the other warnings I've noticed are correct too, I simply haven't had the time to fix/update Sage's code.

Your review patch looks fine. You obviously looked at this, is the window closed for 4.7.2?



---

archive/issue_comments_130578.json:
```json
{
    "body": "Replying to [comment:20 robertwb]:\n> Your review patch looks fine.\nIn fact, it doesn't.  I removed one line too much, fixed now.\n\n> You obviously looked at this, is the window closed for 4.7.2?\nThis will certainly not be merged in sage-4.7.2.",
    "created_at": "2011-11-01T08:26:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130578",
    "user": "jdemeyer"
}
```

Replying to [comment:20 robertwb]:
> Your review patch looks fine.
In fact, it doesn't.  I removed one line too much, fixed now.

> You obviously looked at this, is the window closed for 4.7.2?
This will certainly not be merged in sage-4.7.2.



---

archive/issue_comments_130579.json:
```json
{
    "body": "Attachment [11761_review.patch](tarball://root/attachments/some-uuid/ticket11761/11761_review.patch) by jdemeyer created at 2011-11-01 08:29:27\n\nReplying to [comment:20 robertwb]:\n> The warnings are primarily due to the fact that `mpz_t` et al are declared as `void*` rather than arrays of size 1. http://hg.sagemath.org/sage-main/file/2a2abbcad325/sage/libs/gmp/types.pxd#l1 Once this is fixed the warnings should go away (and they are correct with respect to the current declarations).\n\nIf there is an easy way to fix this, then we should do this.  I'm saying we should fix every single warning but if it is possible to declare `mpz_t` such that there are no warnings, we should certainly do this.",
    "created_at": "2011-11-01T08:29:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130579",
    "user": "jdemeyer"
}
```

Attachment [11761_review.patch](tarball://root/attachments/some-uuid/ticket11761/11761_review.patch) by jdemeyer created at 2011-11-01 08:29:27

Replying to [comment:20 robertwb]:
> The warnings are primarily due to the fact that `mpz_t` et al are declared as `void*` rather than arrays of size 1. http://hg.sagemath.org/sage-main/file/2a2abbcad325/sage/libs/gmp/types.pxd#l1 Once this is fixed the warnings should go away (and they are correct with respect to the current declarations).

If there is an easy way to fix this, then we should do this.  I'm saying we should fix every single warning but if it is possible to declare `mpz_t` such that there are no warnings, we should certainly do this.



---

archive/issue_comments_130580.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-11-01T08:29:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130580",
    "user": "jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_130581.json:
```json
{
    "body": "Of course, that should have been \"I'm **not** saying we should fix every single warning\"",
    "created_at": "2011-11-01T08:30:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130581",
    "user": "jdemeyer"
}
```

Of course, that should have been "I'm **not** saying we should fix every single warning"



---

archive/issue_comments_130582.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2011-11-01T08:50:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130582",
    "user": "jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_130583.json:
```json
{
    "body": "Replying to [comment:20 robertwb]:\n> I've fixed the executable bit on spkg-install and added the tests to the spkg.\n\nOne more thing: changing permissions is a change which should be committed.  So could you please do a `hg commit` and re-upload the spkg?  Otherwise, the package and patch looks good.",
    "created_at": "2011-11-01T08:50:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130583",
    "user": "jdemeyer"
}
```

Replying to [comment:20 robertwb]:
> I've fixed the executable bit on spkg-install and added the tests to the spkg.

One more thing: changing permissions is a change which should be committed.  So could you please do a `hg commit` and re-upload the spkg?  Otherwise, the package and patch looks good.



---

archive/issue_comments_130584.json:
```json
{
    "body": "Milestone sage-4.7.3 deleted",
    "created_at": "2011-11-03T16:14:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130584",
    "user": "jdemeyer"
}
```

Milestone sage-4.7.3 deleted



---

archive/issue_comments_130585.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-11-05T05:52:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130585",
    "user": "robertwb"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_130586.json:
```json
{
    "body": "Spkg updated with executable bit set commit.",
    "created_at": "2011-11-05T05:52:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130586",
    "user": "robertwb"
}
```

Spkg updated with executable bit set commit.



---

archive/issue_comments_130587.json:
```json
{
    "body": "Yes, I agree these warnings should be fixed. #11992 .",
    "created_at": "2011-11-05T06:14:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130587",
    "user": "robertwb"
}
```

Yes, I agree these warnings should be fixed. #11992 .



---

archive/issue_comments_130588.json:
```json
{
    "body": "Replying to [comment:26 robertwb]:\n> Spkg updated with executable bit set commit.\nLooks you forgot to update the spkg, it is exactly the same as before (last modified on 1 november):\n\n```\n$ ls -l /home/robertwb/cython/spkg/cython-0.15.1.spkg\n-rw-r--r-- 1 robertwb robertwb 1420704 2011-11-01 06:57 /home/robertwb/cython/spkg/cython-0.15.1.spkg\n```\n\n\nNever mind, I will make the change.",
    "created_at": "2011-11-05T13:20:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130588",
    "user": "jdemeyer"
}
```

Replying to [comment:26 robertwb]:
> Spkg updated with executable bit set commit.
Looks you forgot to update the spkg, it is exactly the same as before (last modified on 1 november):

```
$ ls -l /home/robertwb/cython/spkg/cython-0.15.1.spkg
-rw-r--r-- 1 robertwb robertwb 1420704 2011-11-01 06:57 /home/robertwb/cython/spkg/cython-0.15.1.spkg
```


Never mind, I will make the change.



---

archive/issue_comments_130589.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-11-05T13:22:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130589",
    "user": "jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_130590.json:
```json
{
    "body": "Oops, I put it at \n\n\n```\nrobertwb@sage:~/cython$ ls -l /home/robertwb/cython/cython-0.15.1.spkg \n-rw-r--r-- 1 robertwb robertwb 1412114 2011-11-04 22:51 /home/robertwb/cython/cython-0.15.1.spkg\n```\n\n\nThat's what comes of getting too little sleep. Go ahead and use that one (or if you've already done the trivial change, even better.)",
    "created_at": "2011-11-05T16:19:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130590",
    "user": "robertwb"
}
```

Oops, I put it at 


```
robertwb@sage:~/cython$ ls -l /home/robertwb/cython/cython-0.15.1.spkg 
-rw-r--r-- 1 robertwb robertwb 1412114 2011-11-04 22:51 /home/robertwb/cython/cython-0.15.1.spkg
```


That's what comes of getting too little sleep. Go ahead and use that one (or if you've already done the trivial change, even better.)



---

archive/issue_comments_130591.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-11-07T10:12:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130591",
    "user": "jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_130592.json:
```json
{
    "body": "Sorry to be late to the party. I get an error building the optional mpc extension in 4.8.alpha2 and I suspect cython-0.15.1 is the problem\n\n```\nsage/rings/complex_mpc.c: In function '__pyx_pf_4sage_5rings_11complex_mpc_15MPComplexNumber_16__float__':\nsage/rings/complex_mpc.c:9720:48: error: cast specifies array type\n```\n\nI am guessing the complex_mpc.pyx code needs to be updated but I don't really know how.",
    "created_at": "2011-11-24T22:17:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11589#issuecomment-130592",
    "user": "fbissey"
}
```

Sorry to be late to the party. I get an error building the optional mpc extension in 4.8.alpha2 and I suspect cython-0.15.1 is the problem

```
sage/rings/complex_mpc.c: In function '__pyx_pf_4sage_5rings_11complex_mpc_15MPComplexNumber_16__float__':
sage/rings/complex_mpc.c:9720:48: error: cast specifies array type
```

I am guessing the complex_mpc.pyx code needs to be updated but I don't really know how.
