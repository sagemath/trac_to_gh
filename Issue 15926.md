# Issue 15926: Fix converion from AA to RealField()

Issue created by migration from https://trac.sagemath.org/ticket/16163

Original creator: tmonteil

Original creation time: 2014-04-14 21:11:03

Assignee: tmonteil

CC:  vdelecroix

Keywords: mpfr, RIF

As discussed in #16120, the conversion from `AA` to `RR` is not accurate:


```
sage: UCF.<E> = UniversalCyclotomicField()
sage: e = AA(3/2*E(7) + E(7)^3 + E(7)^4 + 3/2*E(7)^6)
sage: RR(e).exact_rational() - e
1.328?e-17
sage: RR(e).nextbelow().exact_rational() - e
-6.0?e-19
```


The aim of this ticket is to fix this.



---

Comment by vdelecroix created at 2015-04-11 23:19:42

Why should it be accurate? The documentation of the method `real_number` is

```
Given a ``RealField``, compute a good approximation to self in
that field. The approximation will be off by at most two
ulp's, except for numbers which are very close to 0, which
will have an absolute error at most
``2**(-(field.prec()-1))``. Also, the rounding mode of the
field is respected.
```

