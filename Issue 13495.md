# Issue 13495: Another bug in graph products....

Issue created by migration from Trac.

Original creator: ncohen

Original creation time: 2012-11-11 01:10:59

Assignee: jason, ncohen, rlm

CC:  dcoudert

The bug was found by Geoff Tims. It has been introduced in #12791, exactly as already spotted in #13091.

After loops and multiple edges, I begin to hate directed graphs now.

I *HATE* to see Sage return wrong answers. HATE it.

Nathann


---

Comment by ncohen created at 2012-11-11 01:16:37

I re-read the other products changed by #12791. They look fine.

God, I HATE it.


---

Attachment


---

Comment by ncohen created at 2012-11-11 01:23:03

Changing status from new to needs_review.


---

Comment by dcoudert created at 2012-11-11 09:10:21

Changing status from needs_review to needs_work.


---

Comment by dcoudert created at 2012-11-11 09:10:21

Sorry about that. It means that the doctests were not sufficient to identify the error.

The patch is working, passes all tests, and the documentation is correctly build.
However, could you add an extra doctest to check that strong product is the union of tensor and cartesian products. This is working correctly with this patch but not without this patch.


Something else: I'm pretty sure that this part http://trac.sagemath.org/sage_trac/attachment/ticket/12791/trac_12791-edge-iterator.patch of patch #12791 has not been included in Sage since most of the graph product functions are without iterators. Don't know what to do.


---

Comment by ncohen created at 2012-11-11 10:30:50

Patch updated.

> Something else: I'm pretty sure that this part http://trac.sagemath.org/sage_trac/attachment/ticket/12791/trac_12791-edge-iterator.patch of patch #12791 has not been included in Sage since most of the graph product functions are without iterators. Don't know what to do.

Yep, it hasn't. Well, the only thing to do is to ask Jeroen I guess.

Nathann


---

Comment by ncohen created at 2012-11-11 10:30:50

Changing status from needs_work to needs_review.


---

Attachment

The third patch from #12791, which hasnot been merged into Sage, could not be applied anymore after this patch. I just rebased it on top of this ticket and added after trac_13699.patch.

Nathann


---

Comment by ncohen created at 2012-11-11 10:40:43

Well, no need to ask Jeroen anymore. I had begun to send him an email, but as the file needed to be rebased anyway...`:-)`

Nathann


---

Comment by dcoudert created at 2012-11-11 11:02:58

Changing status from needs_review to positive_review.


---

Comment by dcoudert created at 2012-11-11 11:02:58

Thanks Nathann. It's now working properly.


---

Comment by jdemeyer created at 2012-11-17 08:56:22

Resolution: fixed
