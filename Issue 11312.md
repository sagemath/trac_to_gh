# Issue 11312: Sage optional package installs are very fragile -- need improvement or alternative

Issue created by migration from https://trac.sagemath.org/ticket/11484

Original creator: ijstokes

Original creation time: 2011-06-14 18:39:11

Assignee: GeorgSWeber

I just tried installing a bunch of optional packages, not surprisingly (for me) I used:

for pkg in pkg1 pkg2 ... pkgN; do
  sage -i $pkg
done | tee pkg-install.log

Some of these packages didn't install properly.  No problem, I thought.  I won't use them or I'll try to fix them later.

No such luck.  My sage build is screwed, and I'm told there is no good way to back-out the install.  It is hard to believe that the build/install process doesn't check that the package(s) built properly before putting them into Sage (lib, bin, site-packages, etc.) directories, but I'm told this is true.  There appears to be no reliable way for me to back these out now.

What is the request?  Either 1) that the process is improved to avoid this situation; or ii) that an alternative package management system is put in place.  For the second point, someone provided me a link to this April 2011 sage-devel discussion topic:

https://groups.google.com/d/topic/sage-devel/XFJn3jGVBG8/discussion

Thanks,

Ian


---

Comment by ijstokes created at 2011-06-17 13:26:46

There was some discussion about this on #sagemath and wstein explained how this didn't even make sense, since an SPKG could do "rm -Rf /".  I assume that any SPKG that is included as one of the listed optional or experimental SPKGs has gone through at least *some* kind of installation test before it is added to that list.  If that is the case, then my suggestions can be condensed to these two points:

1) That all listed packages (optional and experimental) have a trial install on at least one common Linux variant and one common OS X version (10.5 or 10.6).  This would prevent the "rm -Rf /" type of SPKG being listed.

2) That there be some kind of "uninstall" process to remove a package.  If a single uninstall command is too much, then a documented process that is better than "read the SPKG details and work backwards" would still be helpful.

Ian


---

Comment by jdemeyer created at 2013-12-29 23:37:50

You need to specify _which package_ is problematic, otherwise this ticket will need to be closed as invalid because it's too vague.


---

Comment by jdemeyer created at 2013-12-29 23:37:50

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2013-12-29 23:38:06

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-01-04 04:24:33

Resolution: invalid
