# Issue 16016: Introduce final_word_out

Issue created by migration from Trac.

Original creator: skropf

Original creation time: 2014-04-27 18:40:07

CC:  dkrenn cheuberg

Keywords: finite_state_machine

See also #16191.

Introduce `FSMState.final_word_out` in order to accomodate subsequential transducers in this package. A transducer is said to be subsequential if it is deterministic, every state
is final and it has a final output word for each final state, i.e., when reading an input and reaching some final state along some path, then the final output word of this state is appended to the output labels collected along the path.

This will facilitate various transducers, e.g., when we currently have to read a sufficiently large number of zeros in order to flush some more output.

Only final states can have a final output word. 



---

Comment by skropf created at 2014-04-28 07:06:25

Changing status from new to needs_review.


---

Comment by cheuberg created at 2014-04-28 12:19:10

I reviewed this earlier and added a couple of rather minor changes at that time:

* [77a9bbe](http://git.sagemath.org/sage.git/commit/?id=77a9bbe84b6fff9a8ef530d3786d06264f37db93) `is_final`/`final_output_word`: minor changes during review
* [35518c1](http://git.sagemath.org/sage.git/commit/?id=35518c122f798bb4baf5c48b6e1e85edf9513893) `FSM._final_word_out`: move initialization of private attribute to `__init__`
* [0469d11](http://git.sagemath.org/sage.git/commit/?id=0469d11d6d267ce2b34f4ebb9610bb22f499fd68) reworded `ValueError` (joined sentences)
* [df6f9fb](http://git.sagemath.org/sage.git/commit/?id=df6f9fb81cb5af8e4599d42402fec4f53ef95560) reviewer patch: line breaks in documentation
* [bbe0866](http://git.sagemath.org/sage.git/commit/?id=bbe08665bb5210b4d6365f09dd76b4d671ab6084) reworded two docstrings
* [21392c5](http://git.sagemath.org/sage.git/commit/?id=21392c5654e857c534bd812219665953841ad073) added doctests to `FSMState.deepcopy` to check that deepcopy of a property works

Please confirm cross-review.


---

Comment by dkrenn created at 2014-05-02 12:23:45

Made a couple of minor changes and rewritings. The remaining part is a positive_review for me. Please cross-review and feel free to give it a positive review.
----
New commits:


---

Comment by skropf created at 2014-05-05 11:59:04

Changing status from needs_review to positive_review.


---

Comment by skropf created at 2014-05-05 11:59:04

For me everything is fine. As suggested, I give it a positive review.


---

Comment by vbraun created at 2014-05-12 19:32:44

Resolution: fixed
