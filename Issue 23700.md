# Issue 23700: Setup remote CI service

Issue created by migration from https://trac.sagemath.org/ticket/23937

Original creator: kprichter

Original creation time: 2017-09-28 22:09:06

GitLab is a free (as in speech) code platform to which sage could mirror (2 clicks) in order to profit from the CI service (free for FLOSS projects). You can also connect your own machines in case you need to things tested faster. It allows to detect build and test failures early and verify the validity of build instructions on a bunch of systems.

I propose a basic CI script for Ubuntu 14.04, 16.04, 17.04 and 17.10 [which works](https://gitlab.com/krichter/sage/-/jobs/34421190). [GitLab](GitLab) CI works with docker images, so the list of possible OS to test on is basically endless.


---

Attachment

This doesn't actually seem to work due to the 2 hour time limit. Are we allowed to use multiple processors?


---

Comment by jdemeyer created at 2017-10-13 08:34:52

And use ccache?


---

Comment by kprichter created at 2017-10-13 15:07:59

>  This doesn't actually seem to work due to the 2 hour time limit. Are we allowed to use multiple processors?

GitLab CI allows to use arbitrary so-called builder and in case the free builders aren't sufficient there're paid plans which most likely increase resources and timeout or the possibility to run your own machine(s) at home with all the possibilities of parallelization and clustering which come with Docker - if all Sage core developers ship in with their desktops and laptops you might find yourself with an improvised CI server farm for free.

> And use ccache?

It's a program that can be installed into Docker. It might have a very limited effect because the docker images are thrown away after each build.


---

Comment by jdemeyer created at 2017-10-13 15:16:45

Replying to [comment:3 kprichter]:
> > And use ccache?
> 
> It's a program that can be installed into Docker. It might have a very limited effect because the docker images are thrown away after each build.

And there is no way to keep persistent data, like in Travis CI? This would make an important difference.


---

Comment by kprichter created at 2017-10-13 15:29:34

>  And there is no way to keep persistent data, like in Travis CI? This would make an important difference. 

Maybe. You can create your own Docker image which already has the data in it after booting the container.


---

Comment by embray created at 2018-09-10 16:23:47

Unfortunate that I never saw this ticket before.  Nevertheless, this is basically now done, albeit a little more complex than the specific solution proposed here: #24655


---

Comment by embray created at 2018-09-10 16:23:47

Resolution: duplicate
