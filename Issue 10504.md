# Issue 10504: local/bin/gphelp has hardcoded path that is not reset when sage is moved

Issue created by migration from Trac.

Original creator: mariah

Original creation time: 2011-01-04 16:34:13

Assignee: tdb

line 46 of local/bin/gphelp (from GP/PARI)

```
$datadir=...
```

has a hardcoded path that is not reset when the sage install tree is moved.


---

Comment by mariah created at 2011-01-04 16:34:41

Changing type from PLEASE CHANGE to defect.


---

Comment by jdemeyer created at 2011-01-09 01:21:13

patch to be added to the PARI spkg


---

Attachment

The patch should be trivial, it should look something like the attachment.  I have not tested this.  There is progress towards a new PARI spkg at #10430, I guess the patch should be included there.


---

Comment by jdemeyer created at 2011-01-09 01:22:59

Changing keywords from "" to "pari gphelp".


---

Attachment

I added a missing semicolon. Other than that it looks good. I've tested it and it works, too. So I'm giving it a positive review, but since you say it should be added to #10430 I'll leave it to you how to proceed.


---

Comment by wjp created at 2011-01-09 02:24:44

P.S. I should note that in a standard sage environment this variable `datadir` is never actually used since `GPDOCDIR` takes precedence.


---

Comment by jdemeyer created at 2011-01-09 06:47:34

Replying to [comment:4 wjp]:
> P.S. I should note that in a standard sage environment this variable `datadir` is never actually used since `GPDOCDIR` takes precedence.

So essentially you're saying that the bug is a non-bug?  If `GPDOCDIR` really takes precedence and if `GPDOCDIR` is always set in Sage, then I see no reason to "fix" anything.


---

Comment by jdemeyer created at 2011-01-09 06:55:31

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2011-01-09 06:55:31

I tested it by renaming a Sage directory and the `gp` help works perfectly fine.  So I propose to close this ticket as invalid.


---

Comment by was created at 2011-01-09 19:13:06

Resolution: invalid


---

Comment by was created at 2011-01-09 19:13:06

yep.
