# Issue 32153: Make "./configure --enable-editable" the default

Issue created by migration from https://trac.sagemath.org/ticket/32390

Original creator: mkoeppe

Original creation time: 2021-08-17 18:00:39

CC:  @kliem jhpalmieri

This has been available since 9.3, has been improved in 9.4, and is ready for general consumption

https://wiki.sagemath.org/ReleaseTours/sage-9.3#Editable_.28.22in-place.22.2C_.22develop.22.29_installs_of_the_Sage_library


---

Comment by dimpase created at 2021-08-17 20:20:43

I'd also make "enable-dowload-from-upstream-url" default


---

Comment by @kliem created at 2021-08-17 20:24:26

Replying to [comment:1 dimpase]:
> I'd also make "enable-dowload-from-upstream-url" default

-1

Just downloading something from some url and installling it is something, I would want to be notified about. I think it is opt-in and not opt-out.

(I opted in, but I still think this is a choice, a user has to make.)


---

Comment by dimpase created at 2021-08-21 20:05:59

Replying to [comment:2 gh-kliem]:
> Replying to [comment:1 dimpase]:
> > I'd also make "enable-dowload-from-upstream-url" default
> 
> -1
> 
> Just downloading something from some url and installling it is something, I would want to be notified about. I think it is opt-in and not opt-out.

it's checking the checksums.
Why would you trust Sage mirrors more - do you think that 
our checksums are not secure?


> 
> (I opted in, but I still think this is a choice, a user has to make.)


---

Comment by mkoeppe created at 2021-08-22 00:31:19

I have rededicated this ticket to the topic of discussion taking place in the comments.


---

Comment by mkoeppe created at 2022-01-23 02:52:36

As a compromise, we could also do a yes/no prompt when `--enable-dowload-from-upstream-url` has not been used; just like we do when experimental packages are to be installed


---

Comment by dimpase created at 2022-08-24 11:53:49

just make it default. The only security problem here would be a rogue branch with checksums verifying a rogue package. It's only very marginally less secure than packages from our mirrors.


---

Comment by jhpalmieri created at 2022-08-30 18:55:34

I agree that it should be the default. As long as we maintain the practice of keeping our own copies of current versions of package tarballs on Sage mirrors (and I think we _should_ maintain this), then this will only affect developers testing a new release of some package. The security problems are pretty small, I think.

Regarding "Just downloading something from some url and installing it is something, I would want to be notified about", I think that occasionally we miss a package and so this happens anyway. Maybe we've patched something to prevent this? Do any of the github actions (or similar) test building Sage without an internet connection?


---

Comment by jhpalmieri created at 2022-11-23 06:27:16

Time to revisit this?


---

Comment by mkoeppe created at 2022-11-23 06:57:42

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2022-11-23 06:57:42

New commits:


---

Comment by mkoeppe created at 2022-11-23 07:02:34

Changing status from needs_review to needs_work.


---

Comment by git created at 2022-11-23 07:05:06

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2022-11-23 07:05:46

Changing status from needs_work to needs_review.


---

Comment by mkoeppe created at 2022-11-23 07:08:02

Replying to [comment:12 John Palmieri]:
> Regarding "Just downloading something from some url and installing it is something, I would want to be notified about", I think that occasionally we miss a package and so this happens anyway.

Yes, we have a GH Actions workflow (`release_dist`) that checks that at least all standard packages exist on the mirror (because `make dist` downloads them all and puts them in the sdist tarball). We do not have such a check for optional packages.


---

Comment by dimpase created at 2022-11-23 21:06:04

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2022-11-23 21:06:04

this works


---

Comment by mkoeppe created at 2022-11-23 21:07:25

Thank you!


---

Comment by vbraun created at 2022-12-03 00:46:28

Changing status from positive_review to needs_work.


---

Comment by vbraun created at 2022-12-03 00:46:28

Merge failure on top of:

34266283ab5 Trac #29360: change_ring() should preserve sparsity of vectors and vector spaces

1f56ce0e9d7 Trac #27652: parent of plethysm

019537d9929 Trac #34693: Further support for matplotlib 3.6

59e9f7b4f01 Trac #34658: Update numpy to 1.23.5, scipy 1.9.3, networkx 2.8.8, meson_python 0.11.0

6d03a671290 Trac #34593: Document and manage temporary directories

454290087ec Trac #33842: Upgrade python to 3.11

f53f07a063f Trac #34766: GH Actions: Update actions

795383fbdc9 Trac #34728: change sorting for WeierstrassIsomorphism

2cec793d624 Trac #33562: Bad error message for weighted adjacency matrix

3670306d20f Trac #34740: dead hyperlinks in developer manual

9666ae7ced6 Trac #34722: some code cleanup in WeierstrassIsomorphism

f41abf6243d Trac #34759: some details in filtered simplicial complexes

dfc299ba564 Trac #34756: Documentation regarding setting up SageMath's Jupyter kernel in an existing installation points to wrong directory

513a7bc6a9c Trac #34753: fix all W391 in pyx files

7503e42cf2f Trac #34751: Update sage tutorial

623ea7446d3 Trac #34745: modernize super in algebras/ again

f2fa7597737 Trac #34741: OS X 13: filter out dylib warning

a4748c342ab Trac #34738: tiny details in symbolic min and max

fb213dfda77 Trac #34769: use libgap in simplicial_complex

01beb6a1069 Trac #34765: meson: Add spkg-configure.m4

d94c7334140 Trac #34762: Fix random chain complex doctest

b3398f0543d Trac #34761: Remove src/sage/libs/fes.pyx

3c42a395c22 Trac #34754: Remove module-level imports from sage.plot

0d120581338 Trac #34569: Fix some quasimodular forms rings methods for congruence subgroups

84f02afa5c8 Updated [SageMath](SageMath) version to 9.8.beta4



merge was not clean: conflicts in .github/workflows/dist.yml


---

Comment by git created at 2022-12-03 03:32:25

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2022-12-03 03:32:43

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2022-12-14 22:12:34

Resolution: fixed
