# Issue 20763: wrong result for pari minpoly

archive/issues_020763.json:
```json
{
    "body": "CC:  @jdemeyer jpflori\n\n```\nsage: R.<x> = ZZ[]\nsage: q = x^24 - 12*x^23 + 70*x^22 - 264*x^21 + 757*x^20 - 1872*x^19 + 4258*x^18 - 8796*x^17 + 15922*x^16 - 24900*x^15 + 33886*x^14 - 40608*x^13 + 43117*x^12 - 40608*x^11 + 33886*x^10 - 24900*x^9 + 15922*x^8 - 8796*x^7 + 4258*x^6 - 1872*x^5 + 757*x^4 - 264*x^3 + 70*x^2 - 12*x + 1\nsage: pari(1).Mod(q).minpoly()\nx - 1\nsage: pari(1+x-x).Mod(q).minpoly()\nx\n```\nThis is reproducible in a gp console\n\n```\n? q = x^24 - 12*x^23 + 70*x^22 - 264*x^21 + 757*x^20 - 1872*x^19 + 4258*x^18 - 8796*x^17 + 15922*x^16 - 24900*x^15 + 33886*x^14 - 40608*x^13 + 43117*x^12 - 40608*x^11 + 33886*x^10 - 24900*x^9 + 15922*x^8 - 8796*x^7 + 4258*x^6 - 1872*x^5 + 757*x^4 - 264*x^3 + 70*x^2 - 12*x + 1;\n? minpoly(Mod(1, q))\n%2 = x - 1\n? minpoly(Mod(1+x-x, q))\n%3 = x\n```\nWhereas it was fine in the release 2.7.2. of pari.\n\nOriginal report on sage-devel mailing list\n\n    https://groups.google.com/forum/#!topic/sage-devel/GfanbBRor6M\n\nUpstream bug report\n\n    http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1832\n\nIssue created by migration from https://trac.sagemath.org/ticket/21000\n\n",
    "closed_at": "2017-01-21T18:03:11Z",
    "created_at": "2016-07-11T17:46:50Z",
    "labels": [
        "component: interfaces",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "wrong result for pari minpoly",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20763",
    "user": "https://github.com/videlec"
}
```
CC:  @jdemeyer jpflori

```
sage: R.<x> = ZZ[]
sage: q = x^24 - 12*x^23 + 70*x^22 - 264*x^21 + 757*x^20 - 1872*x^19 + 4258*x^18 - 8796*x^17 + 15922*x^16 - 24900*x^15 + 33886*x^14 - 40608*x^13 + 43117*x^12 - 40608*x^11 + 33886*x^10 - 24900*x^9 + 15922*x^8 - 8796*x^7 + 4258*x^6 - 1872*x^5 + 757*x^4 - 264*x^3 + 70*x^2 - 12*x + 1
sage: pari(1).Mod(q).minpoly()
x - 1
sage: pari(1+x-x).Mod(q).minpoly()
x
```
This is reproducible in a gp console

```
? q = x^24 - 12*x^23 + 70*x^22 - 264*x^21 + 757*x^20 - 1872*x^19 + 4258*x^18 - 8796*x^17 + 15922*x^16 - 24900*x^15 + 33886*x^14 - 40608*x^13 + 43117*x^12 - 40608*x^11 + 33886*x^10 - 24900*x^9 + 15922*x^8 - 8796*x^7 + 4258*x^6 - 1872*x^5 + 757*x^4 - 264*x^3 + 70*x^2 - 12*x + 1;
? minpoly(Mod(1, q))
%2 = x - 1
? minpoly(Mod(1+x-x, q))
%3 = x
```
Whereas it was fine in the release 2.7.2. of pari.

Original report on sage-devel mailing list

    https://groups.google.com/forum/#!topic/sage-devel/GfanbBRor6M

Upstream bug report

    http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=1832

Issue created by migration from https://trac.sagemath.org/ticket/21000





---

archive/issue_comments_286437.json:
```json
{
    "body": "Changing component from algebra to interfaces.",
    "created_at": "2016-07-11T18:02:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20763#issuecomment-286437",
    "user": "https://github.com/videlec"
}
```

Changing component from algebra to interfaces.



---

archive/issue_comments_286438.json:
```json
{
    "body": "It is fixed upstream (from commit `40cb3fea`).",
    "created_at": "2016-07-11T21:01:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20763#issuecomment-286438",
    "user": "https://github.com/videlec"
}
```

It is fixed upstream (from commit `40cb3fea`).



---

archive/issue_comments_286439.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-11-15T13:25:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20763#issuecomment-286439",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_286440.json:
```json
{
    "body": "Now fixed in the version we ship.",
    "created_at": "2016-11-15T13:25:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20763#issuecomment-286440",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Now fixed in the version we ship.



---

archive/issue_events_056155.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2016-11-15T13:25:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/20763",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20763#event-56155"
}
```



---

archive/issue_comments_286441.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-11-15T13:25:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20763#issuecomment-286441",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_286442.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2017-01-21T18:03:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20763#issuecomment-286442",
    "user": "https://github.com/vbraun"
}
```

Resolution: invalid



---

archive/issue_events_056156.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-01-21T18:03:11Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/20763",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/20763#event-56156"
}
```
