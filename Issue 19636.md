# Issue 19636: update giac spkg

archive/issues_019636.json:
```json
{
    "body": "update the giac spkg to the current upstream stable version: 1.2.2-17\n\nThe tarball built from spkg-src to put in upstream/ can be downloaded at\n\nhttp://webusers2.imj-prg.fr/~frederic.han/xcas/sage/giac-1.2.2.17.tar.gz\n\nIssue created by migration from https://trac.sagemath.org/ticket/19873\n\n",
    "created_at": "2016-01-12T15:17:12Z",
    "labels": [
        "PLEASE CHANGE",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.2",
    "title": "update giac spkg",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19636",
    "user": "frederichan"
}
```
update the giac spkg to the current upstream stable version: 1.2.2-17

The tarball built from spkg-src to put in upstream/ can be downloaded at

http://webusers2.imj-prg.fr/~frederic.han/xcas/sage/giac-1.2.2.17.tar.gz

Issue created by migration from https://trac.sagemath.org/ticket/19873





---

archive/issue_comments_269849.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to packages: optional.",
    "created_at": "2016-01-12T15:18:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269849",
    "user": "frederichan"
}
```

Changing component from PLEASE CHANGE to packages: optional.



---

archive/issue_comments_269850.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-01-27T10:36:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269850",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_269851.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-02-01T13:27:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269851",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_269852.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-02-03T09:39:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269852",
    "user": "frederichan"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_269853.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-02-04T11:53:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269853",
    "user": "frederichan"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_269854.json:
```json
{
    "body": "I have found that eliminate is slower with this version of giac\nhttp://xcas.e.ujf-grenoble.fr/XCAS/viewtopic.php?f=3&t=1694\nso I put this in needwork state to wait if this can be easily fixed.",
    "created_at": "2016-02-04T11:53:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269854",
    "user": "frederichan"
}
```

I have found that eliminate is slower with this version of giac
http://xcas.e.ujf-grenoble.fr/XCAS/viewtopic.php?f=3&t=1694
so I put this in needwork state to wait if this can be easily fixed.



---

archive/issue_comments_269855.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-02-07T13:28:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269855",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_269856.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-02-15T09:32:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269856",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_269857.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-03-25T09:36:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269857",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_269858.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-03-25T13:12:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269858",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_269859.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-03-25T13:18:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269859",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_269860.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-03-25T13:28:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269860",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_269861.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-03-27T08:15:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269861",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_269862.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-03-27T10:46:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269862",
    "user": "frederichan"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_269863.json:
```json
{
    "body": "I just tried to install the package and ran into\n\n```\n$ sage -p giacpy\nFound local metadata for giacpy-0.5.3\nUsing cached file /opt/sage/upstream/giacpy-0.5.3.tar.gz\ngiacpy-0.5.3\n====================================================\nSetting up build directory for giacpy-0.5.3\nmv: cannot stat 'giacpy-0.5.3*': No such file or directory\nFinished set up\n****************************************************\n```\n",
    "created_at": "2016-03-29T20:37:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269863",
    "user": "vdelecroix"
}
```

I just tried to install the package and ran into

```
$ sage -p giacpy
Found local metadata for giacpy-0.5.3
Using cached file /opt/sage/upstream/giacpy-0.5.3.tar.gz
giacpy-0.5.3
====================================================
Setting up build directory for giacpy-0.5.3
mv: cannot stat 'giacpy-0.5.3*': No such file or directory
Finished set up
****************************************************
```




---

archive/issue_comments_269864.json:
```json
{
    "body": "and the built doesn't start after this message?\nwith 7.1.beta6 I have also this message but the built start. Is it a problem that the tarball giacpy-0.5.3.tar.gz looks like this:\n\n```\ntar -tzf giacpy-0.5.3.tar.gz \nsrc/\nsrc/exemple.sage\nsrc/giacpy.pyx\nsrc/misc.h\nsrc/sage-release.txt\nsrc/README.txt\nsrc/INSTALL.txt\nsrc/setup.py\nsrc/giacpy.pxd\nsrc/keywords.pxi\n```\n",
    "created_at": "2016-03-29T21:57:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269864",
    "user": "frederichan"
}
```

and the built doesn't start after this message?
with 7.1.beta6 I have also this message but the built start. Is it a problem that the tarball giacpy-0.5.3.tar.gz looks like this:

```
tar -tzf giacpy-0.5.3.tar.gz 
src/
src/exemple.sage
src/giacpy.pyx
src/misc.h
src/sage-release.txt
src/README.txt
src/INSTALL.txt
src/setup.py
src/giacpy.pxd
src/keywords.pxi
```




---

archive/issue_comments_269865.json:
```json
{
    "body": "with 7.2.beta1 I have doctest failure due to\n\n```\n    doctest:858: DeprecationWarning: when constructing a matrix, the ring must be the first argument\n    See http://trac.sagemath.org/20015 for details.\n\n```\n",
    "created_at": "2016-03-30T05:25:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269865",
    "user": "frederichan"
}
```

with 7.2.beta1 I have doctest failure due to

```
    doctest:858: DeprecationWarning: when constructing a matrix, the ring must be the first argument
    See http://trac.sagemath.org/20015 for details.

```




---

archive/issue_comments_269866.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-03-30T05:25:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269866",
    "user": "frederichan"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_269867.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-03-31T17:37:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269867",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_269868.json:
```json
{
    "body": "Replying to [comment:23 frederichan]:\n> and the built doesn't start after this message?\n> with 7.1.beta6 I have also this message but the built start. Is it a problem that the tarball giacpy-0.5.3.tar.gz looks like this:\n> {{{\n> tar -tzf giacpy-0.5.3.tar.gz \n> src/\n> src/exemple.sage\n> src/giacpy.pyx\n> src/misc.h\n> src/sage-release.txt\n> src/README.txt\n> src/INSTALL.txt\n> src/setup.py\n> src/giacpy.pxd\n> src/keywords.pxi\n> }}}\n\nIt does. The thing is that the sage install script is starting with the command `tar xf PKG` and then `mv PKG_DIR/ src/`. It would be better if the archive name would take the same name as the directory. It would be less error-prone.",
    "created_at": "2016-03-31T18:30:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269868",
    "user": "vdelecroix"
}
```

Replying to [comment:23 frederichan]:
> and the built doesn't start after this message?
> with 7.1.beta6 I have also this message but the built start. Is it a problem that the tarball giacpy-0.5.3.tar.gz looks like this:
> {{{
> tar -tzf giacpy-0.5.3.tar.gz 
> src/
> src/exemple.sage
> src/giacpy.pyx
> src/misc.h
> src/sage-release.txt
> src/README.txt
> src/INSTALL.txt
> src/setup.py
> src/giacpy.pxd
> src/keywords.pxi
> }}}

It does. The thing is that the sage install script is starting with the command `tar xf PKG` and then `mv PKG_DIR/ src/`. It would be better if the archive name would take the same name as the directory. It would be less error-prone.



---

archive/issue_comments_269869.json:
```json
{
    "body": "Following the \"Short usage\" example on your webpage I got two warnings (sage-7.2.beta1):\n\n```\nsage: import giacpy\n...: DeprecationWarning: import \"cysignals/signals.pxi\" instead\nof \"sage/ext/interrupt.pxi\"\nSee http://trac.sagemath.org/20002 for details.\n```\n\nand\n\n```\nsage: f.diff()\n...: DeprecationWarning: DisplayFormatter._ipython_display_formatter_default\nis deprecated: use @default decorator instead.\n15*(x+y+z+1)^14\n```\n",
    "created_at": "2016-03-31T19:36:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269869",
    "user": "vdelecroix"
}
```

Following the "Short usage" example on your webpage I got two warnings (sage-7.2.beta1):

```
sage: import giacpy
...: DeprecationWarning: import "cysignals/signals.pxi" instead
of "sage/ext/interrupt.pxi"
See http://trac.sagemath.org/20002 for details.
```

and

```
sage: f.diff()
...: DeprecationWarning: DisplayFormatter._ipython_display_formatter_default
is deprecated: use @default decorator instead.
15*(x+y+z+1)^14
```




---

archive/issue_comments_269870.json:
```json
{
    "body": "Replying to [comment:28 vdelecroix]:\n> Following the \"Short usage\" example on your webpage I got two warnings (sage-7.2.beta1):\n...\n> {{{\n> sage: f.diff()\n> ...: DeprecationWarning: DisplayFormatter._ipython_display_formatter_default\n> is deprecated: use `@`default decorator instead.\n> 15*(x+y+z+1)^14\n> }}}\nI have no idea to fix this warning. It looks similar to #20206. NB it looks to appear only once. (ie doing another f.diff() is OK)",
    "created_at": "2016-04-01T06:14:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269870",
    "user": "frederichan"
}
```

Replying to [comment:28 vdelecroix]:
> Following the "Short usage" example on your webpage I got two warnings (sage-7.2.beta1):
...
> {{{
> sage: f.diff()
> ...: DeprecationWarning: DisplayFormatter._ipython_display_formatter_default
> is deprecated: use `@`default decorator instead.
> 15*(x+y+z+1)^14
> }}}
I have no idea to fix this warning. It looks similar to #20206. NB it looks to appear only once. (ie doing another f.diff() is OK)



---

archive/issue_comments_269871.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-04-01T08:18:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269871",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_269872.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-04-01T08:19:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269872",
    "user": "frederichan"
}
```

New commits:



---

archive/issue_comments_269873.json:
```json
{
    "body": "NB: the current 1.2.2.37 giac tar ball that I have made with spkg-src also expand as src. So I am waiting for 1.2.2.39 release (parisse said next week) to fix this.",
    "created_at": "2016-04-01T12:56:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269873",
    "user": "frederichan"
}
```

NB: the current 1.2.2.37 giac tar ball that I have made with spkg-src also expand as src. So I am waiting for 1.2.2.39 release (parisse said next week) to fix this.



---

archive/issue_comments_269874.json:
```json
{
    "body": "The examples from your webpage in the section \" Syntaxes with reserved or unknown Python symbols\" do not work. There is no `assume`, `cos`, `sin`, `solve` or `fMax` imported from giacpy\n\n```\nsage: from giacpy import *\n// Giac share root-directory:/opt/sage/local/share/giac/\n// Giac share root-directory:/opt/sage/local/share/giac/\nHelp file /opt/sage/local/share/giac/doc/fr/aide_cas not found\nAdded 0 synonyms\nsage: solve.__module__\n'sage.symbolic.relation'\nsage: sin.__module__\n'sage.functions.trig'\nsage: cos.__module__\n'sage.functions.trig'\nsage: assume.__module__\n'sage.symbolic.assumptions'\n```\n",
    "created_at": "2016-04-01T13:46:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269874",
    "user": "vdelecroix"
}
```

The examples from your webpage in the section " Syntaxes with reserved or unknown Python symbols" do not work. There is no `assume`, `cos`, `sin`, `solve` or `fMax` imported from giacpy

```
sage: from giacpy import *
// Giac share root-directory:/opt/sage/local/share/giac/
// Giac share root-directory:/opt/sage/local/share/giac/
Help file /opt/sage/local/share/giac/doc/fr/aide_cas not found
Added 0 synonyms
sage: solve.__module__
'sage.symbolic.relation'
sage: sin.__module__
'sage.functions.trig'
sage: cos.__module__
'sage.functions.trig'
sage: assume.__module__
'sage.symbolic.assumptions'
```




---

archive/issue_comments_269875.json:
```json
{
    "body": "I think that you are looking at the doc of the Python version of giacpy. It differs from the sage version (gmp, avoid conflics with SR...)\nSimilar doc is available with\n\n```\nlibgiac?\n```\n",
    "created_at": "2016-04-01T16:42:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269875",
    "user": "frederichan"
}
```

I think that you are looking at the doc of the Python version of giacpy. It differs from the sage version (gmp, avoid conflics with SR...)
Similar doc is available with

```
libgiac?
```




---

archive/issue_comments_269876.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2016-04-01T17:33:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269876",
    "user": "vdelecroix"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_269877.json:
```json
{
    "body": "All right. I was able to run the doctests after decompressing the archive\n\n```\n$ sage -t --long --force-lib exemple.sage giacpy.pyx\nDoctesting 2 files.\nsage -t --long exemple.sage\n    [0 tests, 0.00 s]\nsage -t --long giacpy.pyx\n    [221 tests, 23.89 s]\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 24.0 seconds\n    cpu time: 24.0 seconds\n    cumulative wall time: 23.9 seconds\n```\n\nThis is good enough for this version...\n\n\nThough\n\n1. you should think about fitting Sage conventions for doctests:\n\n   - `a = b` instead of `a=b` for affectation\n\n   - no semicolon at the end of the statement\n\n2. The way the two packages are organized do not follow the Sage conventions, see [Packaging from the developer manual](http://doc.sagemath.org/html/en/developer/packaging.html). In particular, it would be good to have a test suite for giac. And to explicit the dependencies of the packages.",
    "created_at": "2016-04-01T17:33:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269877",
    "user": "vdelecroix"
}
```

All right. I was able to run the doctests after decompressing the archive

```
$ sage -t --long --force-lib exemple.sage giacpy.pyx
Doctesting 2 files.
sage -t --long exemple.sage
    [0 tests, 0.00 s]
sage -t --long giacpy.pyx
    [221 tests, 23.89 s]
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 24.0 seconds
    cpu time: 24.0 seconds
    cumulative wall time: 23.9 seconds
```

This is good enough for this version...


Though

1. you should think about fitting Sage conventions for doctests:

   - `a = b` instead of `a=b` for affectation

   - no semicolon at the end of the statement

2. The way the two packages are organized do not follow the Sage conventions, see [Packaging from the developer manual](http://doc.sagemath.org/html/en/developer/packaging.html). In particular, it would be good to have a test suite for giac. And to explicit the dependencies of the packages.



---

archive/issue_comments_269878.json:
```json
{
    "body": "Replying to [comment:36 vdelecroix]:\n> All right. I was able to run the doctests after decompressing the archive\n> {{{\n> $ sage -t --long --force-lib exemple.sage giacpy.pyx\n> Doctesting 2 files.\n> sage -t --long exemple.sage\n>     [0 tests, 0.00 s]\n> sage -t --long giacpy.pyx\n>     [221 tests, 23.89 s]\n> ----------------------------------------------------------------------\n> All tests passed!\n> ----------------------------------------------------------------------\n> Total time for all tests: 24.0 seconds\n>     cpu time: 24.0 seconds\n>     cumulative wall time: 23.9 seconds\n> }}}\n> This is good enough for this version...\n\nThank you \n> \n> \n> Though\n> \n...\n> 2. The way the two packages are organized do not follow the Sage conventions, see [Packaging from the developer manual](http://doc.sagemath.org/html/en/developer/packaging.html). In particular, it would be good to have a test suite for giac. And to explicit the dependencies of the packages.\nI don't understand,\n\n```\nenv SAGE_CHECK=yes make giac\n```\n\nhas a long test suite, and build/pkgs/giac and giacpy have both a dependencies file.\n\nhttp://git.sagemath.org/sage.git/tree/build/pkgs/giac?id=98506d3754ddb14ca4548d644b2ed6b7a2d2a5d7 \n\nhttp://git.sagemath.org/sage.git/tree/build/pkgs/giacpy?id=98506d3754ddb14ca4548d644b2ed6b7a2d2a5d7\n\nNB: running the giacpy testsuite is not enough for a review because some sage doctests have the # optional - giac or giacpy flag.\n\n```\nsrc/sage/interfaces/giac.py\nsrc/sage/matrix/matrix1.pyx \nsrc/sage/modules/free_module_element.pyx \nsrc/sage/symbolic/expression.pyx \nsrc/sage/calculus/calculus.py\nsrc/sage/libs/giac.py\nsrc/sage/rings/polynomial/multi_polynomial_ideal.py\n```\n",
    "created_at": "2016-04-02T07:33:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269878",
    "user": "frederichan"
}
```

Replying to [comment:36 vdelecroix]:
> All right. I was able to run the doctests after decompressing the archive
> {{{
> $ sage -t --long --force-lib exemple.sage giacpy.pyx
> Doctesting 2 files.
> sage -t --long exemple.sage
>     [0 tests, 0.00 s]
> sage -t --long giacpy.pyx
>     [221 tests, 23.89 s]
> ----------------------------------------------------------------------
> All tests passed!
> ----------------------------------------------------------------------
> Total time for all tests: 24.0 seconds
>     cpu time: 24.0 seconds
>     cumulative wall time: 23.9 seconds
> }}}
> This is good enough for this version...

Thank you 
> 
> 
> Though
> 
...
> 2. The way the two packages are organized do not follow the Sage conventions, see [Packaging from the developer manual](http://doc.sagemath.org/html/en/developer/packaging.html). In particular, it would be good to have a test suite for giac. And to explicit the dependencies of the packages.
I don't understand,

```
env SAGE_CHECK=yes make giac
```

has a long test suite, and build/pkgs/giac and giacpy have both a dependencies file.

http://git.sagemath.org/sage.git/tree/build/pkgs/giac?id=98506d3754ddb14ca4548d644b2ed6b7a2d2a5d7 

http://git.sagemath.org/sage.git/tree/build/pkgs/giacpy?id=98506d3754ddb14ca4548d644b2ed6b7a2d2a5d7

NB: running the giacpy testsuite is not enough for a review because some sage doctests have the # optional - giac or giacpy flag.

```
src/sage/interfaces/giac.py
src/sage/matrix/matrix1.pyx 
src/sage/modules/free_module_element.pyx 
src/sage/symbolic/expression.pyx 
src/sage/calculus/calculus.py
src/sage/libs/giac.py
src/sage/rings/polynomial/multi_polynomial_ideal.py
```




---

archive/issue_comments_269879.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-04-02T09:59:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19636",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19636#issuecomment-269879",
    "user": "vbraun"
}
```

Resolution: fixed
