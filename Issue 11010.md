# Issue 11010: documentation of p-adic L-function  order_of_vanishing is very wrong

Issue created by migration from Trac.

Original creator: was

Original creation time: 2011-04-09 18:21:08

Assignee: was


```
To: Chris Wuthrich
From: William Stein

We have a function order_of_vanishing  on p-adic L-functions with docstring:

-------------
Definition:     L.order_of_vanishing(self)
Source:
   def order_of_vanishing(self):
       r"""
       Return the order of vanishing of this `p`-adic L-series.

       The output of this function is provably correct, due to a
       theorem of Kato [Ka].  This function will terminate if and only if
       the Mazur-Tate-Teitelbaum analogue [MTT] of the BSD conjecture about
       the rank of the curve is true and the subgroup of elements of
       `p`-power order in the Tate-Shafarevich group of this curve is
       finite.  I.e. if this function terminates (with no errors!),
       then you may conclude that the `p`-adic BSD rank conjecture is
       true and that the `p`-part of Sha is finite.

-------------

The actual code doesn't call p-adic regulator anywhere.  However, in
our paper we claim that not only does
one have to verify that the order of vanishing of the analytic p-adic
L-function equals the rank of the curve,
but one also needs that the p-adic regulator is nonzero, in order to
get the claimed conclusion that Sha is finite.
That makes sense to me, since I don't think Schneider gets anywhere
without knowing the height pairing
is nondegenerate.

So... is this a bug... I guess only in the documentation.  We could
simply add to the documentation that if
you call this function, get a number, and then *also* call
padic_regulator and get a nonzero number, then
you can conclude that Sha(p) is finite.

William
----

From: Chris Wuthrich
To: William Stein

I agree that the documentation is wrong. I would simply delete to
mention Sha at all. This is probably better explained in p_primary
bound. So a reference to this function could be included.

Chris.
```





---

Comment by was created at 2011-04-09 18:26:10

Changing status from new to needs_review.


---

Comment by was created at 2011-04-09 18:26:10

The attached patch is ready for review.  It does *nothing* but changed the docstring for the order_of_vanishing function, by deleting the offending and incorrect paragraph, and a related incorrect doctest.  I also added a rank 2 and rank 3 doctest to replace having deleted a rank 2 doctest.


---

Attachment

Yes, this looks fine. (However: William, would you mind using the more specific trac ticket categories "elliptic curves", "modular forms", etc, rather than just bunging everything in "number theory"?)


---

Comment by davidloeffler created at 2011-04-10 08:06:13

Changing status from needs_review to positive_review.


---

Comment by davidloeffler created at 2011-04-10 08:06:13

Changing component from number theory to elliptic curves.


---

Comment by was created at 2011-04-11 18:54:48

It turns out that we were confused.  However, I think the ticket should still go in as is, since it's well... confusing have theorems without references stated left and right in docstrings.  

```
> Now I'm confused again.  Theorem 6.1 in our paper says:
>
>  "The order of vanishing of f_E(T) at T = 0 is at least equal to the rank r. It
> is equal to r if and only if the p-adic height pairing is nondegenerate (Conjec-
> ture 4.1) and the p-primary part of the Tate-Shafarevich group X(E=Q)(p) is
> fi nite (Conjecture 1.2)."
>
> I'm assuming here that p>=5 is good ordinary.
>
> By Kato we know that f_e(T) divides L_p(E,T).     For example, if E(Q)
> has rank r, and we compute and find that L_p(E,T) vanishes to order
> <=r, that proves that f_E(T) vanishes to order <= r, hence f_E(T)
> vanishes to order exactly r at T=0.    This implies that the p-adic
> height pairing is nondegenerate and Sha(E/Q)(p) is finite.
>
> That said, I think the trac ticket is fine as is, since we probably
> shouldn't have docstrings with theorems like that in them anyways.
> (The new version is simple and clear.)
>
> I guess this means that if my project was only showing that
> Sha(E/Q)(p) is *finite* for many curves, the only calculation I have
> to do is of L_p(E,T) to enough precision to determine a good enough
> upper bound on the order of vanishing.   Computing the p-adic
> regulator isn't necessary.  That said, I did them all already, and
> having them will provide an excellent *double check* on the results,
> via p-adic BSD, and is also needed to show that Sha(E/Q)(p) = 0, and
> not just that Sha(E/Q)(p) is finite.
>
> If you agree with the above, I should post something to the trac
> ticket for the record.    (I won't make another patch.)

Ooops, yes everything you say is correct. And I agree with your
conclusion. The confusion is all mine, sorry. It is a long time I have
not thought about shark.

The finiteness of Sha comes indeed very easily and without having to
compute p-adic regulators. But I still think that the possibility of
computing the order is the great thing. We can prove Hasse principles
for curves, without having to compute any Galois cohomology groups.
```



---

Comment by jdemeyer created at 2011-04-12 08:05:25

Resolution: fixed
