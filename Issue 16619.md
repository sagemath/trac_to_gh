# Issue 16619: Doctest for src/sage/tests/cmdline.py

archive/issues_016619.json:
```json
{
    "body": "Assignee: mkamalakshya\n\nCC:  @tscrim @vbraun @KPanComputes\n\nThe doctest for cmdline.py fails. On executing the command \n'$ sage -t src/sage/tests/cmdline.py' gives the following output \n\n```\nRunning doctests with ID 2014-08-20-08-24-47-4a78a370.\nDoctesting 2 files.\nsage -t --warn-long 12.6 12.5\n    IOError in doctesting framework\n**********************************************************************\nTraceback (most recent call last):\n  File \"/home/kamalakshya/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 2121, in __call__\n    doctests, extras = self.source.create_doctests(sage_namespace)\n  File \"/home/kamalakshya/sage/local/lib/python2.7/site-packages/sage/doctest/sources.py\", line 652, in create_doctests\n    raise IOError(errno.ENOENT, \"File does not exist\", self.path)\nIOError: [Errno 2] File does not exist: '12.5'\n\nsage -t --warn-long 12.6 src/sage/tests/cmdline.py\n**********************************************************************\nFile \"src/sage/tests/cmdline.py\", line 105, in sage.tests.cmdline.test_executable\nFailed example:\n    out.find(version()) >= 0\nExpected:\n    True\nGot:\n    False\n**********************************************************************\nFile \"src/sage/tests/cmdline.py\", line 113, in sage.tests.cmdline.test_executable\nFailed example:\n    out.find(version()) >= 0\nExpected:\n    True\nGot:\n    False\n**********************************************************************\nFile \"src/sage/tests/cmdline.py\", line 185, in sage.tests.cmdline.test_executable\nFailed example:\n    out.find(version()) >= 0\nExpected:\n    True\nGot:\n    False\n**********************************************************************\n1 item had failures:\n   3 of 210 in sage.tests.cmdline.test_executable\n    [209 tests, 3 failures, 23.05 s]\n----------------------------------------------------------------------\n\n }}} \nto find out the error I executed the following command on sage and got output as below:   \n{{{\nfrom sage.tests.cmdline import test_executable\nsage: version()\n'Sage Version 6.4.beta0, Release Date: 2014-08-14'\nsage: u=test_executable([\"sage\"])[0]\nsage: u.find(version())\n-1\n}}}\n\nThe string for 'u' is:\n{{{\nsage: test_executable([\"sage\"])[0]\n'\\xe2\\x94\\x8c\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x90\\n\\xe2\\x94\\x82 Sage Version 6.3, Release Date: 2014-08-10                         \\xe2\\x94\\x82\\n\\xe2\\x94\\x82 Type \"notebook()\" for the browser-based notebook interface.        \\xe2\\x94\\x82\\n\\xe2\\x94\\x82 Type \"help()\" for help.                                            \\xe2\\x94\\x82\\n\\xe2\\x94\\x94\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x80\\xe2\\x94\\x98\\nsage: \\nExiting Sage (CPU time 0m0.01s, Wall time 0m0.01s).\\n'\n}}}\n\nSo the error is because 'Sage Version 6.4.beta0, Release Date: 2014-08-14' is not a sub string of  `test_executable([\"sage\"])[0]` and one need to change 'Sage Version 6.3, Release Date: 2014-08-10' to 'Sage Version 6.4.beta0, Release Date: 2014-08-14'. I don't know whether other characters  in this string need change. Please fix it. \n\nIssue created by migration from https://trac.sagemath.org/ticket/16856\n\n",
    "created_at": "2014-08-20T03:27:19Z",
    "labels": [
        "component: please change",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Doctest for src/sage/tests/cmdline.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/16619",
    "user": "https://trac.sagemath.org/admin/accounts/users/mkamalakshya"
}
```
Assignee: mkamalakshya

CC:  @tscrim @vbraun @KPanComputes

The doctest for cmdline.py fails. On executing the command 
'$ sage -t src/sage/tests/cmdline.py' gives the following output 

```
Running doctests with ID 2014-08-20-08-24-47-4a78a370.
Doctesting 2 files.
sage -t --warn-long 12.6 12.5
    IOError in doctesting framework
**********************************************************************
Traceback (most recent call last):
  File "/home/kamalakshya/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 2121, in __call__
    doctests, extras = self.source.create_doctests(sage_namespace)
  File "/home/kamalakshya/sage/local/lib/python2.7/site-packages/sage/doctest/sources.py", line 652, in create_doctests
    raise IOError(errno.ENOENT, "File does not exist", self.path)
IOError: [Errno 2] File does not exist: '12.5'

sage -t --warn-long 12.6 src/sage/tests/cmdline.py
**********************************************************************
File "src/sage/tests/cmdline.py", line 105, in sage.tests.cmdline.test_executable
Failed example:
    out.find(version()) >= 0
Expected:
    True
Got:
    False
**********************************************************************
File "src/sage/tests/cmdline.py", line 113, in sage.tests.cmdline.test_executable
Failed example:
    out.find(version()) >= 0
Expected:
    True
Got:
    False
**********************************************************************
File "src/sage/tests/cmdline.py", line 185, in sage.tests.cmdline.test_executable
Failed example:
    out.find(version()) >= 0
Expected:
    True
Got:
    False
**********************************************************************
1 item had failures:
   3 of 210 in sage.tests.cmdline.test_executable
    [209 tests, 3 failures, 23.05 s]
----------------------------------------------------------------------

 }}} 
to find out the error I executed the following command on sage and got output as below:   
{{{
from sage.tests.cmdline import test_executable
sage: version()
'Sage Version 6.4.beta0, Release Date: 2014-08-14'
sage: u=test_executable(["sage"])[0]
sage: u.find(version())
-1
}}}

The string for 'u' is:
{{{
sage: test_executable(["sage"])[0]
'\xe2\x94\x8c\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x90\n\xe2\x94\x82 Sage Version 6.3, Release Date: 2014-08-10                         \xe2\x94\x82\n\xe2\x94\x82 Type "notebook()" for the browser-based notebook interface.        \xe2\x94\x82\n\xe2\x94\x82 Type "help()" for help.                                            \xe2\x94\x82\n\xe2\x94\x94\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x80\xe2\x94\x98\nsage: \nExiting Sage (CPU time 0m0.01s, Wall time 0m0.01s).\n'
}}}

So the error is because 'Sage Version 6.4.beta0, Release Date: 2014-08-14' is not a sub string of  `test_executable(["sage"])[0]` and one need to change 'Sage Version 6.3, Release Date: 2014-08-10' to 'Sage Version 6.4.beta0, Release Date: 2014-08-14'. I don't know whether other characters  in this string need change. Please fix it. 

Issue created by migration from https://trac.sagemath.org/ticket/16856





---

archive/issue_comments_218804.json:
```json
{
    "body": "Did you try running `make build` from the sage root directory?",
    "created_at": "2014-08-20T03:34:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16619#issuecomment-218804",
    "user": "https://github.com/tscrim"
}
```

Did you try running `make build` from the sage root directory?



---

archive/issue_comments_218805.json:
```json
{
    "body": "Thanks. After doing \"make build\" all the doc tests passed.",
    "created_at": "2014-08-20T08:00:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16619#issuecomment-218805",
    "user": "https://trac.sagemath.org/admin/accounts/users/mkamalakshya"
}
```

Thanks. After doing "make build" all the doc tests passed.



---

archive/issue_comments_218806.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-08-20T08:19:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16619#issuecomment-218806",
    "user": "https://github.com/tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_218807.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to build.",
    "created_at": "2014-08-20T08:19:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16619#issuecomment-218807",
    "user": "https://github.com/tscrim"
}
```

Changing component from PLEASE CHANGE to build.



---

archive/issue_comments_218808.json:
```json
{
    "body": "No problem. I sometimes wonder if there's a better way to advertise this...",
    "created_at": "2014-08-20T08:19:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16619#issuecomment-218808",
    "user": "https://github.com/tscrim"
}
```

No problem. I sometimes wonder if there's a better way to advertise this...



---

archive/issue_comments_218809.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2014-08-20T08:19:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16619#issuecomment-218809",
    "user": "https://github.com/tscrim"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_218810.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-08-20T08:19:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16619#issuecomment-218810",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_016096.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-08-20T20:38:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/16619",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/16619#event-16096"
}
```



---

archive/issue_comments_218811.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2014-08-20T20:38:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/16619",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/16619#issuecomment-218811",
    "user": "https://github.com/vbraun"
}
```

Resolution: invalid
