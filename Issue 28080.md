# Issue 28080: Use -print-prog-name instead of -print-file-name in gcc spkg-configure.m4

Issue created by migration from https://trac.sagemath.org/ticket/28317

Original creator: isuruf

Original creation time: 2019-08-02 22:11:54

CC:  embray dimpase

Here's what I get


```
~/sage$ echo $CC
/projects/66d93023-00f0-4c12-8a25-5d6d4e486740/sage-build/bin/x86_64-conda_cos6-linux-gnu-cc

~/sage$ $CC -print-prog-name=ld
/projects/66d93023-00f0-4c12-8a25-5d6d4e486740/sage-build/bin/../lib/gcc/x86_64-conda_cos6-linux-gnu/7.3.0/../../../../x86_64-conda_cos6-linux-gnu/bin/ld

~/sage$ $CC -print-file-name=ld
ld

~/sage$ echo $LD
/projects/66d93023-00f0-4c12-8a25-5d6d4e486740/sage-build/bin/x86_64-conda_cos6-linux-gnu-ld
```


Therefore `-print-file-name` is clearly not what we need.
`-print-prog-name` gives a path with `..`s in it.

We need to check that the two files are equivalent using -ef which checks that the files are the same.



---

Comment by isuruf created at 2019-08-02 22:12:12

Changing status from new to needs_review.


---

Comment by dimpase created at 2019-09-01 10:24:32

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2019-09-01 10:24:32

looks good.


---

Comment by vbraun created at 2019-09-05 21:33:11

Resolution: fixed
