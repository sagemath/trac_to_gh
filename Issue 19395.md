# Issue 19395: Haemers srgs

Issue created by migration from https://trac.sagemath.org/ticket/19632

Original creator: dimpase

Original creation time: 2015-11-27 13:17:36

CC:  ncohen

Construction of srgs from [BvL84], sect 8.A


---

Attachment

a working Sage function to build them


---

Comment by dimpase created at 2015-11-27 13:20:51

construction is working :-)


---

Comment by ncohen created at 2015-11-27 13:22:07

Great ! God, when I think that the only ones that may remain could be those awful RSHCD .. Makes me angry `:-P`


---

Comment by dimpase created at 2015-11-27 16:31:14

Last 10 new commits:


---

Comment by dimpase created at 2015-11-27 16:33:11

in a rush, but looks OK, please review the last commit


---

Comment by dimpase created at 2015-11-27 16:33:11

Changing status from new to needs_review.


---

Comment by git created at 2015-11-27 19:15:45

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-11-28 08:30:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ncohen created at 2015-11-28 09:12:33

Hello Dima,

I do not even understand how you can use this 'partition' argument given that it is read *after* a call to relabel(), and that this is, in theory at least, architecture dependent.

Nathann


---

Comment by ncohen created at 2015-11-28 09:14:02

P.S.: Could you give your variables full names instead of acronyms?


---

Comment by dimpase created at 2015-11-28 11:26:00

Replying to [comment:8 ncohen]:
> Hello Dima,
> 
> I do not even understand how you can use this 'partition' argument given that it is read *after* a call to relabel(), and that this is, in theory at least, architecture dependent.

Are you saying that relabel() can reorder vertices? Indeed, the code depends on it keeping them 
in the same order.


---

Comment by ncohen created at 2015-11-28 11:30:06

> Are you saying that relabel() can reorder vertices? Indeed, the code depends on it keeping them 
> in the same order.

'reorder' ? Nono, it will not 'reorder' them, i.e. the ith vertex of g.vertices() is the ith vertex of g.vertices() after a relabel


```
        if perm is None:
            perm = dict({v:i for i,v in enumerate(self.vertices())})
```


But if you have to explain in the doc what exactly the ith vertex represents when he provides a partition, well, we might as well use their original labels (i.e. before relabelling)

Nathann


---

Comment by dimpase created at 2015-11-28 11:39:59

Replying to [comment:11 ncohen]:
> > Are you saying that relabel() can reorder vertices? Indeed, the code depends on it keeping them 
> > in the same order.
> 
> 'reorder' ? Nono, it will not 'reorder' them, i.e. the ith vertex of g.vertices() is the ith vertex of g.vertices() after a relabel
> 
> {{{
>         if perm is None:
>             perm = dict({v:i for i,v in enumerate(self.vertices())})
> }}}
> 
> But if you have to explain in the doc what exactly the ith vertex represents when he provides a partition, well, we might as well use their original labels (i.e. before relabelling).
`partition` is partition of the points of the underlying `hyperoval` (not a partition of vertices). 

```
   * "partition" -- if "None" (default), pair each i-th point of
     "hyperoval" with (i+1)-th. Otherwise, specifies the pairing in
     the format ((i_1,i'_1),(i_2,i'_2),...).

   * "hyperoval" -- a hyperoval defining T_2^*(q)^*. If "None"
     (default), the classical hyperoval obatined from a conic is used.
```



---

Comment by git created at 2015-11-28 21:33:37

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ncohen created at 2015-11-29 08:10:41

I'll wait for the dependencies to be merged before reviewing that. The merge commits everywhere make it uselessly more complicated.


---

Comment by ncohen created at 2015-12-04 12:59:25

Hello Dima,

As the end of december is coming fast, I started this review before the next beta. I added a commit at public/19632 that cleans a couple of things, and simplifies some code too. It would be really great if you could start thinking of what your computer does when you give it instructions, because a lot of computations was done for nothing.

Two remarks:

- For me the following doctest is too long, even for a "#long" doctest. Recently some guys were trying to figure out how to do something like "#long 2m" doctests for a better filtering.


```
sage: %time g=graphs.HaemersGraph(8); g
CPU times: user 11.1 s, sys: 20 ms, total: 11.1 s
Wall time: 11.1 s
```


- It seems that `partition` is not a partition of the vertex set but a partition of ... a partition of G into independent sets. Would it be possible to change the terminology a bit to avoid confusion?

Thanks,

Nathann


---

Comment by ncohen created at 2015-12-04 12:59:25

Changing status from needs_review to needs_info.


---

Comment by dimpase created at 2015-12-04 13:41:10

I'll rename `partition=` `hyperoval_matching=`, for that's what it is in reality, 
and make that long test into not tested...


---

Comment by ncohen created at 2015-12-04 13:41:50

Works for me,

Nathann


---

Comment by git created at 2015-12-04 13:59:10

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dimpase created at 2015-12-04 13:59:51

Changing status from needs_info to needs_review.


---

Comment by ncohen created at 2015-12-04 14:35:16

Changing status from needs_review to positive_review.


---

Comment by ncohen created at 2015-12-04 14:35:16

Thaaaaaaaaaaanks,

Nathann


---

Comment by vbraun created at 2015-12-04 22:10:25

Changing status from positive_review to needs_work.


---

Comment by vbraun created at 2015-12-04 22:10:25

Merge conflict in src/doc/en/reference/coding/index.rst


---

Comment by git created at 2015-12-05 13:13:54

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ncohen created at 2015-12-05 13:14:19

Changing status from needs_work to positive_review.


---

Comment by dimpase created at 2015-12-06 01:04:29

Replying to [comment:23 ncohen]:
Thanks!


---

Comment by vbraun created at 2015-12-06 21:42:37

Resolution: fixed
