# Issue 29465: Move all code from src/setup.py to sage_setup

archive/issues_029465.json:
```json
{
    "body": "CC:  fbissey vbraun isuruf dimpase jhpalmieri chapoton mjo\n\nThis is preparation for splitting sagelib into separate distutils packages.\n\nIssue created by migration from https://trac.sagemath.org/ticket/29702\n\n",
    "created_at": "2020-05-17T17:39:35Z",
    "labels": [
        "refactoring",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "Move all code from src/setup.py to sage_setup",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29465",
    "user": "mkoeppe"
}
```
CC:  fbissey vbraun isuruf dimpase jhpalmieri chapoton mjo

This is preparation for splitting sagelib into separate distutils packages.

Issue created by migration from https://trac.sagemath.org/ticket/29702





---

archive/issue_comments_418171.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-05-19T02:15:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418171",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418172.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-05-19T02:28:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418172",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418173.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-05-19T02:42:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418173",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418174.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-05-19T02:44:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418174",
    "user": "mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_418175.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-05-20T04:47:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418175",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418176.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-05-20T04:48:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418176",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_418177.json:
```json
{
    "body": "(that was pushed to wrong ticket; fixed)",
    "created_at": "2020-05-20T05:31:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418177",
    "user": "mkoeppe"
}
```

(that was pushed to wrong ticket; fixed)



---

archive/issue_comments_418178.json:
```json
{
    "body": "Ready for review",
    "created_at": "2020-05-20T05:47:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418178",
    "user": "mkoeppe"
}
```

Ready for review



---

archive/issue_comments_418179.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2020-05-22T05:23:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418179",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_418180.json:
```json
{
    "body": "Redone on top of new version of #29411",
    "created_at": "2020-05-22T05:24:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418180",
    "user": "mkoeppe"
}
```

Redone on top of new version of #29411



---

archive/issue_comments_418181.json:
```json
{
    "body": "Changing keywords from \"\" to \"sd109\".",
    "created_at": "2020-05-28T06:10:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418181",
    "user": "mkoeppe"
}
```

Changing keywords from "" to "sd109".



---

archive/issue_comments_418182.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-02T06:27:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418182",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418183.json:
```json
{
    "body": "Merged newer version of #29411 and latest beta",
    "created_at": "2020-06-02T06:27:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418183",
    "user": "mkoeppe"
}
```

Merged newer version of #29411 and latest beta



---

archive/issue_comments_418184.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-03T02:19:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418184",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418185.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-03T02:28:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418185",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418186.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-04T00:55:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418186",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418187.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2020-06-04T18:44:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418187",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_418188.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-06-07T20:28:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418188",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_418189.json:
```json
{
    "body": "please rebase this over 9.2.beta1",
    "created_at": "2020-06-15T10:42:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418189",
    "user": "dimpase"
}
```

please rebase this over 9.2.beta1



---

archive/issue_comments_418190.json:
```json
{
    "body": "rebased over rebased #29411\n----\nLast 10 new commits:",
    "created_at": "2020-06-15T12:36:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418190",
    "user": "dimpase"
}
```

rebased over rebased #29411
----
Last 10 new commits:



---

archive/issue_comments_418191.json:
```json
{
    "body": "Argh! I have a million tickets depending on this",
    "created_at": "2020-06-15T14:10:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418191",
    "user": "mkoeppe"
}
```

Argh! I have a million tickets depending on this



---

archive/issue_comments_418192.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-06-15T16:00:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418192",
    "user": "dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_418193.json:
```json
{
    "body": "well, I don't quite know how to deal with it. The rebased branch works for me. Should we revert all these rebases, and just hope that the merges will work?",
    "created_at": "2020-06-15T16:00:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418193",
    "user": "dimpase"
}
```

well, I don't quite know how to deal with it. The rebased branch works for me. Should we revert all these rebases, and just hope that the merges will work?



---

archive/issue_comments_418194.json:
```json
{
    "body": "Yes, please restore to the unrebased ones. I know that the merges work, I am already testing on them",
    "created_at": "2020-06-15T16:01:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418194",
    "user": "mkoeppe"
}
```

Yes, please restore to the unrebased ones. I know that the merges work, I am already testing on them



---

archive/issue_comments_418195.json:
```json
{
    "body": "It's also fine with me if you *merge* in the current develop, but rebasing is too disruptive.",
    "created_at": "2020-06-15T16:02:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418195",
    "user": "mkoeppe"
}
```

It's also fine with me if you *merge* in the current develop, but rebasing is too disruptive.



---

archive/issue_comments_418196.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. Last 10 new commits:",
    "created_at": "2020-06-15T16:23:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418196",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. Last 10 new commits:



---

archive/issue_comments_418197.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2020-06-15T16:23:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418197",
    "user": "git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_418198.json:
```json
{
    "body": "Replying to [comment:33 mkoeppe]:\n> It's also fine with me if you *merge* in the current develop\nDid that, needs review",
    "created_at": "2020-06-15T16:24:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418198",
    "user": "mkoeppe"
}
```

Replying to [comment:33 mkoeppe]:
> It's also fine with me if you *merge* in the current develop
Did that, needs review



---

archive/issue_comments_418199.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-06-16T13:54:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418199",
    "user": "dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_418200.json:
```json
{
    "body": "lgtm",
    "created_at": "2020-06-16T13:54:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418200",
    "user": "dimpase"
}
```

lgtm



---

archive/issue_comments_418201.json:
```json
{
    "body": "Thank you!",
    "created_at": "2020-06-16T16:18:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418201",
    "user": "mkoeppe"
}
```

Thank you!



---

archive/issue_comments_418202.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-07-02T21:30:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418202",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_418203.json:
```json
{
    "body": "Thank you, the setup.py looks sooo much cleaner now.",
    "created_at": "2020-08-19T14:21:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29465",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29465#issuecomment-418203",
    "user": "embray"
}
```

Thank you, the setup.py looks sooo much cleaner now.
