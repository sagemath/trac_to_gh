# Issue 15924: Add list parameter to xgcd implementation

archive/issues_015924.json:
```json
{
    "body": "Keywords: gcd, xgcd\n\nIt is not possible to use xgcd() with a list parameter.\n\nB\u00e9zout coefficients with more than two integers could be implemented in xgcd() (i.e. a1*u1 + a2*u2 + ... + an*un = g)\n\nExample:\n\n```\nsage: xgcd2([385, 231, 165, 105])\n(1, [-2, 1, 2, 2])\n```\n\n\nActually this is already done using LLL in Magma to get a small solution [https://magma.maths.usyd.edu.au/magma/handbook/text/311#2923](https://magma.maths.usyd.edu.au/magma/handbook/text/311#2923)\n\nI think something which looks like this may work:\n\n\n```\n\"\"\"\nINPUT: a list of integers\nOUTPUT: (g, u) such that g = u1*a1 + u2*a2 + ... + un*an\n\"\"\"\ndef xgcd2(a):\n    s = len(a)\n    c = ZZ(int(random()*10^s+1))\n    L = matrix(ZZ, s+1, s, lambda i, j: kronecker_delta(i, j))\n    L.set_row(s, a)\n    L.rescale_row(s, c)\n    U = (L.transpose()).LLL()\n    u = list(U[s-1])[:-1]\n\n    return (sum([ai*ui for (ai, ui) in zip(a, u)]), u)\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/16161\n\n",
    "created_at": "2014-04-14T14:42:04Z",
    "labels": [
        "basic arithmetic",
        "minor",
        "PLEASE CHANGE"
    ],
    "title": "Add list parameter to xgcd implementation",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15924",
    "user": "fcolas"
}
```
Keywords: gcd, xgcd

It is not possible to use xgcd() with a list parameter.

BÃ©zout coefficients with more than two integers could be implemented in xgcd() (i.e. a1*u1 + a2*u2 + ... + an*un = g)

Example:

```
sage: xgcd2([385, 231, 165, 105])
(1, [-2, 1, 2, 2])
```


Actually this is already done using LLL in Magma to get a small solution [https://magma.maths.usyd.edu.au/magma/handbook/text/311#2923](https://magma.maths.usyd.edu.au/magma/handbook/text/311#2923)

I think something which looks like this may work:


```
"""
INPUT: a list of integers
OUTPUT: (g, u) such that g = u1*a1 + u2*a2 + ... + un*an
"""
def xgcd2(a):
    s = len(a)
    c = ZZ(int(random()*10^s+1))
    L = matrix(ZZ, s+1, s, lambda i, j: kronecker_delta(i, j))
    L.set_row(s, a)
    L.rescale_row(s, c)
    U = (L.transpose()).LLL()
    u = list(U[s-1])[:-1]

    return (sum([ai*ui for (ai, ui) in zip(a, u)]), u)
```


Issue created by migration from https://trac.sagemath.org/ticket/16161


