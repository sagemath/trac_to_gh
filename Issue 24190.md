# Issue 24190: Upgrade to GAP 4.8.9

archive/issues_024190.json:
```json
{
    "body": "CC:  @dimpase @kiwifb @jdemeyer @slel @vbraun @timokau @sebasguts @nthiery @embray\n\nKeywords: GAP, database_gap, gap_packages, libgap\n\nGAP 4.8.9 was released on 2017-12-18.\n\nRelease announcement:\n* https://mail.gap-system.org/pipermail/forum/2017/005628.html\n\nGAP 4.8.9 page:\n* https://www.gap-system.org/Releases/4.8.9.html\n\nChangelog:\n* https://www.gap-system.org/Manuals/doc/changes/chap2.html#X803A9F0685295E01\n\nFrom SageMath 7.6.beta3 to the current SageMath 8.2.beta1,\nwe use GAP 4.8.6, introduced in #20914. Time to upgrade!\n\nTarball for GAP:\n* https://www.gap-system.org/pub/gap/gap48/tar.bz2/gap4r8p9_2017_12_18-23_44.tar.bz2\n\nTarballs for database_gap, gap_packages, libgap:\n* ...\n* ...\n* ...\n\nNote that #22626 will upgrade to the upcoming GAP 4.9,\nbut let's upgrade to GAP 4.8.9 for now.\n\nIssue created by migration from https://trac.sagemath.org/ticket/24427\n\n",
    "created_at": "2017-12-25T00:26:33Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Upgrade to GAP 4.8.9",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/24190",
    "user": "https://github.com/slel"
}
```
CC:  @dimpase @kiwifb @jdemeyer @slel @vbraun @timokau @sebasguts @nthiery @embray

Keywords: GAP, database_gap, gap_packages, libgap

GAP 4.8.9 was released on 2017-12-18.

Release announcement:
* https://mail.gap-system.org/pipermail/forum/2017/005628.html

GAP 4.8.9 page:
* https://www.gap-system.org/Releases/4.8.9.html

Changelog:
* https://www.gap-system.org/Manuals/doc/changes/chap2.html#X803A9F0685295E01

From SageMath 7.6.beta3 to the current SageMath 8.2.beta1,
we use GAP 4.8.6, introduced in #20914. Time to upgrade!

Tarball for GAP:
* https://www.gap-system.org/pub/gap/gap48/tar.bz2/gap4r8p9_2017_12_18-23_44.tar.bz2

Tarballs for database_gap, gap_packages, libgap:
* ...
* ...
* ...

Note that #22626 will upgrade to the upcoming GAP 4.9,
but let's upgrade to GAP 4.8.9 for now.

Issue created by migration from https://trac.sagemath.org/ticket/24427





---

archive/issue_comments_338450.json:
```json
{
    "body": "Changing the goal of this ticket from \"GAP 4.8.9\" to \"GAP 4.8.10\".",
    "created_at": "2018-01-18T13:36:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24190#issuecomment-338450",
    "user": "https://github.com/slel"
}
```

Changing the goal of this ticket from "GAP 4.8.9" to "GAP 4.8.10".



---

archive/issue_comments_338451.json:
```json
{
    "body": "GAP 4.9 beta is already out.\n\nhttps://www.gap-system.org/pub/gap/gap-4.9/beta/",
    "created_at": "2018-02-17T12:24:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24190#issuecomment-338451",
    "user": "https://github.com/dimpase"
}
```

GAP 4.9 beta is already out.

https://www.gap-system.org/pub/gap/gap-4.9/beta/



---

archive/issue_comments_338452.json:
```json
{
    "body": "I suggest getting GAP 4.8.10 in Sage 8.2, if it's not too much work, since:\n\n- GAP 4.9 might still be in beta when Sage 8.2 is released.\n- GAP 4.9 has major changes, so #22626 (Upgrade to GAP 4.9) might take time.",
    "created_at": "2018-02-17T19:20:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24190#issuecomment-338452",
    "user": "https://github.com/slel"
}
```

I suggest getting GAP 4.8.10 in Sage 8.2, if it's not too much work, since:

- GAP 4.9 might still be in beta when Sage 8.2 is released.
- GAP 4.9 has major changes, so #22626 (Upgrade to GAP 4.9) might take time.



---

archive/issue_comments_338453.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2018-03-26T14:58:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24190#issuecomment-338453",
    "user": "https://github.com/slel"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_338454.json:
```json
{
    "body": "Although the release of GAP 4.9.1 is approaching, I don't know if it will still be a beta\nor considered the official 4.9 release.\n\nIt might still be possible to get GAP 4.8.10 in Sage 8.2. What are the steps to produce\ntarballs for database_gap, gap_packages, libgap?",
    "created_at": "2018-03-26T14:58:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24190#issuecomment-338454",
    "user": "https://github.com/slel"
}
```

Although the release of GAP 4.9.1 is approaching, I don't know if it will still be a beta
or considered the official 4.9 release.

It might still be possible to get GAP 4.8.10 in Sage 8.2. What are the steps to produce
tarballs for database_gap, gap_packages, libgap?



---

archive/issue_comments_338455.json:
```json
{
    "body": "Replying to [comment:4 slelievre]:\n> Although the release of GAP 4.9.1 is approaching, I don't know if it will still be a beta\n> or considered the official 4.9 release.\n> \n> It might still be possible to get GAP 4.8.10 in Sage 8.2. What are the steps to produce\n> tarballs for database_gap, gap_packages, libgap?\n\n\nUpdating libgap is potentially time-consuming and error-prone. See https://bitbucket.org/vbraun/libgap",
    "created_at": "2018-03-26T15:14:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24190#issuecomment-338455",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:4 slelievre]:
> Although the release of GAP 4.9.1 is approaching, I don't know if it will still be a beta
> or considered the official 4.9 release.
> 
> It might still be possible to get GAP 4.8.10 in Sage 8.2. What are the steps to produce
> tarballs for database_gap, gap_packages, libgap?


Updating libgap is potentially time-consuming and error-prone. See https://bitbucket.org/vbraun/libgap



---

archive/issue_comments_338456.json:
```json
{
    "body": "Replying to [comment:5 dimpase]:\n> Replying to [comment:4 slelievre]:\n> > Although the release of GAP 4.9.1 is approaching, I don't know\n> > if it will still be a beta or considered the official 4.9 release.\n> > \n> > It might still be possible to get GAP 4.8.10 in Sage 8.2. What are the\n> > steps to produce tarballs for database_gap, gap_packages, libgap?\n\n> \n> Updating libgap is potentially time-consuming and error-prone. See\n> https://bitbucket.org/vbraun/libgap\n\n\nHard to know in advance, but one might hope that minor version bumps\nin GAP would be relatively easy to deal with.\n\nThe upgrade to GAP 4.8.10 in the ArchLinux packaging of SageMath\nseems pretty straightforward:\n\nhttps://git.archlinux.org/svntogit/community.git/tree/trunk/PKGBUILD?h=packages/libgap#n20",
    "created_at": "2018-04-26T12:32:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24190#issuecomment-338456",
    "user": "https://github.com/slel"
}
```

Replying to [comment:5 dimpase]:
> Replying to [comment:4 slelievre]:
> > Although the release of GAP 4.9.1 is approaching, I don't know
> > if it will still be a beta or considered the official 4.9 release.
> > 
> > It might still be possible to get GAP 4.8.10 in Sage 8.2. What are the
> > steps to produce tarballs for database_gap, gap_packages, libgap?

> 
> Updating libgap is potentially time-consuming and error-prone. See
> https://bitbucket.org/vbraun/libgap


Hard to know in advance, but one might hope that minor version bumps
in GAP would be relatively easy to deal with.

The upgrade to GAP 4.8.10 in the ArchLinux packaging of SageMath
seems pretty straightforward:

https://git.archlinux.org/svntogit/community.git/tree/trunk/PKGBUILD?h=packages/libgap#n20



---

archive/issue_comments_338457.json:
```json
{
    "body": "This looks fishy - just version bumps...",
    "created_at": "2018-04-26T12:58:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24190#issuecomment-338457",
    "user": "https://github.com/dimpase"
}
```

This looks fishy - just version bumps...



---

archive/issue_comments_338458.json:
```json
{
    "body": "Worse than fishy: plain wrong!\n\nIt looks like they took the 4.8.6 tarball and artificially renamed it 4.8.10.",
    "created_at": "2018-04-26T15:07:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24190#issuecomment-338458",
    "user": "https://github.com/jdemeyer"
}
```

Worse than fishy: plain wrong!

It looks like they took the 4.8.6 tarball and artificially renamed it 4.8.10.



---

archive/issue_comments_338459.json:
```json
{
    "body": "In Debian they use GAP 4.8.8, does that mean they produced libgap for 4.8.8?",
    "created_at": "2018-04-29T11:20:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24190#issuecomment-338459",
    "user": "https://github.com/slel"
}
```

In Debian they use GAP 4.8.8, does that mean they produced libgap for 4.8.8?



---

archive/issue_comments_338460.json:
```json
{
    "body": "Replying to [comment:9 slelievre]:\n> In Debian they use GAP 4.8.8, does that mean they produced libgap for 4.8.8?\n\nProbably they did. Last time I worked on upgrade to 4.8.6, I used Debian's work, IIRC.",
    "created_at": "2018-04-29T11:50:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24190#issuecomment-338460",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:9 slelievre]:
> In Debian they use GAP 4.8.8, does that mean they produced libgap for 4.8.8?

Probably they did. Last time I worked on upgrade to 4.8.6, I used Debian's work, IIRC.



---

archive/issue_comments_338461.json:
```json
{
    "body": "Attachment [gap-4.8.10.tar.bz2](tarball://root/attachments/some-uuid/ticket24427/gap-4.8.10.tar.bz2) by @nthiery created at 2018-05-01 15:23:52\n\ngap 4.8.10 sources after running spkg-src",
    "created_at": "2018-05-01T15:23:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24190#issuecomment-338461",
    "user": "https://github.com/nthiery"
}
```

Attachment [gap-4.8.10.tar.bz2](tarball://root/attachments/some-uuid/ticket24427/gap-4.8.10.tar.bz2) by @nthiery created at 2018-05-01 15:23:52

gap 4.8.10 sources after running spkg-src



---

archive/issue_comments_338462.json:
```json
{
    "body": "To get the ball rolling, I updated the GAP sources according to the instructions in the SPKG.\nI haven't run the tests yet (rebuilding my Sage).\n\n---\nNew commits:",
    "created_at": "2018-05-01T15:27:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24190#issuecomment-338462",
    "user": "https://github.com/nthiery"
}
```

To get the ball rolling, I updated the GAP sources according to the instructions in the SPKG.
I haven't run the tests yet (rebuilding my Sage).

---
New commits:



---

archive/issue_comments_338463.json:
```json
{
    "body": "Just noting #13426, which adds more things to `gap_packages`.",
    "created_at": "2018-05-01T23:37:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24190#issuecomment-338463",
    "user": "https://github.com/tscrim"
}
```

Just noting #13426, which adds more things to `gap_packages`.



---

archive/issue_comments_338464.json:
```json
{
    "body": "Sebastian Gutsche produced a tentative tarball for libgap-4.8.10:\nhttps://bitbucket.org/sebasguts/libgap/downloads/libgap-4.8.10.tar.gz",
    "created_at": "2018-05-01T23:45:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24190#issuecomment-338464",
    "user": "https://github.com/slel"
}
```

Sebastian Gutsche produced a tentative tarball for libgap-4.8.10:
https://bitbucket.org/sebasguts/libgap/downloads/libgap-4.8.10.tar.gz



---

archive/issue_comments_338465.json:
```json
{
    "body": "We should note that the only thing changing since 4.8.8 is the packages distributed with gap. \nhttps://www.gap-system.org/Manuals/doc/changes/chap2.html#X803A9F0685295E01\n\nCore gap code and databases have not changed since 4.8.8. The libgap for 4.8.8 that debian made should be identical for 4.8.10.",
    "created_at": "2018-05-02T00:07:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24190#issuecomment-338465",
    "user": "https://github.com/kiwifb"
}
```

We should note that the only thing changing since 4.8.8 is the packages distributed with gap. 
https://www.gap-system.org/Manuals/doc/changes/chap2.html#X803A9F0685295E01

Core gap code and databases have not changed since 4.8.8. The libgap for 4.8.8 that debian made should be identical for 4.8.10.



---

archive/issue_comments_338466.json:
```json
{
    "body": "Thanks Fran\u00e7ois for the info.\n\nThe branch as is is not yet functional, as libgap needs to be the same version as gap.\nSebastian's libgap above is missing the prefixing; he will work on this tonight, and then I'll update this branch and rerun the tests.",
    "created_at": "2018-05-02T16:20:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24190#issuecomment-338466",
    "user": "https://github.com/nthiery"
}
```

Thanks François for the info.

The branch as is is not yet functional, as libgap needs to be the same version as gap.
Sebastian's libgap above is missing the prefixing; he will work on this tonight, and then I'll update this branch and rerun the tests.



---

archive/issue_events_061710.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-07-24T08:58:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/24190",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24190#event-61710"
}
```



---

archive/issue_comments_338467.json:
```json
{
    "body": "Replying to [comment:16 nthiery]:\n> The branch as is is not yet functional, as libgap needs to be the same version as gap.\n> Sebastian's libgap above is missing the prefixing; he will work on this tonight, and then I'll update this branch and rerun the tests.\n\n\nDid the prefixing happen in the end? What remains to be done here?",
    "created_at": "2018-07-24T08:58:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24190#issuecomment-338467",
    "user": "https://github.com/slel"
}
```

Replying to [comment:16 nthiery]:
> The branch as is is not yet functional, as libgap needs to be the same version as gap.
> Sebastian's libgap above is missing the prefixing; he will work on this tonight, and then I'll update this branch and rerun the tests.


Did the prefixing happen in the end? What remains to be done here?



---

archive/issue_events_061711.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-01-04T20:12:41Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/24190",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24190#event-61711"
}
```



---

archive/issue_events_061712.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-01-04T20:12:41Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/24190",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24190#event-61712"
}
```



---

archive/issue_comments_338468.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-01-04T20:12:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24190#issuecomment-338468",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_338469.json:
```json
{
    "body": "can we close this one now ?",
    "created_at": "2019-01-04T20:12:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24190#issuecomment-338469",
    "user": "https://github.com/fchapoton"
}
```

can we close this one now ?



---

archive/issue_comments_338470.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-01-04T20:13:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24190#issuecomment-338470",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_338471.json:
```json
{
    "body": "I believe so.",
    "created_at": "2019-01-04T20:13:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24190#issuecomment-338471",
    "user": "https://github.com/tscrim"
}
```

I believe so.



---

archive/issue_comments_338472.json:
```json
{
    "body": "Resolution: wontfix",
    "created_at": "2019-01-07T14:18:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24190#issuecomment-338472",
    "user": "https://github.com/embray"
}
```

Resolution: wontfix



---

archive/issue_comments_338473.json:
```json
{
    "body": "Superseded by #22626.",
    "created_at": "2019-01-07T14:18:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/24190",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/24190#issuecomment-338473",
    "user": "https://github.com/embray"
}
```

Superseded by #22626.



---

archive/issue_events_061713.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-07T14:18:00Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/24190",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/24190#event-61713"
}
```
