# Issue 26189: GCC build fails with XCode 10

Issue created by migration from Trac.

Original creator: vbraun

Original creation time: 2018-10-07 11:05:32

The relevant error part seems to be 

```
[gcc-7.2.0]                  from /Users/buildslave-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidma/local/var/tmp/sage/build/gcc-7.2.0/src/libstdc++-v3/include/precompiled/stdc++.h:52:
[gcc-7.2.0] /Users/buildslave-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidma/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/x86_64-apple-darwin17.7.0/libstdc++-v3/include/bits/stl_algobase.h:67:10: fatal error: bits/stl_iterator.h: No such file or directory
[gcc-7.2.0]  #include <bits/stl_iterator.h>
[gcc-7.2.0]           ^~~~~~~~~~~~~~~~~~~~~
[gcc-7.2.0] compilation terminated.
[gcc-7.2.0] make[10]: *** [x86_64-apple-darwin17.7.0/bits/stdc++.h.gch/O2g.gch] Error 1
[gcc-7.2.0] make[10]: Target `all' not remade because of errors.
```



---

Comment by vbraun created at 2018-10-08 06:59:18

Without gcc the mac app binary build fails with 

```

AnalyzeShallow /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/AppDelegate.m normal x86_64 (
in target: Sage)
    cd /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app
    export LANG=en_US.US-ASCII
    /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -x objective-c -arch x86_64 -fmessage-length=0 -fdiagnostics-show-note-include-stack -fmacro-backtrace-limit=0 -std=gnu99 -gmodules -Wno-trigraphs -fpascal-strings -O0 -Wno-missing-field-initializers -Wno-missing-prototypes -Wno-implicit-atomic-properties -Wno-objc-interface-ivars -Wno-arc-repeated-use-of-weak -Wno-missing-braces -Wparentheses -Wswitch -Wno-unused-function -Wno-unused-label -Wno-unused-parameter -Wunused-variable -Wunused-value -Wno-empty-body -Wno-uninitialized -Wno-unknown-pragmas -Wno-shadow -Wno-four-char-constants -Wno-conversion -Wno-constant-conversion -Wno-int-conversion -Wno-bool-conversion -Wno-enum-conversion -Wno-float-conversion -Wno-non-literal-null-conversion -Wno-objc-literal-conversion -Wno-shorten-64-to-32 -Wpointer-sign -Wno-newline-eof -Wno-selector -Wno-strict-selector-match -Wno-undeclared-selector -Wno-deprecated-implementations -DOBJC_OLD_DISPATCH_PROTOTYPES=1 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk -fasm-blocks -fstrict-aliasing -Wprotocol -Wdeprecated-declarations -mmacosx-version-min=10.4 -g -fvisibility=hidden -Wno-sign-conversion -Wno-infinite-recursion -Wno-comma -Wno-block-capture-autoreleasing -Wno-strict-prototypes -Wno-semicolon-before-method-body -D__clang_analyzer__ -Xclang -analyzer-output=plist-multi-file -Xclang -analyzer-config -Xclang path-diagnostics-alternate=true -Xclang -analyzer-config -Xclang report-in-main-source-file=true -Xclang -analyzer-config -Xclang mode=shallow -Xclang -analyzer-config -Xclang nullability:NoDiagnoseCallsToSystemHeaders=true -Xclang -analyzer-checker -Xclang security.insecureAPI.UncheckedReturn -Xclang -analyzer-checker -Xclang security.insecureAPI.getpw -Xclang -analyzer-checker -Xclang security.insecureAPI.gets -Xclang -analyzer-checker -Xclang security.insecureAPI.mkstemp -Xclang -analyzer-checker -Xclang security.insecureAPI.mktemp -Xclang -analyzer-disable-checker -Xclang security.insecureAPI.rand -Xclang -analyzer-disable-checker -Xclang security.insecureAPI.strcpy -Xclang -analyzer-checker -Xclang security.insecureAPI.vfork -iquote /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Sage-generated-files.hmap -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Sage-own-target-headers.hmap -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Sage-all-target-headers.hmap -iquote /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Sage-project-headers.hmap -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Debug/include -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/DerivedSources/x86_64 -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/DerivedSources -F/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Debug -include /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/SharedPrecompiledHeaders/SharedPrecompiledHeaders/1304468418096953350/Sage_Prefix.pch -MMD -MT dependencies -MF /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/StaticAnalyzer/Sage/Sage/normal/x86_64/AppDelegate.d --analyze /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/AppDelegate.m -o /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Stat
icAnalyzer/Sage/Sage/normal/x86_64/AppDelegate.plist
** BUILD FAILED **
The following build commands failed:
	Ld /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Debug/Sage.app/Contents/MacOS/Sage normal x86_64
(1 failure)
make[2]: *** [sage-8.4.rc0-OSX_10.13.6_x86_64/SageMath-8.4.rc0.app] Error 65
AnalyzeShallow /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/AppController.m normal x86_64 (in target: Sage)
    cd /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app
    export LANG=en_US.US-ASCII
    /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -x objective-c -arch x86_64 -fmessage-length=0 -fdiagnostics-show-note-include-stack -fmacro-backtrace-limit=0 -std=gnu99 -gmodules -Wno-trigraphs -fpascal-strings -O0 -Wno-missing-field-initializers -Wno-missing-prototypes -Wno-implicit-atomic-properties -Wno-objc-interface-ivars -Wno-arc-repeated-use-of-weak -Wno-missing-braces -Wparentheses -Wswitch -Wno-unused-function -Wno-unused-label -Wno-unused-parameter -Wunused-variable -Wunused-value -Wno-empty-body -Wno-uninitialized -Wno-unknown-pragmas -Wno-shadow -Wno-four-char-constants -Wno-conversion -Wno-constant-conversion -Wno-int-conversion -Wno-bool-conversion -Wno-enum-conversion -Wno-float-conversion -Wno-non-literal-null-conversion -Wno-objc-literal-conversion -Wno-shorten-64-to-32 -Wpointer-sign -Wno-newline-eof -Wno-selector -Wno-strict-selector-match -Wno-undeclared-selector -Wno-deprecated-implementations -DOBJC_OLD_DISPATCH_PROTOTYPES=1 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk -fasm-blocks -fstrict-aliasing -Wprotocol -Wdeprecated-declarations -mmacosx-version-min=10.4 -g -fvisibility=hidden -Wno-sign-conversion -Wno-infinite-recursion -Wno-comma -Wno-block-capture-autoreleasing -Wno-strict-prototypes -Wno-semicolon-before-method-body -D__clang_analyzer__ -Xclang -analyzer-output=plist-multi-file -Xclang -analyzer-config -Xclang path-diagnostics-alternate=true -Xclang -analyzer-config -Xclang report-in-main-source-file=true -Xclang -analyzer-config -Xclang mode=shallow -Xclang -analyzer-config -Xclang nullability:NoDiagnoseCallsToSystemHeaders=true -Xclang -analyzer-checker -Xclang security.insecureAPI.UncheckedReturn -Xclang -analyzer-checker -Xclang security.insecureAPI.getpw -Xclang -analyzer-checker -Xclang security.insecureAPI.gets -Xclang -analyzer-checker -Xclang security.insecureAPI.mkstemp -Xclang -analyzer-checker -Xclang security.insecureAPI.mktemp -Xclang -analyzer-disable-checker -Xclang security.insecureAPI.rand -Xclang -analyzer-disable-checker -Xclang security.insecureAPI.strcpy -Xclang -analyzer-checker -Xclang security.insecureAPI.vfork -iquote /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Sage-generated-files.hmap -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Sage-own-target-headers.hmap -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Sage-all-target-headers.hmap -iquote /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Sage-project-headers.hmap -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Debug/include -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/DerivedSources/x86_64 -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/DerivedSources -F/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Debug -include /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/SharedPrecompiledHeaders/SharedPrecompiledHeaders/1304468418096953350/Sage_Prefix.pch -MMD -MT dependencies -MF /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/StaticAnalyzer/Sage/Sage/normal/x86_64/AppController.d --analyze /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/AppCon
troller.m -o /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/StaticAnalyzer/Sage/Sage/normal/x86_64/AppController.plist
Ld /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Debug/Sage.app/Contents/MacOS/Sage normal x86_64 (in target: Sage)
    cd /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app
    export MACOSX_DEPLOYMENT_TARGET=10.4
    /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -arch x86_64 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk -L/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Debug -F/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Debug -filelist /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Objects-normal/x86_64/Sage.LinkFileList -mmacosx-version-min=10.4 -Xlinker -object_path_lto -Xlinker /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Objects-normal/x86_64/Sage_lto.o -Xlinker -no_deduplicate -fobjc-link-runtime -framework Cocoa -framework WebKit -framework Carbon -Xlinker -dependency_info -Xlinker /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Objects-normal/x86_64/Sage_dependency_info.dat -o /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Debug/Sage.app/Contents/MacOS/Sage
ld: library not found for -lgcc_s.10.4
clang: error: linker command failed with exit code 1 (use -v to see invocation)
```



---

Comment by fbissey created at 2018-10-08 22:26:43

The linker message is nasty. But in the first place you shouldn't include anything from `bits` those are implementation dependent.


---

Comment by vbraun created at 2018-10-09 07:01:44

Well its gcc's own bits, gcc needs to know about the implementation details when it being built.

XCode 10 comes with a new proprietary build system, thats probably the reason for the mac app breakage.


---

Comment by fbissey created at 2018-10-09 08:31:07

It's using gcc private internal implementation of a feature rather then the language itself. Even if you stay with gcc you are at the mercy of it breaking. There should be a switch to prevent you from including those directly, the question is not even about proprietary it is about using something that is not only not portable but it is not guaranteed stable.


---

Comment by vbraun created at 2018-10-11 20:35:47

I've made #26472 for the failure of the mac app to build, since that is a separate issue.


---

Comment by jhpalmieri created at 2018-10-12 20:42:37

From [sage-devel](https://groups.google.com/d/msg/sage-devel/Bl2CWkOVKc4/wmG3vV8lBgAJ): on OS X Mojave, there is no folder `/usr/include` unless you install `/Library/Developer/CommandLineTools/Packages/macOS_SDK_headers_for_macOS_10.14.pkg`. I tried building a vanilla GCC 7.2.0, and I couldn't do it until I installed this extra package.


---

Comment by vbraun created at 2018-10-15 17:56:08

I'm still on OSX 10.13 and /usr/include does exist. Still can't compile GCC


---

Comment by jhpalmieri created at 2018-10-16 01:41:45

I have a machine with OS X 10.13 and Xcode 10, and Sage builds, including the `gfortran` package. Are you trying to build Sage's GCC and use it in the Sage build?


---

Comment by vbraun created at 2018-10-16 07:02:35

Yes, I'm talking about building `SAGE_INSTALL_GCC=yes make`


---

Comment by jhpalmieri created at 2018-10-16 15:41:49

Yeah, that works for me, too, or at least it has now gotten past the GCC build.


---

Comment by jhpalmieri created at 2018-10-16 19:20:29

On a different machine running OS X 10.14 and Xcode 10.0, I see the problem in the ticket description.


---

Comment by vbraun created at 2018-11-18 14:31:34

Suprisingly, installing gcc now once succeeded on OSX 10.14 and XCode 10. So it seems to be a build race condition? Gcc does install its own `$SAGE_LOCAL/include/c++/7.2.0/bits/stl_iterator.h`


---

Comment by vbraun created at 2018-12-12 14:23:16

Changing priority from blocker to major.


---

Comment by vbraun created at 2018-12-12 14:23:16

Downgrading since we don't build GCC any more for the OSX binary


---

Comment by mkoeppe created at 2019-06-02 03:08:18

I'm getting a different error on OS X 10.14.4 with XCode 10.2.1:

```
/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/./prev-gcc/xg++ -B/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/./prev-gcc/ -B/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/x86_64-apple-darwin18.5.0/bin/ -nostdinc++ -B/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/prev-x86_64-apple-darwin18.5.0/libstdc++-v3/src/.libs -B/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/prev-x86_64-apple-darwin18.5.0/libstdc++-v3/libsupc++/.libs  -I/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/prev-x86_64-apple-darwin18.5.0/libstdc++-v3/include/x86_64-apple-darwin18.5.0  -I/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/prev-x86_64-apple-darwin18.5.0/libstdc++-v3/include  -I/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/src/libstdc++-v3/libsupc++ -L/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/prev-x86_64-apple-darwin18.5.0/libstdc++-v3/src/.libs -L/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/prev-x86_64-apple-darwin18.5.0/libstdc++-v3/libsupc++/.libs -c   -g -O2   -gtoggle -DIN_GCC     -fno-exceptions -fno-rtti -fasynchronous-unwind-tables -W -Wall -Wno-narrowing -Wwrite-strings -Wcast-qual -Wmissing-format-attribute -Woverloaded-virtual -pedantic -Wno-long-long -Wno-variadic-macros -Wno-overlength-strings   -DHAVE_CONFIG_H -DGENERATOR_FILE -fno-PIE -I. -Ibuild -I../../src/gcc -I../../src/gcc/build -I../../src/gcc/../include  -I../../src/gcc/../libcpp/include  \
		-o build/genmddeps.o ../../src/gcc/genmddeps.c
In file included from ./bconfig.h:3:0,
                 from ../../src/gcc/genmddeps.c:18:
./auto-host.h:2357:16: error: declaration does not declare anything [-fpermissive]
 #define rlim_t long
                ^
In file included from ../../src/gcc/genmddeps.c:19:0:
../../src/gcc/system.h:540:20: error: conflicting declaration of C function 'const char* strsignal(int)'
 extern const char *strsignal (int);
                    ^~~~~~~~~
In file included from /Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/prev-x86_64-apple-darwin18.5.0/libstdc++-v3/include/cstring:42:0,
                 from ../../src/gcc/system.h:235,
                 from ../../src/gcc/genmddeps.c:19:
/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/string.h:134:7: note: previous declaration 'char* strsignal(int)'
 char *strsignal(int __sig);
       ^~~~~~~~~
make[3]: *** [build/genmddeps.o] Error 1
make[2]: *** [all-stage2-gcc] Error 2
make[1]: *** [stage2-bubble] Error 2
make: *** [all] Error 2
********************************************************************************
Error building gcc-7.2.0
```



---

Comment by jhpalmieri created at 2019-06-02 19:41:45

With Xcode 10.1 and OS X 10.13.6, everything works fine for me. With Xcode 10.2.1 and OS X 10.14.5, I see

```
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sys/sysctl.h:83:0,
                 from ../../src/gcc/config/darwin-driver.c:30:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sys/ucred.h:94:2: error: '_Atomic' does not name a type
  _Atomic u_long          cr_ref;  /* reference count */
  ^~~~~~~
make[6]: *** [darwin-driver.o] Error 1
make[6]: *** Waiting for unfinished jobs....
rm gcc.pod gfortran.pod
make[5]: *** [all-stage2-gcc] Error 2
make[4]: *** [stage2-bubble] Error 2
make[3]: *** [all] Error 2
```



---

Comment by mkoeppe created at 2020-04-18 07:02:31

Testing whether this package is still relevant, using `tox -e local-homebrew-macos-standard-gcc_spkg`.


---

Comment by mkoeppe created at 2020-04-22 06:30:17

I'm getting a different error.

```
  [gcc-9.2.0]   	  cc1-checksum.o libbackend.a main.o libcommon-target.a libcommon.a ../libcpp/libcpp.a ../libdecnumber/libdecnumber.a libcommon.a ../libcpp/libcpp.a  -liconv ../libbacktrace/.libs/libbacktrace.a ../libiberty/libiberty.a ../libdecnumber/libdecnumber.a   -lmpc -lmpfr -lgmp   -lz
  [gcc-9.2.0]   ld: library not found for -lmpc
  [gcc-9.2.0]   collect2: error: ld returned 1 exit status
  [gcc-9.2.0]   ld: library not found for -lmpc
  [gcc-9.2.0]   collect2: error: ld returned 1 exit status
  [gcc-9.2.0]   make[6]: *** [cc1plus] Error 1
  [gcc-9.2.0]   make[6]: *** [cc1] Error 1
  [gcc-9.2.0]   make[6]: Target `all' not remade because of errors.
  [gcc-9.2.0]   rm gfortran.pod gcc.pod
  [gcc-9.2.0]   make[5]: *** [all-stage2-gcc] Error 2
  [gcc-9.2.0]   make[5]: Target `all-stage2' not remade because of errors.
  [gcc-9.2.0]   make[4]: *** [stage2-bubble] Error 2
  [gcc-9.2.0]   make[4]: Target `stage3-bubble' not remade because of errors.
  [gcc-9.2.0]   make[3]: *** [all] Error 2
  [gcc-9.2.0]   ********************************************************************************
  [gcc-9.2.0]   Error building gcc-9.2.0
  [gcc-9.2.0]   ********************************************************************************
  [gcc-9.2.0]   
  [gcc-9.2.0]   real	29m43.664s
  [gcc-9.2.0]   user	215m9.194s
  [gcc-9.2.0]   sys	11m33.054s
  [gcc-9.2.0]   ************************************************************************
  [gcc-9.2.0]   Error building package gcc-9.2.0
  [gcc-9.2.0]   ************************************************************************
  [gcc-9.2.0] Full log file: /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/logs/pkgs/gcc-9.2.0.log
```


That's using homebrew's mpc...

```
Checking whether SageMath should install SPKG mpc...
checking installing mpfr? ... no
checking mpc.h usability... yes
checking mpc.h presence... yes
checking for mpc.h... yes
checking for library containing mpc_cmp_abs... -lmpc
configure: will use system package and not install SPKG mpc
using mpc library from the system
```



---

Comment by jhpalmieri created at 2020-04-22 17:18:25

I see a similar error about `mpc`. This is with a bunch of homebrew packages installed and with `./configure --with-system-gcc=no`.


---

Comment by mkoeppe created at 2020-04-25 18:14:22

This ticket seems outdated, as we have made a major gcc spkg upgrade since. I have opened #29580 for the new, unrelated error.


---

Comment by mkoeppe created at 2020-04-25 18:14:22

Changing status from new to needs_review.


---

Comment by jhpalmieri created at 2020-04-25 18:42:52

Changing status from needs_review to positive_review.


---

Comment by jhpalmieri created at 2020-04-25 18:42:52

Okay.


---

Comment by chapoton created at 2020-05-19 15:43:02

Resolution: invalid
