# Issue 12132: Singular build failure on OS X 10.4 when directory name is long

archive/issues_012132.json:
```json
{
    "body": "Assignee: tbd\n\nCC:  @malb @kcrisman\n\nWhen building Sage within a directory with a long name, singular fails to build on OS X 10.4.  For example:\n\n```\n$ pwd\n/Users/jdemeyer/xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx-sage-4.8\n```\n\n\nThis problem was discovered by the newly added \"moufang\" (UGent) buildbot.\n\nThis is because of a problem with `src/factory/configure` and is fixed by generating `configure` with a more recent `autoconf` version.\n\nIssue created by migration from https://trac.sagemath.org/ticket/12304\n\n",
    "created_at": "2012-01-13T11:07:02Z",
    "labels": [
        "packages: standard",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.0",
    "title": "Singular build failure on OS X 10.4 when directory name is long",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12132",
    "user": "@jdemeyer"
}
```
Assignee: tbd

CC:  @malb @kcrisman

When building Sage within a directory with a long name, singular fails to build on OS X 10.4.  For example:

```
$ pwd
/Users/jdemeyer/xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx-sage-4.8
```


This problem was discovered by the newly added "moufang" (UGent) buildbot.

This is because of a problem with `src/factory/configure` and is fixed by generating `configure` with a more recent `autoconf` version.

Issue created by migration from https://trac.sagemath.org/ticket/12304





---

archive/issue_comments_140812.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-01-13T11:29:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12132",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12132#issuecomment-140812",
    "user": "@jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_140813.json:
```json
{
    "body": "Changing priority from major to critical.",
    "created_at": "2012-01-13T11:32:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12132",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12132#issuecomment-140813",
    "user": "@jdemeyer"
}
```

Changing priority from major to critical.



---

archive/issue_comments_140814.json:
```json
{
    "body": "So do you think this is the problem I had?  After all, names with `prealpha` in them are longer than those with `alpha` in them...",
    "created_at": "2012-01-13T19:49:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12132",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12132#issuecomment-140814",
    "user": "@kcrisman"
}
```

So do you think this is the problem I had?  After all, names with `prealpha` in them are longer than those with `alpha` in them...



---

archive/issue_comments_140815.json:
```json
{
    "body": "Replying to [comment:3 kcrisman]:\n> So do you think this is the problem I had?\nThe new spkg fixes a problem, but I don't know if this caused your build failure.  Just try the new spkg here and let me know whether it works...",
    "created_at": "2012-01-13T22:45:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12132",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12132#issuecomment-140815",
    "user": "@jdemeyer"
}
```

Replying to [comment:3 kcrisman]:
> So do you think this is the problem I had?
The new spkg fixes a problem, but I don't know if this caused your build failure.  Just try the new spkg here and let me know whether it works...



---

archive/issue_comments_140816.json:
```json
{
    "body": "Replying to [comment:3 kcrisman]:\n> So do you think this is the problem I had?\nNo, I reproduced your problem.  It has nothing to do with Singular, it is caused by #11073.  Can you copy the file `spkg/bin/testcc.sh` to `local/bin/testcc.sh` and try building again?  This file was moved in #11073.",
    "created_at": "2012-01-15T09:58:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12132",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12132#issuecomment-140816",
    "user": "@jdemeyer"
}
```

Replying to [comment:3 kcrisman]:
> So do you think this is the problem I had?
No, I reproduced your problem.  It has nothing to do with Singular, it is caused by #11073.  Can you copy the file `spkg/bin/testcc.sh` to `local/bin/testcc.sh` and try building again?  This file was moved in #11073.



---

archive/issue_comments_140817.json:
```json
{
    "body": "> > So do you think this is the problem I had?\n> No, I reproduced your problem.  It has nothing to do with Singular, it is caused by #11073.  Can you copy the file `spkg/bin/testcc.sh` to `local/bin/testcc.sh` and try building again?  This file was moved in #11073.\nI *finally* was able to get Xcode for one of my old home computers with similar specs, and building 5.0.beta0 went fine (which has the full #11073, including the cp to local/bin).    Still checking on my work computer but no problems in Singular thus far.",
    "created_at": "2012-01-17T14:56:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12132",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12132#issuecomment-140817",
    "user": "@kcrisman"
}
```

> > So do you think this is the problem I had?
> No, I reproduced your problem.  It has nothing to do with Singular, it is caused by #11073.  Can you copy the file `spkg/bin/testcc.sh` to `local/bin/testcc.sh` and try building again?  This file was moved in #11073.
I *finally* was able to get Xcode for one of my old home computers with similar specs, and building 5.0.beta0 went fine (which has the full #11073, including the cp to local/bin).    Still checking on my work computer but no problems in Singular thus far.



---

archive/issue_comments_140818.json:
```json
{
    "body": "I can try to build Sage with a really long directory name if you'd like to test this ticket.  How long will it have to be?",
    "created_at": "2012-01-17T14:57:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12132",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12132#issuecomment-140818",
    "user": "@kcrisman"
}
```

I can try to build Sage with a really long directory name if you'd like to test this ticket.  How long will it have to be?



---

archive/issue_comments_140819.json:
```json
{
    "body": "It doesn't have to be super-long, try the example in the ticket description.",
    "created_at": "2012-01-17T15:49:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12132",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12132#issuecomment-140819",
    "user": "@jdemeyer"
}
```

It doesn't have to be super-long, try the example in the ticket description.



---

archive/issue_comments_140820.json:
```json
{
    "body": "> It doesn't have to be super-long, try the example in the ticket description.\nOkay, I'll try this when the load is lower on that computer.\n\n----\n\nThe #11073 definitely was fixed, thanks.",
    "created_at": "2012-01-17T16:29:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12132",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12132#issuecomment-140820",
    "user": "@kcrisman"
}
```

> It doesn't have to be super-long, try the example in the ticket description.
Okay, I'll try this when the load is lower on that computer.

----

The #11073 definitely was fixed, thanks.



---

archive/issue_comments_140821.json:
```json
{
    "body": "Okay, I have now observed the failure.  I've downloaded the new spkg and should know more in about an hour.  Actually, more like five minutes since that's where the other one broke, but might as well let it finish :)",
    "created_at": "2012-01-19T13:35:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12132",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12132#issuecomment-140821",
    "user": "@kcrisman"
}
```

Okay, I have now observed the failure.  I've downloaded the new spkg and should know more in about an hour.  Actually, more like five minutes since that's where the other one broke, but might as well let it finish :)



---

archive/issue_comments_140822.json:
```json
{
    "body": "It works!  I will *not* try this on other platforms, trusting it works to the release manager.  I'm certainly not going to try to compare that new conf file to the old one, and I don't understand it in any case.\n\nIt seems like the changes in the spkg are not checked in, though.  Since that's the case, you might as well fix the typo \"spgk-changes\" in SPKG.txt.",
    "created_at": "2012-01-19T15:25:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12132",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12132#issuecomment-140822",
    "user": "@kcrisman"
}
```

It works!  I will *not* try this on other platforms, trusting it works to the release manager.  I'm certainly not going to try to compare that new conf file to the old one, and I don't understand it in any case.

It seems like the changes in the spkg are not checked in, though.  Since that's the case, you might as well fix the typo "spgk-changes" in SPKG.txt.



---

archive/issue_comments_140823.json:
```json
{
    "body": "Replying to [comment:12 kcrisman]:\n> It works!  I will *not* try this on other platforms, trusting it works to the release manager.\nIn any case, the release will be tested on the buildbot.\n\n> I'm certainly not going to try to compare that new conf file to the old one, and I don't understand it in any case.\nObviously, you shouldn't.  Now that upstream made the same change, you can consider the patch as coming from upstream.\n\n> It seems like the changes in the spkg are not checked in, though.\nDone.\n\n> Since that's the case, you might as well fix the typo \"spgk-changes\" in SPKG.txt.\nDone.",
    "created_at": "2012-01-19T16:42:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12132",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12132#issuecomment-140823",
    "user": "@jdemeyer"
}
```

Replying to [comment:12 kcrisman]:
> It works!  I will *not* try this on other platforms, trusting it works to the release manager.
In any case, the release will be tested on the buildbot.

> I'm certainly not going to try to compare that new conf file to the old one, and I don't understand it in any case.
Obviously, you shouldn't.  Now that upstream made the same change, you can consider the patch as coming from upstream.

> It seems like the changes in the spkg are not checked in, though.
Done.

> Since that's the case, you might as well fix the typo "spgk-changes" in SPKG.txt.
Done.



---

archive/issue_comments_140824.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-01-19T16:55:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12132",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12132#issuecomment-140824",
    "user": "@kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_140825.json:
```json
{
    "body": "Looks good.",
    "created_at": "2012-01-19T16:55:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12132",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12132#issuecomment-140825",
    "user": "@kcrisman"
}
```

Looks good.



---

archive/issue_comments_140826.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-01-20T08:37:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12132",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12132#issuecomment-140826",
    "user": "@jdemeyer"
}
```

Resolution: fixed
