# Issue 12807: Introspection with wildcards should be careful with the evaluation of attributes

Issue created by migration from Trac.

Original creator: nthiery

Original creation time: 2012-05-19 17:18:00

Assignee: was

CC:  sage-combinat

Keywords: introspection, wildcards


```
    sage: I.*conj*?
    Traceback (most recent call last):
    KABOOOM
    TypeError: expressions containing only a numeric coefficient, constant or symbol have no operands
```


Behind the scene, ``I.*conj*?`` currently evaluates all attributes of
``I``. However some lazy attribute, or more generally properties, may
trigger an error in the process; here it is:


```
sage: I.op
------------------------------------------------------------
Traceback (most recent call last):
  File "<ipython console>", line 1, in <module>
  File "expression.pyx", line 4048, in sage.symbolic.expression.Expression.op.__get__ (sage/symbolic/expression.cpp:18034)
TypeError: expressions containing only a numeric coefficient, constant or symbol have no operands
```


This issue prevents introspection for quite simple objects. There
certainly are use cases where evaluating all attributes would not
raise errors, but could be prohibitively long (more than 1s is almost
unacceptable for interactive introspection).

At the minimum, introspection should trap those errors, and ignore
them gracefully. Maybe it should even not evaluate at all the
attributes, and just use dir.

