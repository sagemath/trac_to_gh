# Issue 15276: Polynomial factorization over generic fields

archive/issues_015276.json:
```json
{
    "body": "CC:  @defeo\n\nFactorization is a fundamental building block of computer algebra, yet Sage is\nstill missing a generic implementation of factorization that would\nwork over any (reasonable) field. Students and colleagues are stumbling over this over and over.\n\nFor example, the following currently raise NotImplementedError:\n\n```\nsage: K = QQ['x0,x1'].fraction_field()\nsage: x0,x1 = K.gens()\nsage: x = K['x'].gen()\nsage: p = x^2 - (x0+x1)*x\nsage: factor(p)\n```\n\n\nWe might want this to work too:\n\n\n```\nsage: K = QQ['x0,x1']\nsage: x0,x1 = K.gens()\nsage: x = K['x'].gen()\nsage: p = x^2 - (x0+x1)*x\nsage: factor(p)\n```\n\n\nBy the way, here is one of my favorite MuPAD demo about genericity:\n\n```\nQ  := Dom::Rational:\nQx := Dom::Fraction(Dom::UnivariatePolynomial(x, Q)):\nF  := Dom::AlgebraicExtension(Qx, poly(z^2 - x, [z])):\nP  := Dom::UnivariatePolynomial(u,F):\nP(u*z)*P(z)\n                              x u\nf := P(u^2 - x^3);\nfactor(f);\n                      (u + x z) (u - x z)\n```\n\nThis ought to work in Sage too, but it fails because Sage can't test\nthe primality of z^2-x below:\n\n```\nsage: Px.<x> = QQ[]\nsage: Qx = Px.fraction_field()\nsage: Qxz = Qx['z']\nsage: z = Qxz.gen()\nsage: (z^2-x).is_irreducible()\n---------------------------------------------------------------------------\nNotImplementedError                       Traceback (most recent call last)\n```\n\n\nSo the algebraic extension is not recognized as giving a field:\n\n```\nsage: F = Qxz.quo(z^2-x)\nsage: F in Fields()\n```\n\n\nHaving a factorization over generic fields should do the job.\n\nIssue created by migration from https://trac.sagemath.org/ticket/15513\n\n",
    "created_at": "2013-12-11T21:38:38Z",
    "labels": [
        "component: factorization"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Polynomial factorization over generic fields",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15276",
    "user": "https://github.com/nthiery"
}
```
CC:  @defeo

Factorization is a fundamental building block of computer algebra, yet Sage is
still missing a generic implementation of factorization that would
work over any (reasonable) field. Students and colleagues are stumbling over this over and over.

For example, the following currently raise NotImplementedError:

```
sage: K = QQ['x0,x1'].fraction_field()
sage: x0,x1 = K.gens()
sage: x = K['x'].gen()
sage: p = x^2 - (x0+x1)*x
sage: factor(p)
```


We might want this to work too:


```
sage: K = QQ['x0,x1']
sage: x0,x1 = K.gens()
sage: x = K['x'].gen()
sage: p = x^2 - (x0+x1)*x
sage: factor(p)
```


By the way, here is one of my favorite MuPAD demo about genericity:

```
Q  := Dom::Rational:
Qx := Dom::Fraction(Dom::UnivariatePolynomial(x, Q)):
F  := Dom::AlgebraicExtension(Qx, poly(z^2 - x, [z])):
P  := Dom::UnivariatePolynomial(u,F):
P(u*z)*P(z)
                              x u
f := P(u^2 - x^3);
factor(f);
                      (u + x z) (u - x z)
```

This ought to work in Sage too, but it fails because Sage can't test
the primality of z^2-x below:

```
sage: Px.<x> = QQ[]
sage: Qx = Px.fraction_field()
sage: Qxz = Qx['z']
sage: z = Qxz.gen()
sage: (z^2-x).is_irreducible()
---------------------------------------------------------------------------
NotImplementedError                       Traceback (most recent call last)
```


So the algebraic extension is not recognized as giving a field:

```
sage: F = Qxz.quo(z^2-x)
sage: F in Fields()
```


Having a factorization over generic fields should do the job.

Issue created by migration from https://trac.sagemath.org/ticket/15513





---

archive/issue_events_045310.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15276",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15276#event-45310"
}
```



---

archive/issue_events_045311.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15276",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15276#event-45311"
}
```



---

archive/issue_events_045312.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15276",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15276#event-45312"
}
```



---

archive/issue_events_045313.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15276",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15276#event-45313"
}
```



---

archive/issue_events_045314.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15276",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15276#event-45314"
}
```



---

archive/issue_comments_196209.json:
```json
{
    "body": "Replying to [ticket:15513 nthiery]:\n> Sage is still missing a generic implementation of factorization that would\n> work over any (reasonable) field.\nThis issue is **way** too general. I think it fails bullet points 2 and 4 of [http://www.sagemath.org/doc/developer/trac.html#guidelines-for-opening-tickets](http://www.sagemath.org/doc/developer/trac.html#guidelines-for-opening-tickets)",
    "created_at": "2014-10-08T09:25:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15276#issuecomment-196209",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [ticket:15513 nthiery]:
> Sage is still missing a generic implementation of factorization that would
> work over any (reasonable) field.
This issue is **way** too general. I think it fails bullet points 2 and 4 of [http://www.sagemath.org/doc/developer/trac.html#guidelines-for-opening-tickets](http://www.sagemath.org/doc/developer/trac.html#guidelines-for-opening-tickets)



---

archive/issue_comments_196210.json:
```json
{
    "body": "Replying to [comment:6 jdemeyer]:\n> Replying to [ticket:15513 nthiery]:\n> > Sage is still missing a generic implementation of factorization that would\n> > work over any (reasonable) field.\n> This issue is **way** too general. I think it fails bullet points 2 and 4 of [http://www.sagemath.org/doc/developer/trac.html#guidelines-for-opening-tickets](http://www.sagemath.org/doc/developer/trac.html#guidelines-for-opening-tickets)\n\nWhy too general? It asks for a very specific feature: having a default generic implementation of multivariate polynomials over (reasonably computable) fields. There exists algorithms for this, e.g. implemented in MuPAD.",
    "created_at": "2014-10-08T09:39:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15276#issuecomment-196210",
    "user": "https://github.com/nthiery"
}
```

Replying to [comment:6 jdemeyer]:
> Replying to [ticket:15513 nthiery]:
> > Sage is still missing a generic implementation of factorization that would
> > work over any (reasonable) field.
> This issue is **way** too general. I think it fails bullet points 2 and 4 of [http://www.sagemath.org/doc/developer/trac.html#guidelines-for-opening-tickets](http://www.sagemath.org/doc/developer/trac.html#guidelines-for-opening-tickets)

Why too general? It asks for a very specific feature: having a default generic implementation of multivariate polynomials over (reasonably computable) fields. There exists algorithms for this, e.g. implemented in MuPAD.



---

archive/issue_comments_196211.json:
```json
{
    "body": "Please remove the working examples from the ticket description such that it's more clear what you actually want.",
    "created_at": "2014-10-08T09:45:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15276#issuecomment-196211",
    "user": "https://github.com/jdemeyer"
}
```

Please remove the working examples from the ticket description such that it's more clear what you actually want.



---

archive/issue_comments_196212.json:
```json
{
    "body": "Replying to [comment:8 nthiery]:\n> Why too general? It asks for a very specific feature: having a default generic implementation of multivariate polynomials over (reasonably computable) fields.\nFine, but none of the examples in your description was an example of a factorization of a **multi**-variate polynomial over a **field** which currently **fails** in Sage.",
    "created_at": "2014-10-08T11:42:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15276#issuecomment-196212",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:8 nthiery]:
> Why too general? It asks for a very specific feature: having a default generic implementation of multivariate polynomials over (reasonably computable) fields.
Fine, but none of the examples in your description was an example of a factorization of a **multi**-variate polynomial over a **field** which currently **fails** in Sage.



---

archive/issue_comments_196213.json:
```json
{
    "body": "Note: I'm not trying to deny that there are issues with factorization of polynomials in Sage, but at least make it clear what this ticket is really about.",
    "created_at": "2014-10-08T11:45:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15276#issuecomment-196213",
    "user": "https://github.com/jdemeyer"
}
```

Note: I'm not trying to deny that there are issues with factorization of polynomials in Sage, but at least make it clear what this ticket is really about.



---

archive/issue_comments_196214.json:
```json
{
    "body": "I agree that the description was crappy, and my latest update had not improved it. I was in the middle of discussion with the Singular people and just wanted to make sure I had updated the datapoints, before going back to it later.\n\nBut please don't destroy data points! Those are vital to reproduce issues and measure progress.",
    "created_at": "2014-10-09T11:25:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15276#issuecomment-196214",
    "user": "https://github.com/nthiery"
}
```

I agree that the description was crappy, and my latest update had not improved it. I was in the middle of discussion with the Singular people and just wanted to make sure I had updated the datapoints, before going back to it later.

But please don't destroy data points! Those are vital to reproduce issues and measure progress.



---

archive/issue_comments_196215.json:
```json
{
    "body": "Replying to [comment:17 nthiery]:\n> But please don't destroy data points!\nInitially, I planned to remove all examples which didn't fit the description. Until I realized I had no examples left...",
    "created_at": "2014-10-09T11:34:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15276#issuecomment-196215",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:17 nthiery]:
> But please don't destroy data points!
Initially, I planned to remove all examples which didn't fit the description. Until I realized I had no examples left...



---

archive/issue_comments_196216.json:
```json
{
    "body": "> Implement a generic implementation of univariate polynomial\n> factorization that would work over any (computable enough) field.\nThis is still way too general. I think the two examples you mention really should be 2 tickets, and those tickets should be just about those examples, nothing too general.",
    "created_at": "2014-10-09T11:37:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15276#issuecomment-196216",
    "user": "https://github.com/jdemeyer"
}
```

> Implement a generic implementation of univariate polynomial
> factorization that would work over any (computable enough) field.
This is still way too general. I think the two examples you mention really should be 2 tickets, and those tickets should be just about those examples, nothing too general.



---

archive/issue_comments_196217.json:
```json
{
    "body": "Replying to [comment:17 nthiery]:\n> But please don't destroy data points! Those are vital to reproduce issues and measure progress.\nWhat's the point of having information like \"this used to fail, but now works\"?",
    "created_at": "2014-10-09T11:37:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15276#issuecomment-196217",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:17 nthiery]:
> But please don't destroy data points! Those are vital to reproduce issues and measure progress.
What's the point of having information like "this used to fail, but now works"?



---

archive/issue_comments_196218.json:
```json
{
    "body": "Replying to [comment:19 jdemeyer]:\n> This is still way too general. I think the two examples you mention really should be 2 tickets, and those tickets should be just about those examples, nothing too general.\n\nI agree we could split a second ticket for factorization over a ring. But for fields I don't see how it is too general: as far as I know, there exist generic algorithms that cover all cases.",
    "created_at": "2014-10-09T11:40:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15276#issuecomment-196218",
    "user": "https://github.com/nthiery"
}
```

Replying to [comment:19 jdemeyer]:
> This is still way too general. I think the two examples you mention really should be 2 tickets, and those tickets should be just about those examples, nothing too general.

I agree we could split a second ticket for factorization over a ring. But for fields I don't see how it is too general: as far as I know, there exist generic algorithms that cover all cases.



---

archive/issue_comments_196219.json:
```json
{
    "body": "Replying to [comment:20 jdemeyer]:\n> Replying to [comment:17 nthiery]:\n> > But please don't destroy data points! Those are vital to reproduce issues and measure progress.\n> What's the point of having information like \"this used to fail, but now works\"?\n\nTracking progress, and keeping a trace of history. For example, people may stumble on similar issues with various versions of Sage and want to report it. And learn from the ticket \"nice, my special case is now fixed, but I should be careful because not all cases are\".\n\nAnd honestly I don't see, with the new layout, what disadvantage there can be of having this information.\n\nAnyway, I am bailing out of this discussion. It's not my area, I have tried to bring in as much useful information I could, if you know better how to lay it out so that the job gets done, go ahead.",
    "created_at": "2014-10-09T11:47:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15276#issuecomment-196219",
    "user": "https://github.com/nthiery"
}
```

Replying to [comment:20 jdemeyer]:
> Replying to [comment:17 nthiery]:
> > But please don't destroy data points! Those are vital to reproduce issues and measure progress.
> What's the point of having information like "this used to fail, but now works"?

Tracking progress, and keeping a trace of history. For example, people may stumble on similar issues with various versions of Sage and want to report it. And learn from the ticket "nice, my special case is now fixed, but I should be careful because not all cases are".

And honestly I don't see, with the new layout, what disadvantage there can be of having this information.

Anyway, I am bailing out of this discussion. It's not my area, I have tried to bring in as much useful information I could, if you know better how to lay it out so that the job gets done, go ahead.



---

archive/issue_comments_196220.json:
```json
{
    "body": "Replying to [comment:21 nthiery]:\n> as far as I know, there exist generic algorithms that cover all cases.\nI have very strong doubts about this. Factorization algorithms over `CC`, over `QQ` and over `GF(q)` are very different, so I don't see how one algorithm could work in all cases.",
    "created_at": "2014-10-09T11:50:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15276#issuecomment-196220",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:21 nthiery]:
> as far as I know, there exist generic algorithms that cover all cases.
I have very strong doubts about this. Factorization algorithms over `CC`, over `QQ` and over `GF(q)` are very different, so I don't see how one algorithm could work in all cases.



---

archive/issue_comments_196221.json:
```json
{
    "body": "Replying to [comment:22 nthiery]:\n> And honestly I don't see, with the new layout, what disadvantage there can be of having this information.\nToo much irrelevant information can be confusing. But I'll leave it for now.",
    "created_at": "2014-10-09T11:52:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15276#issuecomment-196221",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:22 nthiery]:
> And honestly I don't see, with the new layout, what disadvantage there can be of having this information.
Too much irrelevant information can be confusing. But I'll leave it for now.



---

archive/issue_comments_196222.json:
```json
{
    "body": "> as far as I know, there exist generic algorithms that cover all cases.\nThere are generic algorithms for factorization of multi-variate polynomials, assuming you can do uni-variate factorization. Perhaps that's what you had in mind?",
    "created_at": "2014-10-09T12:10:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15276#issuecomment-196222",
    "user": "https://github.com/jdemeyer"
}
```

> as far as I know, there exist generic algorithms that cover all cases.
There are generic algorithms for factorization of multi-variate polynomials, assuming you can do uni-variate factorization. Perhaps that's what you had in mind?



---

archive/issue_comments_196223.json:
```json
{
    "body": "Oh, wait, wait, wait, where is my mind ... Yes, of course factorization over K[x] for K=QQ, CC, ... is completely different; I am even illustrating this in my usuals intros to Sage :-)\n\nSo, let's see. What I had in mind was indeed generic factorization algorithm for the standard constructions of fields from existing ones.\n\nOk, I'll try now to rewrite the description in a proper way. It's not my area, so please clarify it :-)",
    "created_at": "2014-10-10T12:28:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15276#issuecomment-196223",
    "user": "https://github.com/nthiery"
}
```

Oh, wait, wait, wait, where is my mind ... Yes, of course factorization over K[x] for K=QQ, CC, ... is completely different; I am even illustrating this in my usuals intros to Sage :-)

So, let's see. What I had in mind was indeed generic factorization algorithm for the standard constructions of fields from existing ones.

Ok, I'll try now to rewrite the description in a proper way. It's not my area, so please clarify it :-)



---

archive/issue_comments_196224.json:
```json
{
    "body": "Changing type from enhancement to task.",
    "created_at": "2014-10-10T13:19:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15276#issuecomment-196224",
    "user": "https://github.com/nthiery"
}
```

Changing type from enhancement to task.



---

archive/issue_comments_196225.json:
```json
{
    "body": "Ok, a first draft is there. Please, someone competent, expand it as appropriate!",
    "created_at": "2014-10-10T13:20:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15276",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15276#issuecomment-196225",
    "user": "https://github.com/nthiery"
}
```

Ok, a first draft is there. Please, someone competent, expand it as appropriate!
