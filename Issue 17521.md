# Issue 17521: Intervals and numpy floats do not compare correctly

Issue created by migration from Trac.

Original creator: f.poloni

Original creation time: 2015-02-10 10:01:09

Comparison operators between real interval field members and numpy float numbers always return false:

```
sage: import numpy as np
sage: RIF(1) <= 2.0
True
sage: RIF(1) <= RealNumber(2.0)
True
sage: RIF(1) <= np.float64(2.0)
False
```




---

Comment by vdelecroix created at 2015-02-10 10:59:02

Hello,

See also #13386. The problem is that Sage needs to avoid loading numpy at startup. This is still doable but require a bit of work (see in #13386).

Vincent


---

Comment by f.poloni created at 2015-02-10 11:06:12

I agree, it looks like a duplicate. Sorry for not finding #13386 myself, I was searching only for "interval".

I understand that loading numpy slows down the startup time, but on the other hand this quirky behavior can cause nasty bugs in user code.


---

Comment by vdelecroix created at 2015-03-28 12:06:23

Hello,

I propose to close this as duplicate because of #18076. With the branch applied

```
sage: import numpy as np
sage: RIF(1) <= np.float64(2.0)
True
```

Though, if the numpy element is on the left this is still an issue (see #8824).

Vincent


---

Comment by vdelecroix created at 2015-03-28 12:06:23

Changing status from new to needs_review.


---

Comment by f.poloni created at 2015-03-28 12:23:08

Original reporter here; your proposal sounds good to me, and I am looking forward for your patch to close #18076 to be included in master.


---

Comment by jdemeyer created at 2015-04-23 09:56:44

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-04-23 14:52:24

Resolution: duplicate
