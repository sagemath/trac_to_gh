# Issue 22329: Integrate ceil(x) via sympy raises an AttributeError

Issue created by migration from Trac.

Original creator: pelegm

Original creation time: 2017-03-10 11:33:22

Keywords: ceil,integrate,sympy


```python
sage: integrate(ceil(x), x, 0, infinity, algorithm='sympy')
```

leads to

```pytb
Traceback (most recent call last):
  File "<ipython-input-3-257ec54e6dd3>", line 1, in <module>
    integrate(ceil(x), x, Integer(0), infinity, algorithm='sympy')
  File "/home/peleg/sage/local/lib/python2.7/site-packages/sage/misc/functional.py", line 664, in integral
    return x.integral(*args, **kwds)
  File "sage/symbolic/expression.pyx", line 11766, in sage.symbolic.expression.Expression.integral (build/cythonized/sage/symbolic/expression.cpp:65026)
    return integral(self, *args, **kwds)
  File "/home/peleg/sage/local/lib/python2.7/site-packages/sage/symbolic/integration/integral.py", line 773, in integrate
    return integrator(expression, v, a, b)
  File "/home/peleg/sage/local/lib/python2.7/site-packages/sage/symbolic/integration/external.py", line 42, in sympy_integrator
    return result._sage_()
  File "/home/peleg/sage/local/lib/python2.7/site-packages/sympy/integrals/integrals.py", line 1100, in _sage_
    f, limits = self.function._sage_(), list(self.limits)
  File "/home/peleg/sage/local/lib/python2.7/site-packages/sympy/core/function.py", line 707, in _sage_
    func = getattr(sage, fname)
AttributeError: 'module' object has no attribute 'ceiling'
```



---

Comment by rws created at 2017-03-11 06:39:30

This has to be fixed in SymPy. This ticket should monitor progress and commit a doctest.


---

Comment by rws created at 2017-10-17 06:24:35

Last 10 new commits:


---

Comment by rws created at 2017-10-17 06:24:35

Changing status from new to needs_review.


---

Comment by git created at 2017-10-17 06:41:37

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-10-17 16:12:26

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mforets created at 2017-10-18 15:15:22

Changing status from needs_review to positive_review.


---

Comment by mforets created at 2017-10-18 15:15:22

LGTM.


---

Comment by vbraun created at 2017-11-01 18:07:46

Resolution: fixed
