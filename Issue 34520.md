# Issue 34520: A difficult limit

Issue created by migration from https://trac.sagemath.org/ticket/34757

Original creator: charpent

Original creation time: 2022-11-18 19:46:54

Keywords: limit

Inspiration : see [this ask.sagemath.org question](https://ask.sagemath.org/question/64794/inconsistentincorrect-value-of-limit-involving-tan-and-tanh/).


```
sage: f(x)=log(tan(pi/2*tanh(x))).diff(x) ; f
x |--> -1/2*pi*(tan(1/2*pi*tanh(x))^2 + 1)*(tanh(x)^2 - 1)/tan(1/2*pi*tanh(x))
sage: f(x).limit(x=oo)
0
sage: f(x).trig_reduce().trig_simplify().trig_reduce().limit(x=oo)
2
```


As discussed inn the inspirating question's comment, the first answer is false, the second is correct. Furthermore :

* Maxima exhibits a different but similar problem, with the same wokaround ; this has been [reported](https://sourceforge.net/p/maxima/bugs/4048/).

* `algorithm="sympy"` "never" returns, but a similar workaround can be found ; this has been [reported](https://github.com/sympy/sympy/issues/24276).

* `algorithm="giac"` returns the correct answer.

* `algorithm="fricas"` fails.
