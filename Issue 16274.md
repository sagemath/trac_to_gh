# Issue 16274: Fix solve_right for matrices over IntegerModRing

Issue created by migration from https://trac.sagemath.org/ticket/16511

Original creator: pbruin

Original creation time: 2014-06-21 14:16:49

CC:  jakobkroeker

Keywords: matrix integer_mod solve_right

Here are two bugs in `Matrix.solve_right()`:

```
sage: A = Matrix.identity(2)
sage: B = Matrix.identity(Zmod(8), 2)
sage: B.solve_right(A)
...
AttributeError: 'sage.rings.integer_ring.IntegerRing_class' object has no attribute 'cover_ring'
sage: B.solve_right(B)
...
PariError: syntax error, unexpected ')', expecting )-> or ',': (1,0)
```

In the first case, there is no solution due to the different base rings; we should at least return a more informative error message.  In the second case, `B` itself is the unique solution.


---

Comment by jakobkroeker created at 2017-03-04 00:51:22

Now we get 

```
sage: A = Matrix.identity(2)
sage: B = Matrix.identity(Zmod(8), 2)
sage: B.solve_right(A)

[1]
[0]
sage: B.solve_right(B)

[1]
[0]

```



---

Comment by sbrandhorst created at 2018-02-03 10:34:30

Changing status from new to needs_review.


---

Comment by sbrandhorst created at 2018-02-03 10:34:30

New commits:


---

Comment by roed created at 2018-05-17 17:17:40

The line `ret = A.matsolvemod(K.cardinality(), b)` is unnecessarily repeated.  Also, why is the final return statement removed?


---

Comment by roed created at 2018-05-17 17:17:40

Changing status from needs_review to needs_work.


---

Comment by git created at 2018-05-18 05:55:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by sbrandhorst created at 2018-05-18 05:57:46

indeed


---

Comment by sbrandhorst created at 2018-05-18 05:57:46

Changing status from needs_work to needs_review.


---

Comment by roed created at 2018-05-18 16:34:54

Changing status from needs_review to positive_review.


---

Comment by roed created at 2018-05-18 16:34:54

Looks good!


---

Comment by vbraun created at 2018-05-19 15:56:41

Resolution: fixed
