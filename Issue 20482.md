# Issue 20482: HOMFLY polynomial of links.

Issue created by migration from https://trac.sagemath.org/ticket/20719

Original creator: mmarco

Original creation time: 2016-05-30 15:59:15

CC:  vbraun kcrisman amitjadagni fugelde tscrim

Keywords: days74

This branch adds a method for computing the HOMFLY polynomial of links. It deppends on #18057 and #18047.


---

Comment by mmarco created at 2016-05-30 15:59:59

Changing type from PLEASE CHANGE to enhancement.


---

Comment by mmarco created at 2016-05-30 17:54:27

New commits:


---

Comment by mmarco created at 2016-05-30 17:54:27

Changing status from new to needs_review.


---

Comment by git created at 2016-05-31 15:25:04

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2016-05-31 22:34:38

I've made some tweaks. We should also test other examples, such as two unknots and the Boromean rings (since those are the (lib)homfly examples).
----
New commits:


---

Comment by git created at 2016-06-01 13:06:49

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by tscrim created at 2016-06-01 13:08:38

Changing status from needs_review to needs_info.


---

Comment by tscrim created at 2016-06-01 13:08:38

We might have a problem:

```
sage: B = BraidGroup(3)
sage: K = Knot(B([-1,-1,-1,-1,-1,-1,-2,1,-2,-2]))  # Knot 9_6
L^10*M^4 - L^8*M^6 - 3*L^10*M^2 + 4*L^8*M^4 + L^6*M^6 + L^10 - 3*L^8*M^2 - 5*L^6*M^4 - L^8 + 7*L^6*M^2 - 3*L^6
```

Some of the signs are wrong in this example. Nathan is thinking it might possibly by a variable `a = -i M` and/or `b = -i L`, but still...

Also, I will add a description of the polynomial after the above issue gets resolved.


---

Comment by mmarco created at 2016-06-01 13:46:05

The problem is that there are many equivalent definitions of the homfly polynomial. All of them are related by a change of variables.

The homfly program, which we adapted to libhomfly, uses the one where the variables are called `L` and `M`. There are at least other two definitions that use the variables `\alpha` and `z` and `x`, `y` and `z` respectively.

In particular, the first two variables are related by multiplying the variables by `I`, as you said.

It is true that we should clarify which are the coordinates we take.


---

Comment by mmarco created at 2016-06-01 15:16:48

I think this basicallys solves the problem. If you compare the output with `normalization = 'az'` to the results shown in knot atlas, they should match.


---

Comment by tscrim created at 2016-06-01 15:22:06

New commits:


---

Comment by tscrim created at 2016-06-01 15:44:10

Changing status from needs_info to needs_review.


---

Comment by tscrim created at 2016-06-01 15:44:10

Great; thank you. I've added a note about the normalizations. I've fixed it so this didn't cause a segfault when there is more than one isolated component. I also added the extra little doc I wanted. If you're happy with my changes, then you can set a positive review.
----
New commits:


---

Comment by mmarco created at 2016-06-01 15:58:59

According to [1], the isolated components case is a bit more complicated than just the sum of them. 

The formula is the product of the homfly polynomials times `-(L + L ^(-1)) * M^(-1)` raised to the number of components minus one.

Now I have to check which is the right change of variables for the other normalization.

- 1 [http://mathworld.wolfram.com/HOMFLYPolynomial.html](http://mathworld.wolfram.com/HOMFLYPolynomial.html)


---

Comment by tscrim created at 2016-06-01 16:10:32

Changing status from needs_review to needs_work.


---

Comment by mmarco created at 2016-06-01 18:55:37

Changing status from needs_work to needs_review.


---

Comment by mmarco created at 2016-06-01 18:55:37

It should work now.


---

Comment by tscrim created at 2016-06-01 19:58:42

New commits:


---

Comment by tscrim created at 2016-06-01 20:00:21

Other than a trailing `]` here: `http://mathworld.wolfram.com/HOMFLYPolynomial.html]` LGTM. Thank you.


---

Comment by tscrim created at 2016-06-02 07:17:10

Okay, I made some last little doc tweaks. If you're okay with my changes, then you can set a positive review.
----
New commits:


---

Comment by mmarco created at 2016-06-02 08:26:27

Ups, wrong push, sorry.


---

Comment by mmarco created at 2016-06-02 09:01:36

I get an error when building documentation. Working on it.


---

Comment by tscrim created at 2016-06-02 09:07:50

Probably this: `L ^{-1}`, which needs to be `L^{-1}` (and similar for `a`).


---

Comment by tscrim created at 2016-06-02 09:09:04

Oh and the indentation is wrong:

```diff
         - ``normalization`` -- (default: ``lm``) the system of coordinates
-            and can be one of the following:
+          and can be one of the following:
```

(and for the rest of the block).


---

Comment by mmarco created at 2016-06-02 09:15:50

Ok, checking it now. If it builds, I will push the branch with the correction and give a positive review.


---

Comment by tscrim created at 2016-06-02 09:16:16

Replying to [comment:25 mmarco]:
> Ok, checking it now. If it builds, I will push the branch with the correction and give a positive review.

Sounds good. Thank you.


---

Comment by mmarco created at 2016-06-02 12:01:10

New commits:


---

Comment by mmarco created at 2016-06-02 12:01:10

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2016-06-02 12:02:20

Changing status from positive_review to needs_work.


---

Comment by tscrim created at 2016-06-02 12:02:20

There's a few things in the doc I need to tweak.


---

Comment by tscrim created at 2016-06-02 12:09:37

Okay, that will do it. Thank you for all your work on this.
----
New commits:


---

Comment by tscrim created at 2016-06-02 12:09:37

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2016-06-03 21:49:31

Resolution: fixed
