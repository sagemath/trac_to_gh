# Issue 23601: Minor errors in integrated curves

Issue created by migration from https://trac.sagemath.org/ticket/23838

Original creator: karimvanaelst

Original creation time: 2017-09-12 08:26:28

CC:  egourgoulhon mbejger mmancini tscrim

Keywords: curve, manifold

- In method `solve` of class `IntegratedCurve`, the step of integration needs to be evaluated numerically (using `numerical_approx`) before calling any algorithm, in order to allow it to be an expression such as `pi`.
- In method `solve`, when using Bulirsch-Stoer algorithm ('bsimp'), method `ode_solve` was called in a wrong way.
- 'Bulirsch' was misspelled in documentation.


---

Comment by karimvanaelst created at 2017-09-12 08:31:06

Changing type from enhancement to defect.


---

Comment by karimvanaelst created at 2017-09-12 08:31:06

New commits:


---

Comment by karimvanaelst created at 2017-09-12 08:35:16

Changing status from new to needs_review.


---

Comment by tscrim created at 2017-09-12 13:53:27

I feel like the fact that the corresponding `solve` function does not numerically evaluate such expressions is a bug that deserves its own ticket and (independent) fix. Subsequently, I would remove those changes that work around it.

I cannot comment on the second point, so someone else will have to review that.


---

Comment by egourgoulhon created at 2017-09-13 08:53:40

The changes look good to me and I agree with comment:3. 

Besides, in the documentation of `IntegratedCurve.solve`, shouldn't it be mentioned that the default method (corresponding to `method=None`) is `rk4_maxima`?


---

Comment by git created at 2017-09-13 11:23:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by karimvanaelst created at 2017-09-13 11:25:44

Replying to [comment:5 git]:

Thank you for your comments.
Corrections did have to be made about `rk4_maxima` being the default algorithm of method `solve`, and the numerical evaluation of the step is then maintained until another ticket allows to remove it.


---

Comment by egourgoulhon created at 2017-09-13 12:24:53

Changing status from needs_review to positive_review.


---

Comment by egourgoulhon created at 2017-09-13 12:24:53

Replying to [comment:6 karimvanaelst]:
> Replying to [comment:5 git]:
> 
> Thank you for your comments.
> Corrections did have to be made about `rk4_maxima` being the default algorithm of method `solve`, and the numerical evaluation of the step is then maintained until another ticket allows to remove it.

Thanks!


---

Comment by vbraun created at 2017-09-18 22:15:16

Resolution: fixed
