# Issue 33850: inverse reciprocal trig functions not (back)translated to/from Mathematica

archive/issues_033850.json:
```json
{
    "body": "Consider\n\n\n```\nsage: IFL=[arcsin, arccos, arctan, arccot, arcsec, arccsc, arcsinh, arccosh, arctanh, arccoth, arcsech, arccsch]\nsage: [u(x)._mathematica_() for u in IFL]\n[ArcSin[x],   # OK\n ArcCos[x],   # OK\n ArcTan[x],   # OK\n Arccot[x],   # WRONG !\n Arcsec[x],   # WRONG !\n Arccsc[x],   # WRONG !\n ArcSinh[x],  # OK\n ArcCosh[x],  # OK\n ArcTanh[x],  # OK\n Arccoth[x],  # WRONG !\n Arcsech[x],  # WRONG !\n Arccsch[x]]  # WRONG !\n```\n\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/34087\n\n",
    "created_at": "2022-06-26T16:14:48Z",
    "labels": [
        "component: interfaces: optional",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "inverse reciprocal trig functions not (back)translated to/from Mathematica",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33850",
    "user": "https://github.com/EmmanuelCharpentier"
}
```
Consider


```
sage: IFL=[arcsin, arccos, arctan, arccot, arcsec, arccsc, arcsinh, arccosh, arctanh, arccoth, arcsech, arccsch]
sage: [u(x)._mathematica_() for u in IFL]
[ArcSin[x],   # OK
 ArcCos[x],   # OK
 ArcTan[x],   # OK
 Arccot[x],   # WRONG !
 Arcsec[x],   # WRONG !
 Arccsc[x],   # WRONG !
 ArcSinh[x],  # OK
 ArcCosh[x],  # OK
 ArcTanh[x],  # OK
 Arccoth[x],  # WRONG !
 Arcsech[x],  # WRONG !
 Arccsch[x]]  # WRONG !
```




Issue created by migration from https://trac.sagemath.org/ticket/34087





---

archive/issue_comments_480254.json:
```json
{
    "body": "Hello,\n\nwould you please test #34062 if you have Mathematica ?\n\nAnd for your issue, please check the conversions dictionary inside\n\n```\nsrc/sage/functions/trig.py\n```\n",
    "created_at": "2022-06-26T18:09:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480254",
    "user": "https://github.com/fchapoton"
}
```

Hello,

would you please test #34062 if you have Mathematica ?

And for your issue, please check the conversions dictionary inside

```
src/sage/functions/trig.py
```




---

archive/issue_comments_480255.json:
```json
{
    "body": "Replying to [comment:1 chapoton]:\n> Hello,\n> \n> would you please test #34062 if you have Mathematica ?\n\nI'll look into this. I also suggest to test against the Wolfram engine (newer than my (bootleg) copy of Mathematica) : I can look into this in a virtual Debian machine running under Windows. Is that sufficient ?\n \n> And for your issue, please check the conversions dictionary inside\n> {{{\n> src/sage/functions/trig.py\n> }}}\n\nThat's where  I fixed it (and in `src/sage/functions/hyperbolic.py`), doctests in `src/sage/interfaces/mathematica.py`.\n\nBut I currently can't push to trac (authentication problem, notwithstanding the recent upgrade of my key to ED25519)...",
    "created_at": "2022-06-26T19:49:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480255",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Replying to [comment:1 chapoton]:
> Hello,
> 
> would you please test #34062 if you have Mathematica ?

I'll look into this. I also suggest to test against the Wolfram engine (newer than my (bootleg) copy of Mathematica) : I can look into this in a virtual Debian machine running under Windows. Is that sufficient ?
 
> And for your issue, please check the conversions dictionary inside
> {{{
> src/sage/functions/trig.py
> }}}

That's where  I fixed it (and in `src/sage/functions/hyperbolic.py`), doctests in `src/sage/interfaces/mathematica.py`.

But I currently can't push to trac (authentication problem, notwithstanding the recent upgrade of my key to ED25519)...



---

archive/issue_comments_480256.json:
```json
{
    "body": "New commits:",
    "created_at": "2022-06-26T21:07:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480256",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

New commits:



---

archive/issue_comments_480257.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-06-26T21:11:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480257",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_480258.json:
```json
{
    "body": "Passes its own specific doctest (in `src/sage/interfaces/mathematica.py`) and `ptestlong`.\n\n==> `needs_review`.",
    "created_at": "2022-06-26T21:11:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480258",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Passes its own specific doctest (in `src/sage/interfaces/mathematica.py`) and `ptestlong`.

==> `needs_review`.



---

archive/issue_comments_480259.json:
```json
{
    "body": "hypergolic ?\n\nand missing the `optional - mathematica` tag",
    "created_at": "2022-06-27T06:41:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480259",
    "user": "https://github.com/fchapoton"
}
```

hypergolic ?

and missing the `optional - mathematica` tag



---

archive/issue_comments_480260.json:
```json
{
    "body": "Replying to [comment:5 chapoton]:\n> hypergolic ?\n\nWups ! I'm probably the worst typist east of the Pond...\n\n> and missing the `optional - mathematica` tag\n\nOkay, I'll fix it.\n\n==>`needs_work`",
    "created_at": "2022-06-28T16:29:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480260",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Replying to [comment:5 chapoton]:
> hypergolic ?

Wups ! I'm probably the worst typist east of the Pond...

> and missing the `optional - mathematica` tag

Okay, I'll fix it.

==>`needs_work`



---

archive/issue_comments_480261.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-06-28T16:29:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480261",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_480262.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-06-28T16:36:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480262",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480263.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-06-28T16:37:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480263",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_480264.json:
```json
{
    "body": "Replying to [comment:7 git]:\n> Branch pushed to git repo; I updated commit sha1. New commits:\n> ||[7b64a0f](https://git.sagemath.org/sage.git/commit/?id=7b64a0fd61c5a8df8cc389cebb1d8cfca835fc09)||`Trac 34087 : fix typo and thinko...`||\n\nDone. ==>`needs_review`.",
    "created_at": "2022-06-28T16:37:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480264",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Replying to [comment:7 git]:
> Branch pushed to git repo; I updated commit sha1. New commits:
> ||[7b64a0f](https://git.sagemath.org/sage.git/commit/?id=7b64a0fd61c5a8df8cc389cebb1d8cfca835fc09)||`Trac 34087 : fix typo and thinko...`||

Done. ==>`needs_review`.



---

archive/issue_comments_480265.json:
```json
{
    "body": "`# optional - mathematica` should rather be written after every doctest line, as you can see in all other examples inside `src/sage/interfaces/mathematica.py`",
    "created_at": "2022-06-30T17:34:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480265",
    "user": "https://github.com/fchapoton"
}
```

`# optional - mathematica` should rather be written after every doctest line, as you can see in all other examples inside `src/sage/interfaces/mathematica.py`



---

archive/issue_comments_480266.json:
```json
{
    "body": "Okayyy... Will fix it.",
    "created_at": "2022-06-30T19:39:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480266",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Okayyy... Will fix it.



---

archive/issue_comments_480267.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-06-30T19:39:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480267",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_480268.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-06-30T19:43:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480268",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480269.json:
```json
{
    "body": "Replying to [comment:11 git]:\n> Branch pushed to git repo; I updated commit sha1. New commits:\n> ||[5c52eea](https://git.sagemath.org/sage.git/commit/?id=5c52eea9607d9af3556d9e7a9ecbdd72caa3cc9d)||`Trac 34087 : fiddle with doctest formatting.`||\n\nThis nitpicking should be final...\n\n==>`needs_review`.",
    "created_at": "2022-06-30T19:45:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480269",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Replying to [comment:11 git]:
> Branch pushed to git repo; I updated commit sha1. New commits:
> ||[5c52eea](https://git.sagemath.org/sage.git/commit/?id=5c52eea9607d9af3556d9e7a9ecbdd72caa3cc9d)||`Trac 34087 : fiddle with doctest formatting.`||

This nitpicking should be final...

==>`needs_review`.



---

archive/issue_comments_480270.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-06-30T19:45:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480270",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_480271.json:
```json
{
    "body": "BTW : \"Lint\" and \"Build and test\" are marked as failing, but I'm unable to find the job logs pointing to the errors...*\n\nWhere is this documented ?",
    "created_at": "2022-06-30T19:55:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480271",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

BTW : "Lint" and "Build and test" are marked as failing, but I'm unable to find the job logs pointing to the errors...*

Where is this documented ?



---

archive/issue_comments_480272.json:
```json
{
    "body": "Forgot my name. Again...",
    "created_at": "2022-06-30T20:09:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480272",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Forgot my name. Again...



---

archive/issue_comments_480273.json:
```json
{
    "body": "Replying to [comment:13 charpent]:\n> BTW : \"Lint\" and \"Build and test\" are marked as failing, but I'm unable to find the job logs pointing to the errors...*\n> \n> Where is this documented ?\n\nhttps://trac.sagemath.org/wiki/ReleaseTours/sage-9.6#BuildsandchecksofticketbranchesonGitHubActions is what comes closest to a documentation of this",
    "created_at": "2022-07-01T01:12:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480273",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:13 charpent]:
> BTW : "Lint" and "Build and test" are marked as failing, but I'm unable to find the job logs pointing to the errors...*
> 
> Where is this documented ?

https://trac.sagemath.org/wiki/ReleaseTours/sage-9.6#BuildsandchecksofticketbranchesonGitHubActions is what comes closest to a documentation of this



---

archive/issue_comments_480274.json:
```json
{
    "body": "Replying to [comment:9 chapoton]:\n> `# optional - mathematica` should rather be written after every doctest line, as you can see in all other examples inside `src/sage/interfaces/mathematica.py`\n\nTo be more precise, it should be written on each `sage:` line but not on the `....:` lines.",
    "created_at": "2022-07-01T01:22:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480274",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:9 chapoton]:
> `# optional - mathematica` should rather be written after every doctest line, as you can see in all other examples inside `src/sage/interfaces/mathematica.py`

To be more precise, it should be written on each `sage:` line but not on the `....:` lines.



---

archive/issue_comments_480275.json:
```json
{
    "body": "Replying to [comment:13 charpent]:\n> BTW : \"Lint\" and \"Build and test\" are marked as failing, but I'm unable to find the job logs pointing to the errors...*\n\nThe \"Build and test\" workflow failed for an unrelated reason, fixed in #34104",
    "created_at": "2022-07-01T01:28:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480275",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:13 charpent]:
> BTW : "Lint" and "Build and test" are marked as failing, but I'm unable to find the job logs pointing to the errors...*

The "Build and test" workflow failed for an unrelated reason, fixed in #34104



---

archive/issue_comments_480276.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-07-01T21:30:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480276",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_480277.json:
```json
{
    "body": "Replying to [comment:16 mkoeppe]:\n> Replying to [comment:9 chapoton]:\n> > `# optional - mathematica` should rather be written after every doctest line, as you can see in all other examples inside `src/sage/interfaces/mathematica.py`\n> \n> To be more precise, it should be written on each `sage:` line but not on the `....:` lines.\n\nThe precision would have been more useful oif given, //before// the fix...",
    "created_at": "2022-07-01T21:30:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480277",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Replying to [comment:16 mkoeppe]:
> Replying to [comment:9 chapoton]:
> > `# optional - mathematica` should rather be written after every doctest line, as you can see in all other examples inside `src/sage/interfaces/mathematica.py`
> 
> To be more precise, it should be written on each `sage:` line but not on the `....:` lines.

The precision would have been more useful oif given, //before// the fix...



---

archive/issue_comments_480278.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-07-01T21:36:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480278",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480279.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-07-01T21:37:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480279",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_480280.json:
```json
{
    "body": "Replying to [comment:19 git]:\n> Branch pushed to git repo; I updated commit sha1. New commits:\n> ||[e53971f](https://git.sagemath.org/sage.git/commit/?id=e53971f2f2f657a90c29a0bcdc1d8209bf84a250)||`Trac#34087 : doubleplus nitpicking doctest formatting.`||\n\nDone. ==> `needs_review`.",
    "created_at": "2022-07-01T21:37:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480280",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Replying to [comment:19 git]:
> Branch pushed to git repo; I updated commit sha1. New commits:
> ||[e53971f](https://git.sagemath.org/sage.git/commit/?id=e53971f2f2f657a90c29a0bcdc1d8209bf84a250)||`Trac#34087 : doubleplus nitpicking doctest formatting.`||

Done. ==> `needs_review`.



---

archive/issue_comments_480281.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-07-02T09:34:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480281",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_480282.json:
```json
{
    "body": "ok, merci",
    "created_at": "2022-07-02T09:34:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480282",
    "user": "https://github.com/fchapoton"
}
```

ok, merci



---

archive/issue_comments_480283.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-07-11T21:55:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33850",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33850#issuecomment-480283",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
