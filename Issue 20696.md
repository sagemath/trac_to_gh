# Issue 20696: Update MathJax patches to conform to same format as other patches

Issue created by migration from https://trac.sagemath.org/ticket/20933

Original creator: embray

Original creation time: 2016-07-04 10:24:37

#20837 tried to bring all spkgs into a uniform format for patches to the upstream sources.  In particular it ensures that all patches are applied from within the root of the upstream sources.

In the process I missed MathJax which was slightly different from other packages.  Fixing this is needed for #20692 to be completed.


---

Comment by embray created at 2016-07-04 10:24:43

Changing status from new to needs_review.


---

Comment by embray created at 2016-07-04 10:30:54

Found a few other examples since pushing this branch.  Will update this to include the others as well.


---

Comment by embray created at 2016-07-04 10:31:01

Changing status from needs_review to needs_work.


---

Comment by embray created at 2016-07-05 10:55:56

New commits:


---

Comment by embray created at 2016-07-05 10:55:56

Changing status from needs_work to needs_review.


---

Comment by mkoeppe created at 2016-07-07 04:54:34

Probably people who have worked on these packages in the past should be put on the cc list. 
They might remember from which source the patches were generated.


---

Comment by embray created at 2016-07-07 08:02:07

I doubt they would remember off-hand, in most cases.  Some of these packages haven't been touched in years--I would't remember something like that.  In any case what does it matter?


---

Comment by novoselt created at 2016-07-24 22:17:30

I've based #19430 on this one to get rid of strange "patches"


---

Comment by jdemeyer created at 2016-07-25 09:31:10

For NTL, could you use `../patches/*.patch` instead of `"$CUR"/patches/*.patch` to make it even more standard?

Same for Singular.


---

Comment by jdemeyer created at 2016-07-25 10:26:40

With Sage 7.3.beta9, a patch was added to Singular which should also be treated.


---

Comment by jdemeyer created at 2016-07-25 10:26:40

Changing status from needs_review to needs_work.


---

Comment by git created at 2016-07-26 12:15:59

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by embray created at 2016-07-26 12:16:24

Replying to [comment:10 jdemeyer]:
> For NTL, could you use `../patches/*.patch` instead of `"$CUR"/patches/*.patch` to make it even more standard?
> 
> Same for Singular.

Done.

Rebased and included fixing the new patch for Singular.


---

Comment by embray created at 2016-07-26 12:21:28

Changing status from needs_work to needs_review.


---

Comment by jdemeyer created at 2016-07-26 15:20:08

First test: Sage builds from scratch with this branch applied.


---

Comment by jdemeyer created at 2016-07-27 08:12:14

The four packages which just have their directories changed are fine.

With tachyon and jmol, the installed version with this branch is the same before this branch (as far as I can tell). So this is fine too.

Rubiks on the other hand has substantial changes, probably because of a different `Makefile`. I cannot immediately tell whether they are fine.


---

Comment by jdemeyer created at 2016-07-27 08:16:00

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2016-07-27 08:16:00

New commits:


---

Comment by jdemeyer created at 2016-07-27 08:16:50

positive_review to everything except `rubiks`. I removed the `rubiks` commit and will move it to #21103.


---

Comment by vbraun created at 2016-07-28 17:44:21

Resolution: fixed
