# Issue 20696: Update MathJax patches to conform to same format as other patches

archive/issues_020696.json:
```json
{
    "body": "#20837 tried to bring all spkgs into a uniform format for patches to the upstream sources.  In particular it ensures that all patches are applied from within the root of the upstream sources.\n\nIn the process I missed MathJax which was slightly different from other packages.  Fixing this is needed for #20692 to be completed.\n\nIssue created by migration from https://trac.sagemath.org/ticket/20933\n\n",
    "created_at": "2016-07-04T10:24:37Z",
    "labels": [
        "packages: standard",
        "minor",
        "bug"
    ],
    "title": "Update MathJax patches to conform to same format as other patches",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/20696",
    "user": "embray"
}
```
#20837 tried to bring all spkgs into a uniform format for patches to the upstream sources.  In particular it ensures that all patches are applied from within the root of the upstream sources.

In the process I missed MathJax which was slightly different from other packages.  Fixing this is needed for #20692 to be completed.

Issue created by migration from https://trac.sagemath.org/ticket/20933





---

archive/issue_comments_285989.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-07-04T10:24:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20696#issuecomment-285989",
    "user": "embray"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_285990.json:
```json
{
    "body": "Found a few other examples since pushing this branch.  Will update this to include the others as well.",
    "created_at": "2016-07-04T10:30:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20696#issuecomment-285990",
    "user": "embray"
}
```

Found a few other examples since pushing this branch.  Will update this to include the others as well.



---

archive/issue_comments_285991.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-07-04T10:31:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20696#issuecomment-285991",
    "user": "embray"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_285992.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-07-05T10:55:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20696#issuecomment-285992",
    "user": "embray"
}
```

New commits:



---

archive/issue_comments_285993.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-07-05T10:55:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20696#issuecomment-285993",
    "user": "embray"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_285994.json:
```json
{
    "body": "Probably people who have worked on these packages in the past should be put on the cc list. \nThey might remember from which source the patches were generated.",
    "created_at": "2016-07-07T04:54:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20696#issuecomment-285994",
    "user": "mkoeppe"
}
```

Probably people who have worked on these packages in the past should be put on the cc list. 
They might remember from which source the patches were generated.



---

archive/issue_comments_285995.json:
```json
{
    "body": "I doubt they would remember off-hand, in most cases.  Some of these packages haven't been touched in years--I would't remember something like that.  In any case what does it matter?",
    "created_at": "2016-07-07T08:02:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20696#issuecomment-285995",
    "user": "embray"
}
```

I doubt they would remember off-hand, in most cases.  Some of these packages haven't been touched in years--I would't remember something like that.  In any case what does it matter?



---

archive/issue_comments_285996.json:
```json
{
    "body": "I've based #19430 on this one to get rid of strange \"patches\"",
    "created_at": "2016-07-24T22:17:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20696#issuecomment-285996",
    "user": "novoselt"
}
```

I've based #19430 on this one to get rid of strange "patches"



---

archive/issue_comments_285997.json:
```json
{
    "body": "For NTL, could you use `../patches/*.patch` instead of `\"$CUR\"/patches/*.patch` to make it even more standard?\n\nSame for Singular.",
    "created_at": "2016-07-25T09:31:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20696#issuecomment-285997",
    "user": "jdemeyer"
}
```

For NTL, could you use `../patches/*.patch` instead of `"$CUR"/patches/*.patch` to make it even more standard?

Same for Singular.



---

archive/issue_comments_285998.json:
```json
{
    "body": "With Sage 7.3.beta9, a patch was added to Singular which should also be treated.",
    "created_at": "2016-07-25T10:26:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20696#issuecomment-285998",
    "user": "jdemeyer"
}
```

With Sage 7.3.beta9, a patch was added to Singular which should also be treated.



---

archive/issue_comments_285999.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-07-25T10:26:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20696#issuecomment-285999",
    "user": "jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_286000.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-07-26T12:15:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20696#issuecomment-286000",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_286001.json:
```json
{
    "body": "Replying to [comment:10 jdemeyer]:\n> For NTL, could you use `../patches/*.patch` instead of `\"$CUR\"/patches/*.patch` to make it even more standard?\n> \n> Same for Singular.\n\nDone.\n\nRebased and included fixing the new patch for Singular.",
    "created_at": "2016-07-26T12:16:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20696#issuecomment-286001",
    "user": "embray"
}
```

Replying to [comment:10 jdemeyer]:
> For NTL, could you use `../patches/*.patch` instead of `"$CUR"/patches/*.patch` to make it even more standard?
> 
> Same for Singular.

Done.

Rebased and included fixing the new patch for Singular.



---

archive/issue_comments_286002.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-07-26T12:21:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20696#issuecomment-286002",
    "user": "embray"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_286003.json:
```json
{
    "body": "First test: Sage builds from scratch with this branch applied.",
    "created_at": "2016-07-26T15:20:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20696#issuecomment-286003",
    "user": "jdemeyer"
}
```

First test: Sage builds from scratch with this branch applied.



---

archive/issue_comments_286004.json:
```json
{
    "body": "The four packages which just have their directories changed are fine.\n\nWith tachyon and jmol, the installed version with this branch is the same before this branch (as far as I can tell). So this is fine too.\n\nRubiks on the other hand has substantial changes, probably because of a different `Makefile`. I cannot immediately tell whether they are fine.",
    "created_at": "2016-07-27T08:12:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20696#issuecomment-286004",
    "user": "jdemeyer"
}
```

The four packages which just have their directories changed are fine.

With tachyon and jmol, the installed version with this branch is the same before this branch (as far as I can tell). So this is fine too.

Rubiks on the other hand has substantial changes, probably because of a different `Makefile`. I cannot immediately tell whether they are fine.



---

archive/issue_comments_286005.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-07-27T08:16:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20696#issuecomment-286005",
    "user": "jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_286006.json:
```json
{
    "body": "New commits:",
    "created_at": "2016-07-27T08:16:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20696#issuecomment-286006",
    "user": "jdemeyer"
}
```

New commits:



---

archive/issue_comments_286007.json:
```json
{
    "body": "positive_review to everything except `rubiks`. I removed the `rubiks` commit and will move it to #21103.",
    "created_at": "2016-07-27T08:16:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20696#issuecomment-286007",
    "user": "jdemeyer"
}
```

positive_review to everything except `rubiks`. I removed the `rubiks` commit and will move it to #21103.



---

archive/issue_comments_286008.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-07-28T17:44:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/20696",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/20696#issuecomment-286008",
    "user": "vbraun"
}
```

Resolution: fixed
