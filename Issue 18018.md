# Issue 18018: remove silly Brun constant

archive/issues_018018.json:
```json
{
    "body": "CC:  @kcrisman\n\n`brun` fails horribly:\n\n```\nsage: brun.n()\nNotImplementedError: brun is only available up to 41 bits\nsage: brun?\nNotImplementedError: brun is only available up to 41 bits\nsage: brun??\nNotImplementedError: brun is only available up to 41 bits\n```\n\nand this leads to sporadic failure of `random_expr`, falsifying patchbot test results.\n\nIssue created by migration from https://trac.sagemath.org/ticket/18255\n\n",
    "created_at": "2015-04-20T06:57:11Z",
    "labels": [
        "symbolics",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.7",
    "title": "remove silly Brun constant",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18018",
    "user": "@rwst"
}
```
CC:  @kcrisman

`brun` fails horribly:

```
sage: brun.n()
NotImplementedError: brun is only available up to 41 bits
sage: brun?
NotImplementedError: brun is only available up to 41 bits
sage: brun??
NotImplementedError: brun is only available up to 41 bits
```

and this leads to sporadic failure of `random_expr`, falsifying patchbot test results.

Issue created by migration from https://trac.sagemath.org/ticket/18255





---

archive/issue_comments_242485.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-05-11T08:17:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242485",
    "user": "@rwst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_242486.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-05-11T08:17:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242486",
    "user": "@rwst"
}
```

New commits:



---

archive/issue_comments_242487.json:
```json
{
    "body": "Changing priority from critical to minor.",
    "created_at": "2015-05-11T11:10:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242487",
    "user": "@jdemeyer"
}
```

Changing priority from critical to minor.



---

archive/issue_comments_242488.json:
```json
{
    "body": "It makes patchbot runs useless. Certainly not minor.",
    "created_at": "2015-05-11T12:28:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242488",
    "user": "@rwst"
}
```

It makes patchbot runs useless. Certainly not minor.



---

archive/issue_comments_242489.json:
```json
{
    "body": "Changing priority from minor to major.",
    "created_at": "2015-05-11T12:28:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242489",
    "user": "@rwst"
}
```

Changing priority from minor to major.



---

archive/issue_comments_242490.json:
```json
{
    "body": "Replying to [comment:5 rws]:\n> It makes patchbot runs useless.\nReally, why?",
    "created_at": "2015-05-11T12:42:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242490",
    "user": "@jdemeyer"
}
```

Replying to [comment:5 rws]:
> It makes patchbot runs useless.
Really, why?



---

archive/issue_comments_242491.json:
```json
{
    "body": "As in the ticket description this leads to sporadic failure of random_expr.",
    "created_at": "2015-05-11T13:13:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242491",
    "user": "@rwst"
}
```

As in the ticket description this leads to sporadic failure of random_expr.



---

archive/issue_comments_242492.json:
```json
{
    "body": "This is not a sporadic random failure\n\n```\n**********************************************************************\nFile \"src/sage/symbolic/constants.py\", line 28, in sage.symbolic.constants\nFailed example:\n    brun\nException raised:\n    Traceback (most recent call last):\n    ...\n    NameError: name 'brun' is not defined\n**********************************************************************\n1 item had failures:\n   1 of  55 in sage.symbolic.constants\n    [241 tests, 1 failure, 1.91 s]\n----------------------------------------------------------------------\nsage -t --long --warn-long 71.3 src/sage/symbolic/constants.py  # 1 doctest failed\n----------------------------------------------------------------------\n```\n",
    "created_at": "2015-05-12T08:21:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242492",
    "user": "@videlec"
}
```

This is not a sporadic random failure

```
**********************************************************************
File "src/sage/symbolic/constants.py", line 28, in sage.symbolic.constants
Failed example:
    brun
Exception raised:
    Traceback (most recent call last):
    ...
    NameError: name 'brun' is not defined
**********************************************************************
1 item had failures:
   1 of  55 in sage.symbolic.constants
    [241 tests, 1 failure, 1.91 s]
----------------------------------------------------------------------
sage -t --long --warn-long 71.3 src/sage/symbolic/constants.py  # 1 doctest failed
----------------------------------------------------------------------
```




---

archive/issue_comments_242493.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-05-12T08:21:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242493",
    "user": "@videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_242494.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-12T08:25:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242494",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_242495.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-05-12T08:26:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242495",
    "user": "@rwst"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_242496.json:
```json
{
    "body": "Do you really want to remove the Brun constant itself? The problem is not with `brun`, the problem is with `LimitedPrecisionConstant`.",
    "created_at": "2015-05-12T14:49:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242496",
    "user": "@jdemeyer"
}
```

Do you really want to remove the Brun constant itself? The problem is not with `brun`, the problem is with `LimitedPrecisionConstant`.



---

archive/issue_comments_242497.json:
```json
{
    "body": "So we add `brun = whatever` in `all.py` and get bug reports when a new decimal place is discovered?",
    "created_at": "2015-05-12T14:59:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242497",
    "user": "@rwst"
}
```

So we add `brun = whatever` in `all.py` and get bug reports when a new decimal place is discovered?



---

archive/issue_comments_242498.json:
```json
{
    "body": "The Brun constant looks like something that we have no idea about excepted its existence... Even the decimals given on oeis do not seem to be proven exact. Do you have a reference for the associated computations? If not, I would rather remove it.",
    "created_at": "2015-05-12T15:05:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242498",
    "user": "@videlec"
}
```

The Brun constant looks like something that we have no idea about excepted its existence... Even the decimals given on oeis do not seem to be proven exact. Do you have a reference for the associated computations? If not, I would rather remove it.



---

archive/issue_comments_242499.json:
```json
{
    "body": "The decimals are certainly not proven correct, as far as I know it's even an open question whether `brun < 2`.\n\nSo I get your point...",
    "created_at": "2015-05-12T18:33:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242499",
    "user": "@jdemeyer"
}
```

The decimals are certainly not proven correct, as far as I know it's even an open question whether `brun < 2`.

So I get your point...



---

archive/issue_comments_242500.json:
```json
{
    "body": "Having it in Sage *is* nice with regard to the Pentium bug, though... (that is, demonstrating even wacky theory has applications).",
    "created_at": "2015-05-12T19:31:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242500",
    "user": "@kcrisman"
}
```

Having it in Sage *is* nice with regard to the Pentium bug, though... (that is, demonstrating even wacky theory has applications).



---

archive/issue_comments_242501.json:
```json
{
    "body": "Replying to [comment:16 kcrisman]:\n> Having it in Sage *is* nice with regard to the Pentium bug, though... (that is, demonstrating even wacky theory has applications).\n\nBut then it should not be called `brun`. What about `brun_as_conjectured_by_XYZ`? If we had any way to compute it (even very slow) I would be happy to keep it.",
    "created_at": "2015-05-12T19:40:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242501",
    "user": "@videlec"
}
```

Replying to [comment:16 kcrisman]:
> Having it in Sage *is* nice with regard to the Pentium bug, though... (that is, demonstrating even wacky theory has applications).

But then it should not be called `brun`. What about `brun_as_conjectured_by_XYZ`? If we had any way to compute it (even very slow) I would be happy to keep it.



---

archive/issue_comments_242502.json:
```json
{
    "body": "Replying to [comment:17 vdelecroix]:\n> But then it should not be called `brun`. What about `brun_as_conjectured_by_XYZ`?\nIt's not a conjecture, it's an estimate.",
    "created_at": "2015-05-12T19:53:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242502",
    "user": "@jdemeyer"
}
```

Replying to [comment:17 vdelecroix]:
> But then it should not be called `brun`. What about `brun_as_conjectured_by_XYZ`?
It's not a conjecture, it's an estimate.



---

archive/issue_comments_242503.json:
```json
{
    "body": "I wonder how many failures it would make - running `TestSuite` would be instructive, if scary.\n\n> The decimals are certainly not proven correct, as far as I know it's even an open question whether `brun < 2`.\n\nInteresting!  (Do you have a reference?  I can only find references to estimates using twin primes < 10 to the something.)\n\nAre there any (other?) constants known to some number of bits only of potential interest?  I bet there are, but maybe it's not worth keeping the class around for that.\n\n(Deprecation?  Just asking.)",
    "created_at": "2015-05-12T20:37:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242503",
    "user": "@kcrisman"
}
```

I wonder how many failures it would make - running `TestSuite` would be instructive, if scary.

> The decimals are certainly not proven correct, as far as I know it's even an open question whether `brun < 2`.

Interesting!  (Do you have a reference?  I can only find references to estimates using twin primes < 10 to the something.)

Are there any (other?) constants known to some number of bits only of potential interest?  I bet there are, but maybe it's not worth keeping the class around for that.

(Deprecation?  Just asking.)



---

archive/issue_comments_242504.json:
```json
{
    "body": "Replying to [comment:19 kcrisman]:\n> (Deprecation?  Just asking.)\nWrong question. It should rather read: will I review and set positive if you add deprecation?",
    "created_at": "2015-05-13T05:48:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242504",
    "user": "@rwst"
}
```

Replying to [comment:19 kcrisman]:
> (Deprecation?  Just asking.)
Wrong question. It should rather read: will I review and set positive if you add deprecation?



---

archive/issue_comments_242505.json:
```json
{
    "body": "No, because I don't feel qualified to address the question of whether this class should exist.  I asked about deprecation because this would be a rather unusual case where the class may not have been meaningful enough to keep around even in deprecated format (bugs aren't deprecated).",
    "created_at": "2015-05-13T14:21:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242505",
    "user": "@kcrisman"
}
```

No, because I don't feel qualified to address the question of whether this class should exist.  I asked about deprecation because this would be a rather unusual case where the class may not have been meaningful enough to keep around even in deprecated format (bugs aren't deprecated).



---

archive/issue_comments_242506.json:
```json
{
    "body": "If I understand correctly you are of the opinion that deprecation is likely not necessary. Well, I agree.",
    "created_at": "2015-05-13T14:31:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242506",
    "user": "@rwst"
}
```

If I understand correctly you are of the opinion that deprecation is likely not necessary. Well, I agree.



---

archive/issue_comments_242507.json:
```json
{
    "body": "On the other hand, perhaps someone should check first whether this is in other systems (think mission statement).  I'm not sure whether [this](http://www.wolframalpha.com/input/?i=brun\u2019s+constant) indicates anything about it in Mma or not.",
    "created_at": "2015-05-13T14:37:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242507",
    "user": "@kcrisman"
}
```

On the other hand, perhaps someone should check first whether this is in other systems (think mission statement).  I'm not sure whether [this](http://www.wolframalpha.com/input/?i=brunâ€™s+constant) indicates anything about it in Mma or not.



---

archive/issue_comments_242508.json:
```json
{
    "body": "You mean they have a named string that contains \"`~2`\"? Let's pretend they have, would we want to copy it?",
    "created_at": "2015-05-13T14:53:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242508",
    "user": "@rwst"
}
```

You mean they have a named string that contains "`~2`"? Let's pretend they have, would we want to copy it?



---

archive/issue_comments_242509.json:
```json
{
    "body": "Well, I just meant whatever they did have - perhaps just for reference.  But you are probably right, the whole class is probably not (currently) useful.  (But it could be later - maybe we could keep the class, not the constant, in as commented?  But again, I'm not feeling qualified to give positive review to any of that - I would certainly support e.g. Jeroen if he did, though.)",
    "created_at": "2015-05-15T17:21:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242509",
    "user": "@kcrisman"
}
```

Well, I just meant whatever they did have - perhaps just for reference.  But you are probably right, the whole class is probably not (currently) useful.  (But it could be later - maybe we could keep the class, not the constant, in as commented?  But again, I'm not feeling qualified to give positive review to any of that - I would certainly support e.g. Jeroen if he did, though.)



---

archive/issue_comments_242510.json:
```json
{
    "body": "Replying to [comment:25 kcrisman]:\n> maybe we could keep the class, not the constant\nThe class is buggy, which was the original reason that this ticket was created. If you remove the constant and keep the class, you are just hiding that problem.",
    "created_at": "2015-05-18T07:04:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242510",
    "user": "@jdemeyer"
}
```

Replying to [comment:25 kcrisman]:
> maybe we could keep the class, not the constant
The class is buggy, which was the original reason that this ticket was created. If you remove the constant and keep the class, you are just hiding that problem.



---

archive/issue_comments_242511.json:
```json
{
    "body": "I meant just to comment it out but keep it there in commented state so it would be easier for someone to fix.  But I don't really care that much, whatever `@`jdemeyer says is fine with me, because of the unusual case.  Where was this even added (rhetorical question)?",
    "created_at": "2015-05-18T12:22:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242511",
    "user": "@kcrisman"
}
```

I meant just to comment it out but keep it there in commented state so it would be easier for someone to fix.  But I don't really care that much, whatever `@`jdemeyer says is fine with me, because of the unusual case.  Where was this even added (rhetorical question)?



---

archive/issue_comments_242512.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-05-18T13:01:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242512",
    "user": "@jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_242513.json:
```json
{
    "body": "Thanks for the review!",
    "created_at": "2015-05-18T13:53:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242513",
    "user": "@rwst"
}
```

Thanks for the review!



---

archive/issue_comments_242514.json:
```json
{
    "body": "Merge conflict",
    "created_at": "2015-05-18T16:08:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242514",
    "user": "@vbraun"
}
```

Merge conflict



---

archive/issue_comments_242515.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-05-18T16:08:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242515",
    "user": "@vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_242516.json:
```json
{
    "body": "Replying to [comment:30 vbraun]:\n> Merge conflict\nWhere? Develop merges cleanly.",
    "created_at": "2015-05-19T06:04:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242516",
    "user": "@rwst"
}
```

Replying to [comment:30 vbraun]:
> Merge conflict
Where? Develop merges cleanly.



---

archive/issue_comments_242517.json:
```json
{
    "body": "> > Merge conflict\n> Where? Develop merges cleanly.\nYeah, Volker, the branch is green... can you at least let us know which ticket?",
    "created_at": "2015-05-21T20:04:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242517",
    "user": "@kcrisman"
}
```

> > Merge conflict
> Where? Develop merges cleanly.
Yeah, Volker, the branch is green... can you at least let us know which ticket?



---

archive/issue_comments_242518.json:
```json
{
    "body": "Changing status from needs_work to needs_info.",
    "created_at": "2015-05-21T20:04:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242518",
    "user": "@kcrisman"
}
```

Changing status from needs_work to needs_info.



---

archive/issue_comments_242519.json:
```json
{
    "body": "Changing status from needs_info to positive_review.",
    "created_at": "2015-05-21T21:41:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242519",
    "user": "@vbraun"
}
```

Changing status from needs_info to positive_review.



---

archive/issue_comments_242520.json:
```json
{
    "body": "possibly with something that I unmerged, or maybe wrong ticket",
    "created_at": "2015-05-21T21:41:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242520",
    "user": "@vbraun"
}
```

possibly with something that I unmerged, or maybe wrong ticket



---

archive/issue_comments_242521.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-05-21T23:19:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18018#issuecomment-242521",
    "user": "@vbraun"
}
```

Resolution: fixed
