# Issue 11959: $SAGE_LOCAL/lib and lib64

archive/issues_011959.json:
```json
{
    "body": "Assignee: GeorgSWeber\n\nCC:  simonking @malb\n\nSome distributions set up autotools to install libraries into `%{prefix}/lib64`, which breaks Sage's assumption that libraries are installed in `$SAGE_LOCAL/lib`. In particular, OpenSuse64 according to this thread https://groups.google.com/d/topic/sage-devel/LS-u8E77NJQ/discussion\n\nIt seems like we have two options:\n* Always call `./configure --libdir='${prefix}/lib'` to explicitly specify the library directory, or\n* Set up a symlink `$SAGE_LOCAL/lib64` -> `$SAGE_LOCAL/lib`.\n\nThe symlink is the lazy thing to do but will probably break again with the next architectural change. Fixing the configure call seems the right thing to do but will need some work to patch up all spkgs.\n\nIssue created by migration from https://trac.sagemath.org/ticket/12131\n\n",
    "created_at": "2011-12-09T11:04:46Z",
    "labels": [
        "build",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.8",
    "title": "$SAGE_LOCAL/lib and lib64",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11959",
    "user": "@vbraun"
}
```
Assignee: GeorgSWeber

CC:  simonking @malb

Some distributions set up autotools to install libraries into `%{prefix}/lib64`, which breaks Sage's assumption that libraries are installed in `$SAGE_LOCAL/lib`. In particular, OpenSuse64 according to this thread https://groups.google.com/d/topic/sage-devel/LS-u8E77NJQ/discussion

It seems like we have two options:
* Always call `./configure --libdir='${prefix}/lib'` to explicitly specify the library directory, or
* Set up a symlink `$SAGE_LOCAL/lib64` -> `$SAGE_LOCAL/lib`.

The symlink is the lazy thing to do but will probably break again with the next architectural change. Fixing the configure call seems the right thing to do but will need some work to patch up all spkgs.

Issue created by migration from https://trac.sagemath.org/ticket/12131





---

archive/issue_comments_137533.json:
```json
{
    "body": "Thomas Hupfer wrote:\n\nIn my handwritten notes I find besides readline that libgmp.so.3,\nlibmftr.so, and libcddgmp.a were in lib64, but this list is probably\nincomplete. These errors showed up in building ecl, mpfi, gfan and maxima.",
    "created_at": "2011-12-09T12:09:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137533",
    "user": "@vbraun"
}
```

Thomas Hupfer wrote:

In my handwritten notes I find besides readline that libgmp.so.3,
libmftr.so, and libcddgmp.a were in lib64, but this list is probably
incomplete. These errors showed up in building ecl, mpfi, gfan and maxima.



---

archive/issue_comments_137534.json:
```json
{
    "body": "For the record, Thomas Hupfer further wrote:\n\ngrep \"local/lib64/\"  install.log  | grep \"^/usr/bin/install\" | cut -d\n4 -f 2 | cut -d / -f 2 | cut -d . -f 1 | sort | uniq\n\ngives:\n\necl-11\nlibcord\nlibfplll\nlibfreetype\nlibgc\nlibgcrypt\nlibgd\nlibgivaro\nlibgmp\nlibgmpxx\nlibgnutls\nlibgnutls-extra\nlibgnutls-openssl\nlibgpg-error\nlibiml\nliblinbox\nliblinboxsage\nlibmpfi\nlibmpir\nlibmpirxx\nlibopencdk\nlibsqlite3\npython2",
    "created_at": "2011-12-09T18:24:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137534",
    "user": "@vbraun"
}
```

For the record, Thomas Hupfer further wrote:

grep "local/lib64/"  install.log  | grep "^/usr/bin/install" | cut -d
4 -f 2 | cut -d / -f 2 | cut -d . -f 1 | sort | uniq

gives:

ecl-11
libcord
libfplll
libfreetype
libgc
libgcrypt
libgd
libgivaro
libgmp
libgmpxx
libgnutls
libgnutls-extra
libgnutls-openssl
libgpg-error
libiml
liblinbox
liblinboxsage
libmpfi
libmpir
libmpirxx
libopencdk
libsqlite3
python2



---

archive/issue_comments_137535.json:
```json
{
    "body": "Volker has posted an [updated readline spkg](http://www.stp.dias.ie/~vbraun/Sage/spkg/readline-6.2.p2.spkg). It use\n\n```\n./configure --libdir=\"$SAGE_LOCAL/lib\"\n```\n\n\nSimilarly, I changed the python-2.6.4 spkg (not posted yet).\n\nI wonder: Is the `--libdir=...\" option is also valid on Solaris?\n\nMeanwhile, my `openSUSE` laptop is in the middle of building Atlas. Hence, it looks good, so far!",
    "created_at": "2011-12-09T21:44:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137535",
    "user": "@simon-king-jena"
}
```

Volker has posted an [updated readline spkg](http://www.stp.dias.ie/~vbraun/Sage/spkg/readline-6.2.p2.spkg). It use

```
./configure --libdir="$SAGE_LOCAL/lib"
```


Similarly, I changed the python-2.6.4 spkg (not posted yet).

I wonder: Is the `--libdir=..." option is also valid on Solaris?

Meanwhile, my `openSUSE` laptop is in the middle of building Atlas. Hence, it looks good, so far!



---

archive/issue_comments_137536.json:
```json
{
    "body": "I tested the new readline on mark/skynet (Solaris SPARC) and it works.",
    "created_at": "2011-12-09T22:30:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137536",
    "user": "@vbraun"
}
```

I tested the new readline on mark/skynet (Solaris SPARC) and it works.



---

archive/issue_comments_137537.json:
```json
{
    "body": "Replying to [comment:4 vbraun]:\n> I tested the new readline on mark/skynet (Solaris SPARC) and it works.\n\nGreat! Meanwhile I have a new python-2.6.4.p12.spkg and an mpir-1.2.2.p8.spkg. The next problem is that ecl can't find libgc, so that's the next thing I have to modify.",
    "created_at": "2011-12-09T22:50:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137537",
    "user": "@simon-king-jena"
}
```

Replying to [comment:4 vbraun]:
> I tested the new readline on mark/skynet (Solaris SPARC) and it works.

Great! Meanwhile I have a new python-2.6.4.p12.spkg and an mpir-1.2.2.p8.spkg. The next problem is that ecl can't find libgc, so that's the next thing I have to modify.



---

archive/issue_comments_137538.json:
```json
{
    "body": "Hooray! Fixing mpir and boehm_gc was enough to make ecl build!! I am looking forward to the next error...",
    "created_at": "2011-12-09T23:02:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137538",
    "user": "@simon-king-jena"
}
```

Hooray! Fixing mpir and boehm_gc was enough to make ecl build!! I am looking forward to the next error...



---

archive/issue_comments_137539.json:
```json
{
    "body": "The next problem is givaro, which hits linbox.",
    "created_at": "2011-12-09T23:42:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137539",
    "user": "@simon-king-jena"
}
```

The next problem is givaro, which hits linbox.



---

archive/issue_comments_137540.json:
```json
{
    "body": "... followed by mpfr and mpfi",
    "created_at": "2011-12-09T23:50:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137540",
    "user": "@simon-king-jena"
}
```

... followed by mpfr and mpfi



---

archive/issue_comments_137541.json:
```json
{
    "body": "I made some progress by modifying the following spkgs:\n\n* readline (I used Volker's version)\n* python\n* mpir\n* boehm_gc\n* givaro\n* mpfr\n* mpfi\n* r\n\nNow it hangs in the Sage library code, more precisely: In M4RI. Therefore I am Cc'ing Martin. I will try to modify the M4RI spkg (and then probably M4RIE, too).\n\nMy install.log is [here](http://sage.math.washington.edu/home/SimonKing/SAGE/install_logs/4.8.alpha3/install.log.4), probably with some leftovers of previous build attempts.",
    "created_at": "2011-12-10T09:12:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137541",
    "user": "@simon-king-jena"
}
```

I made some progress by modifying the following spkgs:

* readline (I used Volker's version)
* python
* mpir
* boehm_gc
* givaro
* mpfr
* mpfi
* r

Now it hangs in the Sage library code, more precisely: In M4RI. Therefore I am Cc'ing Martin. I will try to modify the M4RI spkg (and then probably M4RIE, too).

My install.log is [here](http://sage.math.washington.edu/home/SimonKing/SAGE/install_logs/4.8.alpha3/install.log.4), probably with some leftovers of previous build attempts.



---

archive/issue_comments_137542.json:
```json
{
    "body": "I forgot to Cc Martin, even though I had announced it in my previous comment...",
    "created_at": "2011-12-10T09:14:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137542",
    "user": "@simon-king-jena"
}
```

I forgot to Cc Martin, even though I had announced it in my previous comment...



---

archive/issue_comments_137543.json:
```json
{
    "body": "Changing priority from major to blocker.",
    "created_at": "2011-12-10T11:22:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137543",
    "user": "@simon-king-jena"
}
```

Changing priority from major to blocker.



---

archive/issue_comments_137544.json:
```json
{
    "body": "According to [sage-devel](http://groups.google.com/group/sage-devel/browse_thread/thread/2d2faef04efb3494/f55374ff728ebc27), we could make this a blocker for sage-5.0.\n\nThe sage installation on my `openSUSE` laptop is now almost completed, but just as I write this line, there is yet another library that can't be found.\n\nHere is the suggested work plan:\n\n**__New package versions__**\n\nUse the following updated spkgs (the first is contributed by Volker, and I'll provide the others probably later today:\n\n* python-2.6.4.p12.spkg\n* mpir-1.2.2.p8.spkg\n* boehm_gc-7.2.alpha6.p1.spkg\n* givaro-3.2.13rc2.p3.spkg\n* mpfr-2.4.2.p0.spkg\n* mpfi-1.3.4-cvs20071125.p9.spkg\n* r-2.10.1.p5.spkg\n* libm4ri-2011004.p0.spkg\n* libm4rie-2011004.p0.spkg\n* cddlib-094f.p9.spkg\n* maxima-5.23.2.p3.spkg\n* ecl-11.1.2.cvs20111120.p1.spkg\n* libpng-1.2.35.p4.spkg\n* iml-1.0.1.p14.spkg\n* pynac-0.2.3.p0.spkg\n* linbox-1.1.6.p6.spkg\n* glpk-4.44.p0.spkg\n\nPerhaps there will be more than that, but so far it seems to work: Sage is already creating the docs!\n\n**__Testing__**\n\nIn addition to the new spkgs, I have `LD_LIBRARY_PATH` defined. It would be interesting to know whether it would also work without defining it.",
    "created_at": "2011-12-10T11:22:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137544",
    "user": "@simon-king-jena"
}
```

According to [sage-devel](http://groups.google.com/group/sage-devel/browse_thread/thread/2d2faef04efb3494/f55374ff728ebc27), we could make this a blocker for sage-5.0.

The sage installation on my `openSUSE` laptop is now almost completed, but just as I write this line, there is yet another library that can't be found.

Here is the suggested work plan:

**__New package versions__**

Use the following updated spkgs (the first is contributed by Volker, and I'll provide the others probably later today:

* python-2.6.4.p12.spkg
* mpir-1.2.2.p8.spkg
* boehm_gc-7.2.alpha6.p1.spkg
* givaro-3.2.13rc2.p3.spkg
* mpfr-2.4.2.p0.spkg
* mpfi-1.3.4-cvs20071125.p9.spkg
* r-2.10.1.p5.spkg
* libm4ri-2011004.p0.spkg
* libm4rie-2011004.p0.spkg
* cddlib-094f.p9.spkg
* maxima-5.23.2.p3.spkg
* ecl-11.1.2.cvs20111120.p1.spkg
* libpng-1.2.35.p4.spkg
* iml-1.0.1.p14.spkg
* pynac-0.2.3.p0.spkg
* linbox-1.1.6.p6.spkg
* glpk-4.44.p0.spkg

Perhaps there will be more than that, but so far it seems to work: Sage is already creating the docs!

**__Testing__**

In addition to the new spkgs, I have `LD_LIBRARY_PATH` defined. It would be interesting to know whether it would also work without defining it.



---

archive/issue_comments_137545.json:
```json
{
    "body": "M4RI(E) uses fairly standard autoconf (me thinks) so `./configure --libdir='${prefix}/lib'` should work. Fingers crossed!",
    "created_at": "2011-12-10T11:27:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137545",
    "user": "@malb"
}
```

M4RI(E) uses fairly standard autoconf (me thinks) so `./configure --libdir='${prefix}/lib'` should work. Fingers crossed!



---

archive/issue_comments_137546.json:
```json
{
    "body": "Some of the spkg versions are based on old versions and should be updated:\n* python: #12096\n* mpir: #11964 (sage-4.8.alpha0)\n* boehm_gc: #12126\n* r: #12057\n\n(all these got positive_review).",
    "created_at": "2011-12-10T11:33:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137546",
    "user": "@jdemeyer"
}
```

Some of the spkg versions are based on old versions and should be updated:
* python: #12096
* mpir: #11964 (sage-4.8.alpha0)
* boehm_gc: #12126
* r: #12057

(all these got positive_review).



---

archive/issue_comments_137547.json:
```json
{
    "body": "OK, Jeroen's remark means more work. I need to get python, mpir, boehm_gc and r in the most recent versions.\n\nQuestion: Martin seems to suggest to use `--libdir=\"${prefix}/lib\"` rather than `--libdir=\"$SAGE_LOCAL/lib\"` in `M4RI(E)`. Is this a rule that applies to other packages as well?",
    "created_at": "2011-12-10T11:38:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137547",
    "user": "@simon-king-jena"
}
```

OK, Jeroen's remark means more work. I need to get python, mpir, boehm_gc and r in the most recent versions.

Question: Martin seems to suggest to use `--libdir="${prefix}/lib"` rather than `--libdir="$SAGE_LOCAL/lib"` in `M4RI(E)`. Is this a rule that applies to other packages as well?



---

archive/issue_comments_137548.json:
```json
{
    "body": "Replying to [comment:14 SimonKing]:\n> OK, Jeroen's remark means more work. I need to get python, mpir, boehm_gc and r in the most recent versions.\n\nNot mpir, since I started with alpha3 (which does contain the new mpir).",
    "created_at": "2011-12-10T11:40:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137548",
    "user": "@simon-king-jena"
}
```

Replying to [comment:14 SimonKing]:
> OK, Jeroen's remark means more work. I need to get python, mpir, boehm_gc and r in the most recent versions.

Not mpir, since I started with alpha3 (which does contain the new mpir).



---

archive/issue_comments_137549.json:
```json
{
    "body": "In the post above you mention `mpir-1.2.2.p8.spkg`\n\nmpir should also be coordinated with #12139.  I am planning to work on it this weekend.",
    "created_at": "2011-12-10T11:42:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137549",
    "user": "@jdemeyer"
}
```

In the post above you mention `mpir-1.2.2.p8.spkg`

mpir should also be coordinated with #12139.  I am planning to work on it this weekend.



---

archive/issue_comments_137550.json:
```json
{
    "body": "Replying to [comment:16 jdemeyer]:\n> In the post above you mention `mpir-1.2.2.p8.spkg`\n> \n> mpir should also be coordinated with #12139.  I am planning to work on it this weekend.\n\nQuestion to the release manager:\n\nWhy is mpir-1.2.2.p8 from #11964 not in alpha3, even though it is supposed to be merged in alpha0?",
    "created_at": "2011-12-10T11:47:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137550",
    "user": "@simon-king-jena"
}
```

Replying to [comment:16 jdemeyer]:
> In the post above you mention `mpir-1.2.2.p8.spkg`
> 
> mpir should also be coordinated with #12139.  I am planning to work on it this weekend.

Question to the release manager:

Why is mpir-1.2.2.p8 from #11964 not in alpha3, even though it is supposed to be merged in alpha0?



---

archive/issue_comments_137551.json:
```json
{
    "body": "Replying to [comment:14 SimonKing]:\n> Question: Martin seems to suggest to use `--libdir=\"${prefix}/lib\"` rather than `--libdir=\"$SAGE_LOCAL/lib\"` in `M4RI(E)`. Is this a rule that applies to other packages as well?\n\nNevermind me, I just tried to say: whatever you do for standard packages, it should work for M4RI(E). I don't know which one is better of the two options you mentioned above.",
    "created_at": "2011-12-10T11:51:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137551",
    "user": "@malb"
}
```

Replying to [comment:14 SimonKing]:
> Question: Martin seems to suggest to use `--libdir="${prefix}/lib"` rather than `--libdir="$SAGE_LOCAL/lib"` in `M4RI(E)`. Is this a rule that applies to other packages as well?

Nevermind me, I just tried to say: whatever you do for standard packages, it should work for M4RI(E). I don't know which one is better of the two options you mentioned above.



---

archive/issue_comments_137552.json:
```json
{
    "body": "Yesssss!!\n\nSage starts on my laptop, and `maxima(1)` does work!\n\nI will now get the updated packages from the other tickets and modify them. Because of coordination with #12139, I will not post a new mpir here, but leave it to Jeroen to insert `--libdir` into mpir.",
    "created_at": "2011-12-10T11:54:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137552",
    "user": "@simon-king-jena"
}
```

Yesssss!!

Sage starts on my laptop, and `maxima(1)` does work!

I will now get the updated packages from the other tickets and modify them. Because of coordination with #12139, I will not post a new mpir here, but leave it to Jeroen to insert `--libdir` into mpir.



---

archive/issue_comments_137553.json:
```json
{
    "body": "Replying to [comment:17 SimonKing]:\n> Why is mpir-1.2.2.p8 from #11964 not in alpha3, even though it is supposed to be merged in alpha0?\nI don't understand your question.  #11964 has mpir-2.1.3.p7.spkg which is merged in sage-4.8.alpha0 and still is in sage-4.8.alpha3.",
    "created_at": "2011-12-10T12:07:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137553",
    "user": "@jdemeyer"
}
```

Replying to [comment:17 SimonKing]:
> Why is mpir-1.2.2.p8 from #11964 not in alpha3, even though it is supposed to be merged in alpha0?
I don't understand your question.  #11964 has mpir-2.1.3.p7.spkg which is merged in sage-4.8.alpha0 and still is in sage-4.8.alpha3.



---

archive/issue_comments_137554.json:
```json
{
    "body": "Replying to [comment:20 jdemeyer]:\n> Replying to [comment:17 SimonKing]:\n> > Why is mpir-1.2.2.p8 from #11964 not in alpha3, even though it is supposed to be merged in alpha0?\n> I don't understand your question.  #11964 has mpir-2.1.3.p7.spkg which is merged in sage-4.8.alpha0 and still is in sage-4.8.alpha3.\n\nThen I misunderstood your remark above. Yes, your are right, there is mpir-2.1.3.p7.spkg.",
    "created_at": "2011-12-10T12:17:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137554",
    "user": "@simon-king-jena"
}
```

Replying to [comment:20 jdemeyer]:
> Replying to [comment:17 SimonKing]:
> > Why is mpir-1.2.2.p8 from #11964 not in alpha3, even though it is supposed to be merged in alpha0?
> I don't understand your question.  #11964 has mpir-2.1.3.p7.spkg which is merged in sage-4.8.alpha0 and still is in sage-4.8.alpha3.

Then I misunderstood your remark above. Yes, your are right, there is mpir-2.1.3.p7.spkg.



---

archive/issue_comments_137555.json:
```json
{
    "body": "Replying to [comment:14 SimonKing]: \n> Question: Martin seems to suggest to use `--libdir=\"${prefix}/lib\"` rather than `--libdir=\"$SAGE_LOCAL/lib\"` in `M4RI(E)`. Is this a rule that applies to other packages as well?\n\nI think (haven't tried it though) that `--libdir='${prefix}/lib'` or perhaps `%{prefix}` would work. Note the single tick quotation mark which prevents the shell from expanding `$prefix` (which we don't set). I believe this would be expanded somewhere in autotools. I prefer the `--libdir=\"$SAGE_LOCAL/lib\"`, though. This is completely explicit, so if some distribution thinks that it would be a good idea to fsck with `prefix` inside autotools then we should be safe(er).\n\nAlso, I updated the readline spkg; Now the change is documented in SPKG.txt",
    "created_at": "2011-12-10T13:06:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137555",
    "user": "@vbraun"
}
```

Replying to [comment:14 SimonKing]: 
> Question: Martin seems to suggest to use `--libdir="${prefix}/lib"` rather than `--libdir="$SAGE_LOCAL/lib"` in `M4RI(E)`. Is this a rule that applies to other packages as well?

I think (haven't tried it though) that `--libdir='${prefix}/lib'` or perhaps `%{prefix}` would work. Note the single tick quotation mark which prevents the shell from expanding `$prefix` (which we don't set). I believe this would be expanded somewhere in autotools. I prefer the `--libdir="$SAGE_LOCAL/lib"`, though. This is completely explicit, so if some distribution thinks that it would be a good idea to fsck with `prefix` inside autotools then we should be safe(er).

Also, I updated the readline spkg; Now the change is documented in SPKG.txt



---

archive/issue_comments_137556.json:
```json
{
    "body": "I have a new mpir spkg at #12139 which does **not** fix the `--libdir` issue, but gives you something to work with.  The package needs review, by the way :-)",
    "created_at": "2011-12-10T13:19:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137556",
    "user": "@jdemeyer"
}
```

I have a new mpir spkg at #12139 which does **not** fix the `--libdir` issue, but gives you something to work with.  The package needs review, by the way :-)



---

archive/issue_comments_137557.json:
```json
{
    "body": "I wonder one thing: There is `.../local/lib/` and `.../local/lib64/`. Certainly there are two different lib directories for a reason. So, is it really safe to put everything into `.../local/lib/`?",
    "created_at": "2011-12-10T15:22:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137557",
    "user": "@simon-king-jena"
}
```

I wonder one thing: There is `.../local/lib/` and `.../local/lib64/`. Certainly there are two different lib directories for a reason. So, is it really safe to put everything into `.../local/lib/`?



---

archive/issue_comments_137558.json:
```json
{
    "body": "The only reason to have a different `/lib64/` is if you have a multilib (32+64 bit) system. Since Sage is compiled only for one particular architecture it doesn't matter what you call the library dir.",
    "created_at": "2011-12-10T15:51:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137558",
    "user": "@vbraun"
}
```

The only reason to have a different `/lib64/` is if you have a multilib (32+64 bit) system. Since Sage is compiled only for one particular architecture it doesn't matter what you call the library dir.



---

archive/issue_comments_137559.json:
```json
{
    "body": "Would it not be simpler to just add the symbolic link?  Fixing a dozen packages somehow looks like a lot of effort when adding one symbolic link would also fix things...\n\nUnless of course someone is volunteering to change all the spkgs *and* somebody else is volunteering to review them.  If we are unlucky, adding `--libdir` could also add new issues...",
    "created_at": "2011-12-10T20:26:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137559",
    "user": "@jdemeyer"
}
```

Would it not be simpler to just add the symbolic link?  Fixing a dozen packages somehow looks like a lot of effort when adding one symbolic link would also fix things...

Unless of course someone is volunteering to change all the spkgs *and* somebody else is volunteering to review them.  If we are unlucky, adding `--libdir` could also add new issues...



---

archive/issue_comments_137560.json:
```json
{
    "body": "Adding the symlink will only work until the next wonky distribution changes the default libdir. For example I wouldn't be surprised if somebody uses `/usr/lib32/`.\n\nIf Simon fixes it then I'll review it. Its a one-line change, how hard can it be.",
    "created_at": "2011-12-10T20:33:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137560",
    "user": "@vbraun"
}
```

Adding the symlink will only work until the next wonky distribution changes the default libdir. For example I wouldn't be surprised if somebody uses `/usr/lib32/`.

If Simon fixes it then I'll review it. Its a one-line change, how hard can it be.



---

archive/issue_comments_137561.json:
```json
{
    "body": "In total, one needs to modify at least 29 packages. I am in the middle of building sage-4.8.alpha3 with the modified packages, and so far `local/lib64/` is empty.",
    "created_at": "2011-12-11T16:14:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137561",
    "user": "@simon-king-jena"
}
```

In total, one needs to modify at least 29 packages. I am in the middle of building sage-4.8.alpha3 with the modified packages, and so far `local/lib64/` is empty.



---

archive/issue_comments_137562.json:
```json
{
    "body": "With the new package versions that I have posted on my sage.math account (see ticket description), `local/lib64/` remains empty, and more importantly all long tests pass.\n\nI noticed that #12139 is now fixed. Therefore I will provide a new mpir version based on that. So, not \"needs review\" yet...",
    "created_at": "2011-12-11T22:55:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137562",
    "user": "@simon-king-jena"
}
```

With the new package versions that I have posted on my sage.math account (see ticket description), `local/lib64/` remains empty, and more importantly all long tests pass.

I noticed that #12139 is now fixed. Therefore I will provide a new mpir version based on that. So, not "needs review" yet...



---

archive/issue_comments_137563.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-12-11T23:08:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137563",
    "user": "@simon-king-jena"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_137564.json:
```json
{
    "body": "The mpir package is now updated as well, based on #12139. I am re-building Sage now, but I will only be able to run the tests again tomorrow.\n\nNeeds review, I'd say! I give Volker's readline package a positive review, since it is part of the Sage version that works for me on `openSUSE 12.1`, at least when I also have\n\n```\n> echo $LD_LIBRARY_PATH\n/usr/local/lib64:/usr/local/lib\n```\n",
    "created_at": "2011-12-11T23:08:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137564",
    "user": "@simon-king-jena"
}
```

The mpir package is now updated as well, based on #12139. I am re-building Sage now, but I will only be able to run the tests again tomorrow.

Needs review, I'd say! I give Volker's readline package a positive review, since it is part of the Sage version that works for me on `openSUSE 12.1`, at least when I also have

```
> echo $LD_LIBRARY_PATH
/usr/local/lib64:/usr/local/lib
```




---

archive/issue_comments_137565.json:
```json
{
    "body": "Sorry, I had too many `http://` in the ticket description...",
    "created_at": "2011-12-11T23:12:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137565",
    "user": "@simon-king-jena"
}
```

Sorry, I had too many `http://` in the ticket description...



---

archive/issue_comments_137566.json:
```json
{
    "body": "libm4ri: `SPKG.txt` needs to be updated.\n\ncddlib, gd, iml: you should fix permissions by doing\n\n```\nchmod ugo+rX -R .\n```\n\n\ngivaro: the version number in `SPKG.txt` doesn't match the version number of the spkg, but this has been the case for many versions...",
    "created_at": "2011-12-12T09:23:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137566",
    "user": "@jdemeyer"
}
```

libm4ri: `SPKG.txt` needs to be updated.

cddlib, gd, iml: you should fix permissions by doing

```
chmod ugo+rX -R .
```


givaro: the version number in `SPKG.txt` doesn't match the version number of the spkg, but this has been the case for many versions...



---

archive/issue_comments_137567.json:
```json
{
    "body": "givaro: since there has never been an upstream version 3.2.13rc2, the correct version number is 3.2.13.rc1.\n\nYou could also consider upgrading the source to upstream 3.2.13 proper:\n[http://ljk.imag.fr/CASYS/LOGICIELS/givaro/Downloads/](http://ljk.imag.fr/CASYS/LOGICIELS/givaro/Downloads/)",
    "created_at": "2011-12-12T09:27:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137567",
    "user": "@jdemeyer"
}
```

givaro: since there has never been an upstream version 3.2.13rc2, the correct version number is 3.2.13.rc1.

You could also consider upgrading the source to upstream 3.2.13 proper:
[http://ljk.imag.fr/CASYS/LOGICIELS/givaro/Downloads/](http://ljk.imag.fr/CASYS/LOGICIELS/givaro/Downloads/)



---

archive/issue_comments_137568.json:
```json
{
    "body": "givaro: `spkg-check` should be executable.",
    "created_at": "2011-12-12T10:00:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137568",
    "user": "@jdemeyer"
}
```

givaro: `spkg-check` should be executable.



---

archive/issue_comments_137569.json:
```json
{
    "body": "I will see what I can do. Since my laptop is at home, I can't work on it right now. Also, I think it would be better to update the givaro package on a different ticket.\n\nI did not change executability of spkg-check in givaro and did not change the permissions if cddlib, gd and iml. But if you like, I can take care of that.",
    "created_at": "2011-12-12T10:08:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137569",
    "user": "@simon-king-jena"
}
```

I will see what I can do. Since my laptop is at home, I can't work on it right now. Also, I think it would be better to update the givaro package on a different ticket.

I did not change executability of spkg-check in givaro and did not change the permissions if cddlib, gd and iml. But if you like, I can take care of that.



---

archive/issue_comments_137570.json:
```json
{
    "body": "Replying to [comment:36 SimonKing]:\n> Also, I think it would be better to update the givaro package on a different ticket.\nSure, but al least correct the spkg version name to **3.2.13rc1**\n\n> I did not change executability of spkg-check in givaro and did not change the permissions if cddlib, gd and iml. But if you like, I can take care of that.\nYes please, these should be trivial fixes.",
    "created_at": "2011-12-12T10:22:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137570",
    "user": "@jdemeyer"
}
```

Replying to [comment:36 SimonKing]:
> Also, I think it would be better to update the givaro package on a different ticket.
Sure, but al least correct the spkg version name to **3.2.13rc1**

> I did not change executability of spkg-check in givaro and did not change the permissions if cddlib, gd and iml. But if you like, I can take care of that.
Yes please, these should be trivial fixes.



---

archive/issue_comments_137571.json:
```json
{
    "body": "opencdk, mpfi: also fix permissions as above\n\nppl: spkg-install should be executable",
    "created_at": "2011-12-12T10:25:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137571",
    "user": "@jdemeyer"
}
```

opencdk, mpfi: also fix permissions as above

ppl: spkg-install should be executable



---

archive/issue_comments_137572.json:
```json
{
    "body": "How could ppl possibly work if spkg-install is not executable??",
    "created_at": "2011-12-12T10:38:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137572",
    "user": "@simon-king-jena"
}
```

How could ppl possibly work if spkg-install is not executable??



---

archive/issue_comments_137573.json:
```json
{
    "body": "PS: How do I make it executable? By `chmod ugo+rx spkg-install`?",
    "created_at": "2011-12-12T10:39:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137573",
    "user": "@simon-king-jena"
}
```

PS: How do I make it executable? By `chmod ugo+rx spkg-install`?



---

archive/issue_comments_137574.json:
```json
{
    "body": "Replying to [comment:39 SimonKing]:\n> How could ppl possibly work if spkg-install is not executable??\n\nIt works because the `sage-spkg` script makes spkg-install executable before running it.",
    "created_at": "2011-12-12T10:44:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137574",
    "user": "@vbraun"
}
```

Replying to [comment:39 SimonKing]:
> How could ppl possibly work if spkg-install is not executable??

It works because the `sage-spkg` script makes spkg-install executable before running it.



---

archive/issue_comments_137575.json:
```json
{
    "body": "Replying to [comment:31 SimonKing]: \n> Needs review, I'd say! I give Volker's readline package a positive review, since it is part of the Sage version that works for me on `openSUSE 12.1`, at least when I also have\n\n```\n> echo $LD_LIBRARY_PATH\n/usr/local/lib64:/usr/local/lib\n```\n\n\nIs that the default OpenSuse setting? Thats would be quite insane. You are not installing Sage into /usr/local, are you?",
    "created_at": "2011-12-12T11:16:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137575",
    "user": "@vbraun"
}
```

Replying to [comment:31 SimonKing]: 
> Needs review, I'd say! I give Volker's readline package a positive review, since it is part of the Sage version that works for me on `openSUSE 12.1`, at least when I also have

```
> echo $LD_LIBRARY_PATH
/usr/local/lib64:/usr/local/lib
```


Is that the default OpenSuse setting? Thats would be quite insane. You are not installing Sage into /usr/local, are you?



---

archive/issue_comments_137576.json:
```json
{
    "body": "Replying to [comment:42 vbraun]:\n> Is that the default OpenSuse setting? \n\nNo, of course not. Some sage-devel gurus suggested to set `LD_LIBRARY_PATH` when I had problems building Sage on an older verson of `SuSE`, when I started using Sage a few years ago. It worked, and thus I did the same again when I met trouble. But this time it has not been enough.\n\n> You are not installing Sage into /usr/local, are you?\n\nNo. It is in my /home folder.",
    "created_at": "2011-12-12T11:24:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137576",
    "user": "@simon-king-jena"
}
```

Replying to [comment:42 vbraun]:
> Is that the default OpenSuse setting? 

No, of course not. Some sage-devel gurus suggested to set `LD_LIBRARY_PATH` when I had problems building Sage on an older verson of `SuSE`, when I started using Sage a few years ago. It worked, and thus I did the same again when I met trouble. But this time it has not been enough.

> You are not installing Sage into /usr/local, are you?

No. It is in my /home folder.



---

archive/issue_comments_137577.json:
```json
{
    "body": "Let me ask again: How do I make it executable? By `chmod ugo+rx spkg-install`?",
    "created_at": "2011-12-12T11:25:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137577",
    "user": "@simon-king-jena"
}
```

Let me ask again: How do I make it executable? By `chmod ugo+rx spkg-install`?



---

archive/issue_comments_137578.json:
```json
{
    "body": "Replying to [comment:44 SimonKing]:\n> Let me ask again: How do I make it executable? By `chmod ugo+rx spkg-install`? \n\nYes, that works. Or maybe `chmod 755 spkg-install`, depending on how much you like octal...\n\nThe opencdk spkg has not-checked-in changes.",
    "created_at": "2011-12-12T12:13:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137578",
    "user": "@vbraun"
}
```

Replying to [comment:44 SimonKing]:
> Let me ask again: How do I make it executable? By `chmod ugo+rx spkg-install`? 

Yes, that works. Or maybe `chmod 755 spkg-install`, depending on how much you like octal...

The opencdk spkg has not-checked-in changes.



---

archive/issue_comments_137579.json:
```json
{
    "body": "There is a typo in iml:\n\n```\n./configure --prefix=\"$SAGE_LOCAL\" --libdir=\"SAGE_LOCAL/lib\"\n```\n\nmisses a dollar sign before `SAGE_LOCAL`",
    "created_at": "2011-12-12T13:10:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137579",
    "user": "@vbraun"
}
```

There is a typo in iml:

```
./configure --prefix="$SAGE_LOCAL" --libdir="SAGE_LOCAL/lib"
```

misses a dollar sign before `SAGE_LOCAL`



---

archive/issue_comments_137580.json:
```json
{
    "body": "I have updated the packages as follows:\n\n* iml: Typo in SPKG.txt ($ missing) and permissions fixed\n* libm4ri: Typo in SPKG.txt concerning version number fixed\n* cddlib: fixed permissions\n* gd: fixed permissions, \n* givaro: I changed the version number into 3.2.13.rc1 and made spkg-check executable. I did not upgrade to the \"full\" release, though.\n* opencdk: fixed permissions and not-checked-in changes. \n* mpfi: fixed permissions\n* ppl: made spkg-install executable\n\nThe spkgs are in their old location (except of course the renumbered givaro package).",
    "created_at": "2011-12-12T18:12:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137580",
    "user": "@simon-king-jena"
}
```

I have updated the packages as follows:

* iml: Typo in SPKG.txt ($ missing) and permissions fixed
* libm4ri: Typo in SPKG.txt concerning version number fixed
* cddlib: fixed permissions
* gd: fixed permissions, 
* givaro: I changed the version number into 3.2.13.rc1 and made spkg-check executable. I did not upgrade to the "full" release, though.
* opencdk: fixed permissions and not-checked-in changes. 
* mpfi: fixed permissions
* ppl: made spkg-install executable

The spkgs are in their old location (except of course the renumbered givaro package).



---

archive/issue_comments_137581.json:
```json
{
    "body": "I've double checked everything and it looks good to me! Positive review for everything except the readline spkg which Simon reviewed.",
    "created_at": "2011-12-14T22:49:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137581",
    "user": "@vbraun"
}
```

I've double checked everything and it looks good to me! Positive review for everything except the readline spkg which Simon reviewed.



---

archive/issue_comments_137582.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-12-14T22:49:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137582",
    "user": "@vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_137583.json:
```json
{
    "body": "Since we have a timely positive review: Can this be merged into sage-4.8.alpha_something?",
    "created_at": "2011-12-15T09:03:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137583",
    "user": "@simon-king-jena"
}
```

Since we have a timely positive review: Can this be merged into sage-4.8.alpha_something?



---

archive/issue_comments_137584.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-12-15T09:07:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137584",
    "user": "@jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_137585.json:
```json
{
    "body": "Why didn't we simply add \"$SAGE_LOCAL/lib64\" to `LD_LIBRARY_PATH` in `sage-env`?  The currently solution (setting --libdir) doesn't work on packages installing *both* a 32-bit and a 64-bit library (such as gcc by default on x86_64, see #12369).",
    "created_at": "2012-01-31T21:15:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137585",
    "user": "@jdemeyer"
}
```

Why didn't we simply add "$SAGE_LOCAL/lib64" to `LD_LIBRARY_PATH` in `sage-env`?  The currently solution (setting --libdir) doesn't work on packages installing *both* a 32-bit and a 64-bit library (such as gcc by default on x86_64, see #12369).



---

archive/issue_comments_137586.json:
```json
{
    "body": "Apart from giving you a 50% chance of having the wrong library first in the library path, its ugly and will break once somebody uses a more descriptive library path :-)",
    "created_at": "2012-01-31T21:58:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137586",
    "user": "@vbraun"
}
```

Apart from giving you a 50% chance of having the wrong library first in the library path, its ugly and will break once somebody uses a more descriptive library path :-)



---

archive/issue_comments_137587.json:
```json
{
    "body": "Replying to [comment:52 vbraun]:\n> Apart from giving you a 50% chance of having the wrong library first in the library path\nWe already have a 99% chance or so of having the first two components wrong:\n\n```\n/usr/local/src/sage-5.0.beta1/local/lib/R/lib:/usr/local/src/sage-5.0.beta1/local/lib/openmpi:/usr/local/src/sage-5.0.beta1/local/lib/\n```\n\n\nBesides, nobody said that `lib64` had to come first.\n\n> and will break once somebody uses a more descriptive library path :-)\nTrue, but the `lib32`/`lib64` multilib is very standard.\n\nIn any case, it is absolutely needed for gcc: #12405.",
    "created_at": "2012-01-31T22:53:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11959",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11959#issuecomment-137587",
    "user": "@jdemeyer"
}
```

Replying to [comment:52 vbraun]:
> Apart from giving you a 50% chance of having the wrong library first in the library path
We already have a 99% chance or so of having the first two components wrong:

```
/usr/local/src/sage-5.0.beta1/local/lib/R/lib:/usr/local/src/sage-5.0.beta1/local/lib/openmpi:/usr/local/src/sage-5.0.beta1/local/lib/
```


Besides, nobody said that `lib64` had to come first.

> and will break once somebody uses a more descriptive library path :-)
True, but the `lib32`/`lib64` multilib is very standard.

In any case, it is absolutely needed for gcc: #12405.
