# Issue 31223: add_condition_improved

archive/issues_031223.json:
```json
{
    "body": "\n\nIssue created by migration from https://trac.sagemath.org/ticket/31460\n\n",
    "created_at": "2021-03-07T11:38:43Z",
    "labels": [
        "PLEASE CHANGE",
        "major"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "add_condition_improved",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31223",
    "user": "@eiguren"
}
```


Issue created by migration from https://trac.sagemath.org/ticket/31460





---

archive/issue_comments_446314.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-07T11:50:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-446314",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_446315.json:
```json
{
    "body": "Changing keywords from \"\" to \"Intersection, triangular surface, IndexFaceSet, add_condiction\".",
    "created_at": "2021-03-07T12:18:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-446315",
    "user": "@eiguren"
}
```

Changing keywords from "" to "Intersection, triangular surface, IndexFaceSet, add_condiction".



---

archive/issue_comments_446316.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to graphics.",
    "created_at": "2021-03-07T12:18:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-446316",
    "user": "@eiguren"
}
```

Changing component from PLEASE CHANGE to graphics.



---

archive/issue_comments_446317.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-03-07T12:18:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-446317",
    "user": "@eiguren"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_446318.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2021-03-07T12:18:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-446318",
    "user": "@eiguren"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_446319.json:
```json
{
    "body": "the documentation of the new auxiliary function is not formatted correctly\n\nplease read carefuly https://doc.sagemath.org/html/en/developer/coding_basics.html\n\nA typo in \"condiction\"",
    "created_at": "2021-03-07T12:32:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-446319",
    "user": "@fchapoton"
}
```

the documentation of the new auxiliary function is not formatted correctly

please read carefuly https://doc.sagemath.org/html/en/developer/coding_basics.html

A typo in "condiction"



---

archive/issue_comments_446320.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-08T11:57:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-446320",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_446321.json:
```json
{
    "body": "for the norm and middle point, please use the functions\n\n```\ncdef inline double point_c_len(point_c P):\n    return math.sqrt(point_c_dot(P, P))\n\ncdef inline void point_c_middle(point_c* res, point_c P, point_c Q, double a):\n    cdef double b = 1 - a\n    res.x = b * P.x + a * Q.x\n    res.y = b * P.y + a * Q.y\n    res.z = b * P.z + a * Q.z\n```\n\ndefined in point_c.pxi",
    "created_at": "2021-03-15T13:25:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-446321",
    "user": "@fchapoton"
}
```

for the norm and middle point, please use the functions

```
cdef inline double point_c_len(point_c P):
    return math.sqrt(point_c_dot(P, P))

cdef inline void point_c_middle(point_c* res, point_c P, point_c Q, double a):
    cdef double b = 1 - a
    res.x = b * P.x + a * Q.x
    res.y = b * P.y + a * Q.y
    res.z = b * P.z + a * Q.z
```

defined in point_c.pxi



---

archive/issue_comments_446322.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-17T18:21:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-446322",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_446323.json:
```json
{
    "body": "looks good. One more thing : remove the assert line\n\nyou may instead break the loop",
    "created_at": "2021-03-17T20:09:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-446323",
    "user": "@fchapoton"
}
```

looks good. One more thing : remove the assert line

you may instead break the loop



---

archive/issue_comments_446324.json:
```json
{
    "body": "still a typo in \"condiction\"",
    "created_at": "2021-03-17T20:10:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-446324",
    "user": "@fchapoton"
}
```

still a typo in "condiction"



---

archive/issue_comments_446325.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-18T08:35:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-446325",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_446326.json:
```json
{
    "body": "ok, I have made a final reviewer commit:\n\n* removing whitespace\n* formatting doc and code\n\nIf you agree and the patchbot comes back green, you can set to \"positive review\" on my behalf.\n\nThanks for adding this improvement.\n----\nNew commits:",
    "created_at": "2021-03-18T10:42:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-446326",
    "user": "@fchapoton"
}
```

ok, I have made a final reviewer commit:

* removing whitespace
* formatting doc and code

If you agree and the patchbot comes back green, you can set to "positive review" on my behalf.

Thanks for adding this improvement.
----
New commits:



---

archive/issue_comments_446327.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-18T10:45:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-446327",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_446328.json:
```json
{
    "body": "Of course. Thanks for reviewing work!",
    "created_at": "2021-03-18T11:09:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-446328",
    "user": "@eiguren"
}
```

Of course. Thanks for reviewing work!



---

archive/issue_comments_446329.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-03-18T15:49:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-446329",
    "user": "@fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_446330.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-03-20T15:27:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-446330",
    "user": "@vbraun"
}
```

Resolution: fixed
