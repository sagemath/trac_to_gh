# Issue 31223: add_condition_improved

archive/issues_031223.json:
```json
{
    "body": "\n\nIssue created by migration from https://trac.sagemath.org/ticket/31460\n\n",
    "created_at": "2021-03-07T11:38:43Z",
    "labels": [
        "component: please change"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "add_condition_improved",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31223",
    "user": "https://github.com/eiguren"
}
```


Issue created by migration from https://trac.sagemath.org/ticket/31460





---

archive/issue_comments_445790.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-07T11:50:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-445790",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445791.json:
```json
{
    "body": "Changing keywords from \"\" to \"Intersection, triangular surface, IndexFaceSet, add_condiction\".",
    "created_at": "2021-03-07T12:18:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-445791",
    "user": "https://github.com/eiguren"
}
```

Changing keywords from "" to "Intersection, triangular surface, IndexFaceSet, add_condiction".



---

archive/issue_comments_445792.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to graphics.",
    "created_at": "2021-03-07T12:18:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-445792",
    "user": "https://github.com/eiguren"
}
```

Changing component from PLEASE CHANGE to graphics.



---

archive/issue_comments_445793.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-03-07T12:18:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-445793",
    "user": "https://github.com/eiguren"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_445794.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2021-03-07T12:18:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-445794",
    "user": "https://github.com/eiguren"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_445795.json:
```json
{
    "body": "the documentation of the new auxiliary function is not formatted correctly\n\nplease read carefuly https://doc.sagemath.org/html/en/developer/coding_basics.html\n\nA typo in \"condiction\"",
    "created_at": "2021-03-07T12:32:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-445795",
    "user": "https://github.com/fchapoton"
}
```

the documentation of the new auxiliary function is not formatted correctly

please read carefuly https://doc.sagemath.org/html/en/developer/coding_basics.html

A typo in "condiction"



---

archive/issue_comments_445796.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-08T11:57:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-445796",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445797.json:
```json
{
    "body": "for the norm and middle point, please use the functions\n\n```\ncdef inline double point_c_len(point_c P):\n    return math.sqrt(point_c_dot(P, P))\n\ncdef inline void point_c_middle(point_c* res, point_c P, point_c Q, double a):\n    cdef double b = 1 - a\n    res.x = b * P.x + a * Q.x\n    res.y = b * P.y + a * Q.y\n    res.z = b * P.z + a * Q.z\n```\n\ndefined in point_c.pxi",
    "created_at": "2021-03-15T13:25:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-445797",
    "user": "https://github.com/fchapoton"
}
```

for the norm and middle point, please use the functions

```
cdef inline double point_c_len(point_c P):
    return math.sqrt(point_c_dot(P, P))

cdef inline void point_c_middle(point_c* res, point_c P, point_c Q, double a):
    cdef double b = 1 - a
    res.x = b * P.x + a * Q.x
    res.y = b * P.y + a * Q.y
    res.z = b * P.z + a * Q.z
```

defined in point_c.pxi



---

archive/issue_comments_445798.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-17T18:21:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-445798",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445799.json:
```json
{
    "body": "looks good. One more thing : remove the assert line\n\nyou may instead break the loop",
    "created_at": "2021-03-17T20:09:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-445799",
    "user": "https://github.com/fchapoton"
}
```

looks good. One more thing : remove the assert line

you may instead break the loop



---

archive/issue_comments_445800.json:
```json
{
    "body": "still a typo in \"condiction\"",
    "created_at": "2021-03-17T20:10:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-445800",
    "user": "https://github.com/fchapoton"
}
```

still a typo in "condiction"



---

archive/issue_comments_445801.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-18T08:35:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-445801",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445802.json:
```json
{
    "body": "ok, I have made a final reviewer commit:\n\n* removing whitespace\n* formatting doc and code\n\nIf you agree and the patchbot comes back green, you can set to \"positive review\" on my behalf.\n\nThanks for adding this improvement.\n----\nNew commits:",
    "created_at": "2021-03-18T10:42:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-445802",
    "user": "https://github.com/fchapoton"
}
```

ok, I have made a final reviewer commit:

* removing whitespace
* formatting doc and code

If you agree and the patchbot comes back green, you can set to "positive review" on my behalf.

Thanks for adding this improvement.
----
New commits:



---

archive/issue_comments_445803.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-18T10:45:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-445803",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_445804.json:
```json
{
    "body": "Of course. Thanks for reviewing work!",
    "created_at": "2021-03-18T11:09:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-445804",
    "user": "https://github.com/eiguren"
}
```

Of course. Thanks for reviewing work!



---

archive/issue_comments_445805.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-03-18T15:49:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-445805",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_445806.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-03-20T15:27:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31223#issuecomment-445806",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_028569.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2021-03-20T15:27:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/31223",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/31223#event-28569"
}
```
