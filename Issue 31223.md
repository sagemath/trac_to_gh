# Issue 31223: add_condition_improved

Issue created by migration from https://trac.sagemath.org/ticket/31460

Original creator: @eiguren

Original creation time: 2021-03-07 11:38:43




---

Comment by git created at 2021-03-07 11:50:29

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @eiguren created at 2021-03-07 12:18:04

Changing keywords from "" to "Intersection, triangular surface, IndexFaceSet, add_condiction".


---

Comment by @eiguren created at 2021-03-07 12:18:04

Changing component from PLEASE CHANGE to graphics.


---

Comment by @eiguren created at 2021-03-07 12:18:04

Changing status from new to needs_review.


---

Comment by @eiguren created at 2021-03-07 12:18:04

Changing type from PLEASE CHANGE to enhancement.


---

Comment by chapoton created at 2021-03-07 12:32:53

the documentation of the new auxiliary function is not formatted correctly

please read carefuly https://doc.sagemath.org/html/en/developer/coding_basics.html

A typo in "condiction"


---

Comment by git created at 2021-03-08 11:57:09

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2021-03-15 13:25:17

for the norm and middle point, please use the functions

```
cdef inline double point_c_len(point_c P):
    return math.sqrt(point_c_dot(P, P))

cdef inline void point_c_middle(point_c* res, point_c P, point_c Q, double a):
    cdef double b = 1 - a
    res.x = b * P.x + a * Q.x
    res.y = b * P.y + a * Q.y
    res.z = b * P.z + a * Q.z
```

defined in point_c.pxi


---

Comment by git created at 2021-03-17 18:21:36

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2021-03-17 20:09:05

looks good. One more thing : remove the assert line

you may instead break the loop


---

Comment by chapoton created at 2021-03-17 20:10:39

still a typo in "condiction"


---

Comment by git created at 2021-03-18 08:35:28

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2021-03-18 10:42:27

ok, I have made a final reviewer commit:

* removing whitespace
* formatting doc and code

If you agree and the patchbot comes back green, you can set to "positive review" on my behalf.

Thanks for adding this improvement.
----
New commits:


---

Comment by git created at 2021-03-18 10:45:25

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @eiguren created at 2021-03-18 11:09:52

Of course. Thanks for reviewing work!


---

Comment by chapoton created at 2021-03-18 15:49:47

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2021-03-20 15:27:34

Resolution: fixed
