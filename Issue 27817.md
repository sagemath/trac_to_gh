# Issue 27817: invariant form cannot be specified for GO/SO over a finite field

Issue created by migration from https://trac.sagemath.org/ticket/28054

Original creator: dimpase

Original creation time: 2019-06-25 12:19:06

CC:  soehms

in `src/sage/groups/matrix_gps/orthogonal.py` one sees

```
        if invariant_form is not None:
            if is_FiniteField(ring):
                raise NotImplementedError("invariant_form for finite groups is fixed by GAP")
```

but it is not triggered on every finite field input, but only these with `e=0`.
 


---

Comment by soehms created at 2019-06-27 18:30:25

well, I simply forgot that
----
New commits:


---

Comment by soehms created at 2019-06-27 18:30:25

Changing status from new to needs_review.


---

Comment by dimpase created at 2019-06-27 18:44:25

It seems there is a forgotten `if is_FiniteField(ring):` in the added code, no?


---

Comment by soehms created at 2019-06-27 19:04:20

As I understood e != 0 doesn't make sense for infinite fields. Maybe we should not allow


```
sage: G = SO(2, QQ, -1)
sage: G.invariant_form()
[1 0]
[0 1]
```



---

Comment by dimpase created at 2019-06-27 19:35:25

getting an error message mentioning a finite field on input over an infinite field would be rather puzzling.


---

Comment by git created at 2019-06-27 19:45:55

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by soehms created at 2019-06-27 19:48:29

o.k., that's a little bit worse than allowing "rubbish in"


---

Comment by git created at 2019-06-28 04:28:33

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by embray created at 2019-12-30 14:48:17

Ticket retargeted after milestone closed


---

Comment by tscrim created at 2020-01-28 00:13:55

LGTM. Dima, I am assuming you have no additional comments. Please correct me if I am wrong.


---

Comment by tscrim created at 2020-01-28 00:13:55

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2020-01-31 23:49:47

Resolution: fixed
