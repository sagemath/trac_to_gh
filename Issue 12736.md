# Issue 12736: unnecessary blank in latex expression of multivariate polynomial

archive/issues_012736.json:
```json
{
    "body": "Assignee: was\n\nCC:  charpent\n\nKeywords: beginner, latex, blank, multivariate polynomial\n\nIn the LaTeX representation of a multivariate polynomial is an unnecessary blank when variable is concatenated with a `-`, see \n\n```\nsage: R.<X,Y> = ZZ[]\nsage: latex(X-Y)\nX -  Y\nsage: latex(X^2-X)\nX^{2} -  X\n```\n\nIt does not happen with `+`\n\n```\nsage: latex(X+Y)\nX + Y\n```\n\nor with a constant\n\n```\nsage: latex(X-1) \nX - 1\n```\n\nIn the univarate case the problem does not appear.\n\nNote that this \"wrong\" output is no problem (i.e. a correct input for LaTeX)\n\nIssue created by migration from https://trac.sagemath.org/ticket/12908\n\n",
    "created_at": "2012-05-05T17:10:39Z",
    "labels": [
        "user interface",
        "trivial",
        "bug"
    ],
    "title": "unnecessary blank in latex expression of multivariate polynomial",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/12736",
    "user": "dkrenn"
}
```
Assignee: was

CC:  charpent

Keywords: beginner, latex, blank, multivariate polynomial

In the LaTeX representation of a multivariate polynomial is an unnecessary blank when variable is concatenated with a `-`, see 

```
sage: R.<X,Y> = ZZ[]
sage: latex(X-Y)
X -  Y
sage: latex(X^2-X)
X^{2} -  X
```

It does not happen with `+`

```
sage: latex(X+Y)
X + Y
```

or with a constant

```
sage: latex(X-1) 
X - 1
```

In the univarate case the problem does not appear.

Note that this "wrong" output is no problem (i.e. a correct input for LaTeX)

Issue created by migration from https://trac.sagemath.org/ticket/12908





---

archive/issue_comments_152552.json:
```json
{
    "body": "Does this really need a fix? The latex output can be used in two ways:\n1. Input to a latex document.\n2. Display on the notebook with typeset.\nIn both the cases, the output will be fine.",
    "created_at": "2012-05-05T17:48:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152552",
    "user": "ppurka"
}
```

Does this really need a fix? The latex output can be used in two ways:
1. Input to a latex document.
2. Display on the notebook with typeset.
In both the cases, the output will be fine.



---

archive/issue_comments_152553.json:
```json
{
    "body": "Attachment [trac_12908.patch](tarball://root/attachments/some-uuid/ticket12908/trac_12908.patch) by aapitzsch created at 2012-07-19 22:06:50",
    "created_at": "2012-07-19T22:06:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152553",
    "user": "aapitzsch"
}
```

Attachment [trac_12908.patch](tarball://root/attachments/some-uuid/ticket12908/trac_12908.patch) by aapitzsch created at 2012-07-19 22:06:50



---

archive/issue_comments_152554.json:
```json
{
    "body": "The attached patch removes the unnecessary blank.\n\nBut now we also have\n\n```\nsage: latex(-X^2-X)\n-X^{2} - X\n```\n\ninstead of\n\n```\nsage: latex(-X^2-X)\n- X^{2} - X\n```\n\nIs this reasonable or should we find a solution to keep the blank between the leading variable and its sign (\"`-`\")?",
    "created_at": "2012-07-19T22:17:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152554",
    "user": "aapitzsch"
}
```

The attached patch removes the unnecessary blank.

But now we also have

```
sage: latex(-X^2-X)
-X^{2} - X
```

instead of

```
sage: latex(-X^2-X)
- X^{2} - X
```

Is this reasonable or should we find a solution to keep the blank between the leading variable and its sign ("`-`")?



---

archive/issue_comments_152555.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-07-19T22:17:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152555",
    "user": "aapitzsch"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_152556.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-07-20T03:14:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152556",
    "user": "novoselt"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_152557.json:
```json
{
    "body": "No, it is not reasonable. As it was pointed out, the current output is correct and the only reason to \"fix\" is aesthetics. From this point of view, getting rid of a double space and swallowing a single one is not good - better to have more spaces then less.",
    "created_at": "2012-07-20T03:14:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152557",
    "user": "novoselt"
}
```

No, it is not reasonable. As it was pointed out, the current output is correct and the only reason to "fix" is aesthetics. From this point of view, getting rid of a double space and swallowing a single one is not good - better to have more spaces then less.



---

archive/issue_comments_152558.json:
```json
{
    "body": "Currently we have\n\n```\nsage: latex(-x^2-x)\n-x^{2} - x\nsage: R.<y> = ZZ[]  \nsage: latex(-y^2-y)\n-y^{2} - y\n```\n\nNotice, there is no blank in the leading term, if it's no multivariate polynomial.\nSo why do we need one if it's a multivariate polynomial?\n\nIMO it should be consistent.",
    "created_at": "2012-07-20T08:07:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152558",
    "user": "aapitzsch"
}
```

Currently we have

```
sage: latex(-x^2-x)
-x^{2} - x
sage: R.<y> = ZZ[]  
sage: latex(-y^2-y)
-y^{2} - y
```

Notice, there is no blank in the leading term, if it's no multivariate polynomial.
So why do we need one if it's a multivariate polynomial?

IMO it should be consistent.



---

archive/issue_comments_152559.json:
```json
{
    "body": "Replying to [comment:4 aapitzsch]:\n> IMO it should be consistent.\n\nYes, and this means that there is always exactly one space, if it is missing, it is the same \"bug\" as with double spaces or even worse since it makes reading more difficult and interferes with word wrapping.\n\nA more useful LaTeX alteration than decreasing spaces would be getting rid of `{}` around singletons, i.e. instead of `x_{1}^{2}` it would be better to have `x_1^2`, again for reasons of readability and subsequent \"manual manipulations\". Macaulay2 is making such a change, as can be seen in one of the failing tests here:\nhttp://trac.sagemath.org/sage_trac/ticket/11710#comment:23",
    "created_at": "2012-07-20T13:35:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152559",
    "user": "novoselt"
}
```

Replying to [comment:4 aapitzsch]:
> IMO it should be consistent.

Yes, and this means that there is always exactly one space, if it is missing, it is the same "bug" as with double spaces or even worse since it makes reading more difficult and interferes with word wrapping.

A more useful LaTeX alteration than decreasing spaces would be getting rid of `{}` around singletons, i.e. instead of `x_{1}^{2}` it would be better to have `x_1^2`, again for reasons of readability and subsequent "manual manipulations". Macaulay2 is making such a change, as can be seen in one of the failing tests here:
http://trac.sagemath.org/sage_trac/ticket/11710#comment:23



---

archive/issue_comments_152560.json:
```json
{
    "body": "Attachment [trac_12908_latex_blank.patch](tarball://root/attachments/some-uuid/ticket12908/trac_12908_latex_blank.patch) by aapitzsch created at 2012-07-21 17:46:14\n\nApply only trac_12908_latex_blank.patch.\n\nThis patch doesn't fix all \"space bugs\" in LaTeX expressions, only those which are related to the bug mentioned at the top.",
    "created_at": "2012-07-21T17:46:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152560",
    "user": "aapitzsch"
}
```

Attachment [trac_12908_latex_blank.patch](tarball://root/attachments/some-uuid/ticket12908/trac_12908_latex_blank.patch) by aapitzsch created at 2012-07-21 17:46:14

Apply only trac_12908_latex_blank.patch.

This patch doesn't fix all "space bugs" in LaTeX expressions, only those which are related to the bug mentioned at the top.



---

archive/issue_comments_152561.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-07-21T17:46:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152561",
    "user": "aapitzsch"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_152562.json:
```json
{
    "body": "I attempted to apply trac_12908_latex_blank.patch to Sage 5.10, but it appears rotted.\n\n\n\n```\n~/sage/devel/sage$ hg qimport trac_12908_latex_blank.patch                                                                                   \nadding trac_12908_latex_blank.patch to series file                                                                                           \n~/sage/devel/sage$ hg qpush                                                                                                                  \napplying trac_12908_latex_blank.patch                                                                                                        \npatching file doc/de/tutorial/latex.rst                                                                                                      \nHunk #1 succeeded at 73 with fuzz 1 (offset -5 lines).                                                                                       \npatching file doc/en/tutorial/latex.rst                                                                                                      \nHunk #1 succeeded at 70 with fuzz 1 (offset -10 lines).                                                                                      \npatching file sage/algebras/free_algebra_quotient_element.py                                                                                 \nHunk #1 FAILED at 136                                                                                                                        \n1 out of 1 hunks FAILED -- saving rejects to file sage/algebras/free_algebra_quotient_element.py.rej                                         \npatching file sage/combinat/free_module.py                                                                                                   \nHunk #1 FAILED at 1032                                                                                                                       \n1 out of 1 hunks FAILED -- saving rejects to file sage/combinat/free_module.py.rej                                                           \npatching file sage/rings/polynomial/polynomial_quotient_ring_element.py                                                                      \nHunk #1 FAILED at 185                                                                                                                        \n1 out of 1 hunks FAILED -- saving rejects to file sage/rings/polynomial/polynomial_quotient_ring_element.py.rej                              \npatch failed, unable to continue (try -v)                                                                                                    \npatch failed, rejects left in working dir                                                                                                    \nerrors during apply, please fix and refresh trac_12908_latex_blank.patch \n```\n\n\nOn a side note, I would like to vote that the space between the sign and leading term should not be there.  I am new to sage and trac, but I prefer\n\n\n```\n-X - Y\n```\n\nas opposed to\n\n\n```\n- X - Y\n```\n\n\nThe leading negative indicates an inverse where as the subtraction between objects is an operation (adding an inverse).  That is:\n\n\n```\n-X + -Y = -X - Y\n```\n\n\nSince the original patch has the same problems applying, I will change the status to needs work.",
    "created_at": "2013-07-11T22:47:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152562",
    "user": "dsmatth"
}
```

I attempted to apply trac_12908_latex_blank.patch to Sage 5.10, but it appears rotted.



```
~/sage/devel/sage$ hg qimport trac_12908_latex_blank.patch                                                                                   
adding trac_12908_latex_blank.patch to series file                                                                                           
~/sage/devel/sage$ hg qpush                                                                                                                  
applying trac_12908_latex_blank.patch                                                                                                        
patching file doc/de/tutorial/latex.rst                                                                                                      
Hunk #1 succeeded at 73 with fuzz 1 (offset -5 lines).                                                                                       
patching file doc/en/tutorial/latex.rst                                                                                                      
Hunk #1 succeeded at 70 with fuzz 1 (offset -10 lines).                                                                                      
patching file sage/algebras/free_algebra_quotient_element.py                                                                                 
Hunk #1 FAILED at 136                                                                                                                        
1 out of 1 hunks FAILED -- saving rejects to file sage/algebras/free_algebra_quotient_element.py.rej                                         
patching file sage/combinat/free_module.py                                                                                                   
Hunk #1 FAILED at 1032                                                                                                                       
1 out of 1 hunks FAILED -- saving rejects to file sage/combinat/free_module.py.rej                                                           
patching file sage/rings/polynomial/polynomial_quotient_ring_element.py                                                                      
Hunk #1 FAILED at 185                                                                                                                        
1 out of 1 hunks FAILED -- saving rejects to file sage/rings/polynomial/polynomial_quotient_ring_element.py.rej                              
patch failed, unable to continue (try -v)                                                                                                    
patch failed, rejects left in working dir                                                                                                    
errors during apply, please fix and refresh trac_12908_latex_blank.patch 
```


On a side note, I would like to vote that the space between the sign and leading term should not be there.  I am new to sage and trac, but I prefer


```
-X - Y
```

as opposed to


```
- X - Y
```


The leading negative indicates an inverse where as the subtraction between objects is an operation (adding an inverse).  That is:


```
-X + -Y = -X - Y
```


Since the original patch has the same problems applying, I will change the status to needs work.



---

archive/issue_comments_152563.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-07-11T22:50:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152563",
    "user": "dsmatth"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_152564.json:
```json
{
    "body": "Are there any particular style guidelines that recommend smaller space for unitary minus? I personally prefer the same space as for binary for consistency.",
    "created_at": "2013-07-12T15:30:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152564",
    "user": "novoselt"
}
```

Are there any particular style guidelines that recommend smaller space for unitary minus? I personally prefer the same space as for binary for consistency.



---

archive/issue_comments_152565.json:
```json
{
    "body": "FWIW, Don Knuth doesn't use spaces in his `TeXbook`. A better style guide you won't get.",
    "created_at": "2014-02-11T17:29:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152565",
    "user": "rws"
}
```

FWIW, Don Knuth doesn't use spaces in his `TeXbook`. A better style guide you won't get.



---

archive/issue_comments_152566.json:
```json
{
    "body": "Testing:\n\n\n```\nsage: R.<X,Y> = ZZ[]\nsage: latex(X-Y)\nX - Y\n```\n\n(single space present between '-' and Y)\n\n```\nsage: latex(X^2-X)\nX^{2} - X\n```\n\n(single space present between '-' and X)\n----\nNew commits:",
    "created_at": "2019-01-03T13:32:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152566",
    "user": "@durgeshra"
}
```

Testing:


```
sage: R.<X,Y> = ZZ[]
sage: latex(X-Y)
X - Y
```

(single space present between '-' and Y)

```
sage: latex(X^2-X)
X^{2} - X
```

(single space present between '-' and X)
----
New commits:



---

archive/issue_comments_152567.json:
```json
{
    "body": "Thanks! Please add the tests to the source in a follow-up commit.  You can add the test cases in the docstring for `singular_polynomial_latex`.  You can follow the format of the one existing regression test that's already there.  Just put this one after the test for #11186.  I would also add a test for the leading `-` case as in:\n\n\n```\nsage: latex(-x^2-x)\n-x^{2} - x\nsage: R.<y> = ZZ[]  \nsage: latex(-y^2-y)\n-y^{2} - y\n```\n",
    "created_at": "2019-01-03T17:59:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152567",
    "user": "embray"
}
```

Thanks! Please add the tests to the source in a follow-up commit.  You can add the test cases in the docstring for `singular_polynomial_latex`.  You can follow the format of the one existing regression test that's already there.  Just put this one after the test for #11186.  I would also add a test for the leading `-` case as in:


```
sage: latex(-x^2-x)
-x^{2} - x
sage: R.<y> = ZZ[]  
sage: latex(-y^2-y)
-y^{2} - y
```




---

archive/issue_comments_152568.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-04T08:43:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152568",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_152569.json:
```json
{
    "body": "Replying to [comment:18 embray]:\n> Thanks! Please add the tests to the source in a follow-up commit.  You can add the test cases in the docstring for `singular_polynomial_latex`.  You can follow the format of the one existing regression test that's already there.  Just put this one after the test for #11186.  I would also add a test for the leading `-` case as in:\n> \n> {{{\n> sage: latex(-x^2-x)\n> -x^{2} - x\n> sage: R.<y> = ZZ[]  \n> sage: latex(-y^2-y)\n> -y^{2} - y\n> }}}\n\nDone.",
    "created_at": "2019-01-04T08:44:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152569",
    "user": "@durgeshra"
}
```

Replying to [comment:18 embray]:
> Thanks! Please add the tests to the source in a follow-up commit.  You can add the test cases in the docstring for `singular_polynomial_latex`.  You can follow the format of the one existing regression test that's already there.  Just put this one after the test for #11186.  I would also add a test for the leading `-` case as in:
> 
> {{{
> sage: latex(-x^2-x)
> -x^{2} - x
> sage: R.<y> = ZZ[]  
> sage: latex(-y^2-y)
> -y^{2} - y
> }}}

Done.



---

archive/issue_comments_152570.json:
```json
{
    "body": "Dear Durgesh,\n\n1) Welcome aboard !\n\n2) About your proposal :\n\nReplying to [comment:20 gh-durgeshra]:\n\n[ Snip... ]\n\n> Done.\n\nA better way to pass that information would have been to change the state of the ticket to `needs_work` : this way, all people working (or having worked) on that ticket would have received the (useful) info that a proposed fix needed review.\n\nI'll try to have a look later this week-end (possibly today).",
    "created_at": "2019-01-04T09:37:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152570",
    "user": "charpent"
}
```

Dear Durgesh,

1) Welcome aboard !

2) About your proposal :

Replying to [comment:20 gh-durgeshra]:

[ Snip... ]

> Done.

A better way to pass that information would have been to change the state of the ticket to `needs_work` : this way, all people working (or having worked) on that ticket would have received the (useful) info that a proposed fix needed review.

I'll try to have a look later this week-end (possibly today).



---

archive/issue_comments_152571.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-01-04T11:28:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152571",
    "user": "@durgeshra"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_152572.json:
```json
{
    "body": "\n```diff\n\ndiff --git a/src/sage/libs/singular/polynomial.pyx b/src/sage/libs/singular/polynomial.pyx\nindex 2e4efb1..a494142 100644\n--- a/src/sage/libs/singular/polynomial.pyx\n+++ b/src/sage/libs/singular/polynomial.pyx\n@@ -460,6 +460,14 @@ cdef object singular_polynomial_latex(poly *p, ring *r, object base, object late\n         sage: P.<v,w> = K[]\n         sage: latex((z+1)*v*w - z*w^2 + z*v + z^2*w + z + 1)\n         \\left(z + 1\\right) v w - z w^{2} + z v + \\left(-z - 1\\right) w + z + 1\n+\n+    Demonstrate that there is no blank in latex expression of multivariate\n+    polynomial (:trac:`12908`)::\n+        sage: R.<X,Y> = ZZ[]\n+        sage: latex(X-Y)\n+        X - Y\n+        sage: latex(X^2-X)\n+        X^{2} - X\n     \"\"\"\n     poly = \"\"\n     cdef unsigned long e\n```\n\n\nPlease include a blank line after the `::` as in other examples.  I think it isn't strictly needed but it's stylistically more consistent.  I would also reword the text to \"Demonstrate that there are no extra blanks in latex expressions of multivariate polynomial\".  The wording you have is confusing:  There *are* blanks, and this demonstrates that there are.  What we want is not extra, superfluous blanks.  Please also add an example with a leading unary `-` as mentioned in comment:18.\n\nSorry for the nitpicks but that's why it's nice for new contributors to start with an easy ticket :)  Looks like you're almost there.",
    "created_at": "2019-01-04T12:31:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152572",
    "user": "embray"
}
```


```diff

diff --git a/src/sage/libs/singular/polynomial.pyx b/src/sage/libs/singular/polynomial.pyx
index 2e4efb1..a494142 100644
--- a/src/sage/libs/singular/polynomial.pyx
+++ b/src/sage/libs/singular/polynomial.pyx
@@ -460,6 +460,14 @@ cdef object singular_polynomial_latex(poly *p, ring *r, object base, object late
         sage: P.<v,w> = K[]
         sage: latex((z+1)*v*w - z*w^2 + z*v + z^2*w + z + 1)
         \left(z + 1\right) v w - z w^{2} + z v + \left(-z - 1\right) w + z + 1
+
+    Demonstrate that there is no blank in latex expression of multivariate
+    polynomial (:trac:`12908`)::
+        sage: R.<X,Y> = ZZ[]
+        sage: latex(X-Y)
+        X - Y
+        sage: latex(X^2-X)
+        X^{2} - X
     """
     poly = ""
     cdef unsigned long e
```


Please include a blank line after the `::` as in other examples.  I think it isn't strictly needed but it's stylistically more consistent.  I would also reword the text to "Demonstrate that there are no extra blanks in latex expressions of multivariate polynomial".  The wording you have is confusing:  There *are* blanks, and this demonstrates that there are.  What we want is not extra, superfluous blanks.  Please also add an example with a leading unary `-` as mentioned in comment:18.

Sorry for the nitpicks but that's why it's nice for new contributors to start with an easy ticket :)  Looks like you're almost there.



---

archive/issue_comments_152573.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-01-04T12:31:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152573",
    "user": "embray"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_152574.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-04T12:44:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152574",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_152575.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-01-04T12:44:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152575",
    "user": "@durgeshra"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_152576.json:
```json
{
    "body": "Replying to [comment:23 embray]:\n\n[ Snip... ]\n\n> Sorry for the nitpicks but that's why it's nice for new contributors to start with an easy ticket :)  Looks like you're almost there.\n\nAhem...\n\nApart from (justifiable) nitpickings, this (correct) fix breaks three other doctests that rely on a specific latex representation :\n\n\n```\n----------------------------------------------------------------------\nsage -t --long --warn-long 144.0 src/sage/modular/modform_hecketriangle/graded_ring_element.py  # 1 doctest failed\nsage -t --long --warn-long 144.0 src/sage/modular/modform_hecketriangle/element.py  # 1 doctest failed\nsage -t --long --warn-long 144.0 src/sage/algebras/weyl_algebra.py  # 1 doctest failed\n----------------------------------------------------------------------\n```\n\n\nHere are the errors :\n\n\n```\ncharpent@zen-book-flip:/usr/local/sage-8$ sage -t --long --warn-long 144.0 src/sage/modular/modform_hecketriangle/graded_ring_element.py\nRunning doctests with ID 2019-01-04-13-39-47-4a9651a6.\nGit branch: t/12908/unnecessary_blank_in_latex_expression_of_multivariate_polynomial\nUsing --optional=dochtml,fricas,gap_packages,giacpy_sage,gmpy2,memlimit,mpir,python2,sage\nDoctesting 1 file.\nsage -t --long --warn-long 144.0 src/sage/modular/modform_hecketriangle/graded_ring_element.py\n**********************************************************************\nFile \"src/sage/modular/modform_hecketriangle/graded_ring_element.py\", line 252, in sage.modular.modform_hecketriangle.graded_ring_element.?._latex_\nFailed example:\n    latex(QuasiModularFormsRing(n=infinity)(x*(x-y^2)*z))\nExpected:\n    - E_{4} f_{i}^{2} E_{2} + E_{4}^{2} E_{2}\nGot:\n    -E_{4} f_{i}^{2} E_{2} + E_{4}^{2} E_{2}\n**********************************************************************\n1 item had failures:\n   1 of   7 in sage.modular.modform_hecketriangle.graded_ring_element.?._latex_\n    [672 tests, 1 failure, 17.26 s]\n----------------------------------------------------------------------\nsage -t --long --warn-long 144.0 src/sage/modular/modform_hecketriangle/graded_ring_element.py  # 1 doctest failed\n----------------------------------------------------------------------\nTotal time for all tests: 17.4 seconds\n    cpu time: 17.0 seconds\n    cumulative wall time: 17.3 seconds\ncharpent@zen-book-flip:/usr/local/sage-8$ sage -t --long --warn-long 144.0 src/sage/modular/modform_hecketriangle/element.py \nRunning doctests with ID 2019-01-04-13-40-22-f8799c62.\nGit branch: t/12908/unnecessary_blank_in_latex_expression_of_multivariate_polynomial\nUsing --optional=dochtml,fricas,gap_packages,giacpy_sage,gmpy2,memlimit,mpir,python2,sage\nDoctesting 1 file.\nsage -t --long --warn-long 144.0 src/sage/modular/modform_hecketriangle/element.py\n**********************************************************************\nFile \"src/sage/modular/modform_hecketriangle/element.py\", line 111, in sage.modular.modform_hecketriangle.element.FormsElement._latex_\nFailed example:\n    latex(QuasiModularForms(n=infinity, k=8, ep=1)(x*(x-y^2)))\nExpected:\n    - E_{4} f_{i}^{2} + E_{4}^{2}\nGot:\n    -E_{4} f_{i}^{2} + E_{4}^{2}\n**********************************************************************\n1 item had failures:\n   1 of   5 in sage.modular.modform_hecketriangle.element.FormsElement._latex_\n    [83 tests, 1 failure, 2.43 s]\n----------------------------------------------------------------------\nsage -t --long --warn-long 144.0 src/sage/modular/modform_hecketriangle/element.py  # 1 doctest failed\n----------------------------------------------------------------------\nTotal time for all tests: 7.5 seconds\n    cpu time: 2.2 seconds\n    cumulative wall time: 2.4 seconds\ncharpent@zen-book-flip:/usr/local/sage-8$ sage -t --long --warn-long 144.0 src/sage/algebras/weyl_algebra.py  # 1 doctest failed\nRunning doctests with ID 2019-01-04-13-40-51-fc1e6dd9.\nGit branch: t/12908/unnecessary_blank_in_latex_expression_of_multivariate_polynomial\nUsing --optional=dochtml,fricas,gap_packages,giacpy_sage,gmpy2,memlimit,mpir,python2,sage\nDoctesting 1 file.\nsage -t --long --warn-long 144.0 src/sage/algebras/weyl_algebra.py\n**********************************************************************\nFile \"src/sage/algebras/weyl_algebra.py\", line 112, in sage.algebras.weyl_algebra.repr_from_monomials\nFailed example:\n    latex(c*(a*a + 2)*b)\nExpected:\n    \\left( - x - 2 \\right)  e_{1} e_{2} - 4 x - 8\nGot:\n    \\left( -x - 2 \\right)  e_{1} e_{2} - 4 x - 8\n**********************************************************************\n1 item had failures:\n   1 of  28 in sage.algebras.weyl_algebra.repr_from_monomials\n    [159 tests, 1 failure, 0.18 s]\n----------------------------------------------------------------------\nsage -t --long --warn-long 144.0 src/sage/algebras/weyl_algebra.py  # 1 doctest failed\n----------------------------------------------------------------------\nTotal time for all tests: 0.2 seconds\n    cpu time: 0.2 seconds\n    cumulative wall time: 0.2 seconds\n```\n\n\nIn all cases, the change introduced by the  ticket gives a correct LaTeX representation, differing just by the amount of space. These doctests should be fixed.\n----\nNew commits:",
    "created_at": "2019-01-04T12:50:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152576",
    "user": "charpent"
}
```

Replying to [comment:23 embray]:

[ Snip... ]

> Sorry for the nitpicks but that's why it's nice for new contributors to start with an easy ticket :)  Looks like you're almost there.

Ahem...

Apart from (justifiable) nitpickings, this (correct) fix breaks three other doctests that rely on a specific latex representation :


```
----------------------------------------------------------------------
sage -t --long --warn-long 144.0 src/sage/modular/modform_hecketriangle/graded_ring_element.py  # 1 doctest failed
sage -t --long --warn-long 144.0 src/sage/modular/modform_hecketriangle/element.py  # 1 doctest failed
sage -t --long --warn-long 144.0 src/sage/algebras/weyl_algebra.py  # 1 doctest failed
----------------------------------------------------------------------
```


Here are the errors :


```
charpent@zen-book-flip:/usr/local/sage-8$ sage -t --long --warn-long 144.0 src/sage/modular/modform_hecketriangle/graded_ring_element.py
Running doctests with ID 2019-01-04-13-39-47-4a9651a6.
Git branch: t/12908/unnecessary_blank_in_latex_expression_of_multivariate_polynomial
Using --optional=dochtml,fricas,gap_packages,giacpy_sage,gmpy2,memlimit,mpir,python2,sage
Doctesting 1 file.
sage -t --long --warn-long 144.0 src/sage/modular/modform_hecketriangle/graded_ring_element.py
**********************************************************************
File "src/sage/modular/modform_hecketriangle/graded_ring_element.py", line 252, in sage.modular.modform_hecketriangle.graded_ring_element.?._latex_
Failed example:
    latex(QuasiModularFormsRing(n=infinity)(x*(x-y^2)*z))
Expected:
    - E_{4} f_{i}^{2} E_{2} + E_{4}^{2} E_{2}
Got:
    -E_{4} f_{i}^{2} E_{2} + E_{4}^{2} E_{2}
**********************************************************************
1 item had failures:
   1 of   7 in sage.modular.modform_hecketriangle.graded_ring_element.?._latex_
    [672 tests, 1 failure, 17.26 s]
----------------------------------------------------------------------
sage -t --long --warn-long 144.0 src/sage/modular/modform_hecketriangle/graded_ring_element.py  # 1 doctest failed
----------------------------------------------------------------------
Total time for all tests: 17.4 seconds
    cpu time: 17.0 seconds
    cumulative wall time: 17.3 seconds
charpent@zen-book-flip:/usr/local/sage-8$ sage -t --long --warn-long 144.0 src/sage/modular/modform_hecketriangle/element.py 
Running doctests with ID 2019-01-04-13-40-22-f8799c62.
Git branch: t/12908/unnecessary_blank_in_latex_expression_of_multivariate_polynomial
Using --optional=dochtml,fricas,gap_packages,giacpy_sage,gmpy2,memlimit,mpir,python2,sage
Doctesting 1 file.
sage -t --long --warn-long 144.0 src/sage/modular/modform_hecketriangle/element.py
**********************************************************************
File "src/sage/modular/modform_hecketriangle/element.py", line 111, in sage.modular.modform_hecketriangle.element.FormsElement._latex_
Failed example:
    latex(QuasiModularForms(n=infinity, k=8, ep=1)(x*(x-y^2)))
Expected:
    - E_{4} f_{i}^{2} + E_{4}^{2}
Got:
    -E_{4} f_{i}^{2} + E_{4}^{2}
**********************************************************************
1 item had failures:
   1 of   5 in sage.modular.modform_hecketriangle.element.FormsElement._latex_
    [83 tests, 1 failure, 2.43 s]
----------------------------------------------------------------------
sage -t --long --warn-long 144.0 src/sage/modular/modform_hecketriangle/element.py  # 1 doctest failed
----------------------------------------------------------------------
Total time for all tests: 7.5 seconds
    cpu time: 2.2 seconds
    cumulative wall time: 2.4 seconds
charpent@zen-book-flip:/usr/local/sage-8$ sage -t --long --warn-long 144.0 src/sage/algebras/weyl_algebra.py  # 1 doctest failed
Running doctests with ID 2019-01-04-13-40-51-fc1e6dd9.
Git branch: t/12908/unnecessary_blank_in_latex_expression_of_multivariate_polynomial
Using --optional=dochtml,fricas,gap_packages,giacpy_sage,gmpy2,memlimit,mpir,python2,sage
Doctesting 1 file.
sage -t --long --warn-long 144.0 src/sage/algebras/weyl_algebra.py
**********************************************************************
File "src/sage/algebras/weyl_algebra.py", line 112, in sage.algebras.weyl_algebra.repr_from_monomials
Failed example:
    latex(c*(a*a + 2)*b)
Expected:
    \left( - x - 2 \right)  e_{1} e_{2} - 4 x - 8
Got:
    \left( -x - 2 \right)  e_{1} e_{2} - 4 x - 8
**********************************************************************
1 item had failures:
   1 of  28 in sage.algebras.weyl_algebra.repr_from_monomials
    [159 tests, 1 failure, 0.18 s]
----------------------------------------------------------------------
sage -t --long --warn-long 144.0 src/sage/algebras/weyl_algebra.py  # 1 doctest failed
----------------------------------------------------------------------
Total time for all tests: 0.2 seconds
    cpu time: 0.2 seconds
    cumulative wall time: 0.2 seconds
```


In all cases, the change introduced by the  ticket gives a correct LaTeX representation, differing just by the amount of space. These doctests should be fixed.
----
New commits:



---

archive/issue_comments_152577.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-01-04T12:51:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152577",
    "user": "charpent"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_152578.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-04T13:11:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152578",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_152579.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-01-04T13:11:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152579",
    "user": "@durgeshra"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_152580.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-01-04T14:43:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152580",
    "user": "charpent"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_152581.json:
```json
{
    "body": "Merged on 8.6.rc0, passes ptestlong ==> `positive_review`.",
    "created_at": "2019-01-04T14:43:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152581",
    "user": "charpent"
}
```

Merged on 8.6.rc0, passes ptestlong ==> `positive_review`.



---

archive/issue_comments_152582.json:
```json
{
    "body": "I figured there would be some new test failures as a result of this, and was going to check that next after all other details were dealt with?  Also, I'd prefer people squash their commits when making lots of little minor changes so I will do that.",
    "created_at": "2019-01-07T14:20:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152582",
    "user": "embray"
}
```

I figured there would be some new test failures as a result of this, and was going to check that next after all other details were dealt with?  Also, I'd prefer people squash their commits when making lots of little minor changes so I will do that.



---

archive/issue_comments_152583.json:
```json
{
    "body": "Squashed.  Thanks Durgesh.  \n----\nNew commits:",
    "created_at": "2019-01-07T14:26:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152583",
    "user": "embray"
}
```

Squashed.  Thanks Durgesh.  
----
New commits:



---

archive/issue_comments_152584.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-01-26T15:53:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152584",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_152585.json:
```json
{
    "body": "Have all authors got their names in the \"Authors\" field?",
    "created_at": "2019-01-27T15:39:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152585",
    "user": "slelievre"
}
```

Have all authors got their names in the "Authors" field?



---

archive/issue_comments_152586.json:
```json
{
    "body": "I haven't. Will do right now. \nEdit: Done\nReplying to [comment:36 slelievre]:\n> Have all authors got their names in the \"Authors\" field?",
    "created_at": "2019-01-27T16:11:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152586",
    "user": "@durgeshra"
}
```

I haven't. Will do right now. 
Edit: Done
Replying to [comment:36 slelievre]:
> Have all authors got their names in the "Authors" field?



---

archive/issue_comments_152587.json:
```json
{
    "body": "I mean on the Trac ticket. Click \"Modify Ticket\", then add your full name\nto the `Authors` field.",
    "created_at": "2019-01-27T21:52:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152587",
    "user": "slelievre"
}
```

I mean on the Trac ticket. Click "Modify Ticket", then add your full name
to the `Authors` field.



---

archive/issue_comments_152588.json:
```json
{
    "body": "The ticket's already been merged, so I don't know if the change in authors will have any effect.",
    "created_at": "2019-01-28T04:35:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152588",
    "user": "jhpalmieri"
}
```

The ticket's already been merged, so I don't know if the change in authors will have any effect.



---

archive/issue_comments_152589.json:
```json
{
    "body": "It will matter when producing the changelog for [SageMath](SageMath) 8.7.",
    "created_at": "2019-01-28T09:40:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152589",
    "user": "slelievre"
}
```

It will matter when producing the changelog for [SageMath](SageMath) 8.7.



---

archive/issue_comments_152590.json:
```json
{
    "body": "Oh, the changelog isn't just based on the git log?",
    "created_at": "2019-01-28T17:31:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152590",
    "user": "jhpalmieri"
}
```

Oh, the changelog isn't just based on the git log?



---

archive/issue_comments_152591.json:
```json
{
    "body": "Replying to [comment:42 jhpalmieri]:\n> Oh, the changelog isn't just based on the git log?\n\nNo, it's based on the information on Trac. In fact, the changelog-generating script predates the switch to git!",
    "created_at": "2019-01-29T08:25:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/12736",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/12736#issuecomment-152591",
    "user": "jdemeyer"
}
```

Replying to [comment:42 jhpalmieri]:
> Oh, the changelog isn't just based on the git log?

No, it's based on the information on Trac. In fact, the changelog-generating script predates the switch to git!
