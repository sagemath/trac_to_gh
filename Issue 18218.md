# Issue 18218: Remove many unneeded includes of cdefs.pxi

Issue created by migration from Trac.

Original creator: jdemeyer

Original creation time: 2015-05-19 20:46:05

CC:  jpflori

Many Sage files contain

```
include 'sage/ext/cdefs.pxi'
```

without a good reason.

This file adds a dependency on the GMP declarations which is often unwanted.


---

Comment by jdemeyer created at 2015-05-19 21:48:31

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2015-05-19 21:48:31

New commits:


---

Comment by git created at 2015-05-20 06:32:38

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jpflori created at 2015-05-20 07:24:25

Couldn't we completely get rid of `cdefs.pxi`?
It does not seem that useful.
Or at least get rid of the `gmp` part within it.

By the way, your commits added an inclusion of `cdefs.pxi` in `integer.pyx`, was it intended?


---

Comment by git created at 2015-05-20 09:29:23

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jdemeyer created at 2015-05-20 09:31:39

Replying to [comment:6 jpflori]:
> Couldn't we completely get rid of `cdefs.pxi`?
Well, there is always backwards compatibility for custom Cython code.
In the Sage library, we could get of it. But I'd rather not do that in this ticket, it's already big enough.

> By the way, your commits added an inclusion of `cdefs.pxi` in `integer.pyx`, was it intended?
Yes.


---

Comment by jdemeyer created at 2015-05-20 09:34:38

Now that #18450 is officially ready for review, I do not plan to make further changes to this ticket (unless requested by a reviewer of course).


---

Comment by mmezzarobba created at 2015-05-24 07:55:18

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-05-24 16:13:42

Resolution: fixed


---

Comment by jdemeyer created at 2015-05-26 14:59:05

Follow-up: #18519
