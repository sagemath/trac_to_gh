# Issue 18218: Remove many unneeded includes of cdefs.pxi

archive/issues_018218.json:
```json
{
    "body": "CC:  jpflori\n\nMany Sage files contain\n\n```\ninclude 'sage/ext/cdefs.pxi'\n```\n\nwithout a good reason.\n\nThis file adds a dependency on the GMP declarations which is often unwanted.\n\nIssue created by migration from https://trac.sagemath.org/ticket/18455\n\n",
    "created_at": "2015-05-19T20:46:05Z",
    "labels": [
        "cython",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.8",
    "title": "Remove many unneeded includes of cdefs.pxi",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18218",
    "user": "jdemeyer"
}
```
CC:  jpflori

Many Sage files contain

```
include 'sage/ext/cdefs.pxi'
```

without a good reason.

This file adds a dependency on the GMP declarations which is often unwanted.

Issue created by migration from https://trac.sagemath.org/ticket/18455





---

archive/issue_comments_246078.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-05-19T21:48:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18218#issuecomment-246078",
    "user": "jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_246079.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-05-19T21:48:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18218#issuecomment-246079",
    "user": "jdemeyer"
}
```

New commits:



---

archive/issue_comments_246080.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-20T06:32:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18218#issuecomment-246080",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_246081.json:
```json
{
    "body": "Couldn't we completely get rid of `cdefs.pxi`?\nIt does not seem that useful.\nOr at least get rid of the `gmp` part within it.\n\nBy the way, your commits added an inclusion of `cdefs.pxi` in `integer.pyx`, was it intended?",
    "created_at": "2015-05-20T07:24:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18218#issuecomment-246081",
    "user": "jpflori"
}
```

Couldn't we completely get rid of `cdefs.pxi`?
It does not seem that useful.
Or at least get rid of the `gmp` part within it.

By the way, your commits added an inclusion of `cdefs.pxi` in `integer.pyx`, was it intended?



---

archive/issue_comments_246082.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-05-20T09:29:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18218#issuecomment-246082",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_246083.json:
```json
{
    "body": "Replying to [comment:6 jpflori]:\n> Couldn't we completely get rid of `cdefs.pxi`?\nWell, there is always backwards compatibility for custom Cython code.\nIn the Sage library, we could get of it. But I'd rather not do that in this ticket, it's already big enough.\n\n> By the way, your commits added an inclusion of `cdefs.pxi` in `integer.pyx`, was it intended?\nYes.",
    "created_at": "2015-05-20T09:31:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18218#issuecomment-246083",
    "user": "jdemeyer"
}
```

Replying to [comment:6 jpflori]:
> Couldn't we completely get rid of `cdefs.pxi`?
Well, there is always backwards compatibility for custom Cython code.
In the Sage library, we could get of it. But I'd rather not do that in this ticket, it's already big enough.

> By the way, your commits added an inclusion of `cdefs.pxi` in `integer.pyx`, was it intended?
Yes.



---

archive/issue_comments_246084.json:
```json
{
    "body": "Now that #18450 is officially ready for review, I do not plan to make further changes to this ticket (unless requested by a reviewer of course).",
    "created_at": "2015-05-20T09:34:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18218#issuecomment-246084",
    "user": "jdemeyer"
}
```

Now that #18450 is officially ready for review, I do not plan to make further changes to this ticket (unless requested by a reviewer of course).



---

archive/issue_comments_246085.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-05-24T07:55:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18218#issuecomment-246085",
    "user": "mmezzarobba"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_246086.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-05-24T16:13:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18218#issuecomment-246086",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_246087.json:
```json
{
    "body": "Follow-up: #18519",
    "created_at": "2015-05-26T14:59:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18218",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18218#issuecomment-246087",
    "user": "jdemeyer"
}
```

Follow-up: #18519
