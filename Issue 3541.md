# Issue 3541: graph multiedge plotting

archive/issues_003541.json:
```json
{
    "body": "Assignee: rlm\n\nCC:  rlm mabshoff\n\nWanted:  New code to make a pretty plot of graphs with multiedges.  I'm working on a patch now and will post it soon.\n\nIssue created by migration from https://trac.sagemath.org/ticket/3541\n\n",
    "created_at": "2008-07-01T21:57:08Z",
    "labels": [
        "graph theory",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-3.3",
    "title": "graph multiedge plotting",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/3541",
    "user": "ekirkman"
}
```
Assignee: rlm

CC:  rlm mabshoff

Wanted:  New code to make a pretty plot of graphs with multiedges.  I'm working on a patch now and will post it soon.

Issue created by migration from https://trac.sagemath.org/ticket/3541





---

archive/issue_comments_025025.json:
```json
{
    "body": "Awesome!",
    "created_at": "2008-07-01T22:13:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3541#issuecomment-25025",
    "user": "mhansen"
}
```

Awesome!



---

archive/issue_comments_025026.json:
```json
{
    "body": "Some code from Ashley Saunders up at http://wiki.wstein.org/2008/480a/theprojects",
    "created_at": "2008-07-02T05:08:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3541#issuecomment-25026",
    "user": "robertwb"
}
```

Some code from Ashley Saunders up at http://wiki.wstein.org/2008/480a/theprojects



---

archive/issue_comments_025027.json:
```json
{
    "body": "Changing assignee from rlm to ekirkman.",
    "created_at": "2008-08-10T03:24:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3541#issuecomment-25027",
    "user": "rlm"
}
```

Changing assignee from rlm to ekirkman.



---

archive/issue_comments_025028.json:
```json
{
    "body": "This depends on #4774, and implements multiple edges for graphs only.",
    "created_at": "2009-02-07T02:22:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3541#issuecomment-25028",
    "user": "rlm"
}
```

This depends on #4774, and implements multiple edges for graphs only.



---

archive/issue_comments_025029.json:
```json
{
    "body": "Attachment [trac_3541-multiedge-1.patch](tarball://root/attachments/some-uuid/ticket3541/trac_3541-multiedge-1.patch) by rlm created at 2009-02-12 17:33:33\n\nThis set of patches should fix #5248.",
    "created_at": "2009-02-12T17:33:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3541#issuecomment-25029",
    "user": "rlm"
}
```

Attachment [trac_3541-multiedge-1.patch](tarball://root/attachments/some-uuid/ticket3541/trac_3541-multiedge-1.patch) by rlm created at 2009-02-12 17:33:33

This set of patches should fix #5248.



---

archive/issue_comments_025030.json:
```json
{
    "body": "Attachment [trac_3541_beezy.patch](tarball://root/attachments/some-uuid/ticket3541/trac_3541_beezy.patch) by ekirkman created at 2009-02-14 01:51:37",
    "created_at": "2009-02-14T01:51:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3541#issuecomment-25030",
    "user": "ekirkman"
}
```

Attachment [trac_3541_beezy.patch](tarball://root/attachments/some-uuid/ticket3541/trac_3541_beezy.patch) by ekirkman created at 2009-02-14 01:51:37



---

archive/issue_comments_025031.json:
```json
{
    "body": "This is still a little quirky, due to issues with #4774, but it will be great to get this merged. The only problems left are on a different ticket.\n\n+ exp[(10!)^(10!)]",
    "created_at": "2009-02-14T01:59:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3541#issuecomment-25031",
    "user": "rlm"
}
```

This is still a little quirky, due to issues with #4774, but it will be great to get this merged. The only problems left are on a different ticket.

+ exp[(10!)^(10!)]



---

archive/issue_comments_025032.json:
```json
{
    "body": "Apply both patches in order.",
    "created_at": "2009-02-14T01:59:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3541#issuecomment-25032",
    "user": "rlm"
}
```

Apply both patches in order.



---

archive/issue_comments_025033.json:
```json
{
    "body": "This is going into 3.3.\n\nCheers,\n\nMichael",
    "created_at": "2009-02-14T02:59:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3541#issuecomment-25033",
    "user": "mabshoff"
}
```

This is going into 3.3.

Cheers,

Michael



---

archive/issue_comments_025034.json:
```json
{
    "body": "Just fixes edge_color and adds a doctest",
    "created_at": "2009-02-14T03:44:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3541#issuecomment-25034",
    "user": "ekirkman"
}
```

Just fixes edge_color and adds a doctest



---

archive/issue_comments_025035.json:
```json
{
    "body": "Attachment [trac_3541_tinyfixes.patch](tarball://root/attachments/some-uuid/ticket3541/trac_3541_tinyfixes.patch) by ekirkman created at 2009-02-14 03:47:02\n\nI caught some things while looking at the plots.  It should be a pretty quick review-- hopefully I got it in fast enough.",
    "created_at": "2009-02-14T03:47:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3541#issuecomment-25035",
    "user": "ekirkman"
}
```

Attachment [trac_3541_tinyfixes.patch](tarball://root/attachments/some-uuid/ticket3541/trac_3541_tinyfixes.patch) by ekirkman created at 2009-02-14 03:47:02

I caught some things while looking at the plots.  It should be a pretty quick review-- hopefully I got it in fast enough.



---

archive/issue_comments_025036.json:
```json
{
    "body": "What is the credit situation here? I assume Emily as author, Robert for review?\n\nCheers,\n\nMichael",
    "created_at": "2009-02-14T13:13:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3541#issuecomment-25036",
    "user": "mabshoff"
}
```

What is the credit situation here? I assume Emily as author, Robert for review?

Cheers,

Michael



---

archive/issue_comments_025037.json:
```json
{
    "body": "There is one doctest failure:\n\n```\nmabshoff@sage:/scratch/mabshoff/sage-3.3.rc1$ ./sage -t -long devel/sage/sage/combinat/crystals/crystals.py\nsage -t -long \"devel/sage/sage/combinat/crystals/crystals.py\"\n**********************************************************************\nFile \"/scratch/mabshoff/sage-3.3.rc1/devel/sage/sage/combinat/crystals/crystals.py\", line 553:\n    sage: C.plot()\nExpected:\n    Graphics object consisting of 11 graphics primitives\nGot:\n    Graphics object consisting of 17 graphics primitives\n**********************************************************************\n```\n\nI assume this is becase previously the graph was incorrect.\n\nCheers,\n\nMichael",
    "created_at": "2009-02-14T13:16:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3541#issuecomment-25037",
    "user": "mabshoff"
}
```

There is one doctest failure:

```
mabshoff@sage:/scratch/mabshoff/sage-3.3.rc1$ ./sage -t -long devel/sage/sage/combinat/crystals/crystals.py
sage -t -long "devel/sage/sage/combinat/crystals/crystals.py"
**********************************************************************
File "/scratch/mabshoff/sage-3.3.rc1/devel/sage/sage/combinat/crystals/crystals.py", line 553:
    sage: C.plot()
Expected:
    Graphics object consisting of 11 graphics primitives
Got:
    Graphics object consisting of 17 graphics primitives
**********************************************************************
```

I assume this is becase previously the graph was incorrect.

Cheers,

Michael



---

archive/issue_comments_025038.json:
```json
{
    "body": "After checking with Mike Hansen he gave me the thumbs up for the change, so I will post a tiny reviewer patch in a second. Note that trac_3541_tinyfixes.patch is a diff, but I committed in Emily's name :)\n\nCheers,\n\nMichael",
    "created_at": "2009-02-14T13:22:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3541#issuecomment-25038",
    "user": "mabshoff"
}
```

After checking with Mike Hansen he gave me the thumbs up for the change, so I will post a tiny reviewer patch in a second. Note that trac_3541_tinyfixes.patch is a diff, but I committed in Emily's name :)

Cheers,

Michael



---

archive/issue_comments_025039.json:
```json
{
    "body": "Attachment [trac_3541-reviewer-doctest.patch](tarball://root/attachments/some-uuid/ticket3541/trac_3541-reviewer-doctest.patch) by mabshoff created at 2009-02-14 13:30:30",
    "created_at": "2009-02-14T13:30:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3541#issuecomment-25039",
    "user": "mabshoff"
}
```

Attachment [trac_3541-reviewer-doctest.patch](tarball://root/attachments/some-uuid/ticket3541/trac_3541-reviewer-doctest.patch) by mabshoff created at 2009-02-14 13:30:30



---

archive/issue_comments_025040.json:
```json
{
    "body": "Merged \n\n* trac_3541-multiedge-1.patch\n* trac_3541_beezy.patch\n* trac_3541_tinyfixes.patch\n* trac_3541-reviewer-doctest.patch\n\nin Sage 3.3.rc1. :)\n\nCheers,\n\nMichael",
    "created_at": "2009-02-14T13:31:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3541#issuecomment-25040",
    "user": "mabshoff"
}
```

Merged 

* trac_3541-multiedge-1.patch
* trac_3541_beezy.patch
* trac_3541_tinyfixes.patch
* trac_3541-reviewer-doctest.patch

in Sage 3.3.rc1. :)

Cheers,

Michael



---

archive/issue_comments_025041.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2009-02-14T13:31:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3541#issuecomment-25041",
    "user": "mabshoff"
}
```

Resolution: fixed



---

archive/issue_comments_025042.json:
```json
{
    "body": "Emily wrote all that by herself. I only reviewed and helped her with matplotlib.",
    "created_at": "2009-02-14T18:38:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3541#issuecomment-25042",
    "user": "rlm"
}
```

Emily wrote all that by herself. I only reviewed and helped her with matplotlib.



---

archive/issue_comments_025043.json:
```json
{
    "body": "Attachment [trac_3541-multiedge-graph-example-plot.png](tarball://root/attachments/some-uuid/ticket3541/trac_3541-multiedge-graph-example-plot.png) by mvngu created at 2009-02-20 03:07:46\n\nsample plot of a multi-edge graph",
    "created_at": "2009-02-20T03:07:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3541#issuecomment-25043",
    "user": "mvngu"
}
```

Attachment [trac_3541-multiedge-graph-example-plot.png](tarball://root/attachments/some-uuid/ticket3541/trac_3541-multiedge-graph-example-plot.png) by mvngu created at 2009-02-20 03:07:46

sample plot of a multi-edge graph



---

archive/issue_comments_025044.json:
```json
{
    "body": "Uploaded an image of a sample plot of a multi-edge graph. The graph was produced using the following code from the docstring of `sage.graphs.graph.GenericGraph.plot`:\n\n```\nsage: g = Graph({}, loops=True, multiedges=True)\nsage: g.add_edges([(0,0,'a'),(0,0,'b'),(0,1,'c'),(0,1,'d'), \n...     (0,1,'e'),(0,1,'f'),(0,1,'f'),(2,1,'g'),(2,2,'h')]) \nsage: g.plot(edge_labels=True, color_by_label=True, edge_style='dashed')\n```\n\nI uploaded the image here, so it can be referred to in the release tour of 3.3.",
    "created_at": "2009-02-20T03:18:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/3541",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/3541#issuecomment-25044",
    "user": "mvngu"
}
```

Uploaded an image of a sample plot of a multi-edge graph. The graph was produced using the following code from the docstring of `sage.graphs.graph.GenericGraph.plot`:

```
sage: g = Graph({}, loops=True, multiedges=True)
sage: g.add_edges([(0,0,'a'),(0,0,'b'),(0,1,'c'),(0,1,'d'), 
...     (0,1,'e'),(0,1,'f'),(0,1,'f'),(2,1,'g'),(2,2,'h')]) 
sage: g.plot(edge_labels=True, color_by_label=True, edge_style='dashed')
```

I uploaded the image here, so it can be referred to in the release tour of 3.3.
