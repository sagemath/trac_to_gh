# Issue 33853: Update python3 to 3.10.5

Issue created by migration from https://trac.sagemath.org/ticket/34090

Original creator: mkoeppe

Original creation time: 2022-06-26 21:12:34

CC:  isuruf dimpase

https://docs.python.org/3/whatsnew/changelog.html#python-3-10-5-final

This might fix the build of python3 on `conda-forge-minimal` (https://groups.google.com/g/sage-devel/c/qUZfYORZp4U/m/7iNSJ_uiBwAJ) because this release includes https://bugs.python.org/issue?`@`action=redirect&bpo=46968



---

Comment by mkoeppe created at 2022-06-26 21:33:44

`tox -e docker-conda-forge-minimal -- python3` now goes a bit farther but:

```
  [python3-3.10.5]   Could not build the ssl module!
  [python3-3.10.5]   Python requires a OpenSSL 1.1.1 or newer
  [python3-3.10.5]   Custom linker flags may require --with-openssl-rpath=auto
```

----
New commits:


---

Comment by mkoeppe created at 2022-06-29 22:35:13

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2022-06-30 19:22:28

Build on `cygwin` fails (not new from this upgrade) -https://github.com/mkoeppe/sage/runs/7121373085:

```

Python build finished successfully!
The necessary bits to build these optional modules were not found:
_gdbm                 _tkinter              nis                
ossaudiodev           spwd                                     
To find the necessary bits, look in setup.py in detect_modules() for the module's name.
The following modules found by detect_modules() in setup.py, have been
built by the Makefile instead, as configured by the Setup files:
_abc                  pwd                   time               
Failed to build these modules:
_xxsubinterpreters                                             
running build_scripts
creating build/scripts-3.10
copying and adjusting /opt/sage-f28338b42fc642b174ba1f3972b19ed8f6ccbe20/var/tmp/sage/build/python3-3.10.5/src/Tools/scripts/pydoc3 -> build/scripts-3.10
copying and adjusting /opt/sage-f28338b42fc642b174ba1f3972b19ed8f6ccbe20/var/tmp/sage/build/python3-3.10.5/src/Tools/scripts/idle3 -> build/scripts-3.10
copying and adjusting /opt/sage-f28338b42fc642b174ba1f3972b19ed8f6ccbe20/var/tmp/sage/build/python3-3.10.5/src/Tools/scripts/2to3 -> build/scripts-3.10
changing mode of build/scripts-3.10/pydoc3 from 644 to 755
changing mode of build/scripts-3.10/idle3 from 644 to 755
changing mode of build/scripts-3.10/2to3 from 644 to 755
renaming build/scripts-3.10/pydoc3 to build/scripts-3.10/pydoc3.10
renaming build/scripts-3.10/idle3 to build/scripts-3.10/idle3.10
renaming build/scripts-3.10/2to3 to build/scripts-3.10/2to3-3.10
Testing importing of various modules...
Traceback (most recent call last):
  File "<string>", line 1, in <module>
  File "/opt/sage-f28338b42fc642b174ba1f3972b19ed8f6ccbe20/var/tmp/sage/build/python3-3.10.5/src/Lib/ctypes/__init__.py", line 8, in <module>
    from _ctypes import Union, Structure, Array
ModuleNotFoundError: No module named '_ctypes'
ctypes module failed to import
Traceback (most recent call last):
  File "<string>", line 1, in <module>
ModuleNotFoundError: No module named 'math'
math module failed to import
ERROR:root:code for hash md5 was not found.
```



---

Comment by dimpase created at 2022-07-08 12:23:22

lgtm


---

Comment by dimpase created at 2022-07-08 12:23:22

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2022-07-08 17:45:12

Thanks!


---

Comment by vbraun created at 2022-07-09 22:32:46

Resolution: fixed
