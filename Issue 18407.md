# Issue 18407: Fix method is_real_root() in root_lattice_realizations.py

Issue created by migration from https://trac.sagemath.org/ticket/18644

Original creator: jonathan.judge

Original creation time: 2015-06-08 23:05:22

Assignee: jonathan.judge

CC:  bsalisbury1 tscrim sage-combinat

Currently, the element method `is_real_root()` of root_lattice_realizations.py is not quite correct. It checks only if `norm_squared()` is positive. This is correct in a root system, but not when in the root lattice. We can add an additional check in this situation: see Proposition 5.10b in Kac's book.


```
sage: R = RootSystem(['A',1,1])
sage: Q = R.root_lattice()
sage: alpha = Q.simple_roots()
sage: beta = 3*alpha[0] + alpha[1] # not a root
sage: beta.norm_squared()
8
sage: beta.is_real_root()
True
```



```
sage: R = RootSystem("A2")
sage: Q = R.root_lattice()
sage: alpha = Q.simple_roots()
sage: beta = 2*alpha[1] + alpha[2] # not a root
sage: beta.norm_squared()
6
sage: beta.is_real_root()
True
```



---

Comment by jonathan.judge created at 2015-06-08 23:08:10

Changing keywords from "" to "days65".


---

Comment by jonathan.judge created at 2015-06-09 15:00:41

New commits:


---

Comment by git created at 2015-06-09 16:18:25

Branch pushed to git repo; I updated commit sha1. New commits:
