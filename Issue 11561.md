# Issue 11561: do not load sagenb.misc.misc on startup

Issue created by migration from https://trac.sagemath.org/ticket/11733

Original creator: saraedum

Original creation time: 2011-08-24 06:22:49

Assignee: jason, mpatel, was

Not loading _sagenb.misc.misc_ on normal sage startup speeds up sage startup:


```
$ dumbbench -- ./sage --startuptime
Ran 25 iterations (4 outliers).
Rounded run time per iteration: 9.80e-01 +/- 1.3e-02 (1.3%)
```


vs.


```
dumbbench -- ./sage --startuptime
Ran 21 iterations (1 outliers).
Rounded run time per iteration: 9.38e-01 +/- 1.5e-02 (1.6%)
```



---

Attachment


---

Comment by saraedum created at 2011-08-24 06:34:05

Changing status from new to needs_review.


---

Attachment


---

Comment by was created at 2011-08-24 23:30:54

Changing keywords from "" to "sd32".


---

Comment by robertwb created at 2011-08-25 03:50:11

Changing status from needs_review to positive_review.


---

Comment by robertwb created at 2011-08-25 03:50:11

Looks good. Wish it were a bigger spedup, but ever 1-2% counts (it's like compound interest ;-)


---

Comment by leif created at 2011-09-08 11:03:37

*Does not apply to Sage 4.7.2.alpha2 / SageNB 0.8.21.*

Also, please make use of the comment fields for attachments.


---

Comment by leif created at 2011-09-08 11:03:37

Changing status from positive_review to needs_work.


---

Comment by leif created at 2011-09-08 11:15:23

Replying to [comment:5 leif]:
> *Does not apply to Sage 4.7.2.alpha2 / SageNB 0.8.21.*

Sorry, missed the dependency. Going to retry...


---

Comment by leif created at 2011-09-08 11:26:49

Replying to [comment:6 leif]:
> Replying to [comment:5 leif]:
> > *Does not apply to Sage 4.7.2.alpha2 / SageNB 0.8.21.*
> 
> Sorry, missed the dependency. Going to retry...

Still does not apply:

```
applying http://trac.sagemath.org/sage_trac/raw-attachment/ticket/11733/trac_11733_sagenb_misc_misc_sagenb.patch
patching file sagenb/misc/misc.py
Hunk #1 succeeded at 106 (offset 2 lines).
Hunk #2 FAILED at 163
Hunk #3 succeeded at 168 (offset -11 lines).
Hunk #4 FAILED at 334
Hunk #5 FAILED at 351
3 out of 5 hunks FAILED -- saving rejects to file sagenb/misc/misc.py.rej
patching file sagenb/notebook/interact.py
patching file sagenb/notebook/notebook.py
Hunk #1 succeeded at 30 with fuzz 2 (offset 0 lines).
Hunk #2 succeeded at 619 (offset 5 lines).
Hunk #3 succeeded at 1592 with fuzz 1 (offset -2 lines).
patching file sagenb/notebook/run_notebook.py
abort: patch failed to apply
```



---

Comment by saraedum created at 2011-09-21 10:11:36

the sagenb.misc.misc import is faster in the latest alpha and it's harder to get rid of it now, so I guess it's not worth it anymore.


---

Comment by leif created at 2011-09-21 12:09:53

Replying to [comment:9 saraedum]:
> the sagenb.misc.misc import is faster in the latest alpha and it's harder to get rid of it now, so I guess it's not worth it anymore.

Are you referring to alpha2 or the [alpha3 prerelease](http://sage.math.washington.edu/home/leif/Sage/release/sage-4.7.2.alpha3-prerelease/)?

Anyway, I can close this ticket if you give it "positive review" in the sense that it is invalid / fixed / no longer worth doing.


---

Comment by leif created at 2011-09-29 04:08:25

Changing status from needs_work to needs_info.


---

Comment by saraedum created at 2011-09-29 09:18:08

Changing status from needs_info to needs_review.


---

Comment by saraedum created at 2011-09-29 09:18:08

no longer worth doing.


---

Comment by saraedum created at 2011-09-29 09:18:14

Changing status from needs_review to positive_review.


---

Comment by leif created at 2011-09-29 10:59:27

Resolution: worksforme
