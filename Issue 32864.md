# Issue 32864: lrslib: fix doctest in game_theory/parser.py

archive/issues_032864.json:
```json
{
    "body": "CC:  @kwankyu @seblabbe\n\nKeywords: lrslib\n\nApparently, the number of list elements has changed in these tests, but the parsing functionality seems to be unaffected:\n\n\n```\nsage -t --long --warn-long 86.7 --random-seed=66133510998005725882865822426008192085 src/sage/game_theory/parser.py\n**********************************************************************\nFile \"src/sage/game_theory/parser.py\", line 75, in sage.game_theory.parser.Parser.format_lrs\nFailed example:\n    lrs_output[:-2]                                                    # optional - lrslib\nExpected:\n    [...,\n     '2  0  1  2 \\n',\n     '1  1/2  1/2 -2 \\n',\n     '\\n',\n     '2  0  1  2 \\n',\n     '1  0  1 -2 \\n',\n     '\\n',\n     '*Number of equilibria found: 2\\n',\n     '*Player 1: vertices=3 bases=3 pivots=5\\n',\n     '*Player 2: vertices=2 bases=1 pivots=6\\n',\n     '\\n']\nGot:\n    ['*lrsnash:lrslib v.7.0 2018.7.1(64bit,lrsgmp.h,hybrid arithmetic) gmp v.6.1\\n',\n     '2  0  1  2 \\n',\n     '1  1/2  1/2 -2 \\n',\n     '\\n',\n     '2  0  1  2 \\n',\n     '1  0  1 -2 \\n',\n     '\\n',\n     '*Number of equilibria found: 2\\n',\n     '*Player 1: vertices=3 bases=3 pivots=5\\n',\n     '*Player 2: vertices=2 bases=1 pivots=6\\n',\n     '\\n',\n     '*lrsnash:lrslib v.7.0 2018.7.1(64bit,lrsgmp.h,hybrid arithmetic)\\n']\n```\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/33101\n\n",
    "created_at": "2021-12-31T16:23:15Z",
    "labels": [
        "packages: optional",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "lrslib: fix doctest in game_theory/parser.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32864",
    "user": "@mwageringel"
}
```
CC:  @kwankyu @seblabbe

Keywords: lrslib

Apparently, the number of list elements has changed in these tests, but the parsing functionality seems to be unaffected:


```
sage -t --long --warn-long 86.7 --random-seed=66133510998005725882865822426008192085 src/sage/game_theory/parser.py
**********************************************************************
File "src/sage/game_theory/parser.py", line 75, in sage.game_theory.parser.Parser.format_lrs
Failed example:
    lrs_output[:-2]                                                    # optional - lrslib
Expected:
    [...,
     '2  0  1  2 \n',
     '1  1/2  1/2 -2 \n',
     '\n',
     '2  0  1  2 \n',
     '1  0  1 -2 \n',
     '\n',
     '*Number of equilibria found: 2\n',
     '*Player 1: vertices=3 bases=3 pivots=5\n',
     '*Player 2: vertices=2 bases=1 pivots=6\n',
     '\n']
Got:
    ['*lrsnash:lrslib v.7.0 2018.7.1(64bit,lrsgmp.h,hybrid arithmetic) gmp v.6.1\n',
     '2  0  1  2 \n',
     '1  1/2  1/2 -2 \n',
     '\n',
     '2  0  1  2 \n',
     '1  0  1 -2 \n',
     '\n',
     '*Number of equilibria found: 2\n',
     '*Player 1: vertices=3 bases=3 pivots=5\n',
     '*Player 2: vertices=2 bases=1 pivots=6\n',
     '\n',
     '*lrsnash:lrslib v.7.0 2018.7.1(64bit,lrsgmp.h,hybrid arithmetic)\n']
```



Issue created by migration from https://trac.sagemath.org/ticket/33101





---

archive/issue_comments_468635.json:
```json
{
    "body": "New commits:",
    "created_at": "2021-12-31T16:42:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468635",
    "user": "@mwageringel"
}
```

New commits:



---

archive/issue_comments_468636.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-12-31T16:42:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468636",
    "user": "@mwageringel"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_468637.json:
```json
{
    "body": "Your lrslib is older than what is in our distribution",
    "created_at": "2021-12-31T18:47:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468637",
    "user": "@mkoeppe"
}
```

Your lrslib is older than what is in our distribution



---

archive/issue_comments_468638.json:
```json
{
    "body": "This was after a distclean. I had not explicitly installed lrslib, it was on the system. If I understand the config.log correctly, the system lrslib was not accepted by Sage. Yet, ptestlong runs the optional lrslib tests.\n\n```\n## ------------------------------------------------------- ##\n## Checking whether SageMath should install SPKG lrslib... ##\n## ------------------------------------------------------- ##\nconfigure:30190: checking whether any of gmp flint is installed as or will be installed as SPKG\nconfigure:30194: result: yes; install lrslib as well\nconfigure:30296: no suitable system package found for SPKG lrslib\n```\n",
    "created_at": "2022-01-01T09:52:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468638",
    "user": "@mwageringel"
}
```

This was after a distclean. I had not explicitly installed lrslib, it was on the system. If I understand the config.log correctly, the system lrslib was not accepted by Sage. Yet, ptestlong runs the optional lrslib tests.

```
## ------------------------------------------------------- ##
## Checking whether SageMath should install SPKG lrslib... ##
## ------------------------------------------------------- ##
configure:30190: checking whether any of gmp flint is installed as or will be installed as SPKG
configure:30194: result: yes; install lrslib as well
configure:30296: no suitable system package found for SPKG lrslib
```




---

archive/issue_comments_468639.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-01-01T17:05:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468639",
    "user": "@mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_468640.json:
```json
{
    "body": "Attachment [config.log](tarball://root/attachments/some-uuid/ticket33101/config.log) by @mkoeppe created at 2022-01-01 17:05:09\n\n`lrslib` is optional, so it will not be installed unless you use `configure --enable-lrslib` (or install the package explicitly using `sage -i lrslib`).\n\nThat the doctest is tested anyway is an interesting new behavior introduced by #32174. It finds system `lrslib` at runtime via `sage.features.lrs`",
    "created_at": "2022-01-01T17:05:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468640",
    "user": "@mkoeppe"
}
```

Attachment [config.log](tarball://root/attachments/some-uuid/ticket33101/config.log) by @mkoeppe created at 2022-01-01 17:05:09

`lrslib` is optional, so it will not be installed unless you use `configure --enable-lrslib` (or install the package explicitly using `sage -i lrslib`).

That the doctest is tested anyway is an interesting new behavior introduced by #32174. It finds system `lrslib` at runtime via `sage.features.lrs`



---

archive/issue_comments_468641.json:
```json
{
    "body": "Replying to [comment:4 mkoeppe]:\n> That the doctest is tested anyway is an interesting new behavior introduced by #32174. It finds system `lrslib` at runtime via `sage.features.lrs`\n\nIs it a good thing or a bad thing?\n\nAlso, I notice that lrslib appears both as an optional package and as a feature to be detected:\n\n\n```\nUsing --optional=4ti2,bliss,build,cbc,ccache,cryptominisat,database_symbolic_data,debian,debugpy,dochtml,dot2tex,e_antic,fricas,glucose,latte_int,lidia,lrslib,normaliz,notedown,pandoc_attributes,pip,pycosat,pynormaliz,rst2ipynb,rubiks,sage,sage_numerical_backends_coin,sage_spkg\nFeatures to be detected: 4ti2,benzene,bliss,buckygen,conway_polynomials,csdp,database_cremona_ellcurve,database_cremona_mini_ellcurve,database_jones_numfield,database_knotinfo,dvipng,ffmpeg,graphviz,imagemagick,jupymake,kenzo,latte_int,lrslib,mcqd,meataxe,pandoc,pdf2svg,plantri,pynormaliz,rubiks,sage.combinat,sage.geometry.polyhedron,sage.graphs,sage.plot,sage.rings.number_field,sage.rings.real_double,sage.symbolic,sage_numerical_backends_coin,tdlib\n```\n\n\nBut at the end, lrslib does not appear:\n\n\n```\nFeatures detected for doctesting: \n```\n\nTherefore, in my case, lrslib tests are run because it is an optional package that I haved installed:\n\n\n```\n$ sage -optional | grep lrs\nlrslib..................................071b+autotools-2021-07-13 (071b+autotools-2021-07-13)\n```\n\n\nIn my case, tests passed with and without the branch. Why needs work?",
    "created_at": "2022-01-04T11:22:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468641",
    "user": "@seblabbe"
}
```

Replying to [comment:4 mkoeppe]:
> That the doctest is tested anyway is an interesting new behavior introduced by #32174. It finds system `lrslib` at runtime via `sage.features.lrs`

Is it a good thing or a bad thing?

Also, I notice that lrslib appears both as an optional package and as a feature to be detected:


```
Using --optional=4ti2,bliss,build,cbc,ccache,cryptominisat,database_symbolic_data,debian,debugpy,dochtml,dot2tex,e_antic,fricas,glucose,latte_int,lidia,lrslib,normaliz,notedown,pandoc_attributes,pip,pycosat,pynormaliz,rst2ipynb,rubiks,sage,sage_numerical_backends_coin,sage_spkg
Features to be detected: 4ti2,benzene,bliss,buckygen,conway_polynomials,csdp,database_cremona_ellcurve,database_cremona_mini_ellcurve,database_jones_numfield,database_knotinfo,dvipng,ffmpeg,graphviz,imagemagick,jupymake,kenzo,latte_int,lrslib,mcqd,meataxe,pandoc,pdf2svg,plantri,pynormaliz,rubiks,sage.combinat,sage.geometry.polyhedron,sage.graphs,sage.plot,sage.rings.number_field,sage.rings.real_double,sage.symbolic,sage_numerical_backends_coin,tdlib
```


But at the end, lrslib does not appear:


```
Features detected for doctesting: 
```

Therefore, in my case, lrslib tests are run because it is an optional package that I haved installed:


```
$ sage -optional | grep lrs
lrslib..................................071b+autotools-2021-07-13 (071b+autotools-2021-07-13)
```


In my case, tests passed with and without the branch. Why needs work?



---

archive/issue_comments_468642.json:
```json
{
    "body": "Replying to [comment:5 slabbe]:\n> Replying to [comment:4 mkoeppe]:\n> > That the doctest is tested anyway is an interesting new behavior introduced by #32174. It finds system `lrslib` at runtime via `sage.features.lrs`\n> \n> Is it a good thing or a bad thing?\n\nIt should not happen. Sage knows that my system lrslib is not compatible with my Sage installation, so the optional tests should not be run with an incompatible lrslib version (note that I have not installed the optional package). I do not know how to solve this, though.\n\n> In my case, tests passed with and without the branch. Why needs work?\n\nThe branch makes the tests pass, but actually does not solve the underlying problem.",
    "created_at": "2022-01-04T11:46:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468642",
    "user": "@mwageringel"
}
```

Replying to [comment:5 slabbe]:
> Replying to [comment:4 mkoeppe]:
> > That the doctest is tested anyway is an interesting new behavior introduced by #32174. It finds system `lrslib` at runtime via `sage.features.lrs`
> 
> Is it a good thing or a bad thing?

It should not happen. Sage knows that my system lrslib is not compatible with my Sage installation, so the optional tests should not be run with an incompatible lrslib version (note that I have not installed the optional package). I do not know how to solve this, though.

> In my case, tests passed with and without the branch. Why needs work?

The branch makes the tests pass, but actually does not solve the underlying problem.



---

archive/issue_comments_468643.json:
```json
{
    "body": "What is the output of this on your machine?\n\n```\nsage: from sage.features.lrs import Lrs\nsage: Lrs().is_present()\nsage: Lrs().is_functional()\n```\n",
    "created_at": "2022-01-04T11:58:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468643",
    "user": "@seblabbe"
}
```

What is the output of this on your machine?

```
sage: from sage.features.lrs import Lrs
sage: Lrs().is_present()
sage: Lrs().is_functional()
```




---

archive/issue_comments_468644.json:
```json
{
    "body": "\n```\nsage: from sage.features.lrs import Lrs\nsage: Lrs().is_present()\nFeatureTestResult('lrslib', True)\nsage: Lrs().is_functional()\nFeatureTestResult('lrslib', True)\n```\n",
    "created_at": "2022-01-04T13:30:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468644",
    "user": "@mwageringel"
}
```


```
sage: from sage.features.lrs import Lrs
sage: Lrs().is_present()
FeatureTestResult('lrslib', True)
sage: Lrs().is_functional()
FeatureTestResult('lrslib', True)
```




---

archive/issue_comments_468645.json:
```json
{
    "body": "If the `lrslib` that is available on your machine is not functional, you should be able to find an example where it does not behave correctly and you can add this example to the list of examples checked in the method `is_functional` so that `is_functional()` returns `False`. This will imply that the doctests marked with tag `lrslib` will not be run on your machine.",
    "created_at": "2022-01-04T14:18:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468645",
    "user": "@seblabbe"
}
```

If the `lrslib` that is available on your machine is not functional, you should be able to find an example where it does not behave correctly and you can add this example to the list of examples checked in the method `is_functional` so that `is_functional()` returns `False`. This will imply that the doctests marked with tag `lrslib` will not be run on your machine.



---

archive/issue_comments_468646.json:
```json
{
    "body": "Such an example illustrating the new input format is provided in `build/pkgs/lrslib/spkg-configure.m4`. I don't know if there is a way for features to use the stuff from the m4 files without copy-pasting the example?",
    "created_at": "2022-01-04T14:24:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468646",
    "user": "@seblabbe"
}
```

Such an example illustrating the new input format is provided in `build/pkgs/lrslib/spkg-configure.m4`. I don't know if there is a way for features to use the stuff from the m4 files without copy-pasting the example?



---

archive/issue_comments_468647.json:
```json
{
    "body": "Independently of the doctesting behavior \u2013 if I use lrslib functionality at runtime, why does Sage not raise an error telling me to install the optional package first? Is it safe to just use it without checking? I know nothing about lrslib, to be honest. For some interfaces such as Macaulay2, it is usually not necessary to check the concrete version that is installed, but I am not sure about optional packages. Especially due to the gmp/flint dependency, as seen in comment:3.",
    "created_at": "2022-01-04T16:36:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468647",
    "user": "@mwageringel"
}
```

Independently of the doctesting behavior – if I use lrslib functionality at runtime, why does Sage not raise an error telling me to install the optional package first? Is it safe to just use it without checking? I know nothing about lrslib, to be honest. For some interfaces such as Macaulay2, it is usually not necessary to check the concrete version that is installed, but I am not sure about optional packages. Especially due to the gmp/flint dependency, as seen in comment:3.



---

archive/issue_comments_468648.json:
```json
{
    "body": "Replying to [comment:11 gh-mwageringel]:\n> Independently of the doctesting behavior \u2013 if I use lrslib functionality at runtime, why does Sage not raise an error telling me to install the optional package first? \n\nI think it is because it checks whether `lrs` command exists in the `sage -sh` environment which is a union of command from sage and from your system. Since the feature `lrs` is found there, it does not tell you to install it.\n\n> Is it safe to just use it without checking? \n\nA check *is* done in the `is_functional` method. (Maybe the goal of this ticket is to update this method.)\n\n> I know nothing about lrslib, to be honest. \n\nMe neither.\n\n> For some interfaces such as Macaulay2, it is usually not necessary to check the concrete version that is installed, but I am not sure about optional packages. Especially due to the gmp/flint dependency, as seen in comment:3.\n\nOne option is to change the feature `lrs` which is currently written as an executable `class Lrs(Executable)` and modify it into just feature that checks the presence of the optional package. I let someone else more knowledgeable on lrs than me decides here.",
    "created_at": "2022-01-04T20:38:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468648",
    "user": "@seblabbe"
}
```

Replying to [comment:11 gh-mwageringel]:
> Independently of the doctesting behavior – if I use lrslib functionality at runtime, why does Sage not raise an error telling me to install the optional package first? 

I think it is because it checks whether `lrs` command exists in the `sage -sh` environment which is a union of command from sage and from your system. Since the feature `lrs` is found there, it does not tell you to install it.

> Is it safe to just use it without checking? 

A check *is* done in the `is_functional` method. (Maybe the goal of this ticket is to update this method.)

> I know nothing about lrslib, to be honest. 

Me neither.

> For some interfaces such as Macaulay2, it is usually not necessary to check the concrete version that is installed, but I am not sure about optional packages. Especially due to the gmp/flint dependency, as seen in comment:3.

One option is to change the feature `lrs` which is currently written as an executable `class Lrs(Executable)` and modify it into just feature that checks the presence of the optional package. I let someone else more knowledgeable on lrs than me decides here.



---

archive/issue_comments_468649.json:
```json
{
    "body": "Replying to [comment:12 slabbe]:\n> One option is to change the feature `lrs` which is currently written as an executable `class Lrs(Executable)` and modify it into just feature that checks the presence of the optional package.\n\nNo, this is not a step in a good direction. Note that our build system does not record at all whether an optional system package is available. The point of going through `Feature`s is that it also works on both system packages and SPKGs.\n\nI would suggest to:\n- check whether lrslib 070 works correctly (perhaps in one of our previous tickets this is already commented on, I don't recall) and if so, relax the tests in `build/pkgs/lrslib/spkg-configure.m4` so that they accept this version\n- run equivalents of the tests made by `spkg-configure.m4` in the `lrs` Feature (comment:9, comment:10).",
    "created_at": "2022-01-04T21:04:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468649",
    "user": "@mkoeppe"
}
```

Replying to [comment:12 slabbe]:
> One option is to change the feature `lrs` which is currently written as an executable `class Lrs(Executable)` and modify it into just feature that checks the presence of the optional package.

No, this is not a step in a good direction. Note that our build system does not record at all whether an optional system package is available. The point of going through `Feature`s is that it also works on both system packages and SPKGs.

I would suggest to:
- check whether lrslib 070 works correctly (perhaps in one of our previous tickets this is already commented on, I don't recall) and if so, relax the tests in `build/pkgs/lrslib/spkg-configure.m4` so that they accept this version
- run equivalents of the tests made by `spkg-configure.m4` in the `lrs` Feature (comment:9, comment:10).



---

archive/issue_comments_468650.json:
```json
{
    "body": "I think the branch here is a reasonable compromise. Rejecting a library just because it outputs something in a slightly different way seems to be an overkill.",
    "created_at": "2022-01-14T11:17:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468650",
    "user": "@dimpase"
}
```

I think the branch here is a reasonable compromise. Rejecting a library just because it outputs something in a slightly different way seems to be an overkill.



---

archive/issue_comments_468651.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2022-01-14T11:17:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468651",
    "user": "@dimpase"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_468652.json:
```json
{
    "body": "Changing status from positive_review to needs_info.",
    "created_at": "2022-01-14T11:41:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468652",
    "user": "@seblabbe"
}
```

Changing status from positive_review to needs_info.



---

archive/issue_comments_468653.json:
```json
{
    "body": "Please, wait a second, I was actually working on a branch adressing the comment 13.",
    "created_at": "2022-01-14T11:42:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468653",
    "user": "@seblabbe"
}
```

Please, wait a second, I was actually working on a branch adressing the comment 13.



---

archive/issue_comments_468654.json:
```json
{
    "body": "New commits:",
    "created_at": "2022-01-14T11:45:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468654",
    "user": "@seblabbe"
}
```

New commits:



---

archive/issue_comments_468655.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2022-01-14T11:45:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468655",
    "user": "@seblabbe"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_468656.json:
```json
{
    "body": "*This comment was moved to #33167#comment:5 *",
    "created_at": "2022-01-14T11:47:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468656",
    "user": "@seblabbe"
}
```

*This comment was moved to #33167#comment:5 *



---

archive/issue_comments_468657.json:
```json
{
    "body": "Replying to [comment:17 slabbe]:\n> Please, wait a second, I was actually working on a branch adressing the comment 13.\n\nI don't agree that comment:13 is totally right. It's a slightly different output (cause this doctest does parse output!), just as is the case for e.g. numerical noise.",
    "created_at": "2022-01-14T12:20:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468657",
    "user": "@dimpase"
}
```

Replying to [comment:17 slabbe]:
> Please, wait a second, I was actually working on a branch adressing the comment 13.

I don't agree that comment:13 is totally right. It's a slightly different output (cause this doctest does parse output!), just as is the case for e.g. numerical noise.



---

archive/issue_comments_468658.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-01-14T14:06:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468658",
    "user": "@seblabbe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_468659.json:
```json
{
    "body": "Ok, I agree, my branch is more to address comment 3 of this ticket than to address the problem described in the description of this ticket.\n\nLet me put back the previous branch. And I will post my branch on another ticket.\n----\nNew commits:",
    "created_at": "2022-01-14T14:06:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468659",
    "user": "@seblabbe"
}
```

Ok, I agree, my branch is more to address comment 3 of this ticket than to address the problem described in the description of this ticket.

Let me put back the previous branch. And I will post my branch on another ticket.
----
New commits:



---

archive/issue_comments_468660.json:
```json
{
    "body": "And I created #33167 to address comment:3",
    "created_at": "2022-01-14T14:12:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468660",
    "user": "@seblabbe"
}
```

And I created #33167 to address comment:3



---

archive/issue_comments_468661.json:
```json
{
    "body": "Changing priority from major to critical.",
    "created_at": "2022-01-22T12:54:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468661",
    "user": "@slel"
}
```

Changing priority from major to critical.



---

archive/issue_comments_468662.json:
```json
{
    "body": "Changing priority from critical to blocker.",
    "created_at": "2022-01-25T07:34:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468662",
    "user": "@slel"
}
```

Changing priority from critical to blocker.



---

archive/issue_comments_468663.json:
```json
{
    "body": "Needed to resume patchbot operation.",
    "created_at": "2022-01-25T07:34:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468663",
    "user": "@slel"
}
```

Needed to resume patchbot operation.



---

archive/issue_comments_468664.json:
```json
{
    "body": "Changing priority from blocker to critical.",
    "created_at": "2022-01-25T08:16:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468664",
    "user": "@mwageringel"
}
```

Changing priority from blocker to critical.



---

archive/issue_comments_468665.json:
```json
{
    "body": "This is not a blocker, in my opinion, as it does not change any functionality at all, but only touches a flaky doctest. Patchbot owners could enable the optional package, as a workaround.",
    "created_at": "2022-01-25T08:16:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468665",
    "user": "@mwageringel"
}
```

This is not a blocker, in my opinion, as it does not change any functionality at all, but only touches a flaky doctest. Patchbot owners could enable the optional package, as a workaround.



---

archive/issue_comments_468666.json:
```json
{
    "body": "Setting milestone to 9.6 now that 9.5 is out.",
    "created_at": "2022-01-30T15:39:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468666",
    "user": "@slel"
}
```

Setting milestone to 9.6 now that 9.5 is out.



---

archive/issue_comments_468667.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-01-31T23:32:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32864",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32864#issuecomment-468667",
    "user": "@vbraun"
}
```

Resolution: fixed
