# Issue 4308: make mpc an optional spkg

archive/issues_004308.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-mabshoff"
    ],
    "body": "I am planning to add arbitrary precision complex numbers using the MPC library\nhttp://www.multiprecision.org/mpc/.\n\nHere is a sage package based\nhttp://www.loria.fr/~thevenyp/mpc-0.5.spkg\n\n\nComponent: **packages: optional**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/4308_\n\n",
    "closed_at": "2008-11-30T05:35:16Z",
    "created_at": "2008-10-16T15:27:23Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-3.2.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "make mpc an optional spkg",
    "type": "issue",
    "updated_at": "2008-11-30T05:35:16Z",
    "url": "https://github.com/sagemath/sage/issues/4308",
    "user": "https://github.com/sagetrac-thevenyp"
}
```
I am planning to add arbitrary precision complex numbers using the MPC library
http://www.multiprecision.org/mpc/.

Here is a sage package based
http://www.loria.fr/~thevenyp/mpc-0.5.spkg


Component: **packages: optional**

_Issue created by migration from https://trac.sagemath.org/ticket/4308_





---

archive/issue_events_048625.json:
```json
{
    "actor": "https://github.com/sagetrac-thevenyp",
    "created_at": "2008-10-16T15:27:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4308",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4308#event-48625"
}
```



---

archive/issue_events_048626.json:
```json
{
    "actor": "https://github.com/sagetrac-thevenyp",
    "created_at": "2008-10-16T15:27:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4308",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4308#event-48626"
}
```



---

archive/issue_events_048627.json:
```json
{
    "actor": "https://github.com/sagetrac-thevenyp",
    "created_at": "2008-10-16T15:27:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4308",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4308#event-48627"
}
```



---

archive/issue_events_048628.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-10-16T15:27:23Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/4308",
    "subject": "https://github.com/sagetrac-thevenyp",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4308#event-48628"
}
```



---

archive/issue_comments_024783.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nI will review the spkg later on today.\n\nCheers,\n\nMichael",
    "created_at": "2008-10-18T12:09:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4308#issuecomment-24783",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:1" align="right">comment:1</div>

I will review the spkg later on today.

Cheers,

Michael



---

archive/issue_events_048629.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-10-18T12:09:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4308",
    "milestone_number": null,
    "milestone_title": "sage-3.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4308#event-48629"
}
```



---

archive/issue_events_048630.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-10-18T12:09:13Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/4308",
    "title_is": "make mpc an optional spkg",
    "title_was": "mpc spackage",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4308#event-48630"
}
```



---

archive/issue_events_048631.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-10-18T12:09:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4308",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4308#event-48631"
}
```



---

archive/issue_comments_024784.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nDo we have any sage interface code to go with this yet? I know some was produced at Sage days 10. \n\nThen these extensions should be added based in whether or not this package is installed `sage.misc.package.is_package_installed()`.",
    "created_at": "2008-10-30T21:42:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4308#issuecomment-24784",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:2" align="right">comment:2</div>

Do we have any sage interface code to go with this yet? I know some was produced at Sage days 10. 

Then these extensions should be added based in whether or not this package is installed `sage.misc.package.is_package_installed()`.



---

archive/issue_comments_024785.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nBindings are being written. The spkg should become optional so it is easily buildable from any Sage install. Once/If mpc is standard the mpc.spkg would also become standard.\n\nCheers,\n\nMichael",
    "created_at": "2008-10-30T23:22:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4308#issuecomment-24785",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:3" align="right">comment:3</div>

Bindings are being written. The spkg should become optional so it is easily buildable from any Sage install. Once/If mpc is standard the mpc.spkg would also become standard.

Cheers,

Michael



---

archive/issue_comments_024786.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nSee #4446 for a patch implementing a partial interface (still work in progress).",
    "created_at": "2008-11-22T07:59:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4308#issuecomment-24786",
    "user": "https://github.com/aghitza"
}
```

<div id="comment:4" align="right">comment:4</div>

See #4446 for a patch implementing a partial interface (still work in progress).



---

archive/issue_comments_024787.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nREFEREE REPORT:\n\n1. There is no .hg repository in the spkg.  You need to\n\n```\n$cd mpc-0.5\n$ hg init\n$ hg add spkg-install spkg-check SPKG.txt\n```\n\n2. The SPKG.txt doesn't list anybody or any contact info under \"package maintainer\". \n\n3. The SPKG.txt has an empty changelog.  This should at least list exactly which version of upstream is in the src subdirectory.   Typically when refereeing a patch, I like to verify that src/ contains the claimed upstream exactly, since I don't want some virus crap sneaking in.\n\n4. Speaking of crap, the src/src/ subdirectory is full of .o pre-compiled binary object files.  These need to all be deleted.\n\n```\nteragon-2:src wstein$ pwd\n/Users/wstein/tmp/mpc-0.5/src/src\nteragon-2:src wstein$ ls -1 *.o |wc -l\n      57\n```",
    "created_at": "2008-11-27T17:51:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4308#issuecomment-24787",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:5" align="right">comment:5</div>

REFEREE REPORT:

1. There is no .hg repository in the spkg.  You need to

```
$cd mpc-0.5
$ hg init
$ hg add spkg-install spkg-check SPKG.txt
```

2. The SPKG.txt doesn't list anybody or any contact info under "package maintainer". 

3. The SPKG.txt has an empty changelog.  This should at least list exactly which version of upstream is in the src subdirectory.   Typically when refereeing a patch, I like to verify that src/ contains the claimed upstream exactly, since I don't want some virus crap sneaking in.

4. Speaking of crap, the src/src/ subdirectory is full of .o pre-compiled binary object files.  These need to all be deleted.

```
teragon-2:src wstein$ pwd
/Users/wstein/tmp/mpc-0.5/src/src
teragon-2:src wstein$ ls -1 *.o |wc -l
      57
```



---

archive/issue_events_048632.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-11-27T17:51:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4308",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4308#event-48632"
}
```



---

archive/issue_events_048633.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-11-27T17:51:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4308",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4308#event-48633"
}
```



---

archive/issue_comments_024788.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThanks for your review, the spkg has been changed accordingly.\n\nRegards,\n\nPhilippe",
    "created_at": "2008-11-28T17:14:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4308#issuecomment-24788",
    "user": "https://github.com/sagetrac-thevenyp"
}
```

<div id="comment:6" align="right">comment:6</div>

Thanks for your review, the spkg has been changed accordingly.

Regards,

Philippe



---

archive/issue_events_048634.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2008-11-29T07:07:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4308",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4308#event-48634"
}
```



---

archive/issue_events_048635.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2008-11-29T07:07:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4308",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4308#event-48635"
}
```



---

archive/issue_comments_024789.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nHi Philippe,\n\nI have reviewed your updated spkg. A couple comments:\n\n* Everything looks good, but some minor details I fixed\n* Checked in the changes you added to the repo in your name\n* added a .hgignore and added some small cleanups to spkg-install\n\nI also deleted the attached spkg since large files should not be attached to trac, but linked from some webspace. \n\nThe updated spkg can be found at\n\nhttp://sage.math.washington.edu/home/mabshoff/release-cycles-3.2.1/rc1/mpc-0.5.p0.spkg\n\nIn case you improve/update the mpc.spkg please use that one as a base.\n\nSummary: positive review.\n\nCheers,\n\nMichael",
    "created_at": "2008-11-30T05:33:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4308#issuecomment-24789",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:8" align="right">comment:8</div>

Hi Philippe,

I have reviewed your updated spkg. A couple comments:

* Everything looks good, but some minor details I fixed
* Checked in the changes you added to the repo in your name
* added a .hgignore and added some small cleanups to spkg-install

I also deleted the attached spkg since large files should not be attached to trac, but linked from some webspace. 

The updated spkg can be found at

http://sage.math.washington.edu/home/mabshoff/release-cycles-3.2.1/rc1/mpc-0.5.p0.spkg

In case you improve/update the mpc.spkg please use that one as a base.

Summary: positive review.

Cheers,

Michael



---

archive/issue_events_048636.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-11-30T05:33:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4308",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4308#event-48636"
}
```



---

archive/issue_events_048637.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-11-30T05:33:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4308",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4308#event-48637"
}
```



---

archive/issue_events_048638.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-11-30T05:35:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4308",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4308#event-48638"
}
```



---

archive/issue_events_048639.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-11-30T05:35:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/4308",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4308#event-48639"
}
```



---

archive/issue_comments_024790.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nUploaded to the optional spkg repo.\n\nCheers,\n\nMichael",
    "created_at": "2008-11-30T05:35:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4308",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4308#issuecomment-24790",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:9" align="right">comment:9</div>

Uploaded to the optional spkg repo.

Cheers,

Michael



---

archive/issue_events_048640.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-11-30T05:35:16Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/4308",
    "milestone_number": null,
    "milestone_title": "sage-3.2.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4308#event-48640"
}
```



---

archive/issue_events_048641.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-11-30T05:35:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4308",
    "milestone_number": null,
    "milestone_title": "sage-3.2.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4308#event-48641"
}
```
