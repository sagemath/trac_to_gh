# Issue 4052: readline spkg doesn't build under OpenBSD

archive/issues_004052.json:
```json
{
    "assignees": [],
    "body": "The spkg-install script looks for the library file libreadline.so, but under OpenBSD, no symbolic link is made and the only file that appears is libreadline.so.5.2.\n\nThe attached patch is a little hack to allow successful completion on OpenBSD, but if there is a better and more general method available, please inform me.\n\nAssignee: **@sagetrac-anakha**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/4052_\n\n",
    "closed_at": "2008-09-04T01:39:28Z",
    "created_at": "2008-09-03T19:01:06Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20build",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-3.1.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "readline spkg doesn't build under OpenBSD",
    "type": "issue",
    "updated_at": "2008-09-04T01:39:28Z",
    "url": "https://github.com/sagemath/sage/issues/4052",
    "user": "https://github.com/sagetrac-anakha"
}
```
The spkg-install script looks for the library file libreadline.so, but under OpenBSD, no symbolic link is made and the only file that appears is libreadline.so.5.2.

The attached patch is a little hack to allow successful completion on OpenBSD, but if there is a better and more general method available, please inform me.

Assignee: **@sagetrac-anakha**

_Issue created by migration from https://trac.sagemath.org/ticket/4052_





---

archive/issue_events_040369.json:
```json
{
    "actor": "https://github.com/sagetrac-anakha",
    "created_at": "2008-09-03T19:01:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4052",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20build",
    "label_color": "000080",
    "label_name": "component: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4052#event-40369"
}
```



---

archive/issue_events_040370.json:
```json
{
    "actor": "https://github.com/sagetrac-anakha",
    "created_at": "2008-09-03T19:01:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4052",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4052#event-40370"
}
```



---

archive/issue_events_040371.json:
```json
{
    "actor": "https://github.com/sagetrac-anakha",
    "created_at": "2008-09-03T19:01:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4052",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4052#event-40371"
}
```



---

archive/issue_events_040372.json:
```json
{
    "actor": "https://github.com/sagetrac-anakha",
    "created_at": "2008-09-03T19:01:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4052",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4052#event-40372"
}
```



---

archive/issue_comments_023783.json:
```json
{
    "body": "Attachment: **[trac_4052.patch.gz](https://github.com/sagemath/sage/files/ticket4052/trac_4052.patch.gz)**",
    "created_at": "2008-09-03T19:01:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4052#issuecomment-23783",
    "user": "https://github.com/sagetrac-anakha"
}
```

Attachment: **[trac_4052.patch.gz](https://github.com/sagemath/sage/files/ticket4052/trac_4052.patch.gz)**



---

archive/issue_events_040373.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-09-03T19:16:50Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4052",
    "milestone_number": null,
    "milestone_title": "sage-3.1.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4052#event-40373"
}
```



---

archive/issue_events_040374.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-09-03T19:16:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4052",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4052#event-40374"
}
```



---

archive/issue_comments_023784.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nPatch looks good to me.\n\nNote that an updated spkg should have an updated entry in SPKG.txt. Not all spkgs have an SPKG.txt, but in that case one should add them.\n\nCheers,\n\nMichael",
    "created_at": "2008-09-03T19:16:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4052#issuecomment-23784",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:1" align="right">Comment 1</div>

Patch looks good to me.

Note that an updated spkg should have an updated entry in SPKG.txt. Not all spkgs have an SPKG.txt, but in that case one should add them.

Cheers,

Michael



---

archive/issue_comments_023785.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nAttachment: **[trac_4052_spkg.txt.patch.gz](https://github.com/sagemath/sage/files/ticket4052/trac_4052_spkg.txt.patch.gz)**\n\nThe new patch adds an entry to the SPKG.txt file.\n\nAlso is there special procedure to bump the patch version of a spkg?",
    "created_at": "2008-09-03T19:24:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4052#issuecomment-23785",
    "user": "https://github.com/sagetrac-anakha"
}
```

<div id="comment:2" align="right">Comment 2</div>

Attachment: **[trac_4052_spkg.txt.patch.gz](https://github.com/sagemath/sage/files/ticket4052/trac_4052_spkg.txt.patch.gz)**

The new patch adds an entry to the SPKG.txt file.

Also is there special procedure to bump the patch version of a spkg?



---

archive/issue_comments_023786.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nReplying to [@sagetrac-anakha](#comment%3A2):\n> The new patch adds an entry to the SPKG.txt file.\n\nThanks.\n\n> Also is there special procedure to bump the patch version of a spkg?\n\nYou need to rename the directory to the updated patchlevel and then recreate the spkg. There is nothing more to it :)\n\nFeel free to create spkgs, but please do not attach them to trac, put post a link. A diff would still be appreciated to make the review process easier.\n\nCheers,\n\nMichael",
    "created_at": "2008-09-03T19:38:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4052#issuecomment-23786",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:3" align="right">Comment 3</div>

Replying to [@sagetrac-anakha](#comment%3A2):
> The new patch adds an entry to the SPKG.txt file.

Thanks.

> Also is there special procedure to bump the patch version of a spkg?

You need to rename the directory to the updated patchlevel and then recreate the spkg. There is nothing more to it :)

Feel free to create spkgs, but please do not attach them to trac, put post a link. A diff would still be appreciated to make the review process easier.

Cheers,

Michael



---

archive/issue_comments_023787.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nThe spkg at\n\nhttp://sage.math.washington.edu/home/mabshoff/release-cycles-3.1.2/rc0/readline-5.2.p4.spkg\n\ncontains the fixes.",
    "created_at": "2008-09-04T01:39:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4052#issuecomment-23787",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:4" align="right">Comment 4</div>

The spkg at

http://sage.math.washington.edu/home/mabshoff/release-cycles-3.1.2/rc0/readline-5.2.p4.spkg

contains the fixes.



---

archive/issue_events_040375.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-09-04T01:39:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4052",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4052#event-40375"
}
```



---

archive/issue_events_040376.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-09-04T01:39:28Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/4052",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4052#event-40376"
}
```



---

archive/issue_comments_023788.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nMerged in Sage 3.1.2.rc0",
    "created_at": "2008-09-04T01:39:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4052",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4052#issuecomment-23788",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:5" align="right">Comment 5</div>

Merged in Sage 3.1.2.rc0
