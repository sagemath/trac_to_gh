# Issue 4120: New code for binary quadratic forms

archive/issues_004120.json:
```json
{
    "assignees": [],
    "body": "The code supporting binary quadratic forms, in quadratic_forms/binary_qf.py, is missing some functionality.  The patch in this ticket provides the following changes:\n- better support for indefinite forms\n- tests for equivalence, positive and negative definite, indefinite, primitive forms\n- action of matrix on a form\n- find content\n- is_reduced() is rewritten\n- polynomial() now uses an instance variable (poly)\n- some general cleaning up\n\nDoctests are in place for the new code, so the file remains at 100% coverage.\n\n\nAssignee: **justin**\n\nCC:  justin @jonhanke @tornaria\n\nBranch: **[748d390](https://github.com/sagemath/sagetrac-mirror/commit/748d3908d0fb0deaa683202f521a006020c3da08)**\n\nReviewer: **John Cremona, Peter Bruin, Simon Brandhorst**\n\nAuthor: **Justin Walker, Jonathan Hanke, Gonzalo Tornar\u00eda, John Cremona**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/4120_\n\n",
    "closed_at": "2018-06-14T07:41:15Z",
    "created_at": "2008-09-14T19:31:00Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20quadratic%20forms",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "New code for binary quadratic forms",
    "type": "issue",
    "updated_at": "2023-01-14T13:59:22Z",
    "url": "https://github.com/sagemath/sage/issues/4120",
    "user": "https://github.com/sagetrac-justin"
}
```
The code supporting binary quadratic forms, in quadratic_forms/binary_qf.py, is missing some functionality.  The patch in this ticket provides the following changes:
- better support for indefinite forms
- tests for equivalence, positive and negative definite, indefinite, primitive forms
- action of matrix on a form
- find content
- is_reduced() is rewritten
- polynomial() now uses an instance variable (poly)
- some general cleaning up

Doctests are in place for the new code, so the file remains at 100% coverage.


Assignee: **justin**

CC:  justin @jonhanke @tornaria

Branch: **[748d390](https://github.com/sagemath/sagetrac-mirror/commit/748d3908d0fb0deaa683202f521a006020c3da08)**

Reviewer: **John Cremona, Peter Bruin, Simon Brandhorst**

Author: **Justin Walker, Jonathan Hanke, Gonzalo Tornar√≠a, John Cremona**

_Issue created by migration from https://trac.sagemath.org/ticket/4120_





---

archive/issue_events_040138.json:
```json
{
    "actor": "https://github.com/sagetrac-justin",
    "created_at": "2008-09-14T19:31:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40138"
}
```



---

archive/issue_events_040139.json:
```json
{
    "actor": "https://github.com/sagetrac-justin",
    "created_at": "2008-09-14T19:31:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "component: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40139"
}
```



---

archive/issue_events_040140.json:
```json
{
    "actor": "https://github.com/sagetrac-justin",
    "created_at": "2008-09-14T19:31:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40140"
}
```



---

archive/issue_events_040141.json:
```json
{
    "actor": "https://github.com/sagetrac-justin",
    "created_at": "2008-09-14T19:31:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40141"
}
```



---

archive/issue_events_040142.json:
```json
{
    "actor": "https://github.com/sagetrac-justin",
    "created_at": "2008-09-14T19:31:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40142"
}
```



---

archive/issue_comments_024307.json:
```json
{
    "body": "Attachment: **[diff.gz](https://github.com/sagemath/sage/files/ticket4120/diff.gz)**\n\nContext diff of new, old versions of quadratic_forms/binary_qf.py",
    "created_at": "2008-09-14T19:32:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24307",
    "user": "https://github.com/sagetrac-justin"
}
```

Attachment: **[diff.gz](https://github.com/sagemath/sage/files/ticket4120/diff.gz)**

Context diff of new, old versions of quadratic_forms/binary_qf.py



---

archive/issue_events_040143.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-09-14T19:48:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "milestone_number": null,
    "milestone_title": "sage-3.1.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40143"
}
```



---

archive/issue_comments_024308.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nJustin,\n\nthe diff is inverse and you should also add an extension patch to the file.\n\nCheers,\n\nMichael",
    "created_at": "2008-09-14T19:59:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24308",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<a id='comment:2'>Comment 2:</a>
Justin,

the diff is inverse and you should also add an extension patch to the file.

Cheers,

Michael



---

archive/issue_comments_024309.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nAttachment: **[sage-4120.patch.gz](https://github.com/sagemath/sage/files/ticket4120/sage-4120.patch.gz)**\n\nUpdated patch, works with 3.1.1 and 3.1.2.  Needs review.  And maybe testing :-}  Also incorporated performance changes from Holdsworth's changes.",
    "created_at": "2008-09-24T02:59:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24309",
    "user": "https://github.com/sagetrac-justin"
}
```

<a id='comment:3'>Comment 3:</a>
Attachment: **[sage-4120.patch.gz](https://github.com/sagemath/sage/files/ticket4120/sage-4120.patch.gz)**

Updated patch, works with 3.1.1 and 3.1.2.  Needs review.  And maybe testing :-}  Also incorporated performance changes from Holdsworth's changes.



---

archive/issue_events_040144.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2008-09-24T04:42:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40144"
}
```



---

archive/issue_events_040145.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2008-09-24T04:42:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40145"
}
```



---

archive/issue_comments_024310.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nI am planning to review this, which looks pretty good.  First, some preliminary questions/comments:\n* I see that we now have some, but not all, support for indefinite forms.  (e.g. no equivalence testing, no class number).  Why not use pari interface for those, at least until we do our own?  (I would have thought that pari was pretty efficient for these things).\n* Your action of 2x2 matrices is a left action.  Do we want to allow users to use a right action (say, by having RMul and LMul with Mul an alias for one of them)?\n* Your action includes multiplication by det(A).  Now there are lots of application for this code, some will like that and some will want something else.  So why don't we have another parameter for Mul() which is the power of the determinant to be used.  Personally I would set the default to 0 but if you wanted it to be 1 (as in your code) I could live with that.\n* I still think that quite a lot of the functionality could be factored out into a more general binary form class, but that can be done later by someone (e.g. me) who uses higher degree forms.",
    "created_at": "2008-09-24T13:53:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24310",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:5'>Comment 5:</a>
I am planning to review this, which looks pretty good.  First, some preliminary questions/comments:
* I see that we now have some, but not all, support for indefinite forms.  (e.g. no equivalence testing, no class number).  Why not use pari interface for those, at least until we do our own?  (I would have thought that pari was pretty efficient for these things).
* Your action of 2x2 matrices is a left action.  Do we want to allow users to use a right action (say, by having RMul and LMul with Mul an alias for one of them)?
* Your action includes multiplication by det(A).  Now there are lots of application for this code, some will like that and some will want something else.  So why don't we have another parameter for Mul() which is the power of the determinant to be used.  Personally I would set the default to 0 but if you wanted it to be 1 (as in your code) I could live with that.
* I still think that quite a lot of the functionality could be factored out into a more general binary form class, but that can be done later by someone (e.g. me) who uses higher degree forms.



---

archive/issue_comments_024311.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nThe patch also works with 3.1.3.alpha1.  Doctests succeed.",
    "created_at": "2008-09-24T21:01:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24311",
    "user": "https://github.com/sagetrac-justin"
}
```

<a id='comment:6'>Comment 6:</a>
The patch also works with 3.1.3.alpha1.  Doctests succeed.



---

archive/issue_comments_024312.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nHere's a second patch, to be applied on top of sage-4120.patch.\n\nThis one fixes some bugs and typos in the first, cleans up some code, and adds more support for indefinite forms (equivalence checking, in particular).  Probably adds a few bugs as well, but that's just a by-product.",
    "created_at": "2008-10-03T06:05:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24312",
    "user": "https://github.com/sagetrac-justin"
}
```

<a id='comment:7'>Comment 7:</a>
Here's a second patch, to be applied on top of sage-4120.patch.

This one fixes some bugs and typos in the first, cleans up some code, and adds more support for indefinite forms (equivalence checking, in particular).  Probably adds a few bugs as well, but that's just a by-product.



---

archive/issue_comments_024313.json:
```json
{
    "body": "Attachment: **[sage-4120-2.patch.gz](https://github.com/sagemath/sage/files/ticket4120/sage-4120-2.patch.gz)**\n\nTo be applied on top of sage-4120.patch",
    "created_at": "2008-10-03T06:06:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24313",
    "user": "https://github.com/sagetrac-justin"
}
```

Attachment: **[sage-4120-2.patch.gz](https://github.com/sagemath/sage/files/ticket4120/sage-4120-2.patch.gz)**

To be applied on top of sage-4120.patch



---

archive/issue_comments_024314.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nThis is a third patch, applied on sage-4120-2.patch.\n\nThis one extends support for indefinite forms and fixes a few bugs (both in code and in the Buchmann/Vollmer algorithms).\n\nOne change in particular deserves discussion: I have changed the normalization and reduction procedures to return both the form in question and the transformation matrix used to derive that form.  This makes things a bit more awkward in the code, so there are two questions: is this really useful, and if yes, is there a better way to do it?\n\nAlso, I assigned this to me :-}.",
    "created_at": "2008-10-07T04:22:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24314",
    "user": "https://github.com/sagetrac-justin"
}
```

<a id='comment:8'>Comment 8:</a>
This is a third patch, applied on sage-4120-2.patch.

This one extends support for indefinite forms and fixes a few bugs (both in code and in the Buchmann/Vollmer algorithms).

One change in particular deserves discussion: I have changed the normalization and reduction procedures to return both the form in question and the transformation matrix used to derive that form.  This makes things a bit more awkward in the code, so there are two questions: is this really useful, and if yes, is there a better way to do it?

Also, I assigned this to me :-}.



---

archive/issue_comments_024315.json:
```json
{
    "body": "Assignee: **justin**",
    "created_at": "2008-10-07T04:22:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24315",
    "user": "https://github.com/sagetrac-justin"
}
```

Assignee: **justin**



---

archive/issue_comments_024316.json:
```json
{
    "body": "To be applied on top of sage-4120-2.patch",
    "created_at": "2008-10-07T04:23:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24316",
    "user": "https://github.com/sagetrac-justin"
}
```

To be applied on top of sage-4120-2.patch



---

archive/issue_comments_024317.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nAttachment: **[sage-4120-3.patch.gz](https://github.com/sagemath/sage/files/ticket4120/sage-4120-3.patch.gz)**\n\nApplied all three patches against 3.1.3.rc0, one at a time, running the doctests each time.  All doctests succeeded.  No problems noted.",
    "created_at": "2008-10-14T04:31:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24317",
    "user": "https://github.com/sagetrac-justin"
}
```

<a id='comment:9'>Comment 9:</a>
Attachment: **[sage-4120-3.patch.gz](https://github.com/sagemath/sage/files/ticket4120/sage-4120-3.patch.gz)**

Applied all three patches against 3.1.3.rc0, one at a time, running the doctests each time.  All doctests succeeded.  No problems noted.



---

archive/issue_comments_024318.json:
```json
{
    "body": "REPLACES earlier patches",
    "created_at": "2008-10-28T20:46:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24318",
    "user": "https://github.com/JohnCremona"
}
```

REPLACES earlier patches



---

archive/issue_comments_024319.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nAttachment: **[sage-trac4120.new.patch.gz](https://github.com/sagemath/sage/files/ticket4120/sage-trac4120.new.patch.gz)**\n\nMy patch sage-trac4120new.patch combines the three earlier ones and adds the following:\n* Fixing various bugs and typos\n* Sorting out a lot of formatting issues in doctests\n* Adds some new functions\n* Renames Mul to `__mul__` so one can say Q*M to apply matrix M to form Q\n\nRegarding the latter I relented and removed the scale parameter;  since the det is either +1 or -1 I am happy with multiplying (or dividing) by the determinant.\n\nIssues do remain:\n* The various transform function which return a new form Q and a transform T really must satisfy self.T==Q, but they don't.  Hence the commented out assertions.\n* We must decide whether we are talking about weak or strict equivalence (GL or SL(2,ZZ)).  At the moment it is hard to tell which.\n* For indefinite forms there are several different notions of \"reduced\".  OK to to stick to one, but we should make this explicit.\n* The class number function looks inefficient to me, it should be replaced by the fast code by Skoruppa to list reduced forms (in the definite case at least).\n\nThat's all I can remember, but this will need more work before it can go in.",
    "created_at": "2008-10-28T20:53:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24319",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:10'>Comment 10:</a>
Attachment: **[sage-trac4120.new.patch.gz](https://github.com/sagemath/sage/files/ticket4120/sage-trac4120.new.patch.gz)**

My patch sage-trac4120new.patch combines the three earlier ones and adds the following:
* Fixing various bugs and typos
* Sorting out a lot of formatting issues in doctests
* Adds some new functions
* Renames Mul to `__mul__` so one can say Q*M to apply matrix M to form Q

Regarding the latter I relented and removed the scale parameter;  since the det is either +1 or -1 I am happy with multiplying (or dividing) by the determinant.

Issues do remain:
* The various transform function which return a new form Q and a transform T really must satisfy self.T==Q, but they don't.  Hence the commented out assertions.
* We must decide whether we are talking about weak or strict equivalence (GL or SL(2,ZZ)).  At the moment it is hard to tell which.
* For indefinite forms there are several different notions of "reduced".  OK to to stick to one, but we should make this explicit.
* The class number function looks inefficient to me, it should be replaced by the fast code by Skoruppa to list reduced forms (in the definite case at least).

That's all I can remember, but this will need more work before it can go in.



---

archive/issue_comments_024320.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nSee also #4470 for Jon Hanke's work on quadratic forms.\n\nCheers,\n\nMichael",
    "created_at": "2008-11-08T21:30:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24320",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<a id='comment:11'>Comment 11:</a>
See also #4470 for Jon Hanke's work on quadratic forms.

Cheers,

Michael



---

archive/issue_events_040146.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-11-08T21:32:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "component: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40146"
}
```



---

archive/issue_events_040147.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-11-08T21:32:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20quadratic%20forms",
    "label_color": "0000ff",
    "label_name": "component: quadratic forms",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40147"
}
```



---

archive/issue_events_040148.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-11-28T21:52:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40148"
}
```



---

archive/issue_events_040149.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-11-28T21:52:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40149"
}
```



---

archive/issue_comments_024321.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nTo comment on the relationship with #4470:\n\n```\nAFAIK the binary quadratic forms are untouched by Jon's work. We\nshould rename the file to bring it more in line with what is coming\nfrom Jon, i.e. all I have left to do to post a patch is to rename\nvarious files to qf_ from quadratic_forms_, fix the imports and rebase\nthe extensions to module_list.py. All trivial, it just needs to be\ndone :p\n```\n\nCheers,\n\nMichael",
    "created_at": "2008-11-28T22:40:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24321",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<a id='comment:15'>Comment 15:</a>
To comment on the relationship with #4470:

```
AFAIK the binary quadratic forms are untouched by Jon's work. We
should rename the file to bring it more in line with what is coming
from Jon, i.e. all I have left to do to post a patch is to rename
various files to qf_ from quadratic_forms_, fix the imports and rebase
the extensions to module_list.py. All trivial, it just needs to be
done :p
```

Cheers,

Michael



---

archive/issue_comments_024322.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nI've reviewed the code from the last patch as submitted by John Cremona (sage-trac4120.new.patch). It applies cleanly on 3.3 and also on top of the first two patches in #4470.\n\nBelow are some comments about the code in `binary_qf.py`. I didn't make a difference between old code and code in the patch, since most of the code is in the patch, anyway.\n\n- Constructor:\n  - BinaryQF([1,2,3], 4, 5) should raise an error\n  - I would like to suggest an additional constructor:\n\n     ```\n        sage: BinaryQF(2, 1, disc = -23)\n        2*x^2 + x*y + 3*y^2\n    ```\n    this is handy when the discriminant is fixed and one knows the first two coefficients\n    of a form\n\n- `__repr__`:\n   \n  I don't like the fact that a quadratic form is represented by a polynomial, may lead\n  to potential confusion. What about something like:\n  \"`Binary quadratic form over Integer Ring with coefficients [a, b, c]`\"\n  ?\n\n- polynomial:\n  - the variables for the polynomial are hardcoded... 'x' and 'y'... not very important (I rather not have a \"polynomial\" function... I'd replace it by a `__call__` function which works for elements in any ring, then one can call e.g. `Q(x,y)` where x and y are in `ZZ['x,y']`, etc.\n\n- action by matrices:\n  - Q * M is a left action --> more natural to be right action!!\n    I.e. right now\n\n     ```\n        sage: Q = BinaryQF(4,-4,15)\n        sage: M = matrix(ZZ, 2, [1, 1, 0, 1])\n        sage: M1 = matrix(ZZ, 2, [1, 0, 1, 1])\n        sage: Q * M * M1 == Q * (M * M1)\n        False\n        sage: Q * M * M1 == Q * (M1 * M)\n        True\n    ```\n  - I like the notation `Q(M)` for the action of matrices -- this is consitent with the\n    notation for general quadratic forms and representation by vectors or sublattices (#4470)\n     \n\n    Maybe * should be reserved for composition?\n\n- is_normal: he doctest doesn't explain what it is\n\n- is_equivalent\n  - IMO should return True or False\n  - have extra parameter to request transformation matrix\n  - needs more doctests (in particular indefinite, etc)\n  - sage: Q * Q.is_equivalent(Q1)[1].transpose() == Q1 /// should be True\n   this is just an issue with the action of matrices being left action\n  - for indefinite: should not compute the cycle for every form!!\n   instead, compute `self * other^(-1)`  (in the class group), and check if it is in the\n   principal cycle, which should of course be cached once for each discriminant. This is\n   helpful since one will probably use many forms of the same discriminant together.\n    \n\n   Not sure about how to do memory management though: it'd be nice if every indefinite\n   form of discriminant D holds a reference to the principal cycle of discriminant D, so\n   the cycle is deleted when the last indefinite form of discriminant D is deleted ???\n    \n\n   ALSO: IMO the caching of the cycle should be done by the function Cycle() itself, not by\n   is_equivalent.\n    \n\n   Moreover, the cycle needs to cache the transformation matrix as well, so we can\n   actually figure out the correct transformation matrix.\n\n- matrix: should be the Hessian for consistency with the rest of the code ???\n  the advantage is that it makes the matrix over ZZ (with even diagonal)\n\n- is_zero: should not need a gcd to decide if it is 0\n\n- s and ss: internal, should be prepended with `__` ???\n\n- class number computation should use pari\n\n- implement conversions between pari <--> sage   for BinaryQF and Qfb\n  maybe try to wrap around pari functionality as much as possible, for speed ??? (both\n  runtime and development!!) E.g. composition, etc.",
    "created_at": "2009-02-24T02:36:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24322",
    "user": "https://github.com/tornaria"
}
```

<a id='comment:16'>Comment 16:</a>
I've reviewed the code from the last patch as submitted by John Cremona (sage-trac4120.new.patch). It applies cleanly on 3.3 and also on top of the first two patches in #4470.

Below are some comments about the code in `binary_qf.py`. I didn't make a difference between old code and code in the patch, since most of the code is in the patch, anyway.

- Constructor:
  - BinaryQF([1,2,3], 4, 5) should raise an error
  - I would like to suggest an additional constructor:

     ```
        sage: BinaryQF(2, 1, disc = -23)
        2*x^2 + x*y + 3*y^2
    ```
    this is handy when the discriminant is fixed and one knows the first two coefficients
    of a form

- `__repr__`:
   
  I don't like the fact that a quadratic form is represented by a polynomial, may lead
  to potential confusion. What about something like:
  "`Binary quadratic form over Integer Ring with coefficients [a, b, c]`"
  ?

- polynomial:
  - the variables for the polynomial are hardcoded... 'x' and 'y'... not very important (I rather not have a "polynomial" function... I'd replace it by a `__call__` function which works for elements in any ring, then one can call e.g. `Q(x,y)` where x and y are in `ZZ['x,y']`, etc.

- action by matrices:
  - Q * M is a left action --> more natural to be right action!!
    I.e. right now

     ```
        sage: Q = BinaryQF(4,-4,15)
        sage: M = matrix(ZZ, 2, [1, 1, 0, 1])
        sage: M1 = matrix(ZZ, 2, [1, 0, 1, 1])
        sage: Q * M * M1 == Q * (M * M1)
        False
        sage: Q * M * M1 == Q * (M1 * M)
        True
    ```
  - I like the notation `Q(M)` for the action of matrices -- this is consitent with the
    notation for general quadratic forms and representation by vectors or sublattices (#4470)
     

    Maybe * should be reserved for composition?

- is_normal: he doctest doesn't explain what it is

- is_equivalent
  - IMO should return True or False
  - have extra parameter to request transformation matrix
  - needs more doctests (in particular indefinite, etc)
  - sage: Q * Q.is_equivalent(Q1)[1].transpose() == Q1 /// should be True
   this is just an issue with the action of matrices being left action
  - for indefinite: should not compute the cycle for every form!!
   instead, compute `self * other^(-1)`  (in the class group), and check if it is in the
   principal cycle, which should of course be cached once for each discriminant. This is
   helpful since one will probably use many forms of the same discriminant together.
    

   Not sure about how to do memory management though: it'd be nice if every indefinite
   form of discriminant D holds a reference to the principal cycle of discriminant D, so
   the cycle is deleted when the last indefinite form of discriminant D is deleted ???
    

   ALSO: IMO the caching of the cycle should be done by the function Cycle() itself, not by
   is_equivalent.
    

   Moreover, the cycle needs to cache the transformation matrix as well, so we can
   actually figure out the correct transformation matrix.

- matrix: should be the Hessian for consistency with the rest of the code ???
  the advantage is that it makes the matrix over ZZ (with even diagonal)

- is_zero: should not need a gcd to decide if it is 0

- s and ss: internal, should be prepended with `__` ???

- class number computation should use pari

- implement conversions between pari <--> sage   for BinaryQF and Qfb
  maybe try to wrap around pari functionality as much as possible, for speed ??? (both
  runtime and development!!) E.g. composition, etc.



---

archive/issue_comments_024323.json:
```json
{
    "body": "New patch; replaces previous patches.",
    "created_at": "2011-03-24T22:55:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24323",
    "user": "https://github.com/sagetrac-justin"
}
```

New patch; replaces previous patches.



---

archive/issue_comments_024324.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nAttachment: **[4120-110324.patch.gz](https://github.com/sagemath/sage/files/ticket4120/4120-110324.patch.gz)**\n\nNew patch.  Primary content is support for indefinite binary forms.",
    "created_at": "2011-03-24T22:56:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24324",
    "user": "https://github.com/sagetrac-justin"
}
```

<a id='comment:17'>Comment 17:</a>
Attachment: **[4120-110324.patch.gz](https://github.com/sagemath/sage/files/ticket4120/4120-110324.patch.gz)**

New patch.  Primary content is support for indefinite binary forms.



---

archive/issue_events_040150.json:
```json
{
    "actor": "https://github.com/sagetrac-justin",
    "created_at": "2011-03-24T22:57:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40150"
}
```



---

archive/issue_events_040151.json:
```json
{
    "actor": "https://github.com/sagetrac-justin",
    "created_at": "2011-03-24T22:57:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40151"
}
```



---

archive/issue_comments_024325.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nForgot to make this explicit: Previous patches include a lot more changes than are in the new one, but to simplify the review process (and my life), I've decided to break it up into smaller chunks.  More changes will be forthcoming (new trac tickets).",
    "created_at": "2011-03-24T23:12:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24325",
    "user": "https://github.com/sagetrac-justin"
}
```

<a id='comment:20'>Comment 20:</a>
Forgot to make this explicit: Previous patches include a lot more changes than are in the new one, but to simplify the review process (and my life), I've decided to break it up into smaller chunks.  More changes will be forthcoming (new trac tickets).



---

archive/issue_comments_024326.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nNOTE: And another thing: this patch should be applied against Sage 4.7.alpha2 or later (the release with the patch from #10741).",
    "created_at": "2011-03-24T23:21:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24326",
    "user": "https://github.com/sagetrac-justin"
}
```

<a id='comment:21'>Comment 21:</a>
NOTE: And another thing: this patch should be applied against Sage 4.7.alpha2 or later (the release with the patch from #10741).



---

archive/issue_comments_024327.json:
```json
{
    "body": "Author: **Justin Walker, Jon Hanke, Gonzalo Tornaria, John Cremona**",
    "created_at": "2011-03-25T19:24:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24327",
    "user": "https://github.com/JohnCremona"
}
```

Author: **Justin Walker, Jon Hanke, Gonzalo Tornaria, John Cremona**



---

archive/issue_comments_024328.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nPatch applies and tests pass.\n\nMy only suggestion is that for invalid input you should raise an appropriate error (ValueError) rather than printing something and returning [].  And all integers =0,1(mod 4) should be allowed, even squares?  The docstring should specify exactly what valid inputs are, in any case.",
    "created_at": "2011-03-25T19:24:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24328",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:22'>Comment 22:</a>
Patch applies and tests pass.

My only suggestion is that for invalid input you should raise an appropriate error (ValueError) rather than printing something and returning [].  And all integers =0,1(mod 4) should be allowed, even squares?  The docstring should specify exactly what valid inputs are, in any case.



---

archive/issue_comments_024329.json:
```json
{
    "body": "Reviewer: **John Cremona**",
    "created_at": "2011-03-25T19:24:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24329",
    "user": "https://github.com/JohnCremona"
}
```

Reviewer: **John Cremona**



---

archive/issue_events_040152.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2011-03-25T19:24:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40152"
}
```



---

archive/issue_events_040153.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2011-03-25T19:24:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40153"
}
```



---

archive/issue_comments_024330.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nI will make the changes to raise errors rather than return unexpected values; that makes sense.\n\nThere may be cases where restrictions on discriminants make sense.  For example, I don't think that reduction for a degenerate form makes sense, and there are cases where we don't have an implementation for for a specific class of forms (indefinite, say).  Thoughts?",
    "created_at": "2011-03-25T20:35:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24330",
    "user": "https://github.com/sagetrac-justin"
}
```

<a id='comment:23'>Comment 23:</a>
I will make the changes to raise errors rather than return unexpected values; that makes sense.

There may be cases where restrictions on discriminants make sense.  For example, I don't think that reduction for a degenerate form makes sense, and there are cases where we don't have an implementation for for a specific class of forms (indefinite, say).  Thoughts?



---

archive/issue_comments_024331.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nReplying to [justin](#comment%3A23):\n> I will make the changes to raise errors rather than return unexpected values; that makes sense.\n\nGood!  Thanks.\n\n> \n> There may be cases where restrictions on discriminants make sense.  For example, I don't think that reduction for a degenerate form makes sense, and there are cases where we don't have an implementation for for a specific class of forms (indefinite, say).  Thoughts?\n\nOK by me to restrict to B which are 0 or 1 mod 4 and not squares.",
    "created_at": "2011-03-25T21:59:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24331",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:24'>Comment 24:</a>
Replying to [justin](#comment%3A23):
> I will make the changes to raise errors rather than return unexpected values; that makes sense.

Good!  Thanks.

> 
> There may be cases where restrictions on discriminants make sense.  For example, I don't think that reduction for a degenerate form makes sense, and there are cases where we don't have an implementation for for a specific class of forms (indefinite, say).  Thoughts?

OK by me to restrict to B which are 0 or 1 mod 4 and not squares.



---

archive/issue_events_040154.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40154"
}
```



---

archive/issue_events_040155.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40155"
}
```



---

archive/issue_events_040156.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40156"
}
```



---

archive/issue_events_040157.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40157"
}
```



---

archive/issue_comments_024332.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nI tried to do some computations with binary quadratic forms of positive discriminant, discovered that a lot of functionality was missing, and then found this ticket, which has been inactive for 3 years...  Is anyone planning to work on it?\n\nSee also #6106.",
    "created_at": "2014-02-26T17:32:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24332",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:27'>Comment 27:</a>
I tried to do some computations with binary quadratic forms of positive discriminant, discovered that a lot of functionality was missing, and then found this ticket, which has been inactive for 3 years...  Is anyone planning to work on it?

See also #6106.



---

archive/issue_comments_024333.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nConverted the patch to a Git branch; small fixes to make everything compile and pass tests.\n\nStill `needs_work` in view of [comment:22](#comment%3A22).",
    "created_at": "2014-02-26T21:13:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24333",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:28'>Comment 28:</a>
Converted the patch to a Git branch; small fixes to make everything compile and pass tests.

Still `needs_work` in view of [comment:22](#comment%3A22).



---

archive/issue_comments_024334.json:
```json
{
    "body": "Commit: **[b7337f3](https://github.com/sagemath/sagetrac-mirror/commit/b7337f3a218585648a07a1268ba8e65a1887c1a2)**",
    "created_at": "2014-02-26T21:13:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24334",
    "user": "https://github.com/pjbruin"
}
```

Commit: **[b7337f3](https://github.com/sagemath/sagetrac-mirror/commit/b7337f3a218585648a07a1268ba8e65a1887c1a2)**



---

archive/issue_comments_024335.json:
```json
{
    "body": "Branch: **[u/pbruin/4120-binary_quadratic_forms](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/4120-binary_quadratic_forms)**",
    "created_at": "2014-02-26T21:13:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24335",
    "user": "https://github.com/pjbruin"
}
```

Branch: **[u/pbruin/4120-binary_quadratic_forms](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/4120-binary_quadratic_forms)**



---

archive/issue_comments_024336.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/96c1a86e063e7a7512978c574ec40c84641b66d4\">96c1a86</a></td><td><code>binary_qf.py: clean up code and documentation</code></td></tr></table>\n",
    "created_at": "2014-02-26T23:18:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24336",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:29'>Comment 29:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/96c1a86e063e7a7512978c574ec40c84641b66d4">96c1a86</a></td><td><code>binary_qf.py: clean up code and documentation</code></td></tr></table>




---

archive/issue_comments_024337.json:
```json
{
    "body": "Changed commit from **[b7337f3](https://github.com/sagemath/sagetrac-mirror/commit/b7337f3a218585648a07a1268ba8e65a1887c1a2)** to **[96c1a86](https://github.com/sagemath/sagetrac-mirror/commit/96c1a86e063e7a7512978c574ec40c84641b66d4)**",
    "created_at": "2014-02-26T23:18:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24337",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b7337f3](https://github.com/sagemath/sagetrac-mirror/commit/b7337f3a218585648a07a1268ba8e65a1887c1a2)** to **[96c1a86](https://github.com/sagemath/sagetrac-mirror/commit/96c1a86e063e7a7512978c574ec40c84641b66d4)**



---

archive/issue_comments_024338.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,12 +1,11 @@\n-The code supporting binary quadratic forms, in quadratic_forms/binary_qf.py, is missing some functionality, and relies on Magma and Pari.  The patch in this ticket provides the following changes:\n-- tests for equivalence, normal, positive and negative definite, indefinite, primitive forms\n-- normalize a form\n+The code supporting binary quadratic forms, in quadratic_forms/binary_qf.py, is missing some functionality.  The patch in this ticket provides the following changes:\n+- better support for indefinite forms\n+- tests for equivalence, positive and negative definite, indefinite, primitive forms\n - action of matrix on a form\n-- find content; factor indefinite forms\n-In addition: \n-- reduce() no longer calls Pari\n-- some cleanup: is_reduced() is rewritten; polynomial() replaced with an instance variable (poly)\n+- find content\n+- is_reduced() is rewritten\n+- polynomial() now uses an instance variable (poly)\n+- some general cleaning up\n \n Doctests are in place for the new code, so the file remains at 100% coverage.\n \n-\n``````\n",
    "created_at": "2014-02-26T23:36:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24338",
    "user": "https://github.com/pjbruin"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,12 +1,11 @@
-The code supporting binary quadratic forms, in quadratic_forms/binary_qf.py, is missing some functionality, and relies on Magma and Pari.  The patch in this ticket provides the following changes:
-- tests for equivalence, normal, positive and negative definite, indefinite, primitive forms
-- normalize a form
+The code supporting binary quadratic forms, in quadratic_forms/binary_qf.py, is missing some functionality.  The patch in this ticket provides the following changes:
+- better support for indefinite forms
+- tests for equivalence, positive and negative definite, indefinite, primitive forms
 - action of matrix on a form
-- find content; factor indefinite forms
-In addition: 
-- reduce() no longer calls Pari
-- some cleanup: is_reduced() is rewritten; polynomial() replaced with an instance variable (poly)
+- find content
+- is_reduced() is rewritten
+- polynomial() now uses an instance variable (poly)
+- some general cleaning up
 
 Doctests are in place for the new code, so the file remains at 100% coverage.
 
-
``````




---

archive/issue_comments_024339.json:
```json
{
    "body": "Work Issues: **more tests for is_reduced, doc of primitive_only**",
    "created_at": "2014-02-26T23:36:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24339",
    "user": "https://github.com/pjbruin"
}
```

Work Issues: **more tests for is_reduced, doc of primitive_only**



---

archive/issue_comments_024340.json:
```json
{
    "body": "Changed commit from **[96c1a86](https://github.com/sagemath/sagetrac-mirror/commit/96c1a86e063e7a7512978c574ec40c84641b66d4)** to **[ece1df7](https://github.com/sagemath/sagetrac-mirror/commit/ece1df7ed9ebb0d5d1f462edcf78024af24d547d)**",
    "created_at": "2014-02-27T14:28:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24340",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[96c1a86](https://github.com/sagemath/sagetrac-mirror/commit/96c1a86e063e7a7512978c574ec40c84641b66d4)** to **[ece1df7](https://github.com/sagemath/sagetrac-mirror/commit/ece1df7ed9ebb0d5d1f462edcf78024af24d547d)**



---

archive/issue_comments_024341.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ece1df7ed9ebb0d5d1f462edcf78024af24d547d\">ece1df7</a></td><td><code>binary_qf.py: more doctests, add \"implementation\" parameter for reduction</code></td></tr></table>\n",
    "created_at": "2014-02-27T14:28:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24341",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:31'>Comment 31:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ece1df7ed9ebb0d5d1f462edcf78024af24d547d">ece1df7</a></td><td><code>binary_qf.py: more doctests, add "implementation" parameter for reduction</code></td></tr></table>




---

archive/issue_comments_024342.json:
```json
{
    "body": "Changed work issues from **more tests for is_reduced, doc of primitive_only** to none",
    "created_at": "2014-02-27T14:29:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24342",
    "user": "https://github.com/pjbruin"
}
```

Changed work issues from **more tests for is_reduced, doc of primitive_only** to none



---

archive/issue_events_040158.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2014-02-27T14:29:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40158"
}
```



---

archive/issue_events_040159.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2014-02-27T14:29:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40159"
}
```



---

archive/issue_comments_024343.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dcf854dcfeef37a4b50999a9948b05bf4c629901\">dcf854d</a></td><td><code>Merge branch 'develop' into ticket/4120-binary_quadratic_forms</code></td></tr></table>\n",
    "created_at": "2014-04-25T00:02:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24343",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:33'>Comment 33:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dcf854dcfeef37a4b50999a9948b05bf4c629901">dcf854d</a></td><td><code>Merge branch 'develop' into ticket/4120-binary_quadratic_forms</code></td></tr></table>




---

archive/issue_comments_024344.json:
```json
{
    "body": "Changed commit from **[ece1df7](https://github.com/sagemath/sagetrac-mirror/commit/ece1df7ed9ebb0d5d1f462edcf78024af24d547d)** to **[dcf854d](https://github.com/sagemath/sagetrac-mirror/commit/dcf854dcfeef37a4b50999a9948b05bf4c629901)**",
    "created_at": "2014-04-25T00:02:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24344",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ece1df7](https://github.com/sagemath/sagetrac-mirror/commit/ece1df7ed9ebb0d5d1f462edcf78024af24d547d)** to **[dcf854d](https://github.com/sagemath/sagetrac-mirror/commit/dcf854dcfeef37a4b50999a9948b05bf4c629901)**



---

archive/issue_events_040160.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40160"
}
```



---

archive/issue_events_040161.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40161"
}
```



---

archive/issue_events_040162.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40162"
}
```



---

archive/issue_events_040163.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40163"
}
```



---

archive/issue_comments_024345.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/215cb8a6a67461471df0c4c43d70d555fae2d33b\">215cb8a</a></td><td><code>Merge branch 'develop' into ticket/4120-binary_quadratic_forms</code></td></tr></table>\n",
    "created_at": "2014-11-27T23:32:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24345",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:36'>Comment 36:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/215cb8a6a67461471df0c4c43d70d555fae2d33b">215cb8a</a></td><td><code>Merge branch 'develop' into ticket/4120-binary_quadratic_forms</code></td></tr></table>




---

archive/issue_comments_024346.json:
```json
{
    "body": "Changed commit from **[dcf854d](https://github.com/sagemath/sagetrac-mirror/commit/dcf854dcfeef37a4b50999a9948b05bf4c629901)** to **[215cb8a](https://github.com/sagemath/sagetrac-mirror/commit/215cb8a6a67461471df0c4c43d70d555fae2d33b)**",
    "created_at": "2014-11-27T23:32:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24346",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[dcf854d](https://github.com/sagemath/sagetrac-mirror/commit/dcf854dcfeef37a4b50999a9948b05bf4c629901)** to **[215cb8a](https://github.com/sagemath/sagetrac-mirror/commit/215cb8a6a67461471df0c4c43d70d555fae2d33b)**



---

archive/issue_comments_024347.json:
```json
{
    "body": "Changed reviewer from **John Cremona** to **John Cremona, Peter Bruin**",
    "created_at": "2014-11-27T23:40:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24347",
    "user": "https://github.com/pjbruin"
}
```

Changed reviewer from **John Cremona** to **John Cremona, Peter Bruin**



---

archive/issue_comments_024348.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\nI guess my commits can count as reviewer patches.  However, I haven't reviewed all the new code in detail, so the branch should probably still be reviewed as a whole.",
    "created_at": "2014-11-27T23:40:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24348",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:37'>Comment 37:</a>
I guess my commits can count as reviewer patches.  However, I haven't reviewed all the new code in detail, so the branch should probably still be reviewed as a whole.



---

archive/issue_events_040164.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-03-27T08:18:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40164"
}
```



---

archive/issue_events_040165.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-03-27T08:18:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40165"
}
```



---

archive/issue_comments_024349.json:
```json
{
    "body": "<a id='comment:38'>Comment 38:</a>\nThis ticket currently confuses the patchbot. Temporarily putting to **needs info** to stop the bot loop-testing it.",
    "created_at": "2015-03-27T08:18:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24349",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:38'>Comment 38:</a>
This ticket currently confuses the patchbot. Temporarily putting to **needs info** to stop the bot loop-testing it.



---

archive/issue_events_040166.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2015-06-04T11:12:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40166"
}
```



---

archive/issue_events_040167.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2015-06-04T11:12:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40167"
}
```



---

archive/issue_comments_024350.json:
```json
{
    "body": "<a id='comment:39'>Comment 39:</a>\nReplying to [@fchapoton](#comment%3A38):\n> This ticket currently confuses the patchbot. Temporarily putting to **needs info** to stop the bot loop-testing it.\n\nIt seems that at least the patchbot \"eddy\" is testing this ticket without adverse effects.  Let's see what happens if I set it back to \"needs_review\".  (There was a failure in the last patchbot run, but it seems to be unrelated to this ticket.)",
    "created_at": "2015-06-04T11:12:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24350",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:39'>Comment 39:</a>
Replying to [@fchapoton](#comment%3A38):
> This ticket currently confuses the patchbot. Temporarily putting to **needs info** to stop the bot loop-testing it.

It seems that at least the patchbot "eddy" is testing this ticket without adverse effects.  Let's see what happens if I set it back to "needs_review".  (There was a failure in the last patchbot run, but it seems to be unrelated to this ticket.)



---

archive/issue_comments_024351.json:
```json
{
    "body": "<a id='comment:40'>Comment 40:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5657f282979e1cb3c9bf7e49c62bbc606f00c108\">5657f28</a></td><td><code>Merge branch 'develop' into ticket/4120-binary_quadratic_forms</code></td></tr></table>\n",
    "created_at": "2016-01-22T20:34:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24351",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:40'>Comment 40:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5657f282979e1cb3c9bf7e49c62bbc606f00c108">5657f28</a></td><td><code>Merge branch 'develop' into ticket/4120-binary_quadratic_forms</code></td></tr></table>




---

archive/issue_comments_024352.json:
```json
{
    "body": "Changed commit from **[215cb8a](https://github.com/sagemath/sagetrac-mirror/commit/215cb8a6a67461471df0c4c43d70d555fae2d33b)** to **[5657f28](https://github.com/sagemath/sagetrac-mirror/commit/5657f282979e1cb3c9bf7e49c62bbc606f00c108)**",
    "created_at": "2016-01-22T20:34:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24352",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[215cb8a](https://github.com/sagemath/sagetrac-mirror/commit/215cb8a6a67461471df0c4c43d70d555fae2d33b)** to **[5657f28](https://github.com/sagemath/sagetrac-mirror/commit/5657f282979e1cb3c9bf7e49c62bbc606f00c108)**



---

archive/issue_events_040168.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-08-14T20:43:22Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40168"
}
```



---

archive/issue_events_040169.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-08-14T20:43:22Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40169"
}
```



---

archive/issue_comments_024353.json:
```json
{
    "body": "<a id='comment:42'>Comment 42:</a>\n[qfbcompraw](http://doc.sagemath.org/html/en/reference/libs/sage/libs/pari/gen.html#sage.libs.pari.gen.gen_auto.qfbcompraw) is now wrapped, so calling pari directly to use it is no longer necessary, and should be fixed.\n\ncf. the patch part:\n\n```\n+            # There could be more elegant ways, but qfbcompraw isn't\n+            # wrapped yet in the PARI C library.  We may as well settle\n+            # for the below, until somebody simply implements composition\n+            # from scratch in Cython.\n+            v = list(pari('qfbcompraw(%s,%s)'%(self._pari_init_(),\n+                                            right._pari_init_())))\n```",
    "created_at": "2016-11-21T10:41:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24353",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:42'>Comment 42:</a>
[qfbcompraw](http://doc.sagemath.org/html/en/reference/libs/sage/libs/pari/gen.html#sage.libs.pari.gen.gen_auto.qfbcompraw) is now wrapped, so calling pari directly to use it is no longer necessary, and should be fixed.

cf. the patch part:

```
+            # There could be more elegant ways, but qfbcompraw isn't
+            # wrapped yet in the PARI C library.  We may as well settle
+            # for the below, until somebody simply implements composition
+            # from scratch in Cython.
+            v = list(pari('qfbcompraw(%s,%s)'%(self._pari_init_(),
+                                            right._pari_init_())))
```



---

archive/issue_events_040170.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-11-21T11:30:14Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40170"
}
```



---

archive/issue_events_040171.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2016-11-21T11:30:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "milestone_number": null,
    "milestone_title": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40171"
}
```



---

archive/issue_comments_024354.json:
```json
{
    "body": "<a id='comment:43'>Comment 43:</a>\nand the same for `qfbred`, which is now also wrapped.",
    "created_at": "2016-11-21T11:30:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24354",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:43'>Comment 43:</a>
and the same for `qfbred`, which is now also wrapped.



---

archive/issue_comments_024355.json:
```json
{
    "body": "Changed commit from **[5657f28](https://github.com/sagemath/sagetrac-mirror/commit/5657f282979e1cb3c9bf7e49c62bbc606f00c108)** to **[00a4307](https://github.com/sagemath/sagetrac-mirror/commit/00a4307ffecf6638466fbac3d41f8ca33f43c829)**",
    "created_at": "2016-11-21T13:51:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24355",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5657f28](https://github.com/sagemath/sagetrac-mirror/commit/5657f282979e1cb3c9bf7e49c62bbc606f00c108)** to **[00a4307](https://github.com/sagemath/sagetrac-mirror/commit/00a4307ffecf6638466fbac3d41f8ca33f43c829)**



---

archive/issue_comments_024356.json:
```json
{
    "body": "<a id='comment:44'>Comment 44:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/301a109b729f3b949e9e5fa4eaa39c8c4aec6e71\">301a109</a></td><td><code>Merge branch 'develop' into ticket/4120-binary_quadratic_forms</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/00a4307ffecf6638466fbac3d41f8ca33f43c829\">00a4307</a></td><td><code>Trac 4120: allow construction of BinaryQF from PARI, and use PARI library interface</code></td></tr></table>\n",
    "created_at": "2016-11-21T13:51:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24356",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:44'>Comment 44:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/301a109b729f3b949e9e5fa4eaa39c8c4aec6e71">301a109</a></td><td><code>Merge branch 'develop' into ticket/4120-binary_quadratic_forms</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/00a4307ffecf6638466fbac3d41f8ca33f43c829">00a4307</a></td><td><code>Trac 4120: allow construction of BinaryQF from PARI, and use PARI library interface</code></td></tr></table>




---

archive/issue_comments_024357.json:
```json
{
    "body": "Changed commit from **[00a4307](https://github.com/sagemath/sagetrac-mirror/commit/00a4307ffecf6638466fbac3d41f8ca33f43c829)** to **[959fbab](https://github.com/sagemath/sagetrac-mirror/commit/959fbab69cbe7118cc2f5691fcfe5b64f80c966c)**",
    "created_at": "2017-09-08T05:42:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24357",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[00a4307](https://github.com/sagemath/sagetrac-mirror/commit/00a4307ffecf6638466fbac3d41f8ca33f43c829)** to **[959fbab](https://github.com/sagemath/sagetrac-mirror/commit/959fbab69cbe7118cc2f5691fcfe5b64f80c966c)**



---

archive/issue_comments_024358.json:
```json
{
    "body": "<a id='comment:45'>Comment 45:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f20033f89a1711186c71eced4d55b57f560c0fb\">1f20033</a></td><td><code>Merge branch 'develop' into ticket/4120-binary_quadratic_forms</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/959fbab69cbe7118cc2f5691fcfe5b64f80c966c\">959fbab</a></td><td><code>Trac 4120: replace _pari_() by __pari__()</code></td></tr></table>\n",
    "created_at": "2017-09-08T05:42:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24358",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:45'>Comment 45:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f20033f89a1711186c71eced4d55b57f560c0fb">1f20033</a></td><td><code>Merge branch 'develop' into ticket/4120-binary_quadratic_forms</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/959fbab69cbe7118cc2f5691fcfe5b64f80c966c">959fbab</a></td><td><code>Trac 4120: replace _pari_() by __pari__()</code></td></tr></table>




---

archive/issue_comments_024359.json:
```json
{
    "body": "Changed author from **Justin Walker, Jon Hanke, Gonzalo Tornaria, John Cremona** to **Justin Walker, Jon Hanke, Gonzalo Tornar\u00eda, John Cremona**",
    "created_at": "2017-09-13T15:52:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24359",
    "user": "https://github.com/pjbruin"
}
```

Changed author from **Justin Walker, Jon Hanke, Gonzalo Tornaria, John Cremona** to **Justin Walker, Jon Hanke, Gonzalo Tornar√≠a, John Cremona**



---

archive/issue_comments_024360.json:
```json
{
    "body": "<a id='comment:46'>Comment 46:</a>\n(added the accent to Gonzalo Tornar\u00eda's name; maybe this will also convince the patchbot to test this ticket)",
    "created_at": "2017-09-13T15:52:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24360",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:46'>Comment 46:</a>
(added the accent to Gonzalo Tornar√≠a's name; maybe this will also convince the patchbot to test this ticket)



---

archive/issue_events_040172.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-09-13T16:17:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "milestone_number": null,
    "milestone_title": "sage-7.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40172"
}
```



---

archive/issue_events_040173.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-09-13T16:17:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40173"
}
```



---

archive/issue_comments_024361.json:
```json
{
    "body": "<a id='comment:48'>Comment 48:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f580cb6d0a13eb66d84b996113d8880b5748a3c\">2f580cb</a></td><td><code>Trac 4120: EXAMPLE -> EXAMPLES, TEST -> TESTS</code></td></tr></table>\n",
    "created_at": "2017-09-19T05:46:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24361",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:48'>Comment 48:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f580cb6d0a13eb66d84b996113d8880b5748a3c">2f580cb</a></td><td><code>Trac 4120: EXAMPLE -> EXAMPLES, TEST -> TESTS</code></td></tr></table>




---

archive/issue_comments_024362.json:
```json
{
    "body": "Changed commit from **[959fbab](https://github.com/sagemath/sagetrac-mirror/commit/959fbab69cbe7118cc2f5691fcfe5b64f80c966c)** to **[2f580cb](https://github.com/sagemath/sagetrac-mirror/commit/2f580cb6d0a13eb66d84b996113d8880b5748a3c)**",
    "created_at": "2017-09-19T05:46:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24362",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[959fbab](https://github.com/sagemath/sagetrac-mirror/commit/959fbab69cbe7118cc2f5691fcfe5b64f80c966c)** to **[2f580cb](https://github.com/sagemath/sagetrac-mirror/commit/2f580cb6d0a13eb66d84b996113d8880b5748a3c)**



---

archive/issue_events_040174.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-05-15T07:34:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40174"
}
```



---

archive/issue_events_040175.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-05-15T07:34:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40175"
}
```



---

archive/issue_comments_024363.json:
```json
{
    "body": "<a id='comment:49'>Comment 49:</a>\nbranch does not apply, needs rebase",
    "created_at": "2018-05-15T07:34:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24363",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:49'>Comment 49:</a>
branch does not apply, needs rebase



---

archive/issue_comments_024364.json:
```json
{
    "body": "Changed commit from **[2f580cb](https://github.com/sagemath/sagetrac-mirror/commit/2f580cb6d0a13eb66d84b996113d8880b5748a3c)** to **[cc8a94d](https://github.com/sagemath/sagetrac-mirror/commit/cc8a94dce0bec479a459b19f1a40ce9b29a6f136)**",
    "created_at": "2018-05-21T12:16:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24364",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2f580cb](https://github.com/sagemath/sagetrac-mirror/commit/2f580cb6d0a13eb66d84b996113d8880b5748a3c)** to **[cc8a94d](https://github.com/sagemath/sagetrac-mirror/commit/cc8a94dce0bec479a459b19f1a40ce9b29a6f136)**



---

archive/issue_comments_024365.json:
```json
{
    "body": "<a id='comment:50'>Comment 50:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cc8a94dce0bec479a459b19f1a40ce9b29a6f136\">cc8a94d</a></td><td><code>Merge branch 'develop' into ticket/4120-binary_quadratic_forms</code></td></tr></table>\n",
    "created_at": "2018-05-21T12:16:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24365",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:50'>Comment 50:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cc8a94dce0bec479a459b19f1a40ce9b29a6f136">cc8a94d</a></td><td><code>Merge branch 'develop' into ticket/4120-binary_quadratic_forms</code></td></tr></table>




---

archive/issue_events_040176.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2018-05-21T12:17:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40176"
}
```



---

archive/issue_events_040177.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2018-05-21T12:17:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40177"
}
```



---

archive/issue_comments_024366.json:
```json
{
    "body": "Changed branch from **[u/pbruin/4120-binary_quadratic_forms](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/4120-binary_quadratic_forms)** to **[u/sbrandhorst/4120-binary_quadratic_forms](https://github.com/sagemath/sagetrac-mirror/tree/u/sbrandhorst/4120-binary_quadratic_forms)**",
    "created_at": "2018-06-03T17:07:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24366",
    "user": "https://github.com/simonbrandhorst"
}
```

Changed branch from **[u/pbruin/4120-binary_quadratic_forms](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/4120-binary_quadratic_forms)** to **[u/sbrandhorst/4120-binary_quadratic_forms](https://github.com/sagemath/sagetrac-mirror/tree/u/sbrandhorst/4120-binary_quadratic_forms)**



---

archive/issue_comments_024367.json:
```json
{
    "body": "<a id='comment:53'>Comment 53:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e3b838eb154e15c1d45e5a5546d0c049711c5c83\">e3b838e</a></td><td><code>Small docfix</code></td></tr></table>\n",
    "created_at": "2018-06-03T17:12:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24367",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:53'>Comment 53:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e3b838eb154e15c1d45e5a5546d0c049711c5c83">e3b838e</a></td><td><code>Small docfix</code></td></tr></table>




---

archive/issue_comments_024368.json:
```json
{
    "body": "Changed commit from **[cc8a94d](https://github.com/sagemath/sagetrac-mirror/commit/cc8a94dce0bec479a459b19f1a40ce9b29a6f136)** to **[e3b838e](https://github.com/sagemath/sagetrac-mirror/commit/e3b838eb154e15c1d45e5a5546d0c049711c5c83)**",
    "created_at": "2018-06-03T17:12:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24368",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[cc8a94d](https://github.com/sagemath/sagetrac-mirror/commit/cc8a94dce0bec479a459b19f1a40ce9b29a6f136)** to **[e3b838e](https://github.com/sagemath/sagetrac-mirror/commit/e3b838eb154e15c1d45e5a5546d0c049711c5c83)**



---

archive/issue_comments_024369.json:
```json
{
    "body": "<a id='comment:54'>Comment 54:</a>\nSome changes I made:\n- removed `@cached_method` in `polynomial` as we already cache in `_poly`\n- `reduced_form(self, matrix=False, implementation=None):` `matrix` seems missleading to me. \n  changed the keywords to `transformation` and `algorithm` to stay consistent with other \n  parts of sage (for example .`hermite_form`)   \n- used long names for methods like `is_indef` but keep the short alias\n- ``_RhoTau(self, proper=False)``\n  removed the `proper` keyword as it is not used.\n- use a better bound for `a` in BinaryQF_reduced_representatives from the Buchmann/Vollmer book\n- added a keyword proper for is_equivalent as for indefinite forms we only test improper \n  equivalence, we check if the form is in the cycle of the other form but that cycle is improper\n\nQuestion:\n- This requires a deprecation - do we really want to change it? This ticket changes so much   \n  already I would vote against it:\n\n  ```\n  -def BinaryQF_reduced_representatives(D, primitive_only=False):\n  +def BinaryQF_reduced_representatives(D, primitive_only=True):\n  ```",
    "created_at": "2018-06-03T17:21:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24369",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:54'>Comment 54:</a>
Some changes I made:
- removed `@cached_method` in `polynomial` as we already cache in `_poly`
- `reduced_form(self, matrix=False, implementation=None):` `matrix` seems missleading to me. 
  changed the keywords to `transformation` and `algorithm` to stay consistent with other 
  parts of sage (for example .`hermite_form`)   
- used long names for methods like `is_indef` but keep the short alias
- ``_RhoTau(self, proper=False)``
  removed the `proper` keyword as it is not used.
- use a better bound for `a` in BinaryQF_reduced_representatives from the Buchmann/Vollmer book
- added a keyword proper for is_equivalent as for indefinite forms we only test improper 
  equivalence, we check if the form is in the cycle of the other form but that cycle is improper

Question:
- This requires a deprecation - do we really want to change it? This ticket changes so much   
  already I would vote against it:

  ```
  -def BinaryQF_reduced_representatives(D, primitive_only=False):
  +def BinaryQF_reduced_representatives(D, primitive_only=True):
  ```



---

archive/issue_comments_024370.json:
```json
{
    "body": "<a id='comment:55'>Comment 55:</a>\nThe ticket is not perfect but I think it is okay.\nAs the perfect is the enemy of the good - positive review on my part if you are happy with my changes and resolve the issue with the primitive_only keyword.",
    "created_at": "2018-06-03T17:22:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24370",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:55'>Comment 55:</a>
The ticket is not perfect but I think it is okay.
As the perfect is the enemy of the good - positive review on my part if you are happy with my changes and resolve the issue with the primitive_only keyword.



---

archive/issue_comments_024371.json:
```json
{
    "body": "Changed reviewer from **John Cremona, Peter Bruin** to **John Cremona, Peter Bruin, Simon Brandhorst**",
    "created_at": "2018-06-03T17:23:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24371",
    "user": "https://github.com/simonbrandhorst"
}
```

Changed reviewer from **John Cremona, Peter Bruin** to **John Cremona, Peter Bruin, Simon Brandhorst**



---

archive/issue_comments_024372.json:
```json
{
    "body": "<a id='comment:57'>Comment 57:</a>\nNote on my machine tests pass, doc builds and looks reasonable.",
    "created_at": "2018-06-03T17:23:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24372",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:57'>Comment 57:</a>
Note on my machine tests pass, doc builds and looks reasonable.



---

archive/issue_comments_024373.json:
```json
{
    "body": "<a id='comment:58'>Comment 58:</a>\nI agree with the decision not to change the default for the primitive-only parameter.",
    "created_at": "2018-06-04T21:20:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24373",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:58'>Comment 58:</a>
I agree with the decision not to change the default for the primitive-only parameter.



---

archive/issue_comments_024374.json:
```json
{
    "body": "<a id='comment:59'>Comment 59:</a>\nI agree too.",
    "created_at": "2018-06-04T21:20:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24374",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:59'>Comment 59:</a>
I agree too.



---

archive/issue_comments_024375.json:
```json
{
    "body": "<a id='comment:60'>Comment 60:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f7ea8360268f1f60128a612ad791d13568ef2d0\">3f7ea83</a></td><td><code>revert to primitive_only=False</code></td></tr></table>\n",
    "created_at": "2018-06-05T06:53:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24375",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:60'>Comment 60:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f7ea8360268f1f60128a612ad791d13568ef2d0">3f7ea83</a></td><td><code>revert to primitive_only=False</code></td></tr></table>




---

archive/issue_comments_024376.json:
```json
{
    "body": "Changed commit from **[e3b838e](https://github.com/sagemath/sagetrac-mirror/commit/e3b838eb154e15c1d45e5a5546d0c049711c5c83)** to **[3f7ea83](https://github.com/sagemath/sagetrac-mirror/commit/3f7ea8360268f1f60128a612ad791d13568ef2d0)**",
    "created_at": "2018-06-05T06:53:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24376",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e3b838e](https://github.com/sagemath/sagetrac-mirror/commit/e3b838eb154e15c1d45e5a5546d0c049711c5c83)** to **[3f7ea83](https://github.com/sagemath/sagetrac-mirror/commit/3f7ea8360268f1f60128a612ad791d13568ef2d0)**



---

archive/issue_comments_024377.json:
```json
{
    "body": "Changed commit from **[3f7ea83](https://github.com/sagemath/sagetrac-mirror/commit/3f7ea8360268f1f60128a612ad791d13568ef2d0)** to **[0a08de0](https://github.com/sagemath/sagetrac-mirror/commit/0a08de0d6d63b969e536f3f57a0c998872b2cb1f)**",
    "created_at": "2018-06-05T06:54:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24377",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3f7ea83](https://github.com/sagemath/sagetrac-mirror/commit/3f7ea8360268f1f60128a612ad791d13568ef2d0)** to **[0a08de0](https://github.com/sagemath/sagetrac-mirror/commit/0a08de0d6d63b969e536f3f57a0c998872b2cb1f)**



---

archive/issue_comments_024378.json:
```json
{
    "body": "<a id='comment:61'>Comment 61:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a08de0d6d63b969e536f3f57a0c998872b2cb1f\">0a08de0</a></td><td><code>docfix</code></td></tr></table>\n",
    "created_at": "2018-06-05T06:54:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24378",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:61'>Comment 61:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a08de0d6d63b969e536f3f57a0c998872b2cb1f">0a08de0</a></td><td><code>docfix</code></td></tr></table>




---

archive/issue_comments_024379.json:
```json
{
    "body": "<a id='comment:62'>Comment 62:</a>\nThen let us finally get this reviewed :)",
    "created_at": "2018-06-05T06:55:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24379",
    "user": "https://github.com/simonbrandhorst"
}
```

<a id='comment:62'>Comment 62:</a>
Then let us finally get this reviewed :)



---

archive/issue_comments_024380.json:
```json
{
    "body": "<a id='comment:63'>Comment 63:</a>\nFixed a SEEALSO block (causing docbuild to fail) and two pyflakes complaints.  Let's get this ticket in before its 10-year anniversary.",
    "created_at": "2018-06-12T05:43:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24380",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:63'>Comment 63:</a>
Fixed a SEEALSO block (causing docbuild to fail) and two pyflakes complaints.  Let's get this ticket in before its 10-year anniversary.



---

archive/issue_events_040178.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2018-06-12T05:43:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40178"
}
```



---

archive/issue_events_040179.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2018-06-12T05:43:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40179"
}
```



---

archive/issue_comments_024381.json:
```json
{
    "body": "Changed commit from **[0a08de0](https://github.com/sagemath/sagetrac-mirror/commit/0a08de0d6d63b969e536f3f57a0c998872b2cb1f)** to **[748d390](https://github.com/sagemath/sagetrac-mirror/commit/748d3908d0fb0deaa683202f521a006020c3da08)**",
    "created_at": "2018-06-12T05:43:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24381",
    "user": "https://github.com/pjbruin"
}
```

Changed commit from **[0a08de0](https://github.com/sagemath/sagetrac-mirror/commit/0a08de0d6d63b969e536f3f57a0c998872b2cb1f)** to **[748d390](https://github.com/sagemath/sagetrac-mirror/commit/748d3908d0fb0deaa683202f521a006020c3da08)**



---

archive/issue_comments_024382.json:
```json
{
    "body": "Changed branch from **[u/sbrandhorst/4120-binary_quadratic_forms](https://github.com/sagemath/sagetrac-mirror/tree/u/sbrandhorst/4120-binary_quadratic_forms)** to **[u/pbruin/4120-binary_quadratic_forms](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/4120-binary_quadratic_forms)**",
    "created_at": "2018-06-12T05:43:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24382",
    "user": "https://github.com/pjbruin"
}
```

Changed branch from **[u/sbrandhorst/4120-binary_quadratic_forms](https://github.com/sagemath/sagetrac-mirror/tree/u/sbrandhorst/4120-binary_quadratic_forms)** to **[u/pbruin/4120-binary_quadratic_forms](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/4120-binary_quadratic_forms)**



---

archive/issue_events_040180.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-12T20:10:33Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "milestone_number": null,
    "milestone_title": "sage-8.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40180"
}
```



---

archive/issue_events_040181.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-06-12T20:10:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40181"
}
```



---

archive/issue_events_040182.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-06-14T07:41:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40182"
}
```



---

archive/issue_events_040183.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "718a7472898fd38120c09666d846a8be302721ff",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-06-14T07:41:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4120#event-40183"
}
```



---

archive/issue_comments_024383.json:
```json
{
    "body": "Changed branch from **[u/pbruin/4120-binary_quadratic_forms](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/4120-binary_quadratic_forms)** to **[748d390](https://github.com/sagemath/sagetrac-mirror/commit/748d3908d0fb0deaa683202f521a006020c3da08)**",
    "created_at": "2018-06-14T07:41:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24383",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/pbruin/4120-binary_quadratic_forms](https://github.com/sagemath/sagetrac-mirror/tree/u/pbruin/4120-binary_quadratic_forms)** to **[748d390](https://github.com/sagemath/sagetrac-mirror/commit/748d3908d0fb0deaa683202f521a006020c3da08)**



---

archive/issue_comments_024384.json:
```json
{
    "body": "Changed author from **Justin Walker, Jon Hanke, Gonzalo Tornar\u00eda, John Cremona** to **Justin Walker, Jonathan Hanke, Gonzalo Tornar\u00eda, John Cremona**",
    "created_at": "2018-09-06T13:54:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24384",
    "user": "https://github.com/jdemeyer"
}
```

Changed author from **Justin Walker, Jon Hanke, Gonzalo Tornar√≠a, John Cremona** to **Justin Walker, Jonathan Hanke, Gonzalo Tornar√≠a, John Cremona**



---

archive/issue_comments_024385.json:
```json
{
    "body": "Changed commit from **[748d390](https://github.com/sagemath/sagetrac-mirror/commit/748d3908d0fb0deaa683202f521a006020c3da08)** to none",
    "created_at": "2018-09-06T13:54:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4120",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4120#issuecomment-24385",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[748d390](https://github.com/sagemath/sagetrac-mirror/commit/748d3908d0fb0deaa683202f521a006020c3da08)** to none
