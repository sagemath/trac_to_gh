# Issue 4538: write a python script that runs a subprocess and kills it after a while

archive/issues_004538.json:
```json
{
    "assignees": [],
    "body": "Create a script `sage-walltimekill` SAGE_ROOT/local/bin/ that would run\na subprocess, wait a certain amount of time, then killing it.  \n\n```\nsage-walltimekill 3600 sage\n```\nwould kill the process it starts after 3600 wall seconds.\n\nThis will be useful both for doctesting and the notebook.  It's the sort of\nthing ulimit \"should\" do, but doesn't. \n\nAssignee: **@sagetrac-cwitty**\n\nCC:  @garyfurnish\n\n_Issue created by migration from https://trac.sagemath.org/ticket/4538_\n\n",
    "created_at": "2008-11-17T15:13:40Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "write a python script that runs a subprocess and kills it after a while",
    "type": "issue",
    "updated_at": "2022-12-29T01:28:25Z",
    "url": "https://github.com/sagemath/sage/issues/4538",
    "user": "https://github.com/williamstein"
}
```
Create a script `sage-walltimekill` SAGE_ROOT/local/bin/ that would run
a subprocess, wait a certain amount of time, then killing it.  

```
sage-walltimekill 3600 sage
```
would kill the process it starts after 3600 wall seconds.

This will be useful both for doctesting and the notebook.  It's the sort of
thing ulimit "should" do, but doesn't. 

Assignee: **@sagetrac-cwitty**

CC:  @garyfurnish

_Issue created by migration from https://trac.sagemath.org/ticket/4538_





---

archive/issue_events_046191.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-11-17T15:13:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4538",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4538#event-46191"
}
```



---

archive/issue_events_046192.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-11-17T15:13:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4538",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4538#event-46192"
}
```



---

archive/issue_events_046193.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-11-17T15:13:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4538",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4538#event-46193"
}
```



---

archive/issue_events_046194.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-11-17T15:13:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4538",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4538#event-46194"
}
```



---

archive/issue_events_046195.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2008-11-17T15:13:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4538",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4538#event-46195"
}
```



---

archive/issue_comments_027806.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nGary,\n\nthis is very interesting and would help to make -tp more robust.\n\nCheers,\n\nMichael",
    "created_at": "2008-12-05T05:18:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4538#issuecomment-27806",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:2" align="right">Comment 2</div>

Gary,

this is very interesting and would help to make -tp more robust.

Cheers,

Michael



---

archive/issue_comments_027807.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nWith #717 can we close this as invalid?  Or do you want me to encapsulate the #717 code for some other purpose?",
    "created_at": "2008-12-05T07:11:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4538#issuecomment-27807",
    "user": "https://github.com/garyfurnish"
}
```

<div id="comment:3" align="right">Comment 3</div>

With #717 can we close this as invalid?  Or do you want me to encapsulate the #717 code for some other purpose?



---

archive/issue_comments_027808.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nReplying to [@garyfurnish](#comment%3A3):\n> With #717 can we close this as invalid?  Or do you want me to encapsulate the #717 code for some other purpose?  \n\nThis could still come in useful for example for the notebook, so I would leave it open.\n\nWilliam: any thoughts here?\n\nCheers,\n\nMichael",
    "created_at": "2008-12-05T07:21:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4538",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4538#issuecomment-27808",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:4" align="right">Comment 4</div>

Replying to [@garyfurnish](#comment%3A3):
> With #717 can we close this as invalid?  Or do you want me to encapsulate the #717 code for some other purpose?  

This could still come in useful for example for the notebook, so I would leave it open.

William: any thoughts here?

Cheers,

Michael



---

archive/issue_events_046196.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/4538",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4538#event-46196"
}
```



---

archive/issue_events_046197.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4538",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4538#event-46197"
}
```



---

archive/issue_events_046198.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/4538",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4538#event-46198"
}
```



---

archive/issue_events_046199.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4538",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4538#event-46199"
}
```



---

archive/issue_events_046200.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/4538",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4538#event-46200"
}
```



---

archive/issue_events_046201.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4538",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4538#event-46201"
}
```



---

archive/issue_events_046202.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/4538",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4538#event-46202"
}
```



---

archive/issue_events_046203.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4538",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4538#event-46203"
}
```



---

archive/issue_events_046204.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-29T01:28:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/4538",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4538#event-46204"
}
```
