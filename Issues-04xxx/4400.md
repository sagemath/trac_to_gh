# Issue 4400: Sage 3.1.4: magma related doctest failures in sage/interfaces/magma.py

archive/issues_004400.json:
```json
{
    "assignees": [],
    "body": "This is a strange one:\n\n```\nmabshoff@iras:~/build-3.2.a1/sage-3.2.alpha1-iras> ./sage -t -long -optional devel/sage/sage/interfaces/magma.py\nsage -t -long -optional devel/sage/sage/interfaces/magma.py \n**********************************************************************\nFile \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/tmp/magma.py\", line 1390:\n    sage: a.sage()                        # optional\nException raised:\n    Traceback (most recent call last):\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/doctest.py\", line 1228, in __run\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_49[3]>\", line 1, in <module>\n        a.sage()                        # optional###line 1390:\n    sage: a.sage()                        # optional\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/expect.py\", line 1406, in sage\n        return self._sage_()\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 1433, in _sage_\n        z, preparse = self.Sage(nvals = 2)\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 1213, in __call__\n        nvals = nvals)\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 754, in function_call\n        return self._do_call(fun, nvals)\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 798, in _do_call\n        out = self.eval(cmd)\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 383, in eval\n        raise RuntimeError, \"Error evaluating Magma code.\\nIN:%s\\nOUT:%s\"%(x, ans)\n    RuntimeError: Error evaluating Magma code.\n    IN:\n[15], _sage_[22] := Sage(_sage_[3]);\n    OUT:\n    >> _sage_[15], _sage_[22] := Sage(_sage_[3]);\n                              ^\n    Runtime error in :=: Expected to assign 2 value(s) but only computed 1 value(s)\n**********************************************************************\nFile \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/tmp/magma.py\", line 1392:\n    sage: a._sage_()                      # optional\nException raised:\n    Traceback (most recent call last):\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/doctest.py\", line 1228, in __run\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_49[4]>\", line 1, in <module>\n        a._sage_()                      # optional###line 1392:\n    sage: a._sage_()                      # optional\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 1433, in _sage_\n        z, preparse = self.Sage(nvals = 2)\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 1213, in __call__\n        nvals = nvals)\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 754, in function_call\n        return self._do_call(fun, nvals)\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 798, in _do_call\n        out = self.eval(cmd)\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 383, in eval\n        raise RuntimeError, \"Error evaluating Magma code.\\nIN:%s\\nOUT:%s\"%(x, ans)\n    RuntimeError: Error evaluating Magma code.\n    IN:\n[19], _sage_[28] := Sage(_sage_[8]);\n    OUT:\n    >> _sage_[19], _sage_[28] := Sage(_sage_[8]);\n                              ^\n    Runtime error in :=: Expected to assign 2 value(s) but only computed 1 value(s)\n**********************************************************************\nFile \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/tmp/magma.py\", line 1394:\n    sage: type(a.sage())                  # optional\nException raised:\n    Traceback (most recent call last):\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/doctest.py\", line 1228, in __run\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_49[5]>\", line 1, in <module>\n        type(a.sage())                  # optional###line 1394:\n    sage: type(a.sage())                  # optional\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/expect.py\", line 1406, in sage\n        return self._sage_()\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 1433, in _sage_\n        z, preparse = self.Sage(nvals = 2)\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 1213, in __call__\n        nvals = nvals)\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 754, in function_call\n        return self._do_call(fun, nvals)\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 798, in _do_call\n        out = self.eval(cmd)\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 383, in eval\n        raise RuntimeError, \"Error evaluating Magma code.\\nIN:%s\\nOUT:%s\"%(x, ans)\n    RuntimeError: Error evaluating Magma code.\n    IN:\n[29], _sage_[30] := Sage(_sage_[3]);\n    OUT:\n    >> _sage_[29], _sage_[30] := Sage(_sage_[3]);\n                              ^\n    Runtime error in :=: Expected to assign 2 value(s) but only computed 1 value(s)\n**********************************************************************\nFile \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/tmp/magma.py\", line 1400:\n    sage: b = a.sage(); b             # optional\nException raised:\n    Traceback (most recent call last):\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/doctest.py\", line 1228, in __run\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_49[8]>\", line 1, in <module>\n        b = a.sage(); b             # optional###line 1400:\n    sage: b = a.sage(); b             # optional\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/expect.py\", line 1406, in sage\n        return self._sage_()\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 1433, in _sage_\n        z, preparse = self.Sage(nvals = 2)\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 1213, in __call__\n        nvals = nvals)\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 754, in function_call\n        return self._do_call(fun, nvals)\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 798, in _do_call\n        out = self.eval(cmd)\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 383, in eval\n        raise RuntimeError, \"Error evaluating Magma code.\\nIN:%s\\nOUT:%s\"%(x, ans)\n    RuntimeError: Error evaluating Magma code.\n    IN:\n[32], _sage_[33] := Sage(_sage_[26]);\n    OUT:\n    >> _sage_[32], _sage_[33] := Sage(_sage_[26]);\n                              ^\n    Runtime error in :=: Expected to assign 2 value(s) but only computed 1 value(s)\n**********************************************************************\nFile \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/tmp/magma.py\", line 1402:\n    sage: type(b)                         # optional\nException raised:\n    Traceback (most recent call last):\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/doctest.py\", line 1228, in __run\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_49[9]>\", line 1, in <module>\n        type(b)                         # optional###line 1402:\n    sage: type(b)                         # optional\n    NameError: name 'b' is not defined\n**********************************************************************\nFile \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/tmp/magma.py\", line 1404:\n    sage: c = magma(b); c                 # optional\nException raised:\n    Traceback (most recent call last):\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/doctest.py\", line 1228, in __run\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_49[10]>\", line 1, in <module>\n        c = magma(b); c                 # optional###line 1404:\n    sage: c = magma(b); c                 # optional\n    NameError: name 'b' is not defined\n**********************************************************************\nFile \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/tmp/magma.py\", line 1406:\n    sage: c.Type()                        # optional\nException raised:\n    Traceback (most recent call last):\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/doctest.py\", line 1228, in __run\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_49[11]>\", line 1, in <module>\n        c.Type()                        # optional###line 1406:\n    sage: c.Type()                        # optional\n    NameError: name 'c' is not defined\n**********************************************************************\nFile \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/tmp/magma.py\", line 1411:\n    sage: z = m.sage(); z                      # optional\nException raised:\n    Traceback (most recent call last):\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/doctest.py\", line 1228, in __run\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_49[13]>\", line 1, in <module>\n        z = m.sage(); z                      # optional###line 1411:\n    sage: z = m.sage(); z                      # optional\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/expect.py\", line 1406, in sage\n        return self._sage_()\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 1433, in _sage_\n        z, preparse = self.Sage(nvals = 2)\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 1213, in __call__\n        nvals = nvals)\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 754, in function_call\n        return self._do_call(fun, nvals)\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 798, in _do_call\n        out = self.eval(cmd)\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 383, in eval\n        raise RuntimeError, \"Error evaluating Magma code.\\nIN:%s\\nOUT:%s\"%(x, ans)\n    RuntimeError: Error evaluating Magma code.\n    IN:\n[26], _sage_[34] := Sage(_sage_[4]);\n    OUT:\n    >> _sage_[26], _sage_[34] := Sage(_sage_[4]);\n                              ^\n    Runtime error in :=: Expected to assign 2 value(s) but only computed 1 value(s)\n**********************************************************************\nFile \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/tmp/magma.py\", line 1413:\n    sage: type(z)                              # optional\nException raised:\n    Traceback (most recent call last):\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/doctest.py\", line 1228, in __run\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_49[14]>\", line 1, in <module>\n        type(z)                              # optional###line 1413:\n    sage: type(z)                              # optional\n    NameError: name 'z' is not defined\n**********************************************************************\nFile \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/tmp/magma.py\", line 1419:\n    sage: b = m.sage(); b                     # optional\nException raised:\n    Traceback (most recent call last):\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/doctest.py\", line 1228, in __run\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_49[17]>\", line 1, in <module>\n        b = m.sage(); b                     # optional###line 1419:\n    sage: b = m.sage(); b                     # optional\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/expect.py\", line 1406, in sage\n        return self._sage_()\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 1433, in _sage_\n        z, preparse = self.Sage(nvals = 2)\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 1213, in __call__\n        nvals = nvals)\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 754, in function_call\n        return self._do_call(fun, nvals)\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 798, in _do_call\n        out = self.eval(cmd)\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 383, in eval\n        raise RuntimeError, \"Error evaluating Magma code.\\nIN:%s\\nOUT:%s\"%(x, ans)\n    RuntimeError: Error evaluating Magma code.\n    IN:\n[3], _sage_[35] := Sage(_sage_[4]);\n    OUT:\n    >> _sage_[3], _sage_[35] := Sage(_sage_[4]);\n                             ^\n    Runtime error in :=: Expected to assign 2 value(s) but only computed 1 value(s)\n**********************************************************************\nFile \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/tmp/magma.py\", line 1423:\n    sage: b == a                             # optional\nException raised:\n    Traceback (most recent call last):\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/doctest.py\", line 1228, in __run\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_49[18]>\", line 1, in <module>\n        b == a                             # optional###line 1423:\n    sage: b == a                             # optional\n    NameError: name 'b' is not defined\n**********************************************************************\nFile \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/tmp/magma.py\", line 1429:\n    sage: m.sage()                           # optional\nException raised:\n    Traceback (most recent call last):\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/doctest.py\", line 1228, in __run\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_49[21]>\", line 1, in <module>\n        m.sage()                           # optional###line 1429:\n    sage: m.sage()                           # optional\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/expect.py\", line 1406, in sage\n        return self._sage_()\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 1433, in _sage_\n        z, preparse = self.Sage(nvals = 2)\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 1213, in __call__\n        nvals = nvals)\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 754, in function_call\n        return self._do_call(fun, nvals)\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 798, in _do_call\n        out = self.eval(cmd)\n      File \"/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py\", line 383, in eval\n        raise RuntimeError, \"Error evaluating Magma code.\\nIN:%s\\nOUT:%s\"%(x, ans)\n    RuntimeError: Error evaluating Magma code.\n    IN:\n[8], _sage_[37] := Sage(_sage_[4]);\n    OUT:\n    >> _sage_[8], _sage_[37] := Sage(_sage_[4]);\n                             ^\n    Runtime error in :=: Expected to assign 2 value(s) but only computed 1 value(s)\n**********************************************************************\n1 items had failures:\n  12 of  22 in __main__.example_49\n***Test Failed*** 12 failures.\nFor whitespace errors, see the file /home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/tmp/.doctest_magma.py\n [52.9 s]\nexit code: 1024\n \n----------------------------------------------------------------------\nThe following tests failed:\n\n\nsage -t -long -optional devel/sage/sage/interfaces/magma.py\nTotal time for all tests: 52.9 seconds\n}\n\nAssignee: **@williamstein**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/4400_\n\n",
    "closed_at": "2008-10-30T23:46:47Z",
    "created_at": "2008-10-30T17:29:35Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/doctest%20coverage",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Sage 3.1.4: magma related doctest failures in sage/interfaces/magma.py",
    "type": "issue",
    "updated_at": "2015-09-06T15:03:19Z",
    "url": "https://github.com/sagemath/sage/issues/4400",
    "user": "https://github.com/sagetrac-mabshoff"
}
```
This is a strange one:

```
mabshoff@iras:~/build-3.2.a1/sage-3.2.alpha1-iras> ./sage -t -long -optional devel/sage/sage/interfaces/magma.py
sage -t -long -optional devel/sage/sage/interfaces/magma.py 
**********************************************************************
File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/tmp/magma.py", line 1390:
    sage: a.sage()                        # optional
Exception raised:
    Traceback (most recent call last):
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/doctest.py", line 1228, in __run
        compileflags, 1) in test.globs
      File "<doctest __main__.example_49[3]>", line 1, in <module>
        a.sage()                        # optional###line 1390:
    sage: a.sage()                        # optional
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/expect.py", line 1406, in sage
        return self._sage_()
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 1433, in _sage_
        z, preparse = self.Sage(nvals = 2)
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 1213, in __call__
        nvals = nvals)
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 754, in function_call
        return self._do_call(fun, nvals)
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 798, in _do_call
        out = self.eval(cmd)
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 383, in eval
        raise RuntimeError, "Error evaluating Magma code.\nIN:%s\nOUT:%s"%(x, ans)
    RuntimeError: Error evaluating Magma code.
    IN:
[15], _sage_[22] := Sage(_sage_[3]);
    OUT:
    >> _sage_[15], _sage_[22] := Sage(_sage_[3]);
                              ^
    Runtime error in :=: Expected to assign 2 value(s) but only computed 1 value(s)
**********************************************************************
File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/tmp/magma.py", line 1392:
    sage: a._sage_()                      # optional
Exception raised:
    Traceback (most recent call last):
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/doctest.py", line 1228, in __run
        compileflags, 1) in test.globs
      File "<doctest __main__.example_49[4]>", line 1, in <module>
        a._sage_()                      # optional###line 1392:
    sage: a._sage_()                      # optional
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 1433, in _sage_
        z, preparse = self.Sage(nvals = 2)
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 1213, in __call__
        nvals = nvals)
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 754, in function_call
        return self._do_call(fun, nvals)
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 798, in _do_call
        out = self.eval(cmd)
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 383, in eval
        raise RuntimeError, "Error evaluating Magma code.\nIN:%s\nOUT:%s"%(x, ans)
    RuntimeError: Error evaluating Magma code.
    IN:
[19], _sage_[28] := Sage(_sage_[8]);
    OUT:
    >> _sage_[19], _sage_[28] := Sage(_sage_[8]);
                              ^
    Runtime error in :=: Expected to assign 2 value(s) but only computed 1 value(s)
**********************************************************************
File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/tmp/magma.py", line 1394:
    sage: type(a.sage())                  # optional
Exception raised:
    Traceback (most recent call last):
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/doctest.py", line 1228, in __run
        compileflags, 1) in test.globs
      File "<doctest __main__.example_49[5]>", line 1, in <module>
        type(a.sage())                  # optional###line 1394:
    sage: type(a.sage())                  # optional
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/expect.py", line 1406, in sage
        return self._sage_()
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 1433, in _sage_
        z, preparse = self.Sage(nvals = 2)
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 1213, in __call__
        nvals = nvals)
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 754, in function_call
        return self._do_call(fun, nvals)
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 798, in _do_call
        out = self.eval(cmd)
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 383, in eval
        raise RuntimeError, "Error evaluating Magma code.\nIN:%s\nOUT:%s"%(x, ans)
    RuntimeError: Error evaluating Magma code.
    IN:
[29], _sage_[30] := Sage(_sage_[3]);
    OUT:
    >> _sage_[29], _sage_[30] := Sage(_sage_[3]);
                              ^
    Runtime error in :=: Expected to assign 2 value(s) but only computed 1 value(s)
**********************************************************************
File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/tmp/magma.py", line 1400:
    sage: b = a.sage(); b             # optional
Exception raised:
    Traceback (most recent call last):
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/doctest.py", line 1228, in __run
        compileflags, 1) in test.globs
      File "<doctest __main__.example_49[8]>", line 1, in <module>
        b = a.sage(); b             # optional###line 1400:
    sage: b = a.sage(); b             # optional
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/expect.py", line 1406, in sage
        return self._sage_()
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 1433, in _sage_
        z, preparse = self.Sage(nvals = 2)
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 1213, in __call__
        nvals = nvals)
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 754, in function_call
        return self._do_call(fun, nvals)
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 798, in _do_call
        out = self.eval(cmd)
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 383, in eval
        raise RuntimeError, "Error evaluating Magma code.\nIN:%s\nOUT:%s"%(x, ans)
    RuntimeError: Error evaluating Magma code.
    IN:
[32], _sage_[33] := Sage(_sage_[26]);
    OUT:
    >> _sage_[32], _sage_[33] := Sage(_sage_[26]);
                              ^
    Runtime error in :=: Expected to assign 2 value(s) but only computed 1 value(s)
**********************************************************************
File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/tmp/magma.py", line 1402:
    sage: type(b)                         # optional
Exception raised:
    Traceback (most recent call last):
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/doctest.py", line 1228, in __run
        compileflags, 1) in test.globs
      File "<doctest __main__.example_49[9]>", line 1, in <module>
        type(b)                         # optional###line 1402:
    sage: type(b)                         # optional
    NameError: name 'b' is not defined
**********************************************************************
File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/tmp/magma.py", line 1404:
    sage: c = magma(b); c                 # optional
Exception raised:
    Traceback (most recent call last):
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/doctest.py", line 1228, in __run
        compileflags, 1) in test.globs
      File "<doctest __main__.example_49[10]>", line 1, in <module>
        c = magma(b); c                 # optional###line 1404:
    sage: c = magma(b); c                 # optional
    NameError: name 'b' is not defined
**********************************************************************
File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/tmp/magma.py", line 1406:
    sage: c.Type()                        # optional
Exception raised:
    Traceback (most recent call last):
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/doctest.py", line 1228, in __run
        compileflags, 1) in test.globs
      File "<doctest __main__.example_49[11]>", line 1, in <module>
        c.Type()                        # optional###line 1406:
    sage: c.Type()                        # optional
    NameError: name 'c' is not defined
**********************************************************************
File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/tmp/magma.py", line 1411:
    sage: z = m.sage(); z                      # optional
Exception raised:
    Traceback (most recent call last):
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/doctest.py", line 1228, in __run
        compileflags, 1) in test.globs
      File "<doctest __main__.example_49[13]>", line 1, in <module>
        z = m.sage(); z                      # optional###line 1411:
    sage: z = m.sage(); z                      # optional
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/expect.py", line 1406, in sage
        return self._sage_()
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 1433, in _sage_
        z, preparse = self.Sage(nvals = 2)
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 1213, in __call__
        nvals = nvals)
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 754, in function_call
        return self._do_call(fun, nvals)
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 798, in _do_call
        out = self.eval(cmd)
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 383, in eval
        raise RuntimeError, "Error evaluating Magma code.\nIN:%s\nOUT:%s"%(x, ans)
    RuntimeError: Error evaluating Magma code.
    IN:
[26], _sage_[34] := Sage(_sage_[4]);
    OUT:
    >> _sage_[26], _sage_[34] := Sage(_sage_[4]);
                              ^
    Runtime error in :=: Expected to assign 2 value(s) but only computed 1 value(s)
**********************************************************************
File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/tmp/magma.py", line 1413:
    sage: type(z)                              # optional
Exception raised:
    Traceback (most recent call last):
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/doctest.py", line 1228, in __run
        compileflags, 1) in test.globs
      File "<doctest __main__.example_49[14]>", line 1, in <module>
        type(z)                              # optional###line 1413:
    sage: type(z)                              # optional
    NameError: name 'z' is not defined
**********************************************************************
File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/tmp/magma.py", line 1419:
    sage: b = m.sage(); b                     # optional
Exception raised:
    Traceback (most recent call last):
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/doctest.py", line 1228, in __run
        compileflags, 1) in test.globs
      File "<doctest __main__.example_49[17]>", line 1, in <module>
        b = m.sage(); b                     # optional###line 1419:
    sage: b = m.sage(); b                     # optional
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/expect.py", line 1406, in sage
        return self._sage_()
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 1433, in _sage_
        z, preparse = self.Sage(nvals = 2)
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 1213, in __call__
        nvals = nvals)
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 754, in function_call
        return self._do_call(fun, nvals)
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 798, in _do_call
        out = self.eval(cmd)
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 383, in eval
        raise RuntimeError, "Error evaluating Magma code.\nIN:%s\nOUT:%s"%(x, ans)
    RuntimeError: Error evaluating Magma code.
    IN:
[3], _sage_[35] := Sage(_sage_[4]);
    OUT:
    >> _sage_[3], _sage_[35] := Sage(_sage_[4]);
                             ^
    Runtime error in :=: Expected to assign 2 value(s) but only computed 1 value(s)
**********************************************************************
File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/tmp/magma.py", line 1423:
    sage: b == a                             # optional
Exception raised:
    Traceback (most recent call last):
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/doctest.py", line 1228, in __run
        compileflags, 1) in test.globs
      File "<doctest __main__.example_49[18]>", line 1, in <module>
        b == a                             # optional###line 1423:
    sage: b == a                             # optional
    NameError: name 'b' is not defined
**********************************************************************
File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/tmp/magma.py", line 1429:
    sage: m.sage()                           # optional
Exception raised:
    Traceback (most recent call last):
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/doctest.py", line 1228, in __run
        compileflags, 1) in test.globs
      File "<doctest __main__.example_49[21]>", line 1, in <module>
        m.sage()                           # optional###line 1429:
    sage: m.sage()                           # optional
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/expect.py", line 1406, in sage
        return self._sage_()
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 1433, in _sage_
        z, preparse = self.Sage(nvals = 2)
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 1213, in __call__
        nvals = nvals)
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 754, in function_call
        return self._do_call(fun, nvals)
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 798, in _do_call
        out = self.eval(cmd)
      File "/home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/local/lib/python2.5/site-packages/sage/interfaces/magma.py", line 383, in eval
        raise RuntimeError, "Error evaluating Magma code.\nIN:%s\nOUT:%s"%(x, ans)
    RuntimeError: Error evaluating Magma code.
    IN:
[8], _sage_[37] := Sage(_sage_[4]);
    OUT:
    >> _sage_[8], _sage_[37] := Sage(_sage_[4]);
                             ^
    Runtime error in :=: Expected to assign 2 value(s) but only computed 1 value(s)
**********************************************************************
1 items had failures:
  12 of  22 in __main__.example_49
***Test Failed*** 12 failures.
For whitespace errors, see the file /home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/tmp/.doctest_magma.py
 [52.9 s]
exit code: 1024
 
----------------------------------------------------------------------
The following tests failed:


sage -t -long -optional devel/sage/sage/interfaces/magma.py
Total time for all tests: 52.9 seconds
}

Assignee: **@williamstein**

_Issue created by migration from https://trac.sagemath.org/ticket/4400_





---

archive/issue_events_044374.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-10-30T17:29:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/4400",
    "milestone_number": null,
    "milestone_title": "sage-3.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4400#event-44374"
}
```



---

archive/issue_events_044375.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-10-30T17:29:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4400",
    "label": "https://github.com/sagemath/sage/labels/doctest%20coverage",
    "label_color": "696969",
    "label_name": "doctest coverage",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4400#event-44375"
}
```



---

archive/issue_events_044376.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-10-30T17:29:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4400",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4400#event-44376"
}
```



---

archive/issue_events_044377.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-10-30T17:29:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4400",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4400#event-44377"
}
```



---

archive/issue_comments_026522.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nAccidentally two extcode patches were not merged in 3.2.alpha1, so this cause the above failures. Applying them fixes the problem. Invalid. \n\nCheers,\n\nMichael",
    "created_at": "2008-10-30T23:46:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4400#issuecomment-26522",
    "user": "https://github.com/sagetrac-mabshoff"
}
```

<div id="comment:1" align="right">Comment 1</div>

Accidentally two extcode patches were not merged in 3.2.alpha1, so this cause the above failures. Applying them fixes the problem. Invalid. 

Cheers,

Michael



---

archive/issue_events_044378.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-10-30T23:46:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/4400",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4400#event-44378"
}
```



---

archive/issue_events_044379.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-10-30T23:46:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/4400",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4400#event-44379"
}
```



---

archive/issue_events_044380.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-10-30T23:46:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/4400",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4400#event-44380"
}
```



---

archive/issue_events_044381.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2008-10-30T23:46:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/4400",
    "milestone_number": null,
    "milestone_title": "sage-3.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/4400#event-44381"
}
```



---

archive/issue_comments_026523.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -264,13 +264,13 @@\n   12 of  22 in __main__.example_49\n ***Test Failed*** 12 failures.\n For whitespace errors, see the file /home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/tmp/.doctest_magma.py\n-\t [52.9 s]\n+ [52.9 s]\n exit code: 1024\n  \n ----------------------------------------------------------------------\n The following tests failed:\n \n \n-\tsage -t -long -optional devel/sage/sage/interfaces/magma.py\n+sage -t -long -optional devel/sage/sage/interfaces/magma.py\n Total time for all tests: 52.9 seconds\n }\n``````\n",
    "created_at": "2015-09-06T15:03:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/4400",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/4400#issuecomment-26523",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -264,13 +264,13 @@
   12 of  22 in __main__.example_49
 ***Test Failed*** 12 failures.
 For whitespace errors, see the file /home/mabshoff/build-3.2.a1/sage-3.2.alpha1-iras/tmp/.doctest_magma.py
-	 [52.9 s]
+ [52.9 s]
 exit code: 1024
  
 ----------------------------------------------------------------------
 The following tests failed:
 
 
-	sage -t -long -optional devel/sage/sage/interfaces/magma.py
+sage -t -long -optional devel/sage/sage/interfaces/magma.py
 Total time for all tests: 52.9 seconds
 }
``````

